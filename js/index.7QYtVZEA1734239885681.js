var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.JbS0f2t91734239885681.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.iOmDxXkZ1734239885681.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.FPA28JdA1734239885681.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,e as x,_ as v,a9 as m,as as h}from"./three.NPKhDGTA1734239885681.js";import{m as w,e as g}from"./@tresjs.qWeugQU61734239885681.js";import{u as d}from"./index.uMqUHken1734239885681.js";import{F as y,C as S}from"./three-stdlib.VocBnxjF1734239885681.js";import{d as _}from"./@vue.-THQH3GC1734239885681.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.hS-l0FA01734239885681.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.ISPpl1lA1734239885681.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.m0W9w4uZ1734239885681.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.v57vLuXM1734239885681.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.LijpYKjU1734239885681.js";!function(t,e){const n=I,i=b();for(;;)try{if(825578===parseInt(n(231))/1+-parseInt(n(214))/2*(-parseInt(n(229))/3)+-parseInt(n(204))/4*(parseInt(n(205))/5)+-parseInt(n(211))/6*(parseInt(n(221))/7)+parseInt(n(228))/8+-parseInt(n(206))/9+-parseInt(n(217))/10*(-parseInt(n(219))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const P=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(218)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){P(this,(function(){const t=I,e=new RegExp(t(227)),n=new RegExp(t(203),"i"),i=E("init");e[t(224)](i+t(233))&&n[t(224)](i+t(201))?E():i("0")}))()}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(218)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function b(){const t=["function *\\( *\\)","1049816DtoDSU","1950ImMSLn","trace","58197iGAuft","info","chain","toString","log","debu","input","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","40XzkQkH","653945oQbFwG","13606956nnrHUU","exception",'{}.constructor("return this")( )',"bind","table","8562qPCvMr","length","constructor","4610WOXPjQ","prototype","error","21217830jCyNIN","apply","11KjjDSN","__proto__","805PoYQeI","call","console","test","action","gger"];return(b=function(){return t})()}function I(t,e){const n=b();return(I=function(t,e){return n[t-=199]})(t,e)}z(void 0,(function(){const t=I,e=function(){const t=I;let e;try{e=Function("return (function() "+t(208)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(223)]||{},i=[t(199),"warn",t(232),t(216),t(207),t(210),t(230)];for(let r=0;r<i.length;r++){const e=z.constructor[t(215)].bind(z),a=i[r],o=n[a]||e;e[t(220)]=z[t(209)](z),e[t(234)]=o[t(234)][t(209)](o),n[a]=e}}))();function E(t){function e(t){const n=I;if("string"==typeof t)return function(t){}[n(213)]("while (true) {}")[n(218)]("counter");1!==(""+t/t)[n(212)]||t%20==0?function(){return!0}[n(213)]("debu"+n(226))[n(222)](n(225)):function(){return!1}.constructor(n(200)+"gger")[n(218)](n(202)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const M=A;function A(t,e){const n=V();return(A=function(t,e){return n[t-=324]})(t,e)}!function(t,e){const n=A,i=V();for(;;)try{if(759791===-parseInt(n(366))/1*(-parseInt(n(355))/2)+parseInt(n(363))/3+parseInt(n(351))/4*(parseInt(n(362))/5)+-parseInt(n(331))/6+parseInt(n(338))/7*(-parseInt(n(332))/8)+-parseInt(n(358))/9*(-parseInt(n(333))/10)+-parseInt(n(330))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[A(347)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){D(this,(function(){const t=A,e=new RegExp(t(346)),n=new RegExp(t(340),"i"),i=O(t(344));e.test(i+t(336))&&n[t(326)](i+t(324))?O():i("0")}))()}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[A(347)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(t){const e=A,n=a({},t);return e(357)in t&&(n.defines=a({},t[e(357)])),e(349)in t&&(n[e(349)]=s[e(337)](t[e(349)])),n}L(void 0,(function(){const t=A,e=function(){const t=A;let e;try{e=Function(t(328)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e.console=e[t(356)]||{},i=[t(359),t(329),"info",t(325),t(343),"table",t(339)];for(let r=0;r<i.length;r++){const e=L[t(327)].prototype[t(361)](L),a=i[r],o=n[a]||e;e[t(345)]=L[t(361)](L),e[t(334)]=o.toString[t(361)](o),n[a]=e}}))();const U={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:M(348),fragmentShader:M(354)+'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t'};function V(){const t=["log","counter","bind","65zGcIZk","4120764gIyROX","while (true) {}","debu","85569rBVVnP","input","error","test","constructor","return (function() ","warn","8220223bpXiVh","7299594ndjDpK","3617272IlPKhm","40lyigsr","toString","stateObject","chain","clone","7xuvdlw","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","length","exception","init","__proto__","function *\\( *\\)","apply","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","uniforms","gger","82244YDPsmS","call","action","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","10vvjPSj","console","defines","2491011RgBvMo"];return(V=function(){return t})()}function O(t){function e(t){const n=A;if(typeof t===n(341))return function(t){}[n(327)](n(364))[n(347)](n(360));1!==(""+t/t)[n(342)]||t%20==0?function(){return!0}[n(327)]("debu"+n(350))[n(352)](n(353)):function(){return!1}[n(327)](n(365)+n(350))[n(347)](n(335)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const T=k;function k(t,e){const n=W();return(k=function(t,e){return n[t-=310]})(t,e)}!function(t,e){const n=k,i=W();for(;;)try{if(849744===parseInt(n(357))/1*(parseInt(n(381))/2)+parseInt(n(373))/3*(-parseInt(n(369))/4)+-parseInt(n(327))/5*(parseInt(n(350))/6)+-parseInt(n(325))/7+-parseInt(n(322))/8+parseInt(n(314))/9+parseInt(n(364))/10*(parseInt(n(354))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(367)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=k,e=new RegExp(t(351)),n=new RegExp(t(321),"i"),i=Q(t(368));e.test(i+t(329))&&n[t(349)](i+t(382))?Q():i("0")}))()}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(367)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();C(void 0,(function(){const t=k;let e;try{e=Function(t(316)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e[t(331)]||{},i=["log",t(328),t(347),"error","exception",t(337),t(366)];for(let a=0;a<i[t(346)];a++){const e=C[t(323)][t(336)][t(343)](C),r=i[a],o=n[r]||e;e[t(330)]=C.bind(C),e[t(341)]=o[t(341)][t(343)](o),n[r]=e}}))();const N=new l;function W(){const t=["constructor","render","6354005zCLYqf","getClearAlpha","5007610IJsCwN","warn","chain","__proto__","console","_swapTarget","counter","debu","parentLevel","prototype","table","clear","defines","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","toString","floor","bind","setViewOffset","texture","length","info","uniforms","test","6sqaxPd","function *\\( *\\)","type","width","2519PJKFMz","stateObject","floorPowerOfTwo","32057kdtuND","image","setRenderTarget","minFilter","height","Y_IS_EVEN","setSize","87130kJYWPP","forEach","trace","apply","init","4201592LMLNRg","material","setClearColor","gger","3SpwnCm","_mipQuad","fragmentShader","_mipMaterials","getRenderTarget","copy","getClearColor","set","78cvYGrV","input","tDiffuse","originalMapSize","dispose","map","autoClear","camera","magFilter","setClearAlpha","7096374nnSewW","X_IS_EVEN","return (function() ","value","_copyQuad","update","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1796856stJOrL"];return(W=function(){return t})()}class H{constructor(t){const e=k;!t&&(t=e(340));const n=j(U);n[e(375)]=n.fragmentShader.replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(j(n)),i[0][e(339)][e(315)]=0,i[0][e(339)][e(362)]=0,i[1]=new c(j(n)),i[1].defines.X_IS_EVEN=1,i[1][e(339)][e(362)]=0,i[2]=new c(j(n)),i[2][e(339)].X_IS_EVEN=0,i[2][e(339)].Y_IS_EVEN=1,i[3]=new c(j(n)),i[3][e(339)][e(315)]=1,i[3][e(339)][e(362)]=1;const r=new u;r[e(345)][e(360)]=p,r.texture[e(312)]=p,this[e(332)]=r,this[e(318)]=new y(new c(S)),this[e(374)]=new y(null),this[e(376)]=i}[T(319)](t,e,n,i=!1){const r=T;t.isWebGLRenderTarget&&(t=t.texture);const o=n[r(310)],s=n[r(326)](),l=n[r(377)]();n[r(379)](N);const c=this[r(318)],u=this[r(374)],p=this._swapTarget,x=this[r(376)];let v,m;i?(v=f[r(356)](t[r(358)][r(353)]),m=f[r(356)](t[r(358)].height)):(v=Math.floor(t[r(358)][r(353)]),m=Math[r(342)](t[r(358)][r(361)]));const h=Math[r(342)](1.5*v),w=Math[r(342)](m);e[r(363)](h,w),p.texture[r(352)]!==e.texture[r(352)]?(p[r(385)](),p[r(378)](e),p[r(345)][r(358)]=a({},p[r(345)].image)):p[r(363)](h,w),n[r(310)]=!1,n[r(371)](0),n[r(313)](),c[r(370)][r(348)][r(383)][r(317)]=t,c[r(311)][r(344)](v,m,0,0,h,w),n.setRenderTarget(e),n[r(338)](),c[r(324)](n),n[r(359)](p),n[r(338)](),c[r(324)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(348)][r(386)].value=p.texture,t.uniforms[r(335)][r(317)]=y,t.uniforms.parentMapSize[r(317)].set(g,d),t[r(348)][r(384)].value[r(380)](v,m),u.material=t,g=Math[r(342)](g/2),d=Math.floor(d/2);const i=w-2*d;n[r(359)](e),u[r(311)][r(344)](g,d,-v,-i,h,w),u.render(n),n[r(359)](p),t[r(348)][r(386)].value=e[r(345)],u[r(324)](n),y++}return n[r(359)](l),n.setClearAlpha(s),n[r(371)](N),n[r(310)]=o,y+1}[T(385)](){const t=T;this[t(332)][t(385)](),this._mipQuad[t(385)](),this._copyQuad[t(385)](),this[t(376)][t(365)]((e=>e[t(385)]()))}}function Q(t){function e(t){const n=k;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[n(367)](n(333));1!==(""+t/t).length||t%20==0?function(){return!0}[n(323)]("debu"+n(372))[n(320)]("action"):function(){return!1}[n(323)](n(334)+n(372))[n(367)](n(355)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){const n=Z,i=Y();for(;;)try{if(200239===parseInt(n(299))/1+parseInt(n(329))/2+parseInt(n(281))/3+-parseInt(n(322))/4*(parseInt(n(290))/5)+-parseInt(n(306))/6*(-parseInt(n(296))/7)+-parseInt(n(279))/8*(parseInt(n(283))/9)+parseInt(n(276))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(262)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){F(this,(function(){const t=Z,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(292),"i"),i=$(t(325));e[t(266)](i+t(263))&&n[t(266)](i+t(273))?$():i("0")}))()}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Z(t,e){const n=Y();return(Z=function(t,e){return n[t-=257]})(t,e)}function Y(){const t=["115ogVmfJ","state","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","sub","matrixWorldInverse","441oFwTzT","warn","constant","247yyefhX","bind","parent","depth","sign","__proto__","constructor","9780BRnzzh","UnsignedByteType","stateObject","string","log","dot","projectionMatrix","setRenderTarget","Vector4","copy","negate","length","set","Vector3","action","call","35124CyBrvS","visible","lookAt","init","clear","applyMatrix4","value","358560HnOErh","add","clone","reflect","update","ignoreObjects","prototype","counter","console","apply","chain","getWorldQuaternion","texture","test","gger","info","debu","multiply","matrixWorld","updateMatrixWorld","input","Quaternion","buffers","1861240ztaJjl","elements","applyQuaternion","35896LIsyxf","position","326562DbWJho","resolution","351cpEZmM","getWorldPosition","Matrix4","forEach","toString","table","normal"];return(Y=function(){return t})()}X(void 0,(function(){const t=Z;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e[t(261)]||{},i=[t(310),t(297),t(268),"error",t(293),t(288),"trace"];for(let a=0;a<i[t(317)];a++){const e=X[t(305)][t(259)][t(300)](X),r=i[a],o=n[r]||e;e[t(304)]=X[t(300)](X),e[t(287)]=o.toString.bind(o),n[r]=e}}))();const G=_({__name:"reflectorMipMap",props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Z,i=t,r=new x,a=new(v[n(285)]),o=new m,s=new H,l=d({width:i.resolution,height:i[n(282)],settings:{type:v[n(307)]}}),c=d({width:i[n(282)],height:i[n(282)],settings:{type:v[n(307)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!u[t(328)])return;r.set(new(v[t(319)])(0,1,0),0),r[t(327)](i[t(301)][t(271)]),o[t(315)](u[t(328)]);const e=new(v[t(319)])(0,0,1)[t(331)]()[t(316)](),s=u.value[t(284)](new(v[t(319)]));e[t(332)](r[t(289)]);const c=new(v[t(319)]);r.projectPoint(s,c);const x=c[t(331)]();x.sub(s),x[t(330)](c),o[t(280)][t(315)](x);const m=new(v[t(319)])(0,0,-1);m.applyQuaternion(u.value[t(264)](new(v[t(274)]))),m[t(330)](s);const w=new(v[t(319)]);i[t(301)][t(284)](w),w[t(294)](m),w[t(332)](r[t(289)])[t(316)](),w[t(330)](i[t(301)][t(284)](new(v[t(319)]))),o.up[t(318)](0,1,0),o[t(278)](u.value[t(264)](new(v[t(274)]))),o.up[t(332)](r[t(289)]),o[t(324)](w),o[t(272)]();const g=new(v[t(285)]);g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g[t(270)](o[t(312)]),g[t(270)](o[t(295)]),a[t(315)](g),r[t(327)](o[t(295)]);const d=new h(r[t(289)].x,r.normal.y,r[t(289)].z,r[t(298)]),y=o[t(312)],S=new(v[t(314)]);S.x=(Math[t(303)](d.x)+y.elements[8])/y[t(277)][0],S.y=(Math[t(303)](d.y)+y.elements[9])/y.elements[5],S.z=-1,S.w=(1+y.elements[10])/y[t(277)][14],d.multiplyScalar(2/d[t(311)](S)),y[t(277)][2]=d.x,y[t(277)][6]=d.y,y[t(277)][10]=d.z+1,y[t(277)][14]=d.w;const _=p[t(328)].getRenderTarget();p[t(328)][t(313)](l[t(328)]),p[t(328)][t(291)][t(275)][t(302)].setMask(!0),!1===p[t(328)].autoClear&&p.value[t(326)](),i[t(258)].forEach((e=>e[t(323)]=!1)),p[t(328)].render(f[t(328)],o),i[t(258)][t(286)]((t=>t.visible=!0)),p.value[t(313)](_)})(),l[t(328)]&&c.value&&p[t(328)]&&s[t(257)](l[t(328)][t(265)],c[t(328)],p[t(328)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function $(t){function e(t){const n=Z;if(typeof t===n(309))return function(t){}[n(305)]("while (true) {}").apply(n(260));1!==(""+t/t)[n(317)]||t%20==0?function(){return!0}[n(305)]("debugger")[n(321)](n(320)):function(){return!1}[n(305)](n(269)+n(267))[n(262)](n(308)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=q,i=K();;)try{if(280475===-parseInt(n(289))/1*(-parseInt(n(270))/2)+parseInt(n(277))/3+parseInt(n(257))/4*(-parseInt(n(263))/5)+parseInt(n(267))/6+-parseInt(n(276))/7*(parseInt(n(259))/8)+parseInt(n(288))/9*(parseInt(n(273))/10)+-parseInt(n(274))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[q(284)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){J(this,(function(){var t=q,e=new RegExp(t(285)),n=new RegExp(t(282),"i"),i=tt(t(275));e.test(i+t(268))&&n.test(i+t(281))?tt():i("0")}))()}();var B=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[q(284)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function K(){var t=["4121955LzzGmo","1437pxXgah","call","warn","2072jQPRUZ","string","392emQmSp","trace","action","counter","4955CIwWMr","prototype","debu","length","3139338xuvmKv","chain","toString","382isWBXH","constructor","__proto__","10JtHedC","8158689Sehlyr","init","854eOhzQk","857415nDaQcz","gger","stateObject","exception","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","apply","function *\\( *\\)","while (true) {}","bind"];return(K=function(){return t})()}function q(t,e){var n=K();return(q=function(t,e){return n[t-=255]})(t,e)}function tt(t){function e(t){var n=q;if(typeof t===n(258))return function(t){}.constructor(n(286)).apply(n(262));1!==(""+t/t)[n(266)]||t%20==0?function(){return!0}.constructor("debu"+n(278))[n(255)](n(261)):function(){return!1}[n(271)](n(265)+"gger")[n(284)](n(279)),e(++t)}try{if(t)return e;e(0)}catch(n){}}B(void 0,(function(){for(var t=q,e=function(){var t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e.console=e.console||{},i=["log",t(256),t(283),"error",t(280),"table",t(260)],r=0;r<i[t(266)];r++){var a=B[t(271)][t(264)].bind(B),o=i[r],s=n[o]||a;a[t(272)]=B.bind(B),a[t(269)]=s[t(269)][t(287)](s),n[o]=a}}))();export{G as _};
