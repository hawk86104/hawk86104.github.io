import{c7 as t,a3 as e,s as n,t as r}from"./three.-W-Avfc61734492426993.js";import{b as o}from"./@tresjs.WiFlZbqU1734492426993.js";import{R as s,b as i}from"./all.three.-35MVhE11734492426993.js";import{d as c,a6 as u,a3 as a,w as f,o as l,D as p,J as h,u as d}from"./@vue.-THQH3GC1734492426993.js";function m(){const t=["gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","trace","uReflectivity","log","debu","6qoClZq","primitive","onBeforeRender","counter","193710rrPuAF","size","4WhBIER","22311sGktvD","repeat","scale","exception","__proto__","mapUrl","value","stateObject","TresGroup","apply","wrapT","console","error","renderTarget","action","1033176CRKZyc","729387FjOJRA","ignoreObjects","return (function() ","328KkAjje","input","update","bind","showGridHelper","prototype","73427wifXfN","set","tReflect","visible","uMatrix","isMesh","30UExrYA","chain","object","function *\\( *\\)","79156AoBmBi","uniforms","info","forEach","436009WUiuUX","toString","reflectorDUDV","rotation","reflectivity"];return(m=function(){return t})()}const b=w;!function(t,e){const n=w,r=m();for(;;)try{if(127150===-parseInt(n(317))/1*(-parseInt(n(285))/2)+parseInt(n(308))/3*(-parseInt(n(291))/4)+parseInt(n(289))/5+parseInt(n(307))/6+parseInt(n(331))/7+parseInt(n(311))/8*(-parseInt(n(292))/9)+-parseInt(n(323))/10*(parseInt(n(327))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const v=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(301)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){v(this,(function(){const t=w,e=new RegExp(t(326)),n=new RegExp(t(279),"i"),r=R("init");e.test(r+t(324))&&n.test(r+t(312))?R():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(301)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function w(t,e){const n=m();return(w=function(t,e){return n[t-=277]})(t,e)}g(void 0,(function(){const t=w;let e;try{e=Function(t(310)+'{}.constructor("return this")( ));')()}catch(o){e=window}const n=e.console=e[t(303)]||{},r=[t(283),"warn",t(329),t(304),t(295),"table",t(281)];for(let s=0;s<r.length;s++){const e=g.constructor[t(316)].bind(g),o=r[s],i=n[o]||e;e[t(296)]=g[t(314)](g),e[t(332)]=i[t(332)][t(314)](i),n[o]=e}}))();const j=[b(294)],y=["object"],I=[b(325)],x=c({__name:b(333),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:m}){const v=b;let g,w;const x=c,R=new s,_=new t(x[v(290)][0]-.5,x.size[1]);_[v(320)]=x[v(315)];const{map:U}=([g,w]=u((()=>o({map:x[v(297)]}))),g=await g,w(),g);U.wrapS=e,U[v(302)]=e,U[v(293)][v(318)](6,3);const z=new i({map:U,reflectivity:x[v(277)]});z.uniforms[v(319)]={value:R[v(305)].texture},z[v(328)].tReflectBlur=R.renderTargetUniform,z[v(328)][v(321)]=R.textureMatrixUniform;const A=new n(new r(x.size[0],x.size[1]),z);return A[v(334)].x=-Math.PI/2,A.add(R),A[v(287)]=(t,e,n)=>{const r=v;A.visible=!1,x.ignoreObjects[r(330)]((t=>{const e=r;t[e(322)]&&(t.visible=!1),t[e(298)]&&t[e(298)].isMesh&&(t.value.visible=!1)})),R[r(313)](t,e,n),x[r(309)].forEach((t=>{const e=r;t[e(322)]&&(t[e(320)]=!0),t[e(298)]&&t[e(298)].isMesh&&(t.value[e(320)]=!0)})),A.visible=!0},a((()=>{const t=v;x.reflectivity&&(z[t(328)][t(282)][t(298)]=x[t(277)])})),f((()=>x[v(315)]),(t=>{_[v(320)]=t})),m({reflector:R}),(t,e)=>{const n=v;return l(),p(n(300),{scale:x[n(294)]},[h("primitive",{object:d(A),"position-y":-.01},null,8,y),h(n(286),{object:d(_)},null,8,I)],8,j)}}});function R(t){function e(t){const n=w;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[n(301)](n(288));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+n(278))[n(280)](n(306)):function(){return!1}.constructor(n(284)+"gger")[n(301)](n(299)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
