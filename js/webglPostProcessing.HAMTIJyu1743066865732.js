import{i as t}from"./ice-utils.sUwd-yht1743066865732.js";import{_ as n,m as e}from"./gl-matrix.oVMHBNGj1743066865732.js";import{P as o}from"./tweakpane.ivGeiIdz1743066865732.js";import{d as r,r as i,q as a,o as c,H as s,N as u,u as f}from"./@vue.L-brCdZe1743066865732.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",_=g;!function(t,n){const e=g,o=T();for(;;)try{if(572424===-parseInt(e(363))/1*(parseInt(e(344))/2)+-parseInt(e(329))/3*(-parseInt(e(379))/4)+parseInt(e(333))/5+parseInt(e(310))/6*(-parseInt(e(334))/7)+-parseInt(e(327))/8+-parseInt(e(330))/9+parseInt(e(337))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(300)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){x(this,(function(){const t=g,n=new RegExp(t(317)),e=new RegExp(t(361),"i"),o=b("init");n.test(o+t(366))&&e.test(o+"input")?b():o("0")}))()}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(300)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();d(void 0,(function(){const t=g;let n;try{n=Function("return (function() "+t(354)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(343),"warn",t(347),t(306),"exception",t(319),t(362)];for(let i=0;i<o[t(299)];i++){const n=d[t(307)][t(313)].bind(d),r=o[i],a=e[r]||n;n[t(345)]=d.bind(d),n[t(328)]=a[t(328)][t(387)](a),e[r]=n}}))();const E={id:_(349)},p=[_(375)];function g(t,n){const e=T();return g=function(t,n){return e[t-=294]},g(t,n)}function T(){const t=["inline","debu","bindFramebuffer","clearColor","error","constructor","scale","uniform1f","150EOAxMf","COLOR_ATTACHMENT0","innerHeight","prototype","offset_left_top","color","TRIANGLES","function *\\( *\\)","change","table","uModel","texParameteri","RGBA","UNSIGNED_BYTE","string","CLAMP_TO_EDGE","addBlade","3995344nxepPs","toString","57033FLMSOv","4668039BXVfjp","ELEMENT_ARRAY_BUFFER","TEXTURE_MIN_FILTER","814585NRyhTn","194789KlWtFH","img","TEXTURE_MAG_FILTER","28592130VpHLhj","COLOR_BUFFER_BIT","getUniformLocation","hidden","lookAt","getContext","log","579346Fvjyqy","__proto__","ARRAY_BUFFER","info","FLOAT","canvaswebgl","BYTES_PER_ELEMENT","framebufferTexture2D","blendFunc","mixParam",'{}.constructor("return this")( )',"height","useProgram","mat4","BLEND","vertexAttribPointer","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","3YmJPJQ","canvas","offset_right_top","chain","TEXTURE_2D","bindBuffer","bindTexture","createBuffer","是否后处理","addBinding","bufferData","offset_left_bottom","src","clear","STATIC_DRAW","slider","28irAviB","logo-texture","value","gger","webglPostProcessing","uniformMatrix4fv","uView","enableVertexAttribArray","bind","offset_right_bottom","drawElements","NEAREST","querySelector","translate","FRAMEBUFFER","texImage2D","getElementById","TEXTURE_WRAP_T","length","apply","create"];return(T=function(){return t})()}const A=r({__name:_(383),setup(r){const x=_;let d,g,T,A,b,y,R,v,h,F,P,w,B;const C=1,I=.71,L=.76,U=new o({title:"参数"}),S=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});U[x(326)]({view:x(378),label:"颜色",min:0,max:1,value:.5}).on(x(318),(t=>{const n=x;O(),g[n(309)](w,t[n(381)])}));let N=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);U.addBinding(S,x(340),{label:x(371)}),U[x(372)](S,x(365),{picker:x(302),x:{min:0,max:1},y:{min:0,max:1}}).on("change",(t=>{const n=x;N[0]=S[n(365)].x,N[1]=S[n(365)].y,O()})),U[x(372)](S,"offset_right_bottom",{picker:x(302),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(318),(t=>{const n=x;N[5]=S[n(388)].x,N[6]=S[n(388)].y,O()})),U[x(372)](S,"offset_left_bottom",{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(318),(t=>{const n=x;N[10]=S[n(374)].x,N[11]=S[n(374)].y,O()})),U[x(372)](S,x(314),{picker:x(302),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(318),(t=>{const n=x;N[15]=S[n(314)].x,N[16]=S.offset_left_top.y,O()})),a((()=>{M()}));const M=function(){const n=x;d=document[n(391)]("#canvaswebgl"),d.width=window.innerWidth,d[n(355)]=window[n(312)],g=d[n(342)]("webgl"),g&&(function(){const n=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);A=G(e,o),T=t(g,l,m),h=g.getUniformLocation(T,"uProjection"),F=g.getUniformLocation(T,n(385)),P=g[n(339)](T,n(320)),B=Y(document[n(297)]("logo-texture"))}(),O(),g.enable(g[n(358)]),g[n(352)](g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA),D())};function D(){const t=x;g[t(304)](g[t(295)],R),g[t(305)](C,I,L,1),g[t(376)](g.COLOR_BUFFER_BIT),function(){const t=x;g[t(356)](T),g[t(368)](g[t(346)],A);const e=n[t(357)][t(301)]();n[t(357)].ortho(e,0,d.width,d[t(355)],0,.1,100),g[t(384)](h,!1,e);const o=n[t(357)][t(301)]();n[t(357)][t(341)](o,[0,0,1],[0,0,0],[0,1,0]),g.uniformMatrix4fv(F,!1,o),j(B,600,600),j(B,400,400)}(),g[t(304)](g[t(295)],null),S.hidden&&(g.clear(g[t(338)]),g[t(305)](0,0,1,1),g.bindBuffer(g[t(346)],b),g[t(356)](y),g.bindTexture(g[t(367)],v)),g[t(389)](g[t(316)],6,g.UNSIGNED_BYTE,0),requestAnimationFrame(D)}function j(t,o,r){const i=x;let a=e[i(301)]();e[i(294)](a,a,[o,r,0]),n[i(357)][i(308)](a,a,[250,250,0]),g[i(384)](P,!1,a),g[i(369)](g[i(367)],t),g.drawElements(g[i(316)],6,g[i(323)],0)}function O(){const n=x,e=new Uint8Array([0,1,2,0,2,3]);b=G(N,e),y=t(g,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),w=g.getUniformLocation(y,n(353)),g[n(339)](y,n(315)),function(){const t=x;v=Y(d),R=g.createFramebuffer(),g[t(304)](g[t(295)],R),g[t(351)](g[t(295)],g[t(311)],g[t(367)],v,0),g[t(304)](g[t(295)],null)}()}function Y(t){const n=x,e=g.createTexture();return g[n(369)](g[n(367)],e),t instanceof HTMLImageElement?g[n(296)](g[n(367)],0,g[n(322)],g.RGBA,g[n(323)],t):g[n(296)](g[n(367)],0,g[n(322)],t.width,t[n(355)],0,g.RGBA,g.UNSIGNED_BYTE,null),g[n(321)](g[n(367)],g[n(332)],g[n(390)]),g.texParameteri(g[n(367)],g[n(336)],g[n(390)]),g[n(321)](g.TEXTURE_2D,g.TEXTURE_WRAP_S,g[n(325)]),g[n(321)](g[n(367)],g[n(298)],g[n(325)]),e}function G(t,n){const e=x,o=g[e(370)]();g[e(368)](g[e(346)],o),g[e(373)](g.ARRAY_BUFFER,t,g[e(377)]);const r=3*Float32Array.BYTES_PER_ELEMENT+2*Float32Array.BYTES_PER_ELEMENT;g[e(359)](0,3,g[e(348)],!1,r,0),g.enableVertexAttribArray(0),g[e(359)](1,2,g[e(348)],!1,r,3*Float32Array[e(350)]),g[e(386)](1);const i=g.createBuffer();return g[e(368)](g[e(331)],i),g[e(373)](g[e(331)],n,g[e(377)]),g[e(368)](g[e(346)],null),o}return(t,n)=>{const e=x;return c(),s(e(364),E,[u(e(335),{id:e(380),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:"none"}},null,8,p)])}}});function b(t){function n(t){const e=g;if(typeof t===e(324))return function(t){}.constructor("while (true) {}").apply("counter");1!==(""+t/t)[e(299)]||t%20==0?function(){return!0}[e(307)](e(303)+e(382))[e(360)]("action"):function(){return!1}[e(307)](e(303)+"gger")[e(300)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{A as default};
