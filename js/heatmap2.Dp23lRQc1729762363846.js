import{P as t}from"./tweakpane.BCjFYDHx1729762363846.js";import{l as n,a as e,b as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.1hA6StB81729762363846.js";import{_ as r}from"./heatmap.js-fix.B8SySytI1729762363846.js";import{h as i,_ as c,cr as s,B as u}from"./three.CQvcOG671729762363846.js";import{r as a}from"./utils.g_yV3y2C1729762363846.js";import{d as p}from"./pinia.DOkF60i-1729762363846.js";import{b as f,d as l,a2 as h,o as d,E as m,L as g,u as v,F as y,q as b,V as w,O as _,Q as I,I as j,M as x,a5 as E,r as S,j as A,g as M,m as k}from"./@vue.n8X62v121729762363846.js";import{c as D,d as z,a as O}from"./three-mesh-bvh.B7v5qCD_1729762363846.js";import{_ as T}from"./@fesjs.CZZ05Yp51729762363846.js";import"./@tresjs.CmAaFQUS1729762363846.js";import"./@vueuse.DvZn62wO1729762363846.js";import"./three-custom-shader-material.CWa5qaDo1729762363846.js";import"./object-hash.BiCA96VN1729762363846.js";import"./@amap.irWeW_Ar1729762363846.js";import"./jszip.B5yG0Hpd1729762363846.js";import"./glsl-tokenizer.DodQ2RCy1729762363846.js";import"./glsl-token-string.Eyit8_HG1729762363846.js";import"./glsl-token-functions.D2Lt0tGo1729762363846.js";import"./vue-router.Du5s6fg51729762363846.js";import"./lodash-es.BBTWvufR1729762363846.js";import"./@qlin.BIlp8Yi21729762363846.js";import"./@babel.Bwyie5id1729762363846.js";import"./@floating-ui.B75jtkXD1729762363846.js";import"./@juggle.BnTvdTVm1729762363846.js";function B(t,n){const e=Z();return(B=function(t,n){return e[t-=472]})(t,n)}!function(t,n){const e=B,o=Z();for(;;)try{if(561507===parseInt(e(490))/1+parseInt(e(502))/2+-parseInt(e(479))/3+parseInt(e(494))/4*(-parseInt(e(516))/5)+-parseInt(e(510))/6+-parseInt(e(472))/7+parseInt(e(515))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(505)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["rgb(255,0,0)","createElement","body","setData","info","action","constructor","2800189AwdSZf","chain","appendChild","prototype","push","rgb(0,0,255)",'{}.constructor("return this")( )',"703491voTKJA","error","top","test","call","absolute","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","getValueAt","table","rgb(0,255,0)","29025fElfzr","yellow","length","console","202812phcqJX","input","none","stateObject","_config","toString","__proto__","style","1741300QztUON","return (function() ","heatmap-canvas","apply","width","warn","position","counter","4754724CWkdgv","debu","bind","create","function *\\( *\\)","14794840dolSiF","75AtdVbh","left","gger","display","randInt"];return(Z=function(){return t})()}!function(){R(this,(function(){const t=B,n=new RegExp(t(514)),e=new RegExp(t(485),"i"),o=$(t(486));n[t(482)](o+t(473))&&e[t(482)](o+t(495))?$():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(505)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=B;let n;try{n=Function(t(503)+t(478)+");")()}catch(r){n=window}const e=n[t(493)]=n[t(493)]||{},o=["log",t(507),t(525),t(480),"exception",t(488),"trace"];for(let i=0;i<o[t(492)];i++){const n=K[t(527)][t(475)][t(512)](K),r=o[i],c=e[r]||n;n[t(500)]=K.bind(K),n[t(499)]=c.toString[t(512)](c),e[r]=n}}))();const W=(t,n)=>t[B(487)](n)+-10;function $(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(527)]("while (true) {}")[e(505)](e(509));1!==(""+t/t)[e(492)]||t%20==0?function(){return!0}[e(527)]("debu"+e(518))[e(483)](e(526)):function(){return!1}.constructor(e(511)+e(518))[e(505)](e(497)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=C;!function(t,n){const e=C,o=q();for(;;)try{if(945370===-parseInt(e(183))/1*(parseInt(e(163))/2)+parseInt(e(178))/3+parseInt(e(176))/4+parseInt(e(191))/5+parseInt(e(173))/6+parseInt(e(161))/7+parseInt(e(188))/8*(-parseInt(e(190))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=C,n=new RegExp(t(185)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(192));n[t(162)](o+"chain")&&e[t(162)](o+t(189))?H():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=C;let n;try{n=Function(t(193)+t(170)+");")()}catch(r){n=window}const e=n.console=n[t(159)]||{},o=[t(175),t(168),t(172),t(171),t(169),t(174),t(180)];for(let i=0;i<o[t(164)];i++){const n=U[t(166)][t(167)].bind(U),r=o[i],c=e[r]||n;n.__proto__=U[t(179)](U),n[t(181)]=c[t(181)][t(179)](c),e[r]=n}}))();const V=p(F(186),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[C(182)]=n},setTemperature:function(t){n[C(182)]=t}}}));function q(){const t=["706vWMaKS","length","apply","constructor","prototype","warn","exception",'{}.constructor("return this")( )',"error","info","212280KEyVsB","table","log","7342984cocNCD","string","2937702GDbrID","bind","trace","toString","value","2677uIoAsB","debu","function *\\( *\\)","buildingsHeatmap","gger","8DvYTrf","input","9955683YApeWh","502330XHMWKs","init","return (function() ","counter","console","stateObject","319984SQTkAK","test"];return(q=function(){return t})()}function C(t,n){const e=q();return(C=function(t,n){return e[t-=159]})(t,n)}function H(t){function n(t){const e=C;if(typeof t===e(177))return function(t){}[e(166)]("while (true) {}")[e(165)](e(194));1!==(""+t/t)[e(164)]||t%20==0?function(){return!0}[e(166)](e(184)+e(187)).call("action"):function(){return!1}[e(166)](e(184)+e(187))[e(165)](e(160)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=Q;!function(t,n){const e=Q,o=N();for(;;)try{if(803463===parseInt(e(433))/1+-parseInt(e(482))/2+parseInt(e(464))/3+parseInt(e(442))/4*(-parseInt(e(415))/5)+parseInt(e(419))/6+parseInt(e(467))/7*(-parseInt(e(441))/8)+parseInt(e(443))/9*(parseInt(e(413))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=N();return(Q=function(t,n){return e[t-=410]})(t,n)}!function(){J(this,(function(){const t=Q,n=new RegExp(t(475)),e=new RegExp(t(417),"i"),o=nt(t(431));n[t(470)](o+t(439))&&e.test(o+"input")?nt():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(447)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=Q,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(473)]=n[t(473)]||{},o=[t(468),t(451),"info",t(432),t(460),t(434),t(479)];for(let r=0;r<o.length;r++){const n=X[t(458)][t(466)].bind(X),i=o[r],c=e[i]||n;n[t(446)]=X[t(474)](X),n[t(410)]=c[t(410)][t(474)](c),e[i]=n}}))();const Y=["object",L(440)],G=["object"];function N(){const t=["call","ShaderMaterial","counter","Mesh","init","error","1261098Dtwlfk","table","opacity","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","applyMatrix4","BufferGeometry","chain","rotation-x","8BKgnck","18472JngKig","99AhnWsq","attributes","buildingsHeatmap","__proto__","apply","clone","_renderer","数值———：","warn","setTemperature","disposeBoundsTree","uOpacity","gger","Texture","DoubleSide","constructor","needsUpdate","exception","normal","debu","canvas","540906VUBbbm","while (true) {}","prototype","866719TkSChs","log","model","test","matrix","_config","console","bind","function *\\( *\\)","setShowDiv","mergeGeometries","land","trace","Matrix4","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","2082464YRlCOH","toString","数值：","geometry","1547270FYlqAe","computeBoundsTree","1645vJpZsj","makeRotationX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","primitive","2066622MNsISW","action","children","city","uniforms","length","raycast","$patch"];return(N=function(){return t})()}const tt=l({__name:L(445),props:{model:{},opacity:{default:1}},setup(t){const n=L;(()=>{const t=Q;c[t(438)][t(466)][t(414)]=D,u[t(466)][t(453)]=z,c[t(430)][t(466)][t(425)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document[o(522)](o(504));return i[o(501)][o(508)]=o(484),!e&&(i[o(501)][o(519)]=o(496)),i[o(501)][o(481)]="0",i[o(501)][o(517)]="0",document[o(523)][o(474)](i),r[o(513)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(477),.55:o(489),.85:o(491),1:o(521)}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n[e(476)]({x:i[e(520)](1,t[e(498)][e(506)]),y:i[e(520)](1,t[e(498)].height),value:i[e(520)](-10,36)}),o++}t[e(524)]({max:36,min:-10,data:n})})(o);const p=new(c[n(456)])(o[n(449)][n(463)]);p[n(459)]=!0;const f=e[n(469)][n(422)][n(448)]();delete f[n(412)][n(444)][n(461)],delete f.geometry[n(444)].uv;const l=f[n(412)][n(448)]()[n(437)](f[n(471)]),b=e.model[n(478)][n(448)]();delete b[n(412)][n(444)].normal;const w=b[n(412)][n(448)]()[n(437)](b[n(471)]),_=s[n(477)]([l,w]);_[n(437)]((new(c[n(480)]))[n(416)](Math.PI/2)),a(_),_[n(414)]();const I=(t=>{const o=n;return new(c[o(428)])({vertexShader:o(436),fragmentShader:o(481),uniforms:{uOpacity:{value:e[o(435)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(457)]})})(p),j=new(c[n(430)])(_,I);h((()=>{const t=n;e.opacity&&(I[t(423)][t(454)].value=e[t(435)])}));const x=V(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(472)].width,y:(1-t.uv.y)*o[e(472)].height};console.log(e(411),t),console[e(468)](e(450),W(o,n)),x[e(452)](W(o,n))}},S=t=>{t&&x[n(426)]({showDiv:!0})},A=t=>{t&&x[n(476)](!1)};return(t,o)=>{const r=n;return d(),m(y,null,[g(r(418),{object:v(j),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:S,onPointerLeave:A},null,40,Y),g(r(418),{object:e[r(469)].model[r(421)][0].clone()},null,8,G)],64)}}});function nt(t){function n(t){const e=Q;if("string"==typeof t)return function(t){}[e(458)](e(465))[e(447)](e(429));1!==(""+t/t)[e(424)]||t%20==0?function(){return!0}[e(458)](e(462)+e(455))[e(427)](e(420)):function(){return!1}[e(458)]("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=T({__name:"dataDiv",setup(t){const n=V(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(v(n).temperature)+"℃ ",5)),[[I,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=rt;function rt(t,n){const e=at();return(rt=function(t,n){return e[t-=404]})(t,n)}!function(t,n){const e=rt,o=at();for(;;)try{if(558913===parseInt(e(411))/1+-parseInt(e(406))/2*(-parseInt(e(423))/3)+parseInt(e(425))/4*(-parseInt(e(442))/5)+parseInt(e(416))/6+-parseInt(e(431))/7+-parseInt(e(436))/8+parseInt(e(418))/9*(-parseInt(e(427))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[rt(439)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=rt,n=new RegExp(t(432)),e=new RegExp(t(417),"i"),o=ut(t(437));n[t(433)](o+t(420))&&e[t(433)](o+t(435))?ut():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();ct(void 0,(function(){const t=rt,n=function(){const t=rt;let n;try{n=Function(t(407)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(441)]=n.console||{},o=["log",t(438),t(434),"error",t(409),t(429),t(444)];for(let r=0;r<o[t(440)];r++){const n=ct.constructor[t(430)][t(426)](ct),i=o[r],c=e[i]||n;n[t(428)]=ct[t(426)](ct),n[t(421)]=c[t(421)].bind(c),e[i]=n}}))();const st=l({__name:ot(419),async setup(r){const i=ot;let c,s;const u=f(!1),a=([c,s]=E((()=>n())),c=await c,s(),c);u[i(405)]=!0;const p=S({width:1,color:i(424),opacity:1,show:!0}),l=S({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,"opacity",{label:i(415),min:0,max:1,step:.1}),(t,n)=>{const r=i;return d(),m(y,null,[A(o,{showBuildings:!1,autoRotate:!1},{ability:M((()=>[A(tt,k({model:v(a)},l),null,16,[r(414)]),A(e,k(p,{builds:v(a).city}),null,16,["builds"])])),_:1}),A(et)],64)}}});function ut(t){function n(t){const e=rt;if(typeof t===e(413))return function(t){}[e(412)]("while (true) {}")[e(439)](e(408));1!==(""+t/t)[e(440)]||t%20==0?function(){return!0}[e(412)](e(410)+"gger")[e(443)](e(404)):function(){return!1}[e(412)](e(410)+e(422)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function at(){const t=["bind","4521920qpKoKE","__proto__","table","prototype","233688nguKvh","function *\\( *\\)","test","info","input","5331064paWaEo","init","warn","apply","length","console","25wuBpQE","call","trace","action","value","4HvLbTt","return (function() ","counter","exception","debu","412336EJtoMO","constructor","string","model","透明度","5195628yOTLxn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","9bdpEWc","heatmap2","chain","toString","gger","1587102uziBXc","#000","500376oAQjAZ"];return(at=function(){return t})()}export{st as default};
