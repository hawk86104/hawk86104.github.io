import{P as t}from"./tweakpane.yHWGBmom1725416517797.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.ss_nL2AI1725416517797.js";import{_ as r}from"./heatmap.js-fix.QXeWacWK1725416517797.js";import{h as i,a6 as s,cl as c,B as u,Z as a}from"./three.VTQVqxMx1725416517797.js";import{r as p}from"./utils.CfHZ88O81725416517797.js";import{d as f}from"./pinia.QjdSMCYS1725416517797.js";import{b as l,d as h,a2 as d,o as m,E as g,L as v,u as y,F as I,q as b,V as w,O as x,Q as _,I as j,M,a5 as E,r as z,j as O,g as S,m as k}from"./@vue._6MD2XyK1725416517797.js";import{c as T,d as A,a as R}from"./three-mesh-bvh.wPvA9dFk1725416517797.js";import{_ as Z}from"./@fesjs.ILazvsHx1725416517797.js";import"./@tresjs.5lh7VmqZ1725416517797.js";import"./@vueuse.L-salR9N1725416517797.js";import"./three-custom-shader-material.R9Qrt3ei1725416517797.js";import"./object-hash.UdqO8HjX1725416517797.js";import"./@amap.LUDXTi4z1725416517797.js";import"./jszip.7CKSmb6c1725416517797.js";import"./glsl-tokenizer.dGVPr_M11725416517797.js";import"./glsl-token-string.7HmLwuvT1725416517797.js";import"./glsl-token-functions.fONiiOsX1725416517797.js";import"./vue-router.oJSnFzhA1725416517797.js";import"./lodash-es.kYt-_xTG1725416517797.js";import"./@qlin.yHhFDldE1725416517797.js";import"./@floating-ui.BPbuo5Gx1725416517797.js";import"./@juggle.7yjBMqoW1725416517797.js";!function(t,n){const e=D,o=C();for(;;)try{if(684086===-parseInt(e(381))/1+-parseInt(e(351))/2+-parseInt(e(347))/3*(parseInt(e(344))/4)+parseInt(e(366))/5+-parseInt(e(380))/6+-parseInt(e(385))/7*(-parseInt(e(340))/8)+-parseInt(e(355))/9*(-parseInt(e(365))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(331)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=D,n=new RegExp(t(362)),e=new RegExp(t(336),"i"),o=X(t(378));n[t(357)](o+t(343))&&e[t(357)](o+"input")?X():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(331)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();V(void 0,(function(){const t=D;let n;try{n=Function(t(372)+t(369)+");")()}catch(r){n=window}const e=n.console=n[t(334)]||{},o=["log","warn",t(346),t(356),t(386),t(370),t(361)];for(let i=0;i<o.length;i++){const n=V.constructor[t(349)][t(377)](V),r=o[i],s=e[r]||n;n[t(368)]=V[t(377)](V),n[t(354)]=s[t(354)].bind(s),e[r]=n}}))();const B=(t,n)=>t[D(342)](n)+-10;function C(){const t=["rgb(255,0,0)","__proto__",'{}.constructor("return this")( )',"table","while (true) {}","return (function() ","length","rgb(0,255,0)","heatmap-canvas","randInt","bind","init","left","6291528NXWrIu","385395NINHsW","width","display","stateObject","1027733ENAVem","exception","counter","apply","style","absolute","console","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","createElement","constructor","height","40sfnPxZ","string","getValueAt","chain","49444qeZzex","push","info","99zbhakk","setData","prototype","position","2296654qOufGs","body","_config","toString","4801113YieAMx","error","test","appendChild","none","rgb(0,0,255)","trace","function *\\( *\\)","debu","create","30VuvMDf","6699215SWhtRW"];return(C=function(){return t})()}function D(t,n){const e=C();return(D=function(t,n){return e[t-=331]})(t,n)}function X(t){function n(t){const e=D;if(typeof t===e(341))return function(t){}.constructor(e(371))[e(331)](e(387));1!==(""+t/t)[e(373)]||t%20==0?function(){return!0}[e(338)](e(363)+"gger").call("action"):function(){return!1}[e(338)](e(363)+e(335))[e(331)](e(384)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=$,o=W();for(;;)try{if(221042===parseInt(e(156))/1*(-parseInt(e(162))/2)+parseInt(e(165))/3*(-parseInt(e(177))/4)+-parseInt(e(146))/5*(parseInt(e(167))/6)+-parseInt(e(150))/7*(parseInt(e(179))/8)+-parseInt(e(145))/9+parseInt(e(176))/10*(-parseInt(e(157))/11)+-parseInt(e(170))/12*(-parseInt(e(160))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(147)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=$,n=new RegExp(t(148)),e=new RegExp(t(143),"i"),o=q("init");n[t(152)](o+"chain")&&e[t(152)](o+"input")?q():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(147)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["244936eXRMJj","length","16600WefbxO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","1592271ctJEAv","1528425agAxaB","apply","function *\\( *\\)","toString","917xthrCH","action","test","prototype","table",'{}.constructor("return this")( )',"1eVgFsi","2343HqprCv","trace","call","17862VVXzxh","string","281138dxsueh","log","bind","15PFXvCd","counter","6dCwXPr","while (true) {}","constructor","12648YHvTJe","exception","__proto__","gger","console","value","1220VHOWXb"];return(W=function(){return t})()}function $(t,n){const e=W();return($=function(t,n){return e[t-=143]})(t,n)}H(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(144)+t(155)+");")()}catch(e){n=window}return n}(),e=n[t(174)]=n[t(174)]||{},o=[t(163),"warn","info","error",t(171),t(154),t(158)];for(let r=0;r<o.length;r++){const n=H.constructor[t(153)][t(164)](H),i=o[r],s=e[i]||n;n[t(172)]=H[t(164)](H),n.toString=s[t(149)].bind(s),e[i]=n}}))();const G=f("buildingsHeatmap",(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[$(175)]=n},setTemperature:function(t){n[$(175)]=t}}}));function q(t){function n(t){const e=$;if(typeof t===e(161))return function(t){}.constructor(e(168))[e(147)](e(166));1!==(""+t/t)[e(178)]||t%20==0?function(){return!0}[e(169)]("debu"+e(173))[e(159)](e(151)):function(){return!1}[e(169)]("debu"+e(173)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=U;!function(t,n){const e=U,o=nt();for(;;)try{if(267085===-parseInt(e(178))/1*(-parseInt(e(221))/2)+-parseInt(e(170))/3*(parseInt(e(163))/4)+-parseInt(e(220))/5+-parseInt(e(200))/6+-parseInt(e(209))/7+-parseInt(e(189))/8*(parseInt(e(172))/9)+parseInt(e(222))/10*(parseInt(e(187))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(162)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=U,n=new RegExp(t(207)),e=new RegExp(t(199),"i"),o=tt(t(197));n[t(206)](o+t(185))&&e.test(o+t(158))?tt():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=U;let n;try{n=Function(t(180)+t(188)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(168),t(190),t(177),t(156),t(211),t(192),t(219)];for(let i=0;i<o[t(173)];i++){const n=L[t(171)][t(203)].bind(L),r=o[i],s=e[r]||n;n.__proto__=L.bind(L),n[t(161)]=s.toString[t(179)](s),e[r]=n}}))();const N=[Y(212),Y(159)],Q=[Y(212)];function U(t,n){const e=nt();return(U=function(t,n){return e[t-=156]})(t,n)}const J=h({__name:Y(204),props:{model:{},opacity:{default:1}},setup(t){const n=Y;(()=>{const t=U;s[t(183)].prototype.computeBoundsTree=T,u.prototype.disposeBoundsTree=A,s[t(191)].prototype[t(224)]=R})();const e=t,o=((t=250,n=250,e=!0)=>{const o=D,i=document[o(337)](o(375));return i[o(332)][o(350)]=o(333),!e&&(i[o(332)][o(383)]=o(359)),i[o(332)].top="0",i[o(332)][o(379)]="0",document[o(352)][o(358)](i),r[o(364)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(360),.55:o(374),.85:"yellow",1:o(367)}})})();((t,n)=>{const e=D;if(!n){let o=0;for(n=[];o<1e3;)n[e(345)]({x:i[e(376)](1,t[e(353)][e(382)]),y:i[e(376)](1,t[e(353)][e(339)]),value:i[e(376)](-10,36)}),o++}t[e(348)]({max:36,min:-10,data:n})})(o);const f=new(s[n(165)])(o[n(182)].canvas);f[n(184)]=!0;const l=e.model[n(217)][n(196)]();delete l[n(218)].attributes[n(193)],delete l.geometry.attributes.uv;const h=l[n(218)][n(196)]()[n(205)](l.matrix),b=e[n(186)].land[n(196)]();delete b[n(218)][n(166)].normal;const w=b[n(218)][n(196)]()[n(205)](b.matrix),x=c[n(213)]([h,w]);x[n(205)]((new(s[n(210)]))[n(167)](Math.PI/2)),p(x),x[n(160)]();const _=(t=>{const o=n;return new(s[o(201)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(157)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(f),j=new(s[n(191)])(x,_);d((()=>{const t=n;e[t(157)]&&(_[t(215)].uOpacity[t(208)]=e[t(157)])}));const M=G(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(169)][e(202)],y:(1-t.uv.y)*o[e(169)][e(214)]};console[e(168)](e(164),t),console[e(168)]("数值———：",B(o,n)),M.setTemperature(B(o,n))}},z=t=>{t&&M[n(174)]({showDiv:!0})},O=t=>{t&&M.setShowDiv(!1)};return(t,o)=>{const r=n;return m(),g(I,null,[v(r(194),{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:z,onPointerLeave:O},null,40,N),v(r(194),{object:e[r(186)][r(186)][r(176)][0].clone()},null,8,Q)],64)}}});function tt(t){function n(t){const e=U;if(typeof t===e(223))return function(t){}[e(171)](e(195))[e(162)]("counter");1!==(""+t/t)[e(173)]||t%20==0?function(){return!0}[e(171)](e(175)+e(181)).call(e(198)):function(){return!1}.constructor(e(175)+"gger")[e(162)](e(216)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function nt(){const t=["string","raycast","error","opacity","input","rotation-x","computeBoundsTree","toString","apply","4mBCYbg","数值：","Texture","attributes","makeRotationX","log","_config","1540173amzWET","constructor","3531609oCnwka","length","$patch","debu","children","info","8381TQAXTl","bind","return (function() ","gger","_renderer","BufferGeometry","needsUpdate","chain","model","3593293ODfZXK",'{}.constructor("return this")( )',"8lnCQxM","warn","Mesh","table","normal","primitive","while (true) {}","clone","init","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","935190HUSOjI","ShaderMaterial","width","prototype","buildingsHeatmap","applyMatrix4","test","function *\\( *\\)","value","132321neOVxn","Matrix4","exception","object","mergeGeometries","height","uniforms","stateObject","city","geometry","trace","2140735WzfjBQ","34GNMMrg","50aFplKL"];return(nt=function(){return t})()}const et=Z({__name:"dataDiv",setup(t){const n=G(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>x((m(),g("div",{class:"title",style:M(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=it;!function(t,n){const e=it,o=ct();for(;;)try{if(572217===parseInt(e(326))/1*(parseInt(e(346))/2)+parseInt(e(362))/3*(parseInt(e(329))/4)+parseInt(e(325))/5*(parseInt(e(327))/6)+-parseInt(e(344))/7+parseInt(e(332))/8*(-parseInt(e(335))/9)+-parseInt(e(338))/10*(parseInt(e(364))/11)+parseInt(e(353))/12*(parseInt(e(324))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(322)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=ct();return(it=function(t,n){return e[t-=322]})(t,n)}!function(){rt(this,(function(){const t=it,n=new RegExp(t(340)),e=new RegExp(t(354),"i"),o=at(t(333));n[t(359)](o+t(337))&&e[t(359)](o+t(360))?at():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(322)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["counter","model","error","3612420OxokCc","toString","2PLBTfR","call","gger","return (function() ","heatmap2","warn","action","6451068YFZKoV","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","constructor","log","stateObject","test","input","opacity","3jXVTKg","透明度","11389939EyzyqP","apply","while (true) {}","39qQKQCJ","4215GPeilw","449706hsIlux","372pGjwHY","city","4053512YjMxio","exception","bind","72GGTKju","init","console","1004391NnhHpu","prototype","chain","10kinsiS","debu","function *\\( *\\)"];return(ct=function(){return t})()}st(void 0,(function(){const t=it;let n;try{n=Function(t(349)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(334)]=n[t(334)]||{},o=[t(357),t(351),"info",t(343),t(330),"table","trace"];for(let i=0;i<o.length;i++){const n=st[t(356)][t(336)].bind(st),r=o[i],s=e[r]||n;n[t(355)]=st.bind(st),n[t(345)]=s[t(345)][t(331)](s),e[r]=n}}))();const ut=h({__name:ot(350),async setup(r){const i=ot;let s,c;const u=l(!1),a=([s,c]=E((()=>o())),s=await s,c(),s);u.value=!0;const p=z({width:1,color:"#000",opacity:1,show:!0}),f=z({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(f,i(361),{label:i(363),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(I,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[O(J,k({model:y(a)},f),null,16,[r(342)]),O(n,k(p,{builds:y(a)[r(328)]}),null,16,["builds"])])),_:1}),O(et)],64)}}});function at(t){function n(t){const e=it;if("string"==typeof t)return function(t){}[e(356)](e(323))[e(322)](e(341));1!==(""+t/t).length||t%20==0?function(){return!0}[e(356)](e(339)+e(348))[e(347)](e(352)):function(){return!1}[e(356)](e(339)+e(348))[e(322)](e(358)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
