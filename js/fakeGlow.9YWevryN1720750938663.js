import{d as n,H as t}from"./@tresjs.toBU36DO1720750938663.js";import{k as o,b9 as e,C as r,aK as i,Z as a,a5 as s,r as l,x as c}from"./three.c_4mN3mZ1720750938663.js";import{P as u}from"./tweakpane.yHWGBmom1720750938663.js";import{d as f,r as p,a2 as g,e as d,o as m,f as v,g as w,j as h,u as y,J as b,al as I}from"./@vue.ApkyOKE71720750938663.js";import"./@vueuse.NiHn2U_k1720750938663.js";!function(n,t){for(var o=P,e=_();;)try{if(729730===-parseInt(o(531))/1+-parseInt(o(534))/2*(parseInt(o(501))/3)+-parseInt(o(539))/4+-parseInt(o(543))/5+-parseInt(o(533))/6+parseInt(o(538))/7*(parseInt(o(530))/8)+parseInt(o(541))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[P(536)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){x(this,(function(){var n=P,t=new RegExp(n(522)),o=new RegExp(n(526),"i"),e=k(n(493));t[n(497)](e+n(519))&&o[n(497)](e+n(525))?k():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[P(536)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(){var n=["error","35144838jXOkOc","warn","5942950oRzkcg","init","while (true) {}","counter","trace","test","depthTest","bind","info","3mszquT","setValues","vertexShader","glowSharpness","glowColor","opacity","#00d5ff","fragmentShader","length","__proto__","gger","stateObject","console","blendMode","side",'{}.constructor("return this")( )',"toString","prototype","chain","debu","action","function *\\( *\\)","constructor","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","falloff","string","glowInternalRadius","1032osVjeO","1248297vMDdPz","uniforms","2869140IHsPFe","471252cRWmbl","transparent","apply","log","75278FtwyCR","5647260WIJDmw"];return(_=function(){return n})()}j(void 0,(function(){var n,t=P;try{n=Function("return (function() "+t(516)+");")()}catch(l){n=window}for(var o=n[t(513)]=n[t(513)]||{},e=[t(537),t(542),t(500),t(540),"exception","table",t(496)],r=0;r<e.length;r++){var i=j[t(523)][t(518)].bind(j),a=e[r],s=o[a]||i;i[t(510)]=j.bind(j),i.toString=s[t(517)][t(499)](s),o[a]=i}}))();const S=class extends o{constructor(n={}){var t=P;super(),this[t(503)]=t(524),this[t(508)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this[t(532)]={opacity:new e(void 0!==n.opacity?n[t(506)]:1),glowInternalRadius:new e(void 0!==n[t(529)]?n[t(529)]:6),glowSharpness:new e(void 0!==n[t(504)]?n.glowSharpness:.5),falloff:new e(void 0!==n[t(527)]?n[t(527)]:.1),glowColor:new e(void 0!==n[t(505)]?new r(n[t(505)]):new r(t(507)))},this[t(502)](n),this[t(498)]=void 0!==n[t(498)]&&n[t(498)],this.blending=void 0!==n[t(514)]?n[t(514)]:i,this[t(535)]=!0,this[t(515)]=void 0!==n[t(515)]?n[t(515)]:a}};function P(n,t){var o=_();return(P=function(n,t){return o[n-=493]})(n,t)}function k(n){function t(n){var o=P;if(typeof n===o(528))return function(n){}[o(523)](o(494))[o(536)](o(495));1!==(""+n/n)[o(509)]||n%20==0?function(){return!0}.constructor(o(520)+o(511)).call(o(521)):function(){return!1}.constructor("debugger")[o(536)](o(512)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const R=O;!function(n,t){const o=O,e=Z();for(;;)try{if(494663===-parseInt(o(341))/1*(-parseInt(o(350))/2)+parseInt(o(349))/3*(-parseInt(o(370))/4)+-parseInt(o(356))/5+-parseInt(o(379))/6+parseInt(o(395))/7+-parseInt(o(340))/8*(-parseInt(o(369))/9)+parseInt(o(376))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[O(354)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){z(this,(function(){const n=O,t=new RegExp(n(355)),o=new RegExp(n(389),"i"),e=A(n(378));t[n(388)](e+n(357))&&o.test(e+n(380))?A():e("0")}))()}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[O(354)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();T(void 0,(function(){const n=O;let t;try{t=Function("return (function() "+n(347)+");")()}catch(r){t=window}const o=t[n(353)]=t.console||{},e=["log","warn",n(387),n(368),n(346),n(384),n(371)];for(let i=0;i<e[n(391)];i++){const t=T.constructor[n(351)][n(331)](T),r=e[i],a=o[r]||t;t[n(373)]=T[n(331)](T),t[n(374)]=a[n(374)][n(331)](a),o[r]=t}}))();const C=b(R(335),{position:[0,25,25],near:.1,fov:65},null,-1),M=b(R(381),{intensity:1.5},null,-1),F=b("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1),G=b(R(362),{args:[20,10]},null,-1),N={position:[0,6,0]},D=b(R(363),null,[b(R(393),{args:[4,.5,128,128]}),b("TresMeshPhysicalMaterial",{color:"blue",roughness:.2,clearcoat:1})],-1),B=["object"];function O(n,t){const o=Z();return(O=function(n,t){return o[n-=331]})(n,t)}function Z(){const n=["side","addBinding","16OTnwyz","70417KwXlxG","fakeGlow","call","stateObject","清晰度","exception",'{}.constructor("return this")( )',"pos-y.jpg","129aJJZPP","2stghnk","prototype","TresCanvas","console","apply","function *\\( *\\)","1002405rvQhQH","chain","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","gger","constructor","debu","TresGridHelper","TresMesh","neg-x.jpg","glowColor","value","内半径","error","2356866eLHmhc","7828NbgMbF","trace","DoubleSide","__proto__","toString","neg-y.jpg","4148770BMKUmP","BackSide","init","3754164jWYqeb","input","TresAmbientLight","primitive","files","table","FrontSide","材质面","info","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","辉光参数","length","uniforms","TresTorusKnotGeometry","TorusKnotGeometry","2771629vqYfqP","glowInternalRadius","bind","while (true) {}","opacity","neg-z.jpg","TresPerspectiveCamera","falloff","string"];return(Z=function(){return n})()}const q=f({__name:R(342),setup(o){const e=R,i=new u({title:e(390),expanded:!0}),a=p({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(385)],depthTest:!1}),f=new S,x=new l(new(s[e(394)])(4,3.8,128,128),f);return i.addBinding(a,e(365),{label:"颜色"}),i[e(339)](a,e(336),{label:"衰减",min:0,max:10,step:.1}),i[e(339)](a,"glowInternalRadius",{label:e(367),min:-5,max:5,step:.1}),i[e(339)](a,"glowSharpness",{label:e(345),min:0,max:10,step:.1}),i[e(339)](a,e(333),{label:"透明",min:0,max:1,step:.1}),i[e(339)](a,e(338),{label:e(386),options:{FrontSide:c,BackSide:s[e(377)],DoubleSide:s[e(372)]}}),g((()=>{const n=e;f.uniforms[n(336)][n(366)]=a.falloff,f.uniforms[n(365)][n(366)]=new r(a.glowColor),f[n(392)][n(396)][n(366)]=a.glowInternalRadius,f[n(392)].glowSharpness.value=a.glowSharpness,f[n(392)][n(333)][n(366)]=a[n(333)],f[n(338)]=a[n(338)]})),(o,r)=>{const i=e,a=d(i(352));return m(),v(a,{"window-size":""},{default:w((()=>[C,M,F,h(y(n),{autoRotate:""}),G,b("TresGroup",N,[D,b(i(382),{object:y(x)},null,8,B)]),(m(),v(I,null,{default:w((()=>[h(y(t),{files:["pos-x.jpg",i(364),i(348),i(375),"pos-z.jpg",i(334)],path:i(358)},null,8,[i(383)])])),_:1}))])),_:1})}}});function A(n){function t(n){const o=O;if(typeof n===o(337))return function(n){}.constructor(o(332))[o(354)]("counter");1!==(""+n/n)[o(391)]||n%20==0?function(){return!0}.constructor("debugger")[o(343)]("action"):function(){return!1}[o(360)](o(361)+o(359))[o(354)](o(344)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{q as default};
