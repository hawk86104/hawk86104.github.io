import{c as t,B as n,r as e,c7 as r,C as o,V as s,a0 as i}from"./three.LxxvsMJG1742205305014.js";import{w as c}from"./@fesjs.mYnJ5o7u1742205305014.js";import{a}from"./@tresjs.nk0nhZ9a1742205305014.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.42xZtR7E1742205305014.js";function l(){const t=["divideScalar","1547905umREPn","setAttribute","raycast","__proto__","geometry","warn","apply","config","3325302EIVuaU","string","center","sub","random","position","3266032gRbSvC","debu","setY","802102WZENhV","computeBoundingBox","5419600RrEAkB","toString","expandByObject",'{}.constructor("return this")( )',"copy","length","setFromObject","console","1hyPPpl","forEach","input","deleteAttribute","getCenter","Vector3","error","4qMNDif","add","action","applyMatrix4","boundingBox","trace","constructor","side","return (function() ","1216197qtLDsC","91158VkFqcs","count","attributes","getSize","init","set","getX","prototype","push","table","value","119MbntMK","uniforms","counter","exception","features","getY","test","min","material","computeBoundsTree","depthTest","function *\\( *\\)","negate","get","transparent","then","bind","max","depthWrite"];return(l=function(){return t})()}function m(t,n){const e=l();return(m=function(t,n){return e[t-=170]})(t,n)}!function(t,n){const e=m,r=l();for(;;)try{if(277014===parseInt(e(243))/1*(parseInt(e(233))/2)+-parseInt(e(184))/3*(-parseInt(e(175))/4)+parseInt(e(216))/5+parseInt(e(185))/6*(-parseInt(e(196))/7)+-parseInt(e(230))/8+parseInt(e(224))/9+-parseInt(e(235))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[m(222)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=m,n=new RegExp(t(207)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_(t(189));n[t(202)](r+"chain")&&e[t(202)](r+t(170))?_():r("0")}))()}();const h=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();h(void 0,(function(){const t=m;let n;try{n=Function(t(183)+t(238)+");")()}catch(o){n=window}const e=n[t(242)]=n[t(242)]||{},r=["log",t(221),"info","error",t(199),t(194),t(180)];for(let s=0;s<r.length;s++){const n=h.constructor[t(192)][t(212)](h),o=r[s],i=e[o]||n;n[t(219)]=h.bind(h),n[t(236)]=i[t(236)][t(212)](i),e[o]=n}}))();const d=(n,e=!1)=>{const r=m;n[r(234)]();const{max:o,min:s}=n[r(179)];n.deleteAttribute("uv");const i=o.x-s.x,c=o.y-s.y,a=[];for(let t=0;t<n[r(187)].position[r(186)];t++)e?(a[r(193)]((n[r(187)][r(229)][r(191)](t)-(s.x+o.x)/2)/i),a[r(193)]((n.attributes[r(229)][r(201)](t)-(s.y+o.y)/2)/c)):(a[r(193)]((n.attributes[r(229)][r(191)](t)-s.x)/i),a[r(193)]((n[r(187)].position[r(201)](t)-s.y)/c));const u=new Float32Array(a);n[r(217)]("uv",new t(u,2))},y=(t,n)=>new Promise(((e,r)=>{const o=m;c(t,{},{method:o(209),mergeRequest:!0,responseType:"json"})[o(211)]((t=>{const r=o;n&&e(t[n]),e(t[r(200)])})).catch((t=>{console[o(174)](t),r(t)}))})),w=t=>{const n=m,e=(new THREE.Box3)[n(241)](t),r=new(THREE[n(173)]);e[n(172)](r),t.children[n(244)]((t=>{const e=n;t[e(229)][e(227)](r)})),t[n(229)][n(239)](r[n(208)]())},b=()=>{const t=m;n[t(192)][t(205)]=u,n[t(192)].disposeBoundsTree=f,e[t(192)][t(218)]=p},x=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(220)].clone();d(c),c[n(205)]();const u=new r(c,{color:new o("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(210)]=!0,u.material[n(214)]=!0,u.material[n(206)]=!0,u[n(204)][n(182)]=i,u.material.uniforms[n(223)][n(195)].w=20,u[n(204)][n(197)].reflectivity[n(195)]=.46,u};function j(t){const n=m,e=[];for(let o=0;o<t[n(240)];o++)e[n(193)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e.length;o++)r[n(176)](e[o]);r[n(215)](e.length);for(let o=0;o<e[n(240)];o++)e[o][n(227)](r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=m;if(typeof t===e(225))return function(t){}[e(181)]("while (true) {}")[e(222)](e(198));1!==(""+t/t).length||t%20==0?function(){return!0}[e(181)](e(231)+"gger").call(e(177)):function(){return!1}[e(181)](e(231)+"gger")[e(222)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,b as i,y as l,d as r,x as s};
