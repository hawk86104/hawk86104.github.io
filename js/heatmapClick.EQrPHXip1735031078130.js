import{a as t,U as n}from"./@tresjs.dTM0HLnZ1735031078130.js";import{P as e}from"./tweakpane.yHWGBmom1735031078130.js";import{_ as o,m as r,a,ak as s,al as i}from"./three.bc6MLGU_1735031078130.js";import{_ as u}from"./heatmap.js-fix.bFkQ7i5T1735031078130.js";import{d as c,a6 as l,a3 as p,o as f,D as d,u as h,r as m,e as g,f as v,g as y,J as w,j as b,al as x,aj as _,ak as j,m as I}from"./@vue.-THQH3GC1735031078130.js";import"./@vueuse.COyzlgw71735031078130.js";import"./@amap.FwSyOcr71735031078130.js";const C=T;!function(t,n){const e=T,o=O();for(;;)try{if(369541===parseInt(e(446))/1+parseInt(e(417))/2*(-parseInt(e(451))/3)+-parseInt(e(410))/4*(-parseInt(e(469))/5)+parseInt(e(430))/6+parseInt(e(452))/7*(-parseInt(e(421))/8)+-parseInt(e(420))/9*(-parseInt(e(445))/10)+parseInt(e(426))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(416),"i"),o=M(t(434));n[t(457)](o+"chain")&&e.test(o+t(422))?M():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=O();return(T=function(t,n){return e[t-=410]})(t,n)}S(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(460)+t(443)+");")()}catch(e){n=window}return n}(),e=n[t(453)]=n[t(453)]||{},o=[t(458),"warn","info","error",t(455),t(414),"trace"];for(let r=0;r<o.length;r++){const n=S[t(476)][t(470)][t(464)](S),a=o[r],s=e[a]||n;n.__proto__=S[t(464)](S),n.toString=s[t(462)][t(464)](s),e[a]=n}}))();const z=["object"],A=c({__name:C(466),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let s,i;const c=n,{nodes:m}=([s,i]=l((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(427)}))),s=await s,i(),s);m[e(448)].position[e(468)](-5088.96,-3.08,39374.7),m[e(448)][e(419)][e(477)](.01);let g=null,v=null,y=null;v=new(o[e(440)])((()=>{const t=e;return y=document[t(428)]("heatmap-canvas"),y[t(450)][t(429)]=t(415),y[t(450)].top=t(478),y[t(450)].left="0",document[t(473)][t(412)](y),g=u.create({container:y,width:256,height:256,blur:t(444),radius:c[t(435)]}),g[t(413)][t(431)][t(450)].border="1px solid #5384ff",g[t(413)][t(431)].onclick=function(n){const e=t;g[e(447)]({x:n[e(449)],y:n.layerY,value:1,radius:c[e(435)]}),g[e(437)](1),v&&(v.needsUpdate=!0)},g})()[e(413)][e(431)]);const w={vertexShader:e(465),fragmentShader:e(438),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:v}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(456)]},b=new r(w);m[e(448)].material=b;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:r}=t[n(425)];t[n(418)]("uv");const s=o.x-r.x,i=o.z-r.z,u=[];for(let e=0;e<t[n(474)][n(429)][n(436)];e++)u[n(424)]((t[n(474)][n(429)][n(454)](e)-r.x)/s),u[n(424)]((t[n(474)][n(429)][n(467)](e)-r.z)/i);const c=new Float32Array(u);t.setAttribute("uv",new a(c,2))})(m.mesh_0[e(411)]),p((()=>{const t=e;y[t(450)][t(459)]=""+(c[t(463)]?t(433):t(471))})),(t,n)=>{const o=e;return f(),d(o(439),{object:h(m)[o(448)]},null,8,z)}}});function M(t){function n(t){const e=T;if("string"==typeof t)return function(t){}[e(476)](e(442)).apply(e(423));1!==(""+t/t).length||t%20==0?function(){return!0}[e(476)](e(441)+"gger").call(e(461)):function(){return!1}[e(476)](e(441)+e(472))[e(432)](e(475)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function O(){const t=["DoubleSide","test","log","display","return (function() ","action","toString","show2dCanvas","bind","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","heatmapClickCom","getZ","set","20TOuiZm","prototype","none","gger","body","attributes","stateObject","constructor","setScalar","40px","653536CarMKv","geometry","appendChild","_renderer","table","absolute","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","617238zLfBjV","deleteAttribute","scale","23481QqHiHj","8QdOkMj","input","counter","push","boundingBox","4095212BIjewP","./draco/","createElement","position","2616906xgHloO","canvas","apply","block","init","radius","count","setDataMax","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","primitive","Texture","debu","while (true) {}",'{}.constructor("return this")( )',"0.8","410PFPyVE","41514KJSOrX","addData","mesh_0","layerX","style","6Trizdg","4365781uAwQNG","console","getX","exception"];return(O=function(){return t})()}const B=P;!function(t,n){const e=P,o=U();for(;;)try{if(135643===parseInt(e(192))/1+-parseInt(e(181))/2*(parseInt(e(188))/3)+-parseInt(e(194))/4*(parseInt(e(201))/5)+parseInt(e(190))/6+parseInt(e(200))/7+parseInt(e(185))/8*(-parseInt(e(209))/9)+parseInt(e(164))/10*(parseInt(e(166))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(175)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=P,n=new RegExp(t(178)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=E("init");n.test(o+t(206))&&e[t(202)](o+"input")?E():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(175)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=U();return(P=function(t,n){return e[t-=164]})(t,n)}function U(){const t=["error","TresCanvas","11277CzLfdW","110omnkTY","heatmapClick","203049pTtRko","trace","table","call","action","显示二维图","bind","debu","info","apply","string","圆圈的大小","function *\\( *\\)","console","constructor","30hSVNAi","toString","stateObject","#030311","1168DuTaBv","prototype","addBinding","19137kNmffa","exception","1509888JONjZw","radius","123647lmjeAh","warn","8wwklxS","TresGridHelper","addButton","TresPerspectiveCamera","TresDirectionalLight","log","304850vUWLqC","519070MkbxRl","test","gger","while (true) {}","length","chain"];return(U=function(){return t})()}R(void 0,(function(){const t=P,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n.console=n[t(179)]||{},o=[t(199),t(193),t(174),t(207),t(189),t(168),t(167)];for(let r=0;r<o[t(205)];r++){const n=R[t(180)][t(186)][t(172)](R),a=o[r],s=e[a]||n;n.__proto__=R.bind(R),n[t(182)]=s[t(182)][t(172)](s),e[a]=n}}))();const Z=c({__name:B(165),setup(t){const o=B,r={clearColor:o(184),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u[o(187)](a,"show2dCanvas",{label:o(171)}),u[o(187)](a,o(191),{label:o(177),min:.1,max:30,step:.1}),u[o(196)]({title:"点击左侧蓝色画框"}),(t,e)=>{const s=o,i=g(s(208));return f(),v(i,I(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=w(s(197),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w(s(198),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=w(s(195),{args:[50,25]},null,-1)),(f(),v(x,null,{default:y((()=>[b(A,_(j(a)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=P;if(typeof t===e(176))return function(t){}[e(180)](e(204))[e(175)]("counter");1!==(""+t/t)[e(205)]||t%20==0?function(){return!0}[e(180)]("debugger")[e(169)](e(170)):function(){return!1}[e(180)](e(173)+e(203))[e(175)](e(183)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
