import{_ as t,cL as n,ak as e,b as o}from"./three.FyUEtfsR1741658416045.js";import{P as r}from"./tweakpane.yDiyAAkA1741658416045.js";import{m as s,e as i}from"./@tresjs.W3PFJhMo1741658416045.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.jjDNcSWj1741658416045.js";import{d as g,a2 as h,w as d,o as j,H as w,u as b,v as x,r as v,e as y,j as I,g as M,f as _,al as z,m as C,F as k}from"./@vue.NRI7TcgI1741658416045.js";import{_ as S}from"./raycasterEvent.fcPQZ-El1741658416045.js";import{a as B}from"./utils.JhMsEbjG1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";import"./@mapbox.lMdYodhq1741658416045.js";import"./three-mesh-bvh.FHydkdim1741658416045.js";import"./three-custom-shader-material.irEwOpzM1741658416045.js";import"./@fesjs.hAnhKQG-1741658416045.js";import"./vue-router.qhodDV9M1741658416045.js";import"./lodash-es.pklfUAS51741658416045.js";import"./@qlin.yHhFDldE1741658416045.js";import"./pinia.Iw2DqQac1741658416045.js";import"./@floating-ui.BPbuo5Gx1741658416045.js";import"./@juggle.7yjBMqoW1741658416045.js";import"./@tweenjs.J1BAvmPw1741658416045.js";import"./utils.2o1PLPEO1741658416045.js";import"./http.egDqJEpC1741658416045.js";import"./axios.qd3pZFDv1741658416045.js";import"./color.d31DGCp51741658416045.js";import"./@amap.smZgnC9y1741658416045.js";import"./color-string.F9CWfQ_31741658416045.js";import"./color-name.KJDJ-2jO1741658416045.js";import"./simple-swizzle.W_rpZMnR1741658416045.js";import"./is-arrayish.Hec-Rcre1741658416045.js";import"./color-convert.tP62SV3h1741658416045.js";import"./lodash.AJudaAiQ1741658416045.js";import"./naive-ui.6JNuJA7d1741658416045.js";import"./date-fns.nmuTTsCK1741658416045.js";import"./@css-render.bcGrpXRj1741658416045.js";import"./seemly.vIsyOXn81741658416045.js";import"./css-render.HdqyEv3d1741658416045.js";import"./@emotion.ZD_ZYAgY1741658416045.js";import"./vooks.VUwia1D31741658416045.js";import"./evtd.DtfwxtIl1741658416045.js";import"./vueuc.qYRQcWZc1741658416045.js";import"./vdirs.fhMRpXo21741658416045.js";import"./treemate.dcEdf2le1741658416045.js";import"./date-fns-tz.Wmc-XSMX1741658416045.js";import"./async-validator.-YBkpS4I1741658416045.js";import"./d3-geo.piiwoeiy1741658416045.js";import"./d3-array.E5C1cfJ61741658416045.js";const R=F;!function(t,n){const e=F,o=E();for(;;)try{if(995472===-parseInt(e(274))/1+-parseInt(e(321))/2*(parseInt(e(289))/3)+-parseInt(e(306))/4+parseInt(e(319))/5+-parseInt(e(308))/6*(-parseInt(e(269))/7)+parseInt(e(251))/8*(parseInt(e(297))/9)+parseInt(e(258))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(318)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=F,n=new RegExp(t(259)),e=new RegExp(t(322),"i"),o=P("init");n[t(264)](o+t(263))&&e[t(264)](o+t(275))?P():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(318)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(t,n){const e=E();return(F=function(t,n){return e[t-=248]})(t,n)}A(void 0,(function(){const t=F;let n;try{n=Function(t(260)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(249)]||{},o=["log",t(267),t(273),t(278),"exception",t(295),"trace"];for(let s=0;s<o.length;s++){const n=A[t(291)][t(257)][t(261)](A),r=o[s],i=e[r]||n;n[t(312)]=A[t(261)](A),n.toString=i[t(288)][t(261)](i),e[r]=n}}))();const T=["object",R(255)];function E(){const t=["bbox","PerspectiveCamera","useWorker","apply","1630735DFFKHt","lookAt","202584nUFspl","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","showTileNo","console","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","1893536QlGFfn","set","length","isMonochrome","rotation","enableDamping","prototype","31419230PsojaZ","function *\\( *\\)","return (function() ","bind","Vector3","chain","test","wireframe","provider","warn","position","21eNAWTM","stateObject","filter","useStandardMaterial","info","1469531LljQka","input","source","Color","error","while (true) {}","tweenInstance","updateProjectionMatrix","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","action","call","flatShading","genBright","maxZoom","toString","15yUmxml","gger","constructor","abs","monochrome","minDistance","table","target","9loWDxS","tileMapMesh","dampingFactor","mapCenter","opposite","primitive","genSaturation","update","debu","7206012lyODaX","coordType","2136408wpGFWk","render","counter","domElement","__proto__","genContrast","value"];return(E=function(){return t})()}const L=g({__name:R(298),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const r=R,f=e,{renderer:g,scene:x}=s();(new a)[r(307)]=c;const v=new u;v[r(276)]=r(282),v[r(307)]=c;const y=new p;y[r(276)]=r(250),y[r(248)]=!1,y[r(317)]=!0;const I=new l(v,y);if(I.showBoundingBox=!1,I[r(265)]=!1,I[r(285)]=!1,I[r(272)]=!1,I[r(271)]={opposite:f[r(301)],monochrome:f[r(254)]?{r:.299,g:.587,b:.114}:null,genBright:f[r(286)],genContrast:f[r(313)],genSaturation:f[r(303)]},f[r(293)]){let n=new(t[r(277)])(f.monochrome);I.filter&&(I[r(271)].monochrome={r:n.r,g:n.g,b:n.b})}const M=new m;M[r(266)]=I,M[r(315)]=f[r(315)],M[r(287)]=f[r(287)];const _=new(t[r(316)])(60,window.innerWidth/window.innerHeight,1,1e8);_.up=new(t[r(262)])(0,1,0),_[r(268)].set(f[r(300)][0],f[r(300)][2],-f[r(300)][1]),_[r(320)](new(t[r(262)])(_[r(268)].x,0,_.position.z-2e3)),M.camera=_;let z=null;h((()=>{const t=r;g.value&&!z&&(z=new n(_,g[t(314)][t(311)]),z[t(256)]=!0,z[t(299)]=.05,z[t(294)]=600,z.position0.set(_[t(268)].x,_[t(268)].y,_[t(268)].z),z[t(296)][t(252)](_[t(268)].x,0,_[t(268)].z-2e3))})),d((()=>[f[r(301)],f[r(254)],f[r(293)]]),(([n,e,o])=>{const s=r;if(I[s(271)]){let r=new(t[s(277)])(o);I.filter[s(301)]=n,I[s(271)][s(293)]=e?{r:r.r,g:r.g,b:r.b}:null}})),d((()=>[f[r(286)],f.genContrast,f[r(303)]]),(([t,n,e])=>{const o=r;I.filter&&(I[o(271)][o(286)]=t,I[o(271)][o(313)]=n,I[o(271)][o(303)]=e)}));const{onLoop:C}=i();return C((()=>{var t;const n=r;if(g[n(314)]){null==(t=f[n(280)])||t[n(304)](),z&&z[n(304)](),M[n(304)]();const e=50*Math[n(292)](_.position.y);_.far=e+5e3,_[n(281)](),g[n(314)][n(309)](x[n(314)],_)}})),o({camera:_,map:M,orbitControl:z}),(t,n)=>{const e=r;return j(),w(e(302),{object:b(M),rotation:[-Math.PI/2,0,0]},null,8,T)}}});function P(t){function n(t){const e=F;if("string"==typeof t)return function(t){}[e(291)](e(279))[e(318)](e(310));1!==(""+t/t)[e(253)]||t%20==0?function(){return!0}[e(291)](e(305)+e(290))[e(284)](e(283)):function(){return!1}.constructor(e(305)+e(290))[e(318)](e(270)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=Q;!function(t,n){const e=Q,o=J();for(;;)try{if(383472===-parseInt(e(202))/1*(parseInt(e(169))/2)+-parseInt(e(165))/3+parseInt(e(187))/4*(parseInt(e(181))/5)+-parseInt(e(171))/6+parseInt(e(158))/7*(parseInt(e(180))/8)+parseInt(e(173))/9+-parseInt(e(195))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(168)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=Q,n=new RegExp(t(166)),e=new RegExp(t(212),"i"),o=$(t(193));n[t(185)](o+"chain")&&e.test(o+t(213))?$():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(168)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(){const t=["5965976LxvMAT","15VSdZgx","info","gger","action","test","bind","94292sZuaHH","warn","stateObject","manual","change","牛首山","init","tileMapMeshRef","1888740jgJpqh","单色滤镜","genContrast","call","__proto__","#201919","genBright","66187GSifJJ",'{}.constructor("return this")( )',"list","xjk","prototype","tileMapRef","addBinding","nss","滤镜颜色","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","toString","length","return (function() ","monochrome","debu","orbitControl","TresCanvas","7RAZerU","trace","table","console","tweenInstance","while (true) {}","constructor","550956RIWBQI","function *\\( *\\)","value","apply","2MLQkgt","exception","3589650PeEkpn","genSaturation","5435946wKRUTq","string","counter","tileMap","NoToneMapping","对比度","error"];return(J=function(){return t})()}function Q(t,n){const e=J();return(Q=function(t,n){return e[t-=151]})(t,n)}H(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(153)+t(203)+");")()}catch(e){n=window}return n}(),e=n[t(161)]=n[t(161)]||{},o=["log",t(188),t(182),t(179),t(170),t(160),t(159)];for(let r=0;r<o[t(152)];r++){const n=H[t(164)][t(206)][t(186)](H),s=o[r],i=e[s]||n;n[t(199)]=H[t(186)](H),n[t(151)]=i.toString.bind(i),e[s]=n}}))();const U=g({__name:W(176),setup(n){const s=W,i=f(118.779958,32.017136),a=[i[0],i[1],5e3],c=x(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:a,tweenInstance:null}),p=new r({title:"参数"});p[s(208)](u,"opposite",{label:"反色"}),p[s(208)](u,s(201),{label:"高亮",min:.1,max:3,step:.1}),p[s(208)](u,s(197),{label:s(178),min:.1,max:3,step:.1}),p[s(208)](u,s(172),{label:"饱和度",min:.1,max:3,step:.1}),p[s(208)](u,"isMonochrome",{label:s(196)}),p[s(208)](u,s(154),{label:s(210)});const l={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p.addBlade({view:s(204),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:"新街口",value:s(205)},{text:s(192),value:s(209)}],value:"at"}).on(s(191),(n=>{const e=s,o=new(t[e(211)])(l[n[e(167)]][0],2e3,-l[n.value][1]);u[e(162)]=B(c[e(167)].camera,o,c[e(167)][e(156)],[0,-300],4e3)}));const m=v({clearColor:s(200),antialias:!0,logarithmicDepthBuffer:!0,renderMode:s(190),outputColorSpace:e,toneMapping:t[s(177)]});return setTimeout((()=>{const t=s,n=l.at,e=new o(n[0],1600,-n[1]);u[t(162)]=B(c.value.camera,e,c[t(167)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=s,o=y(e(157));return j(),w(k,null,[I(o,C(m,{"window-size":""}),{default:M((()=>[(j(),_(z,null,{default:M((()=>[I(L,C(u,{ref_key:e(194),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(S,{tileMapRef:c[e(167)]},null,8,[e(207)])],64)}}});function $(t){function n(t){const e=Q;if(typeof t===e(174))return function(t){}[e(164)](e(163))[e(168)](e(175));1!==(""+t/t)[e(152)]||t%20==0?function(){return!0}[e(164)](e(155)+e(183))[e(198)](e(184)):function(){return!1}.constructor(e(155)+e(183))[e(168)](e(189)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
