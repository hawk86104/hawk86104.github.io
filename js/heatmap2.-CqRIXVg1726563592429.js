import{P as t}from"./tweakpane.yHWGBmom1726563592429.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.ZsPp_lk11726563592429.js";import{_ as r}from"./heatmap.js-fix.DAkLDRnh1726563592429.js";import{h as i,_ as c,cr as s,m as u,a0 as a}from"./three.ZWd_rX7H1726563592429.js";import{r as p}from"./utils.Z-lsLrXZ1726563592429.js";import{d as f}from"./pinia.DLSH1Ooz1726563592429.js";import{b as l,d as h,a3 as d,o as m,E as g,L as y,u as v,F as I,q as w,V as b,O as _,Q as j,I as x,M as E,a4 as S,r as z,j as M,g as Z,m as R}from"./@vue.bvMz0l_u1726563592429.js";import{c as D,d as T,a as k}from"./three-mesh-bvh.Z7OdME_M1726563592429.js";import{_ as O}from"./@fesjs.Kb69K-9r1726563592429.js";import"./@tresjs.Mu0zjs701726563592429.js";import"./@vueuse.a2m4N83v1726563592429.js";import"./three-custom-shader-material.fdrKMsxZ1726563592429.js";import"./object-hash.PY2g7Wtg1726563592429.js";import"./@amap.JADYh6_E1726563592429.js";import"./jszip.ZHd90Dyy1726563592429.js";import"./glsl-tokenizer.Mx0qLbNn1726563592429.js";import"./glsl-token-string.5NNBceO91726563592429.js";import"./glsl-token-functions._R3ANBWq1726563592429.js";import"./vue-router.69lN8_NV1726563592429.js";import"./lodash-es.guXTxyfJ1726563592429.js";import"./@qlin.yHhFDldE1726563592429.js";import"./@floating-ui.BPbuo5Gx1726563592429.js";import"./@juggle.7yjBMqoW1726563592429.js";!function(t,n){const e=G,o=P();for(;;)try{if(750126===-parseInt(e(396))/1*(parseInt(e(397))/2)+parseInt(e(368))/3+-parseInt(e(344))/4*(-parseInt(e(379))/5)+parseInt(e(364))/6*(parseInt(e(386))/7)+-parseInt(e(383))/8+-parseInt(e(361))/9+-parseInt(e(395))/10*(-parseInt(e(352))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(398)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=G,n=new RegExp(t(345)),e=new RegExp(t(362),"i"),o=$(t(358));n.test(o+t(340))&&e[t(384)](o+t(392))?$():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(398)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(t,n){const e=P();return(G=function(t,n){return e[t-=340]})(t,n)}F(void 0,(function(){const t=G;let n;try{n=Function(t(372)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(388)]||{},o=["log",t(363),t(374),t(351),t(341),t(371),t(370)];for(let i=0;i<o[t(347)];i++){const n=F[t(376)][t(389)].bind(F),r=o[i],c=e[r]||n;n[t(356)]=F[t(393)](F),n[t(353)]=c[t(353)][t(393)](c),e[r]=n}}))();const C=(t,n)=>t[G(343)](n)+-10;function P(){const t=["return (function() ","_config","info","height","constructor","position","setData","138415DpSzxX","body","display","counter","5250552DmzcdF","test","absolute","52143qQnnhQ","push","console","prototype","rgb(0,255,0)","string","input","bind","action","26990eySPaY","1SkcrfZ","2324566ypJnxK","apply","chain","exception","left","getValueAt","108ZJNkoP","function *\\( *\\)","randInt","length","yellow","createElement","call","error","9119JdWoDg","toString","gger","rgb(255,0,0)","__proto__","debu","init","width","create","10438371JmChHq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","222brCEGw","style","none","stateObject","1404066sukCLq","appendChild","trace","table"];return(P=function(){return t})()}function $(t){function n(t){const e=G;if(typeof t===e(391))return function(t){}[e(376)]("while (true) {}")[e(398)](e(382));1!==(""+t/t)[e(347)]||t%20==0?function(){return!0}[e(376)](e(357)+e(354))[e(350)](e(394)):function(){return!1}.constructor(e(357)+"gger")[e(398)](e(367)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=K;function U(){const t=["bind","buildingsHeatmap","234CuaHvO","console","log","table","init","10izXGMr","value","string","test","debu","7847973GyhONi","action","105185TGlJNZ","18FQROkF","3332944ysTQSQ","440644gTAnMo","toString","input","717064zKTEsd","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","apply","length","warn","counter","return (function() ","10539636GlYCbx","21IpGCIh","constructor","__proto__","prototype","gger","error","info",'{}.constructor("return this")( )',"22EZNBoU","1680440cjgZau"];return(U=function(){return t})()}!function(t,n){const e=K,o=U();for(;;)try{if(922808===parseInt(e(523))/1+parseInt(e(505))/2+-parseInt(e(500))/3*(parseInt(e(502))/4)+-parseInt(e(499))/5*(parseInt(e(526))/6)+-parseInt(e(514))/7*(-parseInt(e(501))/8)+parseInt(e(497))/9*(parseInt(e(531))/10)+parseInt(e(522))/11*(-parseInt(e(513))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(508)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=K,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(506),"i"),o=V(t(530));n[t(534)](o+"chain")&&e[t(534)](o+t(504))?V():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(508)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(512)+t(521)+");")()}catch(e){n=window}return n}(),e=n[t(527)]=n.console||{},o=[t(528),t(510),t(520),t(519),"exception",t(529),"trace"];for(let r=0;r<o[t(509)];r++){const n=J.constructor[t(517)][t(524)](J),i=o[r],c=e[i]||n;n[t(516)]=J.bind(J),n[t(503)]=c[t(503)][t(524)](c),e[i]=n}}))();const L=f(Q(525),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[K(532)]=n},setTemperature:function(t){n[K(532)]=t}}}));function K(t,n){const e=U();return(K=function(t,n){return e[t-=496]})(t,n)}function V(t){function n(t){const e=K;if(typeof t===e(533))return function(t){}[e(515)](e(507))[e(508)](e(511));1!==(""+t/t).length||t%20==0?function(){return!0}[e(515)]("debu"+e(518)).call(e(498)):function(){return!1}.constructor(e(496)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=Y;!function(t,n){const e=Y,o=tt();for(;;)try{if(972406===parseInt(e(404))/1+-parseInt(e(367))/2*(parseInt(e(407))/3)+parseInt(e(387))/4+parseInt(e(397))/5*(parseInt(e(396))/6)+parseInt(e(421))/7+parseInt(e(368))/8+-parseInt(e(381))/9*(parseInt(e(374))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(423)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(385),"i"),o=et(t(414));n[t(408)](o+"chain")&&e[t(408)](o+t(380))?et():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(423)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=tt();return(Y=function(t,n){return e[t-=355]})(t,n)}N(void 0,(function(){const t=Y;let n;try{n=Function(t(405)+t(359)+");")()}catch(r){n=window}const e=n[t(386)]=n[t(386)]||{},o=["log","warn",t(425),"error",t(393),t(369),t(389)];for(let i=0;i<o[t(384)];i++){const n=N.constructor[t(401)][t(388)](N),r=o[i],c=e[r]||n;n[t(416)]=N[t(388)](N),n.toString=c[t(358)][t(388)](c),e[r]=n}}))();const W=["object",q(364)],X=[q(365)];function tt(){const t=["_renderer","info","constructor","log","needsUpdate","toString",'{}.constructor("return this")( )',"_config","canvas","buildingsHeatmap","model","rotation-x","object","value","31576ghYuEG","12635296rSwKGy","table","primitive","makeRotationX","computeBoundsTree","call","60ZJVhYW","uniforms","uOpacity","city","setTemperature","mergeGeometries","input","5231169epIEKS","Mesh","land","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","2107840VMredz","bind","trace","matrix","opacity","attributes","exception","数值：","BufferGeometry","492imUvKm","53965LIOKin","normal","children","width","prototype","action","clone","17838BFLVAC","return (function() ","geometry","81wSgEFZ","test","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","debu","counter","$patch","Texture","init","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","__proto__","raycast","Matrix4","applyMatrix4","height","13138244vDGyNd","stateObject","apply"];return(tt=function(){return t})()}const nt=h({__name:q(362),props:{model:{},opacity:{default:1}},setup(t){const n=q;(()=>{const t=Y;c[t(395)][t(401)][t(372)]=D,c[t(395)][t(401)].disposeBoundsTree=T,c[t(382)][t(401)][t(417)]=k})();const e=t,o=((t=250,n=250,e=!0)=>{const o=G,i=document[o(349)]("heatmap-canvas");return i[o(365)][o(377)]=o(385),!e&&(i.style[o(381)]=o(366)),i[o(365)].top="0",i[o(365)][o(342)]="0",document[o(380)][o(369)](i),r[o(360)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(390),.85:o(348),1:o(355)}})})();((t,n)=>{const e=G;if(!n){let o=0;for(n=[];o<1e3;)n[e(387)]({x:i[e(346)](1,t._config[e(359)]),y:i.randInt(1,t[e(373)][e(375)]),value:i.randInt(-10,36)}),o++}t[e(378)]({max:36,min:-10,data:n})})(o);const f=new(c[n(413)])(o[n(424)][n(361)]);f[n(357)]=!0;const l=e[n(363)][n(377)][n(403)]();delete l[n(406)][n(392)][n(398)],delete l.geometry[n(392)].uv;const h=l[n(406)].clone().applyMatrix4(l[n(390)]),w=e[n(363)][n(383)].clone();delete w.geometry[n(392)][n(398)];const b=w[n(406)][n(403)]()[n(419)](w[n(390)]),_=s[n(379)]([h,b]);_[n(419)]((new(c[n(418)]))[n(371)](Math.PI/2)),p(_),_.computeBoundsTree();const j=(t=>{const o=n;return new u({vertexShader:o(415),fragmentShader:o(409),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(f),x=new(c[n(382)])(_,j);d((()=>{const t=n;e[t(391)]&&(j[t(375)][t(376)][t(366)]=e.opacity)}));const E=L(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(360)][e(400)],y:(1-t.uv.y)*o[e(360)][e(420)]};console[e(356)](e(394),t),console[e(356)]("数值———：",C(o,n)),E[e(378)](C(o,n))}},z=t=>{t&&E[n(412)]({showDiv:!0})},M=t=>{t&&E.setShowDiv(!1)};return(t,o)=>{const r=n;return m(),g(I,null,[y("primitive",{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:z,onPointerLeave:M},null,40,W),y(r(370),{object:e[r(363)][r(363)][r(399)][0][r(403)]()},null,8,X)],64)}}});function et(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(355)]("while (true) {}")[e(423)](e(411));1!==(""+t/t)[e(384)]||t%20==0?function(){return!0}[e(355)](e(410)+"gger")[e(373)](e(402)):function(){return!1}[e(355)]("debugger")[e(423)](e(422)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=O({__name:"dataDiv",setup(t){const n=L(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:E(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=st,o=ct();for(;;)try{if(600016===-parseInt(e(368))/1+parseInt(e(347))/2*(parseInt(e(344))/3)+parseInt(e(364))/4*(-parseInt(e(334))/5)+parseInt(e(339))/6*(-parseInt(e(352))/7)+-parseInt(e(362))/8+parseInt(e(361))/9*(parseInt(e(357))/10)+-parseInt(e(358))/11*(-parseInt(e(354))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=st,n=new RegExp(t(333)),e=new RegExp(t(346),"i"),o=at(t(367));n[t(342)](o+"chain")&&e[t(342)](o+"input")?at():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(371)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["1653564mCWPrd","error","#000","1736352EjplsK","241816CFxbIE",'{}.constructor("return this")( )',"24QQLIeT","while (true) {}","info","init","1112547jRyIIU","trace","__proto__","apply","call","length","model","function *\\( *\\)","191215dyiufd","gger","debu","透明度","toString","66wTffHS","bind","stateObject","test","prototype","21RJTbzV","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","309604ulIEym","string","opacity","constructor","exception","158354DAyeSe","value","60JwZrnt","console","table","20eaGRbM"];return(ct=function(){return t})()}function st(t,n){const e=ct();return(st=function(t,n){return e[t-=331]})(t,n)}it(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function("return (function() "+t(363)+");")()}catch(e){n=window}return n}(),e=n[t(355)]=n[t(355)]||{},o=["log","warn",t(366),t(359),t(351),t(356),t(369)];for(let r=0;r<o[t(331)];r++){const n=it[t(350)][t(343)][t(340)](it),i=o[r],c=e[i]||n;n[t(370)]=it[t(340)](it),n[t(338)]=c[t(338)].bind(c),e[i]=n}}))();const ut=h({__name:"heatmap2",async setup(r){const i=st;let c,s;const u=l(!1),a=([c,s]=S((()=>o())),c=await c,s(),c);u[i(353)]=!0;const p=z({width:1,color:i(360),opacity:1,show:!0}),f=z({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(f,i(349),{label:i(337),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(I,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:Z((()=>[M(nt,R({model:v(a)},f),null,16,[r(332)]),M(n,R(p,{builds:v(a).city}),null,16,["builds"])])),_:1}),M(ot)],64)}}});function at(t){function n(t){const e=st;if(typeof t===e(348))return function(t){}.constructor(e(365))[e(371)](e(345));1!==(""+t/t).length||t%20==0?function(){return!0}[e(350)](e(336)+e(335))[e(372)]("action"):function(){return!1}[e(350)](e(336)+e(335))[e(371)](e(341)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
