import{_ as t,bT as n,a3 as r,au as o,C as e}from"./three.874nNzAX1726273176332.js";import{z as a}from"./@tresjs.BFyWuCYn1726273176332.js";import{d as s,b as i,a4 as u,w as c,o as f,E as l,L as p,aj as h,ak as d}from"./@vue.JNsx1iN61726273176332.js";!function(t,n){const r=m,o=w();for(;;)try{if(348144===parseInt(r(212))/1+-parseInt(r(203))/2+-parseInt(r(190))/3*(-parseInt(r(210))/4)+parseInt(r(188))/5+parseInt(r(209))/6*(-parseInt(r(211))/7)+parseInt(r(236))/8*(-parseInt(r(220))/9)+-parseInt(r(234))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[m(221)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function m(t,n){const r=w();return(m=function(t,n){return r[t-=184]})(t,n)}!function(){g(this,(function(){const t=m,n=new RegExp(t(199)),r=new RegExp(t(189),"i"),o=x(t(217));n.test(o+t(224))&&r[t(213)](o+"input")?x():o("0")}))()}();const v=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[m(221)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function w(){const t=["99YYbbjP","table","call","length","\n       varying vec2 vUv;\n\t\t\t \t","shadowmask_pars_fragment","bind","console","warn","function *\\( *\\)","defaultnormal_vertex","exception","packing","1020000xyxWdR","debu","string","shadowmap_vertex","info","begin_vertex","75876zhykMB","81392hBWjtf","189tybNJO","588516XrDSfr","test","lights_pars_begin","log","common","init","ShaderChunk","\n          ","3141279veNDvq","apply","project_vertex",'{}.constructor("return this")( )',"chain","constructor","error","\n       void main() {\n\t\t\t\t\t","\n\t ","return (function() ","stateObject","shadowmap_pars_fragment","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","worldpos_vertex","3658500leZutg","toString","8zDWJPi","counter","__proto__","\n      \t","bsdfs","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","3272335OJJiQq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(w=function(){return t})()}v(void 0,(function(){const t=m;let n;try{n=Function(t(229)+t(223)+");")()}catch(e){n=window}const r=n[t(197)]=n[t(197)]||{},o=[t(215),t(198),t(207),t(226),t(201),t(191),"trace"];for(let a=0;a<o.length;a++){const n=v[t(225)].prototype[t(196)](v),e=o[a],s=r[e]||n;n[t(184)]=v[t(196)](v),n[t(235)]=s[t(235)][t(196)](s),r[e]=n}}))();const _=()=>{const r=m;return r(194)+t[r(218)][r(216)]+r(185)+t[r(218)][r(186)]+"\n      \t"+t[r(218)].shadowmap_pars_vertex+r(227)+t[r(218)].beginnormal_vertex+r(219)+t[r(218)][r(200)]+r(219)+n[r(208)]+"\n          "+t[r(218)][r(222)]+"\n          "+t[r(218)][r(233)]+r(219)+t[r(218)][r(206)]+r(187)},b=()=>{const n=m;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[n(218)].common+"\n\t "+t[n(218)][n(202)]+"\n\t "+t[n(218)].bsdfs+n(228)+t[n(218)][n(214)]+n(228)+t[n(218)][n(231)]+"\n\t "+t[n(218)][n(195)]+n(232)};function x(t){function n(t){const r=m;if(typeof t===r(205))return function(t){}[r(225)]("while (true) {}").apply(r(237));1!==(""+t/t)[r(193)]||t%20==0?function(){return!0}[r(225)](r(204)+"gger")[r(192)]("action"):function(){return!1}[r(225)](r(204)+"gger").apply(r(230)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const y=k;!function(t,n){const r=k,o=z();for(;;)try{if(517322===-parseInt(r(298))/1*(parseInt(r(306))/2)+-parseInt(r(288))/3*(parseInt(r(302))/4)+-parseInt(r(273))/5*(-parseInt(r(309))/6)+-parseInt(r(305))/7*(parseInt(r(301))/8)+-parseInt(r(266))/9+parseInt(r(290))/10*(parseInt(r(292))/11)+parseInt(r(308))/12*(parseInt(r(299))/13))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const I=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[k(310)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){I(this,(function(){const t=k,n=new RegExp(t(307)),r=new RegExp(t(317),"i"),o=T(t(320));n.test(o+t(319))&&r.test(o+"input")?T():o("0")}))()}();const S=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[k(310)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=k;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(e){n=window}const r=n.console=n[t(271)]||{},o=["log",t(281),t(293),"error",t(276),t(285),t(280)];for(let a=0;a<o[t(274)];a++){const n=S[t(294)].prototype.bind(S),e=o[a],s=r[e]||n;n[t(282)]=S.bind(S),n[t(284)]=s[t(284)][t(283)](s),r[e]=n}}))();const C=[y(311)],j=[y(313)];function k(t,n){const r=z();return(k=function(t,n){return r[t-=265]})(t,n)}function z(){const t=["616326DriGtf","apply","rotation-x","DoubleSide","args","debu","string","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","shadowColor","chain","init","color","3987594LYZHfZ","wrapS","whiteFloorMesh","TresMesh","value","console","UniformsUtils","20vajDLT","length","counter","exception","call","uShadowColor","uniforms","trace","warn","__proto__","bind","toString","table","TresShaderMaterial","fEdge","3GeDJGO","TresPlaneGeometry","5813470kSMJHd","uColor","11DEysOX","info","constructor","edge","action","Color","9tyfBrz","13FtnRZf","#990","56Mhulad","1636748rRiyFz","tmRef","gger","121975BvbRRI","206262lLJmka","function *\\( *\\)","17129976PqwtIC"];return(z=function(){return t})()}const M=s({__name:y(268),props:{size:{default:[20,20]},color:{default:y(300)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const s=y;let g,m;const v=n,w=i(),{map:x}=([g,m]=u((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);x[s(267)]=x.wrapT=r;const I={uniforms:t[s(272)].merge([o.lights,{uTexture:{type:"t",value:x},uColor:{value:new(t[s(297)])(v.color)},uShadowColor:{value:new(t[s(297)])(v[s(318)])},fEdge:{type:"f",value:v[s(295)]}}]),side:t[s(312)],vertexShader:_(),fragmentShader:b(),lights:!0,transparent:!0};return c((()=>v.edge),(t=>{const n=s;I[n(279)][n(287)].value=t})),c((()=>v[s(265)]),(t=>{const n=s;I.uniforms[n(291)][n(270)]=new e(v[n(265)])})),c((()=>v[s(318)]),(t=>{const n=s;I.uniforms[n(278)].value=new e(v[n(318)])})),(t,n)=>{const r=s;return f(),l(r(269),{ref_key:r(303),ref:w,"rotation-x":-Math.PI/2},[p(r(289),{args:v.size},null,8,j),p(r(286),h(d(I)),null,16)],8,C)}}});function T(t){function n(t){const r=k;if(typeof t===r(315))return function(t){}.constructor(r(316))[r(310)](r(275));1!==(""+t/t)[r(274)]||t%20==0?function(){return!0}[r(294)](r(314)+r(304))[r(277)](r(296)):function(){return!1}[r(294)](r(314)+r(304))[r(310)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
