import{_ as t,cy as n}from"./three.0W5n8UBO1729820105274.js";import{P as e}from"./tweakpane.yHWGBmom1729820105274.js";import{p as o,U as r}from"./@tresjs.S6PXiQcG1729820105274.js";import{P as s,b as i,c as a,M as c,T as u,a as p,d as l}from"./index.AGj7hf7C1729820105274.js";import{d as f,a3 as m,w as g,o as d,E as h,u as j,Y as w,r as b,e as x,j as v,g as y,f as I,al as M,m as _,F as z}from"./@vue.bvMz0l_u1729820105274.js";import{_ as B}from"./raycasterEvent.LAmQA7_W1729820105274.js";import{a as S}from"./utils.CfWFfotR1729820105274.js";import"./@vueuse.3M_MDcJc1729820105274.js";import"./@mapbox.Ww2jvmAD1729820105274.js";import"./@amap.UuvR34pR1729820105274.js";import"./three-mesh-bvh.9iOtb7lt1729820105274.js";import"./three-custom-shader-material.WIBIoaCk1729820105274.js";import"./object-hash.O5Web0p21729820105274.js";import"./jszip.nToJU0Sc1729820105274.js";import"./glsl-tokenizer.fZI0jxNo1729820105274.js";import"./glsl-token-string.KmSVHImF1729820105274.js";import"./glsl-token-functions.IcwySNVS1729820105274.js";import"./@fesjs.NJfsHdwi1729820105274.js";import"./vue-router.RgcUnLYP1729820105274.js";import"./lodash-es.guXTxyfJ1729820105274.js";import"./@qlin.yHhFDldE1729820105274.js";import"./pinia.Qyaqm_as1729820105274.js";import"./@floating-ui.BPbuo5Gx1729820105274.js";import"./@juggle.7yjBMqoW1729820105274.js";import"./@tweenjs.zdhk2VeU1729820105274.js";import"./utils.jsETr34q1729820105274.js";import"./d3-geo.Us6QutP21729820105274.js";import"./d3-array.AhNJy1f41729820105274.js";import"./http.IQZifAnT1729820105274.js";import"./axios.Ng308AU61729820105274.js";import"./color.-qkEYTtY1729820105274.js";import"./color-string.oe_3DpAz1729820105274.js";import"./color-name.DExpPTDh1729820105274.js";import"./simple-swizzle.y2SZKYh01729820105274.js";import"./is-arrayish.PNyYoloQ1729820105274.js";import"./color-convert.lkcSdBtb1729820105274.js";import"./lodash.c65NG3Sb1729820105274.js";const C=P;!function(t,n){const e=P,o=R();for(;;)try{if(504757===-parseInt(e(225))/1+-parseInt(e(211))/2*(-parseInt(e(259))/3)+parseInt(e(220))/4*(parseInt(e(250))/5)+parseInt(e(197))/6*(-parseInt(e(231))/7)+-parseInt(e(254))/8*(-parseInt(e(227))/9)+-parseInt(e(201))/10+parseInt(e(216))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(223)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=P,n=new RegExp(t(213)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=F(t(222));n.test(o+"chain")&&e.test(o+t(195))?F():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(223)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(){const t=["while (true) {}","opposite","updateProjectionMatrix","gger","return (function() ","filter","render","wireframe","string","minDistance","update","log","lookAt","__proto__","maxZoom","exception","useWorker","console","865nyORgV","object","source","debu","1583696PMoFdp","innerWidth","mapCenter","position","Color","3tpacSk","monochrome","PerspectiveCamera","provider","#fff","tileMapMesh",'{}.constructor("return this")( )',"length","genBright","trace","bbox","constructor","input","tweenInstance","3410298xTMmFb","showTileNo","action","genSaturation","9743330afKWrJ","value","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","far","coordType","Vector3","abs","genContrast","call","target","1913530zkoYfk","set","function *\\( *\\)","rotation","stateObject","8942373iPLPmd","prototype","innerHeight","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","5988eXFosj","useStandardMaterial","init","apply","isMonochrome","971026loijLq","warn","45AiJXNN","bind","counter","toString","7vPXSib"];return(R=function(){return t})()}E(void 0,(function(){const t=P;let n;try{n=Function(t(236)+t(265)+");")()}catch(r){n=window}const e=n[t(249)]=n.console||{},o=[t(243),t(226),"info","error",t(247),"table",t(268)];for(let s=0;s<o[t(266)];s++){const n=E[t(194)][t(217)][t(228)](E),r=o[s],i=e[r]||n;n[t(245)]=E.bind(E),n[t(230)]=i[t(230)][t(228)](i),e[r]=n}}))();const Z=[C(251),C(214)];function P(t,n){const e=R();return(P=function(t,n){return e[t-=193]})(t,n)}const A=f({__name:C(264),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:C(263)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:l}){const f=C,w=e,{renderer:b,scene:x}=o();(new s)[f(205)]=i;const v=new a;v[f(252)]=f(219),v[f(205)]=i;const y=new c;y[f(252)]=f(203),y[f(198)]=!1,y[f(248)]=!0;const I=new u(v,y);if(I.showBoundingBox=!1,I[f(239)]=!1,I.flatShading=!1,I[f(221)]=!1,I.filter={opposite:w[f(233)],monochrome:w[f(224)]?{r:.299,g:.587,b:.114}:null,genBright:w[f(267)],genContrast:w[f(208)],genSaturation:w[f(200)]},w[f(260)]){let n=new(t[f(258)])(w[f(260)]);I[f(237)]&&(I[f(237)][f(260)]={r:n.r,g:n.g,b:n.b})}const M=new p;M[f(262)]=I,M[f(193)]=w[f(193)],M[f(246)]=w.maxZoom;const _=new(t[f(261)])(60,window[f(255)]/window[f(218)],1,1e8);_.up=new(t[f(206)])(0,1,0),_[f(257)][f(212)](w[f(256)][0],w[f(256)][2],-w[f(256)][1]),_[f(244)](new(t[f(206)])(_[f(257)].x,0,_[f(257)].z-2e3)),M.camera=_;let z=null;m((()=>{const t=f;b.value&&!z&&(z=new n(_,b.value.domElement),z.enableDamping=!0,z.dampingFactor=.05,z[t(241)]=600,z.position0[t(212)](_[t(257)].x,_[t(257)].y,_[t(257)].z),z[t(210)].set(_[t(257)].x,0,_[t(257)].z-2e3))})),g((()=>[w.opposite,w.isMonochrome,w[f(260)]]),(([n,e,o])=>{const r=f;if(I[r(237)]){let s=new(t[r(258)])(o);I.filter[r(233)]=n,I[r(237)][r(260)]=e?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[w.genBright,w[f(208)],w[f(200)]]),(([t,n,e])=>{const o=f;I[o(237)]&&(I[o(237)][o(267)]=t,I.filter[o(208)]=n,I[o(237)].genSaturation=e)}));const{onLoop:B}=r();return B((()=>{var t;const n=f;if(b[n(202)]){null==(t=w[n(196)])||t[n(242)](),z&&z.update(),M[n(242)]();const e=50*Math[n(207)](_[n(257)].y);_[n(204)]=e+5e3,_[n(234)](),b.value[n(238)](x[n(202)],_)}})),l({camera:_,map:M,orbitControl:z}),(t,n)=>(d(),h("primitive",{object:j(M),rotation:[-Math.PI/2,0,0]},null,8,Z))}});function F(t){function n(t){const e=P;if(typeof t===e(240))return function(t){}.constructor(e(232))[e(223)](e(229));1!==(""+t/t)[e(266)]||t%20==0?function(){return!0}[e(194)](e(253)+e(235))[e(209)](e(199)):function(){return!1}.constructor(e(253)+e(235))[e(223)](e(215)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=D,o=L();for(;;)try{if(139327===parseInt(e(445))/1*(parseInt(e(443))/2)+-parseInt(e(471))/3+parseInt(e(483))/4+parseInt(e(432))/5+-parseInt(e(474))/6*(-parseInt(e(473))/7)+-parseInt(e(455))/8*(parseInt(e(441))/9)+-parseInt(e(482))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(479)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=D,n=new RegExp(t(431)),e=new RegExp(t(448),"i"),o=W("init");n[t(446)](o+t(478))&&e[t(446)](o+t(459))?W():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(479)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=L();return(D=function(t,n){return e[t-=431]})(t,n)}function L(){const t=["3wJQTMF","test","genSaturation","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding","console","return (function() ","tweenInstance","counter","prototype","44912VEDddU","新街口","error","单色滤镜","input","list","warn","while (true) {}","length","NoToneMapping","orbitControl","对比度","#4688b5","opposite","tileMapRef","debu","749244VKqWDX","change","245IdOVqv","17382uAUBmn","gger","genContrast","manual","chain","apply","monochrome","xjk","2646240lvaBVS","739224GzpwuZ","奥体中心","exception","bind","value","SRGBColorSpace","toString","string","function *\\( *\\)","736525EiJAyu","call","__proto__","TresCanvas","addBlade","Vector3","constructor","genBright","饱和度","63DLiavE","stateObject","172994UXMqBV","tileMapMeshRef"];return(L=function(){return t})()}V(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(451)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(450)]=n[t(450)]||{},o=["log",t(461),"info",t(457),t(485),"table","trace"];for(let r=0;r<o[t(463)];r++){const n=V[t(438)][t(454)].bind(V),s=o[r],i=e[s]||n;n[t(434)]=V[t(486)](V),n[t(489)]=i[t(489)][t(486)](i),e[s]=n}}))();const q=f({__name:"tileMap",setup(n){const o=D,r=l(118.779958,32.017136),s=[r[0],r[1],5e3],i=w(),a=b({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(467),mapCenter:s,tweenInstance:null}),c=new e({title:"参数"});c[o(449)](a,o(468),{label:"反色"}),c.addBinding(a,o(439),{label:"高亮",min:.1,max:3,step:.1}),c.addBinding(a,o(476),{label:o(466),min:.1,max:3,step:.1}),c[o(449)](a,o(447),{label:o(440),min:.1,max:3,step:.1}),c[o(449)](a,"isMonochrome",{label:o(458)}),c[o(449)](a,o(480),{label:"滤镜颜色"});const u={at:l(118.7425,31.9998),xjk:l(118.7842,32.0418),nss:l(118.7503,31.9082)};c[o(436)]({view:o(460),label:"飞去",options:[{text:o(484),value:"at"},{text:o(456),value:o(481)},{text:"牛首山",value:"nss"}],value:"at"}).on(o(472),(n=>{const e=o,r=new(t[e(437)])(u[n[e(487)]][0],2e3,-u[n[e(487)]][1]);a[e(452)]=S(i.value.camera,r,i[e(487)].orbitControl,[0,-300],4e3)}));const p=b({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:o(477),outputColorSpace:t[o(488)],toneMapping:t[o(464)]});return setTimeout((()=>{const n=o,e=u.at,r=new(t[n(437)])(e[0],1600,-e[1]);a.tweenInstance=S(i[n(487)].camera,r,i[n(487)][n(465)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=x(e(435));return d(),h(z,null,[v(r,_(p,{"window-size":""}),{default:y((()=>[(d(),I(M,null,{default:y((()=>[v(A,_(a,{ref_key:e(444),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),v(B,{tileMapRef:i.value},null,8,[e(469)])],64)}}});function W(t){function n(t){const e=D;if(typeof t===e(490))return function(t){}[e(438)](e(462))[e(479)](e(453));1!==(""+t/t)[e(463)]||t%20==0?function(){return!0}[e(438)](e(470)+e(475))[e(433)]("action"):function(){return!1}[e(438)](e(470)+"gger")[e(479)](e(442)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
