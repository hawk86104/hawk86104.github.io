import{m as t,e as n,b as e,a as o}from"./@tresjs.D5XVXE0C1749111073271.js";import{a9 as r,T as i,i as c,a,V as s,O as u,U as W,b2 as l,r as d,B as v,ax as f,ca as m,bc as x,l as p}from"./three.B8H7tP0r1749111073271.js";import{P as h}from"./tweakpane.C0HtAJSg1749111073271.js";import{d as g,a3 as k,h as S,e as C,o as P,f as y,I as b,j as _,u as R,ak as I,al as O,am as w,m as G}from"./@vue.Mugdq9o81749111073271.js";import{_ as q}from"./@fesjs.HpbjsMAs1749111073271.js";import"./postprocessing.CFk4752N1749111073271.js";import"./@vueuse.BjDsO4x01749111073271.js";import"./vue-router.ttOgDZer1749111073271.js";import"./lodash-es.C7pWAXPe1749111073271.js";import"./@qlin.q6OWdsQV1749111073271.js";import"./pinia.pLtK9Sf_1749111073271.js";import"./@babel.BPq7uOAK1749111073271.js";import"./@floating-ui.BFjFSAYt1749111073271.js";import"./@juggle.CcBCnTIR1749111073271.js";!function(){function t(t,n,e,o,r){return Q(n- -490,o)}function n(t,n,e,o,r){return Q(o- -449,r)}const e=N();function o(t,n,e,o,r){return Q(r- -342,t)}for(;;)try{if(130108===-parseInt(t(0,61,0,"qXx["))/1*(parseInt(o("s(px",0,0,0,262))/2)+parseInt(o("ch#m",0,0,0,237))/3*(parseInt(t(0,34,0,"cqv8"))/4)+parseInt(n(0,0,0,208,"nq%K"))/5+parseInt(n(0,0,0,156,"CnWc"))/6+-parseInt(t(0,132,0,"NPug"))/7+-parseInt(t(0,50,0,"fV0m"))/8+parseInt(Q(766-89,"HJb0"))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const D=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return Q(t- -626,o)}function r(t,n,e,o,r){return Q(t- -23,n)}if(o(17,0,0,"Rkd8")===o(-41,0,0,"8$wi")){const i=t?function(){function t(t,n,e,r,i){return o(r-1226,0,0,i)}function i(t,n,e,o,i){return r(e- -738,n)}if(i(0,"r)H(",-155)!==t(0,0,0,1101,"1pAb"))return _0x44b219[t(0,0,0,1221,"3i!k")]()[t(0,0,0,1209,"2Mf3")]("(((.+)+)+)+$").toString().constructor(_0x5f37dc)[i(0,"r)H(",-203)](o(-112- -96,0,0,"qXx["));if(e){if(i(0,"xUx%",-277)!==r(634-3,"3i!k")){const t=e[i(0,")UXC",-165)](n,arguments);return e=null,t}{const t=16*_0x29f725[i(0,"Cd4v",-191)]()|0;return("x"==_0xb0b365?t:3&t|8)[i(0,"*IOp",-241)](16)}}}:function(){};return t=!1,i}return new(_0x42d6a7[r(473,"(Koc")])}}()(void 0,(function(){function t(t,n,e,o,r){return Q(r-799,n)}function n(t,n,e,o,r){return Q(t- -163,n)}return D[n(427,"bvK9")]()[n(444,"2AP!")](n(498,"ch#m"))[t(0,"xjd5",0,0,1331)]().constructor(D)[(e="6QLK",o=697,Q(o-161,e))](t(0,"nq%K",0,0,1338));var e,o}));D();const U=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return Q(e-100,n)}if("dwTYa"!==o(0,")amN",666)){const r=t?function(){function t(t,n,e,r,i){return o(0,i,n-547)}if("wYxMd"===o(0,"HJb0",395- -228))return new(_0x20bb7a[t(0,1166,0,0,"8$wi")]);if(e){if("CIjcf"===t(0,1134,0,0,"qXx[")){const o=e[t(0,1318,0,0,"jsv0")](n,arguments);return e=null,o}_0x176d6c[t(0,1278,0,0,")UXC")](_0x1e619a)&&(_0x30d22c[_0x43149f]=_0x4d88c5(_0x4e0dfd[_0x15b8b4])),_0x426bff==_0x448e3a&&(_0x54dc99[_0x2b0f3a]=_0x131f6c)}}:function(){};return t=!1,r}return new(_0x237f66[o(0,"ch#m",631)])}}();function Q(t,n){const e=N();return Q=function(n,o){let r=e[n-=483];if(void 0===Q.CXCdcA){var i=function(t){let n="",e="",o=n+i;for(let r,i,c=0,a=0;i=t.charAt(a++);~i&&(r=c%4?64*r+i:i,c++%4)?n+=o.charCodeAt(a+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let r=0,i=n.length;r<i;r++)e+="%"+("00"+n.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(e)};const n=function(t,n){let e,o,r=[],c=0,a="";for(t=i(t),o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)c=(c+r[o]+n.charCodeAt(o%n.length))%256,e=r[o],r[o]=r[c],r[c]=e;o=0,c=0;for(let i=0;i<t.length;i++)o=(o+1)%256,c=(c+r[o])%256,e=r[o],r[o]=r[c],r[c]=e,a+=String.fromCharCode(t.charCodeAt(i)^r[(r[o]+r[c])%256]);return a};Q.KNNzUB=n,t=arguments,Q.CXCdcA=!0}const c=n+e[0],a=t[c];if(a)r=a;else{if(void 0===Q.NYOfzj){const t=function(t){this.ZrCOQC=t,this.sqHrvu=[1,0,0],this.PBffeI=function(){return"newState"},this.NPKRHJ="\\w+ *\\(\\) *{\\w+ *",this.qLGxYI="['|\"].+['|\"];? *}"};t.prototype.gkiqKV=function(){const t=new RegExp(this.NPKRHJ+this.qLGxYI).test(this.PBffeI.toString())?--this.sqHrvu[1]:--this.sqHrvu[0];return this.IyfJpn(t)},t.prototype.IyfJpn=function(t){return Boolean(~t)?this.GwqunT(this.ZrCOQC):t},t.prototype.GwqunT=function(t){for(let n=0,e=this.sqHrvu.length;n<e;n++)this.sqHrvu.push(Math.round(Math.random())),e=this.sqHrvu.length;return t(this.sqHrvu[0])},new t(Q).gkiqKV(),Q.NYOfzj=!0}r=Q.KNNzUB(r,o),t[c]=r}return r},Q(t,n)}U(void 0,(function(){function t(t,n,e,o,r){return Q(n-301,e)}function n(t,n,e,o,r){return Q(n-68,r)}function e(t,n,e,o,r){return Q(e- -735,r)}const o=function(){function t(t,n,e,o,r){return Q(n-880,r)}function n(t,n,e,o,r){return Q(o- -606,t)}if("bvoDS"!==t(0,1482,0,0,"HJb0")){let r;try{if("QxtWi"===n("2AP!",0,0,6)){let t;try{t=_0x385a88(Q(985-499,"Cd4v")+Q(499- -146,"47xS")+");")()}catch(e){t=_0x3603d6}return t}r=Function(Q(-125- -682,"Rkd8")+t(0,1528,0,0,"OdRX")+");")()}catch(o){"NbFHh"!==n("nq%K",0,0,5)?r=window:_0x28b93f=_0x4e4b7c(n("Yj7F",0,0,-31)+n("bvK9",0,0,24)+");")()}return r}return 0}(),r=o[t(0,902,"jsv0")]=o[e(0,0,-209,0,")UXC")]||{};function i(t,n,e,o,r){return Q(t- -78,o)}const c=[e(0,0,-214,0,"tkR0"),n(0,609,0,0,"Cd4v"),"info",n(0,610,0,0,"D&A%"),i(542,0,0,"G53h"),i(469,0,0,"HJb0"),e(0,0,-172,0,"xjd5")];for(let u=0;u<c[i(509,0,0,"fgew")];u++)if("fdHLD"!==n(0,614,0,0,"leiK"))_0x1bfe9a[i(483,0,0,"OdRX")]++;else{const o=U[(a="cqv8",s=1461,Q(s-826,a))].prototype.bind(U),i=c[u],W=r[i]||o;o[n(0,595,0,0,"PJ0l")]=U.bind(U),o[e(0,0,-220,0,"fgew")]=W[t(0,819,"(Koc")].bind(W),r[i]=o}var a,s}))();function N(){const t=["p8orCsvw","CSkAcSouqG","W47dPSoYrmkNzCogWQNcMCkrd8omWR3dMSogWRq3imkU","W6aiDSkmtIi","WP3dVd7cT8o6Dve","d8oSWQuTb8oRW7NdJa","W6BcLmoQW7JcTW","W6PLdeBdQmozbWbrWPKKWO0","b8kMWPFcG8ojWOhcQmklomo6WR7dRGpcJCoJW5PHW5ZdSW","s3f8W6RdIq","qmkViCk2W5G","sGNdTdnMDNq","W6SCWOvhWPrai8oUWQm","bSkmremd","E8kFdSkbza","aSkxFuSh","t8kQfmo+BSofWO8","uCkgW67cPcC","aHldJey7","qCkojCkiAG","BSk5l8kREHS","EmkqqWFcJG","s8kZEdtcMW","o8k+xc9HgCofW4q","W5BcJg8U","cmo2jupcJWepWPRdISkW","gmkMWPdcHCoAWOJdRq","WQFcLq9RWObGWPFcI8oNWRaHWPrdlgbirXjk","WPW/uGtdRq","W6e3o8oAW7m","n8kvsSoqW4W","WQCVW5XyAa","e8oPWRi","omkIWPFcHmosWPFcVa","WPhdVthcPSo6A0a","W7JdSSkOW7NcIG","W7BcV1mcda","W7TVfs7cN0ldH8knFGqkW5u","W65AW6xdHCklsCoMWPJcT8oLr8kT","n8oPs8kLgG","vmoBW7ScmZq","aSo9tSk2iYa4","fL3cSSkvW4BcQW","WP5rscPDygKMECkAnwm","W6pdTW1pWPG","rSoYW64yeW","sIpdUCoXW5K","tmotuMZdIsy","W5xcIhe4k8k7W7G","y8oXW40Eia","bSodW4CYgCkzWPVdKSoFdtCLlxu3WQrDqa3cJ8keW5r+hCoh","ge8SW6msW648W5zu","gCo5wCkWjsO+","ygxdOWlcKmkpW4PKzq","bh/cPhDEfmk1W50","WQKZtWdcV8kctcjqWQ4oWQVcPa","hSoOW4Gpea","W7uSeSoxW6q","BhpdPalcMa","imk/AILHh8oz","W4qRp8odW70","h8onrYvwW7ZdLSor","o8oLsSkH","nmkSitH8hSoyW5C5WQzNpmo3uX1Qb8kNW7zTWQNcKgRcUmkbWQORWR3dKvBcQ30","W6GMomo5W73dMCkjW6LCDSktW5tcQMi","m8kgWQ8KrSoyW40","AxZdSXpcQCkvW4DUCW","W6mGgSoCW5W","WOG/DZZdJComWPbLvYZcRa","b1hcVCkd","W6/cICowW4lcVCk5pIzzWRRcKM83oKddUHhdJxhcKmoSxSkrWQ9qW7hdI8ovhmowdmkyWOVcUSkMW7y","rsddNCo9W6yjW4dcG8ks","W5FcUKa7cW","hhhcHhDLe8k/W59v","e3FcPML6","AYFdVmoqW6q","jSoLWO0AW6i","i8kWFc9AhSopW4yZ","uJZcGmoQW4ajW5FcKSkyWRGbDmk7W6j0sqHftca0lvinw8kKumoOssOKW4C","W4G9q8ory8oiaCk4W5ZdO8kuCW","W7Ppyc8b","WPidWRPCqSk1qNDYWO5Kj8kTWP5umuBcVrj4ogPLs8k5dSkEkwSCvJy","WPWQDW0/W4/cRwlcLmogW67dOmkWW7JdPcKcWRddRseH","D3JdSXFcJ8kvW5bUxWZdKdC","W41VEGy","D8kKyapcKt5W","pKhcV2rP","g1VcPeDg","imoevtv6W6dcKSkwqG","DmkQbmo5ymoqW5G","WRlcHvCWW5eXW7BcS8oFWOHnWRC","AHpdISonW4S","xCkEW7xcRrO","CCkQcSkQW64","W7SnWPKOW7GgECkjW6ZdJCktDW","D8oWW5SibW","gCoAWOq0W5e","W7WgBW","vvpdGr/cTW","W6VcHwmVl8kUWR3cMa","EtpdOmoeW6q","lCoMWPuTgSoWWQm","W5qfW4xdISoX","WRaChYuz","WPpdOI/cUCoS","FSoklXW","W4rIqXqM","vrekWPDF","iq3dQ2CQ","u3JdOXpcJ8kjWPC","WRdcSSo2WQBdKaycW47cLCkeyf7cNa","BSoqthVdGYPI","j8kYWOaABa","W7XSrJSb","W6amBmkDuYe5WOBcP8o7WQXSW7W+WPSalCopW7W","W7uWcMCq","cg7cKCkTW6q","W6HVDXyLW5hdUW","fSkTWQGvrq","W5jRzXydW43cRwNdIW","DrufWPzvWQxdJW","lmk0WQu1rG","W7zHeLm","taadWOW","WRRcO8o9x8kPC8ov","bNhcM3zj","seDnW67dGsOSW4vg","DmkQbmo5ymoqW54","ureiWOzvWRO","W5NdGrNcR0C","WQWrWQxcLW","W6RdVJDXWOq","W4VdNdhcVMC","W5ldHrLwWO8","vmk5iSk4yqeo","zKNcTXv9WORcVmkeCSk7W4fH","uv/cSCkCWQS","e8oqWRO","DmofwCotW4bhW7hdImoDmgOuWQzNW5jjqmonpbOq","pCk4tvKzEmor","WOyKW5vPyW","WRjvW4fQWQO","tCk7WOLy","DSkZeSk4FbPukG","W4ddPrpcUCoBCNy","tmotlrhdKaRcTNCSkCkbgCkfW5z7W6dcH2FdSmk5W4xdJGddO8oA","WPJcQConx8k0AmkiWRK","bb7dV1y8W4RcJW","W4ZcGLe/omk1W7pdNq","tSkGaa","W714gLu","W7xdQSkkW5ZcLW","W5LJkh3dJSo5WQLIuXO","W4JdMGZcQ28","W6mOjCofW6xdM8k8","z8k4W6/cNbNcHmocrqu","nmoNWQaSiq","WQBdLIZcKCo5","W4LlmxldTW","WOvaW5jYWRXDya","jConW7mOdSkcWRNdMG","ru1yW7tdKa","mSkcWQS+tmoyWRnyW68XW6lcOCkXfmknDeHoAmolWOvkW5WdWPy","aK8ZW6i+","Da3dOtnSzG","W7xdRSktW6lcLL5FW5W","W6ZcRLe/gW","WQ3cNuSQW4OTWPZdLCkTW6OQW5e","eujwW5qcW6FcUCkXWR3cRsBcTG","W6uiASkg","kCoxvc5b","W7CBaKeL","b8kIWO3cKSouWOi","g8kVqvKzFSkBcmkz","xmkHxd3cVa","W7xdOmkIW7RcGq","bmktWRW8ua","W7hdMJbWWPnTW5NcMW","WP/dTYZcPSo0yea","WOqolgG4pbe","WRpcS8oWWQddNaD1W5dcU8kjxw8","WPKYpYiC","hCoIWQiBW6G","W5RcHgWV","WOSaWRtcLSoAcCo9WRZcSCoKzmk3BGm","bSoPWRilW6lcLSkhr8kMEWZdUM3cKMVdI1biWO4","pmo5w8k2kta","bSoPWRysW7hcM8oc","jNxcLhDdd8oV","WOuFW6Dlzmk1vwz4","D3RdJtxcTq","jCoqW4e/gq","tSonW5SciJ0U","rwfzW7FdHW","W6lcTCojW6dcGq"];return(N=function(){return t})()}function L(t,n,e){function o(t,n,e,o,r){return Q(r- -508,o)}if(typeof t!==s(1280,1209,"RFb6")||null===t)return s(1261,1175,"^TEp")===a("88kK",-404,-329)?new(_0xbe367d[i(566,588,"leiK")]):t;function r(t,n,e,o,r){return Q(n-443,o)}function i(t,n,e,o,r){return Q(n- -64,e)}const c=Array[r(0,1007,0,"2AP!")](t)?[]:{};for(const u in t){if(i(0,512,"88kK")!==o(0,0,0,"*IOp",131))return new(_0x2e7dc7[o(0,0,0,"RFb6",-25)]);if(t.hasOwnProperty(u)&&("QKNDp"!==r(0,973,0,"NPug")?(_0x221b60[s(1022,1103,"cYld")]===_0xb58cf8[o(0,0,0,"3i!k",132)]&&_0x23214e[a("88kK",-387,-396)]++,_0x5c186e=_0x21d03e[1],_0x24c23f=_0x4f6f1f[2],_0x44ba1c[_0x22dce9]={type:_0x54a34f[_0x5e5f57][o(0,0,0,"r)H(",121)],value:_0x24920e[_0x5c5377][i(0,610,"fV0m")]()}):c[u]=L(t[u])),u==n)if(i(0,603,"47xS")===o(0,0,0,")amN",65)){const t=_0x400fde[s(1129,1169,"NPug")];_0x56b0fd(t)}else c[n]=e}function a(t,n,e,o,r){return Q(e- -894,t)}function s(t,n,e,o,r){return Q(n-595,e)}return c}function K(t,n,e,o,r){return F(e-922,t)}function F(t,n){const e=A();return F=function(n,o){let r=e[n-=390];if(void 0===F.MzmkSL){var i=function(t){let n="",e="",o=n+i;for(let r,i,c=0,a=0;i=t.charAt(a++);~i&&(r=c%4?64*r+i:i,c++%4)?n+=o.charCodeAt(a+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let r=0,i=n.length;r<i;r++)e+="%"+("00"+n.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(e)};const n=function(t,n){let e,o,r=[],c=0,a="";for(t=i(t),o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)c=(c+r[o]+n.charCodeAt(o%n.length))%256,e=r[o],r[o]=r[c],r[c]=e;o=0,c=0;for(let i=0;i<t.length;i++)o=(o+1)%256,c=(c+r[o])%256,e=r[o],r[o]=r[c],r[c]=e,a+=String.fromCharCode(t.charCodeAt(i)^r[(r[o]+r[c])%256]);return a};F.WPZkHF=n,t=arguments,F.MzmkSL=!0}const c=n+e[0],a=t[c];if(a)r=a;else{if(void 0===F.FxsRPS){const t=function(t){this.gzDBGq=t,this.mJghGB=[1,0,0],this.bCGMIp=function(){return"newState"},this.UmfnhU="\\w+ *\\(\\) *{\\w+ *",this.WGYvrt="['|\"].+['|\"];? *}"};t.prototype.zjwPUr=function(){const t=new RegExp(this.UmfnhU+this.WGYvrt).test(this.bCGMIp.toString())?--this.mJghGB[1]:--this.mJghGB[0];return this.euVkxj(t)},t.prototype.euVkxj=function(t){return Boolean(~t)?this.djdHLT(this.gzDBGq):t},t.prototype.djdHLT=function(t){for(let n=0,e=this.mJghGB.length;n<e;n++)this.mJghGB.push(Math.round(Math.random())),e=this.mJghGB.length;return t(this.mJghGB[0])},new t(F).zjwPUr(),F.FxsRPS=!0}r=F.WPZkHF(r,o),t[c]=r}return r},F(t,n)}!function(){function t(t,n,e,o,r){return F(e-140,o)}function n(t,n,e,o,r){return F(o-926,e)}const e=A();function o(t,n,e,o,r){return F(o- -491,e)}for(;;)try{if(436189===-parseInt(n(0,0,"RPCn",1559))/1*(-parseInt((r="q69*",i=1350,F(i-658,r)))/2)+-parseInt(n(0,0,"4g93",1404))/3*(-parseInt(t(0,0,649,"E5w*"))/4)+parseInt(t(0,0,613,"5N8P"))/5+-parseInt(n(0,0,"i)j$",1423))/6*(parseInt(o(0,0,"P*FZ",28))/7)+-parseInt(o(0,0,"Ktvh",126))/8*(-parseInt(n(0,0,"w1eI",1533))/9)+parseInt(o(0,0,"x$TS",-24))/10+-parseInt(n(0,0,"Kn[$",1567))/11)break;e.push(e.shift())}catch(c){e.push(e.shift())}var r,i}();const M=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return F(o- -682,n)}function r(t,n,e,o,r){return F(t-785,o)}function i(t,n,e,o,r){return F(r- -527,o)}function c(t,n,e,o,r){return F(e- -540,t)}if("OEHfR"!==i(0,0,0,")olD",-98)){const r=t?function(){function t(t,n,e,r,i){return o(0,t,0,e-1159)}function r(t,n,e,o,r){return F(r-132- -579,o)}function c(t,n,e,r,i){return o(0,r,0,n-547)}function a(t,n,e,r,i){return o(0,n,0,t-413)}function s(t,n,e,o,r){return i(0,0,0,o,e- -428)}if(r(0,0,0,"k$Ao",2)!==r(0,0,0,"86z)",188)){if(e){if("dbQFZ"!==c(0,272,0,"$Jg7")){const n=1,e=_0x3e85cd.innerWidth,o=_0x12255a.innerHeight;_0x3d7994[r(0,0,0,"jLas",181)](n*e,n*o),_0x117203[c(0,391,0,"f1a2")][a(389,"Ktvh")](70,e/o,_0x43aa61[t("w4Uo",0,1147)],_0x51b90e.far),this.setSize(e,o);return this.getOfflineTexture(e,o,!0)}{const t=e[s(0,0,-417,"Ktvh")](n,arguments);return e=null,t}}}else{this[s(0,0,-424,"x$TS")][s(0,0,-292,"!l2b")]=_0xcbd6c4,this.quad[r(0,0,0,"!l2b",216)][t("ZIIV",0,1047)].tInput[a(327,"P*FZ")]=this[s(0,0,-307,"ZIIV")].texture,this.quad.material.uniforms[c(0,365,0,")olD")][s(0,0,-494,"q69*")][c(0,398,0,"Au6v")](this[s(0,0,-368,"f1a2")],this[a(226,")olD")]),this[a(330,"!)Os")][r(0,0,0,"oiZz",246)].uniforms[c(0,377,0,"ZIIV")][c(0,413,0,"GP#Q")]=.001*(_0xff615e.now()-this[t("w4Uo",0,1124)]);for(const n in _0x279432)this[t("#[i[",0,1002)][a(127,"w1eI")].uniforms[n].value=_0x19b543[n];this[s(0,0,-376,"c^!w")].render(this[t("4g93",0,991)],this.camera),this.swapBuffers()}}:function(){};return t=!1,r}for(let t=this.Stack.passItems[o(0,"qsYf",0,-277)]-1;t>=0;t--)this[r(1434,0,0,"k$Ao")][i(0,0,0,"$ScZ",-40)][t][i(0,0,0,"w1eI",-129)]===_0x4e23fb(_0x5517c5)&&this[o(0,"@kxB",0,-181)][c("f1a2",0,2)].splice(t,1);_0x111ae5[r(1239,0,0,"k$Ao")](this[r(1256,0,0,"XInI")][c("^gdF",0,-47)])}}()(void 0,(function(){function t(t,n,e,o,r){return F(o-543,t)}return M[(n="cu46",e=1576,F(e-878,n))]().search(t("c^!w",0,0,1025)).toString()[t("i)j$",0,0,1120)](M)[t("Ktvh",0,0,1243)](t("*tQK",0,0,1233));var n,e}));function H(t,n,e,o,r){return F(o- -431,e)}function A(){const t=["W4/dRmkVWQZdJhpcUgHy","WR1qW7fpWQ4","j2ZdUN3cNeaq","WORcGLSwWRtdHG","qbxdQrddT8oCqSkm","oLzmWPy7","fCkEW5vK","isVcMmkkW6bIpG","B3CVxmoP","W63dISkEWPNdQNxcSgrF","WQj5W6vFWRNdQsNcJ8oBnG","z8kldSkLW7Dipqq","pMJdTMZcM1Suga","rNmE","nevjW55PW5ldS8o6","w3C9WQZcRmoBxa","W7j3WRFcT8kB","WR4lnSoD","mIHhruFcGsNdSbeKkCoD","js/cK8knW5XKpSkXtG","WQOdnmomW7u","W4HlF8oIjr4","W4f/W4Xrua","lCkBs8oefhO","WQDYWP/dGCkuWQNcSYm","WQCQW7zuW4ZdSSkohXq","BwyxW5ZcTYXTx342lmoaoG","kSk6rmoqbhW","WOdcV8koWRldTq","W78dW6RcLa","cxlcLfuQ","gunFWPq9WPe","WRhdPSk3W6VcKbHEfq/dHb3dT8oN","WR4whCkpbNXY","A8oOb8ksW5KP","WQ0cfSkXeW","W7VcVmoTWPfU","n8kbomkAW41QaW","W7X4WOmtmSkXEaddVCopWROH","pCkdCCkHlG","WPxcQfGLWPG","EYhcQIFdGHTExqqMW5JdJa","dcrhrepcGqRdQW","W6ZdNSkmWO4","WRXYWOFdKCkd","Cmk4vLi","W4zSW5zwFfpdNtOS","W6qXW4Xl","WP5NW7RcGmkzzSkUmmoweuS0pmoXobRcKq","WR8UW6XaW63dSG","cGHhufpcHW","oCksCCk9hW","WR3dU27dM8oEWQ5TW77dMa","WP7dRNZdI8o8","AmkOtf3dIte","Eb7dSX7dMSopxmkwgSo9dmk1BteCWRu/","WPtdU8k1WO5iWOFdQXFdGW","zG/dOrxdSW","cSk6rmoqbhZdSmo6WRyBW4zMh0e","CSkOvLxdJtacWPu9WPm","WOq/W6reW64","xNmQCSonWR3cL0y","WQhdUWldV04","W6ddTtmczq","zSknemk4","WQNdTCo6sSowxNpdI8kf","WO7dPGW","kNtcMKiUqCk6mNu","WQjVWPaAzYD/E8oYwrzbWPe","W6WHWO/cS8kRW4KXW4VcNXfhW7i","C8kOuq","WQ3dVCoKxa","WRdcHSkiW6BdHmk9WQywtG","D8khg8kYW4i","W4VdVSkOWP7dQq","W5e9WOdcSG","l0PgW6jA","W4xcJ8oOWQ/dKGGqW50EhwzdggrBWO1hWRXFAxddP2FdOSoqWRS2WQRcKmoFy8o0dSkOW6z3dCo0WR7dS0f0W6tdL2HIWOPnxLVcPSoOWRNdJryNW7C7sLlcNCk1W6tcNCotW4ScCCkhvSkFhCo6W40YWOJdO8ouW5DWW6GDuKdcRaFdISktWRJdGmkzqCogxmoFmmkUW74rWO1HWPRcVrNdI8oqWO1wW6pcSmozowW9W4aHWP4","W5xdNWreW7ddQmokeGfAW70","WROQW7fcW7FdR8kkhG","W7OGkM5w","fCkEW5PKsqKrW60","DCkJtfZdJJCBWO8","W4lcM8o7WRi","WOhdSdyh","rqNdRXZdVConw8kwfSoEimkGFdeCWQW","wgaKWQJcIG","WQuUW7ziW6NdS8kFgWJcUa","W7/dScmyqrmSW6ldIG","gwNcHu8rvmkWmq","lIDcWOe","D8k/te7dHa","dsrD","WQFdPWFdRW","W4dcI8oUWOxdKHWs","meflW49P","W5vIW5vCzuBdIYq","cfjDWPKP","WRRdQhtdNmoY","b0/cTe/cRSkCh8kYn8oBamkcsG","iefv","rrRdSWxdKCoAsSkscG","WOxcIfScWQ/dGSoJ","WQmaeCk6kuO","t8kzW6/dTG","eYbDrvtcMG7dTq","igZdTLRcGeGq","W6z2WO4cba","WRSec8kUcePwWQPV","W5hcOmoIWOfmWPm","WQqUW7ftW6ZdQmkmaq","WRL2WP/dKmkpWQ7cTtW","bSklW4rSvq","W53dLHiQtGG7W6ldMgq","nCkDpSkUjhNdG8oFWO9DWR4gDHRcJSkaW4KuW4BdN23cSf0OjbyXFWBdTYbR","k0T0WOe0","W5hcJ8o5WR0","WR7dRXNdICo/WPKlW7BcOvlcI8ozWRmCkmo4g8kEnW","o3BcHvO4","ccbfvum","WOhcRmklWRpdTq","W6jxWRhcKSkH","fmktW5vKsqK","WQ4hnSoDW7xcKmolya","dZrira","mvjoW45P","WOhcOmkNW4xdMCkU","uZP4WOuUlrpdTSoT","muxcMMqQ","WQZdUSoGx8oWwhVdLq","WQ0qAW","WOBdPdSwCa","swaQWRBcRq","mtDcWPC","W6ZdVt8fBq","wNWSWR7cTSoBvce","W4hcP8oTWPzDWPpdSWpdS8oOwG","ut5MWPKrpcBdUSoTWP8","iwZdRg3cJeaqbG","W41hEmodjazxaGq","o8koECkRjgxdNCoy","lcrArvi","W5OJkN1/f1pcNSowW4yB","W6fIWOmt","WOxcU8kwWPtdUCoQWOy","WPtdHSo7WP7cUmo8pSoo","qHldPaldSa","WRGvfmk0iLS","WRxdSWRdPW","W4q1p2Hpc1tcLa","WPGsFdDw","x8k/C8oc","CSkOs17dHdCtWO4","e8kAW5zSsq","WO0ldZZcTW","WPdcHLKeWQu","lCkbFCkOoxy","W6mWW4bkm2y","kmkNrmoq","ifjiW5r4","xgyKWQRcRCo9ud9n","W47dN8kmWONdIa","WRedlmoCW6lcI8opFG","xgiPWRhcUSom","CSkDW6/dRuBcR8kqWPD+","rX7dRHldVCoCsSkn","WPeCi8k0hJ1qprVcKq","wSkdFmowweq","emkjW5vWFW","W7/cRsZcNmkMW6K6W7ZdIgJdH8khWOq","W6b2WPeekmkTFaNdQW","WPpcTmkRW4q","WPxcGKefWQNdGmoHcW","WOZdTHNdGa","WOTNW6dcQ8kACG","WQNdI8oUWPxcR8osoSonW6JcPmk3vCo6","wHqCW4zMWPtcUSoknSkYiW","WQJdOCoOxq","W7eOW5fclW","WQ8voCojW5lcL8oiDmk1wY0","C8kLrf7dHdC","WOZcPmkRW5i","k8k3rmoq","fCkEW5PKsqK","l8k5tmoAeq","WOBcV8krWRtdMCoKWOBdKuO","W6ZcVSoHWR7dUKKkpbJdJcxdUW","WPhcPmk+W7pdGSk1WQ4","WOtcJLSv","CSkOrf4","nuvtW6HPW47dSSoTqW7cNYpdTrZcIq","heXeWPm/WPdcJSo0","W71vqmoKEf1RWPj/W6Wc","WOpcRCkhWPxdL8osWQi","WR87ta12","WRqKW6TuW7hdTmkEerpcUCoO","BSktW73dULZcS8kuWP5ODSoPDa","W6jYWOWtbmkRFby","WP/dOHVdJW","wW3dJXFdRG","WPHLEJGnuqFdJSoYW7eXf1xcGq","E8oHc8ktW446","kJDIvMG","d1bcWPSK","W5KMjgDyauhcKCoCW5OLextcTmktba","Bmk7ECoNxq","jJRcGCkmW6femSkXwa","WQVdSCoOxq","EwGyCSou","WPFcR8kJW4BdHmk9WQye","WQ4hk8owW7ZcL8oAE8k/rW","xw4qzCoA","WPuffa","WPNcSmk1WQ7dVSo0WOZdI2SnW43dN8opBG","gKDzWOe5WOZcHmo0","WQfkWPlcQ8kqb8oj","WOzqWOtdJSko","bengWPaaWOFcKCo0amk8nY7dOhBdRa","WPXrW4z6WQZdRJRcHSoFmmk0W4u","g0DmWPe","W5JdTdiSrduSW6hdNxxcPSouWRpdLmklW7S0","jMFdQ2/cHKaybW","kCo9qvDiW7NcTNq","mCokWQ3cRtNcRCkSWRDlB8oO","W7bgWRBcG8k5bmocWRX3","W6tcI8o4WPhdTZqsWPmmhxCLwwbPWP4i","f8kAW4DZzq8rW7lcSq","WRKafSk5jeW","WQpdStyaFG","oYVcGCkm","W6xcO8oYWRxdMW","nmoDr2jZ","WRNcUeudWQ/dMSoPjXe","W6DBWQhcK8k7hSklW7T/ySk8W6yVWQtcKmoZW4pdGCo4","WOnBW5m","FCo8a8kt","pMddRe/cGf4bev0","W4hdMqmQAG","W40PWPxcS8k4W5iwW44","W7ZdTcqFyqKUW7W","fIrar07cHW","W5nlySoxkarhaGtcNY7dUmkKWQtdPa","xSkRyCovsem","WQNdTCo7wmoYwq","W4mSW4bnpq","s2WjFCog","W6eTW4bk","n8o5quztW77cSgS","W57dHmkDWPpdS2dcPNO","bZPTW7BdSSkaeNSdqmo7cW","W712WPyse8kWEaG","W6Gwh8o0W4NcLCom","W7ddISkzWO/dKwJcTgu","nmopWQRdTw7cVCkyWO1j","WRBdOCk4W6pcKeiZdr7dRbW","xNuuDa","WR7dRxZdMmovWQ9UW7xdJNpdLG","wSkLqCosx1LkgG","W5vaF8oJiHHofa","gKDmWOCZWOO","W712WOKslSkRBqZdT8oAWR4MyaRdIg0","W6lcSmoJWRe","odDxWQRdP3GXE144fCoMahP/W5NdGa","WPhdPHBdG8o7WQu","CCkiW7NdSgZcSSkzWRH4ySo5D24","F8oGdSkdW4m","W6DBWRtcGG","W41pySoGpWnccW","m8o1uuzs","W5vBF8oH","E8oShSkdW4iMWOJcJG","igZdTN3cGfWsbW","jCo4uwjBW6pcPa","jhVdQ33cJa","FSoObSkcW44","cSkMrmoxcG","WPvNW6dcQmklAa","BdDLWQpdQ10q","W7fCWOtcOmkt","WQSqoCojW4q","mSo9wuDF","B8kDW6JdU33cSSkuWPy","WOFcQ8kdWQm","mmoLrvC","D8kbcSkoW4jhkHiOW7BdQfqAvCo5","WR3dQhldGSoYWRL8W7RdHg/dQmkaWOqPW7/dKq","c8kuW5m","xxCRWRZcVmoB","WRJdPcNdQLa","n2FcKNaOwCk3j2i","W6nYWPydcmk3FHC","CZP4WOu","v8kqh8k/W4W","W7O8kMLyehJcMCohW5eAgwhcQG","W6vFWQBcLCkabmooWR5Q","WOnBW5nmWPRdQd/cH8oifSkJW5hcGSo/W5a","WORdOmoOwSo0","WRFdOHBdP18","DmkDW7ddQ2O","WO7dTXNdLSo7WPKnW57cOa","rSkpt3JdOW","WRZdR3ZdJa","WR/dV3pdJmoYWQG","nmkZuCore2FdNmo3","W7ZdPtufAW4LW43dJhBcSSoLWQa","udHUWPGc","W5K1owXqeq","DCk+qgJdPGC3","WOOFaI0","lCkGrmoxba","WOKpecBcVIxdUmkQW7FcSG","beZcT0FcOCkxgSkYc8oki8kRqW"];return(A=function(){return t})()}function z(t,n,e,o,r){return F(r-324,o)}M();const E=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return F(n- -292,r)}function r(t,n,e,o,r){return F(t-271,n)}if(o(0,277,0,0,"XInI")!==o(0,189,0,0,"P*FZ")){const i=t?function(){function t(t,n,e,r,i){return o(0,i- -264,0,0,n)}function i(t,n,e,o,i){return r(n- -336,e)}function c(t,n,e,o,i){return r(t- -481,o)}function a(t,n,e,r,i){return o(0,t-1269,0,0,i)}if(i(0,613,"Jcc8")===i(0,592,"kAyZ")){if(_0x6190c2){const t=_0x494f02[(s="8ySG",u=189,r(u- -635,s))](_0x4f627c,arguments);return _0x3e79bd=null,t}}else if(e){if(a(1533,0,0,0,"Ktvh")!==t(0,"RPCn",0,0,-80)){const t=e.apply(n,arguments);return e=null,t}this.renderer[c(472,0,0,"w1eI")](this[t(0,"k$Ao",0,0,96)]),this[i(0,390,"apRi")][c(458,0,0,"RPCn")](_0x31d3de,_0x1066f7),_0xff43ee||this[a(1674,0,0,0,"^gdF")]()}var s,u}:function(){};return t=!1,i}{const t=_0x366c36[r(890,"E5w*")](_0x2ccd23,arguments);return _0x23db86=null,t}}}();function T(t,n,e,o,r){return F(e- -530,o)}function B(t,n,e,o,r){return F(r-153,n)}E(void 0,(function(){function t(t,n,e,o,r){return F(n- -441,e)}function n(t,n,e,o,r){return F(r- -954,t)}const e=function(){function t(t,n,e,o,r){return F(e- -741,o)}function n(t,n,e,o,r){return F(t- -452,n)}function e(t,n,e,o,r){return F(n- -648,r)}function o(t,n,e,o,r){return F(r- -898,o)}function r(t,n,e,o,r){return F(t- -685,e)}if("TvKvN"===o(0,0,0,"Au6v",-255)){let c;try{c=Function('return (function() {}.constructor("return this")( ));')()}catch(i){if(t(0,0,-101,"f1a2")===r(-268,0,"%8e*"))c=window;else{const i=this.Stack[o(0,0,0,"Jcc8",-369)][_0xbce106][r(-87,0,"E5w*")],c=this.Stack[t(0,0,-115,"ZKxG")][_0x267938][t(0,0,-57,"ZIIV")];if(this.renderer[r(-261,0,"n]MU")](this[r(-283,0,"c^!w")]),i instanceof _0x15a06f[r(-186,0,"!)Os")]){this[o(0,0,0,"oiZz",-414)][e(0,-62,0,0,"wSjt")]=i,this[r(-169,0,"1lfP")][t(0,0,-288,"c^!w")][e(0,-203,0,0,"f1a2")][e(0,-184,0,0,"!)Os")][r(-282,0,"&Dkw")]=this[n(-57,"$Jg7")][r(-237,0,"w4Uo")],this[e(0,-64,0,0,"GP#Q")][e(0,-45,0,0,"q69*")].uniforms[o(0,0,0,"@kxB",-370)][o(0,0,0,"Au6v",-338)][r(-174,0,")olD")](this.width,this[r(-223,0,"w1eI")]),this[o(0,0,0,"cu46",-306)][t(0,0,-50,"GP#Q")][r(-104,0,"pnEq")][o(0,0,0,"k$Ao",-202)][t(0,0,-146,"0oL[")]=.001*(_0x5856d6.now()-this[n(-24,"I7Hz")]);for(const t in c)this[e(0,39,0,0,"E5w*")].material[e(0,-203,0,0,"f1a2")][t][n(-43,"!l2b")]=c[t];this[e(0,-126,0,0,"8ySG")][t(0,0,-117,"8ySG")](this.scene,this.camera),this[n(245,"^gdF")]()}}}return c}this[o(0,0,0,"Kn[$",-377)][e(0,-188,0,0,"w4Uo")][_0x155e54].uuid===_0xf6932c(_0xc40480)&&this.Stack[e(0,-119,0,0,"Jcc8")][n(152,"*tQK")](_0x2da44a,1)}();function o(t,n,e,o,r){return F(n-353,t)}function r(t,n,e,o,r){return F(n- -486,o)}const i=e[r(0,57,0,"P*FZ")]=e.console||{},c=[r(0,-71,0,"8ySG"),"warn","info",t(0,230,"5N8P"),t(0,224,"$Jg7"),t(0,153,"8ySG"),t(0,-3,"!)Os")];for(let u=0;u<c.length;u++){if(o("Jcc8",857)===n("oiZz",0,0,0,-439)){const t=_0x5ce0f9[(a="%8e*",s=462,F(s-36,a))](_0x19f60e,arguments);return _0x17304f=null,t}{const e=E[t(0,195,"@kxB")][r(0,22,0,"XInI")][t(0,188,"P*FZ")](E),a=c[u],s=i[a]||e;e[o("P*FZ",1026)]=E[n("q69*",0,0,0,-496)](E),e.toString=s.toString[t(0,64,"4g93")](s),i[a]=e}}var a,s}))();class j{constructor(t,n){function e(t,n,e,o,r){return F(o-111,e)}function o(t,n,e,o,r){return F(r-703,n)}function r(t,n,e,o,r){return F(o-45,e)}function c(t,n,e,o,r){return F(o-645,t)}function a(t,n,e,o,r){return F(t- -136,r)}this[a(367,426,367,427,"%8e*")]=1,this[a(545,694,614,420,"Au6v")]=1,this[a(283,218,418,291,"GP#Q")]=n||{},this[e(0,0,"RPCn",585)]=this.settings[o(1282,"ZKxG",1252,1291,1337)]||!1,this[e(0,0,"f1a2",717)]=t,this[o(1267,"4g93",1176,1175,1155)]=this[r(720,676,"XInI",575)](this.settings),this[c("CMTZ",1168,1093,1079)]=new(i[o(1272,"86z)",1246,1139,1294)]),this[o(1077,"ZKxG",1245,1101,1114)]=new(i[c("g!8C",1187,1343,1190)])(new(i[e(0,0,"wSjt",727)])(1,1),new(i[o(1224,"f1a2",1203,1344,1199)])),this.scene.add(this[c("^gdF",937,973,1075)]),this[o(0,"&Dkw",0,0,1178)]=new u(1,1,1,1,-1e4,1e4),this[a(508,515,441,367,"Ktvh")]=new(i[a(525,624,385,499,"Jcc8")])(1,1,{minFilter:void 0!==this.settings[c("w1eI",1086,1370,1225)]?this[e(0,0,"kAyZ",663)][c("c^!w",1203,1229,1322)]:d,magFilter:void 0!==this[c("Jcc8",1281,1448,1325)][r(328,311,"XInI",463)]?this.settings.magFilter:i[e(0,0,"1lfP",621)],wrapS:void 0!==this[c("Ktvh",1144,1175,1300)][c("*tQK",1113,1211,1172)]?this[r(497,469,"@kxB",596)][r(648,606,"8ySG",654)]:i[r(608,725,"I7Hz",603)],wrapT:void 0!==this[r(577,882,"!l2b",733)][a(356,203,228,219,"pnEq")]?this.settings[e(0,0,"q69*",519)]:l,format:this[a(300,291,322,387,")olD")]?i[c("Jcc8",1180,1148,1199)]:i[e(0,0,"oiZz",552)],type:void 0!==this[a(477,599,334,442,"P*FZ")][r(308,356,"!l2b",457)]?this[r(415,461,"&Dkw",444)].type:W,stencilBuffer:void 0===this.settings[e(0,0,"g!8C",504)]||this[e(0,0,"c^!w",511)][o(0,"Jcc8",0,0,1136)]}),this[r(0,0,"c8lQ",602)]=this.front[o(0,"Jcc8",0,0,1278)](),this[a(465,480,610,353,"*tQK")]=Date.now(),this[r(0,0,"cu46",728)]={},this[a(533,0,0,0,"#[i[")]={passItems:[],passes:[]}}[K("!l2b",0,1323)](t,n,e,o){var r,i;function c(t,n,e,o,r){return K(e,0,t- -1207)}this[(r="5N8P",i=-197,K(r,0,i- -1746))](n);const a={shaderName:t,params:e,uuid:o,shader:this[c(278,0,"8ySG")]};var s,u,W,l;this[c(209,0,"^gdF")][(W=929,l="oiZz",K(l,0,W- -443))][(s=")olD",u=1350,K(s,0,u- -58))](a)}[K("CMTZ",0,1500)](t){function n(t,n,e,o,r){return K(t,0,e- -321)}function e(t,n,e,o,r){return K(e,0,n- -490)}function o(t,n,e,o,r){return H(0,0,e,n-1147)}for(let a=this[e(0,857,"ZIIV")][e(0,1099,"8ySG")][c(-128,-129,-37,-267,"I7Hz")]-1;a>=0;a--)if(n("$Jg7",0,1058)!==e(0,909,"i)j$")){if(this[n("!)Os",0,1005)][n("g!8C",0,1206)][a][n("&Dkw",0,1277)]===parseInt(t)){if("wURJb"===o(0,1233,"apRi")){const t=_0x44741c?function(){if(_0x1e3da6){const o=_0x42e958[(t=558,n="XInI",e(0,t- -433,n))](_0x4f9224,arguments);return _0x451635=null,o}var t,n}:function(){};return _0x8d350c=!1,t}this[c(-193,-100,-220,13,"4g93")][c(17,90,-59,103,"GP#Q")][n("RPCn",0,1189)](a,1)}}else{this[(r="g!8C",i=-151,K(r,0,i- -1710))](_0x473c1d);const t={shaderName:_0x30a14d,params:_0xad4d50,uuid:_0x9e8a14,shader:this[c(15,100,-40,-1,")olD")]};this[o(0,1162,"Ktvh")][e(0,938,"ZIIV")].push(t)}var r,i;function c(t,n,e,o,r){return H(0,0,r,n- -90)}console.log(this[e(0,1117,"E5w*")][o(0,1284,"CMTZ")])}[B(0,"oiZz",0,0,842)](){this.Pass[t(1390,1522,1639,"%8e*",1513)](this);function t(t,n,e,o,r){return B(0,o,0,0,r-771)}return this[t(1638,1465,1709,"n]MU",1583)]("varying vec2 vUv;\nuniform sampler2D tInput;\n\nvoid main(){\n\t\n\tgl_FragColor=texture2D(tInput,vUv);\n\t\n}")}[z(0,0,0,"GP#Q",803)](t){return this[(n=765,e="i)j$",z(0,0,0,e,n- -109))]=function(t,n){function e(t,n,e,o,r){return Q(r-202,t)}function o(t,n,e,o,r){return Q(t- -743,o)}const u=/uniform\s+([^\s]+)\s+([^\s]+)\s*;/gi,W=/uniform\s+([^\s]+)\s+([^\s]+)\s*\[\s*(\w+)\s*\]*\s*;/gi,l={sampler2D:{type:"t",value(){if("eCAyA"!==Q(543,"qXx["))return new r;_0x5ce8e5[_0x8cbc05]=_0x508583(_0x232353[_0x5046fa])}},samplerCube:{type:"t",value(){}},bool:{type:"b",value(){return"xcYEz"!==Q(503,"nq%K")?0:new(_0x103919[(t="6QLK",n=1315,Q(n-737,t))]);var t,n}},int:{type:"i",value:()=>Q(613,"47xS")===Q(528,"xoDM")?new _0x17c018.Vector3:0},float:{type:"f",value(){if(Q(669,"1jhR")===Q(505,"nq%K"))return 0;{const t=_0x175e7.apply(_0x12d783,arguments);return _0x371553=null,t}}},vec2:{type:"v2",value(){function t(t,n,e,o,r){return Q(o- -608,n)}function n(t,n,e,o,r){return Q(n-76,o)}if(t(0,"0$gE",0,-31)!==n(0,671,0,"cqv8"))return new a;this[t(0,"jsv0",0,-58)]=n(0,742,0,"*IOp")+_0x234c9a+t(0,"nq%K",0,-14),this.name="WagnerLoadShaderException",this.toString=function(){return this.message}}},vec3:{type:"v3",value(){function t(t,n,e,o,r){return Q(t- -791,r)}return t(-116,0,0,0,"8$wi")!==Q(589,"leiK")?"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(n=>{const e=16*_0x1da0d7[(o=1123,r="fV0m",t(o-1414,0,0,0,r))]()|0;var o,r,i,c;return("x"==n?e:3&e|8)[(i=-59,c="xoDM",t(i-160,0,0,0,c))](16)})):new s}},vec4:{type:"v4",value(){function t(t,n,e,o,r){return Q(o-860,r)}return Q(584,"PJ0l")===t(0,0,0,1389,"jsv0")?this.message:new(i[t(0,0,0,1359,"tkR0")])}},bvec2:{type:"v2",value(){function t(t,n,e,o,r){return Q(e- -482,r)}return t(0,0,71,0,"wuDE")===t(0,0,99,0,"fgew")?new(i[(n=-169,e="fV0m",Q(n- -661,e))]):0;var n,e}},bvec3:{type:"v3",value(){function t(t,n,e,o,r){return Q(r-919,n)}if(t(0,"G53h",0,0,1584)===t(0,"2AP!",0,0,1581))return new(i[t(0,"(Koc",0,0,1415)]);_0x300027[_0x2a80d0]=_0x247664}},bvec4:{type:"v4",value(){function t(t,n,e,o,r){return Q(e-411,o)}return"ktHeZ"!==t(0,0,1038,")UXC")?new(i[t(0,0,1030,"r)H(")]):new(_0x3ad2bd[t(0,0,971,"3i!k")])}},ivec2:{type:"v2",value(){if(Q(512,"OdRX")===Q(567,"D&A%")){const e=_0x53bd41[(t="ch#m",n=1321,Q(n-808,t))](_0x16d957,arguments);return _0x230214=null,e}return new a;var t,n}},ivec3:{type:"v3",value(){function t(t,n,e,o,r){return Q(r- -15,o)}return Q(642,"47xS")===t(0,0,0,"7ZbC",470)?new(i[t(0,0,0,"^TEp",496)]):new(_0x181b57[(n="G53h",e=745,Q(e-69,n))]);var n,e}},ivec4:{type:"v4",value(){function t(t,n,e,o,r){return Q(o-877,r)}return t(0,0,0,1536,"PJ0l")!==Q(533,"88kK")?new(i[t(0,0,0,1545,"xoDM")]):new(_0x4e05e8[(n=17,e="tkR0",Q(n- -639,e))]);var n,e}},mat2:{type:"v2",value(){return"iJSfq"===Q(582,"^TEp")?new(i[(t="r)H(",n=494,Q(n- -114,t))]):_0x5d0dfb;var t,n}},mat3:{type:"v3",value(){function t(t,n,e,o,r){return Q(n- -426,o)}return"zwxUf"!==t(0,162,0,"leiK")?new c:new(_0x406133[t(0,206,0,"xUx%")])}},mat4:{type:"v4",value(){function t(t,n,e,o,r){return Q(o- -783,r)}if("TCStQ"===t(0,0,0,-245,"*IOp"))return new(i[t(0,0,0,-183,"Yj7F")]);_0x1c6177=_0x3544f6}}},d={float:{type:"fv",value(){function t(t,n,e,o,r){return Q(n- -82,e)}if(Q(658,"47xS")===t(0,504,"fgew"))return[];var n,e;this.message='Shader "'+_0x547166+t(0,428,"FkiD"),this[(n="*IOp",e=-217,Q(e- -808,n))]=Q(517,"6Y9S"),this.toString=function(){return this.message}}},vec3:{type:e("xUx%",0,0,0,711),value(){if(e("wuDE",0,0,0,872)===e("0$gE",0,0,0,862))return[];if(_0x390ce9){const t=_0x5ef535.apply(_0x360259,arguments);return _0x4ec69d=null,t}}}};function v(t,n,e,o,r){return Q(n- -551,t)}let f;const m={resolution:{type:"v2",value:new(i[e("7ZbC",0,0,0,691)])(1,1),default:!0},time:{type:"f",value:Date[o(-79,0,0,"Cd4v")](),default:!0},tInput:{type:"t",value:new r,default:!0}};let x,p;function h(t,n,e,o,r){return Q(n-425,t)}for(;null!==(f=u[(g=-216,k="NPug",Q(g- -738,k))](n));)if("FfgfA"===e("*IOp",0,0,0,805)){const t=_0x2e3c5a.constructor[h("^TEp",970)].bind(_0x490b1b),n=_0x2c9240[_0x4a0340],r=_0x2985b5[n]||t;t.__proto__=_0x57e1f6[h("*IOp",980)](_0x1fd6e),t[o(-194,0,0,"nq%K")]=r[h("HJb0",962)][e("2Mf3",0,0,0,838)](r),_0x4832b0[n]=t}else{if(f[h("Rkd8",979)]===u.lastIndex){if("rgMRU"!==h("G53h",987))return new _0x825537.Vector3;u[o(-99,0,0,"bvK9")]++}x=f[1],p=f[2],m[p]={type:l[x][o(-241,0,0,"CnWc")],value:l[x].value()}}for(var g,k;null!==(f=W[h("6Y9S",1097)](n));)if("okfxj"===v("tkR0",17)){if(_0x3c803a){const t=_0x732c10.apply(_0x2fc4bd,arguments);return _0x3e1be8=null,t}}else{if(f[e("G53h",0,0,0,827)]===u[h("woU[",1043)]){if(e("1pAb",0,0,0,706)===v("7ZbC",96))return 0;u[o(-88,0,0,"D&A%")]++}x=f[1],p=f[2],f[3],m[p]={type:d[x].type,value:d[x][e("3i!k",0,0,0,699)]()}}return new(i[h("CnWc",981)])({uniforms:m,vertexShader:t,fragmentShader:n,depthWrite:!1,depthTest:!1,transparent:!0})}("varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 ); }",t),this.shader;var n,e}[H(0,0,"CMTZ",-11)](t){var n,e,o,r;this[(n=194,e="!)Os",B(0,e,0,0,n- -427))]=null,this[(o=1345,r="Ktvh",z(0,0,0,r,o-549))]={}}[z(0,0,0,"Au6v",906)](){function t(t,n,e,o,r){return T(0,0,o-1373,n)}var n,e;this[t(1231,"6y1L",1204,1313)]=this[t(1327,"apRi",1334,1443)],this[(n=1413,e="apRi",z(0,0,0,e,n-523))]=this[t(0,"I7Hz",0,1482)]}[B(0,"ZKxG",0,0,807)](t,n){function e(t,n,e,o,r){return B(0,t,0,0,r- -880)}const o=window.innerWidth,r=window.innerHeight;function i(t,n,e,o,r){return T(0,0,o-1282,e)}var c,a;t.setSize(1*o,1*r),n[i(0,0,"^gdF",1166)].makePerspective(70,o/r,n[(c=-135,a="x$TS",H(0,0,a,c- -278))],n[e("86z)",0,0,0,-156)]),this[e("ZKxG",0,0,0,-142)](o,r);return this[i(0,0,"x$TS",1143)](o,r,!0)}setSize(t,n){function e(t,n,e,o,r){return T(0,0,e- -56,n)}function o(t,n,e,o,r){return T(0,0,e-874,o)}function r(t,n,e,o,r){return K(t,0,r- -296)}function i(t,n,e,o,r){return B(0,t,0,0,e-531)}function c(t,n,e,o,r){return K(t,0,n- -1349)}this[i("$Jg7",1350,1246,1309)]=t,this[r("RPCn",1046,1138,1033,1170)]=n,this[o(911,763,819,"&Dkw")][e(0,"Kn[$",59)][c("GP#Q",274)](t/-2,t/2,n/2,n/-2,this.camera[r("jLas",1155,1217,1327,1248)],this[r("pnEq",1343,1331,1190,1223)][c("apRi",114)]),this.quad[r("pnEq",1249,994,1055,1106)][o(0,0,1019,"n]MU")](t,n,1),this[c("*tQK",146)][r("c^!w",0,0,0,1173)](t,n),this[i("5N8P",0,1074)][e(0,"c8lQ",-51)](t,n)}[H(0,0,"qsYf",58)](t,n,e){function o(t,n,e,o,r){return T(0,0,o-590,n)}function r(t,n,e,o,r){return H(0,0,t,e- -361)}return new(i[o(687,"c8lQ",708,726)])(t,n,{minFilter:d,magFilter:i[r("Au6v",-297,-333)],format:e?i[o(484,"n]MU",541,511)]:i[r("jLas",-147,-279)]})}[H(0,0,"^gdF",0)](t,n,e,o){function r(t,n,e,o,r){return H(0,0,r,t-1175)}function i(t,n,e,o,r){return z(0,0,0,n,o-224)}this.renderer[i(1051,"apRi",1131,1179)](this[i(1057,")olD",1018,1080)]),this[r(1382,0,0,0,"GP#Q")][i(0,"*tQK",0,964)](t,n),o||this[r(1441,0,0,0,"^gdF")]()}[B(0,"q69*",0,0,773)](){function t(t,n,e,o,r){return T(0,0,n-288,e)}function n(t,n,e,o,r){return H(0,0,n,e-1125)}const e=this[n(0,"^gdF",1233)];this[n(0,"ZKxG",1255)]=this[t(0,388,")olD")],this[t(0,418,"Ktvh")]=e}pass(){function t(t,n,e,o,r){return K(e,0,n- -1541)}function n(t,n,e,o,r){return H(0,0,o,e-1206)}function e(t,n,e,o,r){return T(0,0,t- -226,r)}function o(t,n,e,o,r){return K(r,0,t- -1723)}function r(t,n,e,o,r){return B(0,o,0,0,t-784)}for(let a=0;a<this[r(1539,0,0,"oiZz")][r(1486,0,0,"RPCn")][t(0,-175,"P*FZ")];a++)if(r(1379,0,0,"n]MU")!==e(-110,0,0,0,"cu46")){const s=this.Stack[n(0,0,1198,"$Jg7")][a][t(0,23,"&Dkw")],u=this[o(-303,0,0,0,"f1a2")][r(1403,0,0,"@kxB")][a][e(-321,0,0,0,"Kn[$")];if(this[e(-192,0,0,0,"q69*")].setRenderTarget(this[e(-293,0,0,0,"$ScZ")]),s instanceof i[e(-334,0,0,0,"Kn[$")]){if("vkinp"!==o(-176,0,0,0,"!)Os")){const t=_0x5cd119?function(){if(_0x1a3753){const e=_0x14b40c[(t=522,n="k$Ao",r(t- -1101,0,0,n))](_0x1e29c1,arguments);return _0x3d985a=null,e}var t,n}:function(){};return _0x4f667f=!1,t}this[n(0,0,1212,"0oL[")][t(0,60,"1lfP")]=s,this[r(1461,0,0,"c8lQ")][n(0,0,1365,"Kn[$")][t(0,13,"Ktvh")][e(-265,0,0,0,"Au6v")][r(1509,0,0,"#[i[")]=this[n(0,0,1398,"!)Os")][r(1393,0,0,"*tQK")],this[r(1549,0,0,"jLas")][o(-281,0,0,0,"@kxB")][o(-151,0,0,0,"jLas")][n(0,0,1426,"q69*")][o(-332,0,0,0,"ZKxG")][t(0,-112,"I7Hz")](this[n(0,0,1172,"!l2b")],this[o(-311,0,0,0,"@kxB")]),this[t(0,-85,"%8e*")][r(1402,0,0,"kAyZ")][n(0,0,1474,"w1eI")][o(-313,0,0,0,"E5w*")].value=.001*(Date[t(0,34,"0oL[")]()-this.startTime);for(const o in u){if("KoCTN"===t(0,53,"!l2b")){let t;try{t=_0x3f6e4f(e(-82,0,0,0,"$Jg7")+r(1492,0,0,"pnEq")+");")()}catch(c){t=_0xfbccfd}return t}this[n(0,0,1340,"Au6v")][r(1333,0,0,"w1eI")].uniforms[o][r(1473,0,0,"apRi")]=u[o]}this.renderer[o(-133,0,0,0,"RPCn")](this.scene,this[o(-234,0,0,0,"jLas")]),this[n(0,0,1358,"Kn[$")]()}}else this[t(0,-1,"ZIIV")][e(-324,0,0,0,"!)Os")][t(0,43,"c^!w")][_0x54867d].value=_0x1ed62e[_0x361571]}[K("k$Ao",0,1424)](t,n){function e(t,n,e,o,r){return T(0,0,r- -77,t)}function o(t,n,e,o,r){return T(0,0,t-530,r)}function r(t,n,e,o,r){return H(0,0,o,e-787)}function i(t,n,e,o,r){return H(0,0,t,o-1425)}var c,a;this[e(")olD",0,0,0,-14)][e("4g93",0,0,0,-194)](null),this[r(893,739,881,"#[i[")][e("w1eI",0,0,0,-211)]=this[i("$ScZ",1449,1570,1531)],this[r(0,0,970,"I7Hz")][i("g!8C",1470,1504,1404)][o(576,0,0,0,"*tQK")][o(608,0,0,0,"cu46")][e("kAyZ",0,0,0,-122)]=this[r(0,0,803,"8ySG")][i("c^!w",1316,1428,1437)],this.quad[(c="Au6v",a=493,T(0,0,a-477,c))][o(523,0,0,0,")olD")][o(439,0,0,0,"0oL[")][i("g!8C",0,0,1421)].set(this[o(394,0,0,0,"&Dkw")],this.height),this[o(483,0,0,0,"Au6v")][o(615,0,0,0,"qsYf")](this[i("4g93",0,0,1508)],this[e("&Dkw",0,0,0,-132)])}}const J="varying vec2 vUv;\nuniform sampler2D tInput;\n\nvoid main() {\n\n\tgl_FragColor = texture2D( tInput, vUv );\n\tgl_FragColor.rgb = 1. - gl_FragColor.rgb;\n\n}",Z=q(g({__name:"postProcessing",async setup(o){let r,i;const{camera:c,renderer:s,scene:u,sizes:W}=t();for(var l=new v,d=[],g=0;g<100;g++){var S=new f(100,100,100);S.translate(1500*Math.random(),1500*Math.random(),1500*Math.random()),d.push(S)}l=m(d);const C=([r,i]=k((()=>e({map:"plugins/postProcessing/image/1324.jpg"}))),r=await r,i(),r),P=([r,i]=k((()=>e({map:"plugins/postProcessing/image/1324-normal.jpg"}))),r=await r,i(),r);var y=new x({map:C.map,normalMap:P.map,normalScale:new a(.8,-.8),shininess:100}),b=new p(l,y);b.castShadow=!0,b.receiveShadow=!0,u.value.add(b);const _=new j(s.value,{useRGBA:!0}),R=new h;let I=null,O=[{text:"InvertPass",value:{InvertPass:J}},{text:"FXAAPass",value:{FXAAPass:"uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\n#define FXAA_REDUCE_MIN   (1.0/128.0)\n#define FXAA_REDUCE_MUL   (1.0/8.0)\n#define FXAA_SPAN_MAX     8.0\n\nvoid main() {\n\n    vec2 res = 1. / resolution;\n\n    vec3 rgbNW = texture2D( tInput, ( vUv.xy + vec2( -1.0, -1.0 ) * res ) ).xyz;\n    vec3 rgbNE = texture2D( tInput, ( vUv.xy + vec2( 1.0, -1.0 ) * res ) ).xyz;\n    vec3 rgbSW = texture2D( tInput, ( vUv.xy + vec2( -1.0, 1.0 ) * res ) ).xyz;\n    vec3 rgbSE = texture2D( tInput, ( vUv.xy + vec2( 1.0, 1.0 ) * res ) ).xyz;\n    vec4 rgbaM  = texture2D( tInput,  vUv.xy  * res );\n    vec3 rgbM  = rgbaM.xyz;\n    vec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n    float lumaNW = dot( rgbNW, luma );\n    float lumaNE = dot( rgbNE, luma );\n    float lumaSW = dot( rgbSW, luma );\n    float lumaSE = dot( rgbSE, luma );\n    float lumaM  = dot( rgbM,  luma );\n    float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n    float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n\n    float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n    dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),\n          max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                dir * rcpDirMin)) * res;\n    vec4 rgbA = (1.0/2.0) * (\n    texture2D(tInput,  vUv.xy + dir * (1.0/3.0 - 0.5)) +\n    texture2D(tInput,  vUv.xy + dir * (2.0/3.0 - 0.5)));\n    vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (\n    texture2D(tInput,  vUv.xy + dir * (0.0/3.0 - 0.5)) +\n    texture2D(tInput,  vUv.xy + dir * (3.0/3.0 - 0.5)));\n    float lumaB = dot(rgbB, vec4(luma, 0.0));\n\n    if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {\n        gl_FragColor = rgbA;\n    } else {\n        gl_FragColor = rgbB;\n    }\n\n    //gl_FragColor = vec4( texture2D( tInput,vUv ).xyz, 1. );\n}"}},{text:"SEPIAPass",value:{SEPIAPass:"uniform sampler2D tInput;\nuniform float amount;\nvarying vec2 vUv;\n\nvoid main() {\n\t\n\tvec4 color = texture2D(tInput, vUv);\n\tfloat r = color.r;\n\tfloat g = color.g;\n\tfloat b = color.b;\n\t\n\tcolor.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));\n\tcolor.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));\n\tcolor.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));\n\t\n\tgl_FragColor = color;\n\n}",params:{amount:10}}},{text:"SNOISEPass",value:{SNOISEPass:"uniform sampler2D tInput;\nuniform float amount;\nuniform float speed;\nuniform float time;\nvarying vec2 vUv;\n\nfloat random(vec2 n, float offset ){\n\t//return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453);\n\treturn .5 - fract(sin(dot(n.xy + vec2( offset, 0. ), vec2(12.9898, 78.233)))* 43758.5453);\n}\n\nvoid main() {\n\n\tvec4 color = texture2D(tInput, vUv);\n\n\t//color += amount * ( .5 - random( vec3( 1. ), length( gl_FragCoord ) + speed * .01 * time ) );\n\tcolor += vec4( vec3( amount * random( vUv, .00001 * speed * time ) ), 1. );\n\n\tgl_FragColor = color;\n\n}",params:{amount:.1,speed:0}}},{text:"BOXBLURPass",value:{BOXBLURPass:"varying vec2 vUv;\nuniform sampler2D tInput;\nuniform float deltax;\nuniform float deltay;\nuniform float taps;\n\nuniform vec2 resolution;\n\nvoid main(){\n\t\n\tvec4 sum=vec4(0.);\n\tvec2 inc=vec2(deltax,deltay)/resolution;\n\t\n\tsum+=texture2D(tInput,(vUv-inc*4.))*.051;\n\tsum+=texture2D(tInput,(vUv-inc*3.))*.0918;\n\tsum+=texture2D(tInput,(vUv-inc*2.))*.12245;\n\tsum+=texture2D(tInput,(vUv-inc*1.))*.1531;\n\tsum+=texture2D(tInput,(vUv+inc*0.))*.1633;\n\tsum+=texture2D(tInput,(vUv+inc*1.))*.1531;\n\tsum+=texture2D(tInput,(vUv+inc*2.))*.12245;\n\tsum+=texture2D(tInput,(vUv+inc*3.))*.0918;\n\tsum+=texture2D(tInput,(vUv+inc*4.))*.051;\n\t\n\tgl_FragColor=sum;\n\t\n}",params:{deltax:10,deltay:10,taps:1}}},{text:"DENOISEPass",value:{DENOISEPass:"uniform sampler2D tInput;\nuniform float exponent;\nuniform float strength;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nvoid main(){\n\t\n\tvec4 center=texture2D(tInput,vUv);\n\tvec4 color=vec4(0.);\n\tfloat total=0.;\n\tfor(float x=-4.;x<=4.;x+=1.){\n\t\tfor(float y=-4.;y<=4.;y+=1.){\n\t\t\tvec4 sample1=texture2D(tInput,vUv+vec2(x,y)/resolution.xy);\n\t\t\tfloat weight=1.-abs(dot(sample1.rgb-center.rgb,vec3(.25)));\n\t\t\tweight=pow(weight,exponent);\n\t\t\tcolor+=sample1*weight;\n\t\t\ttotal+=weight;\n\t\t}\n\t}\n\tgl_FragColor=color/total;\n\t\n}",params:{exponent:1,strength:10}}},{text:"CGAPass",value:{CGAPass:"varying vec2 vUv;\nuniform sampler2D tInput;\nuniform vec2 resolution;\nuniform sampler2D cgaMap;\nuniform float pixelDensity;\n\nvoid main() {\n\n\tfloat size = 2. * pixelDensity;\n\tfloat dSize = 2. * size;\n\n\tfloat amount = resolution.x / size;\n\tfloat d = 1.0 / amount;\n\tfloat ar = resolution.x / resolution.y;\n\tfloat sx = floor( vUv.x / d ) * d;\n\td = ar / amount;\n\tfloat sy = floor( vUv.y / d ) * d;\n\n\tvec4 base = texture2D( tInput, vec2( sx, sy ) );\n\n\tfloat lum = .2126 * base.r + .7152 * base.g + .0722 * base.b;\n\tfloat o = floor( 6. * lum );\n\n\tvec3 c1;\n\tvec3 c2;\n\t\n\tvec3 black = vec3( 0. );\n\tvec3 light = vec3( 85., 255., 255. ) / 255.;\n\tvec3 dark = vec3( 254., 84., 255. ) / 255.;\n\tvec3 white = vec3( 1. );\n\n\t/*dark = vec3( 89., 255., 17. ) / 255.;\n\tlight = vec3( 255., 87., 80. ) / 255.;\n\twhite = vec3( 255., 255., 0. ) / 255.;*/\n\n\t/*light = vec3( 85., 255., 255. ) / 255.;\n\tdark = vec3( 255., 86., 80. ) / 255.;*/\n\n\tif( o == 0. ) { c1 = black; c2 = c1; }\n\tif( o == 1. ) { c1 = black; c2 = dark; }\n\tif( o == 2. ) { c1 = dark;  c2 = c1; }\n\tif( o == 3. ) { c1 = dark;  c2 = light; }\n\tif( o == 4. ) { c1 = light; c2 = c1; }\n\tif( o == 5. ) { c1 = light; c2 = white; }\n\tif( o == 6. ) { c1 = white; c2 = c1; }\n\n\tif( mod( gl_FragCoord.x, dSize ) > size ) {\n\t\tif( mod( gl_FragCoord.y, dSize ) > size ) {\n\t\t\tbase.rgb = c1;\n\t\t} else {\n\t\t\tbase.rgb = c2;\t\n\t\t}\n\t} else {\n\t\tif( mod( gl_FragCoord.y, dSize ) > size ) {\n\t\t\tbase.rgb = c2;\n\t\t} else {\n\t\t\tbase.rgb = c1;\t\t\n\t\t}\n\t}\n\n\tgl_FragColor = vec4( base.rgb, base.a );\n\n}",params:{pixelDensity:4,cgaMap:P.map}}},{text:"SOBELPass",value:{SOBELPass:"uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nvoid main(void) {\n\n\tfloat x = 1.0 / resolution.x;\n\tfloat y = 1.0 / resolution.y;\n\tvec4 horizEdge = vec4( 0.0 );\n\thorizEdge -= texture2D( tInput, vec2( vUv.x - x, vUv.y - y ) ) * 1.0;\n\thorizEdge -= texture2D( tInput, vec2( vUv.x - x, vUv.y     ) ) * 2.0;\n\thorizEdge -= texture2D( tInput, vec2( vUv.x - x, vUv.y + y ) ) * 1.0;\n\thorizEdge += texture2D( tInput, vec2( vUv.x + x, vUv.y - y ) ) * 1.0;\n\thorizEdge += texture2D( tInput, vec2( vUv.x + x, vUv.y     ) ) * 2.0;\n\thorizEdge += texture2D( tInput, vec2( vUv.x + x, vUv.y + y ) ) * 1.0;\n\tvec4 vertEdge = vec4( 0.0 );\n\tvertEdge -= texture2D( tInput, vec2( vUv.x - x, vUv.y - y ) ) * 1.0;\n\tvertEdge -= texture2D( tInput, vec2( vUv.x    , vUv.y - y ) ) * 2.0;\n\tvertEdge -= texture2D( tInput, vec2( vUv.x + x, vUv.y - y ) ) * 1.0;\n\tvertEdge += texture2D( tInput, vec2( vUv.x - x, vUv.y + y ) ) * 1.0;\n\tvertEdge += texture2D( tInput, vec2( vUv.x    , vUv.y + y ) ) * 2.0;\n\tvertEdge += texture2D( tInput, vec2( vUv.x + x, vUv.y + y ) ) * 1.0;\n\tvec3 edge = sqrt((horizEdge.rgb * horizEdge.rgb) + (vertEdge.rgb * vertEdge.rgb));\n\t\n\tgl_FragColor = vec4( edge, texture2D( tInput, vUv ).a );\n\n}"}},{text:"RGBPass",value:{RGBPass:"varying vec2 vUv;\nuniform sampler2D tInput;\nuniform float x;\nuniform float y;\nuniform vec2 resolution;\n\nvoid main(){\n\t\n\tvec2 dir=vUv-vec2(.5);\n\tfloat d=.7*length(dir);\n\tnormalize(dir);\n\tvec2 value=d*dir*vec2(x,y);\n\t\n\tvec4 c1=texture2D(tInput,vUv-value/resolution.x);\n\tvec4 c2=texture2D(tInput,vUv);\n\tvec4 c3=texture2D(tInput,vUv+value/resolution.y);\n\t\n\tgl_FragColor=vec4(c1.r,c2.g,c3.b,c1.a+c2.a+c3.b);\n\t\n}\n",params:{x:1e3,y:1e3}}},{text:"DOTPass",value:{DOTPass:"/**\n* @author alteredq / http://alteredqualia.com/\n*\n* Dot screen shader\n* based on glfx.js sepia shader\n* https://github.com/evanw/glfx.js\n*/\n\nuniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nfloat angle=1.57;\nfloat scale=1.;\n\nfloat pattern(){\n\tvec2 center=resolution.xy*.5;\n\tfloat s=sin(angle),c=cos(angle);\n\tvec2 tex=vUv*resolution-center;\n\tvec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;\n\treturn(sin(point.x)*sin(point.y))*4.;\n}\n\nvoid main(){\n\tvec4 color=texture2D(tInput,vUv);\n\tfloat average=(color.r+color.g+color.b)/3.;\n\tgl_FragColor=vec4(vec3(average*10.-5.+pattern()),color.a);\n}"}},{text:"CIRCULARPass",value:{CIRCULARPass:"uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nfloat nrand( vec2 n ) {\n\treturn fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453);\n}\n\nvec2 rot2d( vec2 p, float a ) {\n\tvec2 sc = vec2(sin(a),cos(a));\n\treturn vec2( dot( p, vec2(sc.y, -sc.x) ), dot( p, sc.xy ) );\n}\n\nvoid main(void)\n{\n\tvec2 uv = gl_FragCoord.xy / resolution.xy;\n\tuv.x += 0.1;//*iGlobalTime;\n\n\tfloat maxofs = 12.0;// * (0.5+0.5*sin( iGlobalTime ));\n\tconst int NUM_SAMPLES = 16;\n\tconst int NUM_SAMPLES2 = NUM_SAMPLES/2;\n\tconst float NUM_SAMPLES_F = float(NUM_SAMPLES);\n\tconst float anglestep = 6.28 / NUM_SAMPLES_F;\n\tconst float MIPBIAS = -8.0; //note: make sure we always pick mip0\n\n\t//note: rand\n\tfloat rnd = nrand( 0.01*gl_FragCoord.xy );//+ fract(iGlobalTime) );\n\t\n\t//note: ordered dither\n\t//float rnd = texture2D( iChannel1, gl_FragCoord.xy / 8.0 ).r;\n\n\t//note: create halfcircle of offsets\n\tvec2 ofs[NUM_SAMPLES];\n\t{\n\t\tfloat angle = 3.1416*rnd;\n\t\tfor( int i=0;i<NUM_SAMPLES2;++i )\n\t\t{\n\t\t\tofs[i] = rot2d( vec2(maxofs,0.0), angle ) / resolution.xy;\n\t\t\tangle += anglestep;\n\t\t}\n\t}\n\t\n\tvec4 sum = vec4(0.0);\n\t//note: sample positive half-circle\n\tfor( int i=0;i<NUM_SAMPLES2;++i )\n\t\tsum += texture2D( tInput, vec2(uv.x, uv.y)+ofs[i], MIPBIAS );\n\n\t//note: sample negative half-circle\n\tfor( int i=0;i<NUM_SAMPLES2;++i )\n\t\tsum += texture2D( tInput, vec2(uv.x, uv.y)-ofs[i], MIPBIAS );\n\n\tgl_FragColor.rgb = sum.rgb / NUM_SAMPLES_F;\n\tgl_FragColor.a = texture2D( tInput, vUv ).a;\n}\n"}},{text:"POISSONPass",value:{POISSONPass:"uniform sampler2D tInput;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nfloat nrand( vec2 n ) {\n\treturn fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453);\n}\n\nvec2 rot2d( vec2 p, float a ) {\n\tvec2 sc = vec2(sin(a),cos(a));\n\treturn vec2( dot( p, vec2(sc.y, -sc.x) ), dot( p, sc.xy ) );\n}\n\nvoid main(void)\n{\n\tconst int NUM_TAPS = 12;\n\tfloat max_siz = 42.0;// * (0.5+0.5*sin(iGlobalTime));\n\t\n\tvec2 fTaps_Poisson[NUM_TAPS];\n\tfTaps_Poisson[0]  = vec2(-.326,-.406);\n\tfTaps_Poisson[1]  = vec2(-.840,-.074);\n\tfTaps_Poisson[2]  = vec2(-.696, .457);\n\tfTaps_Poisson[3]  = vec2(-.203, .621);\n\tfTaps_Poisson[4]  = vec2( .962,-.195);\n\tfTaps_Poisson[5]  = vec2( .473,-.480);\n\tfTaps_Poisson[6]  = vec2( .519, .767);\n\tfTaps_Poisson[7]  = vec2( .185,-.893);\n\tfTaps_Poisson[8]  = vec2( .507, .064);\n\tfTaps_Poisson[9]  = vec2( .896, .412);\n\tfTaps_Poisson[10] = vec2(-.322,-.933);\n\tfTaps_Poisson[11] = vec2(-.792,-.598);\n\t\n\tvec2 uv = gl_FragCoord.xy / resolution.xy;\n\t//uv.x += 0.05*iGlobalTime;\n\tvec4 sum = vec4(0);\n\tfloat rnd = 6.28 * nrand( uv /*+fract(iGlobalTime)*/ );\n\t\n\tvec4 basis = vec4( rot2d(vec2(1,0),rnd), rot2d(vec2(0,1),rnd) );\n\tfor (int i=0; i < NUM_TAPS; i++)\n\t{\n\t\tvec2 ofs = fTaps_Poisson[i]; ofs = vec2(dot(ofs,basis.xz),dot(ofs,basis.yw) );\n\t\t//vec2 ofs = rot2d( fTaps_Poisson[i], rnd );\n\t\tvec2 texcoord = uv + max_siz * ofs / resolution.xy;\n\t\tsum += texture2D(tInput, texcoord, -10.0);\n\t}\n\tgl_FragColor = sum / vec4(NUM_TAPS);\n}"}},{text:"VIGNETTE1Pass",value:{VIGNETTE1Pass:"uniform sampler2D tInput;\nuniform float falloff;\nuniform float amount;\nvarying vec2 vUv;\n\nvoid main() {\n\n    vec4 color = texture2D(tInput, vUv);\n    \n    float dist = distance(vUv, vec2(0.5, 0.5));\n    color.rgb *= smoothstep(0.8, falloff * 0.799, dist * (amount + falloff));\n    \n    gl_FragColor = color;\n\n}",params:{falloff:10,amount:2}}},{text:"VIGNETTE2Pass",value:{VIGNETTE2Pass:"varying vec2 vUv;\nuniform sampler2D tInput;\nuniform vec2 resolution;\n\nuniform float reduction;\nuniform float boost;\n\nvoid main() {\n\n\tvec4 color = texture2D( tInput, vUv );\n\n\tvec2 center = resolution * 0.5;\n\tfloat vignette = distance( center, gl_FragCoord.xy ) / resolution.x;\n    vignette = boost - vignette * reduction;\n\n    color.rgb *= vignette;\n\tgl_FragColor = color;\n\n}",params:{reduction:10,boost:2}}},{text:"FREICHENPass",value:{FREICHENPass:"/**\n* @author zz85 / https://github.com/zz85 | https://www.lab4games.net/zz85/blog\n*\n* Edge Detection Shader using Frei-Chen filter\n* Based on http://rastergrid.com/blog/2011/01/frei-chen-edge-detector\n*\n*/\n\nuniform sampler2D tInput;\nvarying vec2 vUv;\nuniform vec2 resolution;\n\n\n// hard coded matrix values!!!! as suggested in https://github.com/neilmendoza/ofxPostProcessing/blob/master/src/EdgePass.cpp#L45\nconst mat3 g0 = mat3( 0.3535533845424652, 0, -0.3535533845424652, 0.5, 0, -0.5, 0.3535533845424652, 0, -0.3535533845424652 );\nconst mat3 g1 = mat3( 0.3535533845424652, 0.5, 0.3535533845424652, 0, 0, 0, -0.3535533845424652, -0.5, -0.3535533845424652 );\nconst mat3 g2 = mat3( 0, 0.3535533845424652, -0.5, -0.3535533845424652, 0, 0.3535533845424652, 0.5, -0.3535533845424652, 0 );\nconst mat3 g3 = mat3( 0.5, -0.3535533845424652, 0, -0.3535533845424652, 0, 0.3535533845424652, 0, 0.3535533845424652, -0.5 );\nconst mat3 g4 = mat3( 0, -0.5, 0, 0.5, 0, 0.5, 0, -0.5, 0 );\nconst mat3 g5 = mat3( -0.5, 0, 0.5, 0, 0, 0, 0.5, 0, -0.5 );\nconst mat3 g6 = mat3( 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.6666666865348816, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204 );\nconst mat3 g7 = mat3( -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, 0.6666666865348816, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408 );\nconst mat3 g8 = mat3( 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408 );\n\nvoid main(void) {\n\tvec2 texel = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n\tmat3 G[9];\n\tG[0] = g0,\n\tG[1] = g1,\n\tG[2] = g2,\n\tG[3] = g3,\n\tG[4] = g4,\n\tG[5] = g5,\n\tG[6] = g6,\n\tG[7] = g7,\n\tG[8] = g8;\n\t\n\tmat3 I;\n\tfloat cnv[9];\n\tvec3 sample1;\n\t\n\t/* fetch the 3x3 neighbourhood and use the RGB vector's length as intensity value */\n\tfor (float i=0.0; i<3.0; i++) {\n\t\tfor (float j=0.0; j<3.0; j++) {\n\t\t\tsample1 = texture2D(tInput, vUv + texel * vec2(i-1.0,j-1.0) ).rgb;\n\t\t\tI[int(i)][int(j)] = length(sample1);\n\t\t}\n\t}\n\t\n\t/* calculate the convolution values for all the masks */\n\tfor(int i=0;i<9;i++){\n\t\tfloat dp3=dot(G[i][0],I[0])+dot(G[i][1],I[1])+dot(G[i][2],I[2]);\n\t\tcnv[i]=dp3*dp3;\n\t}\n\t\n\tfloat M=(cnv[0]+cnv[1])+(cnv[2]+cnv[3]);\n\tfloat S=(cnv[4]+cnv[5])+(cnv[6]+cnv[7])+(cnv[8]+M);\n\t\n\tgl_FragColor=vec4(vec3(sqrt(M/S)),texture2D(tInput,vUv).a);\n\t\n}\n"}},{text:"TOONPass",value:{TOONPass:"// Based on http://coding-experiments.blogspot.sg/2011/01/toon-pixel-shader.html\n\nuniform vec3 resolution;\nuniform sampler2D tInput;\nvarying vec2 vUv;\n\n#define HueLevCount 6\n#define SatLevCount 7\n#define ValLevCount 4\nfloat HueLevels[HueLevCount];\nfloat SatLevels[SatLevCount];\nfloat ValLevels[ValLevCount];\n \nvec3 RGBtoHSV( float r, float g, float b) {\n   float minv, maxv, delta;\n   vec3 res;\n \n   minv = min(min(r, g), b);\n   maxv = max(max(r, g), b);\n   res.z = maxv;            // v\n   \n   delta = maxv - minv;\n \n   if( maxv != 0.0 )\n      res.y = delta / maxv;      // s\n   else {\n      // r = g = b = 0      // s = 0, v is undefined\n      res.y = 0.0;\n      res.x = -1.0;\n      return res;\n   }\n \n   if( r == maxv )\n      res.x = ( g - b ) / delta;      // between yellow & magenta\n   else if( g == maxv )\n      res.x = 2.0 + ( b - r ) / delta;   // between cyan & yellow\n   else\n      res.x = 4.0 + ( r - g ) / delta;   // between magenta & cyan\n \n   res.x = res.x * 60.0;            // degrees\n   if( res.x < 0.0 )\n      res.x = res.x + 360.0;\n      \n   return res;\n}\n \nvec3 HSVtoRGB(float h, float s, float v ) {\n   int i;\n   float f, p, q, t;\n   vec3 res;\n \n   if( s == 0.0 ) {\n      // achromatic (grey)\n      res.x = v;\n      res.y = v;\n      res.z = v;\n      return res;\n   }\n \n   h /= 60.0;         // sector 0 to 5\n   i = int(floor( h ));\n   f = h - float(i);         // factorial part of h\n   p = v * ( 1.0 - s );\n   q = v * ( 1.0 - s * f );\n   t = v * ( 1.0 - s * ( 1.0 - f ) );\n \n   if (i==0) {\n\t\tres.x = v;\n\t\tres.y = t;\n\t\tres.z = p;\n   \t} else if (i==1) {\n         res.x = q;\n         res.y = v;\n         res.z = p;\n\t} else if (i==2) {\n         res.x = p;\n         res.y = v;\n         res.z = t;\n\t} else if (i==3) {\n         res.x = p;\n         res.y = q;\n         res.z = v;\n\t} else if (i==4) {\n         res.x = t;\n         res.y = p;\n         res.z = v;\n\t} else if (i==5) {\n         res.x = v;\n         res.y = p;\n         res.z = q;\n   }\n   \n   return res;\n}\n \nfloat nearestLevel(float col, int mode) {\n \n   if (mode==0) {\n   \t\tfor (int i =0; i<HueLevCount-1; i++ ) {\n\t\t    if (col >= HueLevels[i] && col <= HueLevels[i+1]) {\n\t\t      return HueLevels[i+1];\n\t\t    }\n\t\t}\n\t }\n \n\tif (mode==1) {\n\t\tfor (int i =0; i<SatLevCount-1; i++ ) {\n\t\t\tif (col >= SatLevels[i] && col <= SatLevels[i+1]) {\n\t          return SatLevels[i+1];\n\t        }\n\t\t}\n\t}\n \n \n\tif (mode==2) {\n\t\tfor (int i =0; i<ValLevCount-1; i++ ) {\n\t\t\tif (col >= ValLevels[i] && col <= ValLevels[i+1]) {\n\t          return ValLevels[i+1];\n\t        }\n\t\t}\n\t}\n \n \n}\n \n// averaged pixel intensity from 3 color channels\nfloat avg_intensity(vec4 pix) {\n return (pix.r + pix.g + pix.b)/3.;\n}\n \nvec4 get_pixel(vec2 coords, float dx, float dy) {\n return texture2D(tInput,coords + vec2(dx, dy));\n}\n \n// returns pixel color\nfloat IsEdge(in vec2 coords){\n  float dxtex = 1.0 / resolution.x ;\n  float dytex = 1.0 / resolution.y ;\n  \n  float pix[9];\n  \n  int k = -1;\n  float delta;\n \n  // read neighboring pixel intensities\nfloat pix0 = avg_intensity(get_pixel(coords,-1.0*dxtex, -1.0*dytex));\nfloat pix1 = avg_intensity(get_pixel(coords,-1.0*dxtex, 0.0*dytex));\nfloat pix2 = avg_intensity(get_pixel(coords,-1.0*dxtex, 1.0*dytex));\nfloat pix3 = avg_intensity(get_pixel(coords,0.0*dxtex, -1.0*dytex));\nfloat pix4 = avg_intensity(get_pixel(coords,0.0*dxtex, 0.0*dytex));\nfloat pix5 = avg_intensity(get_pixel(coords,0.0*dxtex, 1.0*dytex));\nfloat pix6 = avg_intensity(get_pixel(coords,1.0*dxtex, -1.0*dytex));\nfloat pix7 = avg_intensity(get_pixel(coords,1.0*dxtex, 0.0*dytex));\nfloat pix8 = avg_intensity(get_pixel(coords,1.0*dxtex, 1.0*dytex)); \n  // average color differences around neighboring pixels\n  delta = (abs(pix1-pix7)+\n          abs(pix5-pix3) +\n          abs(pix0-pix8)+\n          abs(pix2-pix6)\n           )/4.;\n \n  return clamp(5.5*delta,0.0,1.0);\n}\n \nvoid main(void)\n{\n \n\tHueLevels[0] = 0.0;\n\tHueLevels[1] = 80.0;\n\tHueLevels[2] = 160.0;\n\tHueLevels[3] = 240.0;\n\tHueLevels[4] = 320.0;\n\tHueLevels[5] = 360.0; \n \n\tSatLevels[0] = 0.0;\n\tSatLevels[1] = 0.1;\n\tSatLevels[2] = 0.3;\n\tSatLevels[3] = 0.5;\n\tSatLevels[4] = 0.6;\n\tSatLevels[5] = 0.8;\n\tSatLevels[6] = 1.0;\n \n\tValLevels[0] = 0.0;\n\tValLevels[1] = 0.3;\n\tValLevels[2] = 0.6;\n\tValLevels[3] = 1.0; \n \n    vec4 colorOrg = texture2D( tInput, vUv );\n    vec3 vHSV =  RGBtoHSV(colorOrg.r,colorOrg.g,colorOrg.b);\n    vHSV.x = nearestLevel(vHSV.x, 0);\n    vHSV.y = nearestLevel(vHSV.y, 1);\n    vHSV.z = nearestLevel(vHSV.z, 2);\n    float edg = IsEdge(vUv);\n    vec3 vRGB = (edg >= 0.3)? vec3(0.0,0.0,0.0):HSVtoRGB(vHSV.x,vHSV.y,vHSV.z);\n    gl_FragColor = vec4(vRGB.x,vRGB.y,vRGB.z,1.0);\n}"}}],w="InvertPass",G=J,q=null;R.addBlade({view:"list",label:"后处理类型",options:O,value:""}).on("change",(t=>{I=t.value}));const D=R.addButton({title:"新增",label:"新增通道"});let U=0;D.on("click",(t=>{w=Object.keys(I)[0],G=Object.values(I)[0],q=Object.values(I)[1];let n=U++,e=R.addFolder({title:w});for(const r in q){let t=q[r];e.addBlade({view:"text",label:r,parse:t=>String(t),value:t})}e.addButton({title:`移除~${n}`,label:"关闭通道"}).on("click",(t=>{let n=t.target.title.split("~")[1];_.removePass(n)})).on("click",(()=>{e.dispose()}));let o=L(q,t.target.label,t.value);_.addPass(w,G,o,n)})),_.onWindowResize(s.value,c.value);const{onLoop:Q}=n();return Q((({delta:t})=>{b&&(s.value.autoClearColor=!0,_.Reset(),b.material=y,_.render(u.value,c.value),_.pass(),_.toScreen(u.value,c.value))})),(t,n)=>null}}),[["__scopeId","data-v-678aecf2"]]),V={ref:"perspectiveCameraRef",position:[600,850,-1500],fov:45,near:.1,far:1e5},X=g({__name:"postProcessingEditor",setup(t){const e={clearColor:"#000000",shadows:!0,alpha:!1,useLegacyLights:!0,renderMode:"manual"},r={autoRotate:!0,enableDamping:!0},{onLoop:i}=n();return i((({delta:t})=>{})),(t,n)=>{const i=S("TresCanvas");return P(),C(i,G(e,{"window-size":""}),{default:y((()=>[b("TresPerspectiveCamera",V,null,512),_(R(o),I(O(r)),null,16),n[0]||(n[0]=b("TresAmbientLight",{color:"#ffffff",intensity:2},null,-1)),n[1]||(n[1]=b("TresDirectionalLight",{position:[100,100,0],intensity:2,color:"#ffffff"},null,-1)),(P(),C(w,null,{default:y((()=>[_(Z)])),_:1}))])),_:1},16)}}});export{X as default};
