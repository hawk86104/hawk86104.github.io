import{a6 as t,cw as n,C as o,V as e,ad as r}from"./three.fnkrvySq1721721076264.js";import{P as s}from"./tweakpane.yHWGBmom1721721076264.js";import{_ as i}from"./@tweenjs.YWzLuvWF1721721076264.js";import{p as a,$ as c}from"./@tresjs.tWkmYPO61721721076264.js";import{P as u,b as p,c as l,M as f,T as m,a as g,d as h}from"./index.WyiMUWLZ1721721076264.js";import{d,a1 as j,w,o as b,D as x,u as y,X as I,r as v,e as M,j as _,g as S,f as z,al as C,m as B,F as k}from"./@vue.Q1VpS3901721721076264.js";import{_ as R}from"./raycasterEvent.ayUoeys01721721076264.js";import{a as E}from"./utils.AzRxIDAL1721721076264.js";import"./@vueuse._hUvP73U1721721076264.js";import"./@mapbox.64QnR_xr1721721076264.js";import"./@amap.b3gYyCW_1721721076264.js";import"./three-mesh-bvh.TXD2-bq71721721076264.js";import"./three-custom-shader-material.UAECXI501721721076264.js";import"./object-hash.n-lQHd521721721076264.js";import"./jszip.vimxEq251721721076264.js";import"./glsl-tokenizer.rVSxTaVo1721721076264.js";import"./glsl-token-string.qKZvKI-H1721721076264.js";import"./glsl-token-functions.nzsekdRK1721721076264.js";import"./@fesjs.ODHTSx0A1721721076264.js";import"./vue-router.wK6Z5ZPK1721721076264.js";import"./lodash-es.nFpJXAf-1721721076264.js";import"./@qlin.yHhFDldE1721721076264.js";import"./pinia.G6Yd8Ztp1721721076264.js";import"./@floating-ui.BPbuo5Gx1721721076264.js";import"./@juggle.7yjBMqoW1721721076264.js";import"./http.Oh8NJmm81721721076264.js";import"./axios.FVFoCDiv1721721076264.js";import"./color.VGO4mBJ51721721076264.js";import"./color-string.ALVqKyV_1721721076264.js";import"./color-name.IHYvJSuQ1721721076264.js";import"./simple-swizzle.jv0Zu64u1721721076264.js";import"./is-arrayish.epDAtAMM1721721076264.js";import"./color-convert._1aJnykN1721721076264.js";import"./lodash.Ji_XOwQv1721721076264.js";import"./utils.rTaeW1AE1721721076264.js";import"./d3-geo.ydlHoXnw1721721076264.js";import"./d3-array.AhNJy1f41721721076264.js";const P=H;!function(t,n){const o=H,e=Z();for(;;)try{if(371495===parseInt(o(474))/1*(-parseInt(o(421))/2)+-parseInt(o(434))/3*(parseInt(o(437))/4)+-parseInt(o(438))/5*(parseInt(o(443))/6)+-parseInt(o(490))/7*(parseInt(o(458))/8)+-parseInt(o(439))/9*(-parseInt(o(470))/10)+parseInt(o(477))/11+-parseInt(o(429))/12*(-parseInt(o(442))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[H(475)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Z(){const t=["minDistance","innerHeight","useWorker","genBright","__proto__","far","position0","isMonochrome","stateObject","8KUjryY","camera","showTileNo","log",'{}.constructor("return this")( )',"console","constructor","render","init","prototype","primitive","target","10mQHvPa","test","action","innerWidth","104190UCmxDH","apply","trace","2536853lkBrwO","flatShading","Vector3","mapCenter","set","table","useStandardMaterial","length","gger","update","error","maxZoom","#fff","4118821plwDLH","coordType","enableDamping","toString","debu","warn","monochrome","PerspectiveCamera","exception","updateProjectionMatrix","genSaturation","counter","while (true) {}","wireframe","14HnMWMM","provider","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","bbox","function *\\( *\\)","call","abs","22858428NOolqj","chain","tileMapMesh","domElement","opposite","1664907QrJIvI","filter","lookAt","4gESEeM","55lWsBvu","3720447sQrTrg","source","string","13tJnHHw","166188ZlCvoq","value","bind","position","Color","genContrast"];return(Z=function(){return t})()}function H(t,n){const o=Z();return(H=function(t,n){return o[t-=410]})(t,n)}!function(){T(this,(function(){const t=H,n=new RegExp(t(426)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=W(t(466));n[t(471)](e+t(430))&&o.test(e+"input")?W():e("0")}))()}();const A=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[H(475)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();A(void 0,(function(){const t=H;let n;try{n=Function("return (function() "+t(462)+");")()}catch(r){n=window}const o=n[t(463)]=n.console||{},e=[t(461),t(412),"info",t(487),t(415),t(482),t(476)];for(let s=0;s<e[t(484)];s++){const n=A[t(464)][t(467)][t(445)](A),r=e[s],i=o[r]||n;n[t(453)]=A[t(445)](A),n.toString=i[t(410)][t(445)](i),o[r]=n}}))();const D=["object","rotation"],V=d({__name:P(431),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:P(489)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(e,{expose:r}){const s=P,h=e,{renderer:d,scene:I}=a();(new u)[s(491)]=p;const v=new l;v.source=s(424),v[s(491)]=p;const M=new f;M[s(440)]=s(423),M[s(460)]=!1,M[s(451)]=!0;const _=new m(v,M);if(_.showBoundingBox=!1,_[s(420)]=!1,_[s(478)]=!1,_[s(483)]=!1,_[s(435)]={opposite:h[s(433)],monochrome:h[s(456)]?{r:.299,g:.587,b:.114}:null,genBright:h[s(452)],genContrast:h[s(448)],genSaturation:h.genSaturation},h[s(413)]){let n=new(t[s(447)])(h.monochrome);_[s(435)]&&(_[s(435)][s(413)]={r:n.r,g:n.g,b:n.b})}const S=new g;S[s(422)]=_,S[s(425)]=h[s(425)],S[s(488)]=h.maxZoom;const z=new(t[s(414)])(60,window[s(473)]/window[s(450)],1,1e8);z.up=new(t[s(479)])(0,1,0),z[s(446)][s(481)](h[s(480)][0],h.mapCenter[2],-h[s(480)][1]),z[s(436)](new(t[s(479)])(z.position.x,0,z[s(446)].z-2e3)),S[s(459)]=z;let C=null;j((()=>{const t=s;if(d[t(444)]&&!C&&(C=new n(z,d[t(444)][t(432)]),C[t(492)]=!0,C.dampingFactor=.05,C[t(449)]=600,C[t(455)][t(481)](z[t(446)].x,z[t(446)].y,z[t(446)].z),C[t(469)][t(481)](z[t(446)].x,0,z[t(446)].z-2e3)),h[t(452)]&&_.filter&&(_[t(435)][t(452)]=h[t(452)]),h[t(448)]&&_[t(435)]&&(_[t(435)][t(448)]=h[t(448)]),h.genSaturation&&_[t(435)]&&(_[t(435)][t(417)]=h.genSaturation),h.isMonochrome&&h[t(413)]&&_.filter){let n=new o(h.monochrome);_[t(435)][t(413)]={r:n.r,g:n.g,b:n.b}}})),w((()=>h[s(433)]),(t=>{const n=s;_[n(435)]&&(_[n(435)][n(433)]=t)})),w((()=>h[s(456)]),(n=>{const o=s;let e=new(t[o(447)])(h[o(413)]);_[o(435)]&&(_[o(435)][o(413)]=n?{r:e.r,g:e.g,b:e.b}:null)}));const{onLoop:B}=c();return B((()=>{const t=s;if(d.value){i[t(486)](),C&&C[t(486)](),S[t(486)]();const n=50*Math[t(428)](z[t(446)].y);z[t(454)]=n+5e3,z[t(416)](),C.target.y=0,d[t(444)][t(465)](I[t(444)],z)}})),r({camera:z,map:S,orbitControl:C}),(t,n)=>{const o=s;return b(),x(o(468),{object:y(S),rotation:[-Math.PI/2,0,0]},null,8,D)}}});function W(t){function n(t){const o=H;if(typeof t===o(441))return function(t){}[o(464)](o(419))[o(475)](o(418));1!==(""+t/t)[o(484)]||t%20==0?function(){return!0}[o(464)](o(411)+o(485))[o(427)](o(472)):function(){return!1}[o(464)](o(411)+o(485))[o(475)](o(457)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const q=$;!function(t,n){const o=$,e=Q();for(;;)try{if(213965===-parseInt(o(215))/1*(parseInt(o(231))/2)+parseInt(o(252))/3+-parseInt(o(209))/4+-parseInt(o(261))/5*(parseInt(o(245))/6)+-parseInt(o(238))/7+parseInt(o(262))/8+parseInt(o(255))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const F=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[$(207)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){F(this,(function(){const t=$,n=new RegExp(t(220)),o=new RegExp(t(244),"i"),e=J(t(241));n[t(242)](e+"chain")&&o[t(242)](e+t(208))?J():e("0")}))()}();const O=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[$(207)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Q(){const t=["18SlPPgw","exception","string","value","genContrast","bind","genSaturation","1149066VjIVeh","log","#4688b5","3897207BUAxzP","xjk","warn","constructor","orbitControl","debu","33980YdDFGq","1583368IpRjom","return (function() ","SRGBColorSpace","counter","apply","input","352072aVaeET","trace","nss","饱和度","tileMap","奥体中心","278174TIsRlS","新街口","Vector3","opposite","length","function *\\( *\\)","TresCanvas","action","addBinding","isMonochrome","info","gger","牛首山","change","stateObject","error","2BtJWnr","genBright","__proto__","table",'{}.constructor("return this")( )',"#201919","monochrome","2893947qNfQOH","camera","addBlade","init","test","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(Q=function(){return t})()}function $(t,n){const o=Q();return($=function(t,n){return o[t-=207]})(t,n)}O(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(263)+t(235)+");")()}catch(o){n=window}return n}(),o=n.console=n.console||{},e=[t(253),t(257),t(225),t(230),t(246),t(234),t(210)];for(let r=0;r<e[t(219)];r++){const n=O.constructor.prototype[t(250)](O),s=e[r],i=o[s]||n;n[t(233)]=O.bind(O),n[t(243)]=i[t(243)][t(250)](i),o[s]=n}}))();const L=d({__name:q(213),setup(n){const o=q,i=h(118.779958,32.017136),a=[i[0],i[1],5e3],c=I(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(254),mapCenter:a}),p=new s({title:"参数"});p[o(223)](u,o(218),{label:"反色"}),p[o(223)](u,o(232),{label:"高亮",min:.1,max:3,step:.1}),p.addBinding(u,o(249),{label:"对比度",min:.1,max:3,step:.1}),p[o(223)](u,o(251),{label:o(212),min:.1,max:3,step:.1}),p[o(223)](u,o(224),{label:"单色滤镜"}),p[o(223)](u,o(237),{label:"滤镜颜色"});const l={at:h(118.7425,31.9998),xjk:h(118.7842,32.0418),nss:h(118.7503,31.9082)};p[o(240)]({view:"list",label:"飞去",options:[{text:o(214),value:"at"},{text:o(216),value:o(256)},{text:o(227),value:o(211)}],value:"at"}).on(o(228),(t=>{const n=o,r=new e(l[t[n(248)]][0],2e3,-l[t[n(248)]][1]);E(c[n(248)][n(239)],r,c[n(248)][n(259)],[0,-300],4e3)}));const f=v({clearColor:o(236),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[o(264)],toneMapping:r,precision:"highp"});return setTimeout((()=>{const n=o,e=l.at,r=new(t[n(217)])(e[0],1600,-e[1]);E(c[n(248)][n(239)],r,c[n(248)][n(259)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=M(e(221));return b(),x(k,null,[_(r,B(f,{"window-size":""}),{default:S((()=>[(b(),z(C,null,{default:S((()=>[_(V,B(u,{ref_key:"tileMapMeshRef",ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),_(R,{tileMapRef:c[e(248)]},null,8,["tileMapRef"])],64)}}});function J(t){function n(t){const o=$;if(typeof t===o(247))return function(t){}[o(258)]("while (true) {}").apply(o(265));1!==(""+t/t)[o(219)]||t%20==0?function(){return!0}[o(258)](o(260)+o(226)).call(o(222)):function(){return!1}.constructor(o(260)+o(226))[o(207)](o(229)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{L as default};
