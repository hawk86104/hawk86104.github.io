import{c as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{_ as t}from"./outlineCom.vue_vue_type_script_setup_true_lang.Bh36N3di1763540743861.js";import{M as s,c$ as o,d3 as r}from"./three.rXKzP9fQ1763540743861.js";import{d as a,w as c,H as n,I as i,u as l,o as u,J as p,h as f}from"./@vue.Co_gxueH1763540743861.js";const m=["object"],y=["geometry"],d=a({__name:"outlineModel",props:{color:{default:"#ffffff"},thickness:{default:.1},screenspace:{type:Boolean,default:!1}},setup(a){const{state:d}=e("./plugins/basic/htmls/model/model.gltf",{draco:!0,decoderPath:"./draco/"});function h(e){const t=[];e.traverse(e=>{if(e.isMesh&&e.geometry.isBufferGeometry&&e.geometry.attributes.position.count<1e5){const o=e.geometry.clone(),a=new s;a.copy(e.matrixWorld),o.applyMatrix4(a),o.isBufferGeometry&&(Object.keys(o.attributes).forEach(e=>{"position"!==e&&o.deleteAttribute(e)}),t.push(function(e,t=.1){return(new r).modify(e,Math.floor(e.attributes.position.count*t))}(o,.1)))}});return o(t)}let _=null;return c(()=>d.value,e=>{e.scene&&(_=h(e.scene))}),(e,s)=>l(d)?(u(),n("primitive",{key:0,object:l(d)?.scene,scale:1,position:[3,-1,-3]},[p("TresMesh",{geometry:l(_)},[s[0]||(s[0]=p("TresMeshBasicMaterial",{color:"#000000",transparent:"",opacity:0},null,-1)),f(t,{thickness:e.thickness,screenspace:e.screenspace,color:e.color},null,8,["thickness","screenspace","color"])],8,y)],8,m)):i("",!0)}});export{d as _};
