var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,h as u,r as a,F as f,b as h,M as l,B as p,Y as g,s as d,c as v,ak as w,aK as I,$ as y,ct as b}from"./three.OosFxi571739442316051.js";import{g as m,b as x,t as _}from"./@mapbox.lMdYodhq1739442316051.js";import{c as M,d as R,a as F}from"./three-mesh-bvh.ZvwtLaXH1739442316051.js";import{z as j}from"./three-custom-shader-material.d7b09qIZ1739442316051.js";const P=S;!function(t,n){const r=S,e=E();for(;;)try{if(832078===parseInt(r(247))/1*(parseInt(r(249))/2)+-parseInt(r(220))/3+parseInt(r(271))/4*(-parseInt(r(216))/5)+-parseInt(r(245))/6*(parseInt(r(211))/7)+parseInt(r(261))/8*(parseInt(r(240))/9)+parseInt(r(234))/10*(-parseInt(r(251))/11)+parseInt(r(259))/12)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const k=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function S(t,n){const r=E();return(S=function(t,n){return r[t-=211]})(t,n)}!function(){k(this,(function(){const t=S,n=new RegExp(t(264)),r=new RegExp(t(224),"i"),e=A("init");n[t(253)](e+t(238))&&r[t(253)](e+t(273))?A():e("0")}))()}();const z=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[S(272)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function E(){const t=["gger","exception","function *\\( *\\)","childrenTiles","ready","applyMatrix4","warn","pow","boundingBoxWorld","40ZbIrbD","apply","input","dispose","visible","renderOrder","length","simplify","1984682QzGfIo","init","freeze","add","__proto__","79825BnJjxr","push","call","getTranMatrix","2646585AeXlSO","uniforms","map","makeRotationX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","return (function() ","abort","material","provider","setFromObject","matrixWorld","tileNo","isReady","222770rIFeFf","console","log","value","chain","while (true) {}","94293yroRkf","update","subdivide","sort","content","6GTwWdr","getTile","4935sZwgIx","isDisposed","26dtjpfz","maxZoom","517pqVPFl","forEach","test","toString","filter","constructor","distanceToPoint","string","29260248QhSSee","parentTile","536sLdeDf"];return(E=function(){return t})()}z(void 0,(function(){const t=S;let n;try{n=Function(t(226)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(235)]=n[t(235)]||{},e=[t(236),t(268),"info","error",t(263),"table","trace"];for(let i=0;i<e[t(277)];i++){const n=z[t(256)].prototype.bind(z),o=e[i],s=r[o]||n;n[t(215)]=z.bind(z),n[t(254)]=s[t(254)].bind(s),r[o]=n}}))();class Z extends c{constructor(){const t=S;super(),this[t(248)]=!1,this[t(233)]=!1,this[t(265)]=[],this[t(270)]=new u}init(t,n,r){const e=S;this.tileNo=t,Object[e(213)](this.tileNo),this[e(222)]=n,this[e(260)]=r,this[e(275)]=!1,this[e(276)]=t[2],this.ready()}async[P(266)](){const t=P;if(this[t(244)]=await this[t(222)][t(229)][t(246)](this[t(232)]),!this[t(248)]){if(this.add(this[t(244)]),this[t(270)][t(230)](this[t(244)])[t(267)](this[t(231)][t(223)](-Math.PI/2)),this.map[t(214)](this),this[t(275)]=!0,this[t(233)]=!0,this[t(260)]){const n=this[t(260)][t(265)];let r=0;for(let e=0;e<n[t(277)];e++)n[e].isReady&&r++;4===r&&(this.parentTile.visible=!1)}this[t(241)]()}}update(){const t=P;if(!this.isReady||this[t(248)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(222)];if(!n.intersectsBox(this.boundingBoxWorld))return void this[t(278)]();this[t(244)]instanceof a&&this[t(222)].provider[t(255)]&&(this[t(244)][t(228)][t(221)].t_Matrix[t(237)]=this.map.provider[t(219)]());let e=this[t(270)][t(257)](r);const o=this.tileNo[2];e/=Math[t(269)](2,this[t(222)][t(229)].maxZoom-o),e<60&&this[t(242)](),e>80&&this[t(278)]();this[t(265)][t(243)](((n,e)=>n.boundingBoxWorld[t(257)](r)-e[t(270)].distanceToPoint(r)))[t(252)]((n=>n[t(241)]()))}[P(242)](){const t=P,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(277)]>0||i>=e[t(250)])return;m(r)[t(252)]((n=>{const r=t,i=new Z;i[r(212)](n,e,this),o[r(217)](i)}))}[P(278)](){const t=P;this[t(265)][t(252)]((n=>n[t(274)]())),this[t(265)]=[],this.visible=!0}[P(274)](){const t=P;this[t(222)].remove(this),this.map[t(229)][t(227)](this.tileNo),this[t(265)][t(252)]((n=>n[t(274)]())),this[t(265)]=[],this[t(260)]=void 0,this[t(244)]&&(this.map[t(229)][t(274)](this[t(232)],this.content),this[t(244)]=void 0),this[t(248)]=!0}}function A(t){function n(t){const r=S;if(typeof t===r(258))return function(t){}[r(256)](r(239))[r(272)]("counter");1!==(""+t/t)[r(277)]||t%20==0?function(){return!0}[r(256)](r(225)+r(262))[r(218)]("action"):function(){return!1}[r(256)](r(225)+r(262))[r(272)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const T=C;!function(t,n){const r=C,e=O();for(;;)try{if(682383===-parseInt(r(410))/1+parseInt(r(400))/2*(parseInt(r(425))/3)+parseInt(r(431))/4+parseInt(r(413))/5+-parseInt(r(426))/6*(-parseInt(r(428))/7)+-parseInt(r(398))/8*(parseInt(r(456))/9)+-parseInt(r(432))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const W=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function O(){const t=["15334170ozCnsf","call","maxZoom","forEach","stateObject","exception","table","function *\\( *\\)","input","action","init","rootTiles","push",'{}.constructor("return this")( )',"string","toString","disposeBoundsTree","log","counter","rootForward","while (true) {}","debu","chain","rootForward needs to be 0 - 3.","32976ibelaR","warn","camera","computeBoundsTree","[Map.regenerate] Method not implemented.","1688obFkbg","gger","250682vBvRLN","bind","info","cameraProjectionMatrix","lastUpdateTime","prototype","now","initRootTiles","raycast","length","507332zyUpwh","matrixWorldInverse","copy","4954085FIZpye","update","equals","setFromProjectionMatrix","getWorldPosition","[Map.dispose] Method not implemented.","constructor","lastCameraProjectionMatrix","bbox","cameraWorldPosition","lastCameraWorldPosition","error","30SUPUET","36HfLMWR","dispose","251041vsKPKD","apply","test","4147324IDvmkL"];return(O=function(){return t})()}function C(t,n){const r=O();return(C=function(t,n){return r[t-=395]})(t,n)}!function(){W(this,(function(){const t=C,n=new RegExp(t(439)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=N(t(442));n[t(430)](e+t(454))&&r.test(e+t(440))?N():e("0")}))()}();const U=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(429)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();U(void 0,(function(){const t=C;let n;try{n=Function("return (function() "+t(445)+");")()}catch(o){n=window}const r=n.console=n.console||{},e=[t(449),t(457),t(402),t(424),t(437),t(438),"trace"];for(let i=0;i<e[t(409)];i++){const n=U.constructor.prototype.bind(U),o=e[i],s=r[o]||n;n.__proto__=U[t(401)](U),n[t(447)]=s[t(447)][t(401)](s),r[o]=n}}))();let B=class extends c{constructor(){const t=C;super(),this[t(421)]=[74.390592,6.900905,134.071423,54.318199],this[t(434)]=20,this[t(451)]=0,this.cameraFrustum=new f,this.cameraWorldPosition=new h,this[t(403)]=new l,this[t(420)]=new l,this.lastCameraWorldPosition=new h,this[t(443)]=[],this.lastUpdateTime=0,!p[t(405)][t(396)]&&(p[t(405)][t(396)]=M),!p.prototype[t(448)]&&(p[t(405)][t(448)]=R),a[t(405)][t(408)]=F}[T(407)](){const t=T;this[t(451)]>3&&(console[t(457)](t(455)),this[t(451)]=3),this[t(451)]<0&&(console[t(457)](t(455)),this.rootForward=0);const n=[];let r=[x(this[t(421)])],e=this[t(451)];for(;e>0;){const n=[...r];r=[],n.forEach((n=>{const e=t,o=m(n);r[e(444)](...o)})),e--}n[t(444)](...r),n[t(435)]((n=>{const r=t,e=new Z;e[r(442)](n,this),this.rootTiles[r(444)](e)}))}[T(414)](){const t=T;if(!this.visible||!this[t(395)])return;const n=Date[t(406)]();n-this.lastUpdateTime<300||(0!==this[t(443)][t(409)]?(this.camera[t(417)](this.cameraWorldPosition),this.cameraProjectionMatrix.multiplyMatrices(this[t(395)].projectionMatrix,this[t(395)][t(411)]),this.cameraWorldPosition[t(415)](this[t(423)])&&this.cameraProjectionMatrix[t(415)](this[t(420)])||(this.cameraFrustum[t(416)](this[t(403)]),this[t(443)][t(435)]((n=>n[t(414)]())),this[t(420)][t(412)](this[t(403)]),this[t(423)][t(412)](this[t(422)]),this[t(404)]=n)):this[t(407)]())}[T(427)](){throw new Error(T(418))}regenerate(){throw new Error(T(397))}};function N(t){function n(t){const r=C;if(typeof t===r(446))return function(t){}[r(419)](r(452))[r(429)](r(450));1!==(""+t/t).length||t%20==0?function(){return!0}[r(419)](r(453)+"gger")[r(433)](r(441)):function(){return!1}.constructor(r(453)+r(399))[r(429)](r(436)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const $=X;!function(t,n){const r=X,e=q();for(;;)try{if(973151===-parseInt(r(372))/1*(-parseInt(r(391))/2)+parseInt(r(354))/3*(-parseInt(r(374))/4)+parseInt(r(396))/5*(parseInt(r(364))/6)+parseInt(r(353))/7*(-parseInt(r(388))/8)+-parseInt(r(376))/9+parseInt(r(362))/10*(-parseInt(r(373))/11)+-parseInt(r(383))/12*(-parseInt(r(365))/13))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const D=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){D(this,(function(){const t=X,n=new RegExp(t(378)),r=new RegExp(t(359),"i"),e=Y(t(371));n[t(410)](e+t(393))&&r[t(410)](e+t(389))?Y():e("0")}))()}();const G=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function q(){const t=["6818KqpFAH","480072PdRdoR","resolve","_controller","pendings","add","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","debu","19390EyPPGa","constructor","115746WZNrSS","5222269QoDCUe","error","log","return (function() ","trace","then","init","2789JVUdcs","3124uBaTzc","8BefNBh","signal","8354889kYCQVa","size","function *\\( *\\)","while (true) {}","action","set","exception","72uSLuGd","console","clone","finally","stateObject","8296tBiQZs","input","apply","970kpQMqP","gger","chain","promise","__proto__","5gbjBZh","reject","fetch","delete","bind","toString","warn","call","listeners","counter","url","get","abort","ready","test","catch"];return(q=function(){return t})()}G(void 0,(function(){const t=X;let n;try{n=Function(t(368)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(384)]=n[t(384)]||{},e=[t(367),t(402),"info",t(366),t(382),"table",t(369)];for(let i=0;i<e.length;i++){const n=G[t(363)].prototype.bind(G),o=e[i],s=r[o]||n;n[t(395)]=G[t(400)](G),n[t(401)]=s.toString.bind(s),r[o]=n}}))();const J=class t{constructor(){this[X(356)]=new AbortController,this.listeners=new Set}[$(398)](c,u={}){const a=$;var f,h;t[a(357)].has(c)||(t[a(357)][a(381)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(356)][a(375)]},n(f,r(h))))[a(370)]((t=>{const n=a;this[n(404)].forEach((r=>r[n(355)](t[n(385)]())))}))[a(411)]((t=>{this[a(404)].forEach((n=>n.reject(t)))}))[a(386)]((()=>{const n=a;t[n(357)][n(399)](c)})))}[$(408)](){const t=$;this._controller[t(408)]()}};J[$(357)]=new Map;let K=J;class L{constructor(t,n){const r=$;this[r(406)]=t,this[r(371)]=n,this.promise=new Promise(((t,n)=>{this[r(355)]=t,this.reject=n}))}[$(409)](){const t=$;let n=K[t(357)][t(407)](this.url);return!n&&(n=new K,n[t(398)](this[t(406)],this.init)),n[t(404)][t(358)](this),this[t(394)]}[$(408)](){const t=$;this[t(397)]("User abort.");const n=K[t(357)][t(407)](this[t(406)]);n&&(n[t(404)][t(399)](this),0===n.listeners[t(377)]&&n.abort())}}function X(t,n){const r=q();return(X=function(t,n){return r[t-=353]})(t,n)}function Y(t){function n(t){const r=X;if("string"==typeof t)return function(t){}.constructor(r(379))[r(390)](r(405));1!==(""+t/t)[r(360)]||t%20==0?function(){return!0}.constructor(r(361)+r(392))[r(403)](r(380)):function(){return!1}.constructor(r(361)+"gger").apply(r(387)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=Q,e=rt();for(;;)try{if(760850===-parseInt(r(263))/1*(-parseInt(r(260))/2)+parseInt(r(269))/3+parseInt(r(293))/4*(-parseInt(r(299))/5)+-parseInt(r(282))/6+-parseInt(r(297))/7+-parseInt(r(278))/8+-parseInt(r(285))/9*(-parseInt(r(298))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const V=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Q(288)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){V(this,(function(){const t=Q,n=new RegExp(t(295)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=nt(t(284));n[t(292)](e+t(296))&&r[t(292)](e+t(272))?nt():e("0")}))()}();const H=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Q(288)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Q(t,n){const r=rt();return(Q=function(t,n){return r[t-=252]})(t,n)}let tt;function nt(t){function n(t){const r=Q;if(typeof t===r(289))return function(t){}.constructor(r(279))[r(288)](r(253));1!==(""+t/t)[r(270)]||t%20==0?function(){return!0}[r(281)](r(300)+"gger")[r(261)](r(258)):function(){return!1}.constructor(r(300)+r(256))[r(288)](r(255)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function rt(){const t=["2952771CFWIfR","length","table","input","prototype","fillText","strokeStyle","#00FFFF","#FF4444","6707752FOgeGN","while (true) {}","ready","constructor","6714504RJjOzR","__proto__","init","30089538pWACWf","20px Arial","return (function() ","apply","string","#44FF44","trace","test","4EYWJjJ",'Offscreencanvas.getContext("2d") error!',"function *\\( *\\)","chain","8794317NOwJJc","10eLPevF","5667910UjArzJ","debu","bind","rect","getContext","counter","warn","stateObject","gger","fillStyle","action","toString","6GMJFyS","call","flipY","260259KrEBRa","drawImage","blob","console","exception","#66AAFF"];return(rt=function(){return t})()}H(void 0,(function(){const t=Q;let n;try{n=Function(t(287)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(266)]=n.console||{},e=["log",t(254),"info","error",t(267),t(271),t(291)];for(let i=0;i<e[t(270)];i++){const n=H.constructor[t(273)][t(301)](H),o=e[i],s=r[o]||n;n[t(283)]=H[t(301)](H),n[t(259)]=s.toString[t(301)](s),r[o]=n}}))();const et=ct;!function(t,n){const r=ct,e=it();for(;;)try{if(315084===-parseInt(r(413))/1+parseInt(r(412))/2*(-parseInt(r(452))/3)+parseInt(r(422))/4+parseInt(r(442))/5*(-parseInt(r(416))/6)+parseInt(r(404))/7+-parseInt(r(410))/8*(-parseInt(r(431))/9)+-parseInt(r(427))/10*(-parseInt(r(421))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ct(409)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function it(){const t=["toString","while (true) {}","string","postMessage","5qKYCqE","set","terminated","debu","prototype","constructor","test","onMessage",'{}.constructor("return this")( )',"trace","6LyvHoc","1186976wtvEuR","log","input","data","map","apply","3020856RhjoMp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","204718HKJSti","161541FjGJwE","counter","worker","3420210ySHSra","onmessage","length","chain","clear","19052mBYGNs","142604BtnUYB","table","delete","stateObject","get","3860nKrgSe","terminate","function *\\( *\\)","call","9OfVEDB","bind","warn","__proto__","gger","action","info"];return(it=function(){return t})()}!function(){ot(this,(function(){const t=ct,n=new RegExp(t(429)),r=new RegExp(t(411),"i"),e=at("init");n[t(448)](e+t(419))&&r[t(448)](e+t(406))?at():e("0")}))()}();const st=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ct(409)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ct(t,n){const r=it();return(ct=function(t,n){return r[t-=404]})(t,n)}st(void 0,(function(){const t=ct;let n;try{n=Function("return (function() "+t(450)+");")()}catch(o){n=window}const r=n.console=n.console||{},e=[t(405),t(433),t(437),"error","exception",t(423),t(451)];for(let i=0;i<e[t(418)];i++){const n=st[t(447)][t(446)][t(432)](st),o=e[i],s=r[o]||n;n[t(434)]=st[t(432)](st),n[t(438)]=s[t(438)][t(432)](s),r[o]=n}}))();class ut{constructor(t){const n=ct;this[n(444)]=!0,this[n(408)]=new Map,this[n(415)]=new t,this.worker[n(417)]=this[n(449)][n(432)](this),this.terminated=!1}async[et(441)](t){const n=et;if(!this[n(444)])return this[n(415)][n(441)](t),new Promise(((r,e)=>{const o=n;this[o(408)][o(443)](t.id,r)}))}[et(449)](t){const n=et,{id:r,error:e}=t[n(407)],o=this[n(408)][n(426)](r);o&&!e&&o(t[n(407)]),this[n(408)][n(424)](r)}[et(428)](){const t=et;this[t(415)][t(417)]=null,this[t(415)][t(428)](),this.terminated=!0,this[t(408)][t(420)]()}}function at(t){function n(t){const r=ct;if(typeof t===r(440))return function(t){}[r(447)](r(439))[r(409)](r(414));1!==(""+t/t)[r(418)]||t%20==0?function(){return!0}[r(447)](r(445)+r(435))[r(430)](r(436)):function(){return!1}.constructor(r(445)+"gger")[r(409)](r(425)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ft(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const ht=gt;!function(t,n){const r=gt,e=dt();for(;;)try{if(195922===parseInt(r(292))/1+-parseInt(r(238))/2+parseInt(r(250))/3+parseInt(r(267))/4+parseInt(r(241))/5*(-parseInt(r(275))/6)+-parseInt(r(256))/7+parseInt(r(236))/8*(parseInt(r(262))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[gt(248)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){lt(this,(function(){const t=gt,n=new RegExp(t(269)),r=new RegExp(t(242),"i"),e=wt(t(277));n[t(254)](e+t(268))&&r[t(254)](e+t(290))?wt():e("0")}))()}();const pt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[gt(248)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function gt(t,n){const r=dt();return(gt=function(t,n){return r[t-=233]})(t,n)}function dt(){const t=['{}.constructor("return this")( )',"input","error","87158JskDZK","info","indexOf","{y}","cors","console","image","counter","[x]","24Qtxbsk","toString","113176sgnNEM","dispose","fetching","10hjGggc","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_useWorker","useWorker","abort","postMessage","action","apply","return (function() ","1168803WXjPDs","showTileNo","maxZoom","while (true) {}","test","replace","1435693lEJpfN","string","gger","source","getId","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","201834WbbWQf","bitmap","bind","{z}","exception","854224yFqvVX","chain","function *\\( *\\)","length","stateObject","getUrl","[y]","anisotropy","899952VpyaWS","terminate","init","debu","log","call","constructor","_worker","set","trace","delete","join","needsUpdate","force-cache"];return(dt=function(){return t})()}pt(void 0,(function(){const t=gt;let n;try{n=Function(t(249)+t(289)+");")()}catch(o){n=window}const r=n[t(297)]=n[t(297)]||{},e=[t(279),"warn",t(293),t(291),t(266),"table",t(284)];for(let i=0;i<e[t(270)];i++){const n=pt[t(281)].prototype[t(264)](pt),o=e[i],s=r[o]||n;n.__proto__=pt.bind(pt),n.toString=s[t(237)].bind(s),r[o]=n}}))();class vt{constructor(){const t=gt;this[t(252)]=20,this[t(259)]=t(261),this[t(251)]=!1,this[t(243)]=!1,this[t(240)]=new Map}set useWorker(t){var n;const r=gt;this[r(243)]=t,!this[r(243)]&&(null==(n=this[r(282)])||n[r(276)](),this._worker=void 0)}get[ht(244)](){return this[ht(243)]}async getTile(t){const n=ht,r=this[n(272)](t),e=new g;if(this[n(243)]){!this[n(282)]&&(this[n(282)]=new ut(ft));const o=this[n(260)](t),i=await this[n(282)][n(246)]({id:o,tileNo:t,url:r,debug:this[n(251)]});e[n(233)]=i[n(263)]}else{const o=new L(r,{cache:n(288),mode:n(296)});this.fetching[n(283)](t,o);try{e[n(233)]=await async function(t,n,r=!1){const e=Q,o=await n[e(280)](),i=await o[e(265)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:e(262)});if(!r)return s;!tt&&(tt=new OffscreenCanvas(256,256));const c=tt[e(252)]("2d");if(!c)throw new Error(e(294));const{width:u,height:a}=tt;return c[e(264)](s,0,0),c[e(302)](0,0,u,a),c[e(275)]=e(276),c.font=e(286),c.stroke(),c[e(257)]=e(277),c.fillText(""+t[0],10,30),c[e(257)]=e(290),c[e(274)](""+t[1],10,55),c[e(257)]=e(268),c.fillText(""+t[2],10,80),await createImageBitmap(tt,{imageOrientation:e(262)})}(t,o,this[n(251)])}finally{this[n(240)][n(285)](t)}}return e[n(287)]=!0,e[n(274)]=4,e}abort(t){var n;const r=ht;if(this[r(243)])null==(n=this[r(282)])||n.postMessage({id:this[r(260)](t),abort:!0});else{const n=this[r(240)].get(t);n&&n[r(245)](),this.fetching[r(285)](t)}}[ht(239)](t,n){n[ht(239)]()}getId(t){return t[ht(286)]("-")}[ht(272)](t){const n=ht,[r,e,o]=t;return-1===this[n(259)][n(294)](n(235))?this[n(259)][n(255)]("{x}",r+"")[n(255)](n(295),e+"")[n(255)](n(265),o+""):this[n(259)][n(255)](n(235),r+"")[n(255)](n(273),e+"").replace("[z]",o+"")}}function wt(t){function n(t){const r=gt;if(typeof t===r(257))return function(t){}[r(281)](r(253))[r(248)](r(234));1!==(""+t/t)[r(270)]||t%20==0?function(){return!0}.constructor(r(278)+r(258))[r(280)](r(247)):function(){return!1}[r(281)](r(278)+"gger")[r(248)](r(271)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const It=St;!function(t,n){const r=St,e=_t();for(;;)try{if(238381===parseInt(r(464))/1*(parseInt(r(442))/2)+parseInt(r(487))/3*(-parseInt(r(466))/4)+parseInt(r(463))/5*(parseInt(r(456))/6)+-parseInt(r(481))/7+parseInt(r(453))/8+parseInt(r(485))/9+parseInt(r(486))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const yt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[St(498)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){yt(this,(function(){const t=St,n=new RegExp(t(455)),r=new RegExp(t(473),"i"),e=Tt(t(488));n[t(467)](e+t(474))&&r[t(467)](e+t(483))?Tt():e("0")}))()}();const bt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[St(498)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();bt(void 0,(function(){const t=St;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(470)]=n[t(470)]||{},e=[t(469),"warn",t(480),t(471),t(490),"table",t(461)];for(let i=0;i<e[t(475)];i++){const n=bt.constructor[t(477)][t(447)](bt),o=e[i],s=r[o]||n;n[t(484)]=bt.bind(bt),n[t(472)]=s[t(472)].bind(s),r[o]=n}}))();const mt=It(476),xt=It(493);function _t(){const t=["atanh","tanh","trace","sin","385325gQNoCF","589xbUNUX","CDEFGHJKLMNPQRSTUVWXX","8jMVTTq","test","atan","log","console","error","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","length","utm","prototype","string","abs","info","1776635jvjoia","debu","input","__proto__","755820CVdJNh","632920vMLWEI","468765vGPlbG","init","floor","exception","latitude ‘","charAt","merc","gger","while (true) {}","action","tan","apply","asinh","278cmTyZd","atan2","sqrt","cos","cosh","bind","counter","’ outside UTM limits","constructor","call","exp","2138344HpFAgj","stateObject","function *\\( *\\)","24EubfJT","sinh","toFixed"];return(_t=function(){return t})()}const Mt=6378137,Rt=Math.PI/180;function Ft(t,n){return[Mt*t*Rt,Mt*Math[It(469)](Math.tan(.25*Math.PI+n*Rt*.5))]}function jt(t,n){const r=It;let e=t/(Mt*Math.PI)*180,o=n/(Mt*Math.PI)*180;return o=180/Math.PI*(2*Math.atan(Math[r(452)](o*Math.PI/180))-Math.PI/2),[e,o]}function Pt(t){return t*Math.PI/180}function kt(t){return 180*t/Math.PI}function St(t,n){const r=_t();return(St=function(t,n){return r[t-=442]})(t,n)}const zt={a:6378137,b:6356752.314245,f:1/298.257223563},Et=It(465);function Zt(t,n,r){const e=It;if(!(-80<=n&&n<=84))throw new RangeError(e(491)+n+e(449));let o=r||Math[e(489)]((t+180)/6)+1,i=Pt(6*(o-1)-180+3);const s=Et[e(492)](Math[e(489)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=Pt(6)):32===o&&"X"===s&&t<9?(o--,i-=Pt(6)):32===o&&"X"===s&&t>=9?(o++,i+=Pt(6)):34===o&&"X"===s&&t<21?(o--,i-=Pt(6)):34===o&&"X"===s&&t>=21?(o++,i+=Pt(6)):36===o&&"X"===s&&t<33?(o--,i-=Pt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=Pt(6));const c=Pt(n),u=Pt(t)-i,{a:a,f:f}=zt,h=.9996,l=Math[e(444)](f*(2-f)),p=f/(2-f),g=p*p,d=p*g,v=p*d,w=p*v,I=p*w,y=Math[e(445)](u),b=Math[e(462)](u),m=Math.tan(c),x=Math.sinh(l*Math.atanh(l*m/Math[e(444)](1+m*m))),_=m*Math[e(444)](1+x*x)-x*Math[e(444)](1+m*m),M=Math[e(443)](_,y),R=Math[e(499)](b/Math.sqrt(_*_+y*y)),F=a/(1+p)*(1+1/4*g+1/64*v+1/256*I),j=[null,.5*p-2/3*g+5/16*d+41/180*v-127/288*w+7891/37800*I,13/48*g-.6*d+557/1440*v+281/630*w-1983433/1935360*I,61/240*d-103/140*v+15061/26880*w+167603/181440*I,49561/161280*v-179/168*w+6601661/7257600*I,34729/80640*w-3418889/1995840*I,.6650675310896665*I];let P=M;for(let E=1;E<=6;E++)P+=j[E]*Math[e(462)](2*E*M)*Math[e(446)](2*E*R);let k=R;for(let E=1;E<=6;E++)k+=j[E]*Math.cos(2*E*M)*Math[e(457)](2*E*R);let S=h*F*k,z=h*F*P;return S+=5e5,z<0&&(z+=1e7),[S,z]}function At(t,n,r){const e=It,o=r||50,{a:i,f:s}=zt,c=.9996,u=t-5e5,a=n,f=Math[e(444)](s*(2-s)),h=s/(2-s),l=h*h,p=h*l,g=h*p,d=h*g,v=h*d,w=i/(1+h)*(1+1/4*l+1/64*g+1/256*v),I=u/(c*w),y=a/(c*w),b=[null,.5*h-2/3*l+37/96*p-1/360*g-81/512*d+96199/604800*v,1/48*l+1/15*p-437/1440*g+46/105*d-1118711/3870720*v,17/480*p-37/840*g-209/4480*d+5569/90720*v,4397/161280*g-11/504*d-830251/7257600*v,4583/161280*d-108847/3991680*v,20648693/638668800*v];let m=y;for(let W=1;W<=6;W++)m-=b[W]*Math[e(462)](2*W*y)*Math[e(446)](2*W*I);let x=I;for(let W=1;W<=6;W++)x-=b[W]*Math[e(445)](2*W*y)*Math[e(457)](2*W*I);const _=Math[e(457)](x),M=Math[e(462)](m),R=Math.cos(m),F=M/Math[e(444)](_*_+R*R);let j=null,P=F;do{const t=Math[e(457)](f*Math[e(459)](f*P/Math[e(444)](1+P*P))),n=P*Math[e(444)](1+t*t)-t*Math.sqrt(1+P*P);j=(F-n)/Math.sqrt(1+n*n)*(1+(1-f*f)*P*P)/((1-f*f)*Math.sqrt(1+P*P)),P+=j}while(Math[e(479)](j)>1e-12);const k=P,S=Math[e(468)](k);let z=Math[e(443)](_,R),E=1;for(let W=1;W<=6;W++)E-=2*W*b[W]*Math[e(445)](2*W*y)*Math[e(446)](2*W*I);let Z=0;for(let W=1;W<=6;W++)Z+=2*W*b[W]*Math.sin(2*W*y)*Math[e(457)](2*W*I);Math[e(468)](Math[e(497)](m)*Math[e(460)](x)),Math[e(443)](Z,E);const A=Math.sin(S);Math.sqrt(1-f*f*A*A),Math[e(444)](1+k*k),Math[e(444)](_*_+R*R),Math[e(444)](E*E+Z*Z);z+=Pt(6*(o-1)-180+3);const T=Number(kt(S)[e(458)](14));return[Number(kt(z)[e(458)](14)),T]}function Tt(t){function n(t){const r=St;if(typeof t===r(478))return function(t){}.constructor(r(495))[r(498)](r(448));1!==(""+t/t)[r(475)]||t%20==0?function(){return!0}[r(450)]("debu"+r(494))[r(451)](r(496)):function(){return!1}[r(450)](r(482)+r(494)).apply(r(454)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Wt=Bt;!function(t,n){const r=Bt,e=Nt();for(;;)try{if(141758===-parseInt(r(382))/1*(-parseInt(r(389))/2)+parseInt(r(400))/3+parseInt(r(379))/4*(-parseInt(r(406))/5)+parseInt(r(385))/6*(-parseInt(r(392))/7)+-parseInt(r(409))/8+parseInt(r(372))/9*(-parseInt(r(386))/10)+parseInt(r(404))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Bt(377)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Ot(this,(function(){const t=Bt,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=$t(t(384));n[t(407)](e+t(401))&&r[t(407)](e+t(376))?$t():e("0")}))()}();const Ct=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Bt(377)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Ct(void 0,(function(){const t=Bt;let n;try{n=Function(t(375)+t(398)+");")()}catch(o){n=window}const r=n[t(383)]=n.console||{},e=["log",t(399),t(370),"error","exception",t(391),t(410)];for(let i=0;i<e.length;i++){const n=Ct[t(394)][t(380)].bind(Ct),o=e[i],s=r[o]||n;n.__proto__=Ct[t(371)](Ct),n[t(396)]=s[t(396)].bind(s),r[o]=n}}))();class Ut{constructor(){const t=Bt;this[t(403)]=50,this.coordType=mt,this[t(397)]=20}async getTile(t){const n=Bt,r=new d,e=_(t),o=this.convertCoordinate(e[0],e[3]),i=this[n(378)](e[2],e[3]),s=this[n(378)](e[0],e[1]),c=this[n(378)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r.setAttribute(n(393),new v(u,3)),r}[Wt(395)](t){}[Wt(387)](t,n){n[Wt(387)]()}[Wt(378)](t,n){return this[Wt(388)]===mt?Zt(t,n,this.utmZone):Ft(t,n)}}function Bt(t,n){const r=Nt();return(Bt=function(t,n){return r[t-=370]})(t,n)}function Nt(){const t=["445HjtupS","test","while (true) {}","1393080ZNhrDG","trace","info","bind","3096wxlKoJ","length","action","return (function() ","input","apply","convertCoordinate","3764YJFPdy","prototype","call","1GaRbqA","console","init","42bFvWWo","4470PgFsNF","dispose","coordType","186848dEESYA","string","table","9373qjcpqE","position","constructor","abort","toString","maxZoom",'{}.constructor("return this")( )',"warn","423981bPRWWP","chain","debu","utmZone","3608352xRdRJP","gger"];return(Nt=function(){return t})()}function $t(t){function n(t){const r=Bt;if(typeof t===r(390))return function(t){}[r(394)](r(408))[r(377)]("counter");1!==(""+t/t)[r(373)]||t%20==0?function(){return!0}[r(394)](r(402)+"gger")[r(381)](r(374)):function(){return!1}[r(394)](r(402)+r(405))[r(377)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Dt(t){return new Worker(""+new URL("../static/MartiniWorker-dNq5D85X.js",import.meta.url).href,{name:null==t?void 0:t.name})}const Gt=Jt;!function(t,n){const r=Jt,e=Lt();for(;;)try{if(876627===-parseInt(r(155))/1+parseInt(r(156))/2+parseInt(r(165))/3*(-parseInt(r(192))/4)+-parseInt(r(204))/5*(parseInt(r(166))/6)+-parseInt(r(163))/7+parseInt(r(160))/8*(-parseInt(r(162))/9)+parseInt(r(171))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const qt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Jt(169)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Jt(t,n){const r=Lt();return(Jt=function(t,n){return r[t-=155]})(t,n)}!function(){qt(this,(function(){const t=Jt,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Yt(t(176));n[t(203)](e+t(208))&&r.test(e+"input")?Yt():e("0")}))()}();const Kt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Jt(169)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Lt(){const t=["while (true) {}","utmZone","action","error","toString","abort","prototype","return (function() ","exception","position",'{}.constructor("return this")( )',"getId","stateObject","constructor","positions","916736tKrmOh","bind","useWorker","debu","source","call","replace","trace","_useWorker","setIndex","__proto__","test","355cujgbZ","[x]","triangles","getTile","chain","table","string","counter","gger","length","[y]","console","1543994EYuXsF","308802zNaVIB","[z]","coordType","maxZoom","224200wcVqts","postMessage","351XuEkcY","11582130LzamKR","_worker","15WxYvem","57948yGgdGL","setAttribute","getInWorkerThread","apply","warn","68454230lBtSem","info","getUrl","getInMainThread","dispose","init"];return(Lt=function(){return t})()}Kt(void 0,(function(){const t=Jt,n=function(){const t=Jt;let n;try{n=Function(t(184)+t(187)+");")()}catch(r){n=window}return n}(),r=n[t(215)]=n.console||{},e=["log",t(170),t(172),t(180),t(185),t(209),t(199)];for(let o=0;o<e[t(213)];o++){const n=Kt[t(190)][t(183)][t(193)](Kt),i=e[o],s=r[i]||n;n[t(202)]=Kt[t(193)](Kt),n[t(181)]=s.toString[t(193)](s),r[i]=n}}))();class Xt{constructor(){const t=Jt;this[t(159)]=12,this[t(158)]=mt,this[t(178)]=50,this._useWorker=!0,this[t(196)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp"}set[Gt(194)](t){var n;const r=Gt;this[r(200)]=t,!this[r(200)]&&(null==(n=this[r(164)])||n.terminate(),this[r(164)]=void 0)}get useWorker(){return this[Gt(200)]}async[Gt(207)](t){const n=Gt;return this[n(200)]?this[n(168)](t):this[n(174)]()}async[Gt(174)](){return new p}async[Gt(168)](t){const n=Gt;!this._worker&&(this[n(164)]=new ut(Dt));const r={tileNo:t,id:this[n(188)](t),url:this[n(173)](t),maxZ:this[n(159)],coordType:this[n(158)],utmZone:this[n(178)]},e=await this._worker[n(161)](r),o=new p;return o.setAttribute(n(186),new v(e[n(191)],3)),o[n(167)]("uv",new v(e.uv,2)),o[n(201)](new v(e[n(206)],1)),o}async[Gt(182)](t){var n;const r=Gt;this[r(200)]&&(null==(n=this[r(164)])||n[r(161)]({id:this.getId(t),abort:!0}))}async[Gt(175)](t,n){var r;const e=Gt;n[e(175)](),this[e(200)]&&(null==(r=this._worker)||r.postMessage({id:this[e(188)](t),dispose:!0}))}[Gt(188)](t){return t.join("-")}getUrl(t){const n=Gt,[r,e,o]=t;return this.source.replace(n(205),r+"")[n(198)](n(214),e+"")[n(198)](n(157),o+"")}}function Yt(t){function n(t){const r=Jt;if(typeof t===r(210))return function(t){}.constructor(r(177))[r(169)](r(211));1!==(""+t/t)[r(213)]||t%20==0?function(){return!0}.constructor(r(195)+r(212))[r(197)](r(179)):function(){return!1}[r(190)]("debu"+r(212))[r(169)](r(189)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Vt(){var t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2436444ewIPkv","toString","__proto__","1630364qrRUZr","gger","log","string","input","3224679COVhGu","call","stateObject","length","debu","warn","exception","7IzdxLa","apply","test","trace","return (function() ","center","587479ofxkVV","20oLuOLD","5017524umcRpR","function *\\( *\\)","init","counter","888152hRejCU","constructor","744135GsWeNk","action","info","console","bind","2KQHLpl"];return(Vt=function(){return t})()}!function(t,n){for(var r=Qt,e=Vt();;)try{if(634491===-parseInt(r(357))/1+-parseInt(r(334))/2*(-parseInt(r(344))/3)+-parseInt(r(339))/4+parseInt(r(329))/5+parseInt(r(323))/6+-parseInt(r(351))/7*(-parseInt(r(327))/8)+-parseInt(r(336))/9*(parseInt(r(358))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Ht=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Qt(352)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Qt(t,n){var r=Vt();return(Qt=function(t,n){return r[t-=323]})(t,n)}!function(){Ht(this,(function(){var t=Qt,n=new RegExp(t(324)),r=new RegExp(t(335),"i"),e=rn(t(325));n[t(353)](e+"chain")&&r[t(353)](e+t(343))?rn():e("0")}))()}();var tn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Qt(352)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();tn(void 0,(function(){for(var t=Qt,n=function(){var t,n=Qt;try{t=Function(n(355)+'{}.constructor("return this")( ));')()}catch(r){t=window}return t}(),r=n[t(332)]=n[t(332)]||{},e=[t(341),t(349),t(331),"error",t(350),"table",t(354)],o=0;o<e[t(347)];o++){var i=tn.constructor.prototype[t(333)](tn),s=e[o],c=r[s]||i;i[t(338)]=tn[t(333)](tn),i[t(337)]=c[t(337)].bind(c),r[s]=i}}))();class nn extends a{constructor(t){var n=Qt;super(t),this[n(356)]=new h}}function rn(t){function n(t){var r=Qt;if(typeof t===r(342))return function(t){}[r(328)]("while (true) {}").apply(r(326));1!==(""+t/t)[r(347)]||t%20==0?function(){return!0}[r(328)]("debu"+r(340))[r(345)](r(330)):function(){return!1}.constructor(r(348)+"gger")[r(352)](r(346)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const en=cn;!function(t,n){const r=cn,e=un();for(;;)try{if(211094===-parseInt(r(307))/1*(parseInt(r(348))/2)+parseInt(r(325))/3+-parseInt(r(351))/4*(-parseInt(r(344))/5)+parseInt(r(291))/6*(-parseInt(r(324))/7)+-parseInt(r(305))/8*(parseInt(r(318))/9)+-parseInt(r(315))/10+parseInt(r(290))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const on=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[cn(317)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){on(this,(function(){const t=cn,n=new RegExp(t(350)),r=new RegExp(t(316),"i"),e=fn(t(326));n.test(e+t(336))&&r[t(321)](e+t(300))?fn():e("0")}))()}();const sn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[cn(317)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function cn(t,n){const r=un();return(cn=function(t,n){return r[t-=290]})(t,n)}function un(){const t=["4333tLztOO","197631dvlPKI","init","center","renderOrder","__proto__","monochrome","string","genBright","abort","return (function() ","gger","chain","geometry","getTranMatrix","textureProvider","getCenter","copy","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","action","2078390RZubFR","warn","genSaturate","debu","8632tgVIuo","geometryProvider","function *\\( *\\)","4kqnJsp","maxZoom","position","material","length","6723343ZmGzxq","258eEDiXW","multiply","table",'{}.constructor("return this")( )',"genContrast","opposite","set","boundingBox","info","input","constructor","showBoundingBox","bind","flatShading","2159208gjMScx","toString","89BGIwOv","getTile","dispose","console","map","stateObject","computeBoundingSphere","trace","2010320ZKkAME","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","9dTChOm","computeBoundingBox","exception","test","useStandardMaterial","filter"];return(un=function(){return t})()}sn(void 0,(function(){const t=cn,n=function(){const t=cn;let n;try{n=Function(t(334)+t(294)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(310)]||{},e=["log",t(345),t(299),"error",t(320),t(293),t(314)];for(let o=0;o<e[t(355)];o++){const n=sn[t(301)].prototype[t(303)](sn),i=e[o],s=r[i]||n;n[t(329)]=sn[t(303)](sn),n.toString=s[t(306)][t(303)](s),r[i]=n}}))();class an{constructor(t,n){const r=cn;this[r(349)]=t,this[r(339)]=n,this[r(352)]=20,this[r(302)]=!1,this.wireframe=!1,this[r(304)]=!1,this[r(322)]=!1,this.filter=null}[en(338)](){var t,n,r,e,o;const i=en;let s=new l;if(null==(t=this[i(323)])?void 0:t[i(296)]){let t=new l;t[i(297)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(292)](t)}if(null==(n=this[i(323)])?void 0:n[i(330)]){let t=new l;const n=this[i(323)][i(330)].r,r=this[i(323)][i(330)].g,e=this.filter[i(330)].b;t[i(297)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s.multiply(t)}if(null==(r=this[i(323)])?void 0:r.genBright){let t=new l;const n=this[i(323)][i(332)];t.set(n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(292)](t)}if(null==(e=this[i(323)])?void 0:e.genContrast){let t=new l;const n=this[i(323)][i(295)],r=.5*(1-n);t[i(297)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s.multiply(t)}if(null==(o=this[i(323)])?void 0:o[i(346)]){let t=new l;const n=this[i(323)][i(346)],r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t[i(297)](r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s.multiply(t)}return s}async getTile(t){const n=en,r=[this[n(349)][n(308)](t),this[n(339)][n(308)](t)],e=await Promise.all(r),o=e[0],i=e[1];i.colorSpace=w;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this.useStandardMaterial?new I({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this.filter&&(u=new j({baseMaterial:u,vertexShader:n(342),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(338)]()}}}));const f=new nn;if(f[n(328)]=a,o[n(319)](),o[n(298)][n(340)](f[n(327)]),o[n(327)](),o[n(313)](),o.computeBoundsTree(),f[n(353)][n(341)](f.center),f[n(337)]=o,f[n(354)]=u,this[n(302)]){const t=new b(o[n(298)]);f.add(t)}return f}abort(t){const n=en;this[n(349)][n(333)](t),this[n(339)].abort(t)}[en(309)](t,n){const r=en,e=n[r(337)],o=n[r(354)];e&&this.geometryProvider[r(309)](t,e),o&&o[r(311)]&&this.textureProvider[r(309)](t,o[r(311)]),null==o||o[r(309)]()}}function fn(t){function n(t){const r=cn;if(typeof t===r(331))return function(t){}[r(301)]("while (true) {}")[r(317)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(301)](r(347)+r(335)).call(r(343)):function(){return!1}[r(301)]("debu"+r(335))[r(317)](r(312)),n(++t)}try{if(t)return n;n(0)}catch(r){}}var hn=vn;function ln(){var t=["gger","10zNyaHW","1106622ZmSPII","48680cyxWeR","test","console","while (true) {}","24FsuGDc","4353392QYpTRP","function *\\( *\\)","action","stateObject","bind","warn","geometry","1587873dPMIcU","debu","1295370NIWkne","exception","413175tMkeUP","init","call","apply","4cTGXDC","chain","length","error","DOWN","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","MATCH","constructor","mode","toString",'{}.constructor("return this")( )',"table","info","2718715RYuFyf"];return(ln=function(){return t})()}!function(t,n){for(var r=vn,e=ln();;)try{if(324642===parseInt(r(301))/1*(parseInt(r(305))/2)+parseInt(r(275))/3*(-parseInt(r(283))/4)+-parseInt(r(297))/5+parseInt(r(300))/6+-parseInt(r(279))/7+parseInt(r(306))/8+parseInt(r(277))/9*(parseInt(r(299))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var pn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){pn(this,(function(){var t=vn,n=new RegExp(t(307)),r=new RegExp(t(289),"i"),e=wn(t(280));n[t(302)](e+t(284))&&r[t(302)](e+"input")?wn():e("0")}))()}();var gn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[vn(282)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();gn(void 0,(function(){for(var t=vn,n=function(){var t,n=vn;try{t=Function("return (function() "+n(294)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(303)]||{},e=["log",t(311),t(296),t(286),t(278),t(295),t(288)],o=0;o<e[t(285)];o++){var i=gn[t(291)].prototype[t(310)](gn),s=e[o],c=r[s]||i;i.__proto__=gn[t(310)](gn),i[t(293)]=c[t(293)][t(310)](c),r[s]=i}}))();const dn=class t{constructor(n){var r=vn;this[r(292)]=t[r(287)],this[r(274)]=n}};dn.UP=1,dn[hn(287)]=2,dn[hn(290)]=3;function vn(t,n){var r=ln();return(vn=function(t,n){return r[t-=274]})(t,n)}function wn(t){function n(t){var r=vn;if("string"==typeof t)return function(t){}[r(291)](r(304))[r(282)]("counter");1!==(""+t/t)[r(285)]||t%20==0?function(){return!0}[r(291)](r(276)+"gger")[r(281)](r(308)):function(){return!1}[r(291)](r(276)+r(298))[r(282)](r(309)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=yn,e=mn();;)try{if(909967===parseInt(r(399))/1+-parseInt(r(392))/2+parseInt(r(404))/3*(parseInt(r(381))/4)+-parseInt(r(394))/5+parseInt(r(384))/6+-parseInt(r(374))/7+parseInt(r(383))/8*(parseInt(r(377))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var In=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[yn(385)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function yn(t,n){var r=mn();return(yn=function(t,n){return r[t-=373]})(t,n)}!function(){In(this,(function(){var t=yn,n=new RegExp(t(378)),r=new RegExp(t(400),"i"),e=xn(t(375));n[t(401)](e+"chain")&&r.test(e+t(396))?xn():e("0")}))()}();var bn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function mn(){var t=["console","96ODIsdm","exception","toString","7688744YrHFKs","init","action","549ncUSrx","function *\\( *\\)","table",'{}.constructor("return this")( )',"23064otoiCl","error","336048YBfTdb","645486fYAlkh","apply","constructor","gger","while (true) {}","trace","bind","counter","2563494aIRFtc","return (function() ","3614210vibjaz","length","input","warn","prototype","1158489DHWUxz","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","__proto__"];return(mn=function(){return t})()}function xn(t){function n(t){var r=yn;if("string"==typeof t)return function(t){}.constructor(r(388))[r(385)](r(391));1!==(""+t/t).length||t%20==0?function(){return!0}[r(386)]("debu"+r(387)).call(r(376)):function(){return!1}[r(386)]("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}bn(void 0,(function(){var t,n=yn;try{t=Function(n(393)+n(380)+");")()}catch(u){t=window}for(var r=t.console=t[n(403)]||{},e=["log",n(397),"info",n(382),n(405),n(379),n(389)],o=0;o<e[n(395)];o++){var i=bn[n(386)][n(398)][n(390)](bn),s=e[o],c=r[s]||i;i[n(402)]=bn.bind(bn),i[n(373)]=c[n(373)][n(390)](c),r[s]=i}}))(),function(t,n){for(var r=Rn,e=Fn();;)try{if(545697===parseInt(r(124))/1+-parseInt(r(150))/2*(parseInt(r(125))/3)+parseInt(r(129))/4*(parseInt(r(140))/5)+-parseInt(r(148))/6+parseInt(r(144))/7*(parseInt(r(138))/8)+-parseInt(r(137))/9+parseInt(r(135))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var _n=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){_n(this,(function(){var t=Rn,n=new RegExp(t(151)),r=new RegExp(t(139),"i"),e=jn(t(136));n[t(132)](e+t(131))&&r[t(132)](e+t(143))?jn():e("0")}))()}();var Mn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Rn(146)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Rn(t,n){var r=Fn();return(Rn=function(t,n){return r[t-=117]})(t,n)}function Fn(){var t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2795gXtPWt","bind","counter","input","21fttAkZ","debu","apply","gger","2176140zJlywj","length","194004jUattv","function *\\( *\\)","warn","stateObject","table","string","constructor","prototype","console","trace","363202FOWtWr","15MdrZlc","call","action","error","2428hcSCeD","return (function() ","chain","test","info",'{}.constructor("return this")( )',"5123050vqKNPz","init","3242790HLkTtV","1437032KuBdRt"];return(Fn=function(){return t})()}function jn(t){function n(t){var r=Rn;if(typeof t===r(119))return function(t){}[r(120)]("while (true) {}").apply(r(142));1!==(""+t/t)[r(149)]||t%20==0?function(){return!0}[r(120)](r(145)+"gger")[r(126)](r(127)):function(){return!1}[r(120)](r(145)+r(147))[r(146)](r(117)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Mn(void 0,(function(){for(var t=Rn,n=function(){var t,n=Rn;try{t=Function(n(130)+n(134)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(122)]||{},e=["log",t(152),t(133),t(128),"exception",t(118),t(123)],o=0;o<e[t(149)];o++){var i=Mn.constructor[t(121)][t(141)](Mn),s=e[o],c=r[s]||i;i.__proto__=Mn[t(141)](Mn),i.toString=c.toString[t(141)](c),r[s]=i}}))();const Pn=zn;!function(t,n){const r=zn,e=En();for(;;)try{if(276591===-parseInt(r(424))/1+-parseInt(r(439))/2*(parseInt(r(425))/3)+-parseInt(r(457))/4+-parseInt(r(443))/5+parseInt(r(437))/6*(-parseInt(r(436))/7)+-parseInt(r(438))/8+parseInt(r(459))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const kn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){kn(this,(function(){const t=zn,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(423),"i"),e=Zn("init");n.test(e+t(420))&&r[t(422)](e+t(453))?Zn():e("0")}))()}();const Sn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[zn(441)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function zn(t,n){const r=En();return(zn=function(t,n){return r[t-=418]})(t,n)}function En(){const t=["input","while (true) {}","error","trace","136392dMXjwi","data","15879807pBwGFN","round","__proto__","chain","toString","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","194120hlNzmF","14997fzDAab","counter","length","constructor","exception","gger","console","stateObject","table","warn","debu","7UAzSmA","1353582mRxcnd","2565648PtfpAk","190rvrZRj","getChildPosition","apply",'{}.constructor("return this")( )',"1192030KkqJAu","offscreencanvas","string","getContext","return (function() ","bind","info","action","Get context 2d error.","Clip terrain error"];return(En=function(){return t})()}Sn(void 0,(function(){const t=zn;let n;try{n=Function(t(447)+t(442)+");")()}catch(o){n=window}const r=n[t(431)]=n[t(431)]||{},e=["log",t(434),t(449),t(455),t(429),t(433),t(456)];for(let i=0;i<e[t(427)];i++){const n=Sn[t(428)].prototype.bind(Sn),o=e[i],s=r[o]||n;n[t(419)]=Sn[t(448)](Sn),n[t(421)]=s[t(421)][t(448)](s),r[o]=n}}))();Pn(440);function Zn(t){function n(t){const r=zn;if(typeof t===r(445))return function(t){}[r(428)](r(454))[r(441)](r(426));1!==(""+t/t).length||t%20==0?function(){return!0}[r(428)]("debu"+r(430)).call(r(450)):function(){return!1}[r(428)](r(435)+r(430))[r(441)](r(432)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=On,e=Wn();;)try{if(947381===parseInt(r(482))/1+-parseInt(r(480))/2+-parseInt(r(486))/3*(parseInt(r(481))/4)+parseInt(r(492))/5*(-parseInt(r(500))/6)+parseInt(r(474))/7*(parseInt(r(489))/8)+parseInt(r(487))/9+parseInt(r(488))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var An=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[On(501)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){An(this,(function(){var t=On,n=new RegExp(t(498)),r=new RegExp(t(476),"i"),e=Cn(t(491));n[t(467)](e+t(484))&&r.test(e+t(495))?Cn():e("0")}))()}();var Tn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[On(501)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Wn(){var t=["action","chain","stateObject","42eufulz","5553BADRmj","17073590pVYPKo","2328kkILDq",'{}.constructor("return this")( )',"init","7636945VeQSkz","counter","prototype","input","exception","trace","function *\\( *\\)","constructor","6nxYkUx","apply","toString","log","return (function() ","test","while (true) {}","warn","gger","bind","string","length","16268FhYADa","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","console","__proto__","757768MyGtpW","197044reSewn","1159048bujhTl"];return(Wn=function(){return t})()}function On(t,n){var r=Wn();return(On=function(t,n){return r[t-=467]})(t,n)}function Cn(t){function n(t){var r=On;if(typeof t===r(472))return function(t){}[r(499)](r(468)).apply(r(493));1!==(""+t/t)[r(473)]||t%20==0?function(){return!0}.constructor(r(475)+r(470)).call(r(483)):function(){return!1}[r(499)](r(475)+r(470))[r(501)](r(485)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Tn(void 0,(function(){var t,n=On;try{t=Function(n(504)+n(490)+");")()}catch(u){t=window}for(var r=t[n(478)]=t[n(478)]||{},e=[n(503),n(469),n(477),"error",n(496),"table",n(497)],o=0;o<e.length;o++){var i=Tn[n(499)][n(494)].bind(Tn),s=e[o],c=r[s]||i;i[n(479)]=Tn[n(471)](Tn),i.toString=c[n(502)][n(471)](c),r[s]=i}}))();export{vt as M,Ut as P,an as T,mt as U,B as a,xt as b,Xt as c,Ft as d,Zt as l,At as u,jt as w};
