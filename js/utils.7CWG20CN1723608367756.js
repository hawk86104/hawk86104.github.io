import{a as t,B as n,q as e,bZ as o,C as r,j as s,Z as i}from"./three.X8FgZbPT1723608367756.js";import{x as c}from"./@fesjs.v28izi2B1723608367756.js";import{N as a}from"./@tresjs.zzLYikgQ1723608367756.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.ArMO-VqG1723608367756.js";!function(t,n){const e=g,o=y();for(;;)try{if(620709===parseInt(e(211))/1+-parseInt(e(238))/2+-parseInt(e(232))/3*(parseInt(e(230))/4)+-parseInt(e(208))/5*(parseInt(e(201))/6)+-parseInt(e(188))/7+-parseInt(e(199))/8+parseInt(e(210))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=y();return(g=function(t,n){return e[t-=173]})(t,n)}!function(){l(this,(function(){const t=g,n=new RegExp(t(225)),e=new RegExp(t(189),"i"),o=_(t(237));n.test(o+t(203))&&e[t(240)](o+t(175))?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(198)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=g;let n;try{n=Function("return (function() "+t(243)+");")()}catch(r){n=window}const e=n.console=n[t(231)]||{},o=["log","warn",t(224),t(178),t(219),t(194),t(218)];for(let s=0;s<o.length;s++){const n=m.constructor[t(234)][t(227)](m),r=o[s],i=e[r]||n;n[t(197)]=m[t(227)](m),n[t(223)]=i.toString[t(227)](i),e[r]=n}}))();const h=(n,e=!1)=>{const o=g;n[o(195)]();const{max:r,min:s}=n.boundingBox;n[o(229)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(222)].position.count;t++)e?(a[o(196)]((n[o(222)][o(191)][o(177)](t)-(s.x+r.x)/2)/i),a.push((n[o(222)][o(191)].getY(t)-(s.y+r.y)/2)/c)):(a[o(196)]((n.attributes[o(191)][o(177)](t)-s.x)/i),a[o(196)]((n[o(222)].position.getY(t)-s.y)/c));const u=new Float32Array(a);n[o(221)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=g;c(t,{},{method:"get",mergeRequest:!0})[r(220)]((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[r(178)](t),o(t)}))})),w=t=>{const n=g,e=(new(THREE[n(207)])).setFromObject(t),o=new THREE.Vector3;e[n(173)](o),t.children.forEach((t=>{const e=n;t.position[e(202)](o)})),t.position.copy(o[n(176)]())};function y(){const t=["negate","getX","error","random","value","computeBoundsTree","getY","min","material","applyMatrix4","setY","max","3158239aKKQQi","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","raycast","position","getSize","expandByObject","table","computeBoundingBox","push","__proto__","apply","1985896CwTQLq","string","263532szvFzY","sub","chain","side","transparent","disposeBoundsTree","Box3","115fCEDaH","divideScalar","28860831DdsqNU","331961CBYCPC","uniforms","action","clone","constructor","center","add","trace","exception","then","setAttribute","attributes","toString","info","function *\\( *\\)","count","bind","length","deleteAttribute","64wDXFwD","console","207678MOaqwF","set","prototype","#fff","copy","init","201550YvMIzN","boundingBox","test","depthWrite","geometry",'{}.constructor("return this")( )',"getCenter","debu","input"];return(y=function(){return t})()}const x=()=>{const t=g;n[t(234)][t(181)]=u,n[t(234)][t(206)]=f,e[t(234)][t(190)]=p},b=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(242)][n(214)]();h(c),c.computeBoundsTree();const u=new o(c,{color:new r(n(235)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(184)][n(205)]=!0,u[n(184)][n(241)]=!0,u.material.depthTest=!0,u.material[n(204)]=i,u[n(184)].uniforms.config.value.w=20,u[n(184)][n(212)].reflectivity[n(180)]=.46,u};function j(t){const n=g,e=[];for(let r=0;r<t.length;r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(228)];r++)o[n(217)](e[r]);o[n(209)](e[n(228)]);for(let r=0;r<e[n(228)];r++)e[r].sub(o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=g;if(typeof t===e(200))return function(t){}[e(215)]("while (true) {}")[e(198)]("counter");1!==(""+t/t)[e(228)]||t%20==0?function(){return!0}[e(215)](e(174)+"gger").call(e(213)):function(){return!1}[e(215)](e(174)+"gger")[e(198)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,d as l,h as r,b as s};
