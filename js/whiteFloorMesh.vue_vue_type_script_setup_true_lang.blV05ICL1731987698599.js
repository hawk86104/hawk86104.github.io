import{bI as t,_ as n}from"./three.3RwiW87x1731987698599.js";import{b as o}from"./@tresjs.juy9qkLz1731987698599.js";import{d as r,b as e,a6 as s,w as a,o as c,D as i,J as u,aj as l,ak as f}from"./@vue.-THQH3GC1731987698599.js";function p(t,n){const o=m();return(p=function(t,n){return o[t-=466]})(t,n)}!function(t,n){const o=p,r=m();for(;;)try{if(352879===parseInt(o(511))/1+parseInt(o(516))/2*(parseInt(o(471))/3)+parseInt(o(502))/4*(-parseInt(o(481))/5)+-parseInt(o(482))/6*(-parseInt(o(494))/7)+parseInt(o(489))/8+-parseInt(o(507))/9+parseInt(o(512))/10*(-parseInt(o(477))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[p(478)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=p,n=new RegExp(t(492)),o=new RegExp(t(485),"i"),r=w(t(510));n[t(468)](r+t(487))&&o.test(r+t(486))?w():r("0")}))()}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[p(478)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();h(void 0,(function(){const t=p;let n;try{n=Function("return (function() "+t(495)+");")()}catch(e){n=window}const o=n[t(505)]=n.console||{},r=["log",t(519),"info",t(488),t(513),t(475),"trace"];for(let s=0;s<r[t(508)];s++){const n=h.constructor[t(509)][t(499)](h),e=r[s],a=o[e]||n;n[t(467)]=h[t(499)](h),n[t(476)]=a[t(476)][t(499)](a),o[e]=n}}))();const g=()=>{const o=p;return o(496)+t[o(503)]+o(484)+n[o(520)][o(497)]+"\n      \t"+n[o(520)][o(498)]+o(521)+n[o(520)][o(490)]+o(506)+n[o(520)].defaultnormal_vertex+o(506)+n[o(520)][o(466)]+o(506)+t[o(479)]+o(506)+n[o(520)][o(469)]+"\n          "+n[o(520)][o(470)]+o(473)};function m(){const t=["input","chain","error","5172168TTNmCX","beginnormal_vertex","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","function *\\( *\\)","debu","262759HdclMl",'{}.constructor("return this")( )',"\n       varying vec2 vUv;\n\t\t\t \t","bsdfs","shadowmap_pars_vertex","bind","lights_pars_begin","counter","4mjpHlE","common","gger","console","\n          ","120105HKmKTO","length","prototype","init","527297xldXDp","1307180qRneoR","exception","packing","constructor","6BovyqJ","action","stateObject","warn","ShaderChunk","\n       void main() {\n\t\t\t\t\t","begin_vertex","__proto__","test","worldpos_vertex","shadowmap_vertex","102399snwevq","\n\t ","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","string","table","toString","99LDSJdg","apply","project_vertex","shadowmask_pars_fragment","1670615YqliYi","96sPlcdX","shadowmap_pars_fragment","\n      \t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(m=function(){return t})()}const v=()=>{const o=p;return o(491)+n[o(520)][o(503)]+"\n\t "+t[o(514)]+"\n\t "+n[o(520)][o(497)]+o(472)+t[o(500)]+o(472)+n[o(520)][o(483)]+o(472)+n[o(520)][o(480)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function w(t){function n(t){const o=p;if(typeof t===o(474))return function(t){}[o(515)]("while (true) {}").apply(o(501));1!==(""+t/t)[o(508)]||t%20==0?function(){return!0}[o(515)](o(493)+o(504)).call(o(517)):function(){return!1}[o(515)]("debu"+o(504)).apply(o(518)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const _=C;!function(t,n){const o=C,r=y();for(;;)try{if(486412===-parseInt(o(342))/1+-parseInt(o(367))/2+parseInt(o(349))/3*(-parseInt(o(343))/4)+-parseInt(o(341))/5*(-parseInt(o(352))/6)+parseInt(o(363))/7+parseInt(o(325))/8*(-parseInt(o(324))/9)+parseInt(o(372))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(369)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=C,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(368),"i"),r=j(t(329));n[t(318)](r+"chain")&&o[t(318)](r+t(354))?j():r("0")}))()}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function y(){const t=["gger","fEdge","return (function() ","merge","wrapT","color","size","edge","while (true) {}","tmRef","length","6730mHQlNC","819752xYRYJG","4CoBBtP","UniformsLib","uShadowColor","warn","bind","UniformsUtils","1090812bSPYeY","uColor","prototype","18KvSIYA","call","input","RepeatWrapping","log","shadowColor","console","counter","#999","stateObject","action","1929242CZXjxc","#990","constructor","string","1053844kVsdzu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","trace","args","25230170GtlygU","wrapS","debu",'{}.constructor("return this")( )',"value","Color","error","rotation-x","lights","test","info","toString","DoubleSide","whiteFloorMesh","__proto__","5453739MJTBhS","8mhhKFQ","uniforms","TresShaderMaterial","TresPlaneGeometry","init"];return(y=function(){return t})()}b(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(332)+t(375)+");")()}catch(o){n=window}return n}(),o=n[t(358)]=n.console||{},r=[t(356),t(346),t(319),t(378),"exception","table",t(370)];for(let e=0;e<r[t(340)];e++){const n=b[t(365)][t(351)].bind(b),s=r[e],a=o[s]||n;n[t(323)]=b.bind(b),n[t(320)]=a[t(320)][t(347)](a),o[s]=n}}))();const I=[_(379)],S=[_(371)];function C(t,n){const o=y();return(C=function(t,n){return o[t-=318]})(t,n)}const T=r({__name:_(322),props:{size:{default:[20,20]},color:{default:_(364)},shadowColor:{default:_(360)},edge:{default:.35}},async setup(t){const r=_;let p,d;const h=t,m=e(),{map:w}=([p,d]=s((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,d(),p);w[r(373)]=w[r(334)]=n[r(355)];const x={uniforms:n[r(348)][r(333)]([n[r(344)][r(380)],{uTexture:{type:"t",value:w},uColor:{value:new(n[r(377)])(h[r(335)])},uShadowColor:{value:new(n[r(377)])(h[r(357)])},fEdge:{type:"f",value:h[r(337)]}}]),side:n[r(321)],vertexShader:g(),fragmentShader:v(),lights:!0,transparent:!0};return a((()=>h[r(337)]),(t=>{const n=r;x.uniforms[n(331)].value=t})),a((()=>h[r(335)]),(t=>{const o=r;x[o(326)][o(350)][o(376)]=new(n[o(377)])(h[o(335)])})),a((()=>h[r(357)]),(t=>{const o=r;x[o(326)][o(345)][o(376)]=new(n[o(377)])(h[o(357)])})),(t,n)=>{const o=r;return c(),i("TresMesh",{ref_key:o(339),ref:m,"rotation-x":-Math.PI/2},[u(o(328),{args:h[o(336)]},null,8,S),u(o(327),l(f(x)),null,16)],8,I)}}});function j(t){function n(t){const o=C;if(typeof t===o(366))return function(t){}.constructor(o(338))[o(369)](o(359));1!==(""+t/t)[o(340)]||t%20==0?function(){return!0}[o(365)]("debugger")[o(353)](o(362)):function(){return!1}[o(365)](o(374)+o(330))[o(369)](o(361)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
