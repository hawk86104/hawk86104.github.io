import{P as t}from"./tweakpane.yHWGBmom1726652192279.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.n_49xkgO1726652192279.js";import{_ as r}from"./heatmap.js-fix.YIlcwF1U1726652192279.js";import{h as i,_ as c,cp as s,M as u,a0 as a}from"./three.3esZ7Hzr1726652192279.js";import{r as p}from"./utils.PP2M0YIY1726652192279.js";import{d as f}from"./pinia.wYsVO5dS1726652192279.js";import{b as l,d as h,a3 as d,o as m,E as g,L as y,u as v,F as w,q as b,V as I,O as _,Q as j,I as x,M as E,a4 as D,r as z,j as S,g as M,m as B}from"./@vue.JNsx1iN61726652192279.js";import{c as R,d as F,a as O}from"./three-mesh-bvh.z6NGMxhR1726652192279.js";import{_ as V}from"./@fesjs.SPWJBM2r1726652192279.js";import"./@tresjs.UGbbWZf51726652192279.js";import"./@vueuse.OdTlFP151726652192279.js";import"./three-custom-shader-material.1UWxr2-p1726652192279.js";import"./object-hash.659hUnW-1726652192279.js";import"./@amap.-LPMSFvH1726652192279.js";import"./jszip.uBbFte4W1726652192279.js";import"./glsl-tokenizer.lP_hSvTG1726652192279.js";import"./glsl-token-string.0mUiHG4f1726652192279.js";import"./glsl-token-functions.lY9NGLSv1726652192279.js";import"./vue-router.xtoXuUHZ1726652192279.js";import"./lodash-es.kYt-_xTG1726652192279.js";import"./@qlin.yHhFDldE1726652192279.js";import"./@floating-ui.BPbuo5Gx1726652192279.js";import"./@juggle.7yjBMqoW1726652192279.js";!function(t,n){const e=P,o=G();for(;;)try{if(947742===parseInt(e(328))/1+-parseInt(e(357))/2+-parseInt(e(344))/3+parseInt(e(323))/4*(-parseInt(e(333))/5)+parseInt(e(330))/6*(-parseInt(e(324))/7)+-parseInt(e(321))/8*(parseInt(e(367))/9)+parseInt(e(360))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(345)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Z("init");n[t(359)](o+t(337))&&e[t(359)](o+t(331))?Z():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(345)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=P;let n;try{n=Function(t(351)+t(340)+");")()}catch(r){n=window}const e=n[t(332)]=n.console||{},o=[t(329),t(363),t(350),t(355),t(327),t(338),"trace"];for(let i=0;i<o[t(349)];i++){const n=A.constructor.prototype.bind(A),r=o[i],c=e[r]||n;n[t(348)]=A.bind(A),n.toString=c[t(364)].bind(c),e[r]=n}}))();const T=(t,n)=>t[P(326)](n)+-10;function G(){const t=["console","2605URQdRH","rgb(255,0,0)","constructor","debu","chain","table","counter",'{}.constructor("return this")( )',"call","create","absolute","4252638GrKowH","apply","rgb(0,255,0)","none","__proto__","length","info","return (function() ","heatmap-canvas","createElement","left","error","appendChild","772338GTxnKx","display","test","41567900EVQxmF","style","_config","warn","toString","height","randInt","6804VTuDFn","setData","gger","width","string","rgb(0,0,255)","7752JfGpgC","action","9532mEkcjj","5089titIaB","position","getValueAt","exception","916280zDXFVS","log","2868DfHqSc","input"];return(G=function(){return t})()}function P(t,n){const e=G();return(P=function(t,n){return e[t-=321]})(t,n)}function Z(t){function n(t){const e=P;if(typeof t===e(371))return function(t){}[e(335)]("while (true) {}")[e(345)](e(339));1!==(""+t/t)[e(349)]||t%20==0?function(){return!0}[e(335)]("debu"+e(369))[e(341)](e(322)):function(){return!1}.constructor(e(336)+e(369))[e(345)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=C;!function(t,n){const e=C,o=U();for(;;)try{if(416935===-parseInt(e(457))/1*(parseInt(e(450))/2)+parseInt(e(446))/3+-parseInt(e(464))/4*(parseInt(e(475))/5)+-parseInt(e(471))/6+-parseInt(e(462))/7*(parseInt(e(448))/8)+-parseInt(e(443))/9*(-parseInt(e(449))/10)+parseInt(e(456))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(473)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(t,n){const e=U();return(C=function(t,n){return e[t-=441]})(t,n)}!function(){q(this,(function(){const t=C,n=new RegExp(t(442)),e=new RegExp(t(474),"i"),o=H(t(441));n[t(468)](o+"chain")&&e.test(o+"input")?H():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","910oCzMzH","prototype","init","function *\\( *\\)","114471jeoPna","value","info","2462127QjzEcn","warn","10760LtBXYi","320CrBDtq","108662vSGpNn","stateObject","buildingsHeatmap","counter",'{}.constructor("return this")( )',"trace","12054075sbPgNo","14BvCfLV","string","bind","table","debu","1197syIBzt","gger","2612LFiriA","length","console","action","test","toString","constructor","4782792JSfGGt","while (true) {}"];return(U=function(){return t})()}L(void 0,(function(){const t=C;let n;try{n=Function("return (function() "+t(454)+");")()}catch(r){n=window}const e=n.console=n[t(466)]||{},o=["log",t(447),t(445),"error","exception",t(460),t(455)];for(let i=0;i<o.length;i++){const n=L[t(470)][t(476)].bind(L),r=o[i],c=e[r]||n;n.__proto__=L.bind(L),n[t(469)]=c[t(469)][t(459)](c),e[r]=n}}))();const N=f($(452),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[C(444)]=n},setTemperature:function(t){n.value=t}}}));function H(t){function n(t){const e=C;if(typeof t===e(458))return function(t){}[e(470)](e(472))[e(473)](e(453));1!==(""+t/t)[e(465)]||t%20==0?function(){return!0}[e(470)](e(461)+e(463)).call(e(467)):function(){return!1}[e(470)](e(461)+e(463))[e(473)](e(451)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=W;!function(t,n){const e=W,o=nt();for(;;)try{if(775950===-parseInt(e(504))/1+parseInt(e(555))/2*(-parseInt(e(526))/3)+parseInt(e(525))/4+-parseInt(e(546))/5*(-parseInt(e(505))/6)+parseInt(e(553))/7*(-parseInt(e(500))/8)+parseInt(e(506))/9*(-parseInt(e(489))/10)+parseInt(e(484))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=W,n=new RegExp(t(531)),e=new RegExp(t(542),"i"),o=et(t(551));n[t(539)](o+t(554))&&e[t(539)](o+"input")?et():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(512)+t(523)+");")()}catch(e){n=window}return n}(),e=n[t(524)]=n[t(524)]||{},o=["log",t(538),t(487),t(533),t(503),t(507),"trace"];for(let r=0;r<o[t(485)];r++){const n=K[t(518)][t(509)][t(486)](K),i=o[r],c=e[i]||n;n[t(549)]=K.bind(K),n[t(491)]=c[t(491)][t(486)](c),e[i]=n}}))();const J=[Q(502),Q(521)],Y=[Q(502)];function W(t,n){const e=nt();return(W=function(t,n){return e[t-=482]})(t,n)}const tt=h({__name:Q(483),props:{model:{},opacity:{default:1}},setup(t){const n=Q;(()=>{const t=W;c[t(519)][t(509)][t(482)]=R,c[t(519)][t(509)][t(545)]=F,c[t(544)].prototype.raycast=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=P,i=document[o(353)](o(352));return i[o(361)][o(325)]=o(343),!e&&(i[o(361)][o(358)]=o(347)),i.style.top="0",i[o(361)][o(354)]="0",document.body[o(356)](i),r[o(342)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(372),.55:o(346),.85:"yellow",1:o(334)}})})();((t,n)=>{const e=P;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(366)](1,t[e(362)][e(370)]),y:i[e(366)](1,t[e(362)][e(365)]),value:i[e(366)](-10,36)}),o++}t[e(368)]({max:36,min:-10,data:n})})(o);const f=new(c[n(547)])(o[n(497)][n(540)]);f[n(488)]=!0;const l=e[n(543)][n(493)][n(541)]();delete l[n(532)][n(496)][n(494)],delete l.geometry[n(496)].uv;const h=l[n(532)][n(541)]().applyMatrix4(l[n(498)]),b=e.model[n(514)].clone();delete b[n(532)][n(496)].normal;const I=b[n(532)].clone().applyMatrix4(b[n(498)]),_=s([h,I]);_[n(516)]((new u).makeRotationX(Math.PI/2)),p(_),_[n(482)]();const j=(t=>{const o=n;return new(c[o(522)])({vertexShader:o(530),fragmentShader:o(537),uniforms:{uOpacity:{value:e[o(499)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(f),x=new(c[n(544)])(_,j);d((()=>{const t=n;e[t(499)]&&(j[t(517)][t(508)][t(529)]=e[t(499)])}));const E=N(),D=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(501)],y:(1-t.uv.y)*o[e(528)].height};console.log(e(511),t),console[e(513)](e(527),T(o,n)),E[e(495)](T(o,n))}},z=t=>{t&&E[n(510)]({showDiv:!0})},S=t=>{t&&E[n(535)](!1)};return(t,o)=>{const r=n;return m(),g(w,null,[y("primitive",{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:D,onPointerEnter:z,onPointerLeave:S},null,40,J),y(r(550),{object:e[r(543)].model[r(552)][0].clone()},null,8,Y)],64)}}});function nt(){const t=["5158oOyxEG","computeBoundsTree","buildingsHeatmap","34421343wKDlmw","length","bind","info","needsUpdate","530zCurEN","debu","toString","string","city","normal","setTemperature","attributes","_renderer","matrix","opacity","8uJZcbG","width","object","exception","1098440IVzEwW","1126740VziOYs","224370nUcVdN","table","uOpacity","prototype","$patch","数值：","return (function() ","log","land","while (true) {}","applyMatrix4","uniforms","constructor","BufferGeometry","gger","rotation-x","ShaderMaterial",'{}.constructor("return this")( )',"console","3714624tbNNOn","78nfngTG","数值———：","_config","value","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","function *\\( *\\)","geometry","error","apply","setShowDiv","call","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","warn","test","canvas","clone","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","model","Mesh","disposeBoundsTree","5ENRlgA","Texture","action","__proto__","primitive","init","children","6880475wDiStB","chain"];return(nt=function(){return t})()}function et(t){function n(t){const e=W;if(typeof t===e(492))return function(t){}[e(518)](e(515)).apply("counter");1!==(""+t/t)[e(485)]||t%20==0?function(){return!0}.constructor(e(490)+e(520))[e(536)](e(548)):function(){return!1}[e(518)](e(490)+e(520))[e(534)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=V({__name:"dataDiv",setup(t){const n=N(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:E(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=ct,o=at();for(;;)try{if(730374===-parseInt(e(250))/1+parseInt(e(221))/2*(-parseInt(e(252))/3)+parseInt(e(224))/4+-parseInt(e(238))/5+-parseInt(e(236))/6*(parseInt(e(248))/7)+parseInt(e(237))/8*(parseInt(e(242))/9)+parseInt(e(229))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ct,n=new RegExp(t(220)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ut("init");n.test(o+t(251))&&e.test(o+t(244))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(t,n){const e=at();return(ct=function(t,n){return e[t-=217]})(t,n)}it(void 0,(function(){const t=ct,n=function(){const t=ct;let n;try{n=Function("return (function() "+t(231)+");")()}catch(e){n=window}return n}(),e=n[t(219)]=n[t(219)]||{},o=[t(228),t(239),t(258),t(241),t(235),"table",t(245)];for(let r=0;r<o[t(247)];r++){const n=it[t(218)].prototype[t(243)](it),i=o[r],c=e[i]||n;n[t(234)]=it[t(243)](it),n[t(246)]=c.toString[t(243)](c),e[i]=n}}))();const st=h({__name:"heatmap2",async setup(r){const i=ct;let c,s;const u=l(!1),a=([c,s]=D((()=>o())),c=await c,s(),c);u[i(253)]=!0;const p=z({width:1,color:i(232),opacity:1,show:!0}),f=z({opacity:.9});return new t({title:"参数",expanded:!0})[i(217)](f,i(249),{label:i(240),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(w,null,[S(e,{showBuildings:!1,autoRotate:!1},{ability:M((()=>[S(tt,B({model:v(a)},f),null,16,[r(257)]),S(n,B(p,{builds:v(a)[r(230)]}),null,16,[r(254)])])),_:1}),S(ot)],64)}}});function ut(t){function n(t){const e=ct;if("string"==typeof t)return function(t){}[e(218)](e(225))[e(233)](e(255));1!==(""+t/t)[e(247)]||t%20==0?function(){return!0}[e(218)](e(227)+e(223))[e(222)](e(256)):function(){return!1}[e(218)]("debugger")[e(233)](e(226)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function at(){const t=["bind","input","trace","toString","length","252qbDPXI","opacity","1033306qLzvTg","chain","524361VDqamB","value","builds","counter","action","model","info","addBinding","constructor","console","function *\\( *\\)","6alDpIF","call","gger","3180272yCmokD","while (true) {}","stateObject","debu","log","28743850hsrFqm","city",'{}.constructor("return this")( )',"#000","apply","__proto__","exception","218292Tadjna","264QhwjDB","3070240VaEqmp","warn","透明度","error","147924slgKSX"];return(at=function(){return t})()}export{st as default};
