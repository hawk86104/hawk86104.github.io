import{c8 as t,a3 as n,C as e,V as r}from"./three.sQDbNBks1741583630766.js";import{a as o}from"./@tresjs.ZmhvXhx31741583630766.js";import{R as c}from"./all.three.B_wkcYmQ1741583630766.js";import{d as a,b as i,a3 as s,a2 as u,o as f,H as l,N as p,m,u as d}from"./@vue.NRI7TcgI1741583630766.js";!function(t,n){const e=g,r=x();for(;;)try{if(696538===parseInt(e(178))/1*(parseInt(e(184))/2)+parseInt(e(183))/3*(parseInt(e(149))/4)+-parseInt(e(148))/5*(parseInt(e(190))/6)+-parseInt(e(186))/7*(parseInt(e(153))/8)+parseInt(e(181))/9+parseInt(e(173))/10+-parseInt(e(171))/11*(parseInt(e(157))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const v=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){v(this,(function(){const t=g,n=new RegExp(t(155)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=y(t(182));n[t(172)](r+t(158))&&e[t(172)](r+"input")?y():r("0")}))()}();const h=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(145)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=x();return(g=function(t,n){return e[t-=144]})(t,n)}h(void 0,(function(){const t=g;let n;try{n=Function(t(164)+t(154)+");")()}catch(o){n=window}const e=n[t(147)]=n[t(147)]||{},r=[t(165),t(162),t(175),t(170),"exception",t(159),"trace"];for(let c=0;c<r[t(187)];c++){const n=h.constructor[t(179)][t(180)](h),o=r[c],a=e[o]||n;n[t(161)]=h[t(180)](h),n[t(152)]=a[t(152)][t(180)](a),e[o]=n}}))();function x(){const t=["void main() {","#include <project_vertex>","constructor","error","11qoHhmr","test","9502670WxRsJo","vertexShader","info","counter","fragmentShader","311603UoXZMY","prototype","bind","10808532pffZNr","init","38751giAQWP","2PpuLui","\n\t\tuniform mat4 textureMatrix;\n\t\tout vec4 vCoord;\n\t\tout vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","4200GfeAKs","length","while (true) {}","call","6ITvWrm","\n\t\tuniform sampler2D reflectMap;\n\t\tuniform float mirror;\n\t\tuniform float mixStrength;\n\t\tin vec4 vCoord;\n\t\tin vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","apply","debu","console","1927985AtDnAD","128mWWMjO","#include <emissivemap_fragment>","stateObject","toString","12856kkriyC",'{}.constructor("return this")( )',"function *\\( *\\)","string","9957924ujLwaD","chain","table","gger","__proto__","warn","replace","return (function() ","log","\n\t\t#include <emissivemap_fragment>\n\n\t\tvec4 normalColor = texture2D(normalMap, vNormalMapUv * normalScale);\n\t\tvec3 reflectNormal = normalize(vec3(normalColor.r * 2.0 - 1.0, normalColor.b, normalColor.g * 2.0 - 1.0));\n\t\tvec3 reflectCoord = vCoord.xyz / vCoord.w;\n\t\tvec2 reflectUv = reflectCoord.xy + reflectCoord.z * reflectNormal.xz * 0.05;\n\t\tvec4 reflectColor = texture2D(reflectMap, reflectUv);\n\n\t\t// Fresnel term\n\t\tvec3 toEye = normalize(vToEye);\n\t\tfloat theta = max(dot(toEye, normal), 0.0);\n\t\tfloat reflectance = pow((1.0 - theta), 5.0);\n\n\t\treflectColor = mix(vec4(0), reflectColor, reflectance);\n\n\t\tdiffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + reflectColor.rgb * mixStrength);\n\t\t"];return(x=function(){return t})()}function y(t){function n(t){const e=g;if(typeof t===e(156))return function(t){}[e(169)](e(188))[e(145)](e(176));1!==(""+t/t)[e(187)]||t%20==0?function(){return!0}[e(169)](e(146)+e(160))[e(189)]("action"):function(){return!1}[e(169)]("debu"+e(160)).apply(e(151)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const _=j;!function(t,n){const e=j,r=w();for(;;)try{if(471294===parseInt(e(314))/1+parseInt(e(360))/2+parseInt(e(310))/3*(parseInt(e(349))/4)+parseInt(e(320))/5+-parseInt(e(359))/6*(-parseInt(e(339))/7)+parseInt(e(321))/8*(-parseInt(e(351))/9)+parseInt(e(323))/10*(-parseInt(e(328))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[j(343)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function w(){const t=["bind","showGridHelper","tmsmRef","#ffffff","13739ubNWKY","while (true) {}","exception","uniforms","add","warn","counter","chain","stateObject","toString","TresPlaneGeometry","348579uMKZcA","log","repeat","visible","apply","action","reflectorDiffuse",'{}.constructor("return this")( )',"#444","set","76524CPgtxC","tmRef","59814HNVGaX","TresMeshStandardMaterial","rotation-x","input","primitive","reflectMap","onBeforeCompile","info","24eGjxCH","633720zjsCXc","TresGroup","channel","constructor","update","mirror","test","textureMatrixUniform","textureMatrix","string","color","call","uv1","onBeforeRender","console","function *\\( *\\)","attributes","length","6iiWMEd","aoMap","gger","value","838852rqXjOs","renderTargetUniform","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","assign","wrapS","2351240DQcoXv","488pbxlps","TresMesh","7900dnnwbe"];return(w=function(){return t})()}!function(){b(this,(function(){const t=j,n=new RegExp(t(307)),e=new RegExp(t(316),"i"),r=z("init");n.test(r+t(335))&&e[t(298)](r+t(354))?z():r("0")}))()}();const I=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[j(343)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=j;let n;try{n=Function("return (function() "+t(346)+");")()}catch(o){n=window}const e=n[t(306)]=n[t(306)]||{},r=[t(340),t(333),t(358),"error",t(330),"table","trace"];for(let c=0;c<r[t(309)];c++){const n=I[t(363)].prototype[t(324)](I),o=r[c],a=e[o]||n;n[t(317)]=I[t(324)](I),n[t(337)]=a[t(337)][t(324)](a),e[o]=n}}))();const C=[_(353)],M=["object",_(342)];function j(t,n){const e=w();return(j=function(t,n){return e[t-=296]})(t,n)}const S=a({__name:_(345),props:{mirror:{default:1},mixStrength:{default:10},showGridHelper:{type:Boolean,default:!0},color:{default:_(327)}},async setup(a){const v=_;let h,x;const y=a,b=new t(9.5,10),w=i(),I=i(),j=i(),S=new c,z={mirror:{value:y[v(297)]},mixStrength:{value:y.mixStrength}},E=([h,x]=s((()=>o(["./plugins/floor/image/polished_concrete_basecolor.jpg","./plugins/floor/image/polished_concrete_normal.jpg","./plugins/floor/image/polished_concrete_orm.jpg"]))),h=await h,x(),h);for(var T=0;T<3;T++)E[T][v(319)]=n,E[T].wrapT=n,E[T][v(341)][v(348)](16,16);const R={color:new e(v(347)),metalness:1,roughness:1,map:E[0],metalnessMap:E[2],roughnessMap:E[2],aoMap:E[2],aoMapIntensity:1,normalMap:E[1],normalScale:new r(3,3)},A=t=>{const n=v;t[n(331)][n(356)]=S[n(315)],t[n(331)][n(300)]=S[n(299)],t[n(331)]=Object[n(318)](t[n(331)],z),(t=>{const n=g;t[n(174)]=t[n(174)].replace(n(167),n(185)),t[n(174)]=t[n(174)][n(163)](n(168),"\n\t\t#include <project_vertex>\n\n\t\tvCoord = textureMatrix * vec4(transformed, 1.0);\n\t\tvToEye = cameraPosition - (modelMatrix * vec4(transformed, 1.0)).xyz;\n\t\t")})(t),(t=>{const n=g;t[n(177)]=t[n(177)].replace(n(167),n(144)),t[n(177)]=t.fragmentShader[n(163)](n(150),n(166))})(t)};return u((()=>{const t=v;w[t(313)]&&(w[t(313)][t(308)][t(304)]=w.value[t(308)].uv),j[t(313)]&&(j[t(313)][t(311)][t(362)]=1,j[t(313)][t(357)]=A),I[t(313)]&&(I[t(313)][t(332)](S),I[t(313)][t(305)]=(n,e,r)=>{S[t(296)](n,e,r)}),y[t(302)]&&j[t(313)]&&(j[t(313)][t(302)]=new e(y[t(302)]))})),(t,n)=>{const e=v;return f(),l(e(361),null,[p(e(322),{ref_key:e(350),ref:I,"rotation-x":-Math.PI/2,"position-y":-.1},[p(e(338),{ref_key:"tpgRef",ref:w,args:[10,10]},null,512),p(e(352),m({ref_key:e(326),ref:j},R),null,16)],8,C),p(e(355),{object:d(b),visible:t[e(325)]},null,8,M)])}}});function z(t){function n(t){const e=j;if(typeof t===e(301))return function(t){}.constructor(e(329)).apply(e(334));1!==(""+t/t)[e(309)]||t%20==0?function(){return!0}.constructor("debu"+e(312))[e(303)](e(344)):function(){return!1}[e(363)]("debu"+e(312))[e(343)](e(336)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{S as _};
