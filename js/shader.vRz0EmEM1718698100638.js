import{a as n,r as t,d as e,S as r,N as o}from"./@tresjs.aawOCoPx1718698100638.js";import{a5 as i,V as s,Z as a}from"./three.erXpfL-r1718698100638.js";import{P as c}from"./tweakpane.qqn77PB81718698100638.js";import{L as u}from"./three-subdivide.GBmP83Gc1718698100638.js";import{d as l,b as f,a2 as p,w as d,o as m,D as g,J as h,aj as v,ak as y,a3 as b,r as w,e as _,f as x,g as I,j as M,u as T,m as S}from"./@vue.CpOXM7bB1718698100638.js";import"./@vueuse.TW6-TkVF1718698100638.js";const j=A;!function(n,t){const e=A,r=z();for(;;)try{if(490154===-parseInt(e(272))/1*(parseInt(e(271))/2)+-parseInt(e(256))/3*(-parseInt(e(231))/4)+parseInt(e(242))/5*(-parseInt(e(229))/6)+parseInt(e(237))/7*(-parseInt(e(230))/8)+-parseInt(e(248))/9+parseInt(e(227))/10+parseInt(e(222))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[A(228)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){B(this,(function(){const n=A,t=new RegExp(n(225)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=R("init");t[n(239)](r+n(240))&&e[n(239)](r+n(232))?R():r("0")}))()}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[A(228)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();k(void 0,(function(){const n=A;let t;try{t=Function("return (function() "+n(267)+");")()}catch(o){t=window}const e=t[n(264)]=t[n(264)]||{},r=["log",n(217),n(215),n(251),n(216),"table",n(254)];for(let i=0;i<r[n(259)];i++){const t=k[n(250)][n(241)][n(263)](k),o=r[i],s=e[o]||t;t[n(269)]=k.bind(k),t[n(266)]=s[n(266)][n(263)](s),e[o]=t}}))();const C=[j(244)];function z(){const n=["blending","TresMesh","info","exception","warn","geometry","modify","value","debu","19894446tDxYlO","Color","string","function *\\( *\\)","TresShaderMaterial","570160XRQqnl","apply","1572306dgVdJD","10592FeokFD","194612rNoTPR","input","AdditiveBlending","attributes","color","while (true) {}","2506CmmYwm","#ffff00","test","chain","prototype","15xTmbnP","uniforms","scale","subdivision","srcMesh","action","7592778unnTur","TSGref","constructor","error","side","call","trace","subVectors","60EGUoKJ","counter","FrontSide","length","clone","position","material","bind","console","stateObject","toString",'{}.constructor("return this")( )',"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","__proto__","shineShader","489442rKDmSw","1cjpTuF","gger"];return(z=function(){return n})()}function A(n,t){const e=z();return(A=function(n,t){return e[n-=212]})(n,t)}const F=l({__name:j(270),props:{srcMesh:{},scale:{default:1.2},color:{default:j(238)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(258)]},blending:{default:i[j(233)]}},setup(e){const r=j,o=e,a=f(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(223)])(o[r(235)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(268),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o[r(252)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(213)]};p((()=>{const n=r;if(o[n(246)]&&!a[n(220)].geometry[n(234)][n(261)]){let t=o[n(246)][n(218)].clone();o.subdivision&&(t=u[n(219)](t,2)),a.value[n(218)]=t,a[n(220)][n(261)].copy(o[n(246)][n(261)])}o[n(235)]&&(c[n(243)].glowColor[n(220)]=new(i[n(223)])(o[n(235)])),o.c&&(c[n(243)].c[n(220)]=o.c),o.p&&(c[n(243)].p[n(220)]=o.p)})),d((()=>o[r(245)]),(n=>{const t=r;let e=o[t(246)][t(218)][t(260)]();n&&(e=u.modify(e,2)),a[t(220)][t(218)]=e})),d((()=>o.side),(n=>{const t=r;a[t(220)].material[t(252)]=n})),d((()=>o[r(213)]),(n=>{const t=r;a[t(220)][t(262)][t(213)]=n}));const{onLoop:l}=t(),{camera:b}=n();return l((()=>{const n=r;b[n(220)]&&a[n(220)]&&(c.uniforms.viewVector[n(220)]=(new s)[n(255)](b[n(220)][n(261)],a[n(220)][n(261)]))})),(n,t)=>{const e=r;return m(),g(e(214),{ref_key:e(249),ref:a,scale:o[e(244)]},[h(e(226),v(y(c)),null,16)],8,C)}}});function R(n){function t(n){const e=A;if(typeof n===e(224))return function(n){}[e(250)](e(236)).apply(e(257));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(221)+e(212))[e(253)](e(247)):function(){return!1}[e(250)](e(221)+e(212))[e(228)](e(265)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const D=G;function G(n,t){const e=N();return(G=function(n,t){return e[n-=137]})(n,t)}function N(){const n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMeshRefB","1432emkkhC","apply","scale","srcMesh","debu","4373630Qbpsir","TresSphereGeometry","FrontSide","298380jzJrGU","call","TresMeshRefA","__proto__","function *\\( *\\)","973jMWGaD","TresAmbientLight","TresMeshBasicMaterial","string","NormalBlending","value","TresGridHelper","info","while (true) {}","console","bind","4128niInFb","#222","gger","TresMesh","constructor","trace","counter","边缘处理","35252PPiWxR","toString","map","addBinding","2428185MKahxE","length","log","BackSide","action","prototype","exception",'{}.constructor("return this")( )',"5078512guODGh","chain","color","TresBoxGeometry","shader","error","AdditiveBlending","init","650PirzQy","test","blending","189HowBfC"];return(N=function(){return n})()}!function(n,t){const e=G,r=N();for(;;)try{if(496298===parseInt(e(159))/1*(parseInt(e(165))/2)+parseInt(e(143))/3+parseInt(e(139))/4+-parseInt(e(170))/5+-parseInt(e(189))/6*(-parseInt(e(178))/7)+-parseInt(e(151))/8+parseInt(e(162))/9*(parseInt(e(173))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[G(166)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){P(this,(function(){const n=G,t=new RegExp(n(177)),e=new RegExp(n(163),"i"),r=W(n(158));t[n(160)](r+n(152))&&e.test(r+"input")?W():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[G(166)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();V(void 0,(function(){const n=G,t=function(){const n=G;let t;try{t=Function("return (function() "+n(150)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(187)]||{},r=[n(145),"warn",n(185),n(156),n(149),"table",n(194)];for(let o=0;o<r[n(144)];o++){const t=V.constructor[n(148)].bind(V),i=r[o],s=e[i]||t;t[n(176)]=V[n(188)](V),t[n(140)]=s.toString[n(188)](s),e[i]=t}}))();const E=h("TresPerspectiveCamera",{position:[5,5,5]},null,-1),Z=h(D(179),{intensity:1},null,-1),J=h(D(184),{args:[10,10]},null,-1),O=h(D(171),{args:[1,32,16]},null,-1),$=[D(141)],K=[D(141)],L=[h(D(154),{args:[1,1,1,1,1]},null,-1),h("TresMeshBasicMaterial",{color:"#0ff"},null,-1)],Q=l({__name:D(155),async setup(n){const t=D;let s,u;const l={clearColor:t(190)},p=f(),d=f(),g=f(),v=([s,u]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),s=await s,u(),s),y=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(172)],blending:i[t(157)]}),j=new c({title:"参数",expanded:!0});return j[t(142)](y,t(153),{label:"颜色"}),j[t(142)](y,t(167),{label:"大小",min:1,max:3,step:.2}),j.addBinding(y,"subdivision",{label:t(138)}),j[t(142)](y,"c",{label:"c",min:0,max:2,step:.1}),j[t(142)](y,"p",{label:"p",min:0,max:8,step:.2}),j[t(142)](y,"side",{options:{FrontSide:i[t(172)],BackSide:i[t(146)],DoubleSide:a}}),j[t(142)](y,t(161),{options:{AdditiveBlending:i[t(157)],NormalBlending:i[t(182)]}}),(n,o)=>{const i=t,s=_("TresCanvas");return m(),x(s,S(l,{"window-size":""}),{default:I((()=>[E,Z,M(T(e)),J,h(i(192),{ref_key:i(175),ref:p,position:[-2,1,0]},[O,h(i(180),{map:T(v)[0]},null,8,$)],512),M(F,S({srcMesh:p[i(183)]},y),null,16,[i(168)]),M(T(r),{ref_key:"TreBoxRef",ref:g,args:[1,1,1],position:[2,1,0]},{default:I((()=>[h(i(180),{map:T(v)[1]},null,8,K)])),_:1},512),M(F,S({srcMesh:g[i(183)]&&g[i(183)][i(183)]},y),null,16,[i(168)]),h("TresMesh",{ref_key:i(164),ref:d,position:[0,1,-2]},L,512),M(F,S({srcMesh:d[i(183)]},y),null,16,[i(168)])])),_:1},16)}}});function W(n){function t(n){const e=G;if(typeof n===e(181))return function(n){}[e(193)](e(186))[e(166)](e(137));1!==(""+n/n).length||n%20==0?function(){return!0}[e(193)](e(169)+e(191))[e(174)](e(147)):function(){return!1}[e(193)](e(169)+e(191))[e(166)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{Q as default};
