import{_ as t,b as n,cG as e}from"./three.HaMTRCf61740450466561.js";import{P as o}from"./tweakpane.yDiyAAkA1740450466561.js";import{m as r,e as s}from"./@tresjs.9lmhsV6t1740450466561.js";import{P as i,b as a,c,M as u,T as p,a as l,d as m}from"./index.QVjnj5AQ1740450466561.js";import{d as f,a2 as h,w as g,o as d,H as j,u as b,v as w,r as y,e as x,j as v,g as I,f as M,al as _,m as z,F as C}from"./@vue.NRI7TcgI1740450466561.js";import{_ as B}from"./raycasterEvent.Ra2XMLgd1740450466561.js";import{a as S}from"./utils.A_6eXM3G1740450466561.js";import"./@vueuse.q8gKo7tC1740450466561.js";import"./@mapbox.lMdYodhq1740450466561.js";import"./three-mesh-bvh.BNJ61NKr1740450466561.js";import"./three-custom-shader-material.PpIb7yur1740450466561.js";import"./@fesjs.25ZLMwYe1740450466561.js";import"./vue-router.Ni9W6b_H1740450466561.js";import"./lodash-es.pklfUAS51740450466561.js";import"./@qlin.yHhFDldE1740450466561.js";import"./pinia.O-LUmvrn1740450466561.js";import"./@floating-ui.BPbuo5Gx1740450466561.js";import"./@juggle.7yjBMqoW1740450466561.js";import"./@tweenjs.03TsBd2S1740450466561.js";import"./utils.XIsCbAdk1740450466561.js";import"./http.CXXplQzL1740450466561.js";import"./axios.qd3pZFDv1740450466561.js";import"./color.P1VlE68d1740450466561.js";import"./@amap.dPX4GHML1740450466561.js";import"./color-string.CeUbXLEE1740450466561.js";import"./color-name.dzT7sxSY1740450466561.js";import"./simple-swizzle.G6YVmBur1740450466561.js";import"./is-arrayish.GTcD96Aj1740450466561.js";import"./color-convert.r0c9cBT21740450466561.js";import"./lodash.H8_SHOss1740450466561.js";import"./naive-ui.pcrJfKml1740450466561.js";import"./date-fns.nmuTTsCK1740450466561.js";import"./@css-render.pz15ZIiL1740450466561.js";import"./seemly.vIsyOXn81740450466561.js";import"./css-render.My9eOhux1740450466561.js";import"./@emotion.ZD_ZYAgY1740450466561.js";import"./vooks.zFA-UkGt1740450466561.js";import"./evtd.DtfwxtIl1740450466561.js";import"./vueuc.vMyhFHey1740450466561.js";import"./vdirs.Nbg4tfWS1740450466561.js";import"./treemate.dcEdf2le1740450466561.js";import"./date-fns-tz.OhpNjrTY1740450466561.js";import"./async-validator.-YBkpS4I1740450466561.js";import"./d3-geo.rzfxl7rZ1740450466561.js";import"./d3-array.E5C1cfJ61740450466561.js";const Z=T;!function(t,n){const e=T,o=N();for(;;)try{if(554002===-parseInt(e(157))/1*(parseInt(e(121))/2)+parseInt(e(172))/3*(parseInt(e(114))/4)+parseInt(e(137))/5+parseInt(e(164))/6*(-parseInt(e(131))/7)+-parseInt(e(138))/8+-parseInt(e(142))/9*(-parseInt(e(140))/10)+-parseInt(e(120))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(122)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=T,n=new RegExp(t(136)),e=new RegExp(t(166),"i"),o=P(t(159));n[t(102)](o+t(109))&&e[t(102)](o+t(130))?P():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(122)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=T;let n;try{n=Function(t(160)+t(124)+");")()}catch(r){n=window}const e=n.console=n[t(117)]||{},o=[t(139),t(169),t(176),"error",t(127),"table",t(174)];for(let s=0;s<o.length;s++){const n=E[t(144)][t(119)][t(110)](E),r=o[s],i=e[r]||n;n[t(167)]=E[t(110)](E),n[t(162)]=i[t(162)][t(110)](i),e[r]=n}}))();const A=[Z(156),Z(149)],R=f({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:Z(145)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:m}){const f=Z,w=o,{renderer:y,scene:x}=r();(new i).coordType=a;const v=new c;v[f(123)]=f(147),v[f(103)]=a;const I=new u;I[f(123)]=f(141),I[f(143)]=!1,I[f(165)]=!0;const M=new p(v,I);if(M[f(153)]=!1,M[f(133)]=!1,M.flatShading=!1,M.useStandardMaterial=!1,M[f(173)]={opposite:w[f(163)],monochrome:w.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:w.genBright,genContrast:w[f(151)],genSaturation:w[f(113)]},w[f(126)]){let n=new(t[f(154)])(w[f(126)]);M[f(173)]&&(M[f(173)].monochrome={r:n.r,g:n.g,b:n.b})}const _=new l;_[f(177)]=M,_[f(101)]=w[f(101)],_[f(150)]=w.maxZoom;const z=new(t[f(178)])(60,window.innerWidth/window[f(180)],1,1e8);z.up=new n(0,1,0),z[f(118)][f(105)](w[f(106)][0],w[f(106)][2],-w[f(106)][1]),z[f(112)](new n(z[f(118)].x,0,z[f(118)].z-2e3)),_[f(135)]=z;let C=null;h((()=>{const t=f;y[t(125)]&&!C&&(C=new e(z,y[t(125)][t(107)]),C[t(111)]=!0,C[t(134)]=.05,C[t(104)]=600,C[t(171)][t(105)](z[t(118)].x,z[t(118)].y,z.position.z),C[t(116)][t(105)](z.position.x,0,z[t(118)].z-2e3))})),g((()=>[w[f(163)],w[f(181)],w[f(126)]]),(([n,e,o])=>{const r=f;if(M[r(173)]){let s=new(t[r(154)])(o);M[r(173)][r(163)]=n,M.filter.monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[w.genBright,w[f(151)],w[f(113)]]),(([t,n,e])=>{const o=f;M.filter&&(M[o(173)][o(161)]=t,M[o(173)][o(151)]=n,M[o(173)][o(113)]=e)}));const{onLoop:B}=s();return B((()=>{var t;const n=f;if(y[n(125)]){null==(t=w[n(108)])||t.update(),C&&C.update(),_[n(175)]();const e=50*Math[n(148)](z[n(118)].y);z[n(168)]=e+5e3,z[n(115)](),y[n(125)][n(146)](x[n(125)],z)}})),m({camera:z,map:_,orbitControl:C}),(t,n)=>{const e=f;return d(),j(e(128),{object:b(_),rotation:[-Math.PI/2,0,0]},null,8,A)}}});function T(t,n){const e=N();return(T=function(t,n){return e[t-=101]})(t,n)}function N(){const t=["while (true) {}","position0","10104aNcLyD","filter","trace","update","info","provider","PerspectiveCamera","gger","innerHeight","isMonochrome","bbox","test","coordType","minDistance","set","mapCenter","domElement","tweenInstance","chain","bind","enableDamping","lookAt","genSaturation","820qBPjgZ","updateProjectionMatrix","target","console","position","prototype","3264382wneMyc","4uCFUKp","apply","source",'{}.constructor("return this")( )',"value","monochrome","exception","primitive","stateObject","input","2385355LkscmW","counter","wireframe","dampingFactor","camera","function *\\( *\\)","4492330EZijUy","485064YjhXNS","log","1860NgftpE","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","28431kpNQZY","showTileNo","constructor","#fff","render","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","abs","rotation","maxZoom","genContrast","debu","showBoundingBox","Color","string","object","462159BXFwEl","call","init","return (function() ","genBright","toString","opposite","6OTPIyp","useWorker","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","far","warn"];return(N=function(){return t})()}function P(t){function n(t){const e=T;if(typeof t===e(155))return function(t){}[e(144)](e(170))[e(122)](e(132));1!==(""+t/t).length||t%20==0?function(){return!0}[e(144)](e(152)+e(179))[e(158)]("action"):function(){return!1}.constructor("debu"+e(179))[e(122)](e(129)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const D=O;!function(t,n){const e=O,o=Q();for(;;)try{if(248368===-parseInt(e(429))/1*(-parseInt(e(393))/2)+parseInt(e(396))/3*(-parseInt(e(447))/4)+-parseInt(e(390))/5+-parseInt(e(432))/6+parseInt(e(407))/7*(-parseInt(e(416))/8)+-parseInt(e(427))/9+parseInt(e(442))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=O,n=new RegExp(t(437)),e=new RegExp(t(445),"i"),o=W(t(398));n.test(o+"chain")&&e[t(434)](o+t(405))?W():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();H(void 0,(function(){const t=O;let n;try{n=Function(t(414)+t(392)+");")()}catch(r){n=window}const e=n[t(404)]=n.console||{},o=[t(438),t(450),t(430),t(399),t(425),"table",t(409)];for(let s=0;s<o[t(403)];s++){const n=H[t(415)][t(441)][t(421)](H),r=o[s],i=e[r]||n;n[t(413)]=H[t(421)](H),n[t(433)]=i[t(433)][t(421)](i),e[r]=n}}))();const L=f({__name:D(443),setup(n){const e=D,r=m(118.779958,32.017136),s=[r[0],r[1],5e3],i=w(),a=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(448),mapCenter:s,tweenInstance:null}),c=new o({title:"参数"});c[e(400)](a,e(426),{label:"反色"}),c[e(400)](a,e(394),{label:"高亮",min:.1,max:3,step:.1}),c[e(400)](a,e(391),{label:e(453),min:.1,max:3,step:.1}),c[e(400)](a,e(397),{label:e(449),min:.1,max:3,step:.1}),c[e(400)](a,e(389),{label:e(420)}),c[e(400)](a,e(424),{label:e(435)});const u={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};c.addBlade({view:e(431),label:"飞去",options:[{text:e(402),value:"at"},{text:e(410),value:e(452)},{text:e(408),value:e(411)}],value:"at"}).on("change",(n=>{const o=e,r=new(t[o(395)])(u[n[o(436)]][0],2e3,-u[n[o(436)]][1]);a[o(428)]=S(i[o(436)][o(401)],r,i.value[o(419)],[0,-300],4e3)}));const p=y({clearColor:e(444),antialias:!0,logarithmicDepthBuffer:!0,renderMode:"manual",outputColorSpace:t[e(439)],toneMapping:t[e(422)]});return setTimeout((()=>{const n=e,o=u.at,r=new(t[n(395)])(o[0],1600,-o[1]);a.tweenInstance=S(i[n(436)][n(401)],r,i[n(436)][n(419)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=x("TresCanvas");return d(),j(C,null,[v(r,z(p,{"window-size":""}),{default:I((()=>[(d(),M(_,null,{default:I((()=>[v(R,z(a,{ref_key:o(417),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),v(B,{tileMapRef:i[o(436)]},null,8,["tileMapRef"])],64)}}});function O(t,n){const e=Q();return(O=function(t,n){return e[t-=389]})(t,n)}function W(t){function n(t){const e=O;if(typeof t===e(423))return function(t){}[e(415)](e(412))[e(446)]("counter");1!==(""+t/t)[e(403)]||t%20==0?function(){return!0}[e(415)](e(418)+"gger")[e(406)](e(440)):function(){return!1}[e(415)]("debugger")[e(446)](e(451)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function Q(){const t=["__proto__","return (function() ","constructor","24EKXTyZ","tileMapMeshRef","debu","orbitControl","单色滤镜","bind","NoToneMapping","string","monochrome","exception","opposite","3018294HZehHv","tweenInstance","98986EdODmA","info","list","2091336zAQZht","toString","test","滤镜颜色","value","function *\\( *\\)","log","SRGBColorSpace","action","prototype","14654090QZbKpj","tileMap","#201919","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","532UblmID","#4688b5","饱和度","warn","stateObject","xjk","对比度","isMonochrome","1850915CMSogJ","genContrast",'{}.constructor("return this")( )',"2dEooNu","genBright","Vector3","2469iibbSr","genSaturation","init","error","addBinding","camera","奥体中心","length","console","input","call","355747RJrObW","牛首山","trace","新街口","nss","while (true) {}"];return(Q=function(){return t})()}export{L as default};
