import{importShared as e}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{oz as w,Kk as v}from"./index.DTe2qqjO1767148983502.js";import{Pane as B}from"./tweakpane.BQRZXf8M1767148983502.js";var S=`uniform vec3 cutSectionColor;
void main() {
    if(!gl_FrontFacing){
        csm_FragColor = vec4( cutSectionColor, csm_DiffuseColor.a );
    }
}`;const{defineComponent:k}=await e("vue"),{unref:d,openBlock:h,createBlock:x}=await e("vue"),{watch:T}=await e("vue"),m=await e("three"),b=k({__name:"solidClippingMaterial",props:{cutSectionColor:{default:"#aaff11"}},setup(p){const o=p,n={cutSectionColor:{value:new m.Color(o.cutSectionColor)}};return T(()=>o.cutSectionColor,a=>{n.cutSectionColor.value.set(a)}),(a,l)=>(h(),x(d(w),{baseMaterial:m.MeshPhongMaterial,fragmentShader:d(S),uniforms:n},null,8,["baseMaterial","fragmentShader"]))}}),{defineComponent:E}=await e("vue"),{createElementVNode:r,unref:f,createVNode:_,renderList:M,Fragment:P,openBlock:C,createElementBlock:F,resolveComponent:V,withCtx:$,createBlock:y}=await e("vue"),N=["args"],{ref:z,watchEffect:G,reactive:H}=await e("vue"),{Plane:c,Vector3:s,DoubleSide:L}=await e("three"),K=E({__name:"solidClippingMaterial",setup(p){const o=z(),n=[new c(new s(1,0,0),0),new c(new s(0,-1,0),0),new c(new s(0,0,-1),0)],a=H({color:"#aaff11"});G(()=>{if(o.value){const u=o.value.context.renderer.instance;u.localClippingEnabled=!0}});const l=new B({title:"裁剪参数",expanded:!0});return l.addBinding(a,"color",{label:"填补颜色"}),l.addBinding(n[0],"constant",{label:"x",min:-1,max:1,step:.1}),l.addBinding(n[1],"constant",{label:"y",min:-1,max:1,step:.1}),l.addBinding(n[2],"constant",{label:"z",min:-1,max:1,step:.1}),(u,t)=>{const g=V("TresCanvas");return C(),y(g,{ref_key:"tcRef",ref:o,"window-size":"",clearColor:1},{default:$(()=>[t[0]||(t[0]=r("TresPerspectiveCamera",{fov:40,near:.1,far:200,position:[-1.5,2.5,3]},null,-1)),t[1]||(t[1]=r("TresGridHelper",{args:[2,10],position:[0,-1,0]},null,-1)),t[2]||(t[2]=r("TresHemisphereLight",{args:[16777215,526344,4.5],position:[-1.25,1,1.25]},null,-1)),_(f(v)),r("TresGroup",null,[(C(),F(P,null,M(3,i=>r("TresMesh",{key:i},[r("TresSphereGeometry",{args:[i/3,48,24]},null,8,N),_(b,{cutSectionColor:a.color,color:[i/3,i%3,i%2],side:f(L),clippingPlanes:n,clipIntersection:""},null,8,["cutSectionColor","color","side"])])),64))])]),_:1},512)}}});export{K as default};
