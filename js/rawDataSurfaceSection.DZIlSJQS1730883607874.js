var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,a=(t,a)=>{for(var i in a||(a={}))e.call(a,i)&&o(t,i,a[i]);if(n)for(var i of n(a))r.call(a,i)&&o(t,i,a[i]);return t};import{U as i,H as s}from"./@tresjs.C3WO4ZW41730883607874.js";import{u,_ as c}from"./colorList.7eYcYSPU1730883607874.js";import{_ as l,d0 as p}from"./three.fIUcjaNz1730883607874.js";import{z as f}from"./three-custom-shader-material.DD5mBNmu1730883607874.js";import{P as d}from"./tweakpane.BCjFYDHx1730883607874.js";import{u as m}from"./rawData.C9ab2sT31730883607874.js";import{d as h,b as g,a as x,r as y,w as b,o as w,D as _,J as I,u as v,j,g as z,x as S,F as T,V as E,f as A,H as D,I as M,m as R}from"./@vue.Cfu43fwq1730883607874.js";import{z as L,x as O,a9 as k,aa as U,ab as V,N as F,a6 as B,a7 as q,t as Z,$ as C,a8 as H,v as G,_ as N}from"./@fesjs.DQmvwjPe1730883607874.js";import"./@vueuse.BSum2YDk1730883607874.js";import"./pinia.DKpn0rzI1730883607874.js";import"./vue-demi.Dq6ymT-81730883607874.js";import"./vue-router.BDLCs4Ld1730883607874.js";import"./lodash-es.BBTWvufR1730883607874.js";import"./@qlin.BIlp8Yi21730883607874.js";import"./@babel.BBWsvBIa1730883607874.js";import"./@floating-ui.B75jtkXD1730883607874.js";import"./@juggle.BnTvdTVm1730883607874.js";const P=et;!function(t,n){const e=et,r=nt();for(;;)try{if(217787===parseInt(e(564))/1+-parseInt(e(554))/2*(-parseInt(e(497))/3)+parseInt(e(505))/4*(-parseInt(e(493))/5)+parseInt(e(543))/6*(parseInt(e(488))/7)+-parseInt(e(533))/8+parseInt(e(508))/9+parseInt(e(512))/10*(-parseInt(e(503))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[et(514)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=et,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(485),"i"),r=ot(t(559));n[t(567)](r+t(525))&&e[t(567)](r+t(486))?ot():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[et(514)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();$(void 0,(function(){const t=et;let n;try{n=Function(t(517)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(535)]||{},r=[t(541),t(522),t(495),t(553),t(487),t(540),t(566)];for(let a=0;a<r[t(511)];a++){const n=$.constructor[t(532)].bind($),o=r[a],i=e[o]||n;n[t(524)]=$[t(489)]($),n[t(557)]=i[t(557)][t(489)](i),e[o]=n}}))();const X=[P(558),P(551)],Q=[P(558)],W=[P(504)],Y=[P(504)],J=[P(504)],tt=[P(504)];function nt(){const t=["extractSlice","gger","DoubleSide","repaint","visible","x轴缩放","error","136LhNHda","change","title","toString","scale","init","max","TresGroup","matrix","copy","241802koRHNU","y轴缩放","trace","test","inverseMatrix","material","constructor","while (true) {}","BoxGeometry","xExtent","min","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","exception","401611HhKYmK","bind","windowLow","xLength","EdgesGeometry","130295pduEdu","action","info","lowerThreshold","9312zFiDFw","z轴缩放","mesh","primitive","floor","computeMinMax","1573WqVZTL","object","36eSUKCU","yLength","byteArray","920349hapIdG","x剖面","uniforms","length","6670FbaKUu","upperThreshold","apply","windowHigh","eTexture","return (function() ","LineBasicMaterial","stateObject","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","index","warn","value","__proto__","chain","\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ","NormalBlending","zLength","updateTransferFunction","LineSegments","Matrix4","prototype","1436440gMoUSg","addBinding","console","counter","repaintAllSlices","selectDataType","RASDimensions","table","log","debu","18SjrqJA","string","call","scene"];return(nt=function(){return t})()}function et(t,n){const e=nt();return(et=function(t,n){return e[t-=481]})(t,n)}const rt=h({__name:P(546),setup(t){const n=P,e=g(-1),r=g(-1),o=g(.6),i=x((()=>{const t=et;return!(e.value<=.01&&e.value>=-.01)&&(!(r[t(523)]<=.01&&r[t(523)]>=-.01)&&!(o[t(523)]<=.01&&o[t(523)]>=-.01))})),s=u(),c=m(),h=(t=>{const n=et,e=new p(c[n(483)],c.yExtent,c.zExtent,c.dataType[c[n(538)]][n(556)],c[n(507)]);e.spacing=[1,1,1],e[n(539)]=[Math[n(501)](e.xLength),Math.floor(e[n(506)]),Math[n(501)](e[n(528)])],e[n(562)]=new(l[n(531)]),e[n(568)]=new(l[n(531)]),e[n(568)][n(563)](e[n(562)]).invert();const r=e[n(502)](),o=r[0],a=r[1];return e[n(490)]=o,e.windowHigh=a,e.lowerThreshold=o,e[n(513)]=a,e})(c[n(507)]),j=new(l[n(530)])(new(l[n(492)])(new(l[n(482)])(h[n(491)],h[n(506)],h[n(528)])),new(l[n(518)])({color:6710886})),z=y({x:Math[n(501)](h[n(539)][0]/2),y:Math[n(501)](h[n(539)][1]/2),z:Math[n(501)](h[n(539)][2]/4)});h[n(515)]=136;const S=h[n(547)]("x",z.x),T=h.extractSlice("y",z.y),E=h.extractSlice("z",z.z),A={vertexShader:n(520),fragmentShader:n(526),uniforms:{eTexture:{value:s.updateTransferFunction()}},silent:!0,flatShading:!0,side:l[n(549)],transparent:!0,depthTest:!0,depthWrite:!1,blending:l[n(527)]};S.mesh[n(569)]=new f(a({baseMaterial:S[n(499)][n(569)]},A)),T[n(499)][n(569)]=new f(a({baseMaterial:T[n(499)][n(569)]},A)),E[n(499)][n(569)]=new f(a({baseMaterial:E.mesh[n(569)]},A));const D=new d;return D[n(534)](e,n(523),{label:n(552),min:-2,max:2,step:.01}),D.addBinding(r,n(523),{label:n(565),min:-2,max:2,step:.01}),D.addBinding(o,n(523),{label:n(498),min:-2,max:2,step:.01}),D[n(534)](z,"x",{label:n(509),min:0,max:h[n(539)][0],step:1}),D[n(534)](z,"y",{label:"y剖面",min:0,max:h[n(539)][1],step:1}),D.addBinding(z,"z",{label:"z剖面",min:0,max:h[n(539)][2],step:1}),D[n(534)](h,n(496),{label:n(496),min:h[n(484)],max:h.max,step:1}).on("change",(()=>{h[n(537)]()})),D[n(534)](h,"upperThreshold",{label:n(513),min:h[n(484)],max:h[n(560)],step:1}).on(n(555),(()=>{h[n(537)]()})),D[n(534)](h,n(490),{label:n(490),min:h.min,max:h[n(560)],step:1}).on("change",(()=>{h.repaintAllSlices()})),D[n(534)](h,n(515),{label:n(515),min:h[n(484)],max:h[n(560)],step:1}).on(n(555),(()=>{h[n(537)]()})),b((()=>z),(t=>{const e=n;S[e(521)]=t.x,S.repaint[e(545)](S),T.index=t.y,T.repaint[e(545)](T),E[e(521)]=t.z,E[e(550)].call(E)}),{deep:!0}),b((()=>s.colorsStops),(()=>{const t=n;S[t(499)][t(569)][t(510)][t(516)][t(523)]=s[t(529)](),T[t(499)][t(569)].uniforms.eTexture[t(523)]=s.updateTransferFunction(),E.mesh.material[t(510)][t(516)][t(523)]=s[t(529)]()}),{deep:!0,immediate:!0}),(t,a)=>{const s=n;return w(),_(s(561),{scale:[e[s(523)],r[s(523)],o[s(523)]],visible:i[s(523)]},[I(s(561),{scale:[1/v(h)[s(491)],1/v(h)[s(491)]*v(h)[s(491)]/v(h).yLength,1/v(h)[s(491)]*v(h)[s(491)]/v(h)[s(528)]]},[I(s(500),{object:v(S)[s(499)],renderOrder:1},null,8,W),I(s(500),{object:v(T)[s(499)],renderOrder:2},null,8,Y),I("primitive",{object:v(E).mesh,renderOrder:3},null,8,J),I(s(500),{object:v(j)},null,8,tt)],8,Q)],8,X)}}});function ot(t){function n(t){const e=et;if(typeof t===e(544))return function(t){}.constructor(e(481))[e(514)](e(536));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(542)+e(548)).call(e(494)):function(){return!1}[e(570)]("debugger")[e(514)](e(519)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const at=ut;!function(t,n){const e=ut,r=lt();for(;;)try{if(747439===-parseInt(e(488))/1+-parseInt(e(449))/2*(parseInt(e(471))/3)+parseInt(e(485))/4+-parseInt(e(456))/5*(-parseInt(e(494))/6)+-parseInt(e(457))/7*(parseInt(e(478))/8)+-parseInt(e(489))/9+-parseInt(e(491))/10*(-parseInt(e(486))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const it=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ut(503)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){it(this,(function(){const t=ut,n=new RegExp(t(498)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=pt(t(508));n[t(451)](r+t(466))&&e[t(451)](r+t(482))?pt():r("0")}))()}();const st=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ut(503)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function ut(t,n){const e=lt();return(ut=function(t,n){return e[t-=438]})(t,n)}st(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(492)+t(487)+");")()}catch(e){n=window}return n}(),e=n[t(481)]=n[t(481)]||{},r=[t(467),t(454),t(463),t(439),"exception",t(440),"trace"];for(let o=0;o<r[t(502)];o++){const n=st[t(460)][t(504)].bind(st),a=r[o],i=e[a]||n;n[t(475)]=st[t(462)](st),n[t(476)]=i[t(476)].bind(i),e[a]=n}}))();const ct={key:0,class:"card-wrapper"};function lt(){const t=["chain","log","2.4em","stateObject","2.8em","21jDMqxX","10px auto -3px","debu","div","__proto__","toString"," y轴长度： ","8POUoAZ","gger","byteArray","console","input","readAsArrayBuffer"," 面剖体数据","1302512OcYGjc","24464VxQgPd",'{}.constructor("return this")( )',"290926WtcoMX","11037087qOocQK","modelValue","12510SWAIbz","return (function() ","while (true) {}","42knqvKl","selectDataType","xExtent","target","function *\\( *\\)","value","warning","type","length","apply","prototype","yExtent","string","setArrayBuffer","init","演示参考头部👨‍🦲RawData数据,下载 : ","error","table","counter","[change] param:","importRawUI","head_256x256x109_uint8.raw","uploadRef","文件类型必须为:'image/x-panasonic-raw'","fileList","block","332726luymET"," z轴长度： ","test","action","raw","warn","image/x-panasonic-raw","373790fqBYlb","1413363YxEXgp","dataType","10px","constructor","zExtent","bind","info"," 点击或者拖拽rawData文件到此区域 ","removeFile"];return(lt=function(){return t})()}function pt(t){function n(t){const e=ut;if(typeof t===e(506))return function(t){}[e(460)](e(493)).apply(e(441));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(473)+e(479)).call(e(452)):function(){return!1}[e(460)](e(473)+e(479))[e(503)](e(469)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ft=N(h({__name:at(443),setup(t){const n=at,e=m();e.xExtent=256,e[n(505)]=256,e.zExtent=109;const r=g(null),o=g([]),a=t=>{const e=n;console[e(467)](e(442),t)},i=()=>{var t;const e=n;o[e(499)][e(502)]>1&&(null==(t=r[e(499)])||t[e(465)](o.value[0]))},s=()=>{const t=n;if(1!=o[t(499)][t(502)])return G[t(500)]("请正确选择rawData文件"),!1;if(e[t(496)]<=0||e[t(505)]<=0||e[t(461)]<=0)return G.warning("请正确输入数值"),!1;if(o[t(499)][0][t(453)][t(501)]!==t(455))return G[t(500)](t(446)),!1;const r=new FileReader;return r.onload=function(n){const r=t,o=n[r(497)].result;e[r(507)](o)},r[t(483)](o[t(499)][0][t(453)]),!0};return(t,u)=>{const c=n;return v(e)[c(480)]?M("",!0):(w(),_(c(474),ct,[j(v(H),{header:"读取Raw原始数据"},{default:z((()=>[u[10]||(u[10]=I(c(474),{style:{"margin-bottom":"11px"}},[S(c(438)),I("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},c(444))],-1)),j(v(L),{style:{"min-height":c(470)}},{default:z((()=>[j(v(O),{span:6,style:{"line-height":"2.4em"}},{default:z((()=>u[5]||(u[5]=[S(" x轴长度： ")]))),_:1}),j(v(O),{span:18},{default:z((()=>[j(v(k),{precision:0,modelValue:v(e)[c(496)],"onUpdate:modelValue":u[0]||(u[0]=t=>v(e)[c(496)]=t),autofocus:""},null,8,[c(490)])])),_:1})])),_:1}),j(v(L),{style:{"min-height":c(470)}},{default:z((()=>[j(v(O),{span:6,style:{"line-height":c(468)}},{default:z((()=>u[6]||(u[6]=[S(c(477))]))),_:1}),j(v(O),{span:18},{default:z((()=>[j(v(k),{precision:0,modelValue:v(e).yExtent,"onUpdate:modelValue":u[1]||(u[1]=t=>v(e)[c(505)]=t),autofocus:""},null,8,[c(490)])])),_:1})])),_:1}),j(v(L),{style:{"min-height":c(470)}},{default:z((()=>[j(v(O),{span:6,style:{"line-height":"2.4em"}},{default:z((()=>u[7]||(u[7]=[S(c(450))]))),_:1}),j(v(O),{span:18},{default:z((()=>[j(v(k),{precision:0,modelValue:v(e).zExtent,"onUpdate:modelValue":u[2]||(u[2]=t=>v(e).zExtent=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),j(v(U),{modelValue:v(e)[c(495)],"onUpdate:modelValue":u[3]||(u[3]=t=>v(e).selectDataType=t),style:{"margin-bottom":c(459)}},{default:z((()=>[(w(!0),_(T,null,E(v(e)[c(458)],((t,n)=>{const e=c;return w(),A(v(V),{key:n,value:n},{default:z((()=>[j(v(F),{style:{"max-width":"300px"}},{default:z((()=>[S(D(t.title),1)])),_:2},1024)])),_:2},1032,[e(499)])})),128))])),_:1},8,[c(490)]),j(v(B),{ref_key:c(445),ref:r,fileList:o[c(499)],"onUpdate:fileList":u[4]||(u[4]=t=>o[c(499)]=t),onChange:a,httpRequest:i},{default:z((()=>[j(v(q),null,{default:z((()=>u[8]||(u[8]=[S(c(464))]))),_:1})])),_:1},8,[c(447)]),j(v(Z),{style:{display:c(448),margin:c(472)},onClick:s},{icon:z((()=>[j(v(C))])),default:z((()=>[u[9]||(u[9]=S(c(484)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]),dt=mt;function mt(t,n){const e=xt();return(mt=function(t,n){return e[t-=139]})(t,n)}!function(t,n){const e=mt,r=xt();for(;;)try{if(827611===-parseInt(e(141))/1*(-parseInt(e(170))/2)+parseInt(e(165))/3+parseInt(e(159))/4+parseInt(e(180))/5*(-parseInt(e(160))/6)+-parseInt(e(150))/7+parseInt(e(158))/8*(-parseInt(e(174))/9)+parseInt(e(171))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const ht=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[mt(154)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ht(this,(function(){const t=mt,n=new RegExp(t(177)),e=new RegExp(t(142),"i"),r=bt(t(139));n[t(146)](r+t(157))&&e[t(146)](r+t(140))?bt():r("0")}))()}();const gt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[mt(154)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function xt(){const t=["2672558TGAdsF","action","while (true) {}","stateObject","apply","call","toString","chain","48JgzQGs","5132796MqiXNS","13458DhquKp","rawDataSurfaceSection","byteArray","debu","length","338238QHZYio","exception","counter","trace","rgb(0, 255, 255)","474576uniABi","6370500RtINNS","info","TresPerspectiveCamera","1824012bhZuuQ","gger","#201919","function *\\( *\\)","rgba(0, 0, 0, 0)","constructor","1770XXCooW","init","input","5zGNHSf","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","table","error","test","console","__proto__","rgb(255, 0, 0)"];return(xt=function(){return t})()}gt(void 0,(function(){const t=mt,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(147)]=n.console||{},r=["log","warn",t(172),t(145),t(166),t(144),t(168)];for(let o=0;o<r[t(164)];o++){const n=gt[t(179)][t(143)].bind(gt),a=r[o],i=e[a]||n;n[t(148)]=gt.bind(gt),n[t(156)]=i[t(156)].bind(i),e[a]=n}}))();const yt=h({__name:dt(161),setup(t){const n=dt,e=y({clearColor:n(176),antialias:!0}),r=m();return(t,o)=>{const a=n;return w(),_(T,null,[v(r)[a(162)]?(w(),A(c,{key:0,curColorList:[[a(178),0],[a(169),.4],[a(149),1]]})):M("",!0),j(v(s),R(e,{"window-size":""}),{default:z((()=>[o[0]||(o[0]=I(a(173),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),j(v(i)),v(r).byteArray?(w(),A(rt,{key:0})):M("",!0)])),_:1},16),j(ft)],64)}}});function bt(t){function n(t){const e=mt;if("string"==typeof t)return function(t){}[e(179)](e(152))[e(154)](e(167));1!==(""+t/t)[e(164)]||t%20==0?function(){return!0}[e(179)](e(163)+"gger")[e(155)](e(151)):function(){return!1}[e(179)](e(163)+e(175)).apply(e(153)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{yt as default};
