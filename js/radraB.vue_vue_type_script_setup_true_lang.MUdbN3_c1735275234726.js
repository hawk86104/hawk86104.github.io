import{b as n,e as t}from"./@tresjs.fCqPNEAw1735275234726.js";import{d as o,a6 as e,r,X as i,a3 as a,o as s,D as c,J as u,m as l,u as f,b as p,w as d,aj as g,ak as h}from"./@vue.u2cBPEWn1735275234726.js";import{az as v,a0 as m,C as y,M as x,cp as w,V as _}from"./three.jpi2UCEx1735275234726.js";function M(){const n=["error","stateObject","warn","2082yqgtTI","chain","3355345eGGUju","7143520LefFzy","constructor",'{}.constructor("return this")( )',"string","tsRef","info","gger","while (true) {}","log","value","buildingsMarkA","action","__proto__","position","return (function() ","apply","length","console","99999","debu","geometry","scale","toString","map","bind","TresSpriteMaterial","284976JrCxzJ","34940322LQVlqy","img","trace","3xquVPa","function *\\( *\\)","prototype","exception","3682vWfcVO","test","call","2831260fWwfJC","857050VszZQE","offset","table"];return(M=function(){return n})()}const I=S;!function(n,t){const o=S,e=M();for(;;)try{if(713350===-parseInt(o(237))/1+parseInt(o(225))/2+-parseInt(o(229))/3*(parseInt(o(236))/4)+-parseInt(o(245))/5+-parseInt(o(243))/6*(parseInt(o(233))/7)+-parseInt(o(246))/8+parseInt(o(226))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const b=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[S(261)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){b(this,(function(){const n=S,t=new RegExp(n(230)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=F("init");t[n(234)](e+n(244))&&o.test(e+"input")?F():e("0")}))()}();const A=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[S(261)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();A(void 0,(function(){const n=S;let t;try{t=Function(n(260)+n(248)+");")()}catch(r){t=window}const o=t.console=t[n(263)]||{},e=[n(254),n(242),n(251),n(240),n(232),n(239),n(228)];for(let i=0;i<e[n(262)];i++){const t=A[n(247)][n(231)].bind(A),r=e[i],a=o[r]||t;t[n(258)]=A[n(223)](A),t[n(221)]=a[n(221)][n(223)](a),o[r]=t}}))();const z=["position",I(220)],R=[I(222)];function S(n,t){const o=M();return(S=function(n,t){return o[n-=219]})(n,t)}const T=o({__name:I(256),props:{color:{default:"#fff"},position:{default:[0,0,0]},scale:{default:.1},img:{},offset:{default:[.344,.394]},foremost:{type:Boolean,default:!0},sizeAttenuation:{type:Boolean,default:!1}},async setup(t){const o=I;let p,d;const g=t,{map:h}=([p,d]=e((()=>n({map:g[o(227)]}))),p=await p,d(),p),v=r({color:g.color,transparent:!0,depthWrite:!1,sizeAttenuation:g.sizeAttenuation,toneMapped:!1,depthTest:!g.foremost}),m=i(null);return a((()=>{const n=o;m.value&&(m[n(255)][n(219)]=m[n(255)][n(219)].clone(),m[n(255)][n(219)].translate(g[n(238)][0],g.offset[1],0))})),(n,t)=>{const e=o;return s(),c("TresSprite",{ref_key:e(250),ref:m,position:g[e(259)],scale:g[e(220)],renderOrder:e(264)},[u(e(224),l(v,{map:f(h)}),null,16,R)],8,z)}}});function F(n){function t(n){const o=S;if(typeof n===o(249))return function(n){}[o(247)](o(253))[o(261)]("counter");1!==(""+n/n)[o(262)]||n%20==0?function(){return!0}.constructor(o(265)+"gger")[o(235)](o(257)):function(){return!1}[o(247)](o(265)+o(252))[o(261)](o(241)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const P=C;!function(n,t){const o=C,e=W();for(;;)try{if(318326===-parseInt(o(329))/1*(parseInt(o(295))/2)+parseInt(o(315))/3*(parseInt(o(296))/4)+parseInt(o(313))/5+-parseInt(o(314))/6+parseInt(o(333))/7*(-parseInt(o(306))/8)+-parseInt(o(302))/9+parseInt(o(332))/10*(parseInt(o(298))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const j=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[C(311)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){j(this,(function(){const n=C,t=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=L(n(299));t[n(326)](e+n(303))&&o[n(326)](e+"input")?L():e("0")}))()}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[C(311)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function C(n,t){const o=W();return(C=function(n,t){return o[n-=291]})(n,t)}function W(){const n=["10RUvFSy","35WSOkAR","TresCircleGeometry","makeRotationX","trace","args","#ffff00","position","return (function() ","debu","info","value","applyMatrix4","1742gXQzJQ","13004rkZooT","console","4942212dzTxUq","init","stateObject","ncolor","5142672bqXQWf","chain","TresCircleGeometryRef","uniforms","344080qdyZIN","\n\tuniform float uRadius;     \n  uniform float uTime;            \n  uniform float uSpeed; \n  uniform float uFollowWidth; \n  varying vec3 vPosition;\n\tuniform vec3 ncolor;\n  float calcAngle(vec3 oFrag){\n    float fragAngle;\n    const vec3 ox = vec3(1,0,0);\n    float dianji = oFrag.x * ox.x + oFrag.z*ox.z;\n    float oFrag_length = length(oFrag); // length是内置函数\n    float ox_length = length(ox); // length是内置函数\n    float yuxian = dianji / (oFrag_length * ox_length);\n    fragAngle = acos(yuxian);\n    fragAngle = degrees(fragAngle);\n    if(oFrag.z > 0.0) {\n      fragAngle = -fragAngle + 360.0;\n    }\n    float scanAngle = uTime * uSpeed - floor(uTime * uSpeed / 360.0) * 360.0;\n    float angle = scanAngle - fragAngle;\n    if(angle < 0.0){\n      angle = angle + 360.0;\n    }\n    return angle;\n  }\n  void main() {\n\t\t\t// length内置函数，取向量的长度\n\t\tif(length(vPosition) == 0.0 || length(vPosition) > uRadius-2.0){\n\t\t\tgl_FragColor = vec4( ncolor, 1.0 );\n\t\t} else {\n\t\t\tfloat angle = calcAngle(vPosition);\n\t\t\tif(angle < uFollowWidth){\n\t\t\t\t// 尾焰区域\n\t\t\t\tfloat opacity =  1.0 - angle / uFollowWidth; \n\t\t\t\tgl_FragColor = vec4( ncolor, 1.0 * opacity );  \n\t\t\t} else {\n\t\t\t\t// 其他位置的像素均为透明\n\t\t\t\tgl_FragColor = vec4( ncolor, 0.0 ); \n\t\t\t}\n\t\t}\n\t}\n  ","call","exception","gger","apply","followWidth","2785930zFUdeD","617976RShOBY","537pITvcA","counter","warn","TresShaderMaterial","error","TresMesh","string","constructor","bind","speed","length","test","radius","log","437zxZzyi","MeshRef","color"];return(W=function(){return n})()}k(void 0,(function(){const n=C;let t;try{t=Function(n(340)+'{}.constructor("return this")( ));')()}catch(r){t=window}const o=t[n(297)]=t[n(297)]||{},e=[n(328),n(317),n(292),n(319),n(309),"table",n(336)];for(let i=0;i<e[n(325)];i++){const t=k[n(322)].prototype[n(323)](k),r=e[i],a=o[r]||t;t.__proto__=k[n(323)](k),t.toString=a.toString.bind(a),o[r]=t}}))();const B=[P(339)],V=[P(337)],Z=o({__name:"radraA",props:{position:{default:[0,0,0]},size:{default:300},radius:{default:240},color:{default:P(338)},opacity:{default:.9},speed:{default:300},followWidth:{default:220}},setup(n,{expose:o}){const e=P,r=n,{onLoop:i}=t(),l={value:0},f=p();i((({delta:n})=>{l.value+=n}));const w={transparent:!0,blending:v,depthWrite:!1,side:m,depthTest:!0,vertexShader:"\n\tvarying vec3 vPosition;\n\tvoid main() {\n\t\tvPosition = position;\n\t\tvec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\t\tvec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n    gl_Position = projectionPosition;\n  }\n  ",fragmentShader:e(307),uniforms:{uSpeed:{value:r[e(324)]},uRadius:{value:r[e(327)]},uTime:l,uFollowWidth:{value:r[e(312)]},ncolor:{value:new y(r[e(331)])}}};d(f,((n,t)=>{const o=e;if(n&&void 0===t){const n=(new x)[o(335)](-Math.PI/180*90);f[o(293)][o(294)](n)}}));const _=p();return a((()=>{const n=e;r[n(331)]&&(w.uniforms[n(301)][n(293)]=new y(r.color)),r[n(327)]&&(w[n(305)].uRadius[n(293)]=r.radius)})),p(-Math.PI/180*90),o({MeshRef:_}),(n,t)=>{const o=e;return s(),c(o(320),{ref_key:o(330),ref:_,position:r[o(339)]},[u(o(334),{ref_key:o(304),ref:f,args:[r.size,1e3]},null,8,V),u(o(318),g(h(w)),null,16)],8,B)}}});function L(n){function t(n){const o=C;if(typeof n===o(321))return function(n){}[o(322)]("while (true) {}")[o(311)](o(316));1!==(""+n/n)[o(325)]||n%20==0?function(){return!0}.constructor(o(291)+"gger")[o(308)]("action"):function(){return!1}.constructor(o(291)+o(310)).apply(o(300)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const O=J;!function(n,t){const o=J,e=X();for(;;)try{if(221704===parseInt(o(118))/1*(parseInt(o(135))/2)+-parseInt(o(133))/3+parseInt(o(127))/4+-parseInt(o(111))/5+-parseInt(o(149))/6*(-parseInt(o(110))/7)+-parseInt(o(153))/8+parseInt(o(132))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const E=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){E(this,(function(){const n=J,t=new RegExp(n(159)),o=new RegExp(n(113),"i"),e=Q(n(137));t.test(e+n(147))&&o[n(115)](e+n(145))?Q():e("0")}))()}();const q=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[J(142)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();q(void 0,(function(){const n=J;let t;try{t=Function(n(128)+n(119)+");")()}catch(r){t=window}const o=t.console=t.console||{},e=["log","warn",n(140),n(117),n(130),n(154),n(116)];for(let i=0;i<e[n(156)];i++){const t=q[n(143)][n(125)][n(139)](q),r=e[i],a=o[r]||t;t[n(121)]=q.bind(q),t[n(126)]=a.toString[n(139)](a),o[r]=t}}))();const G=[O(146)],U=["args"];function X(){const n=["call","height","uniforms","735511LVXpcj","970405mLegBS","computeBoundingBox","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","copy","test","trace","error","49429gbLRoM",'{}.constructor("return this")( )',"radraB","__proto__","debu","clone","max","prototype","toString","203052rnpNPT","return (function() ","min","exception","updateMatrix","5892579FlDVyS","986220uDMMtj","value","14VXSrfU","stateObject","init","opacity","bind","info","period","apply","constructor","\n\tuniform vec3 uColor; // 光墙半径        \n  uniform vec3 uMax; \n  uniform vec3 uMin;\n  uniform mat4 modelMatrix; // 世界矩阵\n  varying vec4 vPosition; // 接收顶点着色传递进来的位置数据\n  void main() {\n    // 转世界坐标\n    vec4 uMax_world = modelMatrix * vec4(uMax,1.0);\n    vec4 uMin_world = modelMatrix * vec4(uMin,1.0);\n    // 根据像素点世界坐标的y轴高度,设置透明度\n    float opacity =1.0 - (vPosition.y - uMin_world.y) / (uMax_world.y -uMin_world.y) ; \n    gl_FragColor = vec4( uColor, opacity);\n  }\n  ","input","position","chain","gger","6hUiBgd","scale","makeScale","radius","3296360VLzfuA","table","boundingBox","length","MeshRef","color","function *\\( *\\)"];return(X=function(){return n})()}const $=o({__name:O(120),props:{position:{default:[0,0,0]},radius:{default:10},maxRadius:{default:200},color:{default:"#ffff00"},opacity:{default:.5},period:{default:2},height:{default:100}},setup(n,{expose:o}){const e=O,r=n,i=p(),l=p(1),f=p(.1),v={color:r[e(158)],opacity:r[e(138)],transparent:!0,depthWrite:!1,depthTest:!0,side:m,vertexShader:"\n\tvarying vec4 vPosition;\n  void main() {\n    vPosition = modelMatrix * vec4(position,1.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n  ",fragmentShader:e(144),uniforms:{uMax:l,uMin:f,uColor:{value:new y(r[e(158)])}}},M=p();let I=null;d(M,((n,t)=>{const o=e;n&&void 0===t&&(M[o(134)][o(112)](),l[o(134)]=M[o(134)][o(155)][o(124)],f.value=M[o(134)].boundingBox[o(129)],I=i[o(134)][o(150)].clone())}));const b=p(new w(new _(0,0,0),new _(0,r[e(161)],0)));a((()=>{const n=e;r.color&&(v[n(109)].uColor[n(134)]=new y(r[n(158)]))}));const{onLoop:A}=t(),z={value:0};return A((({delta:n})=>{const t=e;z[t(134)]+=n;const o=(z[t(134)]%r.period/r[t(141)]*(r.maxRadius-r[t(152)])+r[t(152)])/r[t(152)],a=(new x)[t(151)](o,1,o);I&&(i[t(134)].scale[t(114)](I[t(123)]().applyMatrix4(a)),i[t(134)][t(131)]())})),o({MeshRef:i}),(n,t)=>{const o=e;return s(),c("TresMesh",{ref_key:o(157),ref:i,position:r[o(146)],renderOrder:2e3},[u("TresTubeGeometry",{ref_key:"TresTubeGeometryRef",ref:M,args:[b[o(134)],20,r[o(152)],100,!1]},null,8,U),u("TresShaderMaterial",g(h(v)),null,16)],8,G)}}});function J(n,t){const o=X();return(J=function(n,t){return o[n-=109]})(n,t)}function Q(n){function t(n){const o=J;if("string"==typeof n)return function(n){}[o(143)]("while (true) {}").apply("counter");1!==(""+n/n)[o(156)]||n%20==0?function(){return!0}.constructor(o(122)+o(148))[o(160)]("action"):function(){return!1}[o(143)](o(122)+o(148))[o(142)](o(136)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{T as _,Z as a,$ as b};
