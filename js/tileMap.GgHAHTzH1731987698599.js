import{_ as t,cB as n,C as e,ak as o,am as r}from"./three.3RwiW87x1731987698599.js";import{P as s}from"./tweakpane.yHWGBmom1731987698599.js";import{m as i,e as a}from"./@tresjs.juy9qkLz1731987698599.js";import{P as c,b as u,c as p,M as l,T as f,a as m,d as h}from"./index.rqFGYCHv1731987698599.js";import{d as g,a3 as d,w,o as b,D as j,u as x,X as y,r as v,e as I,j as M,g as _,f as C,al as B,m as z,F as S}from"./@vue.-THQH3GC1731987698599.js";import{_ as Z}from"./raycasterEvent.DpKTlrR81731987698599.js";import{a as k}from"./utils.IHgCoixE1731987698599.js";import"./@vueuse.R8VPJfVr1731987698599.js";import"./@mapbox.Qnsx-WRg1731987698599.js";import"./@amap.8HDR-twf1731987698599.js";import"./three-mesh-bvh.L_h1M-WP1731987698599.js";import"./three-custom-shader-material.0aidFALX1731987698599.js";import"./@fesjs.6cRBmkVw1731987698599.js";import"./vue-router.0Hzo7MDu1731987698599.js";import"./lodash-es.kYt-_xTG1731987698599.js";import"./@qlin.yHhFDldE1731987698599.js";import"./pinia.qOeBz4jM1731987698599.js";import"./vue-demi.C4xddsk91731987698599.js";import"./@floating-ui.BPbuo5Gx1731987698599.js";import"./@juggle.7yjBMqoW1731987698599.js";import"./@tweenjs.03TsBd2S1731987698599.js";import"./utils.XT-actNW1731987698599.js";import"./http.iRMVuSeQ1731987698599.js";import"./axios.Ng308AU61731987698599.js";import"./color.7cnIZo7J1731987698599.js";import"./color-string.chB6RuFG1731987698599.js";import"./color-name.oTxVCUko1731987698599.js";import"./simple-swizzle.BsAb9sih1731987698599.js";import"./is-arrayish.PG8qL8Kt1731987698599.js";import"./color-convert.WbQcbBwU1731987698599.js";import"./lodash.i4XTJglw1731987698599.js";import"./d3-geo.796sTLfr1731987698599.js";import"./d3-array.E5C1cfJ61731987698599.js";const R=q;function E(){const t=["6939618pmMZoD","gger","genSaturation","PerspectiveCamera","call","filter","bbox","innerWidth","dampingFactor","genContrast","Color","flatShading","mapCenter","far","warn","target","camera","table","monochrome","tweenInstance","4610664htlxWk","return (function() ","function *\\( *\\)","coordType","useWorker","constructor","290enSVxq","length","counter","input","2422986cloONZ","set","bind","__proto__","apply","source","exception","innerHeight","16468iOybHW","updateProjectionMatrix","debu",'{}.constructor("return this")( )',"provider","console","toString","error","update","showTileNo","1291369ayYqsK","useStandardMaterial","trace","init","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","Vector3","176QvvXYC","action","rotation","test","#fff","lookAt","abs","position","string","minDistance","105444VuBcoi","opposite","stateObject","38854HrLWfA","position0","domElement","value","genBright","showBoundingBox","wireframe"];return(E=function(){return t})()}!function(t,n){const e=q,o=E();for(;;)try{if(706176===parseInt(e(270))/1+-parseInt(e(292))/2+-parseInt(e(252))/3+-parseInt(e(260))/4*(parseInt(e(248))/5)+-parseInt(e(242))/6+parseInt(e(222))/7+parseInt(e(279))/8*(parseInt(e(289))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(256)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=q,n=new RegExp(t(244)),e=new RegExp(t(276),"i"),o=W(t(273));n.test(o+t(277))&&e[t(282)](o+t(251))?W():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(256)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();V(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(243)+t(263)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(265)]||{},o=["log",t(236),"info",t(267),t(258),t(239),t(272)];for(let r=0;r<o[t(249)];r++){const n=V.constructor.prototype[t(254)](V),s=o[r],i=e[s]||n;n[t(255)]=V[t(254)](V),n[t(266)]=i[t(266)][t(254)](i),e[s]=n}}))();const T=["object",R(281)];function q(t,n){const e=E();return(q=function(t,n){return e[t-=218]})(t,n)}const A=g({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:R(283)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const s=R,h=o,{renderer:g,scene:y}=i();(new c)[s(245)]=u;const v=new p;v[s(257)]=s(274),v.coordType=u;const I=new l;I[s(257)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",I[s(269)]=!1,I[s(246)]=!0;const M=new f(v,I);if(M[s(220)]=!1,M[s(221)]=!1,M[s(233)]=!1,M[s(271)]=!1,M.filter={opposite:h.opposite,monochrome:h.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:h[s(219)],genContrast:h.genContrast,genSaturation:h[s(224)]},h[s(240)]){let n=new(t[s(232)])(h[s(240)]);M[s(227)]&&(M[s(227)][s(240)]={r:n.r,g:n.g,b:n.b})}const _=new m;_[s(264)]=M,_[s(228)]=h.bbox,_.maxZoom=h.maxZoom;const C=new(t[s(225)])(60,window[s(229)]/window[s(259)],1,1e8);C.up=new(t[s(278)])(0,1,0),C[s(286)][s(253)](h.mapCenter[0],h[s(234)][2],-h[s(234)][1]),C[s(284)](new(t[s(278)])(C[s(286)].x,0,C[s(286)].z-2e3)),_[s(238)]=C;let B=null;d((()=>{const t=s;g[t(218)]&&!B&&(B=new n(C,g.value[t(294)]),B.enableDamping=!0,B[t(230)]=.05,B[t(288)]=600,B[t(293)][t(253)](C[t(286)].x,C[t(286)].y,C[t(286)].z),B[t(237)].set(C.position.x,0,C[t(286)].z-2e3))})),w((()=>[h[s(290)],h.isMonochrome,h[s(240)]]),(([t,n,o])=>{const r=s;if(M[r(227)]){let s=new e(o);M.filter.opposite=t,M[r(227)][r(240)]=n?{r:s.r,g:s.g,b:s.b}:null}})),w((()=>[h.genBright,h[s(231)],h[s(224)]]),(([t,n,e])=>{const o=s;M.filter&&(M[o(227)].genBright=t,M[o(227)][o(231)]=n,M[o(227)].genSaturation=e)}));const{onLoop:z}=a();return z((()=>{var t;const n=s;if(g[n(218)]){null==(t=h[n(241)])||t[n(268)](),B&&B.update(),_.update();const e=50*Math[n(285)](C[n(286)].y);C[n(235)]=e+5e3,C[n(261)](),g[n(218)].render(y[n(218)],C)}})),r({camera:C,map:_,orbitControl:B}),(t,n)=>(b(),j("primitive",{object:x(_),rotation:[-Math.PI/2,0,0]},null,8,T))}});function W(t){function n(t){const e=q;if(typeof t===e(287))return function(t){}[e(247)](e(275))[e(256)](e(250));1!==(""+t/t)[e(249)]||t%20==0?function(){return!0}[e(247)](e(262)+e(223))[e(226)](e(280)):function(){return!1}[e(247)](e(262)+e(223))[e(256)](e(291)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=Y;!function(t,n){const e=Y,o=F();for(;;)try{if(808151===parseInt(e(361))/1*(parseInt(e(327))/2)+parseInt(e(331))/3+-parseInt(e(366))/4*(-parseInt(e(346))/5)+-parseInt(e(368))/6+-parseInt(e(313))/7*(-parseInt(e(326))/8)+parseInt(e(312))/9+-parseInt(e(363))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(351)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=Y,n=new RegExp(t(323)),e=new RegExp(t(354),"i"),o=$(t(328));n[t(348)](o+t(319))&&e[t(348)](o+t(320))?$():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=F();return(Y=function(t,n){return e[t-=312]})(t,n)}function F(){const t=["gger","对比度","nss","warn","tweenInstance","chain","input","error","info","function *\\( *\\)","debu","prototype","9873848EBhRRR","298EqoRIV","init","return (function() ","饱和度","3533202XcDVUh","while (true) {}","tileMap","bind","trace","__proto__","console","manual","Vector3","action","string","genContrast","change","orbitControl","genBright","2095gVwlmD","#201919","test","stateObject","genSaturation","apply","新街口","TresCanvas","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding",'{}.constructor("return this")( )',"length","exception","constructor","camera","3373MYxyQQ","xjk","28931450pTduLO","牛首山","滤镜颜色","11292urZGMV","tileMapMeshRef","7612278ZqiYyw","value","#4688b5","7853670sqdzur","7finZDe"];return(F=function(){return t})()}P(void 0,(function(){const t=Y;let n;try{n=Function(t(329)+t(356)+");")()}catch(r){n=window}const e=n[t(337)]=n[t(337)]||{},o=["log",t(317),t(322),t(321),t(358),"table",t(335)];for(let s=0;s<o[t(357)];s++){const n=P.constructor[t(325)][t(334)](P),r=o[s],i=e[r]||n;n[t(336)]=P.bind(P),n.toString=i.toString[t(334)](i),e[r]=n}}))();const Q=g({__name:L(333),setup(n){const e=L,i=h(118.779958,32.017136),a=[i[0],i[1],5e3],c=y(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(370),mapCenter:a,tweenInstance:null}),p=new s({title:"参数"});p[e(355)](u,"opposite",{label:"反色"}),p[e(355)](u,e(345),{label:"高亮",min:.1,max:3,step:.1}),p[e(355)](u,e(342),{label:e(315),min:.1,max:3,step:.1}),p[e(355)](u,e(350),{label:e(330),min:.1,max:3,step:.1}),p.addBinding(u,"isMonochrome",{label:"单色滤镜"}),p[e(355)](u,"monochrome",{label:e(365)});const l={at:h(118.7425,31.9998),xjk:h(118.7842,32.0418),nss:h(118.7503,31.9082)};p.addBlade({view:"list",label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(352),value:e(362)},{text:e(364),value:e(316)}],value:"at"}).on(e(343),(n=>{const o=e,r=new(t[o(339)])(l[n.value][0],2e3,-l[n[o(369)]][1]);u[o(318)]=k(c.value[o(360)],r,c[o(369)][o(344)],[0,-300],4e3)}));const f=v({clearColor:e(347),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(338),outputColorSpace:o,toneMapping:r});return setTimeout((()=>{const n=e,o=l.at,r=new(t[n(339)])(o[0],1600,-o[1]);u[n(318)]=k(c.value[n(360)],r,c[n(369)][n(344)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=I(o(353));return b(),j(S,null,[M(r,z(f,{"window-size":""}),{default:_((()=>[(b(),C(B,null,{default:_((()=>[M(A,z(u,{ref_key:o(367),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(Z,{tileMapRef:c[o(369)]},null,8,["tileMapRef"])],64)}}});function $(t){function n(t){const e=Y;if(typeof t===e(341))return function(t){}[e(359)](e(332)).apply("counter");1!==(""+t/t)[e(357)]||t%20==0?function(){return!0}[e(359)](e(324)+e(314)).call(e(340)):function(){return!1}.constructor(e(324)+e(314)).apply(e(349)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
