import{i as n}from"./ice-utils.FQ6krvrj1741168315107.js";import{_ as t,m as e,t as o}from"./gl-matrix.LVRvEqQb1741168315107.js";import{P as r}from"./tweakpane.yDiyAAkA1741168315107.js";import{d as i,r as a,q as c,o as s,H as u,N as f,u as l}from"./@vue.NRI7TcgI1741168315107.js";const m="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",_="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",x=g;!function(n,t){const e=g,o=A();for(;;)try{if(134946===parseInt(e(180))/1*(parseInt(e(273))/2)+parseInt(e(246))/3+-parseInt(e(242))/4+parseInt(e(182))/5*(parseInt(e(256))/6)+parseInt(e(208))/7+-parseInt(e(265))/8*(-parseInt(e(188))/9)+-parseInt(e(215))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[g(244)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){E(this,(function(){const n=g,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(279),"i"),o=b(n(239));t[n(220)](o+n(194))&&e[n(220)](o+"input")?b():o("0")}))()}();const d=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[g(244)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function g(n,t){const e=A();return(g=function(n,t){return e[n-=177]})(n,t)}d(void 0,(function(){const n=g,t=function(){const n=g;let t;try{t=Function(n(278)+n(189)+");")()}catch(e){t=window}return t}(),e=t[n(233)]=t[n(233)]||{},o=["log",n(271),n(229),n(236),n(252),n(238),n(240)];for(let r=0;r<o[n(268)];r++){const t=d[n(274)].prototype[n(222)](d),i=o[r],a=e[i]||t;t[n(186)]=d[n(222)](d),t.toString=a[n(209)][n(222)](a),e[i]=t}}))();const p={id:x(181)},T=["src"];function A(){const n=["ARRAY_BUFFER","canvas","addBinding","createFramebuffer","change","1760qoYMYF","bindBuffer","clearColor","length","gger","create","warn","drawElements","30138NfyyKK","constructor","mat4","offset_right_top","NEAREST","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","enable","BLEND","SRC_ALPHA","stateObject","17YLrlia","canvaswebgl","10jKTmyc","RGBA","FLOAT","width","__proto__","inline","8226zxpPFJ",'{}.constructor("return this")( )',"bindTexture","webglPostProcessing","bufferData","createBuffer","chain","value","getUniformLocation","STATIC_DRAW","TEXTURE_MAG_FILTER","none","offset_right_bottom","COLOR_BUFFER_BIT","useProgram","uniformMatrix4fv","uView","clear","是否后处理","vertexAttribPointer","760305uAnDgI","toString","TEXTURE_WRAP_T","uProjection","UNSIGNED_BYTE","innerHeight","ortho","5969970nTxVla","getContext","uModel","action","uniform1f","test","ELEMENT_ARRAY_BUFFER","bind","TRIANGLES","createTexture","lookAt","bindFramebuffer","hidden","height","info","FRAMEBUFFER","CLAMP_TO_EDGE","string","console","logo-texture","offset_left_top","error","color","table","init","trace","TEXTURE_MIN_FILTER","266296RINbNz","img","apply","blendFunc","346269MYSvAQ","BYTES_PER_ELEMENT","debu","querySelector","offset_left_bottom","TEXTURE_2D","exception","getElementById","ONE_MINUS_SRC_ALPHA","texParameteri","351678PHvGZk","texImage2D","enableVertexAttribArray","scale"];return(A=function(){return n})()}const R=i({__name:x(191),setup(i){const E=x;let d,A,R,b,y,v,F,h,P,w,B,I,C;const U=1,D=.71,L=.76,N=new r({title:"参数"}),S=a({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});N.addBlade({view:"slider",label:"颜色",min:0,max:1,value:.5}).on("change",(n=>{const t=g;G(),A[t(219)](I,n[t(195)])}));let M=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);N[E(262)](S,E(227),{label:E(206)}),N[E(262)](S,E(276),{picker:"inline",x:{min:0,max:1},y:{min:0,max:1}}).on("change",(n=>{const t=E;M[0]=S[t(276)].x,M[1]=S[t(276)].y,G()})),N[E(262)](S,E(200),{picker:E(187),x:{min:-1,max:1},y:{min:-1,max:1}}).on(E(264),(n=>{const t=E;M[5]=S[t(200)].x,M[6]=S[t(200)].y,G()})),N[E(262)](S,E(250),{picker:E(187),x:{min:-1,max:1},y:{min:-1,max:1}}).on(E(264),(n=>{const t=E;M[10]=S[t(250)].x,M[11]=S.offset_left_bottom.y,G()})),N[E(262)](S,E(235),{picker:E(187),x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(n=>{const t=E;M[15]=S.offset_left_top.x,M[16]=S[t(235)].y,G()})),c((()=>{Y()}));const Y=function(){const t=E;d=document[t(249)]("#canvaswebgl"),d[t(185)]=window.innerWidth,d[t(228)]=window[t(213)],A=d[t(216)]("webgl"),A&&(function(){const t=E,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);b=X(e,o),R=n(A,m,_),P=A[t(196)](R,t(211)),w=A[t(196)](R,t(204)),B=A.getUniformLocation(R,t(217)),C=k(document[t(253)](t(234)))}(),G(),A[t(280)](A[t(177)]),A[t(245)](A[t(178)],A[t(254)]),O())};function O(){const n=E;A[n(226)](A[n(230)],F),A[n(267)](U,D,L,1),A[n(205)](A[n(201)]),function(){const n=E;A[n(202)](R),A.bindBuffer(A[n(260)],b);const o=t[n(275)][n(270)]();e[n(214)](o,0,d.width,d[n(228)],0,.1,100),A[n(203)](P,!1,o);const r=t[n(275)][n(270)]();t[n(275)][n(225)](r,[0,0,1],[0,0,0],[0,1,0]),A[n(203)](w,!1,r),j(C,600,600),j(C,400,400)}(),A[n(226)](A[n(230)],null),S.hidden&&(A[n(205)](A.COLOR_BUFFER_BIT),A[n(267)](0,0,1,1),A[n(266)](A[n(260)],y),A[n(202)](v),A[n(190)](A[n(251)],h)),A[n(272)](A[n(223)],6,A.UNSIGNED_BYTE,0),requestAnimationFrame(O)}function j(n,e,r){const i=E;let a=t[i(275)][i(270)]();o(a,a,[e,r,0]),t[i(275)][i(259)](a,a,[250,250,0]),A[i(203)](B,!1,a),A[i(190)](A[i(251)],n),A[i(272)](A[i(223)],6,A[i(212)],0)}function G(){const t=E,e=new Uint8Array([0,1,2,0,2,3]);y=X(M,e),v=n(A,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),I=A[t(196)](v,"mixParam"),A[t(196)](v,t(237)),function(){const n=E;h=k(d),F=A[n(263)](),A[n(226)](A[n(230)],F),A.framebufferTexture2D(A[n(230)],A.COLOR_ATTACHMENT0,A[n(251)],h,0),A[n(226)](A[n(230)],null)}()}function k(n){const t=E,e=A[t(224)]();return A[t(190)](A.TEXTURE_2D,e),n instanceof HTMLImageElement?A.texImage2D(A[t(251)],0,A[t(183)],A.RGBA,A.UNSIGNED_BYTE,n):A[t(257)](A.TEXTURE_2D,0,A[t(183)],n[t(185)],n.height,0,A[t(183)],A[t(212)],null),A[t(255)](A[t(251)],A[t(241)],A[t(277)]),A[t(255)](A.TEXTURE_2D,A[t(198)],A[t(277)]),A[t(255)](A[t(251)],A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A[t(255)](A[t(251)],A[t(210)],A[t(231)]),e}function X(n,t){const e=E,o=A[e(193)]();A.bindBuffer(A.ARRAY_BUFFER,o),A[e(192)](A.ARRAY_BUFFER,n,A[e(197)]);const r=3*Float32Array.BYTES_PER_ELEMENT+2*Float32Array[e(247)];A.vertexAttribPointer(0,3,A[e(184)],!1,r,0),A[e(258)](0),A[e(207)](1,2,A[e(184)],!1,r,3*Float32Array[e(247)]),A[e(258)](1);const i=A.createBuffer();return A[e(266)](A.ELEMENT_ARRAY_BUFFER,i),A[e(192)](A[e(221)],t,A[e(197)]),A.bindBuffer(A[e(260)],null),o}return(n,t)=>{const e=E;return s(),u(e(261),p,[f(e(243),{id:e(234),src:l("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(199)}},null,8,T)])}}});function b(n){function t(n){const e=g;if(typeof n===e(232))return function(n){}.constructor("while (true) {}")[e(244)]("counter");1!==(""+n/n)[e(268)]||n%20==0?function(){return!0}[e(274)](e(248)+e(269)).call(e(218)):function(){return!1}[e(274)](e(248)+e(269))[e(244)](e(179)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{R as default};
