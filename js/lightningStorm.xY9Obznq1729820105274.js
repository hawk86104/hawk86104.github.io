import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.GCucjTKf1729820105274.js";import{B as i,V as s,cr as n,ab as e,X as r,h as o,an as a,$ as h,s as c,C as u,_ as l}from"./three.0W5n8UBO1729820105274.js";import{U as p,e as d,F as m}from"./@tresjs.S6PXiQcG1729820105274.js";import{c as f}from"./simplex-noise.P9JMzoHY1729820105274.js";import{d as g,a3 as y,o as b,E as S,u as v,r as x,j as w,g as I,m as _,F as P}from"./@vue.bvMz0l_u1729820105274.js";import"./index.wNHiofSX1729820105274.js";import{_ as M}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.oxHBkpj61729820105274.js";import"./three-custom-shader-material.WIBIoaCk1729820105274.js";import"./object-hash.O5Web0p21729820105274.js";import"./@amap.UuvR34pR1729820105274.js";import"./jszip.nToJU0Sc1729820105274.js";import"./glsl-tokenizer.fZI0jxNo1729820105274.js";import"./glsl-token-string.KmSVHImF1729820105274.js";import"./glsl-token-functions.IcwySNVS1729820105274.js";import"./@vueuse.3M_MDcJc1729820105274.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.jjdbWlPE1729820105274.js";import"./all.three.btwmjVn11729820105274.js";import"./oimophysics.x0jH7fze1729820105274.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.g4sCMavA1729820105274.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.51jynS3S1729820105274.js";import"./index.WOSC_0fE1729820105274.js";import"./three-stdlib.ilpWY7x61729820105274.js";import"./@pmndrs.4OReEEqc1729820105274.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.ZKQvw9Gu1729820105274.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.g9i3ADAy1729820105274.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.qtLf76RD1729820105274.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Qi9BNCp81729820105274.js";const T=F;!function(t,i){const s=F,n=j();for(;;)try{if(874651===parseInt(s(560))/1*(parseInt(s(431))/2)+parseInt(s(442))/3*(parseInt(s(575))/4)+-parseInt(s(566))/5+parseInt(s(480))/6*(parseInt(s(541))/7)+-parseInt(s(574))/8+parseInt(s(553))/9*(parseInt(s(564))/10)+-parseInt(s(455))/11)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const A=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[F(494)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){A(this,(function(){const t=F,i=new RegExp("function *\\( *\\)"),s=new RegExp(t(569),"i"),n=V(t(426));i[t(533)](n+t(505))&&s[t(533)](n+t(559))?V():n("0")}))()}();const R=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[F(494)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function F(t,i){const s=j();return(F=function(t,i){return s[t-=411]})(t,i)}R(void 0,(function(){const t=F,i=function(){const t=F;let i;try{i=Function(t(501)+t(503)+");")()}catch(s){i=window}return i}(),s=i[t(420)]=i.console||{},n=[t(535),t(422),t(552),t(502),"exception",t(562),t(450)];for(let e=0;e<n[t(554)];e++){const i=R[t(441)][t(545)].bind(R),r=n[e],o=s[r]||i;i.__proto__=R[t(542)](R),i[t(525)]=o[t(525)].bind(o),s[r]=i}}))();class C extends i{constructor(t={}){const i=F;super(),this[i(444)]=!0,this[i(469)]=i(523),this[i(426)](C[i(459)](t,t)),this.createMesh()}static[T(524)](){const t=2053,i=[];for(let n=0;n<t;n++)i.push(Math.random());const s={currentSeed:0,random:function(){const n=F,e=i[s[n(433)]];return s[n(433)]=(s[n(433)]+1)%t,e},getSeed:function(){return s[F(433)]/t},setSeed:function(i){const n=F;s[n(433)]=Math[n(492)](i*t)%t}};return s}static copyParameters(t={},i={}){const n=T,e=function(s){return i===t?s:s.clone()};return t[n(531)]=void 0!==i.sourceOffset?e(i.sourceOffset):new s(0,100,0),t[n(461)]=void 0!==i[n(461)]?e(i[n(461)]):new s(0,0,0),t[n(519)]=void 0!==i[n(519)]?i.timeScale:1,t.roughness=void 0!==i.roughness?i[n(538)]:.9,t[n(471)]=void 0!==i[n(471)]?i[n(471)]:.7,t.up0=void 0!==i.up0?e(i[n(557)]):new s(0,0,1),t[n(443)]=void 0!==i[n(443)]?e(i[n(443)]):new s(0,0,1),t.radius0=void 0!==i.radius0?i[n(521)]:1,t[n(520)]=void 0!==i[n(520)]?i.radius1:1,t[n(481)]=void 0!==i[n(481)]?i[n(481)]:.5,t[n(464)]=void 0!==i.radius1Factor?i.radius1Factor:.2,t[n(548)]=void 0!==i.minRadius?i[n(548)]:.2,t[n(418)]=void 0!==i.isEternal?i.isEternal:void 0===i.birthTime||void 0===i[n(449)],t[n(484)]=i[n(484)],t.deathTime=i[n(449)],t.propagationTimeFactor=void 0!==i.propagationTimeFactor?i[n(563)]:.1,t[n(483)]=void 0!==i[n(483)]?i[n(483)]:.9,t[n(544)]=void 0!==i[n(544)]?i[n(544)]:4,t[n(565)]=void 0!==i[n(565)]?i[n(565)]:.6,t[n(499)]=void 0!==i[n(499)]?i[n(499)]:9,t[n(532)]=void 0!==i[n(532)]&&i[n(532)],t[n(460)]=void 0!==i[n(460)]?i[n(460)]:5,t[n(528)]=void 0!==i.maxSubrayRecursion?i[n(528)]:3,t[n(549)]=void 0!==i[n(549)]?i[n(549)]:.6,t[n(508)]=void 0!==i.generateUVs&&i[n(508)],t[n(440)]=i.randomGenerator,t[n(413)]=i[n(413)],t[n(558)]=i[n(558)],t[n(509)]=i[n(509)],t}[T(472)](t){const i=T;this[i(532)]||(this[i(416)][i(418)]||this.rayParameters[i(484)]<=t&&t<=this.rayParameters[i(449)]?(this.updateMesh(t),t<this.subrays[0].endPropagationTime?this[i(511)]=C[i(428)]:t>this[i(580)][0][i(518)]?this.state=C.RAY_VANISHING:this.state=C[i(536)],this[i(477)]=!0):(this.visible=!1,t<this[i(416)].birthTime?this[i(511)]=C[i(474)]:this[i(511)]=C[i(529)]))}[T(426)](t){const i=T;this[i(416)]=t,this[i(499)]=void 0!==t[i(499)]?Math[i(492)](t[i(499)]):9,t[i(499)]=this.maxIterations,this.isStatic=void 0!==t[i(532)]&&t[i(532)],t[i(532)]=this[i(532)],this[i(460)]=void 0!==t[i(460)]?Math[i(492)](t[i(460)]):5,t[i(460)]=this[i(460)],this[i(528)]=void 0!==t[i(528)]?Math.floor(t[i(528)]):3,t[i(528)]=this[i(528)],this[i(549)]=void 0!==t[i(549)]?t[i(549)]:.6,t[i(549)]=this.recursionProbability,this[i(508)]=void 0!==t[i(508)]&&t.generateUVs,t[i(508)]=this[i(508)],void 0!==t[i(440)]?(this[i(440)]=t[i(440)],this.seedGenerator=t.randomGenerator,void 0!==t[i(413)]&&this[i(500)][i(476)](t[i(413)])):(this[i(440)]=C[i(524)](),this[i(500)]=Math),void 0!==t.onDecideSubrayCreation?this.onDecideSubrayCreation=t[i(558)]:(this.createDefaultSubrayCreationCallbacks(),void 0!==t[i(509)]&&(this[i(509)]=t.onSubrayCreation)),this.state=C.RAY_INITIALIZED,this[i(486)]=Math[i(507)](1+Math[i(439)](this[i(460)],Math[i(447)](0,this.maxSubrayRecursion-1))),t[i(486)]=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this[i(580)]=[];for(let s=0;s<this.maxSubrays;s++)this.subrays[i(530)](this.createSubray());this[i(496)]=[];for(let s=0;s<this[i(489)];s++)this.raySegments[i(530)](this[i(567)]());this[i(497)]=0,this[i(453)]=0,this[i(412)]=null,this.currentCreateTriangleVertices=this[i(508)]?this.createTriangleVerticesWithUVs:this[i(468)],this[i(522)]=0,this[i(457)]=null,this[i(555)]=0,this[i(478)]=!1,this[i(411)]=0,this[i(437)]=0,this[i(526)]=0,this[i(570)]=0,this[i(513)]=0,this[i(479)]=null,this[i(462)]=null,this[i(434)]=null,this[i(448)]=null,this.uvsAttribute=null,this[i(504)]=f(this[i(500)][i(436)]),this.simplexY=f(this.seedGenerator[i(436)]),this[i(466)]=f(this[i(500)].random),this[i(515)]=new s,this.forwardsFill=new s,this[i(581)]=new s,this[i(473)]=new s,this[i(451)]=new s,this.middleLinPos=new s,this[i(573)]=new s,this[i(438)]=new s,this[i(540)]=new s}[T(429)](){const t=T,i=1<<this[t(499)],s=3*(i+1)*this.maxSubrays,o=18*i*this.maxSubrays;this[t(479)]=new Float32Array(3*s),this.indices=new Uint32Array(o),this[t(508)]&&(this[t(462)]=new Float32Array(2*s)),this[t(550)](0),this[t(467)](new n(this[t(434)],1)),this.positionAttribute=new e(this.vertices,3),this[t(425)](t(547),this[t(448)]),this[t(508)]&&(this[t(463)]=new e(new Float32Array(this[t(462)]),2),this.setAttribute("uv",this[t(463)])),!this[t(532)]&&(this[t(470)][t(432)]=r,this[t(448)][t(432)]=r,this[t(508)]&&(this.uvsAttribute[t(432)]=r)),this[t(479)]=this.positionAttribute[t(576)],this[t(434)]=this[t(470)][t(576)],this[t(508)]&&(this[t(462)]=this[t(463)][t(576)])}[T(514)](t){const i=T;this.fillMesh(t),this[i(506)].count=this.currentIndex,this[i(470)][i(421)]=!0,this[i(448)][i(421)]=!0,this[i(508)]&&(this[i(463)][i(421)]=!0)}[T(550)](t){const i=T,s=this;this[i(437)]=0,this[i(526)]=0,this[i(570)]=0,this[i(513)]=0,this[i(561)](t,(function(n){const e=i,r=s[e(457)];t<r[e(484)]||(this[e(416)][e(418)]&&0==s[e(457)][e(465)]?(s[e(551)](n),s[e(558)](n,s)):t<r[e(579)]?s[e(453)]>=n[e(517)]*r[e(563)]&&(s[e(551)](n),s[e(558)](n,s)):t<r.beginVanishingTime?(s[e(551)](n),s[e(558)](n,s)):(s[e(453)]<=r[e(483)]+n.fraction1*(1-r[e(483)])&&s.createPrism(n),s[e(558)](n,s)))}))}[T(491)](){const t=T;return this[t(580)][this[t(522)]++]}[T(568)](t,i){const s=T;t.pos0.copy(i[s(531)]),t.pos1.copy(i[s(461)]),t[s(557)][s(571)](i[s(557)]),t.up1[s(571)](i[s(443)]),t[s(521)]=i[s(521)],t[s(520)]=i[s(520)],t[s(484)]=i[s(484)],t.deathTime=i[s(449)],t.timeScale=i[s(519)],t[s(538)]=i[s(538)],t[s(471)]=i.straightness,t[s(563)]=i.propagationTimeFactor,t[s(483)]=i[s(483)],t[s(499)]=this.maxIterations,t.seed=void 0!==i[s(413)]?i.noiseSeed:0,t[s(465)]=0}[T(561)](t,i){const s=T;this[s(497)]=t,this.currentSegmentCallback=i,this[s(522)]=0,this[s(568)](this.addNewSubray(),this[s(416)]);for(let n=0;n<this[s(522)];n++){const i=this.subrays[n];this[s(457)]=i,this.randomGenerator[s(476)](i[s(415)]),i[s(579)]=o[s(419)](i[s(484)],i[s(449)],i[s(563)]),i[s(518)]=o[s(419)](i[s(449)],i[s(484)],1-i[s(483)]);const e=this[s(440)][s(436)];i[s(445)][s(454)](e(),e(),e())[s(534)](1e3),i[s(498)][s(454)](e(),e(),e())[s(534)](1e3),this[s(453)]=(t-i[s(484)])/(i[s(449)]-i.birthTime),this[s(555)]=0,this[s(478)]=!0;const r=this[s(537)]();r[s(487)]=0,r[s(516)].copy(i[s(516)]),r[s(475)][s(571)](i.pos1),r.linPos0[s(571)](i[s(445)]),r[s(498)][s(571)](i.linPos1),r[s(557)][s(571)](i.up0),r[s(443)][s(571)](i[s(443)]),r[s(521)]=i[s(521)],r.radius1=i[s(520)],r.fraction0=0,r[s(546)]=1,r.positionVariationFactor=1-i.straightness,this.subrayProbability=this[s(460)]*Math[s(439)](this.recursionProbability,i[s(465)])/(1<<i.maxIterations),this[s(490)](r)}this[s(412)]=null,this[s(457)]=null}[T(490)](t){const i=T;if(t[i(487)]>=this.currentSubray[i(499)])return void this[i(412)](t);this[i(515)][i(435)](t[i(475)],t.pos0);let s=this[i(515)].length();s<1e-6&&(this[i(515)][i(454)](0,0,.01),s=this[i(515)][i(554)]());const n=.5*(t[i(521)]+t[i(520)]),e=.5*(t[i(517)]+t[i(546)]),r=this[i(497)]*this.currentSubray[i(519)]*Math.pow(2,t.iteration);this[i(451)].lerpVectors(t.pos0,t[i(475)],.5),this[i(456)][i(427)](t[i(445)],t.linPos1,.5);const o=this[i(456)];this[i(573)][i(454)](this[i(504)](o.x,o.y,o.z,r),this.simplexY(o.x,o.y,o.z,r),this.simplexZ(o.x,o.y,o.z,r)),this[i(573)].multiplyScalar(t.positionVariationFactor*s),this[i(573)][i(414)](this.middlePos);const a=this[i(537)]();a[i(516)][i(571)](t[i(516)]),a[i(475)][i(571)](this.newPos),a.linPos0[i(571)](t.linPos0),a[i(498)][i(571)](this[i(456)]),a[i(557)].copy(t.up0),a[i(443)][i(571)](t[i(443)]),a[i(521)]=t[i(521)],a.radius1=n,a[i(517)]=t[i(517)],a[i(546)]=e,a[i(512)]=t[i(512)]*this[i(457)][i(538)],a.iteration=t.iteration+1;const h=this[i(537)]();h[i(516)].copy(this[i(573)]),h[i(475)][i(571)](t[i(475)]),h[i(445)][i(571)](this[i(456)]),h[i(498)][i(571)](t[i(498)]),this.cross1[i(577)](t[i(557)],this[i(515)][i(582)]()),h[i(557)].crossVectors(this[i(515)],this[i(540)])[i(582)](),h[i(443)][i(571)](t[i(443)]),h[i(521)]=n,h[i(520)]=t[i(520)],h.fraction0=e,h[i(546)]=t[i(546)],h[i(512)]=t[i(512)]*this.currentSubray[i(538)],h[i(487)]=t[i(487)]+1,this[i(490)](a),this[i(490)](h)}[T(551)](t){const i=T;this[i(578)][i(435)](t[i(475)],t[i(516)])[i(582)](),this.isInitialSegment&&(this.currentCreateTriangleVertices(t[i(516)],t.up0,this.forwardsFill,t[i(521)],0),this[i(478)]=!1),this.currentCreateTriangleVertices(t.pos1,t[i(557)],this[i(578)],t[i(520)],t[i(546)]),this[i(452)]()}[T(468)](t,i,s,n){const e=T;this[e(581)][e(577)](i,s)[e(534)](n*C.COS30DEG),this.down[e(571)](i)[e(534)](-n*C.SIN30DEG);const r=this[e(438)],o=this[e(479)];r[e(571)](t)[e(556)](this.side)[e(414)](this[e(473)]),o[this[e(570)]++]=r.x,o[this[e(570)]++]=r.y,o[this[e(570)]++]=r.z,r[e(571)](t).add(this.side).add(this[e(473)]),o[this[e(570)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this[e(570)]++]=r.z,r.copy(i).multiplyScalar(n).add(t),o[this[e(570)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this[e(570)]++]=r.z,this[e(437)]+=3}createTriangleVerticesWithUVs(t,i,s,n,e){const r=T;this.side[r(577)](i,s).multiplyScalar(n*C[r(543)]),this.down[r(571)](i)[r(534)](-n*C[r(446)]);const o=this[r(438)],a=this[r(479)],h=this.uvs;o[r(571)](t).sub(this[r(581)])[r(414)](this[r(473)]),a[this[r(570)]++]=o.x,a[this[r(570)]++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(513)]++]=e,h[this.currentUVCoordinate++]=0,o.copy(t)[r(414)](this.side)[r(414)](this[r(473)]),a[this[r(570)]++]=o.x,a[this[r(570)]++]=o.y,a[this[r(570)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(513)]++]=.5,o[r(571)](i)[r(534)](n)[r(414)](t),a[this[r(570)]++]=o.x,a[this[r(570)]++]=o.y,a[this[r(570)]++]=o.z,h[this[r(513)]++]=e,h[this[r(513)]++]=1,this[r(437)]+=3}createPrismFaces(t){const i=T,s=this[i(434)];t=this[i(437)]-6,s[this[i(526)]++]=t+1,s[this.currentIndex++]=t+2,s[this[i(526)]++]=t+5,s[this[i(526)]++]=t+1,s[this.currentIndex++]=t+5,s[this.currentIndex++]=t+4,s[this[i(526)]++]=t+0,s[this[i(526)]++]=t+1,s[this[i(526)]++]=t+4,s[this[i(526)]++]=t+0,s[this.currentIndex++]=t+4,s[this[i(526)]++]=t+3,s[this.currentIndex++]=t+2,s[this[i(526)]++]=t+0,s[this[i(526)]++]=t+3,s[this[i(526)]++]=t+2,s[this[i(526)]++]=t+3,s[this[i(526)]++]=t+5}[T(493)](){const t=T,i=this[t(440)][t(436)];this[t(558)]=function(s,n){const e=t,r=n[e(457)],a=n[e(416)][e(544)],h=n[e(416)].subrayDutyCycle,c=n[e(416)][e(418)]&&0==r[e(465)]?-i()*a:o.lerp(r[e(484)],r[e(579)],s.fraction0)-i()*a,u=n[e(497)]-c,l=Math[e(492)](u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(411)]),r[e(465)]<n.maxSubrayRecursion&&n[e(522)]<n[e(486)]&&i()<d){const t=n[e(491)](),o=n.randomGenerator[e(539)]();t[e(415)]=p,n[e(440)][e(476)](p),t.recursion=r[e(465)]+1,t[e(499)]=Math[e(447)](1,r[e(499)]-1),t[e(445)][e(454)](i(),i(),i())[e(534)](1e3),t.linPos1[e(454)](i(),i(),i())[e(534)](1e3),t[e(557)][e(571)](r[e(557)]),t[e(443)].copy(r[e(443)]),t[e(521)]=s[e(521)]*n[e(416)][e(481)],t[e(520)]=Math.min(n[e(416)][e(548)],s[e(520)]*n.rayParameters[e(464)]),t[e(484)]=c+l*a,t[e(449)]=t[e(484)]+a*h,!n[e(416)][e(418)]&&0==r[e(465)]&&(t[e(484)]=Math[e(447)](t[e(484)],r.birthTime),t[e(449)]=Math[e(510)](t.deathTime,r[e(449)])),t[e(519)]=2*r.timeScale,t[e(538)]=r[e(538)],t.straightness=r[e(471)],t[e(563)]=r.propagationTimeFactor,t[e(483)]=r[e(483)],n[e(509)](s,r,t,n),n[e(440)][e(476)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(509)]=function(i,s,n,e){e[t(482)](i,s,n,.5,.6,.2)},this.subrayConePosition=function(s,o,h,c,u,l){const p=t;h[p(516)][p(571)](s.pos0),n.subVectors(o.pos1,o[p(516)]),e[p(571)](n)[p(582)](),n[p(534)](s[p(517)]+(1-s[p(517)])*(i()*c));const d=n.length();r[p(577)](o[p(557)],e);const m=2*Math.PI*i();r[p(534)](Math[p(417)](m)),a[p(571)](o[p(557)]).multiplyScalar(Math[p(485)](m)),h.pos1[p(571)](r)[p(414)](a).multiplyScalar(d*u*(l+i()*(1-l)))[p(414)](n)[p(414)](o.pos0)},this[t(482)]=function(s,o,h,c,u,l){const p=t;h.pos0[p(571)](s[p(516)]),n[p(435)](o.pos1,o.pos0),e[p(571)](n)[p(582)](),n.multiplyScalar(s[p(517)]+(1-s[p(517)])*((2*i()-1)*c));const d=n[p(554)]();r[p(577)](o[p(557)],e);const m=2*Math.PI*i();r.multiplyScalar(Math.cos(m)),a[p(571)](o.up0).multiplyScalar(Math.sin(m)),h[p(475)].copy(r)[p(414)](a).multiplyScalar(d*u*(l+i()*(1-l)))[p(414)](n)[p(414)](o[p(516)])}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[T(567)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[T(537)](){const t=T;return this[t(496)][this[t(555)]++]}copy(t){const i=T;return super.copy(t),this[i(426)](C[i(459)]({},t[i(416)])),this}[T(458)](){const t=T;return new(this[t(441)])(C[t(459)]({},this[t(416)]))}}function j(){const t=["vPos","pow","randomGenerator","constructor","21AIzZRa","up1","isLightningStrike","linPos0","SIN30DEG","max","positionAttribute","deathTime","trace","middlePos","createPrismFaces","timeFraction","set","35355419IIXAOh","middleLinPos","currentSubray","clone","copyParameters","ramification","destOffset","uvs","uvsAttribute","radius1Factor","recursion","simplexZ","setIndex","createTriangleVerticesWithoutUVs","type","index","straightness","update","down","RAY_UNBORN","pos1","setSeed","visible","isInitialSegment","vertices","7758444NazLOi","radius0Factor","subrayCylinderPosition","vanishingTimeFactor","birthTime","sin","maxSubrays","iteration","debu","maxRaySegments","fractalRayRecursive","addNewSubray","floor","createDefaultSubrayCreationCallbacks","apply","RAY_INITIALIZED","raySegments","time","linPos1","maxIterations","seedGenerator","return (function() ","error",'{}.constructor("return this")( )',"simplexX","chain","drawRange","ceil","generateUVs","onSubrayCreation","min","state","positionVariationFactor","currentUVCoordinate","updateMesh","forwards","pos0","fraction0","beginVanishingTime","timeScale","radius1","radius0","numSubrays","LightningStrike","createRandomGenerator","toString","currentIndex","string","maxSubrayRecursion","RAY_EXTINGUISHED","push","sourceOffset","isStatic","test","multiplyScalar","log","RAY_STEADY","getNewSegment","roughness","getSeed","cross1","7WiahQf","bind","COS30DEG","subrayPeriod","prototype","fraction1","position","minRadius","recursionProbability","fillMesh","createPrism","info","637479vahAvI","length","currentSegmentIndex","sub","up0","onDecideSubrayCreation","input","1TgBdbC","fractalRay","table","propagationTimeFactor","190eeDZQA","subrayDutyCycle","1227135meRSnv","createSegment","initSubray","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","currentCoordinate","copy","while (true) {}","newPos","3393024AXDibv","246316XsNXhZ","array","crossVectors","forwardsFill","endPropagationTime","subrays","side","normalize","subrayProbability","currentSegmentCallback","noiseSeed","add","seed","rayParameters","cos","isEternal","lerp","console","needsUpdate","warn","gger","call","setAttribute","init","lerpVectors","RAY_PROPAGATING","createMesh","action","3376838ozVlIX","usage","currentSeed","indices","subVectors","random","currentVertex"];return(j=function(){return t})()}function V(t){function i(t){const s=F;if(typeof t===s(527))return function(t){}[s(441)](s(572)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[s(441)](s(488)+s(423))[s(424)](s(430)):function(){return!1}.constructor(s(488)+"gger")[s(494)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}C[T(495)]=0,C[T(474)]=1,C[T(428)]=2,C[T(536)]=3,C.RAY_VANISHING=4,C.RAY_EXTINGUISHED=5,C[T(543)]=Math[T(417)](30*Math.PI/180),C[T(446)]=Math[T(485)](30*Math.PI/180);const D=z;function z(t,i){const s=G();return(z=function(t,i){return s[t-=303]})(t,i)}!function(t,i){const s=z,n=G();for(;;)try{if(850627===parseInt(s(323))/1*(parseInt(s(306))/2)+parseInt(s(376))/3+parseInt(s(365))/4+-parseInt(s(317))/5*(parseInt(s(316))/6)+-parseInt(s(327))/7+parseInt(s(355))/8+-parseInt(s(331))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){H(this,(function(){const t=z,i=new RegExp(t(341)),s=new RegExp(t(353),"i"),n=N("init");i[t(338)](n+t(350))&&s[t(338)](n+t(377))?N():n("0")}))()}();const E=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function G(){const t=["5523434LPqbDq","destOffset","copyParameters","size","8874846pADQuJ","onLightningDown","add","lightningMaxDuration","getNextLightningTime","constructor","lightningParameters","test","nextLightningTime","birthTime","function *\\( *\\)",'{}.constructor("return this")( )',"inited","minHeight","indexOf","geometry","lerp","RAY_PROPAGATING","deadLightningsMeshes","chain","bind","stormParams","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","7037856MaugbJ","lightningMinDuration","apply","state","table","copy","console","trace","deathTime","multiplyScalar","6718444IpCeRI","remove","lightningMaterial","maxHeight","random","gger","lightningsMeshes","return (function() ","isLightningStorm","action","push","1853340BoiqId","input","maxLightnings","lightningMaxPeriod","string","RAY_EXTINGUISHED","1292930FitdEw","sourceOffset","noiseSeed","lightningMinPeriod","warn","maxSlope","length","debu","while (true) {}","set","1437366TApQXT","25OOZiLV","log","toString","counter","pop","prototype","1BKxWXP","update","clone","onRayPosition"];return(G=function(){return t})()}E(void 0,(function(){const t=z,i=function(){const t=z;let i;try{i=Function(t(372)+t(342)+");")()}catch(s){i=window}return i}(),s=i[t(361)]=i[t(361)]||{},n=[t(318),t(310),"info",t(354),"exception",t(359),t(362)];for(let e=0;e<n[t(312)];e++){const i=E[t(336)][t(322)][t(351)](E),r=n[e],o=s[r]||i;i.__proto__=E[t(351)](E),i[t(319)]=o[t(319)][t(351)](o),s[r]=i}}))();class L extends a{constructor(t={}){const i=z;super(),this[i(373)]=!0,this[i(352)]=t,t.size=void 0!==t[i(330)]?t[i(330)]:1e3,t.minHeight=void 0!==t[i(344)]?t[i(344)]:80,t[i(368)]=void 0!==t.maxHeight?t[i(368)]:100,t[i(311)]=void 0!==t.maxSlope?t[i(311)]:1.1,t[i(378)]=void 0!==t[i(378)]?t[i(378)]:3,t[i(309)]=void 0!==t[i(309)]?t[i(309)]:3,t[i(303)]=void 0!==t[i(303)]?t[i(303)]:7,t.lightningMinDuration=void 0!==t[i(356)]?t[i(356)]:1,t[i(334)]=void 0!==t[i(334)]?t[i(334)]:2.5,this[i(337)]=C[i(329)](t[i(337)],t[i(337)]),this[i(337)].isEternal=!1,this[i(367)]=void 0!==t[i(367)]?t.lightningMaterial:new h({color:11599871}),void 0!==t.onRayPosition?this[i(326)]=t[i(326)]:this[i(326)]=function(s,n){const e=i;n[e(315)]((Math[e(369)]()-.5)*t.size,0,(Math[e(369)]()-.5)*t[e(330)]);const r=o[e(347)](t[e(344)],t.maxHeight,Math.random());s[e(315)](t[e(311)]*(2*Math[e(369)]()-1),1,t.maxSlope*(2*Math.random()-1))[e(364)](r)[e(333)](n)},this.onLightningDown=t.onLightningDown,this[i(343)]=!1,this.nextLightningTime=0,this[i(371)]=[],this[i(349)]=[];for(let s=0;s<this[i(352)][i(378)];s++){const t=new C(C[i(329)]({},this[i(337)])),s=new c(t,this[i(367)]);this[i(349)][i(375)](s)}}[D(324)](t){const i=D;if(!this[i(343)]&&(this[i(339)]=this.getNextLightningTime(t)*Math[i(369)](),this[i(343)]=!0),t>=this[i(339)]){const s=this[i(349)][i(321)]();if(s){const n=C[i(329)](s[i(346)].rayParameters,this.lightningParameters);n[i(340)]=t,n[i(363)]=t+o[i(347)](this[i(352)].lightningMinDuration,this[i(352)][i(334)],Math[i(369)]()),this.onRayPosition(n[i(307)],n[i(328)]),n[i(308)]=Math[i(369)](),this.add(s),this[i(371)][i(375)](s)}this[i(339)]=this[i(335)](t)}let s=0,n=this[i(371)][i(312)];for(;s<n;){const e=this.lightningsMeshes[s],r=e[i(346)],o=r.state;r[i(324)](t),o===C[i(348)]&&r.state>o&&this[i(332)]&&this[i(332)](r),r[i(358)]===C[i(305)]?(this.lightningsMeshes.splice(this[i(371)][i(345)](e),1),this[i(349)][i(375)](e),this[i(366)](e),n--):s++}}[D(335)](t){const i=D;return t+o[i(347)](this[i(352)].lightningMinPeriod,this.stormParams[i(303)],Math[i(369)]())/(this[i(352)][i(378)]+1)}[D(360)](t,i){const s=D;return super.copy(t,i),this[s(352)][s(330)]=t[s(352)].size,this[s(352)].minHeight=t[s(352)][s(344)],this.stormParams[s(368)]=t[s(352)][s(368)],this[s(352)].maxSlope=t[s(352)][s(311)],this[s(352)][s(378)]=t[s(352)].maxLightnings,this[s(352)][s(309)]=t[s(352)].lightningMinPeriod,this[s(352)][s(303)]=t[s(352)][s(303)],this.stormParams[s(356)]=t[s(352)][s(356)],this[s(352)][s(334)]=t.stormParams[s(334)],this[s(337)]=C[s(329)]({},t[s(337)]),this.lightningMaterial=t[s(352)].lightningMaterial,this[s(332)]=t[s(332)],this}[D(325)](){const t=D;return new(this[t(336)])(this[t(352)])[t(360)](this)}}function N(t){function i(t){const s=z;if(typeof t===s(304))return function(t){}[s(336)](s(314))[s(357)](s(320));1!==(""+t/t)[s(312)]||t%20==0?function(){return!0}[s(336)](s(313)+"gger").call(s(374)):function(){return!1}.constructor(s(313)+s(370))[s(357)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}const O=U;!function(t,i){const s=U,n=X();for(;;)try{if(876636===parseInt(s(372))/1*(parseInt(s(340))/2)+parseInt(s(324))/3+parseInt(s(367))/4*(-parseInt(s(365))/5)+-parseInt(s(344))/6*(-parseInt(s(321))/7)+parseInt(s(322))/8+parseInt(s(343))/9+-parseInt(s(342))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const Z=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[U(317)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Z(this,(function(){const t=U,i=new RegExp(t(318)),s=new RegExp(t(356),"i"),n=$(t(336));i.test(n+t(358))&&s[t(350)](n+t(371))?$():n("0")}))()}();const k=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[U(317)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function U(t,i){const s=X();return(U=function(t,i){return s[t-=317]})(t,i)}k(void 0,(function(){const t=U,i=function(){const t=U;let i;try{i=Function(t(354)+t(351)+");")()}catch(s){i=window}return i}(),s=i[t(366)]=i[t(366)]||{},n=[t(352),"warn","info",t(375),"exception","table",t(331)];for(let e=0;e<n.length;e++){const i=k[t(377)].prototype[t(327)](k),r=n[e],o=s[r]||i;i.__proto__=k[t(327)](k),i.toString=o[t(347)][t(327)](o),s[r]=i}}))();const Y=[O(355)];function X(){const t=["update","23809850MYSNmT","5373207ZDXowK","18ZojHQb","lightStorm","add","toString","MeshBasicMaterial","maxLightnings","test",'{}.constructor("return this")( )',"log","counter","return (function() ","object","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","chain","pos1","radius1","multiplyScalar","maxHeight","copy","action","8160235QPuJpM","console","4akcAaS","sourceOffset","roughness","subrayConePosition","input","2NgYFFt","#b0ffff","sub","error","subrayDutyCycle","constructor","apply","function *\\( *\\)","primitive","Vector3","2887913uZWbwI","3169416CrTkIg","rayParameters","3142659bTzRsb","minHeight","debu","bind","call","straightness","radius0","trace","color","dot","gger","set","init","size","stateObject","subrayPeriod","1611238MlHPEh"];return(X=function(){return t})()}const Q=g({__name:O(345),props:{color:{default:O(373)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=O,n=t,e=new u(n.color),r=new(l[i(348)])({color:e}),o=new(l[i(320)])(0,-1,0);let a=0;const h=new s,c=new s,d={roughness:n.roughness,straightness:n[i(329)],radius0:n[i(330)],radius1:n[i(360)],timeScale:n.timeScale,subrayPeriod:n[i(339)],subrayDutyCycle:n[i(376)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(370)](t,s,n,.6,.6,.5),a=e[r(323)][r(368)].y,h.subVectors(n[r(359)],e[r(323)][r(368)]);const u=o[r(333)](h);c[r(363)](o)[r(361)](u),h[r(374)](c);const l=u/a>.5?a/u:1;c[r(361)](l),h[r(346)](c),n.pos1.addVectors(h,e.rayParameters[r(368)])}},m=new L({size:n[i(337)],minHeight:n[i(325)],maxHeight:n[i(362)],maxSlope:.6,maxLightnings:n[i(349)],lightningParameters:d,lightningMaterial:r});y((()=>{const t=i,s=m.stormParams;s[t(337)]=n[t(337)],s[t(325)]=n[t(325)],s.maxHeight=n.maxHeight,r[t(332)][t(335)](n[t(332)]),d.roughness=n[t(369)],d[t(329)]=n[t(329)],d[t(330)]=n[t(330)],d[t(360)]=n[t(360)],d.timeScale=n.timeScale}));const{onLoop:f}=p();return f((({elapsed:t})=>{m[i(341)](t)})),(t,s)=>{const n=i;return b(),S(n(319),{object:v(m),renderOrder:9999},null,8,Y)}}});function $(t){function i(t){const s=U;if(typeof t===s(357))return function(t){}.constructor("while (true) {}").apply(s(353));1!==(""+t/t).length||t%20==0?function(){return!0}[s(377)](s(326)+s(334))[s(328)](s(364)):function(){return!1}.constructor(s(326)+s(334)).apply(s(338)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const B=K;!function(t,i){const s=K,n=q();for(;;)try{if(153248===-parseInt(s(400))/1*(-parseInt(s(411))/2)+-parseInt(s(418))/3*(parseInt(s(402))/4)+parseInt(s(430))/5*(-parseInt(s(387))/6)+-parseInt(s(424))/7+parseInt(s(434))/8+parseInt(s(420))/9*(parseInt(s(405))/10)+parseInt(s(427))/11)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const J=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(394)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){J(this,(function(){const t=K,i=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=it("init");i[t(409)](n+t(429))&&s[t(409)](n+t(395))?it():n("0")}))()}();const W=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(394)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function K(t,i){const s=q();return(K=function(t,i){return s[t-=386]})(t,i)}function q(){const t=["call","1136432QyfQOL","gger","6pTwoKL","console","roughness","color","exception","stateObject","粗糙度","apply","input","string","#92399e","__proto__","info","275278IYiVXf","warn","6504bQSFWg","trace","端部半径","4030iBexSh","lightningStorm","table","未部半径","test","error","2EliJky","radius1","return (function() ","while (true) {}","prototype","action","#6f6f6f","546DkoZLJ","counter","3789mtmmOS","debu","toString","straightness","1464057OsvUxF","value","minHeight","3872022JNivUG","bind","chain","1403330NdbAgM","length","constructor"];return(q=function(){return t})()}W(void 0,(function(){const t=K;let i;try{i=Function(t(413)+'{}.constructor("return this")( ));')()}catch(e){i=window}const s=i.console=i[t(388)]||{},n=["log",t(401),t(399),t(410),t(391),t(407),t(403)];for(let r=0;r<n[t(431)];r++){const i=W[t(432)][t(415)][t(428)](W),e=n[r],o=s[e]||i;i[t(398)]=W[t(428)](W),i.toString=o[t(422)][t(428)](o),s[e]=i}}))();const tt=g({__name:B(406),setup(i){const s=B,n=x({cellSize:60,cellThickness:1,cellColor:s(417),sectionColor:s(397),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:"#ffbde7",roughness:{label:s(393),value:.85,min:0,max:1,step:.01},straightness:{label:"直度度",value:.65,min:0,max:1,step:.01},radius0:{label:s(404),value:1,min:.1,max:10,step:.01},radius1:{label:s(408),value:.5,min:.1,max:10,step:.01},timeScale:{label:"时间缩放",value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const d=s;return b(),S(P,null,[w(t,{showAxesHelper:!1,showGridHelper:!1},{ability:I((()=>[w(Q,{minHeight:v(e).value,maxHeight:v(r).value,color:v(o)[d(425)],roughness:v(a)[d(425)],straightness:v(h)[d(425)],radius0:v(c)[d(425)],radius1:v(u).value,timeScale:v(l)[d(425)]},null,8,[d(426),"maxHeight",d(390),d(389),d(423),"radius0",d(412),"timeScale"]),w(v(M),_({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),w(v(m))],64)}}});function it(t){function i(t){const s=K;if(typeof t===s(396))return function(t){}[s(432)](s(414))[s(394)](s(419));1!==(""+t/t)[s(431)]||t%20==0?function(){return!0}[s(432)](s(421)+s(386))[s(433)](s(416)):function(){return!1}.constructor(s(421)+"gger")[s(394)](s(392)),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{tt as default};
