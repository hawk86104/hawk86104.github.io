import{cb as t,a3 as n,r as e,s as r}from"./three.RUAk_tvU1742436572432.js";import{a as o}from"./@tresjs.Uh9iM8du1742436572432.js";import{R as s,b as c}from"./all.three.R6hwj2TF1742436572432.js";import{d as i,a3 as a,a2 as u,w as f,o as l,H as p,N as h,u as d}from"./@vue.deO5D3Lf1742436572432.js";const m=g;function g(t,n){const e=_();return(g=function(t,n){return e[t-=222]})(t,n)}!function(t,n){const e=g,r=_();for(;;)try{if(760186===parseInt(e(242))/1*(-parseInt(e(246))/2)+parseInt(e(241))/3*(parseInt(e(226))/4)+-parseInt(e(284))/5*(-parseInt(e(240))/6)+parseInt(e(227))/7+parseInt(e(273))/8+parseInt(e(239))/9+parseInt(e(249))/10*(-parseInt(e(259))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const v=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){v(this,(function(){const t=g,n=new RegExp(t(262)),e=new RegExp(t(255),"i"),r=x(t(270));n.test(r+t(280))&&e.test(r+t(283))?x():r("0")}))()}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();w(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(260)+t(256)+");")()}catch(e){n=window}return n}(),e=n[t(244)]=n[t(244)]||{},r=[t(263),t(258),"info",t(231),t(279),t(233),t(238)];for(let o=0;o<r.length;o++){const n=w[t(265)].prototype.bind(w),s=r[o],c=e[s]||n;n[t(267)]=w[t(275)](w),n.toString=c[t(251)][t(275)](c),e[s]=n}}))();const y=[m(282)],b=[m(237)],I=[m(237)],j=i({__name:m(225),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:g}){const v=m;let w,j;const x=i,_=new s,E=new t(x[v(278)][0]-.5,x.size[1]);E[v(286)]=x[v(245)];const{map:R}=([w,j]=a((()=>o({map:x[v(268)]}))),w=await w,j(),w);R[v(285)]=n,R[v(257)]=n,R[v(228)][v(271)](6,3);const S=new c({map:R,reflectivity:x[v(254)]});S[v(253)][v(276)]={value:_.renderTarget[v(229)]},S[v(253)][v(230)]=_[v(274)],S[v(253)][v(223)]=_[v(232)];const U=new e(new r(x[v(278)][0],x[v(278)][1]),S);return U[v(252)].x=-Math.PI/2,U.add(_),U.onBeforeRender=(t,n,e)=>{const r=v;U[r(286)]=!1,x.ignoreObjects[r(269)]((t=>{const n=r;t[n(236)]&&(t[n(286)]=!1),t[n(247)]&&t.value[n(236)]&&(t.value[n(286)]=!1)})),_[r(243)](t,n,e),x[r(235)].forEach((t=>{const n=r;t[n(236)]&&(t[n(286)]=!0),t[n(247)]&&t[n(247)][n(236)]&&(t[n(247)][n(286)]=!0)})),U[r(286)]=!0},u((()=>{const t=v;x.reflectivity&&(S[t(253)].uReflectivity.value=x[t(254)])})),f((()=>x[v(245)]),(t=>{E[v(286)]=t})),g({reflector:_}),(t,n)=>{const e=v;return l(),p(e(234),{scale:x[e(282)]},[h(e(248),{object:d(U),"position-y":-.01},null,8,b),h("primitive",{object:d(E)},null,8,I)],8,y)}}});function x(t){function n(t){const e=g;if(typeof t===e(287))return function(t){}[e(265)](e(224)).apply(e(222));1!==(""+t/t)[e(266)]||t%20==0?function(){return!0}.constructor(e(277)+e(250))[e(281)](e(272)):function(){return!1}[e(265)](e(277)+e(250))[e(261)](e(264)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function _(){const t=["4hSFEfD","1532209AHXPmq","repeat","texture","tReflectBlur","error","textureMatrixUniform","table","TresGroup","ignoreObjects","isMesh","object","trace","5498451nWvXUs","4926ohSEGg","1151322DOZukC","2ycUnXW","update","console","showGridHelper","436478lVIVEo","value","primitive","7956670DGNNzJ","gger","toString","rotation","uniforms","reflectivity","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"wrapT","warn","22QIOSIx","return (function() ","apply","function *\\( *\\)","log","stateObject","constructor","length","__proto__","mapUrl","forEach","init","set","action","2454192NhGmqE","renderTargetUniform","bind","tReflect","debu","size","exception","chain","call","scale","input","7720SahQev","wrapS","visible","string","counter","uMatrix","while (true) {}","reflectorDUDV"];return(_=function(){return t})()}export{j as _};
