var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,o=(t,o)=>{for(var i in o||(o={}))e.call(o,i)&&a(t,i,o[i]);if(n)for(var i of n(o))r.call(o,i)&&a(t,i,o[i]);return t};import{U as i,c as s}from"./@tresjs.vA_UT8oy1734746792122.js";import{u,a as c,_ as l}from"./colorList.gyuo8gTz1734746792122.js";import{_ as p,a0 as f,ck as m,d4 as d,M as h}from"./three.1FILWcBb1734746792122.js";import{z as g}from"./three-custom-shader-material.uwcZNtd-1734746792122.js";import{P as x}from"./tweakpane.yHWGBmom1734746792122.js";import{d as y,b,a as w,r as _,w as v,o as I,D as j,J as z,u as T,j as A,g as E,x as S,F as M,V as D,f as L,H as k,I as R,m as O}from"./@vue.-THQH3GC1734746792122.js";import{z as V,x as F,a6 as P,a7 as Z,a8 as U,N as C,a9 as B,aa as N,t as $,$ as q,ab as G,v as H,_ as X}from"./@fesjs.Y0rSBxCv1734746792122.js";import"./@vueuse.lqJslAkC1734746792122.js";import"./pinia.fA-Uqav61734746792122.js";import"./vue-demi.C4xddsk91734746792122.js";import"./vue-router.PPpNBBl21734746792122.js";import"./lodash-es.kYt-_xTG1734746792122.js";import"./@qlin.yHhFDldE1734746792122.js";import"./@floating-ui.BPbuo5Gx1734746792122.js";import"./@juggle.7yjBMqoW1734746792122.js";const J=K;function K(t,n){const e=Q();return(K=function(t,n){return e[t-=352]})(t,n)}!function(t,n){const e=K,r=Q();for(;;)try{if(175388===-parseInt(e(425))/1+-parseInt(e(401))/2+parseInt(e(393))/3*(-parseInt(e(361))/4)+parseInt(e(363))/5+-parseInt(e(383))/6+parseInt(e(418))/7*(-parseInt(e(422))/8)+-parseInt(e(381))/9*(-parseInt(e(388))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=K,n=new RegExp(t(356)),e=new RegExp(t(419),"i"),r=st("init");n[t(421)](r+"chain")&&e.test(r+t(438))?st():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(){const t=["scale","colorsStops","apply","upperThreshold","lowerThreshold","yExtent","length","mesh","x轴缩放","change","input","material","gger","Matrix4","zLength","function *\\( *\\)","prototype","index","stateObject","primitive","68PNiLXT","z轴缩放","1134865sZINOO","return (function() ","min","string","warn","__proto__","copy","LineBasicMaterial","counter","LineSegments","debu","yLength","bind","matrix","table","visible","zExtent","y剖面","98019XFlGXc","exception","30114qgTuzo","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","TresGroup","console","constructor","520yYeZmj","byteArray","x剖面","windowHigh","\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ","60519WmDZXU","z剖面","addBinding","max","value","RASDimensions","floor","eTexture","279348pyYzgm","invert","EdgesGeometry","repaintAllSlices","info","BoxGeometry","call","windowLow","updateTransferFunction","xLength","computeMinMax","log","trace","toString","object","uniforms","scene","55293XmPtka","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","spacing","test","32NsZaBE","repaint","extractSlice","98687gVJeEy","error","y轴缩放"];return(Q=function(){return t})()}Y(void 0,(function(){const t=K;let n;try{n=Function(t(364)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n.console=n[t(386)]||{},r=[t(412),t(367),t(405),t(426),t(382),t(377),t(413)];for(let o=0;o<r.length;o++){const n=Y[t(387)][t(357)][t(375)](Y),a=r[o],i=e[a]||n;n[t(368)]=Y.bind(Y),n[t(414)]=i[t(414)][t(375)](i),e[a]=n}}))();const tt=[J(428),J(378)],nt=["scale"],et=["object"],rt=[J(415)],at=[J(415)],ot=[J(415)],it=y({__name:J(417),setup(t){const n=J,e=b(-1),r=b(-1),a=b(.6),i=w((()=>{const t=K;return!(e[t(397)]<=.01&&e[t(397)]>=-.01)&&(!(r[t(397)]<=.01&&r[t(397)]>=-.01)&&!(a[t(397)]<=.01&&a[t(397)]>=-.01))})),s=u(),l=c(),y=(t=>{const n=K,e=new d(l.xExtent,l[n(433)],l[n(379)],l.dataType[l.selectDataType].title,l[n(389)]);e[n(420)]=[1,1,1],e.RASDimensions=[Math[n(399)](e[n(410)]),Math[n(399)](e[n(374)]),Math[n(399)](e.zLength)],e[n(376)]=new(p[n(354)]),e.inverseMatrix=new h,e.inverseMatrix[n(369)](e.matrix)[n(402)]();const r=e[n(411)](),a=r[0],o=r[1];return e[n(408)]=a,e[n(391)]=o,e.lowerThreshold=a,e.upperThreshold=o,e})(l[n(389)]),A=new(p[n(372)])(new(p[n(403)])(new(p[n(406)])(y[n(410)],y.yLength,y.zLength)),new(p[n(370)])({color:6710886})),E=_({x:Math[n(399)](y[n(398)][0]/2),y:Math[n(399)](y.RASDimensions[1]/2),z:Math[n(399)](y[n(398)][2]/4)});y[n(391)]=136;const S=y[n(424)]("x",E.x),M=y.extractSlice("y",E.y),D=y[n(424)]("z",E.z),L={vertexShader:n(384),fragmentShader:n(392),uniforms:{eTexture:{value:s.updateTransferFunction()}},silent:!0,flatShading:!0,side:f,transparent:!0,depthTest:!0,depthWrite:!1,blending:m};S[n(435)].material=new g(o({baseMaterial:S.mesh[n(352)]},L)),M[n(435)][n(352)]=new g(o({baseMaterial:M.mesh.material},L)),D[n(435)][n(352)]=new g(o({baseMaterial:D[n(435)][n(352)]},L));const k=new x;return k[n(395)](e,n(397),{label:n(436),min:-2,max:2,step:.01}),k[n(395)](r,"value",{label:n(427),min:-2,max:2,step:.01}),k[n(395)](a,n(397),{label:n(362),min:-2,max:2,step:.01}),k[n(395)](E,"x",{label:n(390),min:0,max:y[n(398)][0],step:1}),k[n(395)](E,"y",{label:n(380),min:0,max:y[n(398)][1],step:1}),k.addBinding(E,"z",{label:n(394),min:0,max:y[n(398)][2],step:1}),k[n(395)](y,n(432),{label:"lowerThreshold",min:y[n(365)],max:y[n(396)],step:1}).on(n(437),(()=>{y.repaintAllSlices()})),k[n(395)](y,n(431),{label:n(431),min:y[n(365)],max:y[n(396)],step:1}).on("change",(()=>{y[n(404)]()})),k[n(395)](y,n(408),{label:n(408),min:y[n(365)],max:y[n(396)],step:1}).on(n(437),(()=>{y[n(404)]()})),k[n(395)](y,n(391),{label:n(391),min:y[n(365)],max:y[n(396)],step:1}).on(n(437),(()=>{y[n(404)]()})),v((()=>E),(t=>{const e=n;S[e(358)]=t.x,S[e(423)][e(407)](S),M[e(358)]=t.y,M[e(423)][e(407)](M),D.index=t.z,D[e(423)][e(407)](D)}),{deep:!0}),v((()=>s[n(429)]),(()=>{const t=n;S[t(435)][t(352)].uniforms[t(400)].value=s.updateTransferFunction(),M.mesh[t(352)][t(416)][t(400)].value=s[t(409)](),D[t(435)][t(352)][t(416)][t(400)].value=s.updateTransferFunction()}),{deep:!0,immediate:!0}),(t,o)=>{const s=n;return I(),j(s(385),{scale:[e[s(397)],r[s(397)],a[s(397)]],visible:i[s(397)]},[z(s(385),{scale:[1/T(y)[s(410)],1/T(y).xLength*T(y)[s(410)]/T(y)[s(374)],1/T(y).xLength*T(y)[s(410)]/T(y)[s(355)]]},[z(s(360),{object:T(S)[s(435)],renderOrder:1},null,8,et),z(s(360),{object:T(M)[s(435)],renderOrder:2},null,8,rt),z("primitive",{object:T(D)[s(435)],renderOrder:3},null,8,at),z(s(360),{object:T(A)},null,8,ot)],8,nt)],8,tt)}}});function st(t){function n(t){const e=K;if(typeof t===e(366))return function(t){}[e(387)]("while (true) {}")[e(430)](e(371));1!==(""+t/t)[e(434)]||t%20==0?function(){return!0}[e(387)](e(373)+e(353))[e(407)]("action"):function(){return!1}[e(387)](e(373)+e(353))[e(430)](e(359)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=ft,r=lt();for(;;)try{if(586819===-parseInt(e(233))/1+-parseInt(e(249))/2*(-parseInt(e(192))/3)+-parseInt(e(219))/4*(parseInt(e(214))/5)+-parseInt(e(248))/6+-parseInt(e(230))/7+parseInt(e(226))/8+parseInt(e(241))/9)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const ut=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ft(194)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ut(this,(function(){const t=ft,n=new RegExp(t(236)),e=new RegExp(t(197),"i"),r=mt(t(218));n[t(207)](r+t(206))&&e[t(207)](r+t(231))?mt():r("0")}))()}();const ct=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ft(194)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function lt(){const t=["演示参考头部👨‍🦲RawData数据,下载 : ","10px","setArrayBuffer","9nkIxZN","trace","apply","yExtent"," y轴长度： ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","selectDataType","image/x-panasonic-raw","warn","value"," 面剖体数据","action","uploadRef","2.8em","chain","test","constructor","bind","string","counter","div","result","1165njLYMz","__proto__","error","10px auto -3px","init","824JaAdMi","读取Raw原始数据","call","console"," z轴长度： ","xExtent","gger","2541496SoqvTw","prototype",'{}.constructor("return this")( )',"log","284403EquGJs","input","raw","548225cKiPuH","300px","请正确选择rawData文件","function *\\( *\\)","block","head_256x256x109_uint8.raw","modelValue","请正确输入数值","2135493AWnDKa","toString","zExtent","length","2.4em","11px","debu","3004932czLpsH","779686wNMNmP"," x轴长度： ","while (true) {}","exception","table","[change] param:","warning","stateObject"];return(lt=function(){return t})()}ct(void 0,(function(){const t=ft,n=function(){const t=ft;let n;try{n=Function("return (function() "+t(228)+");")()}catch(e){n=window}return n}(),e=n[t(222)]=n[t(222)]||{},r=[t(229),t(200),"info",t(216),t(252),t(253),t(193)];for(let a=0;a<r[t(244)];a++){const n=ct[t(208)][t(227)].bind(ct),o=r[a],i=e[o]||n;n[t(215)]=ct.bind(ct),n[t(242)]=i[t(242)][t(209)](i),e[o]=n}}))();const pt={key:0,class:"card-wrapper"};function ft(t,n){const e=lt();return(ft=function(t,n){return e[t-=190]})(t,n)}function mt(t){function n(t){const e=ft;if(typeof t===e(210))return function(t){}[e(208)](e(251)).apply(e(211));1!==(""+t/t)[e(244)]||t%20==0?function(){return!0}[e(208)](e(247)+e(225))[e(221)](e(203)):function(){return!1}[e(208)]("debugger")[e(194)](e(256)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const dt=X(y({__name:"importRawUI",setup(t){const n=ft,e=c();e[n(224)]=256,e[n(195)]=256,e[n(243)]=109;const r=b(null),a=b([]),o=t=>{const e=n;console.log(e(254),t)},i=()=>{var t;const e=n;a[e(201)][e(244)]>1&&(null==(t=r[e(201)])||t.removeFile(a[e(201)][0]))},s=()=>{const t=n;if(1!=a[t(201)].length)return H[t(255)](t(235)),!1;if(e[t(224)]<=0||e.yExtent<=0||e[t(243)]<=0)return H.warning(t(240)),!1;if(a.value[0][t(232)].type!==t(199))return H.warning("文件类型必须为:'image/x-panasonic-raw'"),!1;const r=new FileReader;return r.onload=function(n){const r=t,a=n.target[r(213)];e[r(191)](a)},r.readAsArrayBuffer(a[t(201)][0][t(232)]),!0};return(t,u)=>{const c=n;return T(e).byteArray?R("",!0):(I(),j(c(212),pt,[A(T(G),{header:c(220)},{default:E((()=>[u[10]||(u[10]=z(c(212),{style:{"margin-bottom":c(246)}},[S(c(257)),z("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},c(238))],-1)),A(T(V),{style:{"min-height":"2.8em"}},{default:E((()=>[A(T(F),{span:6,style:{"line-height":c(245)}},{default:E((()=>u[5]||(u[5]=[S(c(250))]))),_:1}),A(T(F),{span:18},{default:E((()=>[A(T(P),{precision:0,modelValue:T(e).xExtent,"onUpdate:modelValue":u[0]||(u[0]=t=>T(e).xExtent=t),autofocus:""},null,8,[c(239)])])),_:1})])),_:1}),A(T(V),{style:{"min-height":c(205)}},{default:E((()=>[A(T(F),{span:6,style:{"line-height":c(245)}},{default:E((()=>u[6]||(u[6]=[S(c(196))]))),_:1}),A(T(F),{span:18},{default:E((()=>[A(T(P),{precision:0,modelValue:T(e).yExtent,"onUpdate:modelValue":u[1]||(u[1]=t=>T(e)[c(195)]=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),A(T(V),{style:{"min-height":c(205)}},{default:E((()=>[A(T(F),{span:6,style:{"line-height":c(245)}},{default:E((()=>u[7]||(u[7]=[S(c(223))]))),_:1}),A(T(F),{span:18},{default:E((()=>[A(T(P),{precision:0,modelValue:T(e)[c(243)],"onUpdate:modelValue":u[2]||(u[2]=t=>T(e)[c(243)]=t),autofocus:""},null,8,[c(239)])])),_:1})])),_:1}),A(T(Z),{modelValue:T(e)[c(198)],"onUpdate:modelValue":u[3]||(u[3]=t=>T(e).selectDataType=t),style:{"margin-bottom":c(190)}},{default:E((()=>[(I(!0),j(M,null,D(T(e).dataType,((t,n)=>{const e=c;return I(),L(T(U),{key:n,value:n},{default:E((()=>[A(T(C),{style:{"max-width":e(234)}},{default:E((()=>[S(k(t.title),1)])),_:2},1024)])),_:2},1032,[e(201)])})),128))])),_:1},8,[c(239)]),A(T(B),{ref_key:c(204),ref:r,fileList:a[c(201)],"onUpdate:fileList":u[4]||(u[4]=t=>a[c(201)]=t),onChange:o,httpRequest:i},{default:E((()=>[A(T(N),null,{default:E((()=>u[8]||(u[8]=[S(" 点击或者拖拽rawData文件到此区域 ")]))),_:1})])),_:1},8,["fileList"]),A(T($),{style:{display:c(237),margin:c(217)},onClick:s},{icon:E((()=>[A(T(q))])),default:E((()=>[u[9]||(u[9]=S(c(202)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]);function ht(){const t=["25297943YtMkPI","10FOGFUI","input","function *\\( *\\)","rgb(0, 255, 255)","length","apply","71WnDPll","return (function() ","chain","string","5698410IsSBIH","test","error","bind","exception","while (true) {}","rgba(0, 0, 0, 0)","table","1365078EtHbxK","console","call","1154712gCanrZ","toString","rawDataSurfaceSection","action","13056477xUKSMU","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","4nsCnTV","#201919","init","99kEzSdI","52612clAnhg","1943853DxeAAd","rgb(255, 0, 0)","debu","gger","trace","counter","TresPerspectiveCamera","byteArray","constructor"];return(ht=function(){return t})()}const gt=bt;!function(t,n){const e=bt,r=ht();for(;;)try{if(978817===parseInt(e(532))/1*(parseInt(e(515))/2)+parseInt(e(516))/3*(-parseInt(e(511))/4)+parseInt(e(493))/5+-parseInt(e(501))/6+-parseInt(e(508))/7+-parseInt(e(504))/8*(parseInt(e(514))/9)+-parseInt(e(526))/10*(-parseInt(e(525))/11))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const xt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[bt(531)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){xt(this,(function(){const t=bt,n=new RegExp(t(528)),e=new RegExp(t(509),"i"),r=_t(t(513));n[t(494)](r+t(491))&&e[t(494)](r+t(527))?_t():r("0")}))()}();const yt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function bt(t,n){const e=ht();return(bt=function(t,n){return e[t-=490]})(t,n)}yt(void 0,(function(){const t=bt;let n;try{n=Function(t(490)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n[t(502)]=n[t(502)]||{},r=["log","warn",t(510),t(495),t(497),t(500),t(520)];for(let o=0;o<r[t(530)];o++){const n=yt[t(524)].prototype[t(496)](yt),a=r[o],i=e[a]||n;n.__proto__=yt[t(496)](yt),n[t(505)]=i[t(505)][t(496)](i),e[a]=n}}))();const wt=y({__name:gt(506),setup(t){const n=gt,e=_({clearColor:n(512),antialias:!0}),r=c();return(t,a)=>{const o=n;return I(),j(M,null,[T(r).byteArray?(I(),L(l,{key:0,curColorList:[[o(499),0],[o(529),.4],[o(517),1]]})):R("",!0),A(T(s),O(e,{"window-size":""}),{default:E((()=>[a[0]||(a[0]=z(o(522),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),A(T(i)),T(r)[o(523)]?(I(),L(it,{key:0})):R("",!0)])),_:1},16),A(dt)],64)}}});function _t(t){function n(t){const e=bt;if(typeof t===e(492))return function(t){}[e(524)](e(498))[e(531)](e(521));1!==(""+t/t).length||t%20==0?function(){return!0}[e(524)](e(518)+e(519))[e(503)](e(507)):function(){return!1}[e(524)]("debu"+e(519))[e(531)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{wt as default};
