import{c0 as t,a3 as e,s as n,t as r}from"./three.5octV-9b1728467445434.js";import{z as o}from"./@tresjs.ED4ePb8T1728467445434.js";import{R as s,b as i}from"./all.three.HbW3WA7Q1728467445434.js";import{d as c,a4 as a,a3 as u,w as f,o as l,E as p,L as d,u as m}from"./@vue.JNsx1iN61728467445434.js";const g=b;!function(t,e){const n=b,r=w();for(;;)try{if(347052===parseInt(n(321))/1+parseInt(n(338))/2+-parseInt(n(320))/3+-parseInt(n(332))/4*(-parseInt(n(347))/5)+parseInt(n(317))/6*(parseInt(n(336))/7)+-parseInt(n(318))/8+-parseInt(n(351))/9*(-parseInt(n(315))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const h=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(339)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=b,e=new RegExp(t(308)),n=new RegExp(t(343),"i"),r=_(t(354));e[t(326)](r+t(344))&&n[t(326)](r+t(313))?_():r("0")}))()}();const v=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(339)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function w(){const t=["gger","warn","action","function *\\( *\\)","repeat","isMesh","value","visible","input","primitive","13980nSHuTY","tReflectBlur","7578waFCJZ","4156000ssefpU","uniforms","1019445NJJGSa","55515bCnfvx","reflectorDUDV","showGridHelper","info","scale","test","constructor",'{}.constructor("return this")( )',"log","wrapT","counter","4lsFsvZ","set","error","reflectivity","315nIiVCF","console","219308kQgSIG","apply","forEach","toString","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","bind","uMatrix","2223675mBgEhj","while (true) {}","texture","renderTarget","3474OBDABd","object","wrapS","init","debu","length","call","__proto__","onBeforeRender","uReflectivity","string","size","add","ignoreObjects","renderTargetUniform"];return(w=function(){return t})()}function b(t,e){const n=w();return(b=function(t,e){return n[t-=295]})(t,e)}v(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(342)+t(328)+");")()}catch(n){e=window}return e}(),n=e[t(337)]=e.console||{},r=[t(329),t(306),t(324),t(334),"exception","table","trace"];for(let o=0;o<r[t(295)];o++){const e=v[t(327)].prototype[t(345)](v),s=r[o],i=n[s]||e;e[t(297)]=v[t(345)](v),e[t(341)]=i[t(341)][t(345)](i),n[s]=e}}))();const j=[g(325)],y=[g(352)],I=[g(352)],x=c({__name:g(322),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:h}){const v=g;let w,b;const x=c,_=new s,z=new t(x[v(301)][0]-.5,x.size[1]);z.visible=x[v(323)];const{map:R}=([w,b]=a((()=>o({map:x.mapUrl}))),w=await w,b(),w);R[v(353)]=e,R[v(330)]=e,R[v(309)][v(333)](6,3);const B=new i({map:R,reflectivity:x[v(335)]});B[v(319)].tReflect={value:_[v(350)][v(349)]},B[v(319)][v(316)]=_[v(304)],B[v(319)][v(346)]=_.textureMatrixUniform;const U=new n(new r(x.size[0],x[v(301)][1]),B);return U.rotation.x=-Math.PI/2,U[v(302)](_),U[v(298)]=(t,e,n)=>{const r=v;U.visible=!1,x.ignoreObjects[r(340)]((t=>{const e=r;t[e(310)]&&(t[e(312)]=!1),t.value&&t[e(311)][e(310)]&&(t[e(311)][e(312)]=!1)})),_.update(t,e,n),x[r(303)][r(340)]((t=>{const e=r;t[e(310)]&&(t[e(312)]=!0),t.value&&t[e(311)][e(310)]&&(t.value[e(312)]=!0)})),U.visible=!0},u((()=>{const t=v;x.reflectivity&&(B.uniforms[t(299)][t(311)]=x[t(335)])})),f((()=>x[v(323)]),(t=>{z[v(312)]=t})),h({reflector:_}),(t,e)=>{const n=v;return l(),p("TresGroup",{scale:x.scale},[d(n(314),{object:m(U),"position-y":-.01},null,8,y),d(n(314),{object:m(z)},null,8,I)],8,j)}}});function _(t){function e(t){const n=b;if(typeof t===n(300))return function(t){}.constructor(n(348))[n(339)](n(331));1!==(""+t/t)[n(295)]||t%20==0?function(){return!0}[n(327)](n(355)+"gger")[n(296)](n(307)):function(){return!1}[n(327)](n(355)+n(305))[n(339)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
