import{D as t,o as n}from"./@tresjs.GCV-1VTd1743149128717.js";import{P as e}from"./tweakpane.ivGeiIdz1743149128717.js";import{_ as o,ab as r,ar as a,as as s}from"./three.hBhj0ayh1743149128717.js";import{_ as i}from"./heatmap.js-fix.rGj8nQah1743149128717.js";import{d as c,a3 as u,a2 as p,o as l,H as f,u as d,r as h,e as m,f as g,g as v,N as y,j as b,al as w,aj as x,ak as _,m as j}from"./@vue.L-brCdZe1743149128717.js";import"./postprocessing.JYKQQ2FM1743149128717.js";import"./@vueuse.K3OHOx4F1743149128717.js";import"./@amap.vd0D2A1W1743149128717.js";const I=A;function C(){const t=['{}.constructor("return this")( )',"heatmapClickCom","function *\\( *\\)","prototype","apply","10343232qogGLs","computeBoundingBox","/model/heatmap/test.glb","action","deleteAttribute","0.8","setDataMax","string","addData","position","./draco/","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","init","body","radius","96OzPOeh","116VXoNAr","while (true) {}","onclick","canvas","106626osqinO","exception","object","none","constructor","set","Texture","absolute","__proto__","style","https://opensource.cdn.icegl.cn","log","createElement","input","length","return (function() ","BufferAttribute","37495773afpcGB","_renderer","6993200fNucib","ShaderMaterial","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","call","stateObject","needsUpdate","error","19156MvDHSx","scale","table","9970352xAwLIR","toString","show2dCanvas","chain","mesh_0","6411580yHlaZm","console","primitive","attributes","1px solid #5384ff","trace","appendChild","create","test","push","gger","bind","debu","getZ","setScalar","resource.cos"];return(C=function(){return t})()}!function(t,n){const e=A,o=C();for(;;)try{if(880437===parseInt(e(328))/1*(-parseInt(e(374))/2)+-parseInt(e(378))/3*(-parseInt(e(373))/4)+parseInt(e(336))/5+parseInt(e(357))/6+parseInt(e(331))/7+parseInt(e(397))/8+-parseInt(e(395))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=A,n=new RegExp(t(354)),e=new RegExp(t(368),"i"),o=R(t(370));n.test(o+t(334))&&e[t(344)](o+t(391))?R():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=C();return A=function(t,n){return e[t-=328]},A(t,n)}k(void 0,(function(){const t=A;let n;try{n=Function(t(393)+t(352)+");")()}catch(r){n=window}const e=n[t(337)]=n[t(337)]||{},o=[t(389),"warn","info",t(403),t(379),t(330),t(341)];for(let a=0;a<o[t(392)];a++){const n=k[t(382)][t(355)][t(347)](k),r=o[a],s=e[r]||n;n[t(386)]=k[t(347)](k),n[t(332)]=s[t(332)].bind(s),e[r]=n}}))();const M=[I(380)],z=c({__name:I(353),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(388)+e(359),{draco:!0,decoderPath:e(367)}))),a=await a,s(),a);h[e(335)][e(366)][e(383)](-5088.96,-3.08,39374.7),h.mesh_0[e(329)][e(350)](.01);let m=null,g=null,v=null;g=new(o[e(384)])((()=>{const t=e;return v=document[t(390)]("heatmap-canvas"),v[t(387)].position=t(385),v[t(387)].top="40px",v[t(387)].left="0",document[t(371)][t(342)](v),m=i[t(343)]({container:v,width:256,height:256,blur:t(362),radius:c[t(372)]}),m[t(396)][t(377)].style.border=t(340),m[t(396)][t(377)][t(376)]=function(n){const e=t;m[e(365)]({x:n.layerX,y:n.layerY,value:1,radius:c[e(372)]}),m[e(363)](1),g&&(g[e(402)]=!0)},m})()[e(396)][e(377)]);const y={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(399),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},b=new(o[e(398)])(y);h[e(335)].material=b;return(t=>{const n=e;t[n(358)]();const{max:r,min:a}=t.boundingBox;t[n(361)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(339)][n(366)].count;e++)c[n(345)]((t[n(339)][n(366)].getX(e)-a.x)/s),c[n(345)]((t[n(339)][n(366)][n(349)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(394)])(u,2))})(h.mesh_0.geometry),p((()=>{const t=e;v[t(387)].display=""+(c[t(333)]?"block":t(381))})),(t,n)=>{const o=e;return l(),f(o(338),{object:d(h)[o(335)]},null,8,M)}}});function R(t){function n(t){const e=A;if(typeof t===e(364))return function(t){}.constructor(e(375)).apply(e(369));1!==(""+t/t).length||t%20==0?function(){return!0}[e(382)](e(348)+"gger")[e(400)](e(360)):function(){return!1}[e(382)](e(348)+e(346)).apply(e(401)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Z=E;function B(){const t=["trace","counter","3035439uIQSNZ","toString","2466546gJjZrm","length","info","#030311","input","__proto__","点击左侧蓝色画框","console","action","chain","log","736905pYbwFU","test","return (function() ","7165728jMCbRb","12kEdkmz","table","257426JjAcYR","TresPerspectiveCamera","warn","while (true) {}","constructor","gger","function *\\( *\\)","addButton","圆圈的大小",'{}.constructor("return this")( )',"heatmapClick","2RMoanE","TresCanvas","2837653SIhrpI","radius","显示二维图","apply","exception","bind","string","4118608fZEvwU","#ffffff","addBinding","call","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(B=function(){return t})()}function E(t,n){const e=B();return E=function(t,n){return e[t-=202]},E(t,n)}!function(t,n){const e=E,o=B();for(;;)try{if(619566===parseInt(e(229))/1*(parseInt(e(240))/2)+parseInt(e(212))/3+-parseInt(e(202))/4+parseInt(e(223))/5+parseInt(e(227))/6*(-parseInt(e(242))/7)+parseInt(e(226))/8+parseInt(e(210))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(245)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=E,n=new RegExp(t(235)),e=new RegExp(t(207),"i"),o=U("init");n.test(o+t(221))&&e[t(224)](o+t(216))?U():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(245)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=E;let n;try{n=Function(t(225)+t(238)+");")()}catch(r){n=window}const e=n[t(219)]=n[t(219)]||{},o=[t(222),t(231),t(214),t(206),t(246),t(228),t(208)];for(let a=0;a<o[t(213)];a++){const n=D[t(233)].prototype[t(247)](D),r=o[a],s=e[r]||n;n[t(217)]=D.bind(D),n[t(211)]=s.toString.bind(s),e[r]=n}}))();const T=c({__name:Z(239),setup(t){const o=Z,r={clearColor:o(215),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(204)](i,"show2dCanvas",{label:o(244)}),c[o(204)](i,o(243),{label:o(237),min:.1,max:30,step:.1}),c[o(236)]({title:o(218)}),(t,e)=>{const a=o,s=m(a(241));return l(),g(s,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(230),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y("TresDirectionalLight",{position:[5,10,7.5],color:a(203),intensity:5},null,-1)),e[2]||(e[2]=y("TresGridHelper",{args:[50,25]},null,-1)),(l(),g(w,null,{default:v((()=>[b(z,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function U(t){function n(t){const e=E;if(typeof t===e(248))return function(t){}[e(233)](e(232))[e(245)](e(209));1!==(""+t/t)[e(213)]||t%20==0?function(){return!0}[e(233)]("debu"+e(234))[e(205)](e(220)):function(){return!1}[e(233)]("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{T as default};
