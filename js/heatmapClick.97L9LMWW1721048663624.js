import{b as t,d as n}from"./@tresjs.Xiq_TH801721048663624.js";import{P as e}from"./tweakpane.yHWGBmom1721048663624.js";import{a5 as r,aa as o,ac as a}from"./three.HEgnMaTu1721048663624.js";import{_ as s}from"./heatmap.js-fix.5ScEVWGH1721048663624.js";import{d as i,a3 as c,a2 as u,o as l,D as p,u as f,r as d,e as h,f as g,g as m,j as v,al as y,aj as w,ak as b,m as x,J as I}from"./@vue.ApkyOKE71721048663624.js";import"./@vueuse.2IVIyoVR1721048663624.js";import"./@amap.IXBtourJ1721048663624.js";const _=j;function j(t,n){const e=C();return(j=function(t,n){return e[t-=430]})(t,n)}function C(){const t=["table","deleteAttribute","layerX","computeBoundingBox","5SRSBpG","block","layerY","canvas","1896pVNalo","call","./draco/","border","1071dZRBYB","heatmapClickCom","1842ZoYPsr","set","_renderer","info","input","gger","boundingBox","position","3009310OwuZSg","trace","940372HXfzXu","ShaderMaterial","radius","push","debu","warn","count","1px solid #5384ff","__proto__","return (function() ","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",'{}.constructor("return this")( )',"mesh_0","addData","onclick","toString","constructor","needsUpdate","left","display","length","action","test","17271BqNLAQ","counter","DoubleSide","2724557ZIzqCv","chain","bind","error","stateObject","BufferAttribute","appendChild","function *\\( *\\)","heatmap-canvas","string","setScalar","console","object","22564VEyqAD","style","attributes","log","primitive","show2dCanvas","material","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","scale","294192JlovhS","30nUsICF","setAttribute","40px","init","Texture","apply"];return(C=function(){return t})()}!function(t,n){const e=j,r=C();for(;;)try{if(259645===-parseInt(e(445))/1*(parseInt(e(455))/2)+-parseInt(e(454))/3+-parseInt(e(485))/4*(-parseInt(e(465))/5)+-parseInt(e(475))/6*(parseInt(e(473))/7)+parseInt(e(469))/8*(parseInt(e(508))/9)+parseInt(e(483))/10+-parseInt(e(432))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[j(460)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=j,n=new RegExp(t(439)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Z(t(458));n[t(507)](r+t(433))&&e.test(r+t(479))?Z():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[j(460)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();B(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(494)+t(496)+");")()}catch(e){n=window}return n}(),e=n[t(443)]=n[t(443)]||{},r=[t(448),t(490),t(478),t(435),"exception",t(461),t(484)];for(let o=0;o<r[t(505)];o++){const n=B[t(501)].prototype[t(434)](B),a=r[o],s=e[a]||n;n[t(493)]=B[t(434)](B),n[t(500)]=s.toString[t(434)](s),e[a]=n}}))();const A=[_(444)],M=i({__name:_(474),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=_;let o,a;const i=n,{nodes:d}=([o,a]=c((()=>t(e(452),{draco:!0,decoderPath:e(471)}))),o=await o,a(),o);d[e(497)][e(482)][e(476)](-5088.96,-3.08,39374.7),d.mesh_0[e(453)][e(442)](.01);let h=null,g=null,m=null;g=new(r[e(459)])((()=>{const t=e;return m=document.createElement(t(440)),m.style[t(482)]="absolute",m.style.top=t(457),m[t(446)][t(503)]="0",document.body[t(438)](m),h=s.create({container:m,width:256,height:256,blur:".8",radius:i[t(487)]}),h._renderer[t(468)].style[t(472)]=t(492),h[t(477)].canvas[t(499)]=function(n){const e=t;h[e(498)]({x:n[e(463)],y:n[e(467)],value:1,radius:i[e(487)]}),h.setDataMax(1),g&&(g[e(502)]=!0)},h})()[e(477)].canvas);const v={vertexShader:e(495),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(431)]},y=new(r[e(486)])(v);d[e(497)][e(451)]=y;return(t=>{const n=e;t[n(464)]();const{max:o,min:a}=t[n(481)];t[n(462)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(447)][n(482)][n(491)];e++)c[n(488)]((t[n(447)][n(482)].getX(e)-a.x)/s),c[n(488)]((t[n(447)][n(482)].getZ(e)-a.z)/i);const u=new Float32Array(c);t[n(456)]("uv",new(r[n(437)])(u,2))})(d[e(497)].geometry),u((()=>{const t=e;m[t(446)][t(504)]=""+(i[t(450)]?t(466):"none")})),(t,n)=>{const r=e;return l(),p(r(449),{object:f(d)[r(497)]},null,8,A)}}});function Z(t){function n(t){const e=j;if(typeof t===e(441))return function(t){}[e(501)]("while (true) {}")[e(460)](e(430));1!==(""+t/t).length||t%20==0?function(){return!0}[e(501)](e(489)+e(480))[e(470)](e(506)):function(){return!1}[e(501)]("debu"+e(480))[e(460)](e(436)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=k;!function(t,n){const e=k,r=T();for(;;)try{if(411578===parseInt(e(167))/1*(-parseInt(e(144))/2)+-parseInt(e(182))/3+parseInt(e(168))/4*(parseInt(e(140))/5)+-parseInt(e(150))/6+-parseInt(e(163))/7+parseInt(e(175))/8*(parseInt(e(171))/9)+parseInt(e(146))/10*(parseInt(e(149))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[k(172)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function k(t,n){const e=T();return(k=function(t,n){return e[t-=137]})(t,n)}!function(){R(this,(function(){const t=k,n=new RegExp(t(183)),e=new RegExp(t(160),"i"),r=F(t(186));n[t(184)](r+t(147))&&e[t(184)](r+t(162))?F():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();U(void 0,(function(){const t=k;let n;try{n=Function("return (function() "+t(156)+");")()}catch(o){n=window}const e=n[t(155)]=n[t(155)]||{},r=[t(173),t(143),t(181),"error",t(137),t(153),t(161)];for(let a=0;a<r[t(179)];a++){const n=U[t(142)][t(154)][t(164)](U),o=r[a],s=e[o]||n;n[t(139)]=U[t(164)](U),n[t(169)]=s[t(169)][t(164)](s),e[o]=n}}))();const D=I(z(152),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),E=I(z(174),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1),P=I(z(158),{args:[50,25]},null,-1);function T(){const t=["heatmapClick","info","398577WKiFYE","function *\\( *\\)","test","#030311","init","exception","call","__proto__","30065NjoBLP","string","constructor","warn","10JRRMMg","radius","10UGwjtq","chain","TresCanvas","11334026HhEuZM","46254AcUnfa","stateObject","TresPerspectiveCamera","table","prototype","console",'{}.constructor("return this")( )',"addButton","TresGridHelper","显示二维图","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","input","5662412ndZGKd","bind","counter","show2dCanvas","54890IprHXP","236tqCYrA","toString","gger","33633UxSGcy","apply","log","TresDirectionalLight","536nfgSiG","圆圈的大小","点击左侧蓝色画框","debu","length"];return(T=function(){return t})()}const q=i({__name:z(180),setup(t){const r=z,s={clearColor:r(185),shadows:!0,alpha:!0,outputColorSpace:o,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,r(166),{label:r(159)}),c.addBinding(i,r(145),{label:r(176),min:.1,max:30,step:.1}),c[r(157)]({title:r(177)}),(t,e)=>{const o=h(r(148));return l(),g(o,x(s,{"window-size":""}),{default:m((()=>[D,v(f(n),{autoRotate:!1,autoRotateSpeed:2}),E,P,(l(),g(y,null,{default:m((()=>[v(M,w(b(i)),null,16)])),_:1}))])),_:1},16)}}});function F(t){function n(t){const e=k;if(typeof t===e(141))return function(t){}.constructor("while (true) {}")[e(172)](e(165));1!==(""+t/t)[e(179)]||t%20==0?function(){return!0}.constructor(e(178)+"gger")[e(138)]("action"):function(){return!1}[e(142)](e(178)+e(170))[e(172)](e(151)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
