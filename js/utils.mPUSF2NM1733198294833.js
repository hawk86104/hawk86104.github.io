import{a as t,B as n,s as e,c0 as o,C as r,k as s,a0 as i}from"./three.8iJMi2lU1733198294833.js";import{w as c}from"./@fesjs.X1U4uwri1733198294833.js";import{b as a}from"./@tresjs.sklxXn0u1733198294833.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.oXi0pqYE1733198294833.js";!function(t,n){const e=h,o=g();for(;;)try{if(940512===parseInt(e(188))/1*(-parseInt(e(230))/2)+parseInt(e(241))/3*(parseInt(e(192))/4)+parseInt(e(227))/5+parseInt(e(197))/6+parseInt(e(201))/7+parseInt(e(218))/8+-parseInt(e(195))/9*(parseInt(e(208))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(199)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(){const t=["catch","features","push","count","side","max","4370883iABZVA","depthTest","console","set","getX","__proto__","uniforms","debu","random","counter","log","info","deleteAttribute","material","computeBoundingBox","function *\\( *\\)","bind","config","setAttribute","position","Vector3","26owuGLf","action","negate","forEach","4GDRxrG","getSize","clone","549otwwTm","value","3834222UFxsSy","gger","apply","children","1101408eGlSiE",'{}.constructor("return this")( )',"applyMatrix4","attributes","sub","return (function() ","constructor","235330zXBcbA","then","expandByObject","getY","geometry","stateObject","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","boundingBox","transparent","4781528XxMNAq","prototype","getCenter","input","center","length","depthWrite","trace","copy","772130rFfSkN","reflectivity","computeBoundsTree","48418DeIaJV","toString","chain","error","test"];return(g=function(){return t})()}function h(t,n){const e=g();return(h=function(t,n){return e[t-=187]})(t,n)}!function(){l(this,(function(){const t=h,n=new RegExp(t(256)),e=new RegExp(t(215),"i"),o=j("init");n.test(o+t(232))&&e[t(234)](o+t(221))?j():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(199)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=h;let n;try{n=Function(t(206)+t(202)+");")()}catch(r){n=window}const e=n[t(243)]=n[t(243)]||{},o=[t(251),"warn",t(252),t(233),"exception","table",t(225)];for(let s=0;s<o[t(223)];s++){const n=m[t(207)].prototype[t(257)](m),r=o[s],i=e[r]||n;n[t(246)]=m[t(257)](m),n[t(231)]=i[t(231)].bind(i),e[r]=n}}))();const d=(n,e=!1)=>{const o=h;n[o(255)]();const{max:r,min:s}=n[o(216)];n[o(253)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(204)].position[o(238)];t++)e?(a[o(237)]((n[o(204)][o(260)][o(245)](t)-(s.x+r.x)/2)/i),a[o(237)]((n[o(204)].position.getY(t)-(s.y+r.y)/2)/c)):(a[o(237)]((n[o(204)][o(260)][o(245)](t)-s.x)/i),a.push((n[o(204)].position[o(211)](t)-s.y)/c));const u=new Float32Array(a);n[o(259)]("uv",new t(u,2))},w=(t,n)=>new Promise(((e,o)=>{const r=h;c(t,{},{method:"get",mergeRequest:!0})[r(209)]((t=>{const o=r;n&&e(t[n]),e(t[o(236)])}))[r(235)]((t=>{console.error(t),o(t)}))})),x=t=>{const n=h,e=(new THREE.Box3).setFromObject(t),o=new(THREE[n(187)]);e[n(220)](o),t[n(200)][n(191)]((t=>{t.position.sub(o)})),t[n(260)][n(226)](o[n(190)]())},y=()=>{const t=h;n[t(219)][t(229)]=u,n[t(219)].disposeBoundsTree=f,e[t(219)].raycast=p},b=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(212)][n(194)]();d(c),c[n(229)]();const u=new o(c,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(254)][n(217)]=!0,u[n(254)][n(224)]=!0,u[n(254)][n(242)]=!0,u[n(254)][n(239)]=i,u[n(254)][n(247)][n(258)][n(196)].w=20,u[n(254)][n(247)][n(228)].value=.46,u};function _(t){const n=h,e=[];for(let r=0;r<t[n(223)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(223)];r++)o.add(e[r]);o.divideScalar(e[n(223)]);for(let r=0;r<e.length;r++)e[r][n(205)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=h;if(typeof t===e(214))return function(t){}[e(207)]("while (true) {}")[e(199)](e(250));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(248)+e(198)).call(e(189)):function(){return!1}[e(207)]("debu"+e(198))[e(199)](e(213)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,_ as g,y as i,w as l,d as r,b as s};
