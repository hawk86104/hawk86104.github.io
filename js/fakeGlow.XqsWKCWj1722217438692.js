import{d as n,H as t}from"./@tresjs.vs5lCFs11722217438692.js";import{k as o,ba as e,C as r,aN as i,Z as a,a6 as s}from"./three.ej3u8izI1722217438692.js";import{P as l}from"./tweakpane.yHWGBmom1722217438692.js";import{d as c,r as u,a1 as f,e as p,o as d,f as g,g as m,j as v,u as w,J as h,al as y}from"./@vue.Q1VpS3901722217438692.js";import"./@vueuse.mG9rDBoo1722217438692.js";!function(n,t){for(var o=j,e=x();;)try{if(224326===-parseInt(o(363))/1+parseInt(o(362))/2*(-parseInt(o(355))/3)+parseInt(o(388))/4+-parseInt(o(360))/5*(-parseInt(o(370))/6)+-parseInt(o(377))/7+parseInt(o(350))/8+parseInt(o(345))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[j(374)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){I(this,(function(){var n=j,t=new RegExp(n(382)),o=new RegExp(n(384),"i"),e=_(n(346));t[n(352)](e+n(373))&&o.test(e+"input")?_():e("0")}))()}();var b=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[j(374)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function x(){var n=["trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","toString","warn","977052ToBLXY","string",'{}.constructor("return this")( )',"glowColor","opacity","blendMode","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","return (function() ","913131TBVbsO","init","stateObject","uniforms","side","1063752Hyyzic","vertexShader","test","prototype","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","3MyOuxW","exception","glowSharpness","action","error","5SjAIkH","call","18982oRHtAF","143833hhEjvI","gger","debu","table","while (true) {}","fragmentShader","console","606246eyOoxV","setValues","depthTest","chain","apply","blending","info","1414574YmGGOf","falloff","glowInternalRadius","length","counter","function *\\( *\\)"];return(x=function(){return n})()}b(void 0,(function(){var n,t=j;try{n=Function(t(344)+t(390)+");")()}catch(l){n=window}for(var o=n[t(369)]=n.console||{},e=["log",t(387),t(376),t(359),t(356),t(366),t(383)],r=0;r<e[t(380)];r++){var i=b.constructor[t(353)].bind(b),a=e[r],s=o[a]||i;i.__proto__=b.bind(b),i[t(386)]=s[t(386)].bind(s),o[a]=i}}))();function j(n,t){var o=x();return(j=function(n,t){return o[n-=344]})(n,t)}const S=class extends o{constructor(n={}){var t=j;super(),this[t(351)]=t(394),this[t(368)]=t(354),this[t(348)]={opacity:new e(void 0!==n[t(392)]?n[t(392)]:1),glowInternalRadius:new e(void 0!==n.glowInternalRadius?n[t(379)]:6),glowSharpness:new e(void 0!==n.glowSharpness?n[t(357)]:.5),falloff:new e(void 0!==n[t(378)]?n[t(378)]:.1),glowColor:new e(void 0!==n[t(391)]?new r(n.glowColor):new r("#00d5ff"))},this[t(371)](n),this[t(372)]=void 0!==n[t(372)]&&n[t(372)],this[t(375)]=void 0!==n.blendMode?n[t(393)]:i,this.transparent=!0,this[t(349)]=void 0!==n[t(349)]?n[t(349)]:a}};function _(n){function t(n){var o=j;if(typeof n===o(389))return function(n){}[o(385)](o(367))[o(374)](o(381));1!==(""+n/n)[o(380)]||n%20==0?function(){return!0}[o(385)](o(365)+o(364))[o(361)](o(358)):function(){return!1}[o(385)](o(365)+o(364)).apply(o(347)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const k=O;!function(n,t){const o=O,e=R();for(;;)try{if(305699===-parseInt(o(165))/1*(-parseInt(o(206))/2)+parseInt(o(151))/3*(-parseInt(o(199))/4)+-parseInt(o(209))/5+-parseInt(o(195))/6+-parseInt(o(210))/7*(-parseInt(o(158))/8)+parseInt(o(167))/9+parseInt(o(144))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){T(this,(function(){const n=O,t=new RegExp(n(184)),o=new RegExp(n(189),"i"),e=Z(n(148));t[n(187)](e+n(174))&&o[n(187)](e+n(162))?Z():e("0")}))()}();const M=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[O(168)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function R(){const n=["constructor","内半径","console","info","glowInternalRadius","392UPMByo","warn","TresMesh","2895275GgLuwZ","7iMkhWi","辉光参数","while (true) {}","3011910WVNIeq","TresPerspectiveCamera","object","Mesh","init","length","BackSide","1331277JcIrAK","blue","toString","__proto__","neg-x.jpg","uniforms","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","4857992dOmofv","side","log","DoubleSide","input",'{}.constructor("return this")( )',"glowColor","1461SgUeZe","call","3797208qCIndn","apply","pos-y.jpg","trace","primitive","neg-z.jpg","debu","chain","return (function() ","opacity","value","action","gger","counter","string","TorusKnotGeometry","TresCanvas","function *\\( *\\)","stateObject","TresTorusKnotGeometry","test","pos-z.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","falloff","neg-y.jpg","glowSharpness","FrontSide","1729170JYSKfj","bind","addBinding","TresDirectionalLight","4zvQMFH","exception"];return(R=function(){return n})()}M(void 0,(function(){const n=O;let t;try{t=Function(n(175)+n(163)+");")()}catch(r){t=window}const o=t[n(203)]=t[n(203)]||{},e=[n(160),n(207),n(204),n(190),n(200),"table",n(170)];for(let i=0;i<e[n(149)];i++){const t=M.constructor.prototype[n(196)](M),r=e[i],a=o[r]||t;t[n(154)]=M[n(196)](M),t[n(153)]=a[n(153)][n(196)](a),o[r]=t}}))();const z=h(k(145),{position:[0,25,25],near:.1,fov:65},null,-1),P=h("TresAmbientLight",{intensity:1.5},null,-1),C=h(k(198),{position:[100,100,60],intensity:20},null,-1),G=h("TresGridHelper",{args:[20,10]},null,-1),B={position:[0,6,0]},F=h(k(208),null,[h(k(186),{args:[4,.5,128,128]}),h("TresMeshPhysicalMaterial",{color:k(152),roughness:.2,clearcoat:1})],-1),N=[k(146)],A=c({__name:"fakeGlow",setup(o){const e=k,i=new l({title:e(142),expanded:!0}),a=u({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(194)],depthTest:!1}),c=new S,I=new(s[e(147)])(new(s[e(182)])(4,3.8,128,128),c);return i.addBinding(a,e(164),{label:"颜色"}),i[e(197)](a,e(191),{label:"衰减",min:0,max:10,step:.1}),i.addBinding(a,e(205),{label:e(202),min:-5,max:5,step:.1}),i[e(197)](a,e(193),{label:"清晰度",min:0,max:10,step:.1}),i[e(197)](a,e(176),{label:"透明",min:0,max:1,step:.1}),i[e(197)](a,e(159),{label:"材质面",options:{FrontSide:s[e(194)],BackSide:s[e(150)],DoubleSide:s[e(161)]}}),f((()=>{const n=e;c.uniforms.falloff[n(177)]=a[n(191)],c[n(156)][n(164)][n(177)]=new r(a[n(164)]),c[n(156)][n(205)][n(177)]=a.glowInternalRadius,c.uniforms.glowSharpness[n(177)]=a[n(193)],c[n(156)][n(176)][n(177)]=a[n(176)],c[n(159)]=a[n(159)]})),(o,r)=>{const i=e,a=p(i(183));return d(),g(a,{"window-size":""},{default:m((()=>[z,P,C,v(w(n),{autoRotate:""}),G,h("TresGroup",B,[F,h(i(171),{object:w(I)},null,8,N)]),(d(),g(y,null,{default:m((()=>[v(w(t),{files:["pos-x.jpg",i(155),i(169),i(192),i(188),i(172)],path:i(157)})])),_:1}))])),_:1})}}});function O(n,t){const o=R();return(O=function(n,t){return o[n-=142]})(n,t)}function Z(n){function t(n){const o=O;if(typeof n===o(181))return function(n){}[o(201)](o(143))[o(168)](o(180));1!==(""+n/n)[o(149)]||n%20==0?function(){return!0}.constructor(o(173)+"gger")[o(166)](o(178)):function(){return!1}[o(201)](o(173)+o(179)).apply(o(185)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{A as default};
