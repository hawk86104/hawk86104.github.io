import{X as t,_ as e,d as i,bQ as n,as as o,C as s,V as r,k as a,m as c}from"./three.-uH5I3Xp1735517803200.js";const h=l;function l(t,e){const i=u();return(l=function(t,e){return i[t-=133]})(t,e)}function u(){const t=["_assignPositionValue","   c.r = r / PACKED_COLOR_DIVISOR;","direction","`emitter` argument must be instance of SPE.Emitter. Was provided with:","updateMax","removeEmitter","_value","_center","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","indexOf","triggerPoolEmitter","_assignForceValue","       float s = sin(angle);","__proto__","    force *= drag;","ceil","onParticleSpawn","    float fIndex = 0.0;","function","attribute vec4 angle;","Invalid argument types, or argument types do not match:","rotationCenter","age","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","       vec3 c = isAlive * getColorOverLifetime(","spreadClamp","debu","        float perspective = scale / length( mvPosition.xyz );","emitters","10ZasrdN","bufferUpdateCount","splice","isArray","float when_le(float x, float y) {","TypedArray is already of size:","_rotationCenter","copy","colorOverLifetime","        float totalFrames = textureAnimation.z;","      mat4 rotationMatrix;","resetUpdateRange","undefined","setSize","cos","maxParticleCount","    vec3 vel = getVelocity( age );","_ensureTypedArray","particles, can support only","gger","    gl_Position = projectionMatrix * mvPosition;","activeMultiplier","      vec3 axis = unpackRotationAxis( rotation.x );","count","utils","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","length","DynamicDrawUsage","Emitter does not exist in this group. Will not remove.","wiggle","push","2982822fVmpdV","void main() {","_createGetterSetters","      }","depthTest","ensureInstanceOf","setVec3Components","_radius","BOOLEAN","#ifdef SHOULD_ROTATE_PARTICLES","shaderChunks","TypedArrayConstructor","test","randomVector3OnDisc","emitterIDs","value","    vec3 accel = getAcceleration( age );","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","_triggerSingleEmitter","        float perspective = 1.0;","    vec3 force = vec3( 0.0 );","toString","  return 1.0 - when_gt(x, y);","normalize","texture","constructor","attributeEnd","lerp","randomVector3","common","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","Argument is not instanceof SPE.Emitter:","updateRange","position","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","bind","lerpTypeAgnostic","float when_eq( float x, float y ) {","SPHERE","clamp","MathUtils","updateMin","disable","angle","Color","attribute vec3 velocity;","        vSpriteSheet.y = 1.0 / framesY;","axisSpread","fog_pars_fragment","round","1513036sBfxPM","indexOffset","unshift","_resetParticle","drag","itemSize","deltaTime","textureFrames","attribute vec4 color;","hasPerspective","paramFetchingFunctions","           positionInTime,","componentSize","radius","float getAlive() {","attributes","acceleration","exports","        pos = getRotation( pos, positionInTime );","spread","       axis = normalize(axis);","randomColorAsHex","vec4 getPosition( in float age ) {","vec3 unpackRotationAxis( in float hex ) {","4777668WpSAIA","clone","max","setAttribute","hasOwnProperty","                   0.0,                                0.0,                                0.0,                                1.0);","interpolateArray","_assignRotationValue","activationIndex","varying vec4 vColor;","prototype","Vector3","multiplyScalar","        pos.x += wiggleSin;","flagUpdate","warn","   return params.y;","counter","        vSpriteSheet.x = 1.0 / framesX;","_angle","#ifdef SHOULD_CALCULATE_SPRITE","    return value;","_angleSpread","activationEnd","arrayType","particleCount","info","_spread","randomise","_spreadClamp","    highp float positionInTime = (age / maxAge);","float when_ge(float x, float y) {","branchAvoidanceFunctions","getPackedRotationAxis","rotationFunctions","DISC","array","trace","784758MVoJAg","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","float getMaxAge() {","axis","_setAttributeOffset","ShaderChunk","return (function() ","           unpackColor( color.y ),","    return max(sign(x - y), 0.0);","setRGB","pop","setVec4Components","17058560nuQzep","_distribution","chain","    #ifdef SHOULD_WIGGLE_PARTICLES","_createNewWhenPoolEmpty","           unpackColor( color.x ),","isStatic","resetFlags","number","_resetBufferRanges","       fIndex = float( i );","_randomise","    return 1.0 - abs( sign( x - y ) );","log","unpackColor","ensureTypedArg","fog_fragment","_static","_calculatePPSValue","activeParticleCount","setNumber","uniform vec4 textureAnimation;","    #ifdef SHOULD_CALCULATE_SPRITE","    highp float isAlive = when_gt( alive, 0.0 );","_createBufferAttribute","add","table","sin","input","Group","   vec3 c = vec3( 0.0 );","needsUpdate","forceUpdateAll","params","rotation","vec3 getAcceleration( in float age ) {","rotateTexture","uniform float scale;","varyings","      translated = rotationCenter - pos;","    #endif","    #ifdef SHOULD_ROTATE_TEXTURE","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","float getWiggle() {","       float c = cos(angle);","logdepthbuf_fragment","Vector2","subarray","_applyAttributesToGeometry","    varying float vAngle;","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","stateObject","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","setColor","_updateUniforms","frames","    return min(a + b, 1.0);","uuid","BOX","spe","geometry","center","addEmitter","exception","shrink","      float angle = 0.0;","SHOULD_ROTATE_PARTICLES","addPool","logdepthbuf_vertex","float or(float a, float b) {","SHOULD_WIGGLE_PARTICLES","paramsArray","min","random","vertex","       vec3 c = vec3(1.0);","floatOverLifetime","arrayValuesAreEqual","AdditiveBlending","    force += accel * age;","error","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","    float pointSizePerspective = pointSize * perspective;","color","_assignAbsLifetimeValue","   c.g = g / PACKED_COLOR_DIVISOR;","shaders","#define PACKED_COLOR_SIZE 256.0","bufferUpdateKeys","attributeKeys","typedArray","randomVector3OnLine","distributions","usage","transparent","Emitter","call","fog","Will not resize.","uniform float deltaTime;","setDrawRange","OBJECT","alphaTest","ensureArrayTypedArg","           unpackColor( color.w )","defines","bufferUpdateRanges","Emitter already exists in this group. Will not add again.","        pos.z += wiggleSin;","colorize","defineProperty","StaticDrawUsage","getComponentValueAtIndex","    vColor = vec4( c, o );","textureLoop","    vec4 rotatedTexture = texture2D( tex, vUv );","BufferAttribute","           unpackColor( color.z ),","_incrementParticleCount","uniform float runTime;","float when_lt(float x, float y) {","    vec3 value = vec3( 0.0 );","           return pos;","duration","setUpdateRange","unpackRotationAxis","        float columnNorm = vSpriteSheet.z;","       float x = gl_PointCoord.x - 0.5;","apply","    highp float alive = getAlive();","      vec3 center = rotationCenter;","getValueAtIndex","distribution","depthWrite","opacity","logdepthbuf_pars_vertex","Points","resetDynamic","   float b = mod( hex, PACKED_COLOR_SIZE );","alive","attribute vec4 rotation;","LINE","   return params.w;","    float shouldApplyValue = 0.0;","_axisSpread","attribute vec4 opacity;","   return c;","    #ifdef HAS_PERSPECTIVE","bufferAttribute","    highp float value = 0.0;","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    ","reset","textureFrameCount","vec3 getVelocity( in float age ) {","_assignValue","setVec4","scale","        float rowNorm = vSpriteSheet.w;","_checkParticleAges","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","attribute vec4 acceleration;","_updateAttributeUpdateRange","remove","BufferGeometry","maxAge","updateCounts","logdepthbuf_pars_fragment","_assignColorValue","keys","tick","particlesPerSecond","angleSpread","while (true) {}","randomFloat","attribute vec4 size;","releaseIntoPool","fixedTimeStep","setFromArray","ensureArrayInstanceOf","randomDirectionVector3OnDisc","type","vec3 unpackColor( in float hex ) {","join","Texture","_assignParamsValue","velocity","NEGATIVE_INFINITY","setVec3","        float framesX = vSpriteSheet.x;","    vec3 outgoingLight = vColor.xyz;","attributeCount","setMat3","_attributesNeedDynamicReset","typeSizeMap","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","_poolCreationSettings","    force += vel;","        float wiggleCos = isAlive * cos( wiggleAmount );","8SSOspe","_attributesNeedRefresh","blending",'{}.constructor("return this")( )',"ensureValueOverLifetimeCompliance","sqrt","    highp float maxAge = getMaxAge();","NUMBER","setVec2Components","float when_gt(float x, float y) {","19052YtIAAv","9466029EXQJul","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","grow","floor","material","_decrementParticleCount","    varying vec4 vSpriteSheet;","    #else","console","Vector4","abs","dispose","    gl_PointSize = pointSizePerspective;","       float c = cos( -vAngle );","fragment","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","boolean","attributeOffset","amd","_pool","_assignAngleValue","_activateParticles","getFromPool","attribute vec4 params;","replace","string","        float rowNorm = row / framesY;","mesh","generateUUID","_distributionClamp","set","        float wiggleAmount = positionInTime * getWiggle();","       );","TypedArrayHelper","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","valueOverLifetimeLength","roundToNearestMultiple","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","#endif","dynamicBuffer","enable","updateFlags","SPE.Group pool ran out.","   c *= vec3( 2.0 );","setMat4","updateMap","669QOcNxp","      rotationMatrix = getRotationMatrix( axis, angle );","ShaderAttribute","uniforms","offset","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","group","#ifdef SHOULD_ROTATE_TEXTURE","size","types","   return acceleration.xyz * age;","loop","   }","        vSpriteSheet.w = rowNorm;"];return(u=function(){return t})()}!function(t,e){const i=l,n=u();for(;;)try{if(543596===-parseInt(i(177))/1+-parseInt(i(571))/2+-parseInt(i(447))/3*(-parseInt(i(400))/4)+parseInt(i(490))/5*(parseInt(i(521))/6)+parseInt(i(139))/7+-parseInt(i(390))/8*(-parseInt(i(401))/9)+-parseInt(i(189))/10)break;n.push(n.shift())}catch(o){n.push(n.shift())}}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(319)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){f(this,(function(){const t=l,e=new RegExp("function *\\( *\\)"),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=g("init");e.test(n+t(191))&&i[t(533)](n+t(217))?g():n("0")}))()}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(319)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();p(void 0,(function(){const t=l;let e;try{e=Function(t(183)+t(393)+");")()}catch(o){e=window}const i=e[t(409)]=e[t(409)]||{},n=[t(202),t(154),t(165),t(271),t(254),t(215),t(176)];for(let s=0;s<n.length;s++){const e=p.constructor.prototype[t(556)](p),o=n[s],r=i[o]||e;e[t(474)]=p[t(556)](p),e[t(542)]=r.toString.bind(r),i[o]=e}}))();const d={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===h(479)&&define[h(419)]?define(h(250),d):typeof exports!==h(502)&&"undefined"!=typeof module&&(module[h(588)]=d),d[h(434)]=function(t,e,i,n){const o=h;this.componentSize=i||1,this[o(455)]=e||1,this[o(532)]=t||Float32Array,this[o(175)]=new t(e*this[o(583)]),this[o(572)]=n||0},d.TypedArrayHelper.constructor=d[h(434)],d[h(434)][h(149)][h(503)]=function(t,e){const i=h,n=this[i(175)][i(516)];return!e&&(t*=this[i(583)]),t<n?this[i(255)](t):t>n?this[i(403)](t):void console[i(165)](i(495),t+".",i(289))},d[h(434)][h(149)][h(255)]=function(t){const e=h;return this[e(175)]=this[e(175)][e(237)](0,t),this[e(455)]=t,this},d[h(434)][h(149)][h(403)]=function(t){const e=h,i=this.array,n=new(this[e(532)])(t);return n.set(i),this.array=n,this[e(455)]=t,this},d[h(434)][h(149)].splice=function(t,e){const i=h;t*=this.componentSize,e*=this[i(583)];const n=[],o=this.array,s=o[i(516)];for(let r=0;r<s;++r)(r<t||r>=e)&&n[i(520)](o[r]);return this[i(369)](0,n),this},d[h(434)][h(149)].setFromArray=function(t,e){const i=h,n=t+e[i(516)];return n>this[i(175)][i(516)]?this[i(403)](n):n<this[i(175)][i(516)]&&this[i(255)](n),this[i(175)][i(431)](e,this[i(572)]+t),this},d.TypedArrayHelper[h(149)].setVec2=function(t,e){return this.setVec2Components(t,e.x,e.y)},d[h(434)][h(149)][h(398)]=function(t,e,i){const n=h,o=this[n(175)],s=this[n(572)]+t*this[n(583)];return o[s]=e,o[s+1]=i,this},d[h(434)][h(149)][h(379)]=function(t,e){return this[h(527)](t,e.x,e.y,e.z)},d[h(434)][h(149)].setVec3Components=function(t,e,i,n){const o=h,s=this[o(175)],r=this[o(572)]+t*this[o(583)];return s[r]=e,s[r+1]=i,s[r+2]=n,this},d[h(434)].prototype[h(347)]=function(t,e){return this[h(188)](t,e.x,e.y,e.z,e.w)},d[h(434)][h(149)].setVec4Components=function(t,e,i,n,o){const s=h,r=this[s(175)],a=this[s(572)]+t*this.componentSize;return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=o,this},d[h(434)][h(149)][h(383)]=function(t,e){const i=h;return this[i(369)](this[i(572)]+t*this[i(583)],e.elements)},d[h(434)][h(149)][h(445)]=function(t,e){const i=h;return this[i(369)](this[i(572)]+t*this.componentSize,e.elements)},d[h(434)][h(149)][h(244)]=function(t,e){return this[h(527)](t,e.r,e.g,e.b)},d[h(434)].prototype[h(209)]=function(t,e){return this[h(175)][this.indexOffset+t*this.componentSize]=e,this},d[h(434)][h(149)][h(322)]=function(t){const e=h;return this[e(175)][this[e(572)]+t]},d[h(434)][h(149)][h(303)]=function(t){const e=h;return this[e(175)][e(237)](this[e(572)]+t*this.componentSize)},d.ShaderAttribute=function(t,e,i){const n=h,o=d.ShaderAttribute[n(385)];this[n(372)]=typeof t===n(426)&&o[n(143)](t)?t:"f",this[n(583)]=o[this.type],this.arrayType=i||Float32Array,this[n(281)]=null,this.bufferAttribute=null,this.dynamicBuffer=!!e,this[n(562)]=0,this[n(465)]=0},d[h(449)][h(546)]=d[h(449)],d[h(449)][h(385)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},d[h(449)][h(149)][h(315)]=function(t,e){const i=h;this[i(562)]=Math[i(263)](t*this[i(583)],this.updateMin*this.componentSize),this[i(465)]=Math[i(141)](e*this.componentSize,this[i(465)]*this.componentSize)},d[h(449)][h(149)][h(153)]=function(){const t=h,e=this.bufferAttribute;!e[t(553)]&&(e[t(553)]={});const i=e[t(553)];i[t(451)]=this.updateMin,i[t(513)]=Math[t(263)](this[t(465)]-this[t(562)]+this[t(583)],this[t(281)].array[t(516)]),e[t(220)]=!0},d[h(449)][h(149)][h(501)]=function(){const t=h;this[t(562)]=0,this[t(465)]=0},d[h(449)][h(149)].resetDynamic=function(){const i=h;this[i(339)][i(284)]=this[i(440)]?t:e[i(302)]},d[h(449)][h(149)][h(492)]=function(t,e){const i=h;this.typedArray[i(492)](t,e),this[i(221)]()},d[h(449)][h(149)][h(221)]=function(){const t=h;this[t(339)][t(175)]=this[t(281)][t(175)],this[t(339)][t(553)][t(451)]=0,this[t(339)][t(553)][t(513)]=-1,this[t(339)][t(284)]=e[t(302)],this[t(339)].needsUpdate=!0},d[h(449)][h(149)][h(507)]=function(t){const e=h;null!==this.typedArray&&this[e(281)][e(455)]===t*this[e(583)]||(null!==this[e(281)]&&this.typedArray[e(455)]!==t?this[e(281)].setSize(t):null===this.typedArray&&(this[e(281)]=new(d[e(434)])(this[e(163)],t,this[e(583)])))},d[h(449)][h(149)][h(213)]=function(t){const n=h;if(this[n(507)](t),null!==this[n(339)])return this[n(339)][n(175)]=this[n(281)].array,parseFloat(i)>=81&&(this[n(339)][n(513)]=this[n(339)][n(175)].length/this.bufferAttribute[n(576)]),void(this[n(339)][n(220)]=!0);this[n(339)]=new(e[n(307)])(this[n(281)][n(175)],this[n(583)]),this[n(339)].usage=this[n(440)]?e[n(517)]:e[n(302)]},d.ShaderAttribute[h(149)].getLength=function(){const t=h;return null===this[t(281)]?0:this[t(281)][t(175)][t(516)]},d.shaderChunks={defines:[h(278),"#define PACKED_COLOR_DIVISOR 255.0"][h(374)]("\n"),uniforms:[h(290),h(310),"uniform sampler2D tex;",h(210),h(226)][h(374)]("\n"),attributes:[h(352),h(566),h(331),"attribute vec3 rotationCenter;",h(424),h(366),h(480),h(579),h(336)][h(374)]("\n"),varyings:[h(148),h(454),h(239),h(439),h(159),h(407),"#endif"][h(374)]("\n"),branchAvoidanceFunctions:[h(399),h(185),"}",h(311),h(515),"}",h(558),h(201),"}",h(170),"  return 1.0 - when_lt(x, y);","}",h(494),h(543),"}","float and(float a, float b) {","    return a * b;","}",h(260),h(247),"}"][h(374)]("\n"),unpackColor:[h(373),h(219),h(386),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(329),h(462),h(276),"   c.b = b / PACKED_COLOR_DIVISOR;","   return c;","}"].join("\n"),unpackRotationAxis:[h(138),"   vec3 c = vec3( 0.0 );",h(386),h(272),h(329),h(462),h(276),"   c.b = b / PACKED_COLOR_DIVISOR;",h(444),"   c -= vec3( 1.0 );",h(337),"}"][h(374)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",h(340),"    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );",h(478),h(334),h(231),"",h(435),h(199),"       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );",h(484),"    }","","    return value;","}"][h(374)]("\n"),colorOverLifetime:[h(438),h(312),h(232),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );",h(160),"}"][h(374)]("\n"),paramFetchingFunctions:[h(585),"   return params.x;","}","float getAge() {",h(155),"}",h(179),"   return params.z;","}",h(233),h(333),"}"].join("\n"),forceFetchingFunctions:[h(137),"   return modelViewMatrix * vec4( position, 1.0 );","}",h(345),"   return velocity * age;","}",h(224),h(457),"}"][h(374)]("\n"),rotationFunctions:[h(530),"   mat4 getRotationMatrix( in vec3 axis, in float angle) {",h(135),h(473),h(234),"       float oc = 1.0 - c;","","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",h(243),h(144),h(459),"",h(452),"      if( rotation.y == 0.0 ) {",h(313),h(524),"",h(512),h(321),"      vec3 translated;",h(500),h(256),h(538),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );",h(228),h(448),h(469),h(459),"#endif"][h(374)]("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","","    #ifdef SHOULD_ROTATE_TEXTURE",h(318),"       float y = 1.0 - gl_PointCoord.y - 0.5;",h(414),"       float s = sin( -vAngle );",h(341),"    #endif","",h(211),h(380),"        float framesY = vSpriteSheet.y;",h(317),h(349),h(178),h(351),h(229),"",h(306)][h(374)]("\n")},d.shaders={vertex:[d[h(531)].defines,d[h(531)].uniforms,d[h(531)][h(586)],d[h(531)].varyings,e[h(182)][h(550)],e[h(182)][h(326)],e[h(182)].fog_pars_vertex,d[h(531)][h(171)],d[h(531)][h(203)],d[h(531)][h(316)],d[h(531)][h(267)],d[h(531)][h(498)],d[h(531)][h(581)],d[h(531)].forceFetchingFunctions,d[h(531)][h(173)],h(522),"    highp float age = getAge();",h(320),h(396),h(169),h(212),h(192),h(432),"        float wiggleSin = isAlive * sin( wiggleAmount );",h(389),h(229),h(506),h(537),h(541),"    vec3 pos = vec3( position );",h(241),h(388),h(475),h(270),"    pos += force;","    #ifdef SHOULD_WIGGLE_PARTICLES",h(152),"        pos.y += wiggleCos;",h(299),h(229),"    #ifdef SHOULD_ROTATE_PARTICLES",h(133),h(229),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",h(551),h(338),h(488),"    #else",h(540),h(229),h(273),"    #ifdef COLORIZE",h(485),h(582),h(194),h(184),h(308),h(295),h(433),h(408),h(266),"    #endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );",h(304),h(230),h(402),h(229),"    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = textureAnimation.x;","        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;",h(499),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;",h(427),h(157),h(567),"        vSpriteSheet.z = columnNorm;",h(460),"    #endif",h(413),h(510),e[h(182)][h(259)],n.fog_vertex,"}"][h(374)]("\n"),fragment:[d[h(531)].uniforms,n[h(550)],e[h(182)][h(569)],e[h(182)][h(358)],d.shaderChunks[h(227)],d.shaderChunks[h(171)],h(522),h(381),h(342),"    #ifdef ALPHATEST","       if ( vColor.w < float(ALPHATEST) ) discard;",h(229),d.shaderChunks[h(225)],n[h(235)],h(240),h(416),n[h(205)],"}"][h(374)]("\n")},d[h(514)]={types:{BOOLEAN:h(417),STRING:"string",NUMBER:h(197),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=h;if(Array[n(493)](t)){for(let o=t[n(516)]-1;o>=0;--o)if(typeof t[o]!==e)return i;return t}return this[n(204)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[n(526)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(493)](t[n(467)])&&(t[n(467)]=[t[n(467)]]),!1===Array[n(493)](t[n(166)])&&(t[n(166)]=[t[n(166)]]);const o=this.clamp(t._value[n(516)],e,i),s=this[n(560)](t[n(166)].length,e,i),r=Math[n(141)](o,s);t._value[n(516)]!==r&&(t[n(467)]=this.interpolateArray(t[n(467)],r)),t._spread.length!==r&&(t[n(166)]=this[n(145)](t[n(166)],r))},interpolateArray(t,e){const i=h,n=t[i(516)],o=[typeof t[0][i(140)]===i(479)?t[0][i(140)]():t[0]],s=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*s,n=Math[i(404)](e),a=Math[i(476)](e),c=e-n;o[r]=this[i(557)](t[n],t[a],c)}return o[i(520)]("function"==typeof t[n-1][i(140)]?t[n-1][i(140)]():t[n-1]),o},clamp:(t,e,i)=>Math[h(141)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(264)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(t,i,n){const s=h;let r,a=this[s(456)];return typeof t===a.NUMBER&&typeof i===a.NUMBER?t+(i-t)*n:t instanceof e[s(236)]&&i instanceof e[s(236)]?(r=t[s(140)](),r.x=this.lerp(t.x,i.x,n),r.y=this[s(548)](t.y,i.y,n),r):t instanceof e[s(150)]&&i instanceof e[s(150)]?(r=t.clone(),r.x=this[s(548)](t.x,i.x,n),r.y=this[s(548)](t.y,i.y,n),r.z=this[s(548)](t.z,i.z,n),r):t instanceof o&&i instanceof o?(r=t[s(140)](),r.x=this[s(548)](t.x,i.x,n),r.y=this[s(548)](t.y,i.y,n),r.z=this[s(548)](t.z,i.z,n),r.w=this[s(548)](t.w,i.w,n),r):t instanceof e[s(565)]&&i instanceof e[s(565)]?(r=t[s(140)](),r.r=this[s(548)](t.r,i.r,n),r.g=this[s(548)](t.g,i.g,n),r.b=this[s(548)](t.b,i.b,n),r):void console[s(154)](s(481),t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(411)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(516)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(264)]()-.5),randomVector3(t,e,i,n,o){const s=h;let r=i.x+(Math[s(264)]()*n.x-.5*n.x),a=i.y+(Math.random()*n.y-.5*n.y),c=i.z+(Math[s(264)]()*n.z-.5*n.z);o&&(r=.5*-o.x+this.roundToNearestMultiple(r,o.x),a=.5*-o.y+this.roundToNearestMultiple(a,o.y),c=.5*-o.z+this[s(437)](c,o.z)),t[s(281)][s(527)](e,r,a,c)},randomColor(t,e,i,n){const o=h;let s=i.r+Math[o(264)]()*n.x,r=i.g+Math[o(264)]()*n.y,a=i.b+Math.random()*n.z;s=this[o(560)](s,0,1),r=this[o(560)](r,0,1),a=this[o(560)](a,0,1),t[o(281)][o(527)](e,s,r,a)},randomColorAsHex:function(){const t=new s;return function(e,i,n,o){const s=l,r=n[s(516)],a=[];for(let c=0;c<r;++c){const e=o[c];t.copy(n[c]),t.r+=Math[s(264)]()*e.x-.5*e.x,t.g+=Math.random()*e.y-.5*e.y,t.b+=Math[s(264)]()*e.z-.5*e.z,t.r=this[s(560)](t.r,0,1),t.g=this[s(560)](t.g,0,1),t.b=this[s(560)](t.b,0,1),a.push(t.getHex())}e[s(281)][s(188)](i,a[0],a[1],a[2],a[3])}}(),randomVector3OnLine(t,e,i,n){const o=h,s=i.clone();s[o(548)](n,Math[o(264)]()),t[o(281)][o(527)](e,s.x,s.y,s.z)},randomVector3OnSphere(t,e,i,n,o,s,r,a){const c=h;let l=2*Math[c(264)]()-1,u=6.2832*Math.random(),f=Math[c(395)](1-l*l),p=this[c(365)](n,o),d=0,m=0,g=0;r&&(p=Math[c(570)](p/r)*r),d=f*Math[c(504)](u)*p,m=f*Math[c(216)](u)*p,g=l*p,d*=s.x,m*=s.y,g*=s.z,d+=i.x,m+=i.y,g+=i.z,t[c(281)][c(527)](e,d,m,g)},seededRandom(t){const e=1e4*Math[h(216)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,s,r){const a=h;let c=6.2832*Math[a(264)](),l=Math.abs(this.randomFloat(n,o)),u=0,f=0,p=0;r&&(l=Math.round(l/r)*r),u=Math.cos(c)*l,f=Math.sin(c)*l,u*=s.x,f*=s.y,u+=i.x,f+=i.y,p+=i.z,t[a(281)][a(527)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const t=new r;return function(e,i,n,o,s,r,a,c){const h=l;t[h(497)](r),t.x-=n,t.y-=o,t.z-=s,t[h(544)]()[h(151)](-this[h(365)](a,c)),e[h(281)][h(527)](i,t.x,t.y,t.z)}}(),randomDirectionVector3OnDisc:function(){const t=h,i=new(e[t(150)]);return function(e,n,o,s,r,a,c,h){const l=t;i[l(497)](a),i.x-=o,i.y-=s,i.z-=r,i[l(544)]()[l(151)](-this.randomFloat(c,h)),e[l(281)].setVec3Components(n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const t=h,i=new(e[t(150)]),n=new(e[t(150)]),o=new(e[t(565)]),s=new(e[t(150)])(1,1,1);return function(e,r){const a=t;return i[a(497)](e)[a(544)](),n[a(497)](r).normalize(),i.x+=.5*-r.x+Math[a(264)]()*r.x,i.y+=.5*-r.y+Math[a(264)]()*r.y,i.z+=.5*-r.z+Math[a(264)]()*r.z,i[a(544)]()[a(214)](s)[a(151)](.5),o[a(186)](i.x,i.y,i.z),o.getHex()}}()},d[h(218)]=function(t){const i=h,n=d.utils,o=n.types;(t=n[i(204)](t,o[i(292)],{})).texture=n[i(204)](t[i(545)],o.OBJECT,{}),this[i(248)]=e[i(561)][i(429)](),this.fixedTimeStep=n[i(204)](t[i(368)],o[i(397)],.016),this[i(545)]=n[i(526)](t.texture[i(536)],e[i(375)],null),this[i(578)]=n[i(526)](t.texture[i(246)],e[i(236)],new(e[i(236)])(1,1)),this[i(344)]=n[i(204)](t[i(545)].frameCount,o[i(397)],this[i(578)].x*this[i(578)].y),this[i(305)]=n.ensureTypedArg(t[i(545)][i(458)],o[i(397)],1),this[i(578)][i(141)](new a(1,1)),this[i(580)]=n[i(204)](t[i(580)],o[i(529)],!0),this[i(300)]=n.ensureTypedArg(t[i(300)],o[i(529)],!0),this[i(505)]=n[i(204)](t[i(505)],o[i(397)],null),this[i(392)]=n[i(204)](t.blending,o[i(397)],e[i(269)]),this[i(285)]=n[i(204)](t[i(285)],o.BOOLEAN,!0),this[i(293)]=parseFloat(n[i(204)](t[i(293)],o[i(397)],0)),this[i(324)]=n[i(204)](t[i(324)],o[i(529)],!1),this[i(525)]=n[i(204)](t[i(525)],o[i(529)],!0),this[i(288)]=n[i(204)](t[i(288)],o[i(529)],!0),this.scale=n[i(204)](t[i(348)],o[i(397)],300),this[i(489)]=[],this[i(535)]=[],this._pool=[],this[i(387)]=null,this[i(193)]=0,this._attributesNeedRefresh=!1,this[i(384)]=!1,this.particleCount=0,this[i(450)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(e[i(410)])(this[i(578)].x,this[i(578)].y,this[i(344)],Math[i(141)](Math[i(411)](this.textureLoop),1))},fogColor:{type:"c",value:this.fog?new(e[i(565)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(348)]}},this.defines={HAS_PERSPECTIVE:this[i(580)],COLORIZE:this[i(300)],VALUE_OVER_LIFETIME_LENGTH:d[i(436)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(578)].x>1||this[i(578)].y>1},this[i(586)]={position:new(d[i(449)])("v3",!0),acceleration:new(d[i(449)])("v4",!0),velocity:new(d[i(449)])("v3",!0),rotation:new d.ShaderAttribute("v4",!0),rotationCenter:new(d[i(449)])("v3",!0),params:new d.ShaderAttribute("v4",!0),size:new(d[i(449)])("v4",!0),angle:new(d[i(449)])("v4",!0),color:new(d[i(449)])("v4",!0),opacity:new(d[i(449)])("v4",!0)},this.attributeKeys=Object[i(360)](this[i(586)]),this[i(382)]=this[i(280)][i(516)],this.material=new c({uniforms:this.uniforms,vertexShader:d[i(277)][i(265)],fragmentShader:d.shaders[i(415)],blending:this.blending,transparent:this[i(285)],alphaTest:this[i(293)],depthWrite:this[i(324)],depthTest:this[i(525)],defines:this[i(296)],fog:this[i(288)]}),this[i(251)]=new(e[i(355)]),this[i(428)]=new(e[i(327)])(this.geometry,this.material),null===this[i(505)]&&console[i(154)](i(555))},d[h(218)][h(546)]=d[h(218)],d.Group.prototype._updateDefines=function(){const t=h;let e,i=this[t(489)],n=i[t(516)]-1,o=this[t(296)];for(;n>=0;--n)e=i[n],!o.SHOULD_CALCULATE_SPRITE&&(o.SHOULD_ROTATE_TEXTURE=o.SHOULD_ROTATE_TEXTURE||!!Math[t(141)](Math[t(141)][t(319)](null,e[t(564)].value),Math.max.apply(null,e[t(564)][t(134)]))),o[t(257)]=o[t(257)]||!!Math[t(141)](e[t(223)].angle,e[t(223)][t(363)]),o.SHOULD_WIGGLE_PARTICLES=o[t(261)]||!!Math.max(e.wiggle[t(536)],e.wiggle[t(134)]);this[t(405)][t(220)]=!0},d[h(218)].prototype._applyAttributesToGeometry=function(){const t=h;let e,i,n=this.attributes,o=this.geometry,s=o[t(586)];for(const r in n)n.hasOwnProperty(r)&&(e=n[r],i=s[r],i?i[t(175)]=e.typedArray.array:o[t(142)](r,e.bufferAttribute),e[t(339)][t(220)]=!0);this[t(251)][t(291)](0,this.particleCount)},d[h(218)][h(149)][h(253)]=function(t){const e=h;if(t instanceof d.Emitter==!1)return void console[e(271)](e(464),t);if(this[e(535)][e(470)](t.uuid)>-1)return void console[e(271)](e(298));if(null!==t[e(453)])return void console[e(271)]("Emitter already belongs to another group. Will not add to requested group.");const i=this[e(586)],n=this[e(164)],o=n+t[e(164)];this[e(164)]=o,null!==this.maxParticleCount&&this[e(164)]>this[e(505)]&&console.warn("SPE.Group: maxParticleCount exceeded. Requesting",this[e(164)],e(508),this.maxParticleCount),t._calculatePPSValue(t[e(356)]._value+t[e(356)][e(166)]),t._setBufferUpdateRanges(this.attributeKeys),t[e(181)](n),t[e(453)]=this,t[e(586)]=this[e(586)];for(const s in i)i[e(143)](s)&&i[s][e(213)](null!==this[e(505)]?this[e(505)]:this[e(164)]);for(let s=n;s<o;++s)t[e(461)](s),t[e(472)](s,e(377)),t[e(472)](s,e(587)),t[e(275)](s,e(325)),t._assignAbsLifetimeValue(s,"size"),t._assignAngleValue(s),t[e(146)](s),t[e(376)](s),t[e(359)](s);return this[e(238)](),this[e(489)][e(520)](t),this[e(535)].push(t[e(248)]),this._updateDefines(t),this[e(405)][e(220)]=!0,this[e(251)][e(220)]=!0,this[e(391)]=!0,this},d.Group[h(149)][h(466)]=function(t){const e=h,i=this[e(535)].indexOf(t.uuid);if(t instanceof d[e(286)]==!1)return void console.error(e(464),t);if(-1===i)return void console[e(271)](e(518));const n=t[e(418)],o=n+t[e(164)],s=this[e(586)].params[e(281)];for(let r=n;r<o;++r)s.array[4*r]=0,s.array[4*r+1]=0;this[e(489)].splice(i,1),this[e(535)][e(492)](i,1);for(const r in this[e(586)])this.attributes[e(143)](r)&&this[e(586)][r][e(492)](n,o);this.particleCount-=t[e(164)],t._onRemove(),this[e(391)]=!0},d[h(218)][h(149)].getFromPool=function(){const t=h,e=this._pool,i=this[t(193)];if(e[t(516)])return e[t(187)]();if(i){const e=new d.Emitter(this[t(387)]);return this.addEmitter(e),e}return null},d[h(218)][h(149)][h(367)]=function(t){const e=h;if(t instanceof d.Emitter!=!1)return t[e(343)](),this[e(420)][e(573)](t),this;console.error(e(552),t)},d[h(218)][h(149)].getPool=function(){return this[h(420)]},d[h(218)][h(149)][h(258)]=function(t,e,i){const n=h;let o;this[n(387)]=e,this[n(193)]=!!i;for(let s=0;s<t;++s)o=Array[n(493)](e)?new(d[n(286)])(e[s]):new(d[n(286)])(e),this[n(253)](o),this[n(367)](o);return this},d[h(218)][h(149)][h(539)]=function(t){const i=h,n=this[i(423)](),o=this;if(null!==n)return t instanceof e[i(150)]&&(n.position[i(536)].copy(t),n.position.value=n.position.value),n[i(441)](),setTimeout((()=>{const t=i;n.disable(),o[t(367)](n)}),1e3*Math.max(n[i(314)],n.maxAge[i(536)]+n[i(356)][i(134)])),this;console[i(202)](i(443))},d[h(218)].prototype[h(471)]=function(t,e){const i=h;if(typeof t===i(197)&&t>1)for(let n=0;n<t;++n)this[i(539)](e);else this._triggerSingleEmitter(e);return this},d[h(218)].prototype[h(245)]=function(t){const e=h;this.uniforms.runTime[e(536)]+=t,this.uniforms[e(577)][e(536)]=t},d[h(218)][h(149)][h(198)]=function(){const t=h;let e=this[t(280)],i=this.attributeCount-1,n=this[t(586)];for(;i>=0;--i)n[e[i]][t(501)]()},d[h(218)].prototype._updateBuffers=function(t){const e=h;let i,n,o,s=this[e(280)],r=this[e(382)]-1,a=this[e(586)],c=t[e(297)];for(;r>=0;--r)i=s[r],n=c[i],o=a[i],o.setUpdateRange(n[e(263)],n[e(141)]),o[e(153)]()},d[h(218)][h(149)][h(361)]=function(t){const e=h;var i=this[e(489)],n=i.length,o=t||this[e(368)],s=this[e(280)],r=this[e(586)];if(this[e(245)](o),this._resetBufferRanges(),0!==n||!1!==this[e(391)]||!1!==this[e(384)]){for(var a,c=0;c<n;++c)(a=i[c])[e(361)](o),this._updateBuffers(a);if(!0===this[e(384)]){for(c=this.attributeCount-1;c>=0;--c)r[s[c]][e(328)]();this[e(384)]=!1}if(!0===this[e(391)]){for(c=this.attributeCount-1;c>=0;--c)r[s[c]][e(221)]();this[e(391)]=!1,this[e(384)]=!0}}},d[h(218)][h(149)][h(412)]=function(){const t=h;return this[t(251)][t(412)](),this[t(405)][t(412)](),this},d[h(286)]=function(t){const i=h,n=d[i(514)],o=n[i(456)],a=d[i(436)];(t=n[i(204)](t,o[i(292)],{}))[i(554)]=n[i(204)](t[i(554)],o[i(292)],{}),t.velocity=n[i(204)](t[i(377)],o.OBJECT,{}),t[i(587)]=n.ensureTypedArg(t[i(587)],o[i(292)],{}),t[i(584)]=n[i(204)](t[i(584)],o.OBJECT,{}),t[i(575)]=n[i(204)](t.drag,o[i(292)],{}),t[i(223)]=n[i(204)](t[i(223)],o[i(292)],{}),t[i(274)]=n[i(204)](t.color,o.OBJECT,{}),t[i(325)]=n[i(204)](t[i(325)],o[i(292)],{}),t[i(455)]=n[i(204)](t.size,o[i(292)],{}),t[i(564)]=n[i(204)](t[i(564)],o[i(292)],{}),t[i(519)]=n[i(204)](t[i(519)],o[i(292)],{}),t[i(356)]=n[i(204)](t[i(356)],o[i(292)],{}),t[i(477)]&&console[i(154)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this[i(248)]=e[i(561)].generateUUID(),this[i(372)]=n.ensureTypedArg(t[i(372)],o[i(397)],d[i(283)][i(249)]),this[i(554)]={_value:n.ensureInstanceOf(t[i(554)][i(536)],r,new(e[i(150)])),_spread:n[i(526)](t.position[i(134)],r,new r),_spreadClamp:n.ensureInstanceOf(t.position[i(486)],e[i(150)],new(e[i(150)])),_distribution:n[i(204)](t.position.distribution,o[i(397)],this[i(372)]),_randomise:n[i(204)](t[i(554)][i(167)],o.BOOLEAN,!1),_radius:n[i(204)](t[i(554)][i(584)],o[i(397)],10),_radiusScale:n[i(526)](t[i(554)].radiusScale,e[i(150)],new r(1,1,1)),_distributionClamp:n[i(204)](t[i(554)].distributionClamp,o[i(397)],0)},this[i(377)]={_value:n[i(526)](t[i(377)][i(536)],e[i(150)],new r),_spread:n[i(526)](t[i(377)][i(134)],e[i(150)],new r),_distribution:n[i(204)](t[i(377)][i(323)],o[i(397)],this[i(372)]),_randomise:n[i(204)](t[i(554)][i(167)],o[i(529)],!1)},this[i(587)]={_value:n[i(526)](t[i(587)][i(536)],e[i(150)],new(e[i(150)])),_spread:n[i(526)](t.acceleration[i(134)],e[i(150)],new(e[i(150)])),_distribution:n[i(204)](t[i(587)].distribution,o[i(397)],this[i(372)]),_randomise:n.ensureTypedArg(t[i(554)][i(167)],o.BOOLEAN,!1)},this[i(575)]={_value:n[i(204)](t[i(575)][i(536)],o[i(397)],0),_spread:n[i(204)](t[i(575)].spread,o[i(397)],0),_randomise:n[i(204)](t[i(554)].randomise,o[i(529)],!1)},this[i(519)]={_value:n.ensureTypedArg(t.wiggle[i(536)],o.NUMBER,0),_spread:n.ensureTypedArg(t[i(519)][i(134)],o[i(397)],0)},this[i(223)]={_axis:n[i(526)](t.rotation[i(180)],e[i(150)],new(e[i(150)])(0,1,0)),_axisSpread:n.ensureInstanceOf(t[i(223)][i(568)],e[i(150)],new(e[i(150)])),_angle:n[i(204)](t[i(223)][i(564)],o[i(397)],0),_angleSpread:n[i(204)](t[i(223)][i(363)],o[i(397)],0),_static:n[i(204)](t[i(223)].static,o[i(529)],!1),_center:n[i(526)](t[i(223)][i(252)],e[i(150)],this[i(554)][i(467)][i(140)]()),_randomise:n[i(204)](t[i(554)][i(167)],o[i(529)],!1)},this.maxAge={_value:n[i(204)](t[i(356)].value,o[i(397)],2),_spread:n[i(204)](t[i(356)].spread,o[i(397)],0)},this[i(274)]={_value:n[i(370)](t[i(274)][i(536)],e[i(565)],new s),_spread:n[i(370)](t[i(274)][i(134)],r,new(e[i(150)])),_randomise:n.ensureTypedArg(t.position.randomise,o.BOOLEAN,!1)},this[i(325)]={_value:n[i(294)](t.opacity.value,o[i(397)],1),_spread:n[i(294)](t[i(325)].spread,o[i(397)],0),_randomise:n[i(204)](t[i(554)][i(167)],o[i(529)],!1)},this[i(455)]={_value:n[i(294)](t[i(455)][i(536)],o[i(397)],1),_spread:n[i(294)](t[i(455)].spread,o[i(397)],0),_randomise:n.ensureTypedArg(t[i(554)][i(167)],o[i(529)],!1)},this[i(564)]={_value:n[i(294)](t[i(564)][i(536)],o.NUMBER,0),_spread:n[i(294)](t[i(564)].spread,o.NUMBER,0),_randomise:n[i(204)](t[i(554)].randomise,o[i(529)],!1)},this[i(164)]=n[i(204)](t[i(164)],o[i(397)],100),this.duration=n[i(204)](t[i(314)],o.NUMBER,null),this.isStatic=n[i(204)](t[i(195)],o[i(529)],!1),this[i(511)]=n[i(204)](t[i(511)],o[i(397)],1),this[i(463)]=n[i(204)](t[i(463)],o[i(397)],1),this.alive=n[i(204)](t[i(330)],o[i(529)],!0),this[i(362)]=0,this[i(147)]=0,this.attributeOffset=0,this[i(547)]=0,this[i(483)]=0,this[i(208)]=0,this[i(453)]=null,this[i(586)]=null,this.paramsArray=null,this[i(196)]={position:n[i(204)](t[i(554)][i(167)],o[i(529)],!1)||n[i(204)](t[i(584)][i(167)],o[i(529)],!1),velocity:n.ensureTypedArg(t[i(377)][i(167)],o.BOOLEAN,!1),acceleration:n[i(204)](t.acceleration.randomise,o[i(529)],!1)||n[i(204)](t[i(575)].randomise,o[i(529)],!1),rotation:n[i(204)](t.rotation.randomise,o[i(529)],!1),rotationCenter:n[i(204)](t[i(223)].randomise,o.BOOLEAN,!1),size:n[i(204)](t[i(455)][i(167)],o[i(529)],!1),color:n[i(204)](t[i(274)][i(167)],o[i(529)],!1),opacity:n[i(204)](t[i(325)].randomise,o[i(529)],!1),angle:n[i(204)](t[i(564)][i(167)],o[i(529)],!1)},this[i(442)]={},this[i(357)]={},this[i(446)]={maxAge:i(222),position:i(554),velocity:"velocity",acceleration:i(587),drag:i(587),wiggle:"params",rotation:i(223),size:i(455),color:"color",opacity:i(325),angle:"angle"};for(const e in this[i(446)])this[i(446)].hasOwnProperty(e)&&(this[i(357)][this[i(446)][e]]=0,this[i(442)][this.updateMap[e]]=!1,this[i(523)](this[e],e));this.bufferUpdateRanges={},this[i(280)]=null,this[i(382)]=0,n[i(394)](this[i(274)],a,a),n[i(394)](this[i(325)],a,a),n.ensureValueOverLifetimeCompliance(this.size,a,a),n[i(394)](this.angle,a,a)},d[h(286)][h(546)]=d[h(286)],d.Emitter[h(149)][h(523)]=function(t,e){const i=h,n=this;for(const o in t)if(t[i(143)](o)){const s=o[i(425)]("_","");Object[i(301)](t,s,{get:function(t){return function(){return this[t]}}(o),set:function(t){return function(i){const o=l,s=n[o(446)][e],r=this[t],a=d[o(436)];t===o(496)?(n[o(442)][o(482)]=!0,n[o(357)].rotationCenter=0):t===o(200)?n[o(196)][s]=i:(n[o(442)][s]=!0,n[o(357)][s]=0),n[o(453)]._updateDefines(),this[t]=i,Array[o(493)](r)&&d.utils[o(394)](n[e],a,a)}}(o)})}},d[h(286)][h(149)]._setBufferUpdateRanges=function(t){const e=h;this[e(280)]=t,this.attributeCount=t[e(516)];for(let i=this[e(382)]-1;i>=0;--i)this[e(297)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(378)]}},d[h(286)][h(149)][h(207)]=function(t){const e=h,i=this.particleCount;this[e(314)]?this[e(362)]=i/(t<this[e(314)]?t:this[e(314)]):this[e(362)]=i/t},d[h(286)][h(149)][h(181)]=function(t){const e=h;this[e(418)]=t,this[e(147)]=t,this[e(162)]=t+this[e(164)]},d[h(286)][h(149)][h(346)]=function(t,e){const i=h;switch(t){case i(554):this[i(461)](e);break;case i(377):case i(587):this._assignForceValue(e,t);break;case i(455):case"opacity":this[i(275)](e,t);break;case i(564):this[i(421)](e);break;case i(222):this[i(376)](e);break;case i(223):this._assignRotationValue(e);break;case i(274):this[i(359)](e)}},d[h(286)][h(149)][h(461)]=function(t){const e=h,i=d[e(283)],n=d[e(514)],o=this.position,s=this[e(586)][e(554)],r=o[e(467)],a=o[e(166)];switch(o[e(190)]){case i.BOX:n[e(549)](s,t,r,a,o[e(168)]);break;case i[e(559)]:n.randomVector3OnSphere(s,t,r,o[e(528)],o[e(166)].x,o._radiusScale,o[e(168)].x,o[e(430)]||this[e(164)]);break;case i[e(174)]:n[e(534)](s,t,r,o[e(528)],o._spread.x,o._radiusScale,o[e(168)].x);break;case i[e(332)]:n[e(282)](s,t,r,a)}},d[h(286)][h(149)][h(472)]=function(t,e){const i=h;let n,o,s,r,a,c=d.distributions,l=d[i(514)],u=this[e],f=u[i(467)],p=u[i(166)];switch(u._distribution){case c[i(249)]:l[i(549)](this.attributes[e],t,f,p);break;case c[i(559)]:n=this[i(586)].position[i(281)][i(175)],a=3*t,o=n[a],s=n[a+1],r=n[a+2],l.randomDirectionVector3OnSphere(this[i(586)][e],t,o,s,r,this[i(554)][i(467)],u[i(467)].x,u[i(166)].x);break;case c[i(174)]:n=this[i(586)].position[i(281)][i(175)],a=3*t,o=n[a],s=n[a+1],r=n[a+2],l[i(371)](this.attributes[e],t,o,s,r,this[i(554)][i(467)],u[i(467)].x,u[i(166)].x);break;case c[i(332)]:l[i(282)](this[i(586)][e],t,f,p)}if(e===i(587)){const e=l[i(560)](l[i(365)](this[i(575)]._value,this[i(575)][i(166)]),0,1);this.attributes[i(587)][i(281)][i(175)][4*t+3]=e}},d[h(286)][h(149)][h(275)]=function(t,e){const i=h;let n,o=this.attributes[e][i(281)],s=this[e],r=d.utils;r[i(268)](s[i(467)])&&r[i(268)](s[i(166)])?(n=Math[i(411)](r[i(365)](s[i(467)][0],s[i(166)][0])),o[i(188)](t,n,n,n,n)):o.setVec4Components(t,Math[i(411)](r.randomFloat(s._value[0],s._spread[0])),Math[i(411)](r[i(365)](s[i(467)][1],s[i(166)][1])),Math[i(411)](r.randomFloat(s[i(467)][2],s[i(166)][2])),Math[i(411)](r.randomFloat(s[i(467)][3],s._spread[3])))},d[h(286)].prototype[h(421)]=function(t){const e=h;let i,n=this[e(586)][e(564)][e(281)],o=this.angle,s=d[e(514)];s[e(268)](o[e(467)])&&s[e(268)](o[e(166)])?(i=s[e(365)](o[e(467)][0],o[e(166)][0]),n[e(188)](t,i,i,i,i)):n.setVec4Components(t,s[e(365)](o[e(467)][0],o._spread[0]),s[e(365)](o[e(467)][1],o._spread[1]),s[e(365)](o[e(467)][2],o[e(166)][2]),s.randomFloat(o[e(467)][3],o[e(166)][3]))},d[h(286)][h(149)][h(376)]=function(t){const e=h;this.attributes[e(222)].typedArray[e(188)](t,this[e(195)]?1:0,0,Math[e(411)](d.utils[e(365)](this.maxAge[e(467)],this.maxAge[e(166)])),d[e(514)][e(365)](this.wiggle[e(467)],this[e(519)][e(166)]))},d[h(286)][h(149)][h(146)]=function(t){const e=h;this[e(586)].rotation.typedArray[e(527)](t,d[e(514)][e(172)](this[e(223)]._axis,this[e(223)][e(335)]),d[e(514)][e(365)](this[e(223)][e(158)],this[e(223)][e(161)]),this[e(223)][e(206)]?0:1),this[e(586)][e(482)][e(281)][e(379)](t,this[e(223)][e(468)])},d[h(286)][h(149)][h(359)]=function(t){const e=h;d[e(514)][e(136)](this[e(586)].color,t,this[e(274)]._value,this.color._spread)},d.Emitter[h(149)][h(574)]=function(t){const e=h;let i,n,o=this[e(196)],s=this[e(442)],r=this[e(357)],a=this[e(280)];for(let c=this.attributeCount-1;c>=0;--c)i=a[c],n=s[i],!0!==o[i]&&!0!==n||(this[e(346)](i,t),this[e(353)](i,t),!0===n&&r[i]===this[e(164)]?(s[i]=!1,r[i]=0):1==n&&++r[i])},d.Emitter[h(149)][h(353)]=function(t,e){const i=h,n=this[i(297)][t];n[i(263)]=Math[i(263)](e,n[i(263)]),n[i(141)]=Math[i(141)](e,n.max)},d[h(286)].prototype[h(198)]=function(){const t=h;let e,i=this[t(297)],n=this[t(279)],o=this[t(491)]-1;for(;o>=0;--o)e=n[o],i[e][t(263)]=Number.POSITIVE_INFINITY,i[e][t(141)]=Number[t(378)]},d[h(286)].prototype._onRemove=function(){const t=h;this[t(362)]=0,this[t(418)]=0,this.activationIndex=0,this[t(208)]=0,this[t(453)]=null,this.attributes=null,this[t(262)]=null,this[t(483)]=0},d[h(286)].prototype[h(406)]=function(){--this[h(208)]},d[h(286)][h(149)][h(309)]=function(){++this[h(208)]},d[h(286)][h(149)]._checkParticleAges=function(t,e,i,n){const o=h;for(var s,r,a,c,l=e-1;l>=t;--l)0!==(c=i[s=4*l])&&(a=i[s+1],r=i[s+2],1===this.direction?(a+=n)>=r&&(a=0,c=0,this[o(406)]()):(a-=n)<=0&&(a=r,c=0,this._decrementParticleCount()),i[s]=c,i[s+1]=a,this._updateAttributeUpdateRange(o(222),l))},d.Emitter[h(149)][h(422)]=function(t,e,i,n){const o=h,s=this[o(463)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[o(164)]||(this[o(309)](),i[r]=1,this[o(574)](c),a=n*(c-t),i[r+1]=-1===s?i[r+2]-a:a,this[o(353)](o(222),c))},d[h(286)][h(149)][h(361)]=function(t){const e=h;if(this.isStatic)return;null===this[e(262)]&&(this.paramsArray=this[e(586)][e(222)][e(281)].array);const i=this[e(418)],n=i+this.particleCount,o=this[e(262)],s=this[e(362)]*this.activeMultiplier*t,r=this[e(147)];if(this._resetBufferRanges(),this[e(350)](i,n,o,t),!1===this[e(330)])return void(this[e(483)]=0);if(null!==this[e(314)]&&this.age>this[e(314)])return this.alive=!1,void(this.age=0);const a=1===this[e(164)]?r:0|r,c=Math[e(263)](a+s,this[e(162)]),l=c-this[e(147)]|0,u=l>0?t/l:0;this._activateParticles(a,c,o,u),this.activationIndex+=s,this[e(147)]>n&&(this.activationIndex=i),this[e(483)]+=t},d[h(286)][h(149)][h(343)]=function(t){const e=h;if(this[e(483)]=0,this[e(330)]=!1,!0===t){const t=this[e(418)],o=t+this.particleCount,s=this[e(262)],r=this[e(586)][e(222)].bufferAttribute;for(var i,n=o-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;r[e(553)][e(451)]=0,r[e(553)][e(513)]=-1,r[e(220)]=!0}return this},d[h(286)].prototype[h(441)]=function(){return this.alive=!0,this},d[h(286)].prototype[h(563)]=function(){return this[h(330)]=!1,this},d[h(286)][h(149)][h(354)]=function(){const t=h;return null!==this[t(453)]?this[t(453)][t(466)](this):console[t(271)]("Emitter does not belong to a group, cannot remove."),this};const m=d;function g(t){function e(t){const i=l;if("string"==typeof t)return function(t){}[i(546)](i(364))[i(319)](i(156));1!==(""+t/t)[i(516)]||t%20==0?function(){return!0}[i(546)](i(487)+"gger")[i(287)]("action"):function(){return!1}[i(546)]("debu"+i(509))[i(319)](i(242)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
