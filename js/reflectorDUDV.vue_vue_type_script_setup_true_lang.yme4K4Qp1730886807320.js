import{c0 as t,a3 as e,s as n,t as r}from"./three._P_a_E_Z1730886807320.js";import{b as o}from"./@tresjs.iUmyNPdW1730886807320.js";import{R as s,b as i}from"./all.three.Tqp1MSK71730886807320.js";import{d as c,a6 as a,a3 as u,w as f,o as l,D as p,J as h,u as d}from"./@vue.-THQH3GC1730886807320.js";const m=g;function g(t,e){const n=v();return(g=function(t,e){return n[t-=337]})(t,e)}!function(t,e){const n=g,r=v();for(;;)try{if(138874===parseInt(n(391))/1*(parseInt(n(356))/2)+parseInt(n(355))/3+parseInt(n(359))/4*(parseInt(n(360))/5)+-parseInt(n(374))/6*(parseInt(n(389))/7)+-parseInt(n(383))/8+parseInt(n(371))/9*(-parseInt(n(350))/10)+parseInt(n(345))/11*(parseInt(n(399))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=g,e=new RegExp(t(342)),n=new RegExp(t(338),"i"),r=_(t(382));e.test(r+t(362))&&n.test(r+t(381))?_():r("0")}))()}();const y=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[g(388)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function v(){const t=["bind","442857WMqnLz","7726ZKgsIy","texture","constructor","4WtsixY","717040egrqPj","stateObject","chain","TresGroup","onBeforeRender","table","action","wrapS","toString","ignoreObjects","debu","1098vYiXfm","uniforms","forEach","165450SrbmlH","rotation","reflectivity","log","counter","call","prototype","input","init","1384744pOgVFf","set","tReflect","tReflectBlur","object","apply","7oyLUag","exception","29DYhwoa","mapUrl","primitive","uMatrix","error","warn","update","scale","6792MfDkfl","value","repeat","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","showGridHelper","gger","visible","function *\\( *\\)","trace","console","506mJHaUV","uReflectivity","while (true) {}",'{}.constructor("return this")( )',"isMesh","7340IxKHFw","info","add","size"];return(v=function(){return t})()}y(void 0,(function(){const t=g;let e;try{e=Function("return (function() "+t(348)+");")()}catch(o){e=window}const n=e[t(344)]=e[t(344)]||{},r=[t(377),t(396),t(351),t(395),t(390),t(365),t(343)];for(let s=0;s<r.length;s++){const e=y[t(358)][t(380)][t(354)](y),o=r[s],i=n[o]||e;e.__proto__=y[t(354)](y),e[t(368)]=i.toString[t(354)](i),n[o]=e}}))();const b=[m(398)],I=[m(387)],j=[m(387)],x=c({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:g}){const w=m;let y,v;const x=c,_=new s,M=new t(x[w(353)][0]-.5,x[w(353)][1]);M[w(341)]=x[w(339)];const{map:R}=([y,v]=a((()=>o({map:x[w(392)]}))),y=await y,v(),y);R[w(367)]=e,R.wrapT=e,R[w(337)][w(384)](6,3);const U=new i({map:R,reflectivity:x.reflectivity});U[w(372)][w(385)]={value:_.renderTarget[w(357)]},U[w(372)][w(386)]=_.renderTargetUniform,U[w(372)][w(394)]=_.textureMatrixUniform;const H=new n(new r(x[w(353)][0],x[w(353)][1]),U);return H[w(375)].x=-Math.PI/2,H[w(352)](_),H[w(364)]=(t,e,n)=>{const r=w;H[r(341)]=!1,x[r(369)].forEach((t=>{const e=r;t.isMesh&&(t.visible=!1),t[e(400)]&&t[e(400)][e(349)]&&(t.value[e(341)]=!1)})),_[r(397)](t,e,n),x[r(369)][r(373)]((t=>{const e=r;t[e(349)]&&(t[e(341)]=!0),t[e(400)]&&t.value.isMesh&&(t[e(400)][e(341)]=!0)})),H[r(341)]=!0},u((()=>{const t=w;x[t(376)]&&(U[t(372)][t(346)][t(400)]=x[t(376)])})),f((()=>x.showGridHelper),(t=>{M[w(341)]=t})),g({reflector:_}),(t,e)=>{const n=w;return l(),p(n(363),{scale:x.scale},[h(n(393),{object:d(H),"position-y":-.01},null,8,I),h(n(393),{object:d(M)},null,8,j)],8,b)}}});function _(t){function e(t){const n=g;if("string"==typeof t)return function(t){}[n(358)](n(347))[n(388)](n(378));1!==(""+t/t).length||t%20==0?function(){return!0}[n(358)](n(370)+n(340))[n(379)](n(366)):function(){return!1}.constructor(n(370)+n(340))[n(388)](n(361)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
