import{i as n}from"./ice-utils.LgYbDZuo1740450466561.js";import{_ as t,m as e}from"./gl-matrix.oVMHBNGj1740450466561.js";import{P as o}from"./tweakpane.yDiyAAkA1740450466561.js";import{d as r,r as i,q as a,o as c,H as s,N as u,u as f}from"./@vue.NRI7TcgI1740450466561.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",x=_;function _(n,t){const e=E();return(_=function(n,t){return e[n-=428]})(n,t)}!function(n,t){const e=_,o=E();for(;;)try{if(356803===parseInt(e(449))/1+-parseInt(e(529))/2*(parseInt(e(442))/3)+parseInt(e(461))/4+-parseInt(e(496))/5*(-parseInt(e(495))/6)+parseInt(e(504))/7*(parseInt(e(448))/8)+-parseInt(e(431))/9*(parseInt(e(463))/10)+parseInt(e(500))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const d=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[_(520)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){d(this,(function(){const n=_,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(485),"i"),o=A("init");t.test(o+n(459))&&e[n(518)](o+n(457))?A():o("0")}))()}();const p=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(){const n=["mat4","input","log","chain","ortho","395736QPfRMo","UNSIGNED_BYTE","110CgJgiW","uniform1f","counter",'{}.constructor("return this")( )',"call","querySelector","offset_right_top","canvas","exception","while (true) {}","FRAMEBUFFER","texParameteri","FLOAT","error","offset_left_top","TEXTURE_WRAP_S","none","bindFramebuffer","create","COLOR_BUFFER_BIT","return (function() ","TEXTURE_MAG_FILTER","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","CLAMP_TO_EDGE","TEXTURE_WRAP_T","getUniformLocation","color","logo-texture","toString","BYTES_PER_ELEMENT","change","ELEMENT_ARRAY_BUFFER","6nZcOjp","1248715hmKxBW","是否后处理","warn","ONE_MINUS_SRC_ALPHA","1046551ikIoca","constructor","height","stateObject","7Nsxlwy","hidden","width","addBinding","value","action","mixParam","BLEND","webgl","bindBuffer","SRC_ALPHA","bufferData","clearColor","STATIC_DRAW","test","clear","apply","addBlade","uModel","innerWidth","createFramebuffer","vertexAttribPointer","useProgram","webglPostProcessing","#canvaswebgl","80XcCrhh","length","ARRAY_BUFFER","scale","prototype","TEXTURE_MIN_FILTER","uniformMatrix4fv","__proto__","RGBA","499437xDgTbP","trace","offset_right_bottom","framebufferTexture2D","gger","slider","uProjection","console","drawElements","bindTexture","COLOR_ATTACHMENT0","38328WuiUqX","offset_left_bottom","innerHeight","enableVertexAttribArray","bind","lookAt","4176296drVLNR","512411wgissP","createBuffer","src","debu","texImage2D","TEXTURE_2D","inline"];return(E=function(){return n})()}p(void 0,(function(){const n=_;let t;try{t=Function(n(483)+n(466)+");")()}catch(r){t=window}const e=t.console=t[n(438)]||{},o=[n(458),n(498),"info",n(476),n(471),"table",n(432)];for(let i=0;i<o[n(530)];i++){const t=p[n(501)][n(533)][n(446)](p),r=o[i],a=e[r]||t;t[n(429)]=p[n(446)](p),t[n(491)]=a[n(491)][n(446)](a),e[r]=t}}))();const g={id:"canvaswebgl"},R=[x(451)],T=r({__name:x(527),setup(r){const _=x;let d,p,E,T,A,b,y,F,v,h,P,w,C;const I=1,B=.71,U=.76,S=new o({title:"参数"}),D=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});S[_(521)]({view:_(436),label:"颜色",min:0,max:1,value:.5}).on(_(493),(n=>{const t=_;j(),p[t(464)](w,n[t(508)])}));let L=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);S[_(507)](D,_(505),{label:_(497)}),S.addBinding(D,"offset_right_top",{picker:_(455),x:{min:0,max:1},y:{min:0,max:1}}).on(_(493),(n=>{const t=_;L[0]=D[t(469)].x,L[1]=D[t(469)].y,j()})),S[_(507)](D,_(433),{picker:_(455),x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(n=>{const t=_;L[5]=D[t(433)].x,L[6]=D[t(433)].y,j()})),S[_(507)](D,_(443),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(493),(n=>{const t=_;L[10]=D.offset_left_bottom.x,L[11]=D[t(443)].y,j()})),S[_(507)](D,"offset_left_top",{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(493),(n=>{const t=_;L[15]=D[t(477)].x,L[16]=D[t(477)].y,j()})),a((()=>{M()}));const M=function(){const t=_;d=document[t(468)](t(528)),d.width=window[t(523)],d[t(502)]=window[t(444)],p=d.getContext(t(512)),p&&(function(){const t=_,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);T=X(e,o),E=n(p,l,m),v=p[t(488)](E,t(437)),h=p[t(488)](E,"uView"),P=p[t(488)](E,t(522)),C=k(document.getElementById(t(490)))}(),j(),p.enable(p[t(511)]),p.blendFunc(p[t(514)],p[t(499)]),N())};function N(){const n=_;p[n(480)](p[n(473)],y),p[n(516)](I,B,U,1),p[n(519)](p.COLOR_BUFFER_BIT),function(){const n=_;p[n(526)](E),p[n(513)](p[n(531)],T);const o=t[n(456)][n(481)]();e[n(460)](o,0,d[n(506)],d[n(502)],0,.1,100),p[n(428)](v,!1,o);const r=e[n(481)]();t[n(456)][n(447)](r,[0,0,1],[0,0,0],[0,1,0]),p[n(428)](h,!1,r),O(C,600,600),O(C,400,400)}(),p[n(480)](p.FRAMEBUFFER,null),D.hidden&&(p[n(519)](p[n(482)]),p.clearColor(0,0,1,1),p[n(513)](p[n(531)],A),p[n(526)](b),p[n(440)](p[n(454)],F)),p[n(439)](p.TRIANGLES,6,p[n(462)],0),requestAnimationFrame(N)}function O(n,e,o){const r=_;let i=t[r(456)][r(481)]();t[r(456)].translate(i,i,[e,o,0]),t[r(456)][r(532)](i,i,[250,250,0]),p[r(428)](P,!1,i),p[r(440)](p[r(454)],n),p[r(439)](p.TRIANGLES,6,p[r(462)],0)}function j(){const t=_,e=new Uint8Array([0,1,2,0,2,3]);A=X(L,e),b=n(p,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),w=p[t(488)](b,t(510)),p[t(488)](b,t(489)),function(){const n=_;F=k(d),y=p[n(524)](),p.bindFramebuffer(p.FRAMEBUFFER,y),p[n(434)](p[n(473)],p[n(441)],p[n(454)],F,0),p[n(480)](p[n(473)],null)}()}function k(n){const t=_,e=p.createTexture();return p[t(440)](p[t(454)],e),n instanceof HTMLImageElement?p[t(453)](p.TEXTURE_2D,0,p[t(430)],p[t(430)],p[t(462)],n):p.texImage2D(p[t(454)],0,p[t(430)],n[t(506)],n[t(502)],0,p[t(430)],p[t(462)],null),p[t(474)](p[t(454)],p[t(534)],p.NEAREST),p[t(474)](p[t(454)],p[t(484)],p.NEAREST),p[t(474)](p[t(454)],p[t(478)],p[t(486)]),p[t(474)](p[t(454)],p[t(487)],p[t(486)]),e}function X(n,t){const e=_,o=p[e(450)]();p[e(513)](p.ARRAY_BUFFER,o),p.bufferData(p[e(531)],n,p[e(517)]);const r=3*Float32Array.BYTES_PER_ELEMENT+2*Float32Array[e(492)];p[e(525)](0,3,p[e(475)],!1,r,0),p[e(445)](0),p.vertexAttribPointer(1,2,p[e(475)],!1,r,3*Float32Array[e(492)]),p[e(445)](1);const i=p.createBuffer();return p.bindBuffer(p[e(494)],i),p[e(515)](p[e(494)],t,p[e(517)]),p.bindBuffer(p[e(531)],null),o}return(n,t)=>{const e=_;return c(),s(e(470),g,[u("img",{id:e(490),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(479)}},null,8,R)])}}});function A(n){function t(n){const e=_;if("string"==typeof n)return function(n){}[e(501)](e(472))[e(520)](e(465));1!==(""+n/n)[e(530)]||n%20==0?function(){return!0}.constructor(e(452)+e(435))[e(467)](e(509)):function(){return!1}[e(501)](e(452)+e(435)).apply(e(503)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{T as default};
