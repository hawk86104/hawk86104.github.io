var t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d=Object.defineProperty,w=(t,e,s)=>(((t,e,s)=>{e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as g}from"./pagesShow.vue_vue_type_script_setup_true_lang.HJ8gP1ch1736493808390.js";import{_ as S,V as y,C as x,g as v,f as I,an as P,a as A,X as F,cv as z,as as b,az as E,k as T,a2 as R}from"./three.lAfZYOpc1736493808390.js";import{m as O,e as q}from"./@tresjs.g7tJPOCI1736493808390.js";import{d as V,b as C,a1 as M,o as N,f as _,g as U,j as B}from"./@vue.-Mz_IXfk1736493808390.js";import"./three-custom-shader-material.eKT8KwaV1736493808390.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736493808390.js";import"./@vueuse.kU-N6GoC1736493808390.js";const j=lt;!function(t,e){const s=lt,n=Mt();for(;;)try{if(497650===parseInt(s(696))/1*(parseInt(s(557))/2)+-parseInt(s(801))/3+parseInt(s(521))/4+parseInt(s(560))/5+-parseInt(s(683))/6*(-parseInt(s(725))/7)+-parseInt(s(501))/8*(-parseInt(s(859))/9)+-parseInt(s(537))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const D=class{constructor(t){this[j(622)]=t}};t=j(513),e=j(630),w(D,t,new D(j(513))),w(D,e,new D(j(630)));let X=D;class W{constructor(){this[j(500)]()}init(){const t=j;this[t(663)]=X[t(513)],this[t(766)]=1,this[t(847)]=0,this[t(623)]=new(S[t(877)]),this[t(423)]=new y,this[t(852)]=new(S[t(662)]),this.acceleration=new(S[t(662)]),this[t(502)]=new(S[t(662)]),this[t(774)]=0,this[t(840)]=0,this.size=new(S[t(548)]),this[t(788)]=new x,this[t(739)]=1,this[t(426)]=new(S[t(548)]),this[t(871)]=new(S[t(645)]),this[t(723)]=1}[j(474)](t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d){const w=j;this[w(663)]=t,this.lifetime=e,this[w(847)]=s,this.sequenceElement[w(697)](n),this[w(423)].copy(i),this.velocity.copy(r),this[w(579)][w(697)](a),this[w(502)].copy(o),this[w(774)]=c,this[w(840)]=h,this.size=l,this.color[w(697)](u),this[w(739)]=p,this[w(426)].copy(m),this.initialColor[w(697)](f),this[w(723)]=d}copyTo(t){const e=j;t[e(474)](this[e(663)],this.lifetime,this[e(847)],this.sequenceElement,this[e(423)],this[e(852)],this.acceleration,this[e(502)],this[e(774)],this[e(840)],this[e(600)],this[e(788)],this.alpha,this[e(426)],this[e(871)],this[e(723)])}copy(t){const e=j;this[e(474)](t.progressType,t[e(766)],t[e(847)],t.sequenceElement,t[e(423)],t[e(852)],t[e(579)],t[e(502)],t[e(774)],t.rotationalSpeed,t.size,t[e(788)],t[e(739)],t[e(426)],t[e(871)],t[e(723)])}}class Y{constructor(){w(this,s,function(){const t=j,e=new y;return function(s=new(S[t(668)]),n=null){const i=t,r=s[i(664)],a=s[i(485)];for(let t=0;t<this[i(759)];t++){const s=this[i(756)](t);let o=s[i(423)];n&&(e[i(697)](o),e[i(617)](n),o=e);const c=Math[i(485)](s[i(600)].x,s.size.y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,f=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=f)}return s}}()),w(this,"computeBoundingSphere",function(){const t=j,e=new(S[t(662)]),s=new y,n=new(S[t(662)]);return function(i=new v,r=null){const a=t;let o=0;for(let t=0;t<this[a(759)];t++){const i=this[a(756)](t);let c=i[a(423)];r&&(n[a(697)](c),n[a(617)](r),c=n);const h=Math[a(485)](i.size.x,i[a(600)].y);if(0==t)e[a(697)](c),o=h;else{s[a(697)](c)[a(642)](e);const t=s[a(777)]()+h;if(t>o){const n=(t-o)/2;s[a(580)]()[a(446)](n),e[a(447)](s),o+=n}}}return i[a(638)][a(697)](e),i[a(761)]=o,i}}());const t=j;this.particleCount=0,this.activeParticleCount=0,this[t(517)]=[]}init(t){this[j(631)](t)}[j(631)](t){const e=j;this.particleCount!=t&&(this[e(762)](),this.allocate(t)),this[e(444)]=t}[j(867)](t){this.activeParticleCount=t}[j(467)](t){this[j(517)]=[],this.particleCount=t;for(let e=0;e<t;e++)this.particleStates[e]=new W}[j(762)](){}[j(656)](){return this[j(444)]}[j(786)](){}[j(705)](t,e){const s=j;if(t>=this[s(444)])throw new Error(s(468));if(e>=this.particleCount)throw new Error(s(640));const n=this[s(517)][t],i=this[s(517)][e];n.copyTo(i)}[j(655)](t,e){const s=j;if(t>=this[s(444)])throw new Error(s(779));return this[s(517)][t][s(697)](e)}getState(t){const e=j;if(t>=this[e(444)])throw new Error('ParticleStateArray::getState() -> "index" is out of range.');return this[e(517)][t]}}s=j(824);class J{constructor(t,e,s=0){const n=j;this[n(695)]=t,this[n(777)]=e,this.id=s}}class G{constructor(){const t=j;this.sequences={},this[t(435)]=[]}[j(699)](t,e,s){const n=j;if(this.hasID(s))throw new Error(n(408));const i=new J(t,e,s);return this.sequences[s]=i,this[n(435)][n(817)](s),i}getSequence(t){const e=j;if(!this[e(778)](t))throw new Error(e(571));return this[e(528)][t]}[j(555)](){return this[j(435)]}[j(778)](t){return!!this[j(528)][t]}}class k{constructor(){}[j(789)](t){const e=j;t[e(871)][e(803)](1,1,1),t[e(426)][e(803)](1,1),t[e(723)]=1,t[e(663)]=X.Time,t[e(766)]=0,t.age=0,t[e(623)].set(0,0,0,0),t[e(423)][e(803)](0,0,0),t[e(852)][e(803)](0,0,0),t[e(579)].set(0,0,0),t.normal[e(803)](0,0,1),t.rotation=0,t[e(840)]=0,t.size.copy(t[e(426)]),t.color[e(697)](t.initialColor),t[e(739)]=1}}class L extends k{constructor(){super()}[j(789)](t){super.initializeState(t)}}class Z{constructor(){}[j(732)](){}}class H extends Z{constructor(){const t=j;super(),this[t(637)]=new(S[t(662)]),this[t(771)]=new(S[t(662)]),this[t(440)]=new(S[t(662)]),this[t(603)]=new(S[t(662)])}updateState(t,e){const s=j;return super[s(732)](t,e),this[s(440)][s(697)](t[s(579)]),this[s(771)][s(697)](this[s(440)]),this[s(771)].multiplyScalar(e),t[s(852)].add(this.timeScaledAcceleration),this[s(603)][s(697)](t[s(852)]),this.timeScaledVelocity.copy(this[s(603)]),this[s(637)].multiplyScalar(e),t[s(423)][s(447)](this[s(637)]),t[s(847)]=t[s(847)]+e,t[s(774)]=t[s(774)]+e*t.rotationalSpeed,!0}}class ${static[j(639)](t,e,s){const n=j;return Math.min(Math[n(485)](t,e),s)}static currentTime(){return performance[j(825)]()/1e3}}class K{constructor(){this.components=[]}[j(543)](t){this[j(439)].push(t)}[j(522)](t,e){const s=j;for(const n of this[s(439)])n.update(t,e)}getComponent(t){const e=j;if(t>=this.components[e(777)])throw new Error('ComponentContainer::getComponent() -> "index" is out of range.');return this[e(439)][t]}}const Q=class{constructor(t){this[j(622)]=t}};n=j(738),i=j(618),r=j(497),w(Q,n,new Q("NotStarted")),w(Q,i,new Q(j(618))),w(Q,"Paused",new Q(j(869))),w(Q,r,new Q("Done"));let tt=Q;class et{constructor(t,e){w(this,"updateBounds",function(){const t=j,e=new(S[t(480)]);return function(){const s=t;let n=null;this[s(418)]&&(n=e,n.copy(this[s(647)].matrixWorld)[s(703)]()),this[s(483)][s(884)]()?(this[s(517)][s(824)](this[s(523)],n),this[s(483)][s(702)](this[s(523)])):(this[s(517)][s(872)](this[s(658)],n),this[s(483)][s(574)](this[s(658)]))}}());const s=j;this[s(647)]=t,this[s(647)][s(730)]=!1,this[s(730)]=!0,this[s(483)]=e,this[s(820)]=!1,this[s(588)]=0,this[s(759)]=0,this[s(626)]=!0,this.emitterInitialized=!1,this[s(411)]=null,this[s(534)]=new K,this[s(437)]=[],this[s(419)]=[],this[s(517)]=null,this[s(597)]=tt[s(738)],this[s(858)]=new G,this[s(854)]=null,this.transformInitialDirectionInWorldSpace=!0,this.boundingBox=new I,this[s(658)]=new(S[s(531)])}init(t){const e=j;if(this[e(820)])throw new Error(e(614));this[e(588)]=t,this[e(483)]?(this[e(483)][e(463)](this.owner),this[e(483)].init(this[e(588)],this[e(626)]),this[e(483)][e(605)](this.simulateInWorldSpace),this[e(517)]=this[e(483)][e(593)]()):(this.particleStates=new Y,this[e(517)][e(500)](this[e(588)])),this[e(776)](new L),this.addParticleStateOperator(new H),this[e(820)]=!0}[j(455)](){return this[j(730)]}[j(424)](t){return this.visible=t}[j(441)](t){this[j(854)]=t}update(t,e){const s=j;if(this[s(597)]==tt[s(618)]){if(this.owner[s(752)](!0),t=null==t||null==t?$[s(635)]():t,e=null==e||null==e?t-this[s(407)]:e,this[s(512)]&&this[s(597)]==tt[s(618)]){const t=this[s(411)][s(522)](e);t>0&&this[s(853)](t),this[s(740)](e),this[s(854)]&&this[s(854)](this[s(759)]),this[s(416)]()}this[s(534)][s(522)](t,e),this[s(407)]=t}}[j(809)](t,e){const s=j;if(this[s(455)]()&&this[s(483)]){const n=t[s(636)];t.autoClear=!1,this[s(647)][s(730)]=!0,this[s(647)][s(758)]=!0,this[s(483)][s(809)](this[s(647)],t,e),this[s(647)][s(730)]=!1,t.autoClear=n}}[j(695)](){const t=j;this[t(597)]!=tt[t(738)]&&this[t(597)]!=tt[t(869)]||(this[t(597)]=tt.Running,this[t(604)]=$[t(635)](),this[t(407)]=this[t(604)])}[j(595)](){const t=j;this.systemState==tt.Running&&(this[t(597)]=tt[t(869)])}[j(628)](){}[j(544)](){return this.systemState}setEmitter(t){const e=j;return this.particleEmitter=t,this[e(411)][e(588)]=this.maximumActiveParticles,this[e(512)]=!0,this.particleEmitter}[j(543)](t){const e=j;this[e(534)][e(543)](t)}[j(476)](t){const e=j;return this[e(534)][e(476)](t)}[j(776)](t){return this[j(437)].push(t),t}getParticleStateInitializerCount(){return this.particleStateInitializers.length}[j(627)](t){const e=j;if(t>=this[e(437)][e(777)])throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this.particleStateInitializers[t]}addParticleStateOperator(t){const e=j;return this[e(419)][e(817)](t),t}[j(676)](){return this[j(419)].length}getParticleStateOperator(t){const e=j;if(t>=this.particleStateOperators[e(777)])throw new Error(e(815));return this[e(419)][t]}getMaximumActiveParticles(){return this[j(588)]}getActiveParticleCount(){return this[j(759)]}[j(806)](t){const e=j;if(t>=this[e(759)])throw new Error(e(452));return this.particleStates[e(756)](t)}[j(549)](){return this[j(517)]}[j(583)](){return this[j(483)]}[j(675)](){return this[j(626)]}setSimulateInWorldSpace(t){const e=j;this[e(626)]=t,this[e(483)]&&this[e(483)][e(605)](this[e(626)])}setTransformInitialDirectionInWorldSpace(t){this.transformInitialDirectionInWorldSpace=t}[j(742)](t,e,s=0){const n=j;this[n(858)][n(699)](t,e,s)}[j(615)](){return this[j(858)]}getEmitter(){return this[j(411)]}[j(853)](t){const e=j;if(this[e(597)]==tt[e(618)]){const s=$[e(639)](this[e(759)]+t,0,this.maximumActiveParticles);for(let t=this[e(759)];t<s;t++)this[e(431)](t);this[e(759)]=s,this.particleStates.setActiveParticleCount(this.activeParticleCount)}}activateParticle(t){const e=j;if(this[e(597)]==tt[e(618)]){const s=this[e(517)][e(756)](t);s[e(847)]=0;for(let t=0;t<this[e(437)][e(777)];t++){this[e(437)][t][e(789)](s)}if(this[e(626)]){s[e(423)][e(617)](this[e(647)][e(510)]);const t=s[e(852)][e(777)]();if(this[e(418)]){s.velocity[e(812)](this.owner[e(510)]).multiplyScalar(t);const n=s.acceleration[e(777)]();s[e(579)][e(812)](this.owner[e(510)])[e(446)](n)}}this[e(517)][e(786)](t)}}advanceActiveParticles(t){const e=j;if(this.systemState==tt[e(618)]){let s=0;for(;s<this[e(759)];){this[e(863)](s,t)?s++:(s<this[e(759)]-1&&this.copyParticleInArray(this.activeParticleCount-1,s),this[e(759)]--)}this[e(517)][e(867)](this[e(759)])}}[j(863)](t,e){const s=j;if(this.systemState==tt.Running){const n=this[s(517)].getState(t);for(let t=0;t<this.particleStateOperators[s(777)];t++){const i=this[s(419)][t][s(732)](n,e),r=n[s(766)];if(!i||0!=r&&n[s(847)]>=r)return!1}return this[s(517)][s(786)](t),!0}return!1}[j(529)](t,e){const s=j;this[s(517)][s(705)](t,e),this[s(517)][s(786)](e)}static[j(743)](t,e,s){const n=j,i=(t,e,s)=>{const n=lt;e(t);for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];typeof s===n(430)&&i(s,e)}};i(t,(t=>{const s=lt;t.type&&(t[s(550)]=e[s(634)](t[s(550)]))}));const r=t.maxParticleCount,a=t[n(626)],o=t[n(589)],c=o.type.fromJSON(o[n(680)]),h=new P,l=new et(h,c,s);l[n(500)](r),l[n(605)](a);const u=t[n(596)],p=u[n(550)][n(743)](u[n(680)]);if(l[n(434)](p),t[n(528)])for(const m of t.sequences)l.addParticleSequence(m[n(695)],m[n(777)],m.id);if(t[n(493)])for(const m of t[n(493)])l[n(776)](m[n(550)].fromJSON(l,m.params));if(t[n(577)])for(const m of t[n(577)]){const t=l.addParticleStateOperator(m[n(550)][n(743)](l,m[n(680)]));m[n(578)]&&t.addElementsFromParameters(m[n(578)])}return[l,h]}toJSON(t){const e=j,s=this.getParticleSystemRenderer(),n=this[e(830)](),i=this[e(615)](),r=i[e(555)]()[e(782)]((t=>{const s=e,n=i[s(716)](t);return{id:t,start:n[s(695)],length:n[s(777)]}})),a=[],o=this[e(482)]();for(let l=0;l<o;l++){const s=this[e(627)](l);s[e(861)]!==L&&a[e(817)]({type:t[e(873)](s[e(861)]),params:s[e(862)](t)})}const c=[],h=this[e(676)]();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s.constructor!==H){const n=s.toJSON(t),i=n.params||n,r=n[e(680)]?n.elements:null,a={type:t[e(873)](s[e(861)]),params:i};r&&(a[e(578)]=r),c[e(817)](a)}}return{maxParticleCount:this[e(541)](),simulateInWorldSpace:this[e(675)](),renderer:{type:t.getTypePath(s[e(861)]),params:s.toJSON()},emitter:{type:t[e(873)](n.constructor),params:n[e(862)]()},sequences:r,initializers:a,operators:c}}}class st{constructor(){const t=j;this[t(855)]=[],this[t(625)]=performance.now()/1e3,this[t(407)]=this[t(625)],this[t(534)]=new K}[j(522)](){const t=j,e=$[t(635)](),s=e-this[t(407)];for(const n of this[t(855)])n.update(e,s);this[t(534)][t(522)](e,s),this[t(407)]=e}[j(809)](t,e){const s=j;for(const n of this[s(855)])n[s(809)](t,e)}[j(721)](t){const e=j;this[e(855)][e(817)](t)}addComponent(t){const e=j;this.componentContainer[e(543)](t)}[j(476)](t){return this[j(534)].getComponent(t)}}class nt{constructor(){const t=j;this[t(820)]=!1,this[t(444)]=0,this[t(647)]=null,this.simulateInWorldSpace=!1}[j(605)](t){this.simulateInWorldSpace=t}[j(593)](){}[j(463)](t){this[j(647)]=t}[j(500)](t){const e=j;if(this[e(444)]=t,!this[e(820)])return this[e(820)]=!0,!0;throw new Error("Renderer::init() -> trying to intialize more than once.")}[j(809)](){}}class it extends Y{constructor(){const t=j;super(),this[t(816)]=null,this[t(856)]=null,this[t(599)]=null,this[t(651)]=null,this[t(570)]=null,this.positions=null,this[t(478)]=null,this[t(551)]=null,this[t(532)]=null,this[t(747)]=null,this[t(672)]=null,this[t(832)]=null,this[t(733)]=null,this[t(462)]=null,this[t(805)]=null,this[t(885)]=!1,this[t(556)]=6}[j(500)](t,e=!1){const s=j;this[s(885)]=e,this.instanced?this.verticesPerParticle=1:this[s(556)]=6,super.init(t),this[s(467)](t)}[j(631)](t){super[j(631)](t)}[j(867)](t){const e=j;super[e(867)](t),t>0?this[e(885)]?this[e(816)][e(754)]=t:this[e(816)][e(785)](0,this.verticesPerParticle*t):this.instanced?this[e(816)][e(754)]=0:this[e(816)][e(785)](0,0)}[j(786)](t){const e=j;if(t>=this[e(444)])throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this[e(756)](t),n=t*this[e(556)];for(let i=0;i<this[e(556)];i++)this[e(599)].setX(n+i,s[e(766)]),this[e(599)][e(504)]=!0,this[e(651)].setX(n+i,s.age),this.ages[e(504)]=!0,this.sequenceElements.setXYZW(n+i,s[e(623)].x,s[e(623)].y,s[e(623)].z,s.sequenceElement.w),this[e(570)][e(504)]=!0,this[e(428)][e(511)](n+i,s[e(423)].x,s[e(423)].y,s[e(423)].z),this[e(428)][e(504)]=!0,this[e(478)][e(511)](n+i,s[e(852)].x,s[e(852)].y,s[e(852)].z),this[e(478)].needsUpdate=!0,this.accelerations[e(511)](n+i,s[e(579)].x,s[e(579)].y,s.acceleration.z),this[e(551)].needsUpdate=!0,this[e(532)][e(511)](n+i,s[e(502)].x,s.normal.y,s[e(502)].z),this[e(532)][e(504)]=!0,this[e(747)][e(685)](n+i,s[e(774)]),this[e(747)][e(504)]=!0,this[e(672)][e(685)](n+i,s[e(840)]),this[e(672)][e(504)]=!0,this[e(832)][e(770)](n+i,s.size.x,s[e(600)].y),this[e(832)][e(504)]=!0,this[e(733)][e(511)](n+i,s[e(788)].r,s[e(788)].g,s[e(788)].b),this[e(733)][e(504)]=!0,this[e(621)].setX(n+i,s.alpha),this[e(621)][e(504)]=!0,this[e(462)].setXY(n+i,s.initialSize.x,s[e(426)].y),this[e(462)].needsUpdate=!0,this[e(530)][e(685)](n+i,s[e(723)]),this.initialAlphas[e(504)]=!0}copyState(t,e){const s=j;super[s(705)](t,e),this[s(786)](e)}setState(t,e){const s=j;if(t>=this.particleCount)throw new Error(s(619));super[s(655)](t,e),this[s(786)](t)}getPositions(){return this[j(428)]}getSizes(){return this[j(832)]}[j(813)](){return this.rotations}[j(870)](){return this.sequenceElements}[j(792)](){return this[j(733)]}[j(864)](){return this[j(816)]}allocate(t){const e=j;super[e(467)](t);const s=(t,s)=>{const n=e;return this[n(885)]?new(S[n(684)])(t,s):new A(t,s)},n=this[e(556)]*this.particleCount;if(this[e(885)]){const t=new(S[e(489)]),s=new Float32Array(18);this[e(876)]=new(S[e(760)])(s,3),t.setAttribute(e(423),this[e(876)]),this[e(876)][e(504)]=!0,this[e(876)][e(511)](0,-1,1,0),this[e(876)].setXYZ(1,-1,-1,0),this.basePositions[e(511)](2,1,1,0),this[e(876)][e(511)](3,-1,-1,0),this[e(876)].setXYZ(4,1,-1,0),this[e(876)][e(511)](5,1,1,0);const n=new Float32Array(12);this.baseUVs=new(S[e(760)])(n,2),t[e(406)](e(420),this[e(710)]),this[e(710)].needsUpdate=!0,this.baseUVs[e(770)](0,0,1),this.baseUVs[e(770)](1,0,0),this[e(710)][e(770)](2,1,1),this.baseUVs.setXY(3,0,0),this[e(710)][e(770)](4,1,0),this[e(710)][e(770)](5,1,1);const i=new Float32Array(6);this.customIndexes=new(S[e(760)])(i,1),t.setAttribute(e(438),this[e(539)]),this[e(539)][e(504)]=!0,this.customIndexes[e(685)](0,0),this.customIndexes[e(685)](1,1),this[e(539)].setX(2,3),this[e(539)][e(685)](3,1),this[e(539)][e(685)](4,2),this.customIndexes[e(685)](5,3),this[e(816)]=(new(S[e(643)]))[e(697)](t),this[e(816)][e(754)]=0}else{this[e(816)]=new(S[e(489)]);const t=new Float32Array(n);this.customIndexes=new A(t,1),this[e(816)].setAttribute("customIndex",this[e(539)]),this.customIndexes[e(504)]=!0;for(let s=0;s<this[e(444)];s++){const t=s*this[e(556)];this[e(539)][e(685)](t,0),this[e(539)].setX(t+1,1),this.customIndexes[e(685)](t+2,3),this[e(539)][e(685)](t+3,1),this.customIndexes.setX(t+4,2),this.customIndexes[e(685)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),d=new Float32Array(n),w=new Float32Array(2*n),g=new Float32Array(3*n),y=new Float32Array(n);this[e(428)]=s(o,3),this[e(428)][e(459)](F),this[e(816)].setAttribute(e(838),this[e(428)]),this.lifetimes=s(i,1),this.lifetimes[e(459)](S[e(842)]),this.geometry[e(406)](e(766),this[e(599)]),this[e(651)]=s(r,1),this[e(651)][e(459)](F),this[e(816)][e(406)]("age",this[e(651)]),this.sequenceElements=s(a,4),this[e(570)].setUsage(S[e(842)]),this[e(816)][e(406)](e(623),this[e(570)]),this.velocities=s(c,3),this[e(478)][e(459)](S[e(842)]),this.geometry[e(406)](e(852),this[e(478)]),this[e(551)]=s(h,3),this[e(551)][e(459)](S[e(842)]),this[e(816)].setAttribute("acceleration",this[e(551)]),this.normals=s(l,3),this[e(532)][e(459)](S[e(842)]),this[e(816)][e(406)]("normal",this[e(532)]),this[e(747)]=s(u,1),this.rotations.setUsage(S[e(842)]),this[e(816)][e(406)]("rotation",this[e(747)]),this.rotationalSpeeds=s(p,1),this[e(672)][e(459)](S[e(842)]),this[e(816)][e(406)](e(840),this[e(672)]),this.sizes=s(m,2),this[e(832)][e(459)](S[e(842)]),this[e(816)][e(406)](e(600),this.sizes),this[e(733)]=s(f,3),this[e(733)][e(459)](S[e(842)]),this[e(816)][e(406)](e(788),this[e(733)]),this[e(621)]=s(d,1),this.alphas[e(459)](F),this.geometry[e(406)]("alpha",this.alphas),this[e(462)]=s(w,2),this[e(462)][e(459)](S[e(842)]),this[e(816)][e(406)](e(426),this[e(462)]),this[e(805)]=s(g,3),this[e(805)].setUsage(S[e(842)]),this[e(816)][e(406)](e(871),this[e(805)]),this[e(530)]=s(y,1),this.initialAlphas.setUsage(S[e(842)]),this[e(816)].setAttribute(e(723),this[e(530)])}[j(762)](){const t=j;super[t(762)](),this.geometry&&(this[t(816)][t(762)](),this.geometry=null)}}class rt{constructor(t,e,s,n,i){const r=j;this[r(777)]=t,this.x=e,this.y=s,this[r(795)]=n,this.height=i}}class at{constructor(t,e){this[j(804)]=t,this.texturePath=e,this.frameSets=[]}[j(514)](){return this.texture}[j(670)](){return this[j(879)]}[j(818)](){const t=j;return this[t(620)][t(777)]}[j(481)](t,e,s,n,i){const r=j;this[r(620)][r(817)](new rt(t,e,s,n,i))}getFrameSet(t){const e=j;if(t>=this[e(620)].length)throw new Error(e(839));return this[e(620)][t]}}const ot=class t extends nt{constructor(t,e,s=!1,n=z,i=!0,r){const o=j;super(),w(this,a,function(){const t=j,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[lt(492)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=lt,e=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Nt("init");e[t(811)](n+t(610))&&s[t(811)](n+t(433))?Nt():n("0")}))()}();const s=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();s(this,(function(){const t=lt;let e;try{e=Function(t(413)+t(421)+");")()}catch(r){e=window}const n=e[t(802)]=e[t(802)]||{},i=[t(657),t(748),t(592),"error","exception","table",t(735)];for(let a=0;a<i.length;a++){const e=s[t(861)][t(781)][t(661)](s),r=i[a],o=n[r]||e;e[t(498)]=s[t(661)](s),e[t(506)]=o.toString[t(661)](o),n[r]=e}}))();const n=new(S[t(662)]);return function(){const e=t,s=this.particleStateArray[e(864)]();if(this.calculateBoundingSphereFromBox){s[e(523)]||(s.boundingBox=new I),s[e(523)][e(697)](this[e(523)]),!s[e(658)]&&(s[e(658)]=new(S[e(531)])),n.x=(this[e(523)][e(664)].x+this[e(523)][e(485)].x)/2,n.y=(this.boundingBox[e(664)].y+this[e(523)][e(485)].y)/2,n.z=(this[e(523)][e(664)].z+this[e(523)][e(485)].z)/2;const t=this[e(523)].max.x-n.x,i=this[e(523)][e(485)].y-n.y,r=this[e(523)][e(485)].z-n.z,a=Math[e(485)](Math.max(t,i),r);s[e(658)].center.copy(n),s[e(658)].radius=Math[e(609)](2*a*a)}else s[e(658)]||(s[e(658)]=new v),s[e(658)].copy(this.boundingSphere)}}()),this[o(885)]=t,this.particleStateArray=null,this.material=null,this[o(445)]=null,this.atlas=e,this.interpolateAtlasFrames=s,this[o(526)]=n,this[o(523)]=new(S[o(668)]),this[o(658)]=new(S[o(531)]),this[o(503)]=i,this[o(827)]=r}setOwner(t){super[j(463)](t)}[j(593)](){return this[j(751)]}[j(605)](t){const e=j;super.setSimulateInWorldSpace(t),this[e(525)]&&(this[e(525)][e(837)].simulateInWorldSpace[e(848)]=t?1:0,this[e(525)][e(690)]=!0)}[j(884)](){return this.calculateBoundingSphereFromBox}[j(702)](t){const e=j;this[e(523)][e(697)](t),this[e(445)]&&this[e(843)]()}[j(574)](t){const e=j;this[e(658)].copy(t),this[e(445)]&&this[e(843)]()}render(t,e,s){e.render(t,s)}[(a=j(843),j(500))](t){const e=j;super.init(t)&&(this[e(751)]=new it,this[e(751)][e(500)](t,this[e(885)]),this[e(525)]=this[e(746)](null,null,null,!0,!1),this.material[e(526)]=this.blending,this[e(445)]=new(S[e(641)])(this[e(751)][e(864)](),this[e(525)]),this[e(445)][e(472)]=!0,void 0!==this[e(827)]&&(this[e(445)][e(827)]=this[e(827)]),this[e(843)](),this[e(647)].add(this[e(445)]))}[j(762)](){const t=j;this[t(751)][t(762)]()}[j(746)](e,s,n,i,r){const a=j,o=[...Array(16).keys()].map((t=>new b));if(this.atlas)for(let t=0;t<this.atlas[a(818)]();t++){const e=this[a(823)][a(432)](t);o[t]=new(S[a(877)])(e.x,e.y,e[a(795)],e[a(461)])}const c=this[a(823)]?this.atlas[a(514)]():null,h=this[a(706)],l=this.simulateInWorldSpace,u=this[a(885)]?1:0,p={atlasFrameSet:{type:"v4v",value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(S[a(548)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(587)](n,p),e=e||t[a(775)].getVertexShader(r),s=s||t[a(775)].getFragmentShader(i,r),new(S[a(414)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:S[a(719)],blendDstAlpha:S[a(425)],blendSrcAlpha:S[a(515)],depthTest:!0,depthWrite:!1})}static[(o=j(775),j(743))](e){const s=j,n=e[s(823)],i=(new(S[s(427)])).load(n[s(879)]),r=new at(i,n[s(879)]),a=n[s(798)];for(const t of a)r[s(481)](t[s(777)],t.x,t.y,t[s(795)],t.height);const o=new t(e[s(885)],r,n[s(591)]);return e[s(526)]==s(561)?o.blending=E:o[s(526)]=S[s(719)],o}[j(862)](t){const e=j;t=t||(t=>{const e=lt;if(t.texturePath)return t[e(879)];const s=t.getTexture()[e(757)];if(s){const t=s[e(836)];if(t){const s=t[e(442)],n=t[e(713)];return n[e(454)](s)>=0?n[e(688)](s[e(777)],n.length-s.length):n}}});const s=[];for(let i=0;i<this[e(823)][e(818)]();i++){const t=this.atlas[e(432)](i);s[e(817)](t)}let n=e(745);this[e(525)].blending===S[e(412)]&&(n="Additive");return{instanced:this[e(885)],blending:n,atlas:{interpolateFrames:this[e(706)],texturePath:t(this.atlas),framesets:s}}}};w(ot,o,{get VertexVars(){const t=j;return["const int MAX_ATLAS_FRAME_SETS = 16; \n",t(499),t(686),t(875),t(466),"attribute vec2 baseUV;\n",t(714),"attribute vec4 particlePosition;\n",t(443),t(582),t(652),"attribute vec3 color;\n",t(469),"varying vec2 vUV1;\n",t(860),"varying vec3 vFragColor;\n","varying float vFragAlpha;\n",t(882)][t(693)]("\n")},get FragmentVars(){const t=j;return[t(686),t(568),t(470),t(734),t(860),"varying vec3 vFragColor;\n",t(728),t(689)].join("\n")},getVertexShader(t){const e=j;let s=["#include <common>",this[e(581)]].join("\n");return t&&(s+=e(821)),s+=[e(575),e(473),e(765),e(460),e(709),"   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n",e(681),e(520),e(783),e(737),e(698),e(769),e(491),e(471),e(868),e(707),e(720),e(822),e(464),e(883),"{\n","   const vec2 right = vec2(1.0, 0.0);\n",e(624),e(453),e(456),"   const vec2 uRight = vec2(1.0, 1.0);\n",e(509),e(545),e(700),e(796),e(660),"       viewPosition = viewMatrix * particlePosition;\n",e(866),e(601),"   } \n","   float sequenceElementF = sequenceElement.x;\n",e(692),"   int sequenceStart = int(sequenceElement.z);\n",e(584),e(665),"   vec2 uv1; \n",e(807),e(712),"   int firstSequenceElement = int(sequenceElementF); \n","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n",e(538),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(563),e(415),e(473),e(765),e(650),"   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n",e(554),"   float upperSide; \n",e(594),e(573),e(857),e(829),"   }  else { \n",e(508),e(646),"   } \n","   float uvXOffset = atlasFrameWidth * rightSide; \n","   float uvYOffset = atlasFrameHeight * upperSide; \n",e(558),e(594),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(612),e(518),e(666),"       float dRightV = rotVecStep.w - rotVecStep.z; \n",e(691),"   }  else { \n",e(586),e(415),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",e(562),"   vFragAlpha = alpha; \n"][e(693)]("\n"),t&&(s+=e(753)),s+=e(464),s},getFragmentShader(t,e){const s=j;let n=s(654)+this.FragmentVars+"\n";return e&&(n+=s(487)),n+=s(865),e&&(n+=s(616)),n+=t?[s(559),s(450),s(546),s(653),s(606)][s(693)]("\n"):[s(598),s(450),s(546),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(606)].join("\n"),n+="}\n",n}});let ct=ot;class ht{constructor(){const t=j;this[t(744)]=0,this[t(844)]=0,this[t(722)]=0,this[t(847)]=0,this[t(881)]=0,this[t(585)]=0,this[t(588)]=0}update(t){return this[j(410)](t),0}[j(410)](t){const e=j;return this.age+=t,this[e(881)]=Math[e(485)](this.age-this[e(744)],0),this[e(847)]>=this[e(744)]&&(0==this.emissionDuration||this[e(881)]<=emissionDuration)}[j(527)](t){this[j(722)]+=t}}function lt(t,e){const s=Mt();return(lt=function(t,e){return s[t-=405]})(t,e)}class ut extends ht{constructor(){const t=j;super(),this[t(886)]=0,this.emissionMaximum=0}}class pt extends ut{constructor(t=0){const e=j;super(),this[e(708)]=t}update(t){const e=j;if(this[e(410)](t)){const t=this[e(708)]*this[e(881)]-this[e(722)];if(t>=1){const s=Math[e(808)](t);return this[e(527)](s),s}}return 0}static fromJSON(t){const e=j,s=new pt;return s[e(708)]=t[e(708)]||0,s}[j(862)](){return{emissionRate:this[j(708)]}}}const mt=class t{constructor(t){this[j(622)]=t}static getTypeID(e){const s=j;let n=t.Default;return e===S[s(548)]?n=t[s(548)]:e===y?n=t.Vector3:e===b?n=t[s(877)]:e===x&&(n=t.Color),n}static[(c=j(417),h=j(548),l=j(877),u=j(645),j(749))](t,e){const s=j;switch(e){case S[s(548)]:return(new T)[s(488)](t);case S[s(662)]:return(new(S[s(662)]))[s(488)](t);case S[s(877)]:return(new(S[s(877)]))[s(488)](t);case S[s(645)]:return(new(S[s(645)])).fromArray(t)}return t}};w(mt,c,new mt(j(417))),w(mt,h,new mt(j(548))),w(mt,"Vector3",new mt(j(662))),w(mt,l,new mt(j(877))),w(mt,u,new mt(j(645)));let ft=mt;class dt{constructor(t){const e=j;this[e(507)]=t,this.outTypeID=ft[e(679)](t)}}class wt extends dt{constructor(t,e,s,n,i,r){const a=j;super(t),this.range=e,this[a(677)]=s,this[a(736)]=n,this[a(764)]=i,this[a(580)]=r}[j(704)](t){const e=j,s=Math[e(519)]()*this[e(736)];switch(this[e(768)]){case ft[e(417)]:t=Math[e(519)]()*this[e(678)]+this[e(677)],this[e(580)]&&(t=t<0?-1:1);break;case ft[e(548)]:t.set(this[e(834)](s,"x"),this[e(834)](s,"y"));break;case ft[e(662)]:t[e(803)](this[e(834)](s,"x"),this.generateForElement(s,"y"),this[e(834)](s,"z"));break;case ft[e(877)]:t[e(803)](this[e(834)](s,"x"),this[e(834)](s,"y"),this[e(834)](s,"z"),this[e(834)](s,"w"))}return this.normalize&&t[e(580)](),t}generateForElement(t,e){const s=j;return t+Math[s(519)]()*this.range[e]+this[s(677)][e]+this[s(764)]}[j(608)](){const t=j;return new wt(this[t(507)],this.range,this[t(677)],this[t(736)],this[t(764)],this.normalize)}static[j(565)](t){const e=j;return t instanceof T||t instanceof S[e(662)]||t instanceof b||t instanceof S[e(645)]?t[e(607)]():t}static fromJSON(t){const e=j;return new wt(t[e(550)],ft[e(749)](t[e(678)],t[e(550)]),ft[e(749)](t[e(677)],t[e(550)]),t.uniformRange||0,t.uniformOffset||0,t.normalize)}[j(862)](t){const e=j,s={range:wt[e(565)](this[e(678)]),offset:wt[e(565)](this[e(677)]),uniformRange:this[e(736)],uniformOffset:this[e(764)]},n=t[e(873)](this.range[e(861)]);return null!=n&&(s[e(550)]=n),{type:t[e(873)](wt),params:s}}}class gt extends k{constructor(t,e,s,n,i){const r=j;super(),this[r(678)]=t,this[r(677)]=e,this[r(736)]=s,this[r(764)]=n,this[r(580)]=i,this.generator=new wt(0,this[r(678)],this[r(677)],this[r(736)],this[r(764)],this[r(580)])}[j(789)](t){const e=j;t.lifetime=this[e(590)][e(704)]()}static[j(743)](t,e){const s=j;return new gt(e[s(678)],e[s(677)],e[s(736)],e[s(764)],e[s(580)])}[j(862)](){const t=j;return{range:this[t(678)],offset:this.offset,uniformRange:this[t(736)],uniformOffset:this[t(764)],normalize:this.normalize}}}class St extends k{constructor(t){const e=j;super(),this[e(590)]=t.clone()}[j(789)](t){const e=j;t.rotation=this[e(590)][e(704)](t[e(774)])}static fromJSON(t,e){const s=j,n=e.generator.type[s(743)](e[s(590)][s(680)]);return new St(n)}[j(862)](t){const e=j;return{generator:this[e(590)][e(862)](t)}}}class yt extends k{constructor(t,e,s,n,i){const r=j;super(),this[r(678)]=t,this[r(677)]=e,this.uniformRange=s,this.uniformOffset=n,this.normalize=i,this[r(590)]=new wt(0,this[r(678)],this[r(677)],this[r(736)],this[r(764)],this[r(580)])}initializeState(t){const e=j;t[e(840)]=this[e(590)][e(704)]()}static fromJSON(t,e){const s=j;return new yt(e[s(678)],e.offset,e[s(736)],e[s(764)],e[s(580)])}[j(862)](){const t=j;return{range:this[t(678)],offset:this[t(677)],uniformRange:this[t(736)],uniformOffset:this[t(764)],normalize:this.normalize}}}class xt extends k{constructor(t,e){const s=j;super(),this.randomGenerator=new wt(S[s(662)],t,e,0,0,!1)}initializeState(t){const e=j;this[e(849)][e(704)](t[e(423)])}static[j(743)](t,e){const s=j;return new xt((new(S[s(662)]))[s(488)](e.range),(new(S[s(662)])).fromArray(e[s(677)]))}[j(862)](){const t=j;return{range:this[t(849)][t(678)][t(607)](),offset:this[t(849)].offset[t(607)]()}}}class vt extends k{constructor(t){const e=j;super(),this[e(590)]=t[e(608)]()}[j(789)](t){const e=j;this[e(590)][e(704)](t[e(600)]),t[e(426)][e(697)](t[e(600)])}static[j(743)](t,e){const s=j,n=e[s(590)].type[s(743)](e[s(590)][s(680)]);return new vt(n)}[j(862)](t){const e=j;return{generator:this[e(590)][e(862)](t)}}}class It extends k{constructor(t,e,s,n,i=!0){const r=j;super(),this.directionGenerator=new wt(S[r(662)],t,e,0,0,!0),this[r(536)]=new wt(0,s,n,0,0,!1),this.normalizeDirection=i}[j(789)](t){const e=j;this[e(566)].generate(t[e(852)]),this.normalizeDirection&&t[e(852)][e(580)](),t[e(852)].multiplyScalar(this[e(536)][e(704)]())}static[j(743)](t,e){const s=j;return new It((new(S[s(662)])).fromArray(e[s(678)]),(new y)[s(488)](e.offset),e[s(436)],e[s(694)])}[j(862)](){const t=j;return{range:this[t(566)][t(678)][t(607)](),offset:this.directionGenerator.offset[t(607)](),speedRange:this.speedGenerator[t(678)],speedOffset:this.speedGenerator.offset}}}class Pt extends k{constructor(t,e=!1){const s=j;super(),this[s(826)](t),this.reverse=e}[j(826)](t){this[j(858)]=t}initializeState(t){const e=j,s=this[e(858)][e(555)](),n=s[e(777)]*Math[e(519)](),i=s[Math[e(808)](n)],r=this[e(858)].getSequence(i),a=t.sequenceElement;this.reverse?a.x=r[e(777)]-1:a.x=r[e(695)],a.y=r.id,a.z=r[e(695)],a.w=r[e(777)],t.progressType=X.Sequence}static[j(743)](t,e){const s=j;return new Pt(t[s(615)](),e[s(494)])}toJSON(){return{reverse:this[j(494)]}}}class At extends Z{constructor(t,e,s=!1,n=!1){const i=j;super(),this[i(858)]=t,this[i(835)]=e,this[i(711)]=s,this.reverse=n}updateState(t,e){const s=j,n=t.sequenceElement,i=this.particleSequences[s(716)](n.y),r=e/this.speed;if(this.reverse){if(n.x-=r,n.x<i[s(695)]&&(n.x=i[s(695)]+i[s(777)],!this[s(711)]))return!1}else if(n.x+=r,n.x>=i.start+i[s(777)]&&(n.x=i[s(695)],!this[s(711)]))return!1;return!0}static[j(743)](t,e){const s=j;return new At(t[s(615)](),e[s(835)],e[s(711)],e.reverse)}[j(862)](){const t=j;return{speed:this[t(835)],loop:this[t(711)],reverse:this[t(494)]}}}class Ft{constructor(t,e){w(this,p,function(){const t=j,e={lowerIndex:0,upperIndex:0,localT:0},s=new(S[t(548)]),n=new y,i=new(S[t(877)]),r=new(S[t(645)]),a=s=>(n,i,r,a)=>{const o=t;Ft[o(465)](r,n,e),s[o(697)](i[e.upperIndex]).multiplyScalar(e[o(794)]),a[o(697)](i[e[o(682)]])[o(446)](1-e[o(794)])[o(447)](s)};return function(o){const c=t;switch(o){case ft[c(417)]:return(t,s,n)=>{const i=c;return Ft[i(465)](n,t,e),(1-e.localT)*s[e.lowerIndex]+e[i(794)]*s[e.upperIndex]};case ft[c(548)]:return a(s);case ft[c(662)]:return a(n);case ft[c(877)]:return a(i);case ft.Color:return a(r)}}}());const s=j;this[s(578)]=[],this.tValues=[],this.elementTypeID=ft[s(679)](t),this[s(405)]=e||this[s(629)](this[s(479)])}*[Symbol.iterator](){const t=j;let e=0;for(;e<this[t(828)]();)yield{element:this[t(578)][e],tValue:this[t(611)][e]},e++}getElementCount(){const t=j;return this[t(578)][t(777)]}[j(458)](t){const e=j;if(t>=this[e(828)]())throw new Error('ContinuousArray::getElement() -> "index" is out of bounds.');return this[e(578)][t]}[j(553)](t){const e=j;if(t>=this[e(828)]())throw new Error(e(659));return this[e(611)][t]}[j(767)](t,e){const s=j;this[s(578)].push(t),this[s(611)][s(817)](e)}[j(791)](t,e){const s=j;return this[s(405)](t,this[s(578)],this[s(611)],e)}static[(p=j(629),j(465))](t,e,s){const n=j,i=t.length;if(0===i)return s.lowerIndex=-1,s[n(784)]=-1,void(s.localT=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(682)]=$[n(639)](a,0,i-1),s.upperIndex=$[n(639)](o,0,i-1);const c=t[a],h=t[o];s[n(794)]=(e-c)/(h-c)}}class zt extends Z{constructor(t,e=!1){const s=j;super(),this[s(633)]=e,this[s(457)]=new Ft(t)}addElement(t,e){const s=j;this[s(457)][s(767)](t,e)}[j(731)](t){const e=j;for(const s of t)this.interpolationElements[e(767)](s[0],s[1])}addElementsFromElementClassAndParameters(t,e){const s=j;for(const n of e){const[...e]=n[0];this[s(457)][s(767)](new t(...e),n[1])}}getInterpolatedValue(t,e){const s=j;let n=0;switch(t[s(663)]){case X[s(513)]:n=0!=t[s(766)]?t[s(847)]/t[s(766)]:t.age;break;case X.Sequence:n=t[s(623)].x/t[s(623)].w}return this[s(457)][s(791)](n,e)}}class bt extends zt{constructor(t=!1){super(0,t)}[j(572)](t){super[j(731)](t)}updateState(t){const e=j;return this[e(633)]?t[e(739)]=t[e(723)]*this[e(780)](t,t[e(739)]):t.alpha=this.getInterpolatedValue(t,t[e(739)]),!0}static[j(743)](t,e){return new bt(e[j(633)])}[j(862)](){const t=j;return{params:{relativeToInitialValue:this[t(633)]},elements:[...this[t(457)]][t(782)]((e=>[e[t(687)],e[t(648)]]))}}}class Et extends zt{constructor(t=!1){super(S[j(548)],t),w(this,m,function(){const t=j,e=new(S[t(548)]);return function(s){const n=t;return this[n(780)](s,e),this[n(633)]?s[n(600)][n(803)](s.initialSize.x*e.x,s[n(426)].y*e.y):s[n(600)][n(697)](e),!0}}())}addElementsFromParameters(t){const e=j;super.addElementsFromElementClassAndParameters(S[e(548)],t)}static[(m=j(732),j(743))](t,e){return new Et(e[j(633)])}[j(862)](){const t=j;return{params:{relativeToInitialValue:this[t(633)]},elements:[...this[t(457)]][t(782)]((e=>[e[t(687)].toArray(),e[t(648)]]))}}}class Tt extends zt{constructor(t=!1){super(S[j(645)],t),w(this,f,function(){const t=new x;return function(e){const s=lt;return this.getInterpolatedValue(e,t),this[s(633)]?e.color[s(477)](e.initialColor.r*t.r,e[s(871)].g*t.g,e[s(871)].b*t.b):e[s(788)][s(697)](t),!0}}())}[j(572)](t){const e=j;super.addElementsFromElementClassAndParameters(S[e(645)],t)}static[(f=j(732),j(743))](t,e){return new Tt(e[j(633)])}[j(862)](){const t=j;return{params:{relativeToInitialValue:this[t(633)]},elements:[...this[t(457)]][t(782)]((e=>[e[t(687)][t(607)](),e.tValue]))}}}class Rt extends Z{constructor(t){const e=j;super(),this[e(590)]=t.clone()}[j(572)](t){const e=j;super[e(674)](THREE[e(662)],t)}[j(732)](t){return this.generator.generate(t.acceleration),!0}static fromJSON(t,e){const s=j,n=e.generator[s(550)][s(743)](e.generator[s(680)]);return new Rt(n)}[j(862)](t){const e=j;return{generator:this[e(590)][e(862)](t)}}}class Ot extends dt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=j;super(S[p(662)]),this[p(878)]=t,this[p(773)]=e,this[p(750)]=s,this[p(814)]=n,this.rangeRadius=i,this[p(429)]=r,this[p(524)]=a,this[p(800)]=o,this[p(486)]=c,this[p(799)]=h,this[p(409)]=l,this[p(495)]=u,this[p(671)]=(new y)[p(803)](0,1,0)}generate(t){const e=j;this.tempUp[e(803)](0,1,0);const s=Math.random()*this.rangeTheta+this[e(773)],n=Math[e(519)]()*this[e(750)]+this[e(814)],i=Math.cos(s),r=Math[e(602)](s),a=Math[e(772)](n),o=Math[e(602)](n);t[e(803)](i,0,-r),t[e(446)](a),this[e(671)].multiplyScalar(o),t[e(447)](this[e(671)]),t[e(580)]();const c=Math[e(519)]()*this.rangeRadius+this.offsetRadius;t[e(446)](c),t.x*=this[e(524)],t.y*=this[e(800)],t.z*=this[e(486)],t.x+=this[e(799)],t.y+=this[e(409)],t.z+=this.offsetZ}[j(608)](){const t=j;return new Ot(this[t(878)],this[t(773)],this[t(750)],this.offsetPhi,this[t(845)],this[t(429)],this.scaleX,this[t(800)],this[t(486)],this[t(799)],this.offsetY,this[t(495)])}static[j(743)](t){const e=j;return new Ot(t.rangeTheta,t[e(773)],t[e(750)],t[e(814)],t[e(845)],t[e(429)],t[e(524)],t[e(800)],t[e(486)],t.offsetX,t[e(409)],t.offsetZ)}toJSON(t){const e=j;return{type:t.getTypePath(Ot),params:{rangeTheta:this[e(878)],offsetTheta:this[e(773)],rangePhi:this.rangePhi,offsetPhi:this[e(814)],rangeRadius:this[e(845)],offsetRadius:this[e(429)],scaleX:this[e(524)],scaleY:this[e(800)],scaleZ:this[e(486)],offsetX:this[e(799)],offsetY:this[e(409)],offsetZ:this[e(495)]}}}}class qt{constructor(){}}class Vt extends qt{constructor(t,e,s,n,i,r,a=void 0){const o=j;super(),this.owner=null,this[o(846)]=null,this[o(407)]=performance.now()/1e3,this[o(449)]=this.lastUpdateTime,this[o(726)]=this[o(407)],this[o(496)]=1,this[o(755)]=1,this[o(874)]=new(S[o(662)]),this[o(484)]=new(S[o(662)]),this.intensity=1,this.intensityFlux=2,this[o(569)]=t,this[o(500)](t,e,s,n,i,r,a)}[j(500)](t,e,s,n,i,r,a=void 0){const o=j;this.owner=new P,t.add(this[o(647)]),n=n||new(S[o(645)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this.light=new(S[o(516)])(16777215,2,0,1),this[o(846)][o(788)].copy(n),this[o(846)][o(613)]=i,this[o(846)][o(819)]=r,this.light[o(727)]=c,c&&(this.light.shadow[o(564)].width=a[o(564)]||512,this[o(846)][o(475)].mapSize[o(461)]=a[o(564)]||512,this[o(846)].shadow[o(535)][o(649)]=a[o(715)]||.5,this[o(846)].shadow[o(535)][o(793)]=a[o(567)]||500,this.light.shadow[o(552)]=a[o(552)]||1e-4,this[o(846)][o(475)][o(761)]=a[o(576)]||1),this.owner[o(447)](this[o(846)]),this.intensity=e,this[o(547)]=s,this.light}[j(762)](){const t=j;this[t(569)].remove(this[t(647)])}[j(790)](){return this.light}[j(717)](t){this[j(533)]=t}update(t){const e=j,s=t-this.lastIntensityFlickerTime,n=1/8,i=this[e(547)];if(s>n){this.lastIntensityFlickerTime=t;let s=1+2*(Math[e(519)]()-.5)*i*n;const r=s-this[e(496)];s=this.lastIntensityAdjuster+r,this[e(496)]=this.nextIntensityAdjuster,this.nextIntensityAdjuster=$.clamp(s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(496)]+t*this.nextIntensityAdjuster;this[e(846)][e(533)]=i*this[e(533)]}if(t-this.lastPositionFlickerTime>.0625){this[e(726)]=t;const s=t-this[e(407)];this[e(484)][e(803)](Math.random()-.5,Math[e(519)]()-.5,Math[e(519)]()-.5),this[e(484)][e(446)](s),this[e(484)].add(this[e(874)]),this.positionAdjuster[e(446)](.5),this[e(647)][e(423)].copy(this.positionAdjuster),this[e(874)][e(697)](this[e(484)]),this[e(407)]=t}}}class Ct{constructor(){const t=j;this[t(831)]={default:{}},this[t(669)]={},this.typeIDGen=0}[j(673)](t,e){this[j(448)]("default",t,e)}[j(448)](t,e,s){const n=j;if(!this[n(831)][t])throw new Error(n(787));if(this[n(831)][t][e])throw new Error(n(797));this[n(718)](s,e,t)&&(this[n(831)][t][e]=s)}[j(850)](t,e){const s=j;if(this[s(831)][t])throw new Error(s(810));this[s(831)][t]=e;for(const n in e)if(!e[s(644)]||e[s(644)](n)){const i=e[n];this[s(718)](i,n,t)}}checkAndAddTypeName(t,e,s){const n=j;if(typeof t===n(451)){const i=this[n(540)]++;t[n(851)]=i,this[n(669)][i]={namespace:s,typeName:e}}}[j(490)](t,e){const s=j;if(!this[s(831)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(831)][t][e])throw new Error(s(667));return this[s(831)][t][e]}[j(542)](t){return this[j(669)][t.___photonsTypeID]}getTypePath(t){const e=j,s=this[e(542)](t);if(s)return s[e(833)]+"."+s.typeName}[j(422)](t){const e=j,s=t[e(841)]("."),n=s[0];s[e(880)](0,1);return{namespace:n,typeName:s[e(693)](".")}}[j(634)](t){const e=j,{namespace:s,typeName:n}=this[e(422)](t);return this[e(490)](s,n)}}function Mt(){const t=["interpolationElements","getElement","setUsage","   float atlasFrameX = atlasFrames.x; \n","height","initialSizes","setOwner","} \n","getInterpolationValuesForTValue","uniform int instanced; \n","allocate",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"attribute float alpha;\n","uniform vec2 uvOffset;\n","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","frustumCulled","   float atlasFrameWidth = atlasFrames.z; \n","setAll","shadow","getComponent","setRGB","velocities","elementTypeID","Matrix4","addFrameSet","getParticleStateInitializerCount","particleSystemRenderer","positionAdjuster","max","scaleZ","  \n #include <logdepthbuf_pars_fragment> \n","fromArray","BufferGeometry","getType","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","apply","initializers","reverse","offsetZ","lastIntensityAdjuster","Done","__proto__","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","init","48pRhSIS","normal","calculateBoundingSphereFromBox","needsUpdate","stateObject","toString","outType","       rightSide = baseUV.x; \n","   const vec2 uLeft = vec2(-1.0, 1.0);\n","matrixWorld","setXYZ","emitterInitialized","Time","getTexture","SrcAlphaFactor","PointLight","particleStates","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","random","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","1099276rpbqZf","update","boundingBox","scaleX","material","blending","updateEmitCount","sequences","copyParticleInArray","initialAlphas","Sphere","normals","intensity","componentContainer","camera","speedGenerator","12968970yPMkql","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","customIndexes","typeIDGen","getMaximumActiveParticles","getTypeNames","addComponent","getSystemState","   const vec2 dLeft = vec2(-1.0, -1.0);\n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","intensityFlux","Vector2","getParticleStates","type","accelerations","bias","getTValue","   float rightSide; \n","getSequenceIDs","verticesPerParticle","786SxPsXZ","   vec2 rotVec; \n","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","3527580RWMEya","Additive","   vFragColor = color; \n","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","mapSize","getParameterJSON","directionGenerator","cameraFar","uniform sampler2D atlasTexture;\n","parent","sequenceElements","ParticleSequenceGroup::getSequence -> Invalid ID.","addElementsFromParameters","       rightSide = step(2.0, customIndex); \n","setBoundingSphere","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","edgeRadius","operators","elements","acceleration","normalize","VertexVars","attribute vec2 size;\n","getParticleSystemRenderer","   int sequenceLength = int(sequenceElement.w);\n","activeCount","       rotVec = position.xy; \n ","assign","maximumActiveParticles","renderer","generator","interpolateFrames","info","getParticleStateArray","   if (instanced != 1) { \n","pause","emitter","systemState","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","lifetimes","size","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","sin","stateVelocity","startTime","setSimulateInWorldSpace","   gl_FragColor.a *= vFragAlpha; \n","toArray","clone","sqrt","chain","tValues","       float uLeftV = rotVecStep.x; \n","distance","ParticleSystem::init() -> trying to intialize more than once.","getParticleSequences","    \n  #include <logdepthbuf_fragment> \n","applyMatrix4","Running",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"frameSets","alphas","name","sequenceElement","   const vec2 up = vec2(0.0, 1.0);\n","startupTime","simulateInWorldSpace","getParticleStateInitializer","stop","getInterpolatorForTypeID","Sequence","setParticleCount","debu","relativeToInitialValue","parseTypeString","currentTime","autoClear","timeScaledVelocity","center","clamp",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"Mesh","sub","InstancedBufferGeometry","hasOwnProperty","Color","       upperSide = baseUV.y; \n","owner","tValue","near","   float rotMag = rotation; \n","ages","attribute vec4 sequenceElement;\n","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","#include <common> \n","setState","getParticleCount","log","boundingSphere",'ContinuousArray::getTValue() -> "index" is out of bounds.',"   if (simulateInWorldSpace == 1) { \n","bind","Vector3","progressType","min","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","       float uRightV = rotVecStep.z; \n","JSONTypeStore::getType() -> typeName does not exist","Box3","jsonTypeNames","getTexturePath","tempUp","rotationalSpeeds","addType","addElementsFromElementClassAndParameters","getSimulateInWorldSpace","getParticleStateOperatorCount","offset","range","getTypeID","params","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","lowerIndex","744kylFpB","InstancedBufferAttribute","setX","uniform int interpolateAtlasFrames; \n","element","substr","varying float vSequenceElementT;\n","uniformsNeedUpdate","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","   int sequenceNumber = int(sequenceElement.y);\n","join","speedOffset","start","213xNuPfU","copy","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","addSequence","   const vec2 dRight = vec2(1.0, -1.0);\n","call","setBoundingBox","invert","generate","copyState","interpolateAtlasFrames","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","emissionRate","   float atlasFrameY = atlasFrames.y; \n","baseUVs","loop","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","currentSrc","attribute float customIndex;\n","cameraNear","getSequence","setIntensity","checkAndAddTypeName","NormalBlending","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","addParticleSystem","emitCount","initialAlpha","gger","24248mheAWW","lastPositionFlickerTime","castShadow","varying float vFragAlpha;\n","while (true) {}","visible","addElements","updateState","colors","varying vec2 vUV1;\n","trace","uniformRange","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","NotStarted","alpha","advanceActiveParticles","counter","addParticleSequence","fromJSON","emissionRelativeStartTime","Normal","createMaterial","rotations","warn","loadJSONParameter","rangePhi","particleStateArray","updateWorldMatrix","   \n  #include <logdepthbuf_vertex> \n","instanceCount","nextIntensityAdjuster","getState","source","matrixWorldNeedsUpdate","activeParticleCount","BufferAttribute","radius","dispose","string","uniformOffset","   float atlasFrameHeight = atlasFrames.w; \n","lifetime","addElement","outTypeID","   int nRowYTile = int(SNOverHS);\n","setXY","timeScaledAcceleration","cos","offsetTheta","rotation","Shader","addParticleStateInitializer","length","hasID",'ParticleStateArray::setState() -> "index" is out of range.',"getInterpolatedValue","prototype","map","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","upperIndex","setDrawRange","flushParticleStateToBuffers","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","color","initializeState","getLight","getInterpolatedElement","getColors","far","localT","width","   vec4 viewPosition; \n","JSONTypeStore::addTypeToNamespace() -> typeName already exists","framesets","offsetX","scaleY","2045841NMeIMh","console","set","texture","initialColors","getParticleState","   vec2 uv2; \n","floor","render","JSONTypeStore::addNamespace() -> namespace already exists","test","transformDirection","getRotations","offsetPhi",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"geometry","push","getFrameSetCount","decay","initialized","  \n #include <logdepthbuf_pars_vertex> \n","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","atlas","computeBoundingBox","now","setParticleSequences","renderOrder","getElementCount","       upperSide = upperSideStep.x + upperSideStep.y;\n","getEmitter","jsonTypes","sizes","namespace","generateForElement","speed","data","uniforms","particlePosition",'Atlas::getFrameSet -> "index" is out of range.',"rotationalSpeed","split","DynamicDrawUsage","updateMeshBounds","emissionDuration","rangeRadius","light","age","value","randomGenerator","addNamespace","___photonsTypeID","velocity","activateParticles","onUpdateCallback","particleSystems","progressTypes","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","particleSequences","1474371KAKhQX","varying vec2 vUV2;\n","constructor","toJSON","advanceActiveParticle","getGeometry","void main() { \n","   } else { \n","setActiveParticleCount","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","Paused","getSequenceElements","initialColor","computeBoundingSphere","getTypePath","lastPositionAdjuster","uniform int simulateInWorldSpace; \n","basePositions","Vector4","rangeTheta","texturePath","splice","timeActive","varying float vSequenceElementT; \n","void main()\n","calculatingBoundingSphereFromBox","instanced","emissionMinimum","interpolator","setAttribute","lastUpdateTime","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","offsetY","internalUpdate","particleEmitter","AdditiveBlending","return (function() ","ShaderMaterial","   } \n","updateBounds","Default","transformInitialDirectionInWorldSpace","particleStateOperators","baseUV",'{}.constructor("return this")( )',"parseNamespaceAndTypename","position","setVisibile","OneMinusSrcAlphaFactor","initialSize","TextureLoader","positions","offsetRadius","object","activateParticle","getFrameSet","input","setEmitter","ids","speedRange","particleStateInitializers","customIndex","components","stateAcceleration","onUpdate","baseURI","attribute float rotation;\n","particleCount","mesh","multiplyScalar","add","addTypeToNamespace","lastIntensityFlickerTime","   vec4 color2 = color1; \n","function",'ParticleSystem::getParticleState() -> "index" is out of range.',"   const vec2 left = vec2(-1.0, 0.0);\n","indexOf","getVisible","   const vec2 down = vec2(0.0, -1.0);\n"];return(Mt=function(){return t})()}function Nt(t){function e(t){const s=lt;if(typeof t===s(763))return function(t){}[s(861)](s(729))[s(492)](s(741));1!==(""+t/t)[s(777)]||t%20==0?function(){return!0}.constructor(s(632)+s(724))[s(701)]("action"):function(){return!1}[s(861)]("debugger")[s(492)](s(505)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const _t=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Rt,AnimatedSpriteRenderer:ct,Atlas:at,BaseParticleStateInitializer:L,BaseParticleStateOperator:H,BoxPositionInitializer:xt,ColorInterpolatorOperator:Tt,ConstantParticleEmitter:pt,FlickerLight:Vt,JSONTypeStore:Ct,LifetimeInitializer:gt,Manager:st,OpacityInterpolatorOperator:bt,ParticleStateArray:Y,ParticleSystem:et,ParticleSystemState:tt,RandomGenerator:wt,RandomVelocityInitializer:It,Renderer:nt,RotationInitializer:St,RotationalSpeedInitializer:yt,SequenceInitializer:Pt,SequenceOperator:At,SizeInitializer:vt,SizeInterpolatorOperator:Et,SphereRandomGenerator:Ot},Symbol.toStringTag,{value:"Module"})),Ut=Xt;!function(t,e){const s=Xt,n=Dt();for(;;)try{if(325111===-parseInt(s(411))/1+parseInt(s(478))/2+parseInt(s(409))/3*(parseInt(s(446))/4)+parseInt(s(414))/5+parseInt(s(417))/6+-parseInt(s(467))/7+-parseInt(s(456))/8*(parseInt(s(462))/9))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Bt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Xt(429)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Bt(this,(function(){const t=Xt,e=new RegExp(t(479)),s=new RegExp(t(484),"i"),n=Yt(t(461));e[t(452)](n+"chain")&&s[t(452)](n+"input")?Yt():n("0")}))()}();const jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Xt(429)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Dt(){const t=["prototype","toString","RandomGenerator","4757096rZQaCn","string","bind","AnimatedSpriteRenderer","console","init","9xjchAI","SizeInterpolatorOperator","SizeInitializer","LifetimeInitializer","Photons","3205181hJVMTV","load","RandomVelocityInitializer","Atlas",'{}.constructor("return this")( )',"BoxPositionInitializer","addElementsFromParameters","exception","copy","stateObject","getParticleSequences","540242xauZkq","function *\\( *\\)","Manager","render","action","addFrameSet","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","RotationInitializer","warn","JSONTypeStore","addNamespace","THREE","1479daAHFA","RotationalSpeedInitializer","164030QRjONK","ParticleSystem","addParticleSystem","917850vASLes","return (function() ","addParticleStateOperator","3185280jyAqbn","position","SequenceOperator","addComponent","ConstantParticleEmitter","start","trace","Vector2","AccelerationOperator","Color","log","setEmitter","apply","scale","Vector3","addElements","update","setRGB","SphereRandomGenerator","Object3D","setSimulateInWorldSpace","counter","while (true) {}","addParticleStateInitializer","fireF","TextureLoader","SequenceInitializer","value","constructor","4520sBgzIg","__proto__","ColorInterpolatorOperator","length","addParticleSequence","OpacityInterpolatorOperator","test"];return(Dt=function(){return t})()}function Xt(t,e){const s=Dt();return(Xt=function(t,e){return s[t-=406]})(t,e)}jt(void 0,(function(){const t=Xt,e=function(){const t=Xt;let e;try{e=Function(t(415)+t(471)+");")()}catch(s){e=window}return e}(),s=e[t(460)]=e[t(460)]||{},n=[t(427),t(486),"info","error",t(474),"table",t(423)];for(let i=0;i<n.length;i++){const e=jt[t(445)][t(453)][t(458)](jt),r=n[i],a=s[r]||e;e[t(447)]=jt[t(458)](jt),e[t(454)]=a[t(454)][t(458)](a),s[r]=e}}))();const Wt=V({__name:Ut(441),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Ut,s=t,n=new(_t[e(480)]),i=new(_t[e(406)]);i[e(407)](e(408),S),i[e(407)](e(466),_t);const{renderer:r,camera:a,scene:o}=O(),c=new(S[e(431)])(...s[e(418)]);n[e(413)](((t,s)=>{const n=e,i=new(S[n(436)]);i.position[n(475)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new R)[n(468)](a),c=new(_t[n(470)])(o,a);c[n(483)](1,0,0,1,1);const h=new(_t[n(459)])(!0,c,!0,E),l=new(_t[n(412)])(i,h,r.value);l[n(461)](150),l[n(428)](new pt(6));const u=new(_t[n(455)])(S[n(424)],new(S[n(424)])(0,0),new(S[n(424)])(.15*t,.15*t),0,0,!1);l[n(440)](new gt(3,1,0,0,!1)),l.addParticleStateInitializer(new(_t[n(464)])(u)),l[n(440)](new(_t[n(472)])(new(S[n(431)])(.05*t,0,.05*t),new(S[n(431)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new(_t[n(469)])(new(S[n(431)])(.4*t,.5*t,.4*t),new(S[n(431)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(416)](new(_t[n(451)]))[n(432)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(416)](new(_t[n(448)])(!0))[n(473)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(_t[n(435)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(416)](new(_t[n(425)])(p)),l[n(437)](!0),l.start(),l})(s[e(430)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(S[n(436)]);i[n(418)][n(475)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(S[n(442)])).load(a),c=new(_t[n(470)])(o,a);c.addFrameSet(18,0,0,.125,.25);const h=new ct(!0,c,!0),l=new et(i,h,r.value);l.init(50),l[n(428)](new(_t[n(421)])(10)),l[n(450)](0,18);const u=l.getParticleSequences();l[n(440)](new(_t[n(465)])(0,0,0,0,!1)),l.addParticleStateInitializer(new(_t[n(485)])(new(_t[n(455)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(440)](new(_t[n(410)])(1,-1,0,0,!1)),l[n(440)](new(_t[n(464)])(new(_t[n(455)])(S[n(424)],new(S[n(424)])(.25*t,.25*t),new(S[n(424)])(.5*t,.5*t),0,0,!1))),l[n(440)](new(_t[n(472)])(new(S[n(431)])(.05*t,0,.05*t),new(S[n(431)])(-.025*t,0,-.025*t))),l[n(440)](new(_t[n(469)])(new(S[n(431)])(.05*t,.4*t,.05*t),new(S[n(431)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l.addParticleStateInitializer(new Pt(u)),l[n(416)](new(_t[n(419)])(u,.07,!1));l[n(416)](new bt)[n(432)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(416)](new(_t[n(463)])(!0))[n(473)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(416)](new(_t[n(448)])(!0))[n(473)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(416)](new Rt(new(_t[n(455)])(y,new(S[n(431)])(0,0,0),new(S[n(431)])(0,1.5*t,0),0,0,!1))),l[n(437)](!0),l[n(422)](),l})(s[e(430)],c)),n[e(413)](((t,s)=>{const n=e,i=new(S[n(436)]);i[n(418)][n(475)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new(S[n(442)]))[n(468)](a),c=new(_t[n(470)])(o,a);c[n(483)](16,0,0,212/1024,.25);const h=new(_t[n(459)])(!0,c,!0),l=new(_t[n(412)])(i,h,r[n(444)]);l[n(461)](20),l[n(428)](new(_t[n(421)])(5)),l[n(450)](0,16);const u=l[n(477)]();l[n(440)](new(_t[n(465)])(0,0,0,0,!1)),l[n(440)](new(_t[n(485)])(new wt(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(440)](new(_t[n(410)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(440)](new(_t[n(464)])(new(_t[n(455)])(S[n(424)],new T(0,0),new(S[n(424)])(0,0),.2*t,.65*t,!1))),l.addParticleStateInitializer(new xt(new y(.1*t,0,.1*t),new y(-.05*t,0,-.05*t))),l[n(440)](new(_t[n(469)])(new y(.02*t,.4*t,.02*t),new(S[n(431)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(440)](new(_t[n(443)])(u)),l[n(416)](new At(u,.1,!1));l.addParticleStateOperator(new(_t[n(451)]))[n(432)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(416)](new(_t[n(463)])(!0))[n(473)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(416)](new(_t[n(448)])(!0))[n(473)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(416)](new(_t[n(425)])(new(_t[n(455)])(S[n(431)],new(S[n(431)])(0,0,0),new(S[n(431)])(0,1.5*t,0),0,0,!1))),l[n(437)](!0),l.start(),l})(s[e(430)],c)),n[e(420)](((t,s=10)=>{const n=e,i=new P;o.value.add(i),i[n(418)][n(475)](t);return new Vt(i,s,2,(new(S[n(426)]))[n(434)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=q();return h((()=>{const t=e;n[t(433)](),n[t(481)](r.value,a[t(444)])})),(t,e)=>null}});function Yt(t){function e(t){const s=Xt;if(typeof t===s(457))return function(t){}[s(445)](s(439)).apply(s(438));1!==(""+t/t)[s(449)]||t%20==0?function(){return!0}[s(445)]("debugger").call(s(482)):function(){return!1}[s(445)]("debugger")[s(429)](s(476)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Jt=Gt;function Gt(t,e){const s=$t();return(Gt=function(t,e){return s[t-=221]})(t,e)}!function(t,e){const s=Gt,n=$t();for(;;)try{if(618125===-parseInt(s(258))/1+-parseInt(s(259))/2+parseInt(s(250))/3+parseInt(s(237))/4*(parseInt(s(240))/5)+parseInt(s(238))/6+parseInt(s(222))/7+parseInt(s(230))/8)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const kt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Gt(234)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){kt(this,(function(){const t=Gt,e=new RegExp(t(229)),s=new RegExp(t(241),"i"),n=Ht(t(252));e.test(n+t(228))&&s[t(226)](n+t(224))?Ht():n("0")}))()}();const Lt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Lt(void 0,(function(){const t=Gt;let e;try{e=Function(t(251)+t(254)+");")()}catch(i){e=window}const s=e[t(253)]=e[t(253)]||{},n=[t(243),t(223),t(261),"error",t(245),t(236),t(262)];for(let r=0;r<n[t(248)];r++){const e=Lt.constructor[t(225)][t(260)](Lt),i=n[r],a=s[i]||e;e.__proto__=Lt.bind(Lt),e[t(227)]=a[t(227)][t(260)](a),s[i]=e}}))();const Zt=V({__name:Jt(255),setup(t){const e=C();return M((()=>{const t=Gt;e[t(232)]&&(e[t(232)][t(256)][t(231)]?e[t(232)][t(256)][t(231)][t(264)].camera.value[t(221)][t(257)](580,360,500):e.value[t(256)].perspectiveCameraRef&&e[t(232)][t(256)][t(247)][t(221)].set(580,360,500))})),(t,s)=>{const n=Gt;return N(),_(g,{ref_key:n(239),ref:e},{ability:U((()=>[B(Wt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Ht(t){function e(t){const s=Gt;if("string"==typeof t)return function(t){}.constructor(s(263))[s(234)](s(244));1!==(""+t/t)[s(248)]||t%20==0?function(){return!0}.constructor("debu"+s(235)).call(s(246)):function(){return!1}[s(249)](s(242)+s(235))[s(234)](s(233)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function $t(){const t=["value","stateObject","apply","gger","table","825892gDAzyr","1520064xHenUm","pagesShowRef","5RxFjtS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","log","counter","exception","action","perspectiveCameraRef","length","constructor","948753BWrAcK","return (function() ","init","console",'{}.constructor("return this")( )',"fireF","$refs","set","998193daBbcf","2199500hSGVgV","bind","info","trace","while (true) {}","context","position","1871597xVGDVP","warn","input","prototype","test","toString","chain","function *\\( *\\)","13381032OzSOWl","tcRef"];return($t=function(){return t})()}export{Zt as default};
