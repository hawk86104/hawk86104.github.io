import{P as t}from"./tweakpane.yHWGBmom1733198294833.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.U2W0FijZ1733198294833.js";import{_ as r}from"./heatmap.js-fix.lOP7Mxv_1733198294833.js";import{h as i,Y as c,bY as s,_ as u,B as a,s as p}from"./three.8iJMi2lU1733198294833.js";import{r as f}from"./utils.mPUSF2NM1733198294833.js";import{d as l}from"./pinia.ZJJJwhVu1733198294833.js";import{b as h,d,a3 as m,o as g,D as y,J as v,u as w,F as b,q as I,U as _,N as j,P as x,H as D,L as S,a6 as A,r as E,j as M,g as R,m as T}from"./@vue.-THQH3GC1733198294833.js";import{c as Z,d as z,a as P}from"./three-mesh-bvh.oXi0pqYE1733198294833.js";import{_ as F}from"./@fesjs.X1U4uwri1733198294833.js";import"./@tresjs.sklxXn0u1733198294833.js";import"./@vueuse.N_fQXUYA1733198294833.js";import"./three-custom-shader-material.GYlVajj-1733198294833.js";import"./@amap.DgFRMjnW1733198294833.js";import"./vue-demi.C4xddsk91733198294833.js";import"./vue-router.H2Xo87u11733198294833.js";import"./lodash-es.kYt-_xTG1733198294833.js";import"./@qlin.yHhFDldE1733198294833.js";import"./@floating-ui.BPbuo5Gx1733198294833.js";import"./@juggle.7yjBMqoW1733198294833.js";!function(t,n){const e=L,o=B();for(;;)try{if(942833===-parseInt(e(138))/1*(-parseInt(e(135))/2)+-parseInt(e(132))/3*(parseInt(e(160))/4)+-parseInt(e(121))/5*(-parseInt(e(146))/6)+-parseInt(e(129))/7+-parseInt(e(117))/8*(parseInt(e(141))/9)+parseInt(e(144))/10+parseInt(e(156))/11*(parseInt(e(114))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(134)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(){const t=["debu","15FbIsFv","display","exception","while (true) {}","stateObject","test","setData","chain","648662CaGgXF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","6TbdofN","create","apply","34jmECRQ","warn","push","28558YQJJAa","none","constructor","63neSxvA","heatmap-canvas","body","501070ZMsBJj","yellow","126666DutKjm","rgb(0,0,255)","position","call","toString","action","style","counter","return (function() ","getValueAt","2098470LYorNJ","height","rgb(255,0,0)","top","332464nAEZGe","prototype","log","bind","table",'{}.constructor("return this")( )',"rgb(0,255,0)","left","console","length","gger","__proto__","84yzyRmg","_config","info","837240kscRem","absolute","randInt"];return(B=function(){return t})()}!function(){k(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(130),"i"),o=X(t(131));n.test(o+t(128))&&e[t(126)](o+"input")?X():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(t,n){const e=B();return(L=function(t,n){return e[t-=113]})(t,n)}J(void 0,(function(){const t=L;let n;try{n=Function(t(154)+t(165)+");")()}catch(r){n=window}const e=n[t(168)]=n[t(168)]||{},o=[t(162),t(136),t(116),"error",t(123),t(164),"trace"];for(let i=0;i<o.length;i++){const n=J.constructor[t(161)][t(163)](J),r=o[i],c=e[r]||n;n[t(113)]=J[t(163)](J),n[t(150)]=c.toString[t(163)](c),e[r]=n}}))();const U=(t,n)=>t[L(155)](n)+-10;function X(t){function n(t){const e=L;if("string"==typeof t)return function(t){}[e(140)](e(124))[e(134)](e(153));1!==(""+t/t)[e(169)]||t%20==0?function(){return!0}[e(140)](e(120)+e(170))[e(149)](e(151)):function(){return!1}[e(140)](e(120)+"gger")[e(134)](e(125)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=q;function $(){const t=["call","while (true) {}","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","init","log","input","action","chain","value","length","string","553973QzKitz",'{}.constructor("return this")( )',"constructor","apply","4170852pSehPJ","trace","739055Hhcykl","table","buildingsHeatmap","81506aiyJbX","console","426543OvwDAR","6rBatwa","gger","__proto__","warn","test","error","debu","function *\\( *\\)","508092TASQhn","return (function() ","bind","exception","16SXtZsm","info","1394144wDRaqw","toString"];return($=function(){return t})()}function q(t,n){const e=$();return(q=function(t,n){return e[t-=261]})(t,n)}!function(t,n){const e=q,o=$();for(;;)try{if(352035===parseInt(e(282))/1+parseInt(e(299))/2+-parseInt(e(284))/3+-parseInt(e(293))/4+parseInt(e(279))/5*(parseInt(e(285))/6)+parseInt(e(273))/7*(parseInt(e(297))/8)+-parseInt(e(277))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(276)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=q,n=new RegExp(t(292)),e=new RegExp(t(263),"i"),o=C(t(265));n.test(o+t(269))&&e[t(289)](o+t(267))?C():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(276)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();H(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(294)+t(274)+");")()}catch(e){n=window}return n}(),e=n[t(283)]=n[t(283)]||{},o=[t(266),t(288),t(298),t(290),t(296),t(280),t(278)];for(let r=0;r<o.length;r++){const n=H[t(275)][t(262)][t(295)](H),i=o[r],c=e[i]||n;n[t(287)]=H[t(295)](H),n.toString=c[t(300)][t(295)](c),e[i]=n}}))();const Y=l(O(281),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[q(270)]=n},setTemperature:function(t){n.value=t}}}));function C(t){function n(t){const e=q;if(typeof t===e(272))return function(t){}[e(275)](e(261)).apply("counter");1!==(""+t/t)[e(271)]||t%20==0?function(){return!0}[e(275)](e(291)+e(286))[e(301)](e(268)):function(){return!1}[e(275)]("debugger")[e(276)](e(264)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=V;function V(t,n){const e=W();return(V=function(t,n){return e[t-=149]})(t,n)}!function(t,n){const e=V,o=W();for(;;)try{if(413859===-parseInt(e(151))/1*(parseInt(e(168))/2)+-parseInt(e(198))/3*(parseInt(e(206))/4)+-parseInt(e(192))/5*(-parseInt(e(216))/6)+-parseInt(e(182))/7*(parseInt(e(195))/8)+-parseInt(e(196))/9+-parseInt(e(187))/10+parseInt(e(214))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(164)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=V,n=new RegExp(t(174)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ot(t(178));n[t(170)](o+t(172))&&e[t(170)](o+t(202))?ot():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(164)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["gger","Mesh","init","$patch","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","Matrix4","63XgZEgn","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","数值———：","uniforms","stateObject","3807480hVjnrS","buildingsHeatmap","rotation-x","error","value","64535JfAudp","_config","matrix","382552hXkizC","541800DPgpia","constructor","24153croBcP","height","ShaderMaterial","warn","input","applyMatrix4","prototype","length","276UeXRFC","computeBoundsTree","model","console","uOpacity","opacity","bind","BufferGeometry","27483291LNWomu","disposeBoundsTree","60AZzLmw","clone","needsUpdate","while (true) {}","land","raycast","log","city","debu","__proto__","DoubleSide","786854hmncfG","toString","exception","action","setShowDiv","数值：","children","table","geometry","normal","return (function() ","mergeGeometries","trace","apply","attributes","object","_renderer","2unJyVT","call","test","setTemperature","chain","string","function *\\( *\\)","primitive"];return(W=function(){return t})()}N(void 0,(function(){const t=V;let n;try{n=Function(t(161)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(209)]=n[t(209)]||{},o=[t(222),t(201),"info",t(190),t(153),t(158),t(163)];for(let i=0;i<o[t(205)];i++){const n=N[t(197)][t(204)][t(212)](N),r=o[i],c=e[r]||n;n[t(149)]=N[t(212)](N),n[t(152)]=c[t(152)].bind(c),e[r]=n}}))();const tt=["object",Q(189)],nt=[Q(166)],et=d({__name:Q(188),props:{model:{},opacity:{default:1}},setup(t){const n=Q;(()=>{const t=V;a[t(204)][t(207)]=Z,u[t(213)][t(204)][t(215)]=z,p.prototype[t(221)]=P})();const e=t,o=((t=250,n=250,e=!0)=>{const o=L,i=document.createElement(o(142));return i.style[o(148)]=o(118),!e&&(i[o(152)][o(122)]=o(139)),i[o(152)][o(159)]="0",i[o(152)][o(167)]="0",document[o(143)].appendChild(i),r[o(133)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(147),.55:o(166),.85:o(145),1:o(158)}})})();((t,n)=>{const e=L;if(!n){let o=0;for(n=[];o<1e3;)n[e(137)]({x:i[e(119)](1,t._config.width),y:i[e(119)](1,t[e(115)][e(157)]),value:i[e(119)](-10,36)}),o++}t[e(127)]({max:36,min:-10,data:n})})(o);const l=new c(o[n(167)].canvas);l[n(218)]=!0;const h=e[n(208)][n(223)].clone();delete h[n(159)][n(165)][n(160)],delete h[n(159)].attributes.uv;const d=h.geometry[n(217)]()[n(203)](h[n(194)]),I=e[n(208)][n(220)][n(217)]();delete I[n(159)][n(165)][n(160)];const _=I.geometry[n(217)]().applyMatrix4(I.matrix),j=s[n(162)]([d,_]);j[n(203)]((new(u[n(181)])).makeRotationX(Math.PI/2)),f(j),j.computeBoundsTree();const x=(t=>{const o=n;return new(u[o(200)])({vertexShader:o(180),fragmentShader:o(183),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(150)]})})(l),D=new(u[n(177)])(j,x);m((()=>{const t=n;e.opacity&&(x[t(185)][t(210)][t(191)]=e[t(211)])}));const S=Y(),A=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(193)].width,y:(1-t.uv.y)*o[e(193)][e(199)]};console[e(222)](e(156),t),console[e(222)](e(184),U(o,n)),S[e(171)](U(o,n))}},E=t=>{t&&S[n(179)]({showDiv:!0})},M=t=>{t&&S[n(155)](!1)};return(t,o)=>{const r=n;return g(),y(b,null,[v(r(175),{object:w(D),"rotation-x":-Math.PI/2,onPointerMove:A,onPointerEnter:E,onPointerLeave:M},null,40,tt),v(r(175),{object:e[r(208)][r(208)][r(157)][0].clone()},null,8,nt)],64)}}});function ot(t){function n(t){const e=V;if(typeof t===e(173))return function(t){}[e(197)](e(219))[e(164)]("counter");1!==(""+t/t)[e(205)]||t%20==0?function(){return!0}[e(197)](e(224)+e(176))[e(169)](e(154)):function(){return!1}[e(197)]("debu"+e(176))[e(164)](e(186)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=F({__name:"dataDiv",setup(t){const n=Y(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),y("div",{class:"title",style:S(e.value)},"温度："+D(w(n).temperature)+"℃ ",5)),[[x,w(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=st,o=ut();for(;;)try{if(427415===parseInt(e(335))/1*(-parseInt(e(346))/2)+-parseInt(e(309))/3+parseInt(e(344))/4*(-parseInt(e(322))/5)+-parseInt(e(316))/6*(-parseInt(e(331))/7)+parseInt(e(311))/8+-parseInt(e(342))/9*(-parseInt(e(332))/10)+-parseInt(e(320))/11*(-parseInt(e(333))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(306)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=st,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=pt(t(326));n[t(348)](o+t(312))&&e[t(348)](o+t(341))?pt():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(306)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=ut();return(st=function(t,n){return e[t-=306]})(t,n)}function ut(){const t=["builds","model","length","input","27FpDqPa","constructor","7364qDUsHd","table","57966aJMaGD","toString","test","trace","console","apply","bind","opacity","2294316GYqQWH","#000","1869624WBGvXf","chain","stateObject","action","透明度","6888QYkTLH","gger","city","string","995269LUKoPc",'{}.constructor("return this")( )',"1810Txmhda","addBinding","counter","call","init","debu","prototype","value","info","5047TMKATi","1307330XbELFw","96oTUsxw","warn","11uqcTkp","while (true) {}","exception"];return(ut=function(){return t})()}ct(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function("return (function() "+t(321)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(350)]||{},o=["log",t(334),t(330),"error",t(337),t(345),t(349)];for(let r=0;r<o[t(340)];r++){const n=ct[t(343)][t(328)].bind(ct),i=o[r],c=e[i]||n;n.__proto__=ct.bind(ct),n[t(347)]=c[t(347)][t(307)](c),e[i]=n}}))();const at=d({__name:"heatmap2",async setup(r){const i=st;let c,s;const u=h(!1),a=([c,s]=A((()=>o())),c=await c,s(),c);u[i(329)]=!0;const p=E({width:1,color:i(310),opacity:1,show:!0}),f=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(323)](f,i(308),{label:i(315),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(b,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[M(et,T({model:w(a)},f),null,16,[r(339)]),M(n,T(p,{builds:w(a)[r(318)]}),null,16,[r(338)])])),_:1}),M(rt)],64)}}});function pt(t){function n(t){const e=st;if(typeof t===e(319))return function(t){}[e(343)](e(336))[e(306)](e(324));1!==(""+t/t)[e(340)]||t%20==0?function(){return!0}[e(343)](e(327)+e(317))[e(325)](e(314)):function(){return!1}.constructor(e(327)+e(317))[e(306)](e(313)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
