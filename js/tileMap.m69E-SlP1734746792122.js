import{_ as t,V as n,cK as e}from"./three.1FILWcBb1734746792122.js";import{P as o}from"./tweakpane.yHWGBmom1734746792122.js";import{m as r,e as s}from"./@tresjs.vA_UT8oy1734746792122.js";import{P as i,b as a,c,M as u,T as p,a as l,d as m}from"./index.6g8r1CNR1734746792122.js";import{d as f,a3 as h,w as d,o as g,D as j,u as b,X as w,r as x,e as v,j as y,g as I,f as _,al as M,m as C,F as S}from"./@vue.-THQH3GC1734746792122.js";import{_ as z}from"./raycasterEvent.z0RLLaZ31734746792122.js";import{a as B}from"./utils.rZz3n_ca1734746792122.js";import"./@vueuse.lqJslAkC1734746792122.js";import"./@mapbox.hYIhoOVB1734746792122.js";import"./@amap.zNgKkCGX1734746792122.js";import"./three-mesh-bvh.VBrofT861734746792122.js";import"./three-custom-shader-material.uwcZNtd-1734746792122.js";import"./@fesjs.Y0rSBxCv1734746792122.js";import"./vue-router.PPpNBBl21734746792122.js";import"./lodash-es.kYt-_xTG1734746792122.js";import"./@qlin.yHhFDldE1734746792122.js";import"./pinia.fA-Uqav61734746792122.js";import"./vue-demi.C4xddsk91734746792122.js";import"./@floating-ui.BPbuo5Gx1734746792122.js";import"./@juggle.7yjBMqoW1734746792122.js";import"./@tweenjs.oXZvc3ug1734746792122.js";import"./utils.bDGdWJWR1734746792122.js";import"./d3-geo.R9cE6Wau1734746792122.js";import"./d3-array.AhNJy1f41734746792122.js";import"./http.iNNsohX_1734746792122.js";import"./axios.Ng308AU61734746792122.js";import"./color.wzR1lYDd1734746792122.js";import"./color-string.OsW9nx8b1734746792122.js";import"./color-name.5h595HLw1734746792122.js";import"./simple-swizzle.C_qyH7011734746792122.js";import"./is-arrayish.pCO2O0P31734746792122.js";import"./color-convert.d6UkidG01734746792122.js";import"./lodash.yyi1K8Wk1734746792122.js";import"./naive-ui.MiBRXiC81734746792122.js";import"./date-fns.dsKIdits1734746792122.js";import"./@css-render.pik6McA-1734746792122.js";import"./seemly.SjiSeX2v1734746792122.js";import"./css-render.xqXdn7BN1734746792122.js";import"./@emotion.ZD_ZYAgY1734746792122.js";import"./vooks.nfwcqL4t1734746792122.js";import"./evtd.DtfwxtIl1734746792122.js";import"./vueuc.BLS9VtIq1734746792122.js";import"./vdirs.3eMQB3aH1734746792122.js";import"./treemate.dcEdf2le1734746792122.js";import"./date-fns-tz.u2TZEX621734746792122.js";import"./async-validator.-YBkpS4I1734746792122.js";const k=Z;!function(t,n){const e=Z,o=A();for(;;)try{if(873394===parseInt(e(253))/1*(-parseInt(e(274))/2)+parseInt(e(246))/3+parseInt(e(265))/4*(parseInt(e(264))/5)+parseInt(e(237))/6+-parseInt(e(230))/7+-parseInt(e(231))/8*(parseInt(e(293))/9)+parseInt(e(281))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=Z,n=new RegExp(t(259)),e=new RegExp(t(290),"i"),o=T(t(242));n[t(240)](o+"chain")&&e[t(240)](o+t(235))?T():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(t,n){const e=A();return(Z=function(t,n){return e[t-=226]})(t,n)}R(void 0,(function(){const t=Z;let n;try{n=Function(t(280)+t(285)+");")()}catch(r){n=window}const e=n[t(255)]=n[t(255)]||{},o=[t(267),"warn",t(227),t(298),t(288),t(258),"trace"];for(let s=0;s<o[t(244)];s++){const n=R[t(286)][t(271)][t(297)](R),r=o[s],i=e[r]||n;n[t(276)]=R.bind(R),n.toString=i[t(260)][t(297)](i),e[r]=n}}))();const E=[k(248),k(294)];function A(){const t=["info","gger","target","1920443JsNcvf","869480QDtDrx","opposite","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","genSaturation","input","useStandardMaterial","591162lveBrB","tileMapMesh","position","test","coordType","init","string","length","provider","4940100ZEUZIh","domElement","object","mapCenter","innerHeight","source","set","1VyDloR","innerWidth","console","isMonochrome","apply","table","function *\\( *\\)","toString","camera","genContrast","flatShading","1268345NfdgIr","4FeiOxP","monochrome","log","lookAt","counter","showBoundingBox","prototype","PerspectiveCamera","updateProjectionMatrix","3060286ikIbXS","filter","__proto__","useWorker","#fff","enableDamping","return (function() ","12224150DsOWLh","genBright","wireframe","bbox",'{}.constructor("return this")( )',"constructor","maxZoom","exception","Color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","value","45VjADeL","rotation","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","tweenInstance","bind","error","update"];return(A=function(){return t})()}const P=f({__name:k(238),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:k(278)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:m}){const f=k,w=o,{renderer:x,scene:v}=r();(new i)[f(241)]=a;const y=new c;y[f(251)]=f(233),y.coordType=a;const I=new u;I[f(251)]=f(295),I.showTileNo=!1,I[f(277)]=!0;const _=new p(y,I);if(_[f(270)]=!1,_[f(283)]=!1,_[f(263)]=!1,_[f(236)]=!1,_.filter={opposite:w.opposite,monochrome:w[f(256)]?{r:.299,g:.587,b:.114}:null,genBright:w[f(282)],genContrast:w[f(262)],genSaturation:w[f(234)]},w[f(266)]){let n=new(t[f(289)])(w[f(266)]);_[f(275)]&&(_[f(275)].monochrome={r:n.r,g:n.g,b:n.b})}const M=new l;M[f(245)]=_,M[f(284)]=w.bbox,M[f(287)]=w[f(287)];const C=new(t[f(272)])(60,window[f(254)]/window[f(250)],1,1e8);C.up=new n(0,1,0),C[f(239)][f(252)](w[f(249)][0],w[f(249)][2],-w[f(249)][1]),C[f(268)](new(t[f(291)])(C[f(239)].x,0,C[f(239)].z-2e3)),M[f(261)]=C;let S=null;h((()=>{const t=f;x[t(292)]&&!S&&(S=new e(C,x[t(292)][t(247)]),S[t(279)]=!0,S.dampingFactor=.05,S.minDistance=600,S.position0.set(C[t(239)].x,C[t(239)].y,C[t(239)].z),S[t(229)][t(252)](C[t(239)].x,0,C[t(239)].z-2e3))})),d((()=>[w[f(232)],w[f(256)],w.monochrome]),(([n,e,o])=>{const r=f;if(_.filter){let s=new(t[r(289)])(o);_[r(275)][r(232)]=n,_[r(275)].monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),d((()=>[w[f(282)],w[f(262)],w.genSaturation]),(([t,n,e])=>{const o=f;_.filter&&(_[o(275)][o(282)]=t,_.filter.genContrast=n,_.filter.genSaturation=e)}));const{onLoop:z}=s();return z((()=>{var t;const n=f;if(x[n(292)]){null==(t=w[n(296)])||t.update(),S&&S[n(226)](),M[n(226)]();const e=50*Math.abs(C[n(239)].y);C.far=e+5e3,C[n(273)](),x[n(292)].render(v.value,C)}})),m({camera:C,map:M,orbitControl:S}),(t,n)=>(g(),j("primitive",{object:b(M),rotation:[-Math.PI/2,0,0]},null,8,E))}});function T(t){function n(t){const e=Z;if(typeof t===e(243))return function(t){}[e(286)]("while (true) {}")[e(257)](e(269));1!==(""+t/t)[e(244)]||t%20==0?function(){return!0}.constructor("debu"+e(228)).call("action"):function(){return!1}[e(286)]("debu"+e(228))[e(257)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=N;!function(t,n){const e=N,o=F();for(;;)try{if(816320===parseInt(e(517))/1+-parseInt(e(485))/2+parseInt(e(510))/3+parseInt(e(469))/4*(parseInt(e(501))/5)+parseInt(e(500))/6+-parseInt(e(489))/7+-parseInt(e(468))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(471)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(){const t=["1771392mrvCSI","96388ujxDuh","return (function() ","apply","gger","info","call","debu","genBright","滤镜颜色","Vector3","牛首山","constructor","opposite","isMonochrome","xjk","value","2057940ShGxED","while (true) {}","stateObject","test","747005lkpXDr","addBlade","camera","manual","trace","action","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#201919","#4688b5","genSaturation","1455978XIksXs","35XCoZQs","warn","prototype","饱和度","tweenInstance","__proto__",'{}.constructor("return this")( )',"bind","NoToneMapping","4037493zISDcV","function *\\( *\\)","toString","SRGBColorSpace","新街口","对比度","tileMapMeshRef","416256phRcaR","counter","console","error","addBinding","nss","tileMap","单色滤镜"];return(F=function(){return t})()}!function(){X(this,(function(){const t=N,n=new RegExp(t(511)),e=new RegExp(t(496),"i"),o=W("init");n[t(488)](o+"chain")&&e[t(488)](o+"input")?W():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(471)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(t,n){const e=F();return(N=function(t,n){return e[t-=465]})(t,n)}L(void 0,(function(){const t=N;let n;try{n=Function(t(470)+t(507)+");")()}catch(r){n=window}const e=n[t(519)]=n[t(519)]||{},o=["log",t(502),t(473),t(520),"exception","table",t(493)];for(let s=0;s<o[t(495)];s++){const n=L[t(480)][t(503)].bind(L),r=o[s],i=e[r]||n;n[t(506)]=L[t(508)](L),n[t(512)]=i[t(512)].bind(i),e[r]=n}}))();const O=f({__name:V(466),setup(n){const e=V,r=m(118.779958,32.017136),s=[r[0],r[1],5e3],i=w(),a=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(498),mapCenter:s,tweenInstance:null}),c=new o({title:"参数"});c[e(521)](a,e(481),{label:"反色"}),c[e(521)](a,e(476),{label:"高亮",min:.1,max:3,step:.1}),c[e(521)](a,"genContrast",{label:e(515),min:.1,max:3,step:.1}),c[e(521)](a,e(499),{label:e(504),min:.1,max:3,step:.1}),c[e(521)](a,e(482),{label:e(467)}),c[e(521)](a,"monochrome",{label:e(477)});const u={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};c[e(490)]({view:"list",label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(514),value:e(483)},{text:e(479),value:e(465)}],value:"at"}).on("change",(n=>{const o=e,r=new(t[o(478)])(u[n[o(484)]][0],2e3,-u[n[o(484)]][1]);a[o(505)]=B(i[o(484)].camera,r,i[o(484)].orbitControl,[0,-300],4e3)}));const p=x({clearColor:e(497),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(492),outputColorSpace:t[e(513)],toneMapping:t[e(509)]});return setTimeout((()=>{const n=e,o=u.at,r=new(t[n(478)])(o[0],1600,-o[1]);a[n(505)]=B(i[n(484)][n(491)],r,i.value.orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v("TresCanvas");return g(),j(S,null,[y(r,C(p,{"window-size":""}),{default:I((()=>[(g(),_(M,null,{default:I((()=>[y(P,C(a,{ref_key:o(516),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),y(z,{tileMapRef:i[o(484)]},null,8,["tileMapRef"])],64)}}});function W(t){function n(t){const e=N;if("string"==typeof t)return function(t){}[e(480)](e(486))[e(471)](e(518));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(475)+e(472))[e(474)](e(494)):function(){return!1}[e(480)]("debu"+e(472)).apply(e(487)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
