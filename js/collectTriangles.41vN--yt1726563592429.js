import{p as t,U as n,N as e,Y as o,_ as r}from"./@tresjs.Mu0zjs701726563592429.js";import{_ as s}from"./index.n9q0_k991726563592429.js";import{_ as i,M as c,g as u,a,cF as l}from"./three.ZWd_rX7H1726563592429.js";import{P as p}from"./tweakpane.yHWGBmom1726563592429.js";import{I as f,C as h,N as g,c as m,d,a as y}from"./three-mesh-bvh.Z7OdME_M1726563592429.js";import{d as w,a4 as j,b,a3 as v,o as _,E as I,L as x,u as k,F as A,r as T,e as B,j as z,g as E,m as q,f as M,al as R}from"./@vue.bvMz0l_u1726563592429.js";import"./@vueuse.a2m4N83v1726563592429.js";import"./index.bFq4rUOT1726563592429.js";import"./@fesjs.Kb69K-9r1726563592429.js";import"./vue-router.69lN8_NV1726563592429.js";import"./lodash-es.guXTxyfJ1726563592429.js";import"./@qlin.yHhFDldE1726563592429.js";import"./pinia.DLSH1Ooz1726563592429.js";import"./@floating-ui.BPbuo5Gx1726563592429.js";import"./@juggle.7yjBMqoW1726563592429.js";import"./chalk.sAH7iSuz1726563592429.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1726563592429.js";import"./@iconify.eRzdeG3K1726563592429.js";import"./utils.-o1MsOFF1726563592429.js";import"./default.vue_vue_type_script_setup_true_lang.hGPC8mYX1726563592429.js";import"./three-mesh-ui.module.cgSnzCwZ1726563592429.js";!function(t,n){const e=O,o=F();for(;;)try{if(954330===-parseInt(e(271))/1*(-parseInt(e(281))/2)+-parseInt(e(259))/3+parseInt(e(235))/4+-parseInt(e(257))/5+parseInt(e(245))/6*(-parseInt(e(262))/7)+parseInt(e(255))/8*(parseInt(e(238))/9)+parseInt(e(267))/10*(parseInt(e(244))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(275)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=O,n=new RegExp(t(236)),e=new RegExp(t(277),"i"),o=D(t(248));n.test(o+t(279))&&e[t(254)](o+t(274))?D():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(275)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(t,n){const e=F();return(O=function(t,n){return e[t-=234]})(t,n)}Z(void 0,(function(){const t=O;let n;try{n=Function("return (function() "+t(249)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(268),t(280),t(266),t(264),t(256),t(242),"trace"];for(let s=0;s<o.length;s++){const n=Z[t(261)].prototype[t(247)](Z),r=o[s],i=e[r]||n;n[t(276)]=Z[t(247)](Z),n[t(251)]=i[t(251)][t(247)](i),e[r]=n}}))();function D(t){function n(t){const e=O;if(typeof t===e(250))return function(t){}[e(261)]("while (true) {}")[e(275)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(261)](e(265)+e(239))[e(272)](e(237)):function(){return!1}[e(261)]("debu"+e(239))[e(275)](e(234)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function F(){const t=["5576298XkWDtF","value","bind","init",'{}.constructor("return this")( )',"string","toString","firstHitOnly","length","test","307288wIlJZE","exception","6340045fqsRlf","clientX","1304991AcrPlr","innerWidth","constructor","14HqAqOk","clientY","error","debu","info","16410qwnUiD","log","intersectObject","innerHeight","43LCkjpV","call","pointermove","input","apply","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addEventListener","chain","warn","35838weBmNo","stateObject","689204TDTBjq","function *\\( *\\)","action","387QfzAJr","gger","Raycaster","setFromCamera","table","touch","12881qzDqsL"];return(F=function(){return t})()}const P=W;!function(t,n){const e=W,o=V();for(;;)try{if(825612===parseInt(e(469))/1*(-parseInt(e(555))/2)+parseInt(e(514))/3*(-parseInt(e(508))/4)+parseInt(e(529))/5+parseInt(e(556))/6+parseInt(e(493))/7+-parseInt(e(519))/8+-parseInt(e(470))/9*(parseInt(e(484))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(548)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=W,n=new RegExp(t(547)),e=new RegExp(t(506),"i"),o=N(t(531));n[t(540)](o+t(495))&&e.test(o+t(533))?N():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(548)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=W;let n;try{n=Function(t(509)+t(528)+");")()}catch(r){n=window}const e=n[t(526)]=n[t(526)]||{},o=[t(466),"warn",t(549),t(488),t(511),"table",t(504)];for(let s=0;s<o[t(512)];s++){const n=L[t(536)][t(532)][t(472)](L),r=o[s],i=e[r]||n;n[t(482)]=L[t(472)](L),n[t(513)]=i.toString[t(472)](i),e[r]=n}}))();const U=[P(501),P(534)],X=[x(P(487),{args:[1,40,40]},null,-1),x(P(551),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],Y=[P(501)],H=[x(P(551),{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function V(){const t=["normal","370BxUOGx","counter","intersectsSphere","TresSphereGeometry","error","applyMatrix4","center","click","setX","10027535KghEhO","copy","chain","action","visible","addButton","call","MeshStandardMaterial","geometry","DynamicDrawUsage","setFromCamera","trace","color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","firstHitOnly","636SvPdVY","return (function() ","set","exception","length","toString","2313bpDohQ","point","setAttribute","targetMesh","setScalar","7609560BDwyPW","count","Mesh","scale","getY","Vector3","BufferGeometry","console","attributes",'{}.constructor("return this")( )',"7203540HnpPAZ","stateObject","init","prototype","input","material","gger","constructor","getX","active","value","test","push","intersectObject","instance","BufferAttribute","setY","点击按钮","function *\\( *\\)","apply","info","setUsage","TresMeshStandardMaterial","controls","string","radius","1306HNlXQm","6611334qrPDEi","getZ","log","debu","raycast","1619RZxSbS","247743DBZviu","setZ","bind","Vector2","index","matrixWorld","model","targetMesh.value init","position","TresMesh","containsPoint","while (true) {}","__proto__"];return(V=function(){return t})()}function W(t,n){const e=V();return(W=function(t,n){return e[t-=466]})(t,n)}const $=w({__name:P(476),props:{controls:{}},async setup(o){const r=P;let s,w;const T=o;(()=>{const t=W;i[t(525)][t(532)].computeBoundsTree=m,i[t(525)][t(532)].disposeBoundsTree=d,i[t(521)][t(532)][t(468)]=y})();const B=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),z=new(i[r(500)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),E=new Uint8Array(3*B[r(527)].position[r(520)]);E.fill(255);const q=new(i[r(544)])(E,3,!0);q[r(550)](i[r(502)]),B[r(516)](r(505),q);const M=b(null),R=b(null),S=b(!1),Z=b(-1),D=b(.2),F=new(i[r(473)]),{camera:C,raycaster:L}=t(),V=15/255,$=78/255,N=85/255;let Q=null;v((()=>{const t=r;M[t(539)]&&(console.log(t(477),M[t(539)]),M[t(539)].geometry.computeBoundsTree(),Q=B.boundsTree,((t,n,e,o,r,s)=>{const c=O;window.addEventListener(c(273),(e=>{const o=c;t.x=e[o(258)]/window[o(260)]*2-1,t.y=-e[o(263)]/window[o(270)]*2+1,n.value=!0})),window[c(278)]("pointerdown",(u=>{const a=c;t.x=u[a(258)]/window[a(260)]*2-1,t.y=-u[a(263)]/window[a(270)]*2+1,o[a(246)]=u.button;const l=new(i[a(240)]);l[a(241)](t,e[a(246)]),l[a(252)]=!0;const p=l[a(269)](r.value,!0);n.value=!0,s.enabled=0===p[a(253)]}),!0),window[c(278)]("pointerup",(t=>{const e=c;o.value=-1,t.pointerType===e(243)&&(n[e(246)]=!1)}),!0)})(F,S,C,Z,M,T.controls[t(543)]))}));const{onLoop:G}=n();G((()=>{const t=r,n=B[t(474)];if(R[t(539)])if(T[t(552)][t(543)][t(538)]||!S.value)R.value[t(497)]=!1;else{R[t(539)][t(522)][t(518)](D[t(539)]),L[t(539)][t(503)](F,C[t(539)]),L.value[t(507)]=!0;const e=L[t(539)][t(542)](M[t(539)],!0);if(e[t(512)]){R[t(539)][t(478)][t(494)](e[0][t(515)]),T[t(552)].instance.enabled=!1,R.value[t(497)]=!0;const o=new c;o[t(494)](M[t(539)][t(475)]).invert();const r=new u;r[t(490)].copy(R[t(539)][t(478)])[t(489)](o),r[t(554)]=100*D[t(539)];const s=[],a=new(i[t(524)]);if(null==Q||Q.shapecast({intersectsBounds:n=>{const e=t,o=r.intersectsBox(n),{min:s,max:i}=n;if(o){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let o=0;o<=1;o++)if(a[e(510)](0===t?s.x:i.x,0===n?s.y:i.y,0===o?s.z:i.z),!r[e(480)](a))return f;return h}return o?f:g},intersectsTriangle:(n,e,o)=>{if(o||n[t(486)](r)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===Z.value||2===Z[t(539)]){let e=1,o=1,r=1;0===Z[t(539)]&&(e=V,o=$,r=N);for(let i=0,c=s[t(512)];i<c;i++){const c=n[t(537)](s[i]);q[t(492)](c,e),q[t(545)](c,o),q[t(471)](c,r)}q.needsUpdate=!0}}else R[t(539)].visible=!1,T[t(552)][t(543)].enabled=!0}}));const J=(new p)[r(498)]({title:r(546),label:"生成模型"}),K=new(i[r(525)]);return J.on(r(491),(()=>{const t=r,n=[],e=[];for(let r=0;r<q[t(520)];r++)q[t(537)](r)===V&&q.getY(r)===$&&q[t(557)](r)===N&&(n[t(541)](B[t(527)].position[t(537)](r),B[t(527)][t(478)][t(523)](r),B[t(527)][t(478)][t(557)](r)),e[t(541)](B[t(527)][t(483)][t(537)](r),B.attributes[t(483)][t(523)](r),B[t(527)][t(483)].getZ(r)));const o=new Float32Array(n);K[t(516)](t(478),new(i[t(544)])(o,3)),K.setAttribute(t(483),new a(o,3))})),(t,n)=>{const e=r;return _(),I(A,null,[x(e(479),{ref_key:e(517),ref:M,geometry:k(B),scale:.005,material:k(z)},null,8,U),x(e(479),{ref_key:"brushMesh",ref:R,visible:!1},X,512),x("TresMesh",{geometry:k(K),position:[-2,-2,2],scale:.005},H,8,Y)],64)}}});function N(t){function n(t){const e=W;if(typeof t===e(553))return function(t){}[e(536)](e(481)).apply(e(485));1!==(""+t/t).length||t%20==0?function(){return!0}[e(536)](e(467)+e(535))[e(499)](e(496)):function(){return!1}[e(536)](e(467)+e(535))[e(548)](e(530)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function Q(){const t=["pos-z.jpg","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","neg-x.jpg","counter","input","neg-z.jpg","2172408Ijdeck","info","33732xupYEX","1208zoEQdq","table","test","stateObject","constructor","controls","call","warn","apply","pos-x.jpg","3nfINXO","760284VhjjWP","TresAmbientLight","value","1516600cRFBPv","return (function() ","length","#999999","controlsRef","action","TresPerspectiveCamera","bind","prototype","214878jdxbuP","error","init","10371350DoxwLf","string","gger","neg-y.jpg","7KcqbpV","console","TresCanvas","log","2804954mkmxnF","trace"];return(Q=function(){return t})()}const G=et;!function(t,n){const e=et,o=Q();for(;;)try{if(837785===-parseInt(e(292))/1+parseInt(e(269))/2*(parseInt(e(291))/3)+-parseInt(e(278))/4+parseInt(e(295))/5+parseInt(e(258))/6*(-parseInt(e(265))/7)+-parseInt(e(281))/8*(parseInt(e(280))/9)+parseInt(e(261))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[et(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=et,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(273),"i"),o=rt(t(260));n.test(o+"chain")&&e[t(283)](o+t(276))?rt():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[et(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=et;let n;try{n=Function(t(296)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(266)]=n.console||{},o=[t(268),t(288),t(279),t(259),"exception",t(282),t(270)];for(let s=0;s<o[t(297)];s++){const n=K[t(285)][t(257)].bind(K),r=o[s],i=e[r]||n;n.__proto__=K.bind(K),n.toString=i.toString[t(256)](i),e[r]=n}}))();const tt=x(G(255),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),nt=x(G(293),{intensity:1},null,-1);function et(t,n){const e=Q();return(et=function(t,n){return e[t-=253]})(t,n)}const ot=w({__name:"collectTriangles",setup(t){const n=G,e=T({clearColor:n(298),antialias:!0}),i=T({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=B(a(267));return _(),I(A,null,[z(k(s)),z(l,q(e,{"window-size":""}),{default:E((()=>[tt,z(k(o),q({ref_key:a(253),ref:c},i),null,16),nt,(_(),M(R,null,{default:E((()=>[z($,{controls:c[a(294)]},null,8,[a(286)])])),_:1})),(_(),M(R,null,{default:E((()=>[z(k(r),{background:!1,files:[a(290),a(274),"pos-y.jpg",a(264),a(271),a(277)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function rt(t){function n(t){const e=et;if(typeof t===e(262))return function(t){}[e(285)]("while (true) {}")[e(289)](e(275));1!==(""+t/t)[e(297)]||t%20==0?function(){return!0}[e(285)](e(272)+e(263))[e(287)](e(254)):function(){return!1}.constructor(e(272)+"gger")[e(289)](e(284)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ot as default};
