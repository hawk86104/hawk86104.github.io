import{k as t}from"./@tresjs.b88d4FZI1731641201182.js";import{ct as n,_ as e,k as o,a as s,a$ as r,bU as i,ak as c,am as a,aF as u,$ as l,s as p}from"./three.-z-VOBM71731641201182.js";import{P as f}from"./tweakpane.yHWGBmom1731641201182.js";import{a as d}from"./index.PIaASH-_1731641201182.js";import"./index.-92EDYxa1731641201182.js";import{_ as g}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.Wf_eoJPI1731641201182.js";import{d as m,r as h,X as _,s as v,q as w,e as x,o as y,D as j,j as b,g as I,J as k,u as B,m as M,f as S,al as F,I as z}from"./@vue.-THQH3GC1731641201182.js";import{_ as C}from"./@fesjs.Y6wvFf_31731641201182.js";import"./@vueuse.XeXqlNFe1731641201182.js";import"./three-stdlib.azfEeGDS1731641201182.js";import"./@pmndrs.nMJMDdCC1731641201182.js";import"./object-hash.CXGf2irT1731641201182.js";import"./@amap.ZfMFVSXv1731641201182.js";import"./jszip.KrBayNZW1731641201182.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.vanHuc-L1731641201182.js";import"./all.three.2tQ_z9k71731641201182.js";import"./oimophysics.x0jH7fze1731641201182.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.IEUTuzCl1731641201182.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.ntCXpMdE1731641201182.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.PYS-6uz51731641201182.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.2GUL6dDN1731641201182.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.D_V6lSTs1731641201182.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Gw2k3f7L1731641201182.js";import"./vue-router.JI-MlJL41731641201182.js";import"./lodash-es.kYt-_xTG1731641201182.js";import"./@qlin.yHhFDldE1731641201182.js";import"./pinia.KbEhbnNi1731641201182.js";import"./vue-demi.C4xddsk91731641201182.js";import"./@floating-ui.BPbuo5Gx1731641201182.js";import"./@juggle.7yjBMqoW1731641201182.js";const A=D;!function(t,n){const e=D,o=R();for(;;)try{if(451700===-parseInt(e(209))/1+-parseInt(e(227))/2+parseInt(e(229))/3*(parseInt(e(211))/4)+parseInt(e(179))/5*(-parseInt(e(192))/6)+parseInt(e(214))/7*(-parseInt(e(233))/8)+parseInt(e(186))/9+parseInt(e(205))/10)break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(218)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=D,n=new RegExp(t(208)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=P(t(178));n.test(o+t(184))&&e.test(o+t(203))?P():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=R();return(D=function(t,n){return e[t-=168]})(t,n)}function R(){const t=["warn","table","position","attributes","EdgesGeometry","MeshBasicMaterial","error","call","bind","while (true) {}","LineBasicMaterial","parse","drawImportSpecialBoard","max","getCenter","init","67860vUpzzf","stateObject","paths","Mesh","__proto__","chain","geometry","7439805woBTMc","material","debu","#AFAFAD","boundingBox","negate","288NiVkle","console","count","length","add","counter","receiveShadow","castShadow","gger","Vector2","ExtrudeGeometry","input",'{}.constructor("return this")( )',"12689300nkSaFr","MeshStandardMaterial","Shape","function *\\( *\\)","545191TtAyAC","Vector3","1894172apvEBV","forEach","getY","56FavSfe","trace","constructor","copy","apply","return (function() ","computeBoundingBox","push","exception","translate","setXY","string","mBoundingBox","1099638BMgDxx","log","3vaHjCJ","name","rotation","min","370952HPcoeV"];return(R=function(){return t})()}T(void 0,(function(){const t=D;let n;try{n=Function(t(219)+t(204)+");")()}catch(s){n=window}const e=n[t(193)]=n[t(193)]||{},o=[t(228),t(234),"info",t(169),t(222),t(235),t(215)];for(let r=0;r<o[t(195)];r++){const n=T[t(216)].prototype.bind(T),s=o[r],i=e[s]||n;n[t(183)]=T[t(171)](T),n.toString=i.toString.bind(i),e[s]=n}}))();class V{constructor(t){this[D(230)]=t}[A(175)](t,i,c){const a=A,u=(new n)[a(174)](i),l=new(e[a(207)]);u[a(181)].forEach(((t,n)=>{const e=a;t.toShapes(!0)[e(212)](((t,o)=>{const s=e;0===n&&0===o?l[s(217)](t):l.holes[s(221)](t)}))}));const p=new(e[a(202)])(l,{depth:18,bevelEnabled:!1});p[a(220)]();const f=p[a(190)][a(177)](new(e[a(210)]))[a(191)]();p[a(223)](f.x,f.y,f.z),p.computeBoundingBox();const d=p[a(190)][a(176)],g=p[a(190)][a(232)],m=new o(0-g.x,0-g.y),h=new(e[a(201)])(d.x-g.x,d.y-g.y);p[a(237)].uv=new s(new Float32Array(2*p.attributes.position.count),2);for(let n=0;n<p[a(237)][a(236)][a(194)];n++){const t=p.attributes[a(236)].getX(n),e=p.attributes[a(236)][a(213)](n);p[a(237)].uv[a(224)](n,(t+m.x)/h.x,(e+m.y)/h.y)}const _=new(e[a(168)])({map:null}),v=new(e[a(182)])(p,_);v[a(187)]=new(e[a(206)])({map:null,color:a(189),roughness:1,metalness:.1,envMapIntensity:2.5}),v[a(198)]=!0,v[a(199)]=!0,v.position.x=c,v[a(236)].y=250;const w=new(e[a(173)])({color:0}),x=new(e[a(238)])(v[a(185)],1),y=new r(x,w);y.renderOrder=1,y[a(236)].copy(v[a(236)]),y[a(231)][a(217)](v[a(231)]),v.mBoundingBox=y,t[a(196)](v,v[a(226)])}}function P(t){function n(t){const e=D;if(typeof t===e(225))return function(t){}.constructor(e(172))[e(218)](e(197));1!==(""+t/t)[e(195)]||t%20==0?function(){return!0}[e(216)](e(188)+e(200))[e(170)]("action"):function(){return!1}[e(216)](e(188)+e(200))[e(218)](e(180)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=X;function X(t,n){const e=$();return(X=function(t,n){return e[t-=453]})(t,n)}!function(t,n){const e=X,o=$();for(;;)try{if(139717===parseInt(e(485))/1*(-parseInt(e(490))/2)+parseInt(e(541))/3+parseInt(e(458))/4+parseInt(e(464))/5*(-parseInt(e(503))/6)+parseInt(e(551))/7+parseInt(e(454))/8+parseInt(e(483))/9*(-parseInt(e(540))/10))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(510)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=X,n=new RegExp(t(555)),e=new RegExp(t(525),"i"),o=N("init");n.test(o+"chain")&&e.test(o+t(453))?N():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=X;let n;try{n=Function(t(469)+t(457)+");")()}catch(s){n=window}const e=n[t(466)]=n[t(466)]||{},o=[t(509),"warn",t(479),t(477),t(491),t(482),"trace"];for(let r=0;r<o[t(459)];r++){const n=L[t(547)][t(471)][t(481)](L),s=o[r],i=e[s]||n;n[t(500)]=L[t(481)](L),n[t(499)]=i.toString.bind(i),e[s]=n}}))();const q={key:0,class:H(468)},Z={class:H(461)};function $(){const t=["add","dxf2svg","file","src","debu","querySelector","1358270rAxsYr","570972HbibPw","while (true) {}","addFolder","neg-y.jpg","dxf2meshPage","svg","constructor","1.1","TresMesh","boxMeshRef","280749HVNevn","dialogVisible","open","addButton","function *\\( *\\)","TresGroup","#svg-display svg","input","1682024ahwkfW","remove","localFileReader",'{}.constructor("return this")( )',"338892LoNXvj","length","value","footBtn","下载测试文件1","pos-x.jpg","82870toNlaE","TresDirectionalLight","console","gger","dialogDiv","return (function() ","button","prototype","script","TresPerspectiveCamera","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","pos-y.jpg","stateObject","error","#82DBC5","info","xMidYMid meet","bind","table","9Cnsyzy","init","6471txHttZ","string","head","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","then","26DyOVZw","exception","click","groupRef","div","action","TresAmbientLight","call","TresBoxGeometry","toString","__proto__","assembly","1000","60FjiqEe","blue","main-svg","neg-z.jpg","http://www.inkscape.org/namespaces/inkscape","plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","log","apply","children","fileInput","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","加载脚本 ","初始化","svg-display","#ffffff","导入dxf","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","TresGridHelper","#3a78a2","pos-z.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","outerHTML","catch","http://www.w3.org/2000/svg","pen1","onload","onerror","10000","translate(50, 50)"];return($=function(){return t})()}function N(t){function n(t){const e=X;if(typeof t===e(486))return function(t){}.constructor(e(542))[e(510)]("counter");1!==(""+t/t)[e(459)]||t%20==0?function(){return!0}[e(547)](e(538)+e(467))[e(497)](e(495)):function(){return!1}[e(547)]("debu"+e(467))[e(510)](e(476)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=C(m({__name:H(545),setup(n){const e=H,o=h({dialogVisible:!1}),s={clearColor:e(478),shadows:!0,alpha:!1,shadowMapType:i,outputColorSpace:c,toneMapping:a},r=h({cellSize:60,cellThickness:1.1,cellColor:"#627179",sectionColor:e(523),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let m=0;const C=_(),A=_(),E=new f;E[e(554)]({title:e(462)}).on(e(492),(()=>{window[e(553)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf","_blank")})),E[e(554)]({title:"下载测试文件2"}).on("click",(()=>{window[e(553)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf","_blank")}));const T=E[e(543)]({title:"远近"});function D(){const t=e,n=A[t(460)];o[t(552)]=!1;const s=document[t(539)](t(557));if(s){const e=s[t(526)];let o=new V;m+=1200,o.drawImportSpecialBoard(n,e,m)}}function R(t){return new Promise(((n,e)=>{const o=X,s=document.createElement(o(472));s[o(537)]=t,s.type="text/javascript",s[o(530)]=()=>n(),s[o(531)]=()=>e(new Error(o(516)+t+" 时出错")),document[o(487)].appendChild(s)}))}return T[e(554)]({title:e(520)}).on("click",(()=>{const t=e;o[t(552)]=!0,v((()=>{const n=t;window[n(456)][n(484)]()}))})),T[e(554)]({title:e(517)}).on("click",(()=>{!function(){const t=e,n=new u(500,500,18),o=new l({color:t(504)}),s=new p(n,o),r=A.value;for(;r.children[t(459)]>0;){const n=r[t(511)][0];r[t(455)](n)}r[t(534)](s)}()})),w((()=>{!function(){const t=e;R(t(474)).then((()=>R(t(521))))[t(489)]((()=>R(t(488))))[t(489)]((()=>R(t(508)))).then((()=>R(t(515))))[t(489)]((()=>R(t(513))))[t(527)]((n=>console[t(477)]("加载脚本时出错",n)))}()})),(n,i)=>{const c=e,a=x("TresCanvas");return y(),j(c(494),null,[b(a,M(s,{"window-size":""}),{default:I((()=>[i[2]||(i[2]=k(c(473),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),b(B(t),{"make-default":""}),i[3]||(i[3]=k(c(522),{position:[0,-1,0],size:c(502),divisions:c(532)},null,-1)),k(c(556),{ref_key:c(493),ref:A,position:[2,250,0]},[k(c(549),{ref_key:c(550),ref:C},i[1]||(i[1]=[k(c(498),{args:[500,500,18]},null,-1),k("TresMeshBasicMaterial",{color:c(504)},null,-1)]),512)],512),i[4]||(i[4]=k(c(496),{color:c(519),intensity:1},null,-1)),i[5]||(i[5]=k(c(465),{color:"#ffffff",position:[300,300,250],intensity:6},null,-1)),b(B(g),M({args:[3,3]},r,{position:[0,-.5,0]}),null,16),(y(),S(F,null,{default:I((()=>[b(B(d),{files:[c(463),"neg-x.jpg",c(475),c(544),c(524),c(506)],path:c(514)})])),_:1}))])),_:1},16),o[c(552)]?(y(),j(c(494),q,[i[6]||(i[6]=k(c(494),{id:c(518),class:c(501),style:{}},[k(c(546),{id:c(505),xmlns:c(528),"xmlns:svg":c(528),"xmlns:inkscape":c(507),version:c(548),preserveAspectRatio:c(480)},[k("g",{id:c(535),class:c(529),"stroke-width":"6",fill:"#776A8F",transform:c(533)})])],-1)),i[7]||(i[7]=k(c(494),{class:c(512)},[k(c(453),{id:"dxfFileInput",type:c(536)})],-1)),k(c(494),Z,[k(c(470),{onClick:i[0]||(i[0]=t=>o[c(552)]=!1)},"取消"),k("button",{onClick:D},"确定")])])):z("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{O as default};
