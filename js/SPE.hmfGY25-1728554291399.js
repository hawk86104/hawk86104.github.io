import{_ as t,a as e,X as i,bT as n,k as o,V as s,at as r,C as a,m as c}from"./three.YiCjTDWq1728554291399.js";const h=d;!function(t,e){const i=d,n=u();for(;;)try{if(705997===-parseInt(i(478))/1+parseInt(i(475))/2*(-parseInt(i(424))/3)+-parseInt(i(585))/4*(parseInt(i(738))/5)+-parseInt(i(666))/6*(-parseInt(i(342))/7)+parseInt(i(393))/8*(-parseInt(i(302))/9)+-parseInt(i(398))/10*(parseInt(i(359))/11)+parseInt(i(519))/12*(parseInt(i(528))/13))break;n.push(n.shift())}catch(o){n.push(n.shift())}}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[d(491)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function u(){const t=["sqrt","static","32980lLJcKZ","releaseIntoPool","uniform float deltaTime;","    vec3 pos = vec3( position );","    vec3 outgoingLight = vColor.xyz;","setDrawRange","amd","textureLoop","  return 1.0 - when_lt(x, y);","geometry","_assignRotationValue","_attributesNeedRefresh","subarray","_ensureTypedArray","        float wiggleAmount = positionInTime * getWiggle();","warn","uniform vec4 textureAnimation;","_resetBufferRanges","_distribution","loop","indexOf","       float s = sin( -vAngle );","frames","acceleration","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","_attributesNeedDynamicReset","       float x = gl_PointCoord.x - 0.5;","Emitter","needsUpdate","interpolateArray","ensureArrayTypedArg","sin","colorize","mesh","material","randomVector3","    vec3 vel = getVelocity( age );","void main() {","clamp","      vec3 center = rotationCenter;","        float wiggleCos = isAlive * cos( wiggleAmount );","   return c;","TypedArray is already of size:","splice","direction","LINE","reset","remove","_radius","type","           positionInTime,","SPHERE","_rotationCenter","_setAttributeOffset","    #ifdef ALPHATEST","vec3 unpackColor( in float hex ) {","uniform sampler2D tex;","    #ifdef SHOULD_ROTATE_TEXTURE","roundToNearestMultiple","ShaderChunk","table","hasPerspective","BOX","      float angle = 0.0;","function","      vec3 translated;","unpackColor","   return velocity * age;","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","arrayValuesAreEqual","_spreadClamp","   float b = mod( hex, PACKED_COLOR_SIZE );","updateFlags","action","vec4 getPosition( in float age ) {","        float wiggleSin = isAlive * sin( wiggleAmount );","      if( rotation.y == 0.0 ) {","paramsArray","arrayType","    #else","unshift","110298vfyhQj","attribute vec4 rotation;","       float c = cos( -vAngle );","        pos.z += wiggleSin;","    return 1.0 - abs( sign( x - y ) );","gger","transparent","        float rowNorm = row / framesY;","float when_gt(float x, float y) {","addPool","opacity","randomFloat","logdepthbuf_vertex","    vec3 value = vec3( 0.0 );","normalize","setVec2Components","emitters","emitterIDs","        vSpriteSheet.z = columnNorm;","SPE.Group pool ran out.","spe","      translated = rotationCenter - pos;","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","fog","uuid","_updateDefines","duration","   return params.y;","Emitter already exists in this group. Will not add again.","  return 1.0 - when_gt(x, y);","dynamicBuffer","fog_pars_vertex","angle","tick","    highp float isAlive = when_gt( alive, 0.0 );","typedArray","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","defineProperty","        float columnNorm = vSpriteSheet.z;","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","test","forceFetchingFunctions","    vec3 accel = getAcceleration( age );","deltaTime","indexOffset","setVec3Components","Vector3","   c.g = g / PACKED_COLOR_DIVISOR;","while (true) {}","scale","float when_ge(float x, float y) {","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","_setBufferUpdateRanges","float or(float a, float b) {","defines","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","attributeKeys","fog_vertex","exports","attributeCount","distributionClamp","fragment","_distributionClamp","particles, can support only","Vector2","    varying vec4 vSpriteSheet;","DynamicDrawUsage","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","_decrementParticleCount","TypedArrayHelper","85vakyEo","triggerPoolEmitter","   c *= vec3( 2.0 );","shaderChunks","cos","__proto__","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","blending","push","       vec3 c = isAlive * getColorOverLifetime(","        float perspective = scale / length( mvPosition.xyz );","    highp float positionInTime = (age / maxAge);","offset","       float s = sin(angle);","DISC","value","attribute vec4 params;","wiggle","   c -= vec3( 1.0 );","AdditiveBlending","    return min(a + b, 1.0);","axis","unpackRotationAxis","alphaTest","disable","ShaderAttribute","length","    #ifdef SHOULD_CALCULATE_SPRITE","#ifdef SHOULD_ROTATE_PARTICLES","setSize","radius","      rotationMatrix = getRotationMatrix( axis, angle );","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","debu","1341EDgoOB","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","setVec4Components","depthWrite","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","ceil","spread","       float oc = 1.0 - c;","getLength","flagUpdate","Will not resize.","_spread","attributeEnd","attribute vec4 opacity;","randomDirectionVector3OnSphere","grow","isStatic","undefined","uniforms","       fIndex = float( i );","    #ifdef SHOULD_WIGGLE_PARTICLES","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","POSITIVE_INFINITY","       );","number","alive","getValueAtIndex","stateObject","removeEmitter","attributeOffset","prototype","abs","randomise","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","componentSize","`emitter` argument must be instance of SPE.Emitter. Was provided with:","    gl_Position = projectionMatrix * mvPosition;","rotateTexture","_assignPositionValue","   return params.w;","217rNNgBY","_assignValue","dispose","updateMax","replace","        vSpriteSheet.y = 1.0 / framesY;","elements","logdepthbuf_pars_fragment","colorOverLifetime","multiplyScalar","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","_resetParticle","        float perspective = 1.0;","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","_angle","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","#endif","2379652kfwyjq","_poolCreationSettings","distribution","        float column = floor(mod( frameNumber, framesX ));","        float framesX = vSpriteSheet.x;","resetFlags","random","SHOULD_ROTATE_TEXTURE","rotation","_angleSpread","StaticDrawUsage","   return params.z;","        float row = floor( (frameNumber - column) / framesX );","resetDynamic","setMat3","SHOULD_CALCULATE_SPRITE","NUMBER","_updateUniforms","_updateAttributeUpdateRange","console","maxAge","setMat4","attributes","addEmitter","join","_assignParamsValue","setColor","    pos += force;","_applyAttributesToGeometry","attribute vec4 acceleration;","_pool","    ","textureFrameCount","OBJECT","54136hjYCUv","frameCount","#ifdef SHOULD_ROTATE_TEXTURE","randomVector3OnLine","onParticleSpawn","20tknrnZ","Argument is not instanceof SPE.Emitter:","   return modelViewMatrix * vec4( position, 1.0 );","attribute vec4 color;","hasOwnProperty","drag","_assignAbsLifetimeValue","_value","clone","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","axisSpread","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","depthTest","REVISION","valueOverLifetimeLength","float getWiggle() {","Emitter does not belong to a group, cannot remove.","getPackedRotationAxis","#define PACKED_COLOR_SIZE 256.0",'{}.constructor("return this")( )',"    gl_PointSize = pointSizePerspective;","    vec3 force = vec3( 0.0 );","_calculatePPSValue","call","group","      mat4 rotationMatrix;","1557ynugIe","particleCount","setAttribute","Points","varyings","_static","constructor","params","       axis = normalize(axis);","shaders","    highp float value = 0.0;","    return value;","angleSpread","activeParticleCount","setVec2","return (function() ","ensureTypedArg","        vSpriteSheet.w = rowNorm;","SPE.Group: maxParticleCount exceeded. Requesting","           unpackColor( color.z ),","floatOverLifetime","size","count","max","Emitter does not exist in this group. Will not remove.","fog_fragment","array","log","SHOULD_ROTATE_PARTICLES","toString","        float framesX = textureAnimation.x;","float getAlive() {","       float y = 1.0 - gl_PointCoord.y - 0.5;","   }","   return acceleration.xyz * age;","attribute vec3 velocity;","randomDirectionVector3OnDisc","setFromArray","string","textureFrames","maxParticleCount","usage","particlesPerSecond","   vec3 c = vec3( 0.0 );","BOOLEAN","        pos = getRotation( pos, positionInTime );","MathUtils","_activateParticles","   c.r = r / PACKED_COLOR_DIVISOR;","_createNewWhenPoolEmpty","setRGB","4132tufTbB","Emitter already belongs to another group. Will not add to requested group.","lerp","771225VUpsVY","SHOULD_WIGGLE_PARTICLES","bind","info","generateUUID","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","vec3 getAcceleration( in float age ) {","setUpdateRange","    float fIndex = 0.0;","                   0.0,                                0.0,                                0.0,                                1.0);","setVec3","texture","position","apply","bufferUpdateRanges","    force += accel * age;","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","    float pointSizePerspective = pointSize * perspective;","        float framesY = vSpriteSheet.y;","branchAvoidanceFunctions","chain","getFromPool","bufferAttribute","    #endif","_checkParticleAges","common","updateRange","vertex","color","trace","round","enable","rotationFunctions","itemSize","   c.b = b / PACKED_COLOR_DIVISOR;","rotationCenter","Invalid argument types, or argument types do not match:","BufferGeometry","runTime","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","forceUpdateAll","637740cRzJgC","velocity","isArray","add","paramFetchingFunctions","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","shrink","updateCounts","bufferUpdateCount","871fWFlEm","setVec4","ensureArrayInstanceOf","Color","_assignForceValue","randomColorAsHex","Vector4","       if ( vColor.w < float(ALPHATEST) ) discard;","_radiusScale","activeMultiplier","Texture","spreadClamp","ensureValueOverLifetimeCompliance","getHex","        vSpriteSheet.x = 1.0 / framesX;","attribute vec4 size;","_updateBuffers","    #ifdef HAS_PERSPECTIVE","error","attribute vec3 rotationCenter;","updateMap","    highp float alive = getAlive();","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    return max(sign(x - y), 0.0);","activationIndex","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","      }","counter","fixedTimeStep","_triggerSingleEmitter","        float framesY = textureAnimation.y;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","attribute vec4 angle;","vec3 unpackRotationAxis( in float hex ) {","_createGetterSetters","set","activationEnd","_incrementParticleCount","age","    vec4 rotatedTexture = texture2D( tex, vUv );","       float c = cos(angle);","_createBufferAttribute","Group","min","setNumber","_assignColorValue","      vec3 axis = unpackRotationAxis( rotation.x );","    vColor = vec4( c, o );","utils","    highp float maxAge = getMaxAge();","ensureInstanceOf","updateMin","typeSizeMap","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","copy"];return(u=function(){return t})()}!function(){l(this,(function(){const t=d,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(688),"i"),n=g("init");e[t(706)](n+t(498))&&i[t(706)](n+"input")?g():n("0")}))()}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();f(void 0,(function(){const t=d,e=function(){const t=d;let e;try{e=Function(t(439)+t(417)+");")()}catch(i){e=window}return e}(),i=e[t(378)]=e[t(378)]||{},n=["log",t(600),t(481),"error","exception",t(645),t(507)];for(let o=0;o<n[t(293)];o++){const e=f[t(430)][t(332)].bind(f),s=n[o],r=i[s]||e;e[t(743)]=f[t(480)](f),e[t(453)]=r[t(453)][t(480)](r),i[s]=e}}))();const p={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function d(t,e){const i=u();return(d=function(t,e){return i[t-=277]})(t,e)}"function"==typeof define&&define[h(591)]?define(h(686),p):typeof exports!==h(319)&&"undefined"!=typeof module&&(module[h(725)]=p),p[h(737)]=function(t,e,i,n){const o=h;this[o(336)]=i||1,this[o(445)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[o(450)]=new t(e*this[o(336)]),this[o(710)]=n||0},p[h(737)][h(430)]=p.TypedArrayHelper,p[h(737)][h(332)][h(296)]=function(t,e){const i=h,n=this.array[i(293)];return!e&&(t*=this.componentSize),t<n?this[i(525)](t):t>n?this[i(317)](t):void console.info(i(627),t+".",i(312))},p[h(737)][h(332)].shrink=function(t){const e=h;return this[e(450)]=this[e(450)][e(597)](0,t),this[e(445)]=t,this},p.TypedArrayHelper[h(332)].grow=function(t){const e=h,i=this.array,n=new this.TypedArrayConstructor(t);return n[e(563)](i),this[e(450)]=n,this[e(445)]=t,this},p.TypedArrayHelper[h(332)][h(628)]=function(t,e){const i=h;t*=this[i(336)],e*=this.componentSize;const n=[],o=this[i(450)],s=o.length;for(let r=0;r<s;++r)(r<t||r>=e)&&n[i(746)](o[r]);return this[i(461)](0,n),this},p[h(737)].prototype.setFromArray=function(t,e){const i=h,n=t+e[i(293)];return n>this[i(450)].length?this[i(317)](n):n<this.array[i(293)]&&this.shrink(n),this[i(450)][i(563)](e,this[i(710)]+t),this},p.TypedArrayHelper[h(332)][h(438)]=function(t,e){return this.setVec2Components(t,e.x,e.y)},p[h(737)][h(332)][h(681)]=function(t,e,i){const n=h,o=this.array,s=this[n(710)]+t*this[n(336)];return o[s]=e,o[s+1]=i,this},p.TypedArrayHelper[h(332)][h(488)]=function(t,e){return this[h(711)](t,e.x,e.y,e.z)},p[h(737)][h(332)].setVec3Components=function(t,e,i,n){const o=h,s=this[o(450)],r=this[o(710)]+t*this[o(336)];return s[r]=e,s[r+1]=i,s[r+2]=n,this},p[h(737)][h(332)][h(529)]=function(t,e){return this[h(304)](t,e.x,e.y,e.z,e.w)},p[h(737)].prototype.setVec4Components=function(t,e,i,n,o){const s=h,r=this.array,a=this.indexOffset+t*this[s(336)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=o,this},p[h(737)][h(332)][h(373)]=function(t,e){const i=h;return this[i(461)](this[i(710)]+t*this[i(336)],e[i(348)])},p[h(737)].prototype[h(380)]=function(t,e){const i=h;return this[i(461)](this[i(710)]+t*this[i(336)],e[i(348)])},p[h(737)][h(332)][h(385)]=function(t,e){return this[h(711)](t,e.r,e.g,e.b)},p[h(737)][h(332)][h(572)]=function(t,e){const i=h;return this[i(450)][this[i(710)]+t*this[i(336)]]=e,this},p.TypedArrayHelper[h(332)][h(328)]=function(t){const e=h;return this[e(450)][this[e(710)]+t]},p[h(737)].prototype.getComponentValueAtIndex=function(t){const e=h;return this[e(450)][e(597)](this[e(710)]+t*this.componentSize)},p[h(292)]=function(t,e,i){const n=h,o=p[n(292)][n(580)];this[n(634)]=typeof t===n(462)&&o[n(402)](t)?t:"f",this.componentSize=o[this[n(634)]],this[n(663)]=i||Float32Array,this[n(701)]=null,this[n(500)]=null,this[n(696)]=!!e,this[n(579)]=0,this[n(345)]=0},p[h(292)][h(430)]=p[h(292)],p[h(292)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},p.ShaderAttribute[h(332)][h(485)]=function(t,e){const i=h;this[i(579)]=Math[i(571)](t*this[i(336)],this[i(579)]*this[i(336)]),this.updateMax=Math[i(447)](e*this[i(336)],this[i(345)]*this[i(336)])},p[h(292)][h(332)][h(311)]=function(){const t=h,e=this[t(500)],i=e[t(504)];i[t(279)]=this[t(579)],i.count=Math.min(this[t(345)]-this[t(579)]+this[t(336)],this[t(701)].array[t(293)]),e[t(613)]=!0},p[h(292)][h(332)].resetUpdateRange=function(){const t=h;this[t(579)]=0,this[t(345)]=0},p.ShaderAttribute[h(332)][h(372)]=function(){const e=h;this[e(500)][e(465)]=this[e(696)]?t[e(733)]:t[e(369)]},p[h(292)][h(332)][h(628)]=function(t,e){const i=h;this[i(701)].splice(t,e),this[i(518)]()},p.ShaderAttribute[h(332)][h(518)]=function(){const e=h;this.bufferAttribute.array=this[e(701)].array,this[e(500)][e(504)][e(279)]=0,this[e(500)][e(504)].count=-1,this[e(500)][e(465)]=t[e(369)],this.bufferAttribute.needsUpdate=!0},p.ShaderAttribute[h(332)][h(598)]=function(t){const e=h;null!==this.typedArray&&this.typedArray.size===t*this[e(336)]||(null!==this.typedArray&&this[e(701)][e(445)]!==t?this.typedArray[e(296)](t):null===this[e(701)]&&(this[e(701)]=new(p[e(737)])(this[e(663)],t,this.componentSize)))},p[h(292)][h(332)][h(569)]=function(n){const o=h;if(this[o(598)](n),null!==this[o(500)])return this[o(500)][o(450)]=this[o(701)].array,parseFloat(t[o(411)])>=81&&(this.bufferAttribute[o(446)]=this.bufferAttribute[o(450)][o(293)]/this[o(500)][o(511)]),void(this[o(500)].needsUpdate=!0);this[o(500)]=new e(this[o(701)][o(450)],this[o(336)]),this.bufferAttribute[o(465)]=this[o(696)]?i:t[o(369)]},p[h(292)][h(332)][h(310)]=function(){const t=h;return null===this.typedArray?0:this[t(701)][t(450)][t(293)]},p[h(741)]={defines:[h(416),"#define PACKED_COLOR_DIVISOR 255.0"][h(383)]("\n"),uniforms:[h(587),"uniform float runTime;",h(641),h(601),"uniform float scale;"].join("\n"),attributes:[h(388),h(459),h(667),h(547),h(283),h(543),h(560),h(401),h(315)].join("\n"),varyings:["varying vec4 vColor;",h(395),"    varying float vAngle;",h(358),"#ifdef SHOULD_CALCULATE_SPRITE",h(732),h(358)][h(383)]("\n"),branchAvoidanceFunctions:[h(674),h(551),"}","float when_lt(float x, float y) {",h(735),"}","float when_eq( float x, float y ) {",h(670),"}",h(716),h(593),"}","float when_le(float x, float y) {",h(695),"}","float and(float a, float b) {","    return a * b;","}",h(719),h(287),"}"][h(383)]("\n"),unpackColor:[h(640),"   vec3 c = vec3( 0.0 );",h(494),h(721),"   float b = mod( hex, PACKED_COLOR_SIZE );",h(472),"   c.g = g / PACKED_COLOR_DIVISOR;",h(512),h(626),"}"][h(383)]("\n"),unpackRotationAxis:[h(561),h(467),h(494),h(721),h(656),h(472),h(713),h(512),h(740),h(285),"   return c;","}"][h(383)]("\n"),floatOverLifetime:[h(357),h(434),h(559),h(486),"    float shouldApplyValue = 0.0;",h(717),"",h(524),h(321),h(609),"       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    }","","    return value;","}"][h(383)]("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {",h(679),h(483),h(550),h(581),h(435),"}"].join("\n"),paramFetchingFunctions:[h(455),"   return params.x;","}","float getAge() {",h(693),"}","float getMaxAge() {",h(370),"}",h(413),h(341),"}"].join("\n"),forceFetchingFunctions:[h(659),h(400),"}","vec3 getVelocity( in float age ) {",h(652),"}",h(484),h(458),"}"][h(383)]("\n"),rotationFunctions:[h(295),"   mat4 getRotationMatrix( in vec3 axis, in float angle) {",h(432),h(280),h(568),h(309),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",h(744),h(517),h(487),h(457),"",h(705),h(661),"           return pos;",h(554),"",h(574),h(624),h(650),h(423),h(648),h(323),h(407),h(687),h(298),h(553),"   }","#endif"][h(383)]("\n"),rotateTexture:[h(355),"",h(642),h(611),h(456),h(668),h(606),h(653),"    #endif","","    #ifdef SHOULD_CALCULATE_SPRITE",h(363),h(496),h(704),"        float rowNorm = vSpriteSheet.w;",h(409),h(300),h(501),"",h(567)][h(383)]("\n")},p[h(433)]={vertex:[p[h(741)][h(720)],p[h(741)][h(320)],p.shaderChunks[h(381)],p[h(741)][h(428)],t[h(644)].common,t[h(644)].logdepthbuf_pars_vertex,t[h(644)][h(697)],p.shaderChunks[h(497)],p.shaderChunks[h(651)],p[h(741)][h(289)],p[h(741)][h(444)],p.shaderChunks[h(350)],p[h(741)][h(523)],p[h(741)][h(707)],p[h(741)][h(510)],h(622),"    highp float age = getAge();",h(549),h(577),h(278),h(700),h(322),h(599),h(660),h(625),h(501),h(621),h(708),h(419),h(588),h(352),"    force += vel;","    force *= drag;",h(493),h(386),h(322),"        pos.x += wiggleSin;","        pos.y += wiggleCos;",h(669),h(501),"    #ifdef SHOULD_ROTATE_PARTICLES",h(469),h(501),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",h(734),h(545),h(277),h(664),h(354),"    #endif",h(495),"    #ifdef COLORIZE",h(747),h(635),"           unpackColor( color.x ),","           unpackColor( color.y ),",h(443),"           unpackColor( color.w )",h(325),h(664),"       vec3 c = vec3(1.0);",h(501),h(335),h(575),h(642),h(303),h(501),h(294),h(454),h(558),"        float loopCount = textureAnimation.w;","        float totalFrames = textureAnimation.z;",h(722),h(362),h(371),"        float columnNorm = column / framesX;",h(673),h(542),h(347),h(684),h(441),h(501),h(418),h(338),n[h(678)],t[h(644)][h(724)],"}"][h(383)]("\n"),fragment:[p[h(741)][h(320)],n[h(503)],t[h(644)].fog_pars_fragment,t[h(644)][h(349)],p[h(741)][h(428)],p[h(741)].branchAvoidanceFunctions,h(622),h(589),h(390),h(639),h(535),h(501),p[h(741)][h(339)],t[h(644)].logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",h(702),t[h(644)][h(449)],"}"][h(383)]("\n")},p[h(576)]={types:{BOOLEAN:"boolean",STRING:"string",NUMBER:"number",OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){if(Array[h(521)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array[n(521)](t)){for(let o=t[n(293)]-1;o>=0;--o)if(void 0!==e&&t[o]instanceof e==!1)return i;return t}return this[n(578)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array.isArray(t[n(405)])&&(t._value=[t[n(405)]]),!1===Array[n(521)](t[n(313)])&&(t[n(313)]=[t[n(313)]]);const o=this.clamp(t[n(405)][n(293)],e,i),s=this.clamp(t[n(313)][n(293)],e,i),r=Math.max(o,s);t[n(405)].length!==r&&(t[n(405)]=this[n(614)](t[n(405)],r)),t[n(313)][n(293)]!==r&&(t[n(313)]=this[n(614)](t[n(313)],r))},interpolateArray(t,e){const i=h,n=t[i(293)],o=[typeof t[0][i(406)]===i(649)?t[0][i(406)]():t[0]],s=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*s,n=Math.floor(e),a=Math[i(307)](e),c=e-n;o[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return o[i(746)](typeof t[n-1][i(406)]===i(649)?t[n-1].clone():t[n-1]),o},clamp(t,e,i){const n=h;return Math[n(447)](e,Math[n(571)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(365)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const c=h;let l,u=this.types;return typeof e===u[c(375)]&&typeof i===u[c(375)]?e+(i-e)*n:e instanceof o&&i instanceof t[c(731)]?(l=e.clone(),l.x=this[c(477)](e.x,i.x,n),l.y=this.lerp(e.y,i.y,n),l):e instanceof t[c(712)]&&i instanceof s?(l=e.clone(),l.x=this[c(477)](e.x,i.x,n),l.y=this.lerp(e.y,i.y,n),l.z=this[c(477)](e.z,i.z,n),l):e instanceof t[c(534)]&&i instanceof r?(l=e[c(406)](),l.x=this[c(477)](e.x,i.x,n),l.y=this[c(477)](e.y,i.y,n),l.z=this[c(477)](e.z,i.z,n),l.w=this.lerp(e.w,i.w,n),l):e instanceof a&&i instanceof a?(l=e[c(406)](),l.r=this[c(477)](e.r,i.r,n),l.g=this[c(477)](e.g,i.g,n),l.b=this[c(477)](e.b,i.b,n),l):void console[c(600)](c(514),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math[i(333)](t)%e,0===n?t:t<0?-(Math[i(333)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(293)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(365)]()-.5),randomVector3(t,e,i,n,o){const s=h;let r=i.x+(Math[s(365)]()*n.x-.5*n.x),a=i.y+(Math[s(365)]()*n.y-.5*n.y),c=i.z+(Math[s(365)]()*n.z-.5*n.z);o&&(r=.5*-o.x+this[s(643)](r,o.x),a=.5*-o.y+this[s(643)](a,o.y),c=.5*-o.z+this[s(643)](c,o.z)),t[s(701)].setVec3Components(e,r,a,c)},randomColor(t,e,i,n){const o=h;let s=i.r+Math[o(365)]()*n.x,r=i.g+Math[o(365)]()*n.y,a=i.b+Math[o(365)]()*n.z;s=this.clamp(s,0,1),r=this[o(623)](r,0,1),a=this[o(623)](a,0,1),t[o(701)][o(711)](e,s,r,a)},randomColorAsHex:function(){const e=h,i=new(t[e(531)]);return function(t,n,o,s){const r=e,a=o[r(293)],c=[];for(let e=0;e<a;++e){const t=s[e];i.copy(o[e]),i.r+=Math[r(365)]()*t.x-.5*t.x,i.g+=Math[r(365)]()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this[r(623)](i.r,0,1),i.g=this[r(623)](i.g,0,1),i.b=this[r(623)](i.b,0,1),c[r(746)](i[r(541)]())}t[r(701)][r(304)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const o=h,s=i[o(406)]();s[o(477)](n,Math[o(365)]()),t[o(701)][o(711)](e,s.x,s.y,s.z)},randomVector3OnSphere(t,e,i,n,o,s,r,a){const c=h;let l=2*Math[c(365)]()-1,u=6.2832*Math.random(),f=Math[c(583)](1-l*l),p=this.randomFloat(n,o),d=0,m=0,g=0;r&&(p=Math[c(508)](p/r)*r),d=f*Math.cos(u)*p,m=f*Math[c(616)](u)*p,g=l*p,d*=s.x,m*=s.y,g*=s.z,d+=i.x,m+=i.y,g+=i.z,t[c(701)][c(711)](e,d,m,g)},seededRandom(t){const e=1e4*Math[h(616)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,s,r){const a=h;let c=6.2832*Math.random(),l=Math[a(333)](this[a(677)](n,o)),u=0,f=0,p=0;r&&(l=Math[a(508)](l/r)*r),u=Math[a(742)](c)*l,f=Math[a(616)](c)*l,u*=s.x,f*=s.y,u+=i.x,f+=i.y,p+=i.z,t[a(701)][a(711)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=h,i=new(t[e(712)]);return function(t,n,o,s,r,a,c,h){const l=e;i[l(582)](a),i.x-=o,i.y-=s,i.z-=r,i[l(680)]()[l(351)](-this[l(677)](c,h)),t[l(701)][l(711)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new s;return function(e,i,n,o,s,r,a,c){const h=d;t[h(582)](r),t.x-=n,t.y-=o,t.z-=s,t[h(680)]()[h(351)](-this[h(677)](a,c)),e[h(701)][h(711)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=h,i=new s,n=new s,o=new(t[e(531)]),r=new(t[e(712)])(1,1,1);return function(t,s){const a=e;return i.copy(t)[a(680)](),n[a(582)](s).normalize(),i.x+=.5*-s.x+Math[a(365)]()*s.x,i.y+=.5*-s.y+Math[a(365)]()*s.y,i.z+=.5*-s.z+Math[a(365)]()*s.z,i.normalize()[a(522)](r)[a(351)](.5),o[a(474)](i.x,i.y,i.z),o[a(541)]()}}()},p.Group=function(e){const i=h,n=p[i(576)],o=n.types;(e=n.ensureTypedArg(e,o.OBJECT,{}))[i(489)]=n[i(440)](e[i(489)],o[i(392)],{}),this[i(690)]=t[i(470)][i(482)](),this[i(556)]=n[i(440)](e[i(556)],o[i(375)],.016),this[i(489)]=n[i(578)](e[i(489)][i(282)],t[i(538)],null),this[i(463)]=n[i(578)](e.texture[i(607)],t[i(731)],new(t[i(731)])(1,1)),this[i(391)]=n[i(440)](e[i(489)][i(394)],o[i(375)],this[i(463)].x*this[i(463)].y),this[i(592)]=n[i(440)](e.texture[i(604)],o.NUMBER,1),this[i(463)].max(new(t[i(731)])(1,1)),this[i(646)]=n[i(440)](e.hasPerspective,o[i(468)],!0),this[i(617)]=n.ensureTypedArg(e[i(617)],o[i(468)],!0),this[i(464)]=n[i(440)](e[i(464)],o[i(375)],null),this.blending=n[i(440)](e.blending,o.NUMBER,t[i(286)]),this[i(672)]=n[i(440)](e[i(672)],o[i(468)],!0),this[i(290)]=parseFloat(n[i(440)](e[i(290)],o.NUMBER,0)),this[i(305)]=n.ensureTypedArg(e[i(305)],o[i(468)],!1),this[i(410)]=n[i(440)](e[i(410)],o[i(468)],!0),this.fog=n[i(440)](e[i(689)],o[i(468)],!0),this[i(715)]=n[i(440)](e.scale,o.NUMBER,300),this.emitters=[],this.emitterIDs=[],this[i(389)]=[],this[i(360)]=null,this[i(473)]=0,this[i(596)]=!1,this[i(610)]=!1,this[i(425)]=0,this[i(320)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(t[i(534)])(this[i(463)].x,this[i(463)].y,this[i(391)],Math[i(447)](Math[i(333)](this[i(592)]),1))},fogColor:{type:"c",value:this.fog?new a:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(715)]}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this[i(617)],VALUE_OVER_LIFETIME_LENGTH:p[i(412)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(463)].x>1||this[i(463)].y>1},this[i(381)]={position:new p.ShaderAttribute("v3",!0),acceleration:new(p[i(292)])("v4",!0),velocity:new p.ShaderAttribute("v3",!0),rotation:new(p[i(292)])("v4",!0),rotationCenter:new p.ShaderAttribute("v3",!0),params:new(p[i(292)])("v4",!0),size:new(p[i(292)])("v4",!0),angle:new(p[i(292)])("v4",!0),color:new p.ShaderAttribute("v4",!0),opacity:new p.ShaderAttribute("v4",!0)},this[i(723)]=Object.keys(this[i(381)]),this[i(726)]=this[i(723)][i(293)],this[i(619)]=new c({uniforms:this[i(320)],vertexShader:p[i(433)][i(505)],fragmentShader:p[i(433)][i(728)],blending:this[i(745)],transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this[i(305)],depthTest:this[i(410)],defines:this.defines,fog:this[i(689)]}),this.geometry=new(t[i(515)]),this[i(618)]=new(t[i(427)])(this[i(594)],this[i(619)]),null===this[i(464)]&&console[i(600)](i(299))},p[h(570)][h(430)]=p[h(570)],p[h(570)][h(332)][h(691)]=function(){const t=h;let e,i=this[t(682)],n=i.length-1,o=this[t(720)];for(;n>=0;--n)e=i[n],!o[t(374)]&&(o[t(366)]=o.SHOULD_ROTATE_TEXTURE||!!Math.max(Math[t(447)][t(491)](null,e.angle[t(282)]),Math[t(447)][t(491)](null,e[t(698)][t(308)]))),o.SHOULD_ROTATE_PARTICLES=o[t(452)]||!!Math.max(e[t(367)][t(698)],e.rotation[t(436)]),o[t(479)]=o.SHOULD_WIGGLE_PARTICLES||!!Math.max(e[t(284)][t(282)],e[t(284)][t(308)]);this[t(619)][t(613)]=!0},p[h(570)][h(332)][h(387)]=function(){const t=h;let e,i,n=this[t(381)],o=this[t(594)],s=o[t(381)];for(const r in n)n[t(402)](r)&&(e=n[r],i=s[r],i?i.array=e[t(701)].array:o[t(426)](r,e.bufferAttribute),e[t(500)].needsUpdate=!0);this.geometry[t(590)](0,this[t(425)])},p[h(570)].prototype[h(382)]=function(t){const e=h;if(t instanceof p[e(612)]==!1)return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(683)][e(605)](t[e(690)])>-1)return void console[e(546)](e(694));if(null!==t[e(422)])return void console[e(546)](e(476));const i=this[e(381)],n=this[e(425)],o=n+t[e(425)];this[e(425)]=o,null!==this[e(464)]&&this[e(425)]>this[e(464)]&&console[e(600)](e(442),this.particleCount,e(730),this[e(464)]),t._calculatePPSValue(t[e(379)]._value+t[e(379)][e(313)]),t._setBufferUpdateRanges(this[e(723)]),t[e(638)](n),t[e(422)]=this,t.attributes=this[e(381)];for(const s in i)i[e(402)](s)&&i[s][e(569)](null!==this[e(464)]?this.maxParticleCount:this[e(425)]);for(let s=n;s<o;++s)t[e(340)](s),t[e(532)](s,e(520)),t[e(532)](s,e(608)),t[e(404)](s,e(676)),t[e(404)](s,e(445)),t._assignAngleValue(s),t._assignRotationValue(s),t[e(384)](s),t[e(573)](s);return this[e(387)](),this.emitters[e(746)](t),this[e(683)][e(746)](t[e(690)]),this[e(691)](t),this[e(619)].needsUpdate=!0,this[e(594)][e(613)]=!0,this[e(596)]=!0,this},p.Group[h(332)][h(330)]=function(t){const e=h,i=this.emitterIDs[e(605)](t[e(690)]);if(t instanceof p[e(612)]==!1)return void console.error(e(337),t);if(-1===i)return void console[e(546)](e(448));const n=t[e(331)],o=n+t[e(425)],s=this[e(381)][e(431)][e(701)];for(let r=n;r<o;++r)s[e(450)][4*r]=0,s[e(450)][4*r+1]=0;this[e(682)][e(628)](i,1),this[e(683)].splice(i,1);for(const r in this.attributes)this.attributes.hasOwnProperty(r)&&this.attributes[r].splice(n,o);this[e(425)]-=t[e(425)],t._onRemove(),this[e(596)]=!0},p[h(570)].prototype[h(499)]=function(){const t=h,e=this._pool,i=this[t(473)];if(e.length)return e.pop();if(i){const e=new(p[t(612)])(this[t(360)]);return this[t(382)](e),e}return null},p[h(570)][h(332)][h(586)]=function(t){const e=h;if(t instanceof p[e(612)]!=!1)return t.reset(),this[e(389)][e(665)](t),this;console[e(546)](e(399),t)},p[h(570)][h(332)].getPool=function(){return this[h(389)]},p.Group[h(332)][h(675)]=function(t,e,i){const n=h;let o;this[n(360)]=e,this._createNewWhenPoolEmpty=!!i;for(let s=0;s<t;++s)o=Array[n(521)](e)?new(p[n(612)])(e[s]):new p.Emitter(e),this.addEmitter(o),this[n(586)](o);return this},p[h(570)][h(332)][h(557)]=function(e){const i=h,n=this[i(499)](),o=this;if(null!==n)return e instanceof t[i(712)]&&(n[i(490)][i(282)][i(582)](e),n[i(490)].value=n[i(490)][i(282)]),n[i(509)](),setTimeout((()=>{const t=i;n[t(291)](),o[t(586)](n)}),1e3*Math.max(n[i(692)],n.maxAge[i(282)]+n[i(379)][i(308)])),this;console[i(451)](i(685))},p[h(570)][h(332)][h(739)]=function(t,e){const i=h;if(typeof t===i(326)&&t>1)for(let n=0;n<t;++n)this[i(557)](e);else this[i(557)](e);return this},p[h(570)][h(332)][h(376)]=function(t){const e=h;this[e(320)][e(516)][e(282)]+=t,this[e(320)][e(709)][e(282)]=t},p[h(570)].prototype[h(602)]=function(){const t=h;let e=this[t(723)],i=this[t(726)]-1,n=this[t(381)];for(;i>=0;--i)n[e[i]].resetUpdateRange()},p[h(570)][h(332)]._updateBuffers=function(t){const e=h;let i,n,o,s=this[e(723)],r=this[e(726)]-1,a=this[e(381)],c=t[e(492)];for(;r>=0;--r)i=s[r],n=c[i],o=a[i],o[e(485)](n[e(571)],n.max),o[e(311)]()},p.Group[h(332)][h(699)]=function(t){const e=h;var i=this[e(682)],n=i[e(293)],o=t||this.fixedTimeStep,s=this[e(723)],r=this[e(381)];if(this._updateUniforms(o),this[e(602)](),0!==n||!1!==this[e(596)]||!1!==this[e(610)]){for(var a,c=0;c<n;++c)(a=i[c])[e(699)](o),this[e(544)](a);if(!0===this[e(610)]){for(c=this[e(726)]-1;c>=0;--c)r[s[c]].resetDynamic();this[e(610)]=!1}if(!0===this._attributesNeedRefresh){for(c=this[e(726)]-1;c>=0;--c)r[s[c]][e(518)]();this[e(596)]=!1,this[e(610)]=!0}}},p[h(570)].prototype[h(344)]=function(){const t=h;return this.geometry[t(344)](),this[t(619)][t(344)](),this},p[h(612)]=function(e){const i=h,n=p[i(576)],o=n.types,r=p.valueOverLifetimeLength;(e=n[i(440)](e,o[i(392)],{}))[i(490)]=n[i(440)](e[i(490)],o[i(392)],{}),e[i(520)]=n[i(440)](e.velocity,o[i(392)],{}),e[i(608)]=n[i(440)](e[i(608)],o[i(392)],{}),e[i(297)]=n[i(440)](e[i(297)],o[i(392)],{}),e[i(403)]=n[i(440)](e.drag,o.OBJECT,{}),e[i(367)]=n[i(440)](e[i(367)],o[i(392)],{}),e.color=n[i(440)](e[i(506)],o[i(392)],{}),e[i(676)]=n[i(440)](e.opacity,o[i(392)],{}),e[i(445)]=n[i(440)](e[i(445)],o.OBJECT,{}),e[i(698)]=n[i(440)](e[i(698)],o[i(392)],{}),e[i(284)]=n.ensureTypedArg(e[i(284)],o[i(392)],{}),e[i(379)]=n[i(440)](e[i(379)],o[i(392)],{}),e[i(397)]&&console[i(600)](i(306)),this[i(690)]=t[i(470)][i(482)](),this[i(634)]=n.ensureTypedArg(e[i(634)],o[i(375)],p.distributions[i(647)]),this.position={_value:n[i(578)](e[i(490)][i(282)],s,new(t[i(712)])),_spread:n[i(578)](e.position.spread,t[i(712)],new s),_spreadClamp:n.ensureInstanceOf(e.position[i(539)],t[i(712)],new(t[i(712)])),_distribution:n[i(440)](e.position[i(361)],o.NUMBER,this.type),_randomise:n.ensureTypedArg(e[i(490)][i(334)],o[i(468)],!1),_radius:n[i(440)](e.position.radius,o[i(375)],10),_radiusScale:n[i(578)](e[i(490)].radiusScale,s,new(t[i(712)])(1,1,1)),_distributionClamp:n.ensureTypedArg(e[i(490)][i(727)],o[i(375)],0)},this[i(520)]={_value:n.ensureInstanceOf(e[i(520)][i(282)],t[i(712)],new s),_spread:n[i(578)](e.velocity.spread,s,new(t[i(712)])),_distribution:n.ensureTypedArg(e[i(520)][i(361)],o[i(375)],this[i(634)]),_randomise:n[i(440)](e[i(490)].randomise,o[i(468)],!1)},this[i(608)]={_value:n[i(578)](e[i(608)][i(282)],s,new(t[i(712)])),_spread:n[i(578)](e[i(608)][i(308)],t[i(712)],new(t[i(712)])),_distribution:n[i(440)](e.acceleration[i(361)],o.NUMBER,this[i(634)]),_randomise:n[i(440)](e[i(490)].randomise,o.BOOLEAN,!1)},this[i(403)]={_value:n[i(440)](e.drag[i(282)],o[i(375)],0),_spread:n.ensureTypedArg(e.drag.spread,o.NUMBER,0),_randomise:n.ensureTypedArg(e.position[i(334)],o[i(468)],!1)},this[i(284)]={_value:n[i(440)](e[i(284)][i(282)],o[i(375)],0),_spread:n[i(440)](e[i(284)].spread,o.NUMBER,0)},this[i(367)]={_axis:n[i(578)](e[i(367)][i(288)],t[i(712)],new(t[i(712)])(0,1,0)),_axisSpread:n[i(578)](e.rotation[i(408)],t[i(712)],new(t[i(712)])),_angle:n[i(440)](e[i(367)][i(698)],o[i(375)],0),_angleSpread:n.ensureTypedArg(e.rotation[i(436)],o[i(375)],0),_static:n[i(440)](e[i(367)][i(584)],o[i(468)],!1),_center:n.ensureInstanceOf(e.rotation.center,t[i(712)],this[i(490)][i(405)][i(406)]()),_randomise:n[i(440)](e.position.randomise,o[i(468)],!1)},this[i(379)]={_value:n[i(440)](e[i(379)][i(282)],o[i(375)],2),_spread:n[i(440)](e[i(379)][i(308)],o[i(375)],0)},this[i(506)]={_value:n.ensureArrayInstanceOf(e[i(506)].value,t[i(531)],new(t[i(531)])),_spread:n[i(530)](e.color[i(308)],t[i(712)],new(t[i(712)])),_randomise:n[i(440)](e[i(490)][i(334)],o[i(468)],!1)},this.opacity={_value:n[i(615)](e[i(676)][i(282)],o[i(375)],1),_spread:n.ensureArrayTypedArg(e[i(676)][i(308)],o[i(375)],0),_randomise:n.ensureTypedArg(e[i(490)].randomise,o[i(468)],!1)},this[i(445)]={_value:n.ensureArrayTypedArg(e[i(445)][i(282)],o[i(375)],1),_spread:n[i(615)](e[i(445)].spread,o[i(375)],0),_randomise:n.ensureTypedArg(e[i(490)][i(334)],o[i(468)],!1)},this[i(698)]={_value:n[i(615)](e[i(698)][i(282)],o[i(375)],0),_spread:n[i(615)](e[i(698)][i(308)],o[i(375)],0),_randomise:n[i(440)](e[i(490)][i(334)],o[i(468)],!1)},this.particleCount=n.ensureTypedArg(e[i(425)],o[i(375)],100),this[i(692)]=n[i(440)](e.duration,o[i(375)],null),this[i(318)]=n[i(440)](e.isStatic,o.BOOLEAN,!1),this[i(537)]=n.ensureTypedArg(e.activeMultiplier,o.NUMBER,1),this.direction=n.ensureTypedArg(e[i(629)],o[i(375)],1),this[i(327)]=n[i(440)](e[i(327)],o[i(468)],!0),this[i(466)]=0,this[i(552)]=0,this.attributeOffset=0,this[i(314)]=0,this[i(566)]=0,this[i(437)]=0,this.group=null,this.attributes=null,this[i(662)]=null,this[i(364)]={position:n[i(440)](e[i(490)][i(334)],o[i(468)],!1)||n.ensureTypedArg(e[i(297)][i(334)],o.BOOLEAN,!1),velocity:n.ensureTypedArg(e[i(520)][i(334)],o[i(468)],!1),acceleration:n[i(440)](e.acceleration[i(334)],o[i(468)],!1)||n[i(440)](e.drag[i(334)],o[i(468)],!1),rotation:n[i(440)](e[i(367)][i(334)],o[i(468)],!1),rotationCenter:n[i(440)](e.rotation[i(334)],o.BOOLEAN,!1),size:n[i(440)](e[i(445)][i(334)],o.BOOLEAN,!1),color:n[i(440)](e[i(506)].randomise,o.BOOLEAN,!1),opacity:n[i(440)](e[i(676)].randomise,o[i(468)],!1),angle:n[i(440)](e[i(698)][i(334)],o[i(468)],!1)},this.updateFlags={},this.updateCounts={},this[i(548)]={maxAge:i(431),position:i(490),velocity:i(520),acceleration:i(608),drag:i(608),wiggle:"params",rotation:"rotation",size:i(445),color:i(506),opacity:i(676),angle:i(698)};for(const t in this[i(548)])this[i(548)][i(402)](t)&&(this[i(526)][this[i(548)][t]]=0,this[i(657)][this[i(548)][t]]=!1,this[i(562)](this[t],t));this[i(492)]={},this[i(723)]=null,this[i(726)]=0,n[i(540)](this[i(506)],r,r),n[i(540)](this[i(676)],r,r),n.ensureValueOverLifetimeCompliance(this.size,r,r),n[i(540)](this[i(698)],r,r)},p.Emitter.constructor=p[h(612)],p[h(612)][h(332)][h(562)]=function(t,e){const i=h,n=this;for(const o in t)if(t[i(402)](o)){const s=o[i(346)]("_","");Object[i(703)](t,s,{get:function(t){return function(){return this[t]}}(o),set:function(t){return function(i){const o=d,s=n.updateMap[e],r=this[t],a=p[o(412)];t===o(637)?(n[o(657)][o(513)]=!0,n[o(526)][o(513)]=0):"_randomise"===t?n[o(364)][s]=i:(n.updateFlags[s]=!0,n[o(526)][s]=0),n[o(422)]._updateDefines(),this[t]=i,Array[o(521)](r)&&p[o(576)][o(540)](n[e],a,a)}}(o)})}},p[h(612)].prototype[h(718)]=function(t){const e=h;this[e(723)]=t,this[e(726)]=t[e(293)];for(let i=this[e(726)]-1;i>=0;--i)this[e(492)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},p.Emitter.prototype[h(420)]=function(t){const e=h,i=this[e(425)];this[e(692)]?this[e(466)]=i/(t<this[e(692)]?t:this[e(692)]):this[e(466)]=i/t},p.Emitter.prototype[h(638)]=function(t){const e=h;this[e(331)]=t,this[e(552)]=t,this.activationEnd=t+this.particleCount},p[h(612)][h(332)][h(343)]=function(t,e){const i=h;switch(t){case i(490):this[i(340)](e);break;case i(520):case i(608):this._assignForceValue(e,t);break;case"size":case"opacity":this._assignAbsLifetimeValue(e,t);break;case"angle":this._assignAngleValue(e);break;case"params":this[i(384)](e);break;case"rotation":this[i(595)](e);break;case"color":this._assignColorValue(e)}},p[h(612)][h(332)][h(340)]=function(t){const e=h,i=p.distributions,n=p[e(576)],o=this.position,s=this[e(381)].position,r=o[e(405)],a=o[e(313)];switch(o[e(603)]){case i[e(647)]:n[e(620)](s,t,r,a,o[e(655)]);break;case i[e(636)]:n.randomVector3OnSphere(s,t,r,o[e(633)],o[e(313)].x,o[e(536)],o[e(655)].x,o[e(729)]||this[e(425)]);break;case i.DISC:n.randomVector3OnDisc(s,t,r,o[e(633)],o[e(313)].x,o[e(536)],o._spreadClamp.x);break;case i[e(630)]:n.randomVector3OnLine(s,t,r,a)}},p.Emitter.prototype[h(532)]=function(t,e){const i=h;let n,o,s,r,a,c=p.distributions,l=p[i(576)],u=this[e],f=u._value,d=u._spread;switch(u[i(603)]){case c[i(647)]:l[i(620)](this[i(381)][e],t,f,d);break;case c.SPHERE:n=this[i(381)].position[i(701)].array,a=3*t,o=n[a],s=n[a+1],r=n[a+2],l[i(316)](this[i(381)][e],t,o,s,r,this.position._value,u._value.x,u[i(313)].x);break;case c[i(281)]:n=this[i(381)].position.typedArray[i(450)],a=3*t,o=n[a],s=n[a+1],r=n[a+2],l[i(460)](this[i(381)][e],t,o,s,r,this[i(490)][i(405)],u[i(405)].x,u[i(313)].x);break;case c[i(630)]:l[i(396)](this[i(381)][e],t,f,d)}if(e===i(608)){const e=l[i(623)](l[i(677)](this[i(403)][i(405)],this[i(403)][i(313)]),0,1);this[i(381)].acceleration[i(701)].array[4*t+3]=e}},p.Emitter[h(332)][h(404)]=function(t,e){const i=h;let n,o=this[i(381)][e][i(701)],s=this[e],r=p.utils;r[i(654)](s[i(405)])&&r[i(654)](s._spread)?(n=Math[i(333)](r[i(677)](s[i(405)][0],s[i(313)][0])),o.setVec4Components(t,n,n,n,n)):o[i(304)](t,Math[i(333)](r[i(677)](s[i(405)][0],s[i(313)][0])),Math.abs(r[i(677)](s[i(405)][1],s[i(313)][1])),Math[i(333)](r[i(677)](s[i(405)][2],s._spread[2])),Math[i(333)](r[i(677)](s[i(405)][3],s[i(313)][3])))},p[h(612)][h(332)]._assignAngleValue=function(t){const e=h;let i,n=this.attributes.angle.typedArray,o=this[e(698)],s=p[e(576)];s[e(654)](o[e(405)])&&s[e(654)](o[e(313)])?(i=s.randomFloat(o[e(405)][0],o[e(313)][0]),n.setVec4Components(t,i,i,i,i)):n.setVec4Components(t,s[e(677)](o[e(405)][0],o[e(313)][0]),s[e(677)](o[e(405)][1],o[e(313)][1]),s[e(677)](o[e(405)][2],o[e(313)][2]),s[e(677)](o[e(405)][3],o[e(313)][3]))},p[h(612)].prototype[h(384)]=function(t){const e=h;this[e(381)].params[e(701)][e(304)](t,this[e(318)]?1:0,0,Math[e(333)](p[e(576)][e(677)](this[e(379)][e(405)],this[e(379)][e(313)])),p[e(576)][e(677)](this[e(284)]._value,this.wiggle._spread))},p[h(612)][h(332)][h(595)]=function(t){const e=h;this[e(381)][e(367)][e(701)][e(711)](t,p.utils[e(415)](this[e(367)]._axis,this[e(367)]._axisSpread),p[e(576)][e(677)](this[e(367)][e(356)],this.rotation[e(368)]),this.rotation[e(429)]?0:1),this.attributes.rotationCenter[e(701)][e(488)](t,this[e(367)]._center)},p[h(612)][h(332)][h(573)]=function(t){const e=h;p[e(576)][e(533)](this[e(381)].color,t,this[e(506)][e(405)],this[e(506)][e(313)])},p[h(612)].prototype[h(353)]=function(t){const e=h;let i,n,o=this[e(364)],s=this.updateFlags,r=this.updateCounts,a=this[e(723)];for(let c=this[e(726)]-1;c>=0;--c)i=a[c],n=s[i],!0!==o[i]&&!0!==n||(this[e(343)](i,t),this._updateAttributeUpdateRange(i,t),!0===n&&r[i]===this[e(425)]?(s[i]=!1,r[i]=0):1==n&&++r[i])},p.Emitter[h(332)]._updateAttributeUpdateRange=function(t,e){const i=h,n=this[i(492)][t];n[i(571)]=Math[i(571)](e,n[i(571)]),n[i(447)]=Math.max(e,n[i(447)])},p[h(612)][h(332)][h(602)]=function(){const t=h;let e,i=this[t(492)],n=this.bufferUpdateKeys,o=this[t(527)]-1;for(;o>=0;--o)e=n[o],i[e][t(571)]=Number[t(324)],i[e][t(447)]=Number.NEGATIVE_INFINITY},p.Emitter.prototype._onRemove=function(){const t=h;this.particlesPerSecond=0,this[t(331)]=0,this.activationIndex=0,this[t(437)]=0,this.group=null,this[t(381)]=null,this.paramsArray=null,this[t(566)]=0},p.Emitter[h(332)][h(736)]=function(){--this[h(437)]},p.Emitter[h(332)]._incrementParticleCount=function(){++this[h(437)]},p.Emitter[h(332)][h(502)]=function(t,e,i,n){const o=h;for(var s,r,a,c,l=e-1;l>=t;--l)0!==(c=i[s=4*l])&&(a=i[s+1],r=i[s+2],1===this[o(629)]?(a+=n)>=r&&(a=0,c=0,this[o(736)]()):(a-=n)<=0&&(a=r,c=0,this[o(736)]()),i[s]=c,i[s+1]=a,this[o(377)](o(431),l))},p[h(612)].prototype[h(471)]=function(t,e,i,n){const o=h,s=this[o(629)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[o(425)]||(this[o(565)](),i[r]=1,this[o(353)](c),a=n*(c-t),i[r+1]=-1===s?i[r+2]-a:a,this[o(377)](o(431),c))},p[h(612)].prototype[h(699)]=function(t){const e=h;if(this[e(318)])return;null===this[e(662)]&&(this[e(662)]=this[e(381)][e(431)][e(701)].array);const i=this.attributeOffset,n=i+this[e(425)],o=this[e(662)],s=this.particlesPerSecond*this[e(537)]*t,r=this.activationIndex;if(this[e(602)](),this[e(502)](i,n,o,t),!1===this[e(327)])return void(this[e(566)]=0);if(null!==this[e(692)]&&this.age>this[e(692)])return this[e(327)]=!1,void(this.age=0);const a=1===this[e(425)]?r:0|r,c=Math[e(571)](a+s,this[e(564)]),l=c-this[e(552)]|0,u=l>0?t/l:0;this[e(471)](a,c,o,u),this[e(552)]+=s,this[e(552)]>n&&(this.activationIndex=i),this[e(566)]+=t},p[h(612)][h(332)][h(631)]=function(t){const e=h;if(this[e(566)]=0,this.alive=!1,!0===t){const t=this[e(331)],o=t+this.particleCount,s=this[e(662)],r=this[e(381)][e(431)][e(500)];for(var i,n=o-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;r[e(504)][e(279)]=0,r.updateRange[e(446)]=-1,r[e(613)]=!0}return this},p[h(612)][h(332)][h(509)]=function(){return this[h(327)]=!0,this},p[h(612)][h(332)][h(291)]=function(){return this[h(327)]=!1,this},p[h(612)][h(332)][h(632)]=function(){const t=h;return null!==this.group?this[t(422)][t(330)](this):console[t(546)](t(414)),this};const m=p;function g(t){function e(t){const i=d;if(typeof t===i(462))return function(t){}[i(430)](i(714))[i(491)](i(555));1!==(""+t/t)[i(293)]||t%20==0?function(){return!0}[i(430)](i(301)+"gger")[i(421)](i(658)):function(){return!1}[i(430)](i(301)+i(671)).apply(i(329)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
