import{B as e,Q as o}from"./three.quarks.Doo07ASV1766395561759.js";import{i as s}from"./Resource.BvxQFOEE1766395561759.js";import"./@fesjs.BPcJ-D-i1766395561759.js";import{_ as r,K as t}from"./@tresjs.BAA1xUmy1766395561759.js";/* empty css                                                                             */import{l as a}from"./yangyangLoading.Doqp2q6r1766395561759.js";import"./three-mesh-ui.module.CwLAXEJ51766395561759.js";import"./global.DMrzb1EN1766395561759.js";/* empty css                                                              */import"./shapeConfigurator.vue_vue_type_style_index_1_scoped_abbf0cc1_lang.BYqEDbJP1766395561759.js";import"./three-custom-shader-material.CeYMC0bX1766395561759.js";import{P as i}from"./tweakpane.CqZAnw7f1766395561759.js";import"./OimoPhysicsBuffer.CeBBkx9n1766395561759.js";import{_ as l}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.CLUrC8uK1766395561759.js";import"./PackedMipMapGenerator.BosiWbnG1766395561759.js";import{d as n,w as p,G as m,o as c,F as u,I as j,u as d,r as f,g as h,h as _,e as g,b as y,H as v,m as M,ah as b}from"./@vue.BxPWGdWw1766395561759.js";import{f as w,k as T,H as k}from"./three.F31Lz30M1766395561759.js";import{a as B}from"./quarks.core.C3xH0YPO1766395561759.js";import"./vue-router.dsrDlQkd1766395561759.js";import"./lodash-es.DWe8oqPO1766395561759.js";import"./pinia.CWQndD0s1766395561759.js";import"./@qlin.y-0Z8WnK1766395561759.js";import"./@babel.BPq7uOAK1766395561759.js";import"./@floating-ui.Bhq4ibgf1766395561759.js";import"./@juggle.Vc7cP4_P1766395561759.js";import"./postprocessing.DuhH-bFK1766395561759.js";import"./@vueuse.KwrREqpH1766395561759.js";import"./utils.C_ZEFTpk1766395561759.js";import"./color.DQU-6ni81766395561759.js";import"./color-string.DpZqXck41766395561759.js";import"./color-name.gyPnsvCn1766395561759.js";import"./lodash.OUi-bXWQ1766395561759.js";import"./@amap.fjyZdsU91766395561759.js";import"./object-hash.Dv6AILmT1766395561759.js";import"./jszip.Zzi2WZWj1766395561759.js";import"./oimophysics.CfVKSiAm1766395561759.js";import"./dither.glsl.tNAdkJUa1766395561759.js";import"./Reflector.D55OIsUs1766395561759.js";import"./vite-plugin-qiankun.B06WoCqG1766395561759.js";import"./utils.CNife3_q1766395561759.js";import"./three-stdlib.CkaNLsGO1766395561759.js";const C=["object"],P=["object","position","scale","rotation"],G=n({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(o){const t=o,a=e=>{const o=new T(t.color),s=new k(o.r,o.g,o.b,e);return new B(s)},i=new e,l=new w,n=s.getItem("CartoonMagicZone.json").clone(!0);n.traverse(e=>{if("ParticleEmitter"===e.type){"BasicZoneRedEmitter"===e.name&&e.rotation.set(Math.PI/2,0,0);const o=e.system;o.startColor=a(o.startColor.color.w),i.addSystem(o)}}),"ParticleEmitter"===n.type&&i.addSystem(n.system),l.add(n);const{onBeforeRender:f}=r();return f(({delta:e})=>{i.update(e)}),p(()=>[t.color],([e])=>{i.systemToBatchIndex.forEach((e,o)=>{o.startColor=a(o.startColor.color.w)})}),(e,o)=>(c(),m(u,null,[j("primitive",{object:d(l)},null,8,C),j("primitive",{object:d(i),position:e.position,scale:e.scale,rotation:e.rotation},null,8,P)],64))}}),q=n({__name:"customLoading",setup(e){const r=f({reflectivity:.1,showGridHelper:!0,scale:1}),n=f({color:"#ffffff",scale:1});s.loaderMapping.QuarksLoader=o,s.loadResources([{functionName:"QuarksLoader",url:"./plugins/floor/json/CartoonMagicZone.json"}]);const p=new i;return p.addBinding(n,"color",{label:"颜色"}),p.addBinding(n,"scale",{label:"大小",min:.1,max:3,step:.1}),(e,o)=>{const i=h("TresCanvas");return c(),m(u,null,[_(d(a),{useResourceManager:""}),_(i,{clearColor:"#201919","window-size":""},{default:g(()=>[o[0]||(o[0]=j("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),_(d(t),{enableDamping:""}),d(s).hasAllFinished.value?(c(),y(G,M({key:0},n,{position:[0,0,0]}),null,16)):v("",!0),d(s).hasAllFinished.value?(c(),y(G,{key:1,color:"red",position:[3,0,0],rotation:[-Math.PI,1,45]},null,8,["rotation"])):v("",!0),d(s).hasAllFinished.value?(c(),y(G,{key:2,color:"green",position:[-2,0,0]})):v("",!0),o[1]||(o[1]=j("TresMesh",{position:[3,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"red"})],-1)),o[2]||(o[2]=j("TresMesh",{position:[-2,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"green"})],-1)),o[3]||(o[3]=j("TresMesh",{position:[0,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"white"})],-1)),(c(),y(b,null,{default:g(()=>[_(d(l),M({position:[0,-.5,0]},r),null,16)]),_:1}))]),_:1})],64)}}});export{q as default};
