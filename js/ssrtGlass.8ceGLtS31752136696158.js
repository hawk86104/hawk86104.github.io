import"./index.CwmxOU_M1752136696158.js";import{m as t,e,b as o,k as n,a as W}from"./@tresjs.DLq12syC1752136696158.js";import{_ as r}from"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.Bj3eYcVc1752136696158.js";import{_ as c}from"./skyBoxAmesh.vue_vue_type_script_setup_true_lang.CPJ3Dr9j1752136696158.js";import{P as i}from"./tweakpane.C0HtAJSg1752136696158.js";import{T as d,m as a,Y as u,l,b6 as k,a1 as s,n as f,t as m,C as p,V as C,a as S,a2 as h,ax as x}from"./three.BNH6wr6-1752136696158.js";import{d as v,a3 as R,a2 as P,w as O,G as g,o as Q,u as b,r as N,h as w,j as y,f as K,I as B,e as V,am as F,ak as J,al as G,m as I,F as H}from"./@vue.BInVSO3Q1752136696158.js";import{_ as L}from"./randomLoading.vue_vue_type_script_setup_true_lang.CadAJkJG1752136696158.js";import"./utils.Bm3_mDTK1752136696158.js";import"./@fesjs.CApmwxMx1752136696158.js";import"./vue-router.qYamoiMP1752136696158.js";import"./lodash-es.C7pWAXPe1752136696158.js";import"./@qlin.q6OWdsQV1752136696158.js";import"./pinia.CsLPLp3A1752136696158.js";import"./@babel.BPq7uOAK1752136696158.js";import"./@floating-ui.BFjFSAYt1752136696158.js";import"./@juggle.CcBCnTIR1752136696158.js";import"./index.coH2xK-x1752136696158.js";import"./three-mesh-ui.module.DoqSn93D1752136696158.js";import"./postprocessing.CPr5BoQh1752136696158.js";import"./@vueuse.BmvRw4vU1752136696158.js";import"./whiteFloor.DkbqjjMh1752136696158.js";import"./starLoading.DstW1JMx1752136696158.js";import"./cssLoaders.NPelU3HS1752136696158.js";import"./bubbleLoading.DbohumTb1752136696158.js";import"./yangyangLoading.NdbVhRQA1752136696158.js";function q(t,e){var o=D();return q=function(e,n){var W=o[e-=218];if(void 0===q.xxiXJA){var r=function(t){for(var e,o,n="",W="",c=n+r,i=0,d=0;o=t.charAt(d++);~o&&(e=i%4?64*e+o:o,i++%4)?n+=c.charCodeAt(d+10)-10!=0?String.fromCharCode(255&e>>(-2*i&6)):i:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var a=0,u=n.length;a<u;a++)W+="%"+("00"+n.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(W)};q.RUqHBH=function(t,e){var o,n,W=[],c=0,i="";for(t=r(t),n=0;n<256;n++)W[n]=n;for(n=0;n<256;n++)c=(c+W[n]+e.charCodeAt(n%e.length))%256,o=W[n],W[n]=W[c],W[c]=o;n=0,c=0;for(var d=0;d<t.length;d++)c=(c+W[n=(n+1)%256])%256,o=W[n],W[n]=W[c],W[c]=o,i+=String.fromCharCode(t.charCodeAt(d)^W[(W[n]+W[c])%256]);return i},t=arguments,q.xxiXJA=!0}var c=e+o[0],i=t[c];if(i)W=i;else{if(void 0===q.qFItaJ){var d=function(t){this.XqumoO=t,this.mVxZSD=[1,0,0],this.wGrvTa=function(){return"newState"},this.BtPgak="\\w+ *\\(\\) *{\\w+ *",this.YkclUi="['|\"].+['|\"];? *}"};d.prototype.mFnAnf=function(){var t=new RegExp(this.BtPgak+this.YkclUi).test(this.wGrvTa.toString())?--this.mVxZSD[1]:--this.mVxZSD[0];return this.kgfXyR(t)},d.prototype.kgfXyR=function(t){return Boolean(~t)?this.CRXQAs(this.XqumoO):t},d.prototype.CRXQAs=function(t){for(var e=0,o=this.mVxZSD.length;e<o;e++)this.mVxZSD.push(Math.round(Math.random())),o=this.mVxZSD.length;return t(this.mVxZSD[0])},new d(q).mFnAnf(),q.qFItaJ=!0}W=q.RUqHBH(W,n),t[c]=W}return W},q(t,e)}function M(t,e,o,n,W){return q(n- -68,o)}function D(){var t=["cCoKWQRcL8kmlSoTWPe","W6JdVSkQWOu","WOnPiSk3f8kTeCk3WRJdIK8WWQS","lmkJWR7cQ2m","pu7cG8oq","FItdJSkyvSoCs3y","WPtdQa7dV8kUW6ZdI1dcQ8o/va","kSoTWPNcNSkh","aYPQDSkU","iL9FtsGdWOnghttdRCosxCozp8o8W5xcHGP2WPJdUCoHWRW7WRjupGTSqte","WOHcz1r8WORdHCkGW4vU","hZxcP2/dI8oZg3ugeXPvpfqH","CgZdG8kEWQBcPg4E","W47dJXqDWPK","W43dUfhdTcdcHSoI","WPBcOXD1W7HozgJcHa","fCo6d8oK","W6hdV2viW5i","nGBdN8o4AdXIWPj3cmkk","zKtcLSkMiW","pKFcISoTkCojW4S","W5BdO2u/W4tdMmkOW44MW7ldVZGvWPtcGmosW4O2fq","W4tdU0LmW61WqW","eKxdT8kNmSkCWQJcMG","uKJdVSkIemkCWOS","WOlcH8okWOb3bc7cVeJdHSkam8og","W6VcUt3dJSoYbL7dSI0","gmkTWPlcUfzNesW","WRhcMGKOW593","W6RdH1jRW7O","lmo4cmoLf8ktoIJcSrqByCop","WOpdSrldGmkv","WPpdVeRdOJBcO8ovbq","FmktW4pcSs0","vqFdJCkuCCkjj8oWWQhdGKJdQu8dleiBWPyIWQK6BYRcSZZdN8o6iWu9W7b1s2SSzJZcMcRcSSo3WOeoymkQWPvCW5fyB8oeW7H/W5zWW5udWQNdRwHVsYflWRWWW7uXWPG3WQ7dNCkRWQRcOmkdBtNcOSkZWPtdQmkmWRfda8kvg8kkWPatkK0hEx4vWONcVmkAW5bHWRr3xbBcPSksW7JdJmkZWPddKmk6W5WMhCopWP7cLrtdSSkyWPb1W6ODmsaCWR7dNLNcRmoJgbe5cKRcLmopu3ZdNCk0WRKcfCo8dCkoja80qbFdM8o4DSk3o8k0WPlcLSkRuYJcOCkmWQ11WPNcQmk7WPBcQCoElCoC","hZpcTLpdIW","W4WuoXHU","iNFcImoihCkfhe94tCkIxCkO","WQNdOG7dLNW","B8oPWQqiy3PQtW","hfhcUmkIoCkxfSo6","W6xcLSoJW6i","W6xdMSksW5eNqLBcKNddGSk8p8oIjG","WQfof8kEkmowW7ddISkYqeO","nmoHgv8","WPJdSmkyA0BcL8oLWP0AWRSPWOtcPua8WOOuWRBcU8ofueTyWOqYyYpcNmoxWPuxW5ettr1GWP0vr8kg","W5xdNCkDW4y2qM7cKhddImk8","pSoOW7lcMSoJzCkjbNS","WPpdRcZdIfLNhSo8","dI7dPSoazmogW4uzW6DdWPpdT2RdVCkvDSklW6fsp8ozW7KKqgj0dSowkuSGzmkbE0FcICkNW7/dQCotqCkuW5/dQ8kXWOD7WQxcQCoYq0xcNq9jEfBdP2WcW6fxW7jFWORdRmo2kLa8mmogWRRcUSoOW594sSohW7RcLtpcI8k3n8opW68EWRpcUWhcOmo5k3ddKs9/W67cSe5SECoKq27dUM5wWR93dmo0eCkkjmk8wZRdSsu3W4e4W4RcJbmmxglcIcNdUtpcQCogmCoyW5XYW73cQ0pdSCkQWRm8W4TxWRtcJcT6WOZcQwhcLmoHkSkZW63cKmkoW5mTW5FdJSkxWQ1ZdaKMAwiWzW0ppa","oxxdLmkHl8kbWQNcOJK","WQtdLmksESoVsW","WO7dUHNcVxS","WP3dVfpdOJBcQW","p8oMgv7cPK9db8kdW6D7","W6ZdVmk9WOvS","WOZdV8kIq1e","W4RdJryEWPi","wdFdPmoOF8kxb8oYfCoZW5u","W5baxSkRW73dJ2pcOa","W4ZcQG7cVJpcJ8oGet8L","bCoReLxcSq","WO5Jjmk3g8oDySk4WOZdV04","pav8W4pdLq","W4BdQSkixCoiWPeekCo9","WQpdSJNdMCkG","vXJcLSoMECofW7dcQd7cLx3cPCkI","hSo/W6/cNCo8DmktaNFdL8oGbmoqgqSOW4W","WPhdJI3cKu8","W63dMSkRw8ovWOWfeq","hfZdMmoHW68","yKZcHCkVkJ1OWPbo","W4OIFSo3qmoQxSkrWQW","WPj4oCkTbmk3dmoiW6lcMqbG","W5DmAmkXW6O","W4hdQKhdRmoAeW","mCklWQBcVCkOWOBcHrS","BSkLW77dKSoEz8kSW53dQSoiW43cSCkGW4OfWPPwWPxdTSoaWR3cTfZcJmoVpmkkgXu1lKpdPWq2WPFdMSoLeSkgW4nYW77cHN3cH8k3r8oVWOX5W4VdJmkrrvxdV8otsxpdLCksESoyWOxdHZrDfSkanh1WW5fagCkcgJlcJ8oOWQxcIheiW5vBWQVcJmo+W7inr8kPW4tcNCkYfa1KmmohtColWQdcKenasglcUSk1WOfTW5VcGaWky8k1W5PrBSoKyqFdIsRcOddcUW","WRRdN2VdQWC","imohWOVcNSk9","W5pdU3rlW7b1sem","W6NdGgrZW6O","W5yAma","zMlcR8ku","W4NdLaGw","WRPff8kFp8oSW7ddKq","c2ZcS8k+","W6/dKtCjW4GzW4BdUSoZW6xcQthdSW","WPpcLCoyd8khW4vlvSkcWOvIWRBcMYTbWRddH8kVcmkNWOhcUCoxW4tcICoSW4ldJ8o9WOddP8o3W4CngmkXxqK7DSkmWP9aW7/cU8ogW47dRaBcN0xcQSkXjLhcH1NdNJ1+WP0dxSkBwLBcR3xcLCokWO7cN8kBgXe3smoDfCkqWQ3dGr82pdZcSmoHbICjWOOjW4BdK1zzWPddRruQWQtdTSkbW67cV8kiW7epddZcMCk4p8ktnsBcRCkXBtiZWR3cQ8kYW5BcHmknF0OD","kCkeWRVcVSk1WP3cIqq","o1ddRSo7W7JcVSozea","WQddM8k4WQtdQCkQWOVcPmknWRtcK8ow","WRpcH3fy","WOWhjCoXWQtcJYBdRSkIDutdMq","ySk9tG7dOtmtiCkOW65bc8o/","mCoXgSoJ","CLHkb8oRWRe","WOFdVtRdPmk/","W4BdR38U","W57cUKZcIbm9rSonW7CPW4f4WPK","gI57CG","W6NcG8oGW6BcUW","WRBdOtlcMcK","lWykWO4r","b8oPr8oOhCk6ldpcRGqmz8ozW4hcQt8IW4FcI8k5WOCOW53cNbNcJZOhW6ddJmkABq","W6BdMbuA","CctdL8kyvSou","c8k4WOZcSeO","fcPLF8k5lG","eGipWRyJjCoba3RdN1JdK8oGqCoC","u1nnW5n+FCkxnuBdP0NdICox","emopW4rPf8k+","W7tdVezBW6DUA0xcP8o9F8kAWRKg","WQJdK8kAWQRdOSkJWOdcRCkgWR3cMmosiW02i8koW6JdPSoq","W4JdVuXlW7u","b1RdLmk/oq","AuRcVSoVdCosW7pdH8o/e00","lSoPWQuFyKrz"];return(D=function(){return t})()}!function(){function t(t,e,o,n,W){return q(n-39,W)}function e(t,e,o,n,W){return q(o-314,t)}function o(t,e,o,n,W){return q(e- -740,W)}var n=D();function W(t,e,o,n,W){return q(e- -704,W)}for(;;)try{if(830288===-parseInt(o(0,-494,0,0,"bz]U"))/1+parseInt(o(0,-471,0,0,"rMYr"))/2*(parseInt(o(0,-449,0,0,"LhdJ"))/3)+parseInt(o(0,-443,0,0,")c2Y"))/4*(-parseInt(t(0,0,0,341,"@aNg"))/5)+-parseInt(t(0,0,0,297,"$V&o"))/6+-parseInt(e("UBHW",0,609))/7+-parseInt(W(0,-483,0,0,"okNv"))/8*(-parseInt(e("5u*I",0,601))/9)+-parseInt(W(0,-401,0,0,"xCJk"))/10*(-parseInt(W(0,-390,0,0,"[DqC"))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}();var T,_=(T=!0,function(t,e){function o(t,e,o,n,W){return q(t- -798,W)}if("EiRjK"===o(-488,0,0,0,"IorD")){var n=T?function(){function n(t,e,n,W,r){return o(n-949,0,0,0,r)}function W(t,e,n,W,r){return o(W-198,0,0,0,r)}function r(t,e,n,W,r){return o(e-804,0,0,0,r)}function c(t,e,n,W,r){return o(r-857,0,0,0,e)}if(c(0,"Z62[",0,0,353)!==c(0,"g6r)",0,0,339)){var i=_0x1fbe50[r(0,329,0,0,"@aNg")][n(0,0,382,0,"okNv")][n(0,0,472,0,"Jlqw")](_0x2ce921),d=_0x12d0d0[_0x45c8fa],a=_0x20f6ac[d]||i;i[W(0,0,0,-377,"4Qvm")]=_0x325aea[W(0,0,0,-355,"9H!p")](_0x317980),i.toString=a[W(0,0,0,-300,"PaaD")][n(0,0,394,0,"*QU[")](a),_0x4a2860[d]=i}else if(e){if("iUXYQ"!==r(0,335,0,0,"wg)f"))return _0x4e7467[n(0,0,390,0,"Z62[")]().search(r(0,258,0,0,"CLh3"))[r(0,224,0,0,"CLh3")]()[n(0,0,426,0,")c2Y")](_0x2726aa)[r(0,240,0,0,"F8Q9")](o(-566,0,0,0,"okNv"));var u=e[n(0,0,425,0,"PaaD")](t,arguments);return e=null,u}}:function(){};return T=!1,n}var W=_0x4edc93[o(-538,0,0,0,"@ani")](_0x595944,arguments);return _0x213166=null,W})(void 0,(function(){function t(t,e,o,n,W){return q(W-24,n)}function e(t,e,o,n,W){return q(t-899,e)}return _[e(1148,"BjoG")]()[(W=171,r="f5xz",q(W- -134,r))]("(((.+)+)+)+$")[t(0,0,0,"PaaD",324)]()[e(1182,"5%LG")](_)[(o="Irvi",n=1084,q(n-814,o))](t(0,0,0,"@ani",274));var o,n,W,r}));_();var Z,j=(Z=!0,function(t,e){function o(t,e,o,n,W){return q(o- -198,e)}if(o(0,"HjV5",86)!==o(0,"Z62[",42)){var n=Z?function(){function n(t,e,n,W,r){return o(0,e,W-487)}if(e){if(n(0,"LhdJ",0,526)===n(0,"HjV5",0,527)){var W=e.apply(t,arguments);return e=null,W}_0x4b6aa9=_0x27ef81}}:function(){};return Z=!1,n}if(_0x3b0a8a){var W=_0x1ce989[(r=46,c="*QU[",q(r- -288,c))](_0x118acf,arguments);return _0x1c7c06=null,W}var r,c});j(void 0,(function(){function t(t,e,o,n,W){return q(o- -674,n)}function e(t,e,o,n,W){return q(t-894,o)}function o(t,e,o,n,W){return q(W- -256,n)}function n(t,e,o,n,W){return q(n- -924,t)}var W=function(){function t(t,e,o,n,W){return q(o- -243,t)}function e(t,e,o,n,W){return q(W-250,e)}function o(t,e,o,n,W){return q(n- -690,t)}function n(t,e,o,n,W){return q(o-731,e)}if(e(0,"FY&v",0,0,511)!==e(0,"Z62[",0,0,523)){var W;try{n(0,"5%LG",1039)===n(0,"5%LG",987)?(this[e(0,"FU&e",0,0,539)].setRenderTarget(_0x402dae),this[t("[DqC",0,39)][t("2KXV",0,-8)].uTexture[o("5u*I",0,0,-377)]=_0x3bcbc6,this.renderer[o("Y]^e",0,0,-362)](this[e(0,"J$A#",0,0,472)],this.camera),this[n(0,"4PNG",975)][e(0,"rMYr",0,0,518)](null)):W=Function("return (function() "+o("C$$g",0,0,-427)+");")()}catch(i){if(o("5%LG",0,0,-466)!==o("Z62[",0,0,-384))W=window;else if(_0x2403ab){var r=_0x393ba2[o("UBHW",0,0,-394)](_0x320a54,arguments);return _0x19d6d4=null,r}}return W}var c;try{c=_0x31003a(o("gXnM",0,0,-392)+t("4!Fi",0,43)+");")()}catch(d){c=_0x11d12e}return c}(),r=W.console=W[o(0,0,0,"Z62[",43)]||{};function c(t,e,o,n,W){return q(o- -792,t)}for(var i=[n("5u*I",0,0,-683),c("xy0*",0,-514),o(0,0,0,"C$$g",37),t(0,0,-384,"*QU["),n("UBHW",0,0,-694),n("oHdn",0,0,-639),"trace"],d=0;d<i[e(1149,0,"@QsU")];d++)if(n("$V&o",0,0,-609)!==e(1156,0,"rMYr"))this[o(0,0,0,"HjV5",21)]=new(_0x2d55b9[t(0,0,-403,"Z62[")])({uniforms:{uTexture:{type:"t",value:null}},vertexShader:n("XUGk",0,0,-598),fragmentShader:e(1141,0,"4Qvm")+(_0x44c189?_0x15d37a:e(1216,0,"KrBk"))+o(0,0,0,"@ani",16),depthTest:!1,depthWrite:!1}),this[c("@ani",0,-474)]=new(_0x1513c7[o(0,0,0,"C$$g",-2)])(new(_0x5044ef[o(0,0,0,"C$$g",51)])(2,2),this.material),this[t(0,0,-409,"[DqC")]=new _0x5ad8eb.PerspectiveCamera(45,_0x3fdf9e.innerWidth/_0x18d1ba[o(0,0,0,"Jlqw",75)],1,1e3),this.renderer=_0x405162,this[o(0,0,0,"590)",56)]=new(_0x504277[o(0,0,0,"Jlqw",-36)]),this[e(1127,0,"CLh3")].add(this.mesh);else{var a=j.constructor[t(0,0,-350,"7dh)")][c("JO%%",0,-511)](j),u=i[d],l=r[u]||a;a[t(0,0,-347,"PaaD")]=j[e(1151,0,"gXnM")](j),a[o(0,0,0,"4Qvm",-28)]=l[n("$V&o",0,0,-599)].bind(l),r[u]=a}}))();class z{constructor(t,e){function o(t,e,o,n,W){return q(W-843,t)}var n,W;function r(t,e,o,n,W){return q(n- -812,W)}function c(t,e,o,n,W){return q(o-266,t)}function i(t,e,o,n,W){return q(n- -742,o)}this.material=new(d[c("@aNg",541,585)])({uniforms:{uTexture:{type:"t",value:null}},vertexShader:r(-488,-452,-559,-501,"JO%%"),fragmentShader:r(-605,-607,-577,-576,"HjV5")+(e||"gl_FragColor = texture2D(uTexture, vUv);")+"  \n                }",depthTest:!1,depthWrite:!1}),this[c("bz]U",500,517)]=new(d[r(-541,-493,-590,-548,"*QU[")])(new a(2,2),this[i(-434,-404,"LhdJ",-433)]),this[(n="LhdJ",W=-333,q(W- -663,n))]=new(d[i(-521,-562,"7dh)",-516)])(45,window.innerWidth/window[o("4PNG",0,0,0,1163)],1,1e3),this.renderer=t,this[i(0,0,"KrBk",-409)]=new(d[o("BjoG",0,0,0,1072)]),this[r(0,0,0,-480,"xy0*")].add(this[o("oHdn",0,0,0,1102)])}[M(0,0,"XUGk",174)](t,e){function o(t,e,o,n,W){return M(0,0,W,e- -894)}function n(t,e,o,n,W){return M(0,0,t,e- -424)}var W,r;function c(t,e,o,n,W){return M(0,0,e,o- -314)}this[(W=-210,r="]MzZ",M(0,0,r,W- -458))][o(0,-674,0,0,"590)")](e),this[n("2KXV",-244)].uniforms[n("9H!p",-175)][o(0,-735,0,0,"wg)f")]=t,this[c(0,"g6r)",-78)].render(this.scene,this[c(0,"oHdn",-115)]),this.renderer.setRenderTarget(null)}}!function(){const t=A();function e(t,e,o,n,W){return U(e- -415,n)}function o(t,e,o,n,W){return U(o- -952,t)}function n(t,e,o,n,W){return U(n-34,e)}function W(t,e,o,n,W){return U(n- -773,o)}for(;;)try{if(538877===parseInt(e(0,-197,0,"OR%S"))/1+-parseInt(n(0,"vVyM",0,453))/2*(parseInt(U(1225-987,"5mHO"))/3)+-parseInt(e(0,-71,0,"$c0o"))/4*(parseInt(W(0,0,"HY)[",-369))/5)+parseInt(n(0,"hqZ%",0,391))/6+-parseInt(W(0,0,"$c0o",-543))/7*(parseInt(e(0,-51,0,"x^l]"))/8)+-parseInt(W(0,0,"g2Y*",-434))/9+parseInt(o("oXrF",0,-753))/10*(parseInt(o("NDfH",0,-546))/11))break;t.push(t.shift())}catch(r){t.push(t.shift())}}();const X=function(){let t=!0;return function(e,o){function n(t,e,o,n,W){return U(W-218,o)}function W(t,e,o,n,W){return U(e-812,W)}if(W(0,1013,0,0,"H9To")===W(0,1152,0,0,"8Q#x")){const r=t?function(){function t(t,e,o,W,r){return n(0,0,t,0,o- -630)}function r(t,e,o,n,r){return W(0,t- -903,0,0,r)}function c(t,e,o,n,r){return W(0,e-121,0,0,r)}if(c(0,1172,0,0,"9rJB")===c(0,1299,0,0,"C!dF")){if(o){if(r(216,0,0,0,"%lD]")===n(0,0,"PnUa",0,245- -286)){const t=o.apply(e,arguments);return o=null,t}_0x305361 instanceof _0x350415[t("CwM4",0,-104)]&&(_0x552f3b[r(126,0,0,0,"H9To")]=this.material)}}else _0x42c65d[t("8rCz",0,-16)]=this[t("sRYN",0,-134)]}:function(){};return t=!1,r}_0x29ef0b=_0x2b40fc(n(0,0,"QyD9",0,452)+n(0,0,"pB&W",0,422)+");")()}}()(void 0,(function(){function t(t,e,o,n,W){return U(W- -928,o)}return X.toString().search(t(0,0,"KFgY",0,-563))[(e="9tRp",o=-92,U(o- -499,e))]()[t(0,0,"CwM4",0,-629)](X)[t(0,0,"V^1f",0,-604)](t(0,0,"pB&W",0,-512));var e,o}));function U(t,e){const o=A();return U=function(e,n){let W=o[e-=197];if(void 0===U.nInEdR){var r=function(t){let e="",o="",n=e+r;for(let W,r,c=0,i=0;r=t.charAt(i++);~r&&(W=c%4?64*W+r:r,c++%4)?e+=n.charCodeAt(i+10)-10!=0?String.fromCharCode(255&W>>(-2*c&6)):c:0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let W=0,r=e.length;W<r;W++)o+="%"+("00"+e.charCodeAt(W).toString(16)).slice(-2);return decodeURIComponent(o)};const e=function(t,e){let o,n,W=[],c=0,i="";for(t=r(t),n=0;n<256;n++)W[n]=n;for(n=0;n<256;n++)c=(c+W[n]+e.charCodeAt(n%e.length))%256,o=W[n],W[n]=W[c],W[c]=o;n=0,c=0;for(let r=0;r<t.length;r++)n=(n+1)%256,c=(c+W[n])%256,o=W[n],W[n]=W[c],W[c]=o,i+=String.fromCharCode(t.charCodeAt(r)^W[(W[n]+W[c])%256]);return i};U.YsxkBu=e,t=arguments,U.nInEdR=!0}const c=e+o[0],i=t[c];if(i)W=i;else{if(void 0===U.uidTuj){const t=function(t){this.pWtdbf=t,this.DMQKQL=[1,0,0],this.wScNSx=function(){return"newState"},this.tVKKHr="\\w+ *\\(\\) *{\\w+ *",this.ioDMyR="['|\"].+['|\"];? *}"};t.prototype.DJIfnI=function(){const t=new RegExp(this.tVKKHr+this.ioDMyR).test(this.wScNSx.toString())?--this.DMQKQL[1]:--this.DMQKQL[0];return this.tRpaqM(t)},t.prototype.tRpaqM=function(t){return Boolean(~t)?this.KEBhgK(this.pWtdbf):t},t.prototype.KEBhgK=function(t){for(let e=0,o=this.DMQKQL.length;e<o;e++)this.DMQKQL.push(Math.round(Math.random())),o=this.DMQKQL.length;return t(this.DMQKQL[0])},new t(U).DJIfnI(),U.uidTuj=!0}W=U.YsxkBu(W,n),t[c]=W}return W},U(t,e)}X();const E=function(){let t=!0;return function(e,o){function n(t,e,o,n,W){return U(W- -335,o)}function W(t,e,o,n,W){return U(t-148,n)}function r(t,e,o,n,W){return U(e- -458,t)}function c(t,e,o,n,W){return U(e- -207,n)}function i(t,e,o,n,W){return U(o- -460,t)}if("EfnMJ"===i("B)jO",0,-142)){const n=t?function(){function t(t,e,o,n,W){return c(0,n- -756,0,t)}if("nwzTm"===t("CwM4",0,0,-589)){const e=_0x857b16?function(){if(_0x3032bb){const n=_0x2880ea[(e=966,o="H9To",t(o,0,0,e-1667))](_0x10fd8b,arguments);return _0xde2ad6=null,n}var e,o}:function(){};return _0x119549=!1,e}if(o){if(t("^#Zn",0,0,-600)===W(477-82,0,0,"wGZR")){const t=o.apply(e,arguments);return o=null,t}{let t;try{t=_0xda3f46('return (function() {}.constructor("return this")( ));')()}catch(n){t=_0x1408f7}return t}}}:function(){};return t=!1,n}this[c(0,48,0,"9rJB")]=_0x2829aa.clone(),this[i("tqQ[",0,-175)]=_0x55c715,this[c(0,13,0,"x^l]")]=_0x3421c6,this[c(0,51,0,"VkBV")]=new _0x5e9c29.Scene,this.scene.add(this[W(412,0,0,"PnUa")]),this[n(0,0,"HB^l",0,13)]=new _0x1cd5e3(this[n(0,0,"hqZ%",0,-47)]),this.ping=new(_0x4d4a5b[c(0,9,0,"9tRp")])(_0xeb741d,_0x51b5f1,{type:_0x52d65e[n(0,0,"CwM4",0,-99)],depthBuffer:!1,stencilBuffer:!1}),this[c(0,203,0,"d)h*")]=new(_0x28cd84[i("OP49",0,-132)])(_0x3a238c,_0xa4166f,{type:_0x3667be[i("HB^l",0,-69)],depthBuffer:!1,stencilBuffer:!1}),this.frontFaceRT=new _0x1a5fdd.WebGLRenderTarget(_0x43be34,_0x5a742f,{type:_0x40c13b.FloatType}),this[c(0,119,0,"HB^l")]=new(_0x4eb6d5[c(0,34,0,"sJC!")])({uniforms:{uCameraFarInverse:{value:1/this[n(0,0,"X@KH",0,48)].far}},vertexShader:r("QyD9",-30),fragmentShader:i("7^U5",0,-106),depthTest:!0,depthWrite:!0,side:_0xa704c7[W(471,0,0,"oXrF")]}),this[i("mzoL",0,-83)]=new _0x1b8a7a.ShaderMaterial({uniforms:{uScreenSize:{value:new(_0x24f6df[c(0,95,0,"RRc6")])(_0x52c7f6,_0x41df00)},uPrevDepth:{type:"t",value:this.ping.texture},uCameraFarInverse:{value:1/this[c(0,74,0,"B)jO")][W(533,0,0,"%lD]")]},uSample:{value:0}},vertexShader:c(0,155,0,"Hdm0"),fragmentShader:i("HY)[",0,-156),depthTest:!1,depthWrite:!1,side:_0x37ed40[n(0,0,"d^bj",0,1)]}),this[n(0,0,"&1w^",0,-34)][c(0,-9,0,"&1w^")]((t=>{function e(t,e,o,n,W){return r(n,t- -261)}var o,n;t instanceof _0x39fe18[e(-477,0,0,"$c0o")]&&(t[e(-436,0,0,")mbD")]=this[(o=-41,n="7^U5",i(n,0,o-170))])}))}}();function Y(t,e,o,n,W){return U(e-478,n)}function A(){const t=["W4umCLJcQdql","WRX+WOlcUNBdOfru","fHXNamotFCoWWPhcIG","W4hcVSkAWQCk","tSktW7VdJ2/dMZXD","W7tcOCkXgmoc","qwXQWR8F","x8kUiqKehwjXcMZdNcqKW4fWWOJcJmkItSoivCktz8kxoZtdNmk2WOtcVCksza","tSk4DYW","W77cPCkgW4SKufq9","FqzjdCoyW67dS8oi","bsWmWOiT","FqzjdCoyW64","iJXIl8keAtmKW6ynfSo2","i8oQpclcQctdNCkq","kCoWW68wv8oQ","jJH9l8kn","e2JcPW","W7lcTmkcW4iV","WOW2lSoXWO0","tuFdGGb/","j8oWW7ywv8oIW49f","W5GNEmkrWQJcHCku","ACoHtSkwBmo7W4xcKSkv","qSkHyaqFnxbMhuVdQW","vwvmW55SqsdcG8oXW67cKbZdSmoM","W6hdUSk8tW","l0yqWONcHZykWRqoW4tcRSov","W7ZdTmkMtr3dJgCD","W4ldTSk3rGO","W6tcQLKrESkgW6FdHq","W5FcQ8khW4W6xgy4k2K","a2BcRmkEnG","W5FcGSknWQmoW5ntsCozBW","W7WvWQOcxq","a8kwW77dTmo9tx03W6OBW60","W4mdW4FcKCk4ht9yWQhdGCkB","WOpdI0G4tKGcCHhdKSk8WOi","lLf3gtqxk0/dNahdHmoJW7bz","W4ugwvJcRY8amG","W6pdSmk8taRdL2md","W7SNrmoKWOjyWODdFCkKWRmAWO8TkK3cRG","j8oQate","lCoYWPKbWRO","ptHLp8kADba9","m8oPpcdcJG","W4ZcTmoMxSoQea8","WRe1WRhdUq","WQhdOWvAi8ogWQ3cGmoGsxpcGW","Ba0ZE2LlFrRdRtFdSmoeW7jDWPa","t8ktW7tdMwNdGq","WPudW5eXW57cP2K","BajkdmopW70","WP1eW7Wxd8kthNTFymkYW445WOZcLWay","WP5uWQZdMwe","fJKsWOOXaxFdGq","W4mWW4VdVdNcSHKhWP7cPMbxW53cVCkaWQJcKmo/WRxcIadcMmkBW5GLW4FdLSoeA8kJxLFcGh03wmkFW6zBW7rMfCo9W6NdVIanWPddNSk4xwZdNIzIW5lcO8oPWOeaeM0Ups7dRSkpiuxcISktWQvMW4KIuCoSW7ZdN8o8AN0tW6iHjgDnW4PXw8kMWO1uW7PdgmosvSkUW4VdTwpcSrJdQCokWOZdPSoIW4zkW7JdHCkyWPTPnsbqWOylWRb0W4G2h3r6W4/cGMG3r1VdKIz4nJmGiCkdWRudm3v8WPddUYhcISk+bCoJvwiyWQlcKtCeemkTW5T/W5pcG1zEWQW7WOLBW5tcUgpdKSoMj8oqW4CeyHKEsSkvW7/cPSkJDJVcU2v9WQbuWPjwcexcIutcStZdLwKEW4hdUKOTa8kSgctcVCkKW5ClCrrvtmogW5JdPfNcNNfFW5/cLCkpEc/cVv1uAcVcVvddLu3dRCkLW6KYWOBdM8oLWORdGZRdTSkRW5q5W783WQSKDmkJpMBcMbRcRhXdWOtdNSoUW5nWW6tdOmoHmWVdRtrNzmkZcLxcPWnUW7m+W6nydgtdKSk/ESowW7BcPdFcGCkVrSkcW4y5E35qWOPmemkhCSo/tsldSMiufWFcLmk8uSoslmkEW6FcUMxdOILcW69FW6pcQgzoW4OHWQ8WW5S+pxxcG8kPFblcQmkqa8oHBSowa2S4W4tcQh3cNeBdHmkyW5RdTqlcRSkAW63dGvFcVbldMgTdW5nlW4uAWOTwB8kHrmkveLlcI8o6BhLmeKPAWPddJIldIqPs","W5GXWQ7dHSo7yf7dL2n+f8kK","W7lcHCkhWRW6","W7Lnya4Xf1jb","BNXCW450uZlcK8ksWQZdPwNcTCkNvSoQWQJdPmoSqKbLfCocCmo7WRdcR3VcV3VdSCogW7f6ldRcRN/cQMTxgZ4XjSkIWPxdVcamWQSAW5/dRGNcQN7cQmk3W6mBuL7cNKZdPeyiWPHnW47cISowWOz3W4lcGHhdGuuBtSkHcseLcYHpW5uKjmovhqRdK8kTeJvFE14XvmoCW64GW5PYW60bWRmKW7yVvCoqW7v1xSoTWOJcJZZcMvnCmMJcM2NdLSopqCocn2ZdOmkIjmokWOP6cCkzW55+W6eKeCorAmoyW4hcUJVdLYvpWRmOgSkKfJhdRWbUW5hdGwZcSCk8yCoKWOBcLfyKW7C6z8kRcJXtW4/cImoeWP/cP8oDWQVcICoJdSoIW4hcLCk/v8oSgSo3WOJdIgD+AuRdVSoVW4VdJhuQW4uRuSolW7T9WOiXWQVdPgvoj8okWPRcMSkEuuFdN8oaWR1dWP5cFGaRD8kQfteueJJcPmo0f8onWO0za1lcKunEWRHemmoAzSo7WOrCjJjgkr81W6OUWQqyyrrCacusWR0Et3faaSk+W7jEW7VcGmo6emkwp2lcMxBcSc/dOSkyoxK3W4JcKCkieftdSLaRp8kUAJKrWQG7W70ZWPvIWR1mWOSHW4jaW5ZdUNqyjbNdGCkTeXfhWORcVCk/WQJcKSkFW5PwnmkoWRJcJmk1W5TaWOGUw8oXWPbvW4FcGW","o0ir","W7ZcISk7h8oz","WP4WpmonWOzpWOVdQq","gfLSx8kDW6uoW44","WQ41WQZdTCk+W73cSvG","WODMW5ONea","xL9hWO01hSkGW7K","m3VcUSkzgmk0p1tcPW","W7lcTGmxz8kbW7xdNCk5ftVdK8kPWO9RW5W4xddcRCkiW5L+W6FdL8k3WQlcVcXLiGq","W6/cT8kmWQ4","qWusBa","WPe+WR8iWRG","WQbOWPu8ea","W4JcGG1ZfWa","WQOUWRyVWR8","WQGIWQpdP8k+W73cP08","WRPiW7a3","ALzBWR8P","WQhdTSodWPXGdqqthM83W63cIq","WRL0WRicsCkFxWPRWOuAjSkesdvzW60","W6ymAgVcKrqlo0flhmoAW77dOXpcPmo9","WQDaW6O1mCkOgNK","W5nVW61rW6TlhSkpdetdQCkO","W7u0WP8AmCoUW707","W79ABXWXf0rw","W4ZcVSonxSoTcWqH","uqusBW","W44KW6zQzmkKWPTzWRxcUhmWAdfKW6xcLmowWOpdJZBdTSoriNpcKwRcTmoad8kbW6PfWQ/dO0FdG8oxWP8gWRCqWO/cVmoWncfVW47dHCoDWQu0jCowy0Duv8kLW7WeeaFdMXtdTLOesZRcMb0QmY/dMIddOCkemSknWRpdL8kIA0tcUCo/vGiQWPnbBregWRfxc8k1WOC6uCowCdHhk8kcbYNcP1rCFdNcUSkPWRhdKL8AAJS1W4RcLmkOu8ogWPBdNGS5W5VdGCoBWP0PeSoOW7vrWQPXWPTOy8kHWRldLK8TWPnqWPtcOCk5wuTYmWyBqSkUWRv2W49/WOVdHYmBeCk6dSk5Bmo3W5jtW6ZcRKmdW6tcVeFcUmkIWRpcGvVdSYhdP3dcPtSfW4NdLmoHW4pcSCk/W4hdQrxcH8k2rrNcNglcMmo2W4JcVwxcKSo1W6hcVCkJWQpcO8kvWRSbW5n4WRRcVrRcTCk3lSonC3CfwSkpwCkZW5fKW6tcTSk3WRNdVw/dGSoMWRFcSmk4W5Heo8kvECkzW4VcVsNcK8kXxvuhWQ7cMeVcUsTBW6tcIrr6h2vZWQNdTJaxW5ZdTmoIW4CHW4/cLmkbW67dKGZdII7cHMxcMWxcTayWfCokgCkfnt3dGCo/W5FdQCkmWOFcUuRdHa4wWRtdJ8kXWOldRSo0gCk2W7ZcHHtcOgddICoEtWKZW7fvx8k/W50gdSo+xbldMxJdMcxcNmoOWOPbaX/dVmk8WO/cVW","DqatASkcWQj3W5VdTq","vaKitCkeWPLGW5/dLSosx8oddGRdICkxW5KWWRu","W4ZdLmkCcmobd8oJ","W5mfy1JcJtqbmLDpaW","WR5FWQJdK2evW6hcIfBcLZ8gW4HA","WPrqWRNdLNW","W51gyrHGWPRdQCkB","jCoGatlcVZ/dLSkf","W7aWwmoI","W4uDW5yn","fJKiWPSMhtlcM8ouW7NcQYRdOCoUgCkKWQdcU8kT","W4hcS8ksWQmkW7y","ALzgWOGKomk8W7VdOW","sK/dSHLZ","WORdO8kVgmkPvLSeW7XohxJdGW","W5VcKCkyWRyx","WPORm8oC","WRL8W6yzqYldVHJcMSoxyYGAWOu","WQqrzd8","WPFcHmkiWOKV","WP5sWR3dPwejW4JcJfdcPIWDW45tW68","W5SFs2BcVa","kCo9W60Dqa","W4ulWP8PvW","WOmpWRldO8k0W7VcU3uq","rmknW6b4ptldILq","W6ZcUSkhWR8m","WPBdOmkjWOKUW5fFwG","n8kTWPhcSW","WPFcGmksWPe/c3q","W7a0x8oVWOr3WODm","W4/cT8kmWQ4","jSkXWOVcU8kqcHCIW5i","ug5jW59KsYBdTmogW5BcLrhdSW","W77cPCkKf8oF","WRDNWQmKiq","W5TAyGW7fXm","pNLDoIK","WQTrW648oG","WP96W64BssldNGO","WO7cGmkzWO0","W586WRtdLCo4zNhdKq","WPpcJmkeWOi","D8k7BG4oavXKdhZdJtKQW58","EMPFbWxdG20","W4OqW4SCW6xcGhT0","W6iNWRhdUSo1","W73cQCkVhG","WOqvyZjeWRxdOCku","o8oGathcRIu","WPRdKvCHu1j5nuNcJ8oAW4a","WOpdQW1ukmopWQBcICoRqhJcH8oMW51JW55QtcRcSCkCW5GSW77cN8kTWRddS3uHz1/dMs0LW4TjbSkPWQ/cS8ofueVcVs0Xk8oTESkAc00VW6RcHmoUAmkZauBcISk3WQfUsWlcOCoRdSkQBLGFWRatWQFcGGiAWO9VvwvvgCkIbhVcGKP8kSotWR9Gc8oNWPOgkgVdVCo5pSk4iMFcMJ5mWPuHmwSZWOZcJ8ksWOxdJqrFBJhcGGRdUJKXDmkaWRaWW4RdNH8MW5lcOqvIDee5W5FdQG11vgSRD8oIWP7dS39WieiYwSkYcc/cQLfIWRmFWRxdHSkUsSo/W6ZcUWqnsmotWPdcO8kCWPjBz8oyWQtcVmo+vCkeWOOxWQldMxLUqtbmWQ7dSL1bWR/dRZDJw05WWPVcQCkyWOxcVZRdRCktvmoGnmo4WOdcKCorWPhcPCoNiHWYCvNdGCopWPLQWQxcLI7cRtv9gCkzgCkcWPBdJSocAelcISkswSkSWOVcM8kFtSkTqCohkvSdW6D+CmkGcKfeW5bTqCkiWQ0dW6xdRmkhWQuuu8oEg8kaW4pcIc84W7KqW6flWR/dOKFcT8o/bX3dTCklcM80s8oPfKpcVmkIjmobb1e8WQJcLCkmW6u6cMyiWQvuW7udB8klWOBcSmoYW7ZdHuZdGmovW6pcPCoEWRldVCoVmblcMSobW4VdNCkcWONdTdzwW7pdR8kcttqLhHNcV8ojoSkZWQlcVZ8kpvbqedqdW64aW4mRcXCrqqhdVfFcTCoDW5/cRCo9WR7cNCkpsqubcmo2AsFdK8kAwKKtWQvzW5FdKmkfj8oZb8ovqw/cJXhdR8kCWRHFW6hdKqT1WPddGIVcOSoSWQ0tWPhcJLBcVmkwjSkekJaBWQJcJZddUXTjW4T4gmo8zLBdUmk5kfhcJ8kaxYmrCmoZWOq8WP42iH8FudutBgVcGhlcSsSxWP12tmk0EmowW4ZcHK0MW6lcRXSfWOyIW53cKCkcahRdLmkRWRWFBCo4W6yxWQNcN19gW6lcNCkXxuCUWOxdOvOOe1aTWOKUiMfLW7NdLCkohuJdG8o2a8oDW4xdM0RdIuNcJCkHjevUvbKsW4xcSq7cON5Mm8knDezJnCoKW69vfH3dSa3cP1KDoSk3WQNdPSkFrs4oW7hdPcFcOsyTWPVdUSksW4ZcVMNcKGtdINZcLmoZrmkUW7lcRu5aw2m1bSoIW4KsD2xcRIBdPSk3W4NcRSkqjSooscpcMCoGWRbvkSoeWPRcNhCtvvSRW7HIWPedCmkMWOpdI1FdUJGGtwRdNG5rWQRdT8oylCo5CgqmW5/dVmo7W6i1vWmcWR8hW6fTeJDNEdX8W4VcR2b9Ea7cVNPAW6JcHdPyymoxW5tdVNdcGCkqWOBdLbLAcmoTlCk3WQFcLXD7aXG7cM4jyrddL8krW7FdRIGDuCkbWQW+lqr7W4i","qqKsB8ktWOrRW5K","WOlcKmkEWOOjfxr4W5y","qSkHyaqFnxbMhvtdNIqUW4eXW4VcKG","s8kaW71PhYNdHf8bW582","WQiAdmo3WQW","x8kxW7JdJNJdIa","CCktW6BdGW","WQLLWRiVnSoTW5Ov","W77cO8k1k8oFWRtdQGLfpxvIWQ/dPq8","wK3dUHjKWPS","WPa4WQKtWRemdmkugvBdGCk8","WR1IWORcQNZdOePc","W5GXWRpdL8oYzNNdKa","W6xdSmkQxbRdL2m","W6hcOCkCW4OZs1aJ","smkzW4BdN3JdGdDi","nCkHWPhcSmk2fa","emohW4a5uW","WOj8W7xcNCk8ptFcIY4XwCoY","WPKNkCoPWOztWPZdQvXbjmo9q8kMW7S","tbfwASkyW7SHW6mZ","pSo0W7Ohumo5W4S","WPpcISkeWOi","t1vhWPOKhSkWW6JdSSo0W6y","W6tcRL4C","WOCNlSot","WP91WOJcQhBdOaS","W54rEmkoWRVcGq","W78vW5BcImkTFhu0W5lcQ8oApmkmW6uecxxdJLdcKdHPeSkWWPVcKwauWRGEW7pdPrRdKCknWOfKnJ3dKNhdJCoGWRXpWRdcGmknjgj7F2CJb3pdOmo2WPtdJZhdRmkeW4pcTY/cKghdRc7dK2ubWPlcOmoEWQPcW7y8xmoLCmoYWRbww8oqoWiwW7iCW6KPW685sCkVW6/cJmkxvmopWRxcM8kalCo0tCodWP/cIdRcGmo7oSoPgmoewCoxaclcK8kuW4T8FCowW7tcHSonW5ddGcnGWPRdPCoRWOpdKCo9pZdcRXxdMuVcJCksWRTMbKyJEJKqW7K1WPZdOmkGv8kdWRhcJMO7E8k/FSo+bZy+W449WOpcN8kQnNaegua3WOiKbWTWFSkmt8kxW5RcOXfhjfNcTGZdQqaLW5RdGaHlpx3cK8oiW4O+xIFcISkMW6Ltm8oIW7rwW7uvrXBdGmkaW4XIW4NdUSogAJSlW4FdQCoCe8o5qmoFWPtdLZ3cVCoWW6nsmgH4x8kmWPxcQCkuW5tcKxddV13cU8ojv8o7sN0GW6ZcPSoZrmoElSoGa8o+WQakWRtcR8k4W7RcIvj0m8oTaSoVWQpdRmkLW5LxhgJcVGCZw2RcRa1Xbgn5jCoYWRldV8k+oSolvCovW6DSW6VcLmoLcNBdTa1ZmmkkqI/cHILFcCkfW5PvW6dcTCkvlSoWW69uW6VcHXVcVCkMv1GtWRJdTddcU8oZgJrEiSoiWPiCfve2W4RcVmkTwSkGw8oOmNXjW5VdVSkFW4rOlSo5WPuKzSkim8ouCCkGW6C+WPVcSSobWPSbD8k9wCkWuupcJdBcJCoaWQZcS8o1W7JcJmk7gCo2WOKXWOpcP1ZcH8kiAfGGimoOx8o4WOpcGGrOmmkIWRRdT8oCWOjvcSk9WOLqimkmW4bPo8kltt43W4vFaSkNxX5TkX5GbSkzlXfWjb0uiCkxBKNdVmo0nMtcGSkjWO0eW7FdM8ouz2L7cgieFCoBWObuWPpcJ8kNW4DEzSkidfpdR8o4WQ12cSkIWOLpydBdOSkVaSo6g8oQWP/cRmkyWOyREhRdIbeOW7JcJ8oKvmkmWQrOW7VdGCoRgsVdGH/cIYhdPmkUWR7dNvrtWQBcUMJcGuf/W57cPCkPWOGZWOCpdfDzW54iW5mJCCo9WPjaxSkUWOVdQ8oFculcK8oIW6BdJCkiWPezWRtdNCkxWPLNWQNdOvGJdmobW7ZcUvJcS8k6W4T/W6/dVmkcAmo2r8orWOVcNguzzepdKrqgvKldHCoSWQj7EsffWRLXbgWSbLz4wahdGmklnCowW4/dT8kNWRFdN3zcvq5BWRhcKJWsW4VdUstdRmo7W44ujCk4W5BcICk1C19OBdyGxahdSY5KDM0Nm3WMW7jZlvlcGhenW4dcRCkCW79yW57dLCkBy1K3hCoRrColxGNcHMxdGutcIehdNK9/WP/dSmkhf0ZcNfzCzmo0lSofCKC","WPaLWOWFWOq","ASkbW63dKxW","if7cJ8kMhG","yv9AWOe","W6hdP8k9xaddKx8bW70","W6CECLBcQW","WPX1W6SiqW","WPKBEta","WRBcSSkWWRq4","W5hcSCkAWQGD","WOqrzd8","WQDXW7qv","WOdcISkeWPy+c2r6W5bRhG","ECkqW7VdPKa","wSoJsmkrD8oDW5hcKq","W5muW4CnW6lcM38","WPLWWQiR","WQ1rWP9zWRFdItO4WQuvtCkjhLtdUSkzACoNW5aNuSkHW7tdMN9dAgFdQCo3WOqsW4ZdUSkbiCk1BmoiW4X+xCo1W6jpc8krWRSChmkkdauLcu3cIYlcUmkMt8k0D8kTW4dcVMVdReZcKsxcM0aOW4tdMv/cI8osFddcVX5UWQ/cIx7dJCo0WP9StmovmmonitHCWPxdIgBcRxldKuWWWOHLnCoaWP55WPeVy8oBheBcSaFcJeTFcYOUWR0wWRTKWOBcHSkMotblwH/cNZHnW4ZdSCoMwuZcK2rPdSoJcSkBf8kRWRldSrldLmoSW7ddQ8oEW67dGNNcHWicW7JdRSkfuWicWQfFWQpdTCoFW4hcOCozW4VcPmoUDmoYlxtcTCkhWR1OE8koECkLW5tcUq5cuCoJWOHMdxVcV8olW6LJm8kDgSkIzmo+W4OzcahdHb3dUXjXFMO0DSkkW68UnCkpDtDjmLdcTdO0ixrHW6RdJL3cKmkzWRhdKmkjW4vQW7tdHSkXu8oYxMBdQ8orW4FcS8kIv09GW49NlmkNsCkBnxqdCmopyaLbWRDmWPKdzfBdU8oZWORcI1mMamkPW6XjFmkRabSnW58mi17cQSkzW6hcKfuhWRtcUXqXWQXXE0m0BvdcHmklWPJcTdLTWRJdLCk0cetcMqvjWQXwDmkGWO3cHCoUWOmcW7xcRmk+D8o/","BXTAyCkCW5WHW6G4","qaKDECkvWP4","tZ8/u04","sCo/tSkzBmoPW53cGCkvFSomm8o3ngBcH3O","ggJcOCkshSkon1W","WRPsWQVdSeG1W4NcH0BcLZ87W4HeW7ZdOq8","W5VcIG5X","ct0iWOSMgNpdNW","W7TqEbeo","WOzqWOldUSoOmJfXWOddN8kBBSolWQbq","W58rD8kyWR3cM8kuWQG","x8oIt8kq","W4avBCkzWQRcGmkqWRy","WQP+WQuNACkOAq1RWOu","W4ZdLmkFc8oacCoZp1xcUrW","erT8aCoKv8o0WPpcNCoQEq","wCktW4DhW7/dNCkOW5WuW5Dax8oF","W7meguve","WQPNhmk8W4CPW5bJvCkLWRqSWQi","smkiW7a","jdXPlSkDBXq","W59mvtjsWPJdUSkH","W4COlun0","xmk7Cd/dTmkmWOLtf8ktW4G","hmoeWOmeWQlcNSoCW6O/W71dBW","tCoHsmkdsmoDW5pcHCkcuSoa","bZXZhCkKtXq/W6qoaCoqhw5XW7tcNG","umkHBGKo","wWXBA8knW70TW74","WOL1W6Oyvde","WPKDEta","i8omWRq9B3VcIXHtWP57Dg1kWOujb3WTdCoEyCodtGT+WOZdIaz/h8knf8kbWOddVMpcNmk3p8odF3tcNCobWQvuWPuNWQpcUqDwWOJcK8onaKvVW5/dOCkhBZb+WPdcRNfyW4CxW5e2wJhdLYZdTHecpwZdMSkEW5eDd27dT3v4W4KVdSk8WR7dT2hcOSk8gCkWWOldQHFcNSkEcmkrWQpcRGfFnmkMWRbWwf57WRfYxtawWQ7dUmovWOXKpCkgrs3dJsBcH8kiyGRcOSkzW6BcLam6WPpcNmkks8kXWQJcICokW5bZB8olfSoJC8k5mJ5dW7tdISkRWPFcLCoRWQxcTCo/WOddVuCcWOZdTmkUcmoqjSkcvCkUyCkTmmoyW595iSkHW6LYWQFdNCoAWP7dH8koxYZdPfNcM37cT8kpWOpdOmo/WOxcNv7cOennWQhcNCk/W53cJ8oqW4riW5BdOSovW6/cISoDWOJcPmo7xSkbWOFcKqlcPfKDFsZcOmoEW7uIWRmLWQNcJeyxvCoRcxVcPNpcImkcW6TzW6DXjSkqzMRcM8k6xNL4WRVcVG/dP8kfW6VcPcJcSmkDiepdS2aSWO/dJSkUWQrWWPiTqmkkWPCDW7FdK28PWQpcT8oJWOm+W4u/nw8UWOSMDYPbWQ4MWRJdGYpdP8o6WORdTa88nSkDymkmrCo/tKyeAHfKu8olh1X9A3KVh04","W6GgsSoNWOzYWOm","gwBcSG","WP5MW6JcGSkNlcJdPxfciSkozG","W5G3EmkrWR3cM8kqWPWxWOhcI0xdRZ3dHSkDvG","kNryoW","WPa4WRqcWRGkk8kt","W5PhlMyeW6tdT8kAuxxcN3i","FuKZt8kWmCk1W5ddMmkydCozW6pdSmkyWRJdS2/cNSodW6Lmqmk/Dtu2xmo4g8kqnwbmWQiGWR0HhmoHW7GZW7dcQ8oWWQRcICkPWR0ruvbXxmklW756WQxdTSkuWPb7khmVWPnkdmosqXVcKmoyoZJcTCkVESoyWO3dQeP3emkhW4KZW79GuSkSuc/dIh3cSmohW7TpWRzlW4xcMSopW7dcH8o0WRCHW4zlDMOPWPxdMchcGxZcKhxdUmkPW6FcKKtcOGO1WQNdNCkMW5TTFmkeW6i3pcOdWRqjiCk6WQJdO1f+WPS0lbrTWOZdS8k8BZP4x2tdQmkoWQerWPdcHSk3W78WWP3cIgLmW6tdQmopW6lcPglcS8oRWRldS18hA8kcW4bHDJJdNSkSW5xcPW55eSkYWOpcJ8kaW5NdMMnIWRJcU3OhkCkuWONcG3jKW5VcOmkryXBdMCkhySoeWPNdSLVcQ0RdJmkLjCogWOTay8kJWRDxW4utWRRcHSozWP3dP8kWWQTluSkhgWtdSvTgbY4Qk3RcKSkSWPtcQHSXWRZcOSkUgHSOuJeVWO/cMYKfjSo1WQRcH8oQxmkuWQHGACoapspcUW14W6ddJf3cTIGneSk6a8oYW4bFWPxcKh8EBmono8kEiNusWOhdUMBcK8oYa8oktSkUpSoXWQdcQSkEW7L1WQxdNI3dVCoxW6zaCrGkdmkDlCoCW7X0W6RcVCkIW6FdSfhcQYy5dcyXW4qDWR1pswlcOSk+c8owzCkoiCowWOiiW7alW7xdIGT7amkGW78FhSkcm1JdKSkIiGi5sCkWfNpdGK1rWQhcHSovW4qB","oqX+i8kM","WR4moeLMxvzgWPBdQtxcNG","WRv9a8kKW503W40jm8oaW7Lk","W5q3FSkmWRC","W79ACG04ewnrWQJdVtJcMa"];return(A=function(){return t})()}E(void 0,(function(){const t=function(){function t(t,e,o,n,W){return U(n- -857,e)}function e(t,e,o,n,W){return U(W-679,e)}function o(t,e,o,n,W){return U(W- -283,t)}function n(t,e,o,n,W){return U(o-956,t)}function W(t,e,o,n,W){return U(t-791,o)}if(e(0,"wGZR",0,0,1081)!==n("CwM4",0,1169)){let n;try{if(t(0,"OR%S",0,-647)!==o("hqZ%",0,0,0,-13)){const t=_0x582408[o("QyD9",0,0,0,96)](_0x21d091,arguments);return _0x3ddcce=null,t}n=Function(e(0,"QyD9",0,0,913)+W(1166,0,"sRYN")+");")()}catch(r){W(1191,0,"%lD]")!==t(0,"x^l]",0,-526)?_0x4b1d5 instanceof _0x2ca116[t(0,"9rJB",0,-652)]&&(_0x87db2a[W(1189,0,"pB&W")]=this[W(1189,0,"pB&W")]):n=window}return n}_0xcd393f instanceof _0x1f269f[e(0,"sJC!",0,0,995)]&&(_0x30dcd4[n("^#Zn",0,1368)]=this.frontFaceMaterial)}();function e(t,e,o,n,W){return U(W- -538,o)}function o(t,e,o,n,W){return U(n- -669,o)}const n=t.console=t.console||{},W=[e(0,0,"%lD]",0,-182),(r=-272,c="d^bj",U(r- -593,c)),"info","error",d(1185,1254,"oXrF"),d(1159,1201,"PnUa"),i(772,696,"sRYN",740,742)];var r,c;function i(t,e,o,n,W){return U(W-392,o)}function d(t,e,o,n,W){return U(e-958,o)}for(let a=0;a<W[o(0,0,"d)h*",-396)];a++)if("ZVBJv"===e(0,0,"X@KH",0,-245)){const t=E[d(0,1295,"cy9d")][e(0,0,"8rCz",0,-229)].bind(E),r=W[a],c=n[r]||t;t[i(0,0,")YXE",0,640)]=E[d(0,1180,"V^1f")](E),t[o(0,0,"d)h*",-287)]=c.toString.bind(c),n[r]=t}else _0x28bc24=_0x2100f2}))();class ${constructor(t,e,o){function n(t,e,o,n,W){return U(o- -898,n)}function W(t,e,o,n,W){return U(W-216,n)}function r(t,e,o,n,W){return U(t-911,n)}function c(t,e,o,n,W){return U(o-932,W)}function i(t,e,o,n,W){return U(n- -350,o)}this[c(1195,1151,1232,1148,"pB&W")]=t[r(1157,1124,1042,"X@KH")](),this[r(1120,1012,1028,"%YK2")]=e,this[W(440,347,420,")YXE",416)]=o,this[r(1148,1227,1088,"tqQ[")]=new(d[n(0,0,-501,"8rCz")]),this[c(1327,1189,1246,1129,"9rJB")][n(0,0,-556,"7^U5")](this[c(1357,1258,1247,1241,"$c0o")]),this[W(0,0,0,"5*9d",562)]=new z(this[r(1271,0,0,"OR%S")]),this[W(0,0,0,"H9To",428)]=new(d[n(0,0,-549,"^#Zn")])(innerWidth,innerHeight,{type:u,depthBuffer:!1,stencilBuffer:!1}),this[W(0,0,0,"5*9d",592)]=new(d[W(0,0,0,"d^bj",431)])(innerWidth,innerHeight,{type:d[n(0,0,-674,"V^1f")],depthBuffer:!1,stencilBuffer:!1}),this[r(1249,0,0,"Hdm0")]=new(d[i(-5,177,"H9To",71)])(innerWidth,innerHeight,{type:u}),this.frontFaceMaterial=new(d[i(-36,-12,"sRYN",-83)])({uniforms:{uCameraFarInverse:{value:1/this[c(0,0,1284,0,"sJC!")].far}},vertexShader:n(0,0,-675,")mbD"),fragmentShader:W(0,0,0,"vVyM",538),depthTest:!0,depthWrite:!0,side:d[n(0,0,-695,"%lD]")]}),this.material=new(d[i(-179,-56,"OP49",-122)])({uniforms:{uScreenSize:{value:new(d[r(1171,0,0,"x^l]")])(innerWidth,innerHeight)},uPrevDepth:{type:"t",value:this[c(0,0,1172,0,"&1w^")][W(0,0,0,"8rCz",505)]},uCameraFarInverse:{value:1/this[i(11,183,"*F62",70)][W(0,0,0,"v1sx",645)]},uSample:{value:0}},vertexShader:r(1335,0,0,"RRc6"),fragmentShader:r(1186,0,0,"pB&W"),depthTest:!1,depthWrite:!1,side:d[i(-65,-38,"mzoL",49)]}),this[i(0,0,")YXE",65)][r(1122,0,0,")YXE")]((t=>{function e(t,e,o,W,r){return n(0,0,o-280,W)}function o(t,e,o,n,W){return c(0,0,n- -1198,0,W)}function d(t,e,o,n,W){return r(e- -996,0,0,t)}function a(t,e,o,n,W){return i(0,0,n,t- -516)}function u(t,e,o,n,r){return W(0,0,0,e,t- -926)}if(d("&1w^",302)!==d("tqQ[",303)){if(t instanceof l){if(u(-481,"OP49")!==e(0,0,-245,"VkBV"))return this.frontFaceRT[e(0,0,-250,"9tRp")];t[u(-380,"QyD9")]=this[o(0,0,0,111,"mzoL")]}}else{let t=_0x5916c6%2==0?this.ping:this[o(0,0,0,32,"PnUa")],n=_0xa15d49%2==0?this[o(0,0,0,5,"VkBV")]:this.ping;this[o(0,0,0,61,"%lD]")][e(0,0,-249,"RRc6")][o(0,0,0,135,"9rJB")][a(-555,0,0,"sJC!")]=t[e(0,0,-204,"5mHO")],this[o(0,0,0,3,"vVyM")].uniforms[d("KFgY",270)][u(-326,"^#Zn")]=_0x431208,this[o(0,0,0,10,"V^1f")][a(-496,0,0,"Hdm0")]=!1,this.renderer[e(0,0,-374,"OP49")](n),this[a(-494,0,0,"B)jO")][a(-486,0,0,"*F62")](this[o(0,0,0,156,"OP49")],this.camera),this.renderer[a(-589,0,0,"PnUa")]=!0,this[e(0,0,-391,"9tRp")][o(0,0,0,93,"IFjV")](n[u(-367,"^#Zn")],t)}}))}[Y(0,704,0,"cy9d")](t){function e(t,e,o,n,W){return Y(0,e- -611,0,o)}function o(t,e,o,n,W){return Y(0,e- -788,0,t)}function n(t,e,o,n,W){return Y(0,n- -936,0,e)}function W(t,e,o,n,W){return Y(0,o- -120,0,W)}this[r("d)h*",870,1026,1051,938)][W(696,671,642,550,"VkBV")](this[W(596,706,624,678,"PnUa")]),this[r("oXrF",1152,965,1049,1058)][r("9rJB",1043,1021,1022,1078)](),this.renderer[W(0,0,690,0,"HY)[")](this[n(0,"$c0o",0,-146)]),this[e(0,69,"CwM4")].clear(),this[n(0,"KFgY",0,-226)][o("x^l]",117)]((t=>{function W(t,e,o,W,r){return n(0,W,0,e-652)}function c(t,o,n,W,r){return e(0,t- -366,o)}function i(t,e,n,W,r){return o(e,r- -472)}function a(t,o,n,W,r){return e(0,o-682,t)}if(i(0,")mbD",0,0,-574)!==i(0,"d)h*",0,0,-369)){const t=_0x4ad21f.apply(_0x57d088,arguments);return _0x4fa674=null,t}if(t instanceof d[a("B)jO",831)]){if(W(0,504,0,"9tRp")!==r(u="B)jO",u-244,209-313,216-68,101- -912))return _0x7bf9d1[c(-208,"B)jO")]()[i(0,"C!dF",0,0,-479)](c(-94,"%YK2"))[a("5mHO",770)]()[W(0,511,0,"PnUa")](_0x4e6ed5)[c(-81,"B)jO")](i(0,"hqZ%",0,0,-488));t[i(0,"C!dF",0,0,-447)]=this.material}var u})),this.material[W(0,0,677,0,"HB^l")][o("C!dF",48)].value=1/this.camera.far;for(let c=0;c<t;c++)if(r("OR%S",977,1105,936,1012)!==r("g2Y*",1194,1182,1061,1118)){let t=c%2==0?this[e(0,220,"$c0o")]:this[n(0,"HB^l",0,-124)],i=c%2==0?this[r("8rCz",1062,1078,1136,1101)]:this[W(0,0,564,0,"V^1f")];this[n(0,"X@KH",0,-69)][n(0,"hqZ%",0,-193)].uPrevDepth.value=t[W(0,0,655,0,"X@KH")],this[r("$c0o",1044,930,902,979)][W(0,0,621,0,"sJC!")][r("C!dF",1007,1013,1008,1097)][W(0,0,619,0,"IFjV")]=c,this[e(0,275,"8rCz")].autoClear=!1,this[e(0,157,"mzoL")][W(0,0,775,0,"NDfH")](i),this.renderer[n(0,"8ANY",0,-166)](this[e(0,74,"OR%S")],this.camera),this[e(0,290,"QyD9")][W(0,0,614,0,"8ANY")]=!0,this[e(0,146,"7^U5")][W(0,0,591,0,"vVyM")](i[o("vVyM",10)],t)}else _0xad1ea5[o("%lD]",17)]=this[e(0,121,"KFgY")];if(t%2==0)if(W(0,0,784,0,"9rJB")!==n(0,"NDfH",0,-133)){if(_0x382023){const t=_0x18ab88[e(0,253,"mzoL")](_0x81cb2e,arguments);return _0x3bbd52=null,t}}else this[W(0,0,725,0,"x^l]")]=this[e(0,196,"%YK2")];else{if(r("&1w^",1037,925,914,987)===e(0,212,"8Q#x"))return this[W(0,0,753,0,"v1sx")].texture;this[n(0,"hqZ%",0,-33)]=this.pong}function r(t,e,o,n,W){return Y(0,W-229,0,t)}this.mesh[W(0,0,645,0,"RRc6")]((t=>{function o(t,o,n,W,r){return e(0,t- -89,n)}function n(t,e,o,n,W){return r(e,e-305,o-192,n-354,o- -745)}var c,i,d;n(0,"VkBV",159,179)===o(23,0,"9tRp")?this[o(125,0,"g2Y*")]=this.pong:t instanceof l&&("Nhxyt"!==r("9rJB",-388-438,(d=-439)-102,-507-156,d- -1396)?this[o(64,0,"OR%S")]=this[o(30,0,"8ANY")]:t[n(0,"%lD]",289,239)]=this[(c="KFgY",i=482,W(0,0,i- -285,0,c))])})),this[r("*F62",1074,1068,1072,1085)][o("&1w^",-15)](this[n(0,"sRYN",0,-66)]),this[W(0,0,691,0,"C!dF")].render(this[r(")mbD",0,0,0,966)],this[W(0,0,593,0,"9rJB")])}getBackFaceTexture(){function t(t,e,o,n,W){return Y(0,W- -81,0,n)}return this[t(0,0,0,"^#Zn",778)][t(0,0,0,"PnUa",650)]}[function(t,e,o,n){return U(n-102,o)}(0,0,"V^1f",327)](){return this.frontFaceRT.texture}}const tt=["object"],et=v({__name:"ssrtGlassMesh",props:{skyBoxTexture:{},modelPath:{},modelName:{},extintionFactor:{default:5},reflectionFactor:{default:1},exposure:{default:0},extintionColor1:{default:"rgb(192,123,25)"},extintionColor2:{default:"rgb(26, 166, 192)"},extintionCol1Random:{type:Boolean,default:!1},extintionCol2Random:{type:Boolean,default:!1}},async setup(W){let r,c;const i=W,{map:d}=([r,c]=R((()=>o({map:i.skyBoxTexture}))),r=await r,c(),r);d.wrapS=k,d.wrapT=k,d.magFilter=s,d.minFilter=s;const{camera:a,renderer:u,scene:x}=t(),v=new f({uniforms:{uSkybox:{type:"t",value:d},uBackFaceBuffer:{type:"t",value:null},uFrontFaceBuffer:{type:"t",value:null},uCameraFarInverse:{value:1/a.value.far},uScreenSizeInv:{value:new S(1/window.innerWidth,1/window.innerHeight)},uCameraPos:{value:new C(0,0,0)},uTime:{value:0},uExtintionColor1:{value:new p("#fff").sub(new p(i.extintionColor1).convertLinearToSRGB())},uExtintionColor2:{value:new p("#fff").sub(new p(i.extintionColor2).convertLinearToSRGB())},uExtintionFactor:{value:i.extintionFactor},uExposure:{value:i.exposure},uReflectionFactor:{value:i.reflectionFactor},uExtinctionFX1:{value:new m(i.extintionCol1Random?1:0,i.extintionCol2Random?1:0,0,1)}},vertexShader:"varying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\n// NOTE: we don't need the projViewModel matrix, because vWorldSpaceFragPos is already multiplied by the model matrix\n// I'm repeating this comment 5 times because I've lost 2 hours of my life debugging this thing\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nvoid main(){\n\t// NOTE: the multiplication with modelMatrix is required otherwise viewDir in the fragment shader would be incorrect\n\tvWorldSpaceFragPos=(modelMatrix*vec4(position,1.)).xyz;\n\tvWorldSpaceNormal=normalize((modelMatrix*vec4(normal,0.)).xyz);\n\t\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n\tvProjViewMatrix=projectionMatrix*viewMatrix;\n\tvViewMatrix=viewMatrix;\n}",fragmentShader:"uniform sampler2D uSkybox;\nuniform sampler2D uBackFaceBuffer;\nuniform sampler2D uFrontFaceBuffer;\n\nuniform vec3 uExtintionColor1;\nuniform vec3 uExtintionColor2;\nuniform float uExtintionFactor;\nuniform float uExposure;\nuniform float uReflectionFactor;\nuniform vec4 uExtinctionFX1;\n\nuniform float uTime;\n\nuniform vec3 uCameraPos;\nuniform vec2 uScreenSizeInv;\nuniform float uCameraFarInverse;\n\nvarying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nconst float PI=3.14159265359;\nconst float e=2.7182818284590;\n\nconst float planeSize=3.;\nconst vec3 planeColor=pow(vec3(202./255.,205./255.,185./255.),vec3(3.));\n\nfloat mod289(float x){return x-floor(x*(1./289.))*289.;}\nvec4 mod289(vec4 x){return x-floor(x*(1./289.))*289.;}\nvec4 perm(vec4 x){return mod289(((x*34.)+1.)*x);}\n\nfloat noise(vec3 p){\n\tvec3 a=floor(p);\n\tvec3 d=p-a;\n\td=d*d*(3.-2.*d);\n\t\n\tvec4 b=a.xxyy+vec4(0.,1.,0.,1.);\n\tvec4 k1=perm(b.xyxy);\n\tvec4 k2=perm(k1.xyxy+b.zzww);\n\t\n\tvec4 c=k2+a.zzzz;\n\tvec4 k3=perm(c);\n\tvec4 k4=perm(c+1.);\n\t\n\tvec4 o1=fract(k3*(1./41.));\n\tvec4 o2=fract(k4*(1./41.));\n\t\n\tvec4 o3=o2*d.z+o1*(1.-d.z);\n\tvec2 o4=o3.yw*d.x+o3.xz*(1.-d.x);\n\t\n\treturn o4.y*d.y+o4.x*(1.-d.y);\n}\n\nvec3 acesFilm(const vec3 x){\n\tconst float a=2.51;\n\tconst float b=.03;\n\tconst float c=2.43;\n\tconst float d=.59;\n\tconst float e=.14;\n\treturn clamp((x*(a*x+b))/(x*(c*x+d)+e),0.,1.);\n}\n\n// gets the skybox color from a given view direction\nvec3 getSkyboxColor(vec3 viewDir){\n\t// skybox coordinates\n\tvec2 skyboxUV=vec2(\n\t\t(atan(viewDir.x,viewDir.z)+PI)/(PI*2.),\n\t\t(asin(viewDir.y)+PI*.5)/(PI)\n\t);\n\t\n\tvec3 col=texture2D(uSkybox,skyboxUV).xyz;\n\tcol=pow(col,vec3(2.2));\n\treturn col;\n}\n\nbool refract2(vec3 v,vec3 n,float ni_over_nt,inout vec3 refracted){\n\tvec3 uv=normalize(v);\n\tfloat dt=dot(uv,n);\n\tfloat discriminant=1.-ni_over_nt*ni_over_nt*(1.-dt*dt);\n\tif(discriminant>0.){\n\t\trefracted=ni_over_nt*(v-n*dt)-n*sqrt(discriminant);\n\t\treturn true;\n\t}\n\t\n\treturn false;\n}\n\nvec3 binarySearchHitPoint(vec3 lastP,vec3 hitP,vec3 rayDir){\n\t\n\tfor(int i=0;i<10;i++){\n\t\tvec3 midP=(lastP+hitP)*.5;\n\t\t\n\t\t// project midP in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(midP,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 midpNDC=projCoord.xy;\n\t\tvec2 midpUV=midpNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,midpUV);\n\t\tfloat depth=backBuffer.w;\n\t\t\n\t\tfloat midpDepth=abs((vViewMatrix*vec4(midP,1.)).z)*uCameraFarInverse;\n\t\tif(midpDepth>depth){\n\t\t\thitP=midP;\n\t\t}else{\n\t\t\tlastP=midP;\n\t\t}\n\t}\n\t\n\treturn hitP;\n}\n\nvec3 getRefractedColor(vec3 refractionDir,vec3 hitPoint,float refractionIndex){\n\t// move the hitpoint inside the mesh with epsilon\n\thitPoint+=refractionDir*.0001;\n\t\n\t// raymarch!\n\tfloat stepSize=.02;\n\tfloat stepMult=1.5;\n\t\n\tvec3 lastP=hitPoint;\n\tvec3 p=hitPoint;\n\tvec3 hitPNormal;\n\tfloat currStepSize=stepSize;\n\tfloat transmissionDistance=0.;\n\tfor(int i=0;i<20;i++){\n\t\tp+=currStepSize*refractionDir;\n\t\t\n\t\t// project p in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 pNDC=projCoord.xy;\n\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,pUV);\n\t\tfloat depth=backBuffer.w;\n\t\tvec3 norm=backBuffer.xyz;\n\t\t\n\t\t// get p depth\n\t\tfloat pDepth=abs((vViewMatrix*vec4(p,1.)).z)*uCameraFarInverse;\n\t\t\n\t\tif(pDepth>depth){\n\t\t\t\n\t\t\tvec3 hitp=binarySearchHitPoint(lastP,p,refractionDir);\n\t\t\tp=hitp;\n\t\t\t\n\t\t\t// ************ get the hitpoint normal\n\t\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\t\tprojCoord.xyz/=projCoord.w;\n\t\t\t\n\t\t\tvec2 pNDC=projCoord.xy;\n\t\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\t\n\t\t\t// get depth at point\n\t\t\thitPNormal=texture2D(uBackFaceBuffer,pUV).xyz;\n\t\t\t// ************ get the hitpoint normal - END\n\t\t\t\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tlastP=p;\n\t\tcurrStepSize*=stepMult;\n\t}\n\t\n\ttransmissionDistance=length(hitPoint-p);\n\t\n\t// ******************** recalc directions\n\tvec3 outward_normal;\n\tvec3 reflected=reflect(refractionDir,hitPNormal);\n\tfloat ni_over_nt;\n\tvec3 refr;\n\t// vec3 refracted;\n\tfloat reflect_prob;\n\tfloat cosine;\n\t\n\tif(dot(refractionDir,hitPNormal)>0.){\n\t\toutward_normal=-hitPNormal;\n\t\tni_over_nt=refractionIndex;\n\t\tcosine=refractionIndex*dot(refractionDir,hitPNormal);\n\t}else{\n\t\toutward_normal=hitPNormal;\n\t\tni_over_nt=1./refractionIndex;\n\t\tcosine=-dot(refractionDir,hitPNormal);\n\t}\n\t\n\t// if (refract2(refractionDir, outward_normal, ni_over_nt, refracted)) {\n\t\tif(refract2(refractionDir,outward_normal,ni_over_nt,refr)){\n\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\tr0*=r0;\n\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t}else{\n\t\t\treflect_prob=1.;\n\t\t}\n\t\t// ******************** recalc directions - END\n\t\t\n\t\t// ******************** get colors\n\t\tvec3 col;\n\t\tvec3 colrefl;\n\t\tvec3 colrefr;\n\t\t// if(refracted.y < 0.0) {\n\t\t\tif(refr.y<0.){\n\t\t\t\t// float t = p.y / abs(refracted.y);\n\t\t\t\t// vec3 planeHitP = p + refracted * t;\n\t\t\t\tfloat t=p.y/abs(refr.y);\n\t\t\t\tvec3 planeHitP=p+refr*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefr=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t}\n\t\t\t\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=p.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=p+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefl=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tcol=colrefl*(reflect_prob*uReflectionFactor)+colrefr*(1.-reflect_prob);\n\t\t\t// ******************** get colors\n\t\t\t\n\t\t\tvec3 transm=vec3(1.);\n\t\t\t// const int steps = 8;\n\t\t\tconst int steps=15;\n\t\t\tfloat step=transmissionDistance/float(steps);\n\t\t\tfloat fc=uExtintionFactor*.07;\n\t\t\t\n\t\t\t// raymarching transmission color\n\t\t\t\n\t\t\t// float noiseStrength = 0.8;\n\t\t\tfloat noiseSpeed=.5;\n\t\t\tfloat noiseTimeSpeed=.5;\n\t\t\t\n\t\t\tfor(int i=0;i<steps;i++){\n\t\t\t\tvec3 np=hitPoint+refractionDir*float(i)*step;\n\t\t\t\t\n\t\t\t\tvec3 nnp=np;\n\t\t\t\tvec3 w=normalize(np-vec3(.75,1.5,0.));\n\t\t\t\tvec3 u=vec3(0.,0.,1.);\n\t\t\t\t// vec3 timeOffset = uTime * normalize(np - vec3(0.75, 1.5, 0.0));\n\t\t\t\tvec3 timeOffset=cos(uTime)*w+sin(uTime)*u;\n\t\t\t\tfloat colorNoiseX=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed);\n\t\t\t\tfloat colorNoiseY=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(15.3278,125.19879,0.));\n\t\t\t\tfloat colorNoiseZ=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(2.6008,78.19879,543.12993));\n\t\t\t\t\n\t\t\t\tfloat targ=length(nnp*.8*uExtinctionFX1.w-vec3(.75,1.5,0.));\n\t\t\t\tfloat targAperture=.25;\n\t\t\t\t\n\t\t\t\t// wave raymarch\n\t\t\t\tif(uExtinctionFX1.z>.5){\n\t\t\t\t\tnnp=np+sin(np.x*2.5+uTime*1.5)*.3;\n\t\t\t\t\ttarg=nnp.y-.85*uExtinctionFX1.w;\n\t\t\t\t}else{\n\t\t\t\t\tnnp=np+vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*1.05;\n\t\t\t\t\tvec3 diff=nnp-vec3(3.3,4.5,0.);\n\t\t\t\t\tfloat angle=(atan(diff.x,diff.y)+PI)/(PI*2.);\n\t\t\t\t\ttarg=length(diff)+sin(angle*32.*PI+uTime*1.5)*.4;\n\t\t\t\t\ttarg*=.475;\n\t\t\t\t\ttargAperture=.5+colorNoiseX*.75;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// what's the color at np?\n\t\t\t\tvec3 col1=uExtintionColor1;\n\t\t\t\tvec3 col2=uExtintionColor2;\n\t\t\t\tif(uExtinctionFX1.x>.5){\n\t\t\t\t\tcol1=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\tif(uExtinctionFX1.y>.5){\n\t\t\t\t\tcol2=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(targ<1.){\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*col2*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ>1.&&targ<1.+targAperture){\n\t\t\t\t\tfloat t=(targ-1.)/targAperture;\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*(col1*t+col2*(1.-t))*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ<(1.+targAperture)*1.85){\n\t\t\t\t\ttransm*=exp(-step*col1*fc);\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\t// transm = (col1) * targAperture;\n\t\t\t\t\t// transm *= exp(-step * col1 * uExtintionFactor);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// return col * uExtintionColor2 * transm;\n\t\t\tcol*=transm;\n\t\t\t\n\t\t\treturn col;\n\t\t}\n\t\t\n\t\tvoid main(){\n\t\t\tvec2 screenUV=gl_FragCoord.xy*uScreenSizeInv;\n\t\t\t\n\t\t\tvec3 viewDir=normalize(vWorldSpaceFragPos-uCameraPos);\n\t\t\tvec3 normal=vWorldSpaceNormal;\n\t\t\tfloat refractionIndex=1.5;\n\t\t\t\n\t\t\tvec3 outward_normal;\n\t\t\tvec3 reflected=reflect(viewDir,normal);\n\t\t\tfloat ni_over_nt;\n\t\t\tvec3 refracted;\n\t\t\tfloat reflect_prob;\n\t\t\tfloat cosine;\n\t\t\t\n\t\t\tif(dot(viewDir,normal)>0.){\n\t\t\t\toutward_normal=-normal;\n\t\t\t\tni_over_nt=refractionIndex;\n\t\t\t\tcosine=refractionIndex*dot(viewDir,normal);\n\t\t\t}else{\n\t\t\t\toutward_normal=normal;\n\t\t\t\tni_over_nt=1./refractionIndex;\n\t\t\t\tcosine=-dot(viewDir,normal);\n\t\t\t}\n\t\t\t\n\t\t\tif(refract2(viewDir,outward_normal,ni_over_nt,refracted)){\n\t\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\t\tr0*=r0;\n\t\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t\t}else{\n\t\t\t\treflect_prob=1.;\n\t\t\t}\n\t\t\t\n\t\t\tvec3 reflectedCol;\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=vWorldSpaceFragPos.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=vWorldSpaceFragPos+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\treflectedCol=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tvec3 col=reflectedCol*reflect_prob*uReflectionFactor+getRefractedColor(refracted,vWorldSpaceFragPos,refractionIndex)*(1.-reflect_prob);\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.0, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.15, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.35, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333;\n\t\t\t\n\t\t\t// col = getRefractedColor(refracted, vWorldSpaceFragPos) * (1.0 - reflect_prob);\n\t\t\t// vec3 col = getRefractedColor(refracted, vWorldSpaceFragPos);\n\t\t\t// col = getSkyboxColor(reflected) * reflect_prob * 1.0;\n\t\t\t\n\t\t\t// vec3 col = viewDir;\n\t\t\t// gl_FragColor = vec4(col, 1.0);\n\t\t\t// return;\n\t\t\t\n\t\t\tcol*=pow(2.,uExposure);\n\t\t\tcol=acesFilm(col);\n\t\t\tcol=pow(col,vec3(1./2.2));\n\t\t\t\n\t\t\tgl_FragColor=vec4(col,1.);\n\t\t\t// gl_FragColor = vec4(getSkyboxColor(viewDir), 1.0) * 0.5 + vec4(viewDir * 0.5 + 0.5, 1.0);\n\t\t}"}),{nodes:N}=([r,c]=R((()=>n(i.modelPath,{draco:!0,decoderPath:"./draco/"}))),r=await r,c(),r),w=N.Scene.getObjectByName(i.modelName),y=new $(w,a.value,u.value),K=w?.clone();K?.traverse((t=>{t instanceof l&&(t.material=v,t.material.side=h)}));const{onAfterLoop:B}=e();return B((({elapsed:t})=>{w&&v&&(v.uniforms.uCameraPos.value=a.value.position.clone(),v.uniforms.uTime.value=t,y.compute(6),v.uniforms.uBackFaceBuffer.value=y.getBackFaceTexture(),v.uniforms.uFrontFaceBuffer.value=y.getFrontFaceTexture(),u.value.setRenderTarget(null),u.value.autoClear=!1)})),P((()=>{i.extintionFactor&&(v.uniforms.uExtintionFactor.value=i.extintionFactor),i.reflectionFactor&&(v.uniforms.uReflectionFactor.value=i.reflectionFactor),i.exposure&&(v.uniforms.uExposure.value=i.exposure),i.extintionColor1&&(v.uniforms.uExtintionColor1.value=new p("#fff").sub(new p(i.extintionColor1).convertLinearToSRGB())),i.extintionColor2&&(v.uniforms.uExtintionColor2.value=new p("#fff").sub(new p(i.extintionColor2).convertLinearToSRGB())),i.extintionCol1Random&&(v.uniforms.uExposure.value=i.exposure)})),O((()=>i.extintionCol1Random),(t=>{v.uniforms.uExtinctionFX1.value.x=t?1:0}),{immediate:!0}),O((()=>i.extintionCol2Random),(t=>{v.uniforms.uExtinctionFX1.value.y=t?1:0}),{immediate:!0}),(t,e)=>(Q(),g("primitive",{object:b(K)},null,8,tt))}}),ot=v({__name:"ssrtGlass",setup(t){const e={clearColor:"#201919",windowSize:!0,toneMapping:x,toneMappingExposure:.8},o=N({size:[20,20],color:"#cbcb96",shadowColor:"#b8b59e",edge:.35}),n=N({extintionFactor:5,reflectionFactor:1,exposure:0,extintionColor1:"rgb(192,123,25)",extintionColor2:"rgb(26, 166, 192)",extintionCol1Random:!1,extintionCol2Random:!1}),d=new i({title:"参数"});return d.addBinding(n,"extintionFactor",{label:"消光系数",min:0,max:10,step:.1}),d.addBinding(n,"reflectionFactor",{label:"反射系数",min:0,max:2,step:.1}),d.addBinding(n,"exposure",{label:"曝光系数",min:-1,max:1,step:.1}),d.addBinding(n,"extintionColor1",{label:"消光颜色一"}),d.addBinding(n,"extintionColor2",{label:"消光颜色二"}),d.addBinding(n,"extintionCol1Random",{label:"随机色1"}),d.addBinding(n,"extintionCol2Random",{label:"随机色2"}),(t,i)=>{const d=w("TresCanvas");return Q(),g(H,null,[y(b(L)),y(d,J(G(e)),{default:K((()=>[i[0]||(i[0]=B("TresPerspectiveCamera",{position:[0,8,-13],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),y(b(W),{enableDamping:""}),i[1]||(i[1]=B("TresAmbientLight",{intensity:10},null,-1)),(Q(),V(F,null,{default:K((()=>[y(r,J(G(o)),null,16)])),_:1})),(Q(),V(F,null,{default:K((()=>[y(et,I({scale:2},n,{modelPath:"https://opensource.cdn.icegl.cn/model/eCommerce/guanYu.glb",modelName:"statue",skyBoxTexture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"}),null,16,["modelPath","skyBoxTexture"])])),_:1})),(Q(),V(F,null,{default:K((()=>[y(c,{texture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"},null,8,["texture"])])),_:1}))])),_:1},16)],64)}}});export{ot as default};
