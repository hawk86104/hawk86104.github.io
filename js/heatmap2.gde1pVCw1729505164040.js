import{P as t}from"./tweakpane.yHWGBmom1729505164040.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.rIUqd8691729505164040.js";import{_ as r}from"./heatmap.js-fix.SYqTo-YW1729505164040.js";import{h as i,_ as c,cn as s,s as u,m as a}from"./three.YREzp-_G1729505164040.js";import{r as p}from"./utils.VE4qwlzk1729505164040.js";import{d as f}from"./pinia.LeDA9WVb1729505164040.js";import{b as l,d as h,a3 as m,o as g,E as d,L as y,u as v,F as w,q as b,V as I,O as _,Q as j,I as x,M as S,a4 as M,r as E,j as R,g as O,m as z}from"./@vue.JNsx1iN61729505164040.js";import{c as A,d as k,a as D}from"./three-mesh-bvh.GSW9toAC1729505164040.js";import{_ as T}from"./@fesjs.ysb1R5mQ1729505164040.js";import"./@tresjs.IsKybBdF1729505164040.js";import"./@vueuse.9dhnH8nd1729505164040.js";import"./three-custom-shader-material.N2P3il9e1729505164040.js";import"./object-hash.3VgPOje51729505164040.js";import"./@amap.-tZv8Pyx1729505164040.js";import"./jszip.GmmbuCmD1729505164040.js";import"./glsl-tokenizer.octUzVvo1729505164040.js";import"./glsl-token-string.GzxNJglV1729505164040.js";import"./glsl-token-functions.q-oNdpFR1729505164040.js";import"./vue-router.xkfjO_BL1729505164040.js";import"./lodash-es.kYt-_xTG1729505164040.js";import"./@qlin.yHhFDldE1729505164040.js";import"./@floating-ui.BPbuo5Gx1729505164040.js";import"./@juggle.7yjBMqoW1729505164040.js";!function(t,n){const e=F,o=V();for(;;)try{if(537605===parseInt(e(487))/1+parseInt(e(474))/2+-parseInt(e(518))/3*(-parseInt(e(483))/4)+parseInt(e(495))/5+parseInt(e(501))/6+-parseInt(e(476))/7*(-parseInt(e(496))/8)+-parseInt(e(503))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(481)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(t,n){const e=V();return(F=function(t,n){return e[t-=474]})(t,n)}!function(){Z(this,(function(){const t=F,n=new RegExp(t(509)),e=new RegExp(t(492),"i"),o=$(t(491));n.test(o+t(524))&&e[t(522)](o+t(517))?$():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(481)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(){const t=["function *\\( *\\)","constructor","counter","bind","length","_config","height","rgb(0,255,0)","input","1725591PGgpKF","stateObject","return (function() ","setData","test","width","chain","getValueAt","424880dNYvnu","error","1390207mTTsXS","trace","debu","top","createElement","apply","gger","4ZoTexB","left","style","action","794806eBQARp","toString","console","string","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","heatmap-canvas","5253120mpcmYg","40Mwxhan",'{}.constructor("return this")( )',"rgb(255,0,0)","randInt","rgb(0,0,255)","4062630VlFRrf","yellow","33890148OmxwHO","info","body","call","exception","display"];return(V=function(){return t})()}U(void 0,(function(){const t=F;let n;try{n=Function(t(520)+t(497)+");")()}catch(r){n=window}const e=n.console=n[t(489)]||{},o=["log",t(493),t(504),t(475),t(507),"table",t(477)];for(let i=0;i<o[t(513)];i++){const n=U[t(510)].prototype[t(512)](U),r=o[i],c=e[r]||n;n.__proto__=U[t(512)](U),n[t(488)]=c.toString[t(512)](c),e[r]=n}}))();const P=(t,n)=>t[F(525)](n)+-10;function $(t){function n(t){const e=F;if(typeof t===e(490))return function(t){}[e(510)]("while (true) {}")[e(481)](e(511));1!==(""+t/t)[e(513)]||t%20==0?function(){return!0}[e(510)](e(478)+e(482))[e(506)](e(486)):function(){return!1}[e(510)](e(478)+"gger")[e(481)](e(519)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=Y,o=X();for(;;)try{if(305501===parseInt(e(166))/1*(parseInt(e(174))/2)+parseInt(e(160))/3*(-parseInt(e(178))/4)+parseInt(e(163))/5+parseInt(e(170))/6+parseInt(e(185))/7+-parseInt(e(171))/8+-parseInt(e(168))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["bind","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"1177421XPhUXR","input","length","toString","stateObject","147lmjKIo","action","return (function() ","2562870zmxZaW","while (true) {}","debu","7393ngJwCW","exception","3632976xwwORX","counter","1728198ueUpum","1302224AhvkZb","console","apply","96GaDAge","string","constructor","test","36876mhVAea","init","gger"];return(X=function(){return t})()}!function(){B(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(183),"i"),o=L(t(179));n[t(177)](o+"chain")&&e.test(o+t(186))?L():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=X();return(Y=function(t,n){return e[t-=160]})(t,n)}N(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(162)+t(184)+");")()}catch(e){n=window}return n}(),e=n[t(172)]=n[t(172)]||{},o=["log","warn","info","error",t(167),"table","trace"];for(let r=0;r<o[t(187)];r++){const n=N[t(176)].prototype[t(181)](N),i=o[r],c=e[i]||n;n.__proto__=N.bind(N),n[t(188)]=c.toString[t(181)](c),e[i]=n}}))();const G=f("buildingsHeatmap",(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[Y(182)]=n},setTemperature:function(t){n.value=t}}}));function L(t){function n(t){const e=Y;if(typeof t===e(175))return function(t){}[e(176)](e(164))[e(173)](e(169));1!==(""+t/t)[e(187)]||t%20==0?function(){return!0}.constructor(e(165)+"gger").call(e(161)):function(){return!1}[e(176)](e(165)+e(180))[e(173)](e(189)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=H;function H(t,n){const e=J();return(H=function(t,n){return e[t-=221]})(t,n)}!function(t,n){const e=H,o=J();for(;;)try{if(398360===parseInt(e(225))/1+parseInt(e(276))/2*(-parseInt(e(266))/3)+-parseInt(e(284))/4+-parseInt(e(286))/5+-parseInt(e(283))/6+parseInt(e(223))/7+-parseInt(e(260))/8*(-parseInt(e(243))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Q(this,(function(){const t=H,n=new RegExp(t(264)),e=new RegExp(t(275),"i"),o=nt("init");n[t(245)](o+t(261))&&e.test(o+"input")?nt():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function("return (function() "+t(251)+");")()}catch(e){n=window}return n}(),e=n[t(241)]=n.console||{},o=["log",t(226),t(240),"error",t(273),t(233),t(228)];for(let r=0;r<o[t(246)];r++){const n=K.constructor[t(252)][t(277)](K),i=o[r],c=e[i]||n;n[t(230)]=K[t(277)](K),n[t(285)]=c.toString[t(277)](c),e[i]=n}}))();const W=[q(253),q(227)],C=[q(253)];function J(){const t=["prototype","object","action","geometry","mergeGeometries","uOpacity","Matrix4","computeBoundsTree","8wOjehO","chain","Texture","apply","function *\\( *\\)","land","6hcrTca","gger","city","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","makeRotationX","Mesh","attributes","exception","数值———：","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","636472VUNrgk","bind","while (true) {}","constructor","counter","uniforms","matrix","1202412HjLemF","2587156EYUuqY","toString","232980hVVNaE","disposeBoundsTree","DoubleSide","raycast","string","5037774TkpGVg","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","534555OSyacg","warn","rotation-x","trace","model","__proto__","children","debu","table","BufferGeometry","clone","buildingsHeatmap","opacity","primitive","call","info","console","log","6069438lzNTUN","setTemperature","test","length","normal","applyMatrix4","_config","width",'{}.constructor("return this")( )'];return(J=function(){return t})()}const tt=h({__name:q(236),props:{model:{},opacity:{default:1}},setup(t){const n=q;(()=>{const t=H;c[t(234)][t(252)][t(259)]=A,c[t(234)][t(252)][t(287)]=k,c[t(271)].prototype[t(221)]=D})();const e=t,o=((t=250,n=250,e=!0)=>{const o=F,i=document[o(480)](o(494));return i.style.position="absolute",!e&&(i[o(485)][o(508)]="none"),i[o(485)][o(479)]="0",i.style[o(484)]="0",document[o(505)].appendChild(i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(500),.55:o(516),.85:o(502),1:o(498)}})})();((t,n)=>{const e=F;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i.randInt(1,t[e(514)][e(523)]),y:i[e(499)](1,t[e(514)][e(515)]),value:i[e(499)](-10,36)}),o++}t[e(521)]({max:36,min:-10,data:n})})(o);const f=new(c[n(262)])(o._renderer.canvas);f.needsUpdate=!0;const l=e[n(229)][n(268)][n(235)]();delete l.geometry[n(272)][n(247)],delete l[n(255)].attributes.uv;const h=l[n(255)][n(235)]()[n(248)](l[n(282)]),b=e[n(229)][n(265)][n(235)]();delete b[n(255)][n(272)][n(247)];const I=b[n(255)][n(235)]().applyMatrix4(b[n(282)]),_=s[n(256)]([h,I]);_[n(248)]((new(c[n(258)]))[n(270)](Math.PI/2)),p(_),_[n(259)]();const j=(t=>{const o=n;return new a({vertexShader:o(224),fragmentShader:o(269),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(288)]})})(f),x=new u(_,j);m((()=>{const t=n;e[t(237)]&&(j[t(281)][t(257)].value=e[t(237)])}));const S=G(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(249)][e(250)],y:(1-t.uv.y)*o[e(249)].height};console[e(242)]("数值：",t),console.log(e(274),P(o,n)),S[e(244)](P(o,n))}},E=t=>{t&&S.$patch({showDiv:!0})},R=t=>{t&&S.setShowDiv(!1)};return(t,o)=>{const r=n;return g(),d(w,null,[y(r(238),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:E,onPointerLeave:R},null,40,W),y(r(238),{object:e.model[r(229)][r(231)][0][r(235)]()},null,8,C)],64)}}});function nt(t){function n(t){const e=H;if(typeof t===e(222))return function(t){}[e(279)](e(278))[e(263)](e(280));1!==(""+t/t)[e(246)]||t%20==0?function(){return!0}.constructor(e(232)+e(267))[e(239)](e(254)):function(){return!1}[e(279)]("debugger")[e(263)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=T({__name:"dataDiv",setup(t){const n=G(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((g(),d("div",{class:"title",style:S(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=st;!function(t,n){const e=st,o=at();for(;;)try{if(750518===-parseInt(e(204))/1+-parseInt(e(210))/2*(-parseInt(e(217))/3)+-parseInt(e(219))/4*(-parseInt(e(195))/5)+parseInt(e(198))/6*(-parseInt(e(208))/7)+-parseInt(e(189))/8+parseInt(e(209))/9+-parseInt(e(218))/10*(-parseInt(e(199))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(183)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=st,n=new RegExp(t(193)),e=new RegExp(t(211),"i"),o=ut(t(185));n[t(215)](o+t(187))&&e.test(o+t(214))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(183)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();it(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function("return (function() "+t(181)+");")()}catch(e){n=window}return n}(),e=n[t(177)]=n[t(177)]||{},o=[t(213),t(190),"info","error",t(192),t(194),t(196)];for(let r=0;r<o.length;r++){const n=it[t(206)][t(184)][t(203)](it),i=o[r],c=e[i]||n;n[t(216)]=it.bind(it),n[t(186)]=c.toString[t(203)](c),e[i]=n}}))();const ct=h({__name:ot(179),async setup(r){const i=ot;let c,s;const u=l(!1),a=([c,s]=M((()=>o())),c=await c,s(),c);u[i(207)]=!0;const p=E({width:1,color:i(200),opacity:1,show:!0}),f=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(197)](f,i(182),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),d(w,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:O((()=>[R(tt,z({model:v(a)},f),null,16,[r(178)]),R(n,z(p,{builds:v(a)[r(176)]}),null,16,[r(201)])])),_:1}),R(et)],64)}}});function st(t,n){const e=at();return(st=function(t,n){return e[t-=176]})(t,n)}function ut(t){function n(t){const e=st;if(typeof t===e(188))return function(t){}[e(206)]("while (true) {}")[e(183)]("counter");1!==(""+t/t)[e(205)]||t%20==0?function(){return!0}[e(206)](e(202)+e(191))[e(212)](e(180)):function(){return!1}.constructor(e(202)+e(191)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function at(){const t=["80gGIqNb","trace","addBinding","18XgVxjd","5269KEyQzP","#000","builds","debu","bind","375111YSevnd","length","constructor","value","1322433egmXFW","10364544Vspobt","1164274pMDKoQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","log","input","test","__proto__","3HpJeYh","3790BNRfyz","247596IMqFAa","city","console","model","heatmap2","action",'{}.constructor("return this")( )',"opacity","apply","prototype","init","toString","chain","string","9706336Ljdric","warn","gger","exception","function *\\( *\\)","table"];return(at=function(){return t})()}export{ct as default};
