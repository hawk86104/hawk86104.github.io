import{c0 as t,a3 as e,s as n,t as r}from"./three.HQIWXjA-1732680436779.js";import{b as o}from"./@tresjs.ozxSQdlw1732680436779.js";import{R as s,b as i}from"./all.three.QoccFgQU1732680436779.js";import{d as c,a6 as a,a3 as u,w as f,o as l,D as p,J as h,u as d}from"./@vue.u2cBPEWn1732680436779.js";const m=g;!function(t,e){const n=g,r=I();for(;;)try{if(864407===-parseInt(n(321))/1+parseInt(n(338))/2*(-parseInt(n(318))/3)+parseInt(n(341))/4*(-parseInt(n(332))/5)+-parseInt(n(320))/6+-parseInt(n(327))/7+parseInt(n(310))/8+parseInt(n(324))/9*(parseInt(n(329))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[g(296)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=g,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(304),"i"),r=_(t(300));e[t(337)](r+t(346))&&n[t(337)](r+"input")?_():r("0")}))()}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[g(296)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function g(t,e){const n=I();return(g=function(t,e){return n[t-=284]})(t,e)}b(void 0,(function(){const t=g;let e;try{e=Function(t(295)+t(284)+");")()}catch(o){e=window}const n=e[t(311)]=e[t(311)]||{},r=["log",t(290),"info",t(322),t(342),"table",t(326)];for(let s=0;s<r[t(331)];s++){const e=b[t(299)][t(317)].bind(b),o=r[s],i=n[o]||e;e[t(289)]=b[t(301)](b),e.toString=i[t(298)].bind(i),n[o]=e}}))();const y=[m(343)],v=[m(333)],j=["object"];function I(){const t=["wrapS","isMesh","stateObject","6640376PmExuY","console","showGridHelper","uniforms","textureMatrixUniform","wrapT","visible","prototype","3VHhcSM","set","3798612VrVFrI","740465gLRoCW","error","texture","5049eliXaq","debu","trace","9050307AdefQV","uReflectivity","73580BSFbhk","forEach","length","83755FwaWOW","object","renderTargetUniform","mapUrl","reflectorDUDV","test","73354oSXywX","value","rotation","332DVQcxS","exception","scale","onBeforeRender","action","chain",'{}.constructor("return this")( )',"primitive","tReflect","tReflectBlur","string","__proto__","warn","size","reflectivity","renderTarget","uMatrix","return (function() ","apply","TresGroup","toString","constructor","init","bind","add","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","update","call"];return(I=function(){return t})()}const x=c({__name:m(336),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const b=m;let g,I;const x=c,_=new s,M=new t(x[b(291)][0]-.5,x[b(291)][1]);M[b(316)]=x[b(312)];const{map:R}=([g,I]=a((()=>o({map:x[b(335)]}))),g=await g,I(),g);R[b(307)]=e,R[b(315)]=e,R.repeat[b(319)](6,3);const S=new i({map:R,reflectivity:x[b(292)]});S.uniforms[b(286)]={value:_[b(293)][b(323)]},S.uniforms[b(287)]=_[b(334)],S[b(313)][b(294)]=_[b(314)];const V=new n(new r(x[b(291)][0],x[b(291)][1]),S);return V[b(340)].x=-Math.PI/2,V[b(302)](_),V[b(344)]=(t,e,n)=>{const r=b;V[r(316)]=!1,x.ignoreObjects.forEach((t=>{const e=r;t.isMesh&&(t[e(316)]=!1),t.value&&t[e(339)].isMesh&&(t[e(339)][e(316)]=!1)})),_[r(305)](t,e,n),x.ignoreObjects[r(330)]((t=>{const e=r;t[e(308)]&&(t[e(316)]=!0),t[e(339)]&&t[e(339)].isMesh&&(t[e(339)][e(316)]=!0)})),V[r(316)]=!0},u((()=>{const t=b;x[t(292)]&&(S.uniforms[t(328)][t(339)]=x.reflectivity)})),f((()=>x.showGridHelper),(t=>{M.visible=t})),w({reflector:_}),(t,e)=>{const n=b;return l(),p(n(297),{scale:x[n(343)]},[h(n(285),{object:d(V),"position-y":-.01},null,8,v),h("primitive",{object:d(M)},null,8,j)],8,y)}}});function _(t){function e(t){const n=g;if(typeof t===n(288))return function(t){}[n(299)]("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(299)](n(325)+n(303))[n(306)](n(345)):function(){return!1}[n(299)]("debu"+n(303))[n(296)](n(309)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
