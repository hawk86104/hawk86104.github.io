import{_ as n,bU as t,T as e,N as o,B as r,ab as i,ac as s,aj as a,t as c,c5 as l,c3 as u,c4 as f,cf as p,h as v}from"./three.VhLXWX0H1735906732968.js";import{e as m,m as g,U as d}from"./@tresjs.XlmHwCPa1735906732968.js";import{d as h,o as b,D as y,J as x,u as w,F as _,w as I,j as T,x as U,e as S,g as D,aj as C,ak as j}from"./@vue.yG49nQHr1735906732968.js";import{_ as M}from"./@fesjs.OL5agSaf1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";import"./vue-router.OGOa9Z4t1735906732968.js";import"./lodash-es.kYt-_xTG1735906732968.js";import"./@qlin.yHhFDldE1735906732968.js";import"./pinia.ZaWyowAg1735906732968.js";import"./vue-demi.C4xddsk91735906732968.js";import"./@floating-ui.BPbuo5Gx1735906732968.js";import"./@juggle.7yjBMqoW1735906732968.js";var N="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const B=E;function E(n,t){const e=A();return(E=function(n,t){return e[n-=425]})(n,t)}!function(n,t){const e=E,o=A();for(;;)try{if(349994===-parseInt(e(481))/1*(-parseInt(e(457))/2)+parseInt(e(487))/3*(-parseInt(e(482))/4)+-parseInt(e(442))/5*(parseInt(e(438))/6)+-parseInt(e(476))/7+parseInt(e(431))/8+parseInt(e(432))/9+parseInt(e(451))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(483)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(){const n=["prototype",'{}.constructor("return this")( )',"material","#include <dithering_fragment>","MathUtils","trace","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","noise","2147775psCZTm","while (true) {}","log","noiseTex","chain","1qSsYXv","4STAbhh","apply","bind","cos","toString","1160535NKWYWa","luces","globalUniforms","Vector4","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","vertexShader","SphereGeometry","sin","\n      uniform vec4 luces[","attributes","setY","5179056MRdZfI","5397525BKycSa","debu","length","push","constructor","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","6QYdsrp","test","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","return (function() ","2753845RfhyOG","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","#include <fog_fragment>","replace","\n    ","fragmentShader","gger","console","string","2365890FDFVQJ","uniforms","globalBloom","#include <begin_vertex>","needsUpdate","call","221474yNHCZf","instData","TresMesh","instanceCount","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","randFloatSpread","MeshBasicMaterial","randFloat","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","table"];return(A=function(){return n})()}!function(){z(this,(function(){const n=E,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(462),"i"),o=V("init");t[n(439)](o+n(480))&&e[n(439)](o+"input")?V():o("0")}))()}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(483)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();R(void 0,(function(){const n=E;let t;try{t=Function(n(441)+n(469)+");")()}catch(r){t=window}const e=t[n(449)]=t[n(449)]||{},o=[n(478),"warn","info","error","exception",n(467),n(473)];for(let i=0;i<o[n(434)];i++){const t=R[n(436)][n(468)][n(484)](R),r=o[i],s=e[r]||t;t.__proto__=R[n(484)](R),t[n(486)]=s[n(486)][n(484)](s),e[r]=t}}))();const F=["geometry",B(470)],P=[B(470)],k=["rotateX"],G=100,Z=h({__name:"lucesPlane",props:{globalUniforms:{}},setup(r){const i=B,s=r,a=[],c=[],l=new(n[i(426)])(1,36,18),u=(new t).copy(l);u[i(460)]=G;const f=[];for(let t=0;t<G;t++){let t=n[i(472)][i(463)](49),e=n[i(472)].randFloatSpread(49),o=n[i(472)][i(465)](.0625,.125),r=n[i(472)][i(465)](1,3);f[i(435)](t,e,o),c[i(435)](new(n[i(490)])(t,e,r,n[i(472)][i(465)](1,2))),a[i(435)](new(n[i(490)])(t,e,o,r))}u.setAttribute("instData",new e(new Float32Array(f),3));const p=new(n[i(464)])({color:16720418,onBeforeCompile:n=>{const t=i;n[t(452)][t(479)]=s[t(489)][t(475)],n[t(425)]=(t(474)+n[t(425)]+t(446))[t(445)](t(454),t(466))}}),v={luces:{value:a}},g=new o({color:2363940,onBeforeCompile:n=>{const t=i;n.uniforms[t(488)]=v.luces,n[t(452)][t(453)]=s[t(489)][t(453)],n[t(452)][t(479)]=s[t(489)].noise,n[t(425)]=(t(443)+n[t(425)]+t(446))[t(445)](t(454),t(440)),n.fragmentShader=(t(428)+G+t(491)+n[t(447)]+t(446)).replace(t(444),"\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < "+G+t(437))[t(445)](t(471),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:d}=m();return d((({elapsed:n})=>{const t=i;for(let e=0;e<G;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(427)](n*o.w*(e%3+1))*Math[t(485)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(429)][t(458)][t(430)](e,r)}u[t(429)][t(458)][t(455)]=!0})),(n,t)=>{const e=i;return b(),y(_,null,[x(e(459),{geometry:w(u),material:w(p)},null,8,F),x(e(459),{material:w(g)},[x("TresPlaneGeometry",{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,k)],8,P)],64)}}});function V(n){function t(n){const e=E;if(typeof n===e(450))return function(n){}[e(436)](e(477)).apply("counter");1!==(""+n/n)[e(434)]||n%20==0?function(){return!0}.constructor(e(433)+e(448))[e(456)]("action"):function(){return!1}[e(436)](e(433)+e(448))[e(483)](e(461)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=$;function $(n,t){const e=K();return($=function(n,t){return e[n-=368]})(n,t)}!function(n,t){const e=$,o=K();for(;;)try{if(484828===parseInt(e(401))/1*(parseInt(e(381))/2)+parseInt(e(386))/3+parseInt(e(393))/4*(parseInt(e(403))/5)+parseInt(e(402))/6+-parseInt(e(373))/7+parseInt(e(380))/8+parseInt(e(404))/9*(-parseInt(e(413))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[$(390)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){H(this,(function(){const n=$,t=new RegExp(n(397)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Y(n(369));t[n(375)](o+"chain")&&e[n(375)](o+"input")?Y():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[$(390)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();L(void 0,(function(){const n=$;let t;try{t=Function(n(400)+n(372)+");")()}catch(r){t=window}const e=t[n(408)]=t[n(408)]||{},o=["log",n(385),n(374),n(412),n(392),"table",n(418)];for(let i=0;i<o[n(384)];i++){const t=L[n(419)][n(388)][n(371)](L),r=o[i],s=e[r]||t;t[n(395)]=L[n(371)](L),t[n(378)]=s.toString[n(371)](s),e[r]=t}}))();const J=[O(415)];function K(){const n=["\n    ","material","fragmentShader","counter","trace","constructor","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","call","TresPlaneGeometry","init","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","bind",'{}.constructor("return this")( )',"4808657dkfdAJ","info","test","gger","TresMesh","toString","string","7415752zyxjCE","16QONrRf","action","time","length","warn","12384JyMoau","portal","prototype","defines","apply","uniforms","exception","6484pbxUZh","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","__proto__","replace","function *\\( *\\)","vec4 diffuseColor = vec4( diffuse, opacity );","MeshBasicMaterial","return (function() ","4831ZjGkcL","2137242nKWATJ","1030iRmvqL","151479miVZzf","globalUniforms","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","debu","console","stateObject","globalBloom","#include <dithering_fragment>","error","290tCtevR"];return(K=function(){return n})()}const W=h({__name:O(387),props:{globalUniforms:{}},setup(t){const e=O,o=t,r=new(n[e(399)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n.uniforms[t(383)]=o[t(405)].time,n[t(391)][t(410)]=o[t(405)].globalBloom,n.fragmentShader=(t(420)+N+t(370)+n[t(416)]+t(414)).replace(t(398),t(406))[t(396)](t(411),t(394))}});return r[e(389)]={USE_UV:""},(n,t)=>{const o=e;return b(),y(o(377),{material:w(r),position:[0,3.75,-12]},t[0]||(t[0]=[x(o(368),{args:[5,5]},null,-1)]),8,J)}}});function Y(n){function t(n){const e=$;if(typeof n===e(379))return function(n){}[e(419)]("while (true) {}")[e(390)](e(417));1!==(""+n/n)[e(384)]||n%20==0?function(){return!0}[e(419)](e(407)+e(376))[e(421)](e(382)):function(){return!1}[e(419)]("debugger")[e(390)](e(409)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Q=X;function X(n,t){const e=q();return(X=function(n,t){return e[n-=401]})(n,t)}function q(){const n=["debu","material","bind","table","globalUniforms","error","17457540sLwTgI","length","990fePxyz","while (true) {}","constructor","TresLineSegments","action","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","3157HCiCmi","noise","trace","1762677dGSleN","vec4 diffuseColor = vec4( diffuse, opacity );","stateObject","\n    ","function *\\( *\\)","test","geometry","globalBloom","console","counter","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","exception","4762340VAFQKu","#include <begin_vertex>","toString","setAttribute","MathUtils","__proto__","time",'{}.constructor("return this")( )',"drops","fragmentShader","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","13240hYemhJ","string","chain","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","vertexShader","warn","2246991gCOxrV","randFloatSpread","48vRHDud","uniforms","43352MmAoeO","randFloat","log","replace","gEnds","noiseTex","35688SGKyGa","return (function() ","push","apply","\n      "];return(q=function(){return n})()}!function(n,t){const e=X,o=q();for(;;)try{if(916632===parseInt(e(409))/1*(-parseInt(e(411))/2)+parseInt(e(407))/3+parseInt(e(452))/4+parseInt(e(430))/5*(-parseInt(e(417))/6)+parseInt(e(437))/7*(-parseInt(e(401))/8)+parseInt(e(440))/9+parseInt(e(428))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const nn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(420)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){nn(this,(function(){const n=X,t=new RegExp(n(444)),e=new RegExp(n(462),"i"),o=rn("init");t.test(o+n(403))&&e[n(445)](o+"input")?rn():o("0")}))()}();const tn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(420)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();tn(void 0,(function(){const n=X;let t;try{t=Function(n(418)+n(459)+");")()}catch(r){t=window}const e=t[n(448)]=t[n(448)]||{},o=[n(413),n(406),"info",n(427),n(451),n(425),n(439)];for(let i=0;i<o[n(429)];i++){const t=tn[n(432)].prototype.bind(tn),r=o[i],s=e[r]||t;t[n(457)]=tn[n(424)](tn),t[n(454)]=s[n(454)][n(424)](s),e[r]=t}}))();const en=[Q(423),Q(446)],on=h({__name:Q(460),props:{globalUniforms:{}},setup(t){const e=Q,o=t,a=[],c=[];for(let r=0;r<2e4;r++){const t=n[e(456)][e(408)](35),o=n[e(456)][e(412)](-5,10),r=n[e(456)][e(408)](35),i=n[e(456)][e(412)](.25,.5);a.push(t,o,r,t,o,r),c[e(419)](0,i,1,i)}const l=new r;l[e(455)]("position",new i(a,3)),l.setAttribute(e(415),new i(c,2));const u=new s({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(410)][t(458)]=o[t(426)][t(458)],n[t(410)][t(416)]=o.globalUniforms[t(438)],n.uniforms.globalBloom=o.globalUniforms[t(447)],n[t(405)]=(t(436)+n[t(405)]+t(443))[t(414)](t(453),t(450)),n[t(461)]=(t(404)+N+t(421)+n[t(461)]+t(443)).replace(t(441),t(435))}});return(n,t)=>{const o=e;return b(),y(o(433),{material:w(u),geometry:w(l)},null,8,en)}}});function rn(n){function t(n){const e=X;if(typeof n===e(402))return function(n){}[e(432)](e(431))[e(420)](e(449));1!==(""+n/n).length||n%20==0?function(){return!0}[e(432)]("debugger").call(e(434)):function(){return!1}[e(432)](e(422)+"gger")[e(420)](e(442)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=cn,o=ln();for(;;)try{if(943499===parseInt(e(354))/1*(parseInt(e(385))/2)+parseInt(e(342))/3+-parseInt(e(343))/4+parseInt(e(345))/5+-parseInt(e(328))/6+-parseInt(e(336))/7*(-parseInt(e(372))/8)+-parseInt(e(323))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const sn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[cn(368)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){sn(this,(function(){const n=cn,t=new RegExp(n(357)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=fn(n(339));t[n(338)](o+n(362))&&e[n(338)](o+n(346))?fn():o("0")}))()}();const an=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[cn(368)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function cn(n,t){const e=ln();return(cn=function(n,t){return e[n-=323]})(n,t)}function ln(){const n=["color","ShaderMaterial","warn","867766SEKoHB","WebGLRenderTarget","height","function *\\( *\\)","render","prototype","uniforms","fog","chain","toString","\n      uniform float time;\n      ","call","length","globalBloom","apply","Mesh","console","time","3306984MHCFrM","vec4 diffuseColor = vec4( diffuse, opacity );","Scene",'{}.constructor("return this")( )',"constructor","width","setRenderTarget","exception","needsSwap","set","stateObject","background","target","4JBjBtR","noise","while (true) {}","near","__proto__","16649451EleIbI","fragmentShader","return (function() ","add","Color","8719002DZnoIS","bind","trace","value","debu","gger","baseTexture","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","7MtvUYh","replace","test","init","counter","Fog","4807599aMUwfE","5425856OucMCv","info","9258155aTKkDh","input","action","MeshBasicMaterial","Vector2","addPass"];return(ln=function(){return n})()}an(void 0,(function(){const n=cn;let t;try{t=Function(n(325)+n(375)+");")()}catch(r){t=window}const e=t[n(370)]=t[n(370)]||{},o=["log",n(353),n(344),"error",n(379),"table",n(330)];for(let i=0;i<o[n(366)];i++){const t=an[n(376)][n(359)][n(329)](an),r=o[i],s=e[r]||t;t[n(389)]=an[n(329)](an),t.toString=s[n(363)][n(329)](s),e[r]=t}}))();const un=h({__name:"fboRender",setup(t){const e=cn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(355)])(512,512),i=new(n[e(374)]),s=new a,v=new c(2,2),d=new(n[e(348)])({onBeforeCompile:n=>{const t=e;n[t(360)][t(371)]=o[t(371)],n.fragmentShader=(t(364)+N+"\n      "+n[t(324)]+"\n    ")[t(337)](t(373),t(335))}});d.defines={USE_UV:""};const h=new(n[e(369)])(v,d);i[e(326)](h),o[e(386)].value=r.texture;const{camera:x,renderer:w,scene:U,sizes:S,controls:D}=g();I((()=>D[e(331)]),(t=>{const o=e;null==t||t[o(384)][o(381)](0,2,0),!U.value[o(383)]&&(U.value[o(383)]=new(n[o(327)])(6706534))}));const C=new l(w[e(331)]),j=new l(w.value),M=new u(U[e(331)],x[e(331)]),B=new f(new(n[e(349)])(S[e(377)][e(331)],S[e(356)][e(331)]),1.2,.5,0);C.renderToScreen=!1,C[e(350)](M),C[e(350)](B);const E=new p(new(n[e(352)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:C.renderTarget2.texture}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),e(334));E[e(380)]=!0,j[e(350)](M),j.addPass(E),U[e(331)][e(361)]=new(n[e(341)])(6706534,1,25);const{onLoop:z}=m();return z((({elapsed:n})=>{var t,a;const c=e;o[c(371)].value=n,w[c(331)]&&(w[c(331)][c(378)](r),w[c(331)][c(358)](i,s),w[c(331)].setRenderTarget(null),o[c(367)][c(331)]=1.2,U.value.fog[c(351)].set(0),U.value[c(361)][c(388)]=15,null==(t=U[c(331)][c(383)])||t[c(381)](0),C[c(358)](),o[c(367)][c(331)]=0,U[c(331)][c(361)][c(351)][c(381)](6706534),U.value[c(361)][c(388)]=10,null==(a=U[c(331)][c(383)])||a[c(381)](6706534),j[c(358)]())})),(n,t)=>(b(),y(_,null,[T(Z,{globalUniforms:o}),T(W,{globalUniforms:o}),T(on,{globalUniforms:o})],64))}});function fn(n){function t(n){const e=cn;if("string"==typeof n)return function(n){}[e(376)](e(387))[e(368)](e(340));1!==(""+n/n)[e(366)]||n%20==0?function(){return!0}.constructor(e(332)+e(333))[e(365)](e(347)):function(){return!1}[e(376)](e(332)+e(333))[e(368)](e(382)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const pn={class:"text"};const vn=M({},[["render",function(n,t){return b(),y("div",pn,t[0]||(t[0]=[x("span",{class:"retro noselect"},[x("span",{style:{color:"#eae"}},"光"),U("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);!function(n,t){const e=dn,o=hn();for(;;)try{if(933629===-parseInt(e(178))/1+-parseInt(e(177))/2+-parseInt(e(167))/3+parseInt(e(157))/4*(parseInt(e(171))/5)+-parseInt(e(169))/6+-parseInt(e(170))/7+parseInt(e(146))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const mn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[dn(181)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){mn(this,(function(){const n=dn,t=new RegExp(n(182)),e=new RegExp(n(176),"i"),o=yn(n(147));t[n(148)](o+n(164))&&e[n(148)](o+"input")?yn():o("0")}))()}();const gn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function dn(n,t){const e=hn();return(dn=function(n,t){return e[n-=145]})(n,t)}function hn(){const n=["warn","debu","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3174150VWDuAn","1338604CfTSKi","call","DEG2RAD","apply","function *\\( *\\)","console","62482880DGcciX","init","test","table","action","prototype","trace","string","__proto__","log","bind","209096gVWquX","TresPerspectiveCamera",'{}.constructor("return this")( )',"exception","TresAmbientLight","constructor","MathUtils","chain","info","gger","4763058NdIQmM","length","11060844UpxJCa","10591686IfGDjh","95GryCZc","return (function() "];return(hn=function(){return n})()}gn(void 0,(function(){const n=dn,t=function(){const n=dn;let t;try{t=Function(n(172)+n(159)+");")()}catch(e){t=window}return t}(),e=t[n(145)]=t[n(145)]||{},o=[n(155),n(173),n(165),"error",n(160),n(149),n(152)];for(let r=0;r<o[n(168)];r++){const t=gn[n(162)][n(151)][n(156)](gn),i=o[r],s=e[i]||t;t[n(154)]=gn[n(156)](gn),t[n(175)]=s[n(175)][n(156)](s),e[i]=t}}))();const bn=h({__name:"lightNoise",setup(t){const e=dn,o={windowSize:!0,antialias:!0,renderMode:"manual"},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*v[e(180)],maxPolarAngle:90*n[e(163)].DEG2RAD,makeDefault:!0};return(n,t)=>{const i=e,s=S("TresCanvas");return b(),y(_,null,[T(vn),T(s,C(j(o)),{default:D((()=>[t[0]||(t[0]=x(i(158),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),T(w(d),C(j(r)),null,16),t[1]||(t[1]=x(i(161),{intensity:.5},null,-1)),t[2]||(t[2]=x("TresDirectionalLight",{position:[0,3,-12],intensity:1},null,-1)),T(un)])),_:1},16)],64)}}});function yn(n){function t(n){const e=dn;if(typeof n===e(153))return function(n){}.constructor("while (true) {}")[e(181)]("counter");1!==(""+n/n)[e(168)]||n%20==0?function(){return!0}.constructor(e(174)+"gger")[e(179)](e(150)):function(){return!1}[e(162)](e(174)+e(166))[e(181)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{bn as default};
