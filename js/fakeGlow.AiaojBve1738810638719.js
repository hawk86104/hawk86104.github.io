import{o as n,J as t}from"./@tresjs.8axf5yqM1738810638719.js";import{l as o,a_ as e,C as r,aX as i,a0 as a,y as s,_ as l}from"./three.6w8Allze1738810638719.js";import{P as c}from"./tweakpane.yDiyAAkA1738810638719.js";import{d as u,r as f,a2 as p,e as g,o as d,f as m,g as v,N as w,j as h,u as y,al as b}from"./@vue.NRI7TcgI1738810638719.js";import"./@vueuse.hJpps2zM1738810638719.js";function I(n,t){var o=S();return(I=function(n,t){return o[n-=115]})(n,t)}!function(n,t){for(var o=I,e=S();;)try{if(667691===parseInt(o(159))/1*(-parseInt(o(125))/2)+parseInt(o(164))/3*(parseInt(o(122))/4)+parseInt(o(162))/5+-parseInt(o(149))/6*(-parseInt(o(140))/7)+parseInt(o(141))/8+parseInt(o(130))/9*(parseInt(o(168))/10)+parseInt(o(155))/11*(-parseInt(o(161))/12))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[I(144)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){j(this,(function(){var n=I,t=new RegExp(n(118)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=C("init");t[n(146)](e+n(121))&&o[n(146)](e+n(115))?C():e("0")}))()}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[I(144)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();x(void 0,(function(){var n,t=I;try{n=Function(t(153)+t(150)+");")()}catch(l){n=window}for(var o=n[t(133)]=n[t(133)]||{},e=[t(152),t(143),t(137),t(138),t(166),t(142),t(131)],r=0;r<e.length;r++){var i=x.constructor[t(156)].bind(x),a=e[r],s=o[a]||i;i[t(126)]=x[t(124)](x),i[t(129)]=s.toString[t(124)](s),o[a]=i}}))();const _=class extends o{constructor(n={}){var t=I;super(),this[t(119)]=t(117),this[t(165)]=t(151),this.uniforms={opacity:new e(void 0!==n[t(148)]?n.opacity:1),glowInternalRadius:new e(void 0!==n[t(145)]?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n[t(135)]?n[t(135)]:.5),falloff:new e(void 0!==n[t(147)]?n[t(147)]:.1),glowColor:new e(void 0!==n[t(158)]?new r(n.glowColor):new r("#00d5ff"))},this[t(160)](n),this[t(132)]=void 0!==n[t(132)]&&n[t(132)],this[t(163)]=void 0!==n.blendMode?n[t(154)]:i,this[t(139)]=!0,this[t(127)]=void 0!==n.side?n[t(127)]:a}};function C(n){function t(n){var o=I;if(typeof n===o(120))return function(n){}[o(123)](o(134)).apply(o(167));1!==(""+n/n).length||n%20==0?function(){return!0}[o(123)]("debugger")[o(128)](o(157)):function(){return!1}.constructor(o(136)+o(116)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}function S(){var n=["warn","apply","glowInternalRadius","test","falloff","opacity","6RsFeHs",'{}.constructor("return this")( )',"\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","log","return (function() ","blendMode","22VYUBcJ","prototype","action","glowColor","35649EUMNGY","setValues","12434892sonfWV","4949415kUZuGg","blending","123894iyIsRF","fragmentShader","exception","counter","790GthcRD","input","gger","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","function *\\( *\\)","vertexShader","string","chain","16jWwkqg","constructor","bind","22zEECoe","__proto__","side","call","toString","56961RkDdlf","trace","depthTest","console","while (true) {}","glowSharpness","debu","info","error","transparent","995071zbnUsa","10680744AMYBGn","table"];return(S=function(){return n})()}!function(n,t){const o=k,e=P();for(;;)try{if(118134===parseInt(o(219))/1+parseInt(o(230))/2*(parseInt(o(178))/3)+-parseInt(o(199))/4+parseInt(o(234))/5*(-parseInt(o(217))/6)+parseInt(o(223))/7+parseInt(o(176))/8*(parseInt(o(210))/9)+-parseInt(o(193))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[k(208)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){R(this,(function(){const n=k,t=new RegExp(n(212)),o=new RegExp(n(189),"i"),e=N(n(175));t[n(188)](e+n(180))&&o[n(188)](e+n(227))?N():e("0")}))()}();const G=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[k(208)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function k(n,t){const o=P();return(k=function(n,t){return o[n-=173]})(n,t)}G(void 0,(function(){const n=k;let t;try{t=Function(n(211)+n(192)+");")()}catch(r){t=window}const o=t.console=t[n(229)]||{},e=[n(225),n(241),"info",n(187),n(200),"table",n(232)];for(let i=0;i<e.length;i++){const t=G.constructor[n(196)][n(181)](G),r=e[i],a=o[r]||t;t[n(209)]=G.bind(G),t[n(235)]=a.toString[n(181)](a),o[r]=t}}))();const z={position:[0,6,0]},M=["object"];function P(){const n=["内半径","TorusKnotGeometry","879652HQPQkV","exception","glowInternalRadius","DoubleSide","uniforms","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","neg-x.jpg","constructor","glowColor","apply","__proto__","18fCozYe","return (function() ","function *\\( *\\)","#a058c1","Color","TresGridHelper","neg-z.jpg","139452LMhCvK","TresGroup","213414omGwmp","call","primitive","TresPerspectiveCamera","185780urDcib","blue","log","falloff","input","side","console","323086NWZCet","TresTorusKnotGeometry","trace","value","10EwGoys","toString","BackSide","Mesh","TresMeshPhysicalMaterial","length","while (true) {}","warn","TresMesh","pos-x.jpg","neg-y.jpg","action","string","init","819768GZgfbC","addBinding","3wDNgom","pos-y.jpg","chain","bind","glowSharpness","opacity","gger","TresAmbientLight","TresDirectionalLight","error","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","debu",'{}.constructor("return this")( )',"2219080nBtvHF","FrontSide","TresCanvas","prototype"];return(P=function(){return n})()}const T=u({__name:"fakeGlow",setup(o){const e=k,r=new c({title:"辉光参数",expanded:!0}),i=f({glowColor:e(213),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),a=new _,u=new(l[e(237)])(new(l[e(198)])(4,3.8,128,128),a);return r[e(177)](i,"glowColor",{label:"颜色"}),r[e(177)](i,e(226),{label:"衰减",min:0,max:10,step:.1}),r[e(177)](i,e(201),{label:e(197),min:-5,max:5,step:.1}),r[e(177)](i,e(182),{label:"清晰度",min:0,max:10,step:.1}),r[e(177)](i,e(183),{label:"透明",min:0,max:1,step:.1}),r.addBinding(i,e(228),{label:"材质面",options:{FrontSide:l[e(194)],BackSide:l[e(236)],DoubleSide:l[e(202)]}}),p((()=>{const n=e;a[n(203)][n(226)][n(233)]=i.falloff,a[n(203)][n(207)][n(233)]=new(l[n(214)])(i.glowColor),a[n(203)].glowInternalRadius[n(233)]=i[n(201)],a.uniforms[n(182)].value=i[n(182)],a[n(203)][n(183)][n(233)]=i[n(183)],a[n(228)]=i[n(228)]})),(o,r)=>{const i=e,a=g(i(195));return d(),m(a,{"window-size":""},{default:v((()=>[r[1]||(r[1]=w(i(222),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=w(i(185),{intensity:1.5},null,-1)),r[3]||(r[3]=w(i(186),{position:[100,100,60],intensity:20},null,-1)),h(y(n),{autoRotate:""}),r[4]||(r[4]=w(i(215),{args:[20,10]},null,-1)),w(i(218),z,[r[0]||(r[0]=w(i(242),null,[w(i(231),{args:[4,.5,128,128]}),w(i(238),{color:i(224),roughness:.2,clearcoat:1})],-1)),w(i(221),{object:y(u)},null,8,M)]),(d(),m(b,null,{default:v((()=>[h(y(t),{files:[i(243),i(205),i(179),i(244),"pos-z.jpg",i(216)],path:i(204)})])),_:1}))])),_:1})}}});function N(n){function t(n){const o=k;if(typeof n===o(174))return function(n){}[o(206)](o(240))[o(208)]("counter");1!==(""+n/n)[o(239)]||n%20==0?function(){return!0}[o(206)](o(191)+o(184))[o(220)](o(173)):function(){return!1}[o(206)](o(191)+o(184))[o(208)](o(190)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{T as default};
