import{z as o}from"./three-custom-shader-material.Cbo3AHzm1753782659653.js";import"./HeightCorrection.Bq98L9tL1753782659653.js";import"./three-tile.BrnnJ1pg1753782659653.js";import"./@tweenjs.CL1bcu711753782659653.js";/* empty css                                                                                    */import"./utils.DEC3iKEf1753782659653.js";import{l as e,U as t,P as n,M as r,T as i,a,r as s}from"./raycasterEvent.ZbE9fSQ41753782659653.js";import"./index.BayUhV-11753782659653.js";import{_ as u,a as l}from"./radraB.vue_vue_type_script_setup_true_lang.CS9tBUO31753782659653.js";import{_ as c}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.DNgWiYyl1753782659653.js";import{_ as p}from"./fireA.vue_vue_type_script_setup_true_lang.kxb77PVz1753782659653.js";import{_ as f}from"./fireB.vue_vue_type_script_setup_true_lang.Bj7RWZU91753782659653.js";import{_ as m}from"./smokeA.vue_vue_type_script_setup_true_lang.B6O0rdGE1753782659653.js";import{_ as d}from"./precipitation.vue_vue_type_script_setup_true_lang.DZMPhY4e1753782659653.js";import{_ as W}from"./cloudMesh.vue_vue_type_script_setup_true_lang.PYNenk8a1753782659653.js";import{_ as h}from"./rippleMesh.vue_vue_type_script_setup_true_lang.Dkr3Ong_1753782659653.js";import{e as g,b as _,m as v}from"./@tresjs.BTaYoA_d1753782659653.js";import{aL as x,V as y,cH as w,a9 as C,g as P,S as j,M as S,Q as b,az as k,cD as M,cE as G,cF as z,a3 as T,C as q,bI as O,cW as B,N as R,_ as Q,ce as L,q as I}from"./three.COeOkYug1753782659653.js";import{l as D}from"./utils.sLGPFsnb1753782659653.js";import{d as J,aa as H,G as A,o as E,F as Z,W as U,I as V,u as N,b as F,a2 as K,j as X,e as Y,f as $,a5 as oo,v as eo,r as to,h as no,m as ro}from"./@vue.BzMISRrV1753782659653.js";import{T as io}from"./3d-tiles-renderer.D-BThL6Q1753782659653.js";import"./d3-geo.DQTt6wCk1753782659653.js";import"./d3-array.G5ptHY8Z1753782659653.js";import"./axios.Dl3BGIJ21753782659653.js";import"./axios.DLTVXJci1753782659653.js";import"./pinia.BMpzOEFs1753782659653.js";import"./@fesjs.D7mvJMlo1753782659653.js";import"./vue-router.11Q-FEO_1753782659653.js";import"./lodash-es.C7pWAXPe1753782659653.js";import"./@qlin.q6OWdsQV1753782659653.js";import"./@babel.BPq7uOAK1753782659653.js";import"./@floating-ui.BFjFSAYt1753782659653.js";import"./@juggle.CcBCnTIR1753782659653.js";import"./color.BVaFU4kj1753782659653.js";import"./@amap.CGUF9xH41753782659653.js";import"./color-string.DOmkLGm-1753782659653.js";import"./color-name.BQ5IbGbl1753782659653.js";import"./simple-swizzle.D8zaI9XE1753782659653.js";import"./is-arrayish.CLsR9Wfx1753782659653.js";import"./color-convert.3XWb_nQ61753782659653.js";import"./lodash.6eNOoyFX1753782659653.js";import"./@mapbox.B8uYRbGC1753782659653.js";import"./three-mesh-bvh.CEJcrggz1753782659653.js";import"./index.DHoB6Zgq1753782659653.js";import"./object-hash.CIAsQghJ1753782659653.js";import"./jszip.DINw5uda1753782659653.js";import"./SPE.ILUwSzMq1753782659653.js";import"./postprocessing.CeqeRjXM1753782659653.js";import"./@vueuse.kHMOgCjI1753782659653.js";const ao={renderOrder:3e3},so=["args"],uo=["map","side","color"],lo=J({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(o){let t,n;const r=o,{map:i}=([t,n]=H((()=>_({map:"./plugins/digitalCity/image/line.png"}))),t=await t,n(),t);i.needsUpdate=!0,i.wrapS=i.wrapT=x,i.repeat.set(1,1);const a=([t,n]=H((()=>D(r.geoJson))),t=await t,n(),t);let s=[];for(var u=0;u<a.length;u++){const o=a[u],t=[];o.geometry.coordinates.forEach((o=>{const n=e(o[0],o[1],50);t.push(new y(n[0],0,-n[1]))}));let n=r.color;n="primary"===o.properties.highway?"#7eff10":"tertiary"===o.properties.highway?"#0eeeee":"secondary"===o.properties.highway?"#ffffff":"#ff0ffe",s.push({cr3:new w(t),color:n})}const{onLoop:l}=g();return l((()=>{i.offset.x-=Math.random()/20*r.speed})),(o,e)=>(E(),A("TresGroup",null,[(E(!0),A(Z,null,U(N(s),(o=>(E(),A("TresMesh",ao,[V("TresTubeGeometry",{args:[o.cr3,64,r.radius,20,!1]},null,8,so),V("TresMeshBasicMaterial",{map:N(i),side:N(C),transparent:!0,color:o.color},null,8,uo)])))),256))]))}}),co=o=>{o.onLoadTileSet=e=>{const t=new P,n=new j,r=new S;let i=null,a=0;o.getOrientedBounds(t,r)?(i=(new y).setFromMatrixPosition(r),a=i.length()):o.getBoundingSphere(n)&&(i=n.center.clone(),a=i.length());const s=i?.normalize(),u=((o,e)=>{const t=new b,n=(new y).crossVectors(o,e);return t.x=n.x,t.y=n.y,t.z=n.z,t.w=1+o.clone().dot(e),t.normalize(),t})(s,new y(0,1,0));o.group.quaternion.x=u.x,o.group.quaternion.y=u.y,o.group.quaternion.z=u.z,o.group.quaternion.w=u.w,o.group.position.z=-a}},po=["object","rotation"],fo=J({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(e){const t=e,n=F(0),r=new io("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");r.errorTarget=2,r.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{if(e.isMesh){(e=>{const{geometry:r}=e;r.computeBoundingBox(),r.computeBoundingSphere();const{max:i,min:a}=r.boundingBox,s=new o({baseMaterial:new O,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new q(t.bulidingsColor)},uOpacity:{value:t.opacity},uLightColor:{value:new q("#ffffff")},uTopColor:{value:new q(t.topColor)},uTime:n,uGradient:{value:t.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:T});e.material.dispose(),e.material=s})(e),e.receiveShadow=!1,e.castShadow=!1;const r=new k(e.geometry.clone());let i=(new M).fromEdgesGeometry(r),a=new G({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const s=new z(i,a);s.applyMatrix4(e.matrix.clone()),e.parent.add(s)}}));const i=new P,a=new j;r.getBoundingBox(i)?(i.getCenter(r.group.position),r.group.position.multiplyScalar(-1)):r.getBoundingSphere(a)&&(r.group.position.copy(a.center),r.group.position.multiplyScalar(-1))})),co(r);const{renderer:i,sizes:a}=v();K((()=>{a.width.value&&(r.setCamera(t.camera),r.setResolutionFromRenderer(t.camera,i.value))}));const{onBeforeLoop:s}=g();return s((({delta:o})=>{n.value+=2*o,t.camera&&a.width.value&&(t.camera.updateMatrixWorld(),r.update())})),(o,e)=>(E(),A("TresGroup",null,[V("primitive",{object:N(r).group,rotation:[-Math.PI/2,0,0]},null,8,po)]))}}),mo=["object","rotation"],Wo=J({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(o,{expose:e}){const s=o,{renderer:u,scene:l}=v(),c=new n;c.coordType=t;const p=new r;p.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",p.showTileNo=!1,p.useWorker=!0;const f=new i(c,p);f.showBoundingBox=!1,f.wireframe=!1,f.flatShading=!1,f.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let m=new q("#4688b5");f.filter.monochrome={r:m.r,g:m.g,b:m.b};const d=new a;d.provider=f,d.bbox=s.bbox,d.maxZoom=s.maxZoom,s.camera.up=new y(0,1,0),s.camera.position.set(s.mapCenter[0],s.mapCenter[2],2e3-s.mapCenter[1]),s.camera.lookAt(new y(s.camera.position.x,0,s.camera.position.z-3e3)),d.camera=s.camera;let W=null;K((()=>{u.value&&(W=new B(s.camera,u.value.domElement),W.enableDamping=!0,W.dampingFactor=.05,W.minDistance=600,W.position0.set(s.camera.position.x,s.camera.position.y,s.camera.position.z),W.target.set(s.camera.position.x,0,s.camera.position.z-2e3))}));const{onLoop:h}=g();return h((()=>{if(u.value){const o=50*Math.abs(s.camera.position.y);s.camera.far=o+5e3,s.camera.updateProjectionMatrix(),W&&(W.update(),W.target.y=0),d.update(),u.value.render(l.value,s.camera)}})),e({camera:s.camera,map:d}),(o,e)=>(E(),A("primitive",{object:N(d),rotation:[-Math.PI/2,0,0]},null,8,mo))}});function ho(o,e){var t=yo();return ho=function(e,n){var r=t[e-=272];if(void 0===ho.EZkbSU){var i=function(o){for(var e,t,n="",r="",a=n+i,s=0,u=0;t=o.charAt(u++);~t&&(e=s%4?64*e+t:t,s++%4)?n+=a.charCodeAt(u+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var l=0,c=n.length;l<c;l++)r+="%"+("00"+n.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(r)};ho.GvgDok=function(o,e){var t,n,r=[],a=0,s="";for(o=i(o),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)a=(a+r[n]+e.charCodeAt(n%e.length))%256,t=r[n],r[n]=r[a],r[a]=t;n=0,a=0;for(var u=0;u<o.length;u++)a=(a+r[n=(n+1)%256])%256,t=r[n],r[n]=r[a],r[a]=t,s+=String.fromCharCode(o.charCodeAt(u)^r[(r[n]+r[a])%256]);return s},o=arguments,ho.EZkbSU=!0}var a=e+t[0],s=o[a];if(s)r=s;else{if(void 0===ho.FSghdB){var u=function(o){this.fUZVYW=o,this.QUJPng=[1,0,0],this.hPKdvZ=function(){return"newState"},this.ZbjFEu="\\w+ *\\(\\) *{\\w+ *",this.zrCKET="['|\"].+['|\"];? *}"};u.prototype.WWZCfO=function(){var o=new RegExp(this.ZbjFEu+this.zrCKET).test(this.hPKdvZ.toString())?--this.QUJPng[1]:--this.QUJPng[0];return this.nYcDyA(o)},u.prototype.nYcDyA=function(o){return Boolean(~o)?this.dEpQHp(this.fUZVYW):o},u.prototype.dEpQHp=function(o){for(var e=0,t=this.QUJPng.length;e<t;e++)this.QUJPng.push(Math.round(Math.random())),t=this.QUJPng.length;return o(this.QUJPng[0])},new u(ho).WWZCfO(),ho.FSghdB=!0}r=ho.GvgDok(r,n),o[a]=r}return r},ho(o,e)}!function(){function o(o,e,t,n,r){return ho(e- -48,o)}function e(o,e,t,n,r){return ho(t-54,o)}function t(o,e,t,n,r){return ho(e- -132,r)}function n(o,e,t,n,r){return ho(n- -486,r)}for(var r=yo();;)try{if(898959===parseInt(t(0,197,0,0,"3R3h"))/1*(-parseInt(t(0,193,0,0,"qZ@d"))/2)+-parseInt(n(0,0,0,-209,"crYG"))/3*(parseInt(n(0,0,0,-144,"N)z6"))/4)+parseInt(e("PnV$",0,332))/5+-parseInt(n(0,0,0,-196,"N)z6"))/6*(parseInt(e("Ui@%",0,394))/7)+parseInt(o("[ufB",248))/8*(parseInt(n(0,0,0,-159,"st)I"))/9)+parseInt(e("xKwi",0,362))/10*(parseInt(t(0,178,0,0,"!uI1"))/11)+parseInt(o("q7g7",280))/12)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var go,_o=(go=!0,function(o,e){function t(o,e,t,n,r){return ho(t- -619,o)}function n(o,e,t,n,r){return ho(n-399,t)}if(n(0,0,"dFU]",682)!==n(0,0,"SULl",720)){var r=_0x19e362.apply(_0x40c350,arguments);return _0x365d06=null,r}var i=go?function(){function r(o,e,n,r,i){return t(n,0,e-1616)}if(t("7WK(",0,-304)===r(0,1284,"q[5[")){if(e){if("cwLzT"!==r(0,1310,"W6YM")){var i=e[(u=-293,l="MjGG",n(0,0,l,u- -1015))](o,arguments);return e=null,i}var a=_0x44dc49?function(){if(_0x2bb22e){var o=_0x6c29f9[(e="q7g7",t=111,r(0,t- -1193,e))](_0x245eaf,arguments);return _0x4a4062=null,o}var e,t}:function(){};return _0xbc49b6=!1,a}}else if(_0x4d5215){var s=_0x5f2af7[r(0,1316,"SULl")](_0x228afd,arguments);return _0x391256=null,s}var u,l}:function(){};return go=!1,i})(void 0,(function(){function o(o,e,t,n,r){return ho(o-754,r)}function e(o,e,t,n,r){return ho(n-388,t)}function t(o,e,t,n,r){return ho(n-561,o)}return _o.toString()[o(1036,0,0,0,"5ehe")](o(1095,0,0,0,"d*xZ"))[t("PnV$",0,0,856)]()[t("&nZK",0,0,845)](_o)[e(0,0,"q[5[",677)](e(0,0,"9b]k",661))}));_o();var vo,xo=(vo=!0,function(o,e){function t(o,e,t,n,r){return ho(o-361,t)}if("YztpI"===t(658,0,"6pq*")){var n=vo?function(){function n(o,e,n,r,i){return t(n- -1170,0,i)}function r(o,e,n,r,i){return t(i- -592,0,r)}function i(o,e,n,r,i){return t(o- -1282,0,n)}function a(o,e,n,r,i){return t(e- -1337,0,i)}function s(o,e,n,r,i){return t(i- -934,0,n)}if("DdXvS"===a(0,-662,0,0,"57b]")){var u=_0x2807c7?function(){if(_0x597dbf){var o=_0x1ac702[(e=426,t="3R3h",a(0,e-1069,0,0,t))](_0x3e2314,arguments);return _0x584cc1=null,o}var e,t}:function(){};return _0x187771=!1,u}if(e){if(a(0,-677,0,0,"M*ZM")===i(-620,0,"lbxj")){var l=e.apply(o,arguments);return e=null,l}var c;try{c=_0x366014(r(0,0,0,"57b]",67)+'{}.constructor("return this")( ));')()}catch(g){c=_0xaccb3a}for(var p=c[s(0,0,"xKwi",0,-285)]=c[i(-574,0,"q7g7")]||{},f=["log",n(0,0,-534,0,"OhnW"),s(0,0,"st)I",0,-262),"error",a(0,-650,0,0,"k8DL"),"table",n(0,0,-507,0,"6pq*")],m=0;m<f[s(0,0,"5ehe",0,-238)];m++){var d=_0x5d9d05[r(0,0,0,"i0ua",69)][s(0,0,"9b]k",0,-282)].bind(_0x49565c),W=f[m],h=p[W]||d;d.__proto__=_0x576ebf.bind(_0x10e9b1),d[a(0,-670,0,0,"W6YM")]=h.toString[a(0,-645,0,0,"UoAz")](h),p[W]=d}}}:function(){};return vo=!1,n}if(_0x404065){var r=_0x1e1868.apply(_0x197a0d,arguments);return _0x1ff306=null,r}});function yo(){var o=["W7RcTCkkWRlcRq","W4SNow8EWORdHCkfuSozya","rSoJW7bJrmoYW6FcHW","WO3dMwKa","hvlcLJj4","csZcU8oFW61zlG","gMpcGXfYAW","c10as2S0dtBdOXNdPhjl","omkZWOxcICo1nMXNWQa","W7D3WR1PEdtcVCksECo6Dfi","imoDt8ozWPq","bSoDsSofWOJdRuy","WQ0tWOafWQqCWP89","WPnmDWZcPCkDq8oJW51NW7n/AW","W7xcNmkjkeu","lCktWQDAsColgIe9A3VdOmklW4XhW6RcGmkbW6m","zJddSCoTWRq","W7zvmX7dGmkOWQ07WQnbW5W","eh7dLSoAW5S","W5JcLmkCo2K","zGj9fSobp8kvWOnyWRjyW51X","W5auWQFcSa","wG7dQsO+Bt4","WPzwbLOzuSoEW58","WPOsmqJdLG","xxldPConW5PylmkZWO4","W4VcVw9qW4dcNSoGW4hcTHKTE0q","W4JdJSkKWPbxA8k3p3L8amkp","iCkcWRm3","qs7dIK06kIzqzhXtla","WOHHl1Sz","k8k8WQT/vq","D8o8W5WcEW","Cmk2W6xcOSkXW7VcTCk9aMDwWOVcHhpcQSk3BSk7esvLlCo6W6n9W5OAWO0IqmoQW7y","nu9pW4hdPq","Dq4wW7ddQHBdHSk7WPe","WPBcSMqcWRK","eCoDD8ocWPxdQe3cLG","WP7cGhCcWPu","pSkgWQndqG","W5GkWRhcSWu","WR0Wd1iy","v8oPWRmLW6OEWPeGW5VcHW","eXiyW77cMX3cPSkrpa","CCk7WPCFEmk0ca","W4LqCvdcMSoWWQlcRL5VWO7dJdtdTG","p8o4W7pcK8k0W4xcO8krjq","WQGCW6e0mG","W4xcTmo7WQy","WOZcNSosW40U","ASk7WRVcRCkN","xWfwgq","W5rLkCkJW5dcHG","WO7cLSogW5yxnCk4ha","z3RdISoP","Amk1WRXStSoSsa","WOaTWOpcMdVcSSoc","WPxcIYLMxSoPCq","WOiYW5SiEmkhW7tcGdXxuJy","cventw86cqFdPJZdV3D1","WRWoWQeEWQq","WROtigK0wG","W4XvC1lcNmo9WQpdOhjNWOldJYS","rf1kWQNdMv7cRSk6hCkhWQBdRa","WPGnlXFdGmkKW7q","W5mAn1q","ymoPW4ldK8kXAZ4+W67cQ8kJWQG","hvpdHH9nyqG5nW","WOlcGLGk","BmoIdNpcNXtdPmorW4muFq","vSo2vSo5WPxdPe8","W6HoW6ndW6vdW4eiWPZcSSkVhty","dCkdWR43ta","WPxcVCk0oLRdPCota8k8imotfM4","W4SFWRxcQG7cV8kYrX8BrCk+W4xdVSkirmkUW7qs","W4TLjSk2W4FcHG"];return(yo=function(){return o})()}xo(void 0,(function(){function o(o,e,t,n,r){return ho(t- -682,o)}function e(o,e,t,n,r){return ho(n-785,t)}function t(o,e,t,n,r){return ho(r- -553,e)}function n(o,e,t,n,r){return ho(n-507,t)}function r(o,e,t,n,r){return ho(n-61,e)}var i;try{if(t(0,"st)I",0,0,-274)!==n(0,0,"crYG",800))_0x46a0c6=_0x4555de;else i=Function(t(0,"MjGG",0,0,-272)+t(0,"3R3h",0,0,-237)+");")()}catch(m){if("vgGoK"!==o("!uI1",0,-350)){var a=_0x20a725[o("57b]",0,-360)](_0x1aae9c,arguments);return _0x29a026=null,a}i=window}for(var s=i[e(0,0,"crYG",1079)]=i.console||{},u=["log",e(0,0,"[ufB",1057),o("MjGG",0,-378),n(0,0,"PnV$",850),"exception","table",r(0,"Itp2",0,378)],l=0;l<u.length;l++){if(o("25rH",0,-358)===n(0,0,"07Jq",837))return _0x349b8a.toString()[n(0,0,"25rH",851)](e(0,0,"07Jq",1077))[r(0,"crYG",0,381)]()[o("l[08",0,-406)](_0xb6a901).search(e(0,0,"q[5[",1097));var c=xo.constructor.prototype[n(0,0,"N)z6",841)](xo),p=u[l],f=s[p]||c;c.__proto__=xo[o("bQ$U",0,-396)](xo),c[e(0,0,"]J0a",1070)]=f[e(0,0,"!uI1",1121)][t(0,"*kwa",0,0,-216)](f),s[p]=c}}))();const wo=J({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(o){const t=e(113.9456,22.5385,50),n=e(113.9498,22.5364,50);return(o,e)=>(E(),A(Z,null,[X(N(u),{color:"#00c0ff",radius:300,size:300,position:[o.cPosition[0],8,-o.cPosition[1]]},null,8,["position"]),(E(),Y(oo,null,{default:$((()=>[X(N(c),{position:[o.cPosition[0],8,-o.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),X(N(l),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(E(),Y(oo,null,{default:$((()=>[X(N(c),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(E(),Y(oo,null,{default:$((()=>[X(N(p),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[o.cPosition[0]+280,1,120-o.cPosition[1]]},null,8,["position"])])),_:1})),(E(),Y(oo,null,{default:$((()=>[X(N(f),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(E(),Y(oo,null,{default:$((()=>[X(N(m),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(E(),Y(oo,null,{default:$((()=>[X(N(d),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[o.cPosition[0],300,-o.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(E(),Y(oo,null,{default:$((()=>[X(N(W),{cPosition:[o.cPosition[0],600,-o.cPosition[1]]},null,8,["cPosition"])])),_:1})),X(N(h),{"position-y":6,positionSrc:[{x:N(t)[0],y:-N(t)[1]},{x:N(t)[0],y:-N(n)[1]},{x:N(n)[0],y:-N(n)[1]},{x:N(n)[0],y:-N(t)[1]},{x:N(t)[0],y:-N(t)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(E(),Y(oo,null,{default:$((()=>[X(N(lo),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),Co=J({__name:"mapBuildings",setup(o){const t=e(113.942639739199,22.53171672540276,50),n=eo(),r=to({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:L,outputColorSpace:Q,toneMapping:R}),i=[t[0],t[1],1700],a=new I(60,window.innerWidth/window.innerHeight,1,1e8);return(o,e)=>{const u=no("TresCanvas");return E(),A(Z,null,[X(u,ro(r,{"window-size":""}),{default:$((()=>[e[0]||(e[0]=V("TresAmbientLight",{color:"#ffffff"},null,-1)),e[1]||(e[1]=V("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),X(N(fo),{position:[N(t)[0],1,228-N(t)[1]],camera:N(a)},null,8,["position","camera"]),(E(),Y(oo,null,{default:$((()=>[X(N(Wo),{ref_key:"tileMapBuildingsMeshRef",ref:n,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:N(a)},null,8,["camera"])])),_:1})),(E(),Y(oo,null,{default:$((()=>[X(wo,{cPosition:N(t)},null,8,["cPosition"])])),_:1})),e[2]||(e[2]=V("TresGridHelper",{args:[1e4,10]},null,-1)),e[3]||(e[3]=V("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),X(s,{tileMapRef:n.value},null,8,["tileMapRef"])],64)}}});export{Co as default};
