import{bQ as t,_ as n,a0 as o}from"./three.8H01GNxA1736128832096.js";import{b as r}from"./@tresjs.pA0fT6uQ1736128832096.js";import{d as e,b as s,a4 as a,w as c,o as i,D as u,J as f,aj as l,ak as p}from"./@vue.yG49nQHr1736128832096.js";!function(t,n){const o=d,r=g();for(;;)try{if(350440===-parseInt(o(374))/1+-parseInt(o(335))/2+-parseInt(o(352))/3*(parseInt(o(344))/4)+-parseInt(o(351))/5*(parseInt(o(337))/6)+-parseInt(o(343))/7+parseInt(o(350))/8*(-parseInt(o(375))/9)+parseInt(o(377))/10*(parseInt(o(336))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(369)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(){const t=["apply","return (function() ","gger","shadowmap_pars_vertex","\n      \t","296321ouxHtp","63GltRpK","bind","10CAjrfL","length","string","error","\n       void main() {\n\t\t\t\t\t","info","console","bsdfs","1085576UMGSwy","25741727pPrSqC","20454MQmtHw","\n\t ","common","toString","test","shadowmask_pars_fragment","635649gScwQC","4YfTaqd","stateObject","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","warn","call","table","73384WyHYop","655wkOcBc","1647033gwOOUF","while (true) {}","\n       varying vec2 vUv;\n\t\t\t \t","input","defaultnormal_vertex","\n          ","debu",'{}.constructor("return this")( )',"prototype","constructor","function *\\( *\\)","worldpos_vertex","__proto__","log","lights_pars_begin","counter","ShaderChunk"];return(g=function(){return t})()}function d(t,n){const o=g();return(d=function(t,n){return o[t-=330]})(t,n)}!function(){h(this,(function(){const t=d,n=new RegExp(t(362)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_("init");n[t(341)](r+"chain")&&o[t(341)](r+t(355))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(369)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=d,n=function(){const t=d;let n;try{n=Function(t(370)+t(359)+");")()}catch(o){n=window}return n}(),o=n[t(333)]=n.console||{},r=[t(365),t(347),t(332),t(330),"exception",t(349),"trace"];for(let e=0;e<r[t(378)];e++){const n=m[t(361)][t(360)][t(376)](m),s=r[e],a=o[s]||n;n[t(364)]=m[t(376)](m),n[t(340)]=a.toString[t(376)](a),o[s]=n}}))();const w=()=>{const o=d;return o(354)+t[o(339)]+o(373)+n[o(368)][o(334)]+o(373)+n[o(368)][o(372)]+o(331)+n[o(368)].beginnormal_vertex+o(357)+n[o(368)][o(356)]+o(357)+t.begin_vertex+o(357)+n[o(368)].project_vertex+o(357)+n[o(368)][o(363)]+o(357)+n[o(368)].shadowmap_vertex+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},v=()=>{const t=d;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[t(368)][t(339)]+t(338)+n[t(368)].packing+t(338)+n[t(368)].bsdfs+t(338)+n[t(368)][t(366)]+t(338)+n[t(368)].shadowmap_pars_fragment+t(338)+n[t(368)][t(342)]+t(346)};function _(t){function n(t){const o=d;if(typeof t===o(379))return function(t){}[o(361)](o(353))[o(369)](o(367));1!==(""+t/t)[o(378)]||t%20==0?function(){return!0}[o(361)](o(358)+o(371))[o(348)]("action"):function(){return!1}.constructor(o(358)+o(371)).apply(o(345)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=y;!function(t,n){const o=y,r=U();for(;;)try{if(796372===-parseInt(o(145))/1*(parseInt(o(179))/2)+parseInt(o(174))/3*(-parseInt(o(181))/4)+-parseInt(o(160))/5*(parseInt(o(196))/6)+-parseInt(o(193))/7+parseInt(o(186))/8+-parseInt(o(156))/9*(-parseInt(o(148))/10)+-parseInt(o(172))/11*(-parseInt(o(178))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(147)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=y,n=new RegExp(t(167)),o=new RegExp(t(150),"i"),r=M(t(182));n[t(153)](r+"chain")&&o[t(153)](r+t(162))?M():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(147)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function y(t,n){const o=U();return(y=function(t,n){return o[t-=143]})(t,n)}I(void 0,(function(){const t=y;let n;try{n=Function(t(155)+'{}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(197)]=n[t(197)]||{},r=[t(185),t(158),"info",t(165),"exception","table","trace"];for(let s=0;s<r.length;s++){const n=I[t(154)][t(195)][t(166)](I),e=r[s],a=o[e]||n;n[t(152)]=I.bind(I),n[t(169)]=a.toString.bind(a),o[e]=n}}))();const S=["rotation-x"],C=[b(171)];function U(){const t=["Color","error","bind","function *\\( *\\)","UniformsUtils","toString","stateObject","args","55yhNcoU","action","15sWUkxX","merge","uColor","wrapS","6811980qRfuLq","8bAIJgo","color","293792FwDpfW","init","counter","size","log","10079352sJbKNp","uShadowColor","TresMesh","debu","whiteFloorMesh","shadowColor","edge","10119914XJErEU","#990","prototype","885954uRLcRY","console","wrapT","while (true) {}","207563mJUeOD","uniforms","apply","265390bmfzNV","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","__proto__","test","constructor","return (function() ","27stSuhM","RepeatWrapping","warn","tmRef","25OeleGR","UniformsLib","input","fEdge"];return(U=function(){return t})()}const j=e({__name:b(190),props:{size:{default:[20,20]},color:{default:b(194)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(t){const e=b;let h,g;const d=t,m=s(),{map:_}=([h,g]=a((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,g(),h);_[e(177)]=_[e(143)]=n[e(157)];const x={uniforms:n[e(168)][e(175)]([n[e(161)].lights,{uTexture:{type:"t",value:_},uColor:{value:new(n[e(164)])(d.color)},uShadowColor:{value:new(n[e(164)])(d[e(191)])},fEdge:{type:"f",value:d[e(192)]}}]),side:o,vertexShader:w(),fragmentShader:v(),lights:!0,transparent:!0};return c((()=>d.edge),(t=>{const n=e;x[n(146)][n(163)][n(149)]=t})),c((()=>d[e(180)]),(t=>{const o=e;x.uniforms[o(176)][o(149)]=new(n[o(164)])(d[o(180)])})),c((()=>d[e(191)]),(t=>{const o=e;x[o(146)][o(187)][o(149)]=new(n[o(164)])(d[o(191)])})),(t,n)=>{const o=e;return i(),u(o(188),{ref_key:o(159),ref:m,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:d[o(184)]},null,8,C),f("TresShaderMaterial",l(p(x)),null,16)],8,S)}}});function M(t){function n(t){const o=y;if("string"==typeof t)return function(t){}.constructor(o(144))[o(147)](o(183));1!==(""+t/t).length||t%20==0?function(){return!0}[o(154)]("debugger")[o(151)](o(173)):function(){return!1}[o(154)](o(189)+"gger")[o(147)](o(170)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
