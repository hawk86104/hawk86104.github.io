import{m as n,o as t}from"./@tresjs.W3PFJhMo1741658416045.js";import{V as e,_ as o,a0 as r,cM as s,$ as c,r as i,f as a}from"./three.FyUEtfsR1741658416045.js";import{P as u}from"./tweakpane.yDiyAAkA1741658416045.js";import{d as l,b as f,q as p,a2 as w,r as d,e as h,o as m,f as b,g,N as I,j as y,u as v,aj as _,ak as j,al as k,m as x}from"./@vue.NRI7TcgI1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";!function(n,t){const e=P,o=M();for(;;)try{if(487757===-parseInt(e(240))/1*(-parseInt(e(241))/2)+parseInt(e(232))/3+parseInt(e(217))/4*(-parseInt(e(237))/5)+parseInt(e(226))/6*(-parseInt(e(248))/7)+parseInt(e(234))/8*(-parseInt(e(211))/9)+-parseInt(e(254))/10*(parseInt(e(251))/11)+-parseInt(e(243))/12*(-parseInt(e(252))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(262)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){A(this,(function(){const n=P,t=new RegExp(n(261)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=R("init");t[n(245)](o+n(230))&&e[n(245)](o+n(216))?R():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(262)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function M(){const n=["position","log","5241742zrkDvO","13DlpzZa","intersectObject","10DJoRVb","clone","gger","return (function() ","参数(鼠标间断点两个点，分别作为箭头的起点)","abs","clientY","function *\\( *\\)","apply","warn","copy","push","console","prototype","innerHeight","subVectors","PlaneGeometry","MeshBasicMaterial","sub","length","clientX","addFolder","stateObject","setAttribute","string","addVectors","trace","click","addButton","value","__proto__","5857389akEPqJ","info","add","Mesh","set","input","12KaHNPl","BufferAttribute","绘制箭头","while (true) {}","error","Vector3",'{}.constructor("return this")( )',"CatmullRomCurve3","toString","12nCSAlt","addEventListener","line","getPointAt","chain","bind","2220156sBAqEB","table","8xNQDfW","action","rotation","845695ipXObK","debu","DoubleSide","224GSVpIx","2070QTvCcF","counter","18466932RtCMea","removeEventListener","test","constructor","SphereGeometry","1359001whVNLj"];return(M=function(){return n})()}function P(n,t){const e=M();return(P=function(n,t){return e[n-=192]})(n,t)}z(void 0,(function(){const n=P;let t;try{t=Function(n(257)+n(223)+");")()}catch(r){t=window}const e=t[n(192)]=t.console||{},o=["log",n(263),n(212),n(221),"exception",n(233),n(206)];for(let s=0;s<o.length;s++){const t=z[n(246)][n(193)][n(231)](z),r=o[s],c=e[r]||t;t[n(210)]=z[n(231)](z),t[n(225)]=c[n(225)][n(231)](c),e[r]=t}}))();const C=l({__name:"drawArrows",setup(t){const l=P,{camera:d,renderer:h,scene:m,sizes:b,raycaster:g,controls:I}=n();let y=new e,v=[];f(null);const _=new(o[l(196)])(200,200),j=new(o[l(197)])({color:65280,side:r}),k=new(o[l(214)])(_,j);k[l(236)].set(0,0,Math.PI/2),m[l(209)][l(213)](k);let x="",A=function(n){const t=l;y.x=n[t(200)]/window.innerWidth*2-1,y.y=-n[t(260)]/window[t(194)]*2+1,g[t(209)].setFromCamera(y,d.value);const e=g[t(209)][t(253)](k);if(e[t(199)]>0){const n=e[0].point;if(v[t(265)](new(o[t(222)])(n.x,n.y,0)),x===t(228))z(e[0].normal)}},z=function(n){const t=l;if(2==v[t(199)]){const e=new(o[t(224)])(v),r=new s(e,20,2,8,!1),i=new c({color:16711680}),a=new(o[t(214)])(r,i);m.value.add(a);let u=n,l=C(e,u,Math.PI/5);m.value[t(213)](l);let f=C(e,u,-Math.PI/5);m[t(209)][t(213)](f);let p=M(v[1]);m[t(209)].add(p),v[t(199)]=0}},M=function(n){const t=l,e=new(o[t(247)])(1.8,32,32),r=new c({color:16711680}),s=new(o[t(214)])(e,r);return s[t(249)][t(264)](n),s},C=function(n,t,e){const r=l,c=new(o[r(224)])([n[r(229)](.8),n.getPointAt(1)]),u=new s(c,30,2,8,!1),f=new(o[r(197)])({color:16711680}),p=new i(u,f)[r(255)](),w=new a;return w.add(p),w.position[r(264)](v[1]),p[r(249)][r(198)](v[1]),w[r(236)][r(215)](Math[r(259)](t.x)*e,Math[r(259)](t.y)*e,Math.abs(t.z)*e),w},R=function(){const n=l;new u({title:"箭头",expanded:!0})[n(201)]({title:n(258)})[n(208)]({title:n(219),label:"激活"}).on(n(207),(()=>{const t=n;window[t(244)](t(207),A,!1),x=t(228),function(){const n=l;window[n(227)](n(207),A,!1)}()}))};return p((()=>{R()})),w((()=>{})),(n,t)=>null}});function R(n){function t(n){const e=P;if(typeof n===e(204))return function(n){}.constructor(e(220)).apply(e(242));1!==(""+n/n)[e(199)]||n%20==0?function(){return!0}.constructor(e(238)+"gger").call(e(235)):function(){return!1}[e(246)](e(238)+e(256))[e(262)](e(202)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function V(){const n=["debu","TresCanvas","while (true) {}","toString","4468828kGpIuX","string","function *\\( *\\)","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresAmbientLight","test","info","4549686VkmoGU","action","4228758kVZqZp","1318390vHoKiu","116072zzFNyS","constructor","table","chain","call","8ULvlmZ","apply","TresPerspectiveCamera","gger","return (function() ","2041144elrQRX","#201919","length","log","exception","190bZfQEn","init","26143632fYphfV","bind","console","trace","__proto__"];return(V=function(){return n})()}!function(n,t){const e=S,o=V();for(;;)try{if(903443===-parseInt(e(195))/1+parseInt(e(168))/2+-parseInt(e(194))/3+parseInt(e(196))/4*(parseInt(e(173))/5)+-parseInt(e(192))/6+parseInt(e(184))/7*(-parseInt(e(163))/8)+parseInt(e(175))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[S(164)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=S,t=new RegExp(n(186)),e=new RegExp(n(188),"i"),o=F(n(174));t[n(190)](o+n(161))&&e[n(190)](o+n(187))?F():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function S(n,t){const e=V();return(S=function(n,t){return e[n-=160]})(n,t)}E(void 0,(function(){const n=S,t=function(){const n=S;let t;try{t=Function(n(167)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t[n(177)]||{},o=[n(171),"warn",n(191),"error",n(172),n(160),n(178)];for(let r=0;r<o[n(170)];r++){const t=E.constructor.prototype[n(176)](E),s=o[r],c=e[s]||t;t[n(179)]=E[n(176)](E),t[n(183)]=c[n(183)][n(176)](c),e[s]=t}}))();const D=l({__name:"drawArrows",setup(n){const e=d({windowSize:!0,alpha:!0,antialias:!0,autoClear:!1,disableRender:!0}),o=d({enableDamping:!0,enableZoom:!0,enablePan:!0,enableRotate:!0,makeDefault:!0});return(n,r)=>{const s=S,c=h(s(181));return m(),b(c,x({clearColor:s(169),"window-size":""},e),{default:g((()=>[r[0]||(r[0]=I(s(165),{fov:60,near:.1,far:2e3,position:[0,0,200],"look-at":[0,0,0]},null,-1)),r[1]||(r[1]=I(s(189),{intensity:2},null,-1)),y(v(t),_(j(o)),null,16),(m(),b(k,null,{default:g((()=>[y(C)])),_:1}))])),_:1},16)}}});function F(n){function t(n){const e=S;if(typeof n===e(185))return function(n){}[e(197)](e(182))[e(164)]("counter");1!==(""+n/n)[e(170)]||n%20==0?function(){return!0}[e(197)](e(180)+e(166))[e(162)](e(193)):function(){return!1}.constructor(e(180)+e(166)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{D as default};
