import{au as t,h as n,l as r,F as e,b as o,M as i,B as s,a9 as c,m as u,c as a,ar as f,aN as h,A as p,cE as l}from"./three.XuMWWlrU1743039954535.js";import{g,b as d,t as w}from"./@mapbox.lMdYodhq1743039954535.js";import{c as I,d as v,a as y}from"./three-mesh-bvh.0PiL0XIM1743039954535.js";import{z as b}from"./three-custom-shader-material.CRbjOKjC1743039954535.js";const m=T;!function(t,n){const r=T,e=M();for(;;)try{if(464591===-parseInt(r(142))/1+-parseInt(r(135))/2*(-parseInt(r(189))/3)+parseInt(r(122))/4+parseInt(r(181))/5+-parseInt(r(138))/6*(parseInt(r(154))/7)+parseInt(r(166))/8+parseInt(r(132))/9*(parseInt(r(143))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const x=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[T(170)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){x(this,(function(){const t=T,n=new RegExp(t(147)),r=new RegExp(t(186),"i"),e=k(t(184));n[t(159)](e+t(149))&&r.test(e+t(163))?k():e("0")}))()}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[T(170)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function M(){const t=["isDisposed","applyMatrix4","t_Matrix","parentTile","stateObject","map","2052BDIOqT","prototype","value","3494IUDlgt","pow","debu","6CQdABO","freeze","getTranMatrix","trace","757947sXnGta","13850txYnOZ","distanceToPoint","boundingBoxWorld","exception","function *\\( *\\)","table","chain","constructor","simplify","dispose","toString","4647181KFLOgz","matrixWorld","add","setFromObject","provider","test","console","content","ready","input","length","log","3469992qnfcet","forEach","bind","remove","apply","isReady","maxZoom","warn","visible","subdivide","tileNo","childrenTiles","abort","renderOrder","info","1014220prBTIg","counter","material","init","makeRotationX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getTile","push","573niOlQI",'{}.constructor("return this")( )',"return (function() ","2401484RbRClg","filter","update","gger"];return(M=function(){return t})()}function T(t,n){const r=M();return T=function(t,n){return r[t-=121]},T(t,n)}_(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(121)+t(190)+");")()}catch(r){n=window}return n}(),r=n[t(160)]=n.console||{},e=[t(165),t(173),t(180),"error",t(146),t(148),t(141)];for(let o=0;o<e[t(164)];o++){const n=_[t(150)][t(133)][t(168)](_),i=e[o],s=r[i]||n;n.__proto__=_.bind(_),n.toString=s[t(153)].bind(s),r[i]=n}}))();class R extends t{constructor(){const t=T;super(),this[t(126)]=!1,this[t(171)]=!1,this.childrenTiles=[],this.boundingBoxWorld=new n}init(t,n,r){const e=T;this.tileNo=t,Object[e(139)](this[e(176)]),this[e(131)]=n,this[e(129)]=r,this.visible=!1,this[e(179)]=t[2],this[e(162)]()}async[m(162)](){const t=m;if(this[t(161)]=await this[t(131)].provider[t(187)](this[t(176)]),!this[t(126)]){if(this.add(this[t(161)]),this.boundingBoxWorld[t(157)](this[t(161)])[t(127)](this[t(155)][t(185)](-Math.PI/2)),this[t(131)][t(156)](this),this[t(174)]=!0,this[t(171)]=!0,this.parentTile){const n=this.parentTile[t(177)];let r=0;for(let e=0;e<n[t(164)];e++)n[e][t(171)]&&r++;4===r&&(this[t(129)][t(174)]=!1)}this.update()}}update(){const t=m;if(!this.isReady||this[t(126)])return;const{cameraFrustum:n,cameraWorldPosition:e}=this[t(131)];if(!n.intersectsBox(this.boundingBoxWorld))return void this.simplify();this[t(161)]instanceof r&&this[t(131)][t(158)][t(123)]&&(this[t(161)][t(183)].uniforms[t(128)][t(134)]=this[t(131)][t(158)][t(140)]());let o=this[t(145)][t(144)](e);const i=this[t(176)][2];o/=Math[t(136)](2,this[t(131)][t(158)][t(172)]-i),o<60&&this[t(175)](),o>80&&this[t(151)]();this[t(177)].sort(((n,r)=>n.boundingBoxWorld[t(144)](e)-r[t(145)][t(144)](e))).forEach((n=>n[t(124)]()))}[m(175)](){const t=m,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(164)]>0||i>=e[t(172)])return;g(r)[t(167)]((n=>{const r=t,i=new R;i[r(184)](n,e,this),o[r(188)](i)}))}[m(151)](){const t=m;this[t(177)][t(167)]((n=>n[t(152)]())),this[t(177)]=[],this[t(174)]=!0}[m(152)](){const t=m;this[t(131)][t(169)](this),this[t(131)][t(158)][t(178)](this[t(176)]),this[t(177)][t(167)]((n=>n[t(152)]())),this[t(177)]=[],this[t(129)]=void 0,this[t(161)]&&(this[t(131)][t(158)][t(152)](this[t(176)],this.content),this[t(161)]=void 0),this[t(126)]=!0}}function k(t){function n(t){const r=T;if("string"==typeof t)return function(t){}[r(150)]("while (true) {}").apply(r(182));1!==(""+t/t)[r(164)]||t%20==0?function(){return!0}.constructor(r(137)+r(125)).call("action"):function(){return!1}[r(150)](r(137)+r(125))[r(170)](r(130)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Z=F;!function(t,n){const r=F,e=A();for(;;)try{if(713038===parseInt(r(193))/1+-parseInt(r(180))/2*(parseInt(r(216))/3)+-parseInt(r(214))/4*(parseInt(r(200))/5)+parseInt(r(179))/6*(-parseInt(r(199))/7)+parseInt(r(224))/8+parseInt(r(227))/9+parseInt(r(205))/10*(parseInt(r(184))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const S=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[F(195)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){S(this,(function(){const t=F,n=new RegExp(t(192)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=P(t(189));n[t(198)](e+t(191))&&r[t(198)](e+t(219))?P():e("0")}))()}();const z=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[F(195)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function A(){const t=["1757YgVhzn","1655hwZKlf","constructor","while (true) {}","bind","length","500rrEiQQ","dispose","camera","matrixWorldInverse","computeBoundsTree","toString","equals","lastUpdateTime","cameraFrustum","6412WeNlKq","exception","9279xTVUnj","cameraWorldPosition","log","input","update","bbox","rootForward needs to be 0 - 3.","copy","7260024HFaMux","table","setFromProjectionMatrix","166032QSCFep","raycast","disposeBoundsTree","[Map.regenerate] Method not implemented.","cameraProjectionMatrix","now","debu","console","info","lastCameraProjectionMatrix","initRootTiles","getWorldPosition","call","gger","maxZoom","rootTiles","prototype","19542VLWFGZ","94JcQMWt","__proto__","warn","stateObject","189123uDvaKI","projectionMatrix","return (function() ","lastCameraWorldPosition","error","init","rootForward","chain","function *\\( *\\)","420908dmDdkf","counter","apply","push","forEach","test"];return(A=function(){return t})()}function F(t,n){const r=A();return F=function(t,n){return r[t-=171]},F(t,n)}z(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(186)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(234)]=n[t(234)]||{},e=[t(218),t(182),t(235),t(188),t(215),t(225),"trace"];for(let o=0;o<e[t(204)];o++){const n=z.constructor[t(178)][t(203)](z),i=e[o],s=r[i]||n;n[t(181)]=z[t(203)](z),n[t(210)]=s[t(210)][t(203)](s),r[i]=n}}))();let E=class extends t{constructor(){const t=F;super(),this[t(221)]=[74.390592,6.900905,134.071423,54.318199],this[t(176)]=20,this[t(190)]=0,this[t(213)]=new e,this[t(217)]=new o,this[t(231)]=new i,this[t(171)]=new i,this[t(187)]=new o,this[t(177)]=[],this[t(212)]=0,!s[t(178)].computeBoundsTree&&(s[t(178)][t(209)]=I),!s[t(178)][t(229)]&&(s[t(178)].disposeBoundsTree=v),r[t(178)][t(228)]=y}[Z(172)](){const t=Z;this[t(190)]>3&&(console[t(182)](t(222)),this[t(190)]=3),this[t(190)]<0&&(console[t(182)](t(222)),this[t(190)]=0);const n=[];let r=[d(this.bbox)],e=this[t(190)];for(;e>0;){const n=[...r];r=[],n[t(197)]((n=>{const e=t,o=g(n);r[e(196)](...o)})),e--}n[t(196)](...r),n[t(197)]((n=>{const r=t,e=new R;e[r(189)](n,this),this[r(177)][r(196)](e)}))}[Z(220)](){const t=Z;if(!this.visible||!this[t(207)])return;const n=Date[t(232)]();n-this[t(212)]<300||(0!==this[t(177)][t(204)]?(this.camera[t(173)](this[t(217)]),this[t(231)].multiplyMatrices(this[t(207)][t(185)],this[t(207)][t(208)]),this[t(217)][t(211)](this[t(187)])&&this.cameraProjectionMatrix.equals(this[t(171)])||(this[t(213)][t(226)](this[t(231)]),this.rootTiles[t(197)]((n=>n[t(220)]())),this[t(171)][t(223)](this[t(231)]),this[t(187)].copy(this[t(217)]),this[t(212)]=n)):this.initRootTiles())}[Z(206)](){throw new Error("[Map.dispose] Method not implemented.")}regenerate(){throw new Error(Z(230))}};function P(t){function n(t){const r=F;if("string"==typeof t)return function(t){}[r(201)](r(202))[r(195)](r(194));1!==(""+t/t)[r(204)]||t%20==0?function(){return!0}[r(201)](r(233)+r(175))[r(174)]("action"):function(){return!1}[r(201)]("debugger")[r(195)](r(183)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const C=W;!function(t,n){const r=W,e=O();for(;;)try{if(606997===-parseInt(r(339))/1+-parseInt(r(363))/2+parseInt(r(391))/3*(parseInt(r(360))/4)+-parseInt(r(381))/5*(-parseInt(r(355))/6)+parseInt(r(354))/7+parseInt(r(377))/8+parseInt(r(383))/9*(-parseInt(r(379))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const B=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[W(370)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function O(){const t=["call","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","12OPKqoX","gger","listeners","580120DLPApu","ready","add","function *\\( *\\)","User abort.","init","delete","apply","chain","error","clone","stateObject","prototype","table","5704720ZDrkIA","action","7855090fvMlxo","__proto__","5466415ebrTKn","length","18QKLMsm","catch","resolve","url","get","has","size","while (true) {}","388239JlEnQJ","set","663493ElRYGX","fetch","forEach","bind","abort","string","constructor","promise","console","reject","finally","_controller","trace","pendings","counter","6558692WTdNeO","6ovhTZX"];return(O=function(){return t})()}!function(){B(this,(function(){const t=W,n=new RegExp(t(366)),r=new RegExp(t(358),"i"),e=N(t(368));n.test(e+t(371))&&r.test(e+"input")?N():e("0")}))()}();const j=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[W(370)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function W(t,n){const r=O();return W=function(t,n){return r[t-=338]},W(t,n)}j(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(359)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(347)]=n.console||{},e=["log","warn","info",t(372),"exception",t(376),t(351)];for(let o=0;o<e[t(382)];o++){const n=j[t(345)][t(375)][t(342)](j),i=e[o],s=r[i]||n;n[t(380)]=j.bind(j),n[t(357)]=s[t(357)][t(342)](s),r[i]=n}}))();class U{constructor(){const t=W;this[t(350)]=new AbortController,this[t(362)]=new Set}static{this.pendings=new Map}[C(340)](t,n={}){const r=C;U[r(352)][r(388)](t)||(U[r(352)][r(338)](t,this),fetch(t,{...n,signal:this[r(350)].signal}).then((t=>{const n=r;this.listeners[n(341)]((r=>r[n(385)](t[n(373)]())))}))[r(384)]((t=>{const n=r;this[n(362)][n(341)]((r=>r[n(348)](t)))}))[r(349)]((()=>{const n=r;U.pendings[n(369)](t)})))}[C(343)](){const t=C;this[t(350)][t(343)]()}}class D{constructor(t,n){const r=C;this[r(386)]=t,this[r(368)]=n,this[r(346)]=new Promise(((t,n)=>{const e=r;this[e(385)]=t,this[e(348)]=n}))}[C(364)](){const t=C;let n=U.pendings.get(this[t(386)]);return!n&&(n=new U,n[t(340)](this[t(386)],this[t(368)])),n[t(362)][t(365)](this),this[t(346)]}[C(343)](){const t=C;this[t(348)](t(367));const n=U.pendings[t(387)](this.url);n&&(n.listeners[t(369)](this),0===n.listeners[t(389)]&&n.abort())}}function N(t){function n(t){const r=W;if(typeof t===r(344))return function(t){}[r(345)](r(390))[r(370)](r(353));1!==(""+t/t)[r(382)]||t%20==0?function(){return!0}.constructor("debu"+r(361))[r(356)](r(378)):function(){return!1}[r(345)]("debugger")[r(370)](r(374)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function $(t,n){const r=q();return $=function(t,n){return r[t-=175]},$(t,n)}function q(){const t=["fillText","constructor","action","apply","flipY","#44FF44","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","724036mxLQKb","ready","18630918sJlkDz","20px Arial","string","strokeStyle","init","debu","stroke",'Offscreencanvas.getContext("2d") error!',"__proto__","#66AAFF","blob","17724RRRHtt","4fCUasl","fillStyle",'{}.constructor("return this")( )',"return (function() ","2699056DOhkWx","rect","while (true) {}","log","1969548roizaN","toString","gger","#00FFFF","stateObject","#FF4444","call","info","336178IkOFaV","735bWXpwP","903370kZvRIq","exception","getContext","length","counter"];return(q=function(){return t})()}!function(t,n){const r=$,e=q();for(;;)try{if(352335===-parseInt(r(179))/1*(parseInt(r(209))/2)+-parseInt(r(217))/3+-parseInt(r(195))/4+-parseInt(r(181))/5+-parseInt(r(208))/6*(-parseInt(r(180))/7)+-parseInt(r(213))/8+parseInt(r(197))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const X=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[$(189)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){X(this,(function(){const t=$,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(193),"i"),e=G(t(201));n.test(e+"chain")&&r.test(e+"input")?G():e("0")}))()}();const L=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[$(189)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();let K;function G(t){function n(t){const r=$;if(typeof t===r(199))return function(t){}[r(187)](r(215)).apply(r(185));1!==(""+t/t)[r(184)]||t%20==0?function(){return!0}[r(187)](r(202)+r(219))[r(177)](r(188)):function(){return!1}.constructor(r(202)+r(219))[r(189)](r(175)),n(++t)}try{if(t)return n;n(0)}catch(r){}}L(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(212)+t(211)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(194)]||{},e=[t(216),"warn",t(178),"error",t(182),"table","trace"];for(let o=0;o<e.length;o++){const n=L[t(187)].prototype[t(192)](L),i=e[o],s=r[i]||n;n[t(205)]=L[t(192)](L),n.toString=s[t(218)].bind(s),r[i]=n}}))();const Q=Y;function V(){const t=["bind","485386hhKIYi","call","onMessage","get","clear","input","terminate","error","78YJSFLL","function *\\( *\\)","chain","set","action","constructor","apply","postMessage","debu","counter","gger","__proto__","8nmYzYp","data","4329094NxdjXq","1575414Nwuwpg","while (true) {}","61340bIobxT","326730kaBYeP","console","info","terminated","2044860RxGBcA","table","onmessage","439470FJNvye","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","length","toString","map","test","return (function() ","stateObject","delete","worker","warn","init"];return(V=function(){return t})()}function Y(t,n){const r=V();return Y=function(t,n){return r[t-=356]},Y(t,n)}!function(t,n){const r=Y,e=V();for(;;)try{if(329365===-parseInt(r(361))/1+parseInt(r(383))/2+parseInt(r(391))/3*(parseInt(r(360))/4)+-parseInt(r(368))/5+-parseInt(r(365))/6+parseInt(r(357))/7+parseInt(r(403))/8*(-parseInt(r(358))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const H=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Y(397)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){H(this,(function(){const t=Y,n=new RegExp(t(392)),r=new RegExp(t(370),"i"),e=nt(t(381));n[t(375)](e+t(393))&&r[t(375)](e+t(388))?nt():e("0")}))()}();const J=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Y(397)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();J(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(376)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(362)]=n[t(362)]||{},e=["log",t(380),t(363),t(390),t(369),t(366),t(371)];for(let o=0;o<e[t(372)];o++){const n=J.constructor.prototype[t(382)](J),i=e[o],s=r[i]||n;n[t(402)]=J[t(382)](J),n[t(373)]=s[t(373)][t(382)](s),r[i]=n}}))();class tt{constructor(t){const n=Y;this[n(364)]=!0,this[n(374)]=new Map,this[n(379)]=new t,this.worker[n(367)]=this[n(385)][n(382)](this),this.terminated=!1}async[Q(398)](t){const n=Q;if(!this[n(364)])return this.worker[n(398)](t),new Promise(((r,e)=>{const o=n;this.map[o(394)](t.id,r)}))}[Q(385)](t){const n=Q,{id:r,error:e}=t[n(356)],o=this.map[n(386)](r);o&&!e&&o(t.data),this.map[n(378)](r)}[Q(389)](){const t=Q;this[t(379)][t(367)]=null,this[t(379)][t(389)](),this[t(364)]=!0,this.map[t(387)]()}}function nt(t){function n(t){const r=Y;if("string"==typeof t)return function(t){}.constructor(r(359)).apply(r(400));1!==(""+t/t)[r(372)]||t%20==0?function(){return!0}[r(396)](r(399)+r(401))[r(384)](r(395)):function(){return!1}[r(396)](r(399)+r(401))[r(397)](r(377)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function rt(t){return new Worker(""+new URL("../static/MapWorker-9IBiGhve.js",import.meta.url).href,{name:t?.name})}const et=st;function ot(){const t=["171278SCXwSS","showTileNo","1652rKCRGp","getUrl","18266750JXTewO","3zgrQRq","join","fetching","chain","{z}","action","cors",'{}.constructor("return this")( )',"debu","prototype","[x]","length","gger","warn","replace","source","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","function *\\( *\\)","7115qFczDs","maxZoom","bind","init","input","{y}","set","981984IOSeby","log","_worker","571900hhWklU","exception","dispose","[z]","error","delete","{x}","abort","table","toString","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","needsUpdate","getId","get","useWorker","call","stateObject","string","while (true) {}","force-cache","_useWorker","indexOf","[y]","9fxZwsn","constructor","apply","test","getTile","2527952qgHFgF","counter","3438918YgsitC"];return(ot=function(){return t})()}!function(t,n){const r=st,e=ot();for(;;)try{if(636094===parseInt(r(319))/1+-parseInt(r(354))/2*(-parseInt(r(359))/3)+parseInt(r(356))/4*(parseInt(r(312))/5)+parseInt(r(353))/6+-parseInt(r(322))/7+-parseInt(r(351))/8*(-parseInt(r(346))/9)+-parseInt(r(358))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const it=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[st(348)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function st(t,n){const r=ot();return st=function(t,n){return r[t-=306]},st(t,n)}!function(){it(this,(function(){const t=st,n=new RegExp(t(311)),r=new RegExp(t(333),"i"),e=at(t(315));n[t(349)](e+t(362))&&r.test(e+t(316))?at():e("0")}))()}();const ct=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[st(348)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();ct(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function("return (function() "+t(366)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(332)]||{},e=[t(320),t(307),"info",t(326),t(323),t(330),"trace"];for(let o=0;o<e.length;o++){const n=ct[t(347)][t(368)][t(314)](ct),i=e[o],s=r[i]||n;n.__proto__=ct[t(314)](ct),n[t(331)]=s[t(331)].bind(s),r[i]=n}}))();class ut{constructor(){const t=st;this[t(313)]=20,this[t(309)]=t(310),this.showTileNo=!1,this._useWorker=!1,this[t(361)]=new Map}set[et(337)](t){const n=et;this[n(343)]=t,!this[n(343)]&&(this[n(321)]?.terminate(),this[n(321)]=void 0)}get useWorker(){return this._useWorker}async[et(350)](t){const n=et,r=this[n(357)](t),e=new c;if(this[n(343)]){!this[n(321)]&&(this[n(321)]=new tt(rt));const o=this.getId(t),i=await this._worker.postMessage({id:o,tileNo:t,url:r,debug:this[n(355)]});e.image=i.bitmap}else{const o=new D(r,{cache:n(342),mode:n(365)});this.fetching[n(318)](t,o);try{e.image=await async function(t,n,r=!1){const e=$,o=await n[e(196)](),i=await o[e(207)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:"flipY"});if(!r)return s;!K&&(K=new OffscreenCanvas(256,256));const c=K[e(183)]("2d");if(!c)throw new Error(e(204));const{width:u,height:a}=K;return c.drawImage(s,0,0),c[e(214)](0,0,u,a),c[e(200)]=e(220),c.font=e(198),c[e(203)](),c[e(210)]=e(176),c.fillText(""+t[0],10,30),c.fillStyle=e(191),c.fillText(""+t[1],10,55),c[e(210)]=e(206),c[e(186)](""+t[2],10,80),await createImageBitmap(K,{imageOrientation:e(190)})}(t,o,this[n(355)])}finally{this.fetching[n(327)](t)}}return e[n(334)]=!0,e.anisotropy=4,e}[et(329)](t){const n=et;if(this[n(343)])this._worker?.postMessage({id:this[n(335)](t),abort:!0});else{const r=this[n(361)][n(336)](t);r&&r.abort(),this[n(361)][n(327)](t)}}[et(324)](t,n){n.dispose()}[et(335)](t){return t[et(360)]("-")}[et(357)](t){const n=et,[r,e,o]=t;return-1===this.source[n(344)](n(369))?this.source.replace(n(328),r+"").replace(n(317),e+"")[n(308)](n(363),o+""):this.source[n(308)](n(369),r+"")[n(308)](n(345),e+"").replace(n(325),o+"")}}function at(t){function n(t){const r=st;if(typeof t===r(340))return function(t){}[r(347)](r(341))[r(348)](r(352));1!==(""+t/t)[r(370)]||t%20==0?function(){return!0}[r(347)](r(367)+r(306))[r(338)](r(364)):function(){return!1}.constructor(r(367)+r(306))[r(348)](r(339)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const ft=dt;!function(t,n){const r=dt,e=lt();for(;;)try{if(670829===-parseInt(r(447))/1*(-parseInt(r(458))/2)+parseInt(r(486))/3+parseInt(r(476))/4*(-parseInt(r(453))/5)+-parseInt(r(459))/6+parseInt(r(452))/7+-parseInt(r(472))/8*(parseInt(r(462))/9)+parseInt(r(493))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[dt(494)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ht(this,(function(){const t=dt,n=new RegExp(t(470)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=kt(t(445));n[t(477)](e+t(484))&&r[t(477)](e+t(480))?kt():e("0")}))()}();const pt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[dt(494)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function lt(){const t=["string","call","27IDgkAc","charAt","atanh","console","error","table","sinh","constructor","function *\\( *\\)","tanh","194696nBlQDD","info","bind","sqrt","251976UBVJIx","test","stateObject","log","input","prototype","cosh","sin","chain","length","3217275eOqZvE","atan","utm","exception","cos","atan2","trace","6558170CPbAhx","apply","return (function() ","toFixed","’ outside UTM limits","init","floor","52IKbZBB","action","toString","tan","CDEFGHJKLMNPQRSTUVWXX","1927436yAZMwM","105BwvcZg","gger","warn","merc","__proto__","20582uTFUpn","2832048LegmqX"];return(lt=function(){return t})()}pt(void 0,(function(){const t=dt,n=function(){const t=dt;let n;try{n=Function(t(495)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(465)]=n[t(465)]||{},e=[t(479),t(455),t(473),t(466),t(489),t(467),t(492)];for(let o=0;o<e.length;o++){const n=pt.constructor[t(481)][t(474)](pt),i=e[o],s=r[i]||n;n[t(457)]=pt[t(474)](pt),n[t(449)]=s[t(449)].bind(s),r[i]=n}}))();const gt=ft(488);function dt(t,n){const r=lt();return dt=function(t,n){return r[t-=445]},dt(t,n)}const wt=ft(456),It=6378137,vt=Math.PI/180;function yt(t,n){const r=ft;return[It*t*vt,It*Math[r(479)](Math[r(450)](.25*Math.PI+n*vt*.5))]}function bt(t,n){const r=ft;let e=t/(It*Math.PI)*180,o=n/(It*Math.PI)*180;return o=180/Math.PI*(2*Math[r(487)](Math.exp(o*Math.PI/180))-Math.PI/2),[e,o]}function mt(t){return t*Math.PI/180}function xt(t){return 180*t/Math.PI}const _t={a:6378137,b:6356752.314245,f:1/298.257223563},Mt=ft(451);function Tt(t,n,r){const e=ft;if(!(-80<=n&&n<=84))throw new RangeError("latitude ‘"+n+e(497));let o=r||Math[e(446)]((t+180)/6)+1,i=mt(6*(o-1)-180+3);const s=Mt[e(463)](Math[e(446)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=mt(6)):32===o&&"X"===s&&t<9?(o--,i-=mt(6)):32===o&&"X"===s&&t>=9?(o++,i+=mt(6)):34===o&&"X"===s&&t<21?(o--,i-=mt(6)):34===o&&"X"===s&&t>=21?(o++,i+=mt(6)):36===o&&"X"===s&&t<33?(o--,i-=mt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=mt(6));const c=mt(n),u=mt(t)-i,{a:a,f:f}=_t,h=.9996,p=Math.sqrt(f*(2-f)),l=f/(2-f),g=l*l,d=l*g,w=l*d,I=l*w,v=l*I,y=Math[e(490)](u),b=Math[e(483)](u),m=Math.tan(c),x=Math[e(468)](p*Math.atanh(p*m/Math[e(475)](1+m*m))),_=m*Math[e(475)](1+x*x)-x*Math[e(475)](1+m*m),M=Math[e(491)](_,y),T=Math.asinh(b/Math.sqrt(_*_+y*y)),R=a/(1+l)*(1+1/4*g+1/64*w+1/256*v),k=[null,.5*l-2/3*g+5/16*d+41/180*w-127/288*I+7891/37800*v,13/48*g-.6*d+557/1440*w+281/630*I-1983433/1935360*v,61/240*d-103/140*w+15061/26880*I+167603/181440*v,49561/161280*w-179/168*I+6601661/7257600*v,34729/80640*I-3418889/1995840*v,.6650675310896665*v];let Z=M;for(let F=1;F<=6;F++)Z+=k[F]*Math[e(483)](2*F*M)*Math[e(482)](2*F*T);let S=T;for(let F=1;F<=6;F++)S+=k[F]*Math[e(490)](2*F*M)*Math.sinh(2*F*T);let z=h*R*S,A=h*R*Z;return z+=5e5,A<0&&(A+=1e7),[z,A]}function Rt(t,n,r){const e=ft,o=r||50,{a:i,f:s}=_t,c=.9996,u=t-5e5,a=n,f=Math.sqrt(s*(2-s)),h=s/(2-s),p=h*h,l=h*p,g=h*l,d=h*g,w=h*d,I=i/(1+h)*(1+1/4*p+1/64*g+1/256*w),v=u/(c*I),y=a/(c*I),b=[null,.5*h-2/3*p+37/96*l-1/360*g-81/512*d+96199/604800*w,1/48*p+1/15*l-437/1440*g+46/105*d-1118711/3870720*w,17/480*l-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=y;for(let B=1;B<=6;B++)m-=b[B]*Math.sin(2*B*y)*Math.cosh(2*B*v);let x=v;for(let B=1;B<=6;B++)x-=b[B]*Math[e(490)](2*B*y)*Math[e(468)](2*B*v);const _=Math[e(468)](x),M=Math[e(483)](m),T=Math.cos(m),R=M/Math[e(475)](_*_+T*T);let k=null,Z=R;do{const t=Math.sinh(f*Math[e(464)](f*Z/Math[e(475)](1+Z*Z))),n=Z*Math[e(475)](1+t*t)-t*Math[e(475)](1+Z*Z);k=(R-n)/Math[e(475)](1+n*n)*(1+(1-f*f)*Z*Z)/((1-f*f)*Math[e(475)](1+Z*Z)),Z+=k}while(Math.abs(k)>1e-12);const S=Z,z=Math[e(487)](S);let A=Math.atan2(_,T),F=1;for(let B=1;B<=6;B++)F-=2*B*b[B]*Math[e(490)](2*B*y)*Math.cosh(2*B*v);let E=0;for(let B=1;B<=6;B++)E+=2*B*b[B]*Math[e(483)](2*B*y)*Math[e(468)](2*B*v);Math.atan(Math[e(450)](m)*Math[e(471)](x));const P=Math[e(483)](z);Math[e(475)](1-f*f*P*P),Math[e(475)](1+S*S),Math[e(475)](_*_+T*T);A+=mt(6*(o-1)-180+3);const C=Number(xt(z)[e(496)](14));return[Number(xt(A)[e(496)](14)),C]}function kt(t){function n(t){const r=dt;if(typeof t===r(460))return function(t){}[r(469)]("while (true) {}")[r(494)]("counter");1!==(""+t/t)[r(485)]||t%20==0?function(){return!0}[r(469)]("debu"+r(454))[r(461)](r(448)):function(){return!1}.constructor("debu"+r(454))[r(494)](r(478)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Zt=zt;function St(){const t=["bind","32604130OuaHPC","prototype","abort","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"319715CnFdGl","utmZone","1311144vWRVtb","maxZoom","72024ZywdcR","console","261YsPmME","gger","error","action","init","constructor","__proto__","133GAyutm","25yCLrar","3632784jbpQRf","counter","88590gyoawq","11YeFGes","length","return (function() ","toString","while (true) {}","dispose","string","warn","table","convertCoordinate","log","chain","2092372wNnopb","coordType","debu","info","apply","position"];return(St=function(){return t})()}function zt(t,n){const r=St();return zt=function(t,n){return r[t-=259]},zt(t,n)}!function(t,n){const r=zt,e=St();for(;;)try{if(857538===-parseInt(r(259))/1+parseInt(r(289))/2+parseInt(r(274))/3+parseInt(r(261))/4*(parseInt(r(273))/5)+parseInt(r(276))/6*(parseInt(r(272))/7)+parseInt(r(263))/8*(parseInt(r(265))/9)+-parseInt(r(296))/10*(parseInt(r(277))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const At=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[zt(293)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){At(this,(function(){const t=zt,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(299),"i"),e=Pt(t(269));n.test(e+t(288))&&r.test(e+"input")?Pt():e("0")}))()}();const Ft=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[zt(293)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Ft(void 0,(function(){const t=zt,n=function(){const t=zt;let n;try{n=Function(t(279)+t(300)+");")()}catch(r){n=window}return n}(),r=n[t(264)]=n[t(264)]||{},e=[t(287),t(284),t(292),t(267),"exception",t(285),"trace"];for(let o=0;o<e[t(278)];o++){const n=Ft[t(270)][t(297)][t(295)](Ft),i=e[o],s=r[i]||n;n[t(271)]=Ft[t(295)](Ft),n[t(280)]=s[t(280)].bind(s),r[i]=n}}))();class Et{constructor(){const t=zt;this[t(260)]=50,this.coordType=gt,this[t(262)]=20}async getTile(t){const n=zt,r=new u,e=w(t),o=this[n(286)](e[0],e[3]),i=this[n(286)](e[2],e[3]),s=this[n(286)](e[0],e[1]),c=this.convertCoordinate(e[2],e[1]),f=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r.setAttribute(n(294),new a(f,3)),r}[Zt(298)](t){}[Zt(282)](t,n){n.dispose()}[Zt(286)](t,n){return this[Zt(290)]===gt?Tt(t,n,this.utmZone):yt(t,n)}}function Pt(t){function n(t){const r=zt;if(typeof t===r(283))return function(t){}.constructor(r(281))[r(293)](r(275));1!==(""+t/t)[r(278)]||t%20==0?function(){return!0}.constructor(r(291)+r(266)).call(r(268)):function(){return!1}.constructor(r(291)+r(266)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Ct(t){return new Worker(""+new URL("../static/MartiniWorker-9RNVpdgm.js",import.meta.url).href,{name:t?.name})}function Bt(t,n){const r=Dt();return Bt=function(t,n){return r[t-=235]},Bt(t,n)}const Ot=Bt;!function(t,n){const r=Bt,e=Dt();for(;;)try{if(946411===-parseInt(r(292))/1*(parseInt(r(251))/2)+parseInt(r(249))/3+parseInt(r(256))/4*(parseInt(r(283))/5)+parseInt(r(235))/6+-parseInt(r(241))/7+-parseInt(r(273))/8*(parseInt(r(236))/9)+-parseInt(r(285))/10*(-parseInt(r(247))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const jt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Bt(281)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){jt(this,(function(){const t=Bt,n=new RegExp(t(269)),r=new RegExp(t(277),"i"),e=Nt(t(255));n[t(254)](e+t(260))&&r.test(e+t(244))?Nt():e("0")}))()}();const Wt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Bt(281)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Wt(void 0,(function(){const t=Bt;let n;try{n=Function(t(240)+t(253)+");")()}catch(o){n=window}const r=n[t(294)]=n[t(294)]||{},e=[t(296),t(237),"info",t(250),t(266),t(270),"trace"];for(let i=0;i<e.length;i++){const n=Wt[t(279)].prototype.bind(Wt),o=e[i],s=r[o]||n;n[t(276)]=Wt[t(267)](Wt),n[t(274)]=s[t(274)][t(267)](s),r[o]=n}}))();class Ut{constructor(){const t=Bt;this[t(287)]=12,this[t(264)]=gt,this[t(289)]=50,this[t(293)]=!0,this.source="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp"}set[Ot(262)](t){const n=Ot;this[n(293)]=t,!this[n(293)]&&(this._worker?.[n(245)](),this._worker=void 0)}get[Ot(262)](){return this[Ot(293)]}async[Ot(248)](t){const n=Ot;return this._useWorker?this.getInWorkerThread(t):this[n(259)]()}async[Ot(259)](){return new s}async[Ot(286)](t){const n=Ot;!this[n(275)]&&(this[n(275)]=new tt(Ct));const r={tileNo:t,id:this[n(291)](t),url:this[n(288)](t),maxZ:this.maxZoom,coordType:this.coordType,utmZone:this[n(289)]},e=await this._worker[n(261)](r),o=new s;return o[n(271)](n(238),new a(e[n(278)],3)),o[n(271)]("uv",new a(e.uv,2)),o[n(243)](new a(e[n(258)],1)),o}async[Ot(257)](t){const n=Ot;this._useWorker&&this[n(275)]?.[n(261)]({id:this[n(291)](t),abort:!0})}async[Ot(263)](t,n){const r=Ot;n[r(263)](),this[r(293)]&&this._worker?.[r(261)]({id:this[r(291)](t),dispose:!0})}[Ot(291)](t){return t[Ot(272)]("-")}[Ot(288)](t){const n=Ot,[r,e,o]=t;return this[n(295)][n(280)](n(252),r+"")[n(280)]("[y]",e+"").replace(n(290),o+"")}}function Dt(){const t=["getInMainThread","chain","postMessage","useWorker","dispose","coordType","while (true) {}","exception","bind","gger","function *\\( *\\)","table","setAttribute","join","24136jOSnmv","toString","_worker","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","positions","constructor","replace","apply","length","525vzAboW","counter","1480sQrDat","getInWorkerThread","maxZoom","getUrl","utmZone","[z]","getId","1NvMlvX","_useWorker","console","source","log","5428146rFHAHY","3213bWTSVm","warn","position","call","return (function() ","12441870MTaiSb","string","setIndex","input","terminate","debu","63778KRMesc","getTile","4082421XInaPE","error","2078084CqZtWS","[x]",'{}.constructor("return this")( )',"test","init","65384MGuSXv","abort","triangles"];return(Dt=function(){return t})()}function Nt(t){function n(t){const r=Bt;if(typeof t===r(242))return function(t){}[r(279)](r(265)).apply(r(284));1!==(""+t/t)[r(282)]||t%20==0?function(){return!0}[r(279)](r(246)+r(268))[r(239)]("action"):function(){return!1}[r(279)](r(246)+r(268))[r(281)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function $t(){var t=["trace","call","gger","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","bind","2722qAxqfg","__proto__","while (true) {}","1384386arxNrn","init","toString","683291ZyMfgi","console","length","test","651267zenucy","function *\\( *\\)",'{}.constructor("return this")( )',"exception","log","constructor","10ciSLNm","counter","631000NklHcN","375894tYhzhg","input","debu","1319096GirpLv","table"];return($t=function(){return t})()}!function(t,n){for(var r=Gt,e=$t();;)try{if(234910===parseInt(r(377))/1+-parseInt(r(389))/2+parseInt(r(368))/3+-parseInt(r(376))/4+parseInt(r(374))/5*(-parseInt(r(392))/6)+parseInt(r(364))/7+parseInt(r(380))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var qt,Xt=(qt=!0,function(t,n){var r=qt?function(){if(n){var r=n[Gt(387)](t,arguments);return n=null,r}}:function(){};return qt=!1,r});!function(){Xt(this,(function(){var t=Gt,n=new RegExp(t(369)),r=new RegExp(t(386),"i"),e=Vt(t(393));n.test(e+"chain")&&r[t(367)](e+t(378))?Vt():e("0")}))()}();var Lt,Kt=(Lt=!0,function(t,n){var r=Lt?function(){if(n){var r=n.apply(t,arguments);return n=null,r}}:function(){};return Lt=!1,r});function Gt(t,n){var r=$t();return Gt=function(t,n){return r[t-=363]},Gt(t,n)}Kt(void 0,(function(){var t,n=Gt;try{t=Function("return (function() "+n(370)+");")()}catch(u){t=window}for(var r=t[n(365)]=t[n(365)]||{},e=[n(372),"warn",n(385),"error",n(371),n(381),n(382)],o=0;o<e[n(366)];o++){var i=Kt[n(373)].prototype.bind(Kt),s=e[o],c=r[s]||i;i[n(390)]=Kt[n(388)](Kt),i.toString=c[n(363)][n(388)](c),r[s]=i}}))();class Qt extends r{constructor(t){super(t),this.center=new o}}function Vt(t){function n(t){var r=Gt;if("string"==typeof t)return function(t){}.constructor(r(391))[r(387)](r(375));1!==(""+t/t).length||t%20==0?function(){return!0}[r(373)](r(379)+r(384))[r(383)]("action"):function(){return!1}[r(373)](r(379)+r(384))[r(387)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Yt=tn;!function(t,n){const r=tn,e=nn();for(;;)try{if(207423===parseInt(r(323))/1*(-parseInt(r(339))/2)+parseInt(r(308))/3+parseInt(r(290))/4+-parseInt(r(322))/5*(-parseInt(r(316))/6)+-parseInt(r(332))/7+-parseInt(r(305))/8*(-parseInt(r(300))/9)+parseInt(r(307))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[tn(287)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Ht(this,(function(){const t=tn,n=new RegExp(t(318)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=en(t(321));n[t(284)](e+t(302))&&r[t(284)](e+"input")?en():e("0")}))()}();const Jt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function tn(t,n){const r=nn();return tn=function(t,n){return r[t-=283]},tn(t,n)}function nn(){const t=["bind","chain","exception","while (true) {}","24NBIDBl","boundingBox","310690cILDEB","831357eHMfTm","set","dispose","showBoundingBox","toString","material","prototype","flatShading","126oUTgfn","length","function *\\( *\\)","string","computeBoundingSphere","init","6795FnrSTc","3JpNFSU","counter","computeBoundingBox","trace","monochrome","getTile","debu","opposite","center","1362627nOJNZb","geometry","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","multiply","getCenter","textureProvider","useStandardMaterial","192222LjvMUc","info","genContrast","return (function() ","log","renderOrder","all","call","table","filter","test","wireframe","abort","apply","colorSpace","console","1200692WkowtS","__proto__","getTranMatrix","geometryProvider","map","position","\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }","error","constructor","gger","160551xSPxlK"];return(nn=function(){return t})()}Jt(void 0,(function(){const t=tn;let n;try{n=Function(t(342)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(289)]=n[t(289)]||{},e=[t(343),"warn",t(340),t(297),t(303),t(347),t(326)];for(let i=0;i<e[t(317)];i++){const n=Jt[t(298)][t(314)][t(301)](Jt),o=e[i],s=r[o]||n;n[t(291)]=Jt[t(301)](Jt),n[t(312)]=s[t(312)][t(301)](s),r[o]=n}}))();class rn{constructor(t,n){const r=tn;this[r(293)]=t,this.textureProvider=n,this.maxZoom=20,this[r(311)]=!1,this[r(285)]=!1,this[r(315)]=!1,this[r(338)]=!1,this[r(283)]=null}[Yt(292)](){const t=Yt;let n=new i;if(this[t(283)]?.[t(330)]){let r=new i;r[t(309)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),n[t(335)](r)}if(this[t(283)]?.[t(327)]){let r=new i;const e=this[t(283)][t(327)].r,o=this.filter[t(327)].g,s=this[t(283)][t(327)].b;r[t(309)](e,o,s,0,e,o,s,0,e,o,s,0,0,0,0,1),n[t(335)](r)}if(this.filter?.genBright){let r=new i;const e=this.filter.genBright;r[t(309)](e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),n[t(335)](r)}if(this[t(283)]?.[t(341)]){let r=new i;const e=this.filter[t(341)],o=.5*(1-e);r[t(309)](e,0,0,0,0,e,0,0,0,0,e,0,o,o,o,1),n[t(335)](r)}if(this[t(283)]?.genSaturate){let r=new i;const e=this[t(283)].genSaturate,o=.3*(1-e),s=.6*(1-e),c=.1*(1-e);r.set(o+e,o,o,0,s,s+e,s,0,c,c,c+e,0,0,0,0,1),n[t(335)](r)}return n}async getTile(t){const n=Yt,r=[this[n(293)].getTile(t),this.textureProvider[n(328)](t)],e=await Promise[n(345)](r),o=e[0],i=e[1];i[n(288)]=f;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(338)]?new h({map:i,wireframe:s,flatShading:c}):new p({map:i,wireframe:s}),this[n(283)]&&(u=new b({baseMaterial:u,vertexShader:n(334),fragmentShader:n(296),silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(292)]()}}}));const g=new Qt;if(g[n(344)]=a,o[n(325)](),o[n(306)][n(336)](g.center),o[n(331)](),o[n(320)](),o.computeBoundsTree(),g[n(295)].copy(g[n(331)]),g[n(333)]=o,g[n(313)]=u,this[n(311)]){const t=new l(o.boundingBox);g.add(t)}return g}[Yt(286)](t){const n=Yt;this.geometryProvider[n(286)](t),this[n(337)][n(286)](t)}[Yt(310)](t,n){const r=Yt,e=n[r(333)],o=n.material;e&&this[r(293)][r(310)](t,e),o&&o[r(294)]&&this[r(337)][r(310)](t,o[r(294)]),o?.[r(310)]()}}function en(t){function n(t){const r=tn;if(typeof t===r(319))return function(t){}[r(298)](r(304))[r(287)](r(324));1!==(""+t/t)[r(317)]||t%20==0?function(){return!0}.constructor(r(329)+r(299))[r(346)]("action"):function(){return!1}.constructor(r(329)+r(299)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}var on=un;!function(t,n){for(var r=un,e=hn();;)try{if(819120===-parseInt(r(500))/1+parseInt(r(511))/2*(parseInt(r(518))/3)+-parseInt(r(530))/4+parseInt(r(514))/5+-parseInt(r(513))/6*(-parseInt(r(509))/7)+-parseInt(r(525))/8*(-parseInt(r(499))/9)+-parseInt(r(512))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var sn,cn=(sn=!0,function(t,n){var r=sn?function(){if(n){var r=n[un(527)](t,arguments);return n=null,r}}:function(){};return sn=!1,r});function un(t,n){var r=hn();return un=function(t,n){return r[t-=497]},un(t,n)}!function(){cn(this,(function(){var t=un,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(528),"i"),e=ln("init");n[t(526)](e+t(521))&&r[t(526)](e+t(531))?ln():e("0")}))()}();var an,fn=(an=!0,function(t,n){var r=an?function(){if(n){var r=n[un(527)](t,arguments);return n=null,r}}:function(){};return an=!1,r});function hn(){var t=["debu","83732RzTRDk","10502170tsiRzO","12yIPURH","4349245kIZADx","__proto__","console","log","57RVLVgf","toString","table","chain","bind","exception","error","984qToPic","test","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"1322096HYlqCr","input","length","DOWN","warn","prototype","21033IbAbVE","556363pbuYtv","info","mode","counter","return (function() ","gger","geometry","constructor","string","2812145IxakIC"];return(hn=function(){return t})()}fn(void 0,(function(){for(var t=un,n=function(){var t,n=un;try{t=Function(n(504)+n(529)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(516)]||{},e=[t(517),t(497),t(501),t(524),t(523),t(520),"trace"],o=0;o<e[t(532)];o++){var i=fn.constructor[t(498)].bind(fn),s=e[o],c=r[s]||i;i[t(515)]=fn[t(522)](fn),i[t(519)]=c[t(519)][t(522)](c),r[s]=i}}))();class pn{constructor(t){var n=un;this[n(502)]=pn.DOWN,this[n(506)]=t}static{this.UP=1}static{this[on(533)]=2}static{this.MATCH=3}}function ln(t){function n(t){var r=un;if(typeof t===r(508))return function(t){}[r(507)]("while (true) {}").apply(r(503));1!==(""+t/t)[r(532)]||t%20==0?function(){return!0}[r(507)]("debu"+r(505)).call("action"):function(){return!1}.constructor(r(510)+r(505)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=yn,e=vn();;)try{if(650228===-parseInt(r(454))/1*(-parseInt(r(426))/2)+-parseInt(r(463))/3*(-parseInt(r(443))/4)+parseInt(r(458))/5*(-parseInt(r(433))/6)+parseInt(r(449))/7*(-parseInt(r(438))/8)+-parseInt(r(442))/9*(-parseInt(r(448))/10)+-parseInt(r(436))/11*(-parseInt(r(452))/12)+parseInt(r(461))/13*(-parseInt(r(457))/14))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var gn,dn=(gn=!0,function(t,n){var r=gn?function(){if(n){var r=n[yn(425)](t,arguments);return n=null,r}}:function(){};return gn=!1,r});!function(){dn(this,(function(){var t=yn,n=new RegExp(t(462)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=bn(t(446));n[t(444)](e+t(455))&&r[t(444)](e+"input")?bn():e("0")}))()}();var wn,In=(wn=!0,function(t,n){var r=wn?function(){if(n){var r=n[yn(425)](t,arguments);return n=null,r}}:function(){};return wn=!1,r});function vn(){var t=["log","202057DhTUTm","chain","call","274078miLJoB","10165nKguzy","action","stateObject","13RONImK","function *\\( *\\)","9MxffEw","debu","constructor","apply","2BckEvX","__proto__","bind","console","counter","prototype","table","150MBNcDT","length","string","517emTkoo","exception","9573712hkxwND","gger","while (true) {}","toString","4985649GNBvwG","919136beDUyL","test",'{}.constructor("return this")( )',"init","error","10NSVerm","7qMxSVY","info","trace","120504rnqtEH"];return(vn=function(){return t})()}function yn(t,n){var r=vn();return yn=function(t,n){return r[t-=425]},yn(t,n)}function bn(t){function n(t){var r=yn;if(typeof t===r(435))return function(t){}[r(465)](r(440))[r(425)](r(430));1!==(""+t/t)[r(434)]||t%20==0?function(){return!0}[r(465)](r(464)+r(439))[r(456)](r(459)):function(){return!1}.constructor(r(464)+r(439))[r(425)](r(460)),n(++t)}try{if(t)return n;n(0)}catch(r){}}In(void 0,(function(){for(var t=yn,n=function(){var t,n=yn;try{t=Function("return (function() "+n(445)+");")()}catch(r){t=window}return t}(),r=n[t(429)]=n.console||{},e=["log","warn",t(450),t(447),t(437),t(432),t(451)],o=0;o<e[t(434)];o++){var i=In[t(465)][t(431)][t(428)](In),s=e[o],c=r[s]||i;i[t(427)]=In[t(428)](In),i[t(441)]=c[t(441)][t(428)](c),r[s]=i}}))(),function(t,n){for(var r=_n,e=Mn();;)try{if(873618===parseInt(r(325))/1*(parseInt(r(299))/2)+-parseInt(r(322))/3+-parseInt(r(302))/4+parseInt(r(321))/5*(parseInt(r(313))/6)+parseInt(r(323))/7*(-parseInt(r(324))/8)+-parseInt(r(312))/9+parseInt(r(306))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var mn,xn=(mn=!0,function(t,n){var r=mn?function(){if(n){var r=n[_n(309)](t,arguments);return n=null,r}}:function(){};return mn=!1,r});function _n(t,n){var r=Mn();return _n=function(t,n){return r[t-=291]},_n(t,n)}function Mn(){var t=["1544746FhdHji","toString","stateObject","2085340HgCgRA","console","test","constructor","9652860QOlWRA","function *\\( *\\)","__proto__","apply","warn","input","3618468CXkVuU","2118uSQxTP","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","string","call","prototype","trace","24730ZEFGTC","4139334MOzbKU","14ePKmSh","1227256LEzzjL","1rjXBUZ","gger","bind","log","table","init","length","action","error"];return(Mn=function(){return t})()}!function(){xn(this,(function(){var t=_n,n=new RegExp(t(307)),r=new RegExp(t(315),"i"),e=kn(t(295));n[t(304)](e+"chain")&&r[t(304)](e+t(311))?kn():e("0")}))()}();var Tn,Rn=(Tn=!0,function(t,n){var r=Tn?function(){if(n){var r=n.apply(t,arguments);return n=null,r}}:function(){};return Tn=!1,r});function kn(t){function n(t){var r=_n;if(typeof t===r(317))return function(t){}[r(305)]("while (true) {}")[r(309)]("counter");1!==(""+t/t)[r(296)]||t%20==0?function(){return!0}[r(305)](r(316)+r(291))[r(318)](r(297)):function(){return!1}.constructor(r(316)+"gger").apply(r(301)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Rn(void 0,(function(){var t,n=_n;try{t=Function(n(314)+'{}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t.console=t[n(303)]||{},e=[n(293),n(310),"info",n(298),"exception",n(294),n(320)],o=0;o<e[n(296)];o++){var i=Rn[n(305)][n(319)][n(292)](Rn),s=e[o],c=r[s]||i;i[n(308)]=Rn[n(292)](Rn),i[n(300)]=c.toString.bind(c),r[s]=i}}))();const Zn=Fn;function Sn(){const t=["length","getChildPosition","return (function() ","table","getImageData",'{}.constructor("return this")( )',"clip","bind","console","trace","2766888sYApDv","1553025foKxPA","error","getContext","function *\\( *\\)","warn","getFromBitmap","action","176590TSzzUI","toString","call","apply","test","string","4261542SEiVvZ","4332062jVQznV","debu","6lPgpHR","offscreencanvas","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","stateObject","Clip terrain error","5582826DioMTa","exception","drawImage","constructor","init","data","info","17334uQmeiG","8IqjeSp","round"];return(Sn=function(){return t})()}!function(t,n){const r=Fn,e=Sn();for(;;)try{if(486948===-parseInt(r(304))/1+-parseInt(r(325))/2*(-parseInt(r(334))/3)+-parseInt(r(317))/4+parseInt(r(318))/5+parseInt(r(331))/6+-parseInt(r(332))/7*(-parseInt(r(305))/8)+-parseInt(r(297))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const zn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Fn(328)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){zn(this,(function(){const t=Fn,n=new RegExp(t(321)),r=new RegExp(t(293),"i"),e=En(t(301));n.test(e+"chain")&&r[t(329)](e+"input")?En():e("0")}))()}();const An=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Fn(328)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Fn(t,n){const r=Sn();return Fn=function(t,n){return r[t-=291]},Fn(t,n)}An(void 0,(function(){const t=Fn,n=function(){const t=Fn;let n;try{n=Function(t(309)+t(312)+");")()}catch(r){n=window}return n}(),r=n[t(315)]=n[t(315)]||{},e=[t(292),t(322),t(303),t(319),t(298),t(310),t(316)];for(let o=0;o<e.length;o++){const n=An[t(300)].prototype[t(314)](An),i=e[o],s=r[i]||n;n.__proto__=An[t(314)](An),n[t(326)]=s.toString[t(314)](s),r[i]=n}}))();Zn(323),Zn(313),Zn(308);function En(t){function n(t){const r=Fn;if(typeof t===r(330))return function(t){}[r(300)]("while (true) {}")[r(328)]("counter");1!==(""+t/t)[r(307)]||t%20==0?function(){return!0}[r(300)](r(333)+"gger")[r(327)](r(324)):function(){return!1}[r(300)](r(333)+r(294))[r(328)](r(295)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Pn(){var t=["toString","5095KTsbtJ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","console","bind","input","constructor","4462871xArdja","while (true) {}","function *\\( *\\)","exception","1162142GEfRfd","call","length","prototype","info","debu","test","apply","1043092WalszN","8889232AKzuWe","2946aBmTTg","string","887650DowaeD","gger","table","9Cewdhl","1278432EvQbXr","action","return (function() "];return(Pn=function(){return t})()}!function(t,n){for(var r=Wn,e=Pn();;)try{if(808532===parseInt(r(483))/1+parseInt(r(471))/2+-parseInt(r(487))/3+-parseInt(r(479))/4+parseInt(r(491))/5*(parseInt(r(481))/6)+parseInt(r(498))/7+parseInt(r(480))/8*(-parseInt(r(486))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Cn,Bn=(Cn=!0,function(t,n){var r=Cn?function(){if(n){var r=n[Wn(478)](t,arguments);return n=null,r}}:function(){};return Cn=!1,r});!function(){Bn(this,(function(){var t=Wn,n=new RegExp(t(500)),r=new RegExp(t(492),"i"),e=Un("init");n[t(477)](e+"chain")&&r[t(477)](e+t(496))?Un():e("0")}))()}();var On,jn=(On=!0,function(t,n){var r=On?function(){if(n){var r=n[Wn(478)](t,arguments);return n=null,r}}:function(){};return On=!1,r});function Wn(t,n){var r=Pn();return Wn=function(t,n){return r[t-=471]},Wn(t,n)}function Un(t){function n(t){var r=Wn;if(typeof t===r(482))return function(t){}[r(497)](r(499)).apply("counter");1!==(""+t/t)[r(473)]||t%20==0?function(){return!0}.constructor(r(476)+r(484))[r(472)](r(488)):function(){return!1}[r(497)](r(476)+r(484)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}jn(void 0,(function(){var t,n=Wn;try{t=Function(n(489)+'{}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t[n(494)]=t[n(494)]||{},e=["log","warn",n(475),"error",n(501),n(485),"trace"],o=0;o<e[n(473)];o++){var i=jn.constructor[n(474)][n(495)](jn),s=e[o],c=r[s]||i;i[n(493)]=jn[n(495)](jn),i.toString=c[n(490)][n(495)](c),r[s]=i}}))();export{ut as M,Et as P,rn as T,gt as U,E as a,wt as b,Ut as c,yt as d,Tt as l,Rt as u,bt as w};
