import{_ as e,l as t}from"./@tresjs.BCHtwiaC1763540743861.js";import{o as a}from"./index.Crdf3MNx1763540743861.js";import{d as r,a8 as s,w as o,H as n,o as l,J as i,h as d,u as f}from"./@vue.Co_gxueH1763540743861.js";import{az as m,aF as u,V as c,bc as p,l as g,b8 as h,ae as w,x as S}from"./three.rXKzP9fQ1763540743861.js";const v={renderOrder:999999},b=["args"],_=r({__name:"spaceLine",props:{color:{default:"#ff6700"},color2:{default:"#ffffff"},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(r){let _,C;const M=r,x=([_,C]=s(()=>a("./plugins/digitalMapBlock/images/bwPath.png")),_=await _,C(),_);x.needsUpdate=!0,x.wrapS=x.wrapT=m,x.repeat.set(M.fewNum,1),x.rotation=M.clockwise?0:Math.PI,x.generateMipmaps=!1,x.magFilter=u;let F=[];M.linesList.forEach(e=>{F.push((new c).fromArray(e))});const y=new p(F),{onBeforeRender:j}=e();j(()=>{x.offset.x+=.002*M.speed}),o(()=>[M.clockwise,M.fewNum],([e,t])=>{x.rotation=e?0:Math.PI,x.repeat.set(t,1)});const T={vertexShader:"\n\t\t\t\tvoid main() {\n\t\t\t\t\tcsm_Position = position * vec3(1.0);\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\t\tuniform vec3 uColor2;\n      void main () {\n\t\t\t\t\tif(csm_FragColor.r < 0.001 && csm_FragColor.g < 0.001 && csm_FragColor.b < 0.001){\n\t\t\t\t\t\tcsm_FragColor = vec4(uColor2,1.0);\n\t\t\t\t\t}else{\n          \tcsm_FragColor = csm_FragColor;\n\t\t\t\t\t}\n\t\t\t}\n\t\t",uniforms:{uColor2:{value:new g(M.color2)}}};return o(()=>M.color2,e=>{T.uniforms.uColor2.value=new g(e)}),(e,a)=>(l(),n("TresMesh",v,[i("TresTubeGeometry",{args:[f(y),M.tubularSegments,M.radius,M.radialSegments,M.closed]},null,8,b),d(f(t),{baseMaterial:S,vertexShader:T.vertexShader,fragmentShader:T.fragmentShader,uniforms:T.uniforms,side:w,flatShading:!1,blending:h,map:f(x),alphaMap:f(x),transparent:!0,color:M.color,depthTest:!0,depthWrite:!1,silent:""},null,8,["baseMaterial","vertexShader","fragmentShader","uniforms","side","blending","map","alphaMap","color"])]))}});export{_};
