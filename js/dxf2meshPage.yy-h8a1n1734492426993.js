import{k as t}from"./@tresjs.WiFlZbqU1734492426993.js";import{cG as n,cu as e,_ as o,a as s,aP as r,ac as i,ck as c,a$ as a,c0 as u,ak as p,am as l,aF as f,$ as d,s as g}from"./three.-W-Avfc61734492426993.js";import{P as m}from"./tweakpane.yHWGBmom1734492426993.js";import{a as h}from"./index.GoKrQvrO1734492426993.js";import"./index.bjrbQKEI1734492426993.js";import{_}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.lZil-L1T1734492426993.js";import{d as w,r as v,X as x,s as j,q as y,e as b,o as I,D as k,j as B,g as z,J as C,u as F,m as M,f as S,al as T,I as A}from"./@vue.-THQH3GC1734492426993.js";import{_ as E}from"./@fesjs.-ojmPQ0_1734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";import"./three-stdlib.JXmeYOx_1734492426993.js";import"./@pmndrs.2S_aDSAC1734492426993.js";import"./object-hash.jUbfcDFp1734492426993.js";import"./@amap.VVwFehhA1734492426993.js";import"./jszip.h2xC22IC1734492426993.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.ZKvR8GT61734492426993.js";import"./all.three.-35MVhE11734492426993.js";import"./oimophysics.x0jH7fze1734492426993.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.ccUiRlDO1734492426993.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.uRMaWgid1734492426993.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.5xJfj9Ef1734492426993.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.tc-Hu1OP1734492426993.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.65ISCpqJ1734492426993.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.8IXPc8DG1734492426993.js";import"./vue-router.XKFr-7ni1734492426993.js";import"./lodash-es.kYt-_xTG1734492426993.js";import"./@qlin.yHhFDldE1734492426993.js";import"./pinia.21wZrGqi1734492426993.js";import"./vue-demi.C4xddsk91734492426993.js";import"./@floating-ui.BPbuo5Gx1734492426993.js";import"./@juggle.7yjBMqoW1734492426993.js";function R(t,n){const e=X();return(R=function(t,n){return e[t-=216]})(t,n)}!function(t,n){const e=R,o=X();for(;;)try{if(363082===-parseInt(e(278))/1+-parseInt(e(263))/2+-parseInt(e(269))/3*(parseInt(e(239))/4)+-parseInt(e(218))/5*(-parseInt(e(268))/6)+-parseInt(e(243))/7+-parseInt(e(247))/8+-parseInt(e(244))/9*(-parseInt(e(267))/10))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(216)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=R,n=new RegExp(t(234)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=G(t(253));n[t(273)](o+"chain")&&e[t(273)](o+t(270))?G():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(216)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=R;let n;try{n=Function(t(256)+t(224)+");")()}catch(s){n=window}const e=n[t(223)]=n[t(223)]||{},o=[t(246),t(232),t(225),t(274),t(272),t(222),t(264)];for(let r=0;r<o[t(220)];r++){const n=D[t(217)][t(230)][t(276)](D),s=o[r],i=e[s]||n;n[t(229)]=D[t(276)](D),n[t(236)]=i.toString[t(276)](i),e[s]=n}}))();class V{constructor(t){this.name=t}drawImportSpecialBoard(t,u,p){const l=R,f=(new n)[l(235)](u),d=new e;f.paths.forEach(((t,n)=>{const e=l;t[e(231)](!0)[e(251)](((t,o)=>{const s=e;0===n&&0===o?d[s(241)](t):d[s(277)][s(240)](t)}))}));const g=new(o[l(228)])(d,{depth:18,bevelEnabled:!1});g.computeBoundingBox();const m=g.boundingBox.getCenter(new(o[l(254)]))[l(260)]();g[l(275)](m.x,m.y,m.z),g[l(245)]();const h=g[l(271)][l(262)],_=g[l(271)].min,w=new(o[l(219)])(0-_.x,0-_.y),v=new(o[l(219)])(h.x-_.x,h.y-_.y);g[l(257)].uv=new s(new Float32Array(2*g[l(257)].position[l(237)]),2);for(let n=0;n<g[l(257)].position[l(237)];n++){const t=g.attributes[l(221)].getX(n),e=g.attributes.position[l(266)](n);g.attributes.uv[l(255)](n,(t+w.x)/v.x,(e+w.y)/v.y)}const x=new(o[l(249)])({map:null}),j=new(o[l(279)])(g,x);j.material=new r({map:null,color:l(242),roughness:1,metalness:.1,envMapIntensity:2.5}),j.receiveShadow=!0,j[l(261)]=!0,j[l(221)].x=p,j[l(221)].y=250;const y=new i({color:0}),b=new c(j[l(238)],1),I=new a(b,y);I[l(227)]=1,I.position[l(241)](j[l(221)]),I.rotation.copy(j.rotation),j[l(248)]=I,t[l(226)](j,j[l(248)])}}function X(){const t=["8562dcqmqz","3PnvOgU","input","boundingBox","exception","test","error","translate","bind","holes","76351cYFRyB","Mesh","apply","constructor","2075fmgeVe","Vector2","length","position","table","console",'{}.constructor("return this")( )',"info","add","renderOrder","ExtrudeGeometry","__proto__","prototype","toShapes","warn","debu","function *\\( *\\)","parse","toString","count","geometry","1009852CpNErO","push","copy","#AFAFAD","2032779zkEgOe","6271704OhACvj","computeBoundingBox","log","5774008GsNUoa","mBoundingBox","MeshBasicMaterial","stateObject","forEach","counter","init","Vector3","setXY","return (function() ","attributes","action","call","negate","castShadow","max","563746gcRhTe","trace","string","getY","20vXVUBz"];return(X=function(){return t})()}function G(t){function n(t){const e=R;if(typeof t===e(265))return function(t){}.constructor("while (true) {}")[e(216)](e(252));1!==(""+t/t)[e(220)]||t%20==0?function(){return!0}[e(217)]("debugger")[e(259)](e(258)):function(){return!1}[e(217)](e(233)+"gger")[e(216)](e(250)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=O;!function(t,n){const e=O,o=U();for(;;)try{if(577695===-parseInt(e(486))/1+parseInt(e(464))/2+-parseInt(e(466))/3+-parseInt(e(427))/4+-parseInt(e(419))/5+-parseInt(e(415))/6*(parseInt(e(425))/7)+parseInt(e(402))/8)break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(417)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(t,n){const e=U();return(O=function(t,n){return e[t-=400]})(t,n)}!function(){$(this,(function(){const t=O,n=new RegExp(t(423)),e=new RegExp(t(431),"i"),o=H(t(495));n[t(473)](o+"chain")&&e[t(473)](o+"input")?H():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(417)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=O,n=function(){const t=O;let n;try{n=Function("return (function() "+t(481)+");")()}catch(e){n=window}return n}(),e=n[t(449)]=n.console||{},o=["log",t(476),t(432),t(443),t(467),t(433),t(405)];for(let s=0;s<o[t(460)];s++){const n=Z[t(461)][t(444)][t(424)](Z),r=o[s],i=e[r]||n;n[t(435)]=Z.bind(Z),n[t(488)]=i[t(488)][t(424)](i),e[r]=n}}))();const Y={key:0,class:P(446)},L={class:P(491)};function U(){const t=["#776A8F","toString","1000","onload","footBtn","main-svg","#3a78a2","text/javascript","init","#ffffff","TresMeshBasicMaterial","#82DBC5","remove","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","fileInput","导入dxf","querySelector","then","button","30710264ckgqzu","1.1","blue","trace","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","translate(50, 50)","onerror","TresDirectionalLight","div","pos-z.jpg","file","下载测试文件1","pos-x.jpg","1202874rcTZHu"," 时出错","apply","string","5753995kkibCK","TresGroup","http://www.w3.org/2000/svg","groupRef","function *\\( *\\)","bind","7ydEZSx","appendChild","4089760VgjpBb","初始化","addFolder","_blank","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","table","while (true) {}","__proto__","TresAmbientLight","outerHTML","dxfFileInput","boxMeshRef","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","下载测试文件2","neg-y.jpg","error","prototype","gger","dialogDiv","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","createElement","console","TresCanvas","stateObject","#627179","TresMesh","src","svg","click","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","http://www.inkscape.org/namespaces/inkscape","TresPerspectiveCamera","length","constructor","dialogVisible","action","1277720ApqMzL","TresGridHelper","3093897TvJdiy","exception","type","children","xMidYMid meet","open","debu","test","neg-z.jpg","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","warn","neg-x.jpg","value","加载脚本 ","addButton",'{}.constructor("return this")( )',"head","add","localFileReader","assembly","494931BJoqtX"];return(U=function(){return t})()}function H(t){function n(t){const e=O;if(typeof t===e(418))return function(t){}[e(461)](e(434))[e(417)]("counter");1!==(""+t/t)[e(460)]||t%20==0?function(){return!0}.constructor(e(472)+e(445)).call(e(463)):function(){return!1}[e(461)]("debugger")[e(417)](e(451)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=E(w({__name:"dxf2meshPage",setup(n){const e=P,o=v({dialogVisible:!1}),s={clearColor:e(498),shadows:!0,alpha:!1,shadowMapType:u,outputColorSpace:p,toneMapping:l},r=v({cellSize:60,cellThickness:1.1,cellColor:e(452),sectionColor:e(493),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let i=0;const c=x(),a=x(),w=new m;w[e(480)]({title:e(413)}).on(e(456),(()=>{const t=e;window[t(471)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(430))})),w[e(480)]({title:e(441)}).on(e(456),(()=>{const t=e;window.open("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(430))}));const E=w[e(429)]({title:"远近"});function R(){const t=e,n=a[t(478)];o[t(462)]=!1;const s=document[t(503)]("#svg-display svg");if(s){const e=s[t(437)];let o=new V;i+=1200,o.drawImportSpecialBoard(n,e,i)}}function q(t){return new Promise(((n,e)=>{const o=O,s=document[o(448)]("script");s[o(454)]=t,s[o(468)]=o(494),s[o(490)]=()=>n(),s[o(408)]=()=>e(new Error(o(479)+t+o(416))),document[o(482)][o(426)](s)}))}return E[e(480)]({title:e(502)}).on(e(456),(()=>{const t=e;o[t(462)]=!0,j((()=>{const n=t;window[n(484)][n(495)]()}))})),E[e(480)]({title:e(428)}).on(e(456),(()=>{!function(){const t=e,n=new f(500,500,18),o=new d({color:t(404)}),s=new g(n,o),r=a[t(478)];for(;r[t(469)][t(460)]>0;){const n=r.children[0];r[t(499)](n)}r[t(483)](s)}()})),y((()=>{!function(){const t=e;q(t(447))[t(400)]((()=>q(t(500))))[t(400)]((()=>q(t(475)))).then((()=>q("plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js"))).then((()=>q(t(457))))[t(400)]((()=>q(t(440)))).catch((n=>console[t(443)]("加载脚本时出错",n)))}()})),(n,i)=>{const u=e,p=b(u(450));return I(),k(u(410),null,[B(p,M(s,{"window-size":""}),{default:z((()=>[i[2]||(i[2]=C(u(459),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),B(F(t),{"make-default":""}),i[3]||(i[3]=C(u(465),{position:[0,-1,0],size:u(489),divisions:"10000"},null,-1)),C(u(420),{ref_key:u(422),ref:a,position:[2,250,0]},[C(u(453),{ref_key:u(439),ref:c},i[1]||(i[1]=[C("TresBoxGeometry",{args:[500,500,18]},null,-1),C(u(497),{color:u(404)},null,-1)]),512)],512),i[4]||(i[4]=C(u(436),{color:u(496),intensity:1},null,-1)),i[5]||(i[5]=C(u(409),{color:u(496),position:[300,300,250],intensity:6},null,-1)),B(F(_),M({args:[3,3]},r,{position:[0,-.5,0]}),null,16),(I(),S(T,null,{default:z((()=>[B(F(h),{files:[u(414),u(477),"pos-y.jpg",u(442),u(411),u(474)],path:u(406)})])),_:1}))])),_:1},16),o[u(462)]?(I(),k(u(410),Y,[i[6]||(i[6]=C(u(410),{id:"svg-display",class:u(485),style:{}},[C(u(455),{id:u(492),xmlns:"http://www.w3.org/2000/svg","xmlns:svg":u(421),"xmlns:inkscape":u(458),version:u(403),preserveAspectRatio:u(470)},[C("g",{id:"dxf2svg",class:"pen1","stroke-width":"6",fill:u(487),transform:u(407)})])],-1)),i[7]||(i[7]=C(u(410),{class:u(501)},[C("input",{id:u(438),type:u(412)})],-1)),C(u(410),L,[C(u(401),{onClick:i[0]||(i[0]=t=>o[u(462)]=!1)},"取消"),C(u(401),{onClick:R},"确定")])])):A("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{J as default};
