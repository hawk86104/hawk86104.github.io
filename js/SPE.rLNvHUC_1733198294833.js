import{_ as t,cl as e,d as i,a as n,bI as s,k as o,as as r,V as a,C as c,h,aB as l,m as u}from"./three.8iJMi2lU1733198294833.js";const f=g;!function(t,e){const i=g,n=d();for(;;)try{if(565121===-parseInt(i(267))/1*(parseInt(i(401))/2)+parseInt(i(358))/3*(parseInt(i(252))/4)+parseInt(i(274))/5+-parseInt(i(195))/6*(parseInt(i(523))/7)+-parseInt(i(579))/8+parseInt(i(272))/9+parseInt(i(249))/10*(parseInt(i(461))/11))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[g(239)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function d(){const t=["_pool","_calculatePPSValue","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","Emitter already belongs to another group. Will not add to requested group.","getFromPool","80551KHVwVq","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","_attributesNeedRefresh","_assignForceValue","resetFlags","2826558hemIFP","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","1679910gHsurU","   return c;","unpackColor","console","   return params.x;","ensureValueOverLifetimeCompliance","    return a * b;","       );","    force += accel * age;","enable","_setBufferUpdateRanges","_randomise","    #ifdef COLORIZE","       float s = sin(angle);","transparent","counter","   c.g = g / PACKED_COLOR_DIVISOR;","        float framesY = vSpriteSheet.y;","input","    return 1.0 - abs( sign( x - y ) );","    return value;","varying vec4 vColor;","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","lerp","        float loopCount = textureAnimation.w;","uniform vec4 textureAnimation;","                   0.0,                                0.0,                                0.0,                                1.0);","float when_eq( float x, float y ) {","gger","    float fIndex = 0.0;","_attributesNeedDynamicReset","attribute vec4 params;","_center","    vec3 outgoingLight = vColor.xyz;","#ifdef SHOULD_CALCULATE_SPRITE","spread","NUMBER","fog_pars_vertex","tick","usage","function *\\( *\\)","_assignRotationValue","_triggerSingleEmitter","    highp float positionInTime = (age / maxAge);","type","`emitter` argument must be instance of SPE.Emitter. Was provided with:","elements","branchAvoidanceFunctions","        pos.y += wiggleCos;","    force *= drag;","velocity","attributeKeys","vec3 getAcceleration( in float age ) {","releaseIntoPool","setMat3","offset","_assignAbsLifetimeValue","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","_spreadClamp","randomDirectionVector3OnSphere","    vec3 force = vec3( 0.0 );","Points","    highp float isAlive = when_gt( alive, 0.0 );","typeSizeMap","SPHERE","_updateDefines","attributeCount","   c.b = b / PACKED_COLOR_DIVISOR;","        pos.z += wiggleSin;","    return max(sign(x - y), 0.0);","Vector2","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","generateUUID","axisSpread","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","particleCount","DynamicDrawUsage","_updateBuffers","amd","_decrementParticleCount","prototype","_assignAngleValue","POSITIVE_INFINITY","#endif","22317JopdpR","SPE.Group pool ran out.","_rotationCenter","       float c = cos(angle);","join","static","_assignParamsValue","      vec3 axis = unpackRotationAxis( rotation.x );","OBJECT","void main() {","maxAge","           return pos;","randomFloat","Vector4","error","       if ( vColor.w < float(ALPHATEST) ) discard;","   float b = mod( hex, PACKED_COLOR_SIZE );","length","uuid","    gl_Position = projectionMatrix * mvPosition;","shaderChunks","float getAlive() {","acceleration","vec3 unpackRotationAxis( in float hex ) {","        float framesX = textureAnimation.x;","params","age","bind","multiplyScalar","colorOverLifetime","_poolCreationSettings","   return params.y;","rotationCenter","float or(float a, float b) {","sqrt","      }","spe","opacity","      float angle = 0.0;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","logdepthbuf_pars_vertex","unpackRotationAxis","20kLtcvx","arrayValuesAreEqual","interpolateArray","activationIndex","  return 1.0 - when_gt(x, y);","paramFetchingFunctions","setAttribute","           unpackColor( color.z ),","        float column = floor(mod( frameNumber, framesX ));","isStatic","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","   return modelViewMatrix * vec4( position, 1.0 );","SHOULD_CALCULATE_SPRITE","        float rowNorm = row / framesY;","resetDynamic","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","    varying vec4 vSpriteSheet;","_assignPositionValue","      translated = rotationCenter - pos;","randomVector3OnLine","hasOwnProperty","group","BOX","keys","_distribution","ensureArrayTypedArg","float when_ge(float x, float y) {","hasPerspective","disable","value","indexOf","setColor","resetUpdateRange","SHOULD_WIGGLE_PARTICLES","Group","setDrawRange","trace","Texture","subarray","push","arrayType","_checkParticleAges","SHOULD_ROTATE_TEXTURE","updateRange","bufferUpdateCount","valueOverLifetimeLength","logdepthbuf_fragment","    pos += force;","TypedArrayHelper","        vSpriteSheet.x = 1.0 / framesX;","onParticleSpawn","shrink","cos","spreadClamp","attributeOffset","utils","updateCounts","_setAttributeOffset","exports","duration","16151421fYHomR","dispose","        float columnNorm = column / framesX;","    highp float alive = getAlive();","depthTest","Emitter does not belong to a group, cannot remove.","texture","common","       float x = gl_PointCoord.x - 0.5;","setUpdateRange","        float wiggleCos = isAlive * cos( wiggleAmount );","vec4 getPosition( in float age ) {","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","       fIndex = float( i );","loop","_incrementParticleCount","_createBufferAttribute","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","    #ifdef SHOULD_ROTATE_PARTICLES","setNumber","       float oc = 1.0 - c;","angle","maxParticleCount","addEmitter","random","_updateAttributeUpdateRange","string","textureFrameCount","randomise","    return min(a + b, 1.0);","        float wiggleSin = isAlive * sin( wiggleAmount );","_createGetterSetters","removeEmitter","setVec4Components","debu","setVec3","textureLoop","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","      if( rotation.y == 0.0 ) {","attribute vec4 size;","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","while (true) {}","angleSpread","    vec3 pos = vec3( position );","   c *= vec3( 2.0 );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","Color","attribute vec4 opacity;",'{}.constructor("return this")( )',"BufferGeometry","round","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","       vec3 c = isAlive * getColorOverLifetime(","position","unshift","SHOULD_ROTATE_PARTICLES","rotateTexture","setFromArray","dynamicBuffer","Argument is not instanceof SPE.Emitter:","bufferAttribute","defineProperty","3696721NQhFBS","Will not resize.","flagUpdate","_radius","__proto__","float getWiggle() {","DISC","       float y = 1.0 - gl_PointCoord.y - 0.5;","array","ShaderAttribute","fixedTimeStep","    vColor = vec4( c, o );","clamp","logdepthbuf_pars_fragment","_assignValue","size","logdepthbuf_vertex","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","direction","#ifdef SHOULD_ROTATE_TEXTURE","count","       vec3 c = vec3(1.0);","reset","_distributionClamp","number","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","log","splice","_applyAttributesToGeometry","Emitter","NEGATIVE_INFINITY","    #ifdef ALPHATEST","#ifdef SHOULD_ROTATE_PARTICLES","blending","_createNewWhenPoolEmpty","rotation","emitters","  return 1.0 - when_lt(x, y);","_resetBufferRanges","       float s = sin( -vAngle );","stateObject","_axisSpread","replace","TypedArray is already of size:","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","frameCount","sin","attributeEnd","material","_angleSpread","forceFetchingFunctions","_radiusScale","types","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","3423304oPwYiL","StaticDrawUsage","randomColorAsHex","    #endif","        pos.x += wiggleSin;","        vSpriteSheet.w = rowNorm;","    force += vel;","frames","LINE","randomVector3","drag","activationEnd","roundToNearestMultiple","ceil","      mat4 rotationMatrix;","    }","undefined","add","_resetParticle","center","TypedArrayConstructor","color","defines","geometry","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","vec3 unpackColor( in float hex ) {","        pos = getRotation( pos, positionInTime );","   return params.z;","colorize","_onRemove","fog_vertex","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","uniforms","test","depthWrite","bufferUpdateKeys","alphaTest","ShaderChunk","constructor","float getMaxAge() {","        float rowNorm = vSpriteSheet.w;","uniform float deltaTime;","           unpackColor( color.w )","ensureTypedArg","   return velocity * age;","attribute vec3 velocity;","    highp float age = getAge();","updateMax","updateMap","distribution","setVec3Components","      vec3 center = rotationCenter;","BOOLEAN","attribute vec4 acceleration;","setRGB","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float row = floor( (frameNumber - column) / framesX );","           unpackColor( color.y ),","    #else","init","particlesPerSecond","indexOffset","emitterIDs","bufferUpdateRanges","max","textureFrames","radiusScale","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","_axis","fog","attributes","object","Emitter does not exist in this group. Will not remove.","getComponentValueAtIndex","particles, can support only","min","    vec4 rotatedTexture = texture2D( tex, vUv );","setVec4","normalize","remove","axis","updateFlags","activeParticleCount","6PGedxd","        float perspective = scale / length( mvPosition.xyz );","    #ifdef SHOULD_ROTATE_TEXTURE","warn","varyings","deltaTime","   vec3 c = vec3( 0.0 );","getHex","exception","attribute vec4 color;","randomDirectionVector3OnDisc","_activateParticles","_value","shaders","triggerPoolEmitter","    vec3 accel = getAcceleration( age );","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","activeMultiplier","distributions","needsUpdate","componentSize","       float c = cos( -vAngle );","   }","attribute vec4 rotation;","return (function() ","Invalid argument types, or argument types do not match:","setVec2","clone","randomVector3OnDisc","pop","rotationFunctions","runTime","grow","alive","_ensureTypedArray","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","copy","scale","toString","    vec3 value = vec3( 0.0 );","paramsArray","#define PACKED_COLOR_SIZE 256.0","#define PACKED_COLOR_DIVISOR 255.0","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","apply","Vector3","abs","updateMin","set","_spread","setVec2Components","ensureArrayInstanceOf","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","ensureInstanceOf","10RFHYcH","    #ifdef SHOULD_CALCULATE_SPRITE","    gl_PointSize = pointSizePerspective;","112bhIYOr","isArray","   return params.w;","function","randomVector3OnSphere","wiggle","   c -= vec3( 1.0 );","      vec3 translated;","floor","typedArray"];return(d=function(){return t})()}!function(){p(this,(function(){const t=g,e=new RegExp(t(314)),i=new RegExp(t(568),"i"),n=_(t(171));e[t(145)](n+"chain")&&i[t(145)](n+t(292))?_():n("0")}))()}();const m=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[g(239)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function g(t,e){const i=d();return(g=function(t,e){return i[t-=136]})(t,e)}m(void 0,(function(){const t=g;let e;try{e=Function(t(219)+t(509)+");")()}catch(s){e=window}const i=e[t(277)]=e[t(277)]||{},n=["log",t(198),"info","error",t(203),"table",t(437)];for(let o=0;o<n[t(375)];o++){const e=m.constructor[t(354)][t(385)](m),s=n[o],r=i[s]||e;e[t(527)]=m[t(385)](m),e[t(233)]=r.toString[t(385)](r),i[s]=e}}))();const y={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};"function"==typeof define&&define[f(352)]?define(f(394),y):typeof exports!==f(595)&&"undefined"!=typeof module&&(module[f(459)]=y),y.TypedArrayHelper=function(t,e,i,n){const s=f;this[s(215)]=i||1,this[s(538)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(531)]=new t(e*this[s(215)]),this[s(173)]=n||0},y[f(449)][f(150)]=y.TypedArrayHelper,y[f(449)][f(354)].setSize=function(t,e){const i=f,n=this[i(531)][i(375)];return!e&&(t*=this[i(215)]),t<n?this[i(452)](t):t>n?this[i(227)](t):void console.info(i(566),t+".",i(524))},y.TypedArrayHelper[f(354)].shrink=function(t){const e=f;return this[e(531)]=this.array[e(439)](0,t),this[e(538)]=t,this},y[f(449)][f(354)][f(227)]=function(t){const e=f,i=this[e(531)],n=new(this[e(599)])(t);return n[e(243)](i),this[e(531)]=n,this[e(538)]=t,this},y[f(449)][f(354)][f(550)]=function(t,e){const i=f;t*=this.componentSize,e*=this[i(215)];const n=[],s=this[i(531)],o=s[i(375)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(440)](s[r]);return this[i(518)](0,n),this},y.TypedArrayHelper[f(354)][f(518)]=function(t,e){const i=f,n=t+e[i(375)];return n>this[i(531)].length?this.grow(n):n<this[i(531)][i(375)]&&this[i(452)](n),this[i(531)].set(e,this.indexOffset+t),this},y.TypedArrayHelper[f(354)][f(221)]=function(t,e){return this[f(245)](t,e.x,e.y)},y[f(449)].prototype.setVec2Components=function(t,e,i){const n=f,s=this.array,o=this[n(173)]+t*this[n(215)];return s[o]=e,s[o+1]=i,this},y[f(449)][f(354)][f(496)]=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},y[f(449)][f(354)][f(162)]=function(t,e,i,n){const s=this[f(531)],o=this.indexOffset+t*this.componentSize;return s[o]=e,s[o+1]=i,s[o+2]=n,this},y[f(449)].prototype[f(189)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},y[f(449)].prototype.setVec4Components=function(t,e,i,n,s){const o=f,r=this[o(531)],a=this[o(173)]+t*this[o(215)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},y[f(449)][f(354)][f(328)]=function(t,e){const i=f;return this.setFromArray(this.indexOffset+t*this[i(215)],e[i(320)])},y[f(449)][f(354)].setMat4=function(t,e){const i=f;return this[i(518)](this.indexOffset+t*this[i(215)],e[i(320)])},y[f(449)][f(354)][f(432)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},y[f(449)].prototype[f(480)]=function(t,e){const i=f;return this[i(531)][this[i(173)]+t*this.componentSize]=e,this},y[f(449)].prototype.getValueAtIndex=function(t){const e=f;return this[e(531)][this[e(173)]+t]},y[f(449)][f(354)][f(185)]=function(t){const e=f;return this[e(531)].subarray(this.indexOffset+t*this[e(215)])},y[f(532)]=function(t,e,i){const n=f,s=y.ShaderAttribute.typeSizeMap;this[n(318)]=typeof t===n(487)&&s[n(421)](t)?t:"f",this[n(215)]=s[this[n(318)]],this.arrayType=i||Float32Array,this.typedArray=null,this[n(521)]=null,this[n(519)]=!!e,this[n(242)]=0,this[n(159)]=0},y[f(532)][f(150)]=y[f(532)],y.ShaderAttribute[f(337)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},y[f(532)][f(354)][f(470)]=function(t,e){const i=f;this[i(242)]=Math[i(187)](t*this.componentSize,this[i(242)]*this[i(215)]),this[i(159)]=Math[i(176)](e*this[i(215)],this[i(159)]*this[i(215)])},y.ShaderAttribute[f(354)].flagUpdate=function(){const t=f,e=this[t(521)];!e[t(444)]&&(e[t(444)]={});const i=e[t(444)];i.offset=this.updateMin,i[t(543)]=Math.min(this[t(159)]-this.updateMin+this[t(215)],this.typedArray[t(531)][t(375)]),e.needsUpdate=!0},y[f(532)][f(354)][f(433)]=function(){this.updateMin=0,this.updateMax=0},y[f(532)][f(354)].resetDynamic=function(){const e=f;this[e(521)][e(313)]=this[e(519)]?t[e(350)]:t[e(580)]},y.ShaderAttribute[f(354)][f(550)]=function(t,e){const i=f;this[i(261)][i(550)](t,e),this.forceUpdateAll()},y[f(532)][f(354)].forceUpdateAll=function(){const t=f;this[t(521)].array=this[t(261)][t(531)],this[t(521)].updateRange.offset=0,this[t(521)].updateRange.count=-1,this.bufferAttribute[t(313)]=e,this[t(521)][t(214)]=!0},y[f(532)].prototype[f(229)]=function(t){const e=f;null!==this[e(261)]&&this[e(261)][e(538)]===t*this[e(215)]||(null!==this[e(261)]&&this[e(261)][e(538)]!==t?this[e(261)].setSize(t):null===this[e(261)]&&(this.typedArray=new(y[e(449)])(this[e(441)],t,this[e(215)])))},y.ShaderAttribute[f(354)][f(477)]=function(e){const s=f;if(this[s(229)](e),null!==this.bufferAttribute)return this.bufferAttribute[s(531)]=this[s(261)][s(531)],parseFloat(i)>=81&&(this[s(521)][s(543)]=this[s(521)].array[s(375)]/this[s(521)].itemSize),void(this[s(521)][s(214)]=!0);this[s(521)]=new n(this.typedArray[s(531)],this.componentSize),this[s(521)][s(313)]=this[s(519)]?t[s(350)]:t[s(580)]},y.ShaderAttribute[f(354)].getLength=function(){const t=f;return null===this[t(261)]?0:this[t(261)][t(531)][t(375)]},y[f(378)]={defines:[f(236),f(237)][f(362)]("\n"),uniforms:[f(153),"uniform float runTime;","uniform sampler2D tex;",f(299),"uniform float scale;"][f(362)]("\n"),attributes:[f(165),f(157),f(218),"attribute vec3 rotationCenter;",f(305),f(500),"attribute vec4 angle;",f(204),f(508)].join("\n"),varyings:[f(295),f(542),"    varying float vAngle;","#endif",f(308),f(417),f(357)][f(362)]("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {",f(343),"}","float when_lt(float x, float y) {",f(398),"}",f(301),f(293),"}",f(427),f(560),"}","float when_le(float x, float y) {",f(405),"}","float and(float a, float b) {",f(280),"}",f(391),f(490),"}"][f(362)]("\n"),unpackColor:[f(137),f(201),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",f(506),"   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;",f(290),f(341),f(275),"}"][f(362)]("\n"),unpackRotationAxis:[f(381),f(201),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",f(506),f(374),"   c.r = r / PACKED_COLOR_DIVISOR;",f(290),f(341),f(505),f(258),f(275),"}"][f(362)]("\n"),floatOverLifetime:[f(540),"    highp float value = 0.0;",f(273),f(303),"    float shouldApplyValue = 0.0;",f(230),"",f(569),f(474),f(331),"       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );",f(594),"",f(294),"}"][f(362)]("\n"),colorOverLifetime:[f(603),f(234),f(501),f(143),f(179),f(294),"}"].join("\n"),paramFetchingFunctions:[f(379),f(278),"}","float getAge() {",f(389),"}",f(151),f(139),"}",f(528),f(254),"}"].join("\n"),forceFetchingFunctions:[f(472),f(412),"}","vec3 getVelocity( in float age ) {",f(156),"}",f(326),"   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:[f(555),f(268),"       axis = normalize(axis);",f(287),f(361),f(481),"",f(264),f(567),f(348),f(300),f(217),"",f(296),f(499),f(369),f(393),"",f(365),f(163),f(259),f(593),f(396),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",f(238),f(419),"      rotationMatrix = getRotationMatrix( axis, angle );",f(478),f(217),f(357)][f(362)]("\n"),rotateTexture:[f(473),"",f(197),f(469),f(530),f(216),f(562),f(498),f(582),"",f(250),"        float framesX = vSpriteSheet.x;",f(291),"        float columnNorm = vSpriteSheet.z;",f(152),f(397),f(136),"    #endif","",f(188)][f(362)]("\n")},y[f(208)]={vertex:[y[f(378)][f(601)],y.shaderChunks[f(144)],y[f(378)].attributes,y[f(378)].varyings,t[f(149)][f(468)],s[f(399)],t[f(149)][f(311)],y[f(378)][f(321)],y.shaderChunks[f(276)],y[f(378)][f(400)],y[f(378)].floatOverLifetime,y.shaderChunks[f(387)],y[f(378)][f(406)],y[f(378)][f(575)],y[f(378)][f(225)],f(367),f(158),f(464),"    highp float maxAge = getMaxAge();",f(317),f(336),"    #ifdef SHOULD_WIGGLE_PARTICLES","        float wiggleAmount = positionInTime * getWiggle();",f(491),f(471),"    #endif","    vec3 vel = getVelocity( age );",f(210),f(334),f(504),f(345),f(585),f(323),f(282),f(448),"    #ifdef SHOULD_WIGGLE_PARTICLES",f(583),f(322),f(342),f(582),f(479),f(138),"    #endif","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",f(512),"    #ifdef HAS_PERSPECTIVE",f(196),f(170),"        float perspective = 1.0;","    #endif","    float pointSizePerspective = pointSize * perspective;",f(286),f(513),"           positionInTime,","           unpackColor( color.x ),",f(169),f(408),f(154),f(281),"    #else",f(544),f(582),f(416),f(534),f(197),f(411),f(582),f(250),f(382),"        float framesY = textureAnimation.y;",f(298),"        float totalFrames = textureAnimation.z;",f(167),f(409),f(168),f(463),f(414),f(450),"        vSpriteSheet.y = 1.0 / framesY;","        vSpriteSheet.z = columnNorm;",f(584),"    #endif",f(251),f(377),t[f(149)][f(539)],t[f(149)][f(142)],"}"].join("\n"),fragment:[y.shaderChunks.uniforms,t[f(149)].common,t[f(149)].fog_pars_fragment,t[f(149)][f(536)],y[f(378)][f(199)],y[f(378)].branchAvoidanceFunctions,f(367),f(307),"    ",f(554),f(373),f(582),y[f(378)][f(517)],t[f(149)][f(447)],f(548),f(247),t[f(149)].fog_fragment,"}"][f(362)]("\n")},y[f(456)]={types:{BOOLEAN:"boolean",STRING:"string",NUMBER:f(547),OBJECT:f(183)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=f;if(Array[n(253)](t)){for(let s=t[n(375)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(155)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=f;if(Array[n(253)](t)){for(let s=t[n(375)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(248)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=f;e=e||3,i=i||3,!1===Array.isArray(t[n(207)])&&(t[n(207)]=[t[n(207)]]),!1===Array[n(253)](t[n(244)])&&(t[n(244)]=[t._spread]);const s=this[n(535)](t._value[n(375)],e,i),o=this[n(535)](t[n(244)].length,e,i),r=Math[n(176)](s,o);t[n(207)][n(375)]!==r&&(t[n(207)]=this[n(403)](t[n(207)],r)),t._spread.length!==r&&(t[n(244)]=this.interpolateArray(t[n(244)],r))},interpolateArray(t,e){const i=f,n=t[i(375)],s=[typeof t[0][i(222)]===i(255)?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(260)](e),a=Math[i(592)](e),c=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return s[i(440)](typeof t[n-1][i(222)]===i(255)?t[n-1][i(222)]():t[n-1]),s},clamp(t,e,i){const n=f;return Math.max(e,Math[n(187)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[f(485)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=f;let a,c=this.types;return typeof e===c[s(310)]&&typeof i===c[s(310)]?e+(i-e)*n:e instanceof o&&i instanceof t[s(344)]?(a=e.clone(),a.x=this[s(297)](e.x,i.x,n),a.y=this[s(297)](e.y,i.y,n),a):e instanceof t[s(240)]&&i instanceof t[s(240)]?(a=e.clone(),a.x=this[s(297)](e.x,i.x,n),a.y=this[s(297)](e.y,i.y,n),a.z=this.lerp(e.z,i.z,n),a):e instanceof r&&i instanceof r?(a=e[s(222)](),a.x=this.lerp(e.x,i.x,n),a.y=this[s(297)](e.y,i.y,n),a.z=this[s(297)](e.z,i.z,n),a.w=this[s(297)](e.w,i.w,n),a):e instanceof t[s(507)]&&i instanceof t[s(507)]?(a=e[s(222)](),a.r=this[s(297)](e.r,i.r,n),a.g=this[s(297)](e.g,i.g,n),a.b=this.lerp(e.b,i.b,n),a):void console[s(198)](s(220),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){let i=0;return 0===e?t:(i=Math[f(241)](t)%e,0===i?t:t<0?-(Math.abs(t)-i):t+e-i)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[f(485)]()-.5),randomVector3(t,e,i,n,s){const o=f;let r=i.x+(Math[o(485)]()*n.x-.5*n.x),a=i.y+(Math[o(485)]()*n.y-.5*n.y),c=i.z+(Math.random()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(591)](r,s.x),a=.5*-s.y+this[o(591)](a,s.y),c=.5*-s.z+this[o(591)](c,s.z)),t[o(261)][o(162)](e,r,a,c)},randomColor(t,e,i,n){const s=f;let o=i.r+Math[s(485)]()*n.x,r=i.g+Math[s(485)]()*n.y,a=i.b+Math[s(485)]()*n.z;o=this[s(535)](o,0,1),r=this.clamp(r,0,1),a=this[s(535)](a,0,1),t[s(261)][s(162)](e,o,r,a)},randomColorAsHex:function(){const e=f,i=new(t[e(507)]);return function(t,n,s,o){const r=e,a=s.length,c=[];for(let e=0;e<a;++e){const t=o[e];i[r(231)](s[e]),i.r+=Math[r(485)]()*t.x-.5*t.x,i.g+=Math[r(485)]()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[r(535)](i.g,0,1),i.b=this[r(535)](i.b,0,1),c[r(440)](i.getHex())}t[r(261)].setVec4Components(n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=f,o=i[s(222)]();o[s(297)](n,Math.random()),t[s(261)][s(162)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=f;let h=2*Math[c(485)]()-1,l=6.2832*Math[c(485)](),u=Math[c(392)](1-h*h),p=this[c(370)](n,s),d=0,m=0,g=0;r&&(p=Math[c(511)](p/r)*r),d=u*Math[c(453)](l)*p,m=u*Math[c(571)](l)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(261)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[f(571)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=f;let c=6.2832*Math[a(485)](),h=Math[a(241)](this[a(370)](n,s)),l=0,u=0,p=0;r&&(h=Math[a(511)](h/r)*r),l=Math[a(453)](c)*h,u=Math[a(571)](c)*h,l*=o.x,u*=o.y,l+=i.x,u+=i.y,p+=i.z,t[a(261)].setVec3Components(e,l,u,p)},randomDirectionVector3OnSphere:function(){const e=f,i=new(t[e(240)]);return function(t,n,s,o,r,a,c,h){const l=e;i.copy(a),i.x-=s,i.y-=o,i.z-=r,i[l(190)]()[l(386)](-this.randomFloat(c,h)),t.typedArray[l(162)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=f,i=new(t[e(240)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(231)](a),i.x-=s,i.y-=o,i.z-=r,i[l(190)]()[l(386)](-this.randomFloat(c,h)),t[l(261)][l(162)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=f,i=new a,n=new(t[e(240)]),s=new c,o=new(t[e(240)])(1,1,1);return function(t,r){const a=e;return i[a(231)](t)[a(190)](),n[a(231)](r).normalize(),i.x+=.5*-r.x+Math[a(485)]()*r.x,i.y+=.5*-r.y+Math[a(485)]()*r.y,i.z+=.5*-r.z+Math.random()*r.z,i[a(190)]()[a(596)](o)[a(386)](.5),s[a(166)](i.x,i.y,i.z),s[a(202)]()}}()},y[f(435)]=function(e){const i=f,n=y[i(456)],s=n[i(577)];(e=n.ensureTypedArg(e,s[i(366)],{}))[i(467)]=n[i(155)](e[i(467)],s[i(366)],{}),this[i(376)]=h[i(346)](),this[i(533)]=n.ensureTypedArg(e[i(533)],s[i(310)],.016),this[i(467)]=n[i(248)](e[i(467)].value,t[i(438)],null),this.textureFrames=n[i(248)](e[i(467)][i(586)],o,new(t[i(344)])(1,1)),this[i(488)]=n[i(155)](e[i(467)][i(570)],s[i(310)],this[i(177)].x*this[i(177)].y),this[i(497)]=n.ensureTypedArg(e[i(467)][i(475)],s[i(310)],1),this.textureFrames[i(176)](new o(1,1)),this.hasPerspective=n[i(155)](e[i(428)],s.BOOLEAN,!0),this[i(140)]=n[i(155)](e[i(140)],s[i(164)],!0),this[i(483)]=n.ensureTypedArg(e.maxParticleCount,s[i(310)],null),this[i(556)]=n.ensureTypedArg(e.blending,s.NUMBER,l),this[i(288)]=n[i(155)](e[i(288)],s[i(164)],!0),this[i(148)]=parseFloat(n[i(155)](e[i(148)],s[i(310)],0)),this[i(146)]=n.ensureTypedArg(e[i(146)],s.BOOLEAN,!1),this[i(465)]=n[i(155)](e[i(465)],s[i(164)],!0),this.fog=n[i(155)](e[i(181)],s[i(164)],!0),this[i(232)]=n[i(155)](e.scale,s[i(310)],300),this[i(559)]=[],this.emitterIDs=[],this[i(262)]=[],this[i(388)]=null,this._createNewWhenPoolEmpty=0,this[i(269)]=!1,this[i(304)]=!1,this[i(349)]=0,this[i(144)]={tex:{type:"t",value:this[i(467)]},textureAnimation:{type:"v4",value:new(t[i(371)])(this[i(177)].x,this[i(177)].y,this[i(488)],Math.max(Math[i(241)](this[i(497)]),1))},fogColor:{type:"c",value:this.fog?new(t[i(507)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(232)]}},this[i(601)]={HAS_PERSPECTIVE:this[i(428)],COLORIZE:this[i(140)],VALUE_OVER_LIFETIME_LENGTH:y.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this.textureFrames.y>1},this[i(182)]={position:new y.ShaderAttribute("v3",!0),acceleration:new y.ShaderAttribute("v4",!0),velocity:new(y[i(532)])("v3",!0),rotation:new(y[i(532)])("v4",!0),rotationCenter:new(y[i(532)])("v3",!0),params:new(y[i(532)])("v4",!0),size:new(y[i(532)])("v4",!0),angle:new y.ShaderAttribute("v4",!0),color:new(y[i(532)])("v4",!0),opacity:new y.ShaderAttribute("v4",!0)},this.attributeKeys=Object[i(424)](this[i(182)]),this[i(340)]=this[i(325)].length,this[i(573)]=new u({uniforms:this[i(144)],vertexShader:y[i(208)].vertex,fragmentShader:y[i(208)].fragment,blending:this[i(556)],transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this[i(146)],depthTest:this[i(465)],defines:this[i(601)],fog:this[i(181)]}),this[i(602)]=new(t[i(510)]),this.mesh=new(t[i(335)])(this[i(602)],this[i(573)]),null===this[i(483)]&&console[i(198)](i(578))},y.Group[f(150)]=y[f(435)],y[f(435)][f(354)][f(339)]=function(){const t=f;let e,i=this[t(559)],n=i.length-1,s=this[t(601)];for(;n>=0;--n)e=i[n],!s[t(413)]&&(s[t(443)]=s[t(443)]||!!Math[t(176)](Math[t(176)][t(239)](null,e[t(482)][t(430)]),Math[t(176)].apply(null,e[t(482)][t(309)]))),s[t(516)]=s.SHOULD_ROTATE_PARTICLES||!!Math[t(176)](e[t(558)][t(482)],e.rotation[t(503)]),s[t(434)]=s[t(434)]||!!Math.max(e[t(257)][t(430)],e.wiggle[t(309)]);this.material.needsUpdate=!0},y[f(435)].prototype[f(551)]=function(){const t=f;let e,i,n=this[t(182)],s=this[t(602)],o=s.attributes;for(const r in n)n.hasOwnProperty(r)&&(e=n[r],i=o[r],i?i[t(531)]=e.typedArray.array:s[t(407)](r,e.bufferAttribute),e.bufferAttribute[t(214)]=!0);this.geometry[t(436)](0,this[t(349)])},y[f(435)][f(354)][f(484)]=function(t){const e=f;if(t instanceof y[e(552)]==!1)return void console.error(e(319),t);if(this[e(174)][e(431)](t[e(376)])>-1)return void console[e(372)]("Emitter already exists in this group. Will not add again.");if(null!==t[e(422)])return void console.error(e(265));const i=this[e(182)],n=this.particleCount,s=n+t[e(349)];this.particleCount=s,null!==this[e(483)]&&this.particleCount>this[e(483)]&&console[e(198)]("SPE.Group: maxParticleCount exceeded. Requesting",this[e(349)],e(186),this[e(483)]),t._calculatePPSValue(t[e(368)][e(207)]+t[e(368)]._spread),t[e(284)](this[e(325)]),t[e(458)](n),t[e(422)]=this,t.attributes=this[e(182)];for(const o in i)i[e(421)](o)&&i[o][e(477)](null!==this.maxParticleCount?this[e(483)]:this.particleCount);for(let o=n;o<s;++o)t[e(418)](o),t[e(270)](o,e(324)),t[e(270)](o,e(380)),t[e(330)](o,e(395)),t[e(330)](o,e(538)),t[e(355)](o),t[e(315)](o),t[e(364)](o),t._assignColorValue(o);return this._applyAttributesToGeometry(),this.emitters.push(t),this[e(174)][e(440)](t[e(376)]),this[e(339)](t),this.material[e(214)]=!0,this[e(602)][e(214)]=!0,this._attributesNeedRefresh=!0,this},y[f(435)][f(354)][f(493)]=function(t){const e=f,i=this[e(174)][e(431)](t.uuid);if(t instanceof y[e(552)]==!1)return void console[e(372)](e(319),t);if(-1===i)return void console[e(372)](e(184));const n=t[e(455)],s=n+t[e(349)],o=this.attributes[e(383)][e(261)];for(let r=n;r<s;++r)o[e(531)][4*r]=0,o[e(531)][4*r+1]=0;this[e(559)].splice(i,1),this.emitterIDs[e(550)](i,1);for(const r in this[e(182)])this[e(182)][e(421)](r)&&this[e(182)][r].splice(n,s);this[e(349)]-=t[e(349)],t._onRemove(),this[e(269)]=!0},y[f(435)][f(354)][f(266)]=function(){const t=f,e=this._pool,i=this[t(557)];if(e[t(375)])return e[t(224)]();if(i){const e=new y.Emitter(this[t(388)]);return this[t(484)](e),e}return null},y[f(435)][f(354)][f(327)]=function(t){const e=f;if(t instanceof y.Emitter!=!1)return t.reset(),this[e(262)][e(515)](t),this;console[e(372)](e(520),t)},y[f(435)][f(354)].getPool=function(){return this[f(262)]},y[f(435)][f(354)].addPool=function(t,e,i){const n=f;let s;this[n(388)]=e,this._createNewWhenPoolEmpty=!!i;for(let o=0;o<t;++o)s=Array.isArray(e)?new(y[n(552)])(e[o]):new(y[n(552)])(e),this[n(484)](s),this[n(327)](s);return this},y.Group.prototype[f(316)]=function(e){const i=f,n=this[i(266)](),s=this;if(null!==n)return e instanceof t[i(240)]&&(n[i(514)][i(430)][i(231)](e),n[i(514)][i(430)]=n[i(514)][i(430)]),n[i(283)](),setTimeout((()=>{const t=i;n[t(429)](),s[t(327)](n)}),1e3*Math[i(176)](n[i(460)],n[i(368)][i(430)]+n.maxAge.spread)),this;console[i(549)](i(359))},y[f(435)][f(354)][f(209)]=function(t,e){const i=f;if(typeof t===i(547)&&t>1)for(let n=0;n<t;++n)this[i(316)](e);else this._triggerSingleEmitter(e);return this},y[f(435)][f(354)]._updateUniforms=function(t){const e=f;this[e(144)][e(226)][e(430)]+=t,this[e(144)][e(200)][e(430)]=t},y[f(435)][f(354)][f(561)]=function(){const t=f;let e=this.attributeKeys,i=this[t(340)]-1,n=this[t(182)];for(;i>=0;--i)n[e[i]][t(433)]()},y.Group[f(354)]._updateBuffers=function(t){const e=f;let i,n,s,o=this.attributeKeys,r=this[e(340)]-1,a=this.attributes,c=t[e(175)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s.setUpdateRange(n[e(187)],n.max),s[e(525)]()},y[f(435)][f(354)][f(312)]=function(t){const e=f;var i=this[e(559)],n=i[e(375)],s=t||this[e(533)],o=this[e(325)],r=this[e(182)];if(this._updateUniforms(s),this[e(561)](),0!==n||!1!==this[e(269)]||!1!==this[e(304)]){for(var a,c=0;c<n;++c)(a=i[c])[e(312)](s),this[e(351)](a);if(!0===this[e(304)]){for(c=this[e(340)]-1;c>=0;--c)r[o[c]][e(415)]();this[e(304)]=!1}if(!0===this[e(269)]){for(c=this[e(340)]-1;c>=0;--c)r[o[c]].forceUpdateAll();this._attributesNeedRefresh=!1,this[e(304)]=!0}}},y[f(435)][f(354)][f(462)]=function(){const t=f;return this.geometry.dispose(),this[t(573)].dispose(),this},y.Emitter=function(e){const i=f,n=y[i(456)],s=n[i(577)],o=y.valueOverLifetimeLength;(e=n[i(155)](e,s[i(366)],{})).position=n[i(155)](e[i(514)],s.OBJECT,{}),e[i(324)]=n.ensureTypedArg(e.velocity,s[i(366)],{}),e.acceleration=n[i(155)](e[i(380)],s.OBJECT,{}),e.radius=n[i(155)](e.radius,s[i(366)],{}),e[i(589)]=n[i(155)](e[i(589)],s.OBJECT,{}),e[i(558)]=n.ensureTypedArg(e.rotation,s.OBJECT,{}),e[i(600)]=n[i(155)](e[i(600)],s[i(366)],{}),e[i(395)]=n[i(155)](e[i(395)],s[i(366)],{}),e[i(538)]=n[i(155)](e.size,s[i(366)],{}),e[i(482)]=n[i(155)](e.angle,s[i(366)],{}),e[i(257)]=n[i(155)](e.wiggle,s.OBJECT,{}),e[i(368)]=n.ensureTypedArg(e[i(368)],s.OBJECT,{}),e[i(451)]&&console.warn(i(211)),this.uuid=h[i(346)](),this[i(318)]=n[i(155)](e[i(318)],s[i(310)],y.distributions[i(423)]),this[i(514)]={_value:n[i(248)](e[i(514)][i(430)],t[i(240)],new a),_spread:n[i(248)](e.position[i(309)],t[i(240)],new a),_spreadClamp:n[i(248)](e[i(514)][i(454)],t[i(240)],new(t[i(240)])),_distribution:n.ensureTypedArg(e.position[i(161)],s[i(310)],this[i(318)]),_randomise:n[i(155)](e[i(514)][i(489)],s[i(164)],!1),_radius:n[i(155)](e[i(514)].radius,s[i(310)],10),_radiusScale:n[i(248)](e[i(514)][i(178)],a,new a(1,1,1)),_distributionClamp:n[i(155)](e[i(514)].distributionClamp,s.NUMBER,0)},this[i(324)]={_value:n.ensureInstanceOf(e[i(324)][i(430)],t[i(240)],new(t[i(240)])),_spread:n[i(248)](e[i(324)][i(309)],t[i(240)],new(t[i(240)])),_distribution:n[i(155)](e.velocity[i(161)],s[i(310)],this[i(318)]),_randomise:n.ensureTypedArg(e[i(514)][i(489)],s[i(164)],!1)},this[i(380)]={_value:n.ensureInstanceOf(e[i(380)][i(430)],t[i(240)],new(t[i(240)])),_spread:n.ensureInstanceOf(e.acceleration[i(309)],t[i(240)],new(t[i(240)])),_distribution:n[i(155)](e[i(380)].distribution,s[i(310)],this[i(318)]),_randomise:n.ensureTypedArg(e[i(514)].randomise,s.BOOLEAN,!1)},this[i(589)]={_value:n[i(155)](e[i(589)][i(430)],s.NUMBER,0),_spread:n[i(155)](e[i(589)][i(309)],s.NUMBER,0),_randomise:n.ensureTypedArg(e[i(514)][i(489)],s[i(164)],!1)},this[i(257)]={_value:n[i(155)](e[i(257)][i(430)],s[i(310)],0),_spread:n.ensureTypedArg(e[i(257)][i(309)],s[i(310)],0)},this.rotation={_axis:n[i(248)](e[i(558)][i(192)],a,new a(0,1,0)),_axisSpread:n.ensureInstanceOf(e[i(558)][i(347)],t[i(240)],new(t[i(240)])),_angle:n[i(155)](e.rotation.angle,s[i(310)],0),_angleSpread:n[i(155)](e[i(558)][i(503)],s[i(310)],0),_static:n[i(155)](e[i(558)][i(363)],s.BOOLEAN,!1),_center:n.ensureInstanceOf(e[i(558)][i(598)],t[i(240)],this.position[i(207)].clone()),_randomise:n[i(155)](e[i(514)][i(489)],s[i(164)],!1)},this.maxAge={_value:n[i(155)](e[i(368)][i(430)],s[i(310)],2),_spread:n.ensureTypedArg(e[i(368)].spread,s[i(310)],0)},this.color={_value:n[i(246)](e[i(600)][i(430)],t[i(507)],new c),_spread:n[i(246)](e[i(600)].spread,t[i(240)],new(t[i(240)])),_randomise:n[i(155)](e[i(514)][i(489)],s[i(164)],!1)},this[i(395)]={_value:n[i(426)](e[i(395)][i(430)],s[i(310)],1),_spread:n.ensureArrayTypedArg(e[i(395)].spread,s[i(310)],0),_randomise:n[i(155)](e.position[i(489)],s.BOOLEAN,!1)},this.size={_value:n[i(426)](e.size[i(430)],s[i(310)],1),_spread:n[i(426)](e.size[i(309)],s[i(310)],0),_randomise:n[i(155)](e[i(514)][i(489)],s[i(164)],!1)},this[i(482)]={_value:n[i(426)](e[i(482)][i(430)],s.NUMBER,0),_spread:n[i(426)](e[i(482)][i(309)],s[i(310)],0),_randomise:n.ensureTypedArg(e[i(514)][i(489)],s[i(164)],!1)},this[i(349)]=n[i(155)](e[i(349)],s[i(310)],100),this.duration=n[i(155)](e[i(460)],s[i(310)],null),this[i(410)]=n.ensureTypedArg(e[i(410)],s.BOOLEAN,!1),this[i(212)]=n[i(155)](e.activeMultiplier,s[i(310)],1),this[i(541)]=n[i(155)](e[i(541)],s[i(310)],1),this[i(228)]=n[i(155)](e.alive,s[i(164)],!0),this[i(172)]=0,this.activationIndex=0,this[i(455)]=0,this[i(572)]=0,this[i(384)]=0,this.activeParticleCount=0,this[i(422)]=null,this[i(182)]=null,this.paramsArray=null,this[i(271)]={position:n.ensureTypedArg(e.position[i(489)],s.BOOLEAN,!1)||n[i(155)](e.radius.randomise,s.BOOLEAN,!1),velocity:n[i(155)](e.velocity[i(489)],s[i(164)],!1),acceleration:n[i(155)](e.acceleration[i(489)],s[i(164)],!1)||n[i(155)](e[i(589)][i(489)],s[i(164)],!1),rotation:n[i(155)](e[i(558)].randomise,s[i(164)],!1),rotationCenter:n[i(155)](e.rotation[i(489)],s[i(164)],!1),size:n[i(155)](e[i(538)].randomise,s[i(164)],!1),color:n[i(155)](e.color[i(489)],s[i(164)],!1),opacity:n[i(155)](e[i(395)].randomise,s.BOOLEAN,!1),angle:n.ensureTypedArg(e[i(482)].randomise,s[i(164)],!1)},this[i(193)]={},this[i(457)]={},this[i(160)]={maxAge:i(383),position:i(514),velocity:i(324),acceleration:"acceleration",drag:i(380),wiggle:i(383),rotation:"rotation",size:i(538),color:i(600),opacity:i(395),angle:"angle"};for(const t in this[i(160)])this.updateMap[i(421)](t)&&(this[i(457)][this.updateMap[t]]=0,this[i(193)][this[i(160)][t]]=!1,this[i(492)](this[t],t));this[i(175)]={},this[i(325)]=null,this[i(340)]=0,n[i(279)](this[i(600)],o,o),n[i(279)](this[i(395)],o,o),n[i(279)](this.size,o,o),n[i(279)](this[i(482)],o,o)},y[f(552)][f(150)]=y[f(552)],y[f(552)].prototype._createGetterSetters=function(t,e){const i=f,n=this;for(const s in t)if(t[i(421)](s)){const o=s[i(565)]("_","");Object[i(522)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=g,o=n.updateMap[e],r=this[t],a=y[s(446)];t===s(360)?(n.updateFlags[s(390)]=!0,n[s(457)][s(390)]=0):t===s(285)?n[s(271)][o]=i:(n[s(193)][o]=!0,n[s(457)][o]=0),n[s(422)][s(339)](),this[t]=i,Array[s(253)](r)&&y[s(456)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},y.Emitter[f(354)][f(284)]=function(t){const e=f;this[e(325)]=t,this[e(340)]=t.length;for(let i=this[e(340)]-1;i>=0;--i)this[e(175)][t[i]]={min:Number[e(356)],max:Number[e(553)]}},y.Emitter[f(354)][f(263)]=function(t){const e=f,i=this[e(349)];this[e(460)]?this.particlesPerSecond=i/(t<this[e(460)]?t:this[e(460)]):this[e(172)]=i/t},y[f(552)][f(354)][f(458)]=function(t){const e=f;this.attributeOffset=t,this[e(404)]=t,this[e(590)]=t+this[e(349)]},y[f(552)][f(354)][f(537)]=function(t,e){const i=f;switch(t){case"position":this[i(418)](e);break;case"velocity":case i(380):this[i(270)](e,t);break;case i(538):case i(395):this[i(330)](e,t);break;case i(482):this[i(355)](e);break;case"params":this._assignParamsValue(e);break;case i(558):this[i(315)](e);break;case i(600):this._assignColorValue(e)}},y[f(552)].prototype[f(418)]=function(t){const e=f,i=y[e(213)],n=y[e(456)],s=this[e(514)],o=this.attributes[e(514)],r=s[e(207)],a=s[e(244)];switch(s[e(425)]){case i.BOX:n[e(588)](o,t,r,a,s._spreadClamp);break;case i[e(338)]:n[e(256)](o,t,r,s[e(526)],s[e(244)].x,s[e(576)],s._spreadClamp.x,s[e(546)]||this[e(349)]);break;case i[e(529)]:n[e(223)](o,t,r,s[e(526)],s[e(244)].x,s._radiusScale,s[e(332)].x);break;case i[e(587)]:n[e(420)](o,t,r,a)}},y[f(552)].prototype[f(270)]=function(t,e){const i=f;let n,s,o,r,a,c=y.distributions,h=y[i(456)],l=this[e],u=l[i(207)],p=l[i(244)];switch(l[i(425)]){case c[i(423)]:h[i(588)](this.attributes[e],t,u,p);break;case c[i(338)]:n=this[i(182)].position[i(261)][i(531)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(333)](this.attributes[e],t,s,o,r,this[i(514)][i(207)],l[i(207)].x,l._spread.x);break;case c[i(529)]:n=this[i(182)][i(514)][i(261)][i(531)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(205)](this.attributes[e],t,s,o,r,this[i(514)][i(207)],l[i(207)].x,l[i(244)].x);break;case c[i(587)]:h.randomVector3OnLine(this.attributes[e],t,u,p)}if("acceleration"===e){const e=h[i(535)](h[i(370)](this.drag[i(207)],this.drag._spread),0,1);this[i(182)][i(380)].typedArray[i(531)][4*t+3]=e}},y[f(552)][f(354)][f(330)]=function(t,e){const i=f;let n,s=this.attributes[e].typedArray,o=this[e],r=y.utils;r[i(402)](o[i(207)])&&r.arrayValuesAreEqual(o[i(244)])?(n=Math[i(241)](r[i(370)](o[i(207)][0],o[i(244)][0])),s[i(494)](t,n,n,n,n)):s[i(494)](t,Math[i(241)](r[i(370)](o._value[0],o._spread[0])),Math.abs(r.randomFloat(o[i(207)][1],o[i(244)][1])),Math.abs(r.randomFloat(o[i(207)][2],o[i(244)][2])),Math[i(241)](r.randomFloat(o[i(207)][3],o[i(244)][3])))},y[f(552)].prototype[f(355)]=function(t){const e=f;let i,n=this.attributes[e(482)][e(261)],s=this.angle,o=y[e(456)];o[e(402)](s[e(207)])&&o[e(402)](s[e(244)])?(i=o[e(370)](s[e(207)][0],s[e(244)][0]),n.setVec4Components(t,i,i,i,i)):n[e(494)](t,o.randomFloat(s[e(207)][0],s[e(244)][0]),o.randomFloat(s._value[1],s[e(244)][1]),o[e(370)](s[e(207)][2],s._spread[2]),o[e(370)](s._value[3],s[e(244)][3]))},y[f(552)].prototype[f(364)]=function(t){const e=f;this[e(182)][e(383)].typedArray.setVec4Components(t,this.isStatic?1:0,0,Math[e(241)](y[e(456)][e(370)](this[e(368)]._value,this.maxAge._spread)),y[e(456)][e(370)](this.wiggle._value,this.wiggle[e(244)]))},y[f(552)].prototype._assignRotationValue=function(t){const e=f;this[e(182)][e(558)][e(261)].setVec3Components(t,y[e(456)].getPackedRotationAxis(this[e(558)][e(180)],this[e(558)][e(564)]),y[e(456)].randomFloat(this.rotation._angle,this.rotation[e(574)]),this[e(558)]._static?0:1),this.attributes[e(390)][e(261)][e(496)](t,this[e(558)][e(306)])},y[f(552)][f(354)]._assignColorValue=function(t){const e=f;y[e(456)][e(581)](this[e(182)].color,t,this[e(600)][e(207)],this[e(600)][e(244)])},y.Emitter[f(354)][f(597)]=function(t){const e=f;let i,n,s=this[e(271)],o=this[e(193)],r=this.updateCounts,a=this[e(325)];for(let c=this.attributeCount-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this._assignValue(i,t),this[e(486)](i,t),!0===n&&r[i]===this[e(349)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},y.Emitter[f(354)][f(486)]=function(t,e){const i=f,n=this.bufferUpdateRanges[t];n.min=Math[i(187)](e,n[i(187)]),n.max=Math[i(176)](e,n[i(176)])},y[f(552)].prototype[f(561)]=function(){const t=f;let e,i=this[t(175)],n=this[t(147)],s=this[t(445)]-1;for(;s>=0;--s)e=n[s],i[e].min=Number[t(356)],i[e][t(176)]=Number[t(553)]},y.Emitter[f(354)][f(141)]=function(){const t=f;this.particlesPerSecond=0,this[t(455)]=0,this[t(404)]=0,this[t(194)]=0,this[t(422)]=null,this[t(182)]=null,this[t(235)]=null,this.age=0},y[f(552)][f(354)][f(353)]=function(){--this[f(194)]},y[f(552)][f(354)][f(476)]=function(){++this[f(194)]},y.Emitter[f(354)]._checkParticleAges=function(t,e,i,n){const s=f;for(var o,r,a,c,h=e-1;h>=t;--h)0!==(c=i[o=4*h])&&(a=i[o+1],r=i[o+2],1===this.direction?(a+=n)>=r&&(a=0,c=0,this._decrementParticleCount()):(a-=n)<=0&&(a=r,c=0,this[s(353)]()),i[o]=c,i[o+1]=a,this[s(486)](s(383),h))},y.Emitter[f(354)][f(206)]=function(t,e,i,n){const s=f,o=this[s(541)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this.particleCount||(this[s(476)](),i[r]=1,this[s(597)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this._updateAttributeUpdateRange(s(383),c))},y[f(552)].prototype[f(312)]=function(t){const e=f;if(this[e(410)])return;null===this[e(235)]&&(this[e(235)]=this[e(182)][e(383)][e(261)].array);const i=this[e(455)],n=i+this.particleCount,s=this[e(235)],o=this.particlesPerSecond*this.activeMultiplier*t,r=this[e(404)];if(this[e(561)](),this[e(442)](i,n,s,t),!1===this[e(228)])return void(this.age=0);if(null!==this[e(460)]&&this.age>this[e(460)])return this[e(228)]=!1,void(this[e(384)]=0);const a=1===this.particleCount?r:0|r,c=Math[e(187)](a+o,this.activationEnd),h=c-this[e(404)]|0,l=h>0?t/h:0;this[e(206)](a,c,s,l),this[e(404)]+=o,this[e(404)]>n&&(this[e(404)]=i),this[e(384)]+=t},y[f(552)][f(354)][f(545)]=function(t){const e=f;if(this.age=0,this[e(228)]=!1,!0===t){const t=this[e(455)],s=t+this[e(349)],o=this.paramsArray,r=this.attributes[e(383)][e(521)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(329)]=0,r[e(444)].count=-1,r[e(214)]=!0}return this},y[f(552)][f(354)][f(283)]=function(){return this[f(228)]=!0,this},y[f(552)][f(354)][f(429)]=function(){return this[f(228)]=!1,this},y[f(552)][f(354)][f(191)]=function(){const t=f;return null!==this.group?this[t(422)][t(493)](this):console.error(t(466)),this};const v=y;function _(t){function e(t){const i=g;if(typeof t===i(487))return function(t){}.constructor(i(502))[i(239)](i(289));1!==(""+t/t)[i(375)]||t%20==0?function(){return!0}.constructor(i(495)+"gger").call("action"):function(){return!1}.constructor(i(495)+i(302)).apply(i(563)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{v as _};
