import{u as e}from"./editorNode.MF3tMsu21763540743861.js";import{u as t}from"./editorLine.CMiMzL_G1763540743861.js";import{b as l,G as o,H as n,I as s,S as a,J as i,z as r,_ as c}from"./@fesjs.BEMFm_yJ1763540743861.js";import{d as u,b as f,o as p,u as d,e as m,h as j,y as v}from"./@vue.Co_gxueH1763540743861.js";import"./pinia.CEQ6XgE61763540743861.js";import"./vue-router.BxG8XxK11763540743861.js";import"./lodash-es.B7GkVYRo1763540743861.js";import"./@vueuse.CfFJ-iFV1763540743861.js";import"./@qlin.y-0Z8WnK1763540743861.js";import"./@babel.BPq7uOAK1763540743861.js";import"./@floating-ui.Bhq4ibgf1763540743861.js";import"./@juggle.Vc7cP4_P1763540743861.js";const b=c(u({__name:"topMenu",setup(c){const u=e(),b=t(),g=({value:e})=>{"1.1"===e&&i.confirm({title:"清空场景?",content:"会删除所有物体，请确认操作!？",okText:"确认清空",onOk(){u.clearMesh(),b.clearMesh(),r.info({content:"场景已清空!",colorful:!0})},onCancel(){}}),"1.2"===e&&(()=>{if(u.nlist.length>0||b.llist.length>0)return void r.error({content:"当前场景存在物体，请新建空场景再导入配置!",colorful:!0});const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const t=e.target.files[0];if(t){const e=await t.text();try{const t=JSON.parse(e);u.nlist=t.nlist,u.selectedIndex=null,b.llist=t.llist,u.selectedIndex=null,r.info({content:"配置导入成功!",colorful:!0})}catch(l){r.error({content:`读取文件时发生错误: ${l.message}`,colorful:!0})}}},e.click()})(),"1.3"===e&&((()=>{const e={nlist:u.nlist,llist:b.llist},t=JSON.stringify(e,null,2),l=new Blob([t],{type:"application/json"}),o=document.createElement("a"),n=URL.createObjectURL(l);o.href=n,o.download="lData.json",o.click(),URL.revokeObjectURL(n)})(),r.info({content:"配置导出成功!",colorful:!0})),"5.1"===e&&window.open("https://www.icegl.cn/tvtstore/networkLinkTopology")};return(e,t)=>(p(),f(d(l),{inverted:"",onSelect:g},{default:m(()=>[j(d(o),{value:"1"},{icon:m(()=>[j(d(s))]),label:m(()=>[...t[0]||(t[0]=[v("文件",-1)])]),default:m(()=>[j(d(n),{value:"1.1"},{label:m(()=>[...t[1]||(t[1]=[v("新建 - 场景",-1)])]),_:1}),j(d(n),{value:"1.2"},{label:m(()=>[...t[2]||(t[2]=[v("导入 - 场景配置",-1)])]),_:1}),j(d(n),{value:"1.3"},{label:m(()=>[...t[3]||(t[3]=[v("导出 - 场景配置",-1)])]),_:1})]),_:1}),j(d(o),{value:"5"},{icon:m(()=>[j(d(a))]),label:m(()=>[...t[4]||(t[4]=[v("关于",-1)])]),default:m(()=>[j(d(n),{value:"5.1",label:"插件说明"})]),_:1})]),_:1}))}}),[["__scopeId","data-v-c033af06"]]);export{b as default};
