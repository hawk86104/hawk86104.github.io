import{u as t}from"./index.Crdf3MNx1763540743861.js";import{_ as o}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as a,a8 as s,w as e,H as n,o as r,a9 as i,u as l}from"./@vue.Co_gxueH1763540743861.js";const p=["object"],d=a({__name:"cloud",props:{planet:{}},async setup(a){let d,c;const u=a,{scene:m}=([d,c]=s(()=>t("./plugins/earthSample/model/lowpolyPlanet/cloud.gltf")),d=await d,c(),d),h=m.children[0];function M(t,o){const a=Math.random()*(o-t)+t;return Math.random()<.5?-a:a}h.castShadow=!0,h.position.set(M(-8,8),M(.5,1),M(-8,8));const f=M(.5,1);h.scale.set(f,f,f),h.updateMatrixWorld(),e(()=>u.planet,t=>{t&&(h.lookAt(t.position),h.updateMatrixWorld())});const{onBeforeRender:j}=o();let x=M(-1,1)*Math.PI;const w=Math.random()/10;return j(({delta:t})=>{if(!h)return;const o=Math.abs(u.planet.geometry.boundingSphere.radius-.5);x+=t*w;const a=o*Math.cos(x),s=o*Math.sin(x);h.position.x=a,h.position.z=s,h.rotation.y=-x,h.lookAt(u.planet.position),h.updateMatrixWorld()}),(t,o)=>(r(),n("primitive",{object:i(l(m)),"cast-shadow":""},null,8,p))}});export{d as _};
