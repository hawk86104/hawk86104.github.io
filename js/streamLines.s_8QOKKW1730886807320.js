import{e as t,b as e,U as n}from"./@tresjs.iUmyNPdW1730886807320.js";import{P as r}from"./tweakpane.yHWGBmom1730886807320.js";import"./index.zjMoND331730886807320.js";import{a3 as s,_ as o}from"./three._P_a_E_Z1730886807320.js";import{d as i,a6 as a,w as u,o as c,D as p,J as l,u as m,r as f,e as d,f as j,g as _,j as g,al as h,aj as v,ak as w,m as b}from"./@vue.-THQH3GC1730886807320.js";import{g as y}from"./utils.4CdJZlT81730886807320.js";import{_ as I}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.yme4K4Qp1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.vwzCU7Ru1730886807320.js";import"./all.three.Tqp1MSK71730886807320.js";import"./oimophysics.x0jH7fze1730886807320.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.gv5A03N01730886807320.js";import"./index.xgqHHD_Y1730886807320.js";import"./three-stdlib.-Lz596Q01730886807320.js";import"./@pmndrs.wWpbS2XU1730886807320.js";import"./object-hash.rH2Wt7qx1730886807320.js";import"./@amap.T-fZ7qS81730886807320.js";import"./jszip._dv5DHfD1730886807320.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.A6U1VkhS1730886807320.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.qUlfFylV1730886807320.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.J-kHX_gc1730886807320.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.3NZVIIOZ1730886807320.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.eHBCZn-81730886807320.js";import"./@tweenjs.J1BAvmPw1730886807320.js";import"./utils.LYsUcLmI1730886807320.js";import"./@fesjs.rCnyFuNL1730886807320.js";import"./vue-router.QnjVwwup1730886807320.js";import"./lodash-es.kYt-_xTG1730886807320.js";import"./@qlin.yHhFDldE1730886807320.js";import"./pinia.ZAQpp9No1730886807320.js";import"./vue-demi.C4xddsk91730886807320.js";import"./@floating-ui.BPbuo5Gx1730886807320.js";import"./@juggle.7yjBMqoW1730886807320.js";import"./three-mesh-bvh.2CmIl65_1730886807320.js";import"./d3-geo.WOS_GJaB1730886807320.js";import"./d3-array.AhNJy1f41730886807320.js";import"./http.Al6bUCbg1730886807320.js";import"./axios.Ng308AU61730886807320.js";import"./color.LqcrbDA_1730886807320.js";import"./color-string.zgHMGU4c1730886807320.js";import"./color-name.5TTp0dT01730886807320.js";import"./simple-swizzle.qFzbSnIZ1730886807320.js";import"./is-arrayish.F4IZzwIn1730886807320.js";import"./color-convert.b0T5vYBg1730886807320.js";import"./lodash.KS9xUVdL1730886807320.js";import"./naive-ui.RdP4QYdN1730886807320.js";import"./date-fns.dsKIdits1730886807320.js";import"./@css-render.-hhNaGfa1730886807320.js";import"./seemly.SjiSeX2v1730886807320.js";import"./css-render.1oj8AUAE1730886807320.js";import"./@emotion.ZD_ZYAgY1730886807320.js";import"./vooks.ZJpOeBRA1730886807320.js";import"./evtd.DtfwxtIl1730886807320.js";import"./vueuc.RLxK3AmV1730886807320.js";import"./vdirs.6RGGECGW1730886807320.js";import"./treemate.dcEdf2le1730886807320.js";import"./date-fns-tz.qzoT4pvw1730886807320.js";import"./async-validator.-YBkpS4I1730886807320.js";const x=M;!function(t,e){const n=M,r=L();for(;;)try{if(292535===-parseInt(n(196))/1*(-parseInt(n(207))/2)+-parseInt(n(186))/3+-parseInt(n(197))/4*(-parseInt(n(183))/5)+-parseInt(n(180))/6*(parseInt(n(182))/7)+parseInt(n(204))/8+-parseInt(n(213))/9+-parseInt(n(226))/10*(-parseInt(n(199))/11))break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const S=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[M(219)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=M,e=new RegExp(t(192)),n=new RegExp(t(173),"i"),r=B(t(206));e[t(189)](r+t(200))&&n[t(189)](r+t(185))?B():r("0")}))()}();const k=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[M(219)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function M(t,e){const n=L();return(M=function(t,e){return n[t-=168]})(t,e)}function L(){const t=["generateMipmaps","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","AdditiveBlending","fromArray","action","stateObject","error","table","5358WJVvnB","info","1169UuqUnL","5qikYJW","repeat","input","1575495voTdEr","string","color","test","while (true) {}","wrapS","function *\\( *\\)","warn","trace","linesList","17ACoZYa","89016uvULaM","magFilter","2647777ipKfwh","chain","streamLine","radialSegments","__proto__","2229304oRHWmj","call","init","25226PrhthQ","Vector3","prototype","CatmullRomCurve3","gger",'{}.constructor("return this")( )',"4602015hhjskA","tubularSegments","set","side","NearestFilter","forEach","apply","constructor","clockwise","length","console","counter","push","40xlBKkY","rotation","DoubleSide","fewNum","map","debu","bind","wrapT","closed","alphaMap","TresMesh"];return(L=function(){return t})()}k(void 0,(function(){const t=M,e=function(){const t=M;let e;try{e=Function("return (function() "+t(212)+");")()}catch(n){e=window}return e}(),n=e[t(223)]=e.console||{},r=["log",t(193),t(181),t(178),"exception",t(179),t(194)];for(let s=0;s<r.length;s++){const e=k[t(220)][t(209)][t(232)](k),o=r[s],i=n[o]||e;e[t(203)]=k.bind(k),e.toString=i.toString[t(232)](i),n[o]=e}}))();const F=["args"],z=["blending",x(230),x(216),x(170),x(188)],A=i({__name:x(201),props:{color:{default:"#2bc4dc"},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:()=>[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(n){const r=x;let i,f;const d=n,{map:j}=([i,f]=a((()=>e({map:"./plugins/digitalCity/image/line2.png"}))),i=await i,f(),i);j.needsUpdate=!0,j[r(191)]=j[r(168)]=s,j[r(184)][r(215)](d[r(229)],1),j[r(227)]=d.clockwise?0:Math.PI,j[r(172)]=!1,j[r(198)]=o[r(217)];let _=[];d[r(195)][r(218)]((t=>{const e=r;_[e(225)]((new(o[e(208)]))[e(175)](t))}));const g=new(o[r(210)])(_),{onLoop:h}=t();return h((()=>{j.offset.x+=.002*d.speed})),u((()=>[d[r(221)],d[r(229)]]),(([t,e])=>{const n=r;j.rotation=t?0:Math.PI,j[n(184)][n(215)](e,1)})),(t,e)=>{const n=r;return c(),p(n(171),null,[l("TresTubeGeometry",{args:[m(g),d[n(214)],d.radius,d[n(202)],d[n(169)]]},null,8,F),l("TresMeshBasicMaterial",{blending:o[n(174)],map:m(j),side:o[n(228)],alphaMap:m(j),transparent:!0,color:d[n(188)]},null,8,z)])}}});function B(t){function e(t){const n=M;if(typeof t===n(187))return function(t){}[n(220)](n(190))[n(219)](n(224));1!==(""+t/t)[n(222)]||t%20==0?function(){return!0}[n(220)](n(231)+n(211))[n(205)](n(176)):function(){return!1}[n(220)](n(231)+n(211))[n(219)](n(177)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){const n=T,r=R();for(;;)try{if(274320===-parseInt(n(366))/1*(-parseInt(n(386))/2)+-parseInt(n(356))/3+parseInt(n(374))/4+parseInt(n(344))/5*(parseInt(n(371))/6)+-parseInt(n(373))/7*(parseInt(n(384))/8)+parseInt(n(375))/9*(-parseInt(n(372))/10)+parseInt(n(382))/11)break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const C=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[T(363)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=T,e=new RegExp(t(357)),n=new RegExp(t(351),"i"),r=E(t(378));e.test(r+"chain")&&n[t(345)](r+t(385))?E():r("0")}))()}();const D=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[T(363)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function R(){const t=["tubularSegments","#201919","error","流线数量","1021869rSMWpM","function *\\( *\\)","linesList","__proto__","TresPerspectiveCamera","addBinding","prototype","apply","action","debu","384myYOgS","bind","closed","exception","return (function() ","120ZFefkp","15550XdsWhi","16597ThRQoO","1357228GMMIwE","1179wGPLus","table","constructor","init","call","toString","radialSegments","6969534cJjllQ","管道壁圆润","1016ijfkqR","input","232PXBDJF","string","stateObject","管道半径","console","clockwise","#bd01ff","25580WDIFDh","test","speed","闭合管道","color","顺时针流动","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(R=function(){return t})()}function T(t,e){const n=R();return(T=function(t,e){return n[t-=339]})(t,e)}D(void 0,(function(){const t=T,e=function(){const t=T;let e;try{e=Function(t(370)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(341)]=e[t(341)]||{},r=["log","warn","info",t(354),t(369),t(376),"trace"];for(let s=0;s<r.length;s++){const e=D[t(377)][t(362)][t(367)](D),o=r[s],i=n[o]||e;e[t(359)]=D[t(367)](D),e[t(380)]=i.toString.bind(i),n[o]=e}}))();const P=i({__name:"streamLines",async setup(t){const e=T;let s,o;const i=f({reflectivity:.1,showGridHelper:!1,scale:5}),u=f({color:e(343),radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),p=new r;p[e(361)](u,e(348),{label:"流光颜色"}),p.addBinding(u,"radius",{label:e(340),min:.01,max:1,step:.01}),p[e(361)](u,e(346),{label:"跑动速度",min:.1,max:10,step:.1}),p[e(361)](u,e(352),{label:"管道路径平滑",min:1,max:100,step:1}),p[e(361)](u,e(381),{label:e(383),min:1,max:20,step:1}),p[e(361)](u,e(368),{label:e(347)}),p[e(361)](u,e(342),{label:e(349)}),p[e(361)](u,"fewNum",{label:e(355),min:1,max:10,step:1});const x=([s,o]=a((()=>y("./plugins/simpleGIS/json/320000_full.json"))),s=await s,o(),s);return(t,r)=>{const s=e,o=d("TresCanvas");return c(),j(o,{clearColor:s(353),"window-size":""},{default:_((()=>[r[0]||(r[0]=l(s(360),{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1)),g(m(n),{enableDamping:"",autoRotate:""}),(c(),j(h,null,{default:_((()=>[g(A,v(w(u)),null,16)])),_:1})),(c(),j(h,null,{default:_((()=>[g(A,{linesList:m(x),position:[0,0,-4]},null,8,[s(358)])])),_:1})),(c(),j(h,null,{default:_((()=>[g(m(I),b({position:[0,-.5,0]},i),null,16)])),_:1}))])),_:1})}}});function E(t){function e(t){const n=T;if(typeof t===n(387))return function(t){}.constructor(n(350))[n(363)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(377)](n(365)+"gger")[n(379)](n(364)):function(){return!1}.constructor("debugger")[n(363)](n(339)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{P as default};
