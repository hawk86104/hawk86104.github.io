import{a as t,B as n,q as e,bY as r,C as o,j as s,Z as c}from"./three.0IuNGJsA1725236486446.js";import{x as i}from"./@fesjs.W9B5RBCy1725236486446.js";import{N as a}from"./@tresjs.DDzpLB7Q1725236486446.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.tu04YrxN1725236486446.js";!function(t,n){const e=g,r=h();for(;;)try{if(630320===parseInt(e(242))/1+parseInt(e(260))/2*(parseInt(e(270))/3)+parseInt(e(267))/4+-parseInt(e(257))/5*(-parseInt(e(256))/6)+parseInt(e(266))/7*(parseInt(e(274))/8)+parseInt(e(241))/9*(parseInt(e(244))/10)+-parseInt(e(226))/11*(parseInt(e(210))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=h();return(g=function(t,n){return e[t-=204]})(t,n)}!function(){l(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=I(t(246));n[t(265)](r+t(261))&&e[t(265)](r+t(251))?I():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(259)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function h(){const t=["material","getCenter","features","error","forEach","Box3","length","clone","position","getY","debu","constructor","attributes","string","8523LpVOFY","68811hetGXH","divideScalar","2910VOKGqk","exception","init","call","while (true) {}","prototype","side","input","negate","value","return (function() ","bind","6GZwIJp","5297515WKJLbL","geometry","apply","10306tMlsfs","chain","#fff","expandByObject","setY","test","42pEEPzg","2508840pPBOyY","reflectivity","getSize","363phPSSj","max","set","depthWrite","1454320SknsHg","raycast","uniforms","center","toString",'{}.constructor("return this")( )',"copy","stateObject","gger","info","catch","min","action","depthTest","table","push","12vzwBIQ","boundingBox","Vector3","console","log","counter","setAttribute","disposeBoundsTree","add","children","config","getX","computeBoundsTree","then","random","deleteAttribute","34265374GGNJlr"];return(h=function(){return t})()}m(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(254)+t(279)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(213)]||{},r=[t(214),"warn",t(283),t(230),t(245),t(208),"trace"];for(let o=0;o<r.length;o++){const n=m[t(238)][t(249)][t(255)](m),s=r[o],c=e[s]||n;n.__proto__=m[t(255)](m),n[t(278)]=c[t(278)][t(255)](c),e[s]=n}}))();const d=(n,e=!1)=>{const r=g;n.computeBoundingBox();const{max:o,min:s}=n[r(211)];n[r(225)]("uv");const c=o.x-s.x,i=o.y-s.y,a=[];for(let t=0;t<n[r(239)][r(235)].count;t++)e?(a[r(209)]((n[r(239)][r(235)][r(221)](t)-(s.x+o.x)/2)/c),a[r(209)]((n[r(239)][r(235)][r(236)](t)-(s.y+o.y)/2)/i)):(a[r(209)]((n.attributes[r(235)].getX(t)-s.x)/c),a.push((n[r(239)].position[r(236)](t)-s.y)/i));const u=new Float32Array(a);n[r(216)]("uv",new t(u,2))},w=(t,n)=>new Promise(((e,r)=>{const o=g;i(t,{},{method:"get",mergeRequest:!0})[o(223)]((t=>{const r=o;n&&e(t[n]),e(t[r(229)])}))[o(204)]((t=>{console[o(230)](t),r(t)}))})),y=t=>{const n=g,e=(new(THREE[n(232)])).setFromObject(t),r=new(THREE[n(212)]);e.getCenter(r),t[n(219)][n(231)]((t=>{t[n(235)].sub(r)})),t[n(235)][n(280)](r[n(252)]())},x=()=>{const t=g;n.prototype.computeBoundsTree=u,n[t(249)][t(217)]=p,e[t(249)][t(275)]=f},b=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(258)][n(234)]();d(i),i[n(222)]();const u=new r(i,{color:new o(n(262)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(227)].transparent=!0,u.material[n(273)]=!0,u.material[n(207)]=!0,u[n(227)][n(250)]=c,u[n(227)][n(276)][n(220)][n(253)].w=20,u.material.uniforms[n(268)][n(253)]=.46,u};function j(t){const n=g,e=[];for(let o=0;o<t[n(233)];o++)e[n(209)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e.length;o++)r[n(218)](e[o]);r[n(243)](e[n(233)]);for(let o=0;o<e.length;o++)e[o].sub(r);return{points:e,centerPoint:r}}function I(t){function n(t){const e=g;if(typeof t===e(240))return function(t){}[e(238)](e(248))[e(259)](e(215));1!==(""+t/t).length||t%20==0?function(){return!0}[e(238)](e(237)+e(282))[e(247)](e(206)):function(){return!1}.constructor("debu"+e(282))[e(259)](e(281)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,x as i,w as l,d as r,b as s};
