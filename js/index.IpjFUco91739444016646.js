var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.b-TY7oSr1739444016646.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.wmn3SQkr1739444016646.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.ZSUFvMsu1739444016646.js";import{V as o,U as s,C as l,l as c,W as p,aU as u,a as f,g as x,_ as v,b as m,Q as w}from"./three.W6GmiHfn1739444016646.js";import{m as h,e as g}from"./@tresjs.Q4_KYO2a1739444016646.js";import{u as d}from"./index.gpAaVrpj1739444016646.js";import{F as y,C as S}from"./three-stdlib.p59O9BRw1739444016646.js";import{d as _}from"./@vue.NRI7TcgI1739444016646.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.or7FQKEc1739444016646.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.lMUEJiXC1739444016646.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.IoXxOWkl1739444016646.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.6lmVhMXT1739444016646.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.8hrVkTwP1739444016646.js";function P(t,e){const n=I();return(P=function(t,e){return n[t-=177]})(t,e)}!function(t,e){const n=P,i=I();for(;;)try{if(589868===parseInt(n(184))/1+parseInt(n(177))/2*(-parseInt(n(198))/3)+-parseInt(n(203))/4+-parseInt(n(195))/5*(parseInt(n(185))/6)+parseInt(n(201))/7*(-parseInt(n(192))/8)+parseInt(n(182))/9+-parseInt(n(194))/10*(-parseInt(n(181))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[P(180)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=P,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(208),"i"),i=E("init");e[t(206)](i+"chain")&&n[t(206)](i+"input")?E():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[P(180)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(){const t=["error","debu","2849tFTQSO","constructor","2687068GiATCd","gger","exception","test","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"2cINuZT","length","string","apply","27518491ISOVju","2324079FLhwzN","stateObject","574693mqxiqP","50418GKeBCq","while (true) {}","toString","return (function() ","counter","action","table","7352NkGYpw","warn","10kEAhbq","560deXmLw","prototype","trace","2273403peiXrZ"];return(I=function(){return t})()}b(void 0,(function(){const t=P,e=function(){const t=P;let e;try{e=Function(t(188)+t(209)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},i=["log",t(193),"info",t(199),t(205),t(191),t(197)];for(let r=0;r<i.length;r++){const e=b[t(202)][t(196)].bind(b),a=i[r],o=n[a]||e;e.__proto__=b.bind(b),e[t(187)]=o.toString.bind(o),n[a]=e}}))();function E(t){function e(t){const n=P;if(typeof t===n(179))return function(t){}.constructor(n(186)).apply(n(189));1!==(""+t/t)[n(178)]||t%20==0?function(){return!0}.constructor(n(200)+n(204))[n(207)](n(190)):function(){return!1}[n(202)](n(200)+n(204))[n(180)](n(183)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=U;!function(t,e){const n=U,i=L();for(;;)try{if(290094===parseInt(n(461))/1+-parseInt(n(480))/2*(parseInt(n(472))/3)+-parseInt(n(476))/4+-parseInt(n(469))/5+parseInt(n(463))/6*(parseInt(n(477))/7)+-parseInt(n(481))/8*(parseInt(n(483))/9)+parseInt(n(470))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(487)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(){const t=["9xVJxVR","action","test","error","apply","defines","gger","exception","constructor","debu","clone","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t",'{}.constructor("return this")( )',"toString","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","while (true) {}","232394EEriEM","return (function() ","485796ERnzDF","chain","init","length","console","table","488775dspVyL","13691050FOKumW","input","385599XocAsr","stateObject","call","log","1171868cBacAR","7PYGMiP","prototype","trace","8BJQEal","3900136FGACDD","info"];return(L=function(){return t})()}!function(){M(this,(function(){const t=U,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(458),"i"),i=T(t(465));e[t(485)](i+t(464))&&n[t(485)](i+t(471))?T():i("0")}))()}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(t,e){const n=L();return(U=function(t,e){return n[t-=455]})(t,e)}function O(t){const e=U,n=a({},t);return e(488)in t&&(n[e(488)]=a({},t[e(488)])),"uniforms"in t&&(n.uniforms=s[e(493)](t.uniforms)),n}D(void 0,(function(){const t=U;let e;try{e=Function(t(462)+t(455)+");")()}catch(r){e=window}const n=e[t(467)]=e.console||{},i=[t(475),"warn",t(482),t(486),t(490),t(468),t(479)];for(let a=0;a<i[t(466)];a++){const e=D.constructor[t(478)].bind(D),r=i[a],o=n[r]||e;e[t(459)]=D.bind(D),e[t(456)]=o[t(456)].bind(o),n[r]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:A(495)+'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n'+A(494)};function T(t){function e(t){const n=U;if(typeof t===n(457))return function(t){}[n(491)](n(460)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(492)+n(489))[n(474)](n(484)):function(){return!1}[n(491)]("debugger")[n(487)](n(473)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const j=N;function R(){const t=["constructor","setSize","log","render","material","312fldrIy","return (function() ","value","action","function *\\( *\\)","minFilter","test","uniforms","height","map","649253IjMPSr","_swapTarget","forEach","parentLevel","102888ZIokAm","1008827iahlrB","width","fragmentShader","counter","type","_mipQuad","Y_IS_EVEN","trace","defines","dispose","chain","debu","54IUGmXh","camera","length","setClearAlpha","floor","apply","X_IS_EVEN",'{}.constructor("return this")( )',"image","copy","bind","getClearColor","83271eEWGWa","364xYtAmj","setRenderTarget","gger","texture","2148260kmrlVa","_copyQuad","floorPowerOfTwo","tDiffuse","_mipMaterials","clear","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","8851878iowUIn","10SmvQKb","init","toString","input","exception","setViewOffset","set","while (true) {}","isWebGLRenderTarget","10882575VWnawB","originalMapSize","__proto__","parentMapSize","table","info","autoClear","8sPiILW"];return(R=function(){return t})()}!function(t,e){const n=N,i=R();for(;;)try{if(818540===-parseInt(n(433))/1+-parseInt(n(445))/2*(-parseInt(n(457))/3)+-parseInt(n(412))/4*(parseInt(n(462))/5)+-parseInt(n(395))/6+parseInt(n(458))/7*(parseInt(n(432))/8)+-parseInt(n(405))/9*(-parseInt(n(396))/10)+-parseInt(n(428))/11*(-parseInt(n(418))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=N,e=new RegExp(t(422)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=H(t(397));e[t(424)](i+t(443))&&n[t(424)](i+t(399))?H():i("0")}))()}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(t,e){const n=R();return(N=function(t,e){return n[t-=394]})(t,e)}C(void 0,(function(){const t=N,e=function(){const t=N;let e;try{e=Function(t(419)+t(452)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},i=[t(415),"warn",t(410),"error",t(400),t(409),t(440)];for(let r=0;r<i.length;r++){const e=C.constructor.prototype[t(455)](C),a=i[r],o=n[a]||e;e[t(407)]=C[t(455)](C),e[t(398)]=o[t(398)][t(455)](o),n[a]=e}}))();const F=new l;class W{constructor(t){const e=N;!t&&(t=e(394));const n=O(V);n[e(435)]=n[e(435)].replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(O(n)),i[0].defines.X_IS_EVEN=0,i[0][e(441)][e(439)]=0,i[1]=new c(O(n)),i[1][e(441)].X_IS_EVEN=1,i[1].defines[e(439)]=0,i[2]=new c(O(n)),i[2][e(441)][e(451)]=0,i[2][e(441)][e(439)]=1,i[3]=new c(O(n)),i[3][e(441)][e(451)]=1,i[3][e(441)][e(439)]=1;const r=new p;r.texture[e(423)]=u,r[e(461)].magFilter=u,this[e(429)]=r,this[e(463)]=new y(new c(S)),this[e(438)]=new y(null),this[e(466)]=i}update(t,e,n,i=!1){const r=N;t[r(404)]&&(t=t[r(461)]);const o=n[r(411)],s=n.getClearAlpha(),l=n.getRenderTarget();n[r(456)](F);const c=this[r(463)],p=this[r(438)],u=this[r(429)],x=this[r(466)];let v,m;i?(v=f[r(464)](t[r(453)].width),m=f[r(464)](t.image[r(426)])):(v=Math[r(449)](t[r(453)][r(434)]),m=Math.floor(t[r(453)][r(426)]));const w=Math.floor(1.5*v),h=Math.floor(m);e[r(414)](w,h),u[r(461)][r(437)]!==e[r(461)][r(437)]?(u.dispose(),u[r(454)](e),u.texture[r(453)]=a({},u[r(461)][r(453)])):u.setSize(w,h),n[r(411)]=!1,n.setClearColor(0),n[r(448)](),c[r(417)][r(425)][r(465)].value=t,c.camera[r(401)](v,m,0,0,w,h),n[r(459)](e),n[r(467)](),c[r(416)](n),n[r(459)](u),n[r(467)](),c[r(416)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(425)][r(427)].value=u[r(461)],t[r(425)][r(431)][r(420)]=y,t[r(425)][r(408)][r(420)][r(402)](g,d),t[r(425)][r(406)].value[r(402)](v,m),p[r(417)]=t,g=Math[r(449)](g/2),d=Math[r(449)](d/2);const i=h-2*d;n.setRenderTarget(e),p[r(446)].setViewOffset(g,d,-v,-i,w,h),p[r(416)](n),n[r(459)](u),t[r(425)].map[r(420)]=e.texture,p[r(416)](n),y++}return n[r(459)](l),n.setClearAlpha(s),n.setClearColor(F),n[r(411)]=o,y+1}[j(442)](){const t=j;this[t(429)][t(442)](),this._mipQuad[t(442)](),this[t(463)][t(442)](),this[t(466)][t(430)]((t=>t.dispose()))}}function H(t){function e(t){const n=N;if("string"==typeof t)return function(t){}.constructor(n(403))[n(450)](n(436));1!==(""+t/t)[n(447)]||t%20==0?function(){return!0}[n(413)](n(444)+n(460)).call(n(421)):function(){return!1}[n(413)](n(444)+n(460))[n(450)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const G=Y;function Q(){const t=["2922gptiAU","elements","console","error","table","6973792qqmASa","reflect","multiplyScalar","debu","PerspectiveCamera","negate","exception","resolution","Matrix4","while (true) {}","value","3TZEzuI","sub","apply","state","function *\\( *\\)","add","toString","log","315804wokdND","clear","matrixWorld","469149pHSbIZ","normal","return (function() ","info","input",'{}.constructor("return this")( )',"5BWijTO","init","buffers","chain","setRenderTarget","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2928252UHdxjA","depth","forEach","getRenderTarget","projectPoint","updateMatrixWorld","trace","visible","applyQuaternion","autoClear","matrixWorldInverse","Quaternion","constructor","Vector4","copy","1275093oBGhBc","gger","ignoreObjects","multiply","prototype","applyMatrix4","6397492qhMOAz","getWorldQuaternion","constant","bind","call","UnsignedByteType","Vector3","projectionMatrix","render","clone","position","length","parent","action","737diNLTA","getWorldPosition","120IPVdoG","__proto__","reflectorMipMap","sign","27734VaOueb"];return(Q=function(){return t})()}!function(t,e){const n=Y,i=Q();for(;;)try{if(988485===-parseInt(n(404))/1+parseInt(n(416))/2*(-parseInt(n(474))/3)+parseInt(n(437))/4*(-parseInt(n(410))/5)+parseInt(n(458))/6*(parseInt(n(457))/7)+-parseInt(n(463))/8+parseInt(n(431))/9*(parseInt(n(453))/10)+parseInt(n(451))/11*(parseInt(n(401))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(476)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Z(this,(function(){const t=Y,e=new RegExp(t(397)),n=new RegExp(t(415),"i"),i=$(t(411));e.test(i+t(413))&&n.test(i+t(408))?$():i("0")}))()}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Y(t,e){const n=Q();return(Y=function(t,e){return n[t-=397]})(t,e)}X(void 0,(function(){const t=Y;let e;try{e=Function(t(406)+t(409)+");")()}catch(r){e=window}const n=e[t(460)]=e.console||{},i=[t(400),"warn",t(407),t(461),t(469),t(462),t(422)];for(let a=0;a<i[t(448)];a++){const e=X[t(428)][t(435)][t(440)](X),r=i[a],o=n[r]||e;e[t(454)]=X.bind(X),e.toString=o[t(399)].bind(o),n[r]=e}}))();const B=_({__name:G(455),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=G,i=t,r=new x,a=new(v[n(471)]),o=new(v[n(467)]),s=new W,l=d({width:i[n(470)],height:i[n(470)],settings:{type:v[n(442)]}}),c=d({width:i[n(470)],height:i.resolution,settings:{type:v[n(442)]}}),{camera:p,renderer:u,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!p[t(473)])return;r.set(new(v[t(443)])(0,1,0),0),r.applyMatrix4(i[t(449)][t(403)]),o.copy(p.value);const e=new(v[t(443)])(0,0,1)[t(446)]()[t(468)](),s=p[t(473)][t(452)](new(v[t(443)]));e.reflect(r.normal);const c=new(v[t(443)]);r[t(420)](s,c);const x=c[t(446)]();x[t(475)](s),x[t(398)](c),o[t(447)][t(430)](x);const h=new(v[t(443)])(0,0,-1);h.applyQuaternion(p[t(473)][t(438)](new(v[t(427)]))),h.add(s);const g=new m;i.parent[t(452)](g),g[t(475)](h),g[t(464)](r.normal)[t(468)](),g[t(398)](i[t(449)][t(452)](new(v[t(443)]))),o.up.set(0,1,0),o[t(424)](p[t(473)][t(438)](new w)),o.up[t(464)](r[t(405)]),o.lookAt(g),o[t(421)]();const d=new(v[t(471)]);d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(434)](o[t(444)]),d.multiply(o[t(426)]),a[t(430)](d),r[t(436)](o[t(426)]);const y=new(v[t(429)])(r.normal.x,r[t(405)].y,r[t(405)].z,r[t(439)]),S=o[t(444)],_=new(v[t(429)]);_.x=(Math[t(456)](y.x)+S[t(459)][8])/S.elements[0],_.y=(Math[t(456)](y.y)+S.elements[9])/S[t(459)][5],_.z=-1,_.w=(1+S[t(459)][10])/S[t(459)][14],y[t(465)](2/y.dot(_)),S[t(459)][2]=y.x,S.elements[6]=y.y,S.elements[10]=y.z+1,S[t(459)][14]=y.w;const P=u[t(473)][t(419)]();u[t(473)][t(414)](l[t(473)]),u[t(473)][t(477)][t(412)][t(417)].setMask(!0),!1===u.value[t(425)]&&u[t(473)][t(402)](),i[t(433)].forEach((e=>e[t(423)]=!1)),u[t(473)][t(445)](f.value,o),i.ignoreObjects[t(418)]((t=>t.visible=!0)),u.value[t(414)](P)})(),l[t(473)]&&c[t(473)]&&u.value&&s.update(l[t(473)].texture,c[t(473)],u[t(473)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function $(t){function e(t){const n=Y;if("string"==typeof t)return function(t){}[n(428)](n(472)).apply("counter");1!==(""+t/t)[n(448)]||t%20==0?function(){return!0}[n(428)](n(466)+n(432))[n(441)](n(450)):function(){return!1}[n(428)](n(466)+n(432)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=J();;)try{if(158616===-parseInt(n(153))/1+-parseInt(n(155))/2*(-parseInt(n(168))/3)+-parseInt(n(150))/4+parseInt(n(141))/5+-parseInt(n(144))/6+parseInt(n(163))/7*(-parseInt(n(140))/8)+parseInt(n(162))/9*(parseInt(n(166))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(164)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(){var t=["apply","input","110DsaHQu","length","5391TJiMNU","return (function() ","bind","log","stateObject","toString","8cIgtJw","588375YQOXof","gger","debu","1126674oHBQhw","string","exception","warn","constructor","__proto__","236720sVxOez","action","console","26986AFrFRe","info","138YUoptT","trace","init","counter","error","function *\\( *\\)",'{}.constructor("return this")( )',"202338SpYHEM","394863EMrAgP"];return(J=function(){return t})()}!function(){q(this,(function(){var t=tt,e=new RegExp(t(160)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=et(t(157));e.test(i+"chain")&&n.test(i+t(165))?et():i("0")}))()}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(164)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(t,e){var n=J();return(tt=function(t,e){return n[t-=139]})(t,e)}function et(t){function e(t){var n=tt;if(typeof t===n(145))return function(t){}.constructor("while (true) {}")[n(164)](n(158));1!==(""+t/t)[n(167)]||t%20==0?function(){return!0}[n(148)](n(143)+n(142)).call(n(151)):function(){return!1}[n(148)]("debu"+n(142))[n(164)](n(172)),e(++t)}try{if(t)return e;e(0)}catch(n){}}K(void 0,(function(){for(var t=tt,e=function(){var t,e=tt;try{t=Function(e(169)+e(161)+");")()}catch(n){t=window}return t}(),n=e[t(152)]=e[t(152)]||{},i=[t(171),t(147),t(154),t(159),t(146),"table",t(156)],r=0;r<i[t(167)];r++){var a=K.constructor.prototype.bind(K),o=i[r],s=n[o]||a;a[t(149)]=K[t(170)](K),a[t(139)]=s[t(139)][t(170)](s),n[o]=a}}))();export{B as _};
