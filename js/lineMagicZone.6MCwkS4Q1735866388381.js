import{P as t}from"./tweakpane.yHWGBmom1735866388381.js";import{e,W as n,b as o,U as r}from"./@tresjs.FlKhQDQ71735866388381.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.KbXI9glQ1735866388381.js";import{_ as a,P as s}from"./three.Rja0AEnA1735866388381.js";import{d as l,a7 as u,a4 as c,w as f,o as m,D as p,J as d,u as h,j as g,r as v,e as I,f as x,g as w,al as S,m as y}from"./@vue.yG49nQHr1735866388381.js";import"./@vueuse.YI3Exu6_1735866388381.js";import"./all.three.XOVNFju71735866388381.js";import"./oimophysics.x0jH7fze1735866388381.js";const b=W;!function(t,e){const n=W,o=N();for(;;)try{if(917358===-parseInt(n(447))/1+-parseInt(n(416))/2*(-parseInt(n(401))/3)+parseInt(n(441))/4*(-parseInt(n(435))/5)+-parseInt(n(460))/6*(parseInt(n(461))/7)+parseInt(n(422))/8+parseInt(n(411))/9*(-parseInt(n(418))/10)+parseInt(n(467))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[W(442)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){_(this,(function(){const t=W,e=new RegExp(t(446)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=A("init");e[t(410)](o+t(419))&&n.test(o+"input")?A():o("0")}))()}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function N(){const t=["380clAHeI","apply","log","uScale","TresBufferGeometry","function *\\( *\\)","1563799GxfzNB",'{}.constructor("return this")( )',"setFromPoints","rotateX","getPoints","action","aIndex","xRadius","bind","call","push","#409eff","counter","3247854muIpWB","14QnsUtS","gger","trace","Color","string","speed","23236939FrRMLA","uTime","2380479lyhDIQ","return (function() ","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","constructor","warn","length","#90ee90","AdditiveBlending","position","test","999NeShNp","set","info","BufferGeometry","while (true) {}","4cAefEx","scale","67090dQASJD","chain","console","color","5543392OPowRB","map","__proto__","prototype","lineMagicZone","getAttribute","floor","alphaMap","debu","yRadius","EllipseCurve","array","baseColor","4415OPtVgo","baseMaterial","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","aNormal","value","stateObject"];return(N=function(){return t})()}T(void 0,(function(){const t=W;let e;try{e=Function(t(402)+t(448)+");")()}catch(r){e=window}const n=e[t(420)]=e[t(420)]||{},o=[t(443),t(405),t(413),"error","exception","table",t(463)];for(let i=0;i<o[t(406)];i++){const e=T[t(404)][t(425)][t(455)](T),r=o[i],a=n[r]||e;e[t(424)]=T[t(455)](T),e.toString=a.toString.bind(a),n[r]=e}}))();const U=[b(450)],P=[b(409),b(453),b(438)];function W(t,e){const n=N();return(W=function(t,e){return n[t-=401]})(t,e)}const C=b(437),D=b(403),M=l({__name:b(426),props:{height:{default:1.6},speed:{default:1},color:{default:b(407)}},async setup(t){const r=b;let i,l;const v=u(),I=t,x=([i,l]=c((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,l(),i),w=new(a[r(432)])(0,0,8,8,0,2*Math.PI,!1,0),S=[];for(let e=0;e<5;e++)S[r(457)](...w[r(451)](719)),w[r(454)]+=.2,w[r(431)]+=.2;const y=new Float32Array(S[r(423)](((t,e)=>e))),_=(new(a[r(414)]))[r(449)](S)[r(427)](r(409))[r(433)],T=new Float32Array(_[r(406)]);for(let e=0;e<_.length/3;e++){const t=3*e;_[t+1]+=.15*Math[r(428)](e/720);const n=e%720*3,o=3*(e%720+2880);T[t]=_[o]-_[n],T[t+1]=_[o+1]-_[n+1],T[t+2]=_[o+2]-_[n+2]}const N={uTime:{value:0},uScale:{value:v[r(417)]?v[r(417)]:1},uHeight:{value:I.height},uPerlinTexture:{value:x[1]},baseColor:{value:new(a[r(464)])(I[r(421)])}},{onLoop:W}=e();return W((()=>{const t=r;N[t(468)][t(439)]+=.01*I[t(466)]})),f((()=>[I[r(421)],v[r(417)],I.height]),(([t,e,n])=>{const o=r;N[o(434)][o(439)][o(412)](t),N[o(444)][o(439)]=e,N.uHeight.value=n})),(t,e)=>{const o=r;return m(),p("TresGroup",null,[d("TresPoints",{rotateX:-Math.PI/2,scale:.1},[d(o(445),{position:[h(_),3],aIndex:[h(y),1],aNormal:[h(T),3]},null,8,P),g(h(n),{baseMaterial:s,vertexShader:C,fragmentShader:D,uniforms:N,map:h(x)[0],alphaMap:h(x)[0],transparent:"",depthWrite:!1,blending:a[o(408)],color:o(458),size:.1},null,8,[o(436),o(423),o(429),"blending"])],8,U)])}}});function A(t){function e(t){const n=W;if(typeof t===n(465))return function(t){}.constructor(n(415))[n(442)](n(459));1!==(""+t/t)[n(406)]||t%20==0?function(){return!0}[n(404)](n(430)+n(462))[n(456)](n(452)):function(){return!1}[n(404)](n(430)+n(462))[n(442)](n(440)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const j=B;!function(t,e){const n=B,o=z();for(;;)try{if(232633===parseInt(n(452))/1*(parseInt(n(466))/2)+-parseInt(n(479))/3+parseInt(n(473))/4*(-parseInt(n(477))/5)+-parseInt(n(483))/6*(parseInt(n(453))/7)+parseInt(n(450))/8+-parseInt(n(478))/9+parseInt(n(472))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[B(451)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=B,e=new RegExp(t(464)),n=new RegExp(t(442),"i"),o=H(t(444));e.test(o+t(465))&&n[t(445)](o+t(441))?H():o("0")}))()}();const R=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function z(){const t=["661215ihOSqR","error","bind","call","355296HPtbfo","constructor","TresPerspectiveCamera","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","init","test","lineMagicZone","log","string",'{}.constructor("return this")( )',"1749048IMyWZu","apply","329236DkhSph","7UNMBCW","scale","prototype","speed","gger","color","debu","counter","toString","warn","TresCanvas","function *\\( *\\)","chain","2wPVXZZ","height","length","action","addBinding","console","3679530vgJPJb","4egHKlB","table","__proto__","exception","242330SXlrWE","3195900VHoKAu"];return(z=function(){return t})()}function B(t,e){const n=z();return(B=function(t,e){return n[t-=441]})(t,e)}R(void 0,(function(){const t=B,e=function(){const t=B;let e;try{e=Function("return (function() "+t(449)+");")()}catch(n){e=window}return e}(),n=e[t(471)]=e[t(471)]||{},o=[t(447),t(462),t(443),t(480),t(476),t(474),"trace"];for(let r=0;r<o[t(468)];r++){const e=R.constructor[t(455)][t(481)](R),i=o[r],a=n[i]||e;e[t(475)]=R[t(481)](R),e[t(461)]=a.toString[t(481)](a),n[i]=e}}))();const E=l({__name:j(446),setup(e){const n=j,o=v({reflectivity:.1,showGridHelper:!0,scale:1}),a=v({color:"#ff0000",scale:1.8,height:2.4,speed:1}),s=new t;return s[n(470)](a,n(458),{label:"颜色"}),s.addBinding(a,n(454),{label:"大小",min:.1,max:3,step:.1}),s[n(470)](a,n(467),{label:"高度",min:.1,max:3,step:.1}),s.addBinding(a,n(456),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=I(s(463));return m(),x(l,{clearColor:"#201919","window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:w((()=>[e[0]||(e[0]=d(s(485),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(h(r),{enableDamping:""}),e[1]||(e[1]=d("TresAmbientLight",{intensity:2},null,-1)),(m(),x(S,null,{default:w((()=>[g(M,y({position:[3,0,0]},a),null,16)])),_:1})),(m(),x(S,null,{default:w((()=>[g(M,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(m(),x(S,null,{default:w((()=>[g(i,y({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function H(t){function e(t){const n=B;if(typeof t===n(448))return function(t){}[n(484)]("while (true) {}")[n(451)](n(460));1!==(""+t/t)[n(468)]||t%20==0?function(){return!0}.constructor(n(459)+"gger")[n(482)](n(469)):function(){return!1}[n(484)]("debu"+n(457))[n(451)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{E as default};
