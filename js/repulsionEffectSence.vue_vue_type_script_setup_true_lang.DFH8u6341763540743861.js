import{en as o}from"./three.rXKzP9fQ1763540743861.js";import{g as e}from"./gsap.CY1N3EIL1763540743861.js";import{v as s}from"./index.Crdf3MNx1763540743861.js";import{P as t,S as a}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as i,t as r,r as n,c as l,w as u,H as c,o as p,F as y,h,J as m,u as d,e as v,X as x,b as f}from"./@vue.Co_gxueH1763540743861.js";const g=["position"],M=["position"],w=i({__name:"repulsionEffectSence",setup(i){const w=r(null),T=r(null),z=n({rows:6,cols:14,gutter:2.2}),R=l(()=>({x:(z.cols-1)*z.gutter/2,z:(z.rows-1)*z.gutter/2})),{seekAll:k}=s();u(T,()=>{w.value=k(T.value,"type","Mesh"),w.value.forEach(e=>{e.initialRotation={x:"torus"===e.name?o(90):e.rotation.x,y:e.rotation.y,z:"cone"===e.name||"cylinder"===e.name?o(-180):e.rotation.z},e.rotation.x=e.initialRotation.x,e.rotation.y=e.initialRotation.y,e.rotation.z=e.initialRotation.z})});const j=({point:s})=>{if(!w.value)return;const{x:t,y:a,z:i}=s;w.value.forEach(s=>{const a=G(t,i,s.position.x,s.position.z),r=P(a,7,0,0,6);e.to(s.position,{y:r<1?1:r,duration:.3});const n=s.position.y/1.2,l=n<1?1:n;e.to(s.scale,{ease:"expo.out",x:l,y:l,z:l,duration:.3}),e.to(s.rotation,{duration:.7,ease:"expo.out",x:P(s.position.y,-1,1,o(270),s.initialRotation.x),z:P(s.position.y,-1,1,o(-90),s.initialRotation.z),y:P(s.position.y,-1,1,o(45),s.initialRotation.y)})})},G=(o,e,s,t)=>Math.sqrt((o-s)**2+(e-t)**2),P=(o,e,s,t,a)=>(o-e)/(s-e)*(a-t)+t,_=(o,e)=>{const s=Math.floor(3*Math.random());return 0===s?"torus":1===s?"cone":"cylinder"},E=(o,e)=>[(o-1)*z.gutter-R.value.x,0,(e-1)*z.gutter-R.value.z];return(o,e)=>(p(),c(y,null,[h(d(t),{"receive-shadow":"",args:[100,100],"rotation-x":-Math.PI/2,position:[0,0,0],onPointermove:j},{default:v(()=>[...e[0]||(e[0]=[m("TresShadowMaterial",{transparent:"",opacity:.3},null,-1)])]),_:1},8,["rotation-x"]),m("TresGroup",{ref_key:"shapesGroupRef",ref:T,name:"shapes"},[(p(!0),c(y,null,x(z.rows,o=>(p(),c("TresGroup",{key:`row-${o}`},[(p(!0),c(y,null,x(z.cols,s=>(p(),c("TresGroup",{key:`col-${s}-${o}`},["torus"===_()?(p(),c("TresMesh",{key:0,name:"torus","cast-shadow":"","receive-shadow":"",position:E(s,o)},[...e[1]||(e[1]=[m("TresTorusGeometry",{args:[.25,.08,30,200]},null,-1),m("TresMeshPhysicalMaterial",{color:"#3e2917",metalness:.58,emissive:"#000000",roughness:.05},null,-1)])],8,g)):"cone"===_()?(p(),f(d(a),{key:1,name:"cone",args:[.3,.5,32],"cast-shadow":"","receive-shadow":"",position:E(s,o)},{default:v(()=>[...e[2]||(e[2]=[m("TresMeshPhysicalMaterial",{color:"#3e2917",metalness:.58,emissive:"#000000",roughness:.05},null,-1)])]),_:1},8,["position"])):(p(),c("TresMesh",{key:2,name:"cylinder","cast-shadow":"","receive-shadow":"",position:E(s,o)},[...e[3]||(e[3]=[m("TresCylinderGeometry",{args:[.3,.3,.2,64]},null,-1),m("TresMeshPhysicalMaterial",{color:"#3e2917",metalness:.58,emissive:"#000000",roughness:.05},null,-1)])],8,M))]))),128))]))),128))],512)],64))}});export{w as _};
