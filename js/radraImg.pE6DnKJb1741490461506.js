import{a as t,m as n,o as e}from"./@tresjs.rE98Wm941741490461506.js";import{_ as o,Y as r}from"./three.Vxh8Czkt1741490461506.js";import{_ as i}from"./three-tile.CcJRK_fL1741490461506.js";import{_ as s,c}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.g4rUnp0O1741490461506.js";import{d as a,a3 as u,w as p,o as l,H as f,N as m,u as h,r as d,b as g,f as y,g as I,j as w,m as b,al as _,F as j,e as x,aj as v,ak as S}from"./@vue.NRI7TcgI1741490461506.js";import{P as T}from"./tweakpane.yDiyAAkA1741490461506.js";import{_ as k}from"./informationDiv.CeimsKUK1741490461506.js";import"./postprocessing.wUw4_rsV1741490461506.js";import"./@vueuse.9Z-Ayxy41741490461506.js";import"./@fesjs.IWF3W7Eu1741490461506.js";import"./vue-router.5pMX5YFH1741490461506.js";import"./lodash-es.pklfUAS51741490461506.js";import"./@qlin.yHhFDldE1741490461506.js";import"./pinia.RD4r5tit1741490461506.js";import"./@floating-ui.BPbuo5Gx1741490461506.js";import"./@juggle.7yjBMqoW1741490461506.js";function A(t,n){const e=z();return(A=function(t,n){return e[t-=293]})(t,n)}const B=A;!function(t,n){const e=A,o=z();for(;;)try{if(834536===-parseInt(e(330))/1+-parseInt(e(307))/2*(parseInt(e(344))/3)+parseInt(e(329))/4*(-parseInt(e(336))/5)+-parseInt(e(340))/6+parseInt(e(328))/7*(-parseInt(e(324))/8)+-parseInt(e(312))/9*(parseInt(e(318))/10)+parseInt(e(319))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(316)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(310),"i"),o=O(t(326));n.test(o+"chain")&&e[t(321)](o+"input")?O():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(316)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function(t(294)+t(327)+");")()}catch(e){n=window}return n}(),e=n[t(345)]=n[t(345)]||{},o=[t(300),t(309),"info",t(308),t(339),"table",t(303)];for(let r=0;r<o.length;r++){const n=E[t(343)].prototype.bind(E),i=o[r],s=e[i]||n;n[t(296)]=E[t(298)](E),n[t(313)]=s[t(313)].bind(s),e[i]=n}}))();const M=[B(337)],P=["scale",B(299),B(323),B(342)];function z(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","81450ciCkKn","toString","Vector3","length","apply","DoubleSide","370ZzyRwT","62285091hUrrqh","height","test","string","rotateX","8674408ZpEQNU","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","init",'{}.constructor("return this")( )',"7mbdtXw","4HBrLIg","1460131KTrcUw","stateObject","uniform sampler2D map;\n\t","vertexShader","radraImgShow","map","1579260GeLVxs","position","MeshPhongMaterial","exception","7436580kPkkOR","scaleImg","position-y","constructor","3HAWttQ","console","matrix","gger","return (function() ","geo2pos","__proto__","replace","bind","material","log","push","debu","trace","opacity","onBeforeCompile","40.png","786362EYsEGQ","error","warn"];return(z=function(){return t})()}const L=a({__name:B(334),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=B;let i,c;const a=n,d=new(o[e(338)])({displacementMap:new r,transparent:!0,side:o[e(317)],opacity:a[e(304)],displacementScale:.5,displacementBias:0});d[e(305)]=t=>{const n=e;t[n(333)]=n(332)+t[n(333)],t[n(333)]=t[n(333)][n(297)]("#include <displacementmap_vertex>",n(325))};const g=a[e(335)][e(295)](new(o[e(314)])(105,34,0));g.applyMatrix4(a[e(335)][e(346)]);const y=s[e(341)](a[e(335)],{x:67,y:11},{x:140,y:57},a.height),I=[];for(let t=0;t<9;t++)I[e(301)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(306));let w=0;const b=([i,c]=u((()=>t(I))),i=await i,c(),i);d[e(335)]=b[w],p((()=>[a.color,a[e(304)]]),(([t,n])=>{d[e(304)]=n}));let _=null,j=!1;return j?(clearInterval(_),_=null,j=!1):(_=setInterval((()=>{const t=A;w=w<I[t(315)]-1?w+1:0,d[t(335)]=b[w],d.needsUpdate=!0,console[t(300)](w)}),1e3),j=!0),(t,n)=>{const o=e;return l(),f("TresGroup",{position:[...h(g)]},[m("TresMesh",{scale:[h(y).x,h(y).y,t[o(320)]],material:h(d),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(320)]/5},n[0]||(n[0]=[m("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,P)],8,M)}}});function O(t){function n(t){const e=A;if(typeof t===e(322))return function(t){}[e(343)]("while (true) {}")[e(316)](e(311));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(302)+e(293)).call("action"):function(){return!1}[e(343)](e(302)+e(293))[e(316)](e(331)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=H;function G(){const t=["gger","GDSource","1498248SaNEIF","mapbox.terrain-rgb","localToWorld","map","constructor","init","value","error","mapbox.satellite","console","warn","10574288FpAutW","target","10705541dBOapP","15693mBOmXI","Vector3",'{}.constructor("return this")( )',"copy","rotateX","TileMap","function *\\( *\\)","520627rOLGdI","action","opacity","plugin","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","return (function() ","call","tdLight","398STFLdc","object","toString","exception","input","MapBoxSource","TresDirectionalLight","geo2pos","table","trace","image","position","terrain-rgb","apply","bind","showLocation","9618294bUaILH","info","7696665jlhdAG","length","prototype","height","test","debu"];return(G=function(){return t})()}!function(t,n){const e=H,o=G();for(;;)try{if(895801===parseInt(e(484))/1+-parseInt(e(492))/2*(-parseInt(e(477))/3)+-parseInt(e(463))/4+-parseInt(e(455))/5+-parseInt(e(508))/6+parseInt(e(476))/7+parseInt(e(474))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=H,n=new RegExp(t(483)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=C(t(468));n[t(459)](o+"chain")&&e.test(o+t(496))?C():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(505)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=H;let n;try{n=Function(t(489)+t(479)+");")()}catch(r){n=window}const e=n[t(472)]=n[t(472)]||{},o=["log",t(473),t(509),t(470),t(495),t(500),t(501)];for(let i=0;i<o[t(456)];i++){const n=U[t(467)][t(457)][t(506)](U),r=o[i],s=e[r]||n;n.__proto__=U[t(506)](U),n[t(494)]=s[t(494)][t(506)](s),e[r]=n}}))();const Z=[F(493)];function H(t,n){const e=G();return(H=function(t,n){return e[t-=455]})(t,n)}const N=F(488),q=a({__name:"mapBoxShow3",setup(t){const e=F,r=d({height:200,opacity:1}),a=new T({title:"参数"});a.addBinding(r,e(458),{label:"高度",min:10,max:300,step:1}),a.addBinding(r,e(486),{label:"透明度",min:0,max:1,step:.1}),new(i[e(487)][e(497)])({token:N,dataType:e(502),style:e(471)});const u=new(i[e(487)].MapBoxSource)({token:N,dataType:e(504),style:e(464),maxLevel:15}),x=new(i[e(482)])({imgSource:[new(i[e(487)][e(462)])({style:"6"}),new(i[e(487)][e(462)])({style:"8"})],demSource:u,lon0:90,minLevel:2,maxLevel:20});x[e(481)](-Math.PI/2);const v=new(o[e(478)])(105,34,0),S=new(o[e(478)])(110,0,1e4),k=x[e(465)](x[e(499)](v)),A=x[e(465)](x.geo2pos(S)),B=g(),{camera:D,controls:E,scene:M,renderer:P}=n();return D.value&&D[e(469)][e(503)].copy(A),p((()=>E[e(469)]),(t=>{const n=e;t&&(t.target[n(480)](k),c(t,D[n(469)],M[n(469)]))})),p((()=>B.value),(t=>{const n=e;t&&t[n(475)][n(503)].copy(k)})),s[e(507)](D.value,P[e(469)].domElement,x),(t,n)=>{const o=e;return l(),f(j,null,[m(o(498),{ref_key:o(491),ref:B,position:[0,2e3,1e3],intensity:1},null,512),m("primitive",{object:h(x)},null,8,Z),(l(),y(_,null,{default:I((()=>[w(L,b({map:h(x)},r),null,16,[o(466)])])),_:1}))],64)}}});function C(t){function n(t){const e=H;if("string"==typeof t)return function(t){}[e(467)]("while (true) {}")[e(505)]("counter");1!==(""+t/t)[e(456)]||t%20==0?function(){return!0}[e(467)](e(460)+e(461))[e(490)](e(485)):function(){return!1}[e(467)](e(460)+e(461))[e(505)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function Q(){const t=["error","160243HkwDOP","trace","debu","553625nhOSYd","bind","17671907AnApJJ","TresAmbientLight","toString","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","TresPerspectiveCamera","apply","call","warn","length","1301584ySUMso","#dbf0ff","action","4mefjxl","input","3760062TUDXqG","init","while (true) {}","10meqckP","9tsyqyT","exception","__proto__","50277OLEsRP","table","test","136EOFVGZ","2463321xobeNz","constructor","stateObject","TresCanvas"];return(Q=function(){return t})()}!function(t,n){const e=$,o=Q();for(;;)try{if(389498===parseInt(e(439))/1*(-parseInt(e(421))/2)+parseInt(e(430))/3*(-parseInt(e(433))/4)+parseInt(e(442))/5+-parseInt(e(423))/6+parseInt(e(434))/7+parseInt(e(418))/8*(-parseInt(e(427))/9)+-parseInt(e(426))/10*(-parseInt(e(444))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(451)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=$,n=new RegExp(t(447)),e=new RegExp(t(448),"i"),o=Y(t(424));n[t(432)](o+"chain")&&e.test(o+t(422))?Y():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(t,n){const e=Q();return($=function(t,n){return e[t-=417]})(t,n)}X(void 0,(function(){const t=$;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n.console||{},o=["log",t(453),t(449),t(438),t(428),t(431),t(440)];for(let i=0;i<o[t(417)];i++){const n=X.constructor.prototype.bind(X),r=o[i],s=e[r]||n;n[t(429)]=X.bind(X),n[t(446)]=s.toString[t(443)](s),e[r]=n}}))();const V=a({__name:"radraImg",setup(t){const n=$,o=d({clearColor:n(419),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=x(s(437));return l(),f(j,null,[w(c,b(o,{"window-size":""}),{default:I((()=>[i[0]||(i[0]=m(s(450),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),w(h(e),v(S(r)),null,16),i[1]||(i[1]=m(s(445),{intensity:1},null,-1)),w(q)])),_:1},16),w(k)],64)}}});function Y(t){function n(t){const e=$;if("string"==typeof t)return function(t){}[e(435)](e(425))[e(451)]("counter");1!==(""+t/t)[e(417)]||t%20==0?function(){return!0}.constructor(e(441)+"gger")[e(452)](e(420)):function(){return!1}[e(435)](e(441)+"gger")[e(451)](e(436)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
