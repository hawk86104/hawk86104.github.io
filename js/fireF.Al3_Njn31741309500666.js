var t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d,g,w=Object.defineProperty,S=(t,e,s)=>(((t,e,s)=>{e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as y}from"./pagesShow.vue_vue_type_script_setup_true_lang.KKnwD3Nl1741309500666.js";import{_ as v,C as x,b as P,c as I,X as A,h as F,e as b,cA as T,a2 as E,ar as z,V as R,an as O}from"./three.8tDGqmLF1741309500666.js";import{m as C,e as V}from"./@tresjs.yaBKiR-I1741309500666.js";import{d as q,b as M,a2 as N,o as _,f as U,g as B,j}from"./@vue.NRI7TcgI1741309500666.js";import"./three-custom-shader-material.VwrDYuIS1741309500666.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";const X=W;function W(t,e){const s=Q();return(W=function(t,e){return s[t-=215]})(t,e)}!function(t,e){const s=W,n=Q();for(;;)try{if(722143===-parseInt(s(465))/1+parseInt(s(392))/2+-parseInt(s(367))/3+-parseInt(s(303))/4+-parseInt(s(339))/5*(parseInt(s(257))/6)+parseInt(s(637))/7+parseInt(s(261))/8)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const D=class{constructor(t){this[X(344)]=t}};t=X(264),e=X(681),S(D,t,new D("Time")),S(D,e,new D(X(681)));let Y=D;class J{constructor(){this[X(234)]()}init(){const t=X;this[t(537)]=Y[t(264)],this.lifetime=1,this[t(491)]=0,this.sequenceElement=new(v[t(417)]),this[t(633)]=new(v[t(554)]),this[t(352)]=new(v[t(554)]),this.acceleration=new(v[t(554)]),this.normal=new(v[t(554)]),this[t(327)]=0,this[t(654)]=0,this.size=new(v[t(439)]),this[t(505)]=new(v[t(584)]),this[t(578)]=1,this[t(377)]=new(v[t(439)]),this[t(573)]=new x,this[t(269)]=1}[X(589)](t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d){const g=X;this[g(537)]=t,this[g(262)]=e,this.age=s,this[g(553)][g(668)](n),this.position[g(668)](i),this[g(352)].copy(r),this.acceleration.copy(a),this.normal[g(668)](o),this[g(327)]=c,this[g(654)]=h,this[g(614)]=l,this.color.copy(u),this.alpha=p,this.initialSize[g(668)](m),this[g(573)][g(668)](f),this.initialAlpha=d}[X(626)](t){const e=X;t[e(589)](this[e(537)],this[e(262)],this.age,this.sequenceElement,this[e(633)],this[e(352)],this.acceleration,this[e(313)],this.rotation,this.rotationalSpeed,this[e(614)],this[e(505)],this[e(578)],this[e(377)],this[e(573)],this[e(269)])}[X(668)](t){const e=X;this.setAll(t.progressType,t[e(262)],t[e(491)],t[e(553)],t[e(633)],t[e(352)],t.acceleration,t.normal,t.rotation,t[e(654)],t[e(614)],t[e(505)],t[e(578)],t[e(377)],t[e(573)],t[e(269)])}}class G{constructor(){S(this,s,function(){const t=X,e=new(v[t(554)]);return function(s=new(v[t(432)]),n=null){const i=t,r=s[i(271)],a=s[i(434)];for(let t=0;t<this.activeParticleCount;t++){const s=this[i(341)](t);let o=s[i(633)];n&&(e[i(668)](o),e.applyMatrix4(n),o=e);const c=Math[i(434)](s[i(614)].x,s[i(614)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,f=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=f)}return s}}()),S(this,n,function(){const t=X,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=W,s=function(){const t=W;let e;try{e=Function(t(608)+t(448)+");")()}catch(s){e=window}return e}(),n=s.console=s[t(482)]||{},i=["log",t(580),t(495),"error",t(486),t(546),"trace"];for(let r=0;r<i[t(487)];r++){const s=e[t(617)][t(296)].bind(e),a=i[r],o=n[a]||s;s[t(545)]=e.bind(e),s[t(641)]=o[t(641)][t(282)](o),n[a]=s}}))();const s=new(v[t(554)]),n=new(v[t(554)]),i=new(v[t(554)]);return function(e=new(v[t(659)]),r=null){const a=t;let o=0;for(let t=0;t<this[a(471)];t++){const e=this.getState(t);let c=e[a(633)];r&&(i[a(668)](c),i[a(595)](r),c=i);const h=Math[a(434)](e[a(614)].x,e[a(614)].y);if(0==t)s.copy(c),o=h;else{n[a(668)](c)[a(630)](s);const t=n.length()+h;if(t>o){const e=(t-o)/2;n[a(560)]()[a(515)](e),s[a(571)](n),o+=e}}}return e[a(335)][a(668)](s),e.radius=o,e}}());const t=X;this.particleCount=0,this.activeParticleCount=0,this[t(309)]=[]}init(t){this.setParticleCount(t)}[X(280)](t){const e=X;this[e(511)]!=t&&(this[e(525)](),this[e(477)](t)),this[e(511)]=t}[X(219)](t){this.activeParticleCount=t}allocate(t){const e=X;this[e(309)]=[],this[e(511)]=t;for(let s=0;s<t;s++)this[e(309)][s]=new J}dispose(){}[X(243)](){return this.particleCount}[X(643)](){}[X(399)](t,e){const s=X;if(t>=this[s(511)])throw new Error(s(331));if(e>=this[s(511)])throw new Error(s(374));const n=this[s(309)][t],i=this[s(309)][e];n[s(626)](i)}[X(618)](t,e){const s=X;if(t>=this[s(511)])throw new Error(s(574));return this.particleStates[t].copy(e)}[X(341)](t){if(t>=this[X(511)])throw new Error('ParticleStateArray::getState() -> "index" is out of range.');return this.particleStates[t]}}s=X(360),n=X(356);class k{constructor(t,e,s=0){const n=X;this.start=t,this[n(487)]=e,this.id=s}}class Z{constructor(){this[X(543)]={},this.ids=[]}[X(225)](t,e,s){const n=X;if(this[n(457)](s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const i=new k(t,e,s);return this[n(543)][s]=i,this.ids[n(366)](s),i}[X(679)](t){const e=X;if(!this[e(457)](t))throw new Error(e(306));return this[e(543)][t]}[X(440)](){return this.ids}[X(457)](t){return!!this[X(543)][t]}}class L{constructor(){}[X(669)](t){const e=X;t[e(573)][e(452)](1,1,1),t[e(377)][e(452)](1,1),t[e(269)]=1,t[e(537)]=Y.Time,t.lifetime=0,t[e(491)]=0,t[e(553)][e(452)](0,0,0,0),t[e(633)][e(452)](0,0,0),t[e(352)].set(0,0,0),t.acceleration[e(452)](0,0,0),t.normal[e(452)](0,0,1),t[e(327)]=0,t[e(654)]=0,t[e(614)][e(668)](t[e(377)]),t.color[e(668)](t[e(573)]),t[e(578)]=1}}class H extends L{constructor(){super()}[X(669)](t){super.initializeState(t)}}class ${constructor(){}[X(312)](){}}function Q(){const t=["addElement","setDrawRange","scaleX","push","1715262GWIlJV","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","setXYZW","getParticleStateOperator","___photonsTypeID","parseTypeString","function",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"startTime","Default","initialSize","bias","void main()\n","particlePosition","getParameterJSON","Matrix4","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","cos","   float atlasFrameX = atlasFrames.x; \n","getParticleStateInitializer","while (true) {}","getTypeID","       upperSide = upperSideStep.x + upperSideStep.y;\n","type","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","1961282BCgQZZ","calculatingBoundingSphereFromBox","attribute vec4 sequenceElement;\n","DynamicDrawUsage","uniform int instanced; \n","getType","cameraNear","copyState","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","setParticleSequences","frustumCulled","reverse","camera","tValue","mesh","varying vec2 vUV1;\n","loop","lifetimes","getInterpolatedValue","iterator","renderOrder","setUsage","loadJSONParameter","uniform sampler2D atlasTexture;\n","attribute vec2 size;\n","Vector4","   const vec2 right = vec2(1.0, 0.0);\n","getInterpolationValuesForTValue","offsetRadius","       float uLeftV = rotVecStep.x; \n","updateWorldMatrix","   int firstSequenceElement = int(sequenceElementF); \n","baseUV","   int nRowYTile = int(SNOverHS);\n","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","onUpdate","emissionMaximum","customIndex","now","rangePhi","Box3","InstancedBufferGeometry","max","texturePath","sin","shadow","JSONTypeStore::getType() -> namespace does not exist","Vector2","getSequenceIDs","interpolator","NotStarted","Done","speedRange","tValues","initialized","uniform int simulateInWorldSpace; \n",'{}.constructor("return this")( )',"visible","activeCount","copyParticleInArray","set","   gl_FragColor.a *= vFragAlpha; \n","uniform int interpolateAtlasFrames; \n","} \n","element","hasID","Shader","getParticleStateInitializerCount","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","Paused","offsetX","varying float vFragAlpha;\n","rangeRadius","1258204uTyxcp","initialSizes","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","relativeToInitialValue","   vec4 viewPosition; \n","matrixWorld","activeParticleCount","getTexturePath","setRGB","InstancedBufferAttribute","   const vec2 left = vec2(-1.0, 0.0);\n","addComponent","allocate","clamp","speedGenerator","stateAcceleration","sizes","console","setXYZ","onUpdateCallback","renderer","exception","length","addType","invert","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","age","substr","   float atlasFrameHeight = atlasFrames.w; \n","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","info","       viewPosition = viewMatrix * particlePosition;\n","instanced","setAttribute","#include <common>","initialColors","input","update","baseUVs","getFrameSetCount","color","setEmitter","debu","addFrameSet","texture","stateObject","particleCount","addParticleStateOperator","emissionDuration","varying float vSequenceElementT;\n","multiplyScalar","lastPositionFlickerTime","load","Normal","jsonTypes","varying vec3 vFragColor;\n","   float upperSide; \n","tempUp","emissionRate","   vFragColor = color; \n","dispose","positions","emissionRelativeStartTime","generateForElement","rotationalSpeeds","activateParticles","Object3D",'ContinuousArray::getElement() -> "index" is out of bounds.',"setBoundingBox","fromArray","setBoundingSphere","NormalBlending","progressType","getTypeNames","getColors","blending","componentContainer","advanceActiveParticle","sequences","lastPositionAdjuster","__proto__","table","typeName","verticesPerParticle","   float atlasFrameY = atlasFrames.y; \n","offsetTheta","updateBounds",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"sequenceElement","Vector3","split","   vFragAlpha = alpha; \n","emitter","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","normalize","upperIndex","map","calculateBoundingSphereFromBox","setX","getMaximumActiveParticles","localT","hasOwnProperty","activateParticle","alphas","maxParticleCount","add","ages","initialColor",'ParticleStateArray::setState() -> "index" is out of range.',"timeActive","boundingSphere","edgeRadius","alpha",'ComponentContainer::getComponent() -> "index" is out of range.',"warn","currentTime","uniform vec2 uvOffset;\n","BufferGeometry","Color","material","BufferAttribute","updateEmitCount","maximumActiveParticles","setAll","#include <common> \n","string","lastIntensityAdjuster","offsetPhi","varying vec2 vUV2;\n","applyMatrix4","startupTime","timeScaledAcceleration","speedOffset","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","accelerations","stop","call","apply","   float atlasFrameWidth = atlasFrames.z; \n","getElement","Additive","varying float vSequenceElementT; \n","return (function() ","   int sequenceStart = int(sequenceElement.z);\n","uniformOffset","rotations","width","attribute vec2 baseUV;\n","size","getSizes","   vec4 color2 = color1; \n","constructor","setState","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","attribute float customIndex;\n","sequenceElements","setXY","cameraFar","near","getSequenceElements","copyTo","setIntensity","decay","updateMeshBounds","sub","setSimulateInWorldSpace","pause","position","jsonTypeNames","attribute float alpha;\n","lastIntensityFlickerTime","885514ZKkLjm","indexOf","join","simulateInWorldSpace","toString","   vec2 uv2; \n","flushParticleStateToBuffers","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","assign","setOwner","timeScaledVelocity","acceleration","positionAdjuster","randomGenerator","   } \n","getFragmentShader","SrcAlphaFactor","rotationalSpeed","elements","       rotVec = position.xy; \n ","getParticleStates","stateVelocity","Sphere","scaleY","addParticleStateInitializer","uniformRange","intensity","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","nextIntensityAdjuster","customIndexes","uniforms","copy","initializeState","render","particleStateOperators","initialAlphas","data","emitCount","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","floor","namespace","parseNamespaceAndTypename","getSequence","emissionMinimum","Sequence","scaleZ","particleStateArray","getSimulateInWorldSpace","range","setActiveParticleCount","VertexVars","particleSystems","particleStateInitializers","directionGenerator","radius","addSequence","getParticleSequences","autoClear","getParticleStateArray","Running","elementTypeID","addElementsFromParameters","baseURI","outType","init","getElementCount","parent","light","AdditiveBlending","speed","   const vec2 dLeft = vec2(-1.0, -1.0);\n","random","toJSON","getParticleCount","boundingBox","offsetY","internalUpdate","   if (simulateInWorldSpace == 1) { \n","addElements","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","progressTypes","offset","colors","rangeTheta","distance","2771862YfceiB","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","operators","getTypePath","18455560oqfsXn","lifetime","       upperSide = baseUV.y; \n","Time","uniformsNeedUpdate","interpolationElements","transformDirection","fromJSON","initialAlpha","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","min","   if (instanced != 1) { \n","transformInitialDirectionInWorldSpace","velocities","interpolateAtlasFrames","addElementsFromElementClassAndParameters","atlas","JSONTypeStore::addNamespace() -> namespace already exists","addNamespace","setParticleCount","lastUpdateTime","bind","   float uvXOffset = atlasFrameWidth * rightSide; \n","instanceCount",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"components","getParticleSystemRenderer","owner","   const vec2 dRight = vec2(1.0, -1.0);\n","mapSize","createMaterial","setVisibile","keys","particleEmitter","getSystemState","prototype","getParticleStateOperatorCount","FragmentVars","   vec2 uv1; \n","frameSets","getTValue","ShaderMaterial","1600040XnYJTi","remove","checkAndAddTypeName","ParticleSequenceGroup::getSequence -> Invalid ID.","currentSrc","systemState","particleStates","getInterpolatedElement","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","updateState","normal","getVisible","outTypeID","test","geometry","       rightSide = step(2.0, customIndex); \n","PointLight","getFrameSet","generate","getGeometry","addParticleSequence","castShadow","normals","       float dRightV = rotVecStep.w - rotVecStep.z; \n","rotation","particleSequences","   int sequenceNumber = int(sequenceElement.y);\n","offsetZ",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"intensityFlux","height","basePositions","center","getComponent","lowerIndex","toArray","5WgkjQh","getInterpolatorForTypeID","getState","   const vec2 uRight = vec2(1.0, 1.0);\n","Mesh","name","particleSystemRenderer","generator","typeIDGen","start","normalizeDirection","   const vec2 up = vec2(0.0, 1.0);\n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","velocity","   }  else { \n","needsUpdate","void main() { \n","computeBoundingSphere","   const vec2 uLeft = vec2(-1.0, 1.0);\n","source","clone","computeBoundingBox","getActiveParticleCount","params"];return(Q=function(){return t})()}class K extends ${constructor(){const t=X;super(),this[t(647)]=new(v[t(554)]),this[t(597)]=new(v[t(554)]),this[t(480)]=new(v[t(554)]),this.stateVelocity=new P}[X(312)](t,e){const s=X;return super[s(312)](t,e),this.stateAcceleration[s(668)](t[s(648)]),this[s(597)][s(668)](this.stateAcceleration),this[s(597)][s(515)](e),t[s(352)].add(this[s(597)]),this[s(658)][s(668)](t[s(352)]),this[s(647)][s(668)](this[s(658)]),this[s(647)][s(515)](e),t[s(633)][s(571)](this[s(647)]),t[s(491)]=t[s(491)]+e,t[s(327)]=t.rotation+e*t[s(654)],!0}}class tt{static[X(478)](t,e,s){const n=X;return Math[n(271)](Math[n(434)](t,e),s)}static[X(581)](){return performance.now()/1e3}}class et{constructor(){this[X(286)]=[]}[X(476)](t){this.components.push(t)}[X(502)](t,e){const s=X;for(const n of this[s(286)])n[s(502)](t,e)}[X(336)](t){const e=X;if(t>=this[e(286)].length)throw new Error(e(579));return this[e(286)][t]}}const st=class{constructor(t){this[X(344)]=t}};i=X(442),r=X(229),a=X(461),o=X(443),S(st,i,new st(X(442))),S(st,r,new st(X(229))),S(st,a,new st("Paused")),S(st,o,new st(X(443)));let nt=st;class it{constructor(t,e){S(this,"updateBounds",function(){const t=X,e=new(v[t(382)]);return function(){const s=t;let n=null;this[s(273)]&&(n=e,n[s(668)](this.owner[s(470)])[s(489)]()),this[s(345)][s(393)]()?(this.particleStates[s(360)](this[s(244)],n),this[s(345)][s(533)](this[s(244)])):(this.particleStates[s(356)](this[s(576)],n),this.particleSystemRenderer[s(535)](this[s(576)]))}}());const s=X;this[s(288)]=t,this[s(288)][s(449)]=!1,this.visible=!0,this.particleSystemRenderer=e,this[s(446)]=!1,this[s(588)]=0,this.activeParticleCount=0,this[s(640)]=!0,this.emitterInitialized=!1,this[s(294)]=null,this.componentContainer=new et,this[s(222)]=[],this[s(671)]=[],this[s(309)]=null,this.systemState=nt[s(442)],this[s(328)]=new Z,this.onUpdateCallback=null,this[s(273)]=!0,this.boundingBox=new(v[s(432)]),this[s(576)]=new(v[s(659)])}[X(234)](t){const e=X;if(this[e(446)])throw new Error("ParticleSystem::init() -> trying to intialize more than once.");this[e(588)]=t,this[e(345)]?(this.particleSystemRenderer.setOwner(this[e(288)]),this.particleSystemRenderer.init(this.maximumActiveParticles,this[e(640)]),this[e(345)][e(631)](this[e(640)]),this[e(309)]=this[e(345)][e(228)]()):(this.particleStates=new G,this[e(309)][e(234)](this[e(588)])),this[e(661)](new H),this.addParticleStateOperator(new K),this.initialized=!0}[X(314)](){return this[X(449)]}[X(292)](t){return this.visible=t}[X(427)](t){this[X(484)]=t}update(t,e){const s=X;if(this[s(308)]==nt[s(229)]){if(this[s(288)][s(422)](!0),t=null==t||null==t?tt[s(581)]():t,e=null==e||null==e?t-this.lastUpdateTime:e,this.emitterInitialized&&this[s(308)]==nt[s(229)]){const t=this[s(294)][s(502)](e);t>0&&this.activateParticles(t),this.advanceActiveParticles(e),this.onUpdateCallback&&this.onUpdateCallback(this[s(471)]),this[s(551)]()}this.componentContainer[s(502)](t,e),this.lastUpdateTime=t}}[X(670)](t,e){const s=X;if(this[s(314)]()&&this.particleSystemRenderer){const n=t[s(227)];t.autoClear=!1,this[s(288)].visible=!0,this[s(288)].matrixWorldNeedsUpdate=!0,this[s(345)][s(670)](this[s(288)],t,e),this[s(288)][s(449)]=!1,t[s(227)]=n}}[X(348)](){const t=X;this[t(308)]!=nt[t(442)]&&this[t(308)]!=nt.Paused||(this.systemState=nt.Running,this[t(375)]=tt[t(581)](),this[t(281)]=this[t(375)])}[X(632)](){const t=X;this.systemState==nt[t(229)]&&(this.systemState=nt[t(461)])}[X(601)](){}[X(295)](){return this[X(308)]}[X(506)](t){const e=X;return this[e(294)]=t,this.particleEmitter[e(588)]=this[e(588)],this.emitterInitialized=!0,this[e(294)]}[X(476)](t){const e=X;this[e(541)][e(476)](t)}[X(336)](t){const e=X;return this[e(541)][e(336)](t)}[X(661)](t){const e=X;return this[e(222)][e(366)](t),t}[X(459)](){return this[X(222)].length}getParticleStateInitializer(t){const e=X;if(t>=this.particleStateInitializers[e(487)])throw new Error(e(552));return this[e(222)][t]}[X(512)](t){return this.particleStateOperators.push(t),t}[X(297)](){return this[X(671)].length}[X(370)](t){const e=X;if(t>=this[e(671)].length)throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(671)][t]}[X(565)](){return this[X(588)]}[X(361)](){return this[X(471)]}getParticleState(t){const e=X;if(t>=this.activeParticleCount)throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this[e(309)][e(341)](t)}[X(657)](){return this[X(309)]}[X(287)](){return this[X(345)]}getSimulateInWorldSpace(){return this.simulateInWorldSpace}[X(631)](t){const e=X;this[e(640)]=t,this[e(345)]&&this[e(345)][e(631)](this[e(640)])}setTransformInitialDirectionInWorldSpace(t){this.transformInitialDirectionInWorldSpace=t}[X(323)](t,e,s=0){const n=X;this[n(328)][n(225)](t,e,s)}[X(226)](){return this.particleSequences}getEmitter(){return this.particleEmitter}[X(530)](t){const e=X;if(this[e(308)]==nt.Running){const s=tt[e(478)](this[e(471)]+t,0,this.maximumActiveParticles);for(let t=this[e(471)];t<s;t++)this[e(568)](t);this[e(471)]=s,this[e(309)].setActiveParticleCount(this[e(471)])}}[X(568)](t){const e=X;if(this[e(308)]==nt.Running){const s=this[e(309)].getState(t);s[e(491)]=0;for(let t=0;t<this[e(222)][e(487)];t++){this[e(222)][t][e(669)](s)}if(this[e(640)]){s[e(633)][e(595)](this.owner.matrixWorld);const t=s[e(352)][e(487)]();if(this.transformInitialDirectionInWorldSpace){s[e(352)][e(267)](this[e(288)][e(470)])[e(515)](t);const n=s[e(648)][e(487)]();s.acceleration[e(267)](this[e(288)].matrixWorld).multiplyScalar(n)}}this[e(309)].flushParticleStateToBuffers(t)}}advanceActiveParticles(t){const e=X;if(this[e(308)]==nt[e(229)]){let s=0;for(;s<this.activeParticleCount;){this.advanceActiveParticle(s,t)?s++:(s<this[e(471)]-1&&this[e(451)](this.activeParticleCount-1,s),this[e(471)]--)}this[e(309)][e(219)](this[e(471)])}}[X(542)](t,e){const s=X;if(this[s(308)]==nt[s(229)]){const n=this[s(309)][s(341)](t);for(let t=0;t<this.particleStateOperators.length;t++){const i=this.particleStateOperators[t][s(312)](n,e),r=n[s(262)];if(!i||0!=r&&n[s(491)]>=r)return!1}return this.particleStates[s(643)](t),!0}return!1}[X(451)](t,e){const s=X;this[s(309)][s(399)](t,e),this[s(309)][s(643)](e)}static fromJSON(t,e,s){const n=X,i=(t,e,s)=>{const n=W;e(t);for(const r in t)if(t[n(567)](r)){const s=t[r];"object"==typeof s&&i(s,e)}};i(t,(t=>{const s=W;t[s(390)]&&(t[s(390)]=e[s(372)](t[s(390)]))}));const r=t[n(570)],a=t.simulateInWorldSpace,o=t[n(485)],c=o[n(390)][n(268)](o[n(362)]),h=new(v[n(531)]),l=new it(h,c,s);l[n(234)](r),l[n(631)](a);const u=t[n(557)],p=u[n(390)].fromJSON(u[n(362)]);if(l.setEmitter(p),t[n(543)])for(const m of t[n(543)])l.addParticleSequence(m.start,m.length,m.id);if(t.initializers)for(const m of t.initializers)l[n(661)](m[n(390)][n(268)](l,m[n(362)]));if(t[n(259)])for(const m of t[n(259)]){const t=l[n(512)](m[n(390)][n(268)](l,m[n(362)]));m[n(655)]&&t[n(231)](m[n(655)])}return[l,h]}[X(242)](t){const e=X,s=this[e(287)](),n=this.getEmitter(),i=this[e(226)](),r=i[e(440)]()[e(562)]((t=>{const e=i.getSequence(t);return{id:t,start:e.start,length:e.length}})),a=[],o=this.getParticleStateInitializerCount();for(let l=0;l<o;l++){const s=this[e(386)](l);s.constructor!==H&&a[e(366)]({type:t[e(260)](s[e(617)]),params:s[e(242)](t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s.constructor!==K){const n=s[e(242)](t),i=n[e(362)]||n,r=n[e(362)]?n[e(655)]:null,a={type:t[e(260)](s[e(617)]),params:i};r&&(a.elements=r),c[e(366)](a)}}return{maxParticleCount:this[e(565)](),simulateInWorldSpace:this[e(217)](),renderer:{type:t[e(260)](s[e(617)]),params:s[e(242)]()},emitter:{type:t[e(260)](n[e(617)]),params:n.toJSON()},sequences:r,initializers:a,operators:c}}}class rt{constructor(){const t=X;this[t(221)]=[],this.startupTime=performance[t(430)]()/1e3,this[t(281)]=this[t(596)],this.componentContainer=new et}[X(502)](){const t=X,e=tt[t(581)](),s=e-this[t(281)];for(const n of this[t(221)])n[t(502)](e,s);this[t(541)][t(502)](e,s),this.lastUpdateTime=e}render(t,e){const s=X;for(const n of this.particleSystems)n[s(670)](t,e)}addParticleSystem(t){const e=X;this.particleSystems[e(366)](t)}[X(476)](t){const e=X;this[e(541)][e(476)](t)}[X(336)](t){return this[X(541)].getComponent(t)}}class at{constructor(){const t=X;this[t(446)]=!1,this[t(511)]=0,this[t(288)]=null,this[t(640)]=!1}setSimulateInWorldSpace(t){this[X(640)]=t}[X(228)](){}[X(646)](t){this[X(288)]=t}init(t){const e=X;if(this[e(511)]=t,!this[e(446)])return this[e(446)]=!0,!0;throw new Error("Renderer::init() -> trying to intialize more than once.")}[X(670)](){}}class ot extends G{constructor(){const t=X;super(),this.geometry=null,this[t(252)]=null,this.lifetimes=null,this[t(572)]=null,this.sequenceElements=null,this.positions=null,this.velocities=null,this[t(600)]=null,this[t(325)]=null,this[t(611)]=null,this[t(529)]=null,this[t(481)]=null,this[t(254)]=null,this[t(466)]=null,this[t(500)]=null,this[t(497)]=!1,this.verticesPerParticle=6}init(t,e=!1){const s=X;this[s(497)]=e,this[s(497)]?this[s(548)]=1:this[s(548)]=6,super.init(t),this[s(477)](t)}[X(280)](t){super[X(280)](t)}[X(219)](t){const e=X;super[e(219)](t),t>0?this[e(497)]?this.geometry[e(284)]=t:this.geometry.setDrawRange(0,this[e(548)]*t):this[e(497)]?this[e(317)][e(284)]=0:this[e(317)][e(364)](0,0)}flushParticleStateToBuffers(t){const e=X;if(t>=this[e(511)])throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this[e(341)](t),n=t*this.verticesPerParticle;for(let i=0;i<this.verticesPerParticle;i++)this[e(409)][e(564)](n+i,s.lifetime),this[e(409)][e(354)]=!0,this[e(572)][e(564)](n+i,s.age),this.ages.needsUpdate=!0,this[e(621)][e(369)](n+i,s[e(553)].x,s[e(553)].y,s[e(553)].z,s[e(553)].w),this[e(621)].needsUpdate=!0,this[e(526)][e(483)](n+i,s.position.x,s[e(633)].y,s[e(633)].z),this.positions[e(354)]=!0,this[e(274)][e(483)](n+i,s[e(352)].x,s[e(352)].y,s[e(352)].z),this[e(274)][e(354)]=!0,this.accelerations[e(483)](n+i,s[e(648)].x,s.acceleration.y,s[e(648)].z),this[e(600)][e(354)]=!0,this[e(325)][e(483)](n+i,s[e(313)].x,s[e(313)].y,s[e(313)].z),this.normals[e(354)]=!0,this.rotations[e(564)](n+i,s[e(327)]),this.rotations[e(354)]=!0,this[e(529)][e(564)](n+i,s.rotationalSpeed),this.rotationalSpeeds[e(354)]=!0,this.sizes[e(622)](n+i,s[e(614)].x,s[e(614)].y),this[e(481)][e(354)]=!0,this[e(254)].setXYZ(n+i,s.color.r,s[e(505)].g,s.color.b),this.colors.needsUpdate=!0,this[e(569)][e(564)](n+i,s.alpha),this[e(569)][e(354)]=!0,this[e(466)][e(622)](n+i,s[e(377)].x,s.initialSize.y),this[e(466)].needsUpdate=!0,this.initialAlphas[e(564)](n+i,s[e(269)]),this[e(672)][e(354)]=!0}[X(399)](t,e){const s=X;super[s(399)](t,e),this[s(643)](e)}[X(618)](t,e){const s=X;if(t>=this.particleCount)throw new Error(s(285));super[s(618)](t,e),this[s(643)](t)}getPositions(){return this[X(526)]}[X(615)](){return this[X(481)]}getRotations(){return this[X(611)]}[X(625)](){return this[X(621)]}[X(539)](){return this[X(254)]}[X(322)](){return this[X(317)]}[X(477)](t){const e=X;super[e(477)](t);const s=(t,s)=>{const n=e;return this[n(497)]?new(v[n(474)])(t,s):new(v[n(586)])(t,s)},n=this[e(548)]*this[e(511)];if(this[e(497)]){const t=new(v[e(583)]),s=new Float32Array(18);this[e(334)]=new I(s,3),t[e(498)](e(633),this.basePositions),this[e(334)][e(354)]=!0,this[e(334)][e(483)](0,-1,1,0),this[e(334)][e(483)](1,-1,-1,0),this[e(334)].setXYZ(2,1,1,0),this[e(334)][e(483)](3,-1,-1,0),this[e(334)][e(483)](4,1,-1,0),this.basePositions[e(483)](5,1,1,0);const n=new Float32Array(12);this[e(503)]=new(v[e(586)])(n,2),t.setAttribute(e(424),this.baseUVs),this[e(503)][e(354)]=!0,this[e(503)][e(622)](0,0,1),this[e(503)].setXY(1,0,0),this[e(503)].setXY(2,1,1),this[e(503)][e(622)](3,0,0),this[e(503)].setXY(4,1,0),this[e(503)][e(622)](5,1,1);const i=new Float32Array(6);this[e(666)]=new(v[e(586)])(i,1),t[e(498)](e(429),this.customIndexes),this[e(666)][e(354)]=!0,this[e(666)][e(564)](0,0),this[e(666)][e(564)](1,1),this[e(666)][e(564)](2,3),this.customIndexes[e(564)](3,1),this.customIndexes[e(564)](4,2),this.customIndexes.setX(5,3),this[e(317)]=(new(v[e(433)]))[e(668)](t),this[e(317)][e(284)]=0}else{this.geometry=new(v[e(583)]);const t=new Float32Array(n);this[e(666)]=new I(t,1),this[e(317)][e(498)](e(429),this[e(666)]),this[e(666)].needsUpdate=!0;for(let s=0;s<this.particleCount;s++){const t=s*this.verticesPerParticle;this[e(666)].setX(t,0),this[e(666)][e(564)](t+1,1),this[e(666)].setX(t+2,3),this[e(666)].setX(t+3,1),this[e(666)][e(564)](t+4,2),this[e(666)].setX(t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),d=new Float32Array(n),g=new Float32Array(2*n),w=new Float32Array(3*n),S=new Float32Array(n);this.positions=s(o,3),this[e(526)][e(413)](v[e(395)]),this[e(317)][e(498)](e(380),this.positions),this[e(409)]=s(i,1),this[e(409)][e(413)](A),this[e(317)][e(498)](e(262),this[e(409)]),this.ages=s(r,1),this.ages[e(413)](A),this.geometry.setAttribute(e(491),this[e(572)]),this[e(621)]=s(a,4),this[e(621)][e(413)](v[e(395)]),this.geometry[e(498)]("sequenceElement",this.sequenceElements),this[e(274)]=s(c,3),this[e(274)][e(413)](v[e(395)]),this[e(317)][e(498)](e(352),this[e(274)]),this.accelerations=s(h,3),this[e(600)][e(413)](A),this[e(317)][e(498)](e(648),this[e(600)]),this[e(325)]=s(l,3),this.normals[e(413)](v[e(395)]),this[e(317)].setAttribute(e(313),this[e(325)]),this[e(611)]=s(u,1),this[e(611)].setUsage(A),this.geometry[e(498)]("rotation",this.rotations),this[e(529)]=s(p,1),this[e(529)].setUsage(A),this[e(317)][e(498)]("rotationalSpeed",this[e(529)]),this[e(481)]=s(m,2),this[e(481)][e(413)](v[e(395)]),this[e(317)][e(498)](e(614),this.sizes),this[e(254)]=s(f,3),this[e(254)].setUsage(A),this[e(317)][e(498)](e(505),this[e(254)]),this.alphas=s(d,1),this[e(569)][e(413)](v[e(395)]),this[e(317)][e(498)](e(578),this[e(569)]),this[e(466)]=s(g,2),this.initialSizes[e(413)](A),this.geometry[e(498)](e(377),this[e(466)]),this.initialColors=s(w,3),this[e(500)][e(413)](A),this[e(317)][e(498)](e(573),this[e(500)]),this[e(672)]=s(S,1),this[e(672)][e(413)](v[e(395)]),this[e(317)].setAttribute(e(269),this[e(672)])}[X(525)](){const t=X;super[t(525)](),this[t(317)]&&(this[t(317)][t(525)](),this[t(317)]=null)}}class ct{constructor(t,e,s,n,i){this[X(487)]=t,this.x=e,this.y=s,this.width=n,this.height=i}}class ht{constructor(t,e){const s=X;this[s(509)]=t,this[s(435)]=e,this[s(300)]=[]}getTexture(){return this[X(509)]}[X(472)](){return this.texturePath}[X(504)](){const t=X;return this[t(300)][t(487)]}[X(508)](t,e,s,n,i){const r=X;this[r(300)][r(366)](new ct(t,e,s,n,i))}[X(320)](t){const e=X;if(t>=this[e(300)][e(487)])throw new Error('Atlas::getFrameSet -> "index" is out of range.');return this.frameSets[t]}}const lt=class t extends at{constructor(t,e,s=!1,n=v[X(536)],i=!0,r){const a=X;super(),S(this,c,function(){const t=X,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[W(603)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=W,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(426),"i"),n=_t("init");e[t(316)](n+"chain")&&s[t(316)](n+t(501))?_t():n("0")}))()}();const s=new(v[t(554)]);return function(){const e=t,n=this[e(216)][e(322)]();if(this[e(563)]){n.boundingBox||(n[e(244)]=new F),n[e(244)][e(668)](this[e(244)]),!n[e(576)]&&(n[e(576)]=new b),s.x=(this[e(244)].min.x+this[e(244)].max.x)/2,s.y=(this[e(244)][e(271)].y+this[e(244)][e(434)].y)/2,s.z=(this.boundingBox[e(271)].z+this[e(244)][e(434)].z)/2;const t=this.boundingBox[e(434)].x-s.x,i=this.boundingBox[e(434)].y-s.y,r=this[e(244)][e(434)].z-s.z,a=Math[e(434)](Math[e(434)](t,i),r);n.boundingSphere[e(335)][e(668)](s),n[e(576)][e(224)]=Math.sqrt(2*a*a)}else n.boundingSphere||(n[e(576)]=new(v[e(659)])),n[e(576)][e(668)](this.boundingSphere)}}()),this[a(497)]=t,this.particleStateArray=null,this[a(585)]=null,this.mesh=null,this[a(277)]=e,this[a(275)]=s,this[a(540)]=n,this[a(244)]=new(v[a(432)]),this[a(576)]=new(v[a(659)]),this[a(563)]=i,this[a(412)]=r}[X(646)](t){super.setOwner(t)}[X(228)](){return this[X(216)]}[X(631)](t){const e=X;super.setSimulateInWorldSpace(t),this[e(585)]&&(this[e(585)][e(667)][e(640)].value=t?1:0,this[e(585)][e(265)]=!0)}calculatingBoundingSphereFromBox(){return this[X(563)]}[X(533)](t){const e=X;this[e(244)][e(668)](t),this[e(406)]&&this[e(629)]()}[X(535)](t){const e=X;this[e(576)].copy(t),this.mesh&&this[e(629)]()}[X(670)](t,e,s){e[X(670)](t,s)}[(c=X(629),X(234))](t){const e=X;super[e(234)](t)&&(this[e(216)]=new ot,this[e(216)][e(234)](t,this.instanced),this.material=this[e(291)](null,null,null,!0,!1),this[e(585)][e(540)]=this[e(540)],this.mesh=new(v[e(343)])(this[e(216)][e(322)](),this[e(585)]),this.mesh[e(402)]=!0,void 0!==this[e(412)]&&(this.mesh.renderOrder=this[e(412)]),this.updateMeshBounds(),this.owner[e(571)](this.mesh))}[X(525)](){const t=X;this[t(216)][t(525)]()}[X(291)](e,s,n,i,r){const a=X,o=[...Array(16)[a(293)]()][a(562)]((t=>new(v[a(417)])));if(this[a(277)])for(let t=0;t<this.atlas.getFrameSetCount();t++){const e=this[a(277)].getFrameSet(t);o[t]=new(v[a(417)])(e.x,e.y,e[a(612)],e[a(333)])}const c=this[a(277)]?this[a(277)].getTexture():null,h=this.interpolateAtlasFrames,l=this[a(640)],u=this[a(497)]?1:0,p={atlasFrameSet:{type:"v4v",value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(v[a(439)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(645)](n,p),e=e||t.Shader.getVertexShader(r),s=s||t[a(458)][a(652)](i,r),new(v[a(302)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:v[a(536)],blendDstAlpha:T,blendSrcAlpha:v[a(653)],depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=X,n=e[s(277)],i=(new E)[s(517)](n[s(435)]),r=new ht(i,n[s(435)]),a=n.framesets;for(const t of a)r[s(508)](t[s(487)],t.x,t.y,t[s(612)],t[s(333)]);const o=new t(e[s(497)],r,n.interpolateFrames);return"Additive"==e[s(540)]?o[s(540)]=v[s(238)]:o[s(540)]=v[s(536)],o}toJSON(t){const e=X;t=t||(t=>{const e=W;if(t[e(435)])return t[e(435)];const s=t.getTexture()[e(358)];if(s){const t=s[e(673)];if(t){const s=t[e(232)],n=t[e(307)];return n[e(638)](s)>=0?n[e(492)](s.length,n.length-s[e(487)]):n}}});const s=[];for(let i=0;i<this.atlas[e(504)]();i++){const t=this[e(277)][e(320)](i);s.push(t)}let n=e(518);this[e(585)][e(540)]===v[e(238)]&&(n=e(606));return{instanced:this[e(497)],blending:n,atlas:{interpolateFrames:this[e(275)],texturePath:t(this[e(277)]),framesets:s}}}};S(lt,"Shader",{get VertexVars(){const t=X;return["const int MAX_ATLAS_FRAME_SETS = 16; \n",t(664),t(454),t(447),t(396),t(613),t(620),"attribute vec4 particlePosition;\n","attribute float rotation;\n",t(416),t(394),"attribute vec3 color;\n",t(635),"varying vec2 vUV1;\n",t(594),t(520),t(463),t(607)][t(639)]("\n")},get FragmentVars(){const t=X;return[t(454),t(415),t(582),t(407),t(594),"varying vec3 vFragColor;\n","varying float vFragAlpha;\n",t(514)][t(639)]("\n")},getVertexShader(t){const e=X;let s=[e(499),this[e(220)]][e(639)]("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=[e(494),e(604),"   float atlasFrameHeight = atlasFrames.w; \n",e(385),e(549),"   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(558),e(559),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(425),e(400),e(644),e(490),e(368),e(270),"   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n",e(455),e(379),"{\n",e(418),e(350),e(475),"   const vec2 down = vec2(0.0, -1.0);\n",e(342),e(357),e(240),e(289),e(469),e(247),e(496),"   } else { \n",e(391),e(651),"   float sequenceElementF = sequenceElement.x;\n",e(329),e(609),"   int sequenceLength = int(sequenceElement.w);\n","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n",e(299),e(642),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",e(423),e(460),e(250),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(311),"   } \n","   float atlasFrameWidth = atlasFrames.z; \n",e(493),"   float rotMag = rotation; \n",e(249),"   float rightSide; \n",e(521),e(272),e(318),e(675),e(389),"   }  else { \n","       rightSide = baseUV.x; \n",e(263),e(651),e(283),"   float uvYOffset = atlasFrameHeight * upperSide; \n","   vec2 rotVec; \n",e(272),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(421),e(251),"       float uRightV = rotVecStep.z; \n",e(326),e(467),e(353),e(656),e(651),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n",e(619),e(599),e(524),e(556)][e(639)]("\n"),t&&(s+="   \n  #include <logdepthbuf_vertex> \n"),s+=e(455),s},getFragmentShader(t,e){const s=X;let n=s(590)+this[s(298)]+"\n";return e&&(n+="  \n #include <logdepthbuf_pars_fragment> \n"),n+=s(355),e&&(n+="    \n  #include <logdepthbuf_fragment> \n"),n+=t?["   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n",s(616),s(258),s(383),s(453)][s(639)]("\n"):[s(351),"   vec4 color2 = color1; \n",s(258),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(453)][s(639)]("\n"),n+="}\n",n}});let ut=lt;class pt{constructor(){const t=X;this[t(527)]=0,this[t(513)]=0,this[t(674)]=0,this[t(491)]=0,this[t(575)]=0,this[t(450)]=0,this[t(588)]=0}[X(502)](t){return this[X(246)](t),0}internalUpdate(t){const e=X;return this.age+=t,this[e(575)]=Math[e(434)](this.age-this[e(527)],0),this[e(491)]>=this[e(527)]&&(0==this[e(513)]||this[e(575)]<=emissionDuration)}[X(587)](t){this[X(674)]+=t}}class mt extends pt{constructor(){const t=X;super(),this[t(680)]=0,this[t(428)]=0}}class ft extends mt{constructor(t=0){const e=X;super(),this[e(523)]=t}[X(502)](t){const e=X;if(this[e(246)](t)){const t=this[e(523)]*this[e(575)]-this[e(674)];if(t>=1){const s=Math[e(676)](t);return this.updateEmitCount(s),s}}return 0}static[X(268)](t){const e=X,s=new ft;return s[e(523)]=t[e(523)]||0,s}[X(242)](){return{emissionRate:this[X(523)]}}}const dt=class t{constructor(t){this[X(344)]=t}static[(h=X(376),l=X(439),u=X(554),p=X(417),m=X(584),X(388))](e){const s=X;let n=t[s(376)];return e===v[s(439)]?n=t.Vector2:e===v[s(554)]?n=t[s(554)]:e===v[s(417)]?n=t[s(417)]:e===v[s(584)]&&(n=t.Color),n}static[X(414)](t,e){const s=X;switch(e){case v[s(439)]:return(new(v[s(439)])).fromArray(t);case P:return(new P).fromArray(t);case v[s(417)]:return(new(v[s(417)]))[s(534)](t);case v[s(584)]:return(new(v[s(584)]))[s(534)](t)}return t}};S(dt,h,new dt("Default")),S(dt,l,new dt(X(439))),S(dt,u,new dt(X(554))),S(dt,p,new dt("Vector4")),S(dt,m,new dt("Color"));let gt=dt;class wt{constructor(t){const e=X;this.outType=t,this[e(315)]=gt[e(388)](t)}}class St extends wt{constructor(t,e,s,n,i,r){const a=X;super(t),this[a(218)]=e,this[a(253)]=s,this.uniformRange=n,this[a(610)]=i,this.normalize=r}generate(t){const e=X,s=Math[e(241)]()*this[e(662)];switch(this[e(315)]){case gt[e(376)]:t=Math[e(241)]()*this.range+this[e(253)],this[e(560)]&&(t=t<0?-1:1);break;case gt[e(439)]:t[e(452)](this[e(528)](s,"x"),this[e(528)](s,"y"));break;case gt[e(554)]:t[e(452)](this[e(528)](s,"x"),this.generateForElement(s,"y"),this[e(528)](s,"z"));break;case gt[e(417)]:t[e(452)](this[e(528)](s,"x"),this[e(528)](s,"y"),this[e(528)](s,"z"),this[e(528)](s,"w"))}return this[e(560)]&&t[e(560)](),t}[X(528)](t,e){const s=X;return t+Math[s(241)]()*this[s(218)][e]+this[s(253)][e]+this.uniformOffset}[X(359)](){const t=X;return new St(this[t(233)],this[t(218)],this.offset,this[t(662)],this[t(610)],this.normalize)}static[X(381)](t){const e=X;return t instanceof v[e(439)]||t instanceof v[e(554)]||t instanceof z||t instanceof v[e(584)]?t.toArray():t}static[X(268)](t){const e=X;return new St(t[e(390)],gt[e(414)](t[e(218)],t.type),gt[e(414)](t[e(253)],t[e(390)]),t.uniformRange||0,t[e(610)]||0,t[e(560)])}[X(242)](t){const e=X,s={range:St[e(381)](this[e(218)]),offset:St.getParameterJSON(this[e(253)]),uniformRange:this[e(662)],uniformOffset:this[e(610)]},n=t[e(260)](this[e(218)][e(617)]);return null!=n&&(s[e(390)]=n),{type:t[e(260)](St),params:s}}}class yt extends L{constructor(t,e,s,n,i){const r=X;super(),this[r(218)]=t,this[r(253)]=e,this.uniformRange=s,this[r(610)]=n,this[r(560)]=i,this[r(346)]=new St(0,this[r(218)],this.offset,this.uniformRange,this[r(610)],this[r(560)])}[X(669)](t){const e=X;t[e(262)]=this[e(346)][e(321)]()}static[X(268)](t,e){const s=X;return new yt(e[s(218)],e.offset,e[s(662)],e[s(610)],e.normalize)}[X(242)](){const t=X;return{range:this.range,offset:this.offset,uniformRange:this.uniformRange,uniformOffset:this[t(610)],normalize:this.normalize}}}class vt extends L{constructor(t){const e=X;super(),this[e(346)]=t.clone()}[X(669)](t){const e=X;t[e(327)]=this.generator.generate(t[e(327)])}static fromJSON(t,e){const s=X,n=e[s(346)].type[s(268)](e.generator.params);return new vt(n)}toJSON(t){const e=X;return{generator:this[e(346)][e(242)](t)}}}class xt extends L{constructor(t,e,s,n,i){const r=X;super(),this.range=t,this[r(253)]=e,this[r(662)]=s,this[r(610)]=n,this[r(560)]=i,this[r(346)]=new St(0,this.range,this[r(253)],this[r(662)],this[r(610)],this[r(560)])}initializeState(t){const e=X;t[e(654)]=this[e(346)][e(321)]()}static[X(268)](t,e){const s=X;return new xt(e[s(218)],e.offset,e[s(662)],e[s(610)],e[s(560)])}[X(242)](){const t=X;return{range:this[t(218)],offset:this.offset,uniformRange:this[t(662)],uniformOffset:this.uniformOffset,normalize:this[t(560)]}}}class Pt extends L{constructor(t,e){const s=X;super(),this[s(650)]=new St(v[s(554)],t,e,0,0,!1)}[X(669)](t){const e=X;this[e(650)][e(321)](t.position)}static[X(268)](t,e){const s=X;return new Pt((new P).fromArray(e[s(218)]),(new(v[s(554)]))[s(534)](e[s(253)]))}[X(242)](){const t=X;return{range:this[t(650)].range[t(338)](),offset:this[t(650)][t(253)][t(338)]()}}}class It extends L{constructor(t){const e=X;super(),this[e(346)]=t[e(359)]()}[X(669)](t){const e=X;this[e(346)][e(321)](t[e(614)]),t[e(377)][e(668)](t[e(614)])}static[X(268)](t,e){const s=X,n=e[s(346)][s(390)][s(268)](e.generator.params);return new It(n)}toJSON(t){const e=X;return{generator:this[e(346)][e(242)](t)}}}class At extends L{constructor(t,e,s,n,i=!0){const r=X;super(),this.directionGenerator=new St(v[r(554)],t,e,0,0,!0),this[r(479)]=new St(0,s,n,0,0,!1),this[r(349)]=i}[X(669)](t){const e=X;this[e(223)].generate(t[e(352)]),this.normalizeDirection&&t[e(352)][e(560)](),t.velocity[e(515)](this[e(479)][e(321)]())}static[X(268)](t,e){const s=X;return new At((new(v[s(554)]))[s(534)](e[s(218)]),(new(v[s(554)]))[s(534)](e.offset),e[s(444)],e[s(598)])}[X(242)](){const t=X;return{range:this.directionGenerator.range[t(338)](),offset:this.directionGenerator[t(253)][t(338)](),speedRange:this.speedGenerator[t(218)],speedOffset:this[t(479)][t(253)]}}}class Ft extends L{constructor(t,e=!1){const s=X;super(),this[s(401)](t),this[s(403)]=e}setParticleSequences(t){this[X(328)]=t}[X(669)](t){const e=X,s=this.particleSequences[e(440)](),n=s[e(487)]*Math[e(241)](),i=s[Math.floor(n)],r=this[e(328)].getSequence(i),a=t[e(553)];this[e(403)]?a.x=r[e(487)]-1:a.x=r[e(348)],a.y=r.id,a.z=r[e(348)],a.w=r[e(487)],t[e(537)]=Y[e(681)]}static[X(268)](t,e){const s=X;return new Ft(t[s(226)](),e[s(403)])}[X(242)](){return{reverse:this[X(403)]}}}class bt extends ${constructor(t,e,s=!1,n=!1){const i=X;super(),this[i(328)]=t,this[i(239)]=e,this[i(408)]=s,this.reverse=n}updateState(t,e){const s=X,n=t.sequenceElement,i=this[s(328)][s(679)](n.y),r=e/this[s(239)];if(this[s(403)]){if(n.x-=r,n.x<i.start&&(n.x=i[s(348)]+i[s(487)],!this.loop))return!1}else if(n.x+=r,n.x>=i[s(348)]+i[s(487)]&&(n.x=i[s(348)],!this.loop))return!1;return!0}static fromJSON(t,e){const s=X;return new bt(t[s(226)](),e[s(239)],e[s(408)],e[s(403)])}[X(242)](){const t=X;return{speed:this[t(239)],loop:this[t(408)],reverse:this[t(403)]}}}class Tt{constructor(t,e){S(this,f,function(){const t=X,e={lowerIndex:0,upperIndex:0,localT:0},s=new(v[t(439)]),n=new P,i=new(v[t(417)]),r=new(v[t(584)]),a=s=>(n,i,r,a)=>{const o=t;Tt.getInterpolationValuesForTValue(r,n,e),s[o(668)](i[e[o(561)]]).multiplyScalar(e[o(566)]),a.copy(i[e.lowerIndex]).multiplyScalar(1-e[o(566)])[o(571)](s)};return function(o){const c=t;switch(o){case gt[c(376)]:return(t,s,n)=>{const i=c;return Tt[i(419)](n,t,e),(1-e.localT)*s[e[i(337)]]+e[i(566)]*s[e.upperIndex]};case gt[c(439)]:return a(s);case gt[c(554)]:return a(n);case gt[c(417)]:return a(i);case gt[c(584)]:return a(r)}}}());const s=X;this[s(655)]=[],this[s(445)]=[],this[s(230)]=gt[s(388)](t),this[s(441)]=e||this[s(340)](this[s(230)])}*[Symbol[X(411)]](){const t=X;let e=0;for(;e<this[t(235)]();)yield{element:this[t(655)][e],tValue:this[t(445)][e]},e++}[X(235)](){return this[X(655)].length}[X(605)](t){const e=X;if(t>=this[e(235)]())throw new Error(e(532));return this.elements[t]}[X(301)](t){const e=X;if(t>=this.getElementCount())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this[e(445)][t]}[X(363)](t,e){const s=X;this[s(655)].push(t),this[s(445)].push(e)}[X(310)](t,e){const s=X;return this.interpolator(t,this[s(655)],this.tValues,e)}static[(f=X(340),X(419))](t,e,s){const n=X,i=t[n(487)];if(0===i)return s[n(337)]=-1,s[n(561)]=-1,void(s.localT=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(337)]=tt.clamp(a,0,i-1),s[n(561)]=tt[n(478)](o,0,i-1);const c=t[a],h=t[o];s[n(566)]=(e-c)/(h-c)}}class Et extends ${constructor(t,e=!1){const s=X;super(),this[s(468)]=e,this[s(266)]=new Tt(t)}[X(363)](t,e){const s=X;this.interpolationElements[s(363)](t,e)}[X(248)](t){const e=X;for(const s of t)this[e(266)][e(363)](s[0],s[1])}[X(276)](t,e){const s=X;for(const n of e){const[...e]=n[0];this.interpolationElements[s(363)](new t(...e),n[1])}}[X(410)](t,e){const s=X;let n=0;switch(t[s(537)]){case Y[s(264)]:n=0!=t[s(262)]?t[s(491)]/t[s(262)]:t[s(491)];break;case Y[s(681)]:n=t.sequenceElement.x/t.sequenceElement.w}return this[s(266)][s(310)](n,e)}}class zt extends Et{constructor(t=!1){super(0,t)}addElementsFromParameters(t){super[X(248)](t)}updateState(t){const e=X;return this[e(468)]?t[e(578)]=t[e(269)]*this[e(410)](t,t[e(578)]):t[e(578)]=this[e(410)](t,t.alpha),!0}static[X(268)](t,e){return new zt(e.relativeToInitialValue)}[X(242)](){const t=X;return{params:{relativeToInitialValue:this[t(468)]},elements:[...this[t(266)]][t(562)]((e=>[e[t(456)],e.tValue]))}}}class Rt extends Et{constructor(t=!1){super(v[X(439)],t),S(this,d,function(){const t=X,e=new(v[t(439)]);return function(s){const n=t;return this[n(410)](s,e),this.relativeToInitialValue?s[n(614)][n(452)](s[n(377)].x*e.x,s.initialSize.y*e.y):s[n(614)].copy(e),!0}}())}[X(231)](t){const e=X;super.addElementsFromElementClassAndParameters(v[e(439)],t)}static[(d=X(312),X(268))](t,e){return new Rt(e[X(468)])}toJSON(){const t=X;return{params:{relativeToInitialValue:this[t(468)]},elements:[...this[t(266)]][t(562)]((e=>[e[t(456)][t(338)](),e[t(405)]]))}}}class Ot extends Et{constructor(t=!1){super(v[X(584)],t),S(this,g,function(){const t=new x;return function(e){const s=W;return this[s(410)](e,t),this[s(468)]?e[s(505)][s(473)](e[s(573)].r*t.r,e[s(573)].g*t.g,e[s(573)].b*t.b):e[s(505)][s(668)](t),!0}}())}addElementsFromParameters(t){const e=X;super[e(276)](v[e(584)],t)}static[(g=X(312),X(268))](t,e){return new Ot(e[X(468)])}[X(242)](){const t=X;return{params:{relativeToInitialValue:this[t(468)]},elements:[...this[t(266)]][t(562)]((e=>[e[t(456)][t(338)](),e.tValue]))}}}class Ct extends ${constructor(t){const e=X;super(),this[e(346)]=t.clone()}addElementsFromParameters(t){const e=X;super[e(276)](THREE[e(554)],t)}[X(312)](t){const e=X;return this[e(346)][e(321)](t[e(648)]),!0}static fromJSON(t,e){const s=X,n=e[s(346)][s(390)][s(268)](e[s(346)].params);return new Ct(n)}[X(242)](t){const e=X;return{generator:this[e(346)][e(242)](t)}}}class Vt extends wt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=X;super(P),this.rangeTheta=t,this[p(550)]=e,this.rangePhi=s,this[p(593)]=n,this[p(464)]=i,this[p(420)]=r,this[p(365)]=a,this[p(660)]=o,this[p(215)]=c,this.offsetX=h,this[p(245)]=l,this[p(330)]=u,this[p(522)]=(new(v[p(554)]))[p(452)](0,1,0)}[X(321)](t){const e=X;this.tempUp[e(452)](0,1,0);const s=Math.random()*this[e(255)]+this[e(550)],n=Math[e(241)]()*this[e(431)]+this[e(593)],i=Math[e(384)](s),r=Math.sin(s),a=Math[e(384)](n),o=Math[e(436)](n);t[e(452)](i,0,-r),t[e(515)](a),this[e(522)][e(515)](o),t.add(this.tempUp),t.normalize();const c=Math[e(241)]()*this[e(464)]+this[e(420)];t[e(515)](c),t.x*=this[e(365)],t.y*=this.scaleY,t.z*=this[e(215)],t.x+=this[e(462)],t.y+=this[e(245)],t.z+=this[e(330)]}[X(359)](){const t=X;return new Vt(this[t(255)],this[t(550)],this[t(431)],this[t(593)],this[t(464)],this[t(420)],this.scaleX,this.scaleY,this.scaleZ,this[t(462)],this[t(245)],this[t(330)])}static[X(268)](t){const e=X;return new Vt(t[e(255)],t.offsetTheta,t[e(431)],t[e(593)],t.rangeRadius,t[e(420)],t[e(365)],t.scaleY,t.scaleZ,t[e(462)],t[e(245)],t[e(330)])}[X(242)](t){const e=X;return{type:t[e(260)](Vt),params:{rangeTheta:this[e(255)],offsetTheta:this[e(550)],rangePhi:this[e(431)],offsetPhi:this[e(593)],rangeRadius:this[e(464)],offsetRadius:this[e(420)],scaleX:this[e(365)],scaleY:this[e(660)],scaleZ:this[e(215)],offsetX:this[e(462)],offsetY:this[e(245)],offsetZ:this[e(330)]}}}}class qt{constructor(){}}class Mt extends qt{constructor(t,e,s,n,i,r,a=void 0){const o=X;super(),this[o(288)]=null,this.light=null,this[o(281)]=performance[o(430)]()/1e3,this[o(636)]=this[o(281)],this.lastPositionFlickerTime=this[o(281)],this[o(592)]=1,this.nextIntensityAdjuster=1,this.lastPositionAdjuster=new(v[o(554)]),this[o(649)]=new P,this[o(663)]=1,this[o(332)]=2,this.parent=t,this.init(t,e,s,n,i,r,a)}[X(234)](t,e,s,n,i,r,a=void 0){const o=X;this[o(288)]=new(v[o(531)]),t[o(571)](this[o(288)]),n=n||new(v[o(584)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this.light=new(v[o(319)])(16777215,2,0,1),this.light[o(505)].copy(n),this[o(237)][o(256)]=i,this.light[o(628)]=r,this[o(237)][o(324)]=c,c&&(this[o(237)].shadow[o(290)][o(612)]=a[o(290)]||512,this[o(237)][o(437)][o(290)][o(333)]=a[o(290)]||512,this.light[o(437)][o(404)][o(624)]=a[o(398)]||.5,this[o(237)][o(437)].camera.far=a[o(623)]||500,this[o(237)].shadow[o(378)]=a[o(378)]||1e-4,this.light[o(437)][o(224)]=a[o(577)]||1),this[o(288)].add(this[o(237)]),this[o(663)]=e,this[o(332)]=s,this.light}dispose(){const t=X;this[t(236)][t(304)](this[t(288)])}getLight(){return this[X(237)]}[X(627)](t){this[X(663)]=t}[X(502)](t){const e=X,s=t-this[e(636)],n=1/8,i=this[e(332)];if(s>n){this[e(636)]=t;let s=1+2*(Math[e(241)]()-.5)*i*n;const r=s-this[e(592)];s=this[e(592)]+r,this[e(592)]=this[e(665)],this[e(665)]=tt[e(478)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(592)]+t*this[e(665)];this[e(237)][e(663)]=i*this.intensity}if(t-this[e(516)]>.0625){this[e(516)]=t;const s=t-this[e(281)];this[e(649)][e(452)](Math[e(241)]()-.5,Math[e(241)]()-.5,Math[e(241)]()-.5),this.positionAdjuster.multiplyScalar(s),this[e(649)][e(571)](this[e(544)]),this.positionAdjuster[e(515)](.5),this[e(288)][e(633)][e(668)](this[e(649)]),this.lastPositionAdjuster[e(668)](this[e(649)]),this.lastUpdateTime=t}}}class Nt{constructor(){const t=X;this[t(519)]={default:{}},this.jsonTypeNames={},this[t(347)]=0}[X(488)](t,e){this.addTypeToNamespace("default",t,e)}addTypeToNamespace(t,e,s){const n=X;if(!this[n(519)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(519)][t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this[n(305)](s,e,t)&&(this.jsonTypes[t][e]=s)}[X(279)](t,e){const s=X;if(this[s(519)][t])throw new Error(s(278));this.jsonTypes[t]=e;for(const n in e)if(!e.hasOwnProperty||e[s(567)](n)){const s=e[n];this.checkAndAddTypeName(s,n,t)}}checkAndAddTypeName(t,e,s){const n=X;if(typeof t===n(373)){const i=this.typeIDGen++;t[n(371)]=i,this[n(634)][i]={namespace:s,typeName:e}}}[X(397)](t,e){const s=X;if(!this[s(519)][t])throw new Error(s(438));if(!this[s(519)][t][e])throw new Error("JSONTypeStore::getType() -> typeName does not exist");return this[s(519)][t][e]}[X(538)](t){const e=X;return this[e(634)][t[e(371)]]}getTypePath(t){const e=X,s=this.getTypeNames(t);if(s)return s[e(677)]+"."+s[e(547)]}[X(678)](t){const e=t[X(555)]("."),s=e[0];e.splice(0,1);return{namespace:s,typeName:e.join(".")}}[X(372)](t){const e=X,{namespace:s,typeName:n}=this[e(678)](t);return this[e(397)](s,n)}}function _t(t){function e(t){const s=W;if(typeof t===s(591))return function(t){}[s(617)](s(387))[s(603)]("counter");1!==(""+t/t)[s(487)]||t%20==0?function(){return!0}[s(617)]("debugger")[s(602)]("action"):function(){return!1}[s(617)](s(507)+"gger")[s(603)](s(510)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Ut=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Ct,AnimatedSpriteRenderer:ut,Atlas:ht,BaseParticleStateInitializer:H,BaseParticleStateOperator:K,BoxPositionInitializer:Pt,ColorInterpolatorOperator:Ot,ConstantParticleEmitter:ft,FlickerLight:Mt,JSONTypeStore:Nt,LifetimeInitializer:yt,Manager:rt,OpacityInterpolatorOperator:zt,ParticleStateArray:G,ParticleSystem:it,ParticleSystemState:nt,RandomGenerator:St,RandomVelocityInitializer:At,Renderer:at,RotationInitializer:vt,RotationalSpeedInitializer:xt,SequenceInitializer:Ft,SequenceOperator:bt,SizeInitializer:It,SizeInterpolatorOperator:Rt,SphereRandomGenerator:Vt},Symbol.toStringTag,{value:"Module"})),Bt=Dt;!function(t,e){const s=Dt,n=Wt();for(;;)try{if(999805===-parseInt(s(436))/1*(-parseInt(s(440))/2)+-parseInt(s(498))/3*(-parseInt(s(460))/4)+-parseInt(s(456))/5*(-parseInt(s(483))/6)+parseInt(s(499))/7*(parseInt(s(435))/8)+-parseInt(s(455))/9*(parseInt(s(490))/10)+-parseInt(s(495))/11*(-parseInt(s(462))/12)+parseInt(s(472))/13)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Dt(509)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){jt(this,(function(){const t=Dt,e=new RegExp(t(502)),s=new RegExp(t(473),"i"),n=Jt(t(446));e[t(451)](n+"chain")&&s[t(451)](n+t(468))?Jt():n("0")}))()}();const Xt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Wt(){const t=["error","OpacityInterpolatorOperator","init","toString",'{}.constructor("return this")( )',"addFrameSet","TextureLoader","test","Color","Vector3","load","9xHayOO","5VfOcxd","setSimulateInWorldSpace","SequenceInitializer","getParticleSequences","180mVFFni","RandomGenerator","84LOeglZ","LifetimeInitializer","RotationalSpeedInitializer","addNamespace","FlickerLight","BoxPositionInitializer","input","gger","counter","trace","2282878elxGaF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","copy","ParticleSystem","bind","fireF","value","add","addElements","console","addParticleStateOperator","4985358fynckB","start","RandomVelocityInitializer","AnimatedSpriteRenderer","length","AccelerationOperator","SizeInterpolatorOperator","15218130jArene","return (function() ","addComponent","stateObject","setEmitter","626802hSmpED","warn","call","34212jQaJQX","595343jcfGIb","SequenceOperator","Manager","function *\\( *\\)","ColorInterpolatorOperator","scale","addElementsFromParameters","position","debu","constructor","apply","info","RotationInitializer","Photons","Object3D","addParticleStateInitializer","addParticleSystem","Vector2","8YJfApq","192ZKFpgu","Atlas","ConstantParticleEmitter","SphereRandomGenerator","5396XvqGbx","string","AdditiveBlending","SizeInitializer"];return(Wt=function(){return t})()}function Dt(t,e){const s=Wt();return(Dt=function(t,e){return s[t-=428]})(t,e)}Xt(void 0,(function(){const t=Dt,e=function(){const t=Dt;let e;try{e=Function(t(491)+t(448)+");")()}catch(s){e=window}return e}(),s=e.console=e[t(481)]||{},n=["log",t(496),t(428),t(444),"exception","table",t(471)];for(let i=0;i<n[t(487)];i++){const e=Xt[t(508)].prototype[t(476)](Xt),r=n[i],a=s[r]||e;e.__proto__=Xt[t(476)](Xt),e[t(447)]=a[t(447)][t(476)](a),s[r]=e}}))();const Yt=q({__name:Bt(477),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Bt,s=t,n=new(Ut[e(501)]),i=new Nt;i[e(465)]("THREE",v),i[e(465)](e(430),Ut);const{renderer:r,camera:a,scene:o}=C(),c=new P(...s.position);n[e(433)](((t,s)=>{const n=e,i=new(v[n(431)]);i[n(506)][n(474)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new E)[n(454)](a),c=new(Ut[n(437)])(o,a);c[n(449)](1,0,0,1,1);const h=new(Ut[n(486)])(!0,c,!0,v[n(442)]),l=new(Ut[n(475)])(i,h,r[n(478)]);l[n(446)](150),l.setEmitter(new ft(6));const u=new(Ut[n(461)])(v[n(434)],new(v[n(434)])(0,0),new(v[n(434)])(.15*t,.15*t),0,0,!1);l[n(432)](new(Ut[n(463)])(3,1,0,0,!1)),l[n(432)](new(Ut[n(443)])(u)),l[n(432)](new(Ut[n(467)])(new(v[n(453)])(.05*t,0,.05*t),new P(-.025*t,0,-.025*t))),l[n(432)](new(Ut[n(485)])(new(v[n(453)])(.4*t,.5*t,.4*t),new(v[n(453)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(482)](new(Ut[n(445)]))[n(480)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new(Ut[n(503)])(!0))[n(505)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(Ut[n(439)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(Ut[n(488)])(p)),l[n(457)](!0),l.start(),l})(s[e(504)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(v[n(431)]);i[n(506)][n(474)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(v[n(450)]))[n(454)](a),c=new ht(o,a);c[n(449)](18,0,0,.125,.25);const h=new(Ut[n(486)])(!0,c,!0),l=new it(i,h,r[n(478)]);l[n(446)](50),l[n(494)](new(Ut[n(438)])(10)),l.addParticleSequence(0,18);const u=l[n(459)]();l[n(432)](new yt(0,0,0,0,!1)),l[n(432)](new(Ut[n(429)])(new St(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(432)](new xt(1,-1,0,0,!1)),l[n(432)](new(Ut[n(443)])(new St(v[n(434)],new(v[n(434)])(.25*t,.25*t),new R(.5*t,.5*t),0,0,!1))),l.addParticleStateInitializer(new(Ut[n(467)])(new(v[n(453)])(.05*t,0,.05*t),new(v[n(453)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new(Ut[n(485)])(new P(.05*t,.4*t,.05*t),new P(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(432)](new(Ut[n(458)])(u)),l[n(482)](new(Ut[n(500)])(u,.07,!1));l.addParticleStateOperator(new(Ut[n(445)]))[n(480)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l.addParticleStateOperator(new(Ut[n(489)])(!0))[n(505)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(482)](new(Ut[n(503)])(!0))[n(505)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(482)](new(Ut[n(488)])(new(Ut[n(461)])(v[n(453)],new(v[n(453)])(0,0,0),new P(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[n(484)](),l})(s[e(504)],c)),n[e(433)](((t,s)=>{const n=e,i=new(v[n(431)]);i[n(506)][n(474)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new E)[n(454)](a),c=new(Ut[n(437)])(o,a);c[n(449)](16,0,0,212/1024,.25);const h=new(Ut[n(486)])(!0,c,!0),l=new it(i,h,r[n(478)]);l[n(446)](20),l.setEmitter(new(Ut[n(438)])(5)),l.addParticleSequence(0,16);const u=l[n(459)]();l.addParticleStateInitializer(new(Ut[n(463)])(0,0,0,0,!1)),l.addParticleStateInitializer(new(Ut[n(429)])(new(Ut[n(461)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(432)](new(Ut[n(464)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(432)](new(Ut[n(443)])(new(Ut[n(461)])(v[n(434)],new R(0,0),new(v[n(434)])(0,0),.2*t,.65*t,!1))),l[n(432)](new(Ut[n(467)])(new P(.1*t,0,.1*t),new P(-.05*t,0,-.05*t))),l[n(432)](new(Ut[n(485)])(new(v[n(453)])(.02*t,.4*t,.02*t),new(v[n(453)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(432)](new(Ut[n(458)])(u)),l[n(482)](new(Ut[n(500)])(u,.1,!1));l[n(482)](new(Ut[n(445)]))[n(480)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(482)](new(Ut[n(489)])(!0))[n(505)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(482)](new(Ut[n(503)])(!0))[n(505)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(482)](new(Ut[n(488)])(new St(v[n(453)],new(v[n(453)])(0,0,0),new(v[n(453)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[n(484)](),l})(s[e(504)],c)),n[e(492)](((t,s=10)=>{const n=e,i=new O;o[n(478)][n(479)](i),i.position[n(474)](t);return new(Ut[n(466)])(i,s,2,(new(v[n(452)])).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=V();return h((()=>{const t=e;n.update(),n.render(r.value,a[t(478)])})),(t,e)=>null}});function Jt(t){function e(t){const s=Dt;if(typeof t===s(441))return function(t){}[s(508)]("while (true) {}")[s(509)](s(470));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(s(507)+s(469))[s(497)]("action"):function(){return!1}[s(508)](s(507)+s(469)).apply(s(493)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Gt(t,e){const s=Ht();return(Gt=function(t,e){return s[t-=293]})(t,e)}const kt=Gt;!function(t,e){const s=Gt,n=Ht();for(;;)try{if(283746===parseInt(s(323))/1+parseInt(s(303))/2*(-parseInt(s(302))/3)+-parseInt(s(327))/4*(-parseInt(s(316))/5)+-parseInt(s(311))/6+parseInt(s(322))/7+parseInt(s(313))/8*(-parseInt(s(307))/9)+-parseInt(s(332))/10*(parseInt(s(334))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Zt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Gt(298)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Zt(this,(function(){const t=Gt,e=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Qt(t(295));e[t(330)](n+t(326))&&s[t(330)](n+"input")?Qt():n("0")}))()}();const Lt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Gt(298)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Ht(){const t=["gger","perspectiveCameraRef","counter","264057MdpslN","2VqtCvB","position","string","set","1587123gKeZbg","pagesShowRef","tcRef","return (function() ","356646VNsXdS","stateObject","8qFQTAK","value","trace","5jfGJwF","fireF","$refs","__proto__","toString","info","2436259WfsFmV","417796oPuxXG","call","error","chain","1200592VhfqYI","warn","console","test","length","2292140ipTfzo","action","22tnPWPb","log","debu","exception","while (true) {}","init","bind","constructor","apply"];return(Ht=function(){return t})()}Lt(void 0,(function(){const t=Gt;let e;try{e=Function(t(310)+'{}.constructor("return this")( ));')()}catch(i){e=window}const s=e[t(329)]=e.console||{},n=[t(335),t(328),t(321),t(325),t(293),"table",t(315)];for(let r=0;r<n.length;r++){const e=Lt.constructor.prototype[t(296)](Lt),i=n[r],a=s[i]||e;e[t(319)]=Lt[t(296)](Lt),e.toString=a[t(320)][t(296)](a),s[i]=e}}))();const $t=q({__name:kt(317),setup(t){const e=M();return N((()=>{const t=Gt;e[t(314)]&&(e[t(314)][t(318)][t(309)]?e[t(314)][t(318)][t(309)].context.camera.value[t(304)][t(306)](580,360,500):e[t(314)][t(318)][t(300)]&&e[t(314)].$refs[t(300)][t(304)][t(306)](580,360,500))})),(t,s)=>{const n=Gt;return _(),U(y,{ref_key:n(308),ref:e},{ability:B((()=>[j(Yt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Qt(t){function e(t){const s=Gt;if(typeof t===s(305))return function(t){}[s(297)](s(294))[s(298)](s(301));1!==(""+t/t)[s(331)]||t%20==0?function(){return!0}[s(297)](s(336)+s(299))[s(324)](s(333)):function(){return!1}[s(297)]("debu"+s(299))[s(298)](s(312)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{$t as default};
