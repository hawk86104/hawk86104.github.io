import{a as t,B as n,r as e,bY as o,C as r,j as s,Z as c}from"./three.OZpCYxlY1718787583077.js";import{x as i}from"./@fesjs.BvrsBDNW1718787583077.js";import{N as a}from"./@tresjs.yMGhEK7G1718787583077.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.kKYQZqAu1718787583077.js";!function(t,n){const e=b,o=w();for(;;)try{if(168107===parseInt(e(408))/1*(-parseInt(e(440))/2)+parseInt(e(457))/3+-parseInt(e(428))/4*(-parseInt(e(439))/5)+-parseInt(e(417))/6+parseInt(e(394))/7+parseInt(e(456))/8*(-parseInt(e(414))/9)+-parseInt(e(429))/10*(-parseInt(e(404))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(423)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=b,n=new RegExp(t(407)),e=new RegExp(t(449),"i"),o=I(t(396));n[t(446)](o+t(435))&&e[t(446)](o+t(406))?I():o("0")}))()}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(423)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();h(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(468)+t(412)+");")()}catch(e){n=window}return n}(),e=n[t(399)]=n[t(399)]||{},o=[t(469),t(410),t(397),t(458),t(472),t(475),t(452)];for(let r=0;r<o[t(437)];r++){const n=h[t(454)][t(416)].bind(h),s=o[r],c=e[s]||n;n[t(409)]=h[t(451)](h),n[t(466)]=c[t(466)][t(451)](c),e[s]=n}}))();const g=(n,e=!1)=>{const o=b;n[o(432)]();const{max:r,min:s}=n[o(453)];n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(431)][o(421)].count;t++)e?(a.push((n.attributes.position.getX(t)-(s.x+r.x)/2)/c),a[o(463)]((n.attributes.position[o(473)](t)-(s.y+r.y)/2)/i)):(a[o(463)]((n[o(431)][o(421)].getX(t)-s.x)/c),a[o(463)]((n.attributes[o(421)][o(473)](t)-s.y)/i));const u=new Float32Array(a);n[o(444)]("uv",new t(u,2))},m=(t,n)=>new Promise(((e,o)=>{const r=b;i(t,{},{method:r(426)})[r(441)]((t=>{const o=r;n&&e(t[n]),e(t[o(419)])}))[r(450)]((t=>{console.error(t),o(t)}))})),d=t=>{const n=b,e=(new(THREE[n(462)]))[n(430)](t),o=new THREE.Vector3;e[n(405)](o),t[n(413)][n(403)]((t=>{const e=n;t.position[e(445)](o)})),t[n(421)].copy(o[n(401)]())};function w(){const t=["3gNHKVC","__proto__","warn","depthWrite",'{}.constructor("return this")( )',"children","2430Wpczwn","deleteAttribute","prototype","1866924tLDvEX","disposeBoundsTree","features","material","position","divideScalar","apply","transparent","action","get","expandByObject","958948lsAoGV","20hsmwKo","setFromObject","attributes","computeBoundingBox","count","setY","chain","while (true) {}","length","copy","5yRjstR","104018FzAeaF","then","min","debu","setAttribute","sub","test","value","add","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","catch","bind","trace","boundingBox","constructor","stateObject","9080nHKtAB","5547tHQIhB","error","config","raycast","uniforms","Box3","push","center","gger","toString","#fff","return (function() ","log","getX","random","exception","getY","computeBoundsTree","table","459606VEwJhz","set","init","info","geometry","console","reflectivity","negate","max","forEach","3489717hsWmMr","getCenter","input","function *\\( *\\)"];return(w=function(){return t})()}const y=()=>{const t=b;n[t(416)][t(474)]=u,n[t(416)][t(418)]=f,e[t(416)][t(460)]=p};function b(t,n){const e=w();return(b=function(t,n){return e[t-=394]})(t,n)}const x=async t=>{const n=b,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(398)].clone();g(i),i[n(474)]();const u=new o(i,{color:new r(n(467)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(424)]=!0,u[n(420)][n(411)]=!0,u[n(420)].depthTest=!0,u[n(420)].side=c,u[n(420)].uniforms[n(459)][n(447)].w=20,u.material[n(461)][n(400)][n(447)]=.46,u};function j(t){const n=b,e=[];for(let r=0;r<t.length;r++)e[n(463)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(437)];r++)o[n(448)](e[r]);o[n(422)](e.length);for(let r=0;r<e.length;r++)e[r][n(445)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=b;if("string"==typeof t)return function(t){}.constructor(e(436)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(443)+"gger").call(e(425)):function(){return!1}.constructor("debu"+e(465))[e(423)](e(455)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{d as a,j as g,y as i,m as l,g as r,x as s};
