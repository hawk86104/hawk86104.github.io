var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.O6T9P_t21724511658098.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.hMPtZWQ11724511658098.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.0u7JNhDu1724511658098.js";import{j as o,U as s,C as l,k as c,W as p,bb as u,h as f,a6 as x,M as v}from"./three.6cxCQsIj1724511658098.js";import{p as m,$ as w}from"./@tresjs.6SjGVF2a1724511658098.js";import{u as h}from"./index.HtCYeuim1724511658098.js";import{F as g,C as d}from"./three-stdlib.eSyESjZu1724511658098.js";import{d as y}from"./@vue.Q1VpS3901724511658098.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.YL5uGHNN1724511658098.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.g26dTKfm1724511658098.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.MZZtoe7A1724511658098.js";function S(t,e){const n=z();return(S=function(t,e){return n[t-=430]})(t,e)}const P=S;!function(t,e){const n=S,i=z();for(;;)try{if(344122===parseInt(n(460))/1+-parseInt(n(431))/2+parseInt(n(442))/3+-parseInt(n(434))/4+-parseInt(n(462))/5*(-parseInt(n(465))/6)+parseInt(n(446))/7+-parseInt(n(440))/8)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const _=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function z(){const t=["exception","console","trace","action","91719pWopbo","gger","3158945sMDAII","info","__proto__","6dbMgDq","constructor","1010972sRcxdH","table","input","1617252wRwtNj","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","toString",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"return (function() ","2035672RvBlEC","while (true) {}","382011kJygSe","warn","bind","chain","4602745Npyqtl","debu","length","test",'{}.constructor("return this")( )',"error","init","prototype","stateObject","counter"];return(z=function(){return t})()}!function(){_(this,(function(){const t=S,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(435),"i"),i=M(t(452));e[t(449)](i+t(445))&&n.test(i+t(433))?M():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[S(436)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();b(void 0,(function(){const t=S,e=function(){const t=S;let e;try{e=Function(t(439)+t(450)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(457)]||{},i=["log",t(443),t(463),t(451),t(456),t(432),t(458)];for(let r=0;r<i[t(448)];r++){const e=b.constructor[t(453)].bind(b),a=i[r],o=n[a]||e;e[t(464)]=b[t(444)](b),e[t(437)]=o[t(437)].bind(o),n[a]=e}}))();const I=P(438);function M(t){function e(t){const n=S;if("string"==typeof t)return function(t){}[n(430)](n(441))[n(436)](n(455));1!==(""+t/t)[n(448)]||t%20==0?function(){return!0}[n(430)](n(447)+n(461)).call(n(459)):function(){return!1}.constructor(n(447)+"gger").apply(n(454)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function E(t,e){const n=U();return(E=function(t,e){return n[t-=117]})(t,e)}const A=E;!function(t,e){const n=E,i=U();for(;;)try{if(223116===parseInt(n(153))/1+-parseInt(n(123))/2*(-parseInt(n(131))/3)+parseInt(n(143))/4+parseInt(n(144))/5*(parseInt(n(148))/6)+-parseInt(n(139))/7+-parseInt(n(157))/8+-parseInt(n(149))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){D(this,(function(){const t=E,e=new RegExp(t(118)),n=new RegExp(t(150),"i"),i=j(t(138));e[t(122)](i+"chain")&&n[t(122)](i+"input")?j():i("0")}))()}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(125)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(){const t=["bind","139857ySPHhX","call","defines","debu","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","uniforms","prototype","init","417711EYVMxf","action","warn","while (true) {}","176584YcRoxV","175FqGKvh","clone","toString","string","51054FnLCOi","5702598ovYoqf","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","400455NCWntM","return (function() ","gger","constructor","1964608ycNURw","exception","function *\\( *\\)","error","table","__proto__","test","18urqOrD","console","apply","trace","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","length","log"];return(U=function(){return t})()}function O(t){const e=E,n=a({},t);return e(133)in t&&(n[e(133)]=a({},t[e(133)])),"uniforms"in t&&(n[e(136)]=s[e(145)](t[e(136)])),n}L(void 0,(function(){const t=E;let e;try{e=Function(t(154)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(124)]=e.console||{},i=[t(129),t(141),"info",t(119),t(117),t(120),t(126)];for(let a=0;a<i[t(128)];a++){const e=L[t(156)][t(137)][t(130)](L),r=i[a],o=n[r]||e;e[t(121)]=L[t(130)](L),e.toString=o[t(146)][t(130)](o),n[r]=e}}))();const T={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:A(152),fragmentShader:A(135)+I+A(127)};function j(t){function e(t){const n=E;if(typeof t===n(147))return function(t){}.constructor(n(142))[n(125)]("counter");1!==(""+t/t)[n(128)]||t%20==0?function(){return!0}[n(156)]("debu"+n(155))[n(132)](n(140)):function(){return!1}[n(156)](n(134)+n(155)).apply(n(151)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function V(){const t=["input","error","bind","_copyQuad","autoClear","40DqLSAU","material","X_IS_EVEN","console","setViewOffset","_mipQuad","string","dispose","copy","exception","setClearColor","setRenderTarget","785HGBaSM","defines","debu","action","getRenderTarget","170bRoUVP","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","image","_mipMaterials","camera","height","391027gdDHze","map","594099oezTAo","chain","return (function() ","1767786SIAUlY","constructor","type","getClearColor","length","51891vitsNi","_swapTarget","set","value","function *\\( *\\)","warn","forEach","11qcdzaH","width","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","8516Wobxfx","apply","prototype","while (true) {}","texture","update","parentMapSize","magFilter","floorPowerOfTwo","stateObject","getClearAlpha","render","parentLevel","gger","originalMapSize","setSize","10132scNrUE","uniforms","replace","fragmentShader","info","toString","floor","test","init","clear","__proto__","Y_IS_EVEN","tDiffuse","290059HNgNEC","trace"];return(V=function(){return t})()}const R=k;!function(t,e){const n=k,i=V();for(;;)try{if(175272===-parseInt(n(473))/1*(parseInt(n(411))/2)+parseInt(n(466))/3+-parseInt(n(476))/4*(-parseInt(n(443))/5)+-parseInt(n(461))/6+parseInt(n(456))/7+-parseInt(n(431))/8*(parseInt(n(458))/9)+parseInt(n(448))/10*(parseInt(n(424))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(477)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){C(this,(function(){const t=k,e=new RegExp(t(470)),n=new RegExp(t(450),"i"),i=Y(t(419));e[t(418)](i+t(459))&&n[t(418)](i+t(426))?Y():i("0")}))()}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(477)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function k(t,e){const n=V();return(k=function(t,e){return n[t-=405]})(t,e)}N(void 0,(function(){const t=k;let e;try{e=Function(t(460)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(434)]=e[t(434)]||{},i=[t(449),t(471),t(415),t(427),t(440),"table",t(425)];for(let a=0;a<i[t(465)];a++){const e=N[t(462)][t(478)].bind(N),r=i[a],o=n[r]||e;e[t(421)]=N[t(428)](N),e[t(416)]=o[t(416)].bind(o),n[r]=e}}))();const H=new l;class W{constructor(t){const e=k;!t&&(t=e(475));const n=O(T);n[e(414)]=n[e(414)][e(413)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(O(n)),i[0][e(444)][e(433)]=0,i[0][e(444)][e(422)]=0,i[1]=new c(O(n)),i[1][e(444)][e(433)]=1,i[1][e(444)][e(422)]=0,i[2]=new c(O(n)),i[2].defines.X_IS_EVEN=0,i[2][e(444)][e(422)]=1,i[3]=new c(O(n)),i[3].defines[e(433)]=1,i[3][e(444)].Y_IS_EVEN=1;const r=new p;r[e(480)].minFilter=u,r.texture[e(483)]=u,this[e(467)]=r,this[e(429)]=new g(new c(d)),this._mipQuad=new g(null),this[e(453)]=i}[R(481)](t,e,n,i=!1){const r=R;t.isWebGLRenderTarget&&(t=t[r(480)]);const o=n[r(430)],s=n[r(405)](),l=n[r(447)]();n[r(464)](H);const c=this._copyQuad,p=this._mipQuad,u=this[r(467)],x=this[r(453)];let v,m;i?(v=f[r(484)](t[r(452)][r(474)]),m=f.floorPowerOfTwo(t[r(452)][r(455)])):(v=Math[r(417)](t[r(452)][r(474)]),m=Math[r(417)](t[r(452)].height));const w=Math.floor(1.5*v),h=Math[r(417)](m);e.setSize(w,h),u[r(480)][r(463)]!==e[r(480)].type?(u[r(438)](),u[r(439)](e),u[r(480)].image=a({},u.texture[r(452)])):u[r(410)](w,h),n[r(430)]=!1,n[r(441)](0),n.setClearAlpha(),c[r(432)].uniforms[r(423)][r(469)]=t,c[r(454)][r(435)](v,m,0,0,w,h),n.setRenderTarget(e),n[r(420)](),c.render(n),n[r(442)](u),n[r(420)](),c[r(406)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[r(457)][r(469)]=u[r(480)],t[r(412)][r(407)][r(469)]=y,t[r(412)][r(482)][r(469)][r(468)](g,d),t.uniforms[r(409)].value[r(468)](v,m),p.material=t,g=Math[r(417)](g/2),d=Math[r(417)](d/2);const i=h-2*d;n[r(442)](e),p[r(454)].setViewOffset(g,d,-v,-i,w,h),p[r(406)](n),n.setRenderTarget(u),t[r(412)][r(457)][r(469)]=e[r(480)],p[r(406)](n),y++}return n.setRenderTarget(l),n.setClearAlpha(s),n.setClearColor(H),n.autoClear=o,y+1}dispose(){const t=R;this[t(467)][t(438)](),this[t(436)][t(438)](),this[t(429)][t(438)](),this[t(453)][t(472)]((t=>t.dispose()))}}function Y(t){function e(t){const n=k;if(typeof t===n(437))return function(t){}[n(462)](n(479)).apply("counter");1!==(""+t/t)[n(465)]||t%20==0?function(){return!0}[n(462)](n(445)+n(408))[n(451)](n(446)):function(){return!1}[n(462)](n(445)+"gger")[n(477)](n(485)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const F=$;!function(t,e){const n=$,i=Q();for(;;)try{if(726050===-parseInt(n(328))/1*(parseInt(n(319))/2)+parseInt(n(344))/3+parseInt(n(316))/4+-parseInt(n(350))/5+-parseInt(n(358))/6*(parseInt(n(342))/7)+parseInt(n(359))/8*(-parseInt(n(329))/9)+-parseInt(n(320))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){X(this,(function(){const t=$,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(362),"i"),i=q("init");e.test(i+t(373))&&n[t(341)](i+t(385))?q():i("0")}))()}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(313)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function $(t,e){const n=Q();return($=function(t,e){return n[t-=312]})(t,e)}Z(void 0,(function(){const t=$,e=function(){const t=$;let e;try{e=Function("return (function() "+t(336)+");")()}catch(n){e=window}return e}(),n=e[t(386)]=e[t(386)]||{},i=[t(349),t(337),t(370),t(377),t(388),t(363),t(378)];for(let r=0;r<i[t(347)];r++){const e=Z[t(323)][t(326)][t(346)](Z),a=i[r],o=n[a]||e;e[t(335)]=Z[t(346)](Z),e[t(324)]=o[t(324)][t(346)](o),n[a]=e}}))();const G=y({__name:F(361),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=F,i=t,r=new(x[n(339)]),a=new(x[n(348)]),o=new(x[n(334)]),s=new W,l=h({width:i[n(354)],height:i[n(354)],settings:{type:x[n(383)]}}),c=h({width:i.resolution,height:i.resolution,settings:{type:x[n(383)]}}),{camera:p,renderer:u,scene:f}=m(),{onBeforeLoop:g}=w();return g((()=>{const t=n;(()=>{const t=n;if(!p[t(331)])return;r[t(375)](new(x[t(391)])(0,1,0),0),r.applyMatrix4(i.parent[t(321)]),o[t(318)](p[t(331)]);const e=new(x[t(391)])(0,0,1).clone()[t(379)](),s=p[t(331)].getWorldPosition(new(x[t(391)]));e[t(357)](r[t(371)]);const c=new(x[t(391)]);r[t(355)](s,c);const m=c[t(317)]();m.sub(s),m.add(c),o.position[t(318)](m);const w=new(x[t(391)])(0,0,-1);w[t(360)](p[t(331)][t(380)](new(x[t(376)]))),w[t(333)](s);const h=new(x[t(391)]);i.parent[t(340)](h),h[t(372)](w),h[t(357)](r[t(371)])[t(379)](),h[t(333)](i.parent[t(340)](new(x[t(391)]))),o.up.set(0,1,0),o[t(360)](p.value[t(380)](new(x[t(376)]))),o.up[t(357)](r[t(371)]),o[t(389)](h),o[t(330)]();const g=new v;g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g[t(356)](o[t(338)]),g[t(356)](o[t(387)]),a[t(318)](g),r.applyMatrix4(o.matrixWorldInverse);const d=new(x[t(382)])(r[t(371)].x,r[t(371)].y,r[t(371)].z,r.constant),y=o[t(338)],S=new(x[t(382)]);S.x=(Math[t(384)](d.x)+y.elements[8])/y.elements[0],S.y=(Math[t(384)](d.y)+y[t(345)][9])/y[t(345)][5],S.z=-1,S.w=(1+y.elements[10])/y.elements[14],d[t(374)](2/d[t(364)](S)),y[t(345)][2]=d.x,y[t(345)][6]=d.y,y[t(345)][10]=d.z+1,y.elements[14]=d.w;const P=u[t(331)][t(365)]();u[t(331)][t(325)](l[t(331)]),u[t(331)].state[t(368)][t(353)][t(322)](!0),!1===u[t(331)].autoClear&&u[t(331)][t(390)](),i.ignoreObjects[t(351)]((t=>t.visible=!1)),u[t(331)][t(315)](f.value,o),i[t(332)].forEach((t=>t.visible=!0)),u.value[t(325)](P)})(),l[t(331)]&&c[t(331)]&&u[t(331)]&&s[t(369)](l[t(331)][t(314)],c[t(331)],u[t(331)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function q(t){function e(t){const n=$;if(typeof t===n(381))return function(t){}[n(323)](n(366))[n(313)](n(392));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(352)+"gger")[n(367)](n(312)):function(){return!1}[n(323)](n(352)+n(343)).apply(n(327)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function Q(){const t=["input","console","matrixWorldInverse","exception","lookAt","clear","Vector3","counter","action","apply","texture","render","5758544SZJscT","clone","copy","1234274wsCLNc","6335010UMQKXs","matrixWorld","setMask","constructor","toString","setRenderTarget","prototype","stateObject","1augowe","9NmPcRV","updateMatrixWorld","value","ignoreObjects","add","PerspectiveCamera","__proto__",'{}.constructor("return this")( )',"warn","projectionMatrix","Plane","getWorldPosition","test","21BYgsfo","gger","3072387XgGpzi","elements","bind","length","Matrix4","log","357050UiTeoq","forEach","debu","depth","resolution","projectPoint","multiply","reflect","477234OWdkrB","1416400aqkSMm","applyQuaternion","reflectorMipMap","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","dot","getRenderTarget","while (true) {}","call","buffers","update","info","normal","sub","chain","multiplyScalar","set","Quaternion","error","trace","negate","getWorldQuaternion","string","Vector4","UnsignedByteType","sign"];return(Q=function(){return t})()}function B(t,e){var n=K();return(B=function(t,e){return n[t-=218]})(t,e)}function K(){var t=["warn","trace","table","test","6270363IROMUv","bind","530019kadTTY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","init","counter","prototype","__proto__","4886960RyvYDH","stateObject","debu","9065200iLeXAf","chain","toString","input","console",'{}.constructor("return this")( )',"apply","exception","length","60kKuoRs","action","138990OoGMct","constructor","log","function *\\( *\\)","6472080jyjYBs","868916Vbipss","return (function() ","info","while (true) {}","1yGjCSF","call"];return(K=function(){return t})()}!function(t,e){for(var n=B,i=K();;)try{if(732809===-parseInt(n(236))/1*(parseInt(n(232))/2)+parseInt(n(227))/3+parseInt(n(251))/4+-parseInt(n(231))/5+parseInt(n(225))/6*(parseInt(n(244))/7)+parseInt(n(254))/8+-parseInt(n(242))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){J(this,(function(){var t=B,e=new RegExp(t(230)),n=new RegExp(t(245),"i"),i=et(t(247));e[t(241)](i+t(255))&&n.test(i+t(219))?et():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[B(222)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(t){function e(t){var n=B;if(typeof t===n(246))return function(t){}[n(228)](n(235)).apply(n(248));1!==(""+t/t)[n(224)]||t%20==0?function(){return!0}[n(228)](n(253)+"gger")[n(237)](n(226)):function(){return!1}[n(228)](n(253)+"gger")[n(222)](n(252)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=B,e=function(){var t,e=B;try{t=Function(e(233)+e(221)+");")()}catch(n){t=window}return t}(),n=e[t(220)]=e[t(220)]||{},i=[t(229),t(238),t(234),"error",t(223),t(240),t(239)],r=0;r<i[t(224)];r++){var a=tt.constructor[t(249)].bind(tt),o=i[r],s=n[o]||a;a[t(250)]=tt[t(243)](tt),a[t(218)]=s.toString[t(243)](s),n[o]=a}}))();export{G as _};
