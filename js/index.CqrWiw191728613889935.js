var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&i(t,o,a[o]);if(e)for(var o of e(a))r.call(a,o)&&i(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.I932bEme1728613889935.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.FwWs1Stt1728613889935.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.uSt1tN6N1728613889935.js";import{k as o,U as s,C as l,m as c,W as p,bc as u,h as f,_ as x,M as v,a9 as m,V as w}from"./three.-yu4716U1728613889935.js";import{p as h,U as g}from"./@tresjs.BSMy0VpY1728613889935.js";import{u as y}from"./index.xPgac_ew1728613889935.js";import{F as d,C as S}from"./three-stdlib.IhUZHHaV1728613889935.js";import{d as P}from"./@vue.JNsx1iN61728613889935.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.ZdxVPfpZ1728613889935.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.4wGVyJW61728613889935.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.3UFUBI-T1728613889935.js";const z=b;!function(t,e){const n=b,r=M();for(;;)try{if(797223===-parseInt(n(480))/1+-parseInt(n(457))/2*(parseInt(n(454))/3)+parseInt(n(468))/4*(-parseInt(n(470))/5)+-parseInt(n(475))/6+parseInt(n(490))/7*(parseInt(n(453))/8)+-parseInt(n(488))/9*(parseInt(n(465))/10)+parseInt(n(478))/11)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const _=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(469)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){_(this,(function(){const t=b,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(463),"i"),r=A("init");e[t(484)](r+t(487))&&n[t(484)](r+t(474))?A():r("0")}))()}();const I=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(469)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function b(t,e){const n=M();return(b=function(t,e){return n[t-=452]})(t,e)}function M(){const t=["info","warn","length","toString","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","150HwaqoV","string","bind","2105256qDHzgI","apply","10mUprQw","while (true) {}","__proto__","table","input","815340PbronP","prototype",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"31660519YrjXPw","stateObject","434209qeARrT","call","return (function() ","log","test","debu","gger","chain","15417XDbZfR",'{}.constructor("return this")( )',"1759317SrFQQU","trace","24VDQKdS","1011AMophM","console","constructor","7042FzxORu"];return(M=function(){return t})()}I(void 0,(function(){const t=b;let e;try{e=Function(t(482)+t(489)+");")()}catch(i){e=window}const n=e[t(455)]=e[t(455)]||{},r=[t(483),t(459),t(458),t(464),"exception",t(473),t(452)];for(let a=0;a<r[t(460)];a++){const e=I[t(456)][t(476)][t(467)](I),i=r[a],o=n[i]||e;e[t(472)]=I[t(467)](I),e.toString=o[t(461)][t(467)](o),n[i]=e}}))();const E=z(477);function A(t){function e(t){const n=b;if(typeof t===n(466))return function(t){}[n(456)](n(471))[n(469)]("counter");1!==(""+t/t)[n(460)]||t%20==0?function(){return!0}[n(456)](n(485)+n(486))[n(481)](n(462)):function(){return!1}[n(456)](n(485)+n(486))[n(469)](n(479)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function D(t,e){const n=U();return(D=function(t,e){return n[t-=464]})(t,e)}const L=D;function U(){const t=["exception","7jMgrBN","return (function() ","log","stateObject","40dvxukd","debu","10twRKwC","length","327122HcHGtt","constructor","4688xNgXyd","input","bind","table","uniforms","860492qiCzVp","call","defines","string","console","gger","30589248kTeLDp","__proto__","info",'{}.constructor("return this")( )',"counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","4167ELBvJc","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","4140762UktwaD","error","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","test","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","toString","function *\\( *\\)","3725320ScPXTi","while (true) {}","trace","44qXUBGy","chain","apply","3713241DOYVTw"];return(U=function(){return t})()}!function(t,e){const n=D,r=U();for(;;)try{if(958940===parseInt(n(471))/1*(-parseInt(n(473))/2)+parseInt(n(508))/3+parseInt(n(480))/4*(-parseInt(n(469))/5)+parseInt(n(495))/6*(-parseInt(n(465))/7)+parseInt(n(475))/8*(-parseInt(n(493))/9)+parseInt(n(502))/10*(parseInt(n(505))/11)+parseInt(n(486))/12)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const T=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[D(507)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){T(this,(function(){const t=D,e=new RegExp(t(501)),n=new RegExp(t(491),"i"),r=k("init");e.test(r+t(506))&&n[t(498)](r+t(476))?k():r("0")}))()}();const V=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[D(507)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function O(t){const e=D,n=a({},t);return e(482)in t&&(n.defines=a({},t[e(482)])),e(479)in t&&(n[e(479)]=s.clone(t[e(479)])),n}V(void 0,(function(){const t=D,e=function(){const t=D;let e;try{e=Function(t(466)+t(489)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(484)]||{},r=[t(467),"warn",t(488),t(496),t(464),t(478),t(504)];for(let i=0;i<r[t(472)];i++){const e=V[t(474)][t(492)][t(477)](V),a=r[i],o=n[a]||e;e[t(487)]=V[t(477)](V),e.toString=o[t(500)].bind(o),n[a]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:L(499),fragmentShader:L(497)+E+L(494)};function k(t){function e(t){const n=D;if(typeof t===n(483))return function(t){}[n(474)](n(503))[n(507)](n(490));1!==(""+t/t)[n(472)]||t%20==0?function(){return!0}.constructor(n(470)+n(485))[n(481)]("action"):function(){return!1}[n(474)](n(470)+n(485))[n(507)](n(468)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const R=X;!function(t,e){const n=X,r=H();for(;;)try{if(855647===-parseInt(n(417))/1*(-parseInt(n(370))/2)+-parseInt(n(388))/3*(parseInt(n(414))/4)+parseInt(n(380))/5*(-parseInt(n(382))/6)+parseInt(n(389))/7*(-parseInt(n(356))/8)+parseInt(n(396))/9*(-parseInt(n(364))/10)+-parseInt(n(386))/11+parseInt(n(353))/12*(parseInt(n(378))/13))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const F=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[X(371)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){F(this,(function(){const t=X,e=new RegExp(t(366)),n=new RegExp(t(349),"i"),r=Q(t(403));e[t(376)](r+"chain")&&n[t(376)](r+t(347))?Q():r("0")}))()}();const C=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[X(371)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function H(){const t=["setClearColor","function *\\( *\\)","toString","dispose","log","249046yqlqXm","apply","originalMapSize","exception","material","setViewOffset","test","floor","28897700vxVrih","update","10RoCExJ","set","4256598JyyIjn","length","gger","return (function() ","13856106caeqmT","map","9tulzrv","7MBVlFT","bind","X_IS_EVEN","setClearAlpha","getClearAlpha","getClearColor","clear","11448zzFlML","setRenderTarget","console","parentMapSize","_mipMaterials","stateObject","type","init","counter","width","fragmentShader","image","floorPowerOfTwo","setSize","texture","debu","string","_copyQuad","1703524EjINkF","Y_IS_EVEN","autoClear","13mXxyrO","while (true) {}","constructor","uniforms","input","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tDiffuse","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","value","24VRrgLX","defines","isWebGLRenderTarget","151656tlcsKT","minFilter","magFilter","_swapTarget","camera","forEach","render","_mipQuad","9700xJdnmh"];return(H=function(){return t})()}C(void 0,(function(){const t=X;let e;try{e=Function(t(385)+'{}.constructor("return this")( ));')()}catch(i){e=window}const n=e[t(398)]=e.console||{},r=[t(369),"warn","info","error",t(373),"table","trace"];for(let a=0;a<r[t(383)];a++){const e=C.constructor.prototype[t(390)](C),i=r[a],o=n[i]||e;e.__proto__=C.bind(C),e[t(367)]=o[t(367)][t(390)](o),n[i]=e}}))();const N=new l;function X(t,e){const n=H();return(X=function(t,e){return n[t-=346]})(t,e)}class W{constructor(t){const e=X;!t&&(t=e(351));const n=O(j);n.fragmentShader=n[e(406)].replace(/<mipmap_logic>/g,t);const r=new Array(4);r[0]=new c(O(n)),r[0][e(354)][e(391)]=0,r[0][e(354)][e(415)]=0,r[1]=new c(O(n)),r[1][e(354)][e(391)]=1,r[1][e(354)][e(415)]=0,r[2]=new c(O(n)),r[2][e(354)][e(391)]=0,r[2][e(354)][e(415)]=1,r[3]=new c(O(n)),r[3][e(354)].X_IS_EVEN=1,r[3][e(354)][e(415)]=1;const i=new p;i[e(410)][e(357)]=u,i[e(410)][e(358)]=u,this[e(359)]=i,this[e(413)]=new d(new c(S)),this[e(363)]=new d(null),this._mipMaterials=r}[R(379)](t,e,n,r=!1){const i=R;t[i(355)]&&(t=t[i(410)]);const o=n[i(416)],s=n[i(393)](),l=n.getRenderTarget();n[i(394)](N);const c=this[i(413)],p=this[i(363)],u=this._swapTarget,x=this[i(400)];let v,m;r?(v=f[i(408)](t[i(407)][i(405)]),m=f[i(408)](t[i(407)].height)):(v=Math[i(377)](t[i(407)][i(405)]),m=Math[i(377)](t[i(407)].height));const w=Math[i(377)](1.5*v),h=Math[i(377)](m);e.setSize(w,h),u[i(410)].type!==e[i(410)][i(402)]?(u[i(368)](),u.copy(e),u[i(410)][i(407)]=a({},u[i(410)][i(407)])):u[i(409)](w,h),n[i(416)]=!1,n[i(365)](0),n[i(392)](),c.material[i(346)][i(350)][i(352)]=t,c.camera.setViewOffset(v,m,0,0,w,h),n[i(397)](e),n[i(395)](),c[i(362)](n),n[i(397)](u),n[i(395)](),c[i(362)](n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t[i(346)][i(387)][i(352)]=u.texture,t[i(346)].parentLevel[i(352)]=d,t[i(346)][i(399)].value[i(381)](g,y),t.uniforms[i(372)][i(352)][i(381)](v,m),p[i(374)]=t,g=Math[i(377)](g/2),y=Math.floor(y/2);const r=h-2*y;n[i(397)](e),p[i(360)][i(375)](g,y,-v,-r,w,h),p[i(362)](n),n[i(397)](u),t.uniforms[i(387)][i(352)]=e[i(410)],p[i(362)](n),d++}return n.setRenderTarget(l),n[i(392)](s),n[i(365)](N),n.autoClear=o,d+1}dispose(){const t=R;this._swapTarget[t(368)](),this[t(363)][t(368)](),this[t(413)][t(368)](),this[t(400)][t(361)]((t=>t.dispose()))}}function Q(t){function e(t){const n=X;if(typeof t===n(412))return function(t){}[n(419)](n(418))[n(371)](n(404));1!==(""+t/t)[n(383)]||t%20==0?function(){return!0}[n(419)](n(411)+n(384)).call(n(348)):function(){return!1}[n(419)](n(411)+"gger").apply(n(401)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=q;function Z(){const t=["init","texture","counter","debu","length","set","stateObject","Vector3","UnsignedByteType","render","action","error","toString","depth","Quaternion","sign","clone","value","clear","table","trace","warn","5886pVdEJQ","console","prototype","update","2088tNvkDn","projectPoint","reflectorMipMap","4JHkYsn","sub","copy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","forEach","function *\\( *\\)","exception","parent","__proto__","buffers","getRenderTarget","test","bind","176590CtdOtJ","918636yOyuoA","Plane","5630100xTqSiq","elements","constructor","getWorldQuaternion","resolution","setMask","state","multiplyScalar","228331NwpYgC","Matrix4","932382maHGma","add","call","5DvWtUf","242uICBds","applyMatrix4","getWorldPosition","normal","apply","matrixWorld","reflect","Vector4","setRenderTarget","projectionMatrix","updateMatrixWorld","applyQuaternion","while (true) {}","constant","lookAt","4116665Zpxqac","return (function() ","ignoreObjects","multiply","visible","log","gger","matrixWorldInverse"];return(Z=function(){return t})()}function q(t,e){const n=Z();return(q=function(t,e){return n[t-=169]})(t,e)}!function(t,e){const n=q,r=Z();for(;;)try{if(484268===parseInt(n(220))/1*(parseInt(n(196))/2)+-parseInt(n(222))/3+-parseInt(n(210))/4+parseInt(n(225))/5*(parseInt(n(212))/6)+-parseInt(n(241))/7+parseInt(n(193))/8*(-parseInt(n(189))/9)+parseInt(n(209))/10*(parseInt(n(226))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const $=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[q(230)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){$(this,(function(){const t=q,e=new RegExp(t(201)),n=new RegExp(t(199),"i"),r=B(t(249));e.test(r+"chain")&&n[t(207)](r+"input")?B():r("0")}))()}();const G=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();G(void 0,(function(){const t=q;let e;try{e=Function(t(242)+'{}.constructor("return this")( ));')()}catch(i){e=window}const n=e.console=e[t(190)]||{},r=[t(246),t(188),"info",t(178),t(202),t(186),t(187)];for(let a=0;a<r[t(171)];a++){const e=G.constructor[t(191)].bind(G),i=r[a],o=n[i]||e;e[t(204)]=G[t(208)](G),e[t(179)]=o[t(179)][t(208)](o),n[i]=e}}))();const J=P({__name:Y(195),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,r=t,i=new(x[n(211)]),a=new v,o=new m,s=new W,l=y({width:r[n(216)],height:r[n(216)],settings:{type:x[n(175)]}}),c=y({width:r[n(216)],height:r.resolution,settings:{type:x[n(175)]}}),{camera:p,renderer:u,scene:f}=h(),{onBeforeLoop:d}=g();return d((()=>{const t=n;(()=>{const t=n;if(!p.value)return;i.set(new(x[t(174)])(0,1,0),0),i[t(227)](r[t(203)][t(231)]),o[t(198)](p[t(184)]);const e=new(x[t(174)])(0,0,1)[t(183)]().negate(),s=p[t(184)][t(228)](new(x[t(174)]));e[t(232)](i.normal);const c=new(x[t(174)]);i[t(194)](s,c);const v=c.clone();v[t(197)](s),v[t(223)](c),o.position.copy(v);const m=new(x[t(174)])(0,0,-1);m[t(237)](p.value[t(215)](new(x[t(181)]))),m[t(223)](s);const h=new w;r.parent[t(228)](h),h.sub(m),h[t(232)](i[t(229)]).negate(),h.add(r[t(203)][t(228)](new(x[t(174)]))),o.up[t(172)](0,1,0),o[t(237)](p[t(184)].getWorldQuaternion(new(x[t(181)]))),o.up[t(232)](i[t(229)]),o[t(240)](h),o[t(236)]();const g=new(x[t(221)]);g[t(172)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g[t(244)](o[t(235)]),g[t(244)](o[t(248)]),a[t(198)](g),i.applyMatrix4(o[t(248)]);const y=new(x[t(233)])(i.normal.x,i[t(229)].y,i.normal.z,i[t(239)]),d=o[t(235)],S=new(x[t(233)]);S.x=(Math[t(182)](y.x)+d.elements[8])/d.elements[0],S.y=(Math[t(182)](y.y)+d[t(213)][9])/d[t(213)][5],S.z=-1,S.w=(1+d[t(213)][10])/d[t(213)][14],y[t(219)](2/y.dot(S)),d.elements[2]=y.x,d[t(213)][6]=y.y,d[t(213)][10]=y.z+1,d[t(213)][14]=y.w;const P=u[t(184)][t(206)]();u.value[t(234)](l[t(184)]),u.value[t(218)][t(205)][t(180)][t(217)](!0),!1===u.value.autoClear&&u[t(184)][t(185)](),r[t(243)][t(200)]((e=>e[t(245)]=!1)),u[t(184)][t(176)](f[t(184)],o),r[t(243)].forEach((e=>e[t(245)]=!0)),u[t(184)][t(234)](P)})(),l.value&&c[t(184)]&&u[t(184)]&&s[t(192)](l[t(184)][t(250)],c[t(184)],u[t(184)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=q;if("string"==typeof t)return function(t){}[n(214)](n(238)).apply(n(169));1!==(""+t/t)[n(171)]||t%20==0?function(){return!0}[n(214)]("debugger")[n(224)](n(177)):function(){return!1}[n(214)](n(170)+n(247)).apply(n(173)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function K(){var t=['{}.constructor("return this")( )',"935cKEvBT","1838094YQxnID","debu","error","string","exception","while (true) {}","return (function() ","stateObject","call","chain","counter","13609881FvaFcF","7544eaOpsF","table","console","length","constructor","16013850EtuJCm","init","action","trace","12DFaHlM","input","191238zsFtVS","test","toString","function *\\( *\\)","99978TfwXJY","log","bind","3646962PookPd","apply","8UvyCAI","133wppAwS","prototype"];return(K=function(){return t})()}!function(t,e){for(var n=nt,r=K();;)try{if(985841===-parseInt(n(455))/1*(parseInt(n(457))/2)+-parseInt(n(434))/3+-parseInt(n(446))/4*(parseInt(n(433))/5)+parseInt(n(461))/6*(parseInt(n(467))/7)+-parseInt(n(466))/8*(-parseInt(n(445))/9)+parseInt(n(451))/10+-parseInt(n(464))/11)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var tt=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[nt(465)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){tt(this,(function(){var t=nt,e=new RegExp(t(460)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=rt(t(452));e[t(458)](r+t(443))&&n[t(458)](r+t(456))?rt():r("0")}))()}();var et=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[nt(465)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function nt(t,e){var n=K();return(nt=function(t,e){return n[t-=431]})(t,e)}function rt(t){function e(t){var n=nt;if(typeof t===n(437))return function(t){}[n(450)](n(439))[n(465)](n(444));1!==(""+t/t)[n(449)]||t%20==0?function(){return!0}[n(450)](n(435)+"gger")[n(442)](n(453)):function(){return!1}.constructor(n(435)+"gger")[n(465)](n(441)),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){var t,e=nt;try{t=Function(e(440)+e(432)+");")()}catch(l){t=window}for(var n=t[e(448)]=t[e(448)]||{},r=[e(462),"warn","info",e(436),e(438),e(447),e(454)],i=0;i<r[e(449)];i++){var a=et.constructor[e(431)][e(463)](et),o=r[i],s=n[o]||a;a.__proto__=et[e(463)](et),a.toString=s[e(459)][e(463)](s),n[o]=a}}))();export{J as _};
