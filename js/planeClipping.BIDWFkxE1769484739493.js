import{importShared as e}from"./3d-tiles-renderer.qyEDeaaW1769484739493.js";import{useTres as t,OrbitControls_default as a}from"./index.CuW8EyFk1769484739493.js";import{_sfc_main as o}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.B-9Pd9rz1769484739493.js";import{_sfc_main$6 as n}from"./generalFont.vue_vue_type_script_setup_true_lang.UI0pZlj61769484739493.js";import"./default.vue_vue_type_script_setup_true_lang.Cy87OMZw1769484739493.js";import"./three-mesh-ui.module.CmpvoJFF1769484739493.js";import"./domPanel.vue_vue_type_style_index_0_lang.WmazzzPn1769484739493.js";import"./customShaderMaterial.vue_vue_type_script_setup_true_lang.DYf-kSu_1769484739493.js";import"./index.vue_vue_type_script_setup_true_lang.hajyLE7X1769484739493.js";import{useGLTF as r}from"./index.FHQC4AM71769484739493.js";import{_sfc_main as i}from"./cloudPoints.vue_vue_type_script_setup_true_lang.MDa424g61769484739493.js";import{Pane as l}from"./tweakpane.BbuIEN141769484739493.js";const{withAsyncContext:s,defineComponent:c}=await e("vue"),{unref:m,createElementVNode:u,createVNode:p,Fragment:_,openBlock:d,createElementBlock:f}=await e("vue"),v=["object"],{toRaw:w}=await e("vue"),{Plane:h,Vector3:g}=await e("three"),y=c({__name:"planeClipping",async setup(e){let a,o;const{renderer:n}=t();n.localClippingEnabled=!0;const{nodes:c}=([a,o]=s(()=>r("https://opensource.cdn.icegl.cn/model/industry4/plane/scene.gltf")),a=await a,o(),a);c.Sketchfab_model.getObjectByName("Floor").removeFromParent();const y=c.Sketchfab_model.getObjectByName("Cube006_Avion_0");y.castShadow=!0;const b=[new h(new g(1,0,0),0),new h(new g(0,0,-1),0)];y.material.clipIntersection=!0,y.material.clippingPlanes=b;const j=c.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");j.material.clipIntersection=!0,j.material.clippingPlanes=b;const C=c.Sketchfab_model.getObjectByName("CS_Black_0"),k=new l({title:"裁剪参数",expanded:!0});return k.addBinding(b[0],"constant",{label:"x",min:-200,max:200,step:1}),k.addBinding(b[1],"constant",{label:"y",min:-200,max:250,step:1}),(e,t)=>(d(),f(_,null,[u("primitive",{object:w(m(c).Sketchfab_model)},null,8,v),p(i,{isRemoveSrc:"",model:w(m(C)),color:"#fff"},null,8,["model"])],64))}}),{defineComponent:b}=await e("vue"),{unref:j,createVNode:C,createElementVNode:k,Suspense:S,withCtx:x,openBlock:B,createBlock:P,normalizeProps:N,guardReactiveProps:z,resolveComponent:E,Fragment:F,createElementBlock:T}=await e("vue"),{shallowRef:V,watchEffect:L,reactive:M}=await e("vue"),O=b({__name:"planeClipping",setup(e){const t=M({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),r=V();return L(()=>{r.value&&(r.value.shadow.mapSize.set(1e3,1e3),r.value.shadow.camera.near=.1,r.value.shadow.camera.far=5e3,r.value.shadow.camera.top=200,r.value.shadow.camera.right=200,r.value.shadow.camera.left=-200,r.value.shadow.camera.bottom=-200,r.value.shadow.radius=10)}),(e,i)=>{const l=E("TresCanvas");return B(),T(F,null,[C(j(n)),C(l,{clearColor:"#333",shadows:"","window-size":""},{default:x(()=>[i[0]||(i[0]=k("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1)),C(j(a)),i[1]||(i[1]=k("TresAmbientLight",{color:"#ffffff",intensity:1},null,-1)),k("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:r,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(B(),P(S,null,{default:x(()=>[C(y)]),_:1})),C(o,N(z(t)),null,16)]),_:1})],64)}}});export{O as default};
