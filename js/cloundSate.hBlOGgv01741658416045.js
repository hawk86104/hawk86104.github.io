import{a as t,m as n,o as e}from"./@tresjs.W3PFJhMo1741658416045.js";import{_ as o}from"./three.FyUEtfsR1741658416045.js";import{h as r,_ as c}from"./three-tile.lrC690Y_1741658416045.js";import{_ as i,c as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.2mYHylNE1741658416045.js";import{d as s,a3 as u,w as p,o as l,H as f,N as m,u as h,r as g,b as d,f as _,g as I,j as y,m as w,al as b,F as S,e as j,aj as v,ak as x}from"./@vue.NRI7TcgI1741658416045.js";import{P as M}from"./tweakpane.yDiyAAkA1741658416045.js";import{_ as D}from"./informationDiv.Qlu6lxcc1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";import"./@fesjs.hAnhKQG-1741658416045.js";import"./vue-router.qhodDV9M1741658416045.js";import"./lodash-es.pklfUAS51741658416045.js";import"./@qlin.yHhFDldE1741658416045.js";import"./pinia.Iw2DqQac1741658416045.js";import"./@floating-ui.BPbuo5Gx1741658416045.js";import"./@juggle.7yjBMqoW1741658416045.js";function F(t,n){const e=z();return(F=function(t,n){return e[t-=331]})(t,n)}const T=F;function z(){const t=["scaleImg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","219873cPAIMr","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","gger","toString","385493VOCPVe","return (function() ","setStyle","Vector3","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png","counter","function *\\( *\\)","DoubleSide","trace","action","material","Texture","log","input","geo2pos","color","position-y","9527050rbpQKr","uniform sampler2D map;\n\t\t","init","chain","cloundSateShow","1652196NQEVMm","MeshPhongMaterial","height","91184ouWaVi","TresGroup","\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","vertexShader","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","__proto__","constructor","apply","318128tMqqYs","opacity","#cccccc","TresMesh","Color","fragmentShader","warn","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );","replace","console","679xUWZLz","bind","9GzUbDl","6MTmZyR","scale","applyMatrix4","map","length","debu","stateObject","8477560zcgFlg","call","test"];return(z=function(){return t})()}!function(t,n){const e=F,o=z();for(;;)try{if(961059===parseInt(e(366))/1*(-parseInt(e(350))/2)+parseInt(e(362))/3+-parseInt(e(337))/4+parseInt(e(357))/5+parseInt(e(388))/6+-parseInt(e(347))/7*(-parseInt(e(391))/8)+parseInt(e(349))/9*(-parseInt(e(383))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(336)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=F,n=new RegExp(t(372)),e=new RegExp(t(361),"i"),o=G(t(385));n[t(359)](o+t(386))&&e[t(359)](o+t(379))?G():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(336)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=F;let n;try{n=Function(t(367)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(346)]=n.console||{},o=[t(378),t(343),"info","error","exception","table",t(374)];for(let c=0;c<o[t(354)];c++){const n=E[t(335)].prototype[t(348)](E),r=o[c],i=e[r]||n;n[t(334)]=E.bind(E),n[t(365)]=i[t(365)][t(348)](i),e[r]=n}}))();const W=["position"],L=[T(351),T(376),"rotateX",T(382)],R=s({__name:T(387),props:{map:{},height:{default:100},color:{default:T(339)},opacity:{default:.6}},async setup(n){const e=T;let r,c;const a=n,s=new(o[e(389)])({displacementMap:new(o[e(377)]),transparent:!0,side:o[e(373)],opacity:a[e(338)],color:new(o[e(341)])(a[e(381)])});s.onBeforeCompile=t=>{const n=e;t[n(332)]=n(384)+t[n(332)],t[n(332)]=t.vertexShader[n(345)]("#include <displacementmap_vertex>",n(344)),t[n(342)]=t[n(342)][n(345)]("#include <alphamap_fragment>",n(331))};const g=a[e(353)][e(380)](new(o[e(369)])(105,34,0));g[e(352)](a[e(353)].matrix);const d=i[e(360)](a.map,{x:67,y:11},{x:140,y:57},a[e(390)]),_=["https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png",e(370),e(363),e(333)];let I=0;const y=([r,c]=u((()=>t(_))),r=await r,c(),r);s[e(353)]=y[I],p((()=>[a[e(381)],a[e(338)]]),(([t,n])=>{const o=e;s[o(381)][o(368)](t),s[o(338)]=n}));let w=null,b=!1;return b?(clearInterval(w),w=null,b=!1):(w=setInterval((()=>{I=I<_.length-1?I+1:0,s.map=y[I],s.needsUpdate=!0,console.log(I)}),1e3),b=!0),(t,n)=>{const o=e;return l(),f(o(392),{position:[...h(g)]},[m(o(340),{scale:[h(d).x,h(d).y,t[o(390)]],material:h(s),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},n[0]||(n[0]=[m("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,L)],8,W)}}});function G(t){function n(t){const e=F;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(336)](e(371));1!==(""+t/t).length||t%20==0?function(){return!0}[e(335)](e(355)+e(364))[e(358)](e(375)):function(){return!1}.constructor(e(355)+e(364)).apply(e(356)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const k=N;function O(){const t=["tdLight","gger","rotateX","10FmiqSn","init","action","3823391LdfcXR","test","debu","opacity","Vector3","length","value","MapBoxSource","function *\\( *\\)","addBinding","position","showLocation","5552680EDzgJw","80ZjgMWt","while (true) {}","mapBoxShow2","chain","return (function() ","25122LpxVkw","map","201108AIjkFm","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","1453899ZYPiuN","exception","trace","toString","copy","input","__proto__","278OwDPxh","call","357zHUEWm","TileMap","apply","string","TresDirectionalLight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","geo2pos","GDSource","4672485SfALqa","warn","3463ERupmW","error","prototype","constructor","console","bind"];return(O=function(){return t})()}!function(t,n){const e=N,o=O();for(;;)try{if(414958===-parseInt(e(509))/1*(-parseInt(e(497))/2)+-parseInt(e(543))/3+parseInt(e(541))/4*(parseInt(e(534))/5)+parseInt(e(539))/6*(-parseInt(e(499))/7)+parseInt(e(533))/8+-parseInt(e(507))/9+parseInt(e(518))/10*(-parseInt(e(521))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(501)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=N,n=new RegExp(t(529)),e=new RegExp(t(504),"i"),o=U(t(519));n[t(522)](o+t(537))&&e[t(522)](o+t(495))?U():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(501)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=N;let n;try{n=Function(t(538)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(513)]=n[t(513)]||{},o=["log",t(508),"info",t(510),t(544),"table",t(545)];for(let c=0;c<o[t(526)];c++){const n=B[t(512)][t(511)][t(514)](B),r=o[c],i=e[r]||n;n[t(496)]=B.bind(B),n[t(546)]=i.toString[t(514)](i),e[r]=n}}))();const C=["object"];function N(t,n){const e=O();return(N=function(t,n){return e[t-=495]})(t,n)}const V=k(542),q=s({__name:k(536),setup(t){const e=k,s=g({height:500,color:"#cccccc",opacity:.6}),u=new M({title:"参数"});u[e(530)](s,"color",{label:"颜色"}),u[e(530)](s,"height",{label:"高度",min:10,max:5e3,step:10}),u[e(530)](s,e(524),{label:"透明度",min:0,max:1,step:.1});const j=new(r[e(528)])({token:V,dataType:"terrain-rgb",style:"mapbox.terrain-rgb",maxLevel:15}),v=new(c[e(500)])({imgSource:[new(r[e(506)])({style:"6"}),new(r[e(506)])({style:"8"})],demSource:j,lon0:90,minLevel:2,maxLevel:20});v[e(517)](-Math.PI/2);const x=new(o[e(525)])(105,34,0),D=new(o[e(525)])(110,0,1e4),F=v.localToWorld(v[e(505)](x)),T=v.localToWorld(v.geo2pos(D)),z=d(),{camera:A,controls:E,scene:W,renderer:L}=n();return A[e(527)]&&A[e(527)].position[e(547)](T),p((()=>E.value),(t=>{const n=e;t&&(t.target[n(547)](F),a(t,A[n(527)],W[n(527)]))})),p((()=>z.value),(t=>{const n=e;t&&t.target[n(531)].copy(F)})),i[e(532)](A[e(527)],L[e(527)].domElement,v),(t,n)=>{const o=e;return l(),f(S,null,[m(o(503),{ref_key:o(515),ref:z,position:[0,2e3,1e3],intensity:1},null,512),m("primitive",{object:h(v)},null,8,C),(l(),_(b,null,{default:I((()=>[y(R,w({map:h(v)},s),null,16,[o(540)])])),_:1}))],64)}}});function U(t){function n(t){const e=N;if(typeof t===e(502))return function(t){}[e(512)](e(535))[e(501)]("counter");1!==(""+t/t)[e(526)]||t%20==0?function(){return!0}[e(512)](e(523)+e(516))[e(498)](e(520)):function(){return!1}[e(512)](e(523)+e(516))[e(501)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Z=H;function H(t,n){const e=Q();return(H=function(t,n){return e[t-=302]})(t,n)}!function(t,n){const e=H,o=Q();for(;;)try{if(799330===-parseInt(e(306))/1+parseInt(e(327))/2*(-parseInt(e(314))/3)+parseInt(e(318))/4*(-parseInt(e(316))/5)+-parseInt(e(332))/6*(parseInt(e(338))/7)+-parseInt(e(334))/8*(-parseInt(e(326))/9)+-parseInt(e(337))/10*(-parseInt(e(304))/11)+parseInt(e(330))/12*(parseInt(e(333))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(322)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["exception","48nRRBvK","TresPerspectiveCamera","60KvXyXI","string","207280jroIUC","warn","init","__proto__","apply","stateObject","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","468czwERc","19850lavhMh","TresAmbientLight","constructor","14652eXMiKM","gger","564rHbGew","12766enQWWW","230728xQTbOd","bind","length","1220aLXUXN","34678YetAtp","action",'{}.constructor("return this")( )',"while (true) {}","info","error","chain","39226kUaFaj","log","1088160CyaqvO","function *\\( *\\)","console","cloundSate","debu","prototype","test"];return(Q=function(){return t})()}!function(){X(this,(function(){const t=H,n=new RegExp(t(307)),e=new RegExp(t(325),"i"),o=Y(t(320));n[t(312)](o+t(303))&&e[t(312)](o+"input")?Y():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(322)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();$(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function("return (function() "+t(340)+");")()}catch(e){n=window}return n}(),e=n[t(308)]=n[t(308)]||{},o=[t(305),t(319),t(342),t(302),t(313),"table","trace"];for(let r=0;r<o[t(336)];r++){const n=$[t(329)][t(311)][t(335)]($),c=o[r],i=e[c]||n;n[t(321)]=$[t(335)]($),n.toString=i.toString[t(335)](i),e[c]=n}}))();const K=s({__name:Z(309),setup(t){const n=g({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),o=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,r)=>{const c=H,i=j("TresCanvas");return l(),f(S,null,[y(i,w(n,{"window-size":""}),{default:I((()=>[r[0]||(r[0]=m(c(315),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),y(h(e),v(x(o)),null,16),r[1]||(r[1]=m(c(328),{intensity:1},null,-1)),y(q)])),_:1},16),y(D)],64)}}});function Y(t){function n(t){const e=H;if(typeof t===e(317))return function(t){}[e(329)](e(341))[e(322)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(329)](e(310)+e(331))[e(324)](e(339)):function(){return!1}[e(329)](e(310)+e(331)).apply(e(323)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
