import{C as t,_ as n,b as e,cL as o}from"./three.DqHgeVY11742895693222.js";import{P as r}from"./tweakpane.ivGeiIdz1742895693222.js";import{m as s,e as i}from"./@tresjs.xCsT8yve1742895693222.js";import{P as a,b as c,c as p,M as u,T as l,a as m,d as f}from"./index.hf3pwYKI1742895693222.js";import{d,a2 as g,w as h,o as j,H as b,u as w,v as x,r as y,e as v,j as I,g as M,m as _,F as z}from"./@vue.C4dqouNn1742895693222.js";import{_ as C}from"./raycasterEvent.ml7g8QWB1742895693222.js";import{a as B}from"./utils.094ppZ0u1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";import"./@mapbox.lMdYodhq1742895693222.js";import"./three-mesh-bvh.tZwJGpmE1742895693222.js";import"./three-custom-shader-material.U901raSY1742895693222.js";import"./@fesjs.C15FMxIg1742895693222.js";import"./vue-router.0ovIAQEA1742895693222.js";import"./lodash-es.p1wj6C0b1742895693222.js";import"./@qlin.o0hjOMCg1742895693222.js";import"./pinia.JZN5hDyR1742895693222.js";import"./@floating-ui.HzHndBae1742895693222.js";import"./@juggle.4EyLec-41742895693222.js";import"./@tweenjs.VprmkNmT1742895693222.js";import"./utils.0fSHOGus1742895693222.js";import"./http.rSSOxHqm1742895693222.js";import"./axios.FtfblEUV1742895693222.js";import"./color.O1a6S9G51742895693222.js";import"./@amap.hJQcpQRT1742895693222.js";import"./color-string.Rbtzxfff1742895693222.js";import"./color-name.QX_0j1Xp1742895693222.js";import"./simple-swizzle.H29XwziH1742895693222.js";import"./is-arrayish.Lx8U9q5B1742895693222.js";import"./color-convert.MJKzRLSd1742895693222.js";import"./lodash.k-DN9Fxk1742895693222.js";import"./naive-ui.KL6KiXQ11742895693222.js";import"./date-fns.enH829Fo1742895693222.js";import"./@css-render.aubP_2z41742895693222.js";import"./seemly.g-Mp7qhc1742895693222.js";import"./css-render.PKD4nCTL1742895693222.js";import"./@emotion.ZD_ZYAgY1742895693222.js";import"./vooks.-P-1bzmj1742895693222.js";import"./evtd.uXDg6RK81742895693222.js";import"./vueuc.hHK9ZeRd1742895693222.js";import"./vdirs.2qOrsd8L1742895693222.js";import"./treemate.dcEdf2le1742895693222.js";import"./date-fns-tz.penJTUFV1742895693222.js";import"./async-validator.-YBkpS4I1742895693222.js";import"./d3-geo.XERRulU_1742895693222.js";import"./d3-array.pckDbYwZ1742895693222.js";const S=k;function k(t,n){const e=L();return k=function(t,n){return e[t-=126]},k(t,n)}!function(t,n){const e=k,o=L();for(;;)try{if(215129===-parseInt(e(148))/1*(parseInt(e(195))/2)+parseInt(e(174))/3+parseInt(e(146))/4*(parseInt(e(133))/5)+parseInt(e(160))/6+-parseInt(e(187))/7*(-parseInt(e(143))/8)+parseInt(e(201))/9*(-parseInt(e(168))/10)+-parseInt(e(126))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=k,n=new RegExp(t(152)),e=new RegExp(t(164),"i"),o=A("init");n[t(144)](o+t(165))&&e[t(144)](o+t(177))?A():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(159)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=k;let n;try{n=Function(t(161)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(194)]=n[t(194)]||{},o=["log",t(157),t(140),t(156),"exception",t(139),"trace"];for(let s=0;s<o[t(173)];s++){const n=P[t(188)][t(175)].bind(P),r=o[s],i=e[r]||n;n[t(149)]=P[t(196)](P),n[t(185)]=i.toString[t(196)](i),e[r]=n}}))();const E=[S(130),S(155)],F=d({__name:S(182),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:S(189)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:f}){const d=S,x=r,{renderer:y,scene:v}=s(),I=new a;I[d(136)]=c;const M=new p;M.source=d(199),M[d(136)]=c;const _=new u;_[d(142)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",_[d(141)]=!1,_[d(153)]=!0;const z=new l(I,_);if(z[d(131)]=!1,z[d(151)]=!1,z[d(169)]=!1,z.useStandardMaterial=!1,z[d(198)]={opposite:x.opposite,monochrome:x.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:x[d(150)],genContrast:x[d(154)],genSaturation:x[d(158)]},x.monochrome){let n=new t(x[d(138)]);z[d(198)]&&(z.filter[d(138)]={r:n.r,g:n.g,b:n.b})}const C=new m;C[d(167)]=z,C.bbox=x[d(128)],C.maxZoom=x[d(135)];const B=new(n[d(193)])(60,window[d(181)]/window[d(179)],1,1e8);B.up=new e(0,1,0),B[d(184)][d(129)](x[d(191)][0],x.mapCenter[2],-x.mapCenter[1]),B[d(192)](new(n[d(200)])(B[d(184)].x,0,B.position.z-2e3)),C.camera=B;let k=null;g((()=>{const t=d;y[t(134)]&&!k&&(k=new o(B,y[t(134)][t(171)]),k.enableDamping=!0,k.dampingFactor=.05,k[t(176)]=600,k[t(178)][t(129)](B[t(184)].x,B[t(184)].y,B[t(184)].z),k[t(172)].set(B[t(184)].x,0,B[t(184)].z-2e3))})),h((()=>[x.opposite,x.isMonochrome,x[d(138)]]),(([n,e,o])=>{const r=d;if(z.filter){let s=new t(o);z[r(198)][r(197)]=n,z[r(198)][r(138)]=e?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[x[d(150)],x[d(154)],x[d(158)]]),(([t,n,e])=>{const o=d;z[o(198)]&&(z[o(198)][o(150)]=t,z[o(198)][o(154)]=n,z[o(198)][o(158)]=e)}));const{onLoop:T}=i();return T((()=>{const t=d;if(y.value){x[t(170)]?.[t(127)](),k&&k[t(127)](),C[t(127)]();const n=50*Math.abs(B.position.y);B[t(147)]=n+5e3,B[t(163)](),y[t(134)][t(180)](v[t(134)],B)}})),f({camera:B,map:C,orbitControl:k}),(t,n)=>{const e=d;return j(),b(e(190),{object:w(C),rotation:[-Math.PI/2,0,0]},null,8,E)}}});function L(){const t=["__proto__","genBright","wireframe","function *\\( *\\)","useWorker","genContrast","rotation","error","warn","genSaturation","apply","2276850mXdEBF","return (function() ","action","updateProjectionMatrix","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","string","provider","228150TWuLus","flatShading","tweenInstance","domElement","target","length","768027DIcCNF","prototype","minDistance","input","position0","innerHeight","render","innerWidth","tileMapMesh","call","position","toString","while (true) {}","848911LsdAya","constructor","#fff","primitive","mapCenter","lookAt","PerspectiveCamera","console","37598zTrQMU","bind","opposite","filter","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","Vector3","135qFpTNU","2380675DSwIgu","update","bbox","set","object","showBoundingBox","debu","166115CxPoze","value","maxZoom","coordType","stateObject","monochrome","table","info","showTileNo","source","8PTbscs","test","gger","36teOLlP","far","15ccuGAn"];return(L=function(){return t})()}function A(t){function n(t){const e=k;if(typeof t===e(166))return function(t){}[e(188)](e(186)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(188)]("debugger")[e(183)](e(162)):function(){return!1}[e(188)](e(132)+e(145))[e(159)](e(137)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=q;!function(t,n){const e=q,o=D();for(;;)try{if(584362===parseInt(e(212))/1+parseInt(e(195))/2*(parseInt(e(160))/3)+-parseInt(e(203))/4*(parseInt(e(154))/5)+parseInt(e(173))/6*(parseInt(e(194))/7)+-parseInt(e(204))/8+-parseInt(e(197))/9+parseInt(e(153))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(190)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=q,n=new RegExp(t(180)),e=new RegExp(t(169),"i"),o=G(t(165));n[t(162)](o+"chain")&&e[t(162)](o+"input")?G():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(){const t=["value","table","constructor","exception","isMonochrome","trace","function *\\( *\\)","console","新街口","Vector3","滤镜颜色","opposite","单色滤镜","tweenInstance","error","prototype","apply","orbitControl","SRGBColorSpace","camera","351484vwtrTK","2tqKYGq","__proto__","10211004qOnedH",'{}.constructor("return this")( )',"genSaturation","return (function() ","#4688b5","monochrome","50276pFEElZ","4704800PVeOiP","list","TresCanvas","奥体中心","string","action","NoToneMapping","manual","1128142QDXgYW","bind","change","call","genBright","info","gger","11340700XbslLQ","355YnOSum","对比度","length","addBinding","addBlade","log","1455891wmyLMn","while (true) {}","test","#201919","牛首山","init","debu","toString","tileMapRef","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tileMap","xjk","nss","54XzMhOk"];return(D=function(){return t})()}function q(t,n){const e=D();return q=function(t,n){return e[t-=152]},q(t,n)}O(void 0,(function(){const t=q;let n;try{n=Function(t(200)+t(198)+");")()}catch(r){n=window}const e=n[t(181)]=n[t(181)]||{},o=[t(159),"warn",t(217),t(188),t(177),t(175),t(179)];for(let s=0;s<o[t(156)];s++){const n=O[t(176)][t(189)][t(213)](O),r=o[s],i=e[r]||n;n[t(196)]=O[t(213)](O),n[t(167)]=i[t(167)][t(213)](i),e[r]=n}}))();const W=d({__name:R(170),setup(t){const o=R,s=f(118.779958,32.017136),i=[s[0],s[1],5e3],a=x(),c=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(201),mapCenter:i,tweenInstance:null}),p=new r({title:"参数"});p[o(157)](c,o(185),{label:"反色"}),p[o(157)](c,o(216),{label:"高亮",min:.1,max:3,step:.1}),p[o(157)](c,"genContrast",{label:o(155),min:.1,max:3,step:.1}),p[o(157)](c,o(199),{label:"饱和度",min:.1,max:3,step:.1}),p.addBinding(c,o(178),{label:o(186)}),p.addBinding(c,o(202),{label:o(184)});const u={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p[o(158)]({view:o(205),label:"飞去",options:[{text:o(207),value:"at"},{text:o(182),value:o(171)},{text:o(164),value:o(172)}],value:"at"}).on(o(214),(t=>{const n=o,r=new e(u[t[n(174)]][0],2e3,-u[t[n(174)]][1]);c[n(187)]=B(a[n(174)][n(193)],r,a[n(174)][n(191)],[0,-300],4e3)}));const l=y({clearColor:o(163),antialias:!0,logarithmicDepthBuffer:!0,renderMode:o(211),outputColorSpace:n[o(192)],toneMapping:n[o(210)]});return setTimeout((()=>{const t=o,e=u.at,r=new(n[t(183)])(e[0],1600,-e[1]);c[t(187)]=B(a[t(174)][t(193)],r,a[t(174)][t(191)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=v(e(206));return j(),b(z,null,[I(r,_(l,{"window-size":""}),{default:M((()=>[I(F,_(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1},16),I(C,{tileMapRef:a[e(174)]},null,8,[e(168)])],64)}}});function G(t){function n(t){const e=q;if(typeof t===e(208))return function(t){}[e(176)](e(161))[e(190)]("counter");1!==(""+t/t)[e(156)]||t%20==0?function(){return!0}[e(176)]("debu"+e(152))[e(215)](e(209)):function(){return!1}[e(176)](e(166)+e(152))[e(190)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{W as default};
