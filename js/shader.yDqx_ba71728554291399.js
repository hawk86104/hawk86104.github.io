import{U as n,p as t,Y as e,n as r,z as o}from"./@tresjs.IlQvaTJ91728554291399.js";import{z as s,_ as i,K as a,a0 as c,cd as l}from"./three.YiCjTDWq1728554291399.js";import{P as u}from"./tweakpane.yHWGBmom1728554291399.js";import{L as f}from"./three-subdivide.XSIMiOcP1728554291399.js";import{d as p,b as d,a3 as m,w as g,o as v,E as h,L as y,aj as b,ak as w,a4 as _,r as x,e as I,f as M,g as T,j,u as S,m as z,J as k}from"./@vue.JNsx1iN61728554291399.js";import"./@vueuse.nb-8z3af1728554291399.js";function A(){const n=["material","chain","stateObject","side","prototype","table","blending","apply","glowColor","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","13325ATTVWU","init","5423814EbPqzf","while (true) {}","viewVector","10FYvDqK","log","bind","color","action","console","debu","5600044nZyXVZ","subdivision","14924EgHdXF","clone","TresMesh","354rkbnRl","modify","Vector3",'{}.constructor("return this")( )',"attributes","value","geometry","Color","error","734618eeqDFD","gger","toString","subVectors","AdditiveBlending","position","9198679KbzmRx","__proto__","length","warn","constructor","TSGref","test","scale","input","3691953CcMnPC","8WWzTnb","shineShader","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresShaderMaterial","9ZQlRft","return (function() ","copy","#ffff00","srcMesh","uniforms"];return(A=function(){return n})()}function B(n,t){const e=A();return(B=function(n,t){return e[n-=265]})(n,t)}const C=B;!function(n,t){const e=B,r=A();for(;;)try{if(962673===parseInt(e(284))/1+-parseInt(e(296))/2*(-parseInt(e(316))/3)+parseInt(e(282))/4+parseInt(e(270))/5*(-parseInt(e(287))/6)+parseInt(e(302))/7*(-parseInt(e(312))/8)+parseInt(e(311))/9*(parseInt(e(275))/10)+-parseInt(e(272))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){R(this,(function(){const n=B,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(314),"i"),r=Z(n(271));t[n(308)](r+n(323))&&e[n(308)](r+n(310))?Z():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[B(267)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();V(void 0,(function(){const n=B;let t;try{t=Function(n(317)+n(290)+");")()}catch(o){t=window}const e=t.console=t[n(280)]||{},r=[n(276),n(305),"info",n(295),"exception",n(265),"trace"];for(let s=0;s<r.length;s++){const t=V[n(306)][n(326)][n(277)](V),o=r[s],i=e[o]||t;t[n(303)]=V[n(277)](V),t[n(298)]=i[n(298)][n(277)](i),e[o]=t}}))();const F=["scale"],P=p({__name:C(313),props:{srcMesh:{},scale:{default:1.2},color:{default:C(319)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s},blending:{default:i[C(300)]}},setup(e){const r=C,o=e,s=d(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(294)])(o[r(278)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(269),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};m((()=>{const n=r;if(o[n(320)]&&s.value&&!s[n(292)][n(293)][n(291)][n(301)]){let t=o[n(320)][n(293)][n(285)]();o[n(283)]&&(t=f[n(288)](t,2)),s[n(292)][n(293)]=t,s.value[n(301)][n(318)](o[n(320)][n(301)])}o[n(278)]&&(a[n(321)][n(268)].value=new(i[n(294)])(o.color)),o.c&&(a[n(321)].c[n(292)]=o.c),o.p&&(a[n(321)].p[n(292)]=o.p)})),g((()=>o[r(283)]),(n=>{const t=r;let e=o[t(320)].geometry.clone();n&&(e=f.modify(e,2)),s[t(292)][t(293)]=e})),g((()=>o.side),(n=>{const t=r;s.value.material[t(325)]=n})),g((()=>o[r(266)]),(n=>{const t=r;s.value[t(322)].blending=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=r;l[n(292)]&&s[n(292)]&&(a[n(321)][n(274)].value=(new(i[n(289)]))[n(299)](l.value[n(301)],s.value[n(301)]))})),(n,t)=>{const e=r;return v(),h(e(286),{ref_key:e(307),ref:s,scale:o[e(309)]},[y(e(315),b(w(a)),null,16)],8,F)}}});function Z(n){function t(n){const e=B;if("string"==typeof n)return function(n){}[e(306)](e(273)).apply("counter");1!==(""+n/n)[e(304)]||n%20==0?function(){return!0}[e(306)]("debu"+e(297)).call(e(279)):function(){return!1}[e(306)](e(281)+e(297))[e(267)](e(324)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const E=J;!function(n,t){const e=J,r=D();for(;;)try{if(982826===-parseInt(e(195))/1*(parseInt(e(202))/2)+-parseInt(e(226))/3*(-parseInt(e(179))/4)+-parseInt(e(218))/5*(parseInt(e(227))/6)+-parseInt(e(197))/7+-parseInt(e(229))/8+parseInt(e(185))/9+-parseInt(e(219))/10*(-parseInt(e(175))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){N(this,(function(){const n=J,t=new RegExp(n(198)),e=new RegExp(n(230),"i"),r=U("init");t[n(223)](r+n(225))&&e[n(223)](r+n(205))?U():r("0")}))()}();const q=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function D(){const n=["25ZCfPVm","instance","9544276RGRQuP","function *\\( *\\)","srcMesh","TresMeshBasicMaterial","error","149998lxajcS","apply","#00dfff","input","shader","debu","scale","gger","TresMeshRefB",'{}.constructor("return this")( )',"stateObject","blending","map","length","return (function() ","addBinding","97820TyVnAP","160970UlTvPM","bind","console","FrontSide","test","#0ff","chain","129939rJQqSe","264ldQgbF","string","2696544ObcONb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2266ztxafj","color","log","counter","164prJkTM","side","constructor","call","TresSphereGeometry","toString","2946042qDHvSe","value","__proto__","trace","exception","TresMesh","AdditiveBlending","table","边缘处理","while (true) {}"];return(D=function(){return n})()}q(void 0,(function(){const n=J;let t;try{t=Function(n(216)+n(211)+");")()}catch(o){t=window}const e=t[n(221)]=t[n(221)]||{},r=[n(177),"warn","info",n(201),n(189),n(192),n(188)];for(let s=0;s<r[n(215)];s++){const t=q[n(181)].prototype.bind(q),o=r[s],i=e[o]||t;t[n(187)]=q[n(220)](q),t[n(184)]=i[n(184)][n(220)](i),e[o]=t}}))();const G=y("TresPerspectiveCamera",{position:[5,5,5]},null,-1),L=y("TresAmbientLight",{intensity:1},null,-1),O=y("TresGridHelper",{args:[10,10]},null,-1),Q=y(E(183),{args:[1,32,16]},null,-1),W=[E(214)],$=[E(214)],H=[y("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),y(E(200),{color:E(224)},null,-1)];function J(n,t){const e=D();return(J=function(n,t){return e[n-=175]})(n,t)}const K=p({__name:E(206),async setup(n){const t=E;let s,f;const p={clearColor:"#222"},m=d(),g=d(),h=d(),b=([s,f]=_((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),s=await s,f(),s),w=x({scale:1.6,color:t(204),subdivision:!0,c:1.1,p:1.4,side:i[t(222)],blending:i[t(191)]}),A=new u({title:"参数",expanded:!0});return A[t(217)](w,t(176),{label:"颜色"}),A[t(217)](w,t(208),{label:"大小",min:1,max:3,step:.2}),A[t(217)](w,"subdivision",{label:t(193)}),A[t(217)](w,"c",{label:"c",min:0,max:2,step:.1}),A[t(217)](w,"p",{label:"p",min:0,max:8,step:.2}),A[t(217)](w,t(180),{options:{FrontSide:i[t(222)],BackSide:a,DoubleSide:c}}),A[t(217)](w,t(213),{options:{AdditiveBlending:i[t(191)],NormalBlending:l}}),(n,o)=>{const s=t,i=I("TresCanvas");return v(),M(i,z(p,{"window-size":""}),{default:T((()=>[G,L,j(S(e)),O,y(s(190),{ref_key:"TresMeshRefA",ref:m,position:[-2,1,0]},[Q,y(s(200),{map:S(b)[0]},null,8,W)],512),j(P,z({srcMesh:m.value},w),null,16,[s(199)]),j(S(r),{ref_key:"TreBoxRef",ref:h,args:[1,1,1],position:[2,1,0]},{default:T((()=>[y("TresMeshBasicMaterial",{map:S(b)[1]},null,8,$)])),_:1},512),h[s(186)]&&h.value[s(196)]?(v(),M(P,z({key:0,srcMesh:h.value.instance},w),null,16,[s(199)])):k("",!0),y(s(190),{ref_key:s(210),ref:g,position:[0,1,-2]},H,512),j(P,z({srcMesh:g[s(186)]},w),null,16,[s(199)])])),_:1},16)}}});function U(n){function t(n){const e=J;if(typeof n===e(228))return function(n){}.constructor(e(194))[e(203)](e(178));1!==(""+n/n)[e(215)]||n%20==0?function(){return!0}[e(181)](e(207)+e(209))[e(182)]("action"):function(){return!1}[e(181)](e(207)+e(209))[e(203)](e(212)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{K as default};
