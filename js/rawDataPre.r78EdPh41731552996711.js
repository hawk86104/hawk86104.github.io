import{U as t,c as n}from"./@tresjs.01P8tiuF1731552996711.js";import{u as e,a as r,_ as a}from"./rawData.X1yHCckj1731552996711.js";import{z as o,x as s,a5 as i,a6 as u,a7 as c,N as l,a8 as f,a9 as p,t as d,$ as m,aa as h,v as g,_ as y}from"./@fesjs.ffiiLppw1731552996711.js";import{d as x,b as w,u as b,o as _,D as v,j as I,g as j,J as R,x as T,F as E,V as F,f as k,H as A,I as z,a as B,w as S,aj as V,ak as U,r as D,m as C}from"./@vue.-THQH3GC1731552996711.js";import{_ as Z,ac as G,cR as M,bg as $}from"./three.KG0QRRig1731552996711.js";import{r as L,a as N}from"./rawData.rFVqmQ6Q1731552996711.js";import{P as O}from"./tweakpane.yHWGBmom1731552996711.js";import"./@vueuse.YduQ9gvc1731552996711.js";import"./pinia.Yf0ZNVo31731552996711.js";import"./vue-demi.C4xddsk91731552996711.js";import"./vue-router.4ictOE9I1731552996711.js";import"./lodash-es.kYt-_xTG1731552996711.js";import"./@qlin.yHhFDldE1731552996711.js";import"./@floating-ui.BPbuo5Gx1731552996711.js";import"./@juggle.7yjBMqoW1731552996711.js";const P=K;!function(t,n){const e=K,r=X();for(;;)try{if(300643===parseInt(e(338))/1+-parseInt(e(332))/2*(parseInt(e(333))/3)+parseInt(e(324))/4+-parseInt(e(278))/5*(-parseInt(e(313))/6)+-parseInt(e(296))/7+parseInt(e(301))/8*(parseInt(e(304))/9)+-parseInt(e(274))/10*(parseInt(e(280))/11))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(305)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=K,n=new RegExp(t(306)),e=new RegExp(t(327),"i"),r=Y(t(276));n[t(341)](r+t(334))&&e.test(r+t(309))?Y():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(305)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function X(){const t=["10px auto -3px","342189jAPiAX","apply","function *\\( *\\)","return (function() ","block","input","counter","action","image/x-panasonic-raw","24sQaMWy","xExtent","lobster_301x324x56_uint8.raw","exception","while (true) {}","stateObject","result","console","__proto__","2.4em","文件类型必须为:'image/x-panasonic-raw'","1377060JRMrBD","byteArray","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","warning","请正确输入数值","error","2NOZSeX","103833AOudfF","chain","2.8em"," 点击或者拖拽rawData文件到此区域 ","gger","476741MtYadW"," y轴长度： ","raw","test"," z轴长度： ","2509860foXkTy","trace","init","value","656185ReFhKA","dataType","55wymNUs","uploadRef","target","debu","constructor","读取Raw原始数据","yExtent","fileList","string","length","card-wrapper","type","log","10px","modelValue","selectDataType","2282595uxVWuK"," 预览体数据","prototype","call","zExtent","120BThAPa","removeFile"];return(X=function(){return t})()}H(void 0,(function(){const t=K;let n;try{n=Function(t(307)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n[t(320)]=n[t(320)]||{},r=[t(292),"warn","info",t(331),t(316),"table",t(275)];for(let o=0;o<r[t(289)];o++){const n=H[t(284)][t(298)][t(328)](H),a=r[o],s=e[a]||n;n[t(321)]=H[t(328)](H),n[t(326)]=s[t(326)][t(328)](s),e[a]=n}}))();const J={key:0,class:P(290)};function K(t,n){const e=X();return(K=function(t,n){return e[t-=274]})(t,n)}function Y(t){function n(t){const e=K;if(typeof t===e(288))return function(t){}[e(284)](e(317))[e(305)](e(310));1!==(""+t/t).length||t%20==0?function(){return!0}[e(284)](e(283)+e(337))[e(299)](e(311)):function(){return!1}.constructor(e(283)+e(337))[e(305)](e(318)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=y(x({__name:"importRawUI",setup(t){const n=P,r=e();r[n(314)]=301,r.yExtent=324,r.zExtent=56;const a=w(null),y=w([]),x=t=>{console[n(292)]("[change] param:",t)},B=()=>{var t;const e=n;y[e(277)][e(289)]>1&&(null==(t=a.value)||t[e(302)](y[e(277)][0]))},S=()=>{const t=n;if(1!=y[t(277)][t(289)])return g[t(329)]("请正确选择rawData文件"),!1;if(r[t(314)]<=0||r[t(286)]<=0||r[t(300)]<=0)return g.warning(t(330)),!1;if(y.value[0][t(340)][t(291)]!==t(312))return g[t(329)](t(323)),!1;const e=new FileReader;return e.onload=function(n){const e=t,a=n[e(282)][e(319)];r.setArrayBuffer(a)},e.readAsArrayBuffer(y[t(277)][0][t(340)]),!0};return(t,e)=>{const g=n;return b(r)[g(325)]?z("",!0):(_(),v("div",J,[I(b(h),{header:g(285)},{default:j((()=>[e[10]||(e[10]=R("div",{style:{"margin-bottom":"11px"}},[T(" 演示参考龙虾🦞RawData数据,下载 : "),R("a",{href:"./plugins/tvtVolumeRendering/rawData/lobster_301x324x56_uint8.raw"},g(315))],-1)),I(b(o),{style:{"min-height":g(335)}},{default:j((()=>[I(b(s),{span:6,style:{"line-height":g(322)}},{default:j((()=>e[5]||(e[5]=[T(" x轴长度： ")]))),_:1}),I(b(s),{span:18},{default:j((()=>[I(b(i),{precision:0,modelValue:b(r)[g(314)],"onUpdate:modelValue":e[0]||(e[0]=t=>b(r)[g(314)]=t),autofocus:""},null,8,[g(294)])])),_:1})])),_:1}),I(b(o),{style:{"min-height":"2.8em"}},{default:j((()=>[I(b(s),{span:6,style:{"line-height":"2.4em"}},{default:j((()=>e[6]||(e[6]=[T(g(339))]))),_:1}),I(b(s),{span:18},{default:j((()=>[I(b(i),{precision:0,modelValue:b(r).yExtent,"onUpdate:modelValue":e[1]||(e[1]=t=>b(r)[g(286)]=t),autofocus:""},null,8,[g(294)])])),_:1})])),_:1}),I(b(o),{style:{"min-height":"2.8em"}},{default:j((()=>[I(b(s),{span:6,style:{"line-height":g(322)}},{default:j((()=>e[7]||(e[7]=[T(g(342))]))),_:1}),I(b(s),{span:18},{default:j((()=>[I(b(i),{precision:0,modelValue:b(r)[g(300)],"onUpdate:modelValue":e[2]||(e[2]=t=>b(r)[g(300)]=t),autofocus:""},null,8,[g(294)])])),_:1})])),_:1}),I(b(u),{modelValue:b(r)[g(295)],"onUpdate:modelValue":e[3]||(e[3]=t=>b(r)[g(295)]=t),style:{"margin-bottom":g(293)}},{default:j((()=>[(_(!0),v(E,null,F(b(r)[g(279)],((t,n)=>{const e=g;return _(),k(b(c),{key:n,value:n},{default:j((()=>[I(b(l),{style:{"max-width":"300px"}},{default:j((()=>[T(A(t.title),1)])),_:2},1024)])),_:2},1032,[e(277)])})),128))])),_:1},8,["modelValue"]),I(b(f),{ref_key:g(281),ref:a,fileList:y[g(277)],"onUpdate:fileList":e[4]||(e[4]=t=>y[g(277)]=t),onChange:x,httpRequest:B},{default:j((()=>[I(b(p),null,{default:j((()=>e[8]||(e[8]=[T(g(336))]))),_:1})])),_:1},8,[g(287)]),I(b(d),{style:{display:g(308),margin:g(303)},onClick:S},{icon:j((()=>[I(b(m))])),default:j((()=>[e[9]||(e[9]=T(g(297)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-306b37f6"]]),Q=ot;!function(t,n){const e=ot,r=et();for(;;)try{if(875337===parseInt(e(424))/1+-parseInt(e(446))/2*(-parseInt(e(465))/3)+-parseInt(e(457))/4*(-parseInt(e(427))/5)+-parseInt(e(426))/6+-parseInt(e(499))/7*(-parseInt(e(472))/8)+parseInt(e(422))/9+parseInt(e(477))/10*(-parseInt(e(496))/11))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ot(442)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){tt(this,(function(){const t=ot,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=it(t(428));n.test(r+t(463))&&e[t(448)](r+t(485))?it():r("0")}))()}();const nt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ot(442)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function et(){const t=["显示边框","thresholding","updateTransferFunction","samplingRate","zExtent","chain","EdgesGeometry","1749987sFTSMj","wrapT","x轴缩放","minFilter","gger","click","change","4234152BdHWpD","object","LineSegments","value","threshold","132190ewEbEw","emissionAbsorption","addButton","BackSide","addBinding","透明度","length","primitive","input","console","addBlade","byteArray","colorsStops","log","invertColor","type","体积采样率","uniforms","体绘制的阈值","2464EadYxz","error","composeType","21rKmikr","return (function() ","constructor","3616146Ezugmj","ClampToEdgeWrapping","1013984scrjyZ","TresBoxGeometry","9400416IuFBYZ","5XeyPFm","init","bind","magFilter","xExtent","清空体数据","scene","TresShaderMaterial","RedFormat","TresGroup","scale","needsUpdate","wrapS","table","format","apply","maximumIntensity","debu","LinearFilter","6bHRBNI","alphaScale","test","TresMesh","string","是否反色","BoxGeometry","yExtent","call","getThreeType","toString","2598228HGidBJ"];return(et=function(){return t})()}nt(void 0,(function(){const t=ot,n=function(){const t=ot;let n;try{n=Function(t(500)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(486)]||{},r=[t(490),"warn","info",t(497),"exception",t(440),"trace"];for(let a=0;a<r[t(483)];a++){const n=nt[t(501)].prototype.bind(nt),o=r[a],s=e[o]||n;n.__proto__=nt[t(429)](nt),n.toString=s[t(456)].bind(s),e[o]=n}}))();const rt=[Q(437),"visible"],at=[Q(473)];function ot(t,n){const e=et();return(ot=function(t,n){return e[t-=422]})(t,n)}const st=x({__name:Q(433),setup(t){const n=Q,a=e(),o=r(),s=new(Z[n(474)])(new(Z[n(464)])(new(Z[n(452)])(1,1,1)),new G({color:10066329})),i=w(1),u=w(a[n(453)]/a[n(431)]),c=w(a[n(462)]/a[n(431)]),l=B((()=>{const t=n;return!(i[t(475)]<=.01&&i[t(475)]>=-.01)&&(!(u[t(475)]<=.01&&u[t(475)]>=-.01)&&!(c.value<=.01&&c[t(475)]>=-.01))})),f=new M(a[n(488)],a[n(431)],a[n(453)],a[n(462)]);f[n(441)]=Z[n(435)],f[n(492)]=a[n(455)](),f[n(468)]=Z[n(445)],f[n(430)]=Z[n(445)],f[n(439)]=$,f[n(466)]=Z[n(423)],f.wrapR=Z[n(423)],f[n(438)]=!0;const p={uniforms:{dataTexture:{value:f},colorTexture:{value:o[n(460)]()},samplingRate:{value:1},threshold:{value:.5},alphaScale:{value:1},invertColor:{value:!0},composeType:{value:3}},vertexShader:L,fragmentShader:N,side:Z[n(480)],transparent:!0},d=w(!0),m=new O;return m[n(481)](i,"value",{label:n(467),min:-2,max:2,step:.01}),m[n(481)](u,n(475),{label:"y轴缩放",min:-2,max:2,step:.01}),m.addBinding(c,n(475),{label:"z轴缩放",min:-2,max:2,step:.01}),m[n(487)]({view:"list",label:"模式",options:[{text:n(443),value:1},{text:n(459),value:2},{text:n(478),value:3}],value:p[n(494)].composeType[n(475)]}).on(n(471),(t=>{const e=n;p[e(494)][e(498)].value=t[e(475)]})),m[n(481)](p.uniforms[n(461)],n(475),{label:n(493),min:0,max:4,step:.01}),m[n(481)](p[n(494)][n(476)],n(475),{label:n(495),min:0,max:1,step:.01}),m.addBinding(p.uniforms[n(447)],n(475),{label:n(482),min:0,max:1,step:.01}),m[n(481)](p[n(494)][n(491)],"value",{label:n(451)}),m[n(481)](d,n(475),{label:n(458)}),m[n(479)]({title:n(432),label:"点击"}).on(n(470),(()=>{a[n(488)]=null,m.dispose()})),S((()=>o[n(489)]),(()=>{const t=n;p[t(494)].colorTexture[t(475)]=o.updateTransferFunction()}),{deep:!0,immediate:!0}),(t,e)=>{const r=n;return _(),v(r(436),null,[R(r(449),{scale:[i[r(475)],u[r(475)],c[r(475)]],visible:l[r(475)]},[e[0]||(e[0]=R(r(425),{args:[1,1,1]},null,-1)),R(r(434),V(U(p)),null,16),d[r(475)]?(_(),v(r(484),{key:0,object:b(s)},null,8,at)):z("",!0)],8,rt)])}}});function it(t){function n(t){const e=ot;if(typeof t===e(450))return function(t){}[e(501)]("while (true) {}")[e(442)]("counter");1!==(""+t/t)[e(483)]||t%20==0?function(){return!0}[e(501)](e(444)+e(469))[e(454)]("action"):function(){return!1}[e(501)](e(444)+e(469))[e(442)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ut=ct;function ct(t,n){const e=ft();return(ct=function(t,n){return e[t-=123]})(t,n)}!function(t,n){const e=ct,r=ft();for(;;)try{if(997544===parseInt(e(144))/1*(parseInt(e(126))/2)+parseInt(e(141))/3*(-parseInt(e(139))/4)+parseInt(e(124))/5+-parseInt(e(123))/6+-parseInt(e(137))/7+parseInt(e(135))/8+parseInt(e(131))/9)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const lt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ct(138)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function ft(){const t=["14872712Kyeyip","chain","11717265fUrUII","apply","4trGovX","error","3356229grkjnz","toString","byteArray","904042mziIlv","function *\\( *\\)","counter","return (function() ","console","exception","rgba(255, 0, 0, 1)","rgba(102, 0, 250, 1)","__proto__","TresPerspectiveCamera","test","warn","length","table","prototype","while (true) {}","rgba(242, 242, 0, 0)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","log","init","7974894NkWFUm","7703245CMVaRe","call","2FHeZiO","rgba(242, 242, 0, 0.2)","#201919","bind","rawDataPre","7339959JRjCuN","constructor","string","gger"];return(ft=function(){return t})()}!function(){lt(this,(function(){const t=ct,n=new RegExp(t(145)),e=new RegExp(t(161),"i"),r=mt(t(164));n[t(154)](r+t(136))&&e[t(154)](r+"input")?mt():r("0")}))()}();const pt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ct(138)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();pt(void 0,(function(){const t=ct;let n;try{n=Function(t(147)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n[t(148)]=n[t(148)]||{},r=[t(163),t(155),"info",t(140),t(149),t(157),"trace"];for(let o=0;o<r.length;o++){const n=pt[t(132)][t(158)][t(129)](pt),a=r[o],s=e[a]||n;n[t(152)]=pt[t(129)](pt),n.toString=s[t(142)].bind(s),e[a]=n}}))();const dt=x({__name:ut(130),setup(r){const o=ut,s=D({clearColor:o(128),antialias:!0}),i=e();return(e,r)=>{const u=o;return _(),v(E,null,[b(i)[u(143)]?(_(),k(a,{key:0,curColorList:[[u(151),.587],[u(150),.7],["rgba(242, 242, 0, 0.99)",.84],[u(127),.88],[u(160),1]]})):z("",!0),I(b(n),C(s,{"window-size":""}),{default:j((()=>[r[0]||(r[0]=R(u(153),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),I(b(t)),b(i)[u(143)]?(_(),k(st,{key:0})):z("",!0)])),_:1},16),I(q)],64)}}});function mt(t){function n(t){const e=ct;if(typeof t===e(133))return function(t){}.constructor(e(159))[e(138)](e(146));1!==(""+t/t)[e(156)]||t%20==0?function(){return!0}[e(132)](e(162)+e(134))[e(125)]("action"):function(){return!1}[e(132)](e(162)+e(134))[e(138)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{dt as default};
