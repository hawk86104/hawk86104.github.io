import{importShared as o}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{Fs as b,Kk as k}from"./index.DTe2qqjO1767148983502.js";import{_sfc_main as B}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.CAh6rCxL1767148983502.js";import{_sfc_main$6 as S}from"./generalFont.vue_vue_type_script_setup_true_lang.Cx7Vff0m1767148983502.js";import"./default.vue_vue_type_script_setup_true_lang.Bjy6WD1C1767148983502.js";import"./three-mesh-ui.module.Cv5lk1vQ1767148983502.js";import"./domPanel.vue_vue_type_style_index_0_lang.DqrQKbSz1767148983502.js";import"./customShaderMaterial.vue_vue_type_script_setup_true_lang.B7dQ_CiZ1767148983502.js";import"./index.vue_vue_type_script_setup_true_lang.CjsHShHS1767148983502.js";import{useGLTF as $}from"./index.Bk2zy1aS1767148983502.js";import{_sfc_main as y}from"./cloudPoints.vue_vue_type_script_setup_true_lang.D6ZY5KS51767148983502.js";import{Pane as N}from"./tweakpane.BQRZXf8M1767148983502.js";const{withAsyncContext:x,defineComponent:P}=await o("vue"),{unref:p,createElementVNode:E,createVNode:V,Fragment:F,openBlock:T,createElementBlock:j}=await o("vue"),z=["object"],{toRaw:f}=await o("vue"),{Plane:u,Vector3:d}=await o("three"),L=P({__name:"planeClipping",async setup(g){let n,e;const{renderer:l}=b();l.localClippingEnabled=!0;const{nodes:t}=([n,e]=x(()=>$("https://opensource.cdn.icegl.cn/model/industry4/plane/scene.gltf")),n=await n,e(),n);t.Sketchfab_model.getObjectByName("Floor").removeFromParent();const i=t.Sketchfab_model.getObjectByName("Cube006_Avion_0");i.castShadow=!0;const r=[new u(new d(1,0,0),0),new u(new d(0,0,-1),0)];i.material.clipIntersection=!0,i.material.clippingPlanes=r;const m=t.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");m.material.clipIntersection=!0,m.material.clippingPlanes=r;const C=t.Sketchfab_model.getObjectByName("CS_Black_0"),_=new N({title:"裁剪参数",expanded:!0});return _.addBinding(r[0],"constant",{label:"x",min:-200,max:200,step:1}),_.addBinding(r[1],"constant",{label:"y",min:-200,max:250,step:1}),(Q,U)=>(T(),j(F,null,[E("primitive",{object:f(p(t).Sketchfab_model)},null,8,z),V(y,{isRemoveSrc:"",model:f(p(C)),color:"#fff"},null,8,["model"])],64))}}),{defineComponent:A}=await o("vue"),{unref:w,createVNode:a,createElementVNode:c,Suspense:R,withCtx:v,openBlock:h,createBlock:O,normalizeProps:D,guardReactiveProps:M,resolveComponent:G,Fragment:I,createElementBlock:K}=await o("vue"),{shallowRef:q,watchEffect:H,reactive:J}=await o("vue"),le=A({__name:"planeClipping",setup(g){const n=J({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),e=q();return H(()=>{e.value&&(e.value.shadow.mapSize.set(1e3,1e3),e.value.shadow.camera.near=.1,e.value.shadow.camera.far=5e3,e.value.shadow.camera.top=200,e.value.shadow.camera.right=200,e.value.shadow.camera.left=-200,e.value.shadow.camera.bottom=-200,e.value.shadow.radius=10)}),(l,t)=>{const s=G("TresCanvas");return h(),K(I,null,[a(w(S)),a(s,{clearColor:"#333",shadows:"","window-size":""},{default:v(()=>[t[0]||(t[0]=c("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1)),a(w(k)),t[1]||(t[1]=c("TresAmbientLight",{color:"#ffffff",intensity:1},null,-1)),c("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:e,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(h(),O(R,null,{default:v(()=>[a(L)]),_:1})),a(B,D(M(n)),null,16)]),_:1})],64)}}});export{le as default};
