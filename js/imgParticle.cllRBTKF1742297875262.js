import{a as t,o as n}from"./@tresjs.oW7bfow21742297875262.js";import"./index.vX4h6fjW1742297875262.js";import{P as o}from"./tweakpane.yDiyAAkA1742297875262.js";import{_ as e}from"./three.N4lg2KsY1742297875262.js";import{d as r,a3 as s,w as i,o as u,H as c,N as a,u as l,aj as p,ak as f,r as m,e as _,f as g,g as d,j as v,al as h,m as j}from"./@vue.NRI7TcgI1742297875262.js";import{_ as C}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.KQf_J0Ys1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.wNcUZu5O1742297875262.js";import"./all.three.lRmYuXHz1742297875262.js";import"./oimophysics.x0jH7fze1742297875262.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.i2KkrsD21742297875262.js";import"./index.S0bqWcaz1742297875262.js";import"./three-stdlib.ek_ppiag1742297875262.js";import"./@pmndrs.ByHGZr701742297875262.js";import"./object-hash.pZYLN7q31742297875262.js";import"./@amap.PUMXk6JR1742297875262.js";import"./jszip.TRpfdbXn1742297875262.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.C1LvvPPZ1742297875262.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.91U3lb3g1742297875262.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.XqiBX7tV1742297875262.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.wWUqy8Od1742297875262.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.ZcjY7JIc1742297875262.js";const y=I;!function(t,n){const o=I,e=b();for(;;)try{if(518638===-parseInt(o(386))/1*(-parseInt(o(379))/2)+-parseInt(o(399))/3*(-parseInt(o(372))/4)+parseInt(o(380))/5+parseInt(o(371))/6*(-parseInt(o(398))/7)+parseInt(o(385))/8+-parseInt(o(429))/9+-parseInt(o(400))/10*(parseInt(o(413))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const w=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[I(368)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function I(t,n){const o=b();return(I=function(t,n){return o[t-=368]})(t,n)}!function(){w(this,(function(){const t=I,n=new RegExp(t(393)),o=new RegExp(t(418),"i"),e=F(t(411));n[t(424)](e+t(381))&&o[t(424)](e+t(422))?F():e("0")}))()}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[I(368)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function b(){const t=["zPos","4349264LjZhIm","115aakQPH","exception","constructor","Color","imgParticleMesh","position","error","function *\\( *\\)","getContext","string","table","#ff0000","106729TMfTzL","558996REumVw","80YrAWBE","return (function() ","AdditiveBlending","TresPoints","useCustomColor","uniforms","debu","canvas","getImageData","random","set","init","push","917488hYdsvE","drawImage","toString","data","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","./logo.png","info","value","input","__proto__","test","TresBufferGeometry","log","counter","prototype","4280490uZEDLq","length","\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}","apply","image","bind","372HkUiuW","8xLDeDO","console","stateObject","customColor","trace","color_list","while (true) {}","12462Oyrszo","4869695vHFYND","chain","height","width"];return(b=function(){return t})()}P(void 0,(function(){const t=I;let n;try{n=Function(t(401)+'{}.constructor("return this")( ));')()}catch(r){n=window}const o=n[t(373)]=n[t(373)]||{},e=[t(426),"warn",t(420),t(392),t(387),t(396),t(376)];for(let s=0;s<e[t(430)];s++){const n=P[t(388)][t(428)][t(370)](P),r=e[s],i=o[r]||n;n[t(423)]=P.bind(P),n[t(415)]=i.toString.bind(i),o[r]=n}}))();const z={position:[-8,10,-2],scale:.02},x=[y(391),y(377)],S=r({__name:y(390),props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:y(397)}},async setup(n){const o=y;let r,m;const _=n,g=([r,m]=s((()=>t([o(419)]))),r=await r,m(),r),d=document.createElement(o(407)),v=g.image[o(383)],h=g[o(369)].height;d[o(383)]=v,d[o(382)]=h;const j=d[o(394)]("2d");null==j||j[o(414)](g.image,0,0);const C=null==j?void 0:j[o(408)](0,0,v,h)[o(416)],w=[],I=[];if(C)for(let t=0;t<h;t++)for(let n=0;n<v;n++){const e=4*(t*v+n);if(C[e+3]>0){const r=C[e]/255,s=C[e+1]/255,i=C[e+2]/255,u=100*Math[o(409)]();w[o(412)](n,-t,u),I[o(412)](r,s,i)}}const P=new Float32Array(w),b=new Float32Array(I),S={uniforms:{zPos:{value:_.zPos},useCustomColor:{value:_[o(404)]},customColor:{value:new(e[o(389)])(_[o(375)])}},vertexShader:"\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}",fragmentShader:o(431),transparent:!0,depthTest:!1,blending:e[o(402)]};return i((()=>[_.zPos,_[o(404)],_[o(375)]]),(([t,n,e])=>{const r=o;S[r(405)][r(384)][r(421)]=t,S.uniforms[r(404)][r(421)]=n,S[r(405)][r(375)][r(421)][r(410)](e)})),(t,n)=>{const e=o;return u(),c(e(403),z,[a(e(425),{position:[l(P),3],color_list:[l(b),3]},null,8,x),a("TresShaderMaterial",p(f(S)),null,16)])}}});function F(t){function n(t){const o=I;if(typeof t===o(395))return function(t){}.constructor(o(378))[o(368)](o(427));1!==(""+t/t).length||t%20==0?function(){return!0}[o(388)](o(406)+o(417)).call("action"):function(){return!1}[o(388)](o(406)+o(417))[o(368)](o(374)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const T=D;!function(t,n){const o=D,e=E();for(;;)try{if(507291===-parseInt(o(507))/1*(-parseInt(o(502))/2)+parseInt(o(504))/3+parseInt(o(517))/4+parseInt(o(499))/5*(-parseInt(o(523))/6)+-parseInt(o(515))/7+parseInt(o(526))/8*(parseInt(o(528))/9)+-parseInt(o(510))/10*(-parseInt(o(508))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const B=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[D(535)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function E(){const t=["imgParticle","gger","string","function *\\( *\\)","__proto__","54Vewzpn","return (function() ","error","32HwKCUI","init","285921vYzSng","debu","log","action","addBinding","info","call","apply","length","zPos","counter",'{}.constructor("return this")( )',"使用自定义颜色","chain","422805LDeyYv","TresAmbientLight","TresCanvas","58jcnLBP","toString","631500gOYrZs","constructor","useCustomColor","31271yBhoap","44yuzBeO","warn","26980HJiEtr","TresPerspectiveCamera","trace","exception","table","4130427bJCSam","bind","2412696rBnTFN"];return(E=function(){return t})()}!function(){B(this,(function(){const t=D,n=new RegExp(t(521)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=L(t(527));n.test(e+t(541))&&o.test(e+"input")?L():e("0")}))()}();const A=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[D(535)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function D(t,n){const o=E();return(D=function(t,n){return o[t-=499]})(t,n)}A(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(524)+t(539)+");")()}catch(o){n=window}return n}(),o=n.console=n.console||{},e=[t(530),t(509),t(533),t(525),t(513),t(514),t(512)];for(let r=0;r<e.length;r++){const n=A.constructor.prototype[t(516)](A),s=e[r],i=o[s]||n;n[t(522)]=A.bind(A),n[t(503)]=i.toString[t(516)](i),o[s]=n}}))();const M=r({__name:T(518),setup(t){const e=T,r={clearColor:"#050505",antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=m({zPos:1,useCustomColor:!1,customColor:"#ff0000"}),c=new o({title:"参数"});return c[e(532)](i,e(537),{label:"厚度",min:.5,max:10,step:.5}),c.addBinding(i,e(506),{label:e(540)}),c.addBinding(i,"customColor",{label:"自定义颜色"}),(t,o)=>{const c=e,m=_(c(501));return u(),g(m,j(r,{"window-size":""}),{default:d((()=>[o[0]||(o[0]=a(c(511),{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),v(l(n)),o[1]||(o[1]=a(c(500),{intensity:.5},null,-1)),(u(),g(h,null,{default:d((()=>[v(S,p(f(i)),null,16)])),_:1})),(u(),g(h,null,{default:d((()=>[v(l(C),j({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const o=D;if(typeof t===o(520))return function(t){}[o(505)]("while (true) {}")[o(535)](o(538));1!==(""+t/t)[o(536)]||t%20==0?function(){return!0}[o(505)](o(529)+o(519))[o(534)](o(531)):function(){return!1}[o(505)]("debugger")[o(535)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{M as default};
