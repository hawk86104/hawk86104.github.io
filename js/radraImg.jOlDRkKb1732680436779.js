import{b as t,m as n,U as e}from"./@tresjs.ozxSQdlw1732680436779.js";import{bh as r,_ as o,a0 as i}from"./three.HQIWXjA-1732680436779.js";import{_ as c}from"./three-tile.rGySB-KI1732680436779.js";import{_ as s}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.qAoZUe_z1732680436779.js";import{d as a,a6 as u,w as p,o as l,D as f,J as m,u as h,r as d,b as g,f as y,g as I,j as b,m as _,al as w,F as j,e as v,aj as x,ak as S}from"./@vue.u2cBPEWn1732680436779.js";import{P as T}from"./tweakpane.yHWGBmom1732680436779.js";import{_ as A}from"./informationDiv.hpQHFT5s1732680436779.js";import"./@vueuse.OVEejUj91732680436779.js";import"./@fesjs.PwptM7Gh1732680436779.js";import"./vue-router.87op6V6j1732680436779.js";import"./lodash-es.guXTxyfJ1732680436779.js";import"./@qlin.yHhFDldE1732680436779.js";import"./pinia.u6SS9Z3a1732680436779.js";import"./vue-demi.C4xddsk91732680436779.js";import"./@floating-ui.BPbuo5Gx1732680436779.js";import"./@juggle.7yjBMqoW1732680436779.js";const z=D;!function(t,n){const e=D,r=M();for(;;)try{if(975379===parseInt(e(275))/1*(-parseInt(e(280))/2)+parseInt(e(279))/3*(parseInt(e(260))/4)+parseInt(e(284))/5+parseInt(e(247))/6+parseInt(e(257))/7*(parseInt(e(295))/8)+-parseInt(e(265))/9*(-parseInt(e(256))/10)+-parseInt(e(244))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(266)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function D(t,n){const e=M();return(D=function(t,n){return e[t-=238]})(t,n)}!function(){k(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=P("init");n[t(250)](r+t(248))&&e.test(r+t(241))?P():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(266)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function M(){const t=["opacity","constructor","error","while (true) {}","rotateX","3529YKzcza","color","material","height","3AcVSLG","718ksGUhY","exception","stateObject","scale","2222375csjdXz","Vector3","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","Texture","position","console","debu","position-y","#include <displacementmap_vertex>","bind",'{}.constructor("return this")( )',"4648kayjST","gger","toString","matrix","__proto__","input","TresGroup","trace","19205483MoMGfr","40.png","TresMesh","8885154vpjktC","chain","info","test","applyMatrix4","prototype","string","action","needsUpdate","20XkUTaa","12586YKOHrU","return (function() ","warn","3916756sdWnhT","length","map","replace","vertexShader","175869KUOluU","apply","call","scaleImg","log"];return(M=function(){return t})()}B(void 0,(function(){const t=D;let n;try{n=Function(t(258)+t(294)+");")()}catch(o){n=window}const e=n[t(289)]=n[t(289)]||{},r=[t(269),t(259),t(249),t(272),t(281),"table",t(243)];for(let i=0;i<r.length;i++){const n=B[t(271)][t(252)].bind(B),o=r[i],c=e[o]||n;n[t(240)]=B[t(293)](B),n[t(238)]=c[t(238)].bind(c),e[o]=n}}))();const E=[z(288)],G=[z(283),z(277),z(274),z(291)],L=a({__name:"radraImgShow",props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=z;let c,a;const d=n,g=new r({displacementMap:new(o[e(287)]),transparent:!0,side:i,opacity:d[e(270)],displacementScale:.5,displacementBias:0});g.onBeforeCompile=t=>{const n=e;t.vertexShader="uniform sampler2D map;\n\t"+t[n(264)],t[n(264)]=t[n(264)][n(263)](n(292),n(286))};const y=d[e(262)].geo2pos(new(o[e(285)])(105,34,0));y[e(251)](d[e(262)][e(239)]);const I=s[e(268)](d[e(262)],{x:67,y:11},{x:140,y:57},d[e(278)]),b=[];for(let t=0;t<9;t++)b.push("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(245));let _=0;const w=([c,a]=u((()=>t(b))),c=await c,a(),c);g[e(262)]=w[_],p((()=>[d[e(276)],d.opacity]),(([t,n])=>{g.opacity=n}));let j=null,v=!1;return v?(clearInterval(j),j=null,v=!1):(j=setInterval((()=>{const t=D;_=_<b[t(261)]-1?_+1:0,g[t(262)]=w[_],g[t(255)]=!0,console[t(269)](_)}),1e3),v=!0),(t,n)=>{const r=e;return l(),f(r(242),{position:[...h(y)]},[m(r(246),{scale:[h(I).x,h(I).y,t.height],material:h(g),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[r(278)]/5},n[0]||(n[0]=[m("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,G)],8,E)}}});function P(t){function n(t){const e=D;if(typeof t===e(253))return function(t){}.constructor(e(273))[e(266)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(271)](e(290)+e(296))[e(267)](e(254)):function(){return!1}[e(271)](e(290)+e(296)).apply(e(282)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function U(){const t=["position","tdLight","map","13206618PBVBln","init","toString","addBinding","while (true) {}","terrain-rgb","length","1488193lAZArd","target","value","copy","log","call","5800jgWVEz","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","plugin","chain","mapbox.satellite","image","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","bind","8ZeGTfL","debu","gger","prototype","warn","rotateX","1527842aAlADD","mapBoxShow3","885LIAscq","apply","exception","function *\\( *\\)","error","42JSZxil","3544281UOfmqK","object","console","info","opacity","controlsEvents","MapBoxSource","TileMap","geo2pos","19220240lpVHmp","constructor","localToWorld","string","domElement","434786mlSrAr","showLocation","透明度"];return(U=function(){return t})()}const Z=C;!function(t,n){const e=C,r=U();for(;;)try{if(792291===-parseInt(e(457))/1+parseInt(e(435))/2+-parseInt(e(443))/3+-parseInt(e(420))/4*(parseInt(e(437))/5)+parseInt(e(442))/6*(-parseInt(e(414))/7)+parseInt(e(429))/8*(parseInt(e(407))/9)+parseInt(e(452))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(438)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){F(this,(function(){const t=C,n=new RegExp(t(440)),e=new RegExp(t(421),"i"),r=Q(t(408));n.test(r+t(424))&&e.test(r+"input")?Q():r("0")}))()}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();W(void 0,(function(){const t=C,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(445)]=n[t(445)]||{},r=[t(418),t(433),t(446),t(441),t(439),"table","trace"];for(let o=0;o<r[t(413)];o++){const n=W[t(453)][t(432)][t(428)](W),i=r[o],c=e[i]||n;n.__proto__=W[t(428)](W),n[t(409)]=c[t(409)][t(428)](c),e[i]=n}}))();const O=[Z(444)];function C(t,n){const e=U();return(C=function(t,n){return e[t-=406]})(t,n)}const R=Z(427),q=a({__name:Z(436),setup(t){const e=Z,r=d({height:200,opacity:1}),i=new T({title:"参数"});i[e(410)](r,"height",{label:"高度",min:10,max:300,step:1}),i[e(410)](r,e(447),{label:e(459),min:0,max:1,step:.1});const a=new(c[e(423)][e(449)])({token:R,dataType:e(426),style:e(425)}),u=new(c[e(423)][e(449)])({token:R,dataType:e(412),style:"mapbox.terrain-rgb",maxLevel:15}),v=new(c[e(450)])({imgSource:a,demSource:u,lon0:90,minLevel:2,maxLevel:20});v[e(434)](-Math.PI/2);const x=new(o[e(422)])(105,34,0),S=new(o[e(422)])(110,0,1e4),A=v.localToWorld(v[e(451)](x)),z=v[e(454)](v[e(451)](S)),k=g(),{camera:D,controls:B,scene:M,renderer:E}=n();return D[e(416)]&&D.value[e(460)].copy(z),p((()=>B.value),(t=>{const n=e;t&&(t.target[n(417)](A),s[n(448)](t,D[n(416)],M.value))})),p((()=>k[e(416)]),(t=>{const n=e;t&&t[n(415)][n(460)][n(417)](A)})),s[e(458)](D[e(416)],E.value[e(456)],v),(t,n)=>{const o=e;return l(),f(j,null,[m("TresDirectionalLight",{ref_key:o(461),ref:k,position:[0,2e3,1e3],intensity:1},null,512),m("primitive",{object:h(v)},null,8,O),(l(),y(w,null,{default:I((()=>[b(L,_({map:h(v)},r),null,16,[o(406)])])),_:1}))],64)}}});function Q(t){function n(t){const e=C;if(typeof t===e(455))return function(t){}.constructor(e(411))[e(438)]("counter");1!==(""+t/t)[e(413)]||t%20==0?function(){return!0}.constructor(e(430)+e(431))[e(419)]("action"):function(){return!1}[e(453)](e(430)+e(431))[e(438)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=Y;!function(t,n){const e=Y,r=H();for(;;)try{if(699662===parseInt(e(218))/1+parseInt(e(234))/2+-parseInt(e(210))/3*(parseInt(e(217))/4)+parseInt(e(211))/5+parseInt(e(212))/6+-parseInt(e(214))/7+-parseInt(e(209))/8*(parseInt(e(233))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(225)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function H(){const t=["2236782bqdagr","warn","error","constructor","debu","prototype","gger",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","return (function() ","8bCBQvz","9cWQwSd","1995990rBQbAw","5510616GFGwxH","console","4801314tIhvsF","exception","info","1043492uqTYWt","222275IZpkOp","stateObject","toString","test","TresCanvas","length","__proto__","apply","TresAmbientLight","string","call","while (true) {}","radraImg","table","log","4411053dcCNnP"];return(H=function(){return t})()}!function(){$(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(206),"i"),r=N("init");n[t(221)](r+"chain")&&e[t(221)](r+"input")?N():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(225)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(t,n){const e=H();return(Y=function(t,n){return e[t-=201]})(t,n)}X(void 0,(function(){const t=Y;let n;try{n=Function(t(208)+t(205)+");")()}catch(o){n=window}const e=n.console=n[t(213)]||{},r=[t(232),t(235),t(216),t(236),t(215),t(231),"trace"];for(let i=0;i<r[t(223)];i++){const n=X.constructor[t(203)][t(207)](X),o=r[i],c=e[o]||n;n[t(224)]=X.bind(X),n.toString=c[t(220)][t(207)](c),e[o]=n}}))();const K=a({__name:V(230),setup(t){const n=d({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,o)=>{const i=Y,c=v(i(222));return l(),f(j,null,[b(c,_(n,{"window-size":""}),{default:I((()=>[o[0]||(o[0]=m("TresPerspectiveCamera",{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(h(e),x(S(r)),null,16),o[1]||(o[1]=m(i(226),{intensity:1},null,-1)),b(q)])),_:1},16),b(A)],64)}}});function N(t){function n(t){const e=Y;if(typeof t===e(227))return function(t){}[e(201)](e(229)).apply("counter");1!==(""+t/t)[e(223)]||t%20==0?function(){return!0}.constructor(e(202)+e(204))[e(228)]("action"):function(){return!1}.constructor(e(202)+e(204))[e(225)](e(219)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
