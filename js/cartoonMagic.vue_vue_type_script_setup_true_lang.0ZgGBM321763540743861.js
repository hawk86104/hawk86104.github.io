import{B as t,Q as o}from"./three.quarks.CwTtG7dG1763540743861.js";import{_ as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as s,w as r,H as a,o as n,J as i,u as l}from"./@vue.Co_gxueH1763540743861.js";import{G as c,l as m,A as p}from"./three.rXKzP9fQ1763540743861.js";import{C as d,a as u}from"./quarks.core.D-mmToEd1763540743861.js";const f=["object"],j=["object","position","scale","rotation"],w=s({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(s){const w=s,y=t=>{const o=new m(w.color),e=new p(o.r,o.g,o.b,t);return new u(e)},C=new t,b=new o;b.setCrossOrigin("");const g=new c;b.load("./plugins/floor/json/CartoonMagicZone2.json",t=>{t.traverse(t=>{if("ParticleEmitter"===t.type){"BasicZoneRedEmitter"===t.name&&t.rotation.set(Math.PI/2,0,0);const o=t.system;-.25===o.startSpeed.value&&(o.startSpeed=new d(-.5)),o.startColor=y(o.startColor.color.w),C.addSystem(o)}}),"ParticleEmitter"===t.type&&C.addSystem(t.system),g.add(t)});const{onBeforeRender:h}=e();return h(({delta:t})=>{C.update(t)}),r(()=>[w.color],([t])=>{C.systemToBatchIndex.forEach((t,o)=>{o.startColor=y(o.startColor.color.w)})}),(t,o)=>(n(),a("TresGroup",null,[i("primitive",{object:l(g)},null,8,f),i("primitive",{object:l(C),position:t.position,scale:t.scale,rotation:t.rotation},null,8,j)]))}});export{w as _};
