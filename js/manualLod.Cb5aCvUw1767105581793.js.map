{"version":3,"file":"manualLod.Cb5aCvUw1767105581793.js","sources":["../../src/plugins/lod/components/SphereWithManualLOD.vue","../../src/plugins/lod/pages/manualLod.vue"],"sourcesContent":["<template>\n    <TresLOD ref=\"lodRef\" :autoUpdate=\"false\">\n        <TresMesh ref=\"mesh1Ref\">\n            <TresSphereGeometry :args=\"[2, 36, 36]\" />\n            <TresMeshStandardMaterial color=\"#ff0000\" wireframe />\n        </TresMesh>\n        <TresMesh ref=\"mesh2Ref\">\n            <TresSphereGeometry :args=\"[2, 12, 12]\" />\n            <TresMeshStandardMaterial color=\"#00ff00\" wireframe />\n        </TresMesh>\n        <TresMesh ref=\"mesh3Ref\">\n            <TresSphereGeometry :args=\"[2, 4, 4]\" />\n            <TresMeshStandardMaterial color=\"#0000ff\" wireframe />\n        </TresMesh>\n    </TresLOD>\n</template>\n\n<script setup lang=\"ts\">\nimport { useTres } from '@tresjs/core'\nimport { LOD, Mesh } from 'three'\nimport { shallowRef, watch } from 'vue'\n\nconst lodRef = shallowRef<InstanceType<typeof LOD>>()\n\nconst mesh1Ref = shallowRef<InstanceType<typeof Mesh>>()\nconst mesh2Ref = shallowRef<InstanceType<typeof Mesh>>()\nconst mesh3Ref = shallowRef<InstanceType<typeof Mesh>>()\n\nwatch([mesh1Ref, mesh2Ref, mesh3Ref], () => {\n    if (mesh1Ref.value && mesh2Ref.value && mesh3Ref.value) {\n        lodRef.value?.addLevel(mesh1Ref.value, 0)\n        lodRef.value?.addLevel(mesh2Ref.value, 10)\n        lodRef.value?.addLevel(mesh3Ref.value, 20)\n\n        updateLOD()\n    }\n})\n\nconst { camera } = useTres()\n\nconst updateLOD = () => {\n    if (camera.value) lodRef.value?.update(camera.value)\n}\n\nconst getLevel = () => {\n    return lodRef.value?.getCurrentLevel()\n}\n\ndefineExpose({ updateLOD, getLevel })\n</script>\n","<template>\n    <TresCanvas v-bind=\"state\">\n        <TresPerspectiveCamera ref=\"cameraRef\" :fov=\"60\" :near=\"0.1\" :far=\"2000\" :position=\"[0, 0, 25]\" :look-at=\"[0, 0, 0]\" />\n        <TresAmbientLight :intensity=\"2\" />\n        <SphereWithManualLOD ref=\"sphereRef\" />\n        <OrbitControls v-bind=\"controlsState\" />\n    </TresCanvas>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive, shallowRef } from 'vue'\nimport { OrbitControls } from '@tresjs/cientos'\nimport SphereWithManualLOD from '../components/SphereWithManualLOD.vue'\nimport { Pane, TextBladeApi } from 'tweakpane'\nimport { PerspectiveCamera } from 'three'\n\nconst sphereRef = shallowRef<InstanceType<typeof SphereWithManualLOD>>()\nconst cameraRef = shallowRef<InstanceType<typeof PerspectiveCamera>>()\n\nconst panel = new Pane()\n\npanel.addButton({ title: '更新LOD' }).on('click', () => {\n    sphereRef.value?.updateLOD()\n})\n\nconst levelBinding = panel.addBlade({\n    view: 'text',\n    label: 'LOD级别',\n    parse: (v: any) => String(v),\n    value: '0',\n}) as TextBladeApi<string | undefined | number>\n\npanel.addButton({ title: '获取LOD级别' }).on('click', () => {\n    if (sphereRef.value) {\n        const level = sphereRef.value.getLevel()\n        levelBinding.value = level\n    }\n})\n\nconst state = reactive({\n    windowSize: true,\n    alpha: true,\n    antialias: true,\n    clearAlpha: 0,\n    disableRender: true,\n})\n\nconst controlsState = reactive({\n    enableDamping: true,\n    enableZoom: true,\n    enablePan: true,\n    enableRotate: true,\n    makeDefault: true,\n})\n</script>\n\n<style scoped>\n.control-panel {\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    background: rgba(0, 0, 0, 0.7);\n    padding: 20px;\n    border-radius: 8px;\n    color: white;\n}\n\n.slider-container {\n    margin-bottom: 10px;\n}\n\nbutton {\n    padding: 8px 16px;\n    background: #4caf50;\n    border: none;\n    border-radius: 4px;\n    color: white;\n    cursor: pointer;\n}\n\nbutton:hover {\n    background: #45a049;\n}\n</style>\n"],"names":["shallowRef","useTres","_createElementVNode","SphereWithManualLOD"],"mappings":"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"}