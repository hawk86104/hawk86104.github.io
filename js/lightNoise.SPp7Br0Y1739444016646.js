import{_ as n,a as t,B as e,aj as o,s as r,$ as i,c5 as s,c3 as a,c4 as c,V as l,cf as u}from"./three.W6GmiHfn1739444016646.js";import{e as f,m as p,o as v}from"./@tresjs.Q4_KYO2a1739444016646.js";import{d as g,o as d,H as m,N as h,u as b,F as x,w as y,j as w,z as _,e as I,g as T,aj as U,ak as S}from"./@vue.NRI7TcgI1739444016646.js";import{_ as D}from"./@fesjs.sJn9--0s1739444016646.js";import"./@vueuse.6yH4xZkk1739444016646.js";import"./vue-router.AC2Dribr1739444016646.js";import"./lodash-es.pklfUAS51739444016646.js";import"./@qlin.yHhFDldE1739444016646.js";import"./pinia.yh3RXIKV1739444016646.js";import"./@floating-ui.BPbuo5Gx1739444016646.js";import"./@juggle.7yjBMqoW1739444016646.js";var F="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";function j(n,t){const e=A();return(j=function(n,t){return e[n-=389]})(n,t)}const z=j;!function(n,t){const e=j,o=A();for(;;)try{if(178612===parseInt(e(403))/1+parseInt(e(424))/2+-parseInt(e(445))/3+-parseInt(e(436))/4+parseInt(e(442))/5*(parseInt(e(465))/6)+parseInt(e(457))/7+parseInt(e(398))/8*(-parseInt(e(461))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[j(453)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){B(this,(function(){const n=j,t=new RegExp(n(427)),e=new RegExp(n(410),"i"),o=k(n(462));t[n(406)](o+n(395))&&e[n(406)](o+n(394))?k():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[j(453)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();N(void 0,(function(){const n=j;let t;try{t=Function(n(437)+n(439)+");")()}catch(r){t=window}const e=t[n(413)]=t[n(413)]||{},o=[n(450),n(443),n(399),n(422),n(452),n(400),n(397)];for(let i=0;i<o[n(431)];i++){const t=N[n(458)][n(451)][n(404)](N),r=o[i],s=e[r]||t;t[n(425)]=N[n(404)](N),t.toString=s.toString[n(404)](s),e[r]=t}}))();const E=[z(428),z(419)],R=["material"],C=[z(433)],P=100;function A(){const n=["TresPlaneGeometry","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","SphereGeometry","log","prototype","exception","apply","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","InstancedBufferGeometry","noiseTex","1580922BDPPmU","constructor","instanceCount","gger","2929887hgfNuC","init","globalBloom","setAttribute","48wZtVgA","randFloat","push","while (true) {}","luces","randFloatSpread","input","chain","#include <fog_fragment>","trace","8WYrslX","info","table","replace","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","207985Pixwzv","bind","uniforms","test","#include <begin_vertex>","sin","vertexShader","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","attributes","InstancedBufferAttribute","console","instData","needsUpdate","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","counter","MeshLambertMaterial","material","debu","string","error","Vector4","83726ISjpiT","__proto__","\n      uniform vec4 luces[","function *\\( *\\)","geometry","cos","action","length","stateObject","rotateX","copy","globalUniforms","701396vhiwuT","return (function() ","TresMesh",'{}.constructor("return this")( )',"MathUtils","\n    ","149190ywIUpa","warn","MeshBasicMaterial","104682zyxaRn","call"];return(A=function(){return n})()}const M=g({__name:"lucesPlane",props:{globalUniforms:{}},setup(e){const o=z,r=e,i=[],s=[],a=new(n[o(449)])(1,36,18),c=(new(n[o(455)]))[o(434)](a);c[o(459)]=P;const l=[];for(let f=0;f<P;f++){let e=t[o(393)](49),r=n[o(440)][o(393)](49),a=n[o(440)][o(389)](.0625,.125),c=n[o(440)][o(389)](1,3);l[o(390)](e,r,a),s[o(390)](new(n[o(423)])(e,r,c,n[o(440)][o(389)](1,2))),i[o(390)](new(n[o(423)])(e,r,a,c))}c[o(464)](o(414),new(n[o(412)])(new Float32Array(l),3));const u=new(n[o(444)])({color:16720418,onBeforeCompile:n=>{const t=o;n[t(405)][t(456)]=r[t(435)].noise,n[t(409)]=(t(402)+n[t(409)]+"\n    ")[t(401)](t(407),"#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ")}}),p={luces:{value:i}},v=new(n[o(418)])({color:2363940,onBeforeCompile:n=>{const t=o;n[t(405)][t(392)]=p[t(392)],n[t(405)][t(463)]=r.globalUniforms[t(463)],n[t(405)][t(456)]=r[t(435)].noise,n.vertexShader=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      "+n[t(409)]+t(441))[t(401)]("#include <begin_vertex>",t(454)),n.fragmentShader=(t(426)+P+"];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      "+n.fragmentShader+t(441))[t(401)](t(396),t(416)+P+t(448))[t(401)]("#include <dithering_fragment>","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:g}=f();return g((({elapsed:n})=>{const t=o;for(let e=0;e<P;e++){const o=s[e];let r=(o.y+n+25)%50-25;i[e].y=r,i[e].w=(Math[t(408)](n*o.w*(e%3+1))*Math[t(429)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,c[t(411)][t(414)].setY(e,r)}c[t(411)][t(414)][t(415)]=!0})),(n,t)=>{const e=o;return d(),m(x,null,[h(e(438),{geometry:b(c),material:b(u)},null,8,E),h(e(438),{material:b(v)},[h(e(447),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,C)],8,R)],64)}}});function k(n){function t(n){const e=j;if(typeof n===e(421))return function(n){}.constructor(e(391))[e(453)](e(417));1!==(""+n/n)[e(431)]||n%20==0?function(){return!0}[e(458)](e(420)+"gger")[e(446)](e(430)):function(){return!1}.constructor(e(420)+e(460)).apply(e(432)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=O;!function(n,t){const e=O,o=Z();for(;;)try{if(188640===-parseInt(e(139))/1+parseInt(e(127))/2+parseInt(e(129))/3*(-parseInt(e(165))/4)+parseInt(e(155))/5+parseInt(e(163))/6*(-parseInt(e(144))/7)+parseInt(e(131))/8*(parseInt(e(134))/9)+parseInt(e(119))/10*(parseInt(e(167))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(159)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){L(this,(function(){const n=O,t=new RegExp(n(170)),e=new RegExp(n(124),"i"),o=W(n(133));t.test(o+n(149))&&e[n(143)](o+n(142))?W():o("0")}))()}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(159)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();H(void 0,(function(){const n=O,t=function(){const n=O;let t;try{t=Function("return (function() "+n(169)+");")()}catch(e){t=window}return t}(),e=t[n(128)]=t[n(128)]||{},o=[n(118),n(166),n(150),n(130),n(137),n(125),n(172)];for(let r=0;r<o[n(168)];r++){const t=H[n(147)][n(117)].bind(H),i=o[r],s=e[i]||t;t[n(148)]=H[n(140)](H),t.toString=s[n(153)][n(140)](s),e[i]=t}}))();const V=[G(135)];function Z(){const n=["test","77dfRHPa","portal","TresPlaneGeometry","constructor","__proto__","chain","info","while (true) {}","uniforms","toString","vec4 diffuseColor = vec4( diffuse, opacity );","530680bfSSLQ","stateObject","replace","counter","apply","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","time","defines","118380zDCNPF","MeshBasicMaterial","28cUvTsR","warn","10967PwOGGl","length",'{}.constructor("return this")( )',"function *\\( *\\)","gger","trace","prototype","log","180hxRupD","string","\n    ","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","TresMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","#include <dithering_fragment>","316868HUgcVk","console","38193FHggFa","error","8nhnayR","call","init","2500290qhBDiH","material","fragmentShader","exception","globalUniforms","65539HHhfJE","bind","globalBloom","input"];return(Z=function(){return n})()}const $=g({__name:G(145),props:{globalUniforms:{}},setup(t){const e=G,o=t,r=new(n[e(164)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(152)][t(161)]=o[t(138)][t(161)],n[t(152)][t(141)]=o[t(138)][t(141)],n[t(136)]=(t(122)+F+"\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "+n.fragmentShader+t(121))[t(157)](t(154),t(160))[t(157)](t(126),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ")}});return r[e(162)]={USE_UV:""},(n,t)=>{const o=e;return d(),m(o(123),{material:b(r),position:[0,3.75,-12]},t[0]||(t[0]=[h(o(146),{args:[5,5]},null,-1)]),8,V)}}});function O(n,t){const e=Z();return(O=function(n,t){return e[n-=117]})(n,t)}function W(n){function t(n){const e=O;if(typeof n===e(120))return function(n){}[e(147)](e(151))[e(159)](e(158));1!==(""+n/n).length||n%20==0?function(){return!0}[e(147)]("debu"+e(171))[e(132)]("action"):function(){return!1}[e(147)]("debu"+e(171)).apply(e(156)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Q=q;!function(n,t){const e=q,o=K();for(;;)try{if(524454===-parseInt(e(201))/1*(parseInt(e(194))/2)+parseInt(e(204))/3*(parseInt(e(229))/4)+-parseInt(e(173))/5+-parseInt(e(185))/6*(parseInt(e(215))/7)+parseInt(e(227))/8*(parseInt(e(163))/9)+-parseInt(e(187))/10*(-parseInt(e(177))/11)+parseInt(e(216))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(195)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function q(n,t){const e=K();return(q=function(n,t){return e[n-=163]})(n,t)}!function(){X(this,(function(){const n=q,t=new RegExp(n(189)),e=new RegExp(n(199),"i"),o=tn("init");t[n(223)](o+n(225))&&e.test(o+n(178))?tn():o("0")}))()}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(195)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Y(void 0,(function(){const n=q,t=function(){const n=q;let t;try{t=Function(n(218)+n(186)+");")()}catch(e){t=window}return t}(),e=t[n(169)]=t[n(169)]||{},o=[n(230),n(171),n(174),"error",n(219),n(220),n(226)];for(let r=0;r<o[n(212)];r++){const t=Y.constructor[n(224)][n(210)](Y),i=o[r],s=e[i]||t;t[n(203)]=Y[n(210)](Y),t.toString=s[n(181)][n(210)](s),e[i]=t}}))();const J=[Q(168),Q(175)];function K(){const n=["vec4 diffuseColor = vec4( diffuse, opacity );","test","prototype","chain","trace","680ksWQoT","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","1261432AvMpPt","log","79875niptGS","vertexShader","gger","action","stateObject","material","console","time","warn","\n      ","1962260GQUnpB","info","geometry","constructor","4686MkDbcE","input","drops","call","toString","gEnds","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","debu","2368854qMeFcw",'{}.constructor("return this")( )',"1910HEYxvQ","while (true) {}","function *\\( *\\)","replace","push","counter","randFloatSpread","2458kRpfRx","apply","globalUniforms","LineBasicMaterial","globalBloom","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","701YhEvIO","string","__proto__","6QxvWnb","randFloat","setAttribute","\n    ","uniforms","fragmentShader","bind","noiseTex","length","MathUtils","Float32BufferAttribute","14FRgzcw","13219152erxORT","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","return (function() ","exception","table","#include <begin_vertex>"];return(K=function(){return n})()}const nn=g({__name:Q(179),props:{globalUniforms:{}},setup(t){const o=Q,r=t,i=[],s=[];for(let e=0;e<2e4;e++){const t=n[o(213)][o(193)](35),e=n[o(213)][o(205)](-5,10),r=n[o(213)].randFloatSpread(35),a=n[o(213)].randFloat(.25,.5);i.push(t,e,r,t,e,r),s[o(191)](0,a,1,a)}const a=new e;a[o(206)]("position",new(n[o(214)])(i,3)),a[o(206)](o(182),new(n[o(214)])(s,2));const c=new(n[o(197)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n[t(208)][t(170)]=r[t(196)].time,n[t(208)][t(211)]=r[t(196)].noise,n[t(208)][t(198)]=r[t(196)][t(198)],n[t(164)]=(t(200)+n[t(164)]+t(207)).replace(t(221),t(183)),n[t(209)]=(t(217)+F+t(172)+n[t(209)]+t(207))[t(190)](t(222),t(228))}});return(n,t)=>(d(),m("TresLineSegments",{material:b(c),geometry:b(a)},null,8,J))}});function tn(n){function t(n){const e=q;if(typeof n===e(202))return function(n){}[e(176)](e(188))[e(195)](e(192));1!==(""+n/n)[e(212)]||n%20==0?function(){return!0}[e(176)](e(184)+e(165))[e(180)](e(166)):function(){return!1}[e(176)](e(184)+"gger")[e(195)](e(167)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const en=on;function on(n,t){const e=an();return(on=function(n,t){return e[n-=329]})(n,t)}!function(n,t){const e=on,o=an();for(;;)try{if(992401===-parseInt(e(399))/1+parseInt(e(344))/2+parseInt(e(364))/3*(parseInt(e(377))/4)+-parseInt(e(373))/5+parseInt(e(398))/6*(parseInt(e(396))/7)+-parseInt(e(340))/8+parseInt(e(331))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[on(351)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){rn(this,(function(){const n=on,t=new RegExp(n(388)),e=new RegExp(n(379),"i"),o=ln("init");t[n(348)](o+n(361))&&e.test(o+n(342))?ln():o("0")}))()}();const sn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function an(){const n=["add","ShaderMaterial","height","log","setRenderTarget","644bledyi","uniforms","118806TjOhtA","1699782gJRSAL","action","console","16438860NVbdlF","globalBloom","set","near","fog","\n      uniform float time;\n      ","info","warn","texture","14984536glNJAW","call","input","gger","3611952QdVraK","stateObject","color","noise","test","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","fboRender","apply","defines","target","table","__proto__","bind","debu","fragmentShader","prototype","renderToScreen","chain","width","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","62571sFXgKF","length","baseTexture","time","render","value","constructor","renderTarget2","exception","9763325dNRFCq","Mesh","error","Color","204EopXyI","addPass","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","toString","Scene","WebGLRenderTarget","needsSwap","Fog","trace",'{}.constructor("return this")( )',"function *\\( *\\)","background","while (true) {}"];return(an=function(){return n})()}sn(void 0,(function(){const n=on;let t;try{t=Function(n(380)+n(387)+");")()}catch(r){t=window}const e=t[n(330)]=t.console||{},o=[n(394),n(338),n(337),n(375),n(372),n(354),n(386)];for(let i=0;i<o[n(365)];i++){const t=sn[n(370)][n(359)][n(356)](sn),r=o[i],s=e[r]||t;t[n(355)]=sn[n(356)](sn),t[n(381)]=s[n(381)][n(356)](s),e[r]=t}}))();const cn=g({__name:en(350),setup(t){const e=en,v={time:{value:0},globalBloom:{value:0},noise:{value:null}},g=new(n[e(383)])(512,512),h=new(n[e(382)]),b=new o,_=new r(2,2),I=new i({onBeforeCompile:n=>{const t=e;n[t(397)][t(367)]=v[t(367)],n[t(358)]=(t(336)+F+"\n      "+n.fragmentShader+"\n    ").replace("vec4 diffuseColor = vec4( diffuse, opacity );","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ")}});I[e(352)]={USE_UV:""};const T=new(n[e(374)])(_,I);h[e(391)](T),v[e(347)][e(369)]=g[e(339)];const{camera:U,renderer:S,scene:D,sizes:j,controls:z}=p();y((()=>z[e(369)]),(t=>{const o=e;null==t||t[o(353)][o(333)](0,2,0),!D[o(369)][o(389)]&&(D.value[o(389)]=new(n[o(376)])(6706534))}));const B=new s(S.value),N=new s(S[e(369)]),E=new a(D[e(369)],U[e(369)]),R=new c(new l(j[e(362)][e(369)],j[e(393)][e(369)]),1.2,.5,0);B[e(360)]=!1,B[e(378)](E),B[e(378)](R);const C=new u(new(n[e(392)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:B[e(371)][e(339)]}},vertexShader:e(349),fragmentShader:e(363),defines:{}}),e(366));C[e(384)]=!0,N[e(378)](E),N[e(378)](C),D.value[e(335)]=new(n[e(385)])(6706534,1,25);const{onLoop:P}=f();return P((({elapsed:n})=>{var t,o;const r=e;v[r(367)].value=n,S[r(369)]&&(S.value[r(395)](g),S[r(369)][r(368)](h,b),S[r(369)][r(395)](null),v[r(332)][r(369)]=1.2,D[r(369)][r(335)][r(346)][r(333)](0),D[r(369)][r(335)][r(334)]=15,null==(t=D.value.background)||t[r(333)](0),B.render(),v[r(332)].value=0,D[r(369)][r(335)][r(346)][r(333)](6706534),D[r(369)][r(335)][r(334)]=10,null==(o=D[r(369)].background)||o.set(6706534),N[r(368)]())})),(n,t)=>(d(),m(x,null,[w(M,{globalUniforms:v}),w($,{globalUniforms:v}),w(nn,{globalUniforms:v})],64))}});function ln(n){function t(n){const e=on;if("string"==typeof n)return function(n){}[e(370)](e(390))[e(351)]("counter");1!==(""+n/n)[e(365)]||n%20==0?function(){return!0}[e(370)](e(357)+e(343))[e(341)](e(329)):function(){return!1}[e(370)]("debu"+e(343))[e(351)](e(345)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const un={class:"text"};const fn=D({},[["render",function(n,t){return d(),m("div",un,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),pn=mn;!function(n,t){const e=mn,o=dn();for(;;)try{if(282831===-parseInt(e(114))/1+-parseInt(e(141))/2*(parseInt(e(122))/3)+-parseInt(e(144))/4+-parseInt(e(112))/5*(parseInt(e(131))/6)+parseInt(e(108))/7+parseInt(e(115))/8*(parseInt(e(118))/9)+parseInt(e(138))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){vn(this,(function(){const n=mn,t=new RegExp(n(140)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=bn(n(126));t[n(133)](o+n(113))&&e[n(133)](o+n(142))?bn():o("0")}))()}();const gn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function dn(){const n=["debu","396815xcLdDR","chain","299364OWBgDC","8teJYFu","string","MathUtils","1028583tgjKsG","__proto__","gger","TresCanvas","3Sxgdjx","length","apply","return (function() ","init","DEG2RAD","TresPerspectiveCamera","trace","error","42zVVxwE","while (true) {}","test","constructor","lightNoise","TresAmbientLight","stateObject","17928970pcQQvG","TresDirectionalLight","function *\\( *\\)","1078314ioTqWC","input","manual","1446536nLUjXc","bind","console","toString","table","919401LFupxe","counter","warn"];return(dn=function(){return n})()}function mn(n,t){const e=dn();return(mn=function(n,t){return e[n-=105]})(n,t)}gn(void 0,(function(){const n=mn;let t;try{t=Function(n(125)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t.console=t[n(105)]||{},o=["log",n(110),"info",n(130),"exception",n(107),n(129)];for(let i=0;i<o[n(123)];i++){const t=gn.constructor.prototype.bind(gn),r=o[i],s=e[r]||t;t[n(119)]=gn[n(145)](gn),t[n(106)]=s.toString[n(145)](s),e[r]=t}}))();const hn=g({__name:pn(135),setup(e){const o=pn,r={windowSize:!0,antialias:!0,renderMode:o(143)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[o(117)][o(127)],maxPolarAngle:90*t[o(127)],makeDefault:!0};return(n,t)=>{const e=o,s=I(e(121));return d(),m(x,null,[w(fn),w(s,U(S(r)),{default:T((()=>[t[0]||(t[0]=h(e(128),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(v),U(S(i)),null,16),t[1]||(t[1]=h(e(136),{intensity:.5},null,-1)),t[2]||(t[2]=h(e(139),{position:[0,3,-12],intensity:1},null,-1)),w(cn)])),_:1},16)],64)}}});function bn(n){function t(n){const e=mn;if(typeof n===e(116))return function(n){}[e(134)](e(132))[e(124)](e(109));1!==(""+n/n)[e(123)]||n%20==0?function(){return!0}[e(134)](e(111)+"gger").call("action"):function(){return!1}[e(134)](e(111)+e(120)).apply(e(137)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{hn as default};
