import{e as n,m as t,o as e}from"./@tresjs.gjafZgVK1741594518249.js";import{_ as o,a as r,ar as i,B as s,ac as a,p as c,s as l,c6 as u,c4 as f,c5 as p,ci as v,c0 as m}from"./three.8y0_KTxz1741594518249.js";import{d,o as g,H as h,N as b,u as y,F as x,w,j as I,z as _,e as T,g as U,aj as S,ak as C}from"./@vue.NRI7TcgI1741594518249.js";import{_ as D}from"./@fesjs._tIE6C7-1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./vue-router.qtZNKV811741594518249.js";import"./lodash-es.pklfUAS51741594518249.js";import"./@qlin.yHhFDldE1741594518249.js";import"./pinia.3XPyh4eK1741594518249.js";import"./@floating-ui.BPbuo5Gx1741594518249.js";import"./@juggle.7yjBMqoW1741594518249.js";var z="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const F=k;!function(n,t){const e=k,o=E();for(;;)try{if(414032===-parseInt(e(507))/1*(parseInt(e(490))/2)+-parseInt(e(515))/3*(parseInt(e(513))/4)+parseInt(e(496))/5+-parseInt(e(498))/6+-parseInt(e(512))/7*(parseInt(e(488))/8)+-parseInt(e(511))/9*(parseInt(e(510))/10)+parseInt(e(538))/11*(parseInt(e(503))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(504)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){j(this,(function(){const n=k,t=new RegExp(n(473)),e=new RegExp(n(458),"i"),o=R(n(484));t[n(518)](o+n(457))&&e.test(o+n(491))?R():o("0")}))()}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(){const n=["test","console","material","vertexShader","info","SphereGeometry","prototype","Vector4","#include <begin_vertex>","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","MathUtils","log","geometry","counter","globalBloom","trace","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","error","fragmentShader","warn","11FNsSIM","instData","globalUniforms","TresPlaneGeometry","constructor","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","luces","InstancedBufferGeometry","sin","exception","gger","randFloat","InstancedBufferAttribute","cos","\n      uniform vec4 luces[","MeshBasicMaterial","randFloatSpread","length","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","function *\\( *\\)","action","rotateX","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ",'{}.constructor("return this")( )',"\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","return (function() ","table","push","MeshLambertMaterial","uniforms","init","lucesPlane","needsUpdate","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","8vydatQ","setAttribute","2072lDfnQl","input","#include <dithering_fragment>","\n    ","instanceCount","call","3180685euxdwv","stateObject","528162vCXomn","string","bind","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","setY","19021116aGPGJp","apply","noiseTex","__proto__","556dnLorH","TresMesh","attributes","526010eutVbq","81hWCkrr","2363473JseZlK","4UEryGF","debu","996321FvJvUP","copy","replace"];return(E=function(){return n})()}B(void 0,(function(){const n=k;let t;try{t=Function(n(479)+n(477)+");")()}catch(r){t=window}const e=t[n(519)]=t[n(519)]||{},o=[n(529),n(537),n(522),n(535),n(463),n(480),n(533)];for(let i=0;i<o[n(471)];i++){const t=B[n(456)][n(524)][n(500)](B),r=o[i],s=e[r]||t;t[n(506)]=B[n(500)](B),t.toString=s.toString[n(500)](s),e[r]=t}}))();const M=[F(530),"material"],N=[F(520)],A=[F(475)],P=100;function k(n,t){const e=E();return(k=function(n,t){return e[n-=453]})(n,t)}const H=d({__name:F(485),props:{globalUniforms:{}},setup(t){const e=F,s=t,a=[],c=[],l=new(o[e(523)])(1,36,18),u=(new(o[e(461)]))[e(516)](l);u[e(494)]=P;const f=[];for(let n=0;n<P;n++){let n=o[e(528)][e(470)](49),t=o[e(528)][e(470)](49),s=o[e(528)].randFloat(.0625,.125),l=o[e(528)][e(465)](1,3);f.push(n,t,s),c[e(481)](new(o[e(525)])(n,t,l,r[e(465)](1,2))),a.push(new i(n,t,s,l))}u[e(489)](e(453),new(o[e(466)])(new Float32Array(f),3));const p=new(o[e(469)])({color:16720418,onBeforeCompile:n=>{const t=e;n[t(483)].noiseTex=s[t(454)].noise,n[t(521)]=(t(478)+n[t(521)]+"\n    ")[t(517)](t(526),t(476))}}),v={luces:{value:a}},m=new(o[e(482)])({color:2363940,onBeforeCompile:n=>{const t=e;n.uniforms.luces=v[t(460)],n[t(483)][t(532)]=s[t(454)][t(532)],n[t(483)][t(505)]=s[t(454)].noise,n[t(521)]=(t(472)+n[t(521)]+t(493)).replace(t(526),t(459)),n[t(536)]=(t(468)+P+t(534)+n.fragmentShader+t(493))[t(517)]("#include <fog_fragment>",t(527)+P+t(487))[t(517)](t(492),t(501))}}),{onLoop:d}=n();return d((({elapsed:n})=>{const t=e;for(let e=0;e<P;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(462)](n*o.w*(e%3+1))*Math[t(467)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(509)][t(453)][t(502)](e,r)}u[t(509)][t(453)][t(486)]=!0})),(n,t)=>{const o=e;return g(),h(x,null,[b(o(508),{geometry:y(u),material:y(p)},null,8,M),b(o(508),{material:y(m)},[b(o(455),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,A)],8,N)],64)}}});function R(n){function t(n){const e=k;if(typeof n===e(499))return function(n){}[e(456)]("while (true) {}")[e(504)](e(531));1!==(""+n/n)[e(471)]||n%20==0?function(){return!0}[e(456)](e(514)+e(464))[e(495)](e(474)):function(){return!1}[e(456)](e(514)+e(464))[e(504)](e(497)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=L;function L(n,t){const e=$();return(L=function(n,t){return e[n-=340]})(n,t)}!function(n,t){const e=L,o=$();for(;;)try{if(292306===-parseInt(e(347))/1*(parseInt(e(363))/2)+-parseInt(e(360))/3+parseInt(e(340))/4*(parseInt(e(390))/5)+-parseInt(e(380))/6*(parseInt(e(387))/7)+-parseInt(e(371))/8+-parseInt(e(385))/9*(parseInt(e(351))/10)+-parseInt(e(352))/11*(-parseInt(e(366))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=L,t=new RegExp(n(358)),e=new RegExp(n(344),"i"),o=Y(n(370));t[n(361)](o+n(345))&&e[n(361)](o+n(389))?Y():o("0")}))()}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();O(void 0,(function(){const n=L,t=function(){const n=L;let t;try{t=Function(n(367)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t.console||{},o=[n(368),"warn","info",n(388),"exception",n(346),n(379)];for(let r=0;r<o[n(384)];r++){const t=O[n(350)].prototype[n(341)](O),i=o[r],s=e[i]||t;t[n(354)]=O.bind(O),t[n(356)]=s[n(356)][n(341)](s),e[i]=t}}))();const V=[G(349)];function $(){const n=["table","1HfeSIu","replace","material","constructor","3143180ZCdmKs","517czdLkr","\n    ","__proto__","apply","toString","globalUniforms","function *\\( *\\)","TresMesh","392736Cjruvp","test","action","612714SlDAvE","time","gger","326220KyHHAL","return (function() ","log","defines","init","3719128KYIUbp","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","string","fragmentShader","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","MeshBasicMaterial","call","trace","2037642DHRxmO","counter","portal","globalBloom","length","9bmVpOO","debu","7HSKpon","error","input","215CoPLHF","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","53088rTECDt","bind","TresPlaneGeometry","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain"];return($=function(){return n})()}const K=d({__name:G(382),props:{globalUniforms:{}},setup(n){const t=G,e=n,r=new(o[t(377)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const o=t;n[o(343)][o(364)]=e.globalUniforms[o(364)],n[o(343)][o(383)]=e[o(357)][o(383)],n[o(375)]=(o(372)+z+o(373)+n.fragmentShader+o(353)).replace("vec4 diffuseColor = vec4( diffuse, opacity );",o(391))[o(348)]("#include <dithering_fragment>",o(376))}});return r[t(369)]={USE_UV:""},(n,e)=>{const o=t;return g(),h(o(359),{material:y(r),position:[0,3.75,-12]},e[0]||(e[0]=[b(o(342),{args:[5,5]},null,-1)]),8,V)}}});function Y(n){function t(n){const e=L;if(typeof n===e(374))return function(n){}[e(350)]("while (true) {}")[e(355)](e(381));1!==(""+n/n)[e(384)]||n%20==0?function(){return!0}[e(350)](e(386)+e(365))[e(378)](e(362)):function(){return!1}[e(350)](e(386)+e(365))[e(355)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const J=nn;!function(n,t){const e=nn,o=W();for(;;)try{if(871024===parseInt(e(286))/1*(parseInt(e(282))/2)+-parseInt(e(284))/3+-parseInt(e(279))/4*(-parseInt(e(290))/5)+-parseInt(e(297))/6*(parseInt(e(312))/7)+parseInt(e(272))/8*(-parseInt(e(314))/9)+parseInt(e(323))/10+parseInt(e(285))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[nn(320)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function W(){const n=["time","prototype","globalUniforms","__proto__","string","setAttribute","push","bind","call","noiseTex","log","23096rCpbnz","toString","return (function() ","MathUtils","gger","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","TresLineSegments","1441284tIkuJj","constructor","debu","186yFhaHv","gEnds","3205506wJpFUe","26156922nxwsVV","7662uWUiYE","\n    ","input","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","5hvOYuS","counter","while (true) {}","test","noise","position","randFloat","5154bELYzI","fragmentShader","uniforms","drops","#include <begin_vertex>","init","stateObject","console","function *\\( *\\)",'{}.constructor("return this")( )',"\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","error","globalBloom","Float32BufferAttribute","vertexShader","3423tCFlpi","warn","4131MHMCRI","randFloatSpread","info","table","material","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","chain","2339210ADYMBt"];return(W=function(){return n})()}!function(){Q(this,(function(){const n=nn,t=new RegExp(n(305)),e=new RegExp(n(319),"i"),o=en(n(302));t[n(293)](o+n(322))&&e[n(293)](o+n(288))?en():o("0")}))()}();const X=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[nn(320)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();X(void 0,(function(){const n=nn,t=function(){const n=nn;let t;try{t=Function(n(274)+n(306)+");")()}catch(e){t=window}return t}(),e=t[n(304)]=t[n(304)]||{},o=[n(334),n(313),n(316),n(308),"exception",n(317),"trace"];for(let r=0;r<o.length;r++){const t=X.constructor[n(325)][n(331)](X),i=o[r],s=e[i]||t;t[n(327)]=X.bind(X),t[n(273)]=s[n(273)][n(331)](s),e[i]=t}}))();const q=[J(318),"geometry"];function nn(n,t){const e=W();return(nn=function(n,t){return e[n-=272]})(n,t)}const tn=d({__name:J(300),props:{globalUniforms:{}},setup(n){const t=J,e=n,i=[],c=[];for(let s=0;s<2e4;s++){const n=r[t(315)](35),e=o[t(275)].randFloat(-5,10),s=r[t(315)](35),a=o[t(275)][t(296)](.25,.5);i[t(330)](n,e,s,n,e,s),c[t(330)](0,a,1,a)}const l=new s;l[t(329)](t(295),new(o[t(310)])(i,3)),l.setAttribute(t(283),new(o[t(310)])(c,2));const u=new a({color:8930440,transparent:!0,onBeforeCompile:n=>{const o=t;n[o(299)][o(324)]=e[o(326)][o(324)],n[o(299)][o(333)]=e.globalUniforms[o(294)],n[o(299)][o(309)]=e[o(326)][o(309)],n[o(311)]=(o(277)+n[o(311)]+o(287)).replace(o(301),o(289)),n[o(298)]=(o(307)+z+"\n      "+n[o(298)]+o(287)).replace("vec4 diffuseColor = vec4( diffuse, opacity );",o(321))}});return(n,e)=>{const o=t;return g(),h(o(278),{material:y(u),geometry:y(l)},null,8,q)}}});function en(n){function t(n){const e=nn;if(typeof n===e(328))return function(n){}[e(280)](e(292))[e(320)](e(291));1!==(""+n/n).length||n%20==0?function(){return!0}[e(280)](e(281)+e(276))[e(332)]("action"):function(){return!1}[e(280)]("debugger").apply(e(303)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=sn,o=an();for(;;)try{if(372672===-parseInt(e(438))/1*(-parseInt(e(454))/2)+-parseInt(e(441))/3+parseInt(e(421))/4+parseInt(e(417))/5*(parseInt(e(422))/6)+-parseInt(e(435))/7*(-parseInt(e(410))/8)+parseInt(e(425))/9*(parseInt(e(420))/10)+-parseInt(e(426))/11*(parseInt(e(433))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(458)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){on(this,(function(){const n=sn,t=new RegExp(n(408)),e=new RegExp(n(430),"i"),o=ln("init");t[n(449)](o+n(424))&&e[n(449)](o+n(404))?ln():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(n,t){const e=an();return(sn=function(n,t){return e[n-=404]})(n,t)}function an(){const n=["renderTarget2","bind","time","input","set","Vector2","\n      ","function *\\( *\\)","constructor","11624gRszFO","uniforms","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","width","texture","warn","toString","56085pHxIxK","near","debu","700fxffZS","2502268JEiXLf","324ZFPAjK","string","chain","34407HMlIaU","11JmHVSH","\n      uniform float time;\n      ","MeshBasicMaterial","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","ShaderMaterial","Color","14885520yeWCIH","Camera","2716gTOMQY","prototype","fragmentShader","35801OYCQbH",'{}.constructor("return this")( )',"height","1563387anTQYB","action","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","globalBloom","Mesh","background","call","length","test","render","fog","value","error","4bQetsf","WebGLRenderTarget","console","addPass","apply","setRenderTarget","color","needsSwap","gger","trace","renderToScreen","exception"];return(an=function(){return n})()}rn(void 0,(function(){const n=sn,t=function(){const n=sn;let t;try{t=Function("return (function() "+n(439)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(456)]||{},o=["log",n(415),"info",n(453),n(465),"table",n(463)];for(let r=0;r<o[n(448)];r++){const t=rn.constructor[n(436)][n(467)](rn),i=o[r],s=e[i]||t;t[n(429)]=rn[n(467)](rn),t[n(416)]=s[n(416)][n(467)](s),e[i]=t}}))();const cn=d({__name:"fboRender",setup(e){const r=sn,i={time:{value:0},globalBloom:{value:0},noise:{value:null}},s=new(o[r(455)])(512,512),a=new c,d=new(o[r(434)]),b=new l(2,2),y=new(o[r(428)])({onBeforeCompile:n=>{const t=r;n[t(411)].time=i[t(468)],n[t(437)]=(t(427)+z+t(407)+n[t(437)]+"\n    ").replace("vec4 diffuseColor = vec4( diffuse, opacity );",t(412))}});y.defines={USE_UV:""};const _=new(o[r(445)])(b,y);a.add(_),i.noise[r(452)]=s[r(414)];const{camera:T,renderer:U,scene:S,sizes:C,controls:D}=t();w((()=>D[r(452)]),(n=>{const t=r;null==n||n.target[t(405)](0,2,0),!S[t(452)][t(446)]&&(S[t(452)][t(446)]=new(o[t(432)])(6706534))}));const F=new u(U.value),j=new u(U.value),B=new f(S.value,T.value),E=new p(new(o[r(406)])(C[r(413)].value,C[r(440)][r(452)]),1.2,.5,0);F[r(464)]=!1,F[r(457)](B),F[r(457)](E);const M=new v(new(o[r(431)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:F[r(466)].texture}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:r(443),defines:{}}),"baseTexture");M[r(461)]=!0,j[r(457)](B),j[r(457)](M),S.value.fog=new m(6706534,1,25);const{onLoop:N}=n();return N((({elapsed:n})=>{var t,e;const o=r;i[o(468)][o(452)]=n,U.value&&(U[o(452)][o(459)](s),U[o(452)][o(450)](a,d),U[o(452)][o(459)](null),i[o(444)].value=1.2,S[o(452)][o(451)][o(460)].set(0),S[o(452)][o(451)].near=15,null==(t=S[o(452)][o(446)])||t[o(405)](0),F.render(),i[o(444)][o(452)]=0,S[o(452)][o(451)][o(460)][o(405)](6706534),S[o(452)].fog[o(418)]=10,null==(e=S[o(452)][o(446)])||e.set(6706534),j[o(450)]())})),(n,t)=>(g(),h(x,null,[I(H,{globalUniforms:i}),I(K,{globalUniforms:i}),I(tn,{globalUniforms:i})],64))}});function ln(n){function t(n){const e=sn;if(typeof n===e(423))return function(n){}[e(409)]("while (true) {}").apply("counter");1!==(""+n/n)[e(448)]||n%20==0?function(){return!0}[e(409)](e(419)+e(462))[e(447)](e(442)):function(){return!1}[e(409)](e(419)+e(462))[e(458)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const un={class:"text"};const fn=D({},[["render",function(n,t){return g(),h("div",un,t[0]||(t[0]=[b("span",{class:"retro noselect"},[b("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);!function(n,t){const e=dn,o=vn();for(;;)try{if(391080===parseInt(e(214))/1*(parseInt(e(253))/2)+-parseInt(e(223))/3+parseInt(e(248))/4+parseInt(e(242))/5*(-parseInt(e(224))/6)+-parseInt(e(238))/7+-parseInt(e(217))/8+parseInt(e(244))/9*(parseInt(e(216))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const pn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[dn(252)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function vn(){const n=["7596ziGGvo","constructor","call","info","chain","warn","return (function() ","action","TresAmbientLight","string","TresPerspectiveCamera",'{}.constructor("return this")( )',"init","toString","75299FhnBEh","manual","console","table","1205QioiLz","gger","68319zNUnhm","function *\\( *\\)","TresDirectionalLight","debu","1376892VfTxWF","bind","log","DEG2RAD","apply","8mnjnis","while (true) {}","counter","126110KBSigy","exception","1730Uhmqyw","5822928NkwRyK","test","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","stateObject","2181291VrxXrx"];return(vn=function(){return n})()}!function(){pn(this,(function(){const n=dn,t=new RegExp(n(245)),e=new RegExp(n(220),"i"),o=hn(n(236));t[n(218)](o+n(228))&&e[n(218)](o+"input")?hn():o("0")}))()}();const mn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[dn(252)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function dn(n,t){const e=vn();return(dn=function(n,t){return e[n-=212]})(n,t)}mn(void 0,(function(){const n=dn;let t;try{t=Function(n(230)+n(235)+");")()}catch(r){t=window}const e=t[n(240)]=t[n(240)]||{},o=[n(250),n(229),n(227),"error",n(215),n(241),n(219)];for(let i=0;i<o.length;i++){const t=mn[n(225)][n(221)].bind(mn),r=o[i],s=e[r]||t;t.__proto__=mn[n(249)](mn),t[n(237)]=s[n(237)][n(249)](s),e[r]=t}}))();const gn=d({__name:"lightNoise",setup(n){const t=dn,o={windowSize:!0,antialias:!0,renderMode:t(239)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*r[t(251)],maxPolarAngle:90*r[t(251)],makeDefault:!0};return(n,r)=>{const s=t,a=T("TresCanvas");return g(),h(x,null,[I(fn),I(a,S(C(o)),{default:U((()=>[r[0]||(r[0]=b(s(234),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),I(y(e),S(C(i)),null,16),r[1]||(r[1]=b(s(232),{intensity:.5},null,-1)),r[2]||(r[2]=b(s(246),{position:[0,3,-12],intensity:1},null,-1)),I(cn)])),_:1},16)],64)}}});function hn(n){function t(n){const e=dn;if(typeof n===e(233))return function(n){}[e(225)](e(212))[e(252)](e(213));1!==(""+n/n).length||n%20==0?function(){return!0}[e(225)](e(247)+e(243))[e(226)](e(231)):function(){return!1}.constructor("debu"+e(243))[e(252)](e(222)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{gn as default};
