import{U as n,p as t,Y as e,n as o,z as r}from"./@tresjs.pv1MNfNv1726800306729.js";import{_ as i,aL as s,z as a,a0 as c}from"./three.ZddO3ejJ1726800306729.js";import{P as l}from"./tweakpane.yHWGBmom1726800306729.js";import{L as u}from"./three-subdivide.QFEvgblE1726800306729.js";import{d as f,b as p,a3 as d,w as m,o as g,E as h,L as v,aj as y,ak as b,a4 as w,r as _,e as I,f as T,g as M,j as x,u as S,m as j,J as B}from"./@vue.bvMz0l_u1726800306729.js";import"./@vueuse.bZHkTEeA1726800306729.js";function z(){const n=["prototype","toString",'{}.constructor("return this")( )',"subdivision","clone","action","table","bind","5847730lwONWf","length","879535ViSrTe","2079765KJizTG","98XNNpte","TresMesh","scale","test","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","chain","info","1770172HBIZHA","Color","error","init","value","constructor","859212BidyEX","TSGref","geometry","material","srcMesh","shineShader","gger","__proto__","26240536hbHfrI","TresShaderMaterial","call","debu","position","glowColor","uniforms","counter","trace","string","color","27453KKDAHp","viewVector","apply","#ffff00","FrontSide","exception","side","while (true) {}","modify","attributes","console","blending","log"];return(z=function(){return n})()}const A=N;!function(n,t){const e=N,o=z();for(;;)try{if(881473===parseInt(e(171))/1*(-parseInt(e(136))/2)+-parseInt(e(135))/3+parseInt(e(146))/4+parseInt(e(134))/5+-parseInt(e(152))/6+-parseInt(e(192))/7+parseInt(e(160))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=N,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(142),"i"),o=F(n(149));t.test(o+n(144))&&e[n(139)](o+"input")?F():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();C(void 0,(function(){const n=N;let t;try{t=Function("return (function() "+n(186)+");")()}catch(r){t=window}const e=t[n(181)]=t[n(181)]||{},o=[n(183),"warn",n(145),n(148),n(176),n(190),n(168)];for(let i=0;i<o.length;i++){const t=C[n(151)][n(184)].bind(C),r=o[i],s=e[r]||t;t[n(159)]=C[n(191)](C),t[n(185)]=s[n(185)][n(191)](s),e[r]=t}}))();const E=["scale"];function N(n,t){const e=z();return(N=function(n,t){return e[n-=133]})(n,t)}const R=f({__name:A(157),props:{srcMesh:{},scale:{default:1.2},color:{default:A(174)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[A(175)]},blending:{default:s}},setup(e){const o=A,r=e,s=p(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(147)])(r[o(170)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(143),fragmentShader:o(140),side:r[o(177)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(182)]};d((()=>{const n=o;if(r.srcMesh&&s[n(150)]&&!s.value[n(154)][n(180)].position){let t=r[n(156)][n(154)][n(188)]();r[n(187)]&&(t=u.modify(t,2)),s.value.geometry=t,s[n(150)][n(164)].copy(r[n(156)][n(164)])}r.color&&(a[n(166)][n(165)].value=new(i[n(147)])(r[n(170)])),r.c&&(a[n(166)].c[n(150)]=r.c),r.p&&(a[n(166)].p[n(150)]=r.p)})),m((()=>r[o(187)]),(n=>{const t=o;let e=r[t(156)][t(154)][t(188)]();n&&(e=u[t(179)](e,2)),s.value.geometry=e})),m((()=>r[o(177)]),(n=>{const t=o;s[t(150)][t(155)][t(177)]=n})),m((()=>r[o(182)]),(n=>{const t=o;s[t(150)][t(155)][t(182)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=o;l[n(150)]&&s[n(150)]&&(a[n(166)][n(172)].value=(new(i[n(141)])).subVectors(l.value[n(164)],s.value[n(164)]))})),(n,t)=>{const e=o;return g(),h(e(137),{ref_key:e(153),ref:s,scale:r[e(138)]},[v(e(161),y(b(a)),null,16)],8,E)}}});function F(n){function t(n){const e=N;if(typeof n===e(169))return function(n){}[e(151)](e(178))[e(173)](e(167));1!==(""+n/n)[e(133)]||n%20==0?function(){return!0}[e(151)](e(163)+e(158))[e(162)](e(189)):function(){return!1}[e(151)]("debu"+e(158))[e(173)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const L=P;!function(n,t){const e=P,o=Z();for(;;)try{if(581714===-parseInt(e(453))/1*(parseInt(e(464))/2)+parseInt(e(466))/3*(parseInt(e(447))/4)+parseInt(e(455))/5*(parseInt(e(427))/6)+parseInt(e(440))/7+parseInt(e(474))/8*(parseInt(e(441))/9)+parseInt(e(486))/10*(-parseInt(e(470))/11)+parseInt(e(458))/12*(parseInt(e(467))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){V(this,(function(){const n=P,t=new RegExp(n(483)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W(n(463));t[n(437)](o+n(444))&&e[n(437)](o+n(479))?W():o("0")}))()}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Z(){const n=["1064089KquAqN","trace","TreBoxRef","440462dfoUSy","color","constructor","table","9664mCfKoJ","AdditiveBlending","console","TresMeshRefA","instance","input","srcMesh","debu","#00dfff","function *\\( *\\)","return (function() ","#0ff","110AEvmjT","TresMeshBasicMaterial","exception","blending","NormalBlending","prototype","side","593244fqhEYS","TresMesh","bind","BackSide","logo.png","map","error","apply","string","#222","test","addBinding","info","4410399bLmlnH","2088qQqTov","__proto__","stateObject","chain","FrontSide","value","9796EzRiwu","counter","length","subdivision","shader","while (true) {}","1SvzRGZ","scale","15HFZuJL","warn","gger","60bDEroa","TresPerspectiveCamera","log","TresGridHelper","toString","init","1398662oLTinI","TresAmbientLight","129UKFOcm"];return(Z=function(){return n})()}H(void 0,(function(){const n=P;let t;try{t=Function(n(484)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(476)]=t[n(476)]||{},o=[n(460),n(456),n(439),n(433),n(488),n(473),n(468)];for(let i=0;i<o[n(449)];i++){const t=H[n(472)][n(425)].bind(H),r=o[i],s=e[r]||t;t[n(442)]=H[n(429)](H),t[n(462)]=s[n(462)][n(429)](s),e[r]=t}}))();const G=v(L(459),{position:[5,5,5]},null,-1),K=v(L(465),{intensity:1},null,-1),q=v(L(461),{args:[10,10]},null,-1),J=v("TresSphereGeometry",{args:[1,32,16]},null,-1),O=[L(432)],$=[L(432)],D=[v("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),v(L(487),{color:L(485)},null,-1)];function P(n,t){const e=Z();return(P=function(n,t){return e[n-=425]})(n,t)}const U=f({__name:L(451),async setup(n){const t=L;let u,f;const d={clearColor:t(436)},m=p(),h=p(),y=p(),b=([u,f]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(431)]))),u=await u,f(),u),z=_({scale:1.6,color:t(482),subdivision:!0,c:1.1,p:1.4,side:i[t(445)],blending:i[t(475)]}),A=new l({title:"参数",expanded:!0});return A[t(438)](z,t(471),{label:"颜色"}),A[t(438)](z,t(454),{label:"大小",min:1,max:3,step:.2}),A[t(438)](z,t(450),{label:"边缘处理"}),A[t(438)](z,"c",{label:"c",min:0,max:2,step:.1}),A[t(438)](z,"p",{label:"p",min:0,max:8,step:.2}),A[t(438)](z,t(426),{options:{FrontSide:a,BackSide:i[t(430)],DoubleSide:c}}),A[t(438)](z,t(489),{options:{AdditiveBlending:s,NormalBlending:i[t(490)]}}),(n,r)=>{const i=t,s=I("TresCanvas");return g(),T(s,j(d,{"window-size":""}),{default:M((()=>[G,K,x(S(e)),q,v(i(428),{ref_key:i(477),ref:m,position:[-2,1,0]},[J,v("TresMeshBasicMaterial",{map:S(b)[0]},null,8,O)],512),x(R,j({srcMesh:m.value},z),null,16,[i(480)]),x(S(o),{ref_key:i(469),ref:y,args:[1,1,1],position:[2,1,0]},{default:M((()=>[v(i(487),{map:S(b)[1]},null,8,$)])),_:1},512),y[i(446)]&&y[i(446)][i(478)]?(g(),T(R,j({key:0,srcMesh:y.value[i(478)]},z),null,16,[i(480)])):B("",!0),v(i(428),{ref_key:"TresMeshRefB",ref:h,position:[0,1,-2]},D,512),x(R,j({srcMesh:h[i(446)]},z),null,16,[i(480)])])),_:1},16)}}});function W(n){function t(n){const e=P;if(typeof n===e(435))return function(n){}[e(472)](e(452)).apply(e(448));1!==(""+n/n).length||n%20==0?function(){return!0}[e(472)](e(481)+"gger").call("action"):function(){return!1}[e(472)](e(481)+e(457))[e(434)](e(443)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
