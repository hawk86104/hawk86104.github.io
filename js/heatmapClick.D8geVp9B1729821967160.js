import{q as t,Y as n}from"./@tresjs.QjD7q5YC1729821967160.js";import{P as e}from"./tweakpane.yHWGBmom1729821967160.js";import{_ as o,a as r,ak as a,al as s}from"./three.x4oqFJNT1729821967160.js";import{_ as i}from"./heatmap.js-fix.v4cGkm311729821967160.js";import{d as c,a4 as u,a3 as l,o as p,E as f,u as d,r as h,e as m,f as g,g as v,j as b,al as y,aj as w,ak as x,m as I,L as _}from"./@vue.JNsx1iN61729821967160.js";import"./@vueuse.HMG_JnUD1729821967160.js";import"./@amap.Y4sQVtej1729821967160.js";const j=z;!function(t,n){const e=z,o=k();for(;;)try{if(787125===parseInt(e(382))/1+-parseInt(e(364))/2*(-parseInt(e(337))/3)+parseInt(e(398))/4+-parseInt(e(404))/5*(-parseInt(e(339))/6)+-parseInt(e(373))/7*(parseInt(e(336))/8)+-parseInt(e(341))/9*(-parseInt(e(353))/10)+-parseInt(e(368))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(338)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(t,n){const e=k();return(z=function(t,n){return e[t-=333]})(t,n)}!function(){C(this,(function(){const t=z,n=new RegExp(t(340)),e=new RegExp(t(372),"i"),o=U("init");n[t(383)](o+t(407))&&e.test(o+t(391))?U():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(338)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["createElement","14386515vBCuGI","trace","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","create","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1091321xKCwUu","__proto__","error","log","push","string","set","_renderer","stateObject","566885ctNXcW","test","absolute","deleteAttribute","console","setDataMax","object","heatmapClickCom","exception","input","canvas","Texture","radius","primitive","computeBoundingBox","position","1422936GGpjKi","40px","prototype","geometry","heatmap-canvas","info","5cbzcrx","DoubleSide","layerX","chain","material","scale",'{}.constructor("return this")( )',"ShaderMaterial","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","32sclZkb","44511Mrbyxv","apply","369192EDlFpm","function *\\( *\\)","92043DjzgQN","warn","toString","addData","body","while (true) {}","needsUpdate","bind","call","appendChild","constructor","1px solid #5384ff","840FYwzhK","debu","count","table","gger","./draco/","getX","counter","style","length","setScalar","118xekKfr","onclick","mesh_0"];return(k=function(){return t})()}S(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function("return (function() "+t(333)+");")()}catch(e){n=window}return n}(),e=n[t(386)]=n[t(386)]||{},o=[t(376),t(342),t(403),t(375),t(390),t(356),t(369)];for(let r=0;r<o[t(362)];r++){const n=S[t(351)][t(400)][t(348)](S),a=o[r],s=e[a]||n;n[t(374)]=S.bind(S),n[t(343)]=s.toString.bind(s),e[a]=n}}))();const B=[j(388)],E=c({__name:j(389),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(370),{draco:!0,decoderPath:e(358)}))),a=await a,s(),a);h[e(366)][e(397)][e(379)](-5088.96,-3.08,39374.7),h[e(366)][e(409)][e(363)](.01);let m=null,g=null,v=null;g=new(o[e(393)])((()=>{const t=e;return v=document[t(367)](t(402)),v[t(361)].position=t(384),v[t(361)].top=t(399),v[t(361)].left="0",document[t(345)][t(350)](v),m=i[t(371)]({container:v,width:256,height:256,blur:"0.8",radius:c[t(394)]}),m[t(380)][t(392)][t(361)].border=t(352),m[t(380)][t(392)][t(365)]=function(n){const e=t;m[e(344)]({x:n[e(406)],y:n.layerY,value:1,radius:c[e(394)]}),m[e(387)](1),g&&(g[e(347)]=!0)},m})()[e(380)].canvas);const b={vertexShader:e(335),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(405)]},y=new(o[e(334)])(b);h[e(366)][e(408)]=y;return(t=>{const n=e;t[n(396)]();const{max:o,min:a}=t.boundingBox;t[n(385)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t.attributes[n(397)][n(355)];e++)c[n(377)]((t.attributes[n(397)][n(359)](e)-a.x)/s),c[n(377)]((t.attributes[n(397)].getZ(e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new r(u,2))})(h[e(366)][e(401)]),l((()=>{v.style.display=c.show2dCanvas?"block":"none"})),(t,n)=>{const o=e;return p(),f(o(395),{object:d(h)[o(366)]},null,8,B)}}});function U(t){function n(t){const e=z;if(typeof t===e(378))return function(t){}[e(351)](e(346))[e(338)](e(360));1!==(""+t/t)[e(362)]||t%20==0?function(){return!0}.constructor(e(354)+e(357))[e(349)]("action"):function(){return!1}[e(351)](e(354)+e(357))[e(338)](e(381)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const A=F;!function(t,n){const e=F,o=Z();for(;;)try{if(731174===-parseInt(e(132))/1*(-parseInt(e(166))/2)+-parseInt(e(161))/3+parseInt(e(160))/4*(parseInt(e(154))/5)+parseInt(e(146))/6+parseInt(e(135))/7*(parseInt(e(133))/8)+parseInt(e(148))/9+parseInt(e(137))/10*(-parseInt(e(131))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=F,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(151),"i"),o=L(t(144));n[t(153)](o+"chain")&&e[t(153)](o+"input")?L():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(164)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=F;let n;try{n=Function(t(171)+t(155)+");")()}catch(r){n=window}const e=n[t(159)]=n[t(159)]||{},o=["log",t(162),t(167),t(152),t(149),t(169),t(143)];for(let a=0;a<o[t(156)];a++){const n=M[t(138)][t(174)].bind(M),r=o[a],s=e[r]||n;n[t(175)]=M.bind(M),n[t(147)]=s[t(147)][t(136)](s),e[r]=n}}))();const R=_(A(145),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),T=_("TresDirectionalLight",{position:[5,10,7.5],color:A(158),intensity:5},null,-1),N=_("TresGridHelper",{args:[50,25]},null,-1);function F(t,n){const e=Z();return(F=function(t,n){return e[t-=131]})(t,n)}const G=c({__name:A(150),setup(t){const o=A,r={clearColor:o(165),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(141)](i,"show2dCanvas",{label:"显示二维图"}),c[o(141)](i,"radius",{label:o(140),min:.1,max:30,step:.1}),c[o(157)]({title:"点击左侧蓝色画框"}),(t,e)=>{const a=m(o(173));return p(),g(a,I(r,{"window-size":""}),{default:v((()=>[R,b(d(n),{autoRotate:!1,autoRotateSpeed:2}),T,N,(p(),g(y,null,{default:v((()=>[b(E,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=F;if("string"==typeof t)return function(t){}[e(138)](e(172))[e(164)](e(139));1!==(""+t/t).length||t%20==0?function(){return!0}[e(138)](e(168)+e(134))[e(163)](e(142)):function(){return!1}[e(138)]("debu"+e(134))[e(164)](e(170)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function Z(){const t=["call","apply","#030311","2gJTjQa","info","debu","table","stateObject","return (function() ","while (true) {}","TresCanvas","prototype","__proto__","22815353KWnDfz","446714GAqmzB","8NNLUNm","gger","3936632BBtCIX","bind","10LlVtEj","constructor","counter","圆圈的大小","addBinding","action","trace","init","TresPerspectiveCamera","5211492EoESgs","toString","8664525Rxqlpr","exception","heatmapClick","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","test","60880AugUyS",'{}.constructor("return this")( )',"length","addButton","#ffffff","console","380wRdSxB","3575460cUNGjN","warn"];return(Z=function(){return t})()}export{G as default};
