import{i as n}from"./ice-utils.S-Hbkolq1723189171640.js";import{m as t,_ as e}from"./gl-matrix.oVMHBNGj1723189171640.js";import{P as o}from"./tweakpane.yHWGBmom1723189171640.js";import{d as r,r as i,q as a,o as c,D as s,J as u,u as f}from"./@vue.Q1VpS3901723189171640.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}";function x(n,t){const e=d();return(x=function(n,t){return e[n-=379]})(n,t)}const _=x;function d(){const n=["8eBFsFK","debu","bindFramebuffer","useProgram","none","console","slider","getUniformLocation","618984SdWdiF","UNSIGNED_BYTE","trace","stateObject","blendFunc","SRC_ALPHA","clear","color","ELEMENT_ARRAY_BUFFER","prototype","43281yBLNwl","return (function() ","string","1052103ddqQTx","createBuffer","ONE_MINUS_SRC_ALPHA",'{}.constructor("return this")( )',"drawElements","610KicEAn","test","bind","height","7910FQvLHG","TRIANGLES","offset_left_bottom","clearColor","action","offset_left_top","hidden","warn","offset_right_bottom","width","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding","uProjection","STATIC_DRAW","error","FRAMEBUFFER","FLOAT","1849988QckTuK","TEXTURE_2D","chain","toString","canvas","innerHeight","scale","offset_right_top","TEXTURE_WRAP_T","RGBA","texParameteri","change","COLOR_BUFFER_BIT","apply","bindTexture","309906HwBbBc","uModel","texImage2D","CLAMP_TO_EDGE","NEAREST","gger","getContext","init","inline","log","BLEND","uniform1f","vertexAttribPointer","create","table","createTexture","#canvaswebgl","bindBuffer","while (true) {}","querySelector","TEXTURE_MIN_FILTER","ARRAY_BUFFER","constructor","bufferData","canvaswebgl","input","是否后处理","TEXTURE_WRAP_S","call","length","COLOR_ATTACHMENT0","417158ZPIBNK","212MnWmyH","TEXTURE_MAG_FILTER","webglPostProcessing","lookAt","mat4","ortho"];return(d=function(){return n})()}!function(n,t){const e=x,o=d();for(;;)try{if(282127===parseInt(e(437))/1+-parseInt(e(406))/2+-parseInt(e(465))/3+parseInt(e(438))/4*(-parseInt(e(474))/5)+-parseInt(e(452))/6+-parseInt(e(391))/7*(-parseInt(e(444))/8)+parseInt(e(462))/9*(parseInt(e(470))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){E(this,(function(){const n=x,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(384),"i"),o=T(n(413));t[n(471)](o+n(393))&&e[n(471)](o+n(431))?T():o("0")}))()}();const p=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[x(404)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();p(void 0,(function(){const n=x,t=function(){const n=x;let t;try{t=Function(n(463)+n(468)+");")()}catch(e){t=window}return t}(),e=t[n(449)]=t.console||{},o=[n(415),n(381),"info",n(388),"exception",n(420),n(454)];for(let r=0;r<o[n(435)];r++){const t=p.constructor[n(461)].bind(p),i=o[r],a=e[i]||t;t.__proto__=p[n(472)](p),t[n(394)]=a[n(394)][n(472)](a),e[i]=t}}))();const g={id:_(430)},A=["src"],R=r({__name:_(440),setup(r){const x=_;let d,E,p,R,T,b,F,y,v,B,P,h,w;const C=1,I=.71,M=.76,S=new o({title:"参数"}),U=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});S.addBlade({view:x(450),label:"颜色",min:0,max:1,value:.5}).on(x(402),(n=>{const t=x;G(),E[t(417)](h,n.value)}));let L=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);S[x(385)](U,"hidden",{label:x(432)}),S[x(385)](U,x(398),{picker:x(414),x:{min:0,max:1},y:{min:0,max:1}}).on("change",(n=>{const t=x;L[0]=U[t(398)].x,L[1]=U.offset_right_top.y,G()})),S[x(385)](U,x(382),{picker:x(414),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(402),(n=>{const t=x;L[5]=U[t(382)].x,L[6]=U[t(382)].y,G()})),S[x(385)](U,x(476),{picker:x(414),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(402),(n=>{const t=x;L[10]=U.offset_left_bottom.x,L[11]=U[t(476)].y,G()})),S[x(385)](U,x(379),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(402),(n=>{const t=x;L[15]=U[t(379)].x,L[16]=U[t(379)].y,G()})),a((()=>{D()}));const D=function(){const t=x;d=document[t(425)](t(422)),d.width=window.innerWidth,d[t(473)]=window[t(396)],E=d[t(412)]("webgl"),E&&(function(){const t=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);R=H(e,o),p=n(E,l,m),v=E[t(451)](p,t(386)),B=E[t(451)](p,"uView"),P=E[t(451)](p,t(407)),w=j(document.getElementById("logo-texture"))}(),G(),E.enable(E[t(416)]),E[t(456)](E[t(457)],E[t(467)]),N())};function N(){const n=x;E[n(446)](E.FRAMEBUFFER,F),E.clearColor(C,I,M,1),E[n(458)](E[n(403)]),function(){const n=x;E[n(447)](p),E[n(423)](E[n(427)],R);const o=t[n(419)]();e[n(442)][n(443)](o,0,d[n(383)],d[n(473)],0,.1,100),E.uniformMatrix4fv(v,!1,o);const r=t[n(419)]();e[n(442)][n(441)](r,[0,0,1],[0,0,0],[0,1,0]),E.uniformMatrix4fv(B,!1,r),k(w,600,600),k(w,400,400)}(),E[n(446)](E.FRAMEBUFFER,null),U[n(380)]&&(E.clear(E[n(403)]),E[n(477)](0,0,1,1),E[n(423)](E.ARRAY_BUFFER,T),E.useProgram(b),E[n(405)](E[n(392)],y)),E[n(469)](E.TRIANGLES,6,E[n(453)],0),requestAnimationFrame(N)}function k(n,t,o){const r=x;let i=e[r(442)].create();e[r(442)].translate(i,i,[t,o,0]),e[r(442)][r(397)](i,i,[250,250,0]),E.uniformMatrix4fv(P,!1,i),E[r(405)](E[r(392)],n),E[r(469)](E[r(475)],6,E[r(453)],0)}function G(){const t=x,e=new Uint8Array([0,1,2,0,2,3]);T=H(L,e),b=n(E,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),h=E[t(451)](b,"mixParam"),E[t(451)](b,t(459)),function(){const n=x;y=j(d),F=E.createFramebuffer(),E[n(446)](E[n(389)],F),E.framebufferTexture2D(E.FRAMEBUFFER,E[n(436)],E[n(392)],y,0),E.bindFramebuffer(E[n(389)],null)}()}function j(n){const t=x,e=E[t(421)]();return E[t(405)](E[t(392)],e),n instanceof HTMLImageElement?E[t(408)](E[t(392)],0,E[t(400)],E[t(400)],E[t(453)],n):E[t(408)](E.TEXTURE_2D,0,E.RGBA,n[t(383)],n[t(473)],0,E.RGBA,E[t(453)],null),E.texParameteri(E[t(392)],E[t(426)],E[t(410)]),E[t(401)](E[t(392)],E[t(439)],E[t(410)]),E[t(401)](E[t(392)],E[t(433)],E[t(409)]),E[t(401)](E[t(392)],E[t(399)],E[t(409)]),e}function H(n,t){const e=x,o=E[e(466)]();E[e(423)](E[e(427)],o),E.bufferData(E[e(427)],n,E.STATIC_DRAW);const r=3*Float32Array.BYTES_PER_ELEMENT+2*Float32Array.BYTES_PER_ELEMENT;E[e(418)](0,3,E[e(390)],!1,r,0),E.enableVertexAttribArray(0),E[e(418)](1,2,E[e(390)],!1,r,3*Float32Array.BYTES_PER_ELEMENT),E.enableVertexAttribArray(1);const i=E.createBuffer();return E[e(423)](E[e(460)],i),E[e(429)](E[e(460)],t,E[e(387)]),E.bindBuffer(E.ARRAY_BUFFER,null),o}return(n,t)=>{const e=x;return c(),s(e(395),g,[u("img",{id:"logo-texture",src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(448)}},null,8,A)])}}});function T(n){function t(n){const e=x;if(typeof n===e(464))return function(n){}[e(428)](e(424)).apply("counter");1!==(""+n/n)[e(435)]||n%20==0?function(){return!0}[e(428)](e(445)+"gger")[e(434)](e(478)):function(){return!1}.constructor(e(445)+e(411))[e(404)](e(455)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{R as default};
