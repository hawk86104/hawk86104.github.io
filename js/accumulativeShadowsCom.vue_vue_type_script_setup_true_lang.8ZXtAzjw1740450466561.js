import{_ as t}from"./three.HaMTRCf61740450466561.js";import{m as n}from"./@tresjs.9lmhsV6t1740450466561.js";import{d as e,P as o}from"./@pmndrs.OKEm8oAd1740450466561.js";import{d as a,b as r,w as s,a2 as i,o as c,H as u,N as l,aj as p,ak as f}from"./@vue.NRI7TcgI1740450466561.js";const d=w;function h(){const t=["function *\\( *\\)","color","texture","counter","frames","acos","69785YMoJXn","bottom","call","TresSoftShadowMaterial","update","597812usgaKJ","size","material","shadows plm update","blendWindow","action","log","info","trace","toString","camera","TresPlaneGeometry","constructor","cos","width","input","debu","children","return (function() ","bind",'{}.constructor("return this")( )',"Group","while (true) {}","shadow","mapSize","string","15984342IGsRQe","20356AZLZKA","sin","404xSMvFs","randFloatSpread","shadows render start","2008stOJcf","near","DirectionalLight","exception","left","value","add","finish","set","random","init","prepare","alphaTest","bias","top","MathUtils","test","radius","intensity","lightPosition","shadows render end","progressiveLightMap2","17140800ylgvkK","position","length","stateObject","ambient","opacity","gger","console","accumulativeShadowsCom","Vector3","rotate-x","42093yqsmRb","error","apply","#000000","2129332ZRkRIb","right","636lDNdBP","blend","remove","configure","warn","amount","__proto__","clear"];return(h=function(){return t})()}!function(t,n){const e=w,o=h();for(;;)try{if(932217===parseInt(e(502))/1+parseInt(e(481))/2+parseInt(e(477))/3*(parseInt(e(531))/4)+-parseInt(e(497))/5*(parseInt(e(483))/6)+parseInt(e(529))/7*(-parseInt(e(534))/8)+parseInt(e(528))/9+-parseInt(e(466))/10)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(479)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=w,n=new RegExp(t(491)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=y(t(544));n[t(460)](o+"chain")&&e[t(460)](o+t(517))?y():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function w(t,n){const e=h();return(w=function(t,n){return e[t-=460]})(t,n)}g(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(520)+t(522)+");")()}catch(e){n=window}return n}(),e=n[t(473)]=n.console||{},o=[t(508),t(487),t(509),t(478),t(537),"table",t(510)];for(let a=0;a<o[t(468)];a++){const n=g.constructor.prototype.bind(g),r=o[a],s=e[r]||n;n[t(489)]=g[t(521)](g),n[t(511)]=s[t(511)][t(521)](s),e[r]=n}}))();const b=[d(476)],M=a({__name:d(474),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:d(480)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(a){const h=d,m=a;let g=r();const{extend:w,scene:M,renderer:y,camera:I}=n();w({SoftShadowMaterial:e});const x={position:(new(t[h(475)])).set(m[h(463)].x,m.lightPosition.y,m[h(463)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},P=new o(y.value,M.value,x.mapSize),S={map:P[h(465)][h(493)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:m[h(484)],alphaTest:m[h(546)],opacity:m[h(471)],color:m[h(492)]},v=new(t[h(523)]);for(let n=0;n<x[h(488)];n++){const n=new(t[h(536)])(16777215,x[h(462)]/x.amount);n.castShadow=!0,n[h(525)][h(547)]=x.bias,n.shadow.camera[h(535)]=x[h(535)],n[h(525)][h(512)].far=x.far,n[h(525)][h(512)][h(482)]=x[h(503)]/2,n[h(525)][h(512)][h(538)]=-x[h(503)]/2,n.shadow[h(512)][h(548)]=x[h(503)]/2,n[h(525)][h(512)][h(498)]=-x[h(503)]/2,n[h(525)][h(526)][h(516)]=x[h(526)],n[h(525)][h(526)].height=x[h(526)],v[h(540)](n)}const z=()=>{const n=h,e=x[n(467)][n(468)]();for(let o=0;o<v[n(519)][n(468)];o++){const a=v[n(519)][o];if(Math[n(543)]()>m.ambient)a.position[n(542)](x.position.x+t[n(549)][n(532)](x.radius),x.position.y+t[n(549)][n(532)](x[n(461)]),x.position.z+t[n(549)][n(532)](x[n(461)]));else{let t=Math[n(496)](2*Math[n(543)]()-1)-Math.PI/2,o=2*Math.PI*Math[n(543)]();a.position[n(542)](Math[n(515)](t)*Math[n(515)](o)*e,Math.abs(Math[n(515)](t)*Math[n(530)](o)*e),Math[n(530)](t)*e)}}},_=(t=1)=>{const n=h;M[n(539)][n(540)](v),P[n(545)]();for(let e=0;e<t;e++)z(),P[n(501)](I[n(539)],m[n(506)]),console.log(n(505),e);M[n(539)][n(485)](v),P[n(541)]()};s((()=>g[h(539)]),(t=>{const n=h;t&&(P[n(486)](t),P[n(490)](),console[n(508)](n(533)),_(m[n(495)]),console.log(n(464)))}));const j=()=>{const t=h;P.clear(),_(m[t(495)])};return i((()=>{const t=h;g[t(539)]&&(m[t(471)]&&(g[t(539)][t(504)][t(471)]=m[t(471)]),m[t(546)]&&(g[t(539)][t(504)][t(546)]=m[t(546)]),m.color&&g[t(539)][t(504)][t(492)][t(542)](m[t(492)]),m[t(484)]&&(g[t(539)][t(504)][t(484)]=m[t(484)]))})),s((()=>m[h(463)]),(t=>{const n=h;t&&(console[n(508)](m.lightPosition),x[n(467)].set(t.x,t.y,t.z),j())}),{deep:!0}),s((()=>[m[h(495)],m.blendWindow,m[h(470)]]),(()=>{j()})),(t,n)=>{const e=h;return c(),u("TresMesh",{"receive-shadow":"",ref_key:"gPlane",ref:g,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=l(e(513),{args:[1,1]},null,-1)),l(e(500),p(f(S)),null,16)],8,b)}}});function y(t){function n(t){const e=w;if(typeof t===e(527))return function(t){}.constructor(e(524)).apply(e(494));1!==(""+t/t)[e(468)]||t%20==0?function(){return!0}[e(514)](e(518)+e(472))[e(499)](e(507)):function(){return!1}[e(514)](e(518)+"gger")[e(479)](e(469)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
