import"./@fesjs.ffiiLppw1731552996711.js";import{_ as t}from"./jszip.k9OTGFad1731552996711.js";import{F as n}from"./file-saver.c7caCxMO1731552996711.js";import{_ as e,aN as s}from"./three.KG0QRRig1731552996711.js";const o=p;!function(t,n){const e=p,s=u();for(;;)try{if(805279===-parseInt(e(384))/1*(-parseInt(e(431))/2)+parseInt(e(359))/3+parseInt(e(405))/4*(-parseInt(e(407))/5)+-parseInt(e(390))/6*(-parseInt(e(422))/7)+-parseInt(e(349))/8+-parseInt(e(348))/9*(-parseInt(e(393))/10)+-parseInt(e(440))/11)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[p(377)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){r(this,(function(){const t=p,n=new RegExp(t(395)),e=new RegExp(t(446),"i"),s=h(t(429));n[t(445)](s+t(411))&&e[t(445)](s+t(441))?h():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[p(377)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function i(t){const n=o,s=new(e[n(399)]);return new Promise(((e,o)=>{const r=n;s[r(360)](t,(t=>e(JSON[r(396)](t))),void 0,(t=>o(t)))}))}async function c(t){const n=new s;return new Promise(((e,s)=>{const r=p;n[r(365)](r(381)),n[r(360)](t,(n=>{const a=r,i=new FileReader;i[a(417)]=()=>{const n=a,s=function(t){const n=o,e=t[n(357)](".")[n(383)]().toLowerCase();return{jpg:n(389),jpeg:"image/jpeg",png:n(427),gif:n(387),bmp:n(436),webp:n(373)}[e]||n(425)}(t),r=i[n(412)].split(",")[1];e(n(402)+s+n(375)+r)},i[a(370)]=t=>{s(t)},i.readAsDataURL(n)}),void 0,(t=>s(t)))}))}function u(){const t=["image/gif","get","image/jpeg","1422uLfjvo","geometries","async","10gBDuJj","stringify","function *\\( *\\)","parse","files","push","FileLoader","while (true) {}","url:","data:","scene","JPEG","2404XLDwoX","readAsDataURL","7165SvkGEe","warn","__proto__","message","chain","result","length","WEBP","action","console","onloadend","loadAsync","folder","app.json","string","20027tVVUrJ","substring","data:image/GIF;base64,","application/octet-stream","url","image/png","info","init","data","8XLBFyj","data:image/","非标准文件：不存在 app.json","prototype","constructor","image/bmp","call","base64","data:image/png;base64,","10684894FtcOAS","input","debu","PNG","toUpperCase","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","10261773glUvFz","4784712CnSvOg","log","toString","data:image/webp;base64,","then","images","data:image/PNG;base64,","url:images/","split","bind","2532627swiDMK","load","catch","config.zip","gger","BufferGeometry","setResponseType",".json","type","Unknown","uuid","onerror","error","data:image/gif;base64,","image/webp","name",";base64,","data:image/JPEG;base64,","apply","Cache","startsWith","data:image/jpeg;base64,","blob","generateAsync","pop","143373HwxgrM","file","forEach"];return(u=function(){return t})()}function p(t,n){const e=u();return(p=function(t,n){return e[t-=348]})(t,n)}a(void 0,(function(){const t=p,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(416)]=n[t(416)]||{},s=[t(350),t(408),t(428),t(371),"exception","table","trace"];for(let o=0;o<s.length;o++){const n=a[t(435)][t(434)][t(358)](a),r=s[o],i=e[r]||n;n[t(409)]=a[t(358)](a),n[t(351)]=i[t(351)][t(358)](i),e[r]=n}}))(),e[o(378)].enabled=!0;const l=n=>{const s=o,r=new(e[s(399)]);return r[s(365)](s(381)),new Promise(((e,s)=>{r.load(n,(async n=>{const s=p;e(await t[s(418)](n))}),void 0,(t=>s(t)))}))},f=t=>{const n=o,e=t[n(423)](0,15),s=n(380),r=n(376),a=n(439),i=n(355),c=n(372),u=n(424),p=n(352);return s.startsWith(e)||r[n(379)](e)?n(404):a[n(379)](e)||i.startsWith(e)?n(443):c.startsWith(e)||u[n(379)](e)?"GIF":p[n(379)](e||"data:image/WEBP;base64,"[n(379)](e))?n(414):n(368)},g=e=>{const s=o,r=[];e[s(403)][s(391)]&&e[s(403)][s(391)].forEach((t=>{const n=s;t.type===n(364)&&(r.push({uuid:t[n(369)],data:t[n(430)]}),t[n(430)]="url:geometries/"+t[n(369)]+n(366))}));const a=[];e[s(403)][s(354)]&&e[s(403)][s(354)][s(386)]((t=>{const n=s;t[n(426)]&&(a[n(398)]({uuid:t.uuid,url:t[n(426)]}),t[n(426)].type?t.url=n(356)+t[n(369)]+"."+t[n(426)].type+n(366):t[n(426)]="url:images/"+t[n(369)]+"."+f(t.url))}));const i=new t;if(r.length){const t=i[s(419)](s(391));r[s(386)]((n=>{const e=s;t[e(385)](n[e(369)]+e(366),JSON.stringify(n[e(430)]))}))}if(a[s(413)]){const t=i.folder(s(354));a[s(386)]((n=>{const e=s;n[e(426)][e(367)]?t[e(385)](n.uuid+"."+n[e(426)][e(367)]+e(366),JSON.stringify(n[e(426)])):t[e(385)](n[e(369)]+"."+f(n[e(426)]),n.url[e(357)](";base64,")[e(383)](),{base64:!0})}))}const c=JSON[s(394)](e);return i.file(s(420),c),i[s(382)]({type:s(381)})[s(353)]((t=>{const e=s;n.saveAs(t,e(362))}))},d=(t,n,e)=>{const s=o;t[s(391)]<=0&&t[s(354)]<=0&&e(n)},m=(n,e)=>{let s=null;return t.loadAsync(n).then((t=>{const n=p;t[n(397)]["app.json"]?t[n(397)]["app.json"][n(392)](n(421))[n(353)]((r=>{var a,i;const c=n;s=JSON[c(396)](r);const u=(t=>{var n,e;const s=o,r={geometries:0,images:0};return null==(n=t[s(403)][s(391)])||n[s(386)]((t=>{const n=s;t[n(430)][n(379)]("url:")&&r[n(391)]++})),null==(e=t[s(403)][s(354)])||e.forEach((t=>{const n=s;t[n(426)][n(379)]("url:")&&r[n(354)]++})),r})(s);d(u,s,e),null==(a=s[c(403)][c(391)])||a[c(386)]((n=>{const o=c;n[o(430)][o(379)]("url:")&&t[o(397)][n.data.slice(4)][o(392)](o(421))[o(353)]((t=>{const r=o;n[r(430)]=JSON[r(396)](t),u.geometries--,d(u,s,e)}))})),null==(i=s[c(403)].images)||i[c(386)]((n=>{const o=c;if(n[o(426)].startsWith(o(401))){const r=n[o(426)].slice(4);r.endsWith(".json")?t[o(397)][r][o(392)](o(421))[o(353)]((t=>{const r=o;n[r(426)]=JSON[r(396)](t),u[r(354)]--,d(u,s,e)})):t[o(397)][r].async(o(438))[o(353)]((t=>{const a=o,i=r[a(357)]("."),c=i[i[a(413)]-1][a(444)]();n[a(426)]=a(432)+c+";base64,"+t,u[a(354)]--,d(u,s,e)}))}}))})):console.error(n(433))}),(t=>{const e=p;console[e(371)](n[e(374)]+": "+t[e(410)])})),s};function h(t){function n(t){const e=p;if(typeof t===e(421))return function(t){}[e(435)](e(400)).apply("counter");1!==(""+t/t)[e(413)]||t%20==0?function(){return!0}[e(435)]("debu"+e(363))[e(437)](e(415)):function(){return!1}[e(435)](e(442)+e(363))[e(377)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{l as a,c as b,g as e,f as g,m as i,i as l};
