import{m as e,e as s,a as r}from"./@tresjs.gP2mTlVu1747710066834.js";import{T as t}from"./3d-tiles-renderer.CaZqp5je1747710066834.js";import{d as a,a2 as o,G as n,o as i,I as l,u,r as p,v as c,h as m,e as d,f as g,j as v,ak as h,al as f,m as j}from"./@vue.C_fjx3FT1747710066834.js";import{g as T,S as w}from"./three.xEBIAocQ1747710066834.js";import"./postprocessing.qgYkPc7-1747710066834.js";import"./@vueuse.C9JT-tFY1747710066834.js";const S=["object"],y=a({__name:"tilesMesh",setup(r){const a=new t("https://opensource.cdn.icegl.cn/3Dtiles/simpleGIS/data/tileset.json");a.errorTarget=0;a.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{e.isMesh&&(e.material.side=2,e.receiveShadow=!1,e.castShadow=!1)}));const s=new T,r=new w;a.getBoundingBox(s)?(s.getCenter(a.group.position),a.group.position.multiplyScalar(-1)):a.getBoundingSphere(r)&&(a.group.position.copy(r.center),a.group.position.multiplyScalar(-1))}));const{camera:p,renderer:c,sizes:m}=e();o((()=>{m.width.value&&(a.setCamera(p.value),a.setResolutionFromRenderer(p.value,c.value))}));const{onBeforeLoop:d}=s();return d((()=>{p.value&&m.width.value&&(p.value.updateMatrixWorld(),a.update())})),(e,s)=>(i(),n("TresGroup",null,[l("primitive",{object:u(a).group},null,8,S)]))}}),L=a({__name:"renderer3DTiles",setup(e){const t=p({clearColor:"#201919"}),a=p({enableDamping:!0,dampingFactor:.05}),{onLoop:n}=s();n((()=>{}));const T=c();return o((()=>{T.value&&T.value.position.set(1,2,3).multiplyScalar(40)})),(e,s)=>{const o=m("TresCanvas");return i(),d(o,j(t,{"window-size":""}),{default:g((()=>[s[0]||(s[0]=l("TresPerspectiveCamera",{position:[400,400,400],fov:60,near:.1,far:4e3},null,-1)),v(u(r),h(f(a)),null,16),s[1]||(s[1]=l("TresAmbientLight",{intensity:.5},null,-1)),l("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:T,position:[1,2,3],intensity:1.25},null,512),v(y),s[2]||(s[2]=l("TresAxesHelper",{args:[100]},null,-1))])),_:1},16)}}});export{L as default};
