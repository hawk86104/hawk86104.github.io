import{a as n,r as t,d as e,S as r,N as o}from"./@tresjs.W42D3qe_1718612273914.js";import{a5 as i,x as s,ca as a}from"./three.HHcT7YAr1718612273914.js";import{P as c}from"./tweakpane.qqn77PB81718612273914.js";import{L as u}from"./three-subdivide.zFW_SvIY1718612273914.js";import{d as l,b as f,a2 as p,w as d,o as g,D as m,J as h,aj as v,ak as y,a3 as b,r as w,e as I,f as _,g as x,j as S,u as T,m as M}from"./@vue.CpOXM7bB1718612273914.js";import"./@vueuse.YjRg4c7n1718612273914.js";const j=A;function k(){const n=["position","10ylUXNZ","1292754UhoVvY","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","clone","subVectors","5ILdcap","side","warn","uniforms","function *\\( *\\)","#ffff00","FrontSide","modify","36630IwiLOV","blending","action","viewVector","geometry","Color","7kRBpFb","trace","__proto__","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","scale","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","8122527AdNNJC","TresShaderMaterial","subdivision","885953TZNysq","debu","383541PXayNK","TresMesh","gger",'{}.constructor("return this")( )',"glowColor","TSGref","test","stateObject","constructor","info","10104HoWkLi","error","return (function() ","color","while (true) {}","init","material","1095824kLSiAg","value","toString","log","bind","apply","srcMesh","console","AdditiveBlending","copy","length","call","8EnqanA","8540580DESgxS"];return(k=function(){return n})()}!function(n,t){const e=A,r=k();for(;;)try{if(804602===parseInt(e(341))/1+parseInt(e(375))/2*(-parseInt(e(343))/3)+-parseInt(e(360))/4*(parseInt(e(380))/5)+parseInt(e(376))/6*(-parseInt(e(330))/7)+-parseInt(e(372))/8*(parseInt(e(338))/9)+-parseInt(e(373))/10+-parseInt(e(388))/11*(-parseInt(e(353))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(n,t){const e=k();return(A=function(n,t){return e[n-=330]})(n,t)}!function(){B(this,(function(){const n=A,t=new RegExp(n(384)),e=new RegExp(n(334),"i"),r=z(n(358));t[n(349)](r+n(333))&&e[n(349)](r+"input")?z():r("0")}))()}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();N(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(355)+n(346)+");")()}catch(e){t=window}return t}(),e=t[n(367)]=t[n(367)]||{},r=[n(363),n(382),n(352),n(354),"exception","table",n(331)];for(let o=0;o<r[n(370)];o++){const t=N[n(351)].prototype[n(364)](N),i=r[o],s=e[i]||t;t[n(332)]=N[n(364)](N),t[n(362)]=s[n(362)].bind(s),e[i]=t}}))();const C=[j(336)],R=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:j(385)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(386)]},blending:{default:i[j(368)]}},setup(e){const r=j,o=e,s=f(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(393)])(o[r(356)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(377),fragmentShader:r(337),side:o[r(381)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};p((()=>{const n=r;if(o[n(366)]&&!s[n(361)][n(392)].attributes[n(374)]){let t=o[n(366)][n(392)].clone();o[n(340)]&&(t=u[n(387)](t,2)),s.value[n(392)]=t,s[n(361)].position[n(369)](o[n(366)][n(374)])}o.color&&(a[n(383)][n(347)][n(361)]=new(i[n(393)])(o[n(356)])),o.c&&(a[n(383)].c[n(361)]=o.c),o.p&&(a[n(383)].p.value=o.p)})),d((()=>o[r(340)]),(n=>{const t=r;let e=o.srcMesh.geometry[t(378)]();n&&(e=u[t(387)](e,2)),s.value[t(392)]=e})),d((()=>o.side),(n=>{s.value.material.side=n})),d((()=>o[r(389)]),(n=>{const t=r;s[t(361)][t(359)][t(389)]=n}));const{onLoop:c}=t(),{camera:l}=n();return c((()=>{const n=r;l[n(361)]&&s[n(361)]&&(a[n(383)][n(391)][n(361)]=(new(i[n(335)]))[n(379)](l.value[n(374)],s[n(361)][n(374)]))})),(n,t)=>{const e=r;return g(),m(e(344),{ref_key:e(348),ref:s,scale:o[e(336)]},[h(e(339),v(y(a)),null,16)],8,C)}}});function z(n){function t(n){const e=A;if("string"==typeof n)return function(n){}[e(351)](e(357))[e(365)]("counter");1!==(""+n/n)[e(370)]||n%20==0?function(){return!0}[e(351)](e(342)+e(345))[e(371)](e(390)):function(){return!1}[e(351)](e(342)+e(345))[e(365)](e(350)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const E=L;!function(n,t){const e=L,r=D();for(;;)try{if(227829===parseInt(e(279))/1*(parseInt(e(309))/2)+parseInt(e(257))/3*(-parseInt(e(305))/4)+-parseInt(e(299))/5+parseInt(e(277))/6*(parseInt(e(306))/7)+-parseInt(e(288))/8*(-parseInt(e(252))/9)+-parseInt(e(278))/10*(parseInt(e(307))/11)+-parseInt(e(313))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function L(n,t){const e=D();return(L=function(n,t){return e[n-=252]})(n,t)}!function(){V(this,(function(){const n=L,t=new RegExp(n(297)),e=new RegExp(n(270),"i"),r=$("init");t[n(263)](r+n(280))&&e[n(263)](r+n(284))?$():r("0")}))()}();const F=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[L(301)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function D(){const n=["log","AdditiveBlending","__proto__","string","shader","constructor","function *\\( *\\)","TresMeshRefA","173770bcuSdj","call","apply","TresMesh","while (true) {}","bind","4GBLsEu","191989EknyAT","979HIROqo","TresMeshBasicMaterial","793532UdihDX","side","prototype","exception","3121968yKBKvy","gger","TresSphereGeometry","103779YainsO","toString","srcMesh","TresGridHelper","DoubleSide","570669jzTqTE","blending","debu","color","scale","#0ff","test","TreBoxRef","return (function() ","length","table","BackSide","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","stateObject","#222","counter","value","map","18YKWRrT","22950rqQpJU","1kkjQOp","chain","TresBoxGeometry","TresCanvas","FrontSide","input","action","addBinding",'{}.constructor("return this")( )',"304wJPDyU","console","trace"];return(D=function(){return n})()}F(void 0,(function(){const n=L;let t;try{t=Function(n(265)+n(287)+");")()}catch(o){t=window}const e=t[n(289)]=t[n(289)]||{},r=[n(291),n(271),"info",n(269),n(312),n(267),n(290)];for(let i=0;i<r[n(266)];i++){const t=F[n(296)][n(311)][n(304)](F),o=r[i],s=e[o]||t;t[n(293)]=F[n(304)](F),t[n(253)]=s[n(253)][n(304)](s),e[o]=t}}))();const O=h("TresPerspectiveCamera",{position:[5,5,5]},null,-1),Z=h("TresAmbientLight",{intensity:1},null,-1),q=h(E(255),{args:[10,10]},null,-1),G=h(E(315),{args:[1,32,16]},null,-1),P=[E(276)],U=[E(276)],J=[h(E(281),{args:[1,1,1,1,1]},null,-1),h(E(308),{color:E(262)},null,-1)],K=l({__name:E(295),async setup(n){const t=E;let u,l;const p={clearColor:t(273)},d=f(),m=f(),v=f(),y=([u,l]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),u=await u,l(),u),j=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(283)],blending:i[t(292)]}),k=new c({title:"参数",expanded:!0});return k[t(286)](j,t(260),{label:"颜色"}),k.addBinding(j,t(261),{label:"大小",min:1,max:3,step:.2}),k[t(286)](j,"subdivision",{label:"边缘处理"}),k[t(286)](j,"c",{label:"c",min:0,max:2,step:.1}),k[t(286)](j,"p",{label:"p",min:0,max:8,step:.2}),k[t(286)](j,t(310),{options:{FrontSide:s,BackSide:i[t(268)],DoubleSide:i[t(256)]}}),k[t(286)](j,t(258),{options:{AdditiveBlending:i[t(292)],NormalBlending:a}}),(n,o)=>{const i=t,s=I(i(282));return g(),_(s,M(p,{"window-size":""}),{default:x((()=>[O,Z,S(T(e)),q,h(i(302),{ref_key:i(298),ref:d,position:[-2,1,0]},[G,h(i(308),{map:T(y)[0]},null,8,P)],512),S(R,M({srcMesh:d.value},j),null,16,[i(254)]),S(T(r),{ref_key:i(264),ref:v,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h(i(308),{map:T(y)[1]},null,8,U)])),_:1},512),S(R,M({srcMesh:v.value&&v.value[i(275)]},j),null,16,[i(254)]),h(i(302),{ref_key:"TresMeshRefB",ref:m,position:[0,1,-2]},J,512),S(R,M({srcMesh:m[i(275)]},j),null,16,[i(254)])])),_:1},16)}}});function $(n){function t(n){const e=L;if(typeof n===e(294))return function(n){}[e(296)](e(303))[e(301)](e(274));1!==(""+n/n)[e(266)]||n%20==0?function(){return!0}[e(296)]("debu"+e(314))[e(300)](e(285)):function(){return!1}[e(296)](e(259)+"gger").apply(e(272)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{K as default};
