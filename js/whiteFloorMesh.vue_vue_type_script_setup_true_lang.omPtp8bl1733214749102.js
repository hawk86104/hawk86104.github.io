import{_ as t,bI as n,au as o,C as r,a0 as e}from"./three.aWgA1gea1733214749102.js";import{b as a}from"./@tresjs.lftldzUe1733214749102.js";import{d as s,b as c,a6 as u,w as i,o as f,D as l,J as p,aj as h,ak as d}from"./@vue.-THQH3GC1733214749102.js";!function(t,n){const o=x,r=m();for(;;)try{if(142584===parseInt(o(455))/1+-parseInt(o(427))/2+-parseInt(o(426))/3+-parseInt(o(442))/4+parseInt(o(458))/5+parseInt(o(430))/6+parseInt(o(449))/7)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(457)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(){const t=["\n\t ","toString","project_vertex","chain","length","__proto__","shadowmap_pars_vertex","395049RGeIPo","245012EkRmbL",'{}.constructor("return this")( )',"\n       varying vec2 vUv;\n\t\t\t \t","119748UhqQIZ","return (function() ","worldpos_vertex","table","\n          ","exception","beginnormal_vertex","gger","packing","\n      \t","log","call","970748CRqLmn","test","bind","action","error","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","1535002ABlmut","prototype","trace","shadowmask_pars_fragment","\n       void main() {\n\t\t\t\t\t","counter","130940AtCiWz","ShaderChunk","apply","1346380dqhOCH","input","shadowmap_pars_fragment","console","constructor","init","debu","bsdfs","stateObject","common","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","defaultnormal_vertex"];return(m=function(){return t})()}!function(){g(this,(function(){const t=x,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=b(t(412));n.test(r+t(422))&&o[t(443)](r+t(459))?b():r("0")}))()}();const v=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(457)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(431)+t(428)+");")()}catch(o){n=window}return n}(),o=n[t(461)]=n[t(461)]||{},r=[t(440),"warn","info",t(446),t(435),t(433),t(451)];for(let e=0;e<r[t(423)];e++){const n=v.constructor[t(450)][t(444)](v),a=r[e],s=o[a]||n;n[t(424)]=v[t(444)](v),n[t(420)]=s[t(420)][t(444)](s),o[a]=n}}))();const w=()=>{const o=x;return o(429)+t[o(456)].common+"\n      \t"+n.bsdfs+o(439)+t[o(456)][o(425)]+o(453)+t[o(456)][o(436)]+"\n          "+t[o(456)][o(418)]+"\n          "+t[o(456)].begin_vertex+o(434)+n[o(421)]+"\n          "+n[o(432)]+"\n          "+t[o(456)].shadowmap_vertex+o(448)},_=()=>{const o=x;return o(447)+t[o(456)][o(416)]+o(419)+n[o(438)]+o(419)+t[o(456)][o(414)]+o(419)+t[o(456)].lights_pars_begin+"\n\t "+t[o(456)][o(460)]+o(419)+n[o(452)]+o(417)};function x(t,n){const o=m();return(x=function(t,n){return o[t-=411]})(t,n)}function b(t){function n(t){const o=x;if("string"==typeof t)return function(t){}[o(411)]("while (true) {}")[o(457)](o(454));1!==(""+t/t)[o(423)]||t%20==0?function(){return!0}[o(411)]("debu"+o(437))[o(441)](o(445)):function(){return!1}[o(411)](o(413)+o(437))[o(457)](o(415)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function I(t,n){const o=U();return(I=function(t,n){return o[t-=238]})(t,n)}const y=I;!function(t,n){const o=I,r=U();for(;;)try{if(883534===parseInt(o(252))/1+-parseInt(o(249))/2+-parseInt(o(238))/3+-parseInt(o(258))/4+parseInt(o(291))/5*(-parseInt(o(286))/6)+-parseInt(o(272))/7*(parseInt(o(292))/8)+parseInt(o(271))/9*(parseInt(o(283))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(239)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=I,n=new RegExp(t(261)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=A(t(285));n[t(278)](r+t(242))&&o[t(278)](r+"input")?A():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(239)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=I;let n;try{n=Function("return (function() "+t(275)+");")()}catch(e){n=window}const o=n[t(260)]=n[t(260)]||{},r=["log",t(282),t(259),t(257),t(269),t(274),t(268)];for(let a=0;a<r[t(256)];a++){const n=S[t(255)].prototype[t(263)](S),e=r[a],s=o[e]||n;n[t(247)]=S.bind(S),n[t(277)]=s[t(277)][t(263)](s),o[e]=n}}))();const j=["rotation-x"],k=[y(240)],E=s({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:y(266)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const s=y;let g,m;const v=n,x=c(),{map:b}=([g,m]=u((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);b[s(245)]=b[s(243)]=t[s(290)];const I={uniforms:t[s(284)].merge([o[s(248)],{uTexture:{type:"t",value:b},uColor:{value:new r(v[s(287)])},uShadowColor:{value:new(t[s(267)])(v[s(265)])},fEdge:{type:"f",value:v[s(293)]}}]),side:e,vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>v[s(293)]),(t=>{const n=s;I[n(253)][n(270)][n(276)]=t})),i((()=>v[s(287)]),(n=>{const o=s;I[o(253)][o(251)][o(276)]=new(t[o(267)])(v.color)})),i((()=>v[s(265)]),(n=>{const o=s;I.uniforms[o(262)].value=new(t[o(267)])(v.shadowColor)})),(t,n)=>{const o=s;return f(),l(o(289),{ref_key:o(280),ref:x,"rotation-x":-Math.PI/2},[p(o(244),{args:v[o(246)]},null,8,k),p(o(241),h(d(I)),null,16)],8,j)}}});function U(){const t=["TresPlaneGeometry","wrapS","size","__proto__","lights","920090xBIlkK","debu","uColor","120231KPKqDt","uniforms","while (true) {}","constructor","length","error","5623964DKnwXn","info","console","function *\\( *\\)","uShadowColor","bind","stateObject","shadowColor","#990","Color","trace","exception","fEdge","4719312AeFoOY","7EnUHAt","string","table",'{}.constructor("return this")( )',"value","toString","test","call","tmRef","action","warn","120IoKKAz","UniformsUtils","init","6OVnqUf","color","gger","TresMesh","RepeatWrapping","3153445fIKydL","11872408msgYhn","edge","4645011fdVeyY","apply","args","TresShaderMaterial","chain","wrapT"];return(U=function(){return t})()}function A(t){function n(t){const o=I;if(typeof t===o(273))return function(t){}[o(255)](o(254))[o(239)]("counter");1!==(""+t/t)[o(256)]||t%20==0?function(){return!0}[o(255)](o(250)+o(288))[o(279)](o(281)):function(){return!1}.constructor(o(250)+o(288)).apply(o(264)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
