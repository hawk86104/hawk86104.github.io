import{m as e,k as o,a}from"./@tresjs.BL1sBIDK1758524188831.js";import{cq as r,M as s,a as t,C as i,l as n}from"./three.CC50Wz7a1758524188831.js";import{R as l}from"./ReflectorMaterial.DXFLN1WU1758524188831.js";import{R as m}from"./Reflector.hbefUijb1758524188831.js";import"./OimoPhysicsBuffer.CcBMdMc41758524188831.js";import{d as p,aa as c,G as f,o as u,u as d,h,e as M,f as g,I as j,j as w,a5 as x}from"./@vue.pEDXJ_3Z1758524188831.js";import"./postprocessing.DYlQqnRh1758524188831.js";import"./@vueuse.C-O_6is-1758524188831.js";import"./dither.glsl.tNAdkJUa1758524188831.js";import"./oimophysics.BBtHVm4j1758524188831.js";const y=["rotation-x","position","object"],T=p({__name:"sciFiModular",props:{position:{default:[0,-1,0]}},async setup(a){let p,h;const M=a,{scene:g}=e(),{nodes:j}=([p,h]=c((()=>o("https://opensource.cdn.icegl.cn/model/floor/modelDraco.glb",{draco:!0,decoderPath:"./draco/"}))),p=await p,h(),p),w=j.Cube016__0;console.log(w);const x=w.geometry,T=r([x.clone(),x.clone().applyMatrix4((new s).makeRotationZ(-Math.PI/2)),x.clone().applyMatrix4((new s).makeRotationZ(Math.PI/2)),x.clone().applyMatrix4((new s).makeRotationZ(-Math.PI))]),b=new m,v=new l({reflectivity:6,mirror:.1,mixStrength:3,color:new i("#fff"),map:w.material.map.clone(),normalMap:w.material.normalMap.clone(),normalScale:new t(1,1),fog:g.fog,dithering:!0});v.uniforms.tReflect=b.renderTargetUniform,v.uniforms.uMatrix=b.textureMatrixUniform;const R=new n(T,v);return R.add(b),R.onBeforeRender=(e,o,a)=>{R.visible=!1,b.update(e,o,a),R.visible=!0},(e,o)=>(u(),f("primitive",{"rotation-x":-Math.PI/2,position:M.position,object:d(R)},null,8,y))}}),b=p({__name:"showFloor",setup:e=>(e,o)=>{const r=h("TresCanvas");return u(),M(r,{clearColor:"#201919","window-size":""},{default:g((()=>[o[0]||(o[0]=j("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1)),w(d(a),{enableDamping:""}),o[1]||(o[1]=j("TresAmbientLight",{intensity:10},null,-1)),o[2]||(o[2]=j("TresMesh",{position:[3,2,0]},[j("TresBoxGeometry",{args:[2,2,2]}),j("TresMeshNormalMaterial",{wireframe:!0})],-1)),o[3]||(o[3]=j("TresMesh",{position:[0,1.2,0]},[j("TresBoxGeometry",{args:[1,1,1]}),j("TresMeshNormalMaterial")],-1)),(u(),M(x,null,{default:g((()=>[w(T,{position:[0,0,0]})])),_:1}))])),_:1})}});export{b as default};
