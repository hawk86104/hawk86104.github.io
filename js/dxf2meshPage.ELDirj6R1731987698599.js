import{k as t}from"./@tresjs.juy9qkLz1731987698599.js";import{cv as e,_ as n,V as s,bU as o,ak as r,am as i,aF as c,$ as a,s as u}from"./three.3RwiW87x1731987698599.js";import{P as p}from"./tweakpane.yHWGBmom1731987698599.js";import{a as l}from"./index.4a46bABZ1731987698599.js";import"./index.kVN4iam21731987698599.js";import{_ as f}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.eGGo0V5p1731987698599.js";import{d,r as g,X as m,s as h,q as _,e as v,o as y,D as j,j as w,g as x,J as b,u as I,m as k,f as B,al as F,I as M}from"./@vue.-THQH3GC1731987698599.js";import{_ as S}from"./@fesjs.6cRBmkVw1731987698599.js";import"./@vueuse.R8VPJfVr1731987698599.js";import"./three-stdlib.JdNLeali1731987698599.js";import"./@pmndrs.QyZXChNO1731987698599.js";import"./object-hash.mkbyWU6f1731987698599.js";import"./@amap.8HDR-twf1731987698599.js";import"./jszip.RFL6OsWf1731987698599.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.c8N2HnpW1731987698599.js";import"./all.three.rO0xEheM1731987698599.js";import"./oimophysics.x0jH7fze1731987698599.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.fiaWfWDd1731987698599.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.GW8R8l_51731987698599.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.blV05ICL1731987698599.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.FF9kqyAj1731987698599.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.shok15cG1731987698599.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.maxzQkqq1731987698599.js";import"./vue-router.0Hzo7MDu1731987698599.js";import"./lodash-es.kYt-_xTG1731987698599.js";import"./@qlin.yHhFDldE1731987698599.js";import"./pinia.qOeBz4jM1731987698599.js";import"./vue-demi.C4xddsk91731987698599.js";import"./@floating-ui.BPbuo5Gx1731987698599.js";import"./@juggle.7yjBMqoW1731987698599.js";function A(){const t=["13nMKgVj","position","error","material","call","boundingBox","2BqgocD","constructor","warn","BufferAttribute","388227gJoGQj","chain","console","while (true) {}","log","__proto__","paths","input","MeshBasicMaterial","attributes","min","length","rotation","LineSegments","receiveShadow","apply","renderOrder","6mgYngH","setXY","parse","bind","getCenter","EdgesGeometry","init","18050662HwaoSj","LineBasicMaterial","getX","geometry","1528652ZVszNF",'{}.constructor("return this")( )',"24JhZoFc","2817DeJavx","drawImportSpecialBoard","count","#AFAFAD","forEach","Vector2","106992qPEdba","test","toShapes","computeBoundingBox","prototype","1674965yXFLJe","Mesh","3KdTVFr","copy","MeshStandardMaterial","mBoundingBox","counter","exception","toString","gger","8EmFfHi","return (function() ","debu","getY","2155802AbjKdi","action","ExtrudeGeometry","16210Acvyat","Shape","function *\\( *\\)","name"];return(A=function(){return t})()}const T=C;!function(t,e){const n=C,s=A();for(;;)try{if(275629===-parseInt(n(181))/1*(parseInt(n(222))/2)+parseInt(n(229))/3*(parseInt(n(213))/4)+-parseInt(n(227))/5*(-parseInt(n(202))/6)+-parseInt(n(185))/7*(-parseInt(n(237))/8)+parseInt(n(216))/9*(parseInt(n(171))/10)+parseInt(n(241))/11*(parseInt(n(215))/12)+-parseInt(n(175))/13*(parseInt(n(209))/14))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const z=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[C(200)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();function C(t,e){const n=A();return(C=function(t,e){return n[t-=171]})(t,e)}!function(){z(this,(function(){const t=C,e=new RegExp(t(173)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=R(t(208));e.test(s+t(186))&&n[t(223)](s+t(192))?R():s("0")}))()}();const D=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,s}}();D(void 0,(function(){const t=C;let e;try{e=Function(t(238)+t(214)+");")()}catch(o){e=window}const n=e[t(187)]=e[t(187)]||{},s=[t(189),t(183),"info",t(177),t(234),"table","trace"];for(let r=0;r<s[t(196)];r++){const e=D[t(182)][t(226)][t(205)](D),o=s[r],i=n[o]||e;e[t(190)]=D[t(205)](D),e[t(235)]=i[t(235)][t(205)](i),n[o]=e}}))();class E{constructor(t){this[C(174)]=t}[T(217)](t,o,r){const i=T,c=(new e)[i(204)](o),a=new(n[i(172)]);c[i(191)][i(220)](((t,e)=>{const n=i;t[n(224)](!0)[n(220)](((t,s)=>{0===e&&0===s?a[n(230)](t):a.holes.push(t)}))}));const u=new(n[i(243)])(a,{depth:18,bevelEnabled:!1});u[i(225)]();const p=u[i(180)][i(206)](new s).negate();u.translate(p.x,p.y,p.z),u[i(225)]();const l=u.boundingBox.max,f=u[i(180)][i(195)],d=new(n[i(221)])(0-f.x,0-f.y),g=new(n[i(221)])(l.x-f.x,l.y-f.y);u[i(194)].uv=new(n[i(184)])(new Float32Array(2*u.attributes[i(176)][i(218)]),2);for(let e=0;e<u[i(194)].position[i(218)];e++){const t=u[i(194)][i(176)][i(211)](e),n=u[i(194)][i(176)][i(240)](e);u[i(194)].uv[i(203)](e,(t+d.x)/g.x,(n+d.y)/g.y)}const m=new(n[i(193)])({map:null}),h=new(n[i(228)])(u,m);h[i(178)]=new(n[i(231)])({map:null,color:i(219),roughness:1,metalness:.1,envMapIntensity:2.5}),h[i(199)]=!0,h.castShadow=!0,h.position.x=r,h[i(176)].y=250;const _=new(n[i(210)])({color:0}),v=new(n[i(207)])(h[i(212)],1),y=new(n[i(198)])(v,_);y[i(201)]=1,y[i(176)].copy(h.position),y[i(197)][i(230)](h[i(197)]),h.mBoundingBox=y,t.add(h,h[i(232)])}}function R(t){function e(t){const n=C;if("string"==typeof t)return function(t){}[n(182)](n(188)).apply(n(233));1!==(""+t/t)[n(196)]||t%20==0?function(){return!0}[n(182)](n(239)+"gger")[n(179)](n(242)):function(){return!1}.constructor(n(239)+n(236)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const G=P;!function(t,e){const n=P,s=L();for(;;)try{if(646759===-parseInt(n(404))/1*(-parseInt(n(398))/2)+-parseInt(n(424))/3*(parseInt(n(415))/4)+parseInt(n(350))/5+parseInt(n(356))/6*(-parseInt(n(432))/7)+-parseInt(n(409))/8+parseInt(n(353))/9+-parseInt(n(333))/10)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const V=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[P(357)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();!function(){V(this,(function(){const t=P,e=new RegExp(t(435)),n=new RegExp(t(374),"i"),s=J("init");e[t(381)](s+t(399))&&n[t(381)](s+"input")?J():s("0")}))()}();const X=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[P(357)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();function L(){const t=["gger","input","TresDirectionalLight","footBtn","file","debu","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","9609hpEBGL","pen1","加载脚本时出错","length","TresMeshBasicMaterial","error","trace","bind","21koZgAu","log","#82DBC5","function *\\( *\\)","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","TresMesh","#776A8F","drawImportSpecialBoard","add","boxMeshRef","8400910GsrizY","then","#627179","div","neg-y.jpg","#3a78a2","info","addFolder","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","createElement","return (function() ","assembly","init","TresBoxGeometry","querySelector","onload","value","3225105vljhbt","导入dxf","head","9629775ptwUBu","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","svg","851142rlaybC","apply","neg-z.jpg","prototype","svg-display","stateObject","script","action","下载测试文件2","http://www.w3.org/2000/svg","初始化","blue","call","console","main-svg","table","warn",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","outerHTML","text/javascript","open","remove","constructor","groupRef","test","TresGridHelper","localFileReader","#ffffff","counter","#svg-display svg","10000","TresGroup","button","下载测试文件1","string","fileInput","type","addButton","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","加载脚本 ","_blank","98BdXTsk","chain","src","exception","__proto__","click","23549xKAoec","while (true) {}","toString","pos-y.jpg","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","6293736lADrjI","TresPerspectiveCamera","TresAmbientLight","children","plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","dialogDiv","212UZEmmR","dialogVisible"];return(L=function(){return t})()}function P(t,e){const n=L();return(P=function(t,e){return n[t-=330]})(t,e)}X(void 0,(function(){const t=P;let e;try{e=Function(t(343)+t(373)+");")()}catch(o){e=window}const n=e[t(369)]=e[t(369)]||{},s=[t(433),t(372),t(339),"error",t(401),t(371),t(430)];for(let r=0;r<s[t(427)];r++){const e=X[t(379)][t(359)][t(431)](X),o=s[r],i=n[o]||e;e[t(402)]=X[t(431)](X),e.toString=i[t(406)][t(431)](i),n[o]=e}}))();const Z={key:0,class:G(414)},q={class:G(420)};function J(t){function e(t){const n=P;if(typeof t===n(391))return function(t){}[n(379)](n(405)).apply(n(385));1!==(""+t/t).length||t%20==0?function(){return!0}[n(379)](n(422)+n(417))[n(368)](n(363)):function(){return!1}.constructor("debu"+n(417))[n(357)](n(361)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=S(d({__name:"dxf2meshPage",setup(e){const n=G,s=g({dialogVisible:!1}),d={clearColor:n(434),shadows:!0,alpha:!1,shadowMapType:o,outputColorSpace:r,toneMapping:i},S=g({cellSize:60,cellThickness:1.1,cellColor:n(335),sectionColor:n(338),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let A=0;const T=m(),z=m(),C=new p;C[n(394)]({title:n(390)}).on("click",(()=>{window[n(377)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf","_blank")})),C[n(394)]({title:n(364)}).on(n(403),(()=>{const t=n;window[t(377)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(397))}));const D=C[n(340)]({title:"远近"});function R(){const t=n,e=z[t(349)];s[t(416)]=!1;const o=document[t(347)](t(386));if(o){const n=o[t(375)];let s=new E;A+=1200,s[t(330)](e,n,A)}}function V(t){return new Promise(((e,n)=>{const s=P,o=document[s(342)](s(362));o[s(400)]=t,o[s(393)]=s(376),o[s(348)]=()=>e(),o.onerror=()=>n(new Error(s(396)+t+" 时出错")),document[s(352)].appendChild(o)}))}return D[n(394)]({title:n(351)}).on("click",(()=>{const t=n;s[t(416)]=!0,h((()=>{const e=t;window[e(383)][e(345)]()}))})),D[n(394)]({title:n(366)}).on("click",(()=>{!function(){const t=n,e=new c(500,500,18),s=new a({color:t(367)}),o=new u(e,s),r=z[t(349)];for(;r[t(412)][t(427)]>0;){const e=r[t(412)][0];r[t(378)](e)}r[t(331)](o)}()})),_((()=>{!function(){const t=n;V(t(395))[t(334)]((()=>V(t(436))))[t(334)]((()=>V(t(354))))[t(334)]((()=>V(t(413)))).then((()=>V(t(423)))).then((()=>V(t(408)))).catch((e=>console[t(429)](t(426),e)))}()})),(e,o)=>{const r=n,i=v("TresCanvas");return y(),j(r(336),null,[w(i,k(d,{"window-size":""}),{default:x((()=>[o[2]||(o[2]=b(r(410),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),w(I(t),{"make-default":""}),o[3]||(o[3]=b(r(382),{position:[0,-1,0],size:"1000",divisions:r(387)},null,-1)),b(r(388),{ref_key:r(380),ref:z,position:[2,250,0]},[b(r(437),{ref_key:r(332),ref:T},o[1]||(o[1]=[b(r(346),{args:[500,500,18]},null,-1),b(r(428),{color:r(367)},null,-1)]),512)],512),o[4]||(o[4]=b(r(411),{color:r(384),intensity:1},null,-1)),o[5]||(o[5]=b(r(419),{color:r(384),position:[300,300,250],intensity:6},null,-1)),w(I(f),k({args:[3,3]},S,{position:[0,-.5,0]}),null,16),(y(),B(F,null,{default:x((()=>[w(I(l),{files:["pos-x.jpg","neg-x.jpg",r(407),r(337),"pos-z.jpg",r(358)],path:r(341)})])),_:1}))])),_:1},16),s[r(416)]?(y(),j("div",Z,[o[6]||(o[6]=b("div",{id:r(360),class:r(344),style:{}},[b(r(355),{id:r(370),xmlns:r(365),"xmlns:svg":r(365),"xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",version:"1.1",preserveAspectRatio:"xMidYMid meet"},[b("g",{id:"dxf2svg",class:r(425),"stroke-width":"6",fill:r(438),transform:"translate(50, 50)"})])],-1)),o[7]||(o[7]=b(r(336),{class:r(392)},[b(r(418),{id:"dxfFileInput",type:r(421)})],-1)),b(r(336),q,[b(r(389),{onClick:o[0]||(o[0]=t=>s.dialogVisible=!1)},"取消"),b(r(389),{onClick:R},"确定")])])):M("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{Y as default};
