import{a6 as t,bR as e,j as i,al as n,C as s,V as o,B as r,b as a}from"./three.6E5muTWJ1722409645193.js";const c=l;!function(t,e){const i=l,n=m();for(;;)try{if(534661===parseInt(i(634))/1+parseInt(i(311))/2*(parseInt(i(637))/3)+parseInt(i(472))/4*(-parseInt(i(293))/5)+-parseInt(i(331))/6*(parseInt(i(335))/7)+parseInt(i(638))/8+-parseInt(i(317))/9*(parseInt(i(310))/10)+-parseInt(i(248))/11*(parseInt(i(315))/12))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(666)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function l(t,e){const i=m();return(l=function(t,e){return i[t-=233]})(t,e)}!function(){h(this,(function(){const t=l,e=new RegExp(t(258)),i=new RegExp(t(254),"i"),n=d(t(377));e[t(492)](n+t(606))&&i.test(n+t(468))?d():n("0")}))()}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(666)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();u(void 0,(function(){const t=l;let e;try{e=Function(t(476)+t(362)+");")()}catch(s){e=window}const i=e[t(443)]=e[t(443)]||{},n=[t(503),t(394),"info",t(464),"exception",t(657),"trace"];for(let o=0;o<n[t(583)];o++){const e=u[t(570)][t(641)][t(528)](u),s=n[o],r=i[s]||e;e[t(346)]=u[t(528)](u),e.toString=r[t(554)][t(528)](r),i[s]=e}}))();const p={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===c(417)&&define.amd?define(c(510),p):"undefined"!=typeof exports&&typeof module!==c(656)&&(module[c(507)]=p),p[c(558)]=function(t,e,i,n){const s=c;this[s(373)]=i||1,this[s(523)]=e||1,this[s(385)]=t||Float32Array,this[s(352)]=new t(e*this[s(373)]),this[s(458)]=n||0},p[c(558)][c(570)]=p[c(558)],p[c(558)][c(641)][c(303)]=function(t,e){const i=c,n=this[i(352)][i(583)];return!e&&(t*=this[i(373)]),t<n?this[i(603)](t):t>n?this[i(249)](t):void console[i(593)](i(290),t+".",i(577))},p.TypedArrayHelper[c(641)].shrink=function(t){const e=c;return this[e(352)]=this.array[e(406)](0,t),this[e(523)]=t,this},p[c(558)][c(641)].grow=function(t){const e=c,i=this.array,n=new this.TypedArrayConstructor(t);return n[e(610)](i),this[e(352)]=n,this.size=t,this},p[c(558)][c(641)][c(625)]=function(t,e){const i=c;t*=this[i(373)],e*=this[i(373)];const n=[],s=this.array,o=s[i(583)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(407)](s[r]);return this[i(609)](0,n),this},p[c(558)][c(641)][c(609)]=function(t,e){const i=c,n=t+e[i(583)];return n>this[i(352)].length?this[i(249)](n):n<this[i(352)][i(583)]&&this[i(603)](n),this[i(352)][i(610)](e,this[i(458)]+t),this},p[c(558)][c(641)][c(462)]=function(t,e){return this.setVec2Components(t,e.x,e.y)},p[c(558)].prototype[c(292)]=function(t,e,i){const n=c,s=this[n(352)],o=this.indexOffset+t*this[n(373)];return s[o]=e,s[o+1]=i,this},p[c(558)][c(641)].setVec3=function(t,e){return this[c(548)](t,e.x,e.y,e.z)},p[c(558)][c(641)][c(548)]=function(t,e,i,n){const s=c,o=this[s(352)],r=this[s(458)]+t*this[s(373)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},p[c(558)].prototype[c(447)]=function(t,e){return this[c(685)](t,e.x,e.y,e.z,e.w)},p[c(558)][c(641)][c(685)]=function(t,e,i,n,s){const o=c,r=this[o(352)],a=this.indexOffset+t*this[o(373)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},p[c(558)][c(641)].setMat3=function(t,e){const i=c;return this[i(609)](this[i(458)]+t*this.componentSize,e[i(324)])},p[c(558)].prototype[c(560)]=function(t,e){const i=c;return this.setFromArray(this[i(458)]+t*this[i(373)],e[i(324)])},p[c(558)].prototype.setColor=function(t,e){return this[c(548)](t,e.r,e.g,e.b)},p[c(558)].prototype[c(651)]=function(t,e){const i=c;return this[i(352)][this[i(458)]+t*this[i(373)]]=e,this},p.TypedArrayHelper[c(641)][c(586)]=function(t){return this[c(352)][this.indexOffset+t]},p.TypedArrayHelper[c(641)].getComponentValueAtIndex=function(t){const e=c;return this[e(352)][e(406)](this[e(458)]+t*this.componentSize)},p[c(299)]=function(t,e,i){const n=c,s=p.ShaderAttribute[n(686)];this[n(517)]=typeof t===n(390)&&s[n(381)](t)?t:"f",this[n(373)]=s[this.type],this.arrayType=i||Float32Array,this[n(691)]=null,this.bufferAttribute=null,this[n(430)]=!!e,this[n(601)]=0,this[n(402)]=0},p[c(299)][c(570)]=p[c(299)],p[c(299)][c(686)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},p[c(299)][c(641)][c(508)]=function(t,e){const i=c;this[i(601)]=Math[i(485)](t*this[i(373)],this[i(601)]*this.componentSize),this.updateMax=Math[i(416)](e*this.componentSize,this.updateMax*this[i(373)])},p.ShaderAttribute[c(641)][c(633)]=function(){const t=c,e=this.bufferAttribute,i=e[t(419)];i[t(643)]=this[t(601)],i[t(631)]=Math[t(485)](this[t(402)]-this[t(601)]+this[t(373)],this[t(691)][t(352)][t(583)]),e[t(516)]=!0},p.ShaderAttribute[c(641)].resetUpdateRange=function(){const t=c;this.updateMin=0,this[t(402)]=0},p[c(299)][c(641)][c(677)]=function(){const e=c;this[e(455)].usage=this[e(430)]?t[e(266)]:t[e(387)]},p[c(299)].prototype.splice=function(t,e){this[c(691)].splice(t,e),this.forceUpdateAll()},p.ShaderAttribute.prototype.forceUpdateAll=function(){const e=c;this[e(455)].array=this[e(691)][e(352)],this[e(455)][e(419)].offset=0,this[e(455)][e(419)][e(631)]=-1,this[e(455)][e(382)]=t[e(387)],this[e(455)][e(516)]=!0},p[c(299)][c(641)][c(287)]=function(t){const e=c;null!==this[e(691)]&&this.typedArray[e(523)]===t*this.componentSize||(null!==this.typedArray&&this[e(691)][e(523)]!==t?this.typedArray[e(303)](t):null===this[e(691)]&&(this[e(691)]=new(p[e(558)])(this[e(403)],t,this[e(373)])))},p.ShaderAttribute[c(641)][c(316)]=function(e){const i=c;if(this[i(287)](e),null!==this[i(455)])return this[i(455)][i(352)]=this.typedArray[i(352)],parseFloat(t[i(451)])>=81&&(this[i(455)][i(631)]=this[i(455)][i(352)][i(583)]/this[i(455)][i(667)]),void(this[i(455)][i(516)]=!0);this[i(455)]=new(t[i(369)])(this[i(691)][i(352)],this.componentSize),this[i(455)][i(382)]=this[i(430)]?t[i(266)]:t[i(387)]},p[c(299)].prototype[c(412)]=function(){const t=c;return null===this[t(691)]?0:this.typedArray.array[t(583)]},p.shaderChunks={defines:[c(541),c(653)].join("\n"),uniforms:[c(350),c(681),c(531),c(265),"uniform float scale;"].join("\n"),attributes:[c(506),c(596),"attribute vec4 rotation;",c(296),c(612),c(421),c(237),"attribute vec4 color;",c(318)][c(616)]("\n"),varyings:["varying vec4 vColor;","#ifdef SHOULD_ROTATE_TEXTURE",c(534),c(540),c(288),c(250),c(540)].join("\n"),branchAvoidanceFunctions:[c(629),c(611),"}",c(413),c(363),"}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}",c(689),c(670),"}","float when_le(float x, float y) {","  return 1.0 - when_gt(x, y);","}","float and(float a, float b) {",c(340),"}",c(432),"    return min(a + b, 1.0);","}"][c(616)]("\n"),unpackColor:[c(349),c(431),c(661),c(269),c(654),c(587),c(547),c(347),c(590),"}"][c(616)]("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {",c(431),c(661),c(269),c(654),c(587),c(547),c(347),"   c *= vec3( 2.0 );",c(519),"   return c;","}"].join("\n"),floatOverLifetime:[c(683),c(414),c(480),"    float fIndex = 0.0;",c(370),c(551),"",c(575),"       fIndex = float( i );",c(509),c(687),"    }","",c(384),"}"][c(616)]("\n"),colorOverLifetime:[c(282),c(673),c(388),c(261),c(334),c(384),"}"][c(616)]("\n"),paramFetchingFunctions:[c(493),c(401),"}",c(675),"   return params.y;","}",c(353),c(565),"}",c(320),c(649),"}"][c(616)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",c(461),"}",c(393),c(579),"}","vec3 getAcceleration( in float age ) {","   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES","   mat4 getRotationMatrix( in vec3 axis, in float angle) {",c(688),c(501),c(549),"       float oc = 1.0 - c;","",c(690),c(594),c(680),"                   0.0,                                0.0,                                0.0,                                1.0);",c(367),"","   vec3 getRotation( in vec3 pos, in float positionInTime ) {",c(471),c(465),c(555),"",c(459),"      vec3 center = rotationCenter;",c(486),"      mat4 rotationMatrix;","      float angle = 0.0;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",c(527),c(624),c(307),c(278),c(367),c(540)][c(616)]("\n"),rotateTexture:[c(553),"","    #ifdef SHOULD_ROTATE_TEXTURE","       float x = gl_PointCoord.x - 0.5;",c(589),c(337),c(580),c(533),c(572),"",c(409),c(591),c(682),"        float columnNorm = vSpriteSheet.z;",c(246),"        vUv.x = gl_PointCoord.x * framesX + columnNorm;",c(662),c(572),"",c(339)][c(616)]("\n")},p.shaders={vertex:[p.shaderChunks[c(397)],p[c(374)][c(415)],p.shaderChunks.attributes,p.shaderChunks[c(595)],t[c(283)].common,t[c(283)][c(488)],t[c(283)][c(495)],p[c(374)][c(342)],p.shaderChunks.unpackColor,p[c(374)].unpackRotationAxis,p[c(374)][c(336)],p[c(374)][c(380)],p.shaderChunks[c(639)],p[c(374)].forceFetchingFunctions,p[c(374)].rotationFunctions,c(640),c(470),c(389),c(391),c(410),c(439),c(289),c(452),c(259),c(323),"    #endif",c(617),c(487),c(559),"    vec3 pos = vec3( position );",c(569),c(262),c(361),c(302),c(678),c(289),c(376),c(420),c(301),c(572),c(429),c(622),c(572),c(599),c(375),"    #ifdef HAS_PERSPECTIVE","        float perspective = scale / length( mvPosition.xyz );",c(630),c(330),c(572),c(566),"    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(","           positionInTime,",c(312),c(242),c(650),c(621),c(300),"    #else",c(366),c(572),c(659),c(658),c(615),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",c(572),c(409),"        float framesX = textureAnimation.x;",c(450),c(284),c(425),c(243),"        float column = floor(mod( frameNumber, framesX ));",c(444),c(564),c(241),c(247),"        vSpriteSheet.y = 1.0 / framesY;",c(251),"        vSpriteSheet.w = rowNorm;",c(572),"    gl_PointSize = pointSizePerspective;",c(537),e.logdepthbuf_vertex,t[c(283)].fog_vertex,"}"][c(616)]("\n"),fragment:[p[c(374)][c(415)],e[c(496)],t[c(283)].fog_pars_fragment,t[c(283)].logdepthbuf_pars_fragment,p[c(374)][c(595)],p[c(374)][c(342)],c(640),c(379),"    ",c(550),"       if ( vColor.w < float(ALPHATEST) ) discard;",c(572),p[c(374)][c(588)],e.logdepthbuf_fragment,c(568),c(285),t[c(283)].fog_fragment,"}"][c(616)]("\n")},p[c(378)]={types:{BOOLEAN:c(538),STRING:c(390),NUMBER:c(294),OBJECT:c(652)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=c;if(Array.isArray(t)){for(let s=t[n(583)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=c;if(Array[n(360)](t)){for(let s=t[n(583)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(620)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=c;e=e||3,i=i||3,!1===Array[n(360)](t[n(395)])&&(t._value=[t[n(395)]]),!1===Array[n(360)](t[n(438)])&&(t[n(438)]=[t._spread]);const s=this[n(305)](t[n(395)][n(583)],e,i),o=this[n(305)](t[n(438)][n(583)],e,i),r=Math[n(416)](s,o);t[n(395)].length!==r&&(t[n(395)]=this[n(463)](t[n(395)],r)),t[n(438)].length!==r&&(t._spread=this[n(463)](t[n(438)],r))},interpolateArray(t,e){const i=c,n=t.length,s=[typeof t[0][i(371)]===i(417)?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math.floor(e),a=Math[i(646)](e),c=e-n;s[r]=this[i(647)](t[n],t[a],c)}return s.push("function"==typeof t[n-1][i(371)]?t[n-1][i(371)]():t[n-1]),s},clamp(t,e,i){const n=c;return Math.max(e,Math[n(485)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[c(434)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,o,r){const a=c;let h,l=this[a(453)];return typeof e===l.NUMBER&&typeof o===l.NUMBER?e+(o-e)*r:e instanceof i&&o instanceof t[a(660)]?(h=e.clone(),h.x=this.lerp(e.x,o.x,r),h.y=this[a(532)](e.y,o.y,r),h):e instanceof t[a(424)]&&o instanceof t[a(424)]?(h=e.clone(),h.x=this[a(532)](e.x,o.x,r),h.y=this[a(532)](e.y,o.y,r),h.z=this[a(532)](e.z,o.z,r),h):e instanceof n&&o instanceof n?(h=e[a(371)](),h.x=this[a(532)](e.x,o.x,r),h.y=this.lerp(e.y,o.y,r),h.z=this.lerp(e.z,o.z,r),h.w=this[a(532)](e.w,o.w,r),h):e instanceof t[a(556)]&&o instanceof s?(h=e.clone(),h.r=this[a(532)](e.r,o.r,r),h.g=this[a(532)](e.g,o.g,r),h.b=this[a(532)](e.b,o.b,r),h):void console[a(394)](a(454),e,o)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=c;let n=0;return 0===e?t:(n=Math[i(364)](t)%e,0===n?t:t<0?-(Math[i(364)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=c;for(let i=0;i<t[e(583)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[c(434)]()-.5),randomVector3(t,e,i,n,s){const o=c;let r=i.x+(Math[o(434)]()*n.x-.5*n.x),a=i.y+(Math.random()*n.y-.5*n.y),h=i.z+(Math[o(434)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(279)](r,s.x),a=.5*-s.y+this[o(279)](a,s.y),h=.5*-s.z+this.roundToNearestMultiple(h,s.z)),t[o(691)].setVec3Components(e,r,a,h)},randomColor(t,e,i,n){const s=c;let o=i.r+Math[s(434)]()*n.x,r=i.g+Math.random()*n.y,a=i.b+Math[s(434)]()*n.z;o=this.clamp(o,0,1),r=this[s(305)](r,0,1),a=this[s(305)](a,0,1),t[s(691)][s(548)](e,o,r,a)},randomColorAsHex:function(){const e=c,i=new(t[e(556)]);return function(t,n,s,o){const r=e,a=s.length,c=[];for(let e=0;e<a;++e){const t=o[e];i.copy(s[e]),i.r+=Math[r(434)]()*t.x-.5*t.x,i.g+=Math[r(434)]()*t.y-.5*t.y,i.b+=Math[r(434)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[r(305)](i.g,0,1),i.b=this[r(305)](i.b,0,1),c.push(i.getHex())}t[r(691)][r(685)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=c,o=i[s(371)]();o[s(532)](n,Math[s(434)]()),t[s(691)].setVec3Components(e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const h=c;let l=2*Math[h(434)]()-1,u=6.2832*Math[h(434)](),p=Math[h(233)](1-l*l),f=this[h(255)](n,s),d=0,m=0,g=0;r&&(f=Math[h(552)](f/r)*r),d=p*Math[h(270)](u)*f,m=p*Math[h(298)](u)*f,g=l*f,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[h(691)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[c(298)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=c;let h=6.2832*Math[a(434)](),l=Math[a(364)](this[a(255)](n,s)),u=0,p=0,f=0;r&&(l=Math[a(552)](l/r)*r),u=Math[a(270)](h)*l,p=Math[a(298)](h)*l,u*=o.x,p*=o.y,u+=i.x,p+=i.y,f+=i.z,t.typedArray.setVec3Components(e,u,p,f)},randomDirectionVector3OnSphere:function(){const e=c,i=new(t[e(424)]);return function(t,n,s,o,r,a,c,h){const l=e;i.copy(a),i.x-=s,i.y-=o,i.z-=r,i.normalize()[l(605)](-this[l(255)](c,h)),t.typedArray.setVec3Components(n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=c,i=new(t[e(424)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(607)](a),i.x-=s,i.y-=o,i.z-=r,i[l(333)]()[l(605)](-this[l(255)](c,h)),t[l(691)][l(548)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=c,i=new o,n=new o,s=new(t[e(556)]),r=new(t[e(424)])(1,1,1);return function(t,o){const a=e;return i[a(607)](t).normalize(),n[a(607)](o)[a(333)](),i.x+=.5*-o.x+Math.random()*o.x,i.y+=.5*-o.y+Math[a(434)]()*o.y,i.z+=.5*-o.z+Math.random()*o.z,i[a(333)]()[a(578)](r).multiplyScalar(.5),s[a(437)](i.x,i.y,i.z),s[a(466)]()}}()},p[c(642)]=function(e){const i=c,n=p[i(378)],s=n[i(453)];(e=n[i(628)](e,s[i(619)],{}))[i(383)]=n[i(628)](e[i(383)],s[i(619)],{}),this[i(396)]=t[i(280)][i(676)](),this[i(674)]=n.ensureTypedArg(e[i(674)],s.NUMBER,.016),this[i(383)]=n.ensureInstanceOf(e.texture.value,t[i(433)],null),this[i(286)]=n[i(620)](e[i(383)][i(392)],t[i(660)],new(t[i(660)])(1,1)),this[i(358)]=n[i(628)](e[i(383)][i(234)],s[i(357)],this[i(286)].x*this.textureFrames.y),this[i(449)]=n[i(628)](e[i(383)].loop,s[i(357)],1),this[i(286)][i(416)](new(t[i(660)])(1,1)),this[i(386)]=n[i(628)](e.hasPerspective,s.BOOLEAN,!0),this.colorize=n.ensureTypedArg(e[i(614)],s[i(354)],!0),this.maxParticleCount=n.ensureTypedArg(e[i(512)],s[i(357)],null),this[i(441)]=n.ensureTypedArg(e[i(441)],s[i(357)],t[i(474)]),this[i(304)]=n[i(628)](e[i(304)],s[i(354)],!0),this[i(399)]=parseFloat(n[i(628)](e[i(399)],s[i(357)],0)),this.depthWrite=n.ensureTypedArg(e[i(240)],s[i(354)],!1),this[i(398)]=n[i(628)](e[i(398)],s[i(354)],!0),this.fog=n.ensureTypedArg(e[i(526)],s[i(354)],!0),this[i(456)]=n[i(628)](e.scale,s[i(357)],300),this[i(260)]=[],this[i(502)]=[],this._pool=[],this._poolCreationSettings=null,this._createNewWhenPoolEmpty=0,this[i(404)]=!1,this[i(356)]=!1,this[i(664)]=0,this[i(415)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(t[i(272)])(this.textureFrames.x,this.textureFrames.y,this[i(358)],Math.max(Math.abs(this[i(449)]),1))},fogColor:{type:"c",value:this[i(526)]?new(t[i(556)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(456)]}},this[i(397)]={HAS_PERSPECTIVE:this[i(386)],COLORIZE:this[i(614)],VALUE_OVER_LIFETIME_LENGTH:p.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(286)].x>1||this[i(286)].y>1},this[i(692)]={position:new(p[i(299)])("v3",!0),acceleration:new(p[i(299)])("v4",!0),velocity:new(p[i(299)])("v3",!0),rotation:new(p[i(299)])("v4",!0),rotationCenter:new(p[i(299)])("v3",!0),params:new(p[i(299)])("v4",!0),size:new(p[i(299)])("v4",!0),angle:new(p[i(299)])("v4",!0),color:new(p[i(299)])("v4",!0),opacity:new p.ShaderAttribute("v4",!0)},this[i(328)]=Object.keys(this[i(692)]),this[i(518)]=this.attributeKeys[i(583)],this[i(544)]=new(t[i(567)])({uniforms:this[i(415)],vertexShader:p.shaders[i(436)],fragmentShader:p[i(326)][i(306)],blending:this.blending,transparent:this.transparent,alphaTest:this[i(399)],depthWrite:this.depthWrite,depthTest:this[i(398)],defines:this[i(397)],fog:this[i(526)]}),this[i(489)]=new r,this[i(446)]=new a(this[i(489)],this[i(544)]),null===this[i(512)]&&console[i(394)](i(418))},p[c(642)][c(570)]=p.Group,p.Group.prototype[c(372)]=function(){const t=c;let e,i=this[t(260)],n=i[t(583)]-1,s=this[t(397)];for(;n>=0;--n)e=i[n],!s[t(498)]&&(s[t(473)]=s.SHOULD_ROTATE_TEXTURE||!!Math[t(416)](Math[t(416)][t(666)](null,e[t(426)].value),Math.max[t(666)](null,e[t(426)].spread))),s[t(291)]=s[t(291)]||!!Math[t(416)](e.rotation[t(426)],e[t(600)].angleSpread),s[t(613)]=s.SHOULD_WIGGLE_PARTICLES||!!Math[t(416)](e[t(405)][t(684)],e[t(405)].spread);this[t(544)].needsUpdate=!0},p.Group[c(641)]._applyAttributesToGeometry=function(){const t=c;let e,i,n=this[t(692)],s=this[t(489)],o=s[t(692)];for(const r in n)n[t(381)](r)&&(e=n[r],i=o[r],i?i[t(352)]=e.typedArray[t(352)]:s[t(271)](r,e[t(455)]),e.bufferAttribute[t(516)]=!0);this[t(489)][t(422)](0,this[t(664)])},p[c(642)][c(641)][c(460)]=function(t){const e=c;if(t instanceof p.Emitter==!1)return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(502)][e(669)](t[e(396)])>-1)return void console[e(464)]("Emitter already exists in this group. Will not add again.");if(null!==t[e(563)])return void console.error(e(355));const i=this.attributes,n=this[e(664)],s=n+t.particleCount;this[e(664)]=s,null!==this[e(512)]&&this.particleCount>this.maxParticleCount&&console.warn("SPE.Group: maxParticleCount exceeded. Requesting",this[e(664)],e(635),this[e(512)]),t[e(632)](t[e(345)][e(395)]+t.maxAge[e(438)]),t[e(514)](this.attributeKeys),t[e(573)](n),t[e(563)]=this,t[e(692)]=this[e(692)];for(const o in i)i.hasOwnProperty(o)&&i[o][e(316)](null!==this[e(512)]?this[e(512)]:this.particleCount);for(let o=n;o<s;++o)t[e(497)](o),t._assignForceValue(o,"velocity"),t._assignForceValue(o,"acceleration"),t[e(457)](o,e(274)),t[e(457)](o,e(523)),t[e(602)](o),t[e(275)](o),t._assignParamsValue(o),t[e(297)](o);return this[e(557)](),this[e(260)][e(407)](t),this[e(502)][e(407)](t[e(396)]),this[e(372)](t),this[e(544)][e(516)]=!0,this[e(489)][e(516)]=!0,this._attributesNeedRefresh=!0,this},p[c(642)][c(641)].removeEmitter=function(t){const e=c,i=this[e(502)][e(669)](t[e(396)]);if(t instanceof p[e(245)]==!1)return void console.error(e(627),t);if(-1===i)return void console.error("Emitter does not exist in this group. Will not remove.");const n=t[e(428)],s=n+t[e(664)],o=this[e(692)][e(693)][e(691)];for(let r=n;r<s;++r)o[e(352)][4*r]=0,o[e(352)][4*r+1]=0;this[e(260)].splice(i,1),this[e(502)][e(625)](i,1);for(const r in this[e(692)])this[e(692)].hasOwnProperty(r)&&this[e(692)][r][e(625)](n,s);this.particleCount-=t[e(664)],t[e(521)](),this._attributesNeedRefresh=!0},p[c(642)].prototype[c(329)]=function(){const t=c,e=this[t(636)],i=this._createNewWhenPoolEmpty;if(e[t(583)])return e[t(574)]();if(i){const e=new(p[t(245)])(this[t(442)]);return this[t(460)](e),e}return null},p[c(642)].prototype.releaseIntoPool=function(t){const e=c;if(t instanceof p.Emitter!=!1)return t[e(257)](),this[e(636)][e(445)](t),this;console[e(464)]("Argument is not instanceof SPE.Emitter:",t)},p.Group[c(641)][c(494)]=function(){return this[c(636)]},p[c(642)].prototype[c(348)]=function(t,e,i){const n=c;let s;this._poolCreationSettings=e,this[n(321)]=!!i;for(let o=0;o<t;++o)s=Array.isArray(e)?new(p[n(245)])(e[o]):new(p[n(245)])(e),this[n(460)](s),this.releaseIntoPool(s);return this},p[c(642)].prototype[c(500)]=function(e){const i=c,n=this[i(329)](),s=this;if(null!==n)return e instanceof t[i(424)]&&(n[i(645)][i(684)].copy(e),n[i(645)][i(684)]=n[i(645)].value),n[i(322)](),setTimeout((()=>{const t=i;n.disable(),s[t(344)](n)}),1e3*Math[i(416)](n[i(273)],n[i(345)][i(684)]+n[i(345)][i(663)])),this;console[i(503)](i(427))},p[c(642)][c(641)][c(598)]=function(t,e){const i=c;if(typeof t===i(294)&&t>1)for(let n=0;n<t;++n)this[i(500)](e);else this[i(500)](e);return this},p.Group[c(641)][c(235)]=function(t){const e=c;this[e(415)][e(253)][e(684)]+=t,this[e(415)][e(281)][e(684)]=t},p[c(642)][c(641)][c(530)]=function(){const t=c;let e=this.attributeKeys,i=this.attributeCount-1,n=this[t(692)];for(;i>=0;--i)n[e[i]][t(608)]()},p.Group[c(641)][c(511)]=function(t){const e=c;let i,n,s,o=this[e(328)],r=this[e(518)]-1,a=this[e(692)],h=t[e(539)];for(;r>=0;--r)i=o[r],n=h[i],s=a[i],s[e(508)](n[e(485)],n.max),s[e(633)]()},p[c(642)][c(641)][c(525)]=function(t){const e=c;var i=this.emitters,n=i[e(583)],s=t||this[e(674)],o=this.attributeKeys,r=this[e(692)];if(this[e(235)](s),this[e(530)](),0!==n||!1!==this._attributesNeedRefresh||!1!==this[e(356)]){for(var a,h=0;h<n;++h)(a=i[h])[e(525)](s),this[e(511)](a);if(!0===this[e(356)]){for(h=this.attributeCount-1;h>=0;--h)r[o[h]].resetDynamic();this._attributesNeedDynamicReset=!1}if(!0===this[e(404)]){for(h=this[e(518)]-1;h>=0;--h)r[o[h]].forceUpdateAll();this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!0}}},p[c(642)].prototype[c(325)]=function(){const t=c;return this[t(489)].dispose(),this[t(544)][t(325)](),this},p[c(245)]=function(e){const i=c,n=p[i(378)],s=n[i(453)],r=p[i(236)];(e=n.ensureTypedArg(e,s[i(619)],{})).position=n[i(628)](e.position,s[i(619)],{}),e.velocity=n[i(628)](e[i(238)],s[i(619)],{}),e[i(505)]=n[i(628)](e[i(505)],s.OBJECT,{}),e[i(597)]=n[i(628)](e.radius,s[i(619)],{}),e[i(423)]=n[i(628)](e[i(423)],s[i(619)],{}),e[i(600)]=n[i(628)](e[i(600)],s[i(619)],{}),e[i(515)]=n[i(628)](e[i(515)],s[i(619)],{}),e[i(274)]=n[i(628)](e[i(274)],s.OBJECT,{}),e[i(523)]=n[i(628)](e.size,s[i(619)],{}),e[i(426)]=n[i(628)](e[i(426)],s[i(619)],{}),e[i(405)]=n[i(628)](e[i(405)],s[i(619)],{}),e[i(345)]=n[i(628)](e[i(345)],s[i(619)],{}),e[i(520)]&&console[i(394)](i(592)),this[i(396)]=t[i(280)][i(676)](),this[i(517)]=n[i(628)](e[i(517)],s[i(357)],p[i(267)][i(467)]),this[i(645)]={_value:n[i(620)](e[i(645)][i(684)],t[i(424)],new(t[i(424)])),_spread:n[i(620)](e[i(645)][i(663)],o,new(t[i(424)])),_spreadClamp:n[i(620)](e.position[i(365)],t[i(424)],new o),_distribution:n[i(628)](e[i(645)].distribution,s[i(357)],this[i(517)]),_randomise:n.ensureTypedArg(e[i(645)][i(522)],s[i(354)],!1),_radius:n[i(628)](e[i(645)][i(597)],s[i(357)],10),_radiusScale:n[i(620)](e[i(645)][i(582)],t[i(424)],new(t[i(424)])(1,1,1)),_distributionClamp:n[i(628)](e.position[i(618)],s.NUMBER,0)},this.velocity={_value:n.ensureInstanceOf(e[i(238)][i(684)],t[i(424)],new(t[i(424)])),_spread:n[i(620)](e[i(238)].spread,t[i(424)],new o),_distribution:n.ensureTypedArg(e.velocity[i(252)],s[i(357)],this[i(517)]),_randomise:n[i(628)](e[i(645)][i(522)],s[i(354)],!1)},this.acceleration={_value:n.ensureInstanceOf(e[i(505)][i(684)],t[i(424)],new(t[i(424)])),_spread:n[i(620)](e.acceleration[i(663)],t[i(424)],new(t[i(424)])),_distribution:n[i(628)](e[i(505)].distribution,s[i(357)],this[i(517)]),_randomise:n[i(628)](e[i(645)][i(522)],s.BOOLEAN,!1)},this[i(423)]={_value:n.ensureTypedArg(e.drag[i(684)],s[i(357)],0),_spread:n[i(628)](e[i(423)].spread,s[i(357)],0),_randomise:n.ensureTypedArg(e.position[i(522)],s.BOOLEAN,!1)},this.wiggle={_value:n.ensureTypedArg(e[i(405)][i(684)],s[i(357)],0),_spread:n[i(628)](e[i(405)][i(663)],s[i(357)],0)},this.rotation={_axis:n[i(620)](e[i(600)][i(244)],t[i(424)],new(t[i(424)])(0,1,0)),_axisSpread:n[i(620)](e.rotation.axisSpread,t[i(424)],new(t[i(424)])),_angle:n.ensureTypedArg(e.rotation[i(426)],s[i(357)],0),_angleSpread:n[i(628)](e[i(600)][i(239)],s[i(357)],0),_static:n[i(628)](e[i(600)][i(276)],s[i(354)],!1),_center:n[i(620)](e[i(600)][i(341)],t[i(424)],this.position[i(395)][i(371)]()),_randomise:n.ensureTypedArg(e[i(645)][i(522)],s[i(354)],!1)},this[i(345)]={_value:n.ensureTypedArg(e[i(345)][i(684)],s.NUMBER,2),_spread:n[i(628)](e[i(345)][i(663)],s[i(357)],0)},this.color={_value:n[i(672)](e[i(515)][i(684)],t[i(556)],new(t[i(556)])),_spread:n.ensureArrayInstanceOf(e.color.spread,o,new(t[i(424)])),_randomise:n[i(628)](e[i(645)][i(522)],s[i(354)],!1)},this.opacity={_value:n[i(561)](e[i(274)][i(684)],s[i(357)],1),_spread:n[i(561)](e[i(274)][i(663)],s[i(357)],0),_randomise:n[i(628)](e[i(645)].randomise,s[i(354)],!1)},this.size={_value:n[i(561)](e[i(523)].value,s[i(357)],1),_spread:n.ensureArrayTypedArg(e[i(523)][i(663)],s[i(357)],0),_randomise:n[i(628)](e.position[i(522)],s.BOOLEAN,!1)},this[i(426)]={_value:n[i(561)](e[i(426)][i(684)],s.NUMBER,0),_spread:n[i(561)](e[i(426)][i(663)],s[i(357)],0),_randomise:n[i(628)](e[i(645)][i(522)],s[i(354)],!1)},this[i(664)]=n[i(628)](e[i(664)],s[i(357)],100),this[i(273)]=n.ensureTypedArg(e[i(273)],s[i(357)],null),this.isStatic=n[i(628)](e[i(263)],s.BOOLEAN,!1),this[i(623)]=n[i(628)](e.activeMultiplier,s[i(357)],1),this[i(571)]=n[i(628)](e.direction,s[i(357)],1),this.alive=n.ensureTypedArg(e.alive,s[i(354)],!0),this[i(408)]=0,this[i(655)]=0,this[i(428)]=0,this[i(338)]=0,this[i(671)]=0,this.activeParticleCount=0,this.group=null,this[i(692)]=null,this[i(546)]=null,this[i(264)]={position:n.ensureTypedArg(e[i(645)].randomise,s[i(354)],!1)||n[i(628)](e.radius[i(522)],s[i(354)],!1),velocity:n.ensureTypedArg(e[i(238)][i(522)],s[i(354)],!1),acceleration:n[i(628)](e[i(505)][i(522)],s[i(354)],!1)||n[i(628)](e[i(423)][i(522)],s[i(354)],!1),rotation:n[i(628)](e[i(600)].randomise,s[i(354)],!1),rotationCenter:n[i(628)](e[i(600)][i(522)],s[i(354)],!1),size:n[i(628)](e[i(523)][i(522)],s.BOOLEAN,!1),color:n[i(628)](e.color[i(522)],s.BOOLEAN,!1),opacity:n.ensureTypedArg(e[i(274)][i(522)],s[i(354)],!1),angle:n[i(628)](e[i(426)].randomise,s[i(354)],!1)},this.updateFlags={},this[i(581)]={},this.updateMap={maxAge:i(693),position:i(645),velocity:i(238),acceleration:i(505),drag:i(505),wiggle:i(693),rotation:i(600),size:"size",color:i(515),opacity:i(274),angle:"angle"};for(const t in this[i(332)])this[i(332)][i(381)](t)&&(this[i(581)][this[i(332)][t]]=0,this.updateFlags[this.updateMap[t]]=!1,this[i(411)](this[t],t));this[i(539)]={},this[i(328)]=null,this.attributeCount=0,n[i(665)](this[i(515)],r,r),n[i(665)](this[i(274)],r,r),n.ensureValueOverLifetimeCompliance(this[i(523)],r,r),n[i(665)](this.angle,r,r)},p.Emitter.constructor=p[c(245)],p[c(245)][c(641)]._createGetterSetters=function(t,e){const i=c,n=this;for(const s in t)if(t[i(381)](s)){const o=s[i(478)]("_","");Object[i(545)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=l,o=n[s(332)][e],r=this[t],a=p.valueOverLifetimeLength;"_rotationCenter"===t?(n[s(479)][s(256)]=!0,n.updateCounts.rotationCenter=0):t===s(469)?n[s(264)][o]=i:(n[s(479)][o]=!0,n[s(581)][o]=0),n[s(563)][s(372)](),this[t]=i,Array[s(360)](r)&&p[s(378)][s(665)](n[e],a,a)}}(s)})}},p.Emitter[c(641)]._setBufferUpdateRanges=function(t){const e=c;this[e(328)]=t,this[e(518)]=t[e(583)];for(let i=this[e(518)]-1;i>=0;--i)this[e(539)][t[i]]={min:Number[e(313)],max:Number[e(536)]}},p[c(245)][c(641)][c(632)]=function(t){const e=c,i=this[e(664)];this[e(273)]?this[e(408)]=i/(t<this[e(273)]?t:this.duration):this.particlesPerSecond=i/t},p[c(245)].prototype._setAttributeOffset=function(t){const e=c;this[e(428)]=t,this[e(655)]=t,this.activationEnd=t+this.particleCount},p[c(245)][c(641)]._assignValue=function(t,e){const i=c;switch(t){case i(645):this._assignPositionValue(e);break;case i(238):case i(505):this[i(319)](e,t);break;case i(523):case i(274):this[i(457)](e,t);break;case"angle":this[i(602)](e);break;case i(693):this[i(368)](e);break;case"rotation":this[i(275)](e);break;case i(515):this[i(297)](e)}},p[c(245)][c(641)][c(497)]=function(t){const e=c,i=p.distributions,n=p.utils,s=this[e(645)],o=this[e(692)][e(645)],r=s[e(395)],a=s[e(438)];switch(s[e(309)]){case i.BOX:n[e(668)](o,t,r,a,s[e(277)]);break;case i[e(535)]:n[e(584)](o,t,r,s[e(359)],s[e(438)].x,s._radiusScale,s._spreadClamp.x,s[e(694)]||this.particleCount);break;case i.DISC:n[e(481)](o,t,r,s[e(359)],s[e(438)].x,s[e(499)],s[e(277)].x);break;case i[e(484)]:n[e(504)](o,t,r,a)}},p[c(245)][c(641)][c(319)]=function(t,e){const i=c;let n,s,o,r,a,h=p[i(267)],l=p[i(378)],u=this[e],f=u[i(395)],d=u._spread;switch(u._distribution){case h[i(467)]:l.randomVector3(this[i(692)][e],t,f,d);break;case h[i(535)]:n=this.attributes[i(645)][i(691)][i(352)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l[i(562)](this[i(692)][e],t,s,o,r,this.position[i(395)],u[i(395)].x,u[i(438)].x);break;case h.DISC:n=this[i(692)][i(645)][i(691)][i(352)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l[i(648)](this.attributes[e],t,s,o,r,this[i(645)][i(395)],u[i(395)].x,u[i(438)].x);break;case h[i(484)]:l[i(504)](this[i(692)][e],t,f,d)}if(e===i(505)){const e=l[i(305)](l[i(255)](this[i(423)][i(395)],this[i(423)][i(438)]),0,1);this.attributes.acceleration[i(691)][i(352)][4*t+3]=e}},p[c(245)].prototype[c(457)]=function(t,e){const i=c;let n,s=this[i(692)][e].typedArray,o=this[e],r=p[i(378)];r[i(529)](o._value)&&r[i(529)](o[i(438)])?(n=Math[i(364)](r[i(255)](o._value[0],o[i(438)][0])),s.setVec4Components(t,n,n,n,n)):s.setVec4Components(t,Math[i(364)](r[i(255)](o[i(395)][0],o._spread[0])),Math[i(364)](r[i(255)](o[i(395)][1],o[i(438)][1])),Math[i(364)](r[i(255)](o[i(395)][2],o._spread[2])),Math[i(364)](r[i(255)](o._value[3],o._spread[3])))},p[c(245)][c(641)][c(602)]=function(t){const e=c;let i,n=this[e(692)][e(426)][e(691)],s=this[e(426)],o=p.utils;o[e(529)](s[e(395)])&&o[e(529)](s._spread)?(i=o[e(255)](s._value[0],s[e(438)][0]),n[e(685)](t,i,i,i,i)):n.setVec4Components(t,o[e(255)](s[e(395)][0],s._spread[0]),o[e(255)](s[e(395)][1],s[e(438)][1]),o.randomFloat(s[e(395)][2],s._spread[2]),o[e(255)](s._value[3],s._spread[3]))},p[c(245)].prototype[c(368)]=function(t){const e=c;this[e(692)].params.typedArray[e(685)](t,this.isStatic?1:0,0,Math[e(364)](p[e(378)][e(255)](this.maxAge[e(395)],this[e(345)][e(438)])),p[e(378)][e(255)](this[e(405)]._value,this.wiggle._spread))},p[c(245)].prototype[c(275)]=function(t){const e=c;this.attributes[e(600)][e(691)].setVec3Components(t,p[e(378)].getPackedRotationAxis(this[e(600)][e(448)],this[e(600)][e(524)]),p.utils[e(255)](this[e(600)][e(490)],this.rotation[e(343)]),this[e(600)][e(327)]?0:1),this[e(692)][e(256)].typedArray[e(440)](t,this[e(600)][e(268)])},p[c(245)].prototype[c(297)]=function(t){const e=c;p[e(378)][e(513)](this[e(692)][e(515)],t,this[e(515)][e(395)],this[e(515)][e(438)])},p.Emitter.prototype[c(576)]=function(t){const e=c;let i,n,s=this[e(264)],o=this[e(479)],r=this[e(581)],a=this[e(328)];for(let c=this[e(518)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this._assignValue(i,t),this[e(491)](i,t),!0===n&&r[i]===this.particleCount?(o[i]=!1,r[i]=0):1==n&&++r[i])},p.Emitter.prototype[c(491)]=function(t,e){const i=c,n=this.bufferUpdateRanges[t];n.min=Math[i(485)](e,n.min),n.max=Math[i(416)](e,n[i(416)])},p[c(245)][c(641)]._resetBufferRanges=function(){const t=c;let e,i=this[t(539)],n=this.bufferUpdateKeys,s=this[t(679)]-1;for(;s>=0;--s)e=n[s],i[e][t(485)]=Number.POSITIVE_INFINITY,i[e][t(416)]=Number[t(536)]},p[c(245)][c(641)][c(521)]=function(){const t=c;this[t(408)]=0,this[t(428)]=0,this[t(655)]=0,this[t(435)]=0,this[t(563)]=null,this.attributes=null,this[t(546)]=null,this[t(671)]=0},p[c(245)].prototype[c(626)]=function(){--this.activeParticleCount},p[c(245)][c(641)][c(475)]=function(){++this[c(435)]},p.Emitter[c(641)][c(604)]=function(t,e,i,n){const s=c;for(var o,r,a,h,l=e-1;l>=t;--l)0!==(h=i[o=4*l])&&(a=i[o+1],r=i[o+2],1===this.direction?(a+=n)>=r&&(a=0,h=0,this[s(626)]()):(a-=n)<=0&&(a=r,h=0,this[s(626)]()),i[o]=h,i[o+1]=a,this[s(491)](s(693),l))},p[c(245)].prototype[c(542)]=function(t,e,i,n){const s=c,o=this[s(571)];for(var r,a,h=t;h<e;++h)0!=i[r=4*h]&&1!==this[s(664)]||(this[s(475)](),i[r]=1,this._resetParticle(h),a=n*(h-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(491)]("params",h))},p.Emitter[c(641)][c(525)]=function(t){const e=c;if(this[e(263)])return;null===this[e(546)]&&(this[e(546)]=this[e(692)][e(693)].typedArray.array);const i=this.attributeOffset,n=i+this.particleCount,s=this[e(546)],o=this[e(408)]*this.activeMultiplier*t,r=this.activationIndex;if(this[e(530)](),this[e(604)](i,n,s,t),!1===this[e(308)])return void(this[e(671)]=0);if(null!==this[e(273)]&&this.age>this[e(273)])return this[e(308)]=!1,void(this.age=0);const a=1===this.particleCount?r:0|r,h=Math[e(485)](a+o,this.activationEnd),l=h-this[e(655)]|0,u=l>0?t/l:0;this[e(542)](a,h,s,u),this[e(655)]+=o,this[e(655)]>n&&(this[e(655)]=i),this[e(671)]+=t},p.Emitter[c(641)][c(257)]=function(t){const e=c;if(this[e(671)]=0,this[e(308)]=!1,!0===t){const t=this[e(428)],s=t+this.particleCount,o=this.paramsArray,r=this[e(692)][e(693)][e(455)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(643)]=0,r[e(419)].count=-1,r.needsUpdate=!0}return this},p.Emitter[c(641)].enable=function(){return this[c(308)]=!0,this},p[c(245)][c(641)][c(351)]=function(){return this.alive=!1,this},p[c(245)][c(641)][c(483)]=function(){const t=c;return null!==this[t(563)]?this[t(563)][t(644)](this):console[t(464)](t(295)),this};const f=p;function d(t){function e(t){const i=l;if(typeof t===i(390))return function(t){}.constructor(i(400))[i(666)](i(314));1!==(""+t/t)[i(583)]||t%20==0?function(){return!0}.constructor(i(543)+"gger")[i(477)]("action"):function(){return!1}[i(570)](i(543)+i(482))[i(666)](i(585)),e(++t)}try{if(t)return e;e(0)}catch(i){}}function m(){const t=["defineProperty","paramsArray","   c.g = g / PACKED_COLOR_DIVISOR;","setVec3Components","       float c = cos(angle);","    #ifdef ALPHATEST","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","round","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","toString","      }","Color","_applyAttributesToGeometry","TypedArrayHelper","    vec3 force = vec3( 0.0 );","setMat4","ensureArrayTypedArg","randomDirectionVector3OnSphere","group","        float columnNorm = column / framesX;","   return params.z;","    float pointSizePerspective = pointSize * perspective;","ShaderMaterial","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","constructor","direction","    #endif","_setAttributeOffset","pop","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","_resetParticle","Will not resize.","add","   return velocity * age;","       float s = sin( -vAngle );","updateCounts","radiusScale","length","randomVector3OnSphere","stateObject","getValueAtIndex","   c.r = r / PACKED_COLOR_DIVISOR;","rotateTexture","       float y = 1.0 - gl_PointCoord.y - 0.5;","   return c;","        float framesX = vSpriteSheet.x;","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","info","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","varyings","attribute vec3 velocity;","radius","triggerPoolEmitter","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","rotation","updateMin","_assignAngleValue","shrink","_checkParticleAges","multiplyScalar","chain","copy","resetUpdateRange","setFromArray","set","    return max(sign(x - y), 0.0);","attribute vec4 params;","SHOULD_WIGGLE_PARTICLES","colorize","    #ifdef SHOULD_ROTATE_TEXTURE","join","    vec3 vel = getVelocity( age );","distributionClamp","OBJECT","ensureInstanceOf","           unpackColor( color.w )","        pos = getRotation( pos, positionInTime );","activeMultiplier","      translated = rotationCenter - pos;","splice","_decrementParticleCount","`emitter` argument must be instance of SPE.Emitter. Was provided with:","ensureTypedArg","float when_gt(float x, float y) {","    #else","count","_calculatePPSValue","flagUpdate","432097VYIiSx","particles, can support only","_pool","6KwUUCa","5592440kmXlNo","paramFetchingFunctions","void main() {","prototype","Group","offset","removeEmitter","position","ceil","lerpTypeAgnostic","randomDirectionVector3OnDisc","   return params.w;","           unpackColor( color.z ),","setNumber","object","#define PACKED_COLOR_DIVISOR 255.0","   float b = mod( hex, PACKED_COLOR_SIZE );","activationIndex","undefined","table","    vColor = vec4( c, o );","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","Vector2","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","spread","particleCount","ensureValueOverLifetimeCompliance","apply","itemSize","randomVector3","indexOf","  return 1.0 - when_lt(x, y);","age","ensureArrayInstanceOf","    vec3 value = vec3( 0.0 );","fixedTimeStep","float getAge() {","generateUUID","resetDynamic","    pos += force;","bufferUpdateCount","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","uniform float runTime;","        float framesY = vSpriteSheet.y;","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","value","setVec4Components","typeSizeMap","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","       axis = normalize(axis);","float when_ge(float x, float y) {","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","typedArray","attributes","params","_distributionClamp","sqrt","frameCount","_updateUniforms","valueOverLifetimeLength","attribute vec4 angle;","velocity","angleSpread","depthWrite","        float rowNorm = row / framesY;","           unpackColor( color.y ),","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","axis","Emitter","        float rowNorm = vSpriteSheet.w;","        vSpriteSheet.x = 1.0 / framesX;","22DMpySs","grow","    varying vec4 vSpriteSheet;","        vSpriteSheet.z = columnNorm;","distribution","runTime","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","randomFloat","rotationCenter","reset","function *\\( *\\)","        float wiggleSin = isAlive * sin( wiggleAmount );","emitters","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    force += vel;","isStatic","resetFlags","uniform vec4 textureAnimation;","DynamicDrawUsage","distributions","_center","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","cos","setAttribute","Vector4","duration","opacity","_assignRotationValue","static","_spreadClamp","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","roundToNearestMultiple","MathUtils","deltaTime","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","ShaderChunk","        float loopCount = textureAnimation.w;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","textureFrames","_ensureTypedArray","#ifdef SHOULD_CALCULATE_SPRITE","    #ifdef SHOULD_WIGGLE_PARTICLES","TypedArray is already of size:","SHOULD_ROTATE_PARTICLES","setVec2Components","852235vuiaZe","number","Emitter does not belong to a group, cannot remove.","attribute vec3 rotationCenter;","_assignColorValue","sin","ShaderAttribute","       );","        pos.z += wiggleSin;","    force += accel * age;","setSize","transparent","clamp","fragment","      rotationMatrix = getRotationMatrix( axis, angle );","alive","_distribution","10DvHgjW","330798tnnoVp","           unpackColor( color.x ),","POSITIVE_INFINITY","counter","387336XYoGAq","_createBufferAttribute","2751759oVpwJN","attribute vec4 opacity;","_assignForceValue","float getWiggle() {","_createNewWhenPoolEmpty","enable","        float wiggleCos = isAlive * cos( wiggleAmount );","elements","dispose","shaders","_static","attributeKeys","getFromPool","        float perspective = 1.0;","273846jcJunh","updateMap","normalize","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","7FZFNoN","floatOverLifetime","       float c = cos( -vAngle );","attributeEnd","    vec4 rotatedTexture = texture2D( tex, vUv );","    return a * b;","center","branchAvoidanceFunctions","_angleSpread","releaseIntoPool","maxAge","__proto__","   c.b = b / PACKED_COLOR_DIVISOR;","addPool","vec3 unpackColor( in float hex ) {","uniform float deltaTime;","disable","array","float getMaxAge() {","BOOLEAN","Emitter already belongs to another group. Will not add to requested group.","_attributesNeedDynamicReset","NUMBER","textureFrameCount","_radius","isArray","    force *= drag;",'{}.constructor("return this")( )',"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","abs","spreadClamp","       vec3 c = vec3(1.0);","   }","_assignParamsValue","BufferAttribute","    float shouldApplyValue = 0.0;","clone","_updateDefines","componentSize","shaderChunks","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","        pos.x += wiggleSin;","init","utils","    vec3 outgoingLight = vColor.xyz;","colorOverLifetime","hasOwnProperty","usage","texture","    return value;","TypedArrayConstructor","hasPerspective","StaticDrawUsage","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    highp float alive = getAlive();","string","    highp float maxAge = getMaxAge();","frames","vec3 getVelocity( in float age ) {","warn","_value","uuid","defines","depthTest","alphaTest","while (true) {}","   return params.x;","updateMax","arrayType","_attributesNeedRefresh","wiggle","subarray","push","particlesPerSecond","    #ifdef SHOULD_CALCULATE_SPRITE","    highp float positionInTime = (age / maxAge);","_createGetterSetters","getLength","float when_lt(float x, float y) {","    highp float value = 0.0;","uniforms","max","function","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","updateRange","        pos.y += wiggleCos;","attribute vec4 size;","setDrawRange","drag","Vector3","        float totalFrames = textureAnimation.z;","angle","SPE.Group pool ran out.","attributeOffset","    #ifdef SHOULD_ROTATE_PARTICLES","dynamicBuffer","   vec3 c = vec3( 0.0 );","float or(float a, float b) {","Texture","random","activeParticleCount","vertex","setRGB","_spread","    highp float isAlive = when_gt( alive, 0.0 );","setVec3","blending","_poolCreationSettings","console","        float row = floor( (frameNumber - column) / framesX );","unshift","mesh","setVec4","_axis","textureLoop","        float framesY = textureAnimation.y;","REVISION","        float wiggleAmount = positionInTime * getWiggle();","types","Invalid argument types, or argument types do not match:","bufferAttribute","scale","_assignAbsLifetimeValue","indexOffset","      vec3 axis = unpackRotationAxis( rotation.x );","addEmitter","   return modelViewMatrix * vec4( position, 1.0 );","setVec2","interpolateArray","error","           return pos;","getHex","BOX","input","_randomise","    highp float age = getAge();","      if( rotation.y == 0.0 ) {","12kfGyOs","SHOULD_ROTATE_TEXTURE","AdditiveBlending","_incrementParticleCount","return (function() ","call","replace","updateFlags","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","randomVector3OnDisc","gger","remove","LINE","min","      vec3 translated;","    vec3 accel = getAcceleration( age );","logdepthbuf_pars_vertex","geometry","_angle","_updateAttributeUpdateRange","test","float getAlive() {","getPool","fog_pars_vertex","common","_assignPositionValue","SHOULD_CALCULATE_SPRITE","_radiusScale","_triggerSingleEmitter","       float s = sin(angle);","emitterIDs","log","randomVector3OnLine","acceleration","attribute vec4 acceleration;","exports","setUpdateRange","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","spe","_updateBuffers","maxParticleCount","randomColorAsHex","_setBufferUpdateRanges","color","needsUpdate","type","attributeCount","   c -= vec3( 1.0 );","onParticleSpawn","_onRemove","randomise","size","_axisSpread","tick","fog","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","bind","arrayValuesAreEqual","_resetBufferRanges","uniform sampler2D tex;","lerp","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    varying float vAngle;","SPHERE","NEGATIVE_INFINITY","    gl_Position = projectionMatrix * mvPosition;","boolean","bufferUpdateRanges","#endif","#define PACKED_COLOR_SIZE 256.0","_activateParticles","debu","material"];return(m=function(){return t})()}export{f as _};
