import{F as e,_ as s}from"./@tresjs.BCHtwiaC1763540743861.js";import{n as t,S as o,$ as n}from"./lamina.CxI2-h101763540743861.js";import"./three-custom-shader-material.C6taB_aY1763540743861.js";import{o as a,eq as r,x as i,l,ae as m,n as c,b4 as h,a5 as p,b5 as d,a0 as u,G as w,$ as f,au as j,V as g}from"./three.rXKzP9fQ1763540743861.js";import{d as k,a6 as y}from"./@vue.Co_gxueH1763540743861.js";import"./postprocessing.51l5tmA-1763540743861.js";import"./@vueuse.CfFJ-iFV1763540743861.js";import"./glsl-tokenizer.Cpn-d2QS1763540743861.js";import"./@amap.D8CfaEsq1763540743861.js";import"./glsl-token-descope.24zcwi031763540743861.js";import"./glsl-token-depth.Duvdnvlt1763540743861.js";import"./glsl-token-scope.BdCfdvWe1763540743861.js";import"./glsl-token-properties.DKXemF9b1763540743861.js";import"./glsl-token-assignments.Ctx_yUgS1763540743861.js";import"./glsl-token-string.JgxMz1Ls1763540743861.js";import"./glsl-token-functions.K9W8Yo431763540743861.js";class v{constructor(e={}){const{color:s="white",form:t="rect",intensity:o=1}=e,n={circle:new r(0,1,64),ring:new r(.5,1,64),rect:new a}[t],h=new i({side:m,color:new l(s)});h.color.multiplyScalar(o),this.material=h;const p=new c(n,h);this.mesh=p}}const x=k({__name:"environmentForLightformers",props:{resolution:{default:256},near:{default:1},far:{default:1e3}},setup(a){const r=a,i=new h(r.resolution);i.texture.type=p;const l=new d(r.near,r.far,i),m=new u,k=new w,x=new v;x.mesh.scale.set(10,10,1),x.mesh.position.set(0,5,-9),x.mesh.rotation.x=Math.PI/2;const b=new v({intensity:4});b.mesh.scale.set(20,.1,1),b.mesh.position.set(-5,1,-1),b.mesh.rotation.y=Math.PI/2;const z=new v;z.mesh.scale.set(20,.5,1),z.mesh.position.set(-5,-1,-1),z.mesh.rotation.y=Math.PI/2;const I=new v;I.mesh.scale.set(20,1,1),I.mesh.position.set(10,1,0),I.mesh.rotation.y=-Math.PI/2;const M=new v({form:"ring",color:"red"});M.mesh.scale.set(10,10,10),M.mesh.position.set(-15,4,-18),k.add(x.mesh,b.mesh,z.mesh,I.mesh,M.mesh);const P=new w;P.rotation.set(0,.5,0);const B=new w;P.add(B);[2,0,2,0,2,0,2,0].forEach((e,s)=>{const t=new v({form:"circle",intensity:2});t.mesh.rotation.x=Math.PI/2,t.mesh.scale.set(3,1,1),t.mesh.position.set(e,4,4*s),B.add(t.mesh)}),k.add(P);const _=new f(1,64,64),F=new t({side:j,layers:[new o({color:"#444",mode:"normal",alpha:1}),new n({colorA:"blue",colorB:"black",alpha:.5,mode:"normal",near:0,far:300,origin:new g(100,100,100)})]}),q=new c(_,F);q.scale.set(100,100,100),k.add(q);const{scene:A,renderer:E,sizes:G}=e();y(()=>{G.width.value&&m.add(k)});const{onBeforeRender:L}=s();return L(({delta:e})=>{A.value&&((B.position.z+=10*e)>20&&(B.position.z=-60),l.update(E,m),A.value.environment=i.texture,A.value.background=i.texture,A.value.backgroundBlurriness=1)}),(e,s)=>null}});export{x as default};
