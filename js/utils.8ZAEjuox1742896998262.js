import{c as t,B as n,l as e,ca as o,C as r,V as s,ab as c}from"./three.0CcRceKb1742896998262.js";import{w as i}from"./@fesjs.ATKJ6WD31742896998262.js";import{a}from"./@tresjs.KzbsBNvc1742896998262.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.gH28GZxM1742896998262.js";!function(t,n){const e=d,o=b();for(;;)try{if(126655===-parseInt(e(393))/1+parseInt(e(392))/2+parseInt(e(373))/3+parseInt(e(410))/4+-parseInt(e(391))/5*(parseInt(e(365))/6)+-parseInt(e(435))/7+-parseInt(e(394))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=d,n=new RegExp(t(426)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=B(t(382));n.test(o+t(364))&&e[t(371)](o+t(412))?B():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=d;let n;try{n=Function(t(415)+t(368)+");")()}catch(r){n=window}const e=n[t(427)]=n.console||{},o=[t(417),t(367),"info","error",t(375),"table",t(399)];for(let s=0;s<o[t(389)];s++){const n=g[t(422)][t(384)][t(404)](g),r=o[s],c=e[r]||n;n.__proto__=g[t(404)](g),n.toString=c[t(409)][t(404)](c),e[r]=n}}))();const m=(n,e=!1)=>{const o=d;n.computeBoundingBox();const{max:r,min:s}=n.boundingBox;n[o(385)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(379)][o(369)].count;t++)e?(a[o(411)]((n[o(379)][o(369)][o(429)](t)-(s.x+r.x)/2)/c),a[o(411)]((n.attributes[o(369)][o(363)](t)-(s.y+r.y)/2)/i)):(a[o(411)]((n.attributes[o(369)][o(429)](t)-s.x)/c),a[o(411)]((n[o(379)][o(369)].getY(t)-s.y)/i));const u=new Float32Array(a);n[o(407)]("uv",new t(u,2))},h=(t,n)=>new Promise(((e,o)=>{const r=d;i(t,{},{method:r(425),mergeRequest:!0,responseType:r(372)})[r(420)]((t=>{const o=r;n&&e(t[n]),e(t[o(366)])})).catch((t=>{console.error(t),o(t)}))}));function d(t,n){const e=b();return d=function(t,n){return e[t-=361]},d(t,n)}const w=t=>{const n=d,e=(new(THREE[n(423)])).setFromObject(t),o=new(THREE[n(398)]);e.getCenter(o),t[n(400)][n(370)]((t=>{const e=n;t[e(369)][e(374)](o)})),t[n(369)][n(387)](o[n(390)]())},y=()=>{const t=d;n[t(384)][t(408)]=u,n[t(384)][t(406)]=f,e[t(384)][t(434)]=p},x=async t=>{const n=d,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(362)][n(424)]();m(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(383)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(430)][n(403)]=!0,u[n(430)][n(396)]=!0,u[n(430)][n(421)]=!0,u.material[n(431)]=c,u[n(430)].uniforms[n(402)][n(388)].w=20,u[n(430)].uniforms[n(386)][n(388)]=.46,u};function b(){const t=["max","init","#fff","prototype","deleteAttribute","reflectivity","copy","value","length","negate","15FpWMnB","459856GrmWdY","180335KRGujh","746408zWFXia","setY","depthWrite","debu","Vector3","trace","children","set","config","transparent","bind","random","disposeBoundsTree","setAttribute","computeBoundsTree","toString","748884cJlgyD","push","input","gger","min","return (function() ","add","log","action","computeBoundingBox","then","depthTest","constructor","Box3","clone","get","function *\\( *\\)","console","divideScalar","getX","material","side","apply","stateObject","raycast","857640ZyPBwA","while (true) {}","getCenter","call","getSize","geometry","getY","chain","202830KgKEXV","features","warn",'{}.constructor("return this")( )',"position","forEach","test","json","621231JyjXSt","sub","exception","counter","count","boundingBox","attributes","applyMatrix4"];return(b=function(){return t})()}function j(t){const n=d,e=[];for(let r=0;r<t[n(389)];r++)e[n(411)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(389)];r++)o[n(416)](e[r]);o[n(428)](e[n(389)]);for(let r=0;r<e.length;r++)e[r][n(374)](o);return{points:e,centerPoint:o}}function B(t){function n(t){const e=d;if("string"==typeof t)return function(t){}.constructor(e(436))[e(432)](e(376));1!==(""+t/t)[e(389)]||t%20==0?function(){return!0}[e(422)](e(397)+e(413))[e(438)](e(418)):function(){return!1}[e(422)](e(397)+e(413))[e(432)](e(433)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,y as i,h as l,m as r,x as s};
