import{P as t}from"./tweakpane.yHWGBmom1725245456099.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.iWusBP1G1725245456099.js";import{_ as r}from"./heatmap.js-fix.ZaT5Ha2r1725245456099.js";import{h as i,a6 as s,cj as c,k as u}from"./three.KG2-8r0_1725245456099.js";import{r as a}from"./utils.kPQpcjJB1725245456099.js";import{d as p}from"./pinia.-1zGxVQz1725245456099.js";import{b as f,d as l,a1 as h,o as m,D as d,J as g,u as y,F as v,q as b,U as I,N as w,P as _,H as j,L as x,a4 as S,r as M,j as D,g as k,m as R}from"./@vue.Q1VpS3901725245456099.js";import{c as E,d as P,a as z}from"./three-mesh-bvh.MH1NM3HB1725245456099.js";import{_ as A}from"./@fesjs.Ns9rHvZ61725245456099.js";import"./@tresjs.j5vdYITq1725245456099.js";import"./@vueuse.whMtq_7M1725245456099.js";import"./three-custom-shader-material.1acQuOMU1725245456099.js";import"./object-hash.ycpyO56T1725245456099.js";import"./@amap.jyJWu-u51725245456099.js";import"./jszip.Bn2AE-kY1725245456099.js";import"./glsl-tokenizer.FsI169p21725245456099.js";import"./glsl-token-string.rmbt9Jq91725245456099.js";import"./glsl-token-functions.66NgBKOU1725245456099.js";import"./vue-router.tVftT0SA1725245456099.js";import"./lodash-es.nFpJXAf-1725245456099.js";import"./@qlin.yHhFDldE1725245456099.js";import"./@floating-ui.BPbuo5Gx1725245456099.js";import"./@juggle.7yjBMqoW1725245456099.js";function U(){const t=["function *\\( *\\)","__proto__","style","call","action","apply",'{}.constructor("return this")( )',"67030aeAShK","1854sFuvtv","1496998loelpR","counter","absolute","body","log","none","16BLkyGt","table","warn","getValueAt","_config","return (function() ","rgb(255,0,0)","createElement","gger","display","rgb(0,255,0)","height","447265bVFegx","chain","3ynjacx","length","position","while (true) {}","4190760GNuRcO","3196350mwWBGN","stateObject","string","info","743960FaBxbv","left","setData","input","rgb(0,0,255)","console","6050UPkSBf","debu","randInt","push","constructor","11879eSPXSn","appendChild"];return(U=function(){return t})()}!function(t,n){const e=B,o=U();for(;;)try{if(433011===-parseInt(e(122))/1+-parseInt(e(144))/2*(parseInt(e(164))/3)+parseInt(e(150))/4*(-parseInt(e(162))/5)+parseInt(e(143))/6*(-parseInt(e(133))/7)+-parseInt(e(168))/8+-parseInt(e(169))/9+-parseInt(e(142))/10*(-parseInt(e(128))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(140)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(t,n){const e=U();return(B=function(t,n){return e[t-=119]})(t,n)}!function(){T(this,(function(){const t=B,n=new RegExp(t(135)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=F("init");n.test(o+t(163))&&e.test(o+t(125))?F():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(140)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();O(void 0,(function(){const t=B;let n;try{n=Function(t(155)+t(141)+");")()}catch(r){n=window}const e=n[t(127)]=n[t(127)]||{},o=[t(148),t(152),t(121),"error","exception",t(151),"trace"];for(let i=0;i<o.length;i++){const n=O[t(132)].prototype.bind(O),r=o[i],s=e[r]||n;n[t(136)]=O.bind(O),n.toString=s.toString.bind(s),e[r]=n}}))();const Z=(t,n)=>t[B(153)](n)+-10;function F(t){function n(t){const e=B;if(typeof t===e(120))return function(t){}[e(132)](e(167))[e(140)](e(145));1!==(""+t/t)[e(165)]||t%20==0?function(){return!0}[e(132)](e(129)+"gger")[e(138)](e(139)):function(){return!1}[e(132)]("debu"+e(158)).apply(e(119)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function G(t,n){const e=J();return(G=function(t,n){return e[t-=107]})(t,n)}const L=G;!function(t,n){const e=G,o=J();for(;;)try{if(795445===parseInt(e(142))/1*(-parseInt(e(134))/2)+-parseInt(e(139))/3+parseInt(e(143))/4+-parseInt(e(137))/5*(-parseInt(e(132))/6)+-parseInt(e(125))/7*(parseInt(e(123))/8)+-parseInt(e(109))/9*(-parseInt(e(114))/10)+parseInt(e(115))/11*(-parseInt(e(136))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(108)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=G,n=new RegExp(t(127)),e=new RegExp(t(141),"i"),o=q(t(121));n[t(116)](o+"chain")&&e[t(116)](o+t(128))?q():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(){const t=["__proto__","action","exception","init","constructor","1180728rCuyTX","table","35pjmWoh","trace","function *\\( *\\)","input","value","info","bind","959586mrrGRQ","console","692RLEduK",'{}.constructor("return this")( )',"36bXcJyj","45nZnDNu","counter","1396860MqoeDv","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1042JUTtob","2900572xUmslk","gger","apply","13581PexSav","buildingsHeatmap","debu","prototype","toString","8330PKyQTk","3893879DkfpXN","test","length"];return(J=function(){return t})()}N(void 0,(function(){const t=G;let n;try{n=Function("return (function() "+t(135)+");")()}catch(r){n=window}const e=n.console=n[t(133)]||{},o=["log","warn",t(130),t(140),t(120),t(124),t(126)];for(let i=0;i<o[t(117)];i++){const n=N[t(122)][t(112)][t(131)](N),r=o[i],s=e[r]||n;n[t(118)]=N[t(131)](N),n[t(113)]=s[t(113)][t(131)](s),e[r]=n}}))();const X=p(L(110),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[G(129)]=n},setTemperature:function(t){n[G(129)]=t}}}));function q(t){function n(t){const e=G;if("string"==typeof t)return function(t){}[e(122)]("while (true) {}")[e(108)](e(138));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(111)+e(107)).call(e(119)):function(){return!1}[e(122)](e(111)+e(107))[e(108)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=K;!function(t,n){const e=K,o=Y();for(;;)try{if(293803===-parseInt(e(189))/1*(-parseInt(e(135))/2)+parseInt(e(143))/3*(parseInt(e(181))/4)+-parseInt(e(184))/5+parseInt(e(175))/6*(parseInt(e(141))/7)+-parseInt(e(147))/8+-parseInt(e(160))/9*(parseInt(e(203))/10)+parseInt(e(196))/11*(parseInt(e(139))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(201)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(){const t=["buildingsHeatmap","disposeBoundsTree","2352875YbaTrG","stateObject","matrix","return (function() ","raycast","1cVrdLI","test","applyMatrix4","call","prototype","warn","数值：","314413UpLqau","while (true) {}","info","setShowDiv","value","apply","rotation-x","170pmxLHZ","height","log","593078NrAMug","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","needsUpdate","exception","144iUUPzQ","Texture","778603PJdnwI","debu","1665273zhotpy","uOpacity","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","action","464656HgSJfy","DoubleSide","Matrix4","computeBoundsTree","canvas","bind","primitive","clone","constructor","object","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","normal","255915jeqpbM","trace","attributes","city","toString","console",'{}.constructor("return this")( )',"数值———：","BufferGeometry","Mesh","init","opacity","function *\\( *\\)","model","length","6aDvTsE","geometry","$patch","_config","chain","table","4EZfaFe"];return(Y=function(){return t})()}!function(){V(this,(function(){const t=K,n=new RegExp(t(172)),e=new RegExp(t(158),"i"),o=nt(t(170));n[t(190)](o+t(179))&&e.test(o+"input")?nt():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=K;let n;try{n=Function(t(187)+t(166)+");")()}catch(r){n=window}const e=n[t(165)]=n[t(165)]||{},o=[t(134),t(194),t(198),"error",t(138),t(180),t(161)];for(let i=0;i<o[t(174)];i++){const n=C[t(155)][t(193)][t(152)](C),r=o[i],s=e[r]||n;n.__proto__=C.bind(C),n.toString=s[t(164)][t(152)](s),e[r]=n}}))();const Q=[H(156),H(202)],W=[H(156)];function K(t,n){const e=Y();return(K=function(t,n){return e[t-=134]})(t,n)}const tt=l({__name:H(182),props:{model:{},opacity:{default:1}},setup(t){const n=H;(()=>{const t=K;s[t(168)].prototype[t(150)]=E,s[t(168)].prototype[t(183)]=P,s[t(169)].prototype[t(188)]=z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document[o(157)]("heatmap-canvas");return i[o(137)][o(166)]=o(146),!e&&(i[o(137)][o(159)]=o(149)),i[o(137)].top="0",i[o(137)][o(123)]="0",document[o(147)][o(134)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(126),.55:o(160),.85:"yellow",1:o(156)}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n[e(131)]({x:i[e(130)](1,t[e(154)].width),y:i[e(130)](1,t._config[e(161)]),value:i.randInt(-10,36)}),o++}t[e(124)]({max:36,min:-10,data:n})})(o);const p=new(s[n(140)])(o._renderer[n(151)]);p[n(137)]=!0;const f=e[n(173)][n(163)][n(154)]();delete f[n(176)][n(162)][n(159)],delete f[n(176)][n(162)].uv;const l=f[n(176)][n(154)]()[n(191)](f[n(186)]),b=e[n(173)].land[n(154)]();delete b.geometry[n(162)][n(159)];const I=b[n(176)][n(154)]().applyMatrix4(b.matrix),w=c([l,I]);w.applyMatrix4((new(s[n(149)])).makeRotationX(Math.PI/2)),a(w),w.computeBoundsTree();const _=(t=>{const o=n;return new u({vertexShader:o(136),fragmentShader:o(145),uniforms:{uOpacity:{value:e[o(171)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:s[o(148)]})})(p),j=new(s[n(169)])(w,_);h((()=>{const t=n;e[t(171)]&&(_.uniforms[t(144)][t(200)]=e[t(171)])}));const x=X(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(178)].width,y:(1-t.uv.y)*o[e(178)][e(204)]};console[e(134)](e(195),t),console[e(134)](e(167),Z(o,n)),x.setTemperature(Z(o,n))}},M=t=>{t&&x[n(177)]({showDiv:!0})},D=t=>{t&&x[n(199)](!1)};return(t,o)=>{const r=n;return m(),d(v,null,[g("primitive",{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:M,onPointerLeave:D},null,40,Q),g(r(153),{object:e[r(173)].model.children[0].clone()},null,8,W)],64)}}});function nt(t){function n(t){const e=K;if("string"==typeof t)return function(t){}[e(155)](e(197))[e(201)]("counter");1!==(""+t/t)[e(174)]||t%20==0?function(){return!0}[e(155)](e(142)+e(157))[e(192)](e(146)):function(){return!1}[e(155)]("debu"+e(157))[e(201)](e(185)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=A({__name:"dataDiv",setup(t){const n=X(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>w((m(),d("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=st;!function(t,n){const e=st,o=ct();for(;;)try{if(483224===-parseInt(e(491))/1+parseInt(e(478))/2*(-parseInt(e(503))/3)+-parseInt(e(476))/4*(-parseInt(e(520))/5)+-parseInt(e(496))/6*(-parseInt(e(504))/7)+parseInt(e(501))/8+parseInt(e(516))/9+-parseInt(e(518))/10*(parseInt(e(492))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=st,n=new RegExp(t(506)),e=new RegExp(t(497),"i"),o=at(t(487));n[t(494)](o+t(508))&&e[t(494)](o+t(480))?at():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=ct();return(st=function(t,n){return e[t-=476]})(t,n)}function ct(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","heatmap2","table","while (true) {}","5106928AhqAMz","constructor","6771xGBRbh","91LmUPIt","log","function *\\( *\\)",'{}.constructor("return this")( )',"chain","length","action","counter","value","return (function() ","exception","console","7879977NMAXby","info","16150lWlpCN","call","5JgOBDn","1526788rJUaQC","透明度","74GpxVmY","prototype","input","builds","bind","city","apply","debu","stateObject","init","addBinding","toString","opacity","50837GjHzMv","9449DIgmYO","gger","test","#000","50418GrhOvY"];return(ct=function(){return t})()}it(void 0,(function(){const t=st;let n;try{n=Function(t(513)+t(507)+");")()}catch(r){n=window}const e=n[t(515)]=n[t(515)]||{},o=[t(505),"warn",t(517),"error",t(514),t(499),"trace"];for(let i=0;i<o[t(509)];i++){const n=it.constructor[t(479)][t(482)](it),r=o[i],s=e[r]||n;n.__proto__=it[t(482)](it),n.toString=s[t(489)][t(482)](s),e[r]=n}}))();const ut=l({__name:ot(498),async setup(r){const i=ot;let s,c;const u=f(!1),a=([s,c]=S((()=>o())),s=await s,c(),s);u[i(512)]=!0;const p=M({width:1,color:i(495),opacity:1,show:!0}),l=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(488)](l,i(490),{label:i(477),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),d(v,null,[D(e,{showBuildings:!1,autoRotate:!1},{ability:k((()=>[D(tt,R({model:y(a)},l),null,16,["model"]),D(n,R(p,{builds:y(a)[r(483)]}),null,16,[r(481)])])),_:1}),D(et)],64)}}});function at(t){function n(t){const e=st;if("string"==typeof t)return function(t){}[e(502)](e(500))[e(484)](e(511));1!==(""+t/t)[e(509)]||t%20==0?function(){return!0}[e(502)](e(485)+e(493))[e(519)](e(510)):function(){return!1}[e(502)]("debu"+e(493)).apply(e(486)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
