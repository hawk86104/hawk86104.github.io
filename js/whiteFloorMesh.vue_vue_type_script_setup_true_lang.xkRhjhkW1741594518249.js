import{_ as t,bO as n,C as o}from"./three.8y0_KTxz1741594518249.js";import{a as r}from"./@tresjs.gjafZgVK1741594518249.js";import{d as e,b as a,a3 as s,w as i,o as c,H as u,N as f,aj as l,ak as p}from"./@vue.NRI7TcgI1741594518249.js";!function(t,n){const o=h,r=v();for(;;)try{if(951137===-parseInt(o(432))/1*(parseInt(o(426))/2)+parseInt(o(448))/3*(-parseInt(o(437))/4)+parseInt(o(466))/5*(parseInt(o(471))/6)+parseInt(o(449))/7+-parseInt(o(461))/8+-parseInt(o(453))/9+parseInt(o(447))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[h(422)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function h(t,n){const o=v();return(h=function(t,n){return o[t-=421]})(t,n)}!function(){d(this,(function(){const t=h,n=new RegExp(t(430)),o=new RegExp(t(428),"i"),r=_(t(472));n[t(431)](r+"chain")&&o[t(431)](r+t(433))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[h(422)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(){const t=["error","worldpos_vertex","shadowmap_pars_vertex","begin_vertex","2560355PRhKtH","shadowmask_pars_fragment","\n          ","\n       void main() {\n\t\t\t\t\t","packing","6dVbEzH","init","length","apply","console","lights_pars_begin","ShaderChunk","4bgTyut","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","project_vertex","function *\\( *\\)","test","852953tvSUFV","input","toString","shadowmap_pars_fragment","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","1510324EQyvGl","\n\t ","debu","counter","shadowmap_vertex","while (true) {}","trace","beginnormal_vertex","constructor","string","34710780IEjZyH","15iWwljZ","12965043zDqGPC","action","bind","gger","10903320KkJXmv","table","common","warn","\n      \t","log","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","defaultnormal_vertex","630960aPfsUI"];return(v=function(){return t})()}g(void 0,(function(){const t=h;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(e){n=window}const o=n.console=n[t(423)]||{},r=[t(458),t(456),"info",t(462),"exception",t(454),t(443)];for(let a=0;a<r[t(421)];a++){const n=g[t(445)][t(427)][t(451)](g),e=r[a],s=o[e]||n;n.__proto__=g[t(451)](g),n[t(434)]=s.toString.bind(s),o[e]=n}}))();const m=()=>{const n=h;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[n(425)][n(455)]+n(457)+t[n(425)].bsdfs+n(457)+t[n(425)][n(464)]+n(469)+t[n(425)][n(444)]+n(468)+t[n(425)][n(460)]+n(468)+t[n(425)][n(465)]+n(468)+t[n(425)][n(429)]+"\n          "+t[n(425)][n(463)]+n(468)+t[n(425)][n(441)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},w=()=>{const o=h;return o(459)+t[o(425)].common+o(438)+t[o(425)][o(470)]+"\n\t "+n.bsdfs+o(438)+t[o(425)][o(424)]+o(438)+t[o(425)][o(435)]+o(438)+t[o(425)][o(467)]+o(436)};function _(t){function n(t){const o=h;if(typeof t===o(446))return function(t){}[o(445)](o(442)).apply(o(440));1!==(""+t/t)[o(421)]||t%20==0?function(){return!0}[o(445)](o(439)+o(452)).call(o(450)):function(){return!1}[o(445)](o(439)+"gger")[o(422)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=I;!function(t,n){const o=I,r=S();for(;;)try{if(505293===parseInt(o(156))/1+parseInt(o(182))/2*(parseInt(o(161))/3)+parseInt(o(138))/4+parseInt(o(154))/5+parseInt(o(188))/6*(parseInt(o(169))/7)+parseInt(o(143))/8+-parseInt(o(149))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(159)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=I,n=new RegExp(t(180)),o=new RegExp(t(167),"i"),r=U(t(194));n[t(151)](r+t(189))&&o[t(151)](r+t(177))?U():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function I(t,n){const o=S();return(I=function(t,n){return o[t-=138]})(t,n)}function S(){const t=["toString","edge","4389930NBjsSj","color","804308SAWYPr","rotation-x","wrapS","apply","gger","932328kqiEip","while (true) {}","DoubleSide","lights","trace","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","3241ycNvti","length","fEdge","UniformsLib","UniformsUtils","bind","error","stateObject","input","table","TresShaderMaterial","function *\\( *\\)","shadowColor","6vwdMUR","constructor","__proto__",'{}.constructor("return this")( )',"value","uColor","6702oJyffH","chain","RepeatWrapping","log","TresMesh","exception","init","2816964JQUKvg","size","#990","wrapT","uniforms","873192OoZKrT","Color","whiteFloorMesh","#999","debu","string","30959010DxvpZK","call","test"];return(S=function(){return t})()}y(void 0,(function(){const t=I,n=function(){const t=I;let n;try{n=Function(t(166)+t(185)+");")()}catch(o){n=window}return n}(),o=n.console=n.console||{},r=[t(191),"warn","info",t(175),t(193),t(178),t(165)];for(let e=0;e<r[t(170)];e++){const n=y.constructor[t(168)][t(174)](y),a=r[e],s=o[a]||n;n[t(184)]=y.bind(y),n[t(152)]=s[t(152)].bind(s),o[a]=n}}))();const C=[b(157)],j=["args"],E=e({__name:b(145),props:{size:{default:[20,20]},color:{default:b(140)},shadowColor:{default:b(146)},edge:{default:.35}},async setup(n){const e=b;let d,h;const g=n,v=a(),{map:_}=([d,h]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,h(),d);_[e(158)]=_[e(141)]=t[e(190)];const x={uniforms:t[e(173)].merge([t[e(172)][e(164)],{uTexture:{type:"t",value:_},uColor:{value:new o(g[e(155)])},uShadowColor:{value:new(t[e(144)])(g.shadowColor)},fEdge:{type:"f",value:g.edge}}]),side:t[e(163)],vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return i((()=>g[e(153)]),(t=>{const n=e;x[n(142)][n(171)][n(186)]=t})),i((()=>g[e(155)]),(n=>{const o=e;x[o(142)][o(187)].value=new(t[o(144)])(g.color)})),i((()=>g[e(181)]),(n=>{const o=e;x[o(142)].uShadowColor[o(186)]=new(t[o(144)])(g[o(181)])})),(t,n)=>{const o=e;return c(),u(o(192),{ref_key:"tmRef",ref:v,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:g[o(139)]},null,8,j),f(o(179),l(p(x)),null,16)],8,C)}}});function U(t){function n(t){const o=I;if(typeof t===o(148))return function(t){}.constructor(o(162))[o(159)]("counter");1!==(""+t/t)[o(170)]||t%20==0?function(){return!0}[o(183)](o(147)+o(160))[o(150)]("action"):function(){return!1}[o(183)](o(147)+o(160))[o(159)](o(176)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
