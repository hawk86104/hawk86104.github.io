import{$ as t,C as n,b$ as e,ak as r,am as o}from"./three.CQvcOG671729762363846.js";import{q as s,p as c,U as a,Y as i}from"./@tresjs.CmAaFQUS1729762363846.js";import{P as u}from"./tweakpane.BCjFYDHx1729762363846.js";import{r as l,u as f}from"./device.B72rUaks1729762363846.js";import{d as p,a5 as d,a2 as h,o as m,E as g,L as b,u as w,F as _,r as y,e as I,f as j,g as v,j as x,aj as k,ak as C,al as A,m as B}from"./@vue.n8X62v121729762363846.js";import"./@vueuse.DvZn62wO1729762363846.js";const R=T;function T(t,n){const e=F();return(T=function(t,n){return e[t-=331]})(t,n)}!function(t,n){const e=T,r=F();for(;;)try{if(728502===-parseInt(e(346))/1*(parseInt(e(343))/2)+parseInt(e(336))/3*(-parseInt(e(378))/4)+parseInt(e(331))/5*(parseInt(e(344))/6)+-parseInt(e(372))/7*(-parseInt(e(359))/8)+parseInt(e(355))/9*(parseInt(e(339))/10)+-parseInt(e(387))/11+-parseInt(e(362))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){z(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=P("init");n[t(361)](r+"chain")&&e[t(361)](r+t(364))?P():r("0")}))()}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[T(347)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();L(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function("return (function() "+t(351)+");")()}catch(e){n=window}return n}(),e=n[t(370)]=n[t(370)]||{},r=[t(386),t(376),t(353),"error",t(356),t(338),t(340)];for(let o=0;o<r[t(354)];o++){const n=L[t(349)][t(341)][t(352)](L),s=r[o],c=e[s]||n;n[t(334)]=L[t(352)](L),n[t(350)]=c[t(350)][t(352)](c),e[s]=n}}))();const S=[R(335)],E=[R(335)];function F(){const t=["warn","traverse","246216AqgQsw","isMesh","black","while (true) {}","floor","counter","./draco/","ByComposerTres","log","4351193UmuWdF","strength","2485CNwsmD","value","clone","__proto__","object","12uFDafz","width","table","143540fpPuPm","trace","prototype","debu","4CnRjcg","13164KOxhBF","radius","527164EzmhrM","apply","threshold","constructor","toString",'{}.constructor("return this")( )',"bind","info","length","792tCRjXv","exception","gger","uuid","2456lIjQUJ","Sketchfab_model","test","8177016sutYfH","primitive","input","blades_turbine_003","string","material","getObjectByName","canister_turbine_011_Nickel-Light-PBR_0","console","height","17157iWKKnf","hull_turbine","red","render"];return(F=function(){return t})()}const M=p({__name:R(385),props:{threshold:{default:0},strength:{default:.972},radius:{default:.21}},async setup(e){const r=R;let o,i;const u=e,{nodes:p}=([o,i]=d((()=>s("./plugins/industry4/model/modelDraco.glb",{draco:!0,decoderPath:r(384)}))),o=await o,i(),o),y=l(p.Sketchfab_model),{camera:I,renderer:j,scene:v,sizes:x}=c();let k=null,C=null,A=null;const B=new t({color:r(380)});h((()=>{const t=r;if(I[t(332)]){const{finalComposer:n,effectComposer:e,bloomPass:r}=f(v.value,I.value,j[t(332)],x[t(337)][t(332)],x[t(371)][t(332)]);k=n,C=e,A=r,A[t(348)]=u[t(348)],A[t(388)]=u.strength,A.radius=u[t(345)]}u[t(348)]&&(A[t(348)]=u[t(348)]),u[t(388)]&&(A[t(388)]=u.strength),u[t(345)]&&(A[t(345)]=u[t(345)])}));const T={},{onLoop:z,onAfterLoop:L}=a();let F=p[r(360)][r(368)](r(369)),M=F[r(367)][r(333)](),P=new t({color:new n(r(374)),transparent:!0,opacity:1});return z((({elapsed:t})=>{const n=r;p[n(373)]&&(p[n(373)].rotation.x+=.03,p[n(365)].rotation.x+=.03),Math[n(382)](t)%2?F[n(367)]=M:F[n(367)]=P})),L((({elapsed:t})=>{const n=r;C&&(v[n(332)].traverse((t=>{(t=>{const n=r;t[n(379)]&&(T[t[n(358)]]=t[n(367)],t.material=B)})(t)})),C[n(375)](t)),k&&(v[n(332)][n(377)]((t=>{(t=>{const n=r;T[t[n(358)]]&&(t[n(367)]=T[t[n(358)]],delete T[t[n(358)]])})(t)})),k[n(375)](t))})),(t,n)=>{const e=r;return m(),g(_,null,[b(e(363),{object:w(p)[e(360)]},null,8,S),b(e(363),{object:w(y)},null,8,E)],64)}}});function P(t){function n(t){const e=T;if(typeof t===e(366))return function(t){}[e(349)](e(381))[e(347)](e(383));1!==(""+t/t).length||t%20==0?function(){return!0}[e(349)](e(342)+e(357)).call("action"):function(){return!1}.constructor(e(342)+e(357))[e(347)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=Z;!function(t,n){const e=Z,r=D();for(;;)try{if(739132===parseInt(e(344))/1+parseInt(e(330))/2*(-parseInt(e(346))/3)+parseInt(e(334))/4*(-parseInt(e(357))/5)+-parseInt(e(365))/6+parseInt(e(360))/7+parseInt(e(324))/8+-parseInt(e(336))/9*(-parseInt(e(329))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(338)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){$(this,(function(){const t=Z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(342),"i"),r=Q("init");n[t(353)](r+t(327))&&e[t(353)](r+t(341))?Q():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(338)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function D(){const t=["TresCanvas","call","post-processing","test","action","__proto__","stateObject","184255VRcJda","console","addBinding","2165191kKXfnQ","string","#ffffff","prototype","return (function() ","7961526dAXuMA","strength","1054264UtixJw","length","exception","chain","error","10WfdkTU","4hBaOIU","gger","radius","log","8ntXSdL","while (true) {}","6899202mFthsy","table","apply","threshold","TresAmbientLight","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresPerspectiveCamera","1090439AVVSJn","toString","237537dBayMt","bind","info","#000"];return(D=function(){return t})()}O(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(364)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(358)]||{},r=[t(333),"warn",t(348),t(328),t(326),t(337),"trace"];for(let o=0;o<r[t(325)];o++){const n=O.constructor[t(363)][t(347)](O),s=r[o],c=e[s]||n;n[t(355)]=O.bind(O),n[t(345)]=c[t(345)][t(347)](c),e[s]=n}}))();const J=b(U(343),{position:[5,5,5],fov:45,near:1,far:1e3},null,-1),K=b(U(340),{color:U(362),intensity:"40"},null,-1),X=b("TresDirectionalLight",{position:[0,2,-4],intensity:1},null,-1);function Z(t,n){const e=D();return(Z=function(t,n){return e[t-=323]})(t,n)}const N=p({__name:"deviceLightByComposerTres",setup(t){const n=U,s=y({clearColor:n(349),shadows:!0,alpha:!1,shadowMapType:e,outputColorSpace:r,toneMapping:o}),c=y({autoRotate:!0}),a=y({threshold:0,strength:.972,radius:.21}),l=new u({title:"参数"});return l[n(359)](a,n(339),{label:"阈值",min:0,max:1,step:.1}),l[n(359)](a,n(323),{label:"强度",min:0,max:3,step:.2}),l[n(359)](a,n(332),{label:"半径",min:0,max:1,step:.1}),l.addBlade({view:"text",label:n(352),parse:t=>String(t),value:"未完成：等待Tresjs库更新"}),(t,e)=>{const r=I(n(350));return m(),j(r,B(s,{"window-size":""}),{default:v((()=>[J,x(w(i),k(C(c)),null,16),K,X,(m(),j(A,null,{default:v((()=>[x(M,k(C(a)),null,16)])),_:1}))])),_:1},16)}}});function Q(t){function n(t){const e=Z;if(typeof t===e(361))return function(t){}.constructor(e(335))[e(338)]("counter");1!==(""+t/t)[e(325)]||t%20==0?function(){return!0}.constructor("debugger")[e(351)](e(354)):function(){return!1}.constructor("debu"+e(331)).apply(e(356)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{N as default};
