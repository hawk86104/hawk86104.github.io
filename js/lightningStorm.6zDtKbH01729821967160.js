import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.pvEe3GsE1729821967160.js";import{B as i,V as s,cs as n,ab as e,X as r,h as o,an as a,$ as h,s as c,_ as u}from"./three.x4oqFJNT1729821967160.js";import{U as l,e as p,F as d}from"./@tresjs.QjD7q5YC1729821967160.js";import{c as m}from"./simplex-noise.P9JMzoHY1729821967160.js";import{d as f,a3 as g,o as y,E as b,u as v,r as w,j as x,g as _,m as S,F as P}from"./@vue.JNsx1iN61729821967160.js";import"./index.xVqKXWSu1729821967160.js";import{_ as I}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.2NvSUyNP1729821967160.js";import"./three-custom-shader-material.WGQvdF_T1729821967160.js";import"./object-hash.nNsVfdic1729821967160.js";import"./@amap.Y4sQVtej1729821967160.js";import"./jszip.tCm-hQZR1729821967160.js";import"./glsl-tokenizer.kwkA-85M1729821967160.js";import"./glsl-token-string.piZje__F1729821967160.js";import"./glsl-token-functions.eRxQXCQh1729821967160.js";import"./@vueuse.HMG_JnUD1729821967160.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.yoGxxmGc1729821967160.js";import"./all.three.x-72c36p1729821967160.js";import"./oimophysics.x0jH7fze1729821967160.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.iAW5Ex2N1729821967160.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.U5W1A2RG1729821967160.js";import"./index.rr4JiF8d1729821967160.js";import"./three-stdlib.7oc1T0_b1729821967160.js";import"./@pmndrs.Bb7jBcbP1729821967160.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.SIF_yMdv1729821967160.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.K0R8O5Kj1729821967160.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.Lp3DrC251729821967160.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.fFwdMlX41729821967160.js";const M=F;!function(t,i){const s=F,n=j();for(;;)try{if(618715===parseInt(s(160))/1+-parseInt(s(281))/2+-parseInt(s(261))/3+parseInt(s(222))/4*(-parseInt(s(303))/5)+parseInt(s(295))/6*(-parseInt(s(188))/7)+parseInt(s(171))/8+-parseInt(s(216))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const T=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[F(255)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){T(this,(function(){const t=F,i=new RegExp(t(180)),s=new RegExp(t(204),"i"),n=A(t(181));i[t(205)](n+t(237))&&s[t(205)](n+"input")?A():n("0")}))()}();const R=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[F(255)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function j(){const t=["seed","needsUpdate","index","getSeed","function *\\( *\\)","init","roughness","while (true) {}","min","noiseSeed","simplexX","currentCoordinate","798lNaWNH","random","setAttribute","RAY_PROPAGATING","middlePos","currentSubray","maxSubrayRecursion","set","currentVertex","RAY_UNBORN","createPrism","fractalRay","uvs","ramification","push","linPos1","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","floor","updateMesh","fillMesh","sourceOffset","up1","maxSubrays","position","raySegments","vPos","rayParameters","855441pCetCc","destOffset","currentIndex","onDecideSubrayCreation","forwardsFill","vertices","87956ybfsjD","subrayPeriod","forwards","gger","lerp","cos","copyParameters","fraction1","radius1","linPos0","propagationTimeFactor","pos0","stateObject","RAY_STEADY","initSubray","chain","COS30DEG","RAY_EXTINGUISHED","usage","endPropagationTime","bind","isEternal","array","createRandomGenerator","middleLinPos","currentCreateTriangleVertices","createSegment","createTriangleVerticesWithoutUVs","constructor","indices","down","isStatic","length","apply","SIN30DEG","console","cross1","currentSegmentCallback","fractalRayRecursive","1270287cPwoRS","pow","positionAttribute","timeScale","uvsAttribute","positionVariationFactor","add","createMesh","fraction0","createTriangleVerticesWithUVs","clone","recursion","crossVectors","side","max","getNewSegment","visible","currentUVCoordinate","warn","radius1Factor","880152RdIhbv","createDefaultSubrayCreationCallbacks","seedGenerator","currentSeed","deathTime","setIndex","simplexZ","subrays","addNewSubray","state","string","randomGenerator",'{}.constructor("return this")( )',"recursionProbability","8298CshJAa","numSubrays","straightness","type","up0","counter","radius0","prototype","5lSKCwt","RAY_VANISHING","setSeed","newPos","maxIterations","multiplyScalar","count","beginVanishingTime","subrayDutyCycle","copy","currentSegmentIndex","toString","generateUVs","sub","timeFraction","pos1","isInitialSegment","debu","lerpVectors","createPrismFaces","vanishingTimeFactor","birthTime","subVectors","onSubrayCreation","991279BeJLdg","maxRaySegments","call","radius0Factor","update","normalize","sin","subrayProbability","info","time","RAY_INITIALIZED","6125128fWZleG","iteration","action","ceil","minRadius"];return(j=function(){return t})()}function F(t,i){const s=j();return(F=function(t,i){return s[t-=148]})(t,i)}R(void 0,(function(){const t=F,i=function(){const t=F;let i;try{i=Function("return (function() "+t(293)+");")()}catch(s){i=window}return i}(),s=i.console=i[t(257)]||{},n=["log",t(279),t(168),"error","exception","table","trace"];for(let e=0;e<n[t(254)];e++){const i=R.constructor[t(302)][t(242)](R),r=n[e],o=s[r]||i;i.__proto__=R[t(242)](R),i[t(314)]=o.toString[t(242)](o),s[r]=i}}))();class C extends i{constructor(t={}){const i=F;super(),this.isLightningStrike=!0,this[i(298)]="LightningStrike",this.init(C[i(228)](t,t)),this[i(268)]()}static[M(245)](){const t=M,i=2053,s=[];for(let e=0;e<i;e++)s[t(202)](Math.random());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(284)]];return n[e(284)]=(n[e(284)]+1)%i,r},getSeed:function(){return n[t(284)]/i},setSeed:function(s){const e=t;n[e(284)]=Math[e(206)](s*i)%i}};return n}static copyParameters(t={},i={}){const n=M,e=function(s){return i===t?s:s[F(271)]()};return t.sourceOffset=void 0!==i[n(209)]?e(i[n(209)]):new s(0,100,0),t.destOffset=void 0!==i[n(217)]?e(i[n(217)]):new s(0,0,0),t.timeScale=void 0!==i[n(264)]?i[n(264)]:1,t[n(182)]=void 0!==i.roughness?i.roughness:.9,t[n(297)]=void 0!==i[n(297)]?i[n(297)]:.7,t[n(299)]=void 0!==i.up0?e(i[n(299)]):new s(0,0,1),t.up1=void 0!==i.up1?e(i[n(210)]):new s(0,0,1),t[n(301)]=void 0!==i[n(301)]?i[n(301)]:1,t[n(230)]=void 0!==i.radius1?i.radius1:1,t.radius0Factor=void 0!==i[n(163)]?i.radius0Factor:.5,t.radius1Factor=void 0!==i[n(280)]?i[n(280)]:.2,t.minRadius=void 0!==i[n(175)]?i[n(175)]:.2,t[n(243)]=void 0!==i.isEternal?i[n(243)]:void 0===i[n(157)]||void 0===i[n(285)],t.birthTime=i[n(157)],t.deathTime=i[n(285)],t.propagationTimeFactor=void 0!==i[n(232)]?i[n(232)]:.1,t[n(156)]=void 0!==i[n(156)]?i.vanishingTimeFactor:.9,t.subrayPeriod=void 0!==i[n(223)]?i[n(223)]:4,t[n(311)]=void 0!==i[n(311)]?i[n(311)]:.6,t[n(307)]=void 0!==i[n(307)]?i[n(307)]:9,t[n(253)]=void 0!==i[n(253)]&&i.isStatic,t[n(201)]=void 0!==i[n(201)]?i[n(201)]:5,t[n(194)]=void 0!==i[n(194)]?i[n(194)]:3,t[n(294)]=void 0!==i.recursionProbability?i[n(294)]:.6,t.generateUVs=void 0!==i[n(148)]&&i[n(148)],t[n(292)]=i[n(292)],t[n(185)]=i[n(185)],t[n(219)]=i[n(219)],t[n(159)]=i[n(159)],t}[M(164)](t){const i=M;this[i(253)]||(this[i(215)].isEternal||this[i(215)].birthTime<=t&&t<=this.rayParameters.deathTime?(this[i(207)](t),t<this[i(288)][0].endPropagationTime?this.state=C[i(191)]:t>this[i(288)][0][i(310)]?this.state=C[i(304)]:this[i(290)]=C[i(235)],this[i(277)]=!0):(this[i(277)]=!1,t<this[i(215)][i(157)]?this[i(290)]=C[i(197)]:this[i(290)]=C[i(239)]))}[M(181)](t){const i=M;this.rayParameters=t,this[i(307)]=void 0!==t.maxIterations?Math[i(206)](t[i(307)]):9,t[i(307)]=this[i(307)],this[i(253)]=void 0!==t[i(253)]&&t[i(253)],t[i(253)]=this[i(253)],this[i(201)]=void 0!==t[i(201)]?Math[i(206)](t[i(201)]):5,t.ramification=this[i(201)],this[i(194)]=void 0!==t[i(194)]?Math.floor(t[i(194)]):3,t.maxSubrayRecursion=this[i(194)],this[i(294)]=void 0!==t.recursionProbability?t[i(294)]:.6,t.recursionProbability=this[i(294)],this[i(148)]=void 0!==t[i(148)]&&t[i(148)],t[i(148)]=this[i(148)],void 0!==t[i(292)]?(this[i(292)]=t[i(292)],this.seedGenerator=t[i(292)],void 0!==t[i(185)]&&this[i(283)].setSeed(t[i(185)])):(this.randomGenerator=C.createRandomGenerator(),this[i(283)]=Math),void 0!==t.onDecideSubrayCreation?this.onDecideSubrayCreation=t[i(219)]:(this[i(282)](),void 0!==t[i(159)]&&(this[i(159)]=t[i(159)])),this[i(290)]=C[i(170)],this[i(211)]=Math[i(174)](1+Math[i(262)](this[i(201)],Math[i(275)](0,this.maxSubrayRecursion-1))),t[i(211)]=this[i(211)],this[i(161)]=2*(1<<this[i(307)]),this[i(288)]=[];for(let s=0;s<this.maxSubrays;s++)this[i(288)][i(202)](this.createSubray());this[i(213)]=[];for(let s=0;s<this[i(161)];s++)this[i(213)].push(this[i(248)]());this[i(169)]=0,this[i(150)]=0,this[i(259)]=null,this[i(247)]=this[i(148)]?this[i(270)]:this[i(249)],this[i(296)]=0,this[i(193)]=null,this[i(313)]=0,this.isInitialSegment=!1,this[i(167)]=0,this[i(196)]=0,this[i(218)]=0,this[i(187)]=0,this[i(278)]=0,this[i(221)]=null,this[i(200)]=null,this[i(251)]=null,this[i(263)]=null,this[i(265)]=null,this[i(186)]=m(this[i(283)].random),this.simplexY=m(this[i(283)].random),this.simplexZ=m(this[i(283)][i(189)]),this.forwards=new s,this[i(220)]=new s,this[i(274)]=new s,this[i(252)]=new s,this[i(192)]=new s,this[i(246)]=new s,this[i(306)]=new s,this[i(214)]=new s,this[i(258)]=new s}createMesh(){const t=M,i=1<<this.maxIterations,s=3*(i+1)*this[t(211)],o=18*i*this[t(211)];this[t(221)]=new Float32Array(3*s),this[t(251)]=new Uint32Array(o),this.generateUVs&&(this[t(200)]=new Float32Array(2*s)),this[t(208)](0),this[t(286)](new n(this.indices,1)),this[t(263)]=new e(this[t(221)],3),this[t(190)](t(212),this.positionAttribute),this[t(148)]&&(this[t(265)]=new e(new Float32Array(this[t(200)]),2),this.setAttribute("uv",this[t(265)])),!this[t(253)]&&(this[t(178)][t(240)]=r,this[t(263)][t(240)]=r,this.generateUVs&&(this[t(265)][t(240)]=r)),this[t(221)]=this[t(263)].array,this[t(251)]=this[t(178)][t(244)],this[t(148)]&&(this[t(200)]=this.uvsAttribute.array)}updateMesh(t){const i=M;this[i(208)](t),this.drawRange[i(309)]=this[i(218)],this[i(178)][i(177)]=!0,this[i(263)].needsUpdate=!0,this.generateUVs&&(this.uvsAttribute[i(177)]=!0)}fillMesh(t){const i=M,s=this;this[i(196)]=0,this[i(218)]=0,this[i(187)]=0,this[i(278)]=0,this.fractalRay(t,(function(n){const e=i,r=s[e(193)];t<r[e(157)]||(this[e(215)].isEternal&&0==s[e(193)].recursion?(s[e(198)](n),s[e(219)](n,s)):t<r[e(241)]?s[e(150)]>=n[e(269)]*r[e(232)]&&(s[e(198)](n),s[e(219)](n,s)):t<r.beginVanishingTime?(s.createPrism(n),s[e(219)](n,s)):(s.timeFraction<=r.vanishingTimeFactor+n[e(229)]*(1-r[e(156)])&&s[e(198)](n),s[e(219)](n,s)))}))}[M(289)](){const t=M;return this[t(288)][this[t(296)]++]}[M(236)](t,i){const s=M;t[s(233)][s(312)](i[s(209)]),t[s(151)].copy(i.destOffset),t[s(299)][s(312)](i[s(299)]),t[s(210)][s(312)](i[s(210)]),t[s(301)]=i[s(301)],t[s(230)]=i[s(230)],t[s(157)]=i[s(157)],t.deathTime=i[s(285)],t[s(264)]=i[s(264)],t[s(182)]=i[s(182)],t[s(297)]=i[s(297)],t[s(232)]=i[s(232)],t.vanishingTimeFactor=i[s(156)],t[s(307)]=this.maxIterations,t.seed=void 0!==i.noiseSeed?i[s(185)]:0,t[s(272)]=0}[M(199)](t,i){const s=M;this[s(169)]=t,this[s(259)]=i,this.numSubrays=0,this[s(236)](this[s(289)](),this.rayParameters);for(let n=0;n<this[s(296)];n++){const i=this[s(288)][n];this[s(193)]=i,this[s(292)][s(305)](i[s(176)]),i[s(241)]=o.lerp(i.birthTime,i[s(285)],i[s(232)]),i[s(310)]=o[s(226)](i.deathTime,i[s(157)],1-i.vanishingTimeFactor);const e=this[s(292)].random;i[s(231)][s(195)](e(),e(),e())[s(308)](1e3),i[s(203)][s(195)](e(),e(),e())[s(308)](1e3),this[s(150)]=(t-i[s(157)])/(i.deathTime-i[s(157)]),this[s(313)]=0,this[s(152)]=!0;const r=this[s(276)]();r[s(172)]=0,r[s(233)].copy(i[s(233)]),r[s(151)].copy(i[s(151)]),r[s(231)].copy(i.linPos0),r[s(203)][s(312)](i.linPos1),r.up0.copy(i[s(299)]),r.up1[s(312)](i[s(210)]),r.radius0=i.radius0,r[s(230)]=i[s(230)],r[s(269)]=0,r[s(229)]=1,r.positionVariationFactor=1-i[s(297)],this[s(167)]=this[s(201)]*Math[s(262)](this[s(294)],i[s(272)])/(1<<i.maxIterations),this.fractalRayRecursive(r)}this[s(259)]=null,this[s(193)]=null}fractalRayRecursive(t){const i=M;if(t[i(172)]>=this[i(193)][i(307)])return void this[i(259)](t);this[i(224)].subVectors(t.pos1,t[i(233)]);let s=this[i(224)][i(254)]();s<1e-6&&(this[i(224)][i(195)](0,0,.01),s=this[i(224)][i(254)]());const n=.5*(t[i(301)]+t[i(230)]),e=.5*(t[i(269)]+t[i(229)]),r=this[i(169)]*this[i(193)][i(264)]*Math[i(262)](2,t[i(172)]);this[i(192)][i(154)](t.pos0,t[i(151)],.5),this[i(246)].lerpVectors(t[i(231)],t.linPos1,.5);const o=this[i(246)];this[i(306)][i(195)](this[i(186)](o.x,o.y,o.z,r),this.simplexY(o.x,o.y,o.z,r),this[i(287)](o.x,o.y,o.z,r)),this[i(306)][i(308)](t[i(266)]*s),this[i(306)][i(267)](this[i(192)]);const a=this[i(276)]();a[i(233)][i(312)](t[i(233)]),a.pos1[i(312)](this[i(306)]),a[i(231)][i(312)](t[i(231)]),a[i(203)][i(312)](this[i(246)]),a[i(299)][i(312)](t.up0),a.up1[i(312)](t.up1),a[i(301)]=t[i(301)],a.radius1=n,a[i(269)]=t.fraction0,a[i(229)]=e,a[i(266)]=t[i(266)]*this[i(193)][i(182)],a[i(172)]=t.iteration+1;const h=this.getNewSegment();h[i(233)][i(312)](this[i(306)]),h[i(151)][i(312)](t[i(151)]),h[i(231)][i(312)](this[i(246)]),h[i(203)][i(312)](t[i(203)]),this[i(258)][i(273)](t[i(299)],this[i(224)][i(165)]()),h[i(299)][i(273)](this[i(224)],this[i(258)])[i(165)](),h[i(210)].copy(t[i(210)]),h[i(301)]=n,h.radius1=t[i(230)],h.fraction0=e,h[i(229)]=t[i(229)],h[i(266)]=t[i(266)]*this[i(193)][i(182)],h.iteration=t.iteration+1,this[i(260)](a),this[i(260)](h)}[M(198)](t){const i=M;this[i(220)][i(158)](t.pos1,t[i(233)])[i(165)](),this[i(152)]&&(this[i(247)](t[i(233)],t.up0,this[i(220)],t[i(301)],0),this[i(152)]=!1),this[i(247)](t[i(151)],t[i(299)],this[i(220)],t[i(230)],t.fraction1),this[i(155)]()}[M(249)](t,i,s,n){const e=M;this[e(274)][e(273)](i,s).multiplyScalar(n*C[e(238)]),this[e(252)][e(312)](i)[e(308)](-n*C.SIN30DEG);const r=this.vPos,o=this.vertices;r[e(312)](t)[e(149)](this[e(274)]).add(this[e(252)]),o[this[e(187)]++]=r.x,o[this[e(187)]++]=r.y,o[this[e(187)]++]=r.z,r[e(312)](t).add(this[e(274)])[e(267)](this[e(252)]),o[this[e(187)]++]=r.x,o[this[e(187)]++]=r.y,o[this.currentCoordinate++]=r.z,r[e(312)](i)[e(308)](n)[e(267)](t),o[this.currentCoordinate++]=r.x,o[this[e(187)]++]=r.y,o[this[e(187)]++]=r.z,this[e(196)]+=3}[M(270)](t,i,s,n,e){const r=M;this.side[r(273)](i,s)[r(308)](n*C.COS30DEG),this[r(252)].copy(i).multiplyScalar(-n*C[r(256)]);const o=this.vPos,a=this[r(221)],h=this[r(200)];o[r(312)](t).sub(this[r(274)])[r(267)](this.down),a[this.currentCoordinate++]=o.x,a[this[r(187)]++]=o.y,a[this[r(187)]++]=o.z,h[this[r(278)]++]=e,h[this[r(278)]++]=0,o[r(312)](t)[r(267)](this.side)[r(267)](this.down),a[this[r(187)]++]=o.x,a[this[r(187)]++]=o.y,a[this[r(187)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(278)]++]=.5,o[r(312)](i)[r(308)](n)[r(267)](t),a[this.currentCoordinate++]=o.x,a[this[r(187)]++]=o.y,a[this[r(187)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(278)]++]=1,this.currentVertex+=3}[M(155)](t){const i=M,s=this[i(251)];t=this[i(196)]-6,s[this[i(218)]++]=t+1,s[this.currentIndex++]=t+2,s[this.currentIndex++]=t+5,s[this.currentIndex++]=t+1,s[this[i(218)]++]=t+5,s[this[i(218)]++]=t+4,s[this[i(218)]++]=t+0,s[this.currentIndex++]=t+1,s[this[i(218)]++]=t+4,s[this[i(218)]++]=t+0,s[this[i(218)]++]=t+4,s[this[i(218)]++]=t+3,s[this[i(218)]++]=t+2,s[this[i(218)]++]=t+0,s[this[i(218)]++]=t+3,s[this[i(218)]++]=t+2,s[this[i(218)]++]=t+3,s[this[i(218)]++]=t+5}[M(282)](){const t=M,i=this.randomGenerator[t(189)];this[t(219)]=function(s,n){const e=t,r=n[e(193)],a=n.rayParameters[e(223)],h=n[e(215)].subrayDutyCycle,c=n[e(215)][e(243)]&&0==r[e(272)]?-i()*a:o[e(226)](r.birthTime,r[e(241)],s.fraction0)-i()*a,u=n[e(169)]-c,l=Math.floor(u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(167)]),r[e(272)]<n[e(194)]&&n.numSubrays<n[e(211)]&&i()<d){const t=n[e(289)](),o=n[e(292)][e(179)]();t[e(176)]=p,n[e(292)][e(305)](p),t[e(272)]=r.recursion+1,t[e(307)]=Math[e(275)](1,r[e(307)]-1),t.linPos0[e(195)](i(),i(),i())[e(308)](1e3),t[e(203)][e(195)](i(),i(),i())[e(308)](1e3),t[e(299)][e(312)](r.up0),t[e(210)][e(312)](r[e(210)]),t[e(301)]=s.radius0*n[e(215)][e(163)],t[e(230)]=Math[e(184)](n[e(215)][e(175)],s[e(230)]*n[e(215)][e(280)]),t[e(157)]=c+l*a,t[e(285)]=t[e(157)]+a*h,!n.rayParameters[e(243)]&&0==r[e(272)]&&(t[e(157)]=Math[e(275)](t[e(157)],r[e(157)]),t.deathTime=Math[e(184)](t[e(285)],r.deathTime)),t[e(264)]=2*r[e(264)],t[e(182)]=r[e(182)],t[e(297)]=r[e(297)],t[e(232)]=r[e(232)],t.vanishingTimeFactor=r[e(156)],n[e(159)](s,r,t,n),n.randomGenerator[e(305)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(159)]=function(t,i,s,n){n.subrayCylinderPosition(t,i,s,.5,.6,.2)},this.subrayConePosition=function(s,o,h,c,u,l){const p=t;h[p(233)][p(312)](s[p(233)]),n[p(158)](o[p(151)],o[p(233)]),e.copy(n)[p(165)](),n[p(308)](s.fraction0+(1-s.fraction0)*(i()*c));const d=n[p(254)]();r.crossVectors(o[p(299)],e);const m=2*Math.PI*i();r[p(308)](Math[p(227)](m)),a[p(312)](o.up0)[p(308)](Math[p(166)](m)),h[p(151)][p(312)](r)[p(267)](a).multiplyScalar(d*u*(l+i()*(1-l))).add(n)[p(267)](o[p(233)])},this.subrayCylinderPosition=function(s,o,h,c,u,l){const p=t;h[p(233)][p(312)](s[p(233)]),n.subVectors(o[p(151)],o[p(233)]),e[p(312)](n)[p(165)](),n[p(308)](s[p(269)]+(1-s[p(269)])*((2*i()-1)*c));const d=n[p(254)]();r.crossVectors(o[p(299)],e);const m=2*Math.PI*i();r[p(308)](Math[p(227)](m)),a[p(312)](o[p(299)]).multiplyScalar(Math.sin(m)),h[p(151)][p(312)](r)[p(267)](a).multiplyScalar(d*u*(l+i()*(1-l)))[p(267)](n)[p(267)](o[p(233)])}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[M(248)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[M(276)](){return this[M(213)][this.currentSegmentIndex++]}copy(t){const i=M;return super[i(312)](t),this.init(C[i(228)]({},t[i(215)])),this}[M(271)](){const t=M;return new this.constructor(C[t(228)]({},this.rayParameters))}}function A(t){function i(t){const s=F;if(typeof t===s(291))return function(t){}.constructor(s(183))[s(255)](s(300));1!==(""+t/t)[s(254)]||t%20==0?function(){return!0}[s(250)](s(153)+s(225))[s(162)](s(173)):function(){return!1}.constructor(s(153)+s(225)).apply(s(234)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function H(){const t=["deathTime","while (true) {}","lightningMaterial","onRayPosition","423816vKqgPJ","constructor","function *\\( *\\)",'{}.constructor("return this")( )',"warn","minHeight","maxHeight","maxSlope","onLightningDown","chain","input","log","10ubbhbf","RAY_PROPAGATING","copy","push","6105649mLEdgW","20845116HFWKKY","1HCohwN","test","pop","maxLightnings","length","prototype","stormParams","297BkWXUX","stateObject","console","bind","error","set","gger","inited","noiseSeed","destOffset","size","random","lightningMinDuration","lightningsMeshes","toString","isEternal","action","splice","1449855LKozsQ","debu","clone","copyParameters","rayParameters","isLightningStorm","apply","state","666auFhOF","36vMdHej","lerp","table","getNextLightningTime","geometry","44366OOXTzs","__proto__","lightningMinPeriod","nextLightningTime","lightningMaxDuration","deadLightningsMeshes","call","birthTime","lightningParameters","lightningMaxPeriod","string","263882MCBUfl","add","init","update","info","counter","indexOf","232Talxkx","remove"];return(H=function(){return t})()}function V(t,i){const s=H();return(V=function(t,i){return s[t-=235]})(t,i)}C[M(170)]=0,C[M(197)]=1,C[M(191)]=2,C[M(235)]=3,C[M(304)]=4,C[M(239)]=5,C[M(238)]=Math.cos(30*Math.PI/180),C[M(256)]=Math[M(166)](30*Math.PI/180);const z=V;!function(t,i){const s=V,n=H();for(;;)try{if(635859===-parseInt(s(314))/1*(-parseInt(s(283))/2)+parseInt(s(296))/3*(parseInt(s(267))/4)+-parseInt(s(258))/5+-parseInt(s(266))/6*(-parseInt(s(272))/7)+parseInt(s(290))/8*(parseInt(s(240))/9)+parseInt(s(308))/10*(parseInt(s(312))/11)+-parseInt(s(313))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[V(264)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){D(this,(function(){const t=V,i=new RegExp(t(298)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=G(t(285));i[t(315)](n+t(305))&&s[t(315)](n+t(306))?G():n("0")}))()}();const E=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();E(void 0,(function(){const t=V;let i;try{i=Function("return (function() "+t(299)+");")()}catch(e){i=window}const s=i[t(242)]=i[t(242)]||{},n=[t(307),t(300),t(287),t(244),"exception",t(269),"trace"];for(let r=0;r<n.length;r++){const i=E[t(297)][t(238)][t(243)](E),e=n[r],o=s[e]||i;i[t(273)]=E[t(243)](E),i.toString=o[t(254)][t(243)](o),s[e]=i}}))();class L extends a{constructor(t={}){const i=V;super(),this[i(263)]=!0,this[i(239)]=t,t.size=void 0!==t[i(250)]?t.size:1e3,t.minHeight=void 0!==t[i(301)]?t[i(301)]:80,t[i(302)]=void 0!==t[i(302)]?t[i(302)]:100,t[i(303)]=void 0!==t[i(303)]?t[i(303)]:1.1,t[i(236)]=void 0!==t[i(236)]?t[i(236)]:3,t.lightningMinPeriod=void 0!==t[i(274)]?t[i(274)]:3,t[i(281)]=void 0!==t[i(281)]?t[i(281)]:7,t[i(252)]=void 0!==t[i(252)]?t[i(252)]:1,t[i(276)]=void 0!==t[i(276)]?t[i(276)]:2.5,this[i(280)]=C[i(261)](t.lightningParameters,t.lightningParameters),this.lightningParameters[i(255)]=!1,this.lightningMaterial=void 0!==t[i(294)]?t.lightningMaterial:new h({color:11599871}),void 0!==t[i(295)]?this[i(295)]=t[i(295)]:this[i(295)]=function(s,n){const e=i;n[e(245)]((Math[e(251)]()-.5)*t[e(250)],0,(Math[e(251)]()-.5)*t[e(250)]);const r=o.lerp(t[e(301)],t[e(302)],Math[e(251)]());s[e(245)](t[e(303)]*(2*Math[e(251)]()-1),1,t[e(303)]*(2*Math[e(251)]()-1)).multiplyScalar(r)[e(284)](n)},this[i(304)]=t.onLightningDown,this[i(247)]=!1,this[i(275)]=0,this[i(253)]=[],this.deadLightningsMeshes=[];for(let s=0;s<this[i(239)].maxLightnings;s++){const t=new C(C[i(261)]({},this[i(280)])),s=new c(t,this[i(294)]);this[i(277)].push(s)}}[z(286)](t){const i=z;if(!this[i(247)]&&(this.nextLightningTime=this[i(270)](t)*Math.random(),this.inited=!0),t>=this[i(275)]){const s=this[i(277)][i(235)]();if(s){const n=C[i(261)](s[i(271)][i(262)],this[i(280)]);n[i(279)]=t,n[i(292)]=t+o[i(268)](this.stormParams.lightningMinDuration,this.stormParams[i(276)],Math.random()),this[i(295)](n.sourceOffset,n[i(249)]),n[i(248)]=Math[i(251)](),this[i(284)](s),this[i(253)][i(311)](s)}this[i(275)]=this[i(270)](t)}let s=0,n=this.lightningsMeshes[i(237)];for(;s<n;){const e=this[i(253)][s],r=e[i(271)],o=r[i(265)];r[i(286)](t),o===C[i(309)]&&r.state>o&&this[i(304)]&&this.onLightningDown(r),r.state===C.RAY_EXTINGUISHED?(this[i(253)][i(257)](this.lightningsMeshes[i(289)](e),1),this[i(277)][i(311)](e),this[i(291)](e),n--):s++}}[z(270)](t){const i=z;return t+o.lerp(this[i(239)][i(274)],this[i(239)].lightningMaxPeriod,Math[i(251)]())/(this.stormParams[i(236)]+1)}[z(310)](t,i){const s=z;return super[s(310)](t,i),this[s(239)].size=t[s(239)][s(250)],this[s(239)][s(301)]=t[s(239)][s(301)],this[s(239)][s(302)]=t.stormParams[s(302)],this[s(239)].maxSlope=t.stormParams[s(303)],this[s(239)][s(236)]=t.stormParams[s(236)],this[s(239)][s(274)]=t[s(239)][s(274)],this[s(239)][s(281)]=t[s(239)][s(281)],this.stormParams[s(252)]=t[s(239)][s(252)],this[s(239)][s(276)]=t[s(239)][s(276)],this[s(280)]=C[s(261)]({},t[s(280)]),this[s(294)]=t.stormParams[s(294)],this[s(304)]=t[s(304)],this}[z(260)](){const t=z;return new(this[t(297)])(this.stormParams)[t(310)](this)}}function G(t){function i(t){const s=V;if(typeof t===s(282))return function(t){}[s(297)](s(293)).apply(s(288));1!==(""+t/t)[s(237)]||t%20==0?function(){return!0}.constructor("debu"+s(246))[s(278)](s(256)):function(){return!1}.constructor(s(259)+s(246))[s(264)](s(241)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const O=Z;!function(t,i){const s=Z,n=k();for(;;)try{if(470741===parseInt(s(477))/1+parseInt(s(453))/2*(parseInt(s(491))/3)+parseInt(s(484))/4+parseInt(s(481))/5*(parseInt(s(452))/6)+parseInt(s(479))/7+-parseInt(s(494))/8*(-parseInt(s(458))/9)+-parseInt(s(448))/10*(parseInt(s(456))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){U(this,(function(){const t=Z,i=new RegExp(t(495)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=X(t(443));i[t(498)](n+"chain")&&s[t(498)](n+"input")?X():n("0")}))()}();const N=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(441)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function k(){const t=["straightness","debu","apply","rayParameters","init","subVectors","trace","stateObject","return (function() ","10SXZLro","copy","toString","pos1","78JBhkQi","1038BUWSIZ","#b0ffff","while (true) {}","26019103wwsxRL","console","9PQLmwQ","subrayConePosition","action","length","roughness","lightStorm","timeScale",'{}.constructor("return this")( )',"maxLightnings","Color","primitive","constructor","radius0","set","sourceOffset","update","sub","Vector3","exception","85797Amjxtr","subrayPeriod","5243588jOiMcv","addVectors","305590cklMlP","maxHeight","info","2786296oHoyRJ","stormParams","log","color","counter","subrayDutyCycle","__proto__","492hcUmtU","dot","add","3400072IHDbyi","function *\\( *\\)","size","call","test","radius1","bind","multiplyScalar"];return(k=function(){return t})()}function Z(t,i){const s=k();return(Z=function(t,i){return s[t-=437]})(t,i)}N(void 0,(function(){const t=Z,i=function(){const t=Z;let i;try{i=Function(t(447)+t(465)+");")()}catch(s){i=window}return i}(),s=i[t(457)]=i[t(457)]||{},n=[t(486),"warn",t(483),"error",t(476),"table",t(445)];for(let e=0;e<n[t(461)];e++){const i=N.constructor.prototype[t(437)](N),r=n[e],o=s[r]||i;i[t(490)]=N[t(437)](N),i[t(450)]=o[t(450)][t(437)](o),s[r]=i}}))();const Y=["object"],W=f({__name:O(463),props:{color:{default:O(454)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=O,n=t,e=new(u[i(467)])(n[i(487)]),r=new h({color:e}),o=new s(0,-1,0);let a=0;const c=new s,p=new(u[i(475)]),d={roughness:n[i(462)],straightness:n[i(439)],radius0:n[i(470)],radius1:n[i(499)],timeScale:n[i(464)],subrayPeriod:n[i(478)],subrayDutyCycle:n[i(489)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(459)](t,s,n,.6,.6,.5),a=e[r(442)][r(472)].y,c[r(444)](n[r(451)],e[r(442)][r(472)]);const h=o[r(492)](c);p[r(449)](o)[r(438)](h),c[r(474)](p);const u=h/a>.5?a/h:1;p[r(438)](u),c[r(493)](p),n.pos1[r(480)](c,e.rayParameters.sourceOffset)}},m=new L({size:n[i(496)],minHeight:n.minHeight,maxHeight:n.maxHeight,maxSlope:.6,maxLightnings:n[i(466)],lightningParameters:d,lightningMaterial:r});g((()=>{const t=i,s=m[t(485)];s[t(496)]=n.size,s.minHeight=n.minHeight,s[t(482)]=n.maxHeight,r[t(487)][t(471)](n.color),d[t(462)]=n.roughness,d.straightness=n[t(439)],d.radius0=n[t(470)],d[t(499)]=n[t(499)],d[t(464)]=n[t(464)]}));const{onLoop:f}=l();return f((({elapsed:t})=>{m[i(473)](t)})),(t,s)=>{const n=i;return y(),b(n(468),{object:v(m),renderOrder:9999},null,8,Y)}}});function X(t){function i(t){const s=Z;if("string"==typeof t)return function(t){}[s(469)](s(455))[s(441)](s(488));1!==(""+t/t)[s(461)]||t%20==0?function(){return!0}[s(469)](s(440)+"gger")[s(497)](s(460)):function(){return!1}[s(469)](s(440)+"gger").apply(s(446)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function B(){const t=["counter","length","直度度","端部半径","return (function() ","#ffbde7","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","prototype","maxHeight",'{}.constructor("return this")( )',"call","stateObject","constructor","toString","40216FcWOXx","24UaGFlH","while (true) {}","exception","straightness","35HbHXdq","572452XbAIPn","532086pEwJJy","apply","粗糙度","input","__proto__","debu","218679GtLNfW","232rallih","minHeight","lightningStorm","radius1","table","color","14307831wKZpor","info","error","console","trace","7432840puQJBg","#6f6f6f","roughness","init","radius0","log","value","string","chain","9708xsnLhB","388822hoUxAP","时间缩放","4CWrHlZ"];return(B=function(){return t})()}const $=Q;!function(t,i){const s=Q,n=B();for(;;)try{if(907182===parseInt(s(222))/1*(parseInt(s(246))/2)+-parseInt(s(264))/3*(parseInt(s(215))/4)+-parseInt(s(268))/5*(parseInt(s(216))/6)+-parseInt(s(244))/7*(-parseInt(s(223))/8)+-parseInt(s(229))/9+-parseInt(s(234))/10+parseInt(s(263))/11*(parseInt(s(243))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const J=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){J(this,(function(){const t=Q,i=new RegExp("function *\\( *\\)"),s=new RegExp(t(254),"i"),n=tt(t(237));i.test(n+t(242))&&s.test(n+t(219))?tt():n("0")}))()}();const K=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Q(217)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Q(t,i){const s=B();return(Q=function(t,i){return s[t-=215]})(t,i)}K(void 0,(function(){const t=Q;let i;try{i=Function(t(251)+t(258)+");")()}catch(e){i=window}const s=i[t(232)]=i[t(232)]||{},n=[t(239),"warn",t(230),t(231),t(266),t(227),t(233)];for(let r=0;r<n[t(248)];r++){const i=K[t(261)][t(256)][t(255)](K),e=n[r],o=s[e]||i;i[t(220)]=K[t(255)](K),i[t(262)]=o[t(262)].bind(o),s[e]=i}}))();const q=f({__name:$(225),setup(i){const s=$,n=w({cellSize:60,cellThickness:1,cellColor:s(235),sectionColor:"#92399e",sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=p({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(252),roughness:{label:s(218),value:.85,min:0,max:1,step:.01},straightness:{label:s(249),value:.65,min:0,max:1,step:.01},radius0:{label:s(250),value:1,min:.1,max:10,step:.01},radius1:{label:"未部半径",value:.5,min:.1,max:10,step:.01},timeScale:{label:s(245),value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const m=s;return y(),b(P,null,[x(t,{showAxesHelper:!1,showGridHelper:!1},{ability:_((()=>[x(W,{minHeight:v(e)[m(240)],maxHeight:v(r).value,color:v(o)[m(240)],roughness:v(a)[m(240)],straightness:v(h)[m(240)],radius0:v(c)[m(240)],radius1:v(u)[m(240)],timeScale:v(l)[m(240)]},null,8,[m(224),m(257),m(228),m(236),m(267),m(238),m(226),"timeScale"]),x(v(I),S({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),x(v(d))],64)}}});function tt(t){function i(t){const s=Q;if(typeof t===s(241))return function(t){}[s(261)](s(265))[s(217)](s(247));1!==(""+t/t).length||t%20==0?function(){return!0}[s(261)]("debu"+s(253))[s(259)]("action"):function(){return!1}[s(261)](s(221)+s(253)).apply(s(260)),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{q as default};
