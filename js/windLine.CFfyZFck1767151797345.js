import{importShared as e}from"./3d-tiles-renderer.BWkWgmMi1767151797345.js";import{useLoop as t,OrbitControls_default as r}from"./index.DdZsEhdb1767151797345.js";import{createNoise2D as n}from"./simplex-noise.BtmiN6j11767151797345.js";const{defineComponent:a}=await e("vue"),{unref:o,createElementVNode:s,renderList:i,Fragment:l,openBlock:d,createElementBlock:u}=await e("vue"),c=["geometry","rotation-x"],m=["rnda","rndb","rndc","rndd"],p=["args"],h=["side","map"],g=await e("three"),{shallowRef:f}=await e("vue"),w=a({__name:"windLineMesh",setup(e){const r=n(),a=(e,t)=>e*e>24.9||t*t>24.9?-1:.6*r(.1*e,.1*t)+.2*r(.3*e,.3*t),w=new g.PlaneGeometry(10,10,100,100),M=w.getAttribute("position");for(var v=0;v<M.count;v++)M.setZ(v,a(M.getX(v),M.getY(v)));w.computeVertexNormals();const C=document.createElement("CANVAS");C.width=64,C.height=8;const b=C.getContext("2d"),y=b?.createLinearGradient(0,0,64,0);y?.addColorStop(0,"rgba(255,255,255,0)"),y?.addColorStop(.5,"rgba(255,255,255,128)"),y?.addColorStop(1,"rgba(255,255,255,0)"),b&&y&&(b.fillStyle=y,b.fillRect(0,0,64,8));const T=new g.CanvasTexture(C),x=f(null),{onBeforeRender:S}=t();return S(({elapsed:e})=>{x.value&&x.value.children.forEach((t,r)=>{const n=e/5,o=t.geometry.getAttribute("position");for(let e=0;e<42;e++){const r=n+e%21/60,s=3*Math.sin(5*t.rnda*r+6*t.rndb),i=3*Math.cos(5*t.rndc*r+6*t.rndd),l=a(s,i)+.5+.04*(e>20?1:-1)*Math.cos((e%21-10)/8);o.setXYZ(e,s,l,-i)}o.needsUpdate=!0})}),(e,t)=>(d(),u(l,null,[s("TresMesh",{geometry:o(w),"rotation-x":-Math.PI/2},[...t[0]||(t[0]=[s("TresMeshPhysicalMaterial",{roughness:1,metalness:0,color:"seagreen"},null,-1)])],8,c),s("TresGroup",{ref_key:"group",ref:x},[(d(),u(l,null,i(12,(e,t)=>s("TresMesh",{key:t,rnda:Math.random(),rndb:Math.random(),rndc:Math.random(),rndd:Math.random()},[s("TresPlaneGeometry",{args:[1,1,20,1]},null,8,p),s("TresMeshBasicMaterial",{transparent:"",depthWrite:!1,side:g.DoubleSide,map:o(T)},null,8,h)],8,m)),64))],512)],64))}}),{defineComponent:M}=await e("vue"),{createElementVNode:v,unref:C,createVNode:b,resolveComponent:y,normalizeProps:T,guardReactiveProps:x,withCtx:S,openBlock:k,createBlock:P}=await e("vue"),B=M({__name:"windLine",setup(e){const t={clearColor:"deepskyblue",windowSize:!0,antialias:!0};return(e,n)=>{const a=y("TresCanvas");return k(),P(a,T(x(t)),{default:S(()=>[n[0]||(n[0]=v("TresPerspectiveCamera",{position:[0,2.5,8],fov:45,near:.1,far:1e3},null,-1)),b(C(r),{enableDamping:"",autoRotate:"",autoRotateSpeed:.5}),n[1]||(n[1]=v("TresAmbientLight",{intensity:.5},null,-1)),n[2]||(n[2]=v("TresDirectionalLight",{position:[1,1,1],intensity:1},null,-1)),b(w)]),_:1},16)}}});export{B as default};
