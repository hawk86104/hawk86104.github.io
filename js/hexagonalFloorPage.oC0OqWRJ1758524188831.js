import{P as e}from"./tweakpane.C0HtAJSg1758524188831.js";import{m as a,b as o,k as s,a as r}from"./@tresjs.BL1sBIDK1758524188831.js";import"./OimoPhysicsBuffer.CcBMdMc41758524188831.js";import{_ as t}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.0p0XW2Cf1758524188831.js";import"./vanilla.esm.5.5.0.UWCjMdOF1758524188831.js";import"./PackedMipMapGenerator.7JJE-1Hp1758524188831.js";import"./Resource.DxdCIUkg1758524188831.js";import{aP as n,l as i,V as l,c_ as m,c$ as p}from"./three.CC50Wz7a1758524188831.js";import{d,aa as f,s as c,w as u,G as g,o as h,I as j,u as v,r as M,h as _,e as y,f as b,j as w,a5 as C,m as x}from"./@vue.pEDXJ_3Z1758524188831.js";import"./postprocessing.DYlQqnRh1758524188831.js";import"./@vueuse.C-O_6is-1758524188831.js";import"./oimophysics.BBtHVm4j1758524188831.js";import"./dither.glsl.tNAdkJUa1758524188831.js";import"./Reflector.hbefUijb1758524188831.js";import"./vite-plugin-qiankun.B06WoCqG1758524188831.js";import"./object-hash.COWhg4aZ1758524188831.js";import"./@amap.CGUF9xH41758524188831.js";import"./jszip.BzP0QdiD1758524188831.js";import"./three-stdlib.CYvtwvCB1758524188831.js";const I=["object"],P=d({__name:"hexagonalFloor",props:{floorColor:{default:"#ff0000"},floorMetalness:{default:.8},floorRoughness:{default:.2},floorEnvMapIntensity:{default:2.5},sideColor:{default:"#ffffff"},sideOpacity:{default:.9}},async setup(e){let r,t;const{renderer:d,scene:M}=a(),_=e,y=([r,t]=f((()=>o({normalMap:"./plugins/floor/image/concrete_wet_floor_basecolor.jpg"}))),r=await r,t(),r);y.normalMap.wrapS=n,y.normalMap.wrapT=n,y.normalMap.repeat.set(10,10);const{scene:b}=([r,t]=f((()=>s("https://opensource.cdn.icegl.cn/model/floor/baseModelI.glb",{draco:!0,decoderPath:"./draco/"}))),r=await r,t(),r);b.traverse((e=>{if(e instanceof i){const a=e.position.clone(),o=20+30*Math.random(),s=Math.random()*Math.PI*2,r=20*(Math.random()-.5),t=new l(a.x+Math.cos(s)*o,a.y+r,a.z+Math.sin(s)*o);e.position.copy(t),e.name.includes("_")?(e.material.emissiveIntensity=2,e.material.metalness=1,e.material.roughness=0,e.material.transparent=!0):e.material.map=y.normalMap,e.material.needsUpdate=!0}}));return c((()=>{(()=>{const e=new m(d.value),a=new p,o=e.fromScene(a).texture;M.value.environment=o,b.traverse((e=>{e instanceof i&&e.material&&(e.material.envMap=o,e.material.needsUpdate=!0)})),a.dispose()})()})),u((()=>[_.sideColor,_.floorColor,_.sideOpacity,_.floorMetalness,_.floorRoughness,_.floorEnvMapIntensity]),(([e,a,o,s,r,t])=>{b.traverse((n=>{n instanceof i&&n.material&&(n.name.includes("_")?(n.material.emissive.set(e),n.material.opacity=o):(n.material.color.set(a),n.material.metalness=s,n.material.roughness=r,n.material.envMapIntensity=t))}))}),{immediate:!0}),(e,a)=>(h(),g("TresGroup",null,[j("primitive",{object:v(b),position:[0,-.1,0]},null,8,I)]))}}),B=d({__name:"hexagonalFloorPage",setup(a){const o=M({floorColor:"#ff0000",floorMetalness:.8,floorRoughness:.2,floorEnvMapIntensity:2.5,sideColor:"#424242",sideOpacity:.38}),s=new e({expanded:!0});return s.addBinding(o,"floorColor",{label:"地板颜色"}),s.addBinding(o,"floorMetalness",{label:"地板金属度",min:0,max:1}),s.addBinding(o,"floorRoughness",{label:"地板粗糙度",min:0,max:1}),s.addBinding(o,"floorEnvMapIntensity",{label:"地板环境光强度",min:0,max:10}),s.addBinding(o,"sideColor",{label:"侧面颜色"}),s.addBinding(o,"sideOpacity",{label:"侧面透明度",min:0,max:1}),(e,a)=>{const s=_("TresCanvas");return h(),y(s,{clearColor:"#000000","window-size":""},{default:b((()=>[a[0]||(a[0]=j("TresPerspectiveCamera",{position:[6,6,0],fov:45,near:.1,far:1e4},null,-1)),w(v(r),{enableDamping:""}),(h(),y(C,null,{default:b((()=>[w(v(P),x(o,{scale:2,position:[0,.3,0]}),null,16)])),_:1})),(h(),y(C,null,{default:b((()=>[w(t,{reflectivity:1,showGridHelper:!1,scale:2})])),_:1}))])),_:1})}}});export{B as default};
