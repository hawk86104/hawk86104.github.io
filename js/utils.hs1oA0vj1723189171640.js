import"./@fesjs.92jMy6FJ1723189171640.js";import{_ as t}from"./jszip.WwTqi4J91723189171640.js";import{F as n}from"./file-saver.ArfxCmZz1723189171640.js";import{a6 as e,aJ as s}from"./three.5MXJ6W7w1723189171640.js";const o=i;!function(t,n){const e=i,s=m();for(;;)try{if(392924===parseInt(e(511))/1*(-parseInt(e(492))/2)+-parseInt(e(538))/3*(-parseInt(e(566))/4)+parseInt(e(494))/5+-parseInt(e(496))/6+-parseInt(e(578))/7*(parseInt(e(581))/8)+-parseInt(e(550))/9*(parseInt(e(536))/10)+parseInt(e(506))/11)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[i(562)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){r(this,(function(){const t=i,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(568),"i"),s=b(t(502));n[t(549)](s+t(525))&&e[t(549)](s+t(529))?b():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[i(562)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function i(t,n){const e=m();return(i=function(t,n){return e[t-=491]})(t,n)}async function c(t){const n=o,s=new(e[n(517)]);return new Promise(((e,o)=>{const r=n;s[r(519)](t,(t=>e(JSON[r(527)](t))),void 0,(t=>o(t)))}))}async function u(t){const n=new s;return new Promise(((e,s)=>{const r=i;n[r(539)]("blob"),n[r(519)](t,(n=>{const a=r,i=new FileReader;i[a(589)]=()=>{const n=a,s=function(t){const n=o,e=t[n(515)](".")[n(512)]()[n(501)]();return{jpg:n(576),jpeg:n(576),png:n(580),gif:n(516),bmp:n(498),webp:n(584)}[e]||n(573)}(t),r=i[n(493)].split(",")[1];e(n(560)+s+";base64,"+r)},i[a(531)]=t=>{s(t)},i.readAsDataURL(n)}),void 0,(t=>s(t)))}))}a(void 0,(function(){const t=i,n=function(){const t=i;let n;try{n=Function(t(547)+t(552)+");")()}catch(e){n=window}return n}(),e=n[t(542)]=n.console||{},s=[t(521),t(503),t(505),t(520),t(528),t(586),t(523)];for(let o=0;o<s[t(561)];o++){const n=a[t(551)][t(571)][t(533)](a),r=s[o],i=e[r]||n;n[t(569)]=a[t(533)](a),n[t(530)]=i[t(530)][t(533)](i),e[r]=n}}))(),e[o(535)].enabled=!0;const p=n=>{const s=o,r=new(e[s(517)]);return r[s(539)](s(543)),new Promise(((e,o)=>{const a=s;r[a(519)](n,(async n=>{const s=a;e(await t[s(544)](n))}),void 0,(t=>o(t)))}))},l=t=>{const n=o,e=t.substring(0,15),s=n(540),r=n(564),a=n(541),i=n(572);return"data:image/jpeg;base64,"[n(570)](e)||s.startsWith(e)?n(587):"data:image/png;base64,".startsWith(e)||r[n(570)](e)?n(545):"data:image/gif;base64,"[n(570)](e)||"data:image/GIF;base64,"[n(570)](e)?"GIF":a[n(570)](e||i.startsWith(e))?n(526):n(499)},f=e=>{const s=o,r=[];e.scene.geometries&&e[s(559)][s(554)][s(557)]((t=>{const n=s;"BufferGeometry"===t[n(537)]&&(r.push({uuid:t.uuid,data:t[n(504)]}),t[n(504)]=n(507)+t[n(524)]+n(563))}));const a=[];e.scene.images&&e[s(559)][s(556)][s(557)]((t=>{const n=s;t.url&&(a[n(546)]({uuid:t[n(524)],url:t[n(508)]}),t[n(508)][n(537)]?t.url=n(588)+t[n(524)]+"."+t[n(508)][n(537)]+n(563):t[n(508)]=n(588)+t[n(524)]+"."+l(t[n(508)]))}));const i=new t;if(r[s(561)]){const t=i[s(548)](s(554));r[s(557)]((n=>{const e=s;t[e(579)](n[e(524)]+e(563),JSON[e(577)](n[e(504)]))}))}if(a[s(561)]){const t=i[s(548)](s(556));a[s(557)]((n=>{const e=s;n.url[e(537)]?t[e(579)](n[e(524)]+"."+n[e(508)][e(537)]+e(563),JSON[e(577)](n[e(508)])):t[e(579)](n.uuid+"."+l(n.url),n[e(508)][e(515)](e(510))[e(512)](),{base64:!0})}))}const c=JSON[s(577)](e);return i[s(579)]("app.json",c),i.generateAsync({type:s(543)})[s(585)]((t=>{n.saveAs(t,"config.zip")}))},g=(t,n,e)=>{t.geometries<=0&&t.images<=0&&e(n)};function m(){const t=["data","info","7991247owtLkk","url:geometries/","url","message",";base64,","431923npUDRH","pop","stateObject","gger","split","image/gif","FileLoader","get","load","error","log","toUpperCase","trace","uuid","chain","WEBP","parse","exception","input","toString","onerror","slice","bind","async","Cache","5090VpzPPx","type","9084sAylFz","setResponseType","data:image/JPEG;base64,","data:image/webp;base64,","console","blob","loadAsync","PNG","push","return (function() ","folder","test","7911zocEkp","constructor",'{}.constructor("return this")( )',"action","geometries","while (true) {}","images","forEach","string","scene","data:","length","apply",".json","data:image/PNG;base64,","catch","388JMmNMI","endsWith","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","startsWith","prototype","data:image/WEBP;base64,","application/octet-stream","name","files","image/jpeg","stringify","3906dRytGu","file","image/png","32fjnuAe","data:image/","base64","image/webp","then","table","JPEG","url:images/","onloadend","非标准文件：不存在 app.json","2bPYzuE","result","3512700StaIsk","debu","2689458PKGWgq","url:","image/bmp","Unknown","app.json","toLowerCase","init","warn"];return(m=function(){return t})()}const d=(n,e)=>{const s=o;let r=null;return t[s(544)](n)[s(585)]((t=>{const n=s;t[n(575)][n(500)]?t[n(575)]["app.json"].async("string").then((s=>{var a,i;const c=n;r=JSON[c(527)](s);const u=(t=>{var n,e;const s=o,r={geometries:0,images:0};return null==(n=t[s(559)][s(554)])||n[s(557)]((t=>{const n=s;t.data.startsWith(n(497))&&r[n(554)]++})),null==(e=t[s(559)][s(556)])||e[s(557)]((t=>{const n=s;t[n(508)][n(570)]("url:")&&r[n(556)]++})),r})(r);g(u,r,e),null==(a=r[c(559)][c(554)])||a[c(557)]((n=>{const s=c;n[s(504)][s(570)]("url:")&&t.files[n[s(504)].slice(4)][s(534)](s(558))[s(585)]((t=>{const o=s;n[o(504)]=JSON[o(527)](t),u[o(554)]--,g(u,r,e)}))})),null==(i=r[c(559)][c(556)])||i[c(557)]((n=>{const s=c;if(n.url.startsWith(s(497))){const o=n[s(508)][s(532)](4);o[s(567)](s(563))?t[s(575)][o][s(534)](s(558))[s(585)]((t=>{const o=s;n.url=JSON[o(527)](t),u[o(556)]--,g(u,r,e)})):t[s(575)][o][s(534)](s(583))[s(585)]((t=>{const a=s,i=o[a(515)]("."),c=i[i[a(561)]-1][a(522)]();n[a(508)]=a(582)+c+a(510)+t,u[a(556)]--,g(u,r,e)}))}}))})):console.error(n(491))}),(t=>{const e=s;console[e(520)](n[e(574)]+": "+t[e(509)])})),r};function b(t){function n(t){const e=i;if(typeof t===e(558))return function(t){}.constructor(e(555)).apply("counter");1!==(""+t/t)[e(561)]||t%20==0?function(){return!0}[e(551)](e(495)+e(514)).call(e(553)):function(){return!1}[e(551)](e(495)+e(514))[e(562)](e(513)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,u as b,f as e,l as g,d as i,c as l};
