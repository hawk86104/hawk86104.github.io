import{a as t,o as n}from"./@tresjs.Td0X-dew1740621336114.js";import"./index.3ntFFZFi1740621336114.js";import{P as o}from"./tweakpane.yDiyAAkA1740621336114.js";import{_ as e}from"./three.sXv6UbbL1740621336114.js";import{d as r,a3 as s,w as i,o as u,H as c,N as a,u as l,aj as p,ak as f,r as m,e as _,f as d,g as v,j as g,al as h,m as C}from"./@vue.NRI7TcgI1740621336114.js";import{_ as y}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.unSayqLH1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.wtVaFNy81740621336114.js";import"./all.three.Cp1-e4fr1740621336114.js";import"./oimophysics.x0jH7fze1740621336114.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.iQabQ3bw1740621336114.js";import"./index.e5z5kfXG1740621336114.js";import"./three-stdlib.HmEywukp1740621336114.js";import"./@pmndrs.S4rKZ8vm1740621336114.js";import"./object-hash.xF-1It9Z1740621336114.js";import"./@amap.xyvkHt4K1740621336114.js";import"./jszip.nUGSSS5e1740621336114.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.KTtg4sDX1740621336114.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.pHTeV6QF1740621336114.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.P7qIoii51740621336114.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.NKVT-iMX1740621336114.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.qIXS0IMz1740621336114.js";function j(t,n){const o=I();return(j=function(t,n){return o[t-=125]})(t,n)}const w=j;function I(){const t=["constructor","value","random","\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","useCustomColor","image","exception","error","log","set","string","__proto__","getImageData","action","canvas","bind","chain","apply","data","test","stateObject","prototype","console","drawImage","278259GHJtlm","push","gger","imgParticleMesh","TresShaderMaterial","width","warn","trace","1705949IDQdsD","toString","./logo.png","call","height","4120704UiOTsB","customColor","11166528bycaEH","color_list","debu","6kLdSIo","TresPoints","741306IvNvtm","3427953gIOVZI","table","AdditiveBlending","Color","return (function() ","4532075MBotFf","createElement","getContext","uniforms","input","#ff0000"];return(I=function(){return t})()}!function(t,n){const o=j,e=I();for(;;)try{if(790807===-parseInt(o(150))/1+-parseInt(o(170))/2+parseInt(o(171))/3+parseInt(o(163))/4+parseInt(o(176))/5+parseInt(o(168))/6*(-parseInt(o(158))/7)+-parseInt(o(165))/8)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){P(this,(function(){const t=j,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(129),"i"),e=M("init");n[t(145)](e+t(142))&&o[t(145)](e+t(180))?M():e("0")}))()}();const b=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[j(143)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();b(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(175)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(148)]=n[t(148)]||{},e=[t(134),t(156),"info",t(133),t(132),t(172),t(157)];for(let r=0;r<e.length;r++){const n=b[t(125)][t(147)][t(141)](b),s=e[r],i=o[s]||n;n[t(137)]=b[t(141)](b),n[t(159)]=i[t(159)][t(141)](i),o[s]=n}}))();const z={position:[-8,10,-2],scale:.02},x=["position",w(166)],F=r({__name:w(153),props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:w(181)}},async setup(n){const o=w;let r,m;const _=n,d=([r,m]=s((()=>t([o(160)]))),r=await r,m(),r),v=document[o(177)](o(140)),g=d[o(131)][o(155)],h=d[o(131)][o(162)];v[o(155)]=g,v[o(162)]=h;const C=v[o(178)]("2d");null==C||C[o(149)](d.image,0,0);const y=null==C?void 0:C[o(138)](0,0,g,h)[o(144)],j=[],I=[];if(y)for(let t=0;t<h;t++)for(let n=0;n<g;n++){const e=4*(t*g+n);if(y[e+3]>0){const r=y[e]/255,s=y[e+1]/255,i=y[e+2]/255,u=100*Math[o(127)]();j[o(151)](n,-t,u),I.push(r,s,i)}}const P=new Float32Array(j),b=new Float32Array(I),F={uniforms:{zPos:{value:_.zPos},useCustomColor:{value:_.useCustomColor},customColor:{value:new(e[o(174)])(_[o(164)])}},vertexShader:"\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}",fragmentShader:o(128),transparent:!0,depthTest:!1,blending:e[o(173)]};return i((()=>[_.zPos,_[o(130)],_[o(164)]]),(([t,n,e])=>{const r=o;F[r(179)].zPos[r(126)]=t,F[r(179)][r(130)][r(126)]=n,F[r(179)].customColor.value[r(135)](e)})),(t,n)=>{const e=o;return u(),c(e(169),z,[a("TresBufferGeometry",{position:[l(P),3],color_list:[l(b),3]},null,8,x),a(e(154),p(f(F)),null,16)])}}});function M(t){function n(t){const o=j;if(typeof t===o(136))return function(t){}[o(125)]("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[o(125)](o(167)+o(152))[o(161)](o(139)):function(){return!1}.constructor(o(167)+o(152))[o(143)](o(146)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const T=k;!function(t,n){const o=k,e=E();for(;;)try{if(454546===parseInt(o(247))/1*(parseInt(o(265))/2)+parseInt(o(243))/3+-parseInt(o(266))/4*(-parseInt(o(255))/5)+parseInt(o(250))/6+parseInt(o(246))/7+parseInt(o(268))/8*(parseInt(o(232))/9)+parseInt(o(251))/10*(-parseInt(o(229))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const A=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[k(242)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){A(this,(function(){const t=k,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(234),"i"),e=D(t(254));n.test(e+t(245))&&o.test(e+t(228))?D():e("0")}))()}();const S=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[k(242)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function E(){const t=["debu","constructor",'{}.constructor("return this")( )',"warn","imgParticle","info","32NrZdYs","1580OMIEJP","TresAmbientLight","152PmhueE","stateObject","bind","table","input","40051WDxKXO","length","call","231138JpXAcF","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding","exception","action","string","while (true) {}","prototype","return (function() ","apply","1102197Ludhnw","log","chain","5335295KXTerk","16246oavVyF","trace","zPos","4133328knGvfc","7550yMusdA","console","useCustomColor","init","8065EmTZJr","自定义颜色","toString","#ff0000"];return(E=function(){return t})()}function k(t,n){const o=E();return(k=function(t,n){return o[t-=226]})(t,n)}S(void 0,(function(){const t=k;let n;try{n=Function(t(241)+t(261)+");")()}catch(r){n=window}const o=n.console=n[t(252)]||{},e=[t(244),t(262),t(264),"error",t(236),t(227),t(248)];for(let s=0;s<e[t(230)];s++){const n=S.constructor[t(240)][t(226)](S),r=e[s],i=o[r]||n;n.__proto__=S[t(226)](S),n[t(257)]=i.toString[t(226)](i),o[r]=n}}))();const B=r({__name:T(263),setup(t){const e=T,r={clearColor:"#050505",antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=m({zPos:1,useCustomColor:!1,customColor:e(258)}),c=new o({title:"参数"});return c[e(235)](i,e(249),{label:"厚度",min:.5,max:10,step:.5}),c.addBinding(i,e(253),{label:"使用自定义颜色"}),c.addBinding(i,"customColor",{label:e(256)}),(t,o)=>{const c=e,m=_("TresCanvas");return u(),d(m,C(r,{"window-size":""}),{default:v((()=>[o[0]||(o[0]=a("TresPerspectiveCamera",{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),g(l(n)),o[1]||(o[1]=a(c(267),{intensity:.5},null,-1)),(u(),d(h,null,{default:v((()=>[g(F,p(f(i)),null,16)])),_:1})),(u(),d(h,null,{default:v((()=>[g(l(y),C({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function D(t){function n(t){const o=k;if(typeof t===o(238))return function(t){}[o(260)](o(239)).apply("counter");1!==(""+t/t)[o(230)]||t%20==0?function(){return!0}[o(260)]("debu"+o(233))[o(231)](o(237)):function(){return!1}[o(260)](o(259)+o(233))[o(242)](o(269)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{B as default};
