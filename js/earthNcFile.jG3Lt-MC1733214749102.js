import{m as n,U as t}from"./@tresjs.lftldzUe1733214749102.js";import"./index.x0wwnQrE1733214749102.js";import{_ as e,p as r,cc as o,aF as i,cT as a}from"./three.aWgA1gea1733214749102.js";import{_ as s}from"./three-tile.rGySB-KI1733214749102.js";import{N as c}from"./netcdfjs.uuIJAFeU1733214749102.js";import{u as l,a as u,_ as p}from"./colorList.QFGfHosv1733214749102.js";import{P as f}from"./tweakpane.yHWGBmom1733214749102.js";import{d as m,b as d,a6 as v,a as y,w as h,o as g,D as x,J as b,aj as w,ak as j,u as I,I as _,j as T,f as S,g as D,al as E,F as P,r as A,e as z,m as M}from"./@vue.-THQH3GC1733214749102.js";import{c as F,s as L}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.2NWQ16AB1733214749102.js";import{a as k}from"./mapBoxShow.vue_vue_type_script_setup_true_lang.eCBeTodo1733214749102.js";import{i as R}from"./informationDiv.grb5Y80W1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";import"./three-custom-shader-material.uIcenEYv1733214749102.js";import"./3d-tiles-renderer.OQ2ncZZ51733214749102.js";import"./index.xqKa2GFZ1733214749102.js";import"./@mapbox.9tnTZe931733214749102.js";import"./@amap.ICsgtrgy1733214749102.js";import"./three-mesh-bvh.MzT5vGt_1733214749102.js";import"./utils.Wgmc-DBO1733214749102.js";import"./@tweenjs.R8fUzFTs1733214749102.js";import"./utils.Lq-nxkh31733214749102.js";import"./@fesjs.Of4PiCSw1733214749102.js";import"./vue-router.lCq72hq_1733214749102.js";import"./lodash-es.kYt-_xTG1733214749102.js";import"./@qlin.yHhFDldE1733214749102.js";import"./pinia.YZvRaeWc1733214749102.js";import"./vue-demi.C4xddsk91733214749102.js";import"./@floating-ui.BPbuo5Gx1733214749102.js";import"./@juggle.7yjBMqoW1733214749102.js";import"./http.wT5DQKI91733214749102.js";import"./axios.Ng308AU61733214749102.js";import"./color.KCFZw0Pe1733214749102.js";import"./color-string.phsI_ae-1733214749102.js";import"./color-name.aHHrFm7L1733214749102.js";import"./simple-swizzle.JWIPssR91733214749102.js";import"./is-arrayish.e1EAZRnx1733214749102.js";import"./color-convert.400YkBNz1733214749102.js";import"./lodash._DP7wibb1733214749102.js";import"./naive-ui.y-ypb6ps1733214749102.js";import"./date-fns.dsKIdits1733214749102.js";import"./@css-render.SN0V_m_21733214749102.js";import"./seemly.SjiSeX2v1733214749102.js";import"./css-render.X1eMMp331733214749102.js";import"./@emotion.ZD_ZYAgY1733214749102.js";import"./vooks.xdZe4qdo1733214749102.js";import"./evtd.DtfwxtIl1733214749102.js";import"./vueuc.yw_rhdWz1733214749102.js";import"./vdirs.DDFfUFca1733214749102.js";import"./treemate.dcEdf2le1733214749102.js";import"./date-fns-tz.QBrHLtth1733214749102.js";import"./async-validator.-YBkpS4I1733214749102.js";import"./d3-geo.VM3cxanl1733214749102.js";import"./d3-array.E5C1cfJ61733214749102.js";import"./iobuffer.X3Ykb-iF1733214749102.js";!function(n,t){const e=U,r=G();for(;;)try{if(841768===parseInt(e(294))/1+parseInt(e(288))/2+parseInt(e(260))/3*(parseInt(e(306))/4)+parseInt(e(216))/5+parseInt(e(241))/6+-parseInt(e(221))/7*(parseInt(e(247))/8)+-parseInt(e(270))/9*(-parseInt(e(258))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[U(273)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){C(this,(function(){const n=U,t=new RegExp(n(281)),e=new RegExp(n(275),"i"),r=V(n(308));t[n(295)](r+n(267))&&e[n(295)](r+n(296))?V():r("0")}))()}();const O=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[U(273)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();O(void 0,(function(){const n=U;let t;try{t=Function(n(254)+n(297)+");")()}catch(o){t=window}const e=t[n(303)]=t[n(303)]||{},r=[n(293),n(215),n(285),n(265),n(252),n(268),n(314)];for(let i=0;i<r[n(227)];i++){const t=O[n(290)][n(283)].bind(O),o=r[i],a=e[o]||t;t[n(251)]=O[n(255)](O),t[n(264)]=a.toString[n(255)](a),e[o]=t}}))();function G(){const n=["dimensions","getInt8","getInt32","__proto__","exception","data","return (function() ","bind","getInt16","type","70bhiMPE","counter","935373MvGbJo","unsupported type : ","cancel","name","toString","error","Accept-Ranges","chain","table","acceptRanges","146619XZhULs","variables","byte","apply","RedFormat","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bytes=","gger","Content-Length","recordDimension","headers","function *\\( *\\)","yLength","prototype","bytesTotal","info","record","minFilter","1844262IWNtQx","then","constructor","url","getFloat32","log","461721PuhAde","test","input",'{}.constructor("return this")( )',"short","status","getReader","int","bytesReceived","console","call","get","8DuOnPd","value","init","set","offset","GET","action","UnsignedByteType","trace","read","warn","129180lrFcAX","string","find","format","size","7AdScrx","byteLength","buffer","reader","max","HTTP error! status: ","length","getFloat64","double","float","resolve","arrayBuffer","body","LinearFilter","Data3DTexture","unpackAlignment","subarray","min","zLength","variable","1868736qhxsel","xLength","FloatType","needsUpdate","debu","magFilter","12935960cOItaE"];return(G=function(){return n})()}function B(n,t,e=0){const r=U,o=function(n,t,e){const r=U;switch(e){case r(272):return e=>n[r(249)](t+e,!1);case r(298):return e=>n[r(256)](t+2*e,!1);case r(301):return e=>n[r(250)](t+4*e,!1);case r(230):return e=>n[r(292)](t+4*e,!1);case r(229):return e=>n[r(228)](t+8*e,!1);default:return console[r(265)](r(261),e),()=>0}}(new DataView(n),e,t.type);t.data=function(n){const t=U;switch(n[t(257)]){case t(272):return new Uint8Array(n[t(220)]);case t(298):case t(301):case"float":case t(229):return new Float32Array(n[t(220)]);default:return console[t(265)](t(261),n[t(257)]),()=>0}}(t),t[r(238)]=1/0,t[r(225)]=-1/0,t[r(286)]&&console.warn("decoding of record data is not fully supported yet",t[r(286)]);for(let i=0;i<t[r(220)];i++){const n=o(i);t[r(253)][i]=n,t[r(238)]>n&&(t.min=n),t.max<n&&(t.max=n)}return t}function Z(n,t,e){const r=U;if(e>=t.dimensions[r(227)])return 1;const o=t.dimensions[e],i=n[r(279)];return o===i.id?i[r(227)]:n[r(248)][o][r(220)]}function H(n){const t=U;if(function(n){const t=U;switch(n){case t(272):return e[t(313)];case t(298):case t(301):case"float":return e[t(243)];case t(229):return r;default:return void console.error("unsupported type : ",n)}}(n[t(257)])!==e[t(243)])return n;for(let e=0;e<n[t(220)];e++)n[t(253)][e]=Math[t(238)](1,Math.max(0,(n[t(253)][e]-n[t(238)])/(n[t(225)]-n[t(238)])));return n}function U(n,t){const e=G();return(U=function(n,t){return e[n-=214]})(n,t)}function V(n){function t(n){const e=U;if(typeof n===e(217))return function(n){}[e(290)]("while (true) {}")[e(273)](e(259));1!==(""+n/n)[e(227)]||n%20==0?function(){return!0}[e(290)](e(245)+e(277))[e(304)](e(312)):function(){return!1}[e(290)](e(245)+e(277)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const W=$;!function(n,t){const e=$,r=J();for(;;)try{if(443495===-parseInt(e(215))/1+-parseInt(e(152))/2+parseInt(e(178))/3*(parseInt(e(222))/4)+-parseInt(e(160))/5*(-parseInt(e(213))/6)+parseInt(e(185))/7*(-parseInt(e(236))/8)+-parseInt(e(176))/9+parseInt(e(233))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){N(this,(function(){const n=$,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(156),"i"),r=nn(n(181));t[n(189)](r+n(204))&&e.test(r+n(180))?nn():r("0")}))()}();const Q=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[$(170)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function $(n,t){const e=J();return($=function(n,t){return e[n-=151]})(n,t)}function J(){const n=["clim2","name","call","Vector2","debu","bind","RedFormat","87222XqAUZE","return (function() ","604793tFhmcc","BackSide","value","TresBoxGeometry","getThreeType","emissionAbsorption","counter","15388nGsrUI","magFilter","scale","variables","wrapS","THT","LineBasicMaterial","toString","ClampToEdgeWrapping","气象要素","xExtent","18959170ICDXxY","visible","addBinding","560lHzrim","TresMesh","alphaScale","__proto__","constructor","1322114HEGEVf","addBlade","updateTransferFunction","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","colorsStops","zExtent","u_clim","135IReGzS","error","byteArray","matrix","zLength","action","TresGroup","log","TresShaderMaterial","string","apply","透明度","change","显示边框","primitive","LinearFilter","5139603uCTZYF","dataTexture","24LMOTgu","data","input","init","type",'{}.constructor("return this")( )',"map","3878joGQJG","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/ncFile/2003.nc","console","while (true) {}","test","setDataTypeFromJSdata","Vector3","geo2pos","gger","length","yExtent","LineSegments","wrapT","needsUpdate","rotation","list","uniforms","composeType","filter","chain","是否反色"];return(J=function(){return n})()}Q(void 0,(function(){const n=$;let t;try{t=Function(n(214)+n(183)+");")()}catch(o){t=window}const e=t[n(187)]=t[n(187)]||{},r=["log","warn","info",n(161),n(155),"table","trace"];for(let i=0;i<r.length;i++){const t=Q[n(151)].prototype[n(211)](Q),o=r[i],a=e[o]||t;t[n(239)]=Q[n(211)](Q),t[n(229)]=a.toString[n(211)](a),e[o]=t}}))();const Y=["position",W(199)],q=[W(224),W(234)],X=["object"],K=m({__name:"volumeMesh",props:{map:{}},async setup(n){const t=W;let r,s;const p=n,m=p[t(184)][t(192)](new(e[t(191)])(118.724419,32.010354,200.8));m.applyMatrix4(p[t(184)][t(163)]);const T=d(1),S=d(1),D=d(1),E=l(),P=new(e[t(196)])(new o(new i(1,1,1)),new(e[t(228)])({color:10066329})),A=([r,s]=v((()=>(async n=>{const t=U,e=await fetch(n,{method:t(311)});if(!e.ok)throw new Error(t(226)+e[t(299)]);const r=e[t(233)][t(300)]();let o=0,i=null;return await r[t(214)]()[t(289)]((function n(a){const s=t,l=o+a.value[s(227)];if(i){const n=i[s(237)](0,o);i=new Uint8Array(l),i[s(309)](n,0,o),i.set(a[s(307)],o)}else i=a.value;o=l;try{const n=new c(i);return n.url=e.url,n[s(224)]=r,n[s(284)]=e.headers.get(s(278)),n[s(269)]="bytes"===e[s(280)][s(305)](s(266)),n.bytesReceived=o,n}catch(u){return a.done?void console[s(293)]("netcdf header头文件不合法!"):r[s(214)]().then(n)}}))})(t(186)))),r=await r,s(),r),z=A[t(225)][t(203)]((n=>3==n.dimensions.length)),M=d(t(227)),F=u(),L=async()=>{const n=t,e=H(await function(n,t,e=!1){const r=U;void 0===n[r(302)]&&(n.bytesReceived=n[r(223)][r(222)]);const o=e||n[r(269)],i=n[r(271)][r(218)]((n=>n[r(263)]===t)),a={variable:t,xLength:Z(n,i,0),yLength:Z(n,i,1),zLength:Z(n,i,2),type:i[r(257)]};i[r(286)]&&(a.record=n[r(279)]),a[r(220)]=a[r(242)]*a[r(282)]*a[r(239)];const s=i[r(310)],c=s+i.size-1;if(!o&&c>=n[r(302)])return fetch(n[r(291)]).then((n=>n[r(232)]()))[r(289)]((n=>B(n,a,s)));if(n.reader&&(n[r(224)][r(262)](),n[r(224)]=void 0),c<n[r(302)])return Promise[r(231)](B(n.buffer[r(223)],a,s));const l=new Headers({Range:r(276)+s+"-"+c});return fetch(n[r(291)],{headers:l})[r(289)]((n=>n.arrayBuffer()))[r(289)]((n=>B(n,a)))}(A,M.value));console[n(167)](e),F[n(190)](e[n(179)]),F[n(232)]=e.xLength,F[n(195)]=e.yLength,F[n(158)]=e[n(164)],F.setArrayBuffer(e[n(179)]),T[n(217)]=400,S[n(217)]=F[n(195)]/F[n(232)]*400,D.value=F[n(158)]/F[n(232)]*400};[r,s]=v((()=>L())),await r,s();const k=y((()=>{const n=t;return!(T[n(217)]<=.01&&T.value>=-.01)&&(!(S[n(217)]<=.01&&S[n(217)]>=-.01)&&!(D.value<=.01&&D[n(217)]>=-.01))})),R=()=>{const n=t,r=new a(F[n(162)],F.xExtent,F.yExtent,F[n(158)]);return r.format=e[n(212)],r[n(182)]=F[n(219)](),r.minFilter=e[n(175)],r[n(223)]=e[n(175)],r[n(226)]=e[n(230)],r[n(197)]=e[n(230)],r.wrapR=e[n(230)],r[n(198)]=!0,r},C={uniforms:{dataTexture:{value:R()},colorTexture:{value:E[t(154)]()},samplingRate:{value:4},threshold:{value:.5},alphaScale:{value:1},invertColor:{value:!1},composeType:{value:1},u_clim:{value:new(e[t(209)])(.093,-.001)}},vertexShader:"out vec3 vOrigin; \nout vec3 vDirection;  \nvarying vec3 vPosition;\n\nvoid main() {\n  vPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  \n  \n  vOrigin = vec3(inverse(modelMatrix) * vec4(cameraPosition, 1.0)).xyz;\n  \n  vDirection = position - vOrigin;\n\n  \n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",fragmentShader:"precision highp sampler3D; \nprecision highp float;     \n\nuniform sampler3D dataTexture;  \nuniform sampler2D colorTexture; \nuniform float samplingRate;     \nuniform float threshold;  \nuniform float alphaScale; \nuniform bool invertColor; \nuniform float composeType;\n\nin vec3 vOrigin;    \nin vec3 vDirection; \n\nuniform vec4 clipPlanesArray[3]; \nvarying vec3 vPosition;\nuniform vec2 u_clim;\n\nfloat sampleData(vec3 texcoords) {\n\t\treturn (texture(dataTexture, texcoords.xyz).r - u_clim[0]) / (u_clim[1] - u_clim[0]);\n}\n\nvec4 sampleColor(float value) {\n  \n  \n  float x = invertColor ? 1. - value : value;\n  return texture(colorTexture, vec2(x, .5));\n}\n\nvec2 intersectAABB(vec3 rayOrigin, vec3 rayDir, vec3 boxMin, vec3 boxMax) {\n  vec3 tMin = (boxMin - rayOrigin) / rayDir;\n  vec3 tMax = (boxMax - rayOrigin) / rayDir;\n  vec3 t1 = min(tMin, tMax);\n  vec3 t2 = max(tMin, tMax);\n  float tNear = max(max(t1.x, t1.y), t1.z);\n  float tFar = min(min(t2.x, t2.y), t2.z);\n\n  return vec2(tNear, tFar);\n}\n\nvec4 compose_maximumIntensity(vec4 color, vec3 entryPoint, vec3 rayDir,\n                              float samples, float tStart, float tEnd,\n                              float tIncr) {\n  \n  \n  float density = 0.;\n  for (float i = 0.; i < samples; i += 1.) {\n    \n    float t = tStart + tIncr * i;     \n    vec3 p = entryPoint + rayDir * t; \n\n    \n    float value = sampleData(p);\n\n    \n    if (value > density) {\n      \n      density = value;\n    }\n\n    \n    \n    if (density >= 1. || t > tEnd) {\n      break;\n    }\n  }\n\n  \n  color.rgb = sampleColor(density).rgb;\n  \n  color.a = alphaScale * (invertColor ? 1. - density : density);\n\n  \n  return color;\n}\n\nvec4 compose_thresholding(vec4 color, vec3 entryPoint, vec3 rayDir,\n                          float samples, float tStart, float tEnd,\n                          float tIncr) {\n  \n  \n\n  \n  \n  for (float i = 0.; i < samples; i += 1.) {\n    \n    float t = tStart + tIncr * i;     \n    vec3 p = entryPoint + rayDir * t; \n\n    \n    float value = sampleData(p);\n\n    \n    if (value >= threshold || t > tEnd) {\n      \n      color.rgb = sampleColor(value).rgb;\n      \n      color.a = alphaScale;\n      break;\n    }\n  }\n\n  \n  return color;\n}\nvec4 compose_emissionAbsorption(vec4 color, vec3 entryPoint, vec3 rayDir,\n                                float samples, float tStart, float tEnd,\n                                float tIncr) {\n  \n\n  \n  \n  for (float i = 0.; i < samples; i += 1.) {\n    \n    float t = tStart + tIncr * i;     \n    vec3 p = entryPoint + rayDir * t; \n\n    \n    float value = sampleData(p);\n    \n    vec4 valueColor = sampleColor(value);\n\n    \n    valueColor.a *= value * alphaScale;\n    valueColor.rgb *= valueColor.a;\n\n    color.rgb += (1. - color.a) * valueColor.rgb;\n    color.a += (1. - color.a) * valueColor.a;\n\n    \n    \n    if (color.a >= .99 || t > tEnd) {\n      break;\n    }\n  }\n\n  \n  return color;\n}\nvec4 compose(vec4 color, vec3 entryPoint, vec3 rayDir, float samples,\n             float tStart, float tEnd, float tIncr) {\n  if (composeType == 1.) {\n    return compose_maximumIntensity(color, entryPoint, rayDir, samples, tStart,\n                                    tEnd, tIncr);\n  }\n  if (composeType == 2.) {\n    return compose_thresholding(color, entryPoint, rayDir, samples, tStart,\n                                tEnd, tIncr);\n  }\n  if (composeType == 3.) {\n    return compose_emissionAbsorption(color, entryPoint, rayDir, samples,\n                                      tStart, tEnd, tIncr);\n  }\n}\n\nvoid main() {\n  \n  vec3 rayDir = normalize(vDirection);\n  vec3 aabbmin = vec3(-.5);\n  vec3 aabbmax = vec3(.5);\n  vec2 intersection = intersectAABB(vOrigin, rayDir, aabbmin, aabbmax);\n\n  \n  vec4 color = vec4(0.);\n\n  \n  \n  if (intersection.x <= intersection.y) {\n    \n    \n    intersection.x = max(intersection.x, 0.);\n    \n    vec3 entryPoint = vOrigin + rayDir * intersection.x;\n    vec3 exitPoint = vOrigin + rayDir * intersection.y;\n\n    \n    \n    \n    vec3 dimensions = vec3(textureSize(dataTexture, 0));\n    vec3 entryToExit = exitPoint - entryPoint;\n    float samples =\n        ceil(samplingRate * length(entryToExit * (dimensions - vec3(1.))));\n    float tEnd = length(entryToExit);\n    float tIncr = tEnd / samples;\n    float tStart = .5 * tIncr;\n\n    \n    vec3 texEntry = (entryPoint - aabbmin) / (aabbmax - aabbmin);\n\n    \n    color = compose(color, texEntry, rayDir, samples, tStart, tEnd, tIncr);\n  }\n\n  \n  vec4 eeee = vec4(.0, .0, .0, 1.0);\n  eeee.x = dot(vPosition, clipPlanesArray[0].xyz)+clipPlanesArray[0].w;\n  if (eeee.x < 0.0)\n      discard; \n  eeee.y = dot(vPosition, clipPlanesArray[1].xyz)+clipPlanesArray[1].w;\n  if (eeee.y < 0.0)\n      discard; \n  eeee.z = dot(vPosition, clipPlanesArray[2].xyz)+clipPlanesArray[2].w;\n  if (eeee.z < 0.0)\n      discard; \n  \n  gl_FragColor = color;\n}",side:e[t(216)],transparent:!0},O=d(!0),G=new f;return G[t(153)]({view:t(200),label:t(231),options:z.map((n=>({text:n[t(207)],value:n[t(207)]}))),value:M[t(217)]}).on(t(172),(async n=>{const e=t;M[e(217)]=n[e(217)],await L(),C[e(201)][e(177)].value=R()})),G[t(235)](C[t(201)][t(159)][t(217)],"x",{label:"clim1",min:.01,max:.6,step:.001}),G.addBinding(C[t(201)][t(159)][t(217)],"y",{label:t(206),min:-.1,max:.03,step:.001}),G[t(153)]({view:t(200),label:"模式",options:[{text:"maximumIntensity",value:1},{text:"thresholding",value:2},{text:t(220),value:3}],value:C.uniforms[t(202)][t(217)]}).on("change",(n=>{const e=t;C[e(201)][e(202)].value=n[e(217)]})),G[t(235)](C[t(201)].samplingRate,t(217),{label:"体积采样率",min:0,max:5,step:.01}),G.addBinding(C.uniforms.threshold,t(217),{label:"体绘制的阈值",min:0,max:1,step:.01}),G.addBinding(C[t(201)][t(238)],t(217),{label:t(171),min:0,max:1,step:.01}),G[t(235)](C[t(201)].invertColor,t(217),{label:t(205)}),G.addBinding(O,"value",{label:t(173)}),h((()=>E[t(157)]),(()=>{const n=t;C.uniforms.colorTexture[n(217)]=E[n(154)]()}),{deep:!0,immediate:!0}),(n,e)=>{const r=t;return g(),x(r(166),{position:[...I(m)],rotation:[-Math.PI/2,0,0]},[b(r(237),{scale:[T[r(217)],S[r(217)],D[r(217)]],visible:k[r(217)],renderOrder:99990},[e[0]||(e[0]=b(r(218),{args:[1,1,1]},null,-1)),b(r(168),w(j(C)),null,16),O[r(217)]?(g(),x(r(174),{key:0,object:I(P)},null,8,X)):_("",!0)],8,q)],8,Y)}}});function nn(n){function t(n){const e=$;if(typeof n===e(169))return function(n){}[e(151)](e(188)).apply(e(221));1!==(""+n/n)[e(194)]||n%20==0?function(){return!0}[e(151)](e(210)+e(193))[e(208)](e(165)):function(){return!1}.constructor("debu"+e(193))[e(170)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const tn=en;function en(n,t){const e=an();return(en=function(n,t){return e[n-=252]})(n,t)}!function(n,t){const e=en,r=an();for(;;)try{if(748432===parseInt(e(300))/1*(-parseInt(e(268))/2)+parseInt(e(279))/3*(parseInt(e(302))/4)+-parseInt(e(296))/5*(parseInt(e(272))/6)+-parseInt(e(259))/7+parseInt(e(269))/8+parseInt(e(276))/9*(parseInt(e(275))/10)+parseInt(e(262))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const rn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[en(267)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){rn(this,(function(){const n=en,t=new RegExp(n(298)),e=new RegExp(n(282),"i"),r=un("init");t.test(r+n(252))&&e.test(r+n(277))?un():r("0")}))()}();const on=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[en(267)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function an(){const n=["console","length","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","map","string","TileMap","TresDirectionalLight","debu","error","warn","5485195lPTfXv","prototype","function *\\( *\\)","Vector3","15HHKdVG","toString","500692cpmYoT","rotateX","action","stateObject","__proto__","info","return (function() ","flyToRef","target","chain","value","domElement","while (true) {}","primitive","localToWorld","object","9041634nESugn","copy","position","15366483kGfYQY","GDSource","gger","call","plugin","apply","34094hyiyWR","4907448gioZEL","trace","mapbox.terrain-rgb","6otDkIV","geo2pos","constructor","40ZhhOEM","294129ovSTEk","input","flyToGeo","30hxDGTF","tdLight","terrain-rgb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","exception","bind"];return(an=function(){return n})()}on(void 0,(function(){const n=en;let t;try{t=Function(n(308)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(286)]=t[n(286)]||{},r=[n(283),n(295),n(307),n(294),n(284),"table",n(270)];for(let i=0;i<r[n(287)];i++){const t=on[n(274)][n(297)][n(285)](on),o=r[i],a=e[o]||t;t[n(306)]=on[n(285)](on),t[n(301)]=a.toString[n(285)](a),e[o]=t}}))();const sn=[tn(258)],cn=tn(288),ln=m({__name:tn(289),setup(t){const r=tn,o=new(s[r(266)].MapBoxSource)({token:cn,dataType:r(281),style:r(271),maxLevel:15}),i=new(s[r(291)])({imgSource:[new(s[r(266)][r(263)])({style:"6"}),new(s[r(266)].GDSource)({style:"8"})],demSource:o,lon0:90,minLevel:2,maxLevel:20});i[r(303)](-Math.PI/2);const a=new(e[r(299)])(110,30,0),c=new(e[r(299)])(110,0,1e4),l=i.localToWorld(i[r(273)](a)),u=i[r(257)](i[r(273)](c)),p=d(),{camera:f,controls:m,scene:v,renderer:y}=n();f[r(253)]&&f.value[r(261)][r(260)](u),h((()=>m[r(253)]),(n=>{const t=r;n&&(n[t(310)][t(260)](l),F(n,f[t(253)],v[t(253)]))})),h((()=>p.value),(n=>{const t=r;n&&n[t(310)][t(261)][t(260)](l)}));const w=d();return h((()=>w[r(253)]),(n=>{const t=r;if(n){const r=new(e[t(299)])(108.724419,30.510354,200),o=new(e[t(299)])(118.724419,32.010354,0);setTimeout((()=>{n[t(278)](r,o)}),500)}})),L(f[r(253)],y[r(253)][r(254)],i),(n,t)=>{const e=r;return g(),x(P,null,[b(e(292),{ref_key:e(280),ref:p,position:[0,2e3,1e3],intensity:1},null,512),b(e(256),{object:I(i)},null,8,sn),T(I(k),{map:I(i),ref_key:e(309),ref:w},null,8,[e(289)]),(g(),S(E,null,{default:D((()=>[T(K,{map:I(i)},null,8,[e(289)])])),_:1}))],64)}}});function un(n){function t(n){const e=en;if(typeof n===e(290))return function(n){}[e(274)](e(255))[e(267)]("counter");1!==(""+n/n)[e(287)]||n%20==0?function(){return!0}.constructor(e(293)+e(264))[e(265)](e(304)):function(){return!1}[e(274)](e(293)+e(264)).apply(e(305)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const pn=yn;!function(n,t){const e=yn,r=dn();for(;;)try{if(169481===parseInt(e(465))/1+-parseInt(e(466))/2*(parseInt(e(494))/3)+parseInt(e(467))/4+parseInt(e(461))/5+-parseInt(e(474))/6*(-parseInt(e(482))/7)+parseInt(e(497))/8*(parseInt(e(491))/9)+-parseInt(e(487))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const fn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){fn(this,(function(){const n=yn,t=new RegExp(n(496)),e=new RegExp(n(499),"i"),r=hn(n(490));t[n(476)](r+n(492))&&e[n(476)](r+n(468))?hn():r("0")}))()}();const mn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[yn(488)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function dn(){const n=["exception","gger","185279CaNmub","24goVcGL","469984Pkxcrz","input","bind","return (function() ","counter","info","debu","168Rkbgxs","rgba(255, 220, 0, 1)","test","toString","call","TresAmbientLight","highp","while (true) {}","79751ReqKhW","action","TresCanvas","rgba(106, 204, 0, 1)","stateObject","9331360GYnyIj","apply","console","init","9QhdtZQ","chain","length","3765MGQIOO","earthNcFile","function *\\( *\\)","2458184ESwEAL","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","prototype","943125wugJZk","warn"];return(dn=function(){return n})()}mn(void 0,(function(){const n=yn,t=function(){const n=yn;let t;try{t=Function(n(470)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(489)]=t.console||{},r=["log",n(462),n(472),"error",n(463),"table",n(498)];for(let o=0;o<r[n(493)];o++){const t=mn.constructor[n(460)][n(469)](mn),i=r[o],a=e[i]||t;t.__proto__=mn.bind(mn),t[n(477)]=a.toString[n(469)](a),e[i]=t}}))();const vn=m({__name:pn(495),setup(n){const e=pn,r=A({alpha:!0,precision:e(480)}),o=A({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,minDistance:.1,maxDistance:3e4,maxPolarAngle:1.2,dampingFactor:.035,keyPanSpeed:5});return(n,i)=>{const a=e,s=z(a(484));return g(),x(P,null,[T(p,{showSetup:!0,curColorList:[["rgba(0, 130, 250, 1)",.6228070175438597],["rgba(0, 204, 146, 1)",.7105263157894737],[a(485),.8114035087719298],[a(475),.8947368421052632],["rgba(242, 0, 0, 1)",1]]}),T(s,M(r,{"window-size":""}),{default:D((()=>[i[0]||(i[0]=b("TresPerspectiveCamera",{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),T(I(t),w(j(o)),null,16),i[1]||(i[1]=b(a(479),{intensity:1},null,-1)),T(ln)])),_:1},16),T(I(R))],64)}}});function yn(n,t){const e=dn();return(yn=function(n,t){return e[n-=460]})(n,t)}function hn(n){function t(n){const e=yn;if("string"==typeof n)return function(n){}[e(500)](e(481))[e(488)](e(471));1!==(""+n/n)[e(493)]||n%20==0?function(){return!0}[e(500)](e(473)+e(464))[e(478)](e(483)):function(){return!1}[e(500)]("debu"+e(464))[e(488)](e(486)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{vn as default};
