import{m as t,e as n,D as e,a as o,t as r}from"./@tresjs.CIF1IzyY1748143687960.js";import"./index.eYuTuqeB1748143687960.js";import{T as c,aI as i,c as s,a8 as u,a,M as W,S as d,V as l,B as f,l as m,cf as p}from"./three.BAUoVmiW1748143687960.js";import{P as k}from"./tweakpane.C0HtAJSg1748143687960.js";import{I as x,C as h,N as b,c as C,d as v,a as S}from"./three-mesh-bvh.DqT24tsX1748143687960.js";import{d as _,a5 as g,b as y,a2 as R,G as w,o as O,F as P,I as Q,u as j,r as F,h as G,j as q,f as K,e as L,m as T,am as M}from"./@vue.C_fjx3FT1748143687960.js";import{_ as B}from"./randomLoading.vue_vue_type_script_setup_true_lang.CS_flEgB1748143687960.js";import"./postprocessing.BT6kobhQ1748143687960.js";import"./@vueuse.CbR7AWyh1748143687960.js";import"./utils.DUIleYiO1748143687960.js";import"./@fesjs.CQfPqpiA1748143687960.js";import"./vue-router.BZnpJAA51748143687960.js";import"./lodash-es.C7pWAXPe1748143687960.js";import"./@qlin.q6OWdsQV1748143687960.js";import"./pinia.DEEYAsso1748143687960.js";import"./@babel.BPq7uOAK1748143687960.js";import"./@floating-ui.BFjFSAYt1748143687960.js";import"./@juggle.CcBCnTIR1748143687960.js";import"./three-mesh-ui.module.D5v3rw811748143687960.js";import"./starLoading.DcnUhauf1748143687960.js";import"./cssLoaders.DDMwnv4M1748143687960.js";import"./bubbleLoading.DcC5478p1748143687960.js";import"./yangyangLoading.CykSYMIp1748143687960.js";function J(t,n){const e=z();return J=function(n,o){let r=e[n-=447];if(void 0===J.ZOYKwh){var c=function(t){let n="",e="",o=n+c;for(let r,c,i=0,s=0;c=t.charAt(s++);~c&&(r=i%4?64*r+c:c,i++%4)?n+=o.charCodeAt(s+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(c);for(let r=0,c=n.length;r<c;r++)e+="%"+("00"+n.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(e)};const n=function(t,n){let e,o,r=[],i=0,s="";for(t=c(t),o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)i=(i+r[o]+n.charCodeAt(o%n.length))%256,e=r[o],r[o]=r[i],r[i]=e;o=0,i=0;for(let c=0;c<t.length;c++)o=(o+1)%256,i=(i+r[o])%256,e=r[o],r[o]=r[i],r[i]=e,s+=String.fromCharCode(t.charCodeAt(c)^r[(r[o]+r[i])%256]);return s};J.EFhMrz=n,t=arguments,J.ZOYKwh=!0}const i=n+e[0],s=t[i];if(s)r=s;else{if(void 0===J.owTqGz){const t=function(t){this.LtSFAy=t,this.biwFQj=[1,0,0],this.ChZtab=function(){return"newState"},this.IMELMw="\\w+ *\\(\\) *{\\w+ *",this.ezrSea="['|\"].+['|\"];? *}"};t.prototype.EJUPdc=function(){const t=new RegExp(this.IMELMw+this.ezrSea).test(this.ChZtab.toString())?--this.biwFQj[1]:--this.biwFQj[0];return this.EMhmrB(t)},t.prototype.EMhmrB=function(t){return Boolean(~t)?this.pKSZIV(this.LtSFAy):t},t.prototype.pKSZIV=function(t){for(let n=0,e=this.biwFQj.length;n<e;n++)this.biwFQj.push(Math.round(Math.random())),e=this.biwFQj.length;return t(this.biwFQj[0])},new t(J).EJUPdc(),J.owTqGz=!0}r=J.EFhMrz(r,o),t[i]=r}return r},J(t,n)}!function(){function t(t,n,e,o,r){return J(n-790,r)}function n(t,n,e,o,r){return J(o- -385,e)}const e=z();function o(t,n,e,o,r){return J(o-892,r)}for(;;)try{if(314527===-parseInt((i="y]QP",s=-337,J(s- -896,i)))/1+-parseInt(o(0,0,0,1446,"M512"))/2*(-parseInt((r="nBTK",c=668,J(c-74,r)))/3)+-parseInt(t(0,1350,0,0,"Fw^y"))/4*(parseInt(n(0,0,"2Rlz",230))/5)+parseInt(o(0,0,0,1485,"M512"))/6+parseInt(n(0,0,"p6XS",96))/7*(-parseInt(t(0,1330,0,0,"dykg"))/8)+-parseInt(t(0,1389,0,0,"Fw^y"))/9+parseInt(o(0,0,0,1440,"vRVF"))/10)break;e.push(e.shift())}catch(u){e.push(e.shift())}var r,c,i,s}();const N=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return J(t-2,e)}function r(t,n,e,o,r){return J(o-609,n)}if(r(0,"9cLT",0,1204)!==r(0,"[Zi^",0,1057)){const c=t?function(){function t(t,n,e,r,c){return o(t- -241,0,e)}function c(t,n,e,r,c){return o(n-317,0,c)}function i(t,n,e,o,c){return r(0,t,0,c- -440)}if("UvdcE"!==t(350,0,"@]o3")){if(e){if(t(312,0,"M512")!==t(322,0,"78x%"))return!0;{const t=e[c(0,922,0,0,"5d(e")](n,arguments);return e=null,t}}}else{_0x301da4.x=_0x146ebb[i("vRVF",0,0,0,635)]/_0x187c69[(s="pJVY",u=384,r(0,s,0,u- -761))]*2-1,_0x28cb53.y=-_0x327a86[c(0,923,0,0,"[Zi^")]/_0x444cf1.innerHeight*2+1,_0x174562[i("nnSd",0,0,0,702)]=_0x5259c4[t(212,0,"i^y%")];const n=new _0x279d4f.Raycaster;n[i("6hj&",0,0,0,767)](_0x141f64,_0x57d2de[i("$4k5",0,0,0,739)]),n[t(229,0,"nBTK")]=!0;const e=n.intersectObject(_0x5a3e71[c(0,925,0,0,"y3Ax")],!0);_0x47575c[i("9cLT",0,0,0,757)]=!0,_0x17ed03[c(0,894,0,0,"9gQ7")]=0===e[t(246,0,"tq16")]}var s,u}:function(){};return t=!1,c}_0x2a97ac=_0x1ed082(r(0,"[Zi^",0,1178)+J(248- -239,"AO]d")+");")()}}()(void 0,(function(){function t(t,n,e,o,r){return J(n-383,t)}function n(t,n,e,o,r){return J(o-253,e)}return N[t("B2OU",881)]()[n(0,0,"Dl97",765)](t("Dl97",938))[n(0,0,"dykg",849)]().constructor(N)[t("XK]c",983)](J(158- -296,"nBTK"))}));N();const Z=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return J(n- -193,e)}function r(t,n,e,o,r){return J(n- -46,r)}function c(t,n,e,o,r){return J(e- -377,o)}if(c(0,0,142,"[Zi^")===r(0,424,0,0,"G%g1")){const i=t?function(){function t(t,n,e,o,c){return r(0,e- -375,0,0,c)}function i(t,n,e,o,c){return r(0,t- -363,0,0,o)}if(i(52,0,0,"nnSd")===i(51,0,0,"y3Ax"))_0x2843f3=_0x465bff;else if(e){if("uGnEk"!==t(0,0,117,0,"i711")){const t=e.apply(n,arguments);return e=null,t}return function(t){}[t(0,0,201,0,"78x%")]((s="FlmM",u=6,c(0,0,u- -90,s))).apply(o(0,-420- -749,"Tbbl"))}var s,u}:function(){};return t=!1,i}_0x1ebb19[o(0,286,"pJVY")]=!1}}();!function(){Z(this,(function(){function t(t,n,e,o,r){return J(r- -394,e)}function n(t,n,e,o,r){return J(e- -503,t)}function e(t,n,e,o,r){return J(n-377,e)}if("WPJpP"!==e(0,897,"s9AP")){const c=new RegExp(e(0,949,"nBTK")),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=A(e(0,953,"78x%"));if(c[(o=1160,r="Tbbl",J(o-548,r))](s+t(0,0,"uKMm",0,119))&&i[t(0,0,"u2[i",0,71)](s+n("m^0P",0,-4)))if(J(-450- -947,"u2[i")===n("@]o3",0,99)){if(_0x4231d8){const t=_0x3757a8.apply(_0x54aca6,arguments);return _0x4a0494=null,t}}else A();else s("0")}else if(_0x27e0d8){const n=_0x2c4a77[t(0,0,"3!v4",0,172)](_0x384d01,arguments);return _0x298e31=null,n}var o,r}))()}();const I=function(){let t=!0;return function(n,e){{const o=t?function(){function t(t,n,e,o,r){return J(r- -623,o)}function o(t,n,e,o,r){return J(r-730,n)}if(o(0,"s9AP",0,0,1225)===o(0,"$4K0",0,0,1279)){if(e){if(t(0,0,0,"XK]c",-37)===t(0,0,0,"3fbQ",7)){const t=e.apply(n,arguments);return e=null,t}_0x1d31ef(0)}}else _0x2ebd03=_0x120909}:function(){};return t=!1,o}}}();I(void 0,(function(){let t;try{if(n(-111,-66,"$4K0",-130,-130)!==n(-186,-181,"2Rlz",-273,-260))(function(){return!0})[e(520,531,531,470,"G%g1")](e(462,457,448,533,"$4K0")+"gger")[e(610,640,574,596,"uKMm")](c(182,141,158,"JZqr",164));else{t=Function(n(-141,-60,"@]o3",-197,-134)+s(215,128,60,96,"y3Ax")+");")()}}catch(u){if(s(56,113,138,86,"5d(e")!==s(215,158,105,67,"UH1k")){const t=_0x5cc3c6?function(){if(_0x27574b){const o=_0x4440d6[(t="M512",n=529,e=567,s(t-339,e-445,n-265,e-285,t))](_0x53c499,arguments);return _0x34f17b=null,o}var t,n,e}:function(){};return _0x608b96=!1,t}t=window}function n(t,n,e,o,r){return J(t- -731,e)}function e(t,n,e,o,r){return J(o- -14,r)}function o(t,n,e,o,r){return J(n-597,t)}const r=t[s(156,247,298,250,"UH1k")]=t[c(200,243,124,"XK]c")]||{};function c(t,n,e,o,r){return J(t- -314,o)}const i=[c(197,0,0,"nnSd"),e(0,0,0,439,"UH1k"),"info",e(0,0,0,560,"nnSd"),"exception","table","trace"];function s(t,n,e,o,r){return J(n- -350,r)}for(let a=0;a<i[e(0,0,0,477,"y3Ax")];a++){if(o("78x%",1226)===n(-208,0,"XK]c")){const t=_0x7d1398[s(0,168,0,0,"Dl97")](_0x2ec672,arguments);return _0x5cf0a4=null,t}{const t=I[o("Tbbl",1150)][s(0,153,0,0,"m^0P")].bind(I),e=i[a],c=r[e]||t;t.__proto__=I.bind(I),t[n(-123,0,"@]o3")]=c[n(-151,0,"Dl97")].bind(c),r[e]=t}}}))();const V=(t,n,e,o,r,i)=>{function s(t,n,e,o,r){return J(t- -54,n)}function u(t,n,e,o,r){return J(e- -989,r)}function a(t,n,e,o,r){return J(n-484,o)}function W(t,n,e,o,r){return J(e-240,o)}window[a(962,967,995,"y]QP")](s(436,"FlmM"),(e=>{function o(t,n,e,o,r){return s(e-1042,o)}function r(t,n,e,o,r){return s(e-455,r)}var c,i;"KJxOM"!==o(0,0,1459,"tq16")?_0x43d3f3():(t.x=e[o(0,0,1523,"CCA&")]/window.innerWidth*2-1,t.y=-e[(c=977,i="mYST",s(c-551,i))]/window[r(0,0,979,0,"i^y%")]*2+1,n[r(0,0,983,0,"tq16")]=!0)})),window[u(0,0,-424,0,"@]o3")]("pointerdown",(W=>{function d(t,n,e,o,r){return u(0,0,e-478,0,n)}function l(t,n,e,o,r){return a(t-428,r-428,e-475,e)}function f(t,n,e,o,r){return s(e-1014,t)}if(d(0,"[Zi^",30)===d(0,"ku2y",-5)){const t=_0x415b31[f("oag1",0,1585)](_0x5be91a,arguments);return _0x5994dd=null,t}{t.x=W[d(0,"uKMm",115)]/window[l(1441,0,"JZqr",0,1480)]*2-1,t.y=-W[(m="y3Ax",p=1361,k=1286,a(m-303,k-353,p-227,m))]/window[d(0,"mYST",107)]*2+1,o[f("uKMm",0,1524)]=W[f("5J[e",0,1427)];const s=new(c[f("@]o3",0,1467)]);s.setFromCamera(t,e[d(0,"5d(e",23)]),s.firstHitOnly=!0;const u=s[l(1392,0,"Dl97",0,1359)](r[f("6hj&",0,1543)],!0);n.value=!0,i[f("5d(e",0,1481)]=0===u.length}var m,p,k}),!0),window[W(0,0,845,"!)e8")](W(0,0,768,"B2OU"),(t=>{function e(t,n,e,o,r){return W(0,0,r- -3,e)}function r(t,n,e,o,r){return s(t-711,e)}function c(t,n,e,o,r){return a(0,r- -612,0,e)}if(c(0,0,"s9AP",0,404)!==e(0,0,"3!v4",0,787))_0x36abac("0");else if(o[c(0,0,"M512",0,500)]=-1,t[(i="8PFB",d=588,u(0,0,d-1015,0,i))]===r(1184,0,"i711")){if(e(0,0,"3fbQ",0,723)!==r(1273,0,"@]o3")){let t;try{t=_0x1821b9(r(1150,0,"vRVF")+c(0,0,"UH1k",0,428)+");")()}catch(l){t=_0x47e534}return t}n[c(0,0,"vRVF",0,396)]=!1}var i,d}),!0)};function z(){const t=["hmkbWParDq","WO7dOaxdNdJcVWDocCopn8of","WQNdNvrNWQVcP8oQsgOQna","W7fJjh5OW6bo","vCouiCo7rq","CCkDW6xcVJpcGI7dNhvtWRZcO8kuW73dSW","W40hW6nBimoYdmkdsw7cIa","WRtcTqeNW5G","W6fGpCkfW6T6WQmIxKGC","WP3dRwddKCkv","zCkzW6xcTZJdLL4","WPhdT3BdMmkA","o8oxqhzU","W6eoW6Ddiq","W77dNSkeW6LG","WQ8cqCkJymk/yahcVLNdKJpcQmkhbG","jwddOKpcSa","WQPCah1SW4ro","W5WnW7LDjSoUwCoiw3tcLmkNnmkLWRRdVmoDW6/cRa","W70gp8kwW5e6","W4NcPudcHwldQa","e8oEmuK","W5zHDmkeWPbbj8krafrBWO4","WQewlmoyW5qCy8oNDa","WO/dUgtdTmkcr8krW47dJqTT","lGpdUCkOW5rWe8kcbd9q","W6lcTSk9oq","WQFcRmo8rXveWQVdUwaxhq","WO54gN13","WP3cJNlcLK4","W79gWOFdSgq","W5lcOSo3q8oy","WRVdLCoQbq","EmoFWOxdUG","WP/cNbONW5Cpba","WQH1WOmxWQRdQa","WPGGlSozW48GzComzbmCW5m","w1b9BdrxWOxcHZ8BWQpdVLK","DmkuW45hwq","FSkGWPv1hG","lmogxg9Y","kqtdUCkQW4u1sCkIdZPqzSkJrSoM","WOLem8oIWONdLSoU","sGLFWQhcMSoz","WPKUoCoy","mCoZdtWeW5yKtmoGysXc","WRjnr3TTW55KaComiYSWW5BdHmk9mG5Cd8klWQZdTsNdRCkvqLxcM8kTfCoMAq","WPXjnSoYWOi","WQpdN1nNWRFcM8ow","F8kZWRGzlmordfWzFW","W5ZdTmkpDNPHCCkxcaBdJSo2xCoXAfTrW6i8sCowrSoHWQhcKaVdP8ohWQtcHdpdRMVcIq","W5NdSmk5DCkDW57dIvhcJH96W7n9j8ojiW","zSkYW6voESoFWRRcGmkLW43cTW","wCkpWOnDj8oM","W43dL8ksW6PL","EaKLh8kVWQZcJqddLmkteKmFfb4LlmkvW6tcG3jrWOOajmk5qIBdQbVcR8kk","WQ1eC8ovWO5MW7tdRSoBamkzW40","W7tcUSkGkq","lGpdUCkOW5rWe8k7eJLq","WQvvb392W5G","WPJcIH81W74","WO7cLqC3W4SvFmk9iSorbvD9W59LW4ZcPmkVWQO","WO1urNvO","WQdcUSooEa8","WPRcLSoYnmoqqq","BSomWP/dV8kf","W6XFWPBdSfldQXDg","gmoDWQqOWRS","W5hcVSkEBf9/WRbQAKRdTG","jCoOW79ff8oUma","WRDjy1jzsxtcVa","aCobWRSPWQdcSr8Bjq","W4ZdHSkrFmkF","mSoOW5LFeCoIlfi","BdJdRMzt","cCkkWOWZrmk/ixhdVG","n8oXmvBdNa","bCowWQCP","ybTLd8k0WRdcIXFdKSkjaW","WQhcJKy","WRujvmk0CCkK","zCkDW63cUZG","rqnFWRxcGCoDtG","W7hcS8ksgJq","W6Swomkw","W6lcHmoKw8oc","WQCCrCkQAW","mvpdRvpcSa","WPdcKmo6zqi","W6tcGSoKumoaW7qv","ESk0uhXBWPP9","yJ14WONcVa","WORcKr83W5W","CCk4W7Hj","i3xdHLRcK8kPcJJcRKFdRa","W7zGjSkvW7C","W6HFWQZdQLtdPWTukW","wmkyd8kFkSolWRi/o2pdL8odrWpdNv7cICk4imk5dvZdHdFdNCkkBbFdG3HAW70AbG","WPxcNHO2","q0H+W53dGW","WRxcRmohEGe","WRVcGe3cLw0","W7FcJCoPr8oj","vKv7W43dImkyW5C","WOngnmoIWPxdTCoEFmoqqq","WRJdMmk3amoJW4S/lqG/","W7nMoSk3W5m","AmosW4jGtmkemLJdR8oK","e8oXaSopW7pcGrO/wCkr","ix3dJw3cOW","WQtcJ0JcLa","WQSUxNFdKvniW51HWOxdMa","WR3cLeRcQKq","W6pcTSkcugq","W63cTCk1ocW","ymowmCob","W4VdGuD2WO5iBmo0l8oEi1HD","CmoafCocFG","cqeakNO","jmomrKHo","WQeRxCktAW","ESk0s2fBWO16bSk/j3u","FSkpgZnIW7jwo8kWW4q","W65ehCoOoCoLlKVdOt/cM30","h8ocButdH8k1sMhcV8kXWOtcGdpdQmkTkSkIFIuwtbKTwe/dN8kjxmoHW7eIW5e","WOJcOmoiWPnXmZtdRmoduGNcNfpdN8oPWQNcGmk6W58","p8o9W5X6fq","WORcO8oLb8oBWONdQKpcTJDnW5a","WPVcHSk/W7X/W7nb","W4CsW6DJeq","W7dcSmk6mY4Uk8o8sY3dIG","cSooW7O+WQdcQXuFmL4eoSklcHFdOCklCwldK8ogFITvj8oOWRTvW50eW5/cOG","CmkuW6dcPZm","oSkpWPevu8kPo2ddGmo4WQBcRgnBW7xcUG","crq/mNK","DaJdSL5OW5VdNmo5WOaGubRdQCoJW5pcP8kiWQRdGG","WPlcM8oOomonEmkrWOjmoa","mN/dNfZcLCk1x3pcVf3dSd41WPhcKedcKaddPW","WO9tW5/cMmkz","W7TCWQZdOu7dTIe","WPG8mSojW48by8owc1CSWOiZW7mUW5W","WPLCo8oZWOldRCovCSobsSox","WQJcK1pcJ3O","WQ0VuwBdIurz","W4CgW6rC","z8kwW7JcUZNdJa","W7yDjCkhW4WCW5ZdOCoikCkP","W4P5CclcICkLWP/dNCkZDmkroW","WRidzSkYymkLAWu","WQX1WPKaWRhdRXBdRmoAW6RdQ34mW6ddGSoh","q8klWOfpnG","WQRdK8oJaM4","W5NdPmkTxmks","FSkGWQvEyCodWRZcL8kJW5FcPSkgWQjwjwyeqCkqW5HYfCoCW7RdNSkUqMZcNq7dUmka","uG9cWOtcUW","W6NcGgxcRxq","W6H2i8oYgq","dCk4WR4sDa","kCkoWOeLv8kIDtZdQSoKWRVcU3jCW7/cPSkeWPiv","y8kvz0n6","WPRdQh7dNSkywSkBW5lcM0bDb8kbWRWCCq","FSkchJe/WOSjbCkrW6JdRSkuWPK","W498zCoFW64YFmo0sG","W5LZaCoIpG","vCkRySknW4ZcGJuH","b8oqlvtdH8k3xa","WQ/dL8o7mxNdRHzyx8kVvLfL","WPldRCobWQOKWPSUxXbpa8kwaW","vqLqWRtcJCoz","WP/dVhZdKq","eSkgWR8zyq","W6dcNmo1xSov","i3BdGuZcICkVjG","W7xdRSkuBdnpWPBcU3L1WQHuW4RdRL5a","WR9rbw1N","W6xcICoNrW","l8keWQyKv8kLo3m","W48yW71elq","zCkuW6dcVG","W7HbeCkNW4O","BCk+vMy","W6hcR8kJmsm","W63dUSkFW75m","WOBdOmohlX89WR9JEfhdRNK"];return(z=function(){return t})()}var H,U;function A(t){function n(t,n,e,o,r){return J(n-219,r)}function e(t){function n(t,n,e,o,r){return J(n-675,e)}function o(t,n,e,o,r){return J(e- -378,o)}function r(t,n,e,o,r){return J(o- -365,r)}function c(t,n,e,o,r){return J(n-919,r)}function i(t,n,e,o,r){return J(o- -945,e)}if(o(0,0,114,"vRVF")===o(0,0,180,"p6XS")){const t=_0x1d6d05?function(){if(_0x30e38c){const t=_0x1a6173.apply(_0x318b82,arguments);return _0x6578ea=null,t}}:function(){};return _0x2d19f6=!1,t}if(typeof t===o(0,0,74,"fR$7")){if(c(0,1465,0,0,"8PFB")===o(0,0,249,"oag1"))return function(t){}[i(0,0,"2Rlz",-445)](o(0,0,243,"uKMm"))[n(0,1284,"78x%")](i(0,0,"p6XS",-444));(function(){let t;try{t=_0x301da8(c(0,816- -660,0,0,"hhaL")+'{}.constructor("return this")( ));')()}catch(n){t=_0x1d5357}return t})()[r(0,0,0,91,"oag1")](_0x22e5e5,4e3)}else if(i(0,0,"lEHN",-451)!==r(0,0,0,129,"lEHN"))_0x300d02.x=_0x111165[r(0,0,0,206,"B2OU")]/_0x14a89b.innerWidth*2-1,_0xe5bc47.y=-_0x48a5ed[c(0,1393,0,0,"pJVY")]/_0x24f3f5.innerHeight*2+1,_0x3d9403[o(0,0,153,"CCA&")]=!0;else if(1!==(""+t/t)[r(0,0,0,110,"XK]c")]||t%20==0)if(i(0,0,"Dl97",-393)!==i(0,0,"3fbQ",-331)){if(_0x16a466){const t=_0x26f4e9[c(0,1503,0,0,"y]QP")](_0x288319,arguments);return _0x39cca5=null,t}}else(function(){if("PnvoM"===c(0,1039- -503,0,0,"vRVF")){const o=_0x2cf489[(t=-45,e="8PFB",n(0,t- -1333,e))](_0x3de920,arguments);return _0x5b13f7=null,o}return!0;var t,e})[i(0,0,"i711",-321)]("debugger")[n(0,1276,"oag1")](i(0,0,"uKMm",-368));else if("SQWAx"!==n(0,1262,"fR$7")){const t=_0x32b878[r(0,0,0,178,"9gQ7")].prototype.bind(_0x2fc611),n=_0x12f4c4[_0x12db76],e=_0x337e7b[n]||t;t[c(0,1374,0,0,"nBTK")]=_0x28f770.bind(_0x2fc2e7),t.toString=e[i(0,0,"p6XS",-440)][i(0,0,"8PFB",-487)](e),_0x1b64d2[n]=t}else(function(){function t(t,n,e,o,r){return c(0,t-59,0,0,n)}if("cbiiP"!==t(1493,"8PFB"))return!1;var n,e;(function(){return!1}).constructor(t(1585,"5d(e")+(n=1099,e="6hj&",o(0,0,n-1013,e))).apply(t(1551,"pJVY"))})[n(0,1185,"AO]d")]("debu"+i(0,0,"nBTK",-469)).apply("stateObject");e(++t)}try{if(t){if("UcoxW"!==n(0,723,0,0,"y]QP"))return e;if(_0x2632df)return _0x21ebc5;_0xc4667a(0)}else"gvBtD"!==n(0,681,0,0,"B2OU")?(_0x4d12bd[(c="vRVF",i=16,J(i- -508,c))]=-1,"touch"===_0x44fdb7[(o="FlmM",r=986,J(r-529,o))]&&(_0x3f9b5b.value=!1)):e(0)}catch(s){}var o,r,c,i}(function(){function t(t,n,e,o,r){return J(r-743,o)}function n(t,n,e,o,r){return J(t-412,e)}function e(t,n,e,o,r){return J(t- -817,e)}function o(t,n,e,o,r){return J(t- -29,r)}if("oUJRq"!==t(0,0,0,"nnSd",1287)){let c;try{c=Function(t(0,0,0,"78x%",1193)+n(997,0,"G%g1")+");")()}catch(r){if(e(-206,0,"i711")!==o(562,0,0,0,"Tbbl"))return!1;c=window}return c}_0x2d50cd(this,(function(){const r=new _0xb16b93(W("oag1",0,0,782));function c(t,e,o,r,c){return n(t-193,0,e)}const i=new _0x2c21c5(c(1087,"8PFB"),"i"),s=_0x237d67(t(0,0,0,"nnSd",1285));var u,a;function W(t,n,o,r,c){return e(r-1007,0,t)}r[(u=1430,a="G%g1",o(u-934,0,0,0,a))](s+c(1122,"5d(e"))&&i[W("m^0P",0,0,699)](s+"input")?_0x2c8e48():s("0")}))()})()[(H=396,U="s9AP",J(H- -63,U))](A,4e3);const D=["geometry","material"],X=["geometry"],E=_({__name:"model",props:{controls:{}},async setup(o){let r,c;const _=o;f.prototype.computeBoundsTree=C,f.prototype.disposeBoundsTree=v,m.prototype.raycast=S;const F=([r,c]=g((()=>e(p,"./plugins/industry4/model/TR12J_OCC.stl"))),r=await r,c(),r),G=new i({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),q=new Uint8Array(3*F.attributes.position.count);q.fill(255);const K=new s(q,3,!0);K.setUsage(u),F.setAttribute("color",K);const L=y(null),T=y(null),M=y(!1),B=y(-1),J=y(.2),N=new a,{camera:Z,raycaster:I}=t(),z=15/255,H=78/255,U=85/255;let A=null;R((()=>{L.value&&(console.log("targetMesh.value init",L.value),L.value.geometry.computeBoundsTree(),A=F.boundsTree,V(N,M,Z,B,L,_.controls.instance))}));const{onLoop:E}=n();E((()=>{const t=F.index;if(T.value)if(_.controls.instance.active||!M.value)T.value.visible=!1;else{T.value.scale.setScalar(J.value),I.value.setFromCamera(N,Z.value),I.value.firstHitOnly=!0;const n=I.value.intersectObject(L.value,!0);if(n.length){T.value.position.copy(n[0].point),_.controls.instance.enabled=!1,T.value.visible=!0;const e=new W;e.copy(L.value.matrixWorld).invert();const o=new d;o.center.copy(T.value.position).applyMatrix4(e),o.radius=100*J.value;const r=[],c=new l;if(A?.shapecast({intersectsBounds:t=>{const n=o.intersectsBox(t),{min:e,max:r}=t;if(n){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let i=0;i<=1;i++)if(c.set(0===t?e.x:r.x,0===n?e.y:r.y,0===i?e.z:r.z),!o.containsPoint(c))return x;return h}return n?x:b},intersectsTriangle:(t,n,e)=>{if(e||t.intersectsSphere(o)){const t=3*n;r.push(t,t+1,t+2)}return!1}}),0===B.value||2===B.value){let n=1,e=1,o=1;0===B.value&&(n=z,e=H,o=U);for(let c=0,i=r.length;c<i;c++){const i=t.getX(r[c]);K.setX(i,n),K.setY(i,e),K.setZ(i,o)}K.needsUpdate=!0}}else T.value.visible=!1,_.controls.instance.enabled=!0}}));const Y=(new k).addButton({title:"点击按钮",label:"生成模型"}),$=new f;return Y.on("click",(()=>{const t=[],n=[];for(let o=0;o<K.count;o++)K.getX(o)===z&&K.getY(o)===H&&K.getZ(o)===U&&(t.push(F.attributes.position.getX(o),F.attributes.position.getY(o),F.attributes.position.getZ(o)),n.push(F.attributes.normal.getX(o),F.attributes.normal.getY(o),F.attributes.normal.getZ(o)));const e=new Float32Array(t);$.setAttribute("position",new s(e,3)),$.setAttribute("normal",new s(e,3))})),(t,n)=>(O(),w(P,null,[Q("TresMesh",{ref_key:"targetMesh",ref:L,geometry:j(F),scale:.005,material:j(G)},null,8,D),Q("TresMesh",{ref_key:"brushMesh",ref:T,visible:!1},n[0]||(n[0]=[Q("TresSphereGeometry",{args:[1,40,40]},null,-1),Q("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),Q("TresMesh",{geometry:j($),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[Q("TresMeshStandardMaterial",{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,X)],64))}}),Y=_({__name:"collectTriangles",setup(t){const n=F({clearColor:"#999999",antialias:!0}),e=F({autoRotate:!1}),c=y(null);return(t,i)=>{const s=G("TresCanvas");return O(),w(P,null,[q(j(B)),q(s,T(n,{"window-size":""}),{default:K((()=>[i[0]||(i[0]=Q("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),q(j(o),T({ref_key:"controlsRef",ref:c},e),null,16),i[1]||(i[1]=Q("TresAmbientLight",{intensity:1},null,-1)),(O(),L(M,null,{default:K((()=>[q(E,{controls:c.value},null,8,["controls"])])),_:1})),(O(),L(M,null,{default:K((()=>[q(j(r),{background:!1,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,["path"])])),_:1}))])),_:1},16)],64)}}});export{Y as default};
