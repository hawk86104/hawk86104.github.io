import{C as t,_ as n,V as e,cB as o,ak as r}from"./three.wKRaqyB-1731462043013.js";import{P as s}from"./tweakpane.yHWGBmom1731462043013.js";import{m as i,e as a}from"./@tresjs.xlnLF3O61731462043013.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d}from"./index.vfGf_a9Q1731462043013.js";import{d as h,a3 as g,w as j,o as w,D as b,u as x,X as y,r as v,e as I,j as M,g as C,f as _,al as z,m as k,F as S}from"./@vue.-THQH3GC1731462043013.js";import{_ as B}from"./raycasterEvent.lh7LfmBW1731462043013.js";import{a as E}from"./utils.m-npxKXK1731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";import"./@mapbox.bj22VIXO1731462043013.js";import"./@amap.r7GlLHCm1731462043013.js";import"./three-mesh-bvh.KZ7d0h7V1731462043013.js";import"./three-custom-shader-material.N2snw3Mo1731462043013.js";import"./@fesjs.uG2EzMwn1731462043013.js";import"./vue-router.9VsVDPG11731462043013.js";import"./lodash-es.kYt-_xTG1731462043013.js";import"./@qlin.yHhFDldE1731462043013.js";import"./pinia.TsQ0LDHQ1731462043013.js";import"./vue-demi.C4xddsk91731462043013.js";import"./@floating-ui.BPbuo5Gx1731462043013.js";import"./@juggle.7yjBMqoW1731462043013.js";import"./@tweenjs.J1BAvmPw1731462043013.js";import"./utils.cFc4kGHg1731462043013.js";import"./d3-geo.WRdqJUcP1731462043013.js";import"./d3-array.AhNJy1f41731462043013.js";import"./http.wssRcjap1731462043013.js";import"./axios.Ng308AU61731462043013.js";import"./color.6kwzomOj1731462043013.js";import"./color-string.1co7ENo61731462043013.js";import"./color-name.BvUEj0fF1731462043013.js";import"./simple-swizzle.QG0UbEXX1731462043013.js";import"./is-arrayish.ixD36J0n1731462043013.js";import"./color-convert.6_0fgLJX1731462043013.js";import"./lodash.kdhXDdbJ1731462043013.js";import"./naive-ui.LliWRhV21731462043013.js";import"./date-fns.dsKIdits1731462043013.js";import"./@css-render._jmjn_2y1731462043013.js";import"./seemly.SjiSeX2v1731462043013.js";import"./css-render.VQzFW3nb1731462043013.js";import"./@emotion.ZD_ZYAgY1731462043013.js";import"./vooks.LkS343p51731462043013.js";import"./evtd.DtfwxtIl1731462043013.js";import"./vueuc.QqkTvnCZ1731462043013.js";import"./vdirs.ShxoVcFy1731462043013.js";import"./treemate.dcEdf2le1731462043013.js";import"./date-fns-tz.3TJsY0iB1731462043013.js";import"./async-validator.-YBkpS4I1731462043013.js";const Z=R;!function(t,n){const e=R,o=U();for(;;)try{if(416313===-parseInt(e(403))/1+parseInt(e(457))/2+parseInt(e(413))/3+-parseInt(e(393))/4*(parseInt(e(411))/5)+-parseInt(e(437))/6+-parseInt(e(396))/7*(parseInt(e(391))/8)+parseInt(e(399))/9*(parseInt(e(451))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=R,n=new RegExp(t(424)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Y(t(404));n[t(441)](o+"chain")&&e.test(o+"input")?Y():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(406)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(453)]=n[t(453)]||{},o=[t(447),t(397),t(386),t(444),t(407),t(438),t(432)];for(let r=0;r<o[t(390)];r++){const n=T.constructor[t(383)][t(420)](T),s=o[r],i=e[s]||n;n[t(442)]=T[t(420)](T),n[t(412)]=i[t(412)][t(420)](i),e[s]=n}}))();const F=[Z(423),"rotation"];function R(t,n){const e=U();return(R=function(t,n){return e[t-=383]})(t,n)}const N=h({__name:Z(422),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:Z(385)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:s}){const d=Z,h=r,{renderer:y,scene:v}=i();(new c)[d(394)]=u;const I=new p;I[d(440)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",I[d(394)]=u;const M=new l;M[d(440)]=d(459),M[d(445)]=!1,M[d(414)]=!0;const C=new m(I,M);if(C[d(418)]=!1,C[d(439)]=!1,C.flatShading=!1,C[d(428)]=!1,C[d(395)]={opposite:h[d(400)],monochrome:h.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:h[d(392)],genContrast:h[d(388)],genSaturation:h[d(389)]},h[d(387)]){let n=new t(h.monochrome);C[d(395)]&&(C.filter[d(387)]={r:n.r,g:n.g,b:n.b})}const _=new f;_[d(448)]=C,_[d(452)]=h[d(452)],_[d(417)]=h.maxZoom;const z=new(n[d(401)])(60,window[d(435)]/window.innerHeight,1,1e8);z.up=new e(0,1,0),z[d(421)][d(431)](h.mapCenter[0],h[d(402)][2],-h[d(402)][1]),z[d(398)](new(n[d(443)])(z.position.x,0,z[d(421)].z-2e3)),_[d(425)]=z;let k=null;g((()=>{const t=d;y[t(450)]&&!k&&(k=new o(z,y[t(450)].domElement),k[t(446)]=!0,k[t(430)]=.05,k[t(455)]=600,k.position0[t(431)](z[t(421)].x,z[t(421)].y,z[t(421)].z),k[t(456)].set(z[t(421)].x,0,z[t(421)].z-2e3))})),j((()=>[h[d(400)],h[d(408)],h[d(387)]]),(([t,e,o])=>{const r=d;if(C[r(395)]){let s=new(n[r(426)])(o);C.filter.opposite=t,C[r(395)][r(387)]=e?{r:s.r,g:s.g,b:s.b}:null}})),j((()=>[h[d(392)],h.genContrast,h[d(389)]]),(([t,n,e])=>{const o=d;C[o(395)]&&(C.filter[o(392)]=t,C.filter[o(388)]=n,C[o(395)].genSaturation=e)}));const{onLoop:S}=a();return S((()=>{var t;const n=d;if(y[n(450)]){null==(t=h[n(419)])||t.update(),k&&k.update(),_.update();const e=50*Math[n(458)](z.position.y);z[n(427)]=e+5e3,z[n(433)](),y[n(450)][n(434)](v[n(450)],z)}})),s({camera:z,map:_,orbitControl:k}),(t,n)=>{const e=d;return w(),b(e(416),{object:x(_),rotation:[-Math.PI/2,0,0]},null,8,F)}}});function U(){const t=["gger","value","1684600jlAKXS","bbox","console","call","minDistance","target","686486mjYldM","abs","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","prototype","while (true) {}","#fff","info","monochrome","genContrast","genSaturation","length","203488OCNgiO","genBright","8MsqkCJ","coordType","filter","91zBpIQS","warn","lookAt","63wfNnoc","opposite","PerspectiveCamera","mapCenter","3274fwqGNF","init","apply","return (function() ","exception","isMonochrome","stateObject","constructor","1996135tfHmbx","toString","2062260etsEEs","useWorker","debu","primitive","maxZoom","showBoundingBox","tweenInstance","bind","position","tileMapMesh","object","function *\\( *\\)","camera","Color","far","useStandardMaterial","action","dampingFactor","set","trace","updateProjectionMatrix","render","innerWidth","counter","3967044UkqYfy","table","wireframe","source","test","__proto__","Vector3","error","showTileNo","enableDamping","log","provider"];return(U=function(){return t})()}function Y(t){function n(t){const e=R;if("string"==typeof t)return function(t){}[e(410)](e(384))[e(405)](e(436));1!==(""+t/t).length||t%20==0?function(){return!0}[e(410)](e(415)+e(449))[e(454)](e(429)):function(){return!1}.constructor("debu"+e(449))[e(405)](e(409)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=q;!function(t,n){const e=q,o=X();for(;;)try{if(376933===parseInt(e(364))/1*(-parseInt(e(397))/2)+-parseInt(e(359))/3+parseInt(e(362))/4*(parseInt(e(388))/5)+-parseInt(e(404))/6*(parseInt(e(384))/7)+-parseInt(e(352))/8+parseInt(e(399))/9*(parseInt(e(365))/10)+parseInt(e(371))/11*(parseInt(e(407))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(392)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=q,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(391));n.test(o+t(372))&&e[t(377)](o+t(398))?H():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["input","3149532mHsxMj","tweenInstance","manual","string","xjk","18TeINss","addBinding","bind","42156CSMrUV","5691216UHYoTF","奥体中心","stateObject","nss","table","TresCanvas","length","1761249aYJFQV","value","gger","16oOzZUt","__proto__","1UJAbrx","20XmdUKd","action","#4688b5","addBlade","Vector3","orbitControl","2651JEtkwX","chain","#201919","toString","change","debu","test","opposite","对比度","滤镜颜色","camera","constructor","NoToneMapping","472738otpEYl","console","tileMap","单色滤镜","915825auXprE","counter","prototype","init","apply","genContrast","新街口","牛首山","tileMapMeshRef","802338rxhihz"];return(X=function(){return t})()}function q(t,n){const e=X();return(q=function(t,n){return e[t-=352]})(t,n)}V(void 0,(function(){const t=q;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(385)]=n[t(385)]||{},o=["log","warn","info","error","exception",t(356),"trace"];for(let s=0;s<o.length;s++){const n=V[t(382)][t(390)][t(406)](V),r=o[s],i=e[r]||n;n[t(363)]=V[t(406)](V),n[t(374)]=i[t(374)][t(406)](i),e[r]=n}}))();const D=h({__name:O(386),setup(t){const o=O,i=d(118.779958,32.017136),a=[i[0],i[1],5e3],c=y(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(367),mapCenter:a,tweenInstance:null}),p=new s({title:"参数"});p[o(405)](u,o(378),{label:"反色"}),p[o(405)](u,"genBright",{label:"高亮",min:.1,max:3,step:.1}),p[o(405)](u,o(393),{label:o(379),min:.1,max:3,step:.1}),p[o(405)](u,"genSaturation",{label:"饱和度",min:.1,max:3,step:.1}),p[o(405)](u,"isMonochrome",{label:o(387)}),p[o(405)](u,"monochrome",{label:o(380)});const l={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};p[o(368)]({view:"list",label:"飞去",options:[{text:o(353),value:"at"},{text:o(394),value:o(403)},{text:o(395),value:o(355)}],value:"at"}).on(o(375),(t=>{const e=o,r=new(n[e(369)])(l[t[e(360)]][0],2e3,-l[t[e(360)]][1]);u[e(400)]=E(c[e(360)][e(381)],r,c.value.orbitControl,[0,-300],4e3)}));const m=v({clearColor:o(373),antialias:!0,logarithmicDepthBuffer:!0,renderMode:o(401),outputColorSpace:r,toneMapping:n[o(383)]});return setTimeout((()=>{const t=o,n=l.at,r=new e(n[0],1600,-n[1]);u[t(400)]=E(c[t(360)][t(381)],r,c.value[t(370)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=I(e(357));return w(),b(S,null,[M(r,k(m,{"window-size":""}),{default:C((()=>[(w(),_(z,null,{default:C((()=>[M(N,k(u,{ref_key:e(396),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(B,{tileMapRef:c.value},null,8,["tileMapRef"])],64)}}});function H(t){function n(t){const e=q;if(typeof t===e(402))return function(t){}[e(382)]("while (true) {}").apply(e(389));1!==(""+t/t)[e(358)]||t%20==0?function(){return!0}.constructor("debu"+e(361)).call(e(366)):function(){return!1}.constructor(e(376)+"gger").apply(e(354)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{D as default};
