import{aD as n,_ as t,a as e,T as o,$ as r,ab as i,ac as s,aj as a,c5 as c,c3 as l,c4 as u,cf as f,b$ as p}from"./three.HaMTRCf61740450466561.js";import{e as v,m as g,o as m}from"./@tresjs.9lmhsV6t1740450466561.js";import{d,o as h,H as b,N as y,u as x,F as w,w as _,j as I,z as T,e as U,g as S,aj as j,ak as D}from"./@vue.NRI7TcgI1740450466561.js";import{_ as N}from"./@fesjs.25ZLMwYe1740450466561.js";import"./@vueuse.q8gKo7tC1740450466561.js";import"./vue-router.Ni9W6b_H1740450466561.js";import"./lodash-es.pklfUAS51740450466561.js";import"./@qlin.yHhFDldE1740450466561.js";import"./pinia.O-LUmvrn1740450466561.js";import"./@floating-ui.BPbuo5Gx1740450466561.js";import"./@juggle.7yjBMqoW1740450466561.js";var B="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const F=E;!function(n,t){const e=E,o=Z();for(;;)try{if(734325===-parseInt(e(270))/1*(-parseInt(e(328))/2)+-parseInt(e(300))/3*(parseInt(e(286))/4)+-parseInt(e(332))/5*(parseInt(e(290))/6)+parseInt(e(299))/7*(-parseInt(e(282))/8)+-parseInt(e(289))/9+parseInt(e(321))/10+-parseInt(e(312))/11*(-parseInt(e(271))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(283)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(n,t){const e=Z();return(E=function(n,t){return e[n-=265]})(n,t)}!function(){z(this,(function(){const n=E,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(314),"i"),o=G(n(284));t[n(298)](o+"chain")&&e[n(298)](o+"input")?G():o("0")}))()}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(283)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();k(void 0,(function(){const n=E;let t;try{t=Function(n(337)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t.console=t[n(335)]||{},o=[n(304),n(276),"info",n(318),n(305),n(273),"trace"];for(let i=0;i<o.length;i++){const t=k[n(285)].prototype.bind(k),r=o[i],s=e[r]||t;t.__proto__=k.bind(k),t[n(291)]=s[n(291)][n(295)](s),e[r]=t}}))();const C=["geometry","material"],M=["material"],P=[F(327)],A=100,R=d({__name:F(292),props:{globalUniforms:{}},setup(r){const i=F,s=r,a=[],c=[],l=new n(1,36,18),u=(new(t[i(294)]))[i(309)](l);u.instanceCount=A;const f=[];for(let n=0;n<A;n++){let n=t[i(296)][i(268)](49),o=e.randFloatSpread(49),r=t[i(296)][i(281)](.0625,.125),s=t[i(296)][i(281)](1,3);f[i(324)](n,o,r),c[i(324)](new(t[i(339)])(n,o,s,t[i(296)][i(281)](1,2))),a[i(324)](new(t[i(339)])(n,o,r,s))}u[i(313)]("instData",new o(new Float32Array(f),3));const p=new(t[i(269)])({color:16720418,onBeforeCompile:n=>{const t=i;n.uniforms[t(334)]=s[t(338)].noise,n[t(275)]=(t(293)+n.vertexShader+t(336))[t(303)](t(297),t(277))}}),g={luces:{value:a}},m=new(t[i(302)])({color:2363940,onBeforeCompile:n=>{const t=i;n[t(316)][t(310)]=g[t(310)],n[t(316)].globalBloom=s[t(338)][t(272)],n.uniforms[t(334)]=s[t(338)][t(280)],n[t(275)]=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      "+n[t(275)]+"\n    ").replace("#include <begin_vertex>",t(320)),n.fragmentShader=(t(308)+A+t(319)+n[t(306)]+t(336))[t(303)]("#include <fog_fragment>",t(266)+A+t(329))[t(303)](t(279),t(315))}}),{onLoop:d}=v();return d((({elapsed:n})=>{const t=i;for(let e=0;e<A;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(322)](n*o.w*(e%3+1))*Math[t(311)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(331)][t(265)][t(267)](e,r)}u[t(331)][t(265)][t(288)]=!0})),(n,t)=>{const e=i;return h(),b(w,null,[y(e(323),{geometry:x(u),material:x(p)},null,8,C),y(e(323),{material:x(m)},[y(e(317),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,P)],8,M)],64)}}});function G(n){function t(n){const e=E;if(typeof n===e(325))return function(n){}[e(285)](e(274)).apply(e(330));1!==(""+n/n)[e(307)]||n%20==0?function(){return!0}.constructor(e(287)+e(326))[e(301)](e(278)):function(){return!1}[e(285)](e(287)+e(326)).apply(e(333)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function Z(){const n=["#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","uniforms","TresPlaneGeometry","error","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","13689270giTptw","sin","TresMesh","push","string","gger","rotateX","2NpffNr","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","counter","attributes","800995EwZOqF","stateObject","noiseTex","console","\n    ","return (function() ","globalUniforms","Vector4","instData","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","setY","randFloatSpread","MeshBasicMaterial","1379759yTLHcN","3732aOjHqv","globalBloom","table","while (true) {}","vertexShader","warn","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","action","#include <dithering_fragment>","noise","randFloat","3112nzSDgA","apply","init","constructor","2440KLpDeQ","debu","needsUpdate","7824015wZuXDu","18GFgFXc","toString","lucesPlane","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","InstancedBufferGeometry","bind","MathUtils","#include <begin_vertex>","test","15386Uovwww","1698mojrjL","call","MeshLambertMaterial","replace","log","exception","fragmentShader","length","\n      uniform vec4 luces[","copy","luces","cos","18953vznnFy","setAttribute","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(Z=function(){return n})()}const $=H;!function(n,t){const e=H,o=O();for(;;)try{if(390217===-parseInt(e(478))/1*(parseInt(e(452))/2)+parseInt(e(476))/3+parseInt(e(472))/4+-parseInt(e(457))/5*(parseInt(e(462))/6)+-parseInt(e(480))/7+-parseInt(e(470))/8*(parseInt(e(473))/9)+parseInt(e(455))/10*(parseInt(e(445))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[H(453)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){L(this,(function(){const n=H,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(448),"i"),o=X(n(475));t.test(o+"chain")&&e[n(486)](o+n(466))?X():o("0")}))()}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[H(453)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function H(n,t){const e=O();return(H=function(n,t){return e[n-=440]})(n,t)}function O(){const n=["info","prototype","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","globalUniforms","2112HtKRFk","debu","material","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defines","TresPlaneGeometry","portal","172VObsBJ","apply","#include <dithering_fragment>","56630lCAgbu","constructor","1436390bUpDtr","exception","trace","toString","\n    ","6jrpErU","__proto__","uniforms","replace","input","return (function() ","string","stateObject","32jYetmr","vec4 diffuseColor = vec4( diffuse, opacity );","492496yzMlFX","961398jkwjiF",'{}.constructor("return this")( )',"init","2022096EAvlhQ","console","6001WcVBcO","globalBloom","1845081bmnnoM","while (true) {}","time","gger","length","log","test","warn","call","bind"];return(O=function(){return n})()}V(void 0,(function(){const n=H,t=function(){const n=H;let t;try{t=Function(n(467)+n(474)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(477)]||{},o=[n(485),n(487),n(441),"error",n(458),"table",n(459)];for(let r=0;r<o[n(484)];r++){const t=V[n(456)][n(442)].bind(V),i=o[r],s=e[i]||t;t[n(463)]=V.bind(V),t.toString=s[n(460)][n(440)](s),e[i]=t}}))();const W=[$(447)],q=d({__name:$(451),props:{globalUniforms:{}},setup(n){const t=$,e=n,o=new r({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=H;n.uniforms.time=e.globalUniforms[t(482)],n[t(464)][t(479)]=e[t(444)][t(479)],n.fragmentShader=("\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      "+B+"\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "+n.fragmentShader+t(461))[t(465)](t(471),"\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ")[t(465)](t(454),t(443))}});return o[t(449)]={USE_UV:""},(n,e)=>{const r=t;return h(),b("TresMesh",{material:x(o),position:[0,3.75,-12]},e[0]||(e[0]=[y(r(450),{args:[5,5]},null,-1)]),8,W)}}});function X(n){function t(n){const e=H;if(typeof n===e(468))return function(n){}[e(456)](e(481))[e(453)]("counter");1!==(""+n/n)[e(484)]||n%20==0?function(){return!0}[e(456)](e(446)+"gger")[e(488)]("action"):function(){return!1}[e(456)](e(446)+e(483))[e(453)](e(469)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function K(n,t){const e=tn();return(K=function(n,t){return e[n-=296]})(n,t)}const Q=K;!function(n,t){const e=K,o=tn();for(;;)try{if(682038===parseInt(e(342))/1*(parseInt(e(321))/2)+-parseInt(e(335))/3*(parseInt(e(353))/4)+parseInt(e(345))/5*(parseInt(e(355))/6)+parseInt(e(305))/7*(-parseInt(e(299))/8)+-parseInt(e(304))/9*(parseInt(e(320))/10)+parseInt(e(318))/11+parseInt(e(356))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[K(319)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Y(this,(function(){const n=K,t=new RegExp(n(341)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=on("init");t[n(332)](o+n(315))&&e.test(o+"input")?on():o("0")}))()}();const J=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[K(319)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();J(void 0,(function(){const n=K,t=function(){const n=K;let t;try{t=Function("return (function() "+n(297)+");")()}catch(e){t=window}return t}(),e=t.console=t.console||{},o=["log",n(296),n(331),n(327),n(334),n(313),"trace"];for(let r=0;r<o[n(298)];r++){const t=J[n(307)][n(343)].bind(J),i=o[r],s=e[i]||t;t[n(337)]=J[n(326)](J),t[n(351)]=s[n(351)].bind(s),e[i]=t}}))();const nn=[Q(317),Q(322)];function tn(){const n=["noiseTex","BufferGeometry","gger","9125586DpjXAp","3012793BIVoUI","#include <begin_vertex>","constructor","\n      ","stateObject","randFloatSpread","vec4 diffuseColor = vec4( diffuse, opacity );","TresLineSegments","table","uniforms","chain","MathUtils","material","815386SUNVFs","apply","10WGEidw","4SabFEw","geometry","Float32BufferAttribute","globalBloom","position","bind","error","\n    ","fragmentShader","setAttribute","info","test","replace","exception","18ikpYyB","globalUniforms","__proto__","call","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","vertexShader","function *\\( *\\)","626966rhtKas","prototype","counter","5342845UrjPeW","time","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","push","randFloat","toString","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","441240gTkctm","drops","6PpsMyw","15029064oywtgv","warn",'{}.constructor("return this")( )',"length","24tRxZdE","debu"];return(tn=function(){return n})()}const en=d({__name:Q(354),props:{globalUniforms:{}},setup(n){const e=Q,o=n,r=[],a=[];for(let i=0;i<2e4;i++){const n=t[e(316)][e(310)](35),o=t[e(316)][e(350)](-5,10),i=t[e(316)][e(310)](35),s=t[e(316)][e(350)](.25,.5);r.push(n,o,i,n,o,i),a[e(349)](0,s,1,s)}const c=new(t[e(302)]);c[e(330)](e(325),new(t[e(323)])(r,3)),c[e(330)]("gEnds",new i(a,2));const l=new s({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(314)][t(346)]=o.globalUniforms[t(346)],n[t(314)][t(301)]=o.globalUniforms.noise,n[t(314)].globalBloom=o[t(336)][t(324)],n[t(340)]=(t(347)+n.vertexShader+t(328))[t(333)](t(306),t(352)),n[t(329)]=(t(339)+B+t(308)+n[t(329)]+t(328))[t(333)](t(311),t(348))}});return(n,t)=>{const o=e;return h(),b(o(312),{material:x(l),geometry:x(c)},null,8,nn)}}});function on(n){function t(n){const e=K;if("string"==typeof n)return function(n){}[e(307)]("while (true) {}")[e(319)](e(344));1!==(""+n/n).length||n%20==0?function(){return!0}[e(307)](e(300)+e(303))[e(338)]("action"):function(){return!1}[e(307)](e(300)+e(303))[e(319)](e(309)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function rn(){const n=["value","Color","fragmentShader","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","render","while (true) {}","\n      uniform float time;\n      ","warn","set","toString","11qfgoZS","target","width","Mesh","background","string","PlaneGeometry","length","renderToScreen","prototype","globalBloom","near","26634GNzcKS","\n      ","constructor","apply","defines","color","fboRender","bind","error","renderTarget2","2158798jCfSuJ","153TIyWhV","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","2564mIbBfx","action","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","add","830240uIyaeP","160840svusma","addPass","trace","\n    ","WebGLRenderTarget","2900100gQhFgQ","1718528nKhWTc","texture",'{}.constructor("return this")( )',"log","fog","gger","MeshBasicMaterial","413jSUjqC","time","baseTexture","ShaderMaterial","debu","call","test","console","1760Nswlcq","table","info","__proto__","replace","setRenderTarget","Vector2","input","counter","Scene","init","chain"];return(rn=function(){return n})()}const sn=ln;!function(n,t){const e=ln,o=rn();for(;;)try{if(859535===parseInt(e(199))/1+-parseInt(e(185))/2+parseInt(e(198))/3+-parseInt(e(188))/4*(parseInt(e(214))/5)+parseInt(e(175))/6*(-parseInt(e(206))/7)+parseInt(e(193))/8*(-parseInt(e(186))/9)+parseInt(e(192))/10*(parseInt(e(163))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const an=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[ln(178)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){an(this,(function(){const n=ln,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=fn(n(151));t.test(o+n(152))&&e[n(212)](o+n(148))?fn():o("0")}))()}();const cn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[ln(178)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function ln(n,t){const e=rn();return(ln=function(n,t){return e[n-=145]})(n,t)}cn(void 0,(function(){const n=ln,t=function(){const n=ln;let t;try{t=Function("return (function() "+n(201)+");")()}catch(e){t=window}return t}(),e=t[n(213)]=t[n(213)]||{},o=[n(202),n(160),n(216),n(183),"exception",n(215),n(195)];for(let r=0;r<o[n(170)];r++){const t=cn[n(177)][n(172)][n(182)](cn),i=o[r],s=e[i]||t;t[n(217)]=cn[n(182)](cn),t[n(162)]=s[n(162)].bind(s),e[i]=t}}))();const un=d({__name:sn(181),setup(n){const e=sn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(t[e(197)])(512,512),i=new(t[e(150)]),s=new a,m=new(t[e(169)])(2,2),d=new(t[e(205)])({onBeforeCompile:n=>{const t=e;n.uniforms.time=o.time,n[t(155)]=(t(159)+B+t(176)+n.fragmentShader+t(196))[t(145)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(190))}});d[e(179)]={USE_UV:""};const y=new(t[e(166)])(m,d);i[e(191)](y),o.noise.value=r[e(200)];const{camera:x,renderer:T,scene:U,sizes:S,controls:j}=g();_((()=>j.value),(n=>{const o=e;null==n||n[o(164)][o(161)](0,2,0),!U[o(153)][o(167)]&&(U[o(153)][o(167)]=new(t[o(154)])(6706534))}));const D=new c(T[e(153)]),N=new c(T[e(153)]),F=new l(U[e(153)],x[e(153)]),z=new u(new(t[e(147)])(S[e(165)][e(153)],S.height[e(153)]),1.2,.5,0);D[e(171)]=!1,D[e(194)](F),D[e(194)](z);const E=new f(new(t[e(209)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:D[e(184)][e(200)]}},vertexShader:e(187),fragmentShader:e(156),defines:{}}),e(208));E.needsSwap=!0,N[e(194)](F),N[e(194)](E),U[e(153)][e(203)]=new p(6706534,1,25);const{onLoop:k}=v();return k((({elapsed:n})=>{var t,a;const c=e;o[c(207)].value=n,T[c(153)]&&(T.value[c(146)](r),T[c(153)][c(157)](i,s),T.value.setRenderTarget(null),o[c(173)].value=1.2,U[c(153)][c(203)][c(180)][c(161)](0),U[c(153)][c(203)].near=15,null==(t=U[c(153)].background)||t.set(0),D[c(157)](),o[c(173)][c(153)]=0,U.value.fog.color[c(161)](6706534),U[c(153)].fog[c(174)]=10,null==(a=U[c(153)].background)||a[c(161)](6706534),N.render())})),(n,t)=>(h(),b(w,null,[I(R,{globalUniforms:o}),I(q,{globalUniforms:o}),I(en,{globalUniforms:o})],64))}});function fn(n){function t(n){const e=ln;if(typeof n===e(168))return function(n){}.constructor(e(158))[e(178)](e(149));1!==(""+n/n)[e(170)]||n%20==0?function(){return!0}[e(177)]("debu"+e(204))[e(211)](e(189)):function(){return!1}[e(177)](e(210)+e(204)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const pn={class:"text"};const vn=N({},[["render",function(n,t){return h(),b("div",pn,t[0]||(t[0]=[y("span",{class:"retro noselect"},[y("span",{style:{color:"#eae"}},"光"),T("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);function gn(n,t){const e=dn();return(gn=function(n,t){return e[n-=104]})(n,t)}const mn=gn;function dn(){const n=["string","test","action","table","call","counter","stateObject","lightNoise","return (function() ","MathUtils","3oySkoC","chain","342514IPuTmk","while (true) {}","trace","console","19417460axtapR","TresPerspectiveCamera","TresDirectionalLight","constructor",'{}.constructor("return this")( )',"8IvxFFN","3844190wskJhH","bind","599944MqqkYd","1965685NNGtzZ","__proto__","72WXxsjx","info","DEG2RAD","651123NnaeIS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","TresCanvas","log","warn","toString","apply","function *\\( *\\)","length","init","debu","2455950UsnBRu"];return(dn=function(){return n})()}!function(n,t){const e=gn,o=dn();for(;;)try{if(419413===parseInt(e(143))/1+parseInt(e(125))/2*(parseInt(e(123))/3)+-parseInt(e(134))/4*(parseInt(e(138))/5)+-parseInt(e(112))/6+-parseInt(e(135))/7+parseInt(e(137))/8*(-parseInt(e(140))/9)+parseInt(e(129))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const hn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){hn(this,(function(){const n=gn,t=new RegExp(n(108)),e=new RegExp(n(144),"i"),o=xn(n(110));t[n(114)](o+n(124))&&e[n(114)](o+"input")?xn():o("0")}))()}();const bn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[gn(107)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();bn(void 0,(function(){const n=gn,t=function(){const n=gn;let t;try{t=Function(n(121)+n(133)+");")()}catch(e){t=window}return t}(),e=t[n(128)]=t.console||{},o=[n(104),n(105),n(141),"error",n(145),n(116),n(127)];for(let r=0;r<o[n(109)];r++){const t=bn.constructor.prototype[n(136)](bn),i=o[r],s=e[i]||t;t[n(139)]=bn[n(136)](bn),t[n(106)]=s[n(106)][n(136)](s),e[i]=t}}))();const yn=d({__name:mn(120),setup(n){const e=mn,o={windowSize:!0,antialias:!0,renderMode:"manual"},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[e(122)][e(142)],maxPolarAngle:90*t[e(122)][e(142)],makeDefault:!0};return(n,t)=>{const i=e,s=U(i(146));return h(),b(w,null,[I(vn),I(s,j(D(o)),{default:S((()=>[t[0]||(t[0]=y(i(130),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),I(x(m),j(D(r)),null,16),t[1]||(t[1]=y("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=y(i(131),{position:[0,3,-12],intensity:1},null,-1)),I(un)])),_:1},16)],64)}}});function xn(n){function t(n){const e=gn;if(typeof n===e(113))return function(n){}.constructor(e(126))[e(107)](e(118));1!==(""+n/n).length||n%20==0?function(){return!0}[e(132)](e(111)+"gger")[e(117)](e(115)):function(){return!1}.constructor(e(111)+"gger")[e(107)](e(119)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{yn as default};
