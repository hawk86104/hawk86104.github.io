import{e as n,m as t,U as e,s as o,b as r}from"./@tresjs.lftldzUe1733214749102.js";import{_ as i,aB as s,C as a}from"./three.aWgA1gea1733214749102.js";import{P as c}from"./tweakpane.yHWGBmom1733214749102.js";import{L as u}from"./three-subdivide.gUWlLRmX1733214749102.js";import{d as l,b as f,a3 as p,w as d,o as g,D as m,J as h,aj as v,ak as y,a6 as w,r as b,e as _,f as M,g as x,j as I,u as B,m as S,I as T}from"./@vue.-THQH3GC1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";function j(){const n=["861091HaIwZt","function *\\( *\\)","debu","gger","TSGref","3BwVljm","color","apply","glowColor","attributes","subVectors","while (true) {}","2415708yggqPC","test","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","TresShaderMaterial","2031408TaqEBJ","chain","30119LAxgWP","scale","#ffff00","side","console","geometry","position","FrontSide","modify","string","exception","clone","bind","stateObject","Color","warn","trace","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","subdivision","call","copy","uniforms","info","counter","4379000oQkzUx","8tAZeVR","TresMesh",'{}.constructor("return this")( )',"Vector3","blending","init","material","4440925aNiiXw","constructor","error","toString","action","length","srcMesh","6LzjWMU","18860900PAjMCi","return (function() "];return(j=function(){return n})()}const A=z;!function(n,t){const e=z,o=j();for(;;)try{if(622598===parseInt(e(277))/1*(parseInt(e(304))/2)+parseInt(e(264))/3*(parseInt(e(271))/4)+-parseInt(e(311))/5*(-parseInt(e(318))/6)+parseInt(e(321))/7+parseInt(e(303))/8+parseInt(e(275))/9+-parseInt(e(319))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(266)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(n,t){const e=j();return(z=function(n,t){return e[n-=260]})(n,t)}!function(){k(this,(function(){const n=z,t=new RegExp(n(260)),e=new RegExp(n(295),"i"),o=N(n(309));t[n(272)](o+n(276))&&e.test(o+"input")?N():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(266)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();C(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function(n(320)+n(306)+");")()}catch(e){t=window}return t}(),e=t[n(281)]=t.console||{},o=["log",n(292),n(301),n(313),n(287),"table",n(293)];for(let r=0;r<o.length;r++){const t=C[n(312)].prototype[n(289)](C),i=o[r],s=e[i]||t;t[n(294)]=C[n(289)](C),t[n(314)]=s[n(314)][n(289)](s),e[i]=t}}))();const R=["scale"],V=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:A(279)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[A(284)]},blending:{default:s}},setup(e){const o=A,r=e,s=f(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(291)])(r[o(265)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(273),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(280)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(308)]};p((()=>{const n=o;if(r[n(317)]&&s[n(296)]&&!s[n(296)][n(282)][n(268)].position){let t=r[n(317)][n(282)][n(288)]();r[n(297)]&&(t=u[n(285)](t,2)),s[n(296)][n(282)]=t,s.value[n(283)][n(299)](r[n(317)][n(283)])}r[n(265)]&&(c.uniforms[n(267)].value=new a(r[n(265)])),r.c&&(c[n(300)].c[n(296)]=r.c),r.p&&(c[n(300)].p[n(296)]=r.p)})),d((()=>r[o(297)]),(n=>{const t=o;let e=r[t(317)].geometry.clone();n&&(e=u[t(285)](e,2)),s[t(296)].geometry=e})),d((()=>r[o(280)]),(n=>{const t=o;s[t(296)][t(310)][t(280)]=n})),d((()=>r[o(308)]),(n=>{const t=o;s[t(296)][t(310)][t(308)]=n}));const{onLoop:l}=n(),{camera:w}=t();return l((()=>{const n=o;w.value&&s[n(296)]&&(c[n(300)].viewVector[n(296)]=(new(i[n(307)]))[n(269)](w[n(296)][n(283)],s[n(296)].position))})),(n,t)=>{const e=o;return g(),m(e(305),{ref_key:e(263),ref:s,scale:r[e(278)]},[h(e(274),v(y(c)),null,16)],8,R)}}});function N(n){function t(n){const e=z;if(typeof n===e(286))return function(n){}[e(312)](e(270))[e(266)](e(302));1!==(""+n/n)[e(316)]||n%20==0?function(){return!0}.constructor(e(261)+e(262))[e(298)](e(315)):function(){return!1}[e(312)](e(261)+"gger")[e(266)](e(290)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const F=E;!function(n,t){const e=E,o=D();for(;;)try{if(732293===-parseInt(e(258))/1+-parseInt(e(274))/2*(parseInt(e(260))/3)+parseInt(e(254))/4+parseInt(e(292))/5+-parseInt(e(276))/6+-parseInt(e(282))/7*(parseInt(e(244))/8)+parseInt(e(255))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(n,t){const e=D();return(E=function(n,t){return e[n-=234]})(n,t)}!function(){P(this,(function(){const n=E,t=new RegExp(n(293)),e=new RegExp(n(252),"i"),o=W(n(249));t[n(281)](o+n(267))&&e.test(o+n(235))?W():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(257)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();L(void 0,(function(){const n=E;let t;try{t=Function(n(264)+n(262)+");")()}catch(r){t=window}const e=t[n(278)]=t[n(278)]||{},o=["log",n(242),n(266),n(271),n(283),n(236),n(250)];for(let i=0;i<o[n(239)];i++){const t=L.constructor.prototype[n(273)](L),r=o[i],s=e[r]||t;t.__proto__=L[n(273)](L),t[n(247)]=s[n(247)][n(273)](s),e[r]=t}}))();const Z=["map"],q=[F(238)];function D(){const n=["NormalBlending","1608064dzpQgt","25564698DSCESo","while (true) {}","apply","1180469tARBsg","action","51gBPLRW","addBinding",'{}.constructor("return this")( )',"FrontSide","return (function() ","debu","info","chain","value","instance","logo.png","error","string","bind","114318hxNArk","TresBoxGeometry","1895238RYtqsc","TresSphereGeometry","console","color","BackSide","test","967561mVlFKX","exception","TresAmbientLight","gger","scale","TresMeshBasicMaterial","constructor","srcMesh","TresCanvas","side","1862345MJlwdQ","function *\\( *\\)","TresMesh","DoubleSide","input","table","TreBoxRef","map","length","TresMeshRefA","blending","warn","call","24zAzaKo","#222","counter","toString","stateObject","init","trace","AdditiveBlending","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(D=function(){return n})()}const G=l({__name:"shader",async setup(n){const t=F;let a,u;const l={clearColor:t(245)},p=f(),d=f(),m=f(),v=([a,u]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(270)]))),a=await a,u(),a),y=b({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(263)],blending:s}),j=new c({title:"参数",expanded:!0});return j.addBinding(y,t(279),{label:"颜色"}),j[t(261)](y,t(286),{label:"大小",min:1,max:3,step:.2}),j[t(261)](y,"subdivision",{label:"边缘处理"}),j[t(261)](y,"c",{label:"c",min:0,max:2,step:.1}),j[t(261)](y,"p",{label:"p",min:0,max:8,step:.2}),j[t(261)](y,t(291),{options:{FrontSide:i[t(263)],BackSide:i[t(280)],DoubleSide:i[t(234)]}}),j[t(261)](y,t(241),{options:{AdditiveBlending:i[t(251)],NormalBlending:i[t(253)]}}),(n,r)=>{const i=t,s=_(i(290));return g(),M(s,S(l,{"window-size":""}),{default:x((()=>[r[2]||(r[2]=h("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),r[3]||(r[3]=h(i(284),{intensity:1},null,-1)),I(B(e)),r[4]||(r[4]=h("TresGridHelper",{args:[10,10]},null,-1)),h(i(294),{ref_key:i(240),ref:p,position:[-2,1,0]},[r[0]||(r[0]=h(i(277),{args:[1,32,16]},null,-1)),h("TresMeshBasicMaterial",{map:B(v)[0]},null,8,Z)],512),I(V,S({srcMesh:p[i(268)]},y),null,16,[i(289)]),I(B(o),{ref_key:i(237),ref:m,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h(i(287),{map:B(v)[1]},null,8,q)])),_:1},512),m[i(268)]&&m.value[i(269)]?(g(),M(V,S({key:0,srcMesh:m[i(268)].instance},y),null,16,[i(289)])):T("",!0),h(i(294),{ref_key:"TresMeshRefB",ref:d,position:[0,1,-2]},r[1]||(r[1]=[h(i(275),{args:[1,1,1,1,1]},null,-1),h("TresMeshBasicMaterial",{color:"#0ff"},null,-1)]),512),I(V,S({srcMesh:d.value},y),null,16,[i(289)])])),_:1},16)}}});function W(n){function t(n){const e=E;if(typeof n===e(272))return function(n){}[e(288)](e(256))[e(257)](e(246));1!==(""+n/n)[e(239)]||n%20==0?function(){return!0}[e(288)](e(265)+e(285))[e(243)](e(259)):function(){return!1}[e(288)](e(265)+"gger")[e(257)](e(248)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{G as default};
