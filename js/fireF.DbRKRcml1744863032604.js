import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.IwwYCecN1744863032604.js";import{cv as e,T as s,S as i,t as n,ad as r,V as a,M as o,C as c,a as h,c as l,a8 as u,at as p,bq as d}from"./three.B0XaFSnH1744863032604.js";import{m,e as f}from"./@tresjs.DDZ0vesk1744863032604.js";import{d as S,b as w,a3 as g,e as y,o as v,f as x,j as P}from"./@vue.DK6ok9LJ1744863032604.js";import"./three-custom-shader-material.Cs7iC7LJ1744863032604.js";import"./buildingsCustomShaderMaterial.DyBo--wu1744863032604.js";import"./postprocessing.DMK_Mhe01744863032604.js";import"./@vueuse.aRlY5CPe1744863032604.js";const I=it;!function(){const t=it,e=rt();for(;;)try{if(827244===parseInt(t(322))/1*(-parseInt(t(404))/2)+-parseInt(t(690))/3+-parseInt(t(735))/4*(parseInt(t(319))/5)+parseInt(t(722))/6*(parseInt(t(758))/7)+-parseInt(t(617))/8*(parseInt(t(578))/9)+parseInt(t(550))/10+-parseInt(t(513))/11*(-parseInt(t(430))/12))break;e.push(e.shift())}catch(s){e.push(e.shift())}}();class F{static[I(380)]=new F(I(380));static[I(506)]=new F(I(506));constructor(t){this[I(522)]=t}}class T{constructor(){this[I(749)]()}[I(749)](){const t=I;this[t(384)]=F[t(380)],this.lifetime=1,this[t(543)]=0,this[t(589)]=new(s[t(654)]),this.position=new(s[t(683)]),this[t(590)]=new a,this[t(732)]=new(s[t(683)]),this[t(358)]=new(s[t(683)]),this.rotation=0,this.rotationalSpeed=0,this.size=new(s[t(778)]),this[t(745)]=new(s[t(710)]),this[t(645)]=1,this[t(443)]=new h,this[t(483)]=new(s[t(710)]),this[t(406)]=1}[I(731)](t,e,s,i,n,r,a,o,c,h,l,u,p,d,m,f){const S=I;this[S(384)]=t,this.lifetime=e,this[S(543)]=s,this[S(589)].copy(i),this.position.copy(n),this[S(590)][S(659)](r),this[S(732)][S(659)](a),this[S(358)][S(659)](o),this[S(721)]=c,this.rotationalSpeed=h,this[S(324)]=l,this[S(745)][S(659)](u),this[S(645)]=p,this[S(443)][S(659)](d),this[S(483)].copy(m),this[S(406)]=f}copyTo(t){const e=I;t[e(731)](this[e(384)],this[e(572)],this[e(543)],this[e(589)],this[e(648)],this[e(590)],this[e(732)],this[e(358)],this[e(721)],this[e(586)],this[e(324)],this[e(745)],this[e(645)],this[e(443)],this[e(483)],this[e(406)])}[I(659)](t){const e=I;this[e(731)](t[e(384)],t[e(572)],t[e(543)],t[e(589)],t.position,t.velocity,t.acceleration,t[e(358)],t.rotation,t[e(586)],t[e(324)],t.color,t[e(645)],t[e(443)],t[e(483)],t[e(406)])}}class A{constructor(){const t=I;this.particleCount=0,this[t(423)]=0,this[t(394)]=[]}init(t){this.setParticleCount(t)}setParticleCount(t){const e=I;this[e(726)]!=t&&(this[e(702)](),this[e(640)](t)),this[e(726)]=t}[I(352)](t){this[I(423)]=t}[I(640)](t){this[I(394)]=[],this.particleCount=t;for(let e=0;e<t;e++)this.particleStates[e]=new T}dispose(){}getParticleCount(){return this[I(726)]}[I(526)](){}[I(414)](t,e){const s=I;if(t>=this[s(726)])throw new Error(s(634));if(e>=this[s(726)])throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const i=this[s(394)][t],n=this.particleStates[e];i[s(359)](n)}[I(612)](t,e){const s=I;if(t>=this[s(726)])throw new Error(s(515));return this[s(394)][t][s(659)](e)}getState(t){const e=I;if(t>=this[e(726)])throw new Error(e(741));return this[e(394)][t]}computeBoundingBox=function(){const t=I,e=new a;return function(i=new(s[t(340)]),n=null){const r=t,a=i[r(517)],o=i[r(608)];for(let t=0;t<this[r(423)];t++){const s=this[r(766)](t);let i=s.position;n&&(e[r(659)](i),e.applyMatrix4(n),i=e);const c=Math.max(s[r(324)].x,s[r(324)].y),h=i.x-c,l=i.x+c,u=i.y-c,p=i.y+c,d=i.z-c,m=i.z+c;(0==t||i.x<a.x)&&(a.x=h),(0==t||i.x>o.x)&&(o.x=l),(0==t||i.y<a.y)&&(a.y=u),(0==t||i.y>o.y)&&(o.y=p),(0==t||i.z<a.z)&&(a.z=d),(0==t||i.z>o.z)&&(o.z=m)}return i}}();computeBoundingSphere=function(){const t=I,e=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[it(569)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();e(this,(function(){const t=it;let s;try{s=Function(t(609)+'{}.constructor("return this")( ));')()}catch(r){s=window}const i=s[t(460)]=s.console||{},n=[t(326),t(761),t(694),t(635),t(309),t(692),"trace"];for(let a=0;a<n[t(379)];a++){const s=e.constructor[t(495)][t(581)](e),r=n[a],o=i[r]||s;s[t(753)]=e.bind(e),s[t(611)]=o.toString[t(581)](o),i[r]=s}}))();const i=new(s[t(683)]),n=new(s[t(683)]),r=new(s[t(683)]);return function(e=new(s[t(436)]),a=null){const o=t;let c=0;for(let t=0;t<this.activeParticleCount;t++){const e=this[o(766)](t);let s=e[o(648)];a&&(r[o(659)](s),r[o(305)](a),s=r);const h=Math[o(608)](e[o(324)].x,e[o(324)].y);if(0==t)i[o(659)](s),c=h;else{n[o(659)](s)[o(559)](i);const t=n[o(379)]()+h;if(t>c){const e=(t-c)/2;n.normalize()[o(481)](e),i[o(620)](n),c+=e}}}return e[o(507)][o(659)](i),e[o(579)]=c,e}}()}class E{constructor(t,e,s=0){const i=I;this[i(664)]=t,this[i(379)]=e,this.id=s}}class z{constructor(){const t=I;this[t(482)]={},this[t(748)]=[]}[I(754)](t,e,s){const i=I;if(this[i(337)](s))throw new Error(i(476));const n=new E(t,e,s);return this[i(482)][s]=n,this[i(748)][i(299)](s),n}getSequence(t){const e=I;if(!this[e(337)](t))throw new Error(e(527));return this[e(482)][t]}getSequenceIDs(){return this[I(748)]}[I(337)](t){return!!this.sequences[t]}}class b{constructor(){}[I(762)](t){const e=I;t[e(483)][e(523)](1,1,1),t[e(443)][e(523)](1,1),t[e(406)]=1,t.progressType=F[e(380)],t[e(572)]=0,t[e(543)]=0,t[e(589)][e(523)](0,0,0,0),t[e(648)][e(523)](0,0,0),t[e(590)][e(523)](0,0,0),t[e(732)].set(0,0,0),t.normal[e(523)](0,0,1),t[e(721)]=0,t.rotationalSpeed=0,t[e(324)].copy(t[e(443)]),t.color[e(659)](t[e(483)]),t.alpha=1}}class O extends b{constructor(){super()}initializeState(t){super[I(762)](t)}}class R{constructor(){}[I(512)](){}}class C extends R{constructor(){const t=I;super(),this[t(302)]=new a,this[t(687)]=new(s[t(683)]),this.stateAcceleration=new(s[t(683)]),this[t(759)]=new(s[t(683)])}updateState(t,e){const s=I;return super[s(512)](t,e),this.stateAcceleration.copy(t[s(732)]),this[s(687)].copy(this.stateAcceleration),this.timeScaledAcceleration[s(481)](e),t[s(590)][s(620)](this[s(687)]),this[s(759)][s(659)](t.velocity),this.timeScaledVelocity[s(659)](this.stateVelocity),this.timeScaledVelocity.multiplyScalar(e),t[s(648)][s(620)](this[s(302)]),t[s(543)]=t[s(543)]+e,t[s(721)]=t[s(721)]+e*t.rotationalSpeed,!0}}class V{static[I(312)](t,e,s){return Math.min(Math.max(t,e),s)}static[I(530)](){return performance[I(597)]()/1e3}}class q{constructor(){this[I(428)]=[]}addComponent(t){this[I(428)].push(t)}[I(695)](t,e){const s=I;for(const i of this[s(428)])i[s(695)](t,e)}getComponent(t){const e=I;if(t>=this[e(428)].length)throw new Error('ComponentContainer::getComponent() -> "index" is out of range.');return this[e(428)][t]}}class M{static[I(588)]=new M("NotStarted");static[I(536)]=new M(I(536));static[I(614)]=new M(I(614));static[I(468)]=new M(I(468));constructor(t){this[I(522)]=t}}class N{constructor(t,e){const n=I;this[n(538)]=t,this[n(538)][n(769)]=!1,this[n(769)]=!0,this[n(469)]=e,this[n(646)]=!1,this.maximumActiveParticles=0,this.activeParticleCount=0,this[n(303)]=!0,this[n(442)]=!1,this[n(343)]=null,this[n(693)]=new q,this[n(565)]=[],this[n(438)]=[],this.particleStates=null,this[n(647)]=M.NotStarted,this[n(568)]=new z,this[n(477)]=null,this.transformInitialDirectionInWorldSpace=!0,this[n(409)]=new(s[n(340)]),this[n(499)]=new i}init(t){const e=I;if(this[e(646)])throw new Error("ParticleSystem::init() -> trying to intialize more than once.");this[e(756)]=t,this[e(469)]?(this[e(469)][e(691)](this[e(538)]),this[e(469)][e(749)](this[e(756)],this[e(303)]),this.particleSystemRenderer.setSimulateInWorldSpace(this[e(303)]),this[e(394)]=this.particleSystemRenderer[e(489)]()):(this[e(394)]=new A,this[e(394)].init(this.maximumActiveParticles)),this[e(585)](new O),this.addParticleStateOperator(new C),this[e(646)]=!0}[I(518)](){return this[I(769)]}[I(413)](t){return this.visible=t}[I(553)](t){this[I(477)]=t}[I(695)](t,e){const s=I;if(this.systemState==M[s(536)]){if(this[s(538)][s(684)](!0),t=null==t||null==t?V[s(530)]():t,e=null==e||null==e?t-this[s(562)]:e,this.emitterInitialized&&this[s(647)]==M[s(536)]){const t=this[s(343)][s(695)](e);t>0&&this[s(433)](t),this[s(338)](e),this[s(477)]&&this[s(477)](this.activeParticleCount),this[s(304)]()}this[s(693)][s(695)](t,e),this[s(562)]=t}}[I(533)](t,e){const s=I;if(this[s(518)]()&&this.particleSystemRenderer){const i=t[s(714)];t.autoClear=!1,this[s(538)][s(769)]=!0,this[s(538)][s(755)]=!0,this[s(469)][s(533)](this.owner,t,e),this[s(538)].visible=!1,t[s(714)]=i}}[I(664)](){const t=I;this[t(647)]!=M.NotStarted&&this[t(647)]!=M[t(614)]||(this[t(647)]=M[t(536)],this.startTime=V[t(530)](),this[t(562)]=this[t(454)])}[I(455)](){const t=I;this[t(647)]==M[t(536)]&&(this[t(647)]=M.Paused)}[I(708)](){}getSystemState(){return this[I(647)]}[I(746)](t){const e=I;return this[e(343)]=t,this[e(343)][e(756)]=this[e(756)],this.emitterInitialized=!0,this[e(343)]}[I(561)](t){const e=I;this[e(693)][e(561)](t)}getComponent(t){const e=I;return this.componentContainer[e(465)](t)}[I(585)](t){return this.particleStateInitializers.push(t),t}[I(717)](){const t=I;return this.particleStateInitializers[t(379)]}[I(346)](t){const e=I;if(t>=this[e(565)].length)throw new Error(e(484));return this[e(565)][t]}[I(385)](t){return this.particleStateOperators.push(t),t}getParticleStateOperatorCount(){const t=I;return this[t(438)][t(379)]}[I(485)](t){const e=I;if(t>=this[e(438)].length)throw new Error(e(775));return this[e(438)][t]}[I(777)](){return this[I(756)]}getActiveParticleCount(){return this[I(423)]}[I(367)](t){const e=I;if(t>=this[e(423)])throw new Error(e(472));return this[e(394)][e(766)](t)}[I(398)](){return this[I(394)]}[I(389)](){return this[I(469)]}[I(401)](){return this[I(303)]}[I(774)](t){const e=I;this[e(303)]=t,this[e(469)]&&this.particleSystemRenderer.setSimulateInWorldSpace(this[e(303)])}[I(362)](t){this[I(641)]=t}[I(724)](t,e,s=0){this[I(568)].addSequence(t,e,s)}getParticleSequences(){return this[I(568)]}[I(387)](){return this[I(343)]}[I(304)]=function(){const t=new o;return function(){const e=it;let s=null;this[e(641)]&&(s=t,s[e(659)](this[e(538)][e(405)])[e(623)]()),this[e(469)][e(678)]()?(this[e(394)][e(716)](this.boundingBox,s),this[e(469)][e(329)](this[e(409)])):(this[e(394)][e(366)](this.boundingSphere,s),this[e(469)].setBoundingSphere(this[e(499)]))}}();[I(433)](t){const e=I;if(this.systemState==M[e(536)]){const s=V[e(312)](this[e(423)]+t,0,this.maximumActiveParticles);for(let t=this.activeParticleCount;t<s;t++)this[e(629)](t);this.activeParticleCount=s,this[e(394)][e(352)](this[e(423)])}}[I(629)](t){const e=I;if(this[e(647)]==M[e(536)]){const s=this.particleStates[e(766)](t);s[e(543)]=0;for(let t=0;t<this[e(565)].length;t++){this.particleStateInitializers[t].initializeState(s)}if(this[e(303)]){s[e(648)][e(305)](this[e(538)][e(405)]);const t=s[e(590)][e(379)]();if(this[e(641)]){s[e(590)][e(491)](this[e(538)][e(405)])[e(481)](t);const i=s[e(732)].length();s[e(732)][e(491)](this.owner[e(405)]).multiplyScalar(i)}}this[e(394)].flushParticleStateToBuffers(t)}}advanceActiveParticles(t){const e=I;if(this.systemState==M[e(536)]){let s=0;for(;s<this[e(423)];){this.advanceActiveParticle(s,t)?s++:(s<this[e(423)]-1&&this[e(719)](this.activeParticleCount-1,s),this[e(423)]--)}this[e(394)].setActiveParticleCount(this.activeParticleCount)}}[I(347)](t,e){const s=I;if(this[s(647)]==M.Running){const i=this[s(394)][s(766)](t);for(let t=0;t<this[s(438)][s(379)];t++){const n=this.particleStateOperators[t][s(512)](i,e),r=i[s(572)];if(!n||0!=r&&i.age>=r)return!1}return this.particleStates.flushParticleStateToBuffers(t),!0}return!1}[I(719)](t,e){const s=I;this[s(394)][s(414)](t,e),this[s(394)][s(526)](e)}static[I(534)](t,e,i){const n=I,r=(t,e,s)=>{const i=it;e(t);for(const n in t)if(t.hasOwnProperty(n)){const s=t[n];typeof s===i(776)&&r(s,e)}};r(t,(t=>{const s=it;t.type&&(t.type=e[s(377)](t.type))}));const a=t[n(560)],o=t[n(303)],c=t[n(457)],h=c[n(474)].fromJSON(c[n(713)]),l=new(s[n(699)]),u=new N(l,h,i);u.init(a),u.setSimulateInWorldSpace(o);const p=t[n(448)],d=p[n(474)][n(534)](p[n(713)]);if(u[n(746)](d),t[n(482)])for(const s of t[n(482)])u.addParticleSequence(s[n(664)],s[n(379)],s.id);if(t[n(516)])for(const s of t[n(516)])u[n(585)](s[n(474)][n(534)](u,s[n(713)]));if(t.operators)for(const s of t[n(672)]){const t=u[n(385)](s[n(474)][n(534)](u,s.params));s[n(662)]&&t.addElementsFromParameters(s[n(662)])}return[u,l]}[I(649)](t){const e=I,s=this.getParticleSystemRenderer(),i=this[e(387)](),n=this.getParticleSequences(),r=n[e(467)]().map((t=>{const s=e,i=n[s(718)](t);return{id:t,start:i[s(664)],length:i[s(379)]}})),a=[],o=this[e(717)]();for(let l=0;l<o;l++){const s=this[e(346)](l);s.constructor!==O&&a.push({type:t.getTypePath(s[e(317)]),params:s[e(649)](t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this[e(485)](l);if(s[e(317)]!==C){const i=s[e(649)](t),n=i[e(713)]||i,r=i[e(713)]?i[e(662)]:null,a={type:t.getTypePath(s[e(317)]),params:n};r&&(a[e(662)]=r),c[e(299)](a)}}return{maxParticleCount:this[e(777)](),simulateInWorldSpace:this[e(401)](),renderer:{type:t.getTypePath(s[e(317)]),params:s[e(649)]()},emitter:{type:t[e(636)](i[e(317)]),params:i.toJSON()},sequences:r,initializers:a,operators:c}}}class B{constructor(){const t=I;this[t(333)]=[],this[t(605)]=performance[t(597)]()/1e3,this[t(562)]=this[t(605)],this.componentContainer=new q}update(){const t=I,e=V[t(530)](),s=e-this[t(562)];for(const i of this.particleSystems)i[t(695)](e,s);this.componentContainer[t(695)](e,s),this.lastUpdateTime=e}[I(533)](t,e){const s=I;for(const i of this.particleSystems)i[s(533)](t,e)}[I(425)](t){const e=I;this[e(333)][e(299)](t)}[I(561)](t){const e=I;this[e(693)][e(561)](t)}getComponent(t){const e=I;return this[e(693)][e(465)](t)}}class U{constructor(){const t=I;this[t(646)]=!1,this.particleCount=0,this[t(538)]=null,this[t(303)]=!1}[I(774)](t){this.simulateInWorldSpace=t}[I(489)](){}setOwner(t){this.owner=t}init(t){const e=I;if(this.particleCount=t,!this.initialized)return this[e(646)]=!0,!0;throw new Error(e(771))}[I(533)](){}}class _ extends A{constructor(){const t=I;super(),this.geometry=null,this[t(505)]=null,this[t(308)]=null,this[t(494)]=null,this[t(750)]=null,this[t(510)]=null,this[t(424)]=null,this[t(403)]=null,this[t(606)]=null,this.rotations=null,this[t(624)]=null,this.sizes=null,this[t(663)]=null,this[t(412)]=null,this[t(368)]=null,this[t(621)]=!1,this[t(458)]=6}init(t,e=!1){const s=I;this[s(621)]=e,this.instanced?this[s(458)]=1:this.verticesPerParticle=6,super[s(749)](t),this[s(640)](t)}[I(496)](t){super.setParticleCount(t)}[I(352)](t){const e=I;super[e(352)](t),t>0?this.instanced?this.geometry[e(681)]=t:this.geometry[e(542)](0,this[e(458)]*t):this.instanced?this.geometry.instanceCount=0:this[e(770)][e(542)](0,0)}[I(526)](t){const e=I;if(t>=this[e(726)])throw new Error(e(626));const s=this[e(766)](t),i=t*this.verticesPerParticle;for(let n=0;n<this[e(458)];n++)this[e(308)][e(546)](i+n,s[e(572)]),this[e(308)][e(685)]=!0,this[e(494)].setX(i+n,s[e(543)]),this.ages.needsUpdate=!0,this[e(750)][e(371)](i+n,s[e(589)].x,s[e(589)].y,s[e(589)].z,s.sequenceElement.w),this[e(750)][e(685)]=!0,this.positions[e(591)](i+n,s[e(648)].x,s[e(648)].y,s[e(648)].z),this[e(510)][e(685)]=!0,this[e(424)].setXYZ(i+n,s[e(590)].x,s.velocity.y,s.velocity.z),this.velocities[e(685)]=!0,this.accelerations.setXYZ(i+n,s[e(732)].x,s[e(732)].y,s[e(732)].z),this[e(403)].needsUpdate=!0,this.normals[e(591)](i+n,s[e(358)].x,s[e(358)].y,s[e(358)].z),this[e(606)][e(685)]=!0,this[e(680)][e(546)](i+n,s[e(721)]),this[e(680)][e(685)]=!0,this.rotationalSpeeds.setX(i+n,s[e(586)]),this[e(624)][e(685)]=!0,this[e(434)][e(686)](i+n,s[e(324)].x,s[e(324)].y),this[e(434)].needsUpdate=!0,this[e(663)].setXYZ(i+n,s[e(745)].r,s[e(745)].g,s[e(745)].b),this[e(663)].needsUpdate=!0,this[e(392)][e(546)](i+n,s.alpha),this[e(392)][e(685)]=!0,this[e(412)][e(686)](i+n,s[e(443)].x,s[e(443)].y),this.initialSizes.needsUpdate=!0,this[e(711)][e(546)](i+n,s[e(406)]),this[e(711)][e(685)]=!0}copyState(t,e){const s=I;super[s(414)](t,e),this[s(526)](e)}setState(t,e){const s=I;if(t>=this[s(726)])throw new Error('ParticleStateAttributeArray::setState() -> "index" is out of range.');super[s(612)](t,e),this[s(526)](t)}getPositions(){return this[I(510)]}[I(402)](){return this[I(434)]}getRotations(){return this[I(680)]}[I(781)](){return this.sequenceElements}getColors(){return this[I(663)]}[I(740)](){return this[I(770)]}allocate(t){const e=I;super[e(640)](t);const i=(t,i)=>{const n=e;return this[n(621)]?new(s[n(627)])(t,i):new(s[n(744)])(t,i)},n=this.verticesPerParticle*this[e(726)];if(this.instanced){const t=new(s[e(610)]),i=new Float32Array(18);this[e(720)]=new(s[e(744)])(i,3),t.setAttribute(e(648),this[e(720)]),this[e(720)][e(685)]=!0,this[e(720)][e(591)](0,-1,1,0),this[e(720)][e(591)](1,-1,-1,0),this.basePositions[e(591)](2,1,1,0),this.basePositions[e(591)](3,-1,-1,0),this.basePositions.setXYZ(4,1,-1,0),this[e(720)].setXYZ(5,1,1,0);const n=new Float32Array(12);this[e(729)]=new(s[e(744)])(n,2),t[e(466)](e(668),this[e(729)]),this[e(729)][e(685)]=!0,this[e(729)][e(686)](0,0,1),this[e(729)][e(686)](1,0,0),this[e(729)].setXY(2,1,1),this.baseUVs[e(686)](3,0,0),this[e(729)][e(686)](4,1,0),this.baseUVs[e(686)](5,1,1);const r=new Float32Array(6);this[e(545)]=new l(r,1),t[e(466)](e(471),this[e(545)]),this[e(545)][e(685)]=!0,this[e(545)][e(546)](0,0),this[e(545)][e(546)](1,1),this[e(545)][e(546)](2,3),this[e(545)][e(546)](3,1),this[e(545)][e(546)](4,2),this[e(545)].setX(5,3),this[e(770)]=(new(s[e(600)]))[e(659)](t),this[e(770)][e(681)]=0}else{this[e(770)]=new(s[e(610)]);const t=new Float32Array(n);this[e(545)]=new(s[e(744)])(t,1),this[e(770)][e(466)]("customIndex",this[e(545)]),this[e(545)][e(685)]=!0;for(let s=0;s<this[e(726)];s++){const t=s*this[e(458)];this[e(545)][e(546)](t,0),this.customIndexes[e(546)](t+1,1),this[e(545)].setX(t+2,3),this[e(545)][e(546)](t+3,1),this.customIndexes[e(546)](t+4,2),this.customIndexes[e(546)](t+5,3)}}const r=new Float32Array(n),a=new Float32Array(n),o=new Float32Array(4*n),c=new Float32Array(3*n),h=new Float32Array(3*n),p=new Float32Array(3*n),d=new Float32Array(3*n),m=new Float32Array(n),f=new Float32Array(n),S=new Float32Array(2*n),w=new Float32Array(3*n),g=new Float32Array(n),y=new Float32Array(2*n),v=new Float32Array(3*n),x=new Float32Array(n);this[e(510)]=i(c,3),this[e(510)][e(431)](s[e(704)]),this[e(770)].setAttribute("particlePosition",this[e(510)]),this[e(308)]=i(r,1),this[e(308)].setUsage(s[e(704)]),this[e(770)][e(466)]("lifetime",this.lifetimes),this[e(494)]=i(a,1),this[e(494)][e(431)](s[e(704)]),this[e(770)].setAttribute(e(543),this.ages),this.sequenceElements=i(o,4),this.sequenceElements[e(431)](u),this[e(770)][e(466)]("sequenceElement",this[e(750)]),this[e(424)]=i(h,3),this.velocities[e(431)](s[e(704)]),this.geometry[e(466)]("velocity",this.velocities),this.accelerations=i(p,3),this.accelerations[e(431)](s[e(704)]),this.geometry[e(466)](e(732),this.accelerations),this.normals=i(d,3),this[e(606)].setUsage(s[e(704)]),this[e(770)][e(466)](e(358),this[e(606)]),this[e(680)]=i(m,1),this[e(680)][e(431)](s[e(704)]),this.geometry[e(466)](e(721),this[e(680)]),this[e(624)]=i(f,1),this[e(624)][e(431)](s[e(704)]),this[e(770)][e(466)](e(586),this.rotationalSpeeds),this[e(434)]=i(S,2),this.sizes.setUsage(s[e(704)]),this[e(770)].setAttribute(e(324),this[e(434)]),this[e(663)]=i(w,3),this.colors.setUsage(u),this[e(770)].setAttribute(e(745),this[e(663)]),this[e(392)]=i(g,1),this.alphas[e(431)](s[e(704)]),this[e(770)][e(466)](e(645),this[e(392)]),this[e(412)]=i(y,2),this.initialSizes[e(431)](s[e(704)]),this.geometry[e(466)](e(443),this[e(412)]),this[e(368)]=i(v,3),this.initialColors[e(431)](s[e(704)]),this.geometry[e(466)](e(483),this.initialColors),this[e(711)]=i(x,1),this[e(711)][e(431)](s[e(704)]),this[e(770)][e(466)](e(406),this[e(711)])}[I(702)](){const t=I;super[t(702)](),this.geometry&&(this.geometry[t(702)](),this[t(770)]=null)}}class j{constructor(t,e,s,i,n){const r=I;this[r(379)]=t,this.x=e,this.y=s,this[r(497)]=i,this[r(470)]=n}}class X{constructor(t,e){const s=I;this[s(373)]=t,this[s(502)]=e,this[s(618)]=[]}getTexture(){return this[I(373)]}[I(573)](){return this[I(502)]}[I(674)](){const t=I;return this[t(618)][t(379)]}addFrameSet(t,e,s,i,n){const r=I;this[r(618)][r(299)](new j(t,e,s,i,n))}[I(320)](t){const e=I;if(t>=this[e(618)][e(379)])throw new Error(e(622));return this.frameSets[t]}}class D extends U{constructor(t,i,n=!1,r=e,a=!0,o){const c=I;super(),this.instanced=t,this[c(660)]=null,this[c(552)]=null,this[c(357)]=null,this.atlas=i,this[c(395)]=n,this[c(667)]=r,this[c(409)]=new(s[c(340)]),this[c(499)]=new(s[c(436)]),this.calculateBoundingSphereFromBox=a,this[c(763)]=o}setOwner(t){super.setOwner(t)}[I(489)](){return this[I(660)]}[I(774)](t){const e=I;super[e(774)](t),this.material&&(this.material[e(464)][e(303)][e(344)]=t?1:0,this.material[e(382)]=!0)}[I(678)](){return this.calculateBoundingSphereFromBox}[I(329)](t){const e=I;this[e(409)].copy(t),this[e(357)]&&this.updateMeshBounds()}setBoundingSphere(t){const e=I;this.boundingSphere.copy(t),this[e(357)]&&this.updateMeshBounds()}render(t,e,s){e[I(533)](t,s)}[I(733)]=function(){const t=I,e=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[it(569)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){e(this,(function(){const t=it,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(525),"i"),i=ft("init");e[t(342)](i+"chain")&&s[t(342)](i+"input")?ft():i("0")}))()}();const n=new(s[t(683)]);return function(){const e=t,r=this[e(660)][e(740)]();if(this[e(351)]){r.boundingBox||(r[e(409)]=new(s[e(340)])),r[e(409)][e(659)](this[e(409)]),!r[e(499)]&&(r[e(499)]=new(s[e(436)])),n.x=(this.boundingBox[e(517)].x+this[e(409)][e(608)].x)/2,n.y=(this[e(409)].min.y+this[e(409)][e(608)].y)/2,n.z=(this.boundingBox.min.z+this[e(409)][e(608)].z)/2;const t=this[e(409)][e(608)].x-n.x,i=this.boundingBox.max.y-n.y,a=this.boundingBox[e(608)].z-n.z,o=Math[e(608)](Math[e(608)](t,i),a);r[e(499)].center[e(659)](n),r[e(499)][e(579)]=Math[e(736)](2*o*o)}else r[e(499)]||(r[e(499)]=new i),r[e(499)].copy(this[e(499)])}}();[I(749)](t){const e=I;super[e(749)](t)&&(this[e(660)]=new _,this.particleStateArray[e(749)](t,this[e(621)]),this.material=this.createMaterial(null,null,null,!0,!1),this.material[e(667)]=this[e(667)],this.mesh=new(s[e(700)])(this[e(660)][e(740)](),this[e(552)]),this[e(357)][e(463)]=!0,void 0!==this[e(763)]&&(this[e(357)][e(763)]=this[e(763)]),this[e(733)](),this[e(538)].add(this[e(357)]))}[I(702)](){this[I(660)].dispose()}[I(356)](t,e,i,r,a){const o=I,c=[...Array(16)[o(475)]()][o(582)]((t=>new n));if(this.atlas)for(let s=0;s<this.atlas.getFrameSetCount();s++){const t=this[o(567)].getFrameSet(s);c[s]=new n(t.x,t.y,t[o(497)],t[o(470)])}const h=this[o(567)]?this[o(567)][o(675)]():null,l=this[o(395)],u=this[o(303)],p=this[o(621)]?1:0,d={atlasFrameSet:{type:o(504),value:c},atlasTexture:{type:"t",value:h},interpolateAtlasFrames:{value:l},uvOffset:{type:"v2",value:new(s[o(778)])},simulateInWorldSpace:{value:u},instanced:{value:p}};return i=i||{},Object[o(348)](i,d),t=t||D[o(369)].getVertexShader(a),e=e||D[o(369)][o(501)](r,a),new(s[o(374)])({uniforms:i,vertexShader:t,fragmentShader:e,transparent:!0,alphaTest:1,blending:s[o(444)],blendDstAlpha:s[o(757)],blendSrcAlpha:s[o(688)],depthTest:!0,depthWrite:!1})}static[I(369)]={get VertexVars(){const t=I;return[t(725),t(341),t(619),t(492),t(350),"attribute vec2 baseUV;\n","attribute float customIndex;\n","attribute vec4 particlePosition;\n",t(631),t(603),t(313),t(490),t(707),"varying vec2 vUV1;\n",t(391),t(453),"varying float vFragAlpha;\n","varying float vSequenceElementT; \n"].join("\n")},get FragmentVars(){const t=I;return["uniform int interpolateAtlasFrames; \n","uniform sampler2D atlasTexture;\n",t(519),t(480),"varying vec2 vUV2;\n",t(453),"varying float vFragAlpha;\n",t(576)].join("\n")},getVertexShader(t){const e=I;let s=["#include <common>",this[e(558)]][e(669)]("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=[e(306),e(447),e(764),e(353),e(388),e(445),"   int maxRowSections = int(1.0 / atlasFrameWidth); \n",e(508),e(682),e(730),e(540),"   int nRowYTile = int(SNOverHS);\n",e(307),e(488),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",e(671),e(602),e(393),e(595),e(318),"{\n",e(370),e(334),e(321),e(487),e(421),e(462),e(446),"   const vec2 dRight = vec2(1.0, -1.0);\n",e(528),"   if (simulateInWorldSpace == 1) { \n","       viewPosition = viewMatrix * particlePosition;\n",e(604),e(615),e(779),"   float sequenceElementF = sequenceElement.x;\n",e(503),"   int sequenceStart = int(sequenceElement.z);\n","   int sequenceLength = int(sequenceElement.w);\n",e(670),e(311),e(539),e(419),e(461),e(450),e(532),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","   } \n","   float atlasFrameWidth = atlasFrames.z; \n",e(764),e(639),e(396),e(587),e(709),e(376),e(653),"       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","       upperSide = upperSideStep.x + upperSideStep.y;\n","   }  else { \n",e(310),e(583),e(779),e(315),e(630),e(327),e(376),e(613),"       float uLeftV = rotVecStep.x; \n",e(541),"       float uRightV = rotVecStep.z; \n",e(705),e(328),e(556),e(551),"   } \n",e(772),e(354),"   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",e(594),"   vFragAlpha = alpha; \n"][e(669)]("\n"),t&&(s+=e(703)),s+="} \n",s},getFragmentShader(t,e){const s=I;let i=s(355)+this.FragmentVars+"\n";return e&&(i+=s(780)),i+=s(331),e&&(i+=s(598)),i+=t?[s(697),s(345),"   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","   gl_FragColor.a *= vFragAlpha; \n"][s(669)]("\n"):["   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n",s(345),s(596),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(637)][s(669)]("\n"),i+="}\n",i}};static[I(534)](t){const e=I,i=t.atlas,n=(new r)[e(638)](i.texturePath),a=new X(n,i[e(502)]),o=i[e(410)];for(const s of o)a[e(633)](s[e(379)],s.x,s.y,s[e(497)],s[e(470)]);const c=new D(t[e(621)],a,i[e(593)]);return t[e(667)]==e(570)?c[e(667)]=s[e(363)]:c.blending=s[e(444)],c}toJSON(t){const e=I;t=t||(t=>{const e=it;if(t[e(502)])return t[e(502)];const s=t[e(675)]().source;if(s){const t=s[e(323)];if(t){const s=t[e(449)],i=t[e(416)];return i[e(734)](s)>=0?i[e(514)](s[e(379)],i[e(379)]-s[e(379)]):i}}});const i=[];for(let s=0;s<this.atlas[e(674)]();s++){const t=this[e(567)][e(320)](s);i[e(299)](t)}let n="Normal";this.material[e(667)]===s[e(363)]&&(n=e(570));return{instanced:this[e(621)],blending:n,atlas:{interpolateFrames:this[e(395)],texturePath:t(this[e(567)]),framesets:i}}}}class W{constructor(){const t=I;this[t(520)]=0,this[t(432)]=0,this[t(440)]=0,this[t(543)]=0,this[t(715)]=0,this[t(706)]=0,this[t(756)]=0}update(t){return this.internalUpdate(t),0}[I(544)](t){const e=I;return this[e(543)]+=t,this[e(715)]=Math[e(608)](this[e(543)]-this[e(520)],0),this[e(543)]>=this[e(520)]&&(0==this[e(432)]||this[e(715)]<=emissionDuration)}[I(742)](t){this[I(440)]+=t}}class Y extends W{constructor(){const t=I;super(),this[t(696)]=0,this[t(509)]=0}}class J extends Y{constructor(t=0){const e=I;super(),this[e(360)]=t}update(t){const e=I;if(this[e(544)](t)){const t=this[e(360)]*this[e(715)]-this[e(440)];if(t>=1){const s=Math[e(767)](t);return this.updateEmitCount(s),s}}return 0}static[I(534)](t){const e=I,s=new J;return s[e(360)]=t[e(360)]||0,s}toJSON(){return{emissionRate:this[I(360)]}}}class k{static[I(407)]=new k(I(407));static[I(778)]=new k(I(778));static Vector3=new k("Vector3");static Vector4=new k(I(654));static[I(710)]=new k(I(710));constructor(t){this[I(522)]=t}static[I(752)](t){const e=I;let i=k[e(407)];return t===s[e(778)]?i=k[e(778)]:t===a?i=k[e(683)]:t===s[e(654)]?i=k[e(654)]:t===s[e(710)]&&(i=k.Color),i}static[I(383)](t,e){const i=I;switch(e){case s[i(778)]:return(new(s[i(778)]))[i(441)](t);case s[i(683)]:return(new(s[i(683)]))[i(441)](t);case s[i(654)]:return(new(s[i(654)]))[i(441)](t);case s[i(710)]:return(new(s[i(710)])).fromArray(t)}return t}}class L{constructor(t){const e=I;this.outType=t,this[e(521)]=k[e(752)](t)}}class Z extends L{constructor(t,e,s,i,n,r){const a=I;super(t),this.range=e,this[a(625)]=s,this[a(651)]=i,this[a(723)]=n,this[a(656)]=r}[I(314)](t){const e=I,s=Math.random()*this[e(651)];switch(this[e(521)]){case k[e(407)]:t=Math.random()*this[e(676)]+this[e(625)],this[e(656)]&&(t=t<0?-1:1);break;case k[e(778)]:t[e(523)](this[e(652)](s,"x"),this[e(652)](s,"y"));break;case k[e(683)]:t[e(523)](this[e(652)](s,"x"),this[e(652)](s,"y"),this[e(652)](s,"z"));break;case k.Vector4:t.set(this[e(652)](s,"x"),this[e(652)](s,"y"),this[e(652)](s,"z"),this[e(652)](s,"w"))}return this.normalize&&t[e(656)](),t}generateForElement(t,e){const s=I;return t+Math[s(397)]()*this[s(676)][e]+this[s(625)][e]+this[s(723)]}[I(500)](){const t=I;return new Z(this.outType,this[t(676)],this[t(625)],this[t(651)],this[t(723)],this.normalize)}static[I(773)](t){const e=I;return t instanceof s[e(778)]||t instanceof s[e(683)]||t instanceof s[e(654)]||t instanceof c?t.toArray():t}static[I(534)](t){const e=I;return new Z(t[e(474)],k[e(383)](t[e(676)],t[e(474)]),k[e(383)](t[e(625)],t[e(474)]),t[e(651)]||0,t[e(723)]||0,t[e(656)])}[I(649)](t){const e=I,s={range:Z[e(773)](this[e(676)]),offset:Z[e(773)](this.offset),uniformRange:this[e(651)],uniformOffset:this[e(723)]},i=t[e(636)](this[e(676)].constructor);return null!=i&&(s[e(474)]=i),{type:t[e(636)](Z),params:s}}}class G extends b{constructor(t,e,s,i,n){const r=I;super(),this[r(676)]=t,this[r(625)]=e,this.uniformRange=s,this[r(723)]=i,this[r(656)]=n,this[r(531)]=new Z(0,this[r(676)],this[r(625)],this[r(651)],this.uniformOffset,this[r(656)])}initializeState(t){const e=I;t[e(572)]=this.generator[e(314)]()}static[I(534)](t,e){const s=I;return new G(e[s(676)],e[s(625)],e[s(651)],e.uniformOffset,e[s(656)])}toJSON(){const t=I;return{range:this[t(676)],offset:this[t(625)],uniformRange:this[t(651)],uniformOffset:this[t(723)],normalize:this[t(656)]}}}class H extends b{constructor(t){const e=I;super(),this[e(531)]=t[e(500)]()}[I(762)](t){const e=I;t[e(721)]=this.generator[e(314)](t[e(721)])}static fromJSON(t,e){const s=I,i=e.generator.type[s(534)](e[s(531)][s(713)]);return new H(i)}[I(649)](t){return{generator:this[I(531)].toJSON(t)}}}class $ extends b{constructor(t,e,s,i,n){const r=I;super(),this[r(676)]=t,this.offset=e,this.uniformRange=s,this.uniformOffset=i,this[r(656)]=n,this[r(531)]=new Z(0,this[r(676)],this.offset,this[r(651)],this.uniformOffset,this[r(656)])}[I(762)](t){const e=I;t[e(586)]=this[e(531)].generate()}static[I(534)](t,e){const s=I;return new $(e[s(676)],e[s(625)],e[s(651)],e[s(723)],e.normalize)}[I(649)](){const t=I;return{range:this.range,offset:this.offset,uniformRange:this[t(651)],uniformOffset:this[t(723)],normalize:this[t(656)]}}}class K extends b{constructor(t,e){const i=I;super(),this[i(549)]=new Z(s[i(683)],t,e,0,0,!1)}[I(762)](t){const e=I;this[e(549)].generate(t[e(648)])}static fromJSON(t,e){const i=I;return new K((new(s[i(683)]))[i(441)](e[i(676)]),(new(s[i(683)]))[i(441)](e[i(625)]))}[I(649)](){const t=I;return{range:this[t(549)][t(676)][t(555)](),offset:this[t(549)][t(625)].toArray()}}}class Q extends b{constructor(t){const e=I;super(),this[e(531)]=t.clone()}[I(762)](t){const e=I;this[e(531)][e(314)](t[e(324)]),t[e(443)][e(659)](t[e(324)])}static[I(534)](t,e){const s=I,i=e.generator[s(474)][s(534)](e.generator[s(713)]);return new Q(i)}[I(649)](t){const e=I;return{generator:this.generator[e(649)](t)}}}class tt extends b{constructor(t,e,s,i,n=!0){const r=I;super(),this[r(601)]=new Z(a,t,e,0,0,!0),this.speedGenerator=new Z(0,s,i,0,0,!1),this[r(300)]=n}initializeState(t){const e=I;this[e(601)][e(314)](t.velocity),this[e(300)]&&t[e(590)][e(656)](),t[e(590)][e(481)](this[e(661)][e(314)]())}static fromJSON(t,e){const i=I;return new tt((new(s[i(683)]))[i(441)](e[i(676)]),(new(s[i(683)]))[i(441)](e[i(625)]),e.speedRange,e[i(364)])}[I(649)](){const t=I;return{range:this[t(601)][t(676)][t(555)](),offset:this[t(601)][t(625)][t(555)](),speedRange:this[t(661)].range,speedOffset:this[t(661)][t(625)]}}}class et extends b{constructor(t,e=!1){const s=I;super(),this[s(650)](t),this[s(417)]=e}[I(650)](t){this[I(568)]=t}[I(762)](t){const e=I,s=this[e(568)][e(467)](),i=s[e(379)]*Math[e(397)](),n=s[Math.floor(i)],r=this.particleSequences[e(718)](n),a=t[e(589)];this[e(417)]?a.x=r.length-1:a.x=r[e(664)],a.y=r.id,a.z=r[e(664)],a.w=r[e(379)],t[e(384)]=F[e(506)]}static[I(534)](t,e){return new et(t[I(632)](),e.reverse)}toJSON(){return{reverse:this[I(417)]}}}class st extends R{constructor(t,e,s=!1,i=!1){const n=I;super(),this.particleSequences=t,this[n(339)]=e,this[n(566)]=s,this[n(417)]=i}[I(512)](t,e){const s=I,i=t[s(589)],n=this[s(568)][s(718)](i.y),r=e/this.speed;if(this[s(417)]){if(i.x-=r,i.x<n[s(664)]&&(i.x=n[s(664)]+n.length,!this[s(566)]))return!1}else if(i.x+=r,i.x>=n[s(664)]+n[s(379)]&&(i.x=n[s(664)],!this[s(566)]))return!1;return!0}static[I(534)](t,e){const s=I;return new st(t[s(632)](),e.speed,e[s(566)],e[s(417)])}[I(649)](){const t=I;return{speed:this[t(339)],loop:this.loop,reverse:this[t(417)]}}}function it(t,e){const s=rt();return(it=function(t,e){return s[t-=299]})(t,e)}class nt{constructor(t,e){const s=I;this[s(662)]=[],this.tValues=[],this[s(330)]=k[s(752)](t),e?this.interpolator=e:this[s(381)]=this[s(728)](this[s(330)])}*[Symbol[I(399)]](){const t=I;let e=0;for(;e<this[t(437)]();)yield{element:this.elements[e],tValue:this[t(451)][e]},e++}[I(437)](){const t=I;return this[t(662)][t(379)]}[I(537)](t){const e=I;if(t>=this[e(437)]())throw new Error(e(737));return this[e(662)][t]}[I(599)](t){const e=I;if(t>=this[e(437)]())throw new Error(e(571));return this.tValues[t]}[I(628)](t,e){const s=I;this[s(662)][s(299)](t),this[s(451)].push(e)}[I(751)](t,e){const s=I;return this.interpolator(t,this[s(662)],this[s(451)],e)}getInterpolatorForTypeID=function(){const t=I,e={lowerIndex:0,upperIndex:0,localT:0},i=new h,r=new(s[t(683)]),a=new n,o=new c,l=s=>(i,n,r,a)=>{const o=t;nt.getInterpolationValuesForTValue(r,i,e),s[o(659)](n[e[o(429)]]).multiplyScalar(e.localT),a.copy(n[e[o(666)]])[o(481)](1-e.localT)[o(620)](s)};return function(s){const n=t;switch(s){case k.Default:return(t,s,i)=>{const n=it;return nt[n(486)](i,t,e),(1-e[n(577)])*s[e[n(666)]]+e[n(577)]*s[e.upperIndex]};case k[n(778)]:return l(i);case k[n(683)]:return l(r);case k.Vector4:return l(a);case k[n(710)]:return l(o)}}}();static getInterpolationValuesForTValue(t,e,s){const i=I,n=t[i(379)];if(0===n)return s[i(666)]=-1,s[i(429)]=-1,void(s.localT=-1);let r=0,a=-1,o=0;for(let l=0;l<n&&(r=t[l],!(r>e));l++)a++,o++;s[i(666)]=V.clamp(a,0,n-1),s[i(429)]=V[i(312)](o,0,n-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}function rt(){const t=["   vFragColor = color; \n","} \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","now","    \n  #include <logdepthbuf_fragment> \n","getTValue","InstancedBufferGeometry","directionGenerator","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","attribute vec2 size;\n","   } else { \n","startupTime","normals","offsetTheta","max","return (function() ","BufferGeometry","toString","setState","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","Paused","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","addType","703928aOrxNB","frameSets","uniform int interpolateAtlasFrames; \n","add","instanced",'Atlas::getFrameSet -> "index" is out of range.',"invert","rotationalSpeeds","offset",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"InstancedBufferAttribute","addElement","activateParticle","   float uvYOffset = atlasFrameHeight * upperSide; \n","attribute float rotation;\n","getParticleSequences","addFrameSet",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"error","getTypePath","   gl_FragColor.a *= vFragAlpha; \n","load","   float rotMag = rotation; \n","allocate","transformInitialDirectionInWorldSpace","setIntensity","PointLight","offsetY","alpha","initialized","systemState","position","toJSON","setParticleSequences","uniformRange","generateForElement","       rightSide = step(2.0, customIndex); \n","Vector4","interpolationElements","normalize","addElementsFromParameters","tempUp","copy","particleStateArray","speedGenerator","elements","colors","start","element","lowerIndex","blending","baseUV","join","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","operators","JSONTypeStore::getType() -> typeName does not exist","getFrameSetCount","getTexture","range","tValue","calculatingBoundingSphereFromBox","offsetRadius","rotations","instanceCount","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","Vector3","updateWorldMatrix","needsUpdate","setXY","timeScaledAcceleration","SrcAlphaFactor","lastPositionFlickerTime","3909387OVDyyA","setOwner","table","componentContainer","info","update","emissionMinimum","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","far","Object3D","Mesh","while (true) {}","dispose","   \n  #include <logdepthbuf_vertex> \n","DynamicDrawUsage","       float dRightV = rotVecStep.w - rotVecStep.z; \n","activeCount","attribute float alpha;\n","stop","   float upperSide; \n","Color","initialAlphas","parseNamespaceAndTypename","params","autoClear","timeActive","computeBoundingBox","getParticleStateInitializerCount","getSequence","copyParticleInArray","basePositions","rotation","2772kkOInr","uniformOffset","addParticleSequence","const int MAX_ATLAS_FRAME_SETS = 16; \n","particleCount","setRGB","getInterpolatorForTypeID","baseUVs","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","setAll","acceleration","updateMeshBounds","indexOf","8516sFUuLE","sqrt",'ContinuousArray::getElement() -> "index" is out of bounds.',"decay","cameraFar","getGeometry",'ParticleStateArray::getState() -> "index" is out of range.',"updateEmitCount","gger","BufferAttribute","color","setEmitter","rangeRadius","ids","init","sequenceElements","getInterpolatedElement","getTypeID","__proto__","addSequence","matrixWorldNeedsUpdate","maximumActiveParticles","OneMinusSrcAlphaFactor","24402Arnpxf","stateVelocity","default","warn","initializeState","renderOrder","   float atlasFrameHeight = atlasFrames.w; \n","call","getState","floor","nextIntensityAdjuster","visible","geometry","Renderer::init() -> trying to intialize more than once.","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","getParameterJSON","setSimulateInWorldSpace",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"object","getMaximumActiveParticles","Vector2","   } \n","  \n #include <logdepthbuf_pars_fragment> \n","getSequenceElements","intensityFlux","push","normalizeDirection","distance","timeScaledVelocity","simulateInWorldSpace","updateBounds","applyMatrix4","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","lifetimes","exception","       rightSide = baseUV.x; \n","   vec2 uv1; \n","clamp","attribute vec4 sequenceElement;\n","generate","   float uvXOffset = atlasFrameWidth * rightSide; \n","camera","constructor","void main()\n","2495fCIsvk","getFrameSet","   const vec2 left = vec2(-1.0, 0.0);\n","24796epQnEW","data","size","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","log","   vec2 rotVec; \n","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","setBoundingBox","elementTypeID","void main() { \n","checkAndAddTypeName","particleSystems","   const vec2 up = vec2(0.0, 1.0);\n","rangeTheta","offsetPhi","hasID","advanceActiveParticles","speed","Box3","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","test","particleEmitter","value","   vec4 color2 = color1; \n","getParticleStateInitializer","advanceActiveParticle","assign","light","uniform int instanced; \n","calculateBoundingSphereFromBox","setActiveParticleCount","   float atlasFrameX = atlasFrames.x; \n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","#include <common> \n","createMaterial","mesh","normal","copyTo","emissionRate","JSONTypeStore::addNamespace() -> namespace already exists","setTransformInitialDirectionInWorldSpace","AdditiveBlending","speedOffset","addElements","computeBoundingSphere","getParticleState","initialColors","Shader","   const vec2 right = vec2(1.0, 0.0);\n","setXYZW","JSONTypeStore::addTypeToNamespace() -> typeName already exists","texture","ShaderMaterial","jsonTypeNames","   if (instanced != 1) { \n","parseTypeString","lastIntensityFlickerTime","length","Time","interpolator","uniformsNeedUpdate","loadJSONParameter","progressType","addParticleStateOperator","split","getEmitter","   float atlasFrameY = atlasFrames.y; \n","getParticleSystemRenderer","namespace","varying vec2 vUV2;\n","alphas","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","particleStates","interpolateAtlasFrames","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","random","getParticleStates","iterator","cos","getSimulateInWorldSpace","getSizes","accelerations","38OgMNKc","matrixWorld","initialAlpha","Default","parent","boundingBox","framesets","sin","initialSizes","setVisibile","copyState","hasOwnProperty","currentSrc","reverse","rangePhi","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","bias","   const vec2 uRight = vec2(1.0, 1.0);\n","function","activeParticleCount","velocities","addParticleSystem","scaleZ","___photonsTypeID","components","upperIndex","708jDofUu","setUsage","emissionDuration","activateParticles","sizes","cameraNear","Sphere","getElementCount","particleStateOperators","addTypeToNamespace","emitCount","fromArray","emitterInitialized","initialSize","NormalBlending","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","   const vec2 dLeft = vec2(-1.0, -1.0);\n","   float atlasFrameWidth = atlasFrames.z; \n","emitter","baseURI","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","tValues","addElementsFromElementClassAndParameters","varying vec3 vFragColor;\n","startTime","pause","castShadow","renderer","verticesPerParticle","string","console","   int firstSequenceElement = int(sequenceElementF); \n","   const vec2 uLeft = vec2(-1.0, 1.0);\n","frustumCulled","uniforms","getComponent","setAttribute","getSequenceIDs","Done","particleSystemRenderer","height","customIndex",'ParticleSystem::getParticleState() -> "index" is out of range.',"getTypeNames","type","keys","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","onUpdateCallback","splice","relativeToInitialValue","varying vec2 vUV1;\n","multiplyScalar","sequences","initialColor",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"getParticleStateOperator","getInterpolationValuesForTValue","   const vec2 down = vec2(0.0, -1.0);\n","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","getParticleStateArray","attribute vec3 color;\n","transformDirection","uniform int simulateInWorldSpace; \n","getType","ages","prototype","setParticleCount","width","intensity","boundingSphere","clone","getFragmentShader","texturePath","   int sequenceNumber = int(sequenceElement.y);\n","v4v","progressTypes","Sequence","center","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","emissionMaximum","positions","stateObject","updateState","350383nkCvza","substr",'ParticleStateArray::setState() -> "index" is out of range.',"initializers","min","getVisible","uniform vec2 uvOffset;\n","emissionRelativeStartTime","outTypeID","name","set","scaleY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","flushParticleStateToBuffers","ParticleSequenceGroup::getSequence -> Invalid ID.","   vec4 viewPosition; \n","offsetX","currentTime","generator","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","render","fromJSON","offsetZ","Running","getElement","owner","   vec2 uv2; \n","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","setDrawRange","age","internalUpdate","customIndexes","setX","shadow","typeIDGen","randomGenerator","2620000SHsbhq","       rotVec = position.xy; \n ","material","onUpdate","debu","toArray","   }  else { \n","lastPositionAdjuster","VertexVars","sub","maxParticleCount","addComponent","lastUpdateTime","getInterpolatedValue","lastIntensityAdjuster","particleStateInitializers","loop","atlas","particleSequences","apply","Additive",'ContinuousArray::getTValue() -> "index" is out of bounds.',"lifetime","getTexturePath","typeName","mapSize","varying float vSequenceElementT;\n","localT","9TdHCBE","radius","positionAdjuster","bind","map","       upperSide = baseUV.y; \n","scaleX","addParticleStateInitializer","rotationalSpeed","   float rightSide; \n","NotStarted","sequenceElement","velocity","setXYZ","jsonTypes","interpolateFrames"];return(rt=function(){return t})()}class at extends R{constructor(t,e=!1){const s=I;super(),this[s(479)]=e,this.interpolationElements=new nt(t)}[I(628)](t,e){const s=I;this[s(655)][s(628)](t,e)}[I(365)](t){for(const e of t)this.interpolationElements.addElement(e[0],e[1])}[I(452)](t,e){const s=I;for(const i of e){const[...e]=i[0];this[s(655)][s(628)](new t(...e),i[1])}}[I(563)](t,e){const s=I;let i=0;switch(t[s(384)]){case F[s(380)]:i=0!=t.lifetime?t[s(543)]/t.lifetime:t[s(543)];break;case F.Sequence:i=t[s(589)].x/t[s(589)].w}return this[s(655)].getInterpolatedElement(i,e)}}class ot extends at{constructor(t=!1){super(0,t)}[I(657)](t){super.addElements(t)}updateState(t){const e=I;return this[e(479)]?t.alpha=t.initialAlpha*this[e(563)](t,t[e(645)]):t[e(645)]=this.getInterpolatedValue(t,t.alpha),!0}static[I(534)](t,e){return new ot(e.relativeToInitialValue)}toJSON(){const t=I;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(655)]][t(582)]((e=>[e[t(665)],e[t(677)]]))}}}class ct extends at{constructor(t=!1){super(s[I(778)],t)}[I(657)](t){const e=I;super.addElementsFromElementClassAndParameters(s[e(778)],t)}updateState=function(){const t=new h;return function(e){const s=it;return this[s(563)](e,t),this[s(479)]?e[s(324)].set(e[s(443)].x*t.x,e[s(443)].y*t.y):e[s(324)][s(659)](t),!0}}();static[I(534)](t,e){return new ct(e[I(479)])}[I(649)](){const t=I;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(655)]].map((e=>[e[t(665)][t(555)](),e[t(677)]]))}}}class ht extends at{constructor(t=!1){super(s[I(710)],t)}[I(657)](t){const e=I;super[e(452)](s[e(710)],t)}updateState=function(){const t=I,e=new(s[t(710)]);return function(s){const i=t;return this[i(563)](s,e),this[i(479)]?s.color[i(727)](s[i(483)].r*e.r,s[i(483)].g*e.g,s[i(483)].b*e.b):s[i(745)].copy(e),!0}}();static fromJSON(t,e){return new ht(e[I(479)])}[I(649)](){const t=I;return{params:{relativeToInitialValue:this[t(479)]},elements:[...this.interpolationElements][t(582)]((e=>[e[t(665)][t(555)](),e[t(677)]]))}}}class lt extends R{constructor(t){const e=I;super(),this[e(531)]=t[e(500)]()}[I(657)](t){const e=I;super.addElementsFromElementClassAndParameters(THREE[e(683)],t)}updateState(t){const e=I;return this[e(531)][e(314)](t.acceleration),!0}static[I(534)](t,e){const s=I,i=e[s(531)][s(474)][s(534)](e[s(531)][s(713)]);return new lt(i)}[I(649)](t){return{generator:this[I(531)].toJSON(t)}}}class ut extends L{constructor(t,e,i,n,r,o,c,h,l,u,p,d){const m=I;super(s[m(683)]),this.rangeTheta=t,this.offsetTheta=e,this[m(418)]=i,this[m(336)]=n,this[m(747)]=r,this.offsetRadius=o,this[m(584)]=c,this[m(524)]=h,this[m(426)]=l,this[m(529)]=u,this.offsetY=p,this[m(535)]=d,this[m(658)]=(new a)[m(523)](0,1,0)}[I(314)](t){const e=I;this[e(658)][e(523)](0,1,0);const s=Math[e(397)]()*this.rangeTheta+this[e(607)],i=Math[e(397)]()*this[e(418)]+this[e(336)],n=Math[e(400)](s),r=Math[e(411)](s),a=Math[e(400)](i),o=Math[e(411)](i);t[e(523)](n,0,-r),t.multiplyScalar(a),this[e(658)][e(481)](o),t.add(this[e(658)]),t[e(656)]();const c=Math.random()*this.rangeRadius+this.offsetRadius;t[e(481)](c),t.x*=this[e(584)],t.y*=this.scaleY,t.z*=this[e(426)],t.x+=this[e(529)],t.y+=this[e(644)],t.z+=this.offsetZ}[I(500)](){const t=I;return new ut(this.rangeTheta,this[t(607)],this[t(418)],this[t(336)],this[t(747)],this[t(679)],this[t(584)],this.scaleY,this.scaleZ,this.offsetX,this[t(644)],this[t(535)])}static[I(534)](t){const e=I;return new ut(t[e(335)],t[e(607)],t[e(418)],t[e(336)],t[e(747)],t[e(679)],t[e(584)],t[e(524)],t[e(426)],t[e(529)],t[e(644)],t[e(535)])}[I(649)](t){const e=I;return{type:t[e(636)](ut),params:{rangeTheta:this[e(335)],offsetTheta:this[e(607)],rangePhi:this[e(418)],offsetPhi:this.offsetPhi,rangeRadius:this[e(747)],offsetRadius:this.offsetRadius,scaleX:this[e(584)],scaleY:this[e(524)],scaleZ:this[e(426)],offsetX:this.offsetX,offsetY:this[e(644)],offsetZ:this[e(535)]}}}}class pt{constructor(){}}class dt extends pt{constructor(t,e,s,i,n,r,o=void 0){const c=I;super(),this.owner=null,this[c(349)]=null,this[c(562)]=performance[c(597)]()/1e3,this[c(378)]=this.lastUpdateTime,this[c(689)]=this[c(562)],this[c(564)]=1,this[c(768)]=1,this[c(557)]=new a,this[c(580)]=new a,this[c(498)]=1,this[c(782)]=2,this[c(408)]=t,this[c(749)](t,e,s,i,n,r,o)}init(t,e,i,n,r,a,o=void 0){const c=I;this[c(538)]=new(s[c(699)]),t[c(620)](this.owner),n=n||new(s[c(710)]),r=r||0,null!=a&&null!=a||(a=2);const h=!!o;return this.light=new(s[c(643)])(16777215,2,0,1),this.light[c(745)][c(659)](n),this.light[c(301)]=r,this[c(349)][c(738)]=a,this[c(349)][c(456)]=h,h&&(this[c(349)][c(547)].mapSize[c(497)]=o.mapSize||512,this.light[c(547)][c(575)][c(470)]=o.mapSize||512,this.light.shadow[c(316)].near=o[c(435)]||.5,this[c(349)].shadow[c(316)][c(698)]=o[c(739)]||500,this[c(349)][c(547)][c(420)]=o.bias||1e-4,this[c(349)][c(547)].radius=o.edgeRadius||1),this[c(538)][c(620)](this[c(349)]),this[c(498)]=e,this[c(782)]=i,this.light}[I(702)](){const t=I;this[t(408)].remove(this[t(538)])}getLight(){return this[I(349)]}[I(642)](t){this[I(498)]=t}[I(695)](t){const e=I,s=t-this[e(378)],i=1/8,n=this[e(782)];if(s>i){this.lastIntensityFlickerTime=t;let s=1+2*(Math.random()-.5)*n*i;const r=s-this.lastIntensityAdjuster;s=this.lastIntensityAdjuster+r,this[e(564)]=this.nextIntensityAdjuster,this[e(768)]=V[e(312)](s,.25,1.5)}else{const t=s/i,n=(1-t)*this[e(564)]+t*this[e(768)];this[e(349)][e(498)]=n*this[e(498)]}if(t-this[e(689)]>.0625){this[e(689)]=t;const s=t-this[e(562)];this[e(580)][e(523)](Math[e(397)]()-.5,Math[e(397)]()-.5,Math[e(397)]()-.5),this[e(580)][e(481)](s),this[e(580)][e(620)](this[e(557)]),this.positionAdjuster[e(481)](.5),this[e(538)][e(648)][e(659)](this[e(580)]),this[e(557)][e(659)](this[e(580)]),this[e(562)]=t}}}class mt{constructor(){const t=I;this[t(592)]={default:{}},this[t(375)]={},this[t(548)]=0}[I(616)](t,e){const s=I;this.addTypeToNamespace(s(760),t,e)}[I(439)](t,e,s){const i=I;if(!this.jsonTypes[t])throw new Error(i(325));if(this.jsonTypes[t][e])throw new Error(i(372));this[i(332)](s,e,t)&&(this[i(592)][t][e]=s)}addNamespace(t,e){const s=I;if(this[s(592)][t])throw new Error(s(361));this.jsonTypes[t]=e;for(const i in e)if(!e[s(415)]||e[s(415)](i)){const n=e[i];this[s(332)](n,i,t)}}[I(332)](t,e,s){const i=I;if(typeof t===i(422)){const n=this[i(548)]++;t[i(427)]=n,this.jsonTypeNames[n]={namespace:s,typeName:e}}}[I(493)](t,e){const s=I;if(!this[s(592)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(592)][t][e])throw new Error(s(673));return this[s(592)][t][e]}[I(473)](t){const e=I;return this[e(375)][t[e(427)]]}[I(636)](t){const e=I,s=this[e(473)](t);if(s)return s[e(390)]+"."+s[e(574)]}[I(712)](t){const e=I,s=t[e(386)]("."),i=s[0];s[e(478)](0,1);return{namespace:i,typeName:s[e(669)](".")}}[I(377)](t){const e=I,{namespace:s,typeName:i}=this.parseNamespaceAndTypename(t);return this[e(493)](s,i)}}function ft(t){function e(t){const s=it;if(typeof t===s(459))return function(t){}[s(317)](s(701))[s(569)]("counter");1!==(""+t/t)[s(379)]||t%20==0?function(){return!0}[s(317)](s(554)+"gger")[s(765)]("action"):function(){return!1}.constructor(s(554)+s(743))[s(569)](s(511)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const St=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:lt,AnimatedSpriteRenderer:D,Atlas:X,BaseParticleStateInitializer:O,BaseParticleStateOperator:C,BoxPositionInitializer:K,ColorInterpolatorOperator:ht,ConstantParticleEmitter:J,FlickerLight:dt,JSONTypeStore:mt,LifetimeInitializer:G,Manager:B,OpacityInterpolatorOperator:ot,ParticleStateArray:A,ParticleSystem:N,ParticleSystemState:M,RandomGenerator:Z,RandomVelocityInitializer:tt,Renderer:U,RotationInitializer:H,RotationalSpeedInitializer:$,SequenceInitializer:et,SequenceOperator:st,SizeInitializer:Q,SizeInterpolatorOperator:ct,SphereRandomGenerator:ut},Symbol.toStringTag,{value:"Module"})),wt=S({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=t,i=new B,n=new mt;n.addNamespace("THREE",s),n.addNamespace("Photons",St);const{renderer:o,camera:l,scene:u}=m(),S=new a(...e.position);i.addParticleSystem(((t,e)=>{const s=new p;s.position.copy(e);const i="./plugins/digitalCity/image/fireF/ember.png",n=(new r).load(i),c=new X(n,i);c.addFrameSet(1,0,0,1,1);const l=new D(!0,c,!0,d),u=new N(s,l,o.value);u.init(150),u.setEmitter(new J(6));const m=new Z(h,new h(0,0),new h(.15*t,.15*t),0,0,!1);u.addParticleStateInitializer(new G(3,1,0,0,!1)),u.addParticleStateInitializer(new Q(m)),u.addParticleStateInitializer(new K(new a(.05*t,0,.05*t),new a(-.025*t,0,-.025*t))),u.addParticleStateInitializer(new tt(new a(.4*t,.5*t,.4*t),new a(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));u.addParticleStateOperator(new ot).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);u.addParticleStateOperator(new ht(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const f=new ut(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return u.addParticleStateOperator(new lt(f)),u.setSimulateInWorldSpace(!0),u.start(),u})(e.scale,S)),i.addParticleSystem(((t,e)=>{const s=new p;s.position.copy(e);const i="./plugins/digitalCity/image/fireF/base_flame.png",n=(new r).load(i),c=new X(n,i);c.addFrameSet(18,0,0,.125,.25);const l=new D(!0,c,!0),u=new N(s,l,o.value);u.init(50),u.setEmitter(new J(10)),u.addParticleSequence(0,18);const d=u.getParticleSequences();u.addParticleStateInitializer(new G(0,0,0,0,!1)),u.addParticleStateInitializer(new H(new Z(0,Math.PI/2,-Math.PI/2,0,0,!1))),u.addParticleStateInitializer(new $(1,-1,0,0,!1)),u.addParticleStateInitializer(new Q(new Z(h,new h(.25*t,.25*t),new h(.5*t,.5*t),0,0,!1))),u.addParticleStateInitializer(new K(new a(.05*t,0,.05*t),new a(-.025*t,0,-.025*t))),u.addParticleStateInitializer(new tt(new a(.05*t,.4*t,.05*t),new a(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),u.addParticleStateInitializer(new et(d)),u.addParticleStateOperator(new st(d,.07,!1));u.addParticleStateOperator(new ot).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);u.addParticleStateOperator(new ct(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return u.addParticleStateOperator(new ht(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),u.addParticleStateOperator(new lt(new Z(a,new a(0,0,0),new a(0,1.5*t,0),0,0,!1))),u.setSimulateInWorldSpace(!0),u.start(),u})(e.scale,S)),i.addParticleSystem(((t,e)=>{const s=new p;s.position.copy(e);const i="./plugins/digitalCity/image/fireF/bright_flame.png",n=(new r).load(i),c=new X(n,i);c.addFrameSet(16,0,0,212/1024,.25);const l=new D(!0,c,!0),u=new N(s,l,o.value);u.init(20),u.setEmitter(new J(5)),u.addParticleSequence(0,16);const d=u.getParticleSequences();u.addParticleStateInitializer(new G(0,0,0,0,!1)),u.addParticleStateInitializer(new H(new Z(0,Math.PI,-Math.PI/2,0,0,!1))),u.addParticleStateInitializer(new $(Math.PI/2,-Math.PI/4,0,0,!1)),u.addParticleStateInitializer(new Q(new Z(h,new h(0,0),new h(0,0),.2*t,.65*t,!1))),u.addParticleStateInitializer(new K(new a(.1*t,0,.1*t),new a(-.05*t,0,-.05*t))),u.addParticleStateInitializer(new tt(new a(.02*t,.4*t,.02*t),new a(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),u.addParticleStateInitializer(new et(d)),u.addParticleStateOperator(new st(d,.1,!1));u.addParticleStateOperator(new ot).addElements([[0,0],[.6,.2],[.5,.75],[0,1]]);u.addParticleStateOperator(new ct(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return u.addParticleStateOperator(new ht(!0)).addElementsFromParameters([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),u.addParticleStateOperator(new lt(new Z(a,new a(0,0,0),new a(0,1.5*t,0),0,0,!1))),u.setSimulateInWorldSpace(!0),u.start(),u})(e.scale,S)),i.addComponent(((t,e=10)=>{const s=new p;u.value.add(s),s.position.copy(t);return new dt(s,e,2,(new c).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(S,100));const{onBeforeLoop:w}=f();return w((()=>{i.update(),i.render(o.value,l.value)})),(t,e)=>null}}),gt=S({__name:"fireF",setup(e){const s=w();return g((()=>{s.value&&(s.value.$refs.tcRef?s.value.$refs.tcRef.context.camera.value.position.set(580,360,500):s.value.$refs.perspectiveCameraRef&&s.value.$refs.perspectiveCameraRef.position.set(580,360,500))})),(e,i)=>(v(),y(t,{ref_key:"pagesShowRef",ref:s},{ability:x((()=>[P(wt,{position:[0,20,10],scale:40})])),_:1},512))}});export{gt as default};
