import{_ as t,ai as n}from"./three.OosFxi571739442316051.js";import{D as o,o as e,f as i}from"./@tresjs.4XV_x0mI1739442316051.js";import{a as r,b as s}from"./index.MAqtmckJ1739442316051.js";import{P as u}from"./tweakpane.yDiyAAkA1739442316051.js";import{d as c,$ as a,w as p,o as l,H as f,a3 as m,u as g,r as d,f as h,g as v,N as I,j as S,al as w,m as y}from"./@vue.NRI7TcgI1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";import"./three-stdlib.5JCQavfA1739442316051.js";import"./@pmndrs.uSiemGA_1739442316051.js";import"./object-hash.cS-r0IEj1739442316051.js";import"./@amap.VoZ91NZx1739442316051.js";import"./jszip.KhsC7S4k1739442316051.js";const x=_;!function(t,n){const o=_,e=z();for(;;)try{if(381089===parseInt(o(400))/1+parseInt(o(395))/2+-parseInt(o(364))/3*(-parseInt(o(391))/4)+-parseInt(o(396))/5*(-parseInt(o(401))/6)+parseInt(o(379))/7+-parseInt(o(374))/8*(parseInt(o(370))/9)+-parseInt(o(368))/10*(parseInt(o(383))/11))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const b=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[_(394)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){b(this,(function(){const t=_,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=M(t(362));n[t(375)](e+t(376))&&o.test(e+"input")?M():e("0")}))()}();const R=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function _(t,n){const o=z();return(_=function(t,n){return o[t-=359]})(t,n)}R(void 0,(function(){const t=_;let n;try{n=Function(t(361)+t(363)+");")()}catch(i){n=window}const o=n.console=n.console||{},e=[t(387),"warn",t(388),t(390),"exception",t(366),t(369)];for(let r=0;r<e[t(371)];r++){const n=R[t(384)][t(378)][t(365)](R),i=e[r],s=o[i]||n;n[t(385)]=R.bind(R),n[t(359)]=s[t(359)][t(365)](s),o[i]=n}}))();const P=[x(392)],j=c({__name:x(399),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[x(397)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=t,o=a(n.uSnappingResolution);return n.srcMaterial.onBeforeCompile=t=>{const n=_;t[n(398)][n(367)]=o,t[n(402)]=t.vertexShader.replace(n(386),"\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t"),t[n(402)]=t[n(402)][n(393)](n(360),n(377))},p((()=>n.uSnappingResolution),(t=>{o.value=t})),(t,n)=>{const o=_;return l(),f("primitive",{object:t[o(373)]},null,8,P)}}});function M(t){function n(t){const o=_;if("string"==typeof t)return function(t){}[o(384)](o(372))[o(394)](o(380));1!==(""+t/t)[o(371)]||t%20==0?function(){return!0}[o(384)](o(382)+o(389))[o(381)]("action"):function(){return!1}[o(384)](o(382)+o(389))[o(394)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}function z(){const t=["__proto__","#include <common>","log","info","gger","error","5864DGRJmg","object","replace","apply","435350zHYIFE","3578390wsxFar","MeshStandardMaterial","uniforms","com","420447Relkns","6FINmpi","vertexShader","toString","#include <project_vertex>","return (function() ","init",'{}.constructor("return this")( )',"1389YJoQZT","bind","table","uSnappingResolution","7020FUzKwa","trace","108zxYOid","length","while (true) {}","srcMaterial","4344uKJjMw","test","chain","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","prototype","4991455UdqEef","counter","call","debu","36949SAXWph","constructor"];return(z=function(){return t})()}!function(t,n){const o=C,e=A();for(;;)try{if(127910===-parseInt(o(472))/1*(-parseInt(o(445))/2)+-parseInt(o(459))/3*(-parseInt(o(465))/4)+-parseInt(o(452))/5*(parseInt(o(484))/6)+parseInt(o(467))/7*(parseInt(o(462))/8)+parseInt(o(455))/9+parseInt(o(477))/10+parseInt(o(446))/11*(-parseInt(o(454))/12))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const E=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[C(450)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){E(this,(function(){const t=C,n=new RegExp(t(485)),o=new RegExp(t(456),"i"),e=k(t(460));n[t(463)](e+t(469))&&o[t(463)](e+t(474))?k():e("0")}))()}();const T=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[C(450)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function C(t,n){const o=A();return(C=function(t,n){return o[t-=445]})(t,n)}function A(){const t=["trace","135126bfXpzQ","function *\\( *\\)","replace","length","constructor","toString","2ClaVYW","11GqqqLq","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","onBeforeCompile",'{}.constructor("return this")( )',"apply","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","25FevUTM","vertexShader","7024116maCHkI","2294703ekjxrF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","debu","846CuComL","init","stateObject","89192QeoIHQ","test","log","2792LOLygS","warn","147KsZiTR","#include <common>","chain","call","__proto__","78649vENkKY","while (true) {}","input","console","error","612770lVOTFW","return (function() ","uSnappingResolution","bind","counter","#include <project_vertex>"];return(A=function(){return t})()}function k(t){function n(t){const o=C;if("string"==typeof t)return function(t){}[o(488)](o(473))[o(450)](o(481));1!==(""+t/t)[o(487)]||t%20==0?function(){return!0}.constructor(o(458)+"gger")[o(470)]("action"):function(){return!1}[o(488)](o(458)+"gger")[o(450)](o(461)),n(++t)}try{if(t)return n;n(0)}catch(o){}}T(void 0,(function(){const t=C;let n;try{n=Function(t(478)+t(449)+");")()}catch(i){n=window}const o=n[t(475)]=n[t(475)]||{},e=[t(464),t(466),"info",t(476),"exception","table",t(483)];for(let r=0;r<e[t(487)];r++){const n=T[t(488)][t(457)].bind(T),i=e[r],s=o[i]||n;n[t(471)]=T[t(480)](T),n[t(489)]=s[t(489)][t(480)](s),o[i]=n}}))();const N=L;!function(t,n){const o=L,e=Z();for(;;)try{if(161226===parseInt(o(381))/1+-parseInt(o(392))/2*(parseInt(o(358))/3)+-parseInt(o(380))/4*(-parseInt(o(359))/5)+parseInt(o(366))/6*(-parseInt(o(376))/7)+parseInt(o(373))/8+-parseInt(o(385))/9+-parseInt(o(389))/10*(-parseInt(o(357))/11))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const q=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[L(356)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){q(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=B(t(355));n[t(369)](e+"chain")&&o[t(369)](e+t(365))?B():e("0")}))()}();const G=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[L(356)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();G(void 0,(function(){const t=L;let n;try{n=Function(t(383)+'{}.constructor("return this")( ));')()}catch(i){n=window}const o=n[t(370)]=n[t(370)]||{},e=[t(362),t(354),t(388),"error","exception","table",t(374)];for(let r=0;r<e[t(379)];r++){const n=G[t(371)].prototype[t(391)](G),i=e[r],s=o[i]||n;n[t(394)]=G[t(391)](G),n.toString=s[t(368)][t(391)](s),o[i]=n}}))();const F=[N(367)];function L(t,n){const o=Z();return(L=function(t,n){return o[t-=352]})(t,n)}function Z(){const t=["7DowhJg","value","primitive","length","112036qbodfG","129183CYTLzh","gger","return (function() ","push","1206297LUCJWE","debu","counter","info","2440zkBfKV","forEach","bind","133534QwGJMG","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","__proto__","uSnappingResolution","values","warn","init","apply","143VhWMRR","3Elxqwg","35TDmbfY","stateObject","action","log","call","./draco/","input","193638qetmSb","object","toString","test","console","constructor","while (true) {}","527048qSBiLS","trace","string"];return(Z=function(){return t})()}const U=c({__name:"model",props:{uSnappingResolution:{default:6}},async setup(t){const n=N;let e,i;const r=t,{scene:s,materials:u}=([e,i]=m((()=>o(n(393),{draco:!0,decoderPath:n(364)}))),e=await e,i(),e),c=[];return Object[n(353)](u)[n(390)]((t=>{const o=n;c[o(384)](function(t,n=6){const o=C,e={value:n};return t[o(448)]=t=>{const n=o;t.uniforms[n(479)]=e,t.vertexShader=t.vertexShader[n(486)](n(468),n(447)),t[n(453)]=t[n(453)].replace(n(482),n(451))},e}(t,r[o(352)]))})),p((()=>r.uSnappingResolution),(t=>{const o=n;c[o(390)]((n=>{n[o(377)]=t}))})),(t,o)=>{const e=n;return l(),f(e(378),{object:g(s),scale:5,position:[0,-2,0]},null,8,F)}}});function B(t){function n(t){const o=L;if(typeof t===o(375))return function(t){}[o(371)](o(372))[o(356)](o(387));1!==(""+t/t).length||t%20==0?function(){return!0}[o(371)]("debu"+o(382))[o(363)](o(361)):function(){return!1}[o(371)](o(386)+"gger").apply(o(360)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const $=Y;function H(){const t=["string","2556134wWpULZ","2340806VjmUBE","rotation-x","addBinding","TresMeshStandardMaterial","bind","toString","exception","uSnappingResolution","function *\\( *\\)","circle","error","constructor","1266710tJNciM","input","counter","log","6CWiJnf","TresAmbientLight","3949760fMwmDy","modelSnappingResolution","prototype","chain","init","info","debu","TresPerspectiveCamera","action","圆环扭结-分辨率","29881256wGfHxk","vertexSnapping","自行车模型-分辨率","call","apply","cube","rotation-y","__proto__",'{}.constructor("return this")( )',"stateObject","6239712IYDwuq","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","warn","TresTorusKnotGeometry","test","length","1647705qPXCsj","gger","9NzjEeH","trace"];return(H=function(){return t})()}!function(t,n){const o=Y,e=H();for(;;)try{if(867763===parseInt(o(130))/1+parseInt(o(118))/2+-parseInt(o(164))/3+parseInt(o(156))/4+parseInt(o(136))/5+-parseInt(o(134))/6*(-parseInt(o(169))/7)+-parseInt(o(146))/8*(parseInt(o(166))/9))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const J=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[Y(150)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){J(this,(function(){const t=Y,n=new RegExp(t(126)),o=new RegExp(t(158),"i"),e=K(t(140));n[t(162)](e+t(139))&&o[t(162)](e+t(131))?K():e("0")}))()}();const O=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[Y(150)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Y(t,n){const o=H();return(Y=function(t,n){return o[t-=118]})(t,n)}O(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(159)+t(154)+");")()}catch(o){n=window}return n}(),o=n[t(157)]=n[t(157)]||{},e=[t(133),t(160),t(141),t(128),t(124),"table",t(167)];for(let i=0;i<e[t(163)];i++){const n=O.constructor[t(138)][t(122)](O),r=e[i],s=o[r]||n;n[t(153)]=O[t(122)](O),n[t(123)]=s[t(123)][t(122)](s),o[r]=n}}))();const D={position:[5,.9,-5],name:"torus"},W=c({__name:$(147),setup(t){const o=$,c=d({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=d({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(120)](a,"uSnappingResolution",{label:o(145),min:0,max:20,step:.01}),p[o(120)](a,o(137),{label:o(148),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(g(i),y(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(143),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(g(e)),n[2]||(n[2]=I(u(135),{intensity:.5},null,-1)),n[3]||(n[3]=I("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I("TresMesh",{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(151)},[I("TresCylinderGeometry",{args:[1.5,1.5,2]}),I(u(121),{color:16737826,roughness:0,metalness:0})],-1)),I("TresMesh",D,[n[0]||(n[0]=I(u(161),{args:[1,.35,100,32]},null,-1)),S(j,{uSnappingResolution:a[u(125)]},null,8,[u(125)])]),(l(),h(w,null,{default:v((()=>[S(U,{uSnappingResolution:a.modelSnappingResolution},null,8,[u(125)])])),_:1})),(l(),h(w,null,{default:v((()=>[S(g(r),{resolution:256,blur:1,background:""},{default:v((()=>[S(g(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(119)]),S(g(s),{intensity:2,form:u(127),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),S(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(152)]),S(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(152)])])),_:1})])),_:1}))])),_:1},16)}}});function K(t){function n(t){const o=Y;if(typeof t===o(168))return function(t){}[o(129)]("while (true) {}").apply(o(132));1!==(""+t/t).length||t%20==0?function(){return!0}[o(129)](o(142)+o(165))[o(149)](o(144)):function(){return!1}[o(129)](o(142)+"gger").apply(o(155)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{W as default};
