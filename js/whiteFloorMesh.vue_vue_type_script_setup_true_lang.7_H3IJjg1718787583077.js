import{a5 as t,bG as n,Z as o}from"./three.OZpCYxlY1718787583077.js";import{N as r}from"./@tresjs.yMGhEK7G1718787583077.js";import{d as e,b as c,a3 as s,w as a,o as u,D as i,J as f,aj as l,ak as p}from"./@vue.CpOXM7bB1718787583077.js";function h(t,n){const o=v();return(h=function(t,n){return o[t-=142]})(t,n)}!function(t,n){const o=h,r=v();for(;;)try{if(975902===-parseInt(o(174))/1+parseInt(o(150))/2+parseInt(o(158))/3+-parseInt(o(190))/4+parseInt(o(167))/5*(-parseInt(o(173))/6)+-parseInt(o(166))/7+parseInt(o(183))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[h(159)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=h,n=new RegExp(t(144)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_(t(146));n[t(151)](r+t(193))&&o.test(r+t(157))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[h(159)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=h,n=function(){const t=h;let n;try{n=Function("return (function() "+t(149)+");")()}catch(o){n=window}return n}(),o=n[t(189)]=n[t(189)]||{},r=[t(194),t(148),t(187),t(142),t(181),t(169),t(155)];for(let e=0;e<r[t(184)];e++){const n=g[t(152)][t(182)][t(147)](g),c=r[e],s=o[c]||n;n[t(156)]=g[t(147)](g),n.toString=s.toString[t(147)](s),o[c]=n}}))();const m=()=>{const o=h;return o(162)+t[o(178)][o(161)]+o(165)+t[o(178)][o(185)]+o(165)+t[o(178)][o(153)]+o(180)+n.beginnormal_vertex+"\n          "+t[o(178)][o(191)]+o(172)+n[o(176)]+o(172)+n[o(179)]+"\n          "+t[o(178)][o(160)]+o(172)+t[o(178)][o(168)]+o(170)};function v(){const t=["shadowmap_pars_fragment","info","action","console","3759524NaSzBd","defaultnormal_vertex","shadowmask_pars_fragment","chain","log","error","gger","function *\\( *\\)","\n\t ","init","bind","warn",'{}.constructor("return this")( )',"1562486nfoBwx","test","constructor","shadowmap_pars_vertex","while (true) {}","trace","__proto__","input","766338AWSRjI","apply","worldpos_vertex","common","\n       varying vec2 vUv;\n\t\t\t \t","lights_pars_begin","packing","\n      \t","13117979LIqTrZ","2242120csGYVV","shadowmap_vertex","table","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","call","\n          ","6FFAoIn","863253cTbdMl","debu","begin_vertex","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","ShaderChunk","project_vertex","\n       void main() {\n\t\t\t\t\t","exception","prototype","32518144uwmFhr","length","bsdfs"];return(v=function(){return t})()}const w=()=>{const n=h;return n(177)+t[n(178)].common+n(145)+t[n(178)][n(164)]+n(145)+t[n(178)][n(185)]+n(145)+t[n(178)][n(163)]+n(145)+t[n(178)][n(186)]+n(145)+t[n(178)][n(192)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function _(t){function n(t){const o=h;if("string"==typeof t)return function(t){}[o(152)](o(154))[o(159)]("counter");1!==(""+t/t)[o(184)]||t%20==0?function(){return!0}[o(152)](o(175)+o(143))[o(171)](o(188)):function(){return!1}.constructor(o(175)+o(143))[o(159)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=b;function b(t,n){const o=S();return(b=function(t,n){return o[t-=447]})(t,n)}!function(t,n){const o=b,r=S();for(;;)try{if(523558===-parseInt(o(477))/1+parseInt(o(492))/2+-parseInt(o(489))/3+parseInt(o(478))/4*(parseInt(o(495))/5)+-parseInt(o(460))/6+-parseInt(o(467))/7*(-parseInt(o(450))/8)+parseInt(o(468))/9*(parseInt(o(484))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[b(488)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(479),"i"),r=T("init");n[t(454)](r+t(456))&&o.test(r+t(473))?T():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[b(488)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(){const t=["tmRef","5832wrrsOE","TresShaderMaterial","uShadowColor","#999","test","size","chain","error","whiteFloorMesh","edge","761364hnrlNQ","string","#990","args","UniformsUtils","stateObject","toString","2653dESWJo","46656BWqeCf","uColor","value","merge","prototype","input","return (function() ","RepeatWrapping","color","1022309oKkxmu","3482708fVxorc","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","Color","rotation-x","TresMesh","750ikIhfU","log","console","table","apply","2360196kUMsRy","gger","while (true) {}","1847450GkTlwk","debu","lights","5EZgGrt","wrapT","TresPlaneGeometry","constructor","bind","uniforms","UniformsLib","shadowColor",'{}.constructor("return this")( )',"action","fEdge"];return(S=function(){return t})()}y(void 0,(function(){const t=b;let n;try{n=Function(t(474)+t(503)+");")()}catch(e){n=window}const o=n[t(486)]=n[t(486)]||{},r=[t(485),"warn","info",t(457),"exception",t(487),"trace"];for(let c=0;c<r[t(480)];c++){const n=y.constructor[t(472)].bind(y),e=r[c],s=o[e]||n;n.__proto__=y.bind(y),n[t(466)]=s[t(466)][t(499)](s),o[e]=n}}))();const C=[x(482)],k=[x(463)],j=e({__name:x(458),props:{size:{default:[20,20]},color:{default:x(462)},shadowColor:{default:x(453)},edge:{default:.35}},async setup(n){const e=x;let h,d;const g=n,v=c(),{map:_}=([h,d]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_.wrapS=_[e(496)]=t[e(475)];const b={uniforms:t[e(464)][e(471)]([t[e(501)][e(494)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(481)])(g.color)},uShadowColor:{value:new(t[e(481)])(g[e(502)])},fEdge:{type:"f",value:g[e(459)]}}]),side:o,vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return a((()=>g[e(459)]),(t=>{const n=e;b[n(500)][n(448)][n(470)]=t})),a((()=>g[e(476)]),(n=>{const o=e;b.uniforms[o(469)][o(470)]=new(t[o(481)])(g[o(476)])})),a((()=>g[e(502)]),(n=>{const o=e;b[o(500)][o(452)].value=new(t[o(481)])(g[o(502)])})),(t,n)=>{const o=e;return u(),i(o(483),{ref_key:o(449),ref:v,"rotation-x":-Math.PI/2},[f(o(497),{args:g[o(455)]},null,8,k),f(o(451),l(p(b)),null,16)],8,C)}}});function T(t){function n(t){const o=b;if(typeof t===o(461))return function(t){}.constructor(o(491))[o(488)]("counter");1!==(""+t/t)[o(480)]||t%20==0?function(){return!0}[o(498)](o(493)+o(490)).call(o(447)):function(){return!1}[o(498)]("debu"+o(490))[o(488)](o(465)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
