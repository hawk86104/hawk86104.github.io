import{$ as n,p as t,d as e,S as o,N as r}from"./@tresjs.tWkmYPO61721721076264.js";import{a6 as i,C as s,V as a,aN as c,A as l}from"./three.fnkrvySq1721721076264.js";import{P as u}from"./tweakpane.yHWGBmom1721721076264.js";import{L as f}from"./three-subdivide.kC8in5Na1721721076264.js";import{d as p,b as d,a1 as m,w as g,o as h,D as v,J as y,aj as b,ak as w,a4 as I,r as _,e as x,f as M,g as j,j as S,u as T,m as B}from"./@vue.Q1VpS3901721721076264.js";import"./@vueuse._hUvP73U1721721076264.js";const k=z;!function(n,t){const e=z,o=N();for(;;)try{if(831153===-parseInt(e(412))/1*(-parseInt(e(408))/2)+parseInt(e(434))/3+parseInt(e(422))/4*(-parseInt(e(421))/5)+-parseInt(e(411))/6+-parseInt(e(418))/7*(-parseInt(e(420))/8)+parseInt(e(405))/9*(-parseInt(e(397))/10)+parseInt(e(451))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){A(this,(function(){const n=z,t=new RegExp(n(435)),e=new RegExp(n(447),"i"),o=G(n(417));t.test(o+n(414))&&e[n(424)](o+n(453))?G():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(394)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function N(){const n=["log","color","849945xQODUm","function *\\( *\\)","toString","TresShaderMaterial","FrontSide","debu","#ffff00","glowColor","TresMesh","while (true) {}","return (function() ","position","blending","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","geometry","call","506055KmsmaA","info","input","gger","counter","apply","side","console","30pQnjvF","subdivision","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","modify","AdditiveBlending","copy","uniforms","clone","3426966fXdiXG","Color","value","1457254cjJznC","constructor","prototype","164958FwNlXH","1ylcqQm","string","chain","bind","subVectors","init","371JwMKdd","error","230696VjOWcu","25QBFpIx","468272NoMkVl","scale","test","table","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","srcMesh","trace","attributes",'{}.constructor("return this")( )',"length"];return(N=function(){return n})()}function z(n,t){const e=N();return(z=function(n,t){return e[n-=392]})(n,t)}C(void 0,(function(){const n=z;let t;try{t=Function(n(444)+n(430)+");")()}catch(r){t=window}const e=t.console=t[n(396)]||{},o=[n(432),"warn",n(452),n(419),"exception",n(425),n(428)];for(let i=0;i<o[n(431)];i++){const t=C[n(409)][n(410)].bind(C),r=o[i],s=e[r]||t;t.__proto__=C[n(415)](C),t[n(436)]=s.toString.bind(s),e[r]=t}}))();const F=[k(423)],V=p({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:k(440)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(438)]},blending:{default:i[k(401)]}},setup(e){const o=k,r=e,c=d(),l={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new s(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(399),fragmentShader:o(426),side:r[o(395)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(446)]};m((()=>{const n=o;if(r[n(427)]&&!c.value.geometry[n(429)].position){let t=r[n(427)][n(449)][n(404)]();r[n(398)]&&(t=f[n(400)](t,2)),c.value[n(449)]=t,c[n(407)][n(445)][n(402)](r[n(427)][n(445)])}r.color&&(l[n(403)][n(441)][n(407)]=new(i[n(406)])(r[n(433)])),r.c&&(l[n(403)].c[n(407)]=r.c),r.p&&(l[n(403)].p[n(407)]=r.p)})),g((()=>r.subdivision),(n=>{const t=o;let e=r[t(427)][t(449)][t(404)]();n&&(e=f[t(400)](e,2)),c.value[t(449)]=e})),g((()=>r[o(395)]),(n=>{const t=o;c[t(407)].material[t(395)]=n})),g((()=>r[o(446)]),(n=>{const t=o;c[t(407)].material[t(446)]=n}));const{onLoop:u}=n(),{camera:p}=t();return u((()=>{const n=o;p[n(407)]&&c[n(407)]&&(l[n(403)].viewVector[n(407)]=(new a)[n(416)](p.value[n(445)],c[n(407)][n(445)]))})),(n,t)=>{const e=o;return h(),v(e(442),{ref_key:"TSGref",ref:c,scale:r[e(423)]},[y(e(437),b(w(l)),null,16)],8,F)}}});function G(n){function t(n){const e=z;if(typeof n===e(413))return function(n){}[e(409)](e(443))[e(394)](e(393));1!==(""+n/n).length||n%20==0?function(){return!0}[e(409)](e(439)+e(392))[e(450)](e(448)):function(){return!1}[e(409)](e(439)+e(392)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=O;function O(n,t){const e=J();return(O=function(n,t){return e[n-=361]})(n,t)}!function(n,t){const e=O,o=J();for(;;)try{if(761108===-parseInt(e(409))/1+parseInt(e(404))/2*(-parseInt(e(378))/3)+-parseInt(e(388))/4*(parseInt(e(407))/5)+parseInt(e(400))/6*(parseInt(e(415))/7)+parseInt(e(376))/8+-parseInt(e(370))/9*(parseInt(e(377))/10)+parseInt(e(403))/11*(parseInt(e(393))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(394)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){X(this,(function(){const n=O,t=new RegExp(n(398)),e=new RegExp(n(396),"i"),o=W(n(380));t.test(o+n(413))&&e[n(420)](o+n(384))?W():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(394)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Z(void 0,(function(){const n=O;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(401)]=t.console||{},o=["log","warn",n(417),n(374),n(414),n(365),n(395)];for(let i=0;i<o[n(412)];i++){const t=Z[n(366)].prototype[n(410)](Z),r=o[i],s=e[r]||t;t[n(383)]=Z.bind(Z),t[n(367)]=s[n(367)].bind(s),e[r]=t}}))();const D=y("TresPerspectiveCamera",{position:[5,5,5]},null,-1),E=y(R(390),{intensity:1},null,-1),H=y(R(399),{args:[10,10]},null,-1),L=y(R(402),{args:[1,32,16]},null,-1),P=[R(406)],Q=[R(406)],$=[y(R(405),{args:[1,1,1,1,1]},null,-1),y(R(369),{color:R(387)},null,-1)];function J(){const n=["#0ff","4esjzQp","value","TresAmbientLight","counter","#00dfff","499212tpBneH","apply","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","DoubleSide","function *\\( *\\)","TresGridHelper","4296YevcZT","console","TresSphereGeometry","462CGPmHL","28104LOSTkY","TresBoxGeometry","map","1987505PXRXOk","边缘处理","438436yfvIkN","bind","debu","length","chain","exception","12761OpXAIG","string","info","TresMeshRefB","NormalBlending","test","TresMesh","gger","addBinding","blending","TresCanvas","table","constructor","toString","subdivision","TresMeshBasicMaterial","126GUjExX","FrontSide","srcMesh","logo.png","error","side","7169288iNfvWH","635870ZkDYrJ","312VFUtMq","shader","init","stateObject","AdditiveBlending","__proto__","input","color","TresMeshRefA"];return(J=function(){return n})()}const U=p({__name:R(379),async setup(n){const t=R;let s,a;const f={clearColor:"#222"},p=d(),m=d(),g=d(),v=([s,a]=I((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(373)]))),s=await s,a(),s),b=_({scale:1.6,color:t(392),subdivision:!0,c:1.1,p:1.4,side:i[t(371)],blending:c}),w=new u({title:"参数",expanded:!0});return w.addBinding(b,t(385),{label:"颜色"}),w[t(362)](b,"scale",{label:"大小",min:1,max:3,step:.2}),w.addBinding(b,t(368),{label:t(408)}),w[t(362)](b,"c",{label:"c",min:0,max:2,step:.1}),w[t(362)](b,"p",{label:"p",min:0,max:8,step:.2}),w[t(362)](b,t(375),{options:{FrontSide:i[t(371)],BackSide:l,DoubleSide:i[t(397)]}}),w[t(362)](b,t(363),{options:{AdditiveBlending:i[t(382)],NormalBlending:i[t(419)]}}),(n,r)=>{const i=t,s=x(i(364));return h(),M(s,B(f,{"window-size":""}),{default:j((()=>[D,E,S(T(e)),H,y(i(421),{ref_key:i(386),ref:p,position:[-2,1,0]},[L,y(i(369),{map:T(v)[0]},null,8,P)],512),S(V,B({srcMesh:p[i(389)]},b),null,16,[i(372)]),S(T(o),{ref_key:"TreBoxRef",ref:g,args:[1,1,1],position:[2,1,0]},{default:j((()=>[y(i(369),{map:T(v)[1]},null,8,Q)])),_:1},512),S(V,B({srcMesh:g[i(389)]&&g[i(389)][i(389)]},b),null,16,[i(372)]),y(i(421),{ref_key:i(418),ref:m,position:[0,1,-2]},$,512),S(V,B({srcMesh:m.value},b),null,16,[i(372)])])),_:1},16)}}});function W(n){function t(n){const e=O;if(typeof n===e(416))return function(n){}[e(366)]("while (true) {}")[e(394)](e(391));1!==(""+n/n)[e(412)]||n%20==0?function(){return!0}[e(366)](e(411)+e(361)).call("action"):function(){return!1}[e(366)](e(411)+"gger")[e(394)](e(381)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
