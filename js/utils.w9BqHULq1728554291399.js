import{a as t,B as n,s as e,b$ as r,C as o,k as s,a0 as i}from"./three.YiCjTDWq1728554291399.js";import{x as a}from"./@fesjs.GdZzFg1i1728554291399.js";import{z as c}from"./@tresjs.IlQvaTJ91728554291399.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.MFGQK1iS1728554291399.js";!function(t,n){const e=x,r=d();for(;;)try{if(205591===parseInt(e(361))/1*(-parseInt(e(383))/2)+-parseInt(e(345))/3*(parseInt(e(332))/4)+parseInt(e(366))/5*(-parseInt(e(327))/6)+-parseInt(e(378))/7*(parseInt(e(318))/8)+parseInt(e(338))/9*(parseInt(e(348))/10)+-parseInt(e(373))/11*(parseInt(e(322))/12)+parseInt(e(355))/13)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=x,n=new RegExp(t(367)),e=new RegExp(t(329),"i"),r=I(t(343));n[t(339)](r+t(389))&&e[t(339)](r+t(363))?I():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(357)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(317)+t(341)+");")()}catch(e){n=window}return n}(),e=n[t(362)]=n[t(362)]||{},r=[t(347),t(392),"info",t(364),t(333),t(374),t(351)];for(let o=0;o<r[t(384)];o++){const n=m[t(360)].prototype[t(368)](m),s=r[o],i=e[s]||n;n[t(337)]=m.bind(m),n.toString=i.toString[t(368)](i),e[s]=n}}))();const g=(n,e=!1)=>{const r=x;n[r(335)]();const{max:o,min:s}=n.boundingBox;n[r(320)]("uv");const i=o.x-s.x,a=o.y-s.y,c=[];for(let t=0;t<n[r(396)].position[r(323)];t++)e?(c.push((n[r(396)][r(334)][r(352)](t)-(s.x+o.x)/2)/i),c.push((n[r(396)][r(334)][r(380)](t)-(s.y+o.y)/2)/a)):(c[r(386)]((n.attributes[r(334)][r(352)](t)-s.x)/i),c[r(386)]((n[r(396)][r(334)][r(380)](t)-s.y)/a));const u=new Float32Array(c);n[r(381)]("uv",new t(u,2))},h=(t,n)=>new Promise(((e,r)=>{const o=x;a(t,{},{method:o(391),mergeRequest:!0})[o(349)]((t=>{const r=o;n&&e(t[n]),e(t[r(356)])})).catch((t=>{console[o(364)](t),r(t)}))}));function d(){const t=["22506iNacpb","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","#fff","8Etmptk","exception","position","computeBoundingBox","string","__proto__","2125701DYPSzk","test","applyMatrix4",'{}.constructor("return this")( )',"max","init","disposeBoundsTree","367179cpxolZ","set","log","10EDFGck","then","setY","trace","getX","side","negate","11839035KRQxaM","features","apply","gger","copy","constructor","11FXiGVY","console","input","error","getCenter","165BOjRAF","function *\\( *\\)","bind","boundingBox","geometry","transparent","value","11hUttHJ","table","prototype","divideScalar","debu","28HIzXVA","children","getY","setAttribute","forEach","40962tCviPj","length","depthWrite","push","while (true) {}","call","chain","clone","get","warn","expandByObject","random","computeBoundsTree","attributes","return (function() ","556208vhXCXv","getSize","deleteAttribute","action","831948qiLGWL","count","material","min","raycast"];return(d=function(){return t})()}function x(t,n){const e=d();return(x=function(t,n){return e[t-=317]})(t,n)}const y=t=>{const n=x,e=(new THREE.Box3).setFromObject(t),r=new THREE.Vector3;e.getCenter(r),t[n(379)][n(382)]((t=>{t[n(334)].sub(r)})),t[n(334)].copy(r[n(354)]())},w=()=>{const t=x;n[t(375)][t(395)]=u,n[t(375)][t(344)]=p,e[t(375)][t(326)]=f},b=async t=>{const n=x,e=await c(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),a=t[n(370)][n(390)]();g(a),a[n(395)]();const u=new r(a,{color:new o(n(331)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(371)]=!0,u[n(324)][n(385)]=!0,u[n(324)].depthTest=!0,u.material[n(353)]=i,u.material[n(328)].config[n(372)].w=20,u.material[n(328)].reflectivity[n(372)]=.46,u};function j(t){const n=x,e=[];for(let o=0;o<t.length;o++)e[n(386)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(384)];o++)r.add(e[o]);r[n(376)](e[n(384)]);for(let o=0;o<e[n(384)];o++)e[o].sub(r);return{points:e,centerPoint:r}}function I(t){function n(t){const e=x;if(typeof t===e(336))return function(t){}[e(360)](e(387))[e(357)](e(330));1!==(""+t/t)[e(384)]||t%20==0?function(){return!0}[e(360)](e(377)+e(358))[e(388)](e(321)):function(){return!1}[e(360)](e(377)+"gger")[e(357)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,w as i,h as l,g as r,b as s};
