import"./index.CJ5-9CVy1763540743861.js";import{i as o,a as e,k as i,l as s}from"./index.Crdf3MNx1763540743861.js";import{K as t,o as a}from"./@tresjs.BCHtwiaC1763540743861.js";import n from"./indexMeshUI.C-jmzJO-1763540743861.js";import{P as l}from"./tweakpane.CqZAnw7f1763540743861.js";import"./@fesjs.BEMFm_yJ1763540743861.js";import{s as r}from"./styleColorConfig.BKuEmde11763540743861.js";import{T as p}from"./mapShow.CkDnPwrf1763540743861.js";import m from"./vnyoonLoading.CAYy6iTO1763540743861.js";import{d,r as u,a as c,H as g,o as j,h as _,u as f,e as v,J as y,b as h,I as b,m as x,ad as C,F as B}from"./@vue.Co_gxueH1763540743861.js";import{bX as L,z as S}from"./three.rXKzP9fQ1763540743861.js";import{b as M}from"./vue-router.BxG8XxK11763540743861.js";import"./utils.DNqecIFo1763540743861.js";import"./_virtual-empty-module.CfyHAoLP1763540743861.js";/* empty css                                                                            *//* empty css                                                                                *//* empty css                                                                                   *//* empty css                                                                                   *//* empty css                                                                                     *//* empty css                                                                                 */import"./three-mesh-ui.module.BVA20N0s1763540743861.js";/* empty css                                                                             */import"./global.BBGVMLjY1763540743861.js";import"./color.Cjj5e0ZL1763540743861.js";import"./color-string.DEJ_oqf-1763540743861.js";import"./color-name.gyPnsvCn1763540743861.js";import"./lodash.CybtBilg1763540743861.js";import"./@amap.D8CfaEsq1763540743861.js";import"./naive-ui.qjPOP62h1763540743861.js";import"./date-fns.eh-WGDI81763540743861.js";import"./@css-render.DtSd-BuN1763540743861.js";import"./css-render.Dlx27V_T1763540743861.js";import"./@emotion.DFFAhID71763540743861.js";import"./seemly.D2hUckm91763540743861.js";import"./vooks.CVMU_ROE1763540743861.js";import"./evtd.C4K_ichY1763540743861.js";import"./vueuc.CEvnhvIm1763540743861.js";import"./vdirs.DlTVi7SG1763540743861.js";import"./@juggle.Vc7cP4_P1763540743861.js";import"./lodash-es.B7GkVYRo1763540743861.js";import"./treemate.Qc8YxXqZ1763540743861.js";import"./date-fns-tz.CIz1xaH61763540743861.js";import"./async-validator.DJtlKCAR1763540743861.js";/* empty css                                                              */import"./chalk.BHLFMujs1763540743861.js";/* empty css                                 */import"./iconify-icon.1JyQPtAK1763540743861.js";import"./@iconify.DDuAktjw1763540743861.js";import"./pinia.CEQ6XgE61763540743861.js";import"./vite-plugin-qiankun.B06WoCqG1763540743861.js";import"./dompurify.C4MEnGDh1763540743861.js";import"./oimophysics.CfVKSiAm1763540743861.js";import"./three-stdlib.DJsODJ8R1763540743861.js";import"./@pmndrs.C5SFDEDA1763540743861.js";import"./object-hash.DlZNhpf61763540743861.js";import"./crypto-js.CLP5yTup1763540743861.js";import"./@vueuse.CfFJ-iFV1763540743861.js";import"./@qlin.y-0Z8WnK1763540743861.js";import"./@babel.BPq7uOAK1763540743861.js";import"./@floating-ui.Bhq4ibgf1763540743861.js";import"./postprocessing.51l5tmA-1763540743861.js";import"./gsap.CY1N3EIL1763540743861.js";import"./provinceName.vue_vue_type_script_setup_true_lang.DstjK19R1763540743861.js";import"./d3-geo.dcKspw7k1763540743861.js";import"./utils.DhJ-cORL1763540743861.js";import"./three-mesh-bvh.BY-MaG5X1763540743861.js";const k=d({__name:"mapShowMeshUI",setup(d){const k=()=>{p()},I=u({clearColor:"#201919",alpha:!1,antialias:!0,outputColorSpace:S,toneMapping:L}),T=u({reflectivity:2.6,showGridHelper:!1,scale:3}),N=c(!0),P=c("#d8d8d8"),w=u({lineColor:"#ffffff",topColor:"#929292",sideColor:"#757575",iconColor:"#ffffff",fontColor:"#ffffff",fontSize:7.7,iconSize:.3,invertAlpha:!0,moveRoom:1.5,roughness:.3,metalness:.24,normalScale:.7,lineWidth:1}),z=new l;z.addBinding(N,"value",{label:"显示镜面"}),z.addBinding(P,"value",{label:"环境光颜色"}),z.addBinding(w,"lineColor",{label:"区域线颜色"}),z.addBinding(w,"topColor",{label:"区域块颜色"}),z.addBinding(w,"lineWidth",{label:"区域线宽度",min:.1,max:6,step:.1}),z.addBinding(w,"sideColor",{label:"区域边缘颜色"}),z.addBinding(w,"iconColor",{label:"图标颜色"}),z.addBinding(w,"iconSize",{label:"图标大小",min:.01,max:1,step:.01}),z.addBinding(w,"fontColor",{label:"字体颜色"}),z.addBinding(w,"fontSize",{label:"字体大小",min:1,max:12,step:.1}),z.addBinding(w,"invertAlpha",{label:"字体镂空"}),z.addBinding(w,"moveRoom",{label:"移动高度",min:1.1,max:3,step:.1}),z.addBinding(w,"roughness",{label:"粗糙程度",min:0,max:1,step:.01}),z.addBinding(w,"metalness",{label:"金属程度",min:0,max:1,step:.01}),z.addBinding(w,"normalScale",{label:"发向量缩放",min:.1,max:10,step:.1});const E=M(),D=E.query.adcode,G=E.query.center;let H="./plugins/simpleGIS/json/china.json",R=10,q=[104.113164,37.570667];return D&&"100000"!==D&&(H="./plugins/digitalMapBlock/geojson/"+D+".json",R=100),G&&"string"==typeof G&&(q=G.split(",").map(Number)),z.addBlade({view:"list",label:"颜色风格",options:[{text:"蓝色",value:"BLUE"},{text:"白色",value:"WHITE"},{text:"绿色",value:"GREEN"}],value:"WHITE"}),z.on("change",o=>{if("颜色风格"===o.target.label){const e=r[o.value];P.value=e.envColor,w.lineColor=e.lineColor,w.topColor=e.topColor,w.sideColor=e.sideColor,w.iconColor=e.iconColor,w.fontColor=e.fontColor,w.roughness=e.roughness,w.metalness=e.metalness,w.normalScale=e.normalScale,z.refresh()}}),o.loadResources([{functionName:"TextureLoader",url:"./plugins/digitalMapBlock/images/icon.png"},{functionName:"TextureLoader",url:"./plugins/digitalMapBlock/images/grayscaleMap.jpg"},{functionName:"TextureLoader",url:"./plugins/digitalMapBlock/images/topNormal.jpg"},{functionName:"TextureLoader",url:"./plugins/digitalMapBlock/images/side.png"},{functionName:"FileLoader",url:H,resourceID:"map.json"}]),(l,r)=>(j(),g(B,null,[_(f(m),{useResourceManager:""}),_(f(a),x(I,{"window-size":"",onLoop:k}),{default:v(()=>[r[0]||(r[0]=y("TresPerspectiveCamera",{position:[8,8,8],fov:45,near:.1,far:1e3},null,-1)),_(f(t),{enableDamping:""}),r[1]||(r[1]=y("TresDirectionalLight",{position:[-10,8,-4],intensity:5},null,-1)),r[2]||(r[2]=y("TresDirectionalLight",{position:[10,4,4],intensity:5},null,-1)),r[3]||(r[3]=y("TresDirectionalLight",{position:[6,4,-6],intensity:5},null,-1)),r[4]||(r[4]=y("TresAmbientLight",{intensity:1},null,-1)),f(o).hasAllFinished.value?(j(),h(n,x({key:0},w,{geoJsonUrl:f(H),areaScale:f(R),centerCoordinates:f(q)}),null,16,["geoJsonUrl","areaScale","centerCoordinates"])):b("",!0),(j(),h(C,null,{default:v(()=>[N.value?(j(),h(f(e),x({key:0,position:[0,-1,0]},T),null,16)):b("",!0)]),_:1})),(j(),h(C,null,{default:v(()=>[_(f(i),{resolution:256,blur:1,background:""},{default:v(()=>[_(f(s),{color:P.value,intensity:2,form:"circle","rotation-x":Math.PI/2,position:[10,4,0],scale:[2,5,0]},null,8,["color","rotation-x"]),_(f(s),{color:P.value,intensity:2,form:"circle","rotation-x":Math.PI/2,position:[0,4,0],scale:[2,5,0]},null,8,["color","rotation-x"]),_(f(s),{color:P.value,intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["color","rotation-y"]),_(f(s),{color:P.value,intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["color","rotation-y"])]),_:1})]),_:1}))]),_:1},16)],64))}});export{k as default};
