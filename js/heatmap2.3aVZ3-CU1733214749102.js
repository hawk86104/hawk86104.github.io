import{P as t}from"./tweakpane.yHWGBmom1733214749102.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.ydzjTfFV1733214749102.js";import{_ as r}from"./heatmap.js-fix.v0UqDVBt1733214749102.js";import{h as i,Y as c,bW as s,_ as u,s as a,m as p}from"./three.aWgA1gea1733214749102.js";import{r as f}from"./utils.Lq-nxkh31733214749102.js";import{d as l}from"./pinia.YZvRaeWc1733214749102.js";import{b as h,d,a3 as m,o as g,D as y,J as v,u as w,F as I,q as b,U as _,N as j,P as x,H as M,L as R,a6 as S,r as E,j as z,g as D,m as A}from"./@vue.-THQH3GC1733214749102.js";import{c as P,d as W,a as Z}from"./three-mesh-bvh.MzT5vGt_1733214749102.js";import{_ as U}from"./@fesjs.Of4PiCSw1733214749102.js";import"./@tresjs.lftldzUe1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";import"./three-custom-shader-material.uIcenEYv1733214749102.js";import"./@amap.ICsgtrgy1733214749102.js";import"./vue-demi.C4xddsk91733214749102.js";import"./vue-router.lCq72hq_1733214749102.js";import"./lodash-es.kYt-_xTG1733214749102.js";import"./@qlin.yHhFDldE1733214749102.js";import"./@floating-ui.BPbuo5Gx1733214749102.js";import"./@juggle.7yjBMqoW1733214749102.js";!function(t,n){const e=$,o=N();for(;;)try{if(598386===parseInt(e(366))/1+-parseInt(e(341))/2+parseInt(e(360))/3+-parseInt(e(324))/4*(-parseInt(e(337))/5)+parseInt(e(342))/6*(parseInt(e(335))/7)+-parseInt(e(332))/8+-parseInt(e(345))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(349)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(t,n){const e=N();return($=function(t,n){return e[t-=319]})(t,n)}!function(){O(this,(function(){const t=$,n=new RegExp(t(358)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=G(t(364));n[t(333)](o+t(351))&&e[t(333)](o+t(350))?G():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["push","appendChild","style","trace","4635480gHDRfj","test","warn","35fnAgqE","toString","130ctdffu","heatmap-canvas","while (true) {}","_config","4550bKvGwz","1215858WNhYod","getValueAt","randInt","18538443Yvijru","table","debu","absolute","apply","input","chain","info","call","length","create",'{}.constructor("return this")( )',"console","function *\\( *\\)","string","3412008hRRqYv","top","body","return (function() ","init","rgb(0,255,0)","494908zlIRVy","rgb(255,0,0)","left","createElement","position","bind","91456mKtWur","gger","error","constructor"];return(N=function(){return t})()}B(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(363)+t(356)+");")()}catch(e){n=window}return n}(),e=n[t(357)]=n.console||{},o=["log",t(334),t(352),t(326),"exception",t(346),t(331)];for(let r=0;r<o[t(354)];r++){const n=B[t(327)].prototype[t(323)](B),i=o[r],c=e[i]||n;n.__proto__=B[t(323)](B),n[t(336)]=c[t(336)][t(323)](c),e[i]=n}}))();const k=(t,n)=>t[$(343)](n)+-10;function G(t){function n(t){const e=$;if(typeof t===e(359))return function(t){}[e(327)](e(339)).apply("counter");1!==(""+t/t)[e(354)]||t%20==0?function(){return!0}[e(327)](e(347)+e(325))[e(353)]("action"):function(){return!1}[e(327)](e(347)+e(325))[e(349)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function K(t,n){const e=V();return(K=function(t,n){return e[t-=468]})(t,n)}function V(){const t=["5238594RWWrzM","687306iIPuMu","constructor","exception","prototype","test","input","table","4ThegPs","call","counter",'{}.constructor("return this")( )',"init","toString","length","__proto__","string","return (function() ","22732SnNzoh","apply","bind","action","70QUneyZ","stateObject","buildingsHeatmap","warn","6585404sJHhoz","11102238ytgqsU","console","2018255WNPMZm","value","function *\\( *\\)","error","gger","235976pOSlej"];return(V=function(){return t})()}const q=K;!function(t,n){const e=K,o=V();for(;;)try{if(709681===-parseInt(e(472))/1*(parseInt(e(468))/2)+-parseInt(e(486))/3+-parseInt(e(493))/4*(-parseInt(e(479))/5)+-parseInt(e(485))/6+parseInt(e(476))/7+parseInt(e(484))/8+parseInt(e(477))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(469)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=K,n=new RegExp(t(481)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Y(t(497));n[t(490)](o+"chain")&&e[t(490)](o+t(491))?Y():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();F(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(502)+t(496)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(478)]||{},o=["log",t(475),"info",t(482),t(488),t(492),"trace"];for(let r=0;r<o[t(499)];r++){const n=F[t(487)][t(489)][t(470)](F),i=o[r],c=e[i]||n;n[t(500)]=F[t(470)](F),n.toString=c[t(498)][t(470)](c),e[i]=n}}))();const T=l(q(474),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[K(480)]=n},setTemperature:function(t){n[K(480)]=t}}}));function Y(t){function n(t){const e=K;if(typeof t===e(501))return function(t){}[e(487)]("while (true) {}")[e(469)](e(495));1!==(""+t/t)[e(499)]||t%20==0?function(){return!0}.constructor("debu"+e(483))[e(494)](e(471)):function(){return!1}.constructor("debu"+e(483))[e(469)](e(473)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=X;!function(t,n){const e=X,o=ot();for(;;)try{if(949283===-parseInt(e(316))/1+-parseInt(e(270))/2+parseInt(e(320))/3*(parseInt(e(288))/4)+-parseInt(e(314))/5*(parseInt(e(330))/6)+-parseInt(e(285))/7+-parseInt(e(300))/8*(-parseInt(e(310))/9)+parseInt(e(276))/10*(parseInt(e(283))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=X,n=new RegExp(t(271)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=et(t(338));n.test(o+t(298))&&e[t(324)](o+t(325))?et():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(t,n){const e=ot();return(X=function(t,n){return e[t-=269]})(t,n)}Q(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(282)+t(331)+");")()}catch(e){n=window}return n}(),e=n[t(307)]=n[t(307)]||{},o=[t(337),"warn",t(269),t(328),t(284),"table","trace"];for(let r=0;r<o[t(311)];r++){const n=Q.constructor[t(336)][t(279)](Q),i=o[r],c=e[i]||n;n[t(296)]=Q[t(279)](Q),n.toString=c[t(281)][t(279)](c),e[i]=n}}))();const J=[H(329),H(323)],tt=[H(329)],nt=d({__name:H(319),props:{model:{},opacity:{default:1}},setup(t){const n=H;(()=>{const t=X;u[t(302)][t(336)][t(294)]=P,u[t(302)].prototype[t(287)]=W,u[t(291)].prototype[t(309)]=Z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=$,i=document[o(321)](o(338));return i[o(330)][o(322)]=o(348),!e&&(i[o(330)].display="none"),i[o(330)][o(361)]="0",i[o(330)][o(320)]="0",document[o(362)][o(329)](i),r[o(355)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(365),.85:"yellow",1:o(319)}})})();((t,n)=>{const e=$;if(!n){let o=0;for(n=[];o<1e3;)n[e(328)]({x:i[e(344)](1,t[e(340)].width),y:i.randInt(1,t[e(340)].height),value:i[e(344)](-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const l=new c(o[n(280)][n(275)]);l[n(333)]=!0;const h=e[n(306)][n(326)].clone();delete h.geometry[n(274)][n(290)],delete h.geometry[n(274)].uv;const d=h[n(301)][n(308)]().applyMatrix4(h[n(313)]),b=e.model.land.clone();delete b[n(301)][n(274)].normal;const _=b[n(301)][n(308)]()[n(293)](b[n(313)]),j=s[n(321)]([d,_]);j[n(293)]((new(u[n(304)])).makeRotationX(Math.PI/2)),f(j),j[n(294)]();const x=(t=>{const o=n;return new p({vertexShader:o(292),fragmentShader:o(272),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(295)]})})(l),M=new a(j,x);m((()=>{const t=n;e[t(318)]&&(x.uniforms.uOpacity.value=e[t(318)])}));const R=T(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(297)],y:(1-t.uv.y)*o[e(335)].height};console[e(337)]("数值：",t),console.log(e(327),k(o,n)),R[e(312)](k(o,n))}},E=t=>{t&&R[n(332)]({showDiv:!0})},z=t=>{t&&R[n(286)](!1)};return(t,o)=>{const r=n;return g(),y(I,null,[v(r(278),{object:w(M),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:E,onPointerLeave:z},null,40,J),v(r(278),{object:e.model.model[r(289)][0][r(308)]()},null,8,tt)],64)}}});function et(t){function n(t){const e=X;if(typeof t===e(315))return function(t){}.constructor(e(317))[e(334)](e(322));1!==(""+t/t)[e(311)]||t%20==0?function(){return!0}[e(299)](e(273)+e(303)).call(e(277)):function(){return!1}[e(299)](e(273)+e(303))[e(334)](e(305)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function ot(){const t=["29616UZInEV","geometry","BufferGeometry","gger","Matrix4","stateObject","model","console","clone","raycast","3573WMxCKe","length","setTemperature","matrix","5ztNCiF","string","1236089BVuGSs","while (true) {}","opacity","buildingsHeatmap","3708129CAgyKd","mergeGeometries","counter","rotation-x","test","input","city","数值———：","error","object","9175422OEfabu",'{}.constructor("return this")( )',"$patch","needsUpdate","apply","_config","prototype","log","init","info","165120fWknKB","function *\\( *\\)","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","debu","attributes","canvas","12064750DRNnIV","action","primitive","bind","_renderer","toString","return (function() ","22pNjMRz","exception","9250626jACWeQ","setShowDiv","disposeBoundsTree","4inrGMx","children","normal","Mesh","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","applyMatrix4","computeBoundsTree","DoubleSide","__proto__","width","chain","constructor"];return(ot=function(){return t})()}const rt=U({__name:"dataDiv",setup(t){const n=T(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),y("div",{class:"title",style:R(e.value)},"温度："+M(w(n).temperature)+"℃ ",5)),[[x,w(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=ut,o=st();for(;;)try{if(700777===-parseInt(e(248))/1+-parseInt(e(253))/2+-parseInt(e(262))/3+parseInt(e(271))/4*(parseInt(e(255))/5)+parseInt(e(259))/6*(-parseInt(e(266))/7)+-parseInt(e(278))/8*(-parseInt(e(260))/9)+parseInt(e(286))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=ut,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(274),"i"),o=pt(t(254));n[t(264)](o+t(258))&&e[t(264)](o+t(276))?pt():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(275)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(){const t=["call","stateObject","error","prototype","opacity","bind","exception","781118ZYNVtp","value","gger","return (function() ","city","251816UeQBiU","init","3607505wEbMCy","warn","trace","chain","39522pohnGK","57636QITPnL","addBinding","1242783DNKhvn","constructor","test","#000","266KxpvrW","length","counter","string","while (true) {}","4fXesqj","__proto__","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","input","action","800fSkejB","console","toString","debu","log","model","透明度",'{}.constructor("return this")( )',"9104690GhggRW"];return(st=function(){return t})()}function ut(t,n){const e=st();return(ut=function(t,n){return e[t-=244]})(t,n)}ct(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(251)+t(285)+");")()}catch(e){n=window}return n}(),e=n[t(279)]=n.console||{},o=[t(282),t(256),t(273),t(289),t(247),"table",t(257)];for(let r=0;r<o[t(267)];r++){const n=ct[t(263)][t(244)][t(246)](ct),i=o[r],c=e[i]||n;n[t(272)]=ct[t(246)](ct),n[t(280)]=c.toString[t(246)](c),e[i]=n}}))();const at=d({__name:"heatmap2",async setup(r){const i=ut;let c,s;const u=h(!1),a=([c,s]=S((()=>o())),c=await c,s(),c);u[i(249)]=!0;const p=E({width:1,color:i(265),opacity:1,show:!0}),f=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(261)](f,i(245),{label:i(284),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(I,null,[z(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[z(nt,A({model:w(a)},f),null,16,[r(283)]),z(n,A(p,{builds:w(a)[r(252)]}),null,16,["builds"])])),_:1}),z(rt)],64)}}});function pt(t){function n(t){const e=ut;if(typeof t===e(269))return function(t){}[e(263)](e(270))[e(275)](e(268));1!==(""+t/t)[e(267)]||t%20==0?function(){return!0}[e(263)](e(281)+e(250))[e(287)](e(277)):function(){return!1}.constructor(e(281)+e(250))[e(275)](e(288)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
