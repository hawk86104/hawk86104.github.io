import{$ as n,p as t,d as e,S as o,N as r}from"./@tresjs.iXEJQd7J1721298764655.js";import{a6 as i,x as s,A as a,aN as c}from"./three.0bBjBDi41721298764655.js";import{P as u}from"./tweakpane.yHWGBmom1721298764655.js";import{L as l}from"./three-subdivide.fL7By-gi1721298764655.js";import{d as f,b as p,a1 as d,w as g,o as m,D as h,J as v,aj as y,ak as w,a4 as b,r as _,e as x,f as I,g as T,j as S,u as j,m as C}from"./@vue.Q1VpS3901721298764655.js";import"./@vueuse.hS-CVzal1721298764655.js";const M=F;!function(n,t){const e=F,o=A();for(;;)try{if(503544===parseInt(e(161))/1+-parseInt(e(149))/2*(parseInt(e(163))/3)+-parseInt(e(143))/4+parseInt(e(147))/5+parseInt(e(162))/6+parseInt(e(114))/7+-parseInt(e(148))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(125)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(){const n=["Color","AdditiveBlending","length","uniforms","while (true) {}","#ffff00","scale","938281dCEjFg","3986850SHxotM","183ZXBHPL","return (function() ","color","call","copy","trace","modify","init","viewVector","action","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","FrontSide","console","glowColor","1567034GBmZCH","warn","chain",'{}.constructor("return this")( )',"subVectors","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","prototype","subdivision","srcMesh","material","counter","apply","info","position","bind","constructor","debu","stateObject","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","toString","string","side","attributes","gger","geometry","Vector3","blending","exception","table","2673736sWKvEC","__proto__","error","value","3120475TAUrrL","9421264pCKoDt","3314qwSKos","shineShader","function *\\( *\\)","clone","TresShaderMaterial"];return(A=function(){return n})()}!function(){B(this,(function(){const n=F,t=new RegExp(n(151)),e=new RegExp(n(174),"i"),o=N(n(170));t.test(o+n(116))&&e.test(o+"input")?N():o("0")}))()}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(125)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();k(void 0,(function(){const n=F,t=function(){const n=F;let t;try{t=Function(n(164)+n(117)+");")()}catch(e){t=window}return t}(),e=t[n(112)]=t[n(112)]||{},o=[n(173),n(115),n(126),n(145),n(141),n(142),n(168)];for(let r=0;r<o[n(156)];r++){const t=k.constructor[n(120)][n(128)](k),i=o[r],s=e[i]||t;t[n(144)]=k[n(128)](k),t[n(133)]=s[n(133)][n(128)](s),e[i]=t}}))();const z=[M(160)],V=f({__name:M(150),props:{srcMesh:{},scale:{default:1.2},color:{default:M(159)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[M(111)]},blending:{default:i[M(155)]}},setup(e){const o=M,r=e,s=p(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(154)])(r[o(165)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(119),fragmentShader:o(132),side:r[o(135)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(140)]};d((()=>{const n=o;if(r[n(122)]&&!s.value[n(138)][n(136)].position){let t=r[n(122)][n(138)][n(152)]();r[n(121)]&&(t=l[n(169)](t,2)),s.value.geometry=t,s.value[n(127)][n(167)](r[n(122)].position)}r[n(165)]&&(a[n(157)][n(113)][n(146)]=new(i[n(154)])(r[n(165)])),r.c&&(a[n(157)].c[n(146)]=r.c),r.p&&(a.uniforms.p[n(146)]=r.p)})),g((()=>r[o(121)]),(n=>{const t=o;let e=r[t(122)][t(138)][t(152)]();n&&(e=l[t(169)](e,2)),s.value[t(138)]=e})),g((()=>r[o(135)]),(n=>{const t=o;s[t(146)][t(123)][t(135)]=n})),g((()=>r[o(140)]),(n=>{const t=o;s[t(146)][t(123)][t(140)]=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=o;u[n(146)]&&s[n(146)]&&(a.uniforms[n(171)][n(146)]=(new(i[n(139)]))[n(118)](u[n(146)].position,s[n(146)].position))})),(n,t)=>{const e=o;return m(),h("TresMesh",{ref_key:"TSGref",ref:s,scale:r[e(160)]},[v(e(153),y(w(a)),null,16)],8,z)}}});function F(n,t){const e=A();return(F=function(n,t){return e[n-=111]})(n,t)}function N(n){function t(n){const e=F;if(typeof n===e(134))return function(n){}[e(129)](e(158))[e(125)](e(124));1!==(""+n/n).length||n%20==0?function(){return!0}[e(129)](e(130)+"gger")[e(166)](e(172)):function(){return!1}[e(129)]("debu"+e(137)).apply(e(131)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=Z;!function(n,t){const e=Z,o=L();for(;;)try{if(191882===parseInt(e(168))/1*(parseInt(e(149))/2)+-parseInt(e(150))/3*(parseInt(e(169))/4)+parseInt(e(166))/5+parseInt(e(154))/6*(-parseInt(e(190))/7)+parseInt(e(178))/8*(parseInt(e(175))/9)+parseInt(e(182))/10+parseInt(e(158))/11*(-parseInt(e(151))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(160)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){D(this,(function(){const n=Z,t=new RegExp(n(140)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=O(n(161));t.test(o+"chain")&&e[n(148)](o+n(176))?O():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Z(n,t){const e=L();return(Z=function(n,t){return e[n-=136]})(n,t)}function L(){const n=["addBinding","35rVBzXg","AdditiveBlending","toString","length","TresMeshRefB","string","#222","warn","function *\\( *\\)","value","DoubleSide","map","gger","debu","TresCanvas","bind","test","2122FdghEl","105ZVvClf","558084CgTsIT","side","TresMeshBasicMaterial","265944PXmmKF","TreBoxRef","console","return (function() ","11gDLzuC","TresMesh","apply","init","TresGridHelper",'{}.constructor("return this")( )',"subdivision","call","1892765wqCsAs","NormalBlending","2iIQtCD","15140wYPtuQ","scale","prototype","logo.png","#0ff","srcMesh","117xusjqR","input","constructor","5704jVuTJK","log","TresSphereGeometry","FrontSide","2025400ciDUTj","action","shader","边缘处理","color","#00dfff","TresPerspectiveCamera"];return(L=function(){return n})()}E(void 0,(function(){const n=Z;let t;try{t=Function(n(157)+n(163)+");")()}catch(r){t=window}const e=t.console=t[n(156)]||{},o=[n(179),n(139),"info","error","exception","table","trace"];for(let i=0;i<o[n(193)];i++){const t=E[n(177)][n(171)][n(147)](E),r=o[i],s=e[r]||t;t.__proto__=E[n(147)](E),t[n(192)]=s.toString[n(147)](s),e[r]=t}}))();const P=v(R(188),{position:[5,5,5]},null,-1),G=v("TresAmbientLight",{intensity:1},null,-1),K=v(R(162),{args:[10,10]},null,-1),$=v(R(180),{args:[1,32,16]},null,-1),H=[R(143)],q=["map"],X=[v("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),v(R(153),{color:R(173)},null,-1)],J=f({__name:R(184),async setup(n){const t=R;let l,f;const d={clearColor:t(138)},g=p(),h=p(),y=p(),w=([l,f]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(172)]))),l=await l,f(),l),M=_({scale:1.6,color:t(187),subdivision:!0,c:1.1,p:1.4,side:i[t(181)],blending:i[t(191)]}),B=new u({title:"参数",expanded:!0});return B[t(189)](M,t(186),{label:"颜色"}),B[t(189)](M,t(170),{label:"大小",min:1,max:3,step:.2}),B[t(189)](M,t(164),{label:t(185)}),B[t(189)](M,"c",{label:"c",min:0,max:2,step:.1}),B[t(189)](M,"p",{label:"p",min:0,max:8,step:.2}),B.addBinding(M,t(152),{options:{FrontSide:s,BackSide:a,DoubleSide:i[t(142)]}}),B.addBinding(M,"blending",{options:{AdditiveBlending:c,NormalBlending:i[t(167)]}}),(n,r)=>{const i=t,s=x(i(146));return m(),I(s,C(d,{"window-size":""}),{default:T((()=>[P,G,S(j(e)),K,v(i(159),{ref_key:"TresMeshRefA",ref:g,position:[-2,1,0]},[$,v(i(153),{map:j(w)[0]},null,8,H)],512),S(V,C({srcMesh:g[i(141)]},M),null,16,[i(174)]),S(j(o),{ref_key:i(155),ref:y,args:[1,1,1],position:[2,1,0]},{default:T((()=>[v(i(153),{map:j(w)[1]},null,8,q)])),_:1},512),S(V,C({srcMesh:y[i(141)]&&y[i(141)][i(141)]},M),null,16,[i(174)]),v(i(159),{ref_key:i(136),ref:h,position:[0,1,-2]},X,512),S(V,C({srcMesh:h[i(141)]},M),null,16,[i(174)])])),_:1},16)}}});function O(n){function t(n){const e=Z;if(typeof n===e(137))return function(n){}[e(177)]("while (true) {}")[e(160)]("counter");1!==(""+n/n)[e(193)]||n%20==0?function(){return!0}[e(177)](e(145)+e(144))[e(165)](e(183)):function(){return!1}.constructor("debu"+e(144)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{J as default};
