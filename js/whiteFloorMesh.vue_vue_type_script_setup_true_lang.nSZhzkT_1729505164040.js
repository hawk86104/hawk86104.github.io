import{bT as t,_ as n,U as o,au as r,C as e}from"./three.YREzp-_G1729505164040.js";import{z as a}from"./@tresjs.IsKybBdF1729505164040.js";import{d as c,b as s,a4 as u,w as i,o as f,E as l,L as p,aj as d,ak as h}from"./@vue.JNsx1iN61729505164040.js";!function(t,n){const o=v,r=w();for(;;)try{if(284433===-parseInt(o(391))/1+-parseInt(o(383))/2+parseInt(o(365))/3+-parseInt(o(360))/4+-parseInt(o(395))/5+-parseInt(o(398))/6*(-parseInt(o(401))/7)+parseInt(o(392))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(402)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(t,n){const o=w();return(v=function(t,n){return o[t-=356]})(t,n)}!function(){g(this,(function(){const t=v,n=new RegExp(t(376)),o=new RegExp(t(371),"i"),r=b(t(387));n[t(370)](r+"chain")&&o.test(r+"input")?b():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(402)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function w(){const t=["ShaderChunk","worldpos_vertex","action","function *\\( *\\)","__proto__","return (function() ","table","prototype","\n\t ","log","392156unvzrd","error","info",'{}.constructor("return this")( )',"init","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","warn","debu","356298xVFTKm","7940352NYVczj","bsdfs","\n       void main() {\n\t\t\t\t\t","197845MxyLHb","beginnormal_vertex","\n          ","68580IdEanh","gger","while (true) {}","77ufSIcw","apply","lights_pars_begin","string","constructor","stateObject","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","1563836oxZOWc","shadowmap_pars_vertex","common","\n      \t","length","447189OYnuCK","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","shadowmap_vertex","bind","begin_vertex","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defaultnormal_vertex"];return(w=function(){return t})()}m(void 0,(function(){const t=v;let n;try{n=Function(t(378)+t(386)+");")()}catch(e){n=window}const o=n.console=n.console||{},r=[t(382),t(389),t(385),t(384),"exception",t(379),"trace"];for(let a=0;a<r[t(364)];a++){const n=m.constructor[t(380)][t(368)](m),e=r[a],c=o[e]||n;n[t(377)]=m[t(368)](m),n.toString=c.toString[t(368)](c),o[e]=n}}))();const _=()=>{const o=v;return"\n       varying vec2 vUv;\n\t\t\t \t"+t.common+o(363)+n[o(373)].bsdfs+o(363)+t[o(361)]+o(394)+n[o(373)][o(396)]+"\n          "+n[o(373)][o(372)]+o(397)+n[o(373)][o(369)]+o(397)+n[o(373)].project_vertex+o(397)+n[o(373)][o(374)]+o(397)+n[o(373)][o(367)]+o(359)},x=()=>{const o=v;return o(388)+n[o(373)][o(362)]+o(381)+n[o(373)].packing+o(381)+t[o(393)]+o(381)+n[o(373)][o(403)]+o(381)+n[o(373)].shadowmap_pars_fragment+o(381)+t.shadowmask_pars_fragment+o(366)};function b(t){function n(t){const o=v;if(typeof t===o(356))return function(t){}.constructor(o(400))[o(402)]("counter");1!==(""+t/t)[o(364)]||t%20==0?function(){return!0}.constructor(o(390)+o(399)).call(o(375)):function(){return!1}[o(357)]("debu"+o(399))[o(402)](o(358)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const y=T;!function(t,n){const o=T,r=C();for(;;)try{if(342029===-parseInt(o(482))/1+-parseInt(o(473))/2*(-parseInt(o(492))/3)+-parseInt(o(513))/4+parseInt(o(484))/5+-parseInt(o(503))/6*(parseInt(o(471))/7)+parseInt(o(472))/8*(parseInt(o(470))/9)+-parseInt(o(468))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[T(495)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(480),"i"),r=M(t(493));n[t(486)](r+t(485))&&o[t(486)](r+t(508))?M():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[T(495)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function C(){const t=["color","gger","action","warn","error","args","wrapT","fEdge","tmRef","3597490yrmWuz","size","74574KBHgNu","47929RvbTfc","632VvwGFy","2SJaFrq","stateObject","debu","#999","bind","uniforms","Color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","401097jiROja","merge","2150025vRvfvE","chain","test",'{}.constructor("return this")( )',"toString","constructor","uShadowColor","log","1721298PcgqEn","init","call","apply","TresMesh","console","DoubleSide","lights","uColor","rotation-x","while (true) {}","6SXoMrL","wrapS","trace","__proto__","TresPlaneGeometry","input","info","edge","table","RepeatWrapping","2194572XdpRth","length","#990"];return(C=function(){return t})()}S(void 0,(function(){const t=T;let n;try{n=Function("return (function() "+t(487)+");")()}catch(e){n=window}const o=n[t(497)]=n[t(497)]||{},r=[t(491),t(519),t(509),t(520),"exception",t(511),t(505)];for(let a=0;a<r[t(514)];a++){const n=S[t(489)].prototype.bind(S),e=r[a],c=o[e]||n;n[t(506)]=S[t(477)](S),n[t(488)]=c[t(488)].bind(c),o[e]=n}}))();const j=[y(501)],E=[y(521)];function T(t,n){const o=C();return(T=function(t,n){return o[t-=465]})(t,n)}const z=c({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:y(515)},shadowColor:{default:y(476)},edge:{default:.35}},async setup(t){const c=y;let g,v;const m=t,w=s(),{map:b}=([g,v]=u((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,v(),g);b[c(504)]=b[c(465)]=n[c(512)];const I={uniforms:o[c(483)]([r[c(499)],{uTexture:{type:"t",value:b},uColor:{value:new e(m[c(516)])},uShadowColor:{value:new(n[c(479)])(m.shadowColor)},fEdge:{type:"f",value:m.edge}}]),side:n[c(498)],vertexShader:_(),fragmentShader:x(),lights:!0,transparent:!0};return i((()=>m[c(510)]),(t=>{const n=c;I.uniforms[n(466)].value=t})),i((()=>m[c(516)]),(t=>{const n=c;I[n(478)][n(500)].value=new e(m[n(516)])})),i((()=>m.shadowColor),(t=>{const o=c;I.uniforms[o(490)].value=new(n[o(479)])(m.shadowColor)})),(t,n)=>{const o=c;return f(),l(o(496),{ref_key:o(467),ref:w,"rotation-x":-Math.PI/2},[p(o(507),{args:m[o(469)]},null,8,E),p("TresShaderMaterial",d(h(I)),null,16)],8,j)}}});function M(t){function n(t){const o=T;if(typeof t===o(481))return function(t){}[o(489)](o(502))[o(495)]("counter");1!==(""+t/t)[o(514)]||t%20==0?function(){return!0}[o(489)](o(475)+o(517))[o(494)](o(518)):function(){return!1}[o(489)](o(475)+"gger")[o(495)](o(474)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{z as _};
