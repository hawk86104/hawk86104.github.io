var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.qhLZsG4K1729505164040.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.bA7-CfYy1729505164040.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.R4Lrg7og1729505164040.js";import{k as o,U as s,C as l,m as c,W as p,bb as u,h as f,_ as x,A as v,Q as m,at as w}from"./three.YREzp-_G1729505164040.js";import{p as h,U as g}from"./@tresjs.IsKybBdF1729505164040.js";import{u as d}from"./index.cGXPpcAx1729505164040.js";import{F as y,C as S}from"./three-stdlib.pC02qkfn1729505164040.js";import{d as _}from"./@vue.JNsx1iN61729505164040.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.nSZhzkT_1729505164040.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.yNZPcYG21729505164040.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.QI--_JqW1729505164040.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.wdDMnkS01729505164040.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.TSCENKu61729505164040.js";function P(t,e){const n=E();return(P=function(t,e){return n[t-=118]})(t,e)}const z=P;!function(t,e){const n=P,i=E();for(;;)try{if(908057===parseInt(n(123))/1*(-parseInt(n(120))/2)+-parseInt(n(126))/3*(parseInt(n(122))/4)+-parseInt(n(127))/5*(parseInt(n(140))/6)+parseInt(n(143))/7+-parseInt(n(150))/8+parseInt(n(121))/9*(-parseInt(n(151))/10)+parseInt(n(137))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[P(119)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){b(this,(function(){const t=P,e=new RegExp(t(132)),n=new RegExp(t(149),"i"),i=A("init");e[t(135)](i+t(118))&&n[t(135)](i+"input")?A():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function E(){const t=["64376972TjVWEb","length","trace","618MHddGg","bind","debu","665945AdPkyR","console","log","while (true) {}","exception","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","12028344kjJsdy","10902980TjLlac","constructor","call","error","chain","apply","36906lcWDKT","9yXySrk","1341904UntpVK","29zvGFJr","string","prototype","3JcdQkN","76460ijvywz",'{}.constructor("return this")( )',"info","toString",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"function *\\( *\\)","stateObject","return (function() ","test","warn"];return(E=function(){return t})()}I(void 0,(function(){const t=P;let e;try{e=Function(t(134)+t(128)+");")()}catch(r){e=window}const n=e[t(144)]=e[t(144)]||{},i=[t(145),t(136),t(129),t(154),t(147),"table",t(139)];for(let a=0;a<i[t(138)];a++){const e=I.constructor[t(125)][t(141)](I),r=i[a],o=n[r]||e;e.__proto__=I[t(141)](I),e[t(130)]=o.toString[t(141)](o),n[r]=e}}))();const M=z(131);function A(t){function e(t){const n=P;if(typeof t===n(124))return function(t){}[n(152)](n(146))[n(119)](n(148));1!==(""+t/t)[n(138)]||t%20==0?function(){return!0}[n(152)](n(142)+"gger")[n(153)]("action"):function(){return!1}[n(152)]("debugger")[n(119)](n(133)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=j;function D(){const t=["92709Nmgmnf","bind","chain","table","test","uniforms","action","apply","2092405Lycqsb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defines","input","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","1402260JSfdCZ","length","debu","info","toString","error","gger","string","console","12920809MJdGSu","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","prototype","constructor","3xWprVP","30HJZaJs","warn","__proto__","1048LOwCnZ","6xrmAcr","3790816SYSZCe","10588095xNeRnM","call","2665594urZOxb","exception","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","while (true) {}"];return(D=function(){return t})()}!function(t,e){const n=j,i=D();for(;;)try{if(773807===parseInt(n(301))/1+-parseInt(n(284))/2*(parseInt(n(314))/3)+parseInt(n(281))/4+parseInt(n(296))/5+-parseInt(n(280))/6*(-parseInt(n(282))/7)+parseInt(n(279))/8*(parseInt(n(288))/9)+parseInt(n(315))/10*(-parseInt(n(310))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[j(295)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){U(this,(function(){const t=j,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(297),"i"),i=C("init");e[t(292)](i+t(290))&&n[t(292)](i+t(299))?C():i("0")}))()}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function T(t){const e=j,n=a({},t);return e(298)in t&&(n.defines=a({},t[e(298)])),e(293)in t&&(n[e(293)]=s.clone(t[e(293)])),n}function j(t,e){const n=D();return(j=function(t,e){return n[t-=279]})(t,e)}O(void 0,(function(){const t=j;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(309)]=e[t(309)]||{},i=["log",t(316),t(304),t(306),t(285),t(291),"trace"];for(let a=0;a<i[t(302)];a++){const e=O.constructor[t(312)][t(289)](O),r=i[a],o=n[r]||e;e[t(317)]=O[t(289)](O),e[t(305)]=o.toString[t(289)](o),n[r]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:L(286),fragmentShader:L(300)+M+L(311)};function C(t){function e(t){const n=j;if(typeof t===n(308))return function(t){}[n(313)](n(287)).apply("counter");1!==(""+t/t)[n(302)]||t%20==0?function(){return!0}[n(313)](n(303)+n(307))[n(283)](n(294)):function(){return!1}[n(313)](n(303)+"gger")[n(295)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=N;!function(t,e){const n=N,i=W();for(;;)try{if(737266===parseInt(n(364))/1+-parseInt(n(304))/2+-parseInt(n(351))/3+parseInt(n(358))/4*(parseInt(n(318))/5)+-parseInt(n(309))/6*(-parseInt(n(329))/7)+-parseInt(n(323))/8+parseInt(n(349))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(t,e){const n=W();return(N=function(t,e){return n[t-=291]})(t,e)}!function(){R(this,(function(){const t=N,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(292),"i"),i=Z(t(354));e[t(352)](i+t(340))&&n[t(352)](i+"input")?Z():i("0")}))()}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function W(){const t=["set","forEach","382490plMILq","length","debu","floor","Y_IS_EVEN","1611318CdZfyN","value","magFilter","constructor","_mipQuad","texture","floorPowerOfTwo","parentLevel","__proto__","5eOqJOi","setRenderTarget","copy","setClearColor","height","11082336HScCgD","_swapTarget","trace","map","isWebGLRenderTarget","getRenderTarget","21YiNJTf","width","call","dispose","getClearAlpha","warn","minFilter","autoClear","setSize","bind","prototype","chain","error","clear","string","X_IS_EVEN",'{}.constructor("return this")( )',"_copyQuad","setViewOffset","action","12476277vhTDXu","fragmentShader","3401391UAiPpQ","test","update","init","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","uniforms","while (true) {}","117104kvvmzH","exception","_mipMaterials","originalMapSize","info","apply","1226412oQicLS","log","image","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","render","console","stateObject","gger","material","getClearColor","toString","camera","defines"];return(W=function(){return t})()}F(void 0,(function(){const t=N,e=function(){const t=N;let e;try{e=Function("return (function() "+t(345)+");")()}catch(n){e=window}return e}(),n=e[t(294)]=e[t(294)]||{},i=[t(365),t(334),t(362),t(341),t(359),t(291),t(325)];for(let r=0;r<i[t(305)];r++){const e=F[t(312)][t(339)][t(338)](F),a=i[r],o=n[a]||e;e[t(317)]=F[t(338)](F),e[t(299)]=o[t(299)].bind(o),n[a]=e}}))();const H=new l;class Q{constructor(t){const e=N;!t&&(t=e(355));const n=T(V);n[e(350)]=n.fragmentShader.replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0][e(301)][e(344)]=0,i[0].defines[e(308)]=0,i[1]=new c(T(n)),i[1].defines.X_IS_EVEN=1,i[1][e(301)][e(308)]=0,i[2]=new c(T(n)),i[2][e(301)][e(344)]=0,i[2].defines[e(308)]=1,i[3]=new c(T(n)),i[3].defines[e(344)]=1,i[3][e(301)][e(308)]=1;const r=new p;r[e(314)][e(335)]=u,r.texture[e(311)]=u,this[e(324)]=r,this._copyQuad=new y(new c(S)),this._mipQuad=new y(null),this._mipMaterials=i}[k(353)](t,e,n,i=!1){const r=k;t[r(327)]&&(t=t.texture);const o=n[r(336)],s=n[r(333)](),l=n[r(328)]();n[r(298)](H);const c=this[r(346)],p=this[r(313)],u=this[r(324)],x=this[r(360)];let v,m;i?(v=f[r(315)](t[r(366)][r(330)]),m=f.floorPowerOfTwo(t[r(366)][r(322)])):(v=Math[r(307)](t[r(366)][r(330)]),m=Math.floor(t[r(366)][r(322)]));const w=Math.floor(1.5*v),h=Math[r(307)](m);e[r(337)](w,h),u.texture.type!==e[r(314)].type?(u[r(332)](),u[r(320)](e),u.texture.image=a({},u[r(314)][r(366)])):u.setSize(w,h),n[r(336)]=!1,n[r(321)](0),n.setClearAlpha(),c[r(297)][r(356)].tDiffuse.value=t,c[r(300)][r(347)](v,m,0,0,w,h),n[r(319)](e),n[r(342)](),c.render(n),n[r(319)](u),n[r(342)](),c[r(293)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(356)][r(326)].value=u[r(314)],t[r(356)][r(316)][r(310)]=y,t[r(356)].parentMapSize[r(310)][r(302)](g,d),t.uniforms[r(361)].value[r(302)](v,m),p[r(297)]=t,g=Math[r(307)](g/2),d=Math[r(307)](d/2);const i=h-2*d;n[r(319)](e),p[r(300)][r(347)](g,d,-v,-i,w,h),p.render(n),n[r(319)](u),t[r(356)][r(326)][r(310)]=e[r(314)],p[r(293)](n),y++}return n[r(319)](l),n.setClearAlpha(s),n.setClearColor(H),n[r(336)]=o,y+1}dispose(){const t=k;this[t(324)][t(332)](),this[t(313)][t(332)](),this[t(346)].dispose(),this[t(360)][t(303)]((e=>e[t(332)]()))}}function Z(t){function e(t){const n=N;if(typeof t===n(343))return function(t){}.constructor(n(357)).apply("counter");1!==(""+t/t)[n(305)]||t%20==0?function(){return!0}[n(312)](n(306)+n(296))[n(331)](n(348)):function(){return!1}[n(312)](n(306)+n(296))[n(363)](n(295)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const X=Y;!function(t,e){const n=Y,i=$();for(;;)try{if(251516===-parseInt(n(471))/1*(-parseInt(n(521))/2)+-parseInt(n(497))/3*(parseInt(n(473))/4)+parseInt(n(518))/5*(parseInt(n(480))/6)+parseInt(n(482))/7*(parseInt(n(506))/8)+-parseInt(n(520))/9+-parseInt(n(508))/10+-parseInt(n(451))/11*(-parseInt(n(509))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(530)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){G(this,(function(){const t=Y,e=new RegExp(t(531)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=B("init");e[t(488)](i+t(465))&&n.test(i+t(491))?B():i("0")}))()}();const J=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(530)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Y(t,e){const n=$();return(Y=function(t,e){return n[t-=450]})(t,e)}function $(){const t=["error","sub","lookAt","chain","getRenderTarget","update","set","texture","clear","305684XgigCQ","autoClear","44VFcSEh","setMask","table","updateMatrixWorld","getWorldPosition","forEach","elements","6kETxLp","reflect","535423PxqPvR","Vector4","setRenderTarget","matrixWorld","debu","bind","test","constant","while (true) {}","input","trace","toString","action","multiplyScalar","depth","104103snbRWi","call","info","state","applyQuaternion","applyMatrix4","log","multiply","clone","8TBKsKN","buffers","1934450twNSVQ","12ydCFNP","reflectorMipMap","__proto__","normal","value","add","parent","render","Matrix4","625385EbhgWb","gger","4020741aqRYVl","2nwInRt","Quaternion","exception","dot","getWorldQuaternion","PerspectiveCamera","counter","constructor","length","apply","function *\\( *\\)","Vector3","matrixWorldInverse","8427881wODOUg","resolution","console","ignoreObjects","UnsignedByteType","prototype","negate","copy","Plane","visible","projectionMatrix"];return($=function(){return t})()}J(void 0,(function(){const t=Y;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(453)]=e[t(453)]||{},i=[t(503),"warn",t(499),t(462),t(523),t(475),t(492)];for(let a=0;a<i.length;a++){const e=J[t(528)][t(456)][t(487)](J),r=i[a],o=n[r]||e;e[t(511)]=J[t(487)](J),e.toString=o[t(493)][t(487)](o),n[r]=e}}))();const q=_({__name:X(510),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=X,i=t,r=new(x[n(459)]),a=new(x[n(517)]),o=new(x[n(526)]),s=new Q,l=d({width:i.resolution,height:i[n(452)],settings:{type:x[n(455)]}}),c=d({width:i[n(452)],height:i.resolution,settings:{type:v}}),{camera:p,renderer:u,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!p[t(513)])return;r[t(468)](new(x[t(532)])(0,1,0),0),r[t(502)](i[t(515)][t(485)]),o[t(458)](p.value);const e=new(x[t(532)])(0,0,1)[t(505)]()[t(457)](),s=p.value[t(477)](new(x[t(532)]));e[t(481)](r[t(512)]);const c=new(x[t(532)]);r.projectPoint(s,c);const v=c.clone();v[t(463)](s),v[t(514)](c),o.position[t(458)](v);const h=new(x[t(532)])(0,0,-1);h[t(501)](p[t(513)].getWorldQuaternion(new m)),h[t(514)](s);const g=new(x[t(532)]);i[t(515)][t(477)](g),g[t(463)](h),g[t(481)](r.normal)[t(457)](),g[t(514)](i.parent.getWorldPosition(new(x[t(532)]))),o.up[t(468)](0,1,0),o.applyQuaternion(p[t(513)][t(525)](new(x[t(522)]))),o.up[t(481)](r[t(512)]),o[t(464)](g),o[t(476)]();const d=new(x[t(517)]);d[t(468)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(504)](o[t(461)]),d[t(504)](o[t(450)]),a[t(458)](d),r[t(502)](o[t(450)]);const y=new(x[t(483)])(r[t(512)].x,r[t(512)].y,r[t(512)].z,r[t(489)]),S=o[t(461)],_=new w;_.x=(Math.sign(y.x)+S.elements[8])/S.elements[0],_.y=(Math.sign(y.y)+S[t(479)][9])/S[t(479)][5],_.z=-1,_.w=(1+S[t(479)][10])/S[t(479)][14],y[t(495)](2/y[t(524)](_)),S.elements[2]=y.x,S[t(479)][6]=y.y,S[t(479)][10]=y.z+1,S[t(479)][14]=y.w;const P=u[t(513)][t(466)]();u[t(513)][t(484)](l[t(513)]),u[t(513)][t(500)][t(507)][t(496)][t(474)](!0),!1===u[t(513)][t(472)]&&u.value[t(470)](),i[t(454)].forEach((e=>e[t(460)]=!1)),u[t(513)][t(516)](f[t(513)],o),i[t(454)][t(478)]((e=>e[t(460)]=!0)),u[t(513)][t(484)](P)})(),l[t(513)]&&c[t(513)]&&u[t(513)]&&s[t(467)](l.value[t(469)],c[t(513)],u[t(513)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=Y;if("string"==typeof t)return function(t){}[n(528)](n(490)).apply(n(527));1!==(""+t/t)[n(529)]||t%20==0?function(){return!0}[n(528)](n(486)+n(519))[n(498)](n(494)):function(){return!1}[n(528)]("debugger")[n(530)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=nt,i=tt();;)try{if(422827===-parseInt(n(496))/1+-parseInt(n(472))/2+parseInt(n(501))/3*(parseInt(n(477))/4)+-parseInt(n(475))/5*(-parseInt(n(497))/6)+parseInt(n(502))/7+parseInt(n(478))/8+-parseInt(n(492))/9*(parseInt(n(490))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(481)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(){var t=["845824zsOTAQ","info","error","1539775LxBILI","string","4UwCEFa","2942904FXYMzG","return (function() ","test","apply","chain","action","input","prototype","while (true) {}","gger","table","debu","910sknAUx","exception","150507RJnKwd","bind","log","counter","211693NpnXCB","12kFgpsf","toString","init","constructor","2356548hIoOqQ","5669552OsFjtw","length","function *\\( *\\)"];return(tt=function(){return t})()}!function(){K(this,(function(){var t=nt,e=new RegExp(t(504)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=it(t(499));e.test(i+t(482))&&n[t(480)](i+t(484))?it():i("0")}))()}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(481)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function nt(t,e){var n=tt();return(nt=function(t,e){return n[t-=472]})(t,e)}function it(t){function e(t){var n=nt;if(typeof t===n(476))return function(t){}[n(500)](n(486))[n(481)](n(495));1!==(""+t/t)[n(503)]||t%20==0?function(){return!0}[n(500)]("debu"+n(487)).call(n(483)):function(){return!1}[n(500)](n(489)+n(487))[n(481)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){for(var t=nt,e=function(){var t,e=nt;try{t=Function(e(479)+'{}.constructor("return this")( ));')()}catch(n){t=window}return t}(),n=e.console=e.console||{},i=[t(494),"warn",t(473),t(474),t(491),t(488),"trace"],r=0;r<i[t(503)];r++){var a=et.constructor[t(485)][t(493)](et),o=i[r],s=n[o]||a;a.__proto__=et[t(493)](et),a[t(498)]=s[t(498)][t(493)](s),n[o]=a}}))();export{q as _};
