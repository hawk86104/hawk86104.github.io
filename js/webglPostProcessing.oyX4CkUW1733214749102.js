import{i as t}from"./ice-utils.7YGg9DN81733214749102.js";import{_ as n,c as e,m as o}from"./gl-matrix.AFK4LjqA1733214749102.js";import{P as r}from"./tweakpane.yHWGBmom1733214749102.js";import{d as i,r as a,q as c,o as s,D as u,J as f,u as l}from"./@vue.-THQH3GC1733214749102.js";const m="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",_="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",x=T;!function(t,n){const e=T,o=A();for(;;)try{if(942372===parseInt(e(514))/1+-parseInt(e(449))/2*(parseInt(e(493))/3)+parseInt(e(497))/4*(parseInt(e(471))/5)+parseInt(e(513))/6+parseInt(e(500))/7+-parseInt(e(445))/8+-parseInt(e(433))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(518)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){d(this,(function(){const t=T,n=new RegExp(t(507)),e=new RegExp(t(460),"i"),o=R(t(434));n[t(487)](o+t(498))&&e.test(o+t(531))?R():o("0")}))()}();const p=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(518)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();p(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function("return (function() "+t(461)+");")()}catch(e){n=window}return n}(),e=n[t(462)]=n[t(462)]||{},o=[t(463),t(484),t(503),"error",t(492),"table",t(478)];for(let r=0;r<o[t(491)];r++){const n=p[t(527)].prototype[t(448)](p),i=o[r],a=e[i]||n;n[t(474)]=p[t(448)](p),n[t(480)]=a[t(480)][t(448)](a),e[i]=n}}))();const E={id:x(523)},g=[x(494)];function A(){const t=["RGBA","10009302vTGKne","1729708rJMxLP","texImage2D","clear","ONE_MINUS_SRC_ALPHA","apply","createTexture","slider","counter","inline","canvaswebgl","action","clearColor","#canvaswebgl","constructor","是否后处理","change","blendFunc","input","width","createBuffer","offset_left_bottom","TEXTURE_MIN_FILTER","CLAMP_TO_EDGE","uModel","SRC_ALPHA","getUniformLocation","while (true) {}","12857661uRHxef","init","call","bufferData","TEXTURE_2D","NEAREST","ARRAY_BUFFER","height","BYTES_PER_ELEMENT","bindBuffer","useProgram","mat4","9430408UMDIJx","offset_right_bottom","ortho","bind","2vODcLl","bindTexture","uProjection","uniform1f","logo-texture","create","COLOR_BUFFER_BIT","framebufferTexture2D","offset_right_top","TEXTURE_MAG_FILTER","querySelector","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"console","log","ELEMENT_ARRAY_BUFFER","drawElements","uView","FRAMEBUFFER","vertexAttribPointer","texParameteri","enable","135SXoWGw","COLOR_ATTACHMENT0","color","__proto__","addBlade","createFramebuffer","string","trace","mixParam","toString","FLOAT","translate","innerHeight","warn","img","TEXTURE_WRAP_T","test","debu","bindFramebuffer","offset_left_top","length","exception","5140092AAlBXj","src","gger","scale","140632XDqSHH","chain","canvas","6411825PVeJtl","STATIC_DRAW","hidden","info","uniformMatrix4fv","addBinding","webglPostProcessing","function *\\( *\\)","UNSIGNED_BYTE","TRIANGLES","enableVertexAttribArray","getContext"];return(A=function(){return t})()}function T(t,n){const e=A();return(T=function(t,n){return e[t-=430]})(t,n)}const b=i({__name:x(506),setup(i){const d=x;let p,A,T,b,R,y,v,h,F,P,w,C,B;const I=1,D=.71,U=.76,S=new r({title:"参数"}),L=a({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});S[d(475)]({view:d(520),label:"颜色",min:0,max:1,value:.5}).on("change",(t=>{const n=d;j(),A[n(452)](C,t.value)}));let M=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);S[d(505)](L,"hidden",{label:d(528)}),S[d(505)](L,d(457),{picker:d(522),x:{min:0,max:1},y:{min:0,max:1}}).on("change",(t=>{const n=d;M[0]=L[n(457)].x,M[1]=L.offset_right_top.y,j()})),S[d(505)](L,d(446),{picker:d(522),x:{min:-1,max:1},y:{min:-1,max:1}}).on(d(529),(t=>{const n=d;M[5]=L[n(446)].x,M[6]=L[n(446)].y,j()})),S[d(505)](L,"offset_left_bottom",{picker:d(522),x:{min:-1,max:1},y:{min:-1,max:1}}).on(d(529),(t=>{const n=d;M[10]=L.offset_left_bottom.x,M[11]=L[n(534)].y,j()})),S[d(505)](L,d(490),{picker:d(522),x:{min:-1,max:1},y:{min:-1,max:1}}).on(d(529),(t=>{const n=d;M[15]=L[n(490)].x,M[16]=L[n(490)].y,j()})),c((()=>{N()}));const N=function(){const n=d;p=document[n(459)](n(526)),p.width=window.innerWidth,p.height=window[n(483)],A=p[n(511)]("webgl"),A&&(function(){const n=d,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);b=H(e,o),T=t(A,m,_),F=A[n(431)](T,n(451)),P=A[n(431)](T,n(466)),w=A[n(431)](T,n(537)),B=X(document.getElementById(n(453)))}(),j(),A[n(470)](A.BLEND),A[n(530)](A[n(430)],A[n(517)]),G())};function G(){const t=d;A[t(489)](A[t(467)],v),A[t(525)](I,D,U,1),A[t(516)](A[t(455)]),function(){const t=d;A.useProgram(T),A.bindBuffer(A.ARRAY_BUFFER,b);const o=n[t(444)][t(454)]();n[t(444)][t(447)](o,0,p[t(532)],p[t(440)],0,.1,100),A[t(504)](F,!1,o);const r=e();n[t(444)].lookAt(r,[0,0,1],[0,0,0],[0,1,0]),A[t(504)](P,!1,r),O(B,600,600),O(B,400,400)}(),A[t(489)](A.FRAMEBUFFER,null),L[t(502)]&&(A.clear(A[t(455)]),A.clearColor(0,0,1,1),A.bindBuffer(A[t(439)],R),A[t(443)](y),A[t(450)](A.TEXTURE_2D,h)),A[t(465)](A[t(509)],6,A[t(508)],0),requestAnimationFrame(G)}function O(t,e,r){const i=d;let a=n[i(444)].create();n[i(444)][i(482)](a,a,[e,r,0]),o[i(496)](a,a,[250,250,0]),A[i(504)](w,!1,a),A[i(450)](A[i(437)],t),A[i(465)](A[i(509)],6,A[i(508)],0)}function j(){const n=d,e=new Uint8Array([0,1,2,0,2,3]);R=H(M,e),y=t(A,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),C=A[n(431)](y,n(479)),A[n(431)](y,n(473)),function(){const t=d;h=X(p),v=A[t(476)](),A[t(489)](A[t(467)],v),A[t(456)](A[t(467)],A[t(472)],A[t(437)],h,0),A[t(489)](A[t(467)],null)}()}function X(t){const n=d,e=A[n(519)]();return A[n(450)](A[n(437)],e),t instanceof HTMLImageElement?A[n(515)](A[n(437)],0,A[n(512)],A[n(512)],A.UNSIGNED_BYTE,t):A[n(515)](A[n(437)],0,A[n(512)],t[n(532)],t.height,0,A.RGBA,A[n(508)],null),A[n(469)](A[n(437)],A[n(535)],A[n(438)]),A[n(469)](A[n(437)],A[n(458)],A[n(438)]),A[n(469)](A[n(437)],A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A[n(469)](A[n(437)],A[n(486)],A[n(536)]),e}function H(t,n){const e=d,o=A[e(533)]();A[e(442)](A[e(439)],o),A.bufferData(A[e(439)],t,A[e(501)]);const r=3*Float32Array[e(441)]+2*Float32Array[e(441)];A.vertexAttribPointer(0,3,A[e(481)],!1,r,0),A[e(510)](0),A[e(468)](1,2,A[e(481)],!1,r,3*Float32Array[e(441)]),A[e(510)](1);const i=A[e(533)]();return A[e(442)](A.ELEMENT_ARRAY_BUFFER,i),A[e(436)](A[e(464)],n,A[e(501)]),A[e(442)](A[e(439)],null),o}return(t,n)=>{const e=d;return s(),u(e(499),E,[f(e(485),{id:e(453),src:l("./")+"/plugins/postProcessing/image/logo.png",style:{display:"none"}},null,8,g)])}}});function R(t){function n(t){const e=T;if(typeof t===e(477))return function(t){}[e(527)](e(432))[e(518)](e(521));1!==(""+t/t)[e(491)]||t%20==0?function(){return!0}[e(527)](e(488)+e(495))[e(435)](e(524)):function(){return!1}.constructor("debu"+e(495)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{b as default};
