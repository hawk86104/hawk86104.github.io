import{C as t,a7 as n,V as o,a6 as e,cx as r,ad as s}from"./three.0IuNGJsA1725236486446.js";import{P as i}from"./tweakpane.yHWGBmom1725236486446.js";import{u as a}from"./@tweenjs.l4oyssFo1725236486446.js";import{p as c,$ as u}from"./@tresjs.DDzpLB7Q1725236486446.js";import{P as p,b as l,c as m,M as f,T as h,a as g,d}from"./index.XiOqDMoF1725236486446.js";import{d as j,a1 as b,w,o as x,D as y,u as v,X as I,r as z,e as _,j as M,g as B,f as C,al as k,m as S,F as E}from"./@vue.9bHx4gg21725236486446.js";import{_ as R}from"./raycasterEvent.MWAZ9GKJ1725236486446.js";import{a as Z}from"./utils.xPBsIyKq1725236486446.js";import"./@vueuse.XXpXaOwX1725236486446.js";import"./@mapbox.eBgXcIIx1725236486446.js";import"./@amap.YiJorLHg1725236486446.js";import"./three-mesh-bvh.tu04YrxN1725236486446.js";import"./three-custom-shader-material.52Yxne6X1725236486446.js";import"./object-hash.p3nCq7ez1725236486446.js";import"./jszip.F8iULAGn1725236486446.js";import"./glsl-tokenizer.5A8V64LF1725236486446.js";import"./glsl-token-string.UAuwSUH71725236486446.js";import"./glsl-token-functions.GpZWHJDq1725236486446.js";import"./@fesjs.W9B5RBCy1725236486446.js";import"./vue-router.g5JZ8VPj1725236486446.js";import"./lodash-es.nFpJXAf-1725236486446.js";import"./@qlin.yHhFDldE1725236486446.js";import"./pinia.OsYF28_k1725236486446.js";import"./@floating-ui.BPbuo5Gx1725236486446.js";import"./@juggle.7yjBMqoW1725236486446.js";import"./http.VsEK22M51725236486446.js";import"./axios.FVFoCDiv1725236486446.js";import"./color.kuKV2LsZ1725236486446.js";import"./color-string.mEyUcxQN1725236486446.js";import"./color-name.uc_ENuJD1725236486446.js";import"./simple-swizzle.O2unj-mE1725236486446.js";import"./is-arrayish.Vm_odIP_1725236486446.js";import"./color-convert.vjicRvrD1725236486446.js";import"./lodash.Qrmop0NH1725236486446.js";import"./naive-ui.1vWq9Ihs1725236486446.js";import"./css-render.TQdrtbP-1725236486446.js";import"./@emotion.ZD_ZYAgY1725236486446.js";import"./@css-render.v3wgCZqt1725236486446.js";import"./seemly.SjiSeX2v1725236486446.js";import"./vooks.c4pro1VP1725236486446.js";import"./evtd.DtfwxtIl1725236486446.js";import"./vueuc.-o8UG2L81725236486446.js";import"./vdirs.Z3wwf2_Q1725236486446.js";import"./date-fns.0EbfBoKZ1725236486446.js";import"./treemate.dcEdf2le1725236486446.js";import"./date-fns-tz.zrCvsl5S1725236486446.js";import"./async-validator.-YBkpS4I1725236486446.js";import"./utils.6uu2JhPr1725236486446.js";import"./d3-geo.438eYNIW1725236486446.js";import"./d3-array.E5C1cfJ61725236486446.js";const A=W;!function(t,n){const o=W,e=F();for(;;)try{if(404330===-parseInt(o(426))/1*(-parseInt(o(443))/2)+parseInt(o(465))/3*(-parseInt(o(477))/4)+-parseInt(o(478))/5*(-parseInt(o(459))/6)+-parseInt(o(424))/7*(-parseInt(o(449))/8)+parseInt(o(447))/9+parseInt(o(445))/10+-parseInt(o(420))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[W(474)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function W(t,n){const o=F();return(W=function(t,n){return o[t-=415]})(t,n)}!function(){T(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=D("init");n.test(e+"chain")&&o[t(441)](e+t(482))?D():e("0")}))()}();const L=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();L(void 0,(function(){const t=W;let n;try{n=Function(t(470)+t(461)+");")()}catch(r){n=window}const o=n[t(464)]=n[t(464)]||{},e=["log","warn",t(422),t(462),t(436),"table","trace"];for(let s=0;s<e.length;s++){const n=L.constructor[t(451)][t(417)](L),r=e[s],i=o[r]||n;n.__proto__=L[t(417)](L),n[t(468)]=i[t(468)][t(417)](i),o[r]=n}}))();const P=[A(437),"rotation"],V=j({__name:A(431),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:A(429)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(s,{expose:i}){const d=A,j=s,{renderer:I,scene:z}=c();(new p)[d(427)]=l;const _=new m;_[d(484)]=d(456),_[d(427)]=l;const M=new f;M[d(484)]=d(467),M[d(423)]=!1,M.useWorker=!0;const B=new h(_,M);if(B[d(435)]=!1,B.wireframe=!1,B[d(453)]=!1,B[d(433)]=!1,B[d(454)]={opposite:j[d(432)],monochrome:j[d(466)]?{r:.299,g:.587,b:.114}:null,genBright:j[d(442)],genContrast:j[d(452)],genSaturation:j[d(472)]},j.monochrome){let n=new t(j[d(473)]);B[d(454)]&&(B.filter[d(473)]={r:n.r,g:n.g,b:n.b})}const C=new g;C[d(440)]=B,C[d(460)]=j.bbox,C[d(481)]=j[d(481)];const k=new n(60,window[d(455)]/window[d(446)],1,1e8);k.up=new o(0,1,0),k[d(434)][d(425)](j.mapCenter[0],j[d(476)][2],-j[d(476)][1]),k[d(419)](new(e[d(457)])(k.position.x,0,k[d(434)].z-2e3)),C.camera=k;let S=null;b((()=>{const t=d;if(I[t(439)]&&!S&&(S=new r(k,I[t(439)][t(421)]),S[t(475)]=!0,S.dampingFactor=.05,S[t(458)]=600,S[t(450)][t(425)](k[t(434)].x,k[t(434)].y,k[t(434)].z),S[t(430)][t(425)](k[t(434)].x,0,k.position.z-2e3)),j[t(442)]&&B[t(454)]&&(B.filter[t(442)]=j[t(442)]),j.genContrast&&B[t(454)]&&(B[t(454)][t(452)]=j[t(452)]),j.genSaturation&&B[t(454)]&&(B[t(454)][t(472)]=j[t(472)]),j[t(466)]&&j.monochrome&&B[t(454)]){let n=new(e[t(428)])(j[t(473)]);B[t(454)][t(473)]={r:n.r,g:n.g,b:n.b}}})),w((()=>j[d(432)]),(t=>{const n=d;B[n(454)]&&(B[n(454)][n(432)]=t)})),w((()=>j.isMonochrome),(t=>{let n=new(e[d(428)])(j.monochrome);B.filter&&(B.filter.monochrome=t?{r:n.r,g:n.g,b:n.b}:null)}));const{onLoop:E}=u();return E((()=>{const t=d;if(I[t(439)]){a(),S&&S.update(),C[t(416)]();const n=50*Math[t(471)](k[t(434)].y);k[t(415)]=n+5e3,k.updateProjectionMatrix(),S[t(430)].y=0,I.value[t(469)](z.value,k)}})),i({camera:k,map:C,orbitControl:S}),(t,n)=>{const o=d;return x(),y(o(480),{object:v(C),rotation:[-Math.PI/2,0,0]},null,8,P)}}});function D(t){function n(t){const o=W;if("string"==typeof t)return function(t){}[o(418)](o(463)).apply(o(438));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(479)+o(444)).call(o(448)):function(){return!1}[o(418)]("debu"+o(444))[o(474)](o(483)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function F(){const t=["5408760wQlBbH","innerHeight","1964241gCQkby","action","709328rEDRkl","position0","prototype","genContrast","flatShading","filter","innerWidth","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","Vector3","minDistance","6onYZfa","bbox",'{}.constructor("return this")( )',"error","while (true) {}","console","1114011WpVbvS","isMonochrome","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","toString","render","return (function() ","abs","genSaturation","monochrome","apply","enableDamping","mapCenter","4PZzOfw","2430990LsMiLY","debu","primitive","maxZoom","input","stateObject","source","far","update","bind","constructor","lookAt","15383775cESfwl","domElement","info","showTileNo","63viYTkk","set","5235TBWhAg","coordType","Color","#fff","target","tileMapMesh","opposite","useStandardMaterial","position","showBoundingBox","exception","object","counter","value","provider","test","genBright","50ZAsFgs","gger"];return(F=function(){return t})()}!function(t,n){const o=$,e=X();for(;;)try{if(324678===-parseInt(o(203))/1*(-parseInt(o(239))/2)+-parseInt(o(250))/3+-parseInt(o(254))/4*(parseInt(o(225))/5)+-parseInt(o(255))/6+-parseInt(o(256))/7+parseInt(o(230))/8*(parseInt(o(244))/9)+-parseInt(o(215))/10*(-parseInt(o(208))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const Q=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[$(252)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){Q(this,(function(){const t=$,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=N(t(212));n[t(204)](e+t(240))&&o.test(e+t(209))?N():e("0")}))()}();const Y=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[$(252)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function $(t,n){const o=X();return($=function(t,n){return o[t-=203]})(t,n)}function X(){const t=["16VbzfJc","list","highp","exception","tileMapMeshRef","orbitControl",'{}.constructor("return this")( )',"SRGBColorSpace","warn","924268IliNEV","chain","stateObject","genBright","__proto__","2688489LXmSbX","log","toString","constructor","genContrast","action","153756hfoUhg","addBinding","apply","genSaturation","3452iBsxwt","3403920rwbyKI","165018eijjII","table","error","debu","value","addBlade","opposite","while (true) {}","1hWmuKh","test","Vector3","奥体中心","单色滤镜","33mEbYuE","input","length","#201919","init","call","nss","1008340fxgWzQ","isMonochrome","return (function() ","滤镜颜色","camera","prototype","对比度","bind","trace","gger","2290HsNtwM","console","牛首山","TresCanvas","tileMapRef"];return(X=function(){return t})()}Y(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(217)+t(236)+");")()}catch(o){n=window}return n}(),o=n[t(226)]=n[t(226)]||{},e=[t(245),t(238),"info",t(258),t(233),t(257),t(223)];for(let r=0;r<e[t(210)];r++){const n=Y[t(247)][t(220)][t(222)](Y),s=e[r],i=o[s]||n;n[t(243)]=Y.bind(Y),n[t(246)]=i[t(246)].bind(i),o[s]=n}}))();const H=j({__name:"tileMap",setup(t){const n=$,r=d(118.779958,32.017136),a=[r[0],r[1],5e3],c=I(),u=z({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:a}),p=new i({title:"参数"});p.addBinding(u,n(262),{label:"反色"}),p[n(251)](u,n(242),{label:"高亮",min:.1,max:3,step:.1}),p[n(251)](u,n(248),{label:n(221),min:.1,max:3,step:.1}),p[n(251)](u,n(253),{label:"饱和度",min:.1,max:3,step:.1}),p[n(251)](u,n(216),{label:n(207)}),p[n(251)](u,"monochrome",{label:n(218)});const l={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};p[n(261)]({view:n(231),label:"飞去",options:[{text:n(206),value:"at"},{text:"新街口",value:"xjk"},{text:n(227),value:n(214)}],value:"at"}).on("change",(t=>{const o=n,r=new(e[o(205)])(l[t[o(260)]][0],2e3,-l[t.value][1]);Z(c[o(260)][o(219)],r,c[o(260)][o(235)],[0,-300],4e3)}));const m=z({clearColor:n(211),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:e[n(237)],toneMapping:s,precision:n(232)});return setTimeout((()=>{const t=n,e=l.at,r=new o(e[0],1600,-e[1]);Z(c[t(260)][t(219)],r,c[t(260)][t(235)],[-2e3,-2e3],2e3)}),1e3),(t,o)=>{const e=n,r=_(e(228));return x(),y(E,null,[M(r,S(m,{"window-size":""}),{default:B((()=>[(x(),C(k,null,{default:B((()=>[M(V,S(u,{ref_key:e(234),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(R,{tileMapRef:c[e(260)]},null,8,[e(229)])],64)}}});function N(t){function n(t){const o=$;if("string"==typeof t)return function(t){}.constructor(o(263))[o(252)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[o(247)](o(259)+o(224))[o(213)](o(249)):function(){return!1}[o(247)](o(259)+o(224))[o(252)](o(241)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{H as default};
