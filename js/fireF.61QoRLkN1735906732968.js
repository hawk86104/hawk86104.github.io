var t,e,s,n,i,r,a,o,c,h,l,u,p,m=Object.defineProperty,f=(t,e,s)=>(((t,e,s)=>{e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as d}from"./pagesShow.vue_vue_type_script_setup_true_lang.4JmdwU8D1735906732968.js";import{_ as w,V as g,C as S,g as y,f as v,M as x,a as P,X as I,as as A,k as F,an as T,a2 as E}from"./three.VhLXWX0H1735906732968.js";import{m as b,e as z}from"./@tresjs.XlmHwCPa1735906732968.js";import{d as R,b as O,a1 as V,o as C,f as q,g as M,j as N}from"./@vue.yG49nQHr1735906732968.js";import"./three-custom-shader-material.YE7pvEe61735906732968.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";function _(t,e){const s=U();return(_=function(t,e){return s[t-=128]})(t,e)}const B=_;function U(){const t=["uniform sampler2D atlasTexture;\n","light","getTexture","parseTypeString","7ZwTenv","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","setBoundingSphere","setActiveParticleCount","min","offsetY","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","verticesPerParticle",'ParticleStateArray::getState() -> "index" is out of range.',"updateState","particleStates","varying float vSequenceElementT; \n","value","range","sequenceElement","transformDirection","offsetZ","particleSystemRenderer","getParticleState","sequenceElements","rangeRadius",'Atlas::getFrameSet -> "index" is out of range.',"size","applyMatrix4","getTypeID","NotStarted","getMaximumActiveParticles","BufferAttribute",'ContinuousArray::getTValue() -> "index" is out of bounds.',"addFrameSet","height","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","boundingSphere","   const vec2 left = vec2(-1.0, 0.0);\n","start","JSONTypeStore::addTypeToNamespace() -> namespace does not exist",'ParticleSystem::getParticleState() -> "index" is out of range.',"color","prototype","getInterpolatorForTypeID","normals","setX","initialized","material","Done","outType","fromJSON","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","addSequence","setAll","JSONTypeStore::addNamespace() -> namespace already exists","uniform int interpolateAtlasFrames; \n","invert","setParticleSequences","Vector4","push","random","particleSequences","center","lastIntensityAdjuster","Renderer::init() -> trying to intialize more than once.","function","simulateInWorldSpace","setDrawRange","namespace","getParticleStateInitializerCount","upperIndex","offsetRadius","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","velocity","floor","setXYZW","generateForElement","uniform int simulateInWorldSpace; \n","generate","setVisibile","trace","intensityFlux","velocities","advanceActiveParticles","sizes","   int firstSequenceElement = int(sequenceElementF); \n","scaleZ","Box3","bind","exception","progressType","getParticleSystemRenderer","DynamicDrawUsage","attribute vec3 color;\n","colors","   vec2 uv1; \n","particleSystems","       viewPosition = viewMatrix * particlePosition;\n","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","#include <common>","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","startupTime","updateMeshBounds","Time","multiplyScalar","   float upperSide; \n","flushParticleStateToBuffers","createMaterial","internalUpdate","getSequenceElements","   float uvYOffset = atlasFrameHeight * upperSide; \n","apply","InstancedBufferAttribute","normalize","Additive","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   int sequenceLength = int(sequenceElement.w);\n","blending","offsetX","uniform vec2 uvOffset;\n","addParticleSequence",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"components","join","varying float vFragAlpha;\n","params","setSimulateInWorldSpace","10209768nAUyRN","nextIntensityAdjuster","onUpdate","setXYZ","VertexVars","now","offsetPhi","   int sequenceNumber = int(sequenceElement.y);\n","initialColor","   float atlasFrameHeight = atlasFrames.w; \n","instanceCount","particleStateOperators","addParticleStateOperator","872849lcgCYc","       rightSide = baseUV.x; \n","Running","   const vec2 dRight = vec2(1.0, -1.0);\n","interpolateAtlasFrames","getInterpolationValuesForTValue","speed","const int MAX_ATLAS_FRAME_SETS = 16; \n","emissionRelativeStartTime","componentContainer","toJSON","mesh","chain","speedOffset",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"position","213CCtBlt","tValue","checkAndAddTypeName",'ComponentContainer::getComponent() -> "index" is out of range.',"lifetime","initialAlpha","getSequence","map","activateParticles","Object3D","ids","addComponent","while (true) {}","stateVelocity","lastUpdateTime","ages","acceleration","varying vec2 vUV2;\n","customIndex","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","   float atlasFrameY = atlasFrames.y; \n","texturePath","lastPositionFlickerTime","visible","getParticleSequences",'ParticleStateArray::setState() -> "index" is out of range.',"offsetTheta","log","   vFragAlpha = alpha; \n","indexOf","   int sequenceStart = int(sequenceElement.z);\n","__proto__","getParticleStateArray","getTexturePath","autoClear","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector2","   if (instanced != 1) { \n","tempUp","ParticleSystem::init() -> trying to intialize more than once.","clamp","texture","JSONTypeStore::addTypeToNamespace() -> typeName already exists","    \n  #include <logdepthbuf_fragment> \n","particleStateArray","void main() { \n","uniforms","interpolator","matrixWorldNeedsUpdate","attribute vec4 sequenceElement;\n","getParticleStateOperator","updateEmitCount","setBoundingBox","   float rightSide; \n","accelerations","updateWorldMatrix","lowerIndex","warn","loadJSONParameter","InstancedBufferGeometry","varying vec3 vFragColor;\n","___photonsTypeID","info","alpha","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","parent","action","getSimulateInWorldSpace","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","type","varying vec2 vUV1;\n","onUpdateCallback","   float atlasFrameWidth = atlasFrames.z; \n","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","getLight","getParticleStateOperatorCount","jsonTypeNames","cameraNear","substr","element","getFrameSet","localT","getRotations","computeBoundingBox","boundingBox","baseUVs","addElementsFromElementClassAndParameters","currentTime","error","add","particleEmitter","intensity","transformInitialDirectionInWorldSpace","getElement","Vector3","initialAlphas","stateAcceleration","setUsage","rotationalSpeeds","init","decay","   const vec2 dLeft = vec2(-1.0, -1.0);\n","typeIDGen","calculateBoundingSphereFromBox","timeScaledVelocity","mapSize","radius","fromArray","NormalBlending","       rotVec = position.xy; \n ",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"rangeTheta","addNamespace","computeBoundingSphere","addTypeToNamespace","emitCount","advanceActiveParticle","uniformOffset","rotationalSpeed","cos","   float sequenceElementF = sequenceElement.x;\n","PointLight","normalizeDirection","interpolateFrames","setTransformInitialDirectionInWorldSpace","getFragmentShader","addElement","9MQgNlV","calculatingBoundingSphereFromBox","camera","Color","input","randomGenerator","initialSizes","framesets","setState","default","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","edgeRadius","copyTo","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","lastIntensityFlickerTime","basePositions","setXY",'ContinuousArray::getElement() -> "index" is out of bounds.',"setEmitter","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","allocate","initializeState","OneMinusSrcAlphaFactor","interpolationElements","setRGB","getFrameSetCount","name","elements","Mesh","typeName","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","initialSize","Shader","instanced","maxParticleCount","remove","systemState","far","positions","speedRange","14090630TeAxHC","debu","near","copyState","sub","console","copyParticleInArray","sin","rangePhi","test","uniformRange","BufferGeometry","max","   float atlasFrameX = atlasFrames.x; \n","emissionRate","loop","gger","dispose","baseUV","activateParticle","needsUpdate","counter","update","addElements","normal","emitterInitialized","602368yiNfNk","getInterpolatedValue","setAttribute","getTypeNames","sequences","emissionDuration","       upperSide = baseUV.y; \n","toString","getComponent","iterator","constructor","getEmitter","directionGenerator","   int nRowYTile = int(SNOverHS);\n","outTypeID","FragmentVars","Sphere","atlas","hasID","6430vsvgIb","maximumActiveParticles","   vec2 rotVec; \n","   const vec2 right = vec2(1.0, 0.0);\n","owner","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","load","getState","   }  else { \n","startTime","TextureLoader","getInterpolatedElement","customIndexes","timeActive","frameSets",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"7230498plvwuv","Normal","scaleY","function *\\( *\\)","AdditiveBlending","addParticleStateInitializer","getActiveParticleCount","Sequence","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","elementTypeID","toArray","SrcAlphaFactor","baseURI","age","distance","getType","  \n #include <logdepthbuf_pars_fragment> \n","renderOrder","offset","relativeToInitialValue","bias","render","getTypePath","scaleX","rotation","parseNamespaceAndTypename","   const vec2 up = vec2(0.0, 1.0);\n","getVisible","addElementsFromParameters","   if (simulateInWorldSpace == 1) { \n","getTValue","string","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","reverse","   vec2 uv2; \n","geometry","particleStateInitializers","set","   vec4 color2 = color1; \n","lifetimes","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","getElementCount","jsonTypes","timeScaledAcceleration","setIntensity","       rightSide = step(2.0, customIndex); \n","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","length","width","   const vec2 uLeft = vec2(-1.0, 1.0);\n","   gl_FragColor.a *= vFragAlpha; \n","       upperSide = upperSideStep.x + upperSideStep.y;\n","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","alphas","setOwner","uniform int instanced; \n","getParameterJSON","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","positionAdjuster","   float rotMag = rotation; \n","cameraFar","initialColors","sqrt","split","ShaderMaterial","renderer","generator","stateObject","lastPositionAdjuster","tValues","copy","speedGenerator","Default","getParticleStateInitializer","148335mEzePp","getSystemState","updateBounds","shadow","attribute vec4 particlePosition;\n","Paused","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   \n  #include <logdepthbuf_vertex> \n","clone","   } \n","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","getSequenceIDs","particlePosition","emitter","setParticleCount","initializers","activeParticleCount","rotations","matrixWorld","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","hasOwnProperty","particleCount","   vec4 viewPosition; \n"];return(U=function(){return t})()}!function(t,e){const s=_,n=U();for(;;)try{if(655358===-parseInt(s(581))/1+-parseInt(s(327))/2*(-parseInt(s(597))/3)+-parseInt(s(308))/4+-parseInt(s(417))/5+parseInt(s(343))/6*(-parseInt(s(444))/7)+parseInt(s(568))/8+parseInt(s(242))/9*(parseInt(s(282))/10))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const j=class{constructor(t){this[B(268)]=t}};t=B(350),f(j,"Time",new j(B(544))),f(j,t,new j(B(350)));let X=j;class D{constructor(){this[B(214)]()}init(){const t=B;this[t(531)]=X[t(544)],this[t(601)]=1,this.age=0,this.sequenceElement=new(w[t(498)]),this.position=new(w[t(209)]),this[t(514)]=new(w[t(209)]),this.acceleration=new g,this[t(306)]=new(w[t(209)]),this.rotation=0,this.rotationalSpeed=0,this[t(466)]=new(w[t(151)]),this[t(481)]=new S,this[t(178)]=1,this[t(273)]=new(w[t(151)]),this[t(576)]=new(w[t(245)]),this[t(602)]=1}[B(493)](t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d){const w=B;this.progressType=t,this.lifetime=e,this[w(356)]=s,this[w(458)][w(413)](n),this.position[w(413)](i),this[w(514)][w(413)](r),this[w(130)].copy(a),this.normal[w(413)](o),this[w(367)]=c,this[w(233)]=h,this[w(466)]=l,this[w(481)].copy(u),this[w(178)]=p,this[w(273)][w(413)](m),this[w(576)][w(413)](f),this[w(602)]=d}copyTo(t){const e=B;t.setAll(this[e(531)],this[e(601)],this[e(356)],this[e(458)],this[e(596)],this.velocity,this.acceleration,this[e(306)],this[e(367)],this[e(233)],this[e(466)],this[e(481)],this.alpha,this[e(273)],this.initialColor,this[e(602)])}[B(413)](t){const e=B;this[e(493)](t[e(531)],t[e(601)],t[e(356)],t[e(458)],t.position,t[e(514)],t[e(130)],t[e(306)],t.rotation,t.rotationalSpeed,t.size,t[e(481)],t[e(178)],t[e(273)],t[e(576)],t[e(602)])}}class Y{constructor(){f(this,e,function(){const t=B,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=_;let s;try{s=Function(t(149)+'{}.constructor("return this")( ));')()}catch(r){s=window}const n=s[t(287)]=s.console||{},i=[t(141),t(172),t(177),t(203),t(530),"table",t(521)];for(let a=0;a<i.length;a++){const s=e[t(318)][t(482)].bind(e),r=i[a],o=n[r]||s;s[t(145)]=e[t(529)](e),s[t(315)]=o[t(315)][t(529)](o),n[r]=s}}))();const s=new(w[t(209)]);return function(e=new(w[t(528)]),n=null){const i=t,r=e[i(448)],a=e[i(294)];for(let t=0;t<this[i(433)];t++){const e=this.getState(t);let o=e[i(596)];n&&(s[i(413)](o),s[i(467)](n),o=s);const c=Math[i(294)](e[i(466)].x,e[i(466)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,f=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=f)}return e}}()),f(this,s,function(){const t=B,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[_(552)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=_,e=new RegExp(t(346)),s=new RegExp(t(150),"i"),n=Ct("init");e[t(291)](n+t(593))&&s.test(n+t(246))?Ct():n("0")}))()}();const s=new(w[t(209)]),n=new(w[t(209)]),i=new(w[t(209)]);return function(e=new y,r=null){const a=t;let o=0;for(let t=0;t<this[a(433)];t++){const e=this[a(334)](t);let c=e.position;r&&(i[a(413)](c),i.applyMatrix4(r),c=i);const h=Math[a(294)](e[a(466)].x,e[a(466)].y);if(0==t)s[a(413)](c),o=h;else{n[a(413)](c)[a(286)](s);const t=n[a(390)]()+h;if(t>o){const e=(t-o)/2;n[a(554)]().multiplyScalar(e),s[a(204)](n),o+=e}}}return e.center.copy(s),e[a(221)]=o,e}}());const t=B;this.particleCount=0,this.activeParticleCount=0,this[t(454)]=[]}[B(214)](t){this[B(431)](t)}setParticleCount(t){const e=B;this.particleCount!=t&&(this[e(299)](),this[e(262)](t)),this[e(438)]=t}[B(447)](t){this[B(433)]=t}[B(262)](t){const e=B;this[e(454)]=[],this[e(438)]=t;for(let s=0;s<t;s++)this.particleStates[s]=new D}[B(299)](){}getParticleCount(){return this[B(438)]}[B(547)](){}[B(285)](t,e){const s=B;if(t>=this[s(438)])throw new Error(s(595));if(e>=this[s(438)])throw new Error(s(562));const n=this[s(454)][t],i=this[s(454)][e];n[s(254)](i)}[B(250)](t,e){const s=B;if(t>=this[s(438)])throw new Error(s(139));return this[s(454)][t][s(413)](e)}[B(334)](t){const e=B;if(t>=this[e(438)])throw new Error(e(452));return this.particleStates[t]}}e=B(198),s=B(228);class W{constructor(t,e,s=0){this[B(478)]=t,this.length=e,this.id=s}}class L{constructor(){const t=B;this[t(312)]={},this[t(607)]=[]}[B(492)](t,e,s){const n=B;if(this[n(326)](s))throw new Error(n(188));const i=new W(t,e,s);return this.sequences[s]=i,this.ids[n(499)](s),i}getSequence(t){const e=B;if(!this[e(326)](t))throw new Error("ParticleSequenceGroup::getSequence -> Invalid ID.");return this[e(312)][t]}[B(428)](){return this[B(607)]}hasID(t){return!!this[B(312)][t]}}class Z{constructor(){}initializeState(t){const e=B;t.initialColor[e(380)](1,1,1),t[e(273)][e(380)](1,1),t[e(602)]=1,t.progressType=X[e(544)],t[e(601)]=0,t.age=0,t[e(458)].set(0,0,0,0),t[e(596)][e(380)](0,0,0),t[e(514)][e(380)](0,0,0),t.acceleration[e(380)](0,0,0),t[e(306)][e(380)](0,0,1),t[e(367)]=0,t.rotationalSpeed=0,t[e(466)][e(413)](t[e(273)]),t[e(481)][e(413)](t[e(576)]),t[e(178)]=1}}class k extends Z{constructor(){super()}[B(263)](t){super[B(263)](t)}}class G{constructor(){}[B(453)](){}}class J extends G{constructor(){const t=B;super(),this[t(219)]=new(w[t(209)]),this[t(386)]=new(w[t(209)]),this[t(211)]=new(w[t(209)]),this.stateVelocity=new(w[t(209)])}[B(453)](t,e){const s=B;return super.updateState(t,e),this[s(211)][s(413)](t.acceleration),this.timeScaledAcceleration[s(413)](this.stateAcceleration),this[s(386)][s(545)](e),t[s(514)].add(this.timeScaledAcceleration),this[s(610)].copy(t[s(514)]),this[s(219)][s(413)](this[s(610)]),this[s(219)][s(545)](e),t[s(596)].add(this[s(219)]),t[s(356)]=t.age+e,t[s(367)]=t.rotation+e*t[s(233)],!0}}class H{static clamp(t,e,s){return Math[B(448)](Math.max(t,e),s)}static[B(202)](){return performance[B(573)]()/1e3}}class ${constructor(){this[B(563)]=[]}[B(608)](t){const e=B;this[e(563)][e(499)](t)}[B(304)](t,e){const s=B;for(const n of this[s(563)])n[s(304)](t,e)}[B(316)](t){const e=B;if(t>=this[e(563)].length)throw new Error(e(600));return this.components[t]}}const Q=class{constructor(t){this[B(268)]=t}};n=B(469),i=B(583),r=B(422),f(Q,n,new Q(B(469))),f(Q,i,new Q(B(583))),f(Q,r,new Q(B(422))),f(Q,"Done",new Q(B(488)));let K=Q;class tt{constructor(t,e){f(this,a,function(){const t=new x;return function(){const e=_;let s=null;this[e(207)]&&(s=t,s[e(413)](this[e(331)][e(435)])[e(496)]()),this.particleSystemRenderer[e(243)]()?(this[e(454)][e(198)](this[e(199)],s),this.particleSystemRenderer[e(167)](this[e(199)])):(this[e(454)].computeBoundingSphere(this[e(476)],s),this[e(461)].setBoundingSphere(this[e(476)]))}}());const s=B;this[s(331)]=t,this[s(331)][s(137)]=!1,this.visible=!0,this[s(461)]=e,this[s(486)]=!1,this[s(328)]=0,this[s(433)]=0,this[s(506)]=!0,this[s(307)]=!1,this[s(205)]=null,this[s(590)]=new $,this[s(379)]=[],this[s(579)]=[],this.particleStates=null,this[s(278)]=K[s(469)],this.particleSequences=new L,this[s(186)]=null,this[s(207)]=!0,this.boundingBox=new v,this[s(476)]=new(w[s(324)])}[B(214)](t){const e=B;if(this[e(486)])throw new Error(e(154));this[e(328)]=t,this[e(461)]?(this.particleSystemRenderer[e(397)](this[e(331)]),this[e(461)].init(this[e(328)],this[e(506)]),this[e(461)][e(567)](this[e(506)]),this[e(454)]=this[e(461)][e(146)]()):(this[e(454)]=new Y,this[e(454)].init(this.maximumActiveParticles)),this[e(348)](new k),this[e(580)](new J),this[e(486)]=!0}[B(370)](){return this[B(137)]}[B(520)](t){return this[B(137)]=t}[B(570)](t){this[B(186)]=t}[B(304)](t,e){const s=B;if(this[s(278)]==K[s(583)]){if(this.owner[s(170)](!0),t=null==t||null==t?H.currentTime():t,e=null==e||null==e?t-this.lastUpdateTime:e,this[s(307)]&&this[s(278)]==K[s(583)]){const t=this.particleEmitter[s(304)](e);t>0&&this[s(605)](t),this[s(524)](e),this[s(186)]&&this[s(186)](this[s(433)]),this.updateBounds()}this[s(590)][s(304)](t,e),this[s(128)]=t}}[B(364)](t,e){const s=B;if(this[s(370)]()&&this.particleSystemRenderer){const n=t[s(148)];t[s(148)]=!1,this.owner[s(137)]=!0,this.owner[s(163)]=!0,this[s(461)][s(364)](this[s(331)],t,e),this[s(331)].visible=!1,t[s(148)]=n}}start(){const t=B;this.systemState!=K[t(469)]&&this[t(278)]!=K[t(422)]||(this[t(278)]=K[t(583)],this.startTime=H[t(202)](),this.lastUpdateTime=this[t(336)])}pause(){const t=B;this[t(278)]==K[t(583)]&&(this[t(278)]=K[t(422)])}stop(){}[B(418)](){return this.systemState}[B(260)](t){const e=B;return this[e(205)]=t,this[e(205)].maximumActiveParticles=this[e(328)],this[e(307)]=!0,this[e(205)]}[B(608)](t){const e=B;this[e(590)][e(608)](t)}[B(316)](t){const e=B;return this[e(590)][e(316)](t)}[B(348)](t){return this[B(379)].push(t),t}getParticleStateInitializerCount(){const t=B;return this[t(379)][t(390)]}[B(416)](t){const e=B;if(t>=this[e(379)].length)throw new Error(e(225));return this[e(379)][t]}addParticleStateOperator(t){const e=B;return this[e(579)][e(499)](t),t}[B(190)](){const t=B;return this.particleStateOperators[t(390)]}[B(165)](t){const e=B;if(t>=this.particleStateOperators.length)throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(579)][t]}getMaximumActiveParticles(){return this[B(328)]}[B(349)](){return this.activeParticleCount}[B(462)](t){const e=B;if(t>=this[e(433)])throw new Error(e(480));return this[e(454)][e(334)](t)}getParticleStates(){return this[B(454)]}[B(532)](){return this.particleSystemRenderer}[B(182)](){return this[B(506)]}[B(567)](t){const e=B;this[e(506)]=t,this.particleSystemRenderer&&this[e(461)].setSimulateInWorldSpace(this[e(506)])}[B(239)](t){this.transformInitialDirectionInWorldSpace=t}[B(561)](t,e,s=0){const n=B;this[n(501)][n(492)](t,e,s)}getParticleSequences(){return this[B(501)]}[B(319)](){return this[B(205)]}[(a=B(419),B(605))](t){const e=B;if(this[e(278)]==K[e(583)]){const s=H[e(155)](this[e(433)]+t,0,this[e(328)]);for(let t=this[e(433)];t<s;t++)this[e(301)](t);this[e(433)]=s,this[e(454)].setActiveParticleCount(this.activeParticleCount)}}[B(301)](t){const e=B;if(this[e(278)]==K[e(583)]){const s=this.particleStates[e(334)](t);s[e(356)]=0;for(let t=0;t<this[e(379)][e(390)];t++){this[e(379)][t][e(263)](s)}if(this[e(506)]){s[e(596)][e(467)](this[e(331)].matrixWorld);const t=s[e(514)].length();if(this[e(207)]){s.velocity.transformDirection(this[e(331)][e(435)])[e(545)](t);const n=s[e(130)][e(390)]();s[e(130)][e(459)](this.owner[e(435)])[e(545)](n)}}this[e(454)][e(547)](t)}}advanceActiveParticles(t){const e=B;if(this.systemState==K.Running){let s=0;for(;s<this.activeParticleCount;){this[e(231)](s,t)?s++:(s<this[e(433)]-1&&this[e(288)](this[e(433)]-1,s),this[e(433)]--)}this[e(454)].setActiveParticleCount(this[e(433)])}}[B(231)](t,e){const s=B;if(this[s(278)]==K[s(583)]){const n=this[s(454)][s(334)](t);for(let t=0;t<this[s(579)][s(390)];t++){const i=this[s(579)][t][s(453)](n,e),r=n[s(601)];if(!i||0!=r&&n.age>=r)return!1}return this[s(454)].flushParticleStateToBuffers(t),!0}return!1}[B(288)](t,e){const s=B;this[s(454)][s(285)](t,e),this[s(454)][s(547)](e)}static[B(490)](t,e,s){const n=B,i=(t,e,s)=>{const n=_;e(t);for(const r in t)if(t[n(437)](r)){const s=t[r];"object"==typeof s&&i(s,e)}};i(t,(t=>{const s=_;t[s(184)]&&(t[s(184)]=e[s(443)](t[s(184)]))}));const r=t[n(276)],a=t.simulateInWorldSpace,o=t[n(408)],c=o.type[n(490)](o.params),h=new(w[n(606)]),l=new tt(h,c,s);l[n(214)](r),l[n(567)](a);const u=t[n(430)],p=u.type.fromJSON(u[n(566)]);if(l[n(260)](p),t[n(312)])for(const m of t.sequences)l[n(561)](m[n(478)],m.length,m.id);if(t[n(432)])for(const m of t.initializers)l[n(348)](m[n(184)][n(490)](l,m[n(566)]));if(t.operators)for(const m of t.operators){const t=l[n(580)](m[n(184)][n(490)](l,m[n(566)]));m[n(269)]&&t[n(371)](m[n(269)])}return[l,h]}toJSON(t){const e=B,s=this[e(532)](),n=this.getEmitter(),i=this[e(138)](),r=i.getSequenceIDs()[e(604)]((t=>{const s=e,n=i[s(603)](t);return{id:t,start:n[s(478)],length:n[s(390)]}})),a=[],o=this[e(509)]();for(let l=0;l<o;l++){const s=this.getParticleStateInitializer(l);s[e(318)]!==k&&a[e(499)]({type:t[e(365)](s[e(318)]),params:s[e(591)](t)})}const c=[],h=this[e(190)]();for(let l=0;l<h;l++){const s=this[e(165)](l);if(s[e(318)]!==J){const n=s[e(591)](t),i=n[e(566)]||n,r=n[e(566)]?n[e(269)]:null,a={type:t[e(365)](s.constructor),params:i};r&&(a[e(269)]=r),c[e(499)](a)}}return{maxParticleCount:this[e(470)](),simulateInWorldSpace:this[e(182)](),renderer:{type:t[e(365)](s[e(318)]),params:s.toJSON()},emitter:{type:t.getTypePath(n[e(318)]),params:n[e(591)]()},sequences:r,initializers:a,operators:c}}}class et{constructor(){const t=B;this[t(537)]=[],this[t(542)]=performance.now()/1e3,this.lastUpdateTime=this.startupTime,this[t(590)]=new $}[B(304)](){const t=B,e=H.currentTime(),s=e-this.lastUpdateTime;for(const n of this[t(537)])n[t(304)](e,s);this.componentContainer[t(304)](e,s),this[t(128)]=e}[B(364)](t,e){const s=B;for(const n of this[s(537)])n.render(t,e)}addParticleSystem(t){this[B(537)].push(t)}[B(608)](t){const e=B;this[e(590)][e(608)](t)}[B(316)](t){const e=B;return this[e(590)][e(316)](t)}}class st{constructor(){const t=B;this[t(486)]=!1,this[t(438)]=0,this[t(331)]=null,this[t(506)]=!1}setSimulateInWorldSpace(t){this[B(506)]=t}getParticleStateArray(){}[B(397)](t){this[B(331)]=t}[B(214)](t){const e=B;if(this[e(438)]=t,!this.initialized)return this[e(486)]=!0,!0;throw new Error(e(504))}[B(364)](){}}class nt extends Y{constructor(){const t=B;super(),this.geometry=null,this.progressTypes=null,this[t(382)]=null,this[t(129)]=null,this[t(463)]=null,this.positions=null,this[t(523)]=null,this[t(169)]=null,this[t(484)]=null,this[t(434)]=null,this[t(213)]=null,this[t(525)]=null,this[t(535)]=null,this[t(248)]=null,this[t(404)]=null,this.instanced=!1,this.verticesPerParticle=6}init(t,e=!1){const s=B;this[s(275)]=e,this.instanced?this[s(451)]=1:this[s(451)]=6,super[s(214)](t),this[s(262)](t)}[B(431)](t){super[B(431)](t)}setActiveParticleCount(t){const e=B;super[e(447)](t),t>0?this[e(275)]?this[e(378)][e(578)]=t:this[e(378)].setDrawRange(0,this.verticesPerParticle*t):this[e(275)]?this[e(378)][e(578)]=0:this[e(378)][e(507)](0,0)}[B(547)](t){const e=B;if(t>=this.particleCount)throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this.getState(t),n=t*this[e(451)];for(let i=0;i<this[e(451)];i++)this.lifetimes.setX(n+i,s[e(601)]),this[e(382)].needsUpdate=!0,this.ages[e(485)](n+i,s.age),this.ages[e(302)]=!0,this[e(463)][e(516)](n+i,s[e(458)].x,s.sequenceElement.y,s[e(458)].z,s.sequenceElement.w),this[e(463)][e(302)]=!0,this[e(280)][e(571)](n+i,s[e(596)].x,s[e(596)].y,s.position.z),this.positions[e(302)]=!0,this.velocities.setXYZ(n+i,s[e(514)].x,s[e(514)].y,s[e(514)].z),this[e(523)][e(302)]=!0,this[e(169)][e(571)](n+i,s[e(130)].x,s[e(130)].y,s[e(130)].z),this[e(169)][e(302)]=!0,this[e(484)][e(571)](n+i,s[e(306)].x,s[e(306)].y,s[e(306)].z),this[e(484)][e(302)]=!0,this.rotations.setX(n+i,s[e(367)]),this[e(434)][e(302)]=!0,this[e(213)][e(485)](n+i,s[e(233)]),this[e(213)][e(302)]=!0,this[e(525)].setXY(n+i,s[e(466)].x,s.size.y),this[e(525)][e(302)]=!0,this[e(535)][e(571)](n+i,s.color.r,s[e(481)].g,s.color.b),this.colors.needsUpdate=!0,this[e(396)][e(485)](n+i,s.alpha),this.alphas[e(302)]=!0,this.initialSizes.setXY(n+i,s[e(273)].x,s[e(273)].y),this.initialSizes.needsUpdate=!0,this.initialAlphas[e(485)](n+i,s[e(602)]),this[e(210)][e(302)]=!0}[B(285)](t,e){super[B(285)](t,e),this.flushParticleStateToBuffers(e)}[B(250)](t,e){const s=B;if(t>=this[s(438)])throw new Error(s(342));super.setState(t,e),this[s(547)](t)}getPositions(){return this[B(280)]}getSizes(){return this.sizes}[B(197)](){return this.rotations}[B(550)](){return this[B(463)]}getColors(){return this[B(535)]}getGeometry(){return this[B(378)]}allocate(t){const e=B;super.allocate(t);const s=(t,e)=>{const s=_;return this.instanced?new(w[s(553)])(t,e):new(w[s(471)])(t,e)},n=this.verticesPerParticle*this.particleCount;if(this[e(275)]){const t=new(w[e(293)]),s=new Float32Array(18);this[e(257)]=new(w[e(471)])(s,3),t[e(310)](e(596),this[e(257)]),this[e(257)][e(302)]=!0,this[e(257)][e(571)](0,-1,1,0),this[e(257)].setXYZ(1,-1,-1,0),this[e(257)][e(571)](2,1,1,0),this[e(257)].setXYZ(3,-1,-1,0),this[e(257)][e(571)](4,1,-1,0),this[e(257)].setXYZ(5,1,1,0);const n=new Float32Array(12);this[e(200)]=new P(n,2),t[e(310)](e(300),this[e(200)]),this[e(200)][e(302)]=!0,this[e(200)][e(258)](0,0,1),this[e(200)][e(258)](1,0,0),this[e(200)][e(258)](2,1,1),this.baseUVs[e(258)](3,0,0),this[e(200)].setXY(4,1,0),this[e(200)][e(258)](5,1,1);const i=new Float32Array(6);this[e(339)]=new(w[e(471)])(i,1),t[e(310)]("customIndex",this.customIndexes),this.customIndexes[e(302)]=!0,this[e(339)].setX(0,0),this[e(339)].setX(1,1),this[e(339)][e(485)](2,3),this[e(339)][e(485)](3,1),this.customIndexes[e(485)](4,2),this.customIndexes[e(485)](5,3),this[e(378)]=(new(w[e(174)]))[e(413)](t),this[e(378)][e(578)]=0}else{this[e(378)]=new(w[e(293)]);const t=new Float32Array(n);this.customIndexes=new P(t,1),this.geometry[e(310)](e(132),this[e(339)]),this[e(339)][e(302)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this[e(451)];this.customIndexes[e(485)](t,0),this[e(339)][e(485)](t+1,1),this[e(339)][e(485)](t+2,3),this.customIndexes[e(485)](t+3,1),this[e(339)][e(485)](t+4,2),this[e(339)][e(485)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),d=new Float32Array(n),g=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(280)]=s(o,3),this.positions[e(212)](w[e(533)]),this[e(378)][e(310)](e(429),this[e(280)]),this[e(382)]=s(i,1),this.lifetimes[e(212)](w[e(533)]),this.geometry[e(310)]("lifetime",this[e(382)]),this.ages=s(r,1),this.ages[e(212)](w[e(533)]),this[e(378)][e(310)](e(356),this[e(129)]),this[e(463)]=s(a,4),this[e(463)][e(212)](w[e(533)]),this[e(378)][e(310)](e(458),this[e(463)]),this.velocities=s(c,3),this[e(523)].setUsage(I),this[e(378)].setAttribute("velocity",this[e(523)]),this.accelerations=s(h,3),this[e(169)].setUsage(w[e(533)]),this[e(378)][e(310)]("acceleration",this[e(169)]),this.normals=s(l,3),this[e(484)][e(212)](w[e(533)]),this.geometry[e(310)](e(306),this[e(484)]),this[e(434)]=s(u,1),this.rotations.setUsage(I),this[e(378)].setAttribute(e(367),this[e(434)]),this[e(213)]=s(p,1),this[e(213)][e(212)](I),this[e(378)][e(310)](e(233),this[e(213)]),this[e(525)]=s(m,2),this.sizes[e(212)](I),this[e(378)].setAttribute(e(466),this[e(525)]),this[e(535)]=s(f,3),this[e(535)][e(212)](w[e(533)]),this[e(378)][e(310)](e(481),this[e(535)]),this.alphas=s(d,1),this[e(396)][e(212)](I),this.geometry.setAttribute(e(178),this[e(396)]),this[e(248)]=s(g,2),this[e(248)][e(212)](w[e(533)]),this.geometry.setAttribute("initialSize",this[e(248)]),this.initialColors=s(S,3),this[e(404)][e(212)](w[e(533)]),this[e(378)][e(310)](e(576),this[e(404)]),this[e(210)]=s(y,1),this.initialAlphas[e(212)](w[e(533)]),this[e(378)].setAttribute(e(602),this.initialAlphas)}[B(299)](){const t=B;super[t(299)](),this.geometry&&(this[t(378)][t(299)](),this[t(378)]=null)}}class it{constructor(t,e,s,n,i){const r=B;this.length=t,this.x=e,this.y=s,this[r(391)]=n,this[r(474)]=i}}class rt{constructor(t,e){const s=B;this[s(156)]=t,this.texturePath=e,this[s(341)]=[]}[B(442)](){return this.texture}[B(147)](){return this[B(135)]}[B(267)](){const t=B;return this[t(341)][t(390)]}addFrameSet(t,e,s,n,i){this[B(341)].push(new it(t,e,s,n,i))}[B(195)](t){const e=B;if(t>=this.frameSets[e(390)])throw new Error(e(465));return this[e(341)][t]}}const at=class t extends st{constructor(t,e,s=!1,n=w[B(223)],i=!0,r){const a=B;super(),f(this,"updateMeshBounds",function(){const t=B,e=new(w[t(209)]);return function(){const s=t,n=this[s(159)].getGeometry();if(this[s(218)]){n.boundingBox||(n[s(199)]=new(w[s(528)])),n[s(199)][s(413)](this[s(199)]),!n[s(476)]&&(n[s(476)]=new(w[s(324)])),e.x=(this.boundingBox[s(448)].x+this.boundingBox[s(294)].x)/2,e.y=(this[s(199)].min.y+this.boundingBox[s(294)].y)/2,e.z=(this[s(199)][s(448)].z+this[s(199)][s(294)].z)/2;const t=this[s(199)][s(294)].x-e.x,i=this[s(199)][s(294)].y-e.y,r=this[s(199)][s(294)].z-e.z,a=Math[s(294)](Math.max(t,i),r);n[s(476)][s(502)][s(413)](e),n[s(476)][s(221)]=Math[s(405)](2*a*a)}else n.boundingSphere||(n[s(476)]=new y),n[s(476)][s(413)](this[s(476)])}}()),this[a(275)]=t,this.particleStateArray=null,this[a(487)]=null,this[a(592)]=null,this[a(325)]=e,this[a(585)]=s,this.blending=n,this.boundingBox=new(w[a(528)]),this[a(476)]=new(w[a(324)]),this[a(218)]=i,this[a(360)]=r}[B(397)](t){super.setOwner(t)}[B(146)](){return this.particleStateArray}[B(567)](t){const e=B;super[e(567)](t),this.material&&(this[e(487)][e(161)][e(506)][e(456)]=t?1:0,this[e(487)].uniformsNeedUpdate=!0)}calculatingBoundingSphereFromBox(){return this[B(218)]}[B(167)](t){const e=B;this[e(199)].copy(t),this[e(592)]&&this.updateMeshBounds()}[B(446)](t){const e=B;this[e(476)].copy(t),this[e(592)]&&this.updateMeshBounds()}render(t,e,s){e.render(t,s)}[B(214)](t){const e=B;super[e(214)](t)&&(this.particleStateArray=new nt,this[e(159)][e(214)](t,this[e(275)]),this[e(487)]=this[e(548)](null,null,null,!0,!1),this[e(487)][e(558)]=this[e(558)],this.mesh=new(w[e(270)])(this[e(159)].getGeometry(),this[e(487)]),this[e(592)].frustumCulled=!0,void 0!==this[e(360)]&&(this[e(592)][e(360)]=this[e(360)]),this[e(543)](),this[e(331)][e(204)](this[e(592)]))}[B(299)](){this[B(159)].dispose()}[B(548)](e,s,n,i,r){const a=B,o=[...Array(16).keys()].map((t=>new(w[a(498)])));if(this[a(325)])for(let t=0;t<this.atlas[a(267)]();t++){const e=this[a(325)].getFrameSet(t);o[t]=new(w[a(498)])(e.x,e.y,e[a(391)],e[a(474)])}const c=this[a(325)]?this[a(325)][a(442)]():null,h=this[a(585)],l=this[a(506)],u=this[a(275)]?1:0,p={atlasFrameSet:{type:"v4v",value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(w[a(151)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object.assign(n,p),e=e||t.Shader.getVertexShader(r),s=s||t.Shader[a(240)](i,r),new(w[a(407)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:w[a(223)],blendDstAlpha:w[a(264)],blendSrcAlpha:w[a(354)],depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=B,n=e.atlas,i=(new(w[s(337)]))[s(333)](n[s(135)]),r=new rt(i,n[s(135)]),a=n[s(249)];for(const t of a)r[s(473)](t[s(390)],t.x,t.y,t[s(391)],t[s(474)]);const o=new t(e[s(275)],r,n[s(238)]);return"Additive"==e[s(558)]?o[s(558)]=w[s(347)]:o.blending=w[s(223)],o}[(o=B(274),B(591))](t){const e=B;t=t||(t=>{const e=_;if(t[e(135)])return t[e(135)];const s=t.getTexture().source;if(s){const t=s.data;if(t){const s=t[e(355)],n=t.currentSrc;return n[e(143)](s)>=0?n[e(193)](s.length,n[e(390)]-s[e(390)]):n}}});const s=[];for(let i=0;i<this[e(325)][e(267)]();i++){const t=this.atlas[e(195)](i);s[e(499)](t)}let n=e(344);this[e(487)][e(558)]===w[e(347)]&&(n=e(555));return{instanced:this[e(275)],blending:n,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this.atlas),framesets:s}}}};f(at,o,{get VertexVars(){const t=B;return[t(588),t(179),t(495),t(518),t(398),"attribute vec2 baseUV;\n","attribute float customIndex;\n",t(421),"attribute float rotation;\n","attribute vec2 size;\n",t(164),t(534),"attribute float alpha;\n",t(185),t(131),t(175),t(565),t(455)][t(564)]("\n")},get FragmentVars(){const t=B;return[t(495),t(440),t(560),t(185),t(131),t(175),t(565),"varying float vSequenceElementT;\n"][t(564)]("\n")},getVertexShader(t){const e=B;let s=[e(540),this[e(572)]][e(564)]("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=[e(423),e(187),e(577),e(295),e(134),e(539),e(445),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(491),"   int nRowSequenceElement = sequenceElement - firstRowSections; \n","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(321),e(261),e(541),e(351),"   float nRow = step(float(firstRowSections), float(sequenceElement)); \n",e(183),e(375),"} \n","void main()\n","{\n",e(330),e(369),e(477),"   const vec2 down = vec2(0.0, -1.0);\n","   const vec2 uRight = vec2(1.0, 1.0);\n",e(392),e(216),e(584),e(439),e(372),e(538),"   } else { \n",e(556),e(426),e(235),e(575),e(144),e(557),e(255),e(536),e(377),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",e(526),e(512),e(427),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(133),e(426),e(187),e(577),e(402),e(436),e(168),e(546),e(152),e(388),"       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n",e(394),"   }  else { \n",e(582),e(314),e(426),"   float uvXOffset = atlasFrameWidth * rightSide; \n",e(551),e(329),e(152),e(252),"       float uLeftV = rotVecStep.x; \n",e(383),"       float uRightV = rotVecStep.z; \n","       float dRightV = rotVecStep.w - rotVecStep.z; \n",e(450),e(335),e(224),e(426),e(389),e(400),e(395),"   vFragColor = color; \n",e(142)][e(564)]("\n"),t&&(s+=e(424)),s+="} \n",s},getFragmentShader(t,e){const s=B;let n="#include <common> \n"+this[s(323)]+"\n";return e&&(n+=s(359)),n+=s(160),e&&(n+=s(158)),n+=t?[s(513),s(381),s(475),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(393)][s(564)]("\n"):[s(332),s(381),s(475),s(272),"   gl_FragColor.a *= vFragAlpha; \n"].join("\n"),n+="}\n",n}});let ot=at;class ct{constructor(){const t=B;this[t(589)]=0,this[t(313)]=0,this[t(230)]=0,this.age=0,this[t(340)]=0,this.activeCount=0,this.maximumActiveParticles=0}[B(304)](t){return this[B(549)](t),0}internalUpdate(t){const e=B;return this[e(356)]+=t,this.timeActive=Math[e(294)](this[e(356)]-this[e(589)],0),this.age>=this[e(589)]&&(0==this[e(313)]||this.timeActive<=emissionDuration)}[B(166)](t){this[B(230)]+=t}}class ht extends ct{constructor(){super(),this.emissionMinimum=0,this.emissionMaximum=0}}class lt extends ht{constructor(t=0){const e=B;super(),this[e(296)]=t}[B(304)](t){const e=B;if(this[e(549)](t)){const t=this[e(296)]*this[e(340)]-this[e(230)];if(t>=1){const s=Math[e(515)](t);return this[e(166)](s),s}}return 0}static[B(490)](t){const e=B,s=new lt;return s.emissionRate=t[e(296)]||0,s}[B(591)](){return{emissionRate:this[B(296)]}}}const ut=class t{constructor(t){this.name=t}static[(c=B(415),h=B(245),B(468))](e){const s=B;let n=t[s(415)];return e===w[s(151)]?n=t.Vector2:e===w[s(209)]?n=t.Vector3:e===A?n=t[s(498)]:e===S&&(n=t.Color),n}static[B(173)](t,e){const s=B;switch(e){case w[s(151)]:return(new F)[s(222)](t);case g:return(new g)[s(222)](t);case w[s(498)]:return(new(w[s(498)]))[s(222)](t);case w[s(245)]:return(new S)[s(222)](t)}return t}};f(ut,c,new ut("Default")),f(ut,"Vector2",new ut(B(151))),f(ut,"Vector3",new ut(B(209))),f(ut,"Vector4",new ut(B(498))),f(ut,h,new ut(B(245)));let pt=ut;class mt{constructor(t){const e=B;this.outType=t,this[e(322)]=pt[e(468)](t)}}class ft extends mt{constructor(t,e,s,n,i,r){const a=B;super(t),this[a(457)]=e,this[a(361)]=s,this[a(292)]=n,this[a(232)]=i,this[a(554)]=r}[B(519)](t){const e=B,s=Math[e(500)]()*this[e(292)];switch(this.outTypeID){case pt[e(415)]:t=Math.random()*this[e(457)]+this[e(361)],this[e(554)]&&(t=t<0?-1:1);break;case pt[e(151)]:t.set(this[e(517)](s,"x"),this.generateForElement(s,"y"));break;case pt[e(209)]:t.set(this[e(517)](s,"x"),this.generateForElement(s,"y"),this.generateForElement(s,"z"));break;case pt[e(498)]:t.set(this[e(517)](s,"x"),this.generateForElement(s,"y"),this[e(517)](s,"z"),this.generateForElement(s,"w"))}return this[e(554)]&&t[e(554)](),t}[B(517)](t,e){const s=B;return t+Math[s(500)]()*this[s(457)][e]+this[s(361)][e]+this[s(232)]}[B(425)](){const t=B;return new ft(this[t(489)],this[t(457)],this[t(361)],this[t(292)],this[t(232)],this[t(554)])}static[B(399)](t){const e=B;return t instanceof F||t instanceof w[e(209)]||t instanceof w[e(498)]||t instanceof w[e(245)]?t[e(353)]():t}static[B(490)](t){const e=B;return new ft(t[e(184)],pt[e(173)](t[e(457)],t[e(184)]),pt[e(173)](t[e(361)],t[e(184)]),t.uniformRange||0,t.uniformOffset||0,t[e(554)])}[B(591)](t){const e=B,s={range:ft.getParameterJSON(this[e(457)]),offset:ft[e(399)](this.offset),uniformRange:this[e(292)],uniformOffset:this[e(232)]},n=t.getTypePath(this[e(457)].constructor);return null!=n&&(s.type=n),{type:t.getTypePath(ft),params:s}}}class dt extends Z{constructor(t,e,s,n,i){const r=B;super(),this[r(457)]=t,this.offset=e,this[r(292)]=s,this[r(232)]=n,this[r(554)]=i,this[r(409)]=new ft(0,this[r(457)],this.offset,this.uniformRange,this[r(232)],this[r(554)])}initializeState(t){t[B(601)]=this.generator.generate()}static[B(490)](t,e){const s=B;return new dt(e[s(457)],e.offset,e[s(292)],e[s(232)],e[s(554)])}[B(591)](){const t=B;return{range:this[t(457)],offset:this.offset,uniformRange:this.uniformRange,uniformOffset:this[t(232)],normalize:this[t(554)]}}}class wt extends Z{constructor(t){const e=B;super(),this[e(409)]=t.clone()}initializeState(t){const e=B;t[e(367)]=this.generator[e(519)](t.rotation)}static[B(490)](t,e){const s=B,n=e[s(409)][s(184)][s(490)](e[s(409)].params);return new wt(n)}[B(591)](t){const e=B;return{generator:this.generator[e(591)](t)}}}class gt extends Z{constructor(t,e,s,n,i){const r=B;super(),this[r(457)]=t,this[r(361)]=e,this[r(292)]=s,this[r(232)]=n,this.normalize=i,this[r(409)]=new ft(0,this[r(457)],this.offset,this[r(292)],this[r(232)],this[r(554)])}[B(263)](t){const e=B;t[e(233)]=this[e(409)][e(519)]()}static[B(490)](t,e){const s=B;return new gt(e[s(457)],e[s(361)],e[s(292)],e[s(232)],e[s(554)])}[B(591)](){const t=B;return{range:this[t(457)],offset:this[t(361)],uniformRange:this[t(292)],uniformOffset:this[t(232)],normalize:this.normalize}}}class St extends Z{constructor(t,e){const s=B;super(),this[s(247)]=new ft(w[s(209)],t,e,0,0,!1)}[B(263)](t){this.randomGenerator.generate(t.position)}static[B(490)](t,e){const s=B;return new St((new(w[s(209)]))[s(222)](e[s(457)]),(new g)[s(222)](e[s(361)]))}[B(591)](){const t=B;return{range:this[t(247)][t(457)][t(353)](),offset:this.randomGenerator[t(361)][t(353)]()}}}class yt extends Z{constructor(t){const e=B;super(),this[e(409)]=t[e(425)]()}[B(263)](t){const e=B;this[e(409)][e(519)](t[e(466)]),t.initialSize.copy(t[e(466)])}static fromJSON(t,e){const s=B,n=e[s(409)][s(184)][s(490)](e[s(409)].params);return new yt(n)}[B(591)](t){const e=B;return{generator:this[e(409)][e(591)](t)}}}class vt extends Z{constructor(t,e,s,n,i=!0){const r=B;super(),this[r(320)]=new ft(w[r(209)],t,e,0,0,!0),this[r(414)]=new ft(0,s,n,0,0,!1),this.normalizeDirection=i}[B(263)](t){const e=B;this[e(320)][e(519)](t[e(514)]),this[e(237)]&&t.velocity[e(554)](),t[e(514)][e(545)](this[e(414)][e(519)]())}static[B(490)](t,e){const s=B;return new vt((new(w[s(209)]))[s(222)](e[s(457)]),(new(w[s(209)])).fromArray(e[s(361)]),e[s(281)],e[s(594)])}[B(591)](){const t=B;return{range:this[t(320)].range[t(353)](),offset:this.directionGenerator[t(361)].toArray(),speedRange:this[t(414)].range,speedOffset:this[t(414)][t(361)]}}}class xt extends Z{constructor(t,e=!1){const s=B;super(),this[s(497)](t),this.reverse=e}[B(497)](t){this.particleSequences=t}initializeState(t){const e=B,s=this[e(501)][e(428)](),n=s[e(390)]*Math.random(),i=s[Math[e(515)](n)],r=this[e(501)][e(603)](i),a=t[e(458)];this.reverse?a.x=r.length-1:a.x=r[e(478)],a.y=r.id,a.z=r[e(478)],a.w=r[e(390)],t[e(531)]=X[e(350)]}static[B(490)](t,e){const s=B;return new xt(t[s(138)](),e[s(376)])}[B(591)](){return{reverse:this[B(376)]}}}class Pt extends G{constructor(t,e,s=!1,n=!1){const i=B;super(),this[i(501)]=t,this[i(587)]=e,this[i(297)]=s,this[i(376)]=n}[B(453)](t,e){const s=B,n=t.sequenceElement,i=this[s(501)][s(603)](n.y),r=e/this[s(587)];if(this[s(376)]){if(n.x-=r,n.x<i[s(478)]&&(n.x=i.start+i[s(390)],!this[s(297)]))return!1}else if(n.x+=r,n.x>=i.start+i[s(390)]&&(n.x=i.start,!this[s(297)]))return!1;return!0}static[B(490)](t,e){const s=B;return new Pt(t.getParticleSequences(),e[s(587)],e[s(297)],e[s(376)])}[B(591)](){return{speed:this[B(587)],loop:this.loop,reverse:this.reverse}}}class It{constructor(t,e){f(this,l,function(){const t=B,e={lowerIndex:0,upperIndex:0,localT:0},s=new F,n=new(w[t(209)]),i=new(w[t(498)]),r=new(w[t(245)]),a=s=>(n,i,r,a)=>{const o=t;It[o(586)](r,n,e),s[o(413)](i[e.upperIndex])[o(545)](e.localT),a[o(413)](i[e[o(171)]])[o(545)](1-e[o(196)])[o(204)](s)};return function(o){const c=t;switch(o){case pt[c(415)]:return(t,s,n)=>{const i=c;return It[i(586)](n,t,e),(1-e[i(196)])*s[e[i(171)]]+e[i(196)]*s[e[i(510)]]};case pt[c(151)]:return a(s);case pt[c(209)]:return a(n);case pt[c(498)]:return a(i);case pt[c(245)]:return a(r)}}}());const s=B;this[s(269)]=[],this[s(412)]=[],this[s(352)]=pt[s(468)](t),e?this.interpolator=e:this[s(162)]=this[s(483)](this[s(352)])}*[Symbol[B(317)]](){const t=B;let e=0;for(;e<this[t(384)]();)yield{element:this.elements[e],tValue:this.tValues[e]},e++}[B(384)](){return this[B(269)].length}[B(208)](t){const e=B;if(t>=this.getElementCount())throw new Error(e(259));return this.elements[t]}[B(373)](t){const e=B;if(t>=this[e(384)]())throw new Error(e(472));return this[e(412)][t]}[B(241)](t,e){const s=B;this.elements[s(499)](t),this[s(412)][s(499)](e)}[B(338)](t,e){const s=B;return this[s(162)](t,this[s(269)],this[s(412)],e)}static[(l=B(483),B(586))](t,e,s){const n=B,i=t[n(390)];if(0===i)return s[n(171)]=-1,s[n(510)]=-1,void(s[n(196)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(171)]=H[n(155)](a,0,i-1),s[n(510)]=H[n(155)](o,0,i-1);const c=t[a],h=t[o];s[n(196)]=(e-c)/(h-c)}}class At extends G{constructor(t,e=!1){const s=B;super(),this[s(362)]=e,this.interpolationElements=new It(t)}[B(241)](t,e){const s=B;this[s(265)][s(241)](t,e)}[B(305)](t){const e=B;for(const s of t)this[e(265)][e(241)](s[0],s[1])}[B(201)](t,e){const s=B;for(const n of e){const[...e]=n[0];this[s(265)][s(241)](new t(...e),n[1])}}[B(309)](t,e){const s=B;let n=0;switch(t[s(531)]){case X[s(544)]:n=0!=t[s(601)]?t[s(356)]/t[s(601)]:t.age;break;case X[s(350)]:n=t.sequenceElement.x/t[s(458)].w}return this.interpolationElements[s(338)](n,e)}}class Ft extends At{constructor(t=!1){super(0,t)}[B(371)](t){super[B(305)](t)}updateState(t){const e=B;return this[e(362)]?t[e(178)]=t[e(602)]*this.getInterpolatedValue(t,t.alpha):t[e(178)]=this[e(309)](t,t[e(178)]),!0}static[B(490)](t,e){return new Ft(e.relativeToInitialValue)}[B(591)](){const t=B;return{params:{relativeToInitialValue:this[t(362)]},elements:[...this[t(265)]][t(604)]((e=>[e.element,e[t(598)]]))}}}class Tt extends At{constructor(t=!1){super(w[B(151)],t),f(this,u,function(){const t=B,e=new(w[t(151)]);return function(s){const n=t;return this.getInterpolatedValue(s,e),this[n(362)]?s[n(466)][n(380)](s.initialSize.x*e.x,s[n(273)].y*e.y):s[n(466)][n(413)](e),!0}}())}addElementsFromParameters(t){const e=B;super[e(201)](w[e(151)],t)}static[(u=B(453),B(490))](t,e){return new Tt(e[B(362)])}toJSON(){const t=B;return{params:{relativeToInitialValue:this[t(362)]},elements:[...this.interpolationElements][t(604)]((e=>[e[t(194)][t(353)](),e[t(598)]]))}}}class Et extends At{constructor(t=!1){super(w[B(245)],t),f(this,p,function(){const t=B,e=new(w[t(245)]);return function(s){const n=t;return this.getInterpolatedValue(s,e),this[n(362)]?s.color[n(266)](s[n(576)].r*e.r,s[n(576)].g*e.g,s[n(576)].b*e.b):s.color[n(413)](e),!0}}())}[B(371)](t){const e=B;super[e(201)](w[e(245)],t)}static[(p=B(453),B(490))](t,e){return new Et(e[B(362)])}[B(591)](){const t=B;return{params:{relativeToInitialValue:this[t(362)]},elements:[...this[t(265)]][t(604)]((e=>[e.element[t(353)](),e.tValue]))}}}class bt extends G{constructor(t){const e=B;super(),this[e(409)]=t[e(425)]()}addElementsFromParameters(t){super[B(201)](THREE.Vector3,t)}updateState(t){const e=B;return this[e(409)][e(519)](t[e(130)]),!0}static[B(490)](t,e){const s=B,n=e[s(409)][s(184)][s(490)](e.generator.params);return new bt(n)}[B(591)](t){const e=B;return{generator:this[e(409)][e(591)](t)}}}class zt extends mt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=B;super(w[p(209)]),this[p(226)]=t,this[p(140)]=e,this.rangePhi=s,this[p(574)]=n,this[p(464)]=i,this[p(511)]=r,this[p(366)]=a,this[p(345)]=o,this[p(527)]=c,this[p(559)]=h,this[p(449)]=l,this[p(460)]=u,this[p(153)]=(new(w[p(209)]))[p(380)](0,1,0)}generate(t){const e=B;this.tempUp[e(380)](0,1,0);const s=Math[e(500)]()*this[e(226)]+this.offsetTheta,n=Math[e(500)]()*this[e(290)]+this[e(574)],i=Math.cos(s),r=Math.sin(s),a=Math[e(234)](n),o=Math[e(289)](n);t[e(380)](i,0,-r),t[e(545)](a),this[e(153)][e(545)](o),t[e(204)](this.tempUp),t.normalize();const c=Math.random()*this[e(464)]+this[e(511)];t[e(545)](c),t.x*=this[e(366)],t.y*=this[e(345)],t.z*=this.scaleZ,t.x+=this[e(559)],t.y+=this[e(449)],t.z+=this.offsetZ}[B(425)](){const t=B;return new zt(this[t(226)],this[t(140)],this.rangePhi,this.offsetPhi,this.rangeRadius,this.offsetRadius,this[t(366)],this.scaleY,this.scaleZ,this[t(559)],this[t(449)],this.offsetZ)}static[B(490)](t){const e=B;return new zt(t[e(226)],t[e(140)],t[e(290)],t.offsetPhi,t[e(464)],t[e(511)],t[e(366)],t[e(345)],t[e(527)],t[e(559)],t.offsetY,t[e(460)])}[B(591)](t){const e=B;return{type:t[e(365)](zt),params:{rangeTheta:this[e(226)],offsetTheta:this[e(140)],rangePhi:this.rangePhi,offsetPhi:this[e(574)],rangeRadius:this[e(464)],offsetRadius:this[e(511)],scaleX:this[e(366)],scaleY:this[e(345)],scaleZ:this[e(527)],offsetX:this[e(559)],offsetY:this[e(449)],offsetZ:this.offsetZ}}}}class Rt{constructor(){}}class Ot extends Rt{constructor(t,e,s,n,i,r,a=void 0){const o=B;super(),this.owner=null,this[o(441)]=null,this[o(128)]=performance.now()/1e3,this[o(256)]=this.lastUpdateTime,this[o(136)]=this[o(128)],this[o(503)]=1,this[o(569)]=1,this[o(411)]=new(w[o(209)]),this[o(401)]=new(w[o(209)]),this[o(206)]=1,this[o(522)]=2,this[o(180)]=t,this.init(t,e,s,n,i,r,a)}[B(214)](t,e,s,n,i,r,a=void 0){const o=B;this.owner=new T,t[o(204)](this[o(331)]),n=n||new(w[o(245)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this.light=new(w[o(236)])(16777215,2,0,1),this[o(441)].color[o(413)](n),this.light[o(357)]=i,this[o(441)][o(215)]=r,this.light.castShadow=c,c&&(this[o(441)][o(420)][o(220)][o(391)]=a[o(220)]||512,this.light[o(420)][o(220)][o(474)]=a[o(220)]||512,this[o(441)][o(420)][o(244)][o(284)]=a[o(192)]||.5,this.light.shadow.camera[o(279)]=a[o(403)]||500,this[o(441)][o(420)][o(363)]=a[o(363)]||1e-4,this[o(441)].shadow[o(221)]=a[o(253)]||1),this[o(331)].add(this[o(441)]),this[o(206)]=e,this[o(522)]=s,this.light}[B(299)](){const t=B;this[t(180)][t(277)](this.owner)}[B(189)](){return this[B(441)]}[B(387)](t){this[B(206)]=t}[B(304)](t){const e=B,s=t-this[e(256)],n=1/8,i=this.intensityFlux;if(s>n){this.lastIntensityFlickerTime=t;let s=1+2*(Math[e(500)]()-.5)*i*n;const r=s-this[e(503)];s=this[e(503)]+r,this.lastIntensityAdjuster=this[e(569)],this[e(569)]=H[e(155)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this.lastIntensityAdjuster+t*this[e(569)];this[e(441)][e(206)]=i*this.intensity}if(t-this[e(136)]>.0625){this.lastPositionFlickerTime=t;const s=t-this.lastUpdateTime;this[e(401)][e(380)](Math.random()-.5,Math[e(500)]()-.5,Math[e(500)]()-.5),this[e(401)].multiplyScalar(s),this[e(401)][e(204)](this[e(411)]),this[e(401)].multiplyScalar(.5),this[e(331)][e(596)].copy(this[e(401)]),this[e(411)].copy(this[e(401)]),this[e(128)]=t}}}class Vt{constructor(){const t=B;this[t(385)]={default:{}},this[t(191)]={},this[t(217)]=0}addType(t,e){const s=B;this[s(229)](s(251),t,e)}addTypeToNamespace(t,e,s){const n=B;if(!this[n(385)][t])throw new Error(n(479));if(this[n(385)][t][e])throw new Error(n(157));this[n(599)](s,e,t)&&(this.jsonTypes[t][e]=s)}[B(227)](t,e){const s=B;if(this.jsonTypes[t])throw new Error(s(494));this[s(385)][t]=e;for(const n in e)if(!e.hasOwnProperty||e[s(437)](n)){const i=e[n];this[s(599)](i,n,t)}}[B(599)](t,e,s){const n=B;if(typeof t===n(505)){const i=this[n(217)]++;t[n(176)]=i,this.jsonTypeNames[i]={namespace:s,typeName:e}}}[B(358)](t,e){const s=B;if(!this[s(385)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(385)][t][e])throw new Error("JSONTypeStore::getType() -> typeName does not exist");return this.jsonTypes[t][e]}[B(311)](t){const e=B;return this.jsonTypeNames[t[e(176)]]}getTypePath(t){const e=B,s=this[e(311)](t);if(s)return s[e(508)]+"."+s[e(271)]}[B(368)](t){const e=B,s=t[e(406)]("."),n=s[0];s.splice(0,1);return{namespace:n,typeName:s[e(564)](".")}}[B(443)](t){const e=B,{namespace:s,typeName:n}=this[e(368)](t);return this[e(358)](s,n)}}function Ct(t){function e(t){const s=_;if(typeof t===s(374))return function(t){}[s(318)](s(609))[s(552)](s(303));1!==(""+t/t)[s(390)]||t%20==0?function(){return!0}[s(318)]("debu"+s(298)).call(s(181)):function(){return!1}[s(318)](s(283)+s(298))[s(552)](s(410)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const qt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:bt,AnimatedSpriteRenderer:ot,Atlas:rt,BaseParticleStateInitializer:k,BaseParticleStateOperator:J,BoxPositionInitializer:St,ColorInterpolatorOperator:Et,ConstantParticleEmitter:lt,FlickerLight:Ot,JSONTypeStore:Vt,LifetimeInitializer:dt,Manager:et,OpacityInterpolatorOperator:Ft,ParticleStateArray:Y,ParticleSystem:tt,ParticleSystemState:K,RandomGenerator:ft,RandomVelocityInitializer:vt,Renderer:st,RotationInitializer:wt,RotationalSpeedInitializer:gt,SequenceInitializer:xt,SequenceOperator:Pt,SizeInitializer:yt,SizeInterpolatorOperator:Tt,SphereRandomGenerator:zt},Symbol.toStringTag,{value:"Module"})),Mt=Ut;function Nt(){const t=["apply","gger","4RexQHd","value","error","30Fiqciu","setSimulateInWorldSpace","Manager",'{}.constructor("return this")( )',"792474OHrrEp","182328ecMURT","setRGB","bind","ConstantParticleEmitter","LifetimeInitializer","while (true) {}","debu","start","fireF","Object3D","addParticleStateInitializer","info","SizeInterpolatorOperator","RotationInitializer","addNamespace","console","addComponent","Vector3","addParticleSystem","AdditiveBlending","THREE","31690NcIPza","getParticleSequences","280xnneee","counter","1791RmdeMt","137414huJHyp","table","Vector2","1111VPikYY","init","ColorInterpolatorOperator","98CKElPh","5857592cjzSTL","SequenceInitializer","BoxPositionInitializer","scale","action","SequenceOperator","138915ZGjjXH","JSONTypeStore","log","SizeInitializer","TextureLoader","23MyGwFN","call","prototype","addParticleStateOperator","RotationalSpeedInitializer","RandomVelocityInitializer","setEmitter","exception","addFrameSet","AnimatedSpriteRenderer","constructor","addElementsFromParameters","length","input","OpacityInterpolatorOperator","RandomGenerator","warn","1155190QxFRUd","addParticleSequence","addElements","position","Atlas","copy","function *\\( *\\)","stateObject","__proto__","return (function() ","toString","AccelerationOperator","ParticleSystem"];return(Nt=function(){return t})()}!function(t,e){const s=Ut,n=Nt();for(;;)try{if(915743===-parseInt(s(478))/1*(-parseInt(s(460))/2)+-parseInt(s(433))/3*(parseInt(s(426))/4)+parseInt(s(495))/5*(parseInt(s(429))/6)+-parseInt(s(473))/7*(-parseInt(s(457))/8)+-parseInt(s(459))/9*(parseInt(s(455))/10)+-parseInt(s(463))/11*(-parseInt(s(434))/12)+-parseInt(s(467))/13*(parseInt(s(466))/14))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const _t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Ut(424)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){_t(this,(function(){const t=Ut,e=new RegExp(t(501)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Xt(t(464));e.test(n+"chain")&&s.test(n+t(491))?Xt():n("0")}))()}();const Bt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Ut(424)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Ut(t,e){const s=Nt();return(Ut=function(t,e){return s[t-=424]})(t,e)}Bt(void 0,(function(){const t=Ut;let e;try{e=Function(t(504)+t(432)+");")()}catch(i){e=window}const s=e.console=e[t(449)]||{},n=[t(475),t(494),t(445),t(428),t(485),t(461),"trace"];for(let r=0;r<n.length;r++){const e=Bt[t(488)][t(480)][t(436)](Bt),i=n[r],a=s[i]||e;e[t(503)]=Bt[t(436)](Bt),e[t(505)]=a[t(505)][t(436)](a),s[i]=e}}))();const jt=R({__name:Mt(442),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Mt,s=t,n=new(qt[e(431)]),i=new(qt[e(474)]);i.addNamespace(e(454),w),i[e(448)]("Photons",qt);const{renderer:r,camera:a,scene:o}=b(),c=new g(...s[e(498)]);n[e(452)](((t,s)=>{const n=e,i=new(w[n(443)]);i[n(498)][n(500)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(w[n(477)])).load(a),c=new rt(o,a);c[n(486)](1,0,0,1,1);const h=new(qt[n(487)])(!0,c,!0,w[n(453)]),l=new tt(i,h,r.value);l[n(464)](150),l.setEmitter(new(qt[n(437)])(6));const u=new(qt[n(493)])(w[n(462)],new(w[n(462)])(0,0),new(w[n(462)])(.15*t,.15*t),0,0,!1);l[n(444)](new(qt[n(438)])(3,1,0,0,!1)),l.addParticleStateInitializer(new yt(u)),l.addParticleStateInitializer(new(qt[n(469)])(new(w[n(451)])(.05*t,0,.05*t),new(w[n(451)])(-.025*t,0,-.025*t))),l[n(444)](new(qt[n(483)])(new(w[n(451)])(.4*t,.5*t,.4*t),new(w[n(451)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l.addParticleStateOperator(new Ft).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(481)](new(qt[n(465)])(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new zt(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(qt[n(506)])(p)),l[n(430)](!0),l[n(441)](),l})(s.scale,c)),n[e(452)](((t,s)=>{const n=e,i=new T;i.position.copy(s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(w[n(477)])).load(a),c=new(qt[n(499)])(o,a);c[n(486)](18,0,0,.125,.25);const h=new(qt[n(487)])(!0,c,!0),l=new(qt[n(507)])(i,h,r[n(427)]);l.init(50),l[n(484)](new lt(10)),l[n(496)](0,18);const u=l[n(456)]();l[n(444)](new dt(0,0,0,0,!1)),l[n(444)](new(qt[n(447)])(new(qt[n(493)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(444)](new(qt[n(482)])(1,-1,0,0,!1)),l[n(444)](new(qt[n(476)])(new(qt[n(493)])(w[n(462)],new(w[n(462)])(.25*t,.25*t),new(w[n(462)])(.5*t,.5*t),0,0,!1))),l[n(444)](new(qt[n(469)])(new(w[n(451)])(.05*t,0,.05*t),new(w[n(451)])(-.025*t,0,-.025*t))),l[n(444)](new(qt[n(483)])(new g(.05*t,.4*t,.05*t),new g(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l.addParticleStateInitializer(new(qt[n(468)])(u)),l.addParticleStateOperator(new(qt[n(472)])(u,.07,!1));l[n(481)](new(qt[n(492)]))[n(497)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(481)](new(qt[n(446)])(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(481)](new(qt[n(465)])(!0))[n(489)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(481)](new(qt[n(506)])(new ft(w[n(451)],new(w[n(451)])(0,0,0),new(w[n(451)])(0,1.5*t,0),0,0,!1))),l[n(430)](!0),l[n(441)](),l})(s[e(470)],c)),n[e(452)](((t,s)=>{const n=e,i=new(w[n(443)]);i.position[n(500)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new E).load(a),c=new rt(o,a);c[n(486)](16,0,0,212/1024,.25);const h=new(qt[n(487)])(!0,c,!0),l=new(qt[n(507)])(i,h,r[n(427)]);l.init(20),l[n(484)](new(qt[n(437)])(5)),l[n(496)](0,16);const u=l[n(456)]();l[n(444)](new(qt[n(438)])(0,0,0,0,!1)),l[n(444)](new(qt[n(447)])(new ft(0,Math.PI,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(qt[n(482)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(444)](new yt(new(qt[n(493)])(w[n(462)],new(w[n(462)])(0,0),new(w[n(462)])(0,0),.2*t,.65*t,!1))),l[n(444)](new(qt[n(469)])(new(w[n(451)])(.1*t,0,.1*t),new(w[n(451)])(-.05*t,0,-.05*t))),l.addParticleStateInitializer(new(qt[n(483)])(new(w[n(451)])(.02*t,.4*t,.02*t),new g(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l.addParticleStateInitializer(new(qt[n(468)])(u)),l[n(481)](new(qt[n(472)])(u,.1,!1));l[n(481)](new Ft)[n(497)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(481)](new(qt[n(446)])(!0))[n(489)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l.addParticleStateOperator(new(qt[n(465)])(!0))[n(489)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(481)](new(qt[n(506)])(new(qt[n(493)])(g,new(w[n(451)])(0,0,0),new g(0,1.5*t,0),0,0,!1))),l[n(430)](!0),l[n(441)](),l})(s[e(470)],c)),n[e(450)](((t,s=10)=>{const n=e,i=new(w[n(443)]);o[n(427)].add(i),i[n(498)][n(500)](t);return new Ot(i,s,2,(new S)[n(435)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=z();return h((()=>{const t=e;n.update(),n.render(r[t(427)],a[t(427)])})),(t,e)=>null}});function Xt(t){function e(t){const s=Ut;if("string"==typeof t)return function(t){}[s(488)](s(439)).apply(s(458));1!==(""+t/t)[s(490)]||t%20==0?function(){return!0}[s(488)](s(440)+s(425))[s(479)](s(471)):function(){return!1}.constructor(s(440)+s(425))[s(424)](s(502)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Dt(t,e){const s=Zt();return(Dt=function(t,e){return s[t-=123]})(t,e)}const Yt=Dt;!function(t,e){const s=Dt,n=Zt();for(;;)try{if(238748===-parseInt(s(150))/1*(parseInt(s(124))/2)+parseInt(s(159))/3*(parseInt(s(146))/4)+parseInt(s(126))/5*(-parseInt(s(147))/6)+-parseInt(s(125))/7*(-parseInt(s(135))/8)+parseInt(s(144))/9*(parseInt(s(163))/10)+parseInt(s(149))/11*(parseInt(s(160))/12)+-parseInt(s(142))/13)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Wt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Dt(123)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Wt(this,(function(){const t=Dt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(137),"i"),n=Gt(t(133));e[t(127)](n+"chain")&&s.test(n+t(154))?Gt():n("0")}))()}();const Lt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Dt(123)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Zt(){const t=["bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","fireF","action","error","9842963PiEpxM","console","1521Arunph","return (function() ","4gyRXQQ","6LwWmJM","string","197879OSnVwq","1HXtEhi","toString","counter","camera","input","call","context","info","constructor","1342581trALKi","276RbgksX","log","trace","25310brAhSk","while (true) {}","debu","pagesShowRef","gger","value","position","perspectiveCameraRef","apply","775388lKLFbf","7RmPwno","1801890drHduE","test","tcRef","length","__proto__","table","$refs","init","prototype","3639664pnYmSw"];return(Zt=function(){return t})()}Lt(void 0,(function(){const t=Dt;let e;try{e=Function(t(145)+'{}.constructor("return this")( ));')()}catch(i){e=window}const s=e[t(143)]=e.console||{},n=[t(161),"warn",t(157),t(141),"exception",t(131),t(162)];for(let r=0;r<n.length;r++){const e=Lt.constructor[t(134)][t(136)](Lt),i=n[r],a=s[i]||e;e[t(130)]=Lt[t(136)](Lt),e[t(151)]=a[t(151)][t(136)](a),s[i]=e}}))();const kt=R({__name:Yt(139),setup(t){const e=O();return V((()=>{const t=Dt;e[t(168)]&&(e[t(168)][t(132)][t(128)]?e[t(168)][t(132)][t(128)][t(156)][t(153)][t(168)][t(169)][t(138)](580,360,500):e[t(168)][t(132)].perspectiveCameraRef&&e.value[t(132)][t(170)][t(169)][t(138)](580,360,500))})),(t,s)=>{const n=Dt;return C(),q(d,{ref_key:n(166),ref:e},{ability:M((()=>[N(jt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Gt(t){function e(t){const s=Dt;if(typeof t===s(148))return function(t){}.constructor(s(164))[s(123)](s(152));1!==(""+t/t)[s(129)]||t%20==0?function(){return!0}.constructor(s(165)+s(167))[s(155)](s(140)):function(){return!1}[s(158)]("debu"+s(167)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{kt as default};
