import{_ as t,bN as n,a3 as o}from"./three.OosFxi571739442316051.js";import{a as r}from"./@tresjs.4XV_x0mI1739442316051.js";import{d as e,b as a,a3 as s,w as u,o as c,H as i,N as f,aj as l,ak as p}from"./@vue.NRI7TcgI1739442316051.js";!function(t,n){const o=v,r=g();for(;;)try{if(925813===-parseInt(o(335))/1*(parseInt(o(333))/2)+-parseInt(o(347))/3+-parseInt(o(359))/4+parseInt(o(370))/5*(parseInt(o(338))/6)+parseInt(o(358))/7+parseInt(o(372))/8*(-parseInt(o(339))/9)+parseInt(o(362))/10*(parseInt(o(377))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=v,n=new RegExp(t(344)),o=new RegExp(t(371),"i"),r=_("init");n.test(r+t(346))&&o[t(345)](r+t(386))?_():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(334)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(){const t=["project_vertex","\n       varying vec2 vUv;\n\t\t\t \t","toString","41247371qpMLet","trace",'{}.constructor("return this")( )',"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","return (function() ","worldpos_vertex","info","action","input","length","error","\n\t ","\n      \t","933398parulR","apply","2CapSsT","stateObject","packing","1166826OGNugM","2224395FITznT","console","defaultnormal_vertex","begin_vertex","shadowmap_pars_vertex","function *\\( *\\)","test","chain","3188367nwoOIQ","bind","\n       void main() {\n\t\t\t\t\t","bsdfs","gger","exception","beginnormal_vertex","\n          ","while (true) {}","common","__proto__","647591UOPJkr","293764fiZUzZ","log","constructor","10rypoWZ","ShaderChunk","shadowmap_pars_fragment","lights_pars_begin","counter","warn","debu","shadowmask_pars_fragment","10HLrhqx","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","40CTInRq","table"];return(g=function(){return t})()}d(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(382)+t(379)+");")()}catch(o){n=window}return n}(),o=n[t(340)]=n.console||{},r=[t(360),t(367),t(384),t(388),t(352),t(373),t(378)];for(let e=0;e<r.length;e++){const n=d[t(361)].prototype[t(348)](d),a=r[e],s=o[a]||n;n[t(357)]=d[t(348)](d),n[t(376)]=s[t(376)][t(348)](s),o[a]=n}}))();const m=()=>{const o=v;return o(375)+t[o(363)][o(356)]+o(332)+t[o(363)][o(350)]+o(332)+t[o(363)][o(343)]+o(349)+t[o(363)][o(353)]+"\n          "+n[o(341)]+o(354)+t[o(363)][o(342)]+o(354)+n[o(374)]+o(354)+t[o(363)][o(383)]+o(354)+n.shadowmap_vertex+o(380)};function v(t,n){const o=g();return(v=function(t,n){return o[t-=331]})(t,n)}const w=()=>{const n=v;return n(381)+t[n(363)][n(356)]+"\n\t "+t[n(363)][n(337)]+"\n\t "+t[n(363)][n(350)]+n(331)+t[n(363)][n(365)]+n(331)+t[n(363)][n(364)]+n(331)+t[n(363)][n(369)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function _(t){function n(t){const o=v;if("string"==typeof t)return function(t){}[o(361)](o(355))[o(334)](o(366));1!==(""+t/t)[o(387)]||t%20==0?function(){return!0}[o(361)]("debu"+o(351)).call(o(385)):function(){return!1}[o(361)](o(368)+"gger")[o(334)](o(336)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=I;!function(t,n){const o=I,r=T();for(;;)try{if(660285===parseInt(o(243))/1+-parseInt(o(209))/2+-parseInt(o(236))/3+-parseInt(o(193))/4*(-parseInt(o(206))/5)+-parseInt(o(227))/6+parseInt(o(195))/7+parseInt(o(233))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=I,n=new RegExp(t(200)),o=new RegExp(t(192),"i"),r=k(t(199));n[t(220)](r+t(224))&&o.test(r+"input")?k():r("0")}))()}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function I(t,n){const o=T();return(I=function(t,n){return o[t-=192]})(t,n)}b(void 0,(function(){const t=I,n=function(){const t=I;let n;try{n=Function(t(203)+t(228)+");")()}catch(o){n=window}return n}(),o=n[t(239)]=n[t(239)]||{},r=[t(221),t(212),"info","error","exception",t(222),t(211)];for(let e=0;e<r[t(194)];e++){const n=b.constructor.prototype[t(201)](b),a=r[e],s=o[a]||n;n.__proto__=b[t(201)](b),n[t(245)]=s[t(245)][t(201)](s),o[a]=n}}))();const S=[x(197)],C=[x(219)];function T(){const t=["length","8125866OlsxzW","uniforms","rotation-x","stateObject","init","function *\\( *\\)","bind","string","return (function() ","UniformsLib","gger","337630kpTGjB","uShadowColor","call","1002848aSvyGZ","TresMesh","trace","warn","action","TresPlaneGeometry","debu","tmRef","shadowColor","lights","args","test","log","table","value","chain","while (true) {}","Color","6605478AGCBnm",'{}.constructor("return this")( )',"#999","TresShaderMaterial","fEdge","DoubleSide","6243120mYdkYb","counter","wrapS","3346707HHuirN","whiteFloorMesh","UniformsUtils","console","#990","constructor","color","964281VQlrGi","size","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","28jcmnDa"];return(T=function(){return t})()}const j=e({__name:x(237),props:{size:{default:[20,20]},color:{default:x(240)},shadowColor:{default:x(229)},edge:{default:.35}},async setup(n){const e=x;let h,d;const g=n,v=a(),{map:_}=([h,d]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(235)]=_.wrapT=o;const y={uniforms:t[e(238)].merge([t[e(204)][e(218)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(226)])(g.color)},uShadowColor:{value:new(t[e(226)])(g.shadowColor)},fEdge:{type:"f",value:g.edge}}]),side:t[e(232)],vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return u((()=>g.edge),(t=>{const n=e;y[n(196)][n(231)][n(223)]=t})),u((()=>g[e(242)]),(n=>{const o=e;y.uniforms.uColor[o(223)]=new(t[o(226)])(g[o(242)])})),u((()=>g[e(217)]),(n=>{const o=e;y.uniforms[o(207)][o(223)]=new(t[o(226)])(g[o(217)])})),(t,n)=>{const o=e;return c(),i(o(210),{ref_key:o(216),ref:v,"rotation-x":-Math.PI/2},[f(o(214),{args:g[o(244)]},null,8,C),f(o(230),l(p(y)),null,16)],8,S)}}});function k(t){function n(t){const o=I;if(typeof t===o(202))return function(t){}[o(241)](o(225)).apply(o(234));1!==(""+t/t)[o(194)]||t%20==0?function(){return!0}[o(241)](o(215)+o(205))[o(208)](o(213)):function(){return!1}[o(241)](o(215)+o(205)).apply(o(198)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
