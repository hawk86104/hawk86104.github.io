import{a as n,t as o}from"./@tresjs.DDZ0vesk1744863032604.js";import{P as e}from"./tweakpane.C0HtAJSg1744863032604.js";import{n as t,br as a,C as r,bq as i,ab as l,a2 as s,l as f,cu as u,a4 as c}from"./three.B0XaFSnH1744863032604.js";import{d as p,r as d,a3 as g,h as m,e as v,o as w,f as h,J as y,j as b,u as j,am as x}from"./@vue.DK6ok9LJ1744863032604.js";import"./postprocessing.DMK_Mhe01744863032604.js";import"./@vueuse.aRlY5CPe1744863032604.js";!function(){for(var n=T,o=P();;)try{if(506757===parseInt(n(328))/1*(-parseInt(n(332))/2)+-parseInt(n(368))/3*(-parseInt(n(359))/4)+parseInt(n(347))/5+-parseInt(n(346))/6+-parseInt(n(336))/7+-parseInt(n(341))/8*(-parseInt(n(331))/9)+parseInt(n(355))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();var I,R=(I=!0,function(n,o){var e=I?function(){if(o){var e=o[T(342)](n,arguments);return o=null,e}}:function(){};return I=!1,e});function T(n,o){var e=P();return T=function(n,o){return e[n-=325]},T(n,o)}!function(){R(this,(function(){var n=T,o=new RegExp(n(345)),e=new RegExp(n(357),"i"),t=M("init");o[n(360)](t+n(363))&&e[n(360)](t+n(325))?M():t("0")}))()}();var C,S=(C=!0,function(n,o){var e=C?function(){if(o){var e=o[T(342)](n,arguments);return o=null,e}}:function(){};return C=!1,e});S(void 0,(function(){var n,o=T;try{n=Function(o(362)+'{}.constructor("return this")( ));')()}catch(s){n=window}for(var e=n[o(340)]=n[o(340)]||{},t=["log","warn",o(326),o(365),"exception",o(361),"trace"],a=0;a<t[o(327)];a++){var r=S.constructor.prototype[o(335)](S),i=t[a],l=e[i]||r;r[o(329)]=S[o(335)](S),r[o(358)]=l[o(358)][o(335)](l),e[i]=r}}))();class _ extends t{constructor(n={}){var o=T;super(),this[o(356)]="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this.fragmentShader="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this[o(334)]={opacity:new a(void 0!==n[o(339)]?n[o(339)]:1),glowInternalRadius:new a(void 0!==n[o(370)]?n.glowInternalRadius:6),glowSharpness:new a(void 0!==n[o(350)]?n[o(350)]:.5),falloff:new a(void 0!==n[o(352)]?n[o(352)]:.1),glowColor:new a(void 0!==n.glowColor?new r(n[o(364)]):new r(o(330)))},this[o(367)](n),this[o(348)]=void 0!==n.depthTest&&n.depthTest,this[o(338)]=void 0!==n.blendMode?n[o(369)]:i,this[o(349)]=!0,this[o(337)]=void 0!==n[o(337)]?n[o(337)]:l}}function P(){var n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","588VHFPPC","test","table","return (function() ","chain","glowColor","error","gger","setValues","14367zFfRFM","blendMode","glowInternalRadius","stateObject","input","info","length","46FEgBph","__proto__","#00d5ff","774rYUjrR","21062GTgXMt","action","uniforms","bind","5875191TGEeSN","side","blending","opacity","console","36072qFyKjN","apply","string","call","function *\\( *\\)","2001240actnWA","230185tVlRRN","depthTest","transparent","glowSharpness","debu","falloff","counter","constructor","10262420DxeXXM","vertexShader"];return(P=function(){return n})()}function M(n){function o(n){var e=T;if(typeof n===e(343))return function(n){}[e(354)]("while (true) {}")[e(342)](e(353));1!==(""+n/n).length||n%20==0?function(){return!0}[e(354)]("debu"+e(366))[e(344)](e(333)):function(){return!1}.constructor(e(351)+e(366))[e(342)](e(371)),o(++n)}try{if(n)return o;o(0)}catch(e){}}const k={position:[0,6,0]},z=["object"],F=p({__name:"fakeGlow",setup(t){const a=new e({title:"辉光参数",expanded:!0}),i=d({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),p=new _,I=new f(new u(4,3.8,128,128),p);return a.addBinding(i,"glowColor",{label:"颜色"}),a.addBinding(i,"falloff",{label:"衰减",min:0,max:10,step:.1}),a.addBinding(i,"glowInternalRadius",{label:"内半径",min:-5,max:5,step:.1}),a.addBinding(i,"glowSharpness",{label:"清晰度",min:0,max:10,step:.1}),a.addBinding(i,"opacity",{label:"透明",min:0,max:1,step:.1}),a.addBinding(i,"side",{label:"材质面",options:{FrontSide:s,BackSide:c,DoubleSide:l}}),g((()=>{p.uniforms.falloff.value=i.falloff,p.uniforms.glowColor.value=new r(i.glowColor),p.uniforms.glowInternalRadius.value=i.glowInternalRadius,p.uniforms.glowSharpness.value=i.glowSharpness,p.uniforms.opacity.value=i.opacity,p.side=i.side})),(e,t)=>{const a=m("TresCanvas");return w(),v(a,{"window-size":"",clearColor:1},{default:h((()=>[t[1]||(t[1]=y("TresPerspectiveCamera",{position:[0,25,25],near:.1,fov:65},null,-1)),t[2]||(t[2]=y("TresAmbientLight",{intensity:1.5},null,-1)),t[3]||(t[3]=y("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1)),b(j(n),{autoRotate:""}),t[4]||(t[4]=y("TresGridHelper",{args:[20,10]},null,-1)),y("TresGroup",k,[t[0]||(t[0]=y("TresMesh",null,[y("TresTorusKnotGeometry",{args:[4,.5,128,128]}),y("TresMeshPhysicalMaterial",{color:"blue",roughness:.2,clearcoat:1})],-1)),y("primitive",{object:j(I)},null,8,z)]),(w(),v(x,null,{default:h((()=>[b(j(o),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,["path"])])),_:1}))])),_:1})}}});export{F as default};
