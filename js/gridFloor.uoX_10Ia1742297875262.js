import{_ as n,C as t,ai as r}from"./three.N4lg2KsY1742297875262.js";import{o,J as e}from"./@tresjs.oW7bfow21742297875262.js";import{P as i}from"./tweakpane.yDiyAAkA1742297875262.js";import{d as s,a2 as c,o as u,H as a,N as l,aj as f,ak as d,r as v,e as g,f as p,g as h,j as m,u as C,al as y,m as x}from"./@vue.NRI7TcgI1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";const w=D;function T(){const n=["uGridColor","set","uCrossThickness","prototype","floorColor","10833150vJKZXu","toString","uCross","857770pOZKBn","value","input","call","gridFloor","console","#c4d6ff","#ffffff","6uaQxmG","info","uniforms","__proto__","#7a91df","uFloorColor","TresMesh","DoubleSide","Color","stateObject","length","string","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","warn","TresPlaneGeometry","gridColor","debu","bind","crossColor","3936660RcmRwF","exception","constructor","table","1310106TeIGQX","function *\\( *\\)","chain","apply","return (function() ","1144003tHczEk","823016zgKjdd","uGridThickness","5145066bhkwoD","9MWlDhz","crossThickness","uCrossColor",'{}.constructor("return this")( )',"log","rotate-x","5ldAZWa","counter"];return(T=function(){return n})()}!function(n,t){const r=D,o=T();for(;;)try{if(586147===-parseInt(r(475))/1+parseInt(r(495))/2*(parseInt(r(503))/3)+-parseInt(r(466))/4+parseInt(r(485))/5*(parseInt(r(478))/6)+-parseInt(r(470))/7+-parseInt(r(476))/8*(-parseInt(r(479))/9)+parseInt(r(492))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[D(473)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=D,t=new RegExp(n(471)),r=new RegExp(n(458),"i"),o=j("init");t.test(o+n(472))&&r[n(459)](o+n(497))?j():o("0")}))()}();const W=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[D(473)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();W(void 0,(function(){const n=D,t=function(){const n=D;let t;try{t=Function(n(474)+n(482)+");")()}catch(r){t=window}return t}(),r=t.console=t[n(500)]||{},o=[n(483),n(460),n(504),"error",n(467),n(469),n(457)];for(let e=0;e<o[n(513)];e++){const t=W[n(468)][n(490)][n(464)](W),i=o[e],s=r[i]||t;t[n(506)]=W[n(464)](W),t[n(493)]=s.toString[n(464)](s),r[i]=t}}))();const b=[w(484)];function D(n,t){const r=T();return(D=function(n,t){return r[n-=456]})(n,t)}const I=s({__name:w(499),props:{gridColor:{default:w(501)},gridThickness:{default:.02},crossColor:{default:w(507)},crossThickness:{default:.02},uCross:{default:.2},floorColor:{default:w(502)}},setup(r){const o=w,e=r,i={vertexShader:"varying vec2 vUv;\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:"uniform float uGridThickness;\nuniform vec3 uGridColor;\nuniform float uCrossScale;\nuniform float uCrossThickness;\nuniform float uCross;\nuniform vec3 uCrossColor;\nuniform vec3 uFloorColor;\n\nvarying vec2 vUv;\n\nfloat gridFloor(vec2 uv, vec2 lineWidth) {\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    vec2 targetWidth = invertLine ? 1.0 - lineWidth : lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    \n    \n    \n    \n    vec2 gridUV = abs(fract(uv) * 2.0 - 1.0);\n    gridUV = invertLine ? gridUV : 1.0 - gridUV;\n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    grid2 = invertLine ? 1.0 - grid2 : grid2;\n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nfloat crossFloor(vec2 uv, float scale, float thickness, float crossIntensity) {\n    vec2 lineWidth = vec2(thickness);\n\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    \n    vec2 targetWidth = lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    float cutOffX = abs(fract(uv.y) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n    float cutOffY = abs(fract(uv.x) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n\n    \n    \n    \n    \n    \n    \n    \n    float uvX = abs(fract(uv.x) * 2.0 - 1.0) + cutOffX;\n    float uvY = abs(fract(uv.y) * 2.0 - 1.0) + cutOffY;\n    vec2 gridUV = vec2(uvX, uvY);\n\n    \n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    \n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nvoid main()\n{\n    vec2 lineWidth = vec2(uGridThickness);\n    \n    vec2 uv = vUv * 20.0;\n\n    \n    float grid = gridFloor(uv, lineWidth);\n    \n    vec3 gridColor = mix(uFloorColor, uGridColor, vec3(grid));\n\n    \n    float crossUv = crossFloor(uv, uCrossScale, uCrossThickness, uCross);\n    \n    vec3 gridColor2 = mix(gridColor, uCrossColor, vec3(crossUv));\n    \n    vec3 color =  gridColor2;\n\n    gl_FragColor = vec4(color, 1.0);\n}",side:n[o(510)],transparent:!0,uniforms:{uFloorColor:{value:new t(e[o(491)])},uGridThickness:{value:e.gridThickness},uGridColor:{value:new(n[o(511)])(e.gridColor)},uCrossThickness:{value:e[o(480)]},uCross:{value:e[o(494)]},uCrossColor:{value:new(n[o(511)])(e[o(465)])}}};return c((()=>{const n=o;i.uniforms[n(508)][n(496)][n(488)](e[n(491)]),i.uniforms[n(487)].value.set(e[n(462)]),i.uniforms[n(481)][n(496)][n(488)](e[n(465)]),i[n(505)][n(477)][n(496)]=e.gridThickness,i[n(505)][n(489)].value=e[n(480)],i.uniforms[n(494)].value=e.uCross})),(n,t)=>{const r=o;return u(),a(r(509),{"rotate-x":-Math.PI/2},[t[0]||(t[0]=l(r(461),{args:[10,10,32,32]},null,-1)),l("TresShaderMaterial",f(d(i)),null,16)],8,b)}}});function j(n){function t(n){const r=D;if(typeof n===r(456))return function(n){}[r(468)]("while (true) {}").apply(r(486));1!==(""+n/n)[r(513)]||n%20==0?function(){return!0}[r(468)](r(463)+"gger")[r(498)]("action"):function(){return!1}[r(468)](r(463)+"gger").apply(r(512)),t(++n)}try{if(n)return t;t(0)}catch(r){}}const F=z;!function(n,t){const r=z,o=X();for(;;)try{if(586222===-parseInt(r(209))/1*(parseInt(r(211))/2)+-parseInt(r(200))/3+parseInt(r(193))/4+parseInt(r(181))/5*(parseInt(r(194))/6)+parseInt(r(188))/7+-parseInt(r(185))/8+-parseInt(r(203))/9*(-parseInt(r(187))/10))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const _=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[z(231)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){_(this,(function(){const n=z,t=new RegExp(n(196)),r=new RegExp(n(233),"i"),o=S(n(178));t.test(o+n(186))&&r[n(216)](o+n(208))?S():o("0")}))()}();const A=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function z(n,t){const r=X();return(z=function(n,t){return r[n-=175]})(n,t)}A(void 0,(function(){const n=z;let t;try{t=Function(n(218)+n(237)+");")()}catch(e){t=window}const r=t.console=t[n(224)]||{},o=[n(238),"warn",n(198),n(228),n(189),"table",n(222)];for(let i=0;i<o.length;i++){const t=A[n(213)][n(205)][n(179)](A),e=o[i],s=r[e]||t;t[n(215)]=A[n(179)](A),t[n(182)]=s.toString[n(179)](s),r[e]=t}}))();const U=s({__name:F(180),setup(n){const t=F,s=v({alpha:!0,toneMapping:r,windowSize:!0,clearColor:3355443}),c=v({enableDamping:!0,autoRotate:!1}),a=v({gridColor:t(230),crossColor:"#ef57ff",floorColor:"#000000",gridThickness:.02,crossThickness:.03,uCross:.29}),w=new i;return w[t(199)](a,t(225),{label:t(232)}),w[t(199)](a,t(236),{label:t(234),min:.01,max:1,step:.01}),w[t(199)](a,t(195),{label:"十字颜色"}),w[t(199)](a,t(176),{label:t(201),min:.01,max:1,step:.01}),w[t(199)](a,"uCross",{label:t(219),min:.01,max:1,step:.01}),w.addBinding(a,t(184),{label:t(207)}),(n,r)=>{const i=t,v=g(i(217));return u(),p(v,x(s,{"window-size":""}),{default:h((()=>[r[0]||(r[0]=l("TresPerspectiveCamera",{position:[6,6,6],fov:45,near:.1,far:1e3},null,-1)),m(C(o),f(d(c)),null,16),r[1]||(r[1]=l(i(227),{intensity:.5},null,-1)),r[2]||(r[2]=l(i(183),{position:[15,15,15],intensity:1},null,-1)),r[3]||(r[3]=l(i(221),{position:[0,.5,0],scale:.2},[l("TresTorusKnotGeometry",{args:[1,.35,100,32]}),l(i(220),{color:i(175),roughness:0,metalness:1})],-1)),m(I,f(d(a)),null,16),(u(),p(y,null,{default:h((()=>[m(C(e),{files:["pos-x.jpg",i(212),"pos-y.jpg",i(191),"pos-z.jpg",i(204)],path:i(229)+i(197)},null,8,[i(210)])])),_:1}))])),_:1},16)}}});function X(){const n=["bind","gridFloor","2320BDccAi","toString","TresDirectionalLight","floorColor","8731736swhksg","chain","1590BsdSVF","7605486FprWYz","exception","debu","neg-y.jpg","gger","203576TxxNou","14796dUhDaP","crossColor","function *\\( *\\)","/images/skyBox/6jpg/","info","addBinding","2239950XTyPXS","十字厚度","action","73458wFOJvU","neg-z.jpg","prototype","call","地板颜色","input","7XAHmvH","path","330010ajyzdI","neg-x.jpg","constructor","length","__proto__","test","TresCanvas","return (function() ","十字大小","TresMeshStandardMaterial","TresMesh","trace","resource.cos","console","gridColor","string","TresAmbientLight","error","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com","#ffffff","apply","网格颜色","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","网格厚度","stateObject","gridThickness",'{}.constructor("return this")( )',"log","#ff33ff","crossThickness","while (true) {}","init"];return(X=function(){return n})()}function S(n){function t(n){const r=z;if(typeof n===r(226))return function(n){}.constructor(r(177))[r(231)]("counter");1!==(""+n/n)[r(214)]||n%20==0?function(){return!0}[r(213)](r(190)+"gger")[r(206)](r(202)):function(){return!1}[r(213)](r(190)+r(192))[r(231)](r(235)),t(++n)}try{if(n)return t;t(0)}catch(r){}}export{U as default};
