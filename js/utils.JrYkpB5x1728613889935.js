import{a as t,B as n,s as e,b_ as o,C as r,k as s,a0 as c}from"./three.-yu4716U1728613889935.js";import{x as i}from"./@fesjs._J_IrcQ81728613889935.js";import{z as a}from"./@tresjs.BSMy0VpY1728613889935.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.JI04JGj81728613889935.js";function l(t,n){const e=d();return(l=function(t,n){return e[t-=161]})(t,n)}!function(t,n){const e=l,o=d();for(;;)try{if(139491===-parseInt(e(172))/1+-parseInt(e(184))/2*(-parseInt(e(227))/3)+-parseInt(e(164))/4*(-parseInt(e(220))/5)+-parseInt(e(191))/6*(parseInt(e(218))/7)+-parseInt(e(198))/8+parseInt(e(202))/9*(-parseInt(e(179))/10)+parseInt(e(183))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(193)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=l,n=new RegExp(t(167)),e=new RegExp(t(219),"i"),o=j(t(234));n[t(211)](o+t(174))&&e[t(211)](o+"input")?j():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(193)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=l;let n;try{n=Function("return (function() "+t(182)+");")()}catch(r){n=window}const e=n[t(194)]=n[t(194)]||{},o=["log",t(176),t(190),t(216),t(170),t(199),"trace"];for(let s=0;s<o[t(168)];s++){const n=m[t(230)].prototype[t(192)](m),r=o[s],c=e[r]||n;n.__proto__=m[t(192)](m),n[t(228)]=c[t(228)][t(192)](c),e[r]=n}}))();const h=(n,e=!1)=>{const o=l;n[o(215)]();const{max:r,min:s}=n[o(235)];n[o(204)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n.attributes[o(166)][o(232)];t++)e?(a.push((n[o(203)][o(166)][o(201)](t)-(s.x+r.x)/2)/c),a[o(186)]((n.attributes.position[o(206)](t)-(s.y+r.y)/2)/i)):(a[o(186)]((n.attributes[o(166)][o(201)](t)-s.x)/c),a[o(186)]((n[o(203)][o(166)][o(206)](t)-s.y)/i));const u=new Float32Array(a);n[o(208)]("uv",new t(u,2))};function d(){const t=["setFromObject","exception","sub","251735HlKHZG","#fff","chain","geometry","warn","forEach","debu","521490QRVFHV","get","min",'{}.constructor("return this")( )',"4894824UXiOgh","2DTqQBB","negate","push","copy","call","computeBoundsTree","info","1884QzcuBx","bind","apply","console","random","reflectivity","material","670472HhuYsY","table","counter","getX","18TYOqSo","attributes","deleteAttribute","center","getY","set","setAttribute","raycast","disposeBoundsTree","test","transparent","expandByObject","setY","computeBoundingBox","error","side","1127dgLrok","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2100IitlUd","prototype","Vector3","gger","max","config","Box3","295149ifSxWT","toString","value","constructor","string","count","while (true) {}","init","boundingBox","clone","uniforms","catch","824dePqLC","getCenter","position","function *\\( *\\)","length"];return(d=function(){return t})()}const y=(t,n)=>new Promise(((e,o)=>{const r=l;i(t,{},{method:r(180),mergeRequest:!0}).then((t=>{n&&e(t[n]),e(t.features)}))[r(163)]((t=>{console[r(216)](t),o(t)}))})),w=t=>{const n=l,e=(new(THREE[n(226)]))[n(169)](t),o=new(THREE[n(222)]);e[n(165)](o),t.children[n(177)]((t=>{const e=n;t.position[e(171)](o)})),t[n(166)].copy(o.negate())},x=()=>{const t=l;n[t(221)][t(189)]=u,n[t(221)][t(210)]=f,e.prototype[t(209)]=p},b=async t=>{const n=l,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry[n(161)]();h(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(173)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(197)][n(212)]=!0,u[n(197)].depthWrite=!0,u[n(197)].depthTest=!0,u[n(197)][n(217)]=c,u[n(197)][n(162)][n(225)][n(229)].w=20,u[n(197)][n(162)][n(196)].value=.46,u};function _(t){const n=l,e=[];for(let r=0;r<t[n(168)];r++)e[n(186)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o.add(e[r]);o.divideScalar(e[n(168)]);for(let r=0;r<e[n(168)];r++)e[r][n(171)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=l;if(typeof t===e(231))return function(t){}[e(230)](e(233))[e(193)](e(200));1!==(""+t/t)[e(168)]||t%20==0?function(){return!0}.constructor(e(178)+e(223))[e(188)]("action"):function(){return!1}[e(230)](e(178)+e(223))[e(193)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,_ as g,x as i,y as l,h as r,b as s};
