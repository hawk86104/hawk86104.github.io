import{C as e,M as s,c6 as t,ch as a,ai as o}from"./three.2wx8FU0g1743660816268.js";import{m as n,D as r,f as i,o as l}from"./@tresjs.zc7faK4J1743660816268.js";import{P as c}from"./tweakpane.ivGeiIdz1743660816268.js";import{O as p}from"./@pmndrs.z8R6f5wQ1743660816268.js";import{d as u,q as f,a2 as d,o as m,H as h,u as g,a4 as y,N as b,j as k,r as j,f as M,g as w,m as T,aj as B,ak as v,al as _}from"./@vue.B5PFBfKs1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";const x=["object"],C=u({__name:"outlineCom",props:{color:{default:"#ffffff"},thickness:{default:.1},screenspace:{type:Boolean,default:!1}},setup(s){const t=s,{renderer:a}=n(),o=p({color:new e(t.color),thickness:t.thickness,screenspace:t.screenspace,gl:a.value});return f((()=>{o.generate()})),d((()=>{o.updateProps({color:new e(t.color),thickness:t.thickness,screenspace:t.screenspace})})),(e,s)=>(m(),h("primitive",{object:g(o).group},null,8,x))}}),G=["object"],P=["geometry"],D=u({__name:"outlineModel",props:{color:{default:"#ffffff"},thickness:{default:.1},screenspace:{type:Boolean,default:!1}},async setup(e){let o,n;const{scene:i}=([o,n]=y((()=>r("./plugins/basic/htmls/model/model.gltf",{draco:!0,decoderPath:"./draco/"}))),o=await o,n(),o);const l=function(e){const o=[];return e.traverse((e=>{if(e.isMesh&&e.geometry.isBufferGeometry&&e.geometry.attributes.position.count<1e5){const t=e.geometry.clone(),n=new s;n.copy(e.matrixWorld),t.applyMatrix4(n),t.isBufferGeometry&&(Object.keys(t.attributes).forEach((e=>{"position"!==e&&t.deleteAttribute(e)})),o.push(function(e,s=.1){return(new a).modify(e,Math.floor(e.attributes.position.count*s))}(t,.1)))}})),t(o)}(i);return(e,s)=>(m(),h("primitive",{object:g(i),scale:1,position:[3,-1,-3]},[b("TresMesh",{geometry:g(l)},[s[0]||(s[0]=b("TresMeshBasicMaterial",{color:"#000000",transparent:"",opacity:0},null,-1)),k(C,{thickness:e.thickness,screenspace:e.screenspace,color:e.color},null,8,["thickness","screenspace","color"])],8,P)],8,G))}}),S={position:[0,.9,0],name:"torus"},z={position:[-2.5,.5,2.5],"receive-shadow":"","cast-shadow":"",name:"cube"},A=u({__name:"outline",setup(e){const s=j({alpha:!0,toneMapping:o,windowSize:!0,clearColor:0}),t=j({enableDamping:!0,autoRotate:!1}),a=j({color:"#ff00ae",thickness:.1,screenspace:!1}),n=new c;n.addBinding(a,"color",{label:"颜色"}),n.addBinding(a,"thickness",{label:"thickness",min:0,max:2,step:.01}),n.addBinding(a,"screenspace",{label:"space"});const r=j({color:"#ffffff",thickness:.026,screenspace:!1});return n.addBinding(r,"color",{label:"模型边框颜色"}),n.addBinding(r,"thickness",{label:"模型边框粗细",min:0,max:.2,step:.001}),n.addBinding(r,"screenspace",{label:"模型边框类型"}),(e,o)=>(m(),M(g(i),T(s,{"window-size":""}),{default:w((()=>[o[4]||(o[4]=b("TresPerspectiveCamera",{position:[10,10,10],fov:45,near:1,far:1e3},null,-1)),k(g(l),B(v(t)),null,16),o[5]||(o[5]=b("TresAmbientLight",{intensity:.5},null,-1)),o[6]||(o[6]=b("TresDirectionalLight",{position:[15,15,15],intensity:1},null,-1)),b("TresMesh",S,[o[0]||(o[0]=b("TresTorusKnotGeometry",{args:[1,.35,100,32]},null,-1)),o[1]||(o[1]=b("TresMeshStandardMaterial",{color:"#ff33ff",roughness:.3,metalness:.5},null,-1)),k(C,B(v(a)),null,16)]),b("TresMesh",z,[o[2]||(o[2]=b("TresCylinderGeometry",{args:[1.5,1.5,2]},null,-1)),o[3]||(o[3]=b("TresMeshStandardMaterial",{color:3407871,roughness:0,metalness:0},null,-1)),k(C)]),(m(),M(_,null,{default:w((()=>[k(D,B(v(r)),null,16)])),_:1}))])),_:1},16))}});export{A as default};
