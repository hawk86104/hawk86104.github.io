import{P as t}from"./tweakpane.yHWGBmom1729820105274.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.GCucjTKf1729820105274.js";import{_ as r}from"./heatmap.js-fix.acwX8JSh1729820105274.js";import{h as i,_ as s,cq as c}from"./three.0W5n8UBO1729820105274.js";import{r as u}from"./utils.jsETr34q1729820105274.js";import{d as a}from"./pinia.Qyaqm_as1729820105274.js";import{b as p,d as f,a3 as l,o as h,E as d,L as m,u as g,F as v,q as y,V as I,O as b,Q as w,I as _,M as j,a4 as x,r as E,j as D,g as S,m as O}from"./@vue.bvMz0l_u1729820105274.js";import{c as k,d as A,a as M}from"./three-mesh-bvh.9iOtb7lt1729820105274.js";import{_ as B}from"./@fesjs.NJfsHdwi1729820105274.js";import"./@tresjs.S6PXiQcG1729820105274.js";import"./@vueuse.3M_MDcJc1729820105274.js";import"./three-custom-shader-material.WIBIoaCk1729820105274.js";import"./object-hash.O5Web0p21729820105274.js";import"./@amap.UuvR34pR1729820105274.js";import"./jszip.nToJU0Sc1729820105274.js";import"./glsl-tokenizer.fZI0jxNo1729820105274.js";import"./glsl-token-string.KmSVHImF1729820105274.js";import"./glsl-token-functions.IcwySNVS1729820105274.js";import"./vue-router.RgcUnLYP1729820105274.js";import"./lodash-es.guXTxyfJ1729820105274.js";import"./@qlin.yHhFDldE1729820105274.js";import"./@floating-ui.BPbuo5Gx1729820105274.js";import"./@juggle.7yjBMqoW1729820105274.js";!function(t,n){const e=Z,o=U();for(;;)try{if(382417===-parseInt(e(217))/1*(parseInt(e(211))/2)+-parseInt(e(237))/3*(parseInt(e(196))/4)+-parseInt(e(224))/5*(parseInt(e(215))/6)+parseInt(e(246))/7+-parseInt(e(247))/8+parseInt(e(226))/9*(parseInt(e(233))/10)+parseInt(e(240))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(243)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=Z,n=new RegExp(t(232)),e=new RegExp(t(218),"i"),o=K("init");n[t(239)](o+t(200))&&e.test(o+t(221))?K():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(243)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["warn","rgb(0,0,255)","gger","function *\\( *\\)","70390cbbsgV","getValueAt","log","createElement","12qrXEOg","body","test","10835825dmklZg","rgb(255,0,0)","while (true) {}","apply","toString","length","1539503UIYDvE","941696KpGbYy","create","545228eCmKPO","_config","appendChild","error","chain","action","__proto__","stateObject","top","rgb(0,255,0)","height","bind","debu","return (function() ","style","6036zXSmZD","counter","string","randInt","54BvQraC","exception","81BkEfdc","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","width","push","input","constructor","call","74110hWcWAF","left","279tSyVNt","position","setData"];return(U=function(){return t})()}function Z(t,n){const e=U();return(Z=function(t,n){return e[t-=196]})(t,n)}z(void 0,(function(){const t=Z;let n;try{n=Function(t(209)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n.console||{},o=[t(235),t(229),"info",t(199),t(216),"table","trace"];for(let i=0;i<o.length;i++){const n=z.constructor.prototype[t(207)](z),r=o[i],s=e[r]||n;n[t(202)]=z[t(207)](z),n[t(244)]=s[t(244)][t(207)](s),e[r]=n}}))();const C=(t,n)=>t[Z(234)](n)+-10;function K(t){function n(t){const e=Z;if(typeof t===e(213))return function(t){}[e(222)](e(242)).apply(e(212));1!==(""+t/t)[e(245)]||t%20==0?function(){return!0}[e(222)](e(208)+"gger")[e(223)](e(201)):function(){return!1}[e(222)](e(208)+e(231)).apply(e(203)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=Y;!function(t,n){const e=Y,o=P();for(;;)try{if(231887===parseInt(e(284))/1+parseInt(e(283))/2+parseInt(e(292))/3*(-parseInt(e(306))/4)+-parseInt(e(316))/5+-parseInt(e(279))/6*(-parseInt(e(293))/7)+parseInt(e(300))/8*(parseInt(e(290))/9)+-parseInt(e(312))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(315)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(){const t=["init","toString","9YYlqhq","buildingsHeatmap","339UGUKWa","121072UoDjpI","debu","action","while (true) {}","trace","test","value","3308984xuTbBK","length","input","function *\\( *\\)","exception","constructor","13844ecDYLD","log","__proto__","warn","console",'{}.constructor("return this")( )',"4175430fhhqtB","gger","string","apply","1248245szSFlC","114BYBOra","prototype","counter","chain","199320zHhOvt","448265mkxleO","call","bind","info"];return(P=function(){return t})()}!function(){F(this,(function(){const t=Y,n=new RegExp(t(303)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=L(t(288));n[t(298)](o+t(282))&&e[t(298)](o+t(302))?L():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(315)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=P();return(Y=function(t,n){return e[t-=279]})(t,n)}T(void 0,(function(){const t=Y;let n;try{n=Function("return (function() "+t(311)+");")()}catch(r){n=window}const e=n[t(310)]=n.console||{},o=[t(307),t(309),t(287),"error",t(304),"table",t(297)];for(let i=0;i<o[t(301)];i++){const n=T[t(305)][t(280)][t(286)](T),r=o[i],s=e[r]||n;n[t(308)]=T[t(286)](T),n[t(289)]=s[t(289)][t(286)](s),e[r]=n}}))();const q=a($(291),(()=>{const t=p(!1),n=p(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[Y(299)]=n},setTemperature:function(t){n.value=t}}}));function L(t){function n(t){const e=Y;if(typeof t===e(314))return function(t){}.constructor(e(296)).apply(e(281));1!==(""+t/t).length||t%20==0?function(){return!0}[e(305)]("debu"+e(313))[e(285)](e(295)):function(){return!1}[e(305)](e(294)+e(313))[e(315)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=G;!function(t,n){const e=G,o=N();for(;;)try{if(378348===parseInt(e(280))/1*(-parseInt(e(292))/2)+-parseInt(e(313))/3*(parseInt(e(284))/4)+parseInt(e(261))/5+parseInt(e(324))/6*(-parseInt(e(297))/7)+-parseInt(e(281))/8+-parseInt(e(303))/9*(-parseInt(e(301))/10)+parseInt(e(272))/11*(parseInt(e(263))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(259)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=G,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(262),"i"),o=tt(t(317));n.test(o+t(268))&&e[t(271)](o+t(269))?tt():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["call","gger","init","value","clone","opacity","uniforms","canvas","debu","6IXchnh","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","constructor","数值：","object","city","apply","matrix","2744365Hkwuai","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","83292wCNkvn","computeBoundsTree","makeRotationX","info","applyMatrix4","chain","input","console","test","2211vkScAI","__proto__","trace","bind","error","BufferGeometry","primitive","uOpacity","1WONrnT","821640KShsjc","string","toString","4xmRhDI","_config","model","buildingsHeatmap","Mesh","normal","ShaderMaterial",'{}.constructor("return this")( )',"1144278DjOUvv","_renderer","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","log","stateObject","5116706ELwClG","Matrix4","attributes","return (function() ","10EtKEbs","geometry","1507725fUeQxI","width","while (true) {}","counter","Texture","height","数值———：","DoubleSide","prototype","raycast","982167immgDY","disposeBoundsTree"];return(N=function(){return t})()}H(void 0,(function(){const t=G;let n;try{n=Function(t(300)+t(291)+");")()}catch(r){n=window}const e=n.console=n[t(270)]||{},o=["log","warn",t(266),t(276),"exception","table",t(274)];for(let i=0;i<o.length;i++){const n=H[t(326)][t(311)].bind(H),r=o[i],s=e[r]||n;n[t(273)]=H[t(275)](H),n[t(283)]=s.toString.bind(s),e[r]=n}}))();const Q=[V(257),"rotation-x"],X=[V(257)];function G(t,n){const e=N();return(G=function(t,n){return e[t-=257]})(t,n)}const J=f({__name:V(287),props:{model:{},opacity:{default:1}},setup(t){const n=V;(()=>{const t=G;s[t(277)][t(311)].computeBoundsTree=k,s[t(277)][t(311)][t(314)]=A,s[t(288)][t(311)][t(312)]=M})();const e=t,o=((t=250,n=250,e=!0)=>{const o=Z,i=document[o(236)]("heatmap-canvas");return i[o(210)][o(227)]="absolute",!e&&(i[o(210)].display="none"),i[o(210)][o(204)]="0",i[o(210)][o(225)]="0",document[o(238)][o(198)](i),r[o(248)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(230),.55:o(205),.85:"yellow",1:o(241)}})})();((t,n)=>{const e=Z;if(!n){let o=0;for(n=[];o<1e3;)n[e(220)]({x:i[e(214)](1,t[e(197)][e(219)]),y:i.randInt(1,t[e(197)][e(206)]),value:i.randInt(-10,36)}),o++}t[e(228)]({max:36,min:-10,data:n})})(o);const a=new(s[n(307)])(o[n(293)][n(322)]);a.needsUpdate=!0;const p=e[n(286)][n(258)].clone();delete p[n(302)].attributes[n(289)],delete p[n(302)][n(299)].uv;const f=p[n(302)][n(319)]()[n(267)](p.matrix),y=e[n(286)].land[n(319)]();delete y.geometry.attributes[n(289)];const I=y[n(302)].clone()[n(267)](y[n(260)]),b=c([f,I]);b.applyMatrix4((new(s[n(298)]))[n(265)](Math.PI/2)),u(b),b[n(264)]();const w=(t=>{const o=n;return new(s[o(290)])({vertexShader:o(294),fragmentShader:o(325),uniforms:{uOpacity:{value:e[o(320)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:s[o(310)]})})(a),_=new(s[n(288)])(b,w);l((()=>{const t=n;e[t(320)]&&(w[t(321)][t(279)][t(318)]=e[t(320)])}));const j=q(),x=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(285)][e(304)],y:(1-t.uv.y)*o[e(285)][e(308)]};console[e(295)](e(327),t),console.log(e(309),C(o,n)),j.setTemperature(C(o,n))}},E=t=>{t&&j.$patch({showDiv:!0})},D=t=>{t&&j.setShowDiv(!1)};return(t,o)=>{const r=n;return h(),d(v,null,[m(r(278),{object:g(_),"rotation-x":-Math.PI/2,onPointerMove:x,onPointerEnter:E,onPointerLeave:D},null,40,Q),m(r(278),{object:e[r(286)][r(286)].children[0][r(319)]()},null,8,X)],64)}}});function tt(t){function n(t){const e=G;if(typeof t===e(282))return function(t){}[e(326)](e(305))[e(259)](e(306));1!==(""+t/t).length||t%20==0?function(){return!0}[e(326)](e(323)+e(316))[e(315)]("action"):function(){return!1}[e(326)](e(323)+e(316)).apply(e(296)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=B({__name:"dataDiv",setup(t){const n=q(),e=p({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return y((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>b((h(),d("div",{class:"title",style:j(e.value)},"温度："+_(g(n).temperature)+"℃ ",5)),[[w,g(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=st;function ot(){const t=["透明度","counter","length","801990LKERII","chain","init","3692016UwAdKg","1149420WJKNIo","console","test","stateObject","4304iueVgN","exception","model","string","heatmap2","info","18FHyxmC","action","addBinding","opacity","log","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","219445CsCdxp","366gjtKyP","prototype","debu","12288170vvgAex","city","gger","apply","call",'{}.constructor("return this")( )',"value","toString","#000","warn","while (true) {}","table","input","bind","constructor","9VABhAb","362642eREZBQ","builds"];return(ot=function(){return t})()}!function(t,n){const e=st,o=ot();for(;;)try{if(427359===-parseInt(e(344))/1+parseInt(e(330))/2*(-parseInt(e(345))/3)+-parseInt(e(326))/4+-parseInt(e(322))/5*(-parseInt(e(336))/6)+-parseInt(e(317))/7+-parseInt(e(325))/8+-parseInt(e(316))/9*(-parseInt(e(348))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(304)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=st,n=new RegExp(t(341)),e=new RegExp(t(342),"i"),o=ut(t(324));n[t(328)](o+t(323))&&e[t(328)](o+t(313))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=ot();return(st=function(t,n){return e[t-=302]})(t,n)}it(void 0,(function(){const t=st;let n;try{n=Function("return (function() "+t(306)+");")()}catch(r){n=window}const e=n[t(327)]=n[t(327)]||{},o=[t(340),t(310),t(335),"error",t(331),t(312),t(343)];for(let i=0;i<o.length;i++){const n=it.constructor[t(346)].bind(it),r=o[i],s=e[r]||n;n.__proto__=it[t(314)](it),n[t(308)]=s[t(308)][t(314)](s),e[r]=n}}))();const ct=f({__name:et(334),async setup(r){const i=et;let s,c;const u=p(!1),a=([s,c]=x((()=>o())),s=await s,c(),s);u[i(307)]=!0;const f=E({width:1,color:i(309),opacity:1,show:!0}),l=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(338)](l,i(339),{label:i(319),min:0,max:1,step:.1}),(t,o)=>{const r=i;return h(),d(v,null,[D(e,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[D(J,O({model:g(a)},l),null,16,[r(332)]),D(n,O(f,{builds:g(a)[r(302)]}),null,16,[r(318)])])),_:1}),D(nt)],64)}}});function ut(t){function n(t){const e=st;if(typeof t===e(333))return function(t){}.constructor(e(311))[e(304)](e(320));1!==(""+t/t)[e(321)]||t%20==0?function(){return!0}[e(315)](e(347)+e(303))[e(305)](e(337)):function(){return!1}[e(315)](e(347)+e(303))[e(304)](e(329)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
