import{C as t,a7 as n,V as e,a5 as o,cx as r,aa as s,bS as i}from"./three.HHcT7YAr1718612273914.js";import{P as a}from"./tweakpane.qqn77PB81718612273914.js";import{_ as c}from"./@tweenjs.wviryjfq1718612273914.js";import{a as u,r as p}from"./@tresjs.W42D3qe_1718612273914.js";import{P as l,b as f,c as m,M as g,T as h,a as d,d as b}from"./index.AkXYboMf1718612273914.js";import{d as w,a2 as j,w as x,o as y,D as v,u as I,X as M,r as _,e as C,j as S,g as B,f as z,al as k,m as R,F as Z}from"./@vue.CpOXM7bB1718612273914.js";import{_ as D}from"./raycasterEvent.NM2X2i5o1718612273914.js";import{a as F}from"./utils.gUj1Glde1718612273914.js";import"./@vueuse.YjRg4c7n1718612273914.js";import"./@mapbox.5o5cSoml1718612273914.js";import"./@amap.zA6BxCQR1718612273914.js";import"./three-mesh-bvh.EwUvM4mC1718612273914.js";import"./three-custom-shader-material.TWM8Wx7T1718612273914.js";import"./object-hash.NQGxxEoE1718612273914.js";import"./jszip.ceBEBY8K1718612273914.js";import"./glsl-tokenizer.yImbcCwc1718612273914.js";import"./glsl-token-string.GsokCkw11718612273914.js";import"./glsl-token-functions.M4ENNoPy1718612273914.js";import"./@fesjs.K6L2Ptsw1718612273914.js";import"./vue-router.8CWAXHk21718612273914.js";import"./lodash-es.nFpJXAf-1718612273914.js";import"./@qlin.yHhFDldE1718612273914.js";import"./pinia.Io9o2y5w1718612273914.js";import"./@floating-ui.BPbuo5Gx1718612273914.js";import"./@juggle.7yjBMqoW1718612273914.js";const E=T;function T(t,n){const e=K();return(T=function(t,n){return e[t-=379]})(t,n)}!function(t,n){const e=T,o=K();for(;;)try{if(672397===parseInt(e(413))/1+parseInt(e(381))/2*(parseInt(e(427))/3)+-parseInt(e(431))/4+parseInt(e(402))/5+parseInt(e(446))/6*(-parseInt(e(388))/7)+-parseInt(e(442))/8+parseInt(e(422))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(409)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=T,n=new RegExp(t(445)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(t(419));n[t(392)](o+t(387))&&e[t(392)](o+t(403))?$():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(409)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();O(void 0,(function(){const t=T;let n;try{n=Function("return (function() "+t(379)+");")()}catch(r){n=window}const e=n[t(400)]=n[t(400)]||{},o=[t(449),t(399),"info","error",t(435),t(386),"trace"];for(let s=0;s<o.length;s++){const n=O[t(443)].prototype[t(397)](O),r=o[s],i=e[r]||n;n.__proto__=O[t(397)](O),n.toString=i[t(393)][t(397)](i),e[r]=n}}))();const A=["object",E(438)];function K(){const t=["24ytedGy","Color","action","log","far","useWorker","updateProjectionMatrix",'{}.constructor("return this")( )',"stateObject","2VbUIZX","set","length","useStandardMaterial","tileMapMesh","table","chain","1587523KxgMKE","domElement","position","showTileNo","test","toString","coordType","maxZoom","render","bind","counter","warn","console","genSaturation","2559900feVMdu","input","update","filter","innerWidth","string","while (true) {}","apply","#fff","abs","dampingFactor","985278FOFoVS","provider","lookAt","opposite","isMonochrome","Vector3","init","bbox","mapCenter","16247376fgKvwn","enableDamping","showBoundingBox","monochrome","position0","206541OhqXux","value","call","source","2659392MOciWH","minDistance","primitive","camera","exception","genBright","gger","rotation","flatShading","target","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","9015744SKvOra","constructor","debu","function *\\( *\\)"];return(K=function(){return t})()}const P=w({__name:E(385),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:E(410)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(s,{expose:i}){const a=E,b=s,{renderer:w,scene:M}=u();(new l)[a(394)]=f;const _=new m;_[a(430)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",_[a(394)]=f;const C=new g;C[a(430)]=a(441),C[a(391)]=!1,C[a(451)]=!0;const S=new h(_,C);if(S[a(424)]=!1,S.wireframe=!1,S[a(439)]=!1,S[a(384)]=!1,S[a(405)]={opposite:b[a(416)],monochrome:b[a(417)]?{r:.299,g:.587,b:.114}:null,genBright:b[a(436)],genContrast:b.genContrast,genSaturation:b[a(401)]},b[a(425)]){let n=new t(b.monochrome);S.filter&&(S[a(405)].monochrome={r:n.r,g:n.g,b:n.b})}const B=new d;B[a(414)]=S,B[a(420)]=b.bbox,B[a(395)]=b[a(395)];const z=new n(60,window[a(406)]/window.innerHeight,1,1e8);z.up=new e(0,1,0),z.position[a(382)](b[a(421)][0],b[a(421)][2],-b.mapCenter[1]),z[a(415)](new(o[a(418)])(z[a(390)].x,0,z.position.z-2e3)),B[a(434)]=z;let k=null;j((()=>{const t=a;if(w[t(428)]&&!k&&(k=new r(z,w[t(428)][t(389)]),k[t(423)]=!0,k[t(412)]=.05,k[t(432)]=600,k[t(426)].set(z[t(390)].x,z[t(390)].y,z.position.z),k[t(440)].set(z[t(390)].x,0,z[t(390)].z-2e3)),b.genBright&&S.filter&&(S.filter[t(436)]=b.genBright),b.genContrast&&S[t(405)]&&(S[t(405)].genContrast=b.genContrast),b[t(401)]&&S[t(405)]&&(S[t(405)][t(401)]=b[t(401)]),b[t(417)]&&b[t(425)]&&S[t(405)]){let n=new(o[t(447)])(b.monochrome);S[t(405)][t(425)]={r:n.r,g:n.g,b:n.b}}})),x((()=>b[a(416)]),(t=>{const n=a;S[n(405)]&&(S[n(405)][n(416)]=t)})),x((()=>b[a(417)]),(t=>{const n=a;let e=new(o[n(447)])(b[n(425)]);S[n(405)]&&(S[n(405)].monochrome=t?{r:e.r,g:e.g,b:e.b}:null)}));const{onLoop:R}=p();return R((()=>{const t=a;if(w.value){c[t(404)](),k&&k[t(404)](),B[t(404)]();const n=50*Math[t(411)](z[t(390)].y);z[t(450)]=n+5e3,z[t(452)](),k[t(440)].y=0,w[t(428)][t(396)](M[t(428)],z)}})),i({camera:z,map:B,orbitControl:k}),(t,n)=>{const e=a;return y(),v(e(433),{object:I(B),rotation:[-Math.PI/2,0,0]},null,8,A)}}});function $(t){function n(t){const e=T;if(typeof t===e(407))return function(t){}.constructor(e(408)).apply(e(398));1!==(""+t/t)[e(383)]||t%20==0?function(){return!0}[e(443)](e(444)+e(437))[e(429)](e(448)):function(){return!1}.constructor(e(444)+e(437))[e(409)](e(380)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=q;!function(t,n){const e=q,o=X();for(;;)try{if(227630===-parseInt(e(405))/1*(-parseInt(e(433))/2)+-parseInt(e(417))/3+parseInt(e(416))/4+parseInt(e(440))/5+-parseInt(e(412))/6*(parseInt(e(459))/7)+parseInt(e(461))/8+-parseInt(e(451))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["饱和度","error","bind","trace","7CRksiP","isMonochrome","17792ILDNte","单色滤镜","9FhZcCI","genContrast","orbitControl","__proto__","对比度","Vector3","addBinding","1117734izSnbi","stateObject","nss","addBlade","525240QKDmmF","230916oiBTjM","return (function() ","genSaturation","chain","list","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","constructor","tileMapRef","length","monochrome","opposite","prototype","#4688b5",'{}.constructor("return this")( )',"tileMap","99746jhhtRa","gger","warn","while (true) {}","change","counter","xjk","796135bDtZDr","function *\\( *\\)","genBright","info","camera","value","console","debu","test","新街口","string","2256543XcdVUa","奥体中心","牛首山","#201919"];return(X=function(){return t})()}!function(){W(this,(function(){const t=q,n=new RegExp(t(441)),e=new RegExp(t(422),"i"),o=N("init");n[t(448)](o+t(420))&&e[t(448)](o+"input")?N():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=X();return(q=function(t,n){return e[t-=404]})(t,n)}U(void 0,(function(){const t=q;let n;try{n=Function(t(418)+t(431)+");")()}catch(r){n=window}const e=n[t(446)]=n.console||{},o=["log",t(435),t(443),t(456),"exception","table",t(458)];for(let s=0;s<o[t(426)];s++){const n=U.constructor[t(429)][t(457)](U),r=o[s],i=e[r]||n;n[t(408)]=U[t(457)](U),n.toString=i.toString[t(457)](i),e[r]=n}}))();const H=w({__name:L(432),setup(t){const n=L,r=b(118.779958,32.017136),c=[r[0],r[1],5e3],u=M(),p=_({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:n(430),mapCenter:c}),l=new a({title:"参数"});l[n(411)](p,n(428),{label:"反色"}),l[n(411)](p,n(442),{label:"高亮",min:.1,max:3,step:.1}),l.addBinding(p,n(406),{label:n(409),min:.1,max:3,step:.1}),l[n(411)](p,n(419),{label:n(455),min:.1,max:3,step:.1}),l[n(411)](p,n(460),{label:n(404)}),l.addBinding(p,n(427),{label:"滤镜颜色"});const f={at:b(118.7425,31.9998),xjk:b(118.7842,32.0418),nss:b(118.7503,31.9082)};l[n(415)]({view:n(421),label:"飞去",options:[{text:n(452),value:"at"},{text:n(449),value:n(439)},{text:n(453),value:n(414)}],value:"at"}).on(n(437),(t=>{const o=n,r=new e(f[t[o(445)]][0],2e3,-f[t.value][1]);F(u[o(445)][o(444)],r,u[o(445)][o(407)],[0,-300],4e3)}));const m=_({clearColor:n(454),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:s,toneMapping:i,precision:"highp"});return setTimeout((()=>{const t=n,e=f.at,r=new(o[t(410)])(e[0],1600,-e[1]);F(u[t(445)][t(444)],r,u[t(445)][t(407)],[-2e3,-2e3],2e3)}),1e3),(t,e)=>{const o=n,r=C("TresCanvas");return y(),v(Z,null,[S(r,R(m,{"window-size":""}),{default:B((()=>[(y(),z(k,null,{default:B((()=>[S(P,R(p,{ref_key:"tileMapMeshRef",ref:u,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),S(D,{tileMapRef:u.value},null,8,[o(425)])],64)}}});function N(t){function n(t){const e=q;if(typeof t===e(450))return function(t){}[e(424)](e(436)).apply(e(438));1!==(""+t/t)[e(426)]||t%20==0?function(){return!0}[e(424)](e(447)+e(434)).call("action"):function(){return!1}[e(424)](e(447)+e(434))[e(423)](e(413)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{H as default};
