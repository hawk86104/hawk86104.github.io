import"./@fesjs.vI9WP6bH1731379053498.js";import{_ as t}from"./jszip.Gy4zFode1731379053498.js";import{F as n}from"./file-saver.mQQ0j4C-1731379053498.js";import{_ as e}from"./three.bXjbKLxC1731379053498.js";const s=r;!function(t,n){const e=r,s=u();for(;;)try{if(443057===-parseInt(e(162))/1*(parseInt(e(148))/2)+parseInt(e(166))/3*(-parseInt(e(217))/4)+-parseInt(e(218))/5+parseInt(e(150))/6+parseInt(e(213))/7*(-parseInt(e(226))/8)+parseInt(e(168))/9*(parseInt(e(211))/10)+-parseInt(e(144))/11*(-parseInt(e(177))/12))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const o=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[r(142)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function r(t,n){const e=u();return(r=function(t,n){return e[t-=125]})(t,n)}!function(){o(this,(function(){const t=r,n=new RegExp(t(167)),e=new RegExp(t(157),"i"),s=d("init");n.test(s+t(204))&&e[t(171)](s+t(209))?d():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[r(142)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function i(t){const n=new(e[s(169)]);return new Promise(((e,s)=>{n.load(t,(t=>e(JSON.parse(t))),void 0,(t=>s(t)))}))}async function c(t){const n=s,o=new(e[n(169)]);return new Promise(((e,r)=>{const a=n;o[a(224)](a(215)),o.load(t,(n=>{const o=a,i=new FileReader;i[o(184)]=()=>{const n=o,r=function(t){const n=s,e=t.split(".")[n(223)]().toLowerCase();return{jpg:n(176),jpeg:n(176),png:n(193),gif:"image/gif",bmp:n(151),webp:n(210)}[e]||n(185)}(t),a=i[n(181)].split(",")[1];e(n(186)+r+n(147)+a)},i[o(225)]=t=>{r(t)},i[o(212)](n)}),void 0,(t=>r(t)))}))}function u(){const t=["warn","call","exception","input","image/webp","50MneDmB","readAsDataURL","70KAIfYI","loadAsync","blob","bind","8Smkftn","3655690AgvQwM",'{}.constructor("return this")( )',"console","message","load","pop","setResponseType","onerror","212392wCUXak","base64","length","JPEG","split","type","startsWith","get","data:image/PNG;base64,","catch","return (function() ","uuid","debu",".json","images","trace","async","stringify","data:image/webp;base64,","apply","url","2871QWuYuN","PNG","app.json",";base64,","1636074VLOzGa","data:image/gif;base64,","804624TVXiGk","image/bmp","stateObject","data","geometries","Unknown","enabled","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","url:geometries/","url:","counter","1txsIae","forEach","Cache","prototype","934338HZrbTC","function *\\( *\\)","1464849XpJaeo","FileLoader","data:image/JPEG;base64,","test","parse","toString","__proto__","data:image/jpeg;base64,","image/jpeg","88860fLcqdl","push","table","data:image/WEBP;base64,","result","file","非标准文件：不存在 app.json","onloadend","application/octet-stream","data:","log","data:image/png;base64,","string","url:images/","scene","files","image/png","folder","constructor","toUpperCase","name","WEBP","slice","data:image/GIF;base64,","GIF","BufferGeometry","endsWith","chain","then"];return(u=function(){return t})()}a(void 0,(function(){const t=r,n=function(){const t=r;let n;try{n=Function(t(133)+t(219)+");")()}catch(e){n=window}return n}(),e=n[t(220)]=n[t(220)]||{},s=[t(187),t(206),"info",t(158),t(208),t(179),t(138)];for(let o=0;o<s[t(125)];o++){const n=a[t(195)][t(165)][t(216)](a),r=s[o],i=e[r]||n;n[t(174)]=a[t(216)](a),n[t(173)]=i[t(173)].bind(i),e[r]=n}}))(),e[s(164)][s(156)]=!0;const p=n=>{const o=s,r=new(e[o(169)]);return r[o(224)](o(215)),new Promise(((e,s)=>{const a=o;r[a(222)](n,(async n=>{const s=a;e(await t[s(214)](n))}),void 0,(t=>s(t)))}))},f=t=>{const n=s,e=t.substring(0,15),o=n(175),r=n(170),a=n(188),i=n(131),c=n(149),u=n(200),p=n(141),f=n(180);return o[n(129)](e)||r[n(129)](e)?n(126):a[n(129)](e)||i[n(129)](e)?n(145):c[n(129)](e)||u[n(129)](e)?n(201):p.startsWith(e||f.startsWith(e))?n(198):n(155)},l=e=>{const o=s,r=[];e[o(191)][o(154)]&&e.scene[o(154)][o(163)]((t=>{const n=o;t[n(128)]===n(202)&&(r[n(178)]({uuid:t[n(134)],data:t[n(153)]}),t[n(153)]=n(159)+t[n(134)]+n(136))}));const a=[];e[o(191)].images&&e[o(191)][o(137)].forEach((t=>{const n=o;t.url&&(a[n(178)]({uuid:t[n(134)],url:t[n(143)]}),t[n(143)].type?t[n(143)]=n(190)+t.uuid+"."+t.url[n(128)]+n(136):t[n(143)]=n(190)+t[n(134)]+"."+f(t.url))}));const i=new t;if(r[o(125)]){const t=i[o(194)](o(154));r[o(163)]((n=>{const e=o;t[e(182)](n[e(134)]+e(136),JSON.stringify(n[e(153)]))}))}if(a[o(125)]){const t=i.folder(o(137));a[o(163)]((n=>{const e=o;n[e(143)].type?t[e(182)](n[e(134)]+"."+n[e(143)][e(128)]+e(136),JSON[e(140)](n[e(143)])):t[e(182)](n[e(134)]+"."+f(n[e(143)]),n[e(143)][e(127)](e(147)).pop(),{base64:!0})}))}const c=JSON[o(140)](e);return i[o(182)](o(146),c),i.generateAsync({type:o(215)})[o(205)]((t=>{n.saveAs(t,"config.zip")}))},g=(t,n,e)=>{const o=s;t[o(154)]<=0&&t[o(137)]<=0&&e(n)},m=(n,e)=>{const o=s;let r=null;return t[o(214)](n).then((t=>{const n=o;t[n(192)][n(146)]?t.files[n(146)].async(n(189)).then((o=>{var a,i;const c=n;r=JSON[c(172)](o);const u=(t=>{var n,e;const o=s,r={geometries:0,images:0};return null==(n=t[o(191)].geometries)||n[o(163)]((t=>{const n=o;t[n(153)][n(129)](n(160))&&r.geometries++})),null==(e=t[o(191)][o(137)])||e.forEach((t=>{const n=o;t.url.startsWith(n(160))&&r.images++})),r})(r);g(u,r,e),null==(a=r.scene[c(154)])||a[c(163)]((n=>{const s=c;n[s(153)][s(129)]("url:")&&t.files[n[s(153)][s(199)](4)].async("string").then((t=>{const o=s;n[o(153)]=JSON[o(172)](t),u[o(154)]--,g(u,r,e)}))})),null==(i=r.scene[c(137)])||i.forEach((n=>{const s=c;if(n.url.startsWith(s(160))){const o=n[s(143)][s(199)](4);o[s(203)](s(136))?t[s(192)][o][s(139)](s(189))[s(205)]((t=>{const o=s;n[o(143)]=JSON.parse(t),u[o(137)]--,g(u,r,e)})):t[s(192)][o][s(139)](s(227))[s(205)]((t=>{const a=s,i=o[a(127)]("."),c=i[i[a(125)]-1][a(196)]();n.url="data:image/"+c+";base64,"+t,u[a(137)]--,g(u,r,e)}))}}))})):console[n(158)](n(183))}),(t=>{const e=o;console[e(158)](n[e(197)]+": "+t[e(221)])})),r};function d(t){function n(t){const e=r;if(typeof t===e(189))return function(t){}[e(195)]("while (true) {}")[e(142)](e(161));1!==(""+t/t)[e(125)]||t%20==0?function(){return!0}[e(195)]("debugger")[e(207)]("action"):function(){return!1}.constructor(e(135)+"gger")[e(142)](e(152)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,c as b,l as e,f as g,m as i,i as l};
