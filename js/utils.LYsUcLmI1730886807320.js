import{a as t,B as n,s as e,b$ as o,C as r,k as s,a0 as i}from"./three._P_a_E_Z1730886807320.js";import{w as c}from"./@fesjs.rCnyFuNL1730886807320.js";import{b as a}from"./@tresjs.iUmyNPdW1730886807320.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.2CmIl65_1730886807320.js";!function(t,n){const e=m,o=v();for(;;)try{if(328699===-parseInt(e(226))/1+parseInt(e(201))/2+parseInt(e(198))/3*(-parseInt(e(224))/4)+-parseInt(e(240))/5+-parseInt(e(253))/6*(-parseInt(e(236))/7)+-parseInt(e(195))/8*(parseInt(e(204))/9)+parseInt(e(228))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(202)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=m,n=new RegExp(t(206)),e=new RegExp(t(247),"i"),o=B(t(210));n[t(233)](o+t(190))&&e.test(o+t(193))?B():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(202)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=v();return(m=function(t,n){return e[t-=189]})(t,n)}g(void 0,(function(){const t=m;let n;try{n=Function("return (function() "+t(257)+");")()}catch(r){n=window}const e=n[t(200)]=n[t(200)]||{},o=["log","warn",t(216),t(213),t(245),t(189),t(223)];for(let s=0;s<o[t(192)];s++){const n=g.constructor.prototype[t(197)](g),r=o[s],i=e[r]||n;n.__proto__=g.bind(g),n[t(235)]=i[t(235)][t(197)](i),e[r]=n}}))();const h=(n,e=!1)=>{const o=m;n.computeBoundingBox();const{max:r,min:s}=n[o(227)];n.deleteAttribute("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(208)].position[o(252)];t++)e?(a[o(196)]((n[o(208)].position[o(194)](t)-(s.x+r.x)/2)/i),a[o(196)]((n[o(208)].position.getY(t)-(s.y+r.y)/2)/c)):(a[o(196)]((n[o(208)][o(222)][o(194)](t)-s.x)/i),a[o(196)]((n[o(208)][o(222)].getY(t)-s.y)/c));const u=new Float32Array(a);n[o(251)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=m;c(t,{},{method:r(229),mergeRequest:!0})[r(259)]((t=>{n&&e(t[n]),e(t.features)}))[r(214)]((t=>{console[r(213)](t),o(t)}))})),w=t=>{const n=m,e=(new(THREE[n(203)]))[n(239)](t),o=new(THREE[n(242)]);e[n(212)](o),t[n(231)].forEach((t=>{const e=n;t[e(222)][e(230)](o)})),t.position[n(215)](o[n(207)]())},y=()=>{const t=m;n[t(243)][t(205)]=u,n[t(243)].disposeBoundsTree=f,e[t(243)][t(255)]=p},x=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t.geometry[n(254)]();h(c),c[n(205)]();const u=new o(c,{color:new r(n(258)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(250)].transparent=!0,u.material[n(199)]=!0,u.material[n(232)]=!0,u[n(250)].side=i,u[n(250)][n(191)][n(211)].value.w=20,u[n(250)][n(191)][n(248)][n(256)]=.46,u};function b(t){const n=m,e=[];for(let r=0;r<t[n(192)];r++)e[n(196)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o.add(e[r]);o[n(237)](e[n(192)]);for(let r=0;r<e[n(192)];r++)e[r][n(230)](o);return{points:e,centerPoint:o}}function B(t){function n(t){const e=m;if(typeof t===e(241))return function(t){}.constructor("while (true) {}")[e(202)](e(209));1!==(""+t/t)[e(192)]||t%20==0?function(){return!0}[e(260)](e(218)+"gger").call("action"):function(){return!1}[e(260)](e(218)+e(221))[e(202)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function v(){const t=["catch","copy","info","geometry","debu","max","min","gger","position","trace","16tEeDRW","computeBoundingBox","36457XfwyqB","boundingBox","8677910MNZSls","get","sub","children","depthTest","test","expandByObject","toString","14ZJaXBx","divideScalar","setY","setFromObject","2796355SBYgCt","string","Vector3","prototype","center","exception","random","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","reflectivity","applyMatrix4","material","setAttribute","count","599244FnKMvV","clone","raycast","value",'{}.constructor("return this")( )',"#fff","then","constructor","deleteAttribute","table","chain","uniforms","length","input","getX","23280vBYvvr","push","bind","139917HNDONt","depthWrite","console","1000628ZaNbAi","apply","Box3","1413PTEFwz","computeBoundsTree","function *\\( *\\)","negate","attributes","counter","init","config","getCenter","error"];return(v=function(){return t})()}export{w as a,b as g,y as i,d as l,h as r,x as s};
