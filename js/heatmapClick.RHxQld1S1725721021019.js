import{a as t,d as n}from"./@tresjs.bIWdfO9a1725721021019.js";import{P as e}from"./tweakpane.yHWGBmom1725721021019.js";import{a6 as o,Z as r,a,ab as s,ac as i}from"./three.a9V66irq1725721021019.js";import{_ as c}from"./heatmap.js-fix.OqxzGdEn1725721021019.js";import{d as u,a5 as p,a2 as l,o as f,E as d,u as h,r as m,e as y,f as g,g as v,j as b,al as w,aj as x,ak as _,m as I,L as j}from"./@vue._6MD2XyK1725721021019.js";import"./@vueuse.Ex-1AOlz1725721021019.js";import"./@amap.9EMhYPgf1725721021019.js";function C(){const t=["border","8055fcDOOi","display","getZ","onclick","3120491nEcjhZ","getX","addData","position","error","log",'{}.constructor("return this")( )',"function *\\( *\\)","0.8","count","left","attributes","deleteAttribute","Texture","top","117GRixdO","input","scale","__proto__","createElement","gger","ShaderMaterial","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","1px solid #5384ff","setScalar","radius","935547tldnQp","trace","exception","layerX","console","needsUpdate","_renderer","heatmap-canvas","1018866nrMFLY","canvas","layerY","style","action","body","push","call","computeBoundingBox","2448dIJQpy","geometry","toString","test","bind","setAttribute","appendChild","constructor","init","apply","material","return (function() ","5296935FKmyFx","mesh_0","40px","3343674dvmaQT","block","debu","30lXuvHk","setDataMax","length","show2dCanvas","set","while (true) {}","393592LWwvct","9mWWHyd","string"];return(C=function(){return t})()}!function(t,n){const e=E,o=C();for(;;)try{if(898024===-parseInt(e(162))/1+parseInt(e(170))/2*(parseInt(e(204))/3)+parseInt(e(179))/4*(-parseInt(e(207))/5)+parseInt(e(194))/6+-parseInt(e(191))/7+-parseInt(e(203))/8*(-parseInt(e(151))/9)+-parseInt(e(197))/10*(-parseInt(e(211))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=E,n=new RegExp(t(143)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z(t(187));n[t(182)](o+"chain")&&e[t(182)](o+t(152))?z():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(190)+t(142)+");")()}catch(e){n=window}return n}(),e=n[t(166)]=n[t(166)]||{},o=[t(141),"warn","info",t(140),t(164),"table",t(163)];for(let r=0;r<o[t(199)];r++){const n=T[t(186)].prototype.bind(T),a=o[r],s=e[a]||n;n[t(154)]=T[t(183)](T),n[t(181)]=s[t(181)][t(183)](s),e[a]=n}}))();const S=["object"];function E(t,n){const e=C();return(E=function(t,n){return e[t-=138]})(t,n)}const M=u({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=E;let s,i;const u=n,{nodes:m}=([s,i]=p((()=>t(e(158),{draco:!0,decoderPath:"./draco/"}))),s=await s,i(),s);m[e(192)][e(139)][e(201)](-5088.96,-3.08,39374.7),m[e(192)][e(153)][e(160)](.01);let y=null,g=null,v=null;g=new(o[e(149)])((()=>{const t=e;return v=document[t(155)](t(169)),v[t(173)][t(139)]="absolute",v[t(173)][t(150)]=t(193),v[t(173)][t(146)]="0",document[t(175)][t(185)](v),y=c.create({container:v,width:256,height:256,blur:t(144),radius:u[t(161)]}),y[t(168)][t(171)][t(173)][t(206)]=t(159),y[t(168)][t(171)][t(210)]=function(n){const e=t;y[e(138)]({x:n[e(165)],y:n[e(172)],value:1,radius:u.radius}),y[e(198)](1),g&&(g[e(167)]=!0)},y})()[e(168)][e(171)]);const b={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},w=new(o[e(157)])(b);m[e(192)][e(189)]=w;return(t=>{const n=e;t[n(178)]();const{max:o,min:r}=t.boundingBox;t[n(148)]("uv");const s=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(147)][n(139)][n(145)];e++)c.push((t[n(147)][n(139)][n(212)](e)-r.x)/s),c[n(176)]((t.attributes[n(139)][n(209)](e)-r.z)/i);const u=new Float32Array(c);t[n(184)]("uv",new a(u,2))})(m[e(192)][e(180)]),l((()=>{const t=e;v[t(173)][t(208)]=""+(u[t(200)]?t(195):"none")})),(t,n)=>{const o=e;return f(),d("primitive",{object:h(m)[o(192)]},null,8,S)}}});function z(t){function n(t){const e=E;if(typeof t===e(205))return function(t){}[e(186)](e(202))[e(188)]("counter");1!==(""+t/t)[e(199)]||t%20==0?function(){return!0}[e(186)](e(196)+e(156))[e(177)](e(174)):function(){return!1}[e(186)](e(196)+e(156))[e(188)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function F(t,n){const e=Z();return(F=function(t,n){return e[t-=454]})(t,n)}const O=F;!function(t,n){const e=F,o=Z();for(;;)try{if(240899===-parseInt(e(473))/1+-parseInt(e(489))/2+parseInt(e(476))/3+-parseInt(e(474))/4*(-parseInt(e(481))/5)+parseInt(e(497))/6+parseInt(e(498))/7*(parseInt(e(493))/8)+-parseInt(e(470))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["toString","addBinding","radius","2184426aTkyEN","点击左侧蓝色画框","action","250272HToQNb","4ojfCUX",'{}.constructor("return this")( )',"862989ryaJPR","TresCanvas","console","__proto__","log","2215035NTvvht","trace","显示二维图","#030311","apply","prototype","bind","length","647076HsQWug","chain","init","heatmapClick","509976VvSEFy","gger","test","debu","1195554qskfUp","14hxwZrh","stateObject","table","圆圈的大小","counter","info","warn","constructor","return (function() ","while (true) {}","addButton","TresPerspectiveCamera","TresGridHelper","function *\\( *\\)"];return(Z=function(){return t})()}!function(){R(this,(function(){const t=F,n=new RegExp(t(466)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(491));n[t(495)](o+t(490))&&e[t(495)](o+"input")?H():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=F;let n;try{n=Function(t(461)+t(475)+");")()}catch(r){n=window}const e=n[t(478)]=n[t(478)]||{},o=[t(480),t(459),t(458),"error","exception",t(455),t(482)];for(let a=0;a<o[t(488)];a++){const n=A.constructor[t(486)].bind(A),r=o[a],s=e[r]||n;n[t(479)]=A.bind(A),n.toString=s[t(467)][t(487)](s),e[r]=n}}))();const B=j(O(464),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),U=j("TresDirectionalLight",{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1),D=j(O(465),{args:[50,25]},null,-1),L=u({__name:O(492),setup(t){const o=O,r={clearColor:o(484),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(468)](a,"show2dCanvas",{label:o(483)}),c.addBinding(a,o(469),{label:o(456),min:.1,max:30,step:.1}),c[o(463)]({title:o(471)}),(t,e)=>{const s=y(o(477));return f(),g(s,I(r,{"window-size":""}),{default:v((()=>[B,b(h(n),{autoRotate:!1,autoRotateSpeed:2}),U,D,(f(),g(w,null,{default:v((()=>[b(M,x(_(a)),null,16)])),_:1}))])),_:1},16)}}});function H(t){function n(t){const e=F;if("string"==typeof t)return function(t){}[e(460)](e(462)).apply(e(457));1!==(""+t/t)[e(488)]||t%20==0?function(){return!0}.constructor(e(496)+e(494)).call(e(472)):function(){return!1}.constructor(e(496)+e(494))[e(485)](e(454)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{L as default};
