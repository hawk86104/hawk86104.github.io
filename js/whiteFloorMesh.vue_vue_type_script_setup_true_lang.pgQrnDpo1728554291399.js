import{_ as t,bT as n,C as o,a0 as r}from"./three.YiCjTDWq1728554291399.js";import{z as e}from"./@tresjs.IlQvaTJ91728554291399.js";import{d as a,b as s,a4 as i,w as u,o as c,E as f,L as l,aj as p,ak as h}from"./@vue.JNsx1iN61728554291399.js";function d(){const t=["1ZkTzNm","4152936lCHLqh","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","6328732payZBB","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","36928970tGKXae","common","lights_pars_begin","4653369SKeKsJ","\n      \t","__proto__","prototype","defaultnormal_vertex","console",'{}.constructor("return this")( )',"error","848DRYEjN","function *\\( *\\)","length","trace","\n          ","\n       varying vec2 vUv;\n\t\t\t \t","counter","call","exception","table","worldpos_vertex","\n\t ","shadowmap_pars_fragment","1802456VjCdvj","toString","139662GSCpkP","shadowmap_vertex","chain","info","constructor","return (function() ","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","input","5yPlKOq","packing","bsdfs","beginnormal_vertex","project_vertex","log","init","bind","apply","185892XuLNsH","debu","ShaderChunk","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","\n       void main() {\n\t\t\t\t\t"];return(d=function(){return t})()}!function(t,n){const o=m,r=d();for(;;)try{if(983465===-parseInt(o(174))/1*(parseInt(o(149))/2)+parseInt(o(168))/3+parseInt(o(177))/4*(-parseInt(o(159))/5)+parseInt(o(175))/6+parseInt(o(182))/7+parseInt(o(190))/8*(-parseInt(o(151))/9)+parseInt(o(179))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(167)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=d();return(m=function(t,n){return o[t-=137]})(t,n)}!function(){g(this,(function(){const t=m,n=new RegExp(t(137)),o=new RegExp(t(171),"i"),r=b(t(165));n[t(172)](r+t(153))&&o[t(172)](r+t(158))?b():r("0")}))()}();const v=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(167)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(156)+t(188)+");")()}catch(o){n=window}return n}(),o=n[t(187)]=n[t(187)]||{},r=[t(164),"warn",t(154),t(189),t(144),t(145),t(139)];for(let e=0;e<r[t(138)];e++){const n=v[t(155)][t(185)][t(166)](v),a=r[e],s=o[a]||n;n[t(184)]=v[t(166)](v),n[t(150)]=s[t(150)].bind(s),o[a]=n}}))();const w=()=>{const o=m;return o(141)+t[o(170)][o(180)]+o(183)+t[o(170)].bsdfs+o(183)+t[o(170)].shadowmap_pars_vertex+o(173)+t[o(170)][o(162)]+"\n          "+t[o(170)][o(186)]+o(140)+t[o(170)].begin_vertex+o(140)+t[o(170)][o(163)]+o(140)+t[o(170)][o(146)]+o(140)+n[o(152)]+o(176)},_=()=>{const o=m;return o(178)+t[o(170)][o(180)]+o(147)+n[o(160)]+"\n\t "+n[o(161)]+o(147)+t[o(170)][o(181)]+o(147)+t[o(170)][o(148)]+o(147)+n.shadowmask_pars_fragment+o(157)};function b(t){function n(t){const o=m;if("string"==typeof t)return function(t){}[o(155)]("while (true) {}")[o(167)](o(142));1!==(""+t/t)[o(138)]||t%20==0?function(){return!0}[o(155)](o(169)+"gger")[o(143)]("action"):function(){return!1}[o(155)](o(169)+"gger")[o(167)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}function x(){const t=["color","debu","call","edge","toString","13825chOLiV","log","3855110BqMKAN","exception","1103320bIKMKe","apply","function *\\( *\\)","info","fEdge","wrapT","2082366LhuMZT","TresMesh","rotation-x","TresPlaneGeometry","whiteFloorMesh","size","Color","1398adUhhB","length","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","66877sYyQdT","value","bind","chain","8mLMfbm","gger","constructor","shadowColor","723PJluNr","error","TresShaderMaterial","uniforms","string","return (function() ","warn","#999","table","UniformsLib","trace","#990","wrapS","UniformsUtils","tmRef","prototype","uColor","22EFhdBt","uShadowColor","RepeatWrapping","test","counter","action","2108620hqCffL","3436DJdJto",'{}.constructor("return this")( )',"merge","lights"];return(x=function(){return t})()}const I=T;!function(t,n){const o=T,r=x();for(;;)try{if(318901===parseInt(o(487))/1*(parseInt(o(491))/2)+parseInt(o(495))/3*(-parseInt(o(457))/4)+-parseInt(o(456))/5+-parseInt(o(483))/6*(parseInt(o(466))/7)+parseInt(o(470))/8+parseInt(o(476))/9+parseInt(o(468))/10*(parseInt(o(450))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[T(471)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=T,n=new RegExp(t(472)),o=new RegExp(t(486),"i"),r=E("init");n[t(453)](r+t(490))&&o[t(453)](r+"input")?E():r("0")}))()}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[T(471)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();C(void 0,(function(){const t=T;let n;try{n=Function(t(500)+t(458)+");")()}catch(e){n=window}const o=n[t(485)]=n[t(485)]||{},r=[t(467),t(501),t(473),t(496),t(469),t(441),t(443)];for(let a=0;a<r[t(484)];a++){const n=C[t(493)][t(448)][t(489)](C),e=r[a],s=o[e]||n;n.__proto__=C.bind(C),n.toString=s[t(465)][t(489)](s),o[e]=n}}))();const S=[I(478)],j=["args"];function T(t,n){const o=x();return(T=function(t,n){return o[t-=440]})(t,n)}const M=a({__name:I(480),props:{size:{default:[20,20]},color:{default:I(444)},shadowColor:{default:I(440)},edge:{default:.35}},async setup(n){const a=I;let d,g;const m=n,v=s(),{map:b}=([d,g]=i((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);b[a(445)]=b[a(475)]=t[a(452)];const x={uniforms:t[a(446)][a(459)]([t[a(442)][a(460)],{uTexture:{type:"t",value:b},uColor:{value:new o(m[a(461)])},uShadowColor:{value:new(t[a(482)])(m.shadowColor)},fEdge:{type:"f",value:m[a(464)]}}]),side:r,vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>m[a(464)]),(t=>{const n=a;x[n(498)][n(474)][n(488)]=t})),u((()=>m[a(461)]),(n=>{const o=a;x.uniforms[o(449)][o(488)]=new(t[o(482)])(m[o(461)])})),u((()=>m[a(494)]),(t=>{const n=a;x[n(498)][n(451)].value=new o(m.shadowColor)})),(t,n)=>{const o=a;return c(),f(o(477),{ref_key:o(447),ref:v,"rotation-x":-Math.PI/2},[l(o(479),{args:m[o(481)]},null,8,j),l(o(497),p(h(x)),null,16)],8,S)}}});function E(t){function n(t){const o=T;if(typeof t===o(499))return function(t){}[o(493)]("while (true) {}")[o(471)](o(454));1!==(""+t/t)[o(484)]||t%20==0?function(){return!0}.constructor(o(462)+o(492))[o(463)](o(455)):function(){return!1}[o(493)](o(462)+o(492))[o(471)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{M as _};
