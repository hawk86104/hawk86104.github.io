import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.fCqPNEAw1735275234726.js";import{_ as s}from"./index.JehhujtP1735275234726.js";import{a8 as i,_ as c,k as u,B as a,cA as l}from"./three.jpi2UCEx1735275234726.js";import{P as p}from"./tweakpane.yHWGBmom1735275234726.js";import{I as f,C as m,N as d,c as h,d as g,a as y}from"./three-mesh-bvh.4sDkzARF1735275234726.js";import{d as w,a6 as j,b,a3 as I,o as v,D as _,J as x,u as k,F as T,r as A,e as L,j as M,g as S,m as z,f as R,al as Z}from"./@vue.u2cBPEWn1735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";import"./index.cDMrDO9A1735275234726.js";import"./@fesjs.Okr_vpx41735275234726.js";import"./vue-router.bq4JfoTS1735275234726.js";import"./lodash-es.guXTxyfJ1735275234726.js";import"./@qlin.yHhFDldE1735275234726.js";import"./pinia.BXllYoho1735275234726.js";import"./vue-demi.C4xddsk91735275234726.js";import"./@floating-ui.BPbuo5Gx1735275234726.js";import"./@juggle.7yjBMqoW1735275234726.js";import"./chalk.w3XuUwyA1735275234726.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1735275234726.js";import"./@iconify.3mYF4lU71735275234726.js";import"./dompurify.rQUea5mq1735275234726.js";import"./utils.p6vPEnfT1735275234726.js";import"./default.vue_vue_type_script_setup_true_lang.T3m2Qbnk1735275234726.js";import"./three-mesh-ui.module.WjskKMw01735275234726.js";function F(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"table","trace","stateObject","console","firstHitOnly","string","clientX","211862gokmht","constructor","4616uUVJGL","apply","1306088LxFgck","warn","prototype","button","init","1ZryqIe","pointerType","324sdAyHF","9MjKPpv","1357675cucYgB","pointermove","innerWidth","chain","input","return (function() ","toString","30mtyUyW","while (true) {}","addEventListener","16679cXynZL","7836clRrEi","__proto__","bind","counter","intersectObject","function *\\( *\\)","action","innerHeight","setFromCamera","clientY","gger","debu","touch","626918RuzULw","9685kdySiV","value","call","enabled","length","test","291UhdtyD"];return(F=function(){return t})()}!function(t,n){const e=B,r=F();for(;;)try{if(195466===parseInt(e(419))/1*(parseInt(e(447))/2)+parseInt(e(454))/3*(parseInt(e(466))/4)+parseInt(e(448))/5*(parseInt(e(421))/6)+-parseInt(e(464))/7+-parseInt(e(468))/8*(-parseInt(e(422))/9)+parseInt(e(430))/10*(parseInt(e(423))/11)+parseInt(e(434))/12*(-parseInt(e(433))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(467)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function B(t,n){const e=F();return(B=function(t,n){return e[t-=415]})(t,n)}!function(){C(this,(function(){const t=B,n=new RegExp(t(439)),e=new RegExp(t(455),"i"),r=Y(t(418));n[t(453)](r+t(426))&&e[t(453)](r+t(427))?Y():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();U(void 0,(function(){const t=B;let n;try{n=Function(t(428)+t(456)+");")()}catch(o){n=window}const e=n[t(460)]=n[t(460)]||{},r=["log",t(415),"info","error","exception",t(457),t(458)];for(let s=0;s<r.length;s++){const n=U.constructor[t(416)].bind(U),o=r[s],i=e[o]||n;n[t(435)]=U[t(436)](U),n[t(429)]=i[t(429)][t(436)](i),e[o]=n}}))();function Y(t){function n(t){const e=B;if(typeof t===e(462))return function(t){}[e(465)](e(431))[e(467)](e(437));1!==(""+t/t)[e(452)]||t%20==0?function(){return!0}[e(465)](e(445)+e(444))[e(450)](e(440)):function(){return!1}[e(465)]("debugger")[e(467)](e(459)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const E=P;!function(t,n){const e=P,r=J();for(;;)try{if(268403===-parseInt(e(428))/1*(-parseInt(e(431))/2)+parseInt(e(411))/3*(-parseInt(e(418))/4)+-parseInt(e(465))/5*(parseInt(e(457))/6)+parseInt(e(448))/7+parseInt(e(440))/8+parseInt(e(415))/9*(parseInt(e(421))/10)+-parseInt(e(407))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(477)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=P,n=new RegExp(t(452)),e=new RegExp(t(435),"i"),r=G(t(484));n[t(423)](r+"chain")&&e[t(423)](r+"input")?G():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(477)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(t,n){const e=J();return(P=function(t,n){return e[t-=395]})(t,n)}q(void 0,(function(){const t=P;let n;try{n=Function(t(413)+t(478)+");")()}catch(o){n=window}const e=n[t(481)]=n[t(481)]||{},r=[t(486),t(456),t(437),t(474),t(479),t(399),t(471)];for(let s=0;s<r[t(453)];s++){const n=q.constructor[t(466)][t(454)](q),o=r[s],i=e[o]||n;n[t(439)]=q[t(454)](q),n[t(442)]=i[t(442)].bind(i),e[o]=n}}))();const X=["geometry",E(446)],H=["geometry"];function J(){const t=["点击按钮","test","geometry","brushMesh","getZ","copy","2649IRTuCT","matrixWorld","生成模型","338twHErP","click","radius","getX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#023249","info","TresMesh","__proto__","1139312GsZFnq","invert","toString","action","attributes","center","material","targetMesh","2503690ttNkGY","intersectsSphere","push","string","function *\\( *\\)","length","bind","Vector3","warn","4098LLJtKd","applyMatrix4","intersectsBox","addButton","point","normal","disposeBoundsTree","call","65LaaSnf","prototype","MeshStandardMaterial","debu","constructor","BufferAttribute","trace","Mesh","targetMesh.value init","error","needsUpdate","position","apply",'{}.constructor("return this")( )',"exception","controls","console","setFromCamera","getY","init","DynamicDrawUsage","log","value","shapecast","color","while (true) {}","table","model","Matrix4","setZ","TresSphereGeometry","computeBoundsTree","setAttribute","containsPoint","5989566YQtRdn","set","raycast","TresMeshStandardMaterial","3vVLEch","instance","return (function() ","setUsage","9YZvLes","fill","Sphere","1254776whHSkj","BufferGeometry","visible","1877170FtZLPs"];return(J=function(){return t})()}const D=w({__name:E(400),props:{controls:{}},async setup(r){const o=E;let s,w;const A=r;(()=>{const t=P;a[t(466)].computeBoundsTree=h,a[t(466)][t(463)]=g,c[t(472)][t(466)][t(409)]=y})();const L=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),M=new(c[o(467)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),S=new Uint8Array(3*L[o(444)].position.count);S[o(416)](255);const z=new(c[o(470)])(S,3,!0);z[o(414)](c[o(485)]),L[o(405)](o(397),z);const R=b(null),Z=b(null),F=b(!1),C=b(-1),U=b(.2),Y=new u,{camera:O,raycaster:q}=t(),J=15/255,D=78/255,G=85/255;let V=null;I((()=>{const t=o;R.value&&(console[t(486)](t(473),R.value),R[t(395)][t(424)][t(404)](),V=L.boundsTree,((t,n,e,r,o,s)=>{const c=B;window[c(432)](c(424),(e=>{const r=c;t.x=e[r(463)]/window[r(425)]*2-1,t.y=-e[r(443)]/window[r(441)]*2+1,n[r(449)]=!0})),window[c(432)]("pointerdown",(u=>{const a=c;t.x=u[a(463)]/window[a(425)]*2-1,t.y=-u[a(443)]/window[a(441)]*2+1,r[a(449)]=u[a(417)];const l=new i;l[a(442)](t,e.value),l[a(461)]=!0;const p=l[a(438)](o[a(449)],!0);n[a(449)]=!0,s[a(451)]=0===p[a(452)]}),!0),window[c(432)]("pointerup",(t=>{const e=c;r[e(449)]=-1,t[e(420)]===e(446)&&(n[e(449)]=!1)}),!0)})(Y,F,O,C,R,A.controls[t(412)]))}));const{onLoop:$}=n();$((()=>{const t=o,n=L.index;if(Z.value)if(A[t(480)][t(412)].active||!F[t(395)])Z[t(395)][t(420)]=!1;else{Z[t(395)].scale.setScalar(U.value),q.value[t(482)](Y,O.value),q.value.firstHitOnly=!0;const e=q[t(395)].intersectObject(R.value,!0);if(e[t(453)]){Z[t(395)][t(476)][t(427)](e[0][t(461)]),A.controls[t(412)].enabled=!1,Z.value[t(420)]=!0;const r=new(c[t(401)]);r[t(427)](R[t(395)][t(429)])[t(441)]();const o=new(c[t(417)]);o[t(445)][t(427)](Z[t(395)][t(476)])[t(458)](r),o[t(433)]=100*U[t(395)];const s=[],i=new(c[t(455)]);if(null==V||V[t(396)]({intersectsBounds:n=>{const e=t,r=o[e(459)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i[e(408)](0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o[e(406)](i))return f;return m}return r?f:d},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(449)](o)){const t=3*e;s[i(450)](t,t+1,t+2)}return!1}}),0===C[t(395)]||2===C[t(395)]){let e=1,r=1,o=1;0===C[t(395)]&&(e=J,r=D,o=G);for(let i=0,c=s[t(453)];i<c;i++){const c=n[t(434)](s[i]);z.setX(c,e),z.setY(c,r),z[t(402)](c,o)}z[t(475)]=!0}}else Z[t(395)][t(420)]=!1,A.controls[t(412)].enabled=!0}}));const K=(new p)[o(460)]({title:o(422),label:o(430)}),N=new(c[o(419)]);return K.on(o(432),(()=>{const t=o,n=[],e=[];for(let o=0;o<z.count;o++)z[t(434)](o)===J&&z[t(483)](o)===D&&z[t(426)](o)===G&&(n.push(L[t(444)].position[t(434)](o),L[t(444)].position.getY(o),L[t(444)][t(476)][t(426)](o)),e.push(L.attributes.normal[t(434)](o),L.attributes[t(462)][t(483)](o),L[t(444)][t(462)][t(426)](o)));const r=new Float32Array(n);N[t(405)](t(476),new(c[t(470)])(r,3)),N[t(405)]("normal",new(c[t(470)])(r,3))})),(t,n)=>{const e=o;return v(),_(T,null,[x(e(438),{ref_key:e(447),ref:R,geometry:k(L),scale:.005,material:k(M)},null,8,X),x(e(438),{ref_key:e(425),ref:Z,visible:!1},n[0]||(n[0]=[x(e(403),{args:[1,40,40]},null,-1),x(e(410),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x("TresMesh",{geometry:k(N),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(410),{color:e(436),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,H)],64)}}});function G(t){function n(t){const e=P;if(typeof t===e(451))return function(t){}[e(469)](e(398))[e(477)]("counter");1!==(""+t/t)[e(453)]||t%20==0?function(){return!0}[e(469)](e(468)+"gger")[e(464)](e(443)):function(){return!1}[e(469)]("debugger")[e(477)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=Q;!function(t,n){const e=Q,r=N();for(;;)try{if(321232===-parseInt(e(287))/1*(-parseInt(e(250))/2)+parseInt(e(261))/3*(parseInt(e(280))/4)+parseInt(e(272))/5*(parseInt(e(249))/6)+parseInt(e(260))/7*(-parseInt(e(283))/8)+parseInt(e(277))/9+parseInt(e(282))/10*(-parseInt(e(259))/11)+-parseInt(e(268))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(276)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){$(this,(function(){const t=Q,n=new RegExp(t(281)),e=new RegExp(t(246),"i"),r=tt(t(284));n[t(253)](r+t(245))&&e[t(253)](r+t(243))?tt():r("0")}))()}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(276)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(){const t=["function *\\( *\\)","439420ZXokzz","344gawiMh","init","bind",'{}.constructor("return this")( )',"108659toOaVi","pos-x.jpg","controlsRef","trace","input","call","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","neg-z.jpg","171096UQflKp","6ikmJPH","while (true) {}","gger","test","pos-y.jpg","length","TresPerspectiveCamera","debu","error","154OSbXIs","15722LJcNqI","1257jJdtvP","neg-x.jpg","console","neg-y.jpg","collectTriangles","__proto__","stateObject","8623068ADddYS","counter","constructor","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","35Lqrcrk","prototype","TresCanvas","log","apply","5758353RrtXdI","value","action","5596GYYFbF"];return(N=function(){return t})()}function Q(t,n){const e=N();return(Q=function(t,n){return e[t-=240]})(t,n)}K(void 0,(function(){const t=Q;let n;try{n=Function("return (function() "+t(286)+");")()}catch(o){n=window}const e=n[t(263)]=n[t(263)]||{},r=[t(275),"warn","info",t(258),t(247),"table",t(242)];for(let s=0;s<r[t(255)];s++){const n=K[t(270)][t(273)][t(285)](K),o=r[s],i=e[o]||n;n[t(266)]=K[t(285)](K),n.toString=i.toString[t(285)](i),e[o]=n}}))();const W=w({__name:V(265),setup(t){const n=A({clearColor:"#999999",antialias:!0}),e=A({autoRotate:!1}),i=b(null);return(t,c)=>{const u=Q,a=L(u(274));return v(),_(T,null,[M(k(s)),M(a,z(n,{"window-size":""}),{default:S((()=>[c[0]||(c[0]=x(u(256),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),M(k(r),z({ref_key:u(241),ref:i},e),null,16),c[1]||(c[1]=x("TresAmbientLight",{intensity:1},null,-1)),(v(),R(Z,null,{default:S((()=>[M(D,{controls:i[u(278)]},null,8,["controls"])])),_:1})),(v(),R(Z,null,{default:S((()=>[M(k(o),{background:!1,files:[u(240),u(262),u(254),u(264),"pos-z.jpg",u(248)],path:u(271)})])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=Q;if("string"==typeof t)return function(t){}.constructor(e(251))[e(276)](e(269));1!==(""+t/t)[e(255)]||t%20==0?function(){return!0}[e(270)]("debu"+e(252))[e(244)](e(279)):function(){return!1}.constructor(e(257)+e(252))[e(276)](e(267)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{W as default};
