import{l as e}from"./lodash.CybtBilg1763540743861.js";import{V as t,A as l,B as o,C as i,D as a,E as s,F as n,G as r,H as d,I as y,J as p,K as u,L as c,M as b}from"./@visactor.PvbqKgqR1763540743861.js";import{d as f,a as L,x as m,w as g,s as v,a9 as h,D as C,H as k,o as A,m as x,ap as F}from"./@vue.Co_gxueH1763540743861.js";var R=(e=>(e.BAR="Bars",e.PIE="Pies",e.LINE="Lines",e.AREA="Areas",e.FUNNEL="Funnels",e.WORDCLOUD="WordClouds",e.SCATTER="Scatters",e))(R||{}),E=(e=>(e.BAR="柱状图",e.PIE="饼图",e.LINE="折线图",e.AREA="面积图",e.FUNNEL="漏斗图",e.WORDCLOUD="词云图",e.SCATTER="散点图",e))(E||{});const _={[R.BAR]:t=>{const l=e.cloneDeep(t);delete l.category;const o=l.tooltip.style.keyLabel.fill,i=l.tooltip.style.valueLabel.fill,a=l.tooltip.style.titleLabel.keyFill;delete l.tooltip.style.keyLabel.fill,delete l.tooltip.style.valueLabel.fill,delete l.tooltip.style.titleLabel.keyFill,l.tooltip.style.keyLabel.fontColor=o,l.tooltip.style.valueLabel.fontColor=i,l.tooltip.style.titleLabel.fontColor=a;const{name:s,...n}=t.xAxis,{name:r,...d}=t.yAxis;return l.axes=[{orient:"bottom",...n},{orient:"left",...d}],delete l.xAxis,delete l.yAxis,l.label={...l.label,style:{...l.label?.style,lineWidth:0}},l},[R.PIE]:t=>{const l=e.cloneDeep(t);delete l.category;const o=l.tooltip.style.keyLabel.fill,i=l.tooltip.style.valueLabel.fill,a=l.tooltip.style.titleLabel.keyFill;return delete l.tooltip.style.keyLabel.fill,delete l.tooltip.style.valueLabel.fill,delete l.tooltip.style.titleLabel.keyFill,l.tooltip.style.keyLabel.fontColor=o,l.tooltip.style.valueLabel.fontColor=i,l.tooltip.style.titleLabel.fontColor=a,l.extensionMark&&(l.extensionMark=[{name:"arc_inner_shadow",type:"arc",dataId:"id0",style:{interactive:!1,startAngle:e=>e.__VCHART_ARC_START_ANGLE,endAngle:e=>e.__VCHART_ARC_END_ANGLE,innerRadius:(e,t)=>t.getLayoutRadius()*l.innerRadius-30,outerRadius:(e,t)=>t.getLayoutRadius()*l.innerRadius,fillOpacity:.3,fill:(e,t)=>t.seriesColor(e[l.seriesField]),visible:!0,x:(e,t)=>t.getCenter().x(),y:(e,t)=>t.getCenter().y()}},{name:"arc_inner",type:"symbol",style:{interactive:!1,size:(e,t)=>2*t.getLayoutRadius()*l.innerRadius-100,fillOpacity:0,lineWidth:1,strokeOpacity:.5,stroke:{gradient:"conical",startAngle:0,endAngle:2*Math.PI,stops:[{offset:0,color:"#FFF",opacity:0},{offset:1,color:"#FFF",opacity:1}]},visible:!0,x:(e,t)=>t.getCenter().x(),y:(e,t)=>t.getCenter().y()}},{name:"arc_outer",type:"symbol",style:{interactive:!1,size:(e,t)=>2*t.getLayoutRadius()*l.outerRadius+50,fillOpacity:0,lineWidth:1,strokeOpacity:.5,stroke:{gradient:"conical",startAngle:0,endAngle:2*Math.PI,stops:[{offset:0,color:"#FFF",opacity:0},{offset:1,color:"#FFF",opacity:1}]},visible:!0,x:(e,t)=>t.getCenter().x(),y:(e,t)=>t.getCenter().y()}}]),l},[R.LINE]:t=>{const l=e.cloneDeep(t);delete l.category;const o=l.tooltip.style.keyLabel.fill,i=l.tooltip.style.valueLabel.fill,a=l.tooltip.style.titleLabel.keyFill;delete l.tooltip.style.keyLabel.fill,delete l.tooltip.style.valueLabel.fill,delete l.tooltip.style.titleLabel.keyFill,l.tooltip.style.keyLabel.fontColor=o,l.tooltip.style.valueLabel.fontColor=i,l.tooltip.style.titleLabel.fontColor=a;const{name:s,...n}=t.xAxis,{name:r,...d}=t.yAxis;return l.axes=[{orient:"bottom",...n},{orient:"left",...d}],delete l.xAxis,delete l.yAxis,l.label={...l.label,style:{...l.label?.style,lineWidth:0}},l},[R.AREA]:t=>{const l=e.cloneDeep(t);delete l.category;const o=l.tooltip.style.keyLabel.fill,i=l.tooltip.style.valueLabel.fill,a=l.tooltip.style.titleLabel.keyFill;delete l.tooltip.style.keyLabel.fill,delete l.tooltip.style.valueLabel.fill,delete l.tooltip.style.titleLabel.keyFill,l.tooltip.style.keyLabel.fontColor=o,l.tooltip.style.valueLabel.fontColor=i,l.tooltip.style.titleLabel.fontColor=a;const{name:s,...n}=t.xAxis,{name:r,...d}=t.yAxis;return l.axes=[{orient:"bottom",...n},{orient:"left",...d}],delete l.xAxis,delete l.yAxis,l},[R.FUNNEL]:t=>{const l=e.cloneDeep(t),o=l.tooltip.style.keyLabel.fill,i=l.tooltip.style.valueLabel.fill,a=l.tooltip.style.titleLabel.keyFill;return delete l.tooltip.style.keyLabel.fill,delete l.tooltip.style.valueLabel.fill,delete l.tooltip.style.titleLabel.keyFill,l.tooltip.style.keyLabel.fontColor=o,l.tooltip.style.valueLabel.fontColor=i,l.tooltip.style.titleLabel.fontColor=a,l.label={visible:!0},l},[R.WORDCLOUD]:t=>{const l=e.cloneDeep(t),o=l.tooltip.style.keyLabel.fill,i=l.tooltip.style.valueLabel.fill,a=l.tooltip.style.titleLabel.keyFill;return delete l.tooltip.style.keyLabel.fill,delete l.tooltip.style.valueLabel.fill,delete l.tooltip.style.titleLabel.keyFill,l.tooltip.style.keyLabel.fontColor=o,l.tooltip.style.valueLabel.fontColor=i,l.tooltip.style.titleLabel.fontColor=a,l},[R.SCATTER]:t=>{const l=e.cloneDeep(t),o=l.tooltip.style.keyLabel.fill,i=l.tooltip.style.valueLabel.fill,a=l.tooltip.style.titleLabel.keyFill;delete l.tooltip.style.keyLabel.fill,delete l.tooltip.style.valueLabel.fill,delete l.tooltip.style.titleLabel.keyFill,l.tooltip.style.keyLabel.fontColor=o,l.tooltip.style.valueLabel.fontColor=i,l.tooltip.style.titleLabel.fontColor=a;const{name:s,...n}=t.xAxis,{name:r,...d}=t.yAxis;return l.axes=[{orient:"bottom",...n,label:{formatMethod:e=>Number(e).toFixed(2)}},{orient:"left",...d}],delete l.xAxis,delete l.yAxis,l}},O=f({__name:"index",props:{option:{type:Object,required:!0},initOptions:{type:Object,required:!1,default:()=>({})}},emits:["mousedown","mouseup","mouseupoutside","rightdown","rightup","rightupoutside","click","dblclick","mousemove","mouseover","mouseout","mouseenter","mouseleave","wheel","touchstart","touchend","touchendoutside","touchmove","touchcancel","tap","dragstart","dragend","drag","dragenter","dragleave","dragover","drop","pan","panstart","panend","press","pressup","pressend","pinch","pinchstart","pinchend","swipe","dimensionHover","dimensionClick","dataZoomChange","scrollBarChange","brushStart","brushChange","brushEnd","brushClear","drill","legendItemClick","legendItemHover","legendItemUnHover","legendFilter","initialized","rendered","renderFinished","animationFinished","layoutStart","layoutEnd","afterResizef"],setup(e,{expose:f,emit:R}){t.useRegisters([l,o,i,a,s,n,r,d,y,p,u,c,b]);const E=["mousedown","mouseup","mouseupoutside","rightdown","rightup","rightupoutside","click","dblclick","mousemove","mouseover","mouseout","mouseenter","mouseleave","wheel","touchstart","touchend","touchendoutside","touchmove","touchcancel","tap","dragstart","dragend","drag","dragenter","dragleave","dragover","drop","pan","panstart","panend","press","pressup","pressend","pinch","pinchstart","pinchend","swipe","dimensionHover","dimensionClick","dataZoomChange","scrollBarChange","brushStart","brushChange","brushEnd","brushClear","drill","legendItemClick","legendItemHover","legendItemUnHover","legendFilter","initialized","rendered","renderFinished","animationFinished","layoutStart","layoutEnd","afterResizef"],O=R,D=e,I=L();let N;const{dataset:S,...w}=m(D.option);g(()=>({...w}),()=>{v(()=>{H(D.option)})},{deep:D.initOptions?.deepWatch||!0,immediate:!0}),g(()=>S.value,()=>{v(()=>{H(D.option)})},{deep:!1});const H=e=>{if(I.value&&!N){const l=_[e.category||""]?.(e);return N=new t({...l,data:e.dataset},{dom:I.value,...D.initOptions}),N.renderSync(),!0}if(N){const t=_[e.category||""]?.(e);return N.updateSpec({...t,data:h(e.dataset),dataset:void 0},!1,void 0,{change:!1,reMake:!0,reAnimate:!0}),!0}return!1};return C(()=>{N&&N.release()}),f({refresh:()=>{N&&N.renderSync()},release:()=>{N&&N.release()}}),(e,t)=>(A(),k("div",x({ref_key:"vChartRef",ref:I},F({...Object.fromEntries(E.map(e=>[e,t=>((e,t)=>{E.includes(t)&&O(t,e)})(t,e)]))},!0)),null,16))}});export{E as C,O as _,R as a};
