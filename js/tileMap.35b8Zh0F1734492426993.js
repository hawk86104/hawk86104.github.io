import{_ as t,cM as n,V as e,am as o}from"./three.-W-Avfc61734492426993.js";import{P as r}from"./tweakpane.yHWGBmom1734492426993.js";import{m as s,e as a}from"./@tresjs.WiFlZbqU1734492426993.js";import{P as i,b as c,c as u,M as p,T as l,a as f,d as m}from"./index.0WBnzwIe1734492426993.js";import{d as h,a3 as g,w as d,o as b,D as w,u as j,X as I,r as x,e as y,j as v,g as M,f as _,al as C,m as B,F as z}from"./@vue.-THQH3GC1734492426993.js";import{_ as S}from"./raycasterEvent.f50E2QLN1734492426993.js";import{a as k}from"./utils.1t2rDdLI1734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";import"./@mapbox.guWP4S6P1734492426993.js";import"./@amap.VVwFehhA1734492426993.js";import"./three-mesh-bvh.Ibne3Tc81734492426993.js";import"./three-custom-shader-material.5sc6Ku_Y1734492426993.js";import"./@fesjs.-ojmPQ0_1734492426993.js";import"./vue-router.XKFr-7ni1734492426993.js";import"./lodash-es.kYt-_xTG1734492426993.js";import"./@qlin.yHhFDldE1734492426993.js";import"./pinia.21wZrGqi1734492426993.js";import"./vue-demi.C4xddsk91734492426993.js";import"./@floating-ui.BPbuo5Gx1734492426993.js";import"./@juggle.7yjBMqoW1734492426993.js";import"./@tweenjs.J1BAvmPw1734492426993.js";import"./utils.eLz0ibWs1734492426993.js";import"./http.zRszre7j1734492426993.js";import"./axios.Ng308AU61734492426993.js";import"./color.5veG4KAl1734492426993.js";import"./color-string.kNtZATKp1734492426993.js";import"./color-name.yUbCVIrO1734492426993.js";import"./simple-swizzle.YNACuzOA1734492426993.js";import"./is-arrayish.TFDaLWVC1734492426993.js";import"./color-convert.DUZWshbr1734492426993.js";import"./lodash.gMlLK6RO1734492426993.js";import"./d3-geo.R-zrVcqK1734492426993.js";import"./d3-array.E5C1cfJ61734492426993.js";const T=A;function A(t,n){const e=Z();return(A=function(t,n){return e[t-=388]})(t,n)}!function(t,n){const e=A,o=Z();for(;;)try{if(981317===-parseInt(e(433))/1*(parseInt(e(440))/2)+-parseInt(e(419))/3+-parseInt(e(447))/4*(-parseInt(e(399))/5)+-parseInt(e(406))/6+parseInt(e(403))/7*(-parseInt(e(452))/8)+parseInt(e(425))/9*(parseInt(e(464))/10)+-parseInt(e(469))/11*(-parseInt(e(434))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(393)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=A,n=new RegExp(t(429)),e=new RegExp(t(459),"i"),o=D(t(467));n.test(o+t(442))&&e[t(463)](o+t(438))?D():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["__proto__","monochrome","bind","lookAt","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","opposite","test","50IUohIg","genSaturation","bbox","init","info","2849vjGOrV","target","object","while (true) {}","primitive","enableDamping","apply","position0","genContrast","source","dampingFactor","Vector3","9070615bPHATT","render","call","coordType","12409992bsUStc","length","debu","10486758MqpqqU","innerHeight","far","useWorker","exception","position","showTileNo","camera","error","action","flatShading","warn","update","576930AEydFI","showBoundingBox","string","maxZoom","rotation","tweenInstance","2199519VbyyBM","abs","wireframe","filter","function *\\( *\\)","table","console","updateProjectionMatrix","20423AekHtR","117516lgsTBQ","constructor","isMonochrome","genBright","input","log","86wHriZQ","set","chain","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","innerWidth","PerspectiveCamera","gger","4WqWzkL","Color","trace","mapCenter","minDistance","8aUTVXC","value","#fff"];return(Z=function(){return t})()}R(void 0,(function(){const t=A;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(431)]=n[t(431)]||{},o=[t(439),t(417),t(468),t(414),t(410),t(430),t(449)];for(let s=0;s<o[t(404)];s++){const n=R[t(435)].prototype[t(457)](R),r=o[s],a=e[r]||n;n[t(455)]=R[t(457)](R),n[t(460)]=a[t(460)][t(457)](a),e[r]=n}}))();const V=[T(389),T(423)],q=h({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:T(454)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const r=T,m=e,{renderer:h,scene:I}=s();(new i)[r(402)]=c;const x=new u;x[r(396)]=r(443),x[r(402)]=c;const y=new p;y[r(396)]=r(461),y[r(412)]=!1,y[r(409)]=!0;const v=new l(x,y);if(v[r(420)]=!1,v[r(427)]=!1,v[r(416)]=!1,v.useStandardMaterial=!1,v[r(428)]={opposite:m[r(462)],monochrome:m[r(436)]?{r:.299,g:.587,b:.114}:null,genBright:m[r(437)],genContrast:m[r(395)],genSaturation:m[r(465)]},m.monochrome){let n=new(t[r(448)])(m.monochrome);v[r(428)]&&(v[r(428)][r(456)]={r:n.r,g:n.g,b:n.b})}const M=new f;M.provider=v,M[r(466)]=m[r(466)],M.maxZoom=m[r(422)];const _=new(t[r(445)])(60,window[r(444)]/window[r(407)],1,1e8);_.up=new(t[r(398)])(0,1,0),_[r(411)][r(441)](m.mapCenter[0],m[r(450)][2],-m[r(450)][1]),_[r(458)](new(t[r(398)])(_[r(411)].x,0,_[r(411)].z-2e3)),M[r(413)]=_;let C=null;g((()=>{const t=r;h[t(453)]&&!C&&(C=new n(_,h[t(453)].domElement),C[t(392)]=!0,C[t(397)]=.05,C[t(451)]=600,C[t(394)][t(441)](_[t(411)].x,_[t(411)].y,_[t(411)].z),C[t(388)].set(_[t(411)].x,0,_[t(411)].z-2e3))})),d((()=>[m[r(462)],m[r(436)],m.monochrome]),(([n,e,o])=>{const s=r;if(v[s(428)]){let r=new(t[s(448)])(o);v[s(428)].opposite=n,v.filter[s(456)]=e?{r:r.r,g:r.g,b:r.b}:null}})),d((()=>[m[r(437)],m[r(395)],m[r(465)]]),(([t,n,e])=>{const o=r;v[o(428)]&&(v[o(428)][o(437)]=t,v[o(428)][o(395)]=n,v.filter[o(465)]=e)}));const{onLoop:B}=a();return B((()=>{var t;const n=r;if(h[n(453)]){null==(t=m[n(424)])||t[n(418)](),C&&C.update(),M[n(418)]();const e=50*Math[n(426)](_[n(411)].y);_[n(408)]=e+5e3,_[n(432)](),h[n(453)][n(400)](I[n(453)],_)}})),o({camera:_,map:M,orbitControl:C}),(t,n)=>{const e=r;return b(),w(e(391),{object:j(M),rotation:[-Math.PI/2,0,0]},null,8,V)}}});function D(t){function n(t){const e=A;if(typeof t===e(421))return function(t){}[e(435)](e(390))[e(393)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(435)](e(405)+e(446))[e(401)](e(415)):function(){return!1}[e(435)](e(405)+e(446))[e(393)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=L;!function(t,n){const e=L,o=W();for(;;)try{if(515054===-parseInt(e(331))/1*(-parseInt(e(383))/2)+parseInt(e(376))/3*(parseInt(e(396))/4)+-parseInt(e(346))/5*(-parseInt(e(336))/6)+parseInt(e(334))/7*(-parseInt(e(370))/8)+parseInt(e(341))/9*(parseInt(e(337))/10)+parseInt(e(380))/11*(parseInt(e(384))/12)+-parseInt(e(333))/13*(parseInt(e(355))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(t,n){const e=W();return(L=function(t,n){return e[t-=330]})(t,n)}!function(){F(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(354),"i"),o=Q(t(387));n[t(386)](o+"chain")&&e[t(386)](o+t(393))?Q():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["addBinding","test","init","debu","value","action","counter","滤镜颜色","input","console","orbitControl","12MVZAna","list","1EjGafM","prototype","1185795NhqYWY","4018cRDVBm","call","6CAolAD","10raeTEe","change","tweenInstance","牛首山","3679209vBZIUC","error","bind","table","单色滤镜","3278385pYbTti","exception","monochrome","string","toString","tileMapRef","manual","#4688b5","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","252TUOkog","apply","xjk","gger","__proto__","while (true) {}","addBlade","opposite","饱和度","isMonochrome","return (function() ","log","tileMap","奥体中心","info","2832lFebUz","#201919","新街口","SRGBColorSpace","camera","genBright","387138EVQNHM","trace","constructor","tileMapMeshRef","11igygfz","TresCanvas","length","1716982sQvaAB","600156DttTBp"];return(W=function(){return t})()}P(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(365)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(394)]=n[t(394)]||{},o=[t(366),"warn",t(369),t(342),t(347),t(344),t(377)];for(let r=0;r<o[t(382)];r++){const n=P[t(378)][t(332)][t(343)](P),s=o[r],a=e[s]||n;n[t(359)]=P[t(343)](P),n[t(350)]=a[t(350)][t(343)](a),e[s]=n}}))();const H=h({__name:U(367),setup(n){const s=U,a=m(118.779958,32.017136),i=[a[0],a[1],5e3],c=I(),u=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:s(353),mapCenter:i,tweenInstance:null}),p=new r({title:"参数"});p[s(385)](u,s(362),{label:"反色"}),p[s(385)](u,s(375),{label:"高亮",min:.1,max:3,step:.1}),p.addBinding(u,"genContrast",{label:"对比度",min:.1,max:3,step:.1}),p[s(385)](u,"genSaturation",{label:s(363),min:.1,max:3,step:.1}),p[s(385)](u,s(364),{label:s(345)}),p[s(385)](u,s(348),{label:s(392)});const l={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};p[s(361)]({view:s(330),label:"飞去",options:[{text:s(368),value:"at"},{text:s(372),value:s(357)},{text:s(340),value:"nss"}],value:"at"}).on(s(338),(t=>{const n=s,o=new e(l[t[n(389)]][0],2e3,-l[t[n(389)]][1]);u[n(339)]=k(c[n(389)][n(374)],o,c.value.orbitControl,[0,-300],4e3)}));const f=x({clearColor:s(371),antialias:!0,logarithmicDepthBuffer:!0,renderMode:s(352),outputColorSpace:t[s(373)],toneMapping:o});return setTimeout((()=>{const t=s,n=l.at,o=new e(n[0],1600,-n[1]);u.tweenInstance=k(c.value[t(374)],o,c[t(389)][t(395)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=s,o=y(e(381));return b(),w(z,null,[v(o,B(f,{"window-size":""}),{default:M((()=>[(b(),_(C,null,{default:M((()=>[v(q,B(u,{ref_key:e(379),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),v(S,{tileMapRef:c[e(389)]},null,8,[e(351)])],64)}}});function Q(t){function n(t){const e=L;if(typeof t===e(349))return function(t){}[e(378)](e(360))[e(356)](e(391));1!==(""+t/t)[e(382)]||t%20==0?function(){return!0}[e(378)](e(388)+e(358))[e(335)](e(390)):function(){return!1}.constructor(e(388)+e(358)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{H as default};
