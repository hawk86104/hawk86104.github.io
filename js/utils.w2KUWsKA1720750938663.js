import{a as t,B as n,r as e,bY as o,C as r,j as s,Z as c}from"./three.c_4mN3mZ1720750938663.js";import{x as i}from"./@fesjs.hPzU4o281720750938663.js";import{N as u}from"./@tresjs.toBU36DO1720750938663.js";import{c as a,d as f,a as p}from"./three-mesh-bvh.q2XDEzjn1720750938663.js";!function(t,n){const e=w,o=m();for(;;)try{if(223422===parseInt(e(414))/1+parseInt(e(441))/2+-parseInt(e(474))/3+-parseInt(e(480))/4+-parseInt(e(438))/5+parseInt(e(407))/6+parseInt(e(462))/7)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(459)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=w,n=new RegExp(t(468)),e=new RegExp(t(460),"i"),o=_(t(478));n[t(425)](o+"chain")&&e.test(o+"input")?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(459)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(432)+t(463)+");")()}catch(e){n=window}return n}(),e=n[t(461)]=n[t(461)]||{},o=["log",t(405),t(445),t(412),t(415),t(472),t(477)];for(let r=0;r<o[t(439)];r++){const n=g[t(424)][t(431)][t(413)](g),s=o[r],c=e[s]||n;n.__proto__=g[t(413)](g),n[t(429)]=c.toString[t(413)](c),e[s]=n}}))();const h=(n,e=!1)=>{const o=w;n[o(476)]();const{max:r,min:s}=n[o(417)];n[o(409)]("uv");const c=r.x-s.x,i=r.y-s.y,u=[];for(let t=0;t<n[o(470)][o(454)].count;t++)e?(u[o(421)]((n[o(470)][o(454)][o(465)](t)-(s.x+r.x)/2)/c),u.push((n[o(470)].position[o(451)](t)-(s.y+r.y)/2)/i)):(u.push((n[o(470)].position[o(465)](t)-s.x)/c),u[o(421)]((n[o(470)][o(454)][o(451)](t)-s.y)/i));const a=new Float32Array(u);n.setAttribute("uv",new t(a,2))};function m(){const t=["return (function() ","getCenter","disposeBoundsTree","side","copy","forEach","227940pLwMsf","length","#fff","125318VMsATg","call","set","uniforms","info","string","expandByObject","raycast","add","max","getY","depthTest","computeBoundsTree","position","count","get","clone","value","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","4559331ZYgCRq",'{}.constructor("return this")( )',"Box3","getX","transparent","config","function *\\( *\\)","geometry","attributes","depthWrite","table","action","1048452qFlyHC","features","computeBoundingBox","trace","init","material","1200456YUjGzH","warn","sub","214440iVeDES","debu","deleteAttribute","divideScalar","getSize","error","bind","168876orZOtQ","exception","negate","boundingBox","setAttribute","Vector3","setY","push","random","gger","constructor","test","min","center","setFromObject","toString","children","prototype"];return(m=function(){return t})()}const d=(t,n)=>new Promise(((e,o)=>{const r=w;i(t,{},{method:r(456)}).then((t=>{const o=r;n&&e(t[n]),e(t[o(475)])})).catch((t=>{console[r(412)](t),o(t)}))}));function w(t,n){const e=m();return(w=function(t,n){return e[t-=405]})(t,n)}const y=t=>{const n=w,e=(new(THREE[n(464)]))[n(428)](t),o=new(THREE[n(419)]);e[n(433)](o),t[n(430)][n(437)]((t=>{t[n(454)].sub(o)})),t[n(454)][n(436)](o.negate())},x=()=>{const t=w;n[t(431)][t(453)]=a,n[t(431)][t(434)]=f,e[t(431)][t(448)]=p},b=async t=>{const n=w,e=await u(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(469)][n(457)]();h(i),i[n(453)]();const a=new o(i,{color:new r(n(440)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return a[n(479)][n(466)]=!0,a[n(479)][n(471)]=!0,a[n(479)][n(452)]=!0,a[n(479)][n(435)]=c,a[n(479)][n(444)][n(467)][n(458)].w=20,a[n(479)][n(444)].reflectivity[n(458)]=.46,a};function j(t){const n=w,e=[];for(let r=0;r<t.length;r++)e[n(421)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(439)];r++)o[n(449)](e[r]);o[n(410)](e[n(439)]);for(let r=0;r<e[n(439)];r++)e[r][n(406)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=w;if(typeof t===e(446))return function(t){}[e(424)]("while (true) {}")[e(459)]("counter");1!==(""+t/t)[e(439)]||t%20==0?function(){return!0}[e(424)]("debu"+e(423))[e(442)](e(473)):function(){return!1}.constructor(e(408)+e(423))[e(459)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,x as i,d as l,h as r,b as s};
