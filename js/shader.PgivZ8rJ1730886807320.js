import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.iUmyNPdW1730886807320.js";import{_ as i,a0 as s}from"./three._P_a_E_Z1730886807320.js";import{P as a}from"./tweakpane.yHWGBmom1730886807320.js";import{L as c}from"./three-subdivide.gJkaWgH61730886807320.js";import{d as l,b as u,a3 as f,w as p,o as d,D as g,J as m,aj as h,ak as v,a6 as y,r as b,e as w,f as _,g as B,j as x,u as M,m as I,I as S}from"./@vue.-THQH3GC1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";function T(n,t){const e=A();return(T=function(n,t){return e[n-=404]})(n,t)}const j=T;!function(n,t){const e=T,r=A();for(;;)try{if(669775===parseInt(e(416))/1+-parseInt(e(406))/2+-parseInt(e(425))/3*(parseInt(e(429))/4)+parseInt(e(417))/5*(-parseInt(e(455))/6)+parseInt(e(424))/7+parseInt(e(466))/8*(parseInt(e(434))/9)+parseInt(e(431))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[T(432)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){k(this,(function(){const n=T,t=new RegExp(n(448)),e=new RegExp(n(404),"i"),r=V(n(456));t[n(409)](r+n(410))&&e[n(409)](r+n(449))?V():r("0")}))()}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[T(432)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(){const n=["bind","function *\\( *\\)","input","__proto__","shineShader","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","geometry","viewVector","26310HDAcmm","init","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","return (function() ","side","length","Color","string","scale","FrontSide","info","32vgxROj","constructor","attributes","srcMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","blending","199374gaMXQz","log","position","test","chain","TSGref","prototype","console","stateObject","warn","1231595eEkhXx","1455PiaFgc","clone","toString","AdditiveBlending","Vector3","trace","call","5630653sDvfBN","3uKLiaE","subdivision","gger","modify","5206744acZzBU","copy","10188330ilXiSH","apply","TresMesh","657846DLXzmz","subVectors","debu","value","error","glowColor","color","uniforms","material","exception",'{}.constructor("return this")( )',"while (true) {}","counter"];return(A=function(){return n})()}z(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(458)+n(444)+");")()}catch(e){t=window}return t}(),e=t[n(413)]=t[n(413)]||{},r=[n(407),n(415),n(465),n(438),n(443),"table",n(422)];for(let o=0;o<r[n(460)];o++){const t=z[n(467)][n(412)][n(447)](z),i=r[o],s=e[i]||t;t[n(450)]=z[n(447)](z),t[n(419)]=s[n(419)][n(447)](s),e[i]=t}}))();const C=[j(463)],R=l({__name:j(451),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(464)]},blending:{default:i[j(420)]}},setup(e){const r=j,o=e,s=u(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(461)])(o[r(440)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(452),fragmentShader:r(457),side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(405)]};f((()=>{const n=r;if(o[n(469)]&&s[n(437)]&&!s.value[n(453)][n(468)][n(408)]){let t=o[n(469)][n(453)].clone();o[n(426)]&&(t=c[n(428)](t,2)),s[n(437)][n(453)]=t,s[n(437)][n(408)][n(430)](o[n(469)][n(408)])}o[n(440)]&&(a[n(441)][n(439)][n(437)]=new(i[n(461)])(o[n(440)])),o.c&&(a[n(441)].c[n(437)]=o.c),o.p&&(a[n(441)].p.value=o.p)})),p((()=>o[r(426)]),(n=>{const t=r;let e=o[t(469)][t(453)][t(418)]();n&&(e=c.modify(e,2)),s.value.geometry=e})),p((()=>o[r(459)]),(n=>{s[r(437)].material.side=n})),p((()=>o.blending),(n=>{const t=r;s[t(437)][t(442)].blending=n}));const{onLoop:l}=n(),{camera:y}=t();return l((()=>{const n=r;y.value&&s[n(437)]&&(a[n(441)][n(454)].value=(new(i[n(421)]))[n(435)](y[n(437)].position,s[n(437)].position))})),(n,t)=>{const e=r;return d(),g(e(433),{ref_key:e(411),ref:s,scale:o.scale},[m("TresShaderMaterial",h(v(a)),null,16)],8,C)}}});function V(n){function t(n){const e=T;if(typeof n===e(462))return function(n){}[e(467)](e(445)).apply(e(446));1!==(""+n/n).length||n%20==0?function(){return!0}[e(467)](e(436)+"gger")[e(423)]("action"):function(){return!1}[e(467)](e(436)+e(427))[e(432)](e(414)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function N(){const n=["AdditiveBlending","TresAmbientLight","45852qWWqcu","exception","input","chain","209383SvGTBE","#0ff","logo.png","3685830LocMYs","constructor","return (function() ","prototype",'{}.constructor("return this")( )',"边缘处理","instance","addBinding","value","string","toString","TresBoxGeometry","map","color","TresSphereGeometry","gger","apply","4597796AVoHQS","length","#222","srcMesh","action","TresMeshBasicMaterial","BackSide","TresMeshRefA","TresCanvas","info","console","TresMeshRefB","function *\\( *\\)","1312821eatQZP","NormalBlending","bind","2097012lvNCZK","init","subdivision","FrontSide","4TjRfQd","call","error","while (true) {}","table","TresMesh","trace","2374664ZVarXT","69lrBgDd"];return(N=function(){return n})()}const Z=F;!function(n,t){const e=F,r=N();for(;;)try{if(491453===-parseInt(e(301))/1+-parseInt(e(297))/2*(-parseInt(e(294))/3)+-parseInt(e(286))/4*(-parseInt(e(304))/5)+-parseInt(e(282))/6+-parseInt(e(321))/7+parseInt(e(293))/8+parseInt(e(279))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[F(320)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function F(n,t){const e=N();return(F=function(n,t){return e[n-=271]})(n,t)}!function(){E(this,(function(){const n=F,t=new RegExp(n(278)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=X(n(283));t.test(r+n(300))&&e.test(r+n(299))?X():r("0")}))()}();const D=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[F(320)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();D(void 0,(function(){const n=F;let t;try{t=Function(n(306)+n(308)+");")()}catch(o){t=window}const e=t[n(276)]=t[n(276)]||{},r=["log","warn",n(275),n(288),n(298),n(290),n(292)];for(let i=0;i<r[n(322)];i++){const t=D[n(305)][n(307)][n(281)](D),o=r[i],s=e[o]||t;t.__proto__=D[n(281)](D),t[n(314)]=s.toString[n(281)](s),e[o]=t}}))();const L=["map"],G=[Z(316)],P=l({__name:"shader",async setup(n){const t=Z;let c,l;const f={clearColor:t(323)},p=u(),g=u(),h=u(),v=([c,l]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(303)]))),c=await c,l(),c),T=b({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(285)],blending:i[t(295)]}),j=new a({title:"参数",expanded:!0});return j.addBinding(T,t(317),{label:"颜色"}),j[t(311)](T,"scale",{label:"大小",min:1,max:3,step:.2}),j.addBinding(T,t(284),{label:t(309)}),j.addBinding(T,"c",{label:"c",min:0,max:2,step:.1}),j.addBinding(T,"p",{label:"p",min:0,max:8,step:.2}),j[t(311)](T,"side",{options:{FrontSide:i[t(285)],BackSide:i[t(272)],DoubleSide:s}}),j.addBinding(T,"blending",{options:{AdditiveBlending:i[t(295)],NormalBlending:i[t(280)]}}),(n,o)=>{const i=t,s=w(i(274));return d(),_(s,I(f,{"window-size":""}),{default:B((()=>[o[2]||(o[2]=m("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),o[3]||(o[3]=m(i(296),{intensity:1},null,-1)),x(M(e)),o[4]||(o[4]=m("TresGridHelper",{args:[10,10]},null,-1)),m(i(291),{ref_key:i(273),ref:p,position:[-2,1,0]},[o[0]||(o[0]=m(i(318),{args:[1,32,16]},null,-1)),m(i(271),{map:M(v)[0]},null,8,L)],512),x(R,I({srcMesh:p.value},T),null,16,[i(324)]),x(M(r),{ref_key:"TreBoxRef",ref:h,args:[1,1,1],position:[2,1,0]},{default:B((()=>[m(i(271),{map:M(v)[1]},null,8,G)])),_:1},512),h[i(312)]&&h.value[i(310)]?(d(),_(R,I({key:0,srcMesh:h[i(312)][i(310)]},T),null,16,[i(324)])):S("",!0),m("TresMesh",{ref_key:i(277),ref:g,position:[0,1,-2]},o[1]||(o[1]=[m(i(315),{args:[1,1,1,1,1]},null,-1),m(i(271),{color:i(302)},null,-1)]),512),x(R,I({srcMesh:g[i(312)]},T),null,16,["srcMesh"])])),_:1},16)}}});function X(n){function t(n){const e=F;if(typeof n===e(313))return function(n){}[e(305)](e(289))[e(320)]("counter");1!==(""+n/n)[e(322)]||n%20==0?function(){return!0}[e(305)]("debu"+e(319))[e(287)](e(325)):function(){return!1}[e(305)]("debu"+e(319))[e(320)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{P as default};
