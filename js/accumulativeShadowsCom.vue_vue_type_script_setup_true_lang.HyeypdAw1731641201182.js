import{_ as t,c as n,h as e}from"./three.-z-VOBM71731641201182.js";import{m as o}from"./@tresjs.b88d4FZI1731641201182.js";import{d as a,P as r}from"./@pmndrs.nMJMDdCC1731641201182.js";import{d as s,b as i,w as c,a3 as u,o as l,D as p,J as f,aj as h,ak as d}from"./@vue.-THQH3GC1731641201182.js";const m=b;!function(t,n){const e=b,o=M();for(;;)try{if(361119===-parseInt(e(386))/1*(-parseInt(e(368))/2)+parseInt(e(351))/3*(parseInt(e(361))/4)+-parseInt(e(358))/5*(-parseInt(e(316))/6)+parseInt(e(363))/7+parseInt(e(312))/8*(-parseInt(e(306))/9)+parseInt(e(374))/10*(-parseInt(e(343))/11)+parseInt(e(345))/12)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=b,n=new RegExp(t(334)),e=new RegExp(t(356),"i"),o=x(t(323));n[t(387)](o+t(366))&&e[t(387)](o+"input")?x():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(337)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(){const t=["exception","string","update","amount","11MIpuHd","acos","1029156RGxITP","prepare","log","random","right","value","9TgosML","trace","mapSize","gPlane","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","1450595Ttovse","clear","remove","906628RvWdWp","height","1858115cCrHTL","alphaTest","stateObject","chain","opacity","561506gbKjcs","lightPosition","info","#000000","top","color","6025340uJVARy","size","near","blendWindow","abs","length","radius","castShadow","intensity","position","Vector3","prototype","1HOAhoR","test","randFloatSpread","return (function() ","sin","console","TresMesh","TresSoftShadowMaterial","children","camera","5745582osUnmW","bottom","DirectionalLight","bind","set","cos","8eRSwdN","add","ambient","debu","6xpEWTL","material","shadow","accumulativeShadowsCom","bias","rotate-x","MathUtils","init","left","blend","width",'{}.constructor("return this")( )',"far","TresPlaneGeometry","finish","texture","toString","gger","function *\\( *\\)","frames","shadows plm update","apply","error"];return(M=function(){return t})()}function b(t,n){const e=M();return(b=function(t,n){return e[t-=304]})(t,n)}w(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(389)+t(327)+");")()}catch(e){n=window}return n}(),e=n[t(391)]=n[t(391)]||{},o=["log","warn",t(370),t(338),t(339),t(357),t(352)];for(let a=0;a<o[t(379)];a++){const n=w.constructor[t(385)][t(309)](w),r=o[a],s=e[r]||n;n.__proto__=w[t(309)](w),n[t(332)]=s[t(332)].bind(s),e[r]=n}}))();const y=[m(321)],I=s({__name:m(319),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(371)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const g=m,w=s;let M=i();const{extend:b,scene:I,renderer:x,camera:v}=o();b({SoftShadowMaterial:a});const z={position:(new(t[g(384)]))[g(310)](w[g(369)].x,w[g(369)].y,w.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},P=new r(x[g(350)],I[g(350)],z[g(353)]),T={map:P.progressiveLightMap2[g(331)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[g(325)],alphaTest:w[g(364)],opacity:w[g(367)],color:w[g(373)]},S=new n;for(let n=0;n<z[g(342)];n++){const n=new(t[g(308)])(16777215,z[g(382)]/z[g(342)]);n[g(381)]=!0,n[g(318)][g(320)]=z[g(320)],n.shadow.camera[g(376)]=z[g(376)],n[g(318)].camera[g(328)]=z[g(328)],n[g(318)][g(305)][g(349)]=z[g(375)]/2,n[g(318)].camera[g(324)]=-z.size/2,n[g(318)][g(305)][g(372)]=z[g(375)]/2,n[g(318)][g(305)][g(307)]=-z.size/2,n[g(318)][g(353)][g(326)]=z[g(353)],n[g(318)][g(353)][g(362)]=z[g(353)],S[g(313)](n)}const _=()=>{const n=g,o=z[n(383)][n(379)]();for(let a=0;a<S[n(304)][n(379)];a++){const r=S[n(304)][a];if(Math[n(348)]()>w[n(314)])r[n(383)][n(310)](z.position.x+e[n(388)](z[n(380)]),z[n(383)].y+t[n(322)][n(388)](z[n(380)]),z[n(383)].z+t[n(322)][n(388)](z[n(380)]));else{let t=Math[n(344)](2*Math[n(348)]()-1)-Math.PI/2,e=2*Math.PI*Math.random();r[n(383)][n(310)](Math[n(311)](t)*Math.cos(e)*o,Math[n(378)](Math[n(311)](t)*Math.sin(e)*o),Math[n(390)](t)*o)}}},j=(t=1)=>{const n=g;I[n(350)][n(313)](S),P[n(346)]();for(let e=0;e<t;e++)_(),P[n(341)](v.value,w[n(377)]),console[n(347)](n(336),e);I[n(350)][n(360)](S),P[n(330)]()};c((()=>M[g(350)]),(t=>{const n=g;t&&(P.configure(t),P.clear(),console[n(347)]("shadows render start"),j(w[n(335)]),console[n(347)]("shadows render end"))}));const R=()=>{const t=g;P[t(359)](),j(w[t(335)])};return u((()=>{const t=g;M.value&&(w[t(367)]&&(M.value[t(317)][t(367)]=w[t(367)]),w.alphaTest&&(M[t(350)].material[t(364)]=w[t(364)]),w.color&&M.value[t(317)][t(373)].set(w[t(373)]),w[t(325)]&&(M[t(350)][t(317)][t(325)]=w[t(325)]))})),c((()=>w[g(369)]),(t=>{const n=g;t&&(console[n(347)](w.lightPosition),z[n(383)][n(310)](t.x,t.y,t.z),R())}),{deep:!0}),c((()=>[w[g(335)],w[g(377)],w[g(314)]]),(()=>{R()})),(t,n)=>{const e=g;return l(),p(e(392),{"receive-shadow":"",ref_key:e(354),ref:M,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=f(e(329),{args:[1,1]},null,-1)),f(e(393),h(d(T)),null,16)],8,y)}}});function x(t){function n(t){const e=b;if(typeof t===e(340))return function(t){}[e(355)]("while (true) {}")[e(337)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(355)](e(315)+"gger").call("action"):function(){return!1}[e(355)](e(315)+e(333))[e(337)](e(365)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
