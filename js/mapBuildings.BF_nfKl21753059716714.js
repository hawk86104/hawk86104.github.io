import{z as o}from"./three-custom-shader-material.1_PCtt5y1753059716714.js";import"./HeightCorrection.Bq98L9tL1753059716714.js";import"./three-tile.Qgxj123P1753059716714.js";import"./@tweenjs.ULy8-5Ku1753059716714.js";/* empty css                                                                                    */import"./utils.BBoY4hKs1753059716714.js";import{l as e,U as t,P as r,M as n,T as i,a,r as s}from"./raycasterEvent.CaBPAhFL1753059716714.js";import"./index.BtMBNjhl1753059716714.js";import{_ as u,a as l}from"./radraB.vue_vue_type_script_setup_true_lang.DovsCyTJ1753059716714.js";import{_ as c}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.jnlkr2hQ1753059716714.js";import{_ as p}from"./fireA.vue_vue_type_script_setup_true_lang.CQHHOXMu1753059716714.js";import{_ as d}from"./fireB.vue_vue_type_script_setup_true_lang.cbL8gIEE1753059716714.js";import{_ as f}from"./smokeA.vue_vue_type_script_setup_true_lang.ClPHHIPX1753059716714.js";import{_ as m}from"./precipitation.vue_vue_type_script_setup_true_lang.Cw3eIUJ11753059716714.js";import{_ as h}from"./cloudMesh.vue_vue_type_script_setup_true_lang.DR8UHkhZ1753059716714.js";import{_}from"./rippleMesh.vue_vue_type_script_setup_true_lang.CB1Lhfax1753059716714.js";import{e as v,b as g,m as W}from"./@tresjs.oHLVlBVa1753059716714.js";import{aL as x,V as C,cH as y,a9 as w,g as S,S as b,M as j,Q as k,az as P,cD as M,cE as R,cF as T,a3 as B,C as z,bI as G,cX as O,N as I,_ as A,ce as L,q as N}from"./three.DR_5uK8e1753059716714.js";import{l as J}from"./utils.DBbFetme1753059716714.js";import{d as q,aa as Q,G as D,o as H,F as K,W as F,I as X,u as E,b as V,a2 as Y,j as Z,e as U,f as $,a5 as oo,v as eo,r as to,h as ro,m as no}from"./@vue.DwSifnVs1753059716714.js";import{T as io}from"./3d-tiles-renderer.CKgI-MJf1753059716714.js";import"./d3-geo.D4OArjzs1753059716714.js";import"./d3-array.G5ptHY8Z1753059716714.js";import"./axios.C7ORc7eJ1753059716714.js";import"./axios.DLTVXJci1753059716714.js";import"./pinia.DQkQ1TR81753059716714.js";import"./@fesjs.CV3tl4s01753059716714.js";import"./vue-router.Tg4SAQ0L1753059716714.js";import"./lodash-es.C7pWAXPe1753059716714.js";import"./@qlin.q6OWdsQV1753059716714.js";import"./@babel.BPq7uOAK1753059716714.js";import"./@floating-ui.BFjFSAYt1753059716714.js";import"./@juggle.CcBCnTIR1753059716714.js";import"./color.jH_tI3IH1753059716714.js";import"./@amap.CGUF9xH41753059716714.js";import"./color-string.CkhFr3yG1753059716714.js";import"./color-name.BQ5IbGbl1753059716714.js";import"./simple-swizzle.BZEfGQLH1753059716714.js";import"./is-arrayish.CLsR9Wfx1753059716714.js";import"./color-convert.BkN_uTSn1753059716714.js";import"./lodash.DgSt9yEE1753059716714.js";import"./@mapbox.B8uYRbGC1753059716714.js";import"./three-mesh-bvh.Cn1Xk8lq1753059716714.js";import"./index.BFZb4ZY91753059716714.js";import"./object-hash.SU60PE5X1753059716714.js";import"./jszip.DZgnrLoY1753059716714.js";import"./SPE.DMSf0d6p1753059716714.js";import"./postprocessing.BrgFZ9pj1753059716714.js";import"./@vueuse.mXirru381753059716714.js";const ao={renderOrder:3e3},so=["args"],uo=["map","side","color"],lo=q({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(o){let t,r;const n=o,{map:i}=([t,r]=Q((()=>g({map:"./plugins/digitalCity/image/line.png"}))),t=await t,r(),t);i.needsUpdate=!0,i.wrapS=i.wrapT=x,i.repeat.set(1,1);const a=([t,r]=Q((()=>J(n.geoJson))),t=await t,r(),t);let s=[];for(var u=0;u<a.length;u++){const o=a[u],t=[];o.geometry.coordinates.forEach((o=>{const r=e(o[0],o[1],50);t.push(new C(r[0],0,-r[1]))}));let r=n.color;r="primary"===o.properties.highway?"#7eff10":"tertiary"===o.properties.highway?"#0eeeee":"secondary"===o.properties.highway?"#ffffff":"#ff0ffe",s.push({cr3:new y(t),color:r})}const{onLoop:l}=v();return l((()=>{i.offset.x-=Math.random()/20*n.speed})),(o,e)=>(H(),D("TresGroup",null,[(H(!0),D(K,null,F(E(s),(o=>(H(),D("TresMesh",ao,[X("TresTubeGeometry",{args:[o.cr3,64,n.radius,20,!1]},null,8,so),X("TresMeshBasicMaterial",{map:E(i),side:E(w),transparent:!0,color:o.color},null,8,uo)])))),256))]))}}),co=o=>{o.onLoadTileSet=e=>{const t=new S,r=new b,n=new j;let i=null,a=0;o.getOrientedBounds(t,n)?(i=(new C).setFromMatrixPosition(n),a=i.length()):o.getBoundingSphere(r)&&(i=r.center.clone(),a=i.length());const s=i?.normalize(),u=((o,e)=>{const t=new k,r=(new C).crossVectors(o,e);return t.x=r.x,t.y=r.y,t.z=r.z,t.w=1+o.clone().dot(e),t.normalize(),t})(s,new C(0,1,0));o.group.quaternion.x=u.x,o.group.quaternion.y=u.y,o.group.quaternion.z=u.z,o.group.quaternion.w=u.w,o.group.position.z=-a}},po=["object","rotation"],fo=q({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(e){const t=e,r=V(0),n=new io("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");n.errorTarget=2,n.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{if(e.isMesh){(e=>{const{geometry:n}=e;n.computeBoundingBox(),n.computeBoundingSphere();const{max:i,min:a}=n.boundingBox,s=new o({baseMaterial:new G,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new z(t.bulidingsColor)},uOpacity:{value:t.opacity},uLightColor:{value:new z("#ffffff")},uTopColor:{value:new z(t.topColor)},uTime:r,uGradient:{value:t.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:B});e.material.dispose(),e.material=s})(e),e.receiveShadow=!1,e.castShadow=!1;const n=new P(e.geometry.clone());let i=(new M).fromEdgesGeometry(n),a=new R({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const s=new T(i,a);s.applyMatrix4(e.matrix.clone()),e.parent.add(s)}}));const i=new S,a=new b;n.getBoundingBox(i)?(i.getCenter(n.group.position),n.group.position.multiplyScalar(-1)):n.getBoundingSphere(a)&&(n.group.position.copy(a.center),n.group.position.multiplyScalar(-1))})),co(n);const{renderer:i,sizes:a}=W();Y((()=>{a.width.value&&(n.setCamera(t.camera),n.setResolutionFromRenderer(t.camera,i.value))}));const{onBeforeLoop:s}=v();return s((({delta:o})=>{r.value+=2*o,t.camera&&a.width.value&&(t.camera.updateMatrixWorld(),n.update())})),(o,e)=>(H(),D("TresGroup",null,[X("primitive",{object:E(n).group,rotation:[-Math.PI/2,0,0]},null,8,po)]))}}),mo=["object","rotation"],ho=q({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(o,{expose:e}){const s=o,{renderer:u,scene:l}=W(),c=new r;c.coordType=t;const p=new n;p.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",p.showTileNo=!1,p.useWorker=!0;const d=new i(c,p);d.showBoundingBox=!1,d.wireframe=!1,d.flatShading=!1,d.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let f=new z("#4688b5");d.filter.monochrome={r:f.r,g:f.g,b:f.b};const m=new a;m.provider=d,m.bbox=s.bbox,m.maxZoom=s.maxZoom,s.camera.up=new C(0,1,0),s.camera.position.set(s.mapCenter[0],s.mapCenter[2],2e3-s.mapCenter[1]),s.camera.lookAt(new C(s.camera.position.x,0,s.camera.position.z-3e3)),m.camera=s.camera;let h=null;Y((()=>{u.value&&(h=new O(s.camera,u.value.domElement),h.enableDamping=!0,h.dampingFactor=.05,h.minDistance=600,h.position0.set(s.camera.position.x,s.camera.position.y,s.camera.position.z),h.target.set(s.camera.position.x,0,s.camera.position.z-2e3))}));const{onLoop:_}=v();return _((()=>{if(u.value){const o=50*Math.abs(s.camera.position.y);s.camera.far=o+5e3,s.camera.updateProjectionMatrix(),h&&(h.update(),h.target.y=0),m.update(),u.value.render(l.value,s.camera)}})),e({camera:s.camera,map:m}),(o,e)=>(H(),D("primitive",{object:E(m),rotation:[-Math.PI/2,0,0]},null,8,mo))}});function _o(o,e){var t=Co();return _o=function(e,r){var n=t[e-=442];if(void 0===_o.nSLCAh){var i=function(o){for(var e,t,r="",n="",a=r+i,s=0,u=0;t=o.charAt(u++);~t&&(e=s%4?64*e+t:t,s++%4)?r+=a.charCodeAt(u+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var l=0,c=r.length;l<c;l++)n+="%"+("00"+r.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(n)};_o.yAEkTs=function(o,e){var t,r,n=[],a=0,s="";for(o=i(o),r=0;r<256;r++)n[r]=r;for(r=0;r<256;r++)a=(a+n[r]+e.charCodeAt(r%e.length))%256,t=n[r],n[r]=n[a],n[a]=t;r=0,a=0;for(var u=0;u<o.length;u++)a=(a+n[r=(r+1)%256])%256,t=n[r],n[r]=n[a],n[a]=t,s+=String.fromCharCode(o.charCodeAt(u)^n[(n[r]+n[a])%256]);return s},o=arguments,_o.nSLCAh=!0}var a=e+t[0],s=o[a];if(s)n=s;else{if(void 0===_o.ieTUAA){var u=function(o){this.CFIxcB=o,this.SadNRY=[1,0,0],this.PjvGIP=function(){return"newState"},this.IJjWCm="\\w+ *\\(\\) *{\\w+ *",this.thpvpm="['|\"].+['|\"];? *}"};u.prototype.ADKgiM=function(){var o=new RegExp(this.IJjWCm+this.thpvpm).test(this.PjvGIP.toString())?--this.SadNRY[1]:--this.SadNRY[0];return this.ncZrrr(o)},u.prototype.ncZrrr=function(o){return Boolean(~o)?this.bAhrlt(this.CFIxcB):o},u.prototype.bAhrlt=function(o){for(var e=0,t=this.SadNRY.length;e<t;e++)this.SadNRY.push(Math.round(Math.random())),t=this.SadNRY.length;return o(this.SadNRY[0])},new u(_o).ADKgiM(),_o.ieTUAA=!0}n=_o.yAEkTs(n,r),o[a]=n}return n},_o(o,e)}!function(){var o,e,t=Co();function r(o,e,t,r,n){return _o(e- -339,n)}function n(o,e,t,r,n){return _o(n-0,e)}for(;;)try{if(664655===-parseInt(n(0,"oXaG",0,0,478))/1*(-parseInt(n(0,"I8Hl",0,0,469))/2)+-parseInt(n(0,"oXaG",0,0,468))/3+parseInt(r(0,150,0,0,"n3n)"))/4*(parseInt(r(0,143,0,0,"t*b2"))/5)+parseInt(_o(1312-846,"oXaG"))/6+parseInt(n(0,"t*b2",0,0,458))/7*(parseInt(_o(959-447,"c]1E"))/8)+parseInt(n(0,"!gMf",0,0,487))/9+-parseInt((o=-111,e="(cPC",_o(o- -596,e)))/10)break;t.push(t.shift())}catch(i){t.push(t.shift())}}();var vo,go=(vo=!0,function(o,e){function t(o,e,t,r,n){return _o(o-283,e)}if("JKduz"!==t(727,"kdl$")){var r=vo?function(){function r(o,e,r,n,i){return t(n- -1191,o)}if("orept"===r("oXaG",0,0,-409)){var n=_0x1dd56b?function(){if(_0x5f02d4){var o=_0x29cc85[(e="danA",t=1079,r(e,0,0,t-1484))](_0xd70aa9,arguments);return _0xfc5f95=null,o}var e,t}:function(){};return _0x39e591=!1,n}if(e){if(r("I8Hl",0,0,-427)!==t(726,"B86p")){var i=e.apply(o,arguments);return e=null,i}_0x353417=_0x3c9948}}:function(){};return vo=!1,r}var n;try{n=_0x57d632(t(746,"vPiy")+_o(454,"Yg!#")+");")()}catch(i){n=_0x3898b5}return n})(void 0,(function(){function o(o,e,t,r,n){return _o(e- -995,r)}return go[o(0,-523,0,"*s]K")]()[o(0,-528,0,"XSoX")]("(((.+)+)+)+$")[o(0,-524,0,"danA")]().constructor(go).search(_o(542-51,"z3*r"))}));go();var Wo,xo=(Wo=!0,function(o,e){function t(o,e,t,r,n){return _o(n-492,e)}if("xVhrE"===t(0,"!gMf",0,0,938)){var r=Wo?function(){function r(o,e,r,n,i){return t(0,r,0,0,e- -702)}function n(o,e,r,n,i){return t(0,o,0,0,i-26)}function i(o,e,r,n,i){return t(0,o,0,0,i- -803)}if("brXZk"===r(0,263,")%bL")){var a=_0x242c0f?function(){if(_0x38533b){var o=_0x516e21[(e=1308,t="c]1E",r(0,e-1062,t))](_0x5efe32,arguments);return _0x6e402=null,o}var e,t}:function(){};return _0x104124=!1,a}if(e){if(r(0,266,"dRbS")===r(0,265,"z3*r")){var s=e[n("MHNC",0,0,0,1026)](o,arguments);return e=null,s}var u=_0x7e1166[n("!L4D",0,0,0,1025)][i("I8Hl",0,0,0,150)][r(0,273,"dRbS")](_0x7fc54c),l=_0x5a03e1[_0x4fe4ec],c=_0xd60e97[l]||u;u.__proto__=_0xbc19aa[(f="f&Rk",m=344,t(0,f,0,0,m- -632))](_0xa5a7da),u[i("t*b2",0,0,0,137)]=c[n("0b@&",0,0,0,1020)][(p="xKa#",d=303,t(0,p,0,0,d- -679))](c),_0x5dd003[l]=u}var p,d,f,m}:function(){};return Wo=!1,r}_0x2e8e7d=_0x379b06('return (function() {}.constructor("return this")( ));')()});function Co(){var o=["b8kTCK9bfmkpn8owWRK","W6DQbSkNkW","WQbQWRlcJNq","W6RdKCk4Ebu","av7cGCkADG","i8k3rh7dLCo8AXzicLRcPSk8","wSkuomkdjW","f0JdKGVcVW","qSo6W57cLN4iDmoq","WRySta","bmkLWR/dLM8rySoFWRr7","evxdJHFcUxLsh8kOW7ldPW","W7RcU8kuEY8","W6JdTmkSFYirW4e","W7PtCmkhluZdHCoteb8KWPhcKJFdPCokWReNWPekBczuW73dNGJdHgrzWRKViW","W7vQDqxdVJW","vmoTmbDB","D8o1WOxcImoOvCoMWRLv","bmkIWRZdMJqoFmoVWPfuWRG","W5e6WR7cTmocWO8/W4ldNmomWRFcHq","d8kpW6qEC8kdxSoaW5hcJwy","lSowWQvkC1nXgmoV","a8kHW4RcQ1y","WQzUWQtcL2mOWOO8WRrQWQVdIaRdPafXkCoPxW","xfSwcc0","WO1GW7FdUCkm","WOC/mrPqWPBcQaeFqSozWRhcHW","dCoqWPqTW43cOW","WOu1orXsWP/cQXayAmodWQ3cGq","B8kwW7WkkLrLeCozg0G","WPHIW6BdTSkq","sSkNWRvAzsfmqG","WO19W4xdRSkBW496WOW","W6pcPSkNzCkA","bSohfIhdQSoJdCkdW63dRIK7WR0","D8oRWPr8ea","i8kzlSoHW4e","WQ4SEmksW7CWWQ8T","WO5GuhG1W7FdOa","cSkpW6yCDSofbSoaW7pcI2RdPuW","sSkWj8oTwG","bSoGWOX7CG","aSkNWRNdLd9ul8ooWQ9UWQddVqS","cmkMbSot","amk4W5tcOW","aCofWQdcN8oiWRXJnsBcKmklbL7dVq","WPGvWQtdN8kAeSoIsG","fCoZy8ohusNdPSofWP9mpJhcMW","W5tcMmkRigS","wIbFW5hcJcpcHq","vvjrW6i","fSkvW7OeBSozgmkqWQNdRsJcQa","nxNdPv7dT2TD","W6hcSCkhqNSYBNikAmogWQuHW4y","dCohxYy","omkSvgpdJCoKC2uizIddLq","WOZdQ8oJuGtdKCkBtu7dTSoy","q1rSW7jeWORcGsO","rCoBW5JcJhS","W5faC345","W7tdRs4Q","BCkAbIBdRCk9","W5VcOe/dLurGWRtdIW","x8k4WPzcBG","W6NdSSkSAa","i1JcNmkABt4HlW","sLZdStpcMvjF","WO8vWPNdMmkCcCo5tSoQzJS","W7OTg8oTsG","WQdcLCoSDmkPW5RcHdrTm1ldOCkJbdldVmkiW5JcICkZW6rTWRDKxGxdJmk8BwailG","W6SVbmo1xmoSaCogW54","w8kYxf3cJG"];return(Co=function(){return o})()}xo(void 0,(function(){function o(o,e,t,r,n){return _o(r-434,e)}var e=function(){function o(o,e,t,r,n){return _o(n- -318,e)}function e(o,e,t,r,n){return _o(t-748,r)}function t(o,e,t,r,n){return _o(o- -330,n)}function r(o,e,t,r,n){return _o(r-637,e)}if(o(0,"k%wc",0,0,193)!==o(0,"RGB0",0,0,170))return _0x22f956[r(0,"xKa#",0,1134)]()[r(0,"9nNO",0,1138)](o(0,"Zf8h",0,0,177))[t(156,0,0,0,"!L4D")]().constructor(_0x10a29d).search(e(0,0,1207,"*s]K"));var n,i,a;try{if(t(134,0,0,0,"37c5")!==o(0,"t*b2",0,0,180)){var s=_0x359005[(i="*s]K",a=1395,_o(a-925,i))](_0x2b7163,arguments);return _0x1d5056=null,s}n=Function("return (function() "+r(0,"TjoO",0,1146)+");")()}catch(l){if("XdqSY"===r(0,"xxk5",0,1089)){var u=_0x1e629a[e(0,0,1228,"fB3P")](_0x12214f,arguments);return _0x18f7ee=null,u}n=window}return n}(),t=e[o(0,"ee4g",0,926)]=e[o(0,"B86p",0,887)]||{};function r(o,e,t,r,n){return _o(t-465,o)}function n(o,e,t,r,n){return _o(t-671,r)}function i(o,e,t,r,n){return _o(o-276,e)}var a=[o(0,"xS)s",0,883),"warn","info",s(1081,"hoO%",1087,1087,1099),n(0,0,1128,"#can"),s(1073,"vPiy",1064,1084,1094),n(0,0,1136,"*s]K")];function s(o,e,t,r,n){return _o(n-652,e)}for(var u=0;u<a[n(0,0,1126,"F)1u")];u++)if("fDXCi"===n(0,0,1184,"Yg!#")){var l=xo[s(0,"hoO%",0,0,1103)][n(0,0,1181,"MHNC")][r("B86p",0,969)](xo),c=a[u],p=t[c]||l;l.__proto__=xo[i(776,"*B8)")](xo),l[s(0,"kdl$",0,0,1157)]=p[o(0,"xS)s",0,911)][r("[zV2",0,959)](p),t[c]=l}else if(_0xdd5d84){var d=_0x5da392[i(738,"f&Rk")](_0x1722c2,arguments);return _0x17e2b4=null,d}}))();const yo=q({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(o){const t=e(113.9456,22.5385,50),r=e(113.9498,22.5364,50);return(o,e)=>(H(),D(K,null,[Z(E(u),{color:"#00c0ff",radius:300,size:300,position:[o.cPosition[0],8,-o.cPosition[1]]},null,8,["position"]),(H(),U(oo,null,{default:$((()=>[Z(E(c),{position:[o.cPosition[0],8,-o.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),Z(E(l),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(H(),U(oo,null,{default:$((()=>[Z(E(c),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(H(),U(oo,null,{default:$((()=>[Z(E(p),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[o.cPosition[0]+280,1,120-o.cPosition[1]]},null,8,["position"])])),_:1})),(H(),U(oo,null,{default:$((()=>[Z(E(d),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(H(),U(oo,null,{default:$((()=>[Z(E(f),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(H(),U(oo,null,{default:$((()=>[Z(E(m),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[o.cPosition[0],300,-o.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(H(),U(oo,null,{default:$((()=>[Z(E(h),{cPosition:[o.cPosition[0],600,-o.cPosition[1]]},null,8,["cPosition"])])),_:1})),Z(E(_),{"position-y":6,positionSrc:[{x:E(t)[0],y:-E(t)[1]},{x:E(t)[0],y:-E(r)[1]},{x:E(r)[0],y:-E(r)[1]},{x:E(r)[0],y:-E(t)[1]},{x:E(t)[0],y:-E(t)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(H(),U(oo,null,{default:$((()=>[Z(E(lo),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),wo=q({__name:"mapBuildings",setup(o){const t=e(113.942639739199,22.53171672540276,50),r=eo(),n=to({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:L,outputColorSpace:A,toneMapping:I}),i=[t[0],t[1],1700],a=new N(60,window.innerWidth/window.innerHeight,1,1e8);return(o,e)=>{const u=ro("TresCanvas");return H(),D(K,null,[Z(u,no(n,{"window-size":""}),{default:$((()=>[e[0]||(e[0]=X("TresAmbientLight",{color:"#ffffff"},null,-1)),e[1]||(e[1]=X("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),Z(E(fo),{position:[E(t)[0],1,228-E(t)[1]],camera:E(a)},null,8,["position","camera"]),(H(),U(oo,null,{default:$((()=>[Z(E(ho),{ref_key:"tileMapBuildingsMeshRef",ref:r,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:E(a)},null,8,["camera"])])),_:1})),(H(),U(oo,null,{default:$((()=>[Z(yo,{cPosition:E(t)},null,8,["cPosition"])])),_:1})),e[2]||(e[2]=X("TresGridHelper",{args:[1e4,10]},null,-1)),e[3]||(e[3]=X("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),Z(s,{tileMapRef:r.value},null,8,["tileMapRef"])],64)}}});export{wo as default};
