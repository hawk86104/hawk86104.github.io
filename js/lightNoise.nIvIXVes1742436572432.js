import{_ as n,a as t,ar as e,$ as o,p as r,c6 as i,c4 as s,c5 as a,V as c,ck as l,l as u}from"./three.RUAk_tvU1742436572432.js";import{e as f,m as p,o as v}from"./@tresjs.Uh9iM8du1742436572432.js";import{d as m,o as d,H as g,N as h,u as b,F as y,w as x,j as w,z as _,e as I,g as T,aj as U,ak as S}from"./@vue.deO5D3Lf1742436572432.js";import{_ as D}from"./@fesjs.40Mt4LlK1742436572432.js";import"./postprocessing.5QD_59xS1742436572432.js";import"./@vueuse.F4UpVCIS1742436572432.js";import"./vue-router.EzCcHFzL1742436572432.js";import"./lodash-es.p1wj6C0b1742436572432.js";import"./@qlin.yHhFDldE1742436572432.js";import"./pinia.9br8mKkJ1742436572432.js";import"./@floating-ui.BPbuo5Gx1742436572432.js";import"./@juggle.7yjBMqoW1742436572432.js";var j="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const B=C;function z(){const n=["fragmentShader","copy","TresPlaneGeometry","randFloatSpread","instanceCount","45cDwlvi","input","uniforms","counter","instData","\n    ","constructor","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","SphereGeometry","chain","sin","apply","rotateX","#include <fog_fragment>","prototype","while (true) {}","attributes","149184VSwIgB","InstancedBufferGeometry","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","1015450leGSTR","40TybneU","Vector4","245712BXTssU","bind","length","warn","#include <begin_vertex>","needsUpdate","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","vertexShader","1uoluzo","log","globalUniforms","test","toString","return (function() ","gger","15856WSrMuJ","setY","trace","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","setAttribute","cos","551853mebcYC","table","info","function *\\( *\\)","error","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","call","push","debu","action","globalBloom","replace","InstancedBufferAttribute","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","TresMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","652024zvLujc","noise","init","307090eTccHN","luces","\n      uniform vec4 luces[","material","stateObject","geometry","noiseTex","MathUtils","console","randFloat","__proto__","MeshLambertMaterial"];return(z=function(){return n})()}function C(n,t){const e=z();return(C=function(n,t){return e[n-=500]})(n,t)}!function(n,t){const e=C,o=z();for(;;)try{if(156437===parseInt(e(525))/1*(-parseInt(e(517))/2)+-parseInt(e(538))/3+parseInt(e(532))/4*(-parseInt(e(515))/5)+parseInt(e(511))/6+parseInt(e(557))/7+-parseInt(e(554))/8+parseInt(e(574))/9*(parseInt(e(514))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(505)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=C,t=new RegExp(n(541)),e=new RegExp(n(553),"i"),o=R(n(556));t[n(528)](o+n(503))&&e[n(528)](o+n(575))?R():o("0")}))()}();const M=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(505)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();M(void 0,(function(){const n=C;let t;try{t=Function(n(530)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(565)]=t.console||{},o=[n(526),n(520),n(540),n(542),"exception",n(539),n(534)];for(let i=0;i<o[n(519)];i++){const t=M[n(580)][n(508)][n(518)](M),r=o[i],s=e[r]||t;t[n(567)]=M[n(518)](M),t.toString=s[n(529)][n(518)](s),e[r]=t}}))();const N=[B(562),B(560)],E=[B(560)],A=[B(506)],G=100,P=m({__name:"lucesPlane",props:{globalUniforms:{}},setup(r){const i=B,s=r,a=[],c=[],l=new(n[i(502)])(1,36,18),u=(new(n[i(512)]))[i(570)](l);u[i(573)]=G;const p=[];for(let o=0;o<G;o++){let o=n[i(564)][i(572)](49),r=n[i(564)][i(572)](49),s=t[i(566)](.0625,.125),l=n[i(564)][i(566)](1,3);p[i(545)](o,r,s),c[i(545)](new e(o,r,l,n[i(564)][i(566)](1,2))),a[i(545)](new(n[i(516)])(o,r,s,l))}u[i(536)](i(578),new(n[i(550)])(new Float32Array(p),3));const v=new o({color:16720418,onBeforeCompile:n=>{const t=i;n[t(576)][t(563)]=s[t(527)][t(555)],n[t(524)]=(t(513)+n[t(524)]+"\n    ").replace(t(521),t(523))}}),m={luces:{value:a}},x=new(n[i(568)])({color:2363940,onBeforeCompile:n=>{const t=i;n[t(576)][t(558)]=m[t(558)],n.uniforms[t(548)]=s[t(527)].globalBloom,n[t(576)][t(563)]=s[t(527)].noise,n[t(524)]=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      "+n[t(524)]+"\n    ")[t(549)](t(521),t(551)),n.fragmentShader=(t(559)+G+t(500)+n[t(569)]+t(579)).replace(t(507),t(543)+G+t(535)).replace("#include <dithering_fragment>",t(501))}}),{onLoop:w}=f();return w((({elapsed:n})=>{const t=i;for(let e=0;e<G;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(504)](n*o.w*(e%3+1))*Math[t(537)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u.attributes[t(578)][t(533)](e,r)}u[t(510)].instData[t(522)]=!0})),(n,t)=>{const e=i;return d(),g(y,null,[h("TresMesh",{geometry:b(u),material:b(v)},null,8,N),h(e(552),{material:b(x)},[h(e(571),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,A)],8,E)],64)}}});function R(n){function t(n){const e=C;if("string"==typeof n)return function(n){}[e(580)](e(509))[e(505)](e(577));1!==(""+n/n)[e(519)]||n%20==0?function(){return!0}[e(580)]("debu"+e(531))[e(544)](e(547)):function(){return!1}[e(580)](e(546)+e(531)).apply(e(561)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function k(n,t){const e=$();return(k=function(n,t){return e[n-=149]})(n,t)}const Z=k;!function(n,t){const e=k,o=$();for(;;)try{if(234226===parseInt(e(164))/1+-parseInt(e(180))/2+-parseInt(e(178))/3*(-parseInt(e(196))/4)+-parseInt(e(162))/5*(-parseInt(e(159))/6)+-parseInt(e(185))/7+parseInt(e(173))/8+-parseInt(e(171))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){V(this,(function(){const n=k,t=new RegExp(n(187)),e=new RegExp(n(174),"i"),o=J(n(189));t[n(155)](o+"chain")&&e[n(155)](o+"input")?J():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function $(){const n=["replace","660256iGEVyF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMesh","globalUniforms","call","12633liSTrF","counter","751168blNeCA","log","stateObject","globalBloom","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","523614JjmKfr","toString","function *\\( *\\)","material","init","__proto__","trace","string","action","length","table","124OaVSVM","warn","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","TresPlaneGeometry","uniforms","while (true) {}","time","gger","test","apply","console","MeshBasicMaterial","1410FrlIKG","fragmentShader","debu","5435GoRYOR","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","457226TiNjPJ","return (function() ","error","bind","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","exception","constructor","2170188UKimvD"];return($=function(){return n})()}L(void 0,(function(){const n=k;let t;try{t=Function(n(165)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(157)]=t.console||{},o=[n(181),n(197),"info",n(166),n(169),n(195),n(191)];for(let i=0;i<o.length;i++){const t=L[n(170)].prototype[n(167)](L),r=o[i],s=e[r]||t;t[n(190)]=L.bind(L),t.toString=s[n(186)][n(167)](s),e[r]=t}}))();const O=[Z(188)],H=m({__name:"portal",props:{globalUniforms:{}},setup(t){const e=Z,o=t,r=new(n[e(158)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(151)][t(153)]=o.globalUniforms[t(153)],n[t(151)][t(183)]=o[t(176)][t(183)],n[t(160)]=(t(184)+j+t(168)+n.fragmentShader+"\n    ")[t(172)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(163)).replace("#include <dithering_fragment>",t(149))}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return d(),g(o(175),{material:b(r),position:[0,3.75,-12]},t[0]||(t[0]=[h(o(150),{args:[5,5]},null,-1)]),8,O)}}});function J(n){function t(n){const e=k;if(typeof n===e(192))return function(n){}[e(170)](e(152))[e(156)](e(179));1!==(""+n/n)[e(194)]||n%20==0?function(){return!0}[e(170)](e(161)+e(154))[e(177)](e(193)):function(){return!1}[e(170)](e(161)+e(154))[e(156)](e(182)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const W=q;!function(n,t){const e=q,o=Q();for(;;)try{if(936926===parseInt(e(175))/1+-parseInt(e(151))/2+-parseInt(e(127))/3*(-parseInt(e(156))/4)+-parseInt(e(130))/5+-parseInt(e(171))/6+parseInt(e(126))/7*(-parseInt(e(134))/8)+-parseInt(e(132))/9*(-parseInt(e(129))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(149)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Y(this,(function(){const n=q,t=new RegExp(n(123)),e=new RegExp(n(155),"i"),o=tn("init");t[n(180)](o+n(157))&&e[n(180)](o+n(177))?tn():o("0")}))()}();const X=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();X(void 0,(function(){const n=q,t=function(){const n=q;let t;try{t=Function(n(146)+n(173)+");")()}catch(e){t=window}return t}(),e=t[n(176)]=t[n(176)]||{},o=[n(158),n(152),n(172),n(148),n(153),n(164),"trace"];for(let r=0;r<o[n(166)];r++){const t=X[n(142)][n(135)][n(125)](X),i=o[r],s=e[i]||t;t[n(138)]=X[n(125)](X),t.toString=s[n(150)].bind(s),e[i]=t}}))();const K=[W(154),W(170)];function q(n,t){const e=Q();return(q=function(n,t){return e[n-=123]})(n,t)}function Q(){const n=["5014350dACyMi","Float32BufferAttribute","632196FTGZqb","randFloatSpread","736dhaYfC","prototype","#include <begin_vertex>","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","__proto__","while (true) {}","push","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","constructor","\n    ","uniforms","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","return (function() ","BufferGeometry","error","apply","toString","3643454MpDvIZ","warn","exception","material","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","135724TQRIOo","chain","log","vec4 diffuseColor = vec4( diffuse, opacity );","\n      ","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","replace","string","table","globalUniforms","length","gEnds","fragmentShader","noise","geometry","1811244rJksot","info",'{}.constructor("return this")( )',"position","572419swIpZN","console","input","setAttribute","MathUtils","test","action","time","stateObject","vertexShader","function *\\( *\\)","LineBasicMaterial","bind","116116GuZssa","102UppaZV","randFloat","550XDLinn"];return(Q=function(){return n})()}const nn=m({__name:"drops",props:{globalUniforms:{}},setup(e){const o=W,r=e,i=[],s=[];for(let l=0;l<2e4;l++){const e=n[o(179)][o(133)](35),r=n[o(179)][o(128)](-5,10),a=n[o(179)][o(133)](35),c=t[o(128)](.25,.5);i[o(140)](e,r,a,e,r,a),s[o(140)](0,c,1,c)}const a=new(n[o(147)]);a[o(178)](o(174),new(n[o(131)])(i,3)),a.setAttribute(o(167),new(n[o(131)])(s,2));const c=new(n[o(124)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n[t(144)][t(182)]=r[t(165)].time,n.uniforms.noiseTex=r.globalUniforms[t(169)],n[t(144)].globalBloom=r[t(165)].globalBloom,n[t(184)]=(t(137)+n.vertexShader+t(143))[t(162)](t(136),t(141)),n.fragmentShader=(t(145)+j+t(160)+n[t(168)]+"\n    ")[t(162)](t(159),t(161))}});return(n,t)=>(d(),g("TresLineSegments",{material:b(c),geometry:b(a)},null,8,K))}});function tn(n){function t(n){const e=q;if(typeof n===e(163))return function(n){}.constructor(e(139))[e(149)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(142)]("debugger").call(e(181)):function(){return!1}[e(142)]("debugger").apply(e(183)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const en=sn;!function(n,t){const e=sn,o=an();for(;;)try{if(930733===-parseInt(e(305))/1+parseInt(e(307))/2*(-parseInt(e(268))/3)+parseInt(e(282))/4*(parseInt(e(309))/5)+parseInt(e(257))/6+-parseInt(e(308))/7*(-parseInt(e(296))/8)+parseInt(e(322))/9+-parseInt(e(255))/10*(parseInt(e(299))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(295)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){on(this,(function(){const n=sn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(270),"i"),o=ln("init");t[n(300)](o+n(266))&&e.test(o+n(259))?ln():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(295)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(n,t){const e=an();return(sn=function(n,t){return e[n-=255]})(n,t)}function an(){const n=["fog","input","time","Mesh","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","WebGLRenderTarget","Fog","background","chain","height","5277543UFcDLY","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","renderToScreen","action","stateObject","set","__proto__","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ",'{}.constructor("return this")( )',"\n      uniform float time;\n      ","counter","exception","Color","16cgndmB","length","width","value","error","trace","while (true) {}","addPass","render","debu","constructor","setRenderTarget","add","apply","73056QCnBxj","fboRender","\n    ","50105EwTGDx","test","gger","replace","log","info","473592QtErnu","baseTexture","2zqYWMS","672Tmlodj","706560aCfSbi","Camera","toString","globalBloom","MeshBasicMaterial","PlaneGeometry","near","prototype","console","texture","vec4 diffuseColor = vec4( diffuse, opacity );","return (function() ","string","13203072WJKqJk","fragmentShader","color","target","3510fQzlOA","call","11120298VWUfsj"];return(an=function(){return n})()}rn(void 0,(function(){const n=sn,t=function(){const n=sn;let t;try{t=Function(n(320)+n(277)+");")()}catch(e){t=window}return t}(),e=t[n(317)]=t[n(317)]||{},o=[n(303),"warn",n(304),n(286),n(280),"table",n(287)];for(let r=0;r<o.length;r++){const t=rn[n(292)][n(316)][n(269)](rn),i=o[r],s=e[i]||t;t[n(275)]=rn.bind(rn),t[n(311)]=s[n(311)][n(269)](s),e[i]=t}}))();const cn=m({__name:en(297),setup(t){const e=en,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},v=new(n[e(263)])(512,512),m=new r,h=new(n[e(310)]),b=new(n[e(314)])(2,2),_=new(n[e(313)])({onBeforeCompile:n=>{const t=e;n.uniforms.time=o[t(260)],n.fragmentShader=(t(278)+j+"\n      "+n[t(323)]+t(298))[t(302)](t(319),t(276))}});_.defines={USE_UV:""};const I=new(n[e(261)])(b,_);m[e(294)](I),o.noise[e(285)]=v[e(318)];const{camera:T,renderer:U,scene:S,sizes:D,controls:B}=p();x((()=>B[e(285)]),(t=>{const o=e;null==t||t[o(325)][o(274)](0,2,0),!S[o(285)][o(265)]&&(S[o(285)][o(265)]=new(n[o(281)])(6706534))}));const z=new i(U[e(285)]),C=new i(U[e(285)]),F=new s(S[e(285)],T.value),M=new a(new c(D[e(284)].value,D[e(267)][e(285)]),1.2,.5,0);z[e(271)]=!1,z[e(289)](F),z.addPass(M);const N=new l(new u({uniforms:{baseTexture:{value:null},bloomTexture:{value:z.renderTarget2[e(318)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:e(262),defines:{}}),e(306));N.needsSwap=!0,C[e(289)](F),C.addPass(N),S[e(285)][e(258)]=new(n[e(264)])(6706534,1,25);const{onLoop:E}=f();return E((({elapsed:n})=>{var t,r;const i=e;o[i(260)][i(285)]=n,U[i(285)]&&(U.value[i(293)](v),U.value[i(290)](m,h),U.value[i(293)](null),o.globalBloom.value=1.2,S.value[i(258)].color[i(274)](0),S[i(285)][i(258)][i(315)]=15,null==(t=S[i(285)][i(265)])||t[i(274)](0),z[i(290)](),o[i(312)][i(285)]=0,S.value[i(258)][i(324)][i(274)](6706534),S[i(285)][i(258)].near=10,null==(r=S[i(285)][i(265)])||r.set(6706534),C[i(290)]())})),(n,t)=>(d(),g(y,null,[w(P,{globalUniforms:o}),w(H,{globalUniforms:o}),w(nn,{globalUniforms:o})],64))}});function ln(n){function t(n){const e=sn;if(typeof n===e(321))return function(n){}[e(292)](e(288))[e(295)](e(279));1!==(""+n/n)[e(283)]||n%20==0?function(){return!0}[e(292)](e(291)+e(301))[e(256)](e(272)):function(){return!1}[e(292)](e(291)+e(301))[e(295)](e(273)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const un={class:"text"};const fn=D({},[["render",function(n,t){return d(),g("div",un,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),pn=mn;!function(n,t){const e=mn,o=gn();for(;;)try{if(100213===-parseInt(e(183))/1*(-parseInt(e(170))/2)+parseInt(e(184))/3*(-parseInt(e(175))/4)+parseInt(e(198))/5+parseInt(e(193))/6+parseInt(e(202))/7+-parseInt(e(185))/8*(-parseInt(e(207))/9)+-parseInt(e(197))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[mn(180)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function mn(n,t){const e=gn();return(mn=function(n,t){return e[n-=169]})(n,t)}!function(){vn(this,(function(){const n=mn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(182),"i"),o=bn("init");t.test(o+n(179))&&e[n(200)](o+n(204))?bn():o("0")}))()}();const dn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[mn(180)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function gn(){const n=["test","info","200872xxazdX","debu","input","call","MathUtils","5715VMIKiL","while (true) {}","error","5228Jzieeu","DEG2RAD","lightNoise","console","toString","4728CYwTet","string","TresAmbientLight","log","chain","apply","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","13Fjsefy","174FoaGpE","296TJdXwz","length","exception","bind",'{}.constructor("return this")( )',"gger","trace","stateObject","147162GVXqYC","TresDirectionalLight","return (function() ","__proto__","253260CxMHDW","416975HFfuKF","manual"];return(gn=function(){return n})()}dn(void 0,(function(){const n=mn;let t;try{t=Function(n(195)+n(189)+");")()}catch(r){t=window}const e=t[n(173)]=t[n(173)]||{},o=[n(178),"warn",n(201),n(169),n(187),"table",n(191)];for(let i=0;i<o[n(186)];i++){const t=dn.constructor.prototype[n(188)](dn),r=o[i],s=e[r]||t;t[n(196)]=dn[n(188)](dn),t[n(174)]=s[n(174)][n(188)](s),e[r]=t}}))();const hn=m({__name:pn(172),setup(e){const o=pn,r={windowSize:!0,antialias:!0,renderMode:o(199)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[o(171)],maxPolarAngle:90*n[o(206)].DEG2RAD,makeDefault:!0};return(n,t)=>{const e=o,s=I("TresCanvas");return d(),g(y,null,[w(fn),w(s,U(S(r)),{default:T((()=>[t[0]||(t[0]=h("TresPerspectiveCamera",{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(v),U(S(i)),null,16),t[1]||(t[1]=h(e(177),{intensity:.5},null,-1)),t[2]||(t[2]=h(e(194),{position:[0,3,-12],intensity:1},null,-1)),w(cn)])),_:1},16)],64)}}});function bn(n){function t(n){const e=mn;if(typeof n===e(176))return function(n){}[e(181)](e(208))[e(180)]("counter");1!==(""+n/n)[e(186)]||n%20==0?function(){return!0}[e(181)](e(203)+"gger")[e(205)]("action"):function(){return!1}.constructor("debu"+e(190))[e(180)](e(192)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{hn as default};
