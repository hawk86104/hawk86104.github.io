var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(n,e,o)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,i=(t,i)=>{for(var s in i||(i={}))e.call(i,s)&&r(t,s,i[s]);if(n)for(var s of n(i))o.call(i,s)&&r(t,s,i[s]);return t};import{$ as s,d as c}from"./@tresjs.5lh7VmqZ1725416517797.js";import{a6 as a,C as u}from"./three.VTQVqxMx1725416517797.js";import{d as l,w as f,o as p,E as d,L as v,aj as m,ak as g,r as h,e as b,f as y,g as w,j as x,u as I,m as _}from"./@vue._6MD2XyK1725416517797.js";import{P as T}from"./tweakpane.yHWGBmom1725416517797.js";import"./@vueuse.L-salR9N1725416517797.js";const j=C;!function(t,n){const e=C,o=O();for(;;)try{if(658234===parseInt(e(361))/1+-parseInt(e(354))/2+parseInt(e(386))/3*(parseInt(e(377))/4)+parseInt(e(393))/5*(parseInt(e(356))/6)+-parseInt(e(367))/7*(parseInt(e(352))/8)+-parseInt(e(379))/9+-parseInt(e(388))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=C,n=new RegExp(t(363)),e=new RegExp(t(380),"i"),o=U(t(384));n.test(o+t(351))&&e[t(349)](o+t(369))?U():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(t,n){const e=O();return(C=function(t,n){return e[t-=346]})(t,n)}k(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(394)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(390)]||{},o=[t(382),t(360),t(346),t(347),"exception",t(373),t(355)];for(let r=0;r<o.length;r++){const n=k[t(372)][t(362)][t(358)](k),i=o[r],s=e[i]||n;n[t(381)]=k[t(358)](k),n.toString=s.toString[t(358)](s),e[i]=n}}))();const A=[j(376)],E=v(j(389),{args:[10,10]},null,-1),P=l({__name:j(364),props:{speed:{default:.478},backgroundColor:{},color:{default:"#fff"},flowSpeed:{default:{x:.01,y:.01}},brightness:{default:1.5}},setup(t){const n=j,e=t,o={uniforms:{resolution:{type:"v2",value:{x:1,y:1}},backgroundColor:{type:"c",value:new(a[n(366)])(e[n(396)])},color:{type:"c",value:new(a[n(366)])(n(391))},speed:{type:"f",value:e[n(395)]},flowSpeed:{type:"v2",value:e[n(374)]},brightness:{type:"f",value:e[n(348)]},time:{type:"f",value:.1}},vertexShader:"// Examples of variables passed from vertex to fragment shader\nvarying vec2 vUv;\n\nvoid main(){\n\t// To pass variables to the fragment shader, you assign them here in the\n\t// main function. Traditionally you name the varying with vAttributeName\n\tvUv=uv;\n\t\n\t// This sets the position of the vertex in 3d space. The correct math is\n\t// provided below to take into account camera and object data.\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}",fragmentShader:"#define TAU 6.28318530718\n#define MAX_ITER 5\n\nuniform vec2 resolution;\nuniform vec3 backgroundColor;\nuniform vec3 color;\nuniform float speed;\nuniform vec2 flowSpeed;\nuniform float brightness;\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main(){\n\tvec2 uv=(vUv.xy+(time*flowSpeed))*resolution;\n\t\n\tvec2 p=mod(uv*TAU,TAU)-250.;\n\tvec2 i=vec2(p);\n\t\n\tfloat c=1.;\n\tfloat inten=.005;\n\t\n\tfor(int n=0;n<MAX_ITER;n++){\n\t\tfloat t=time*speed*(1.-(3.5/float(n+1)));\n\t\ti=p+vec2(cos(t-i.x)+sin(t+i.y),sin(t-i.y)+cos(t+i.x));\n\t\tc+=1./length(vec2(p.x/(sin(i.x+t)/inten),p.y/(cos(i.y+t)/inten)));\n\t}\n\t\n\tc/=float(MAX_ITER);\n\tc=1.17-pow(c,brightness);\n\t\n\tvec3 rgb=vec3(pow(abs(c),8.));\n\t\n\tgl_FragColor=vec4(rgb*color+backgroundColor,length(rgb)+.1);\n}",side:a[n(371)],transparent:!0,depthWrite:!1,depthTest:!0},{onLoop:r}=s();return r((({delta:t})=>{const e=n;o.uniforms[e(370)][e(353)]+=t})),f((()=>e),(()=>{const t=n;o.uniforms.speed[t(353)]=e[t(395)],o[t(392)][t(348)][t(353)]=e[t(348)],o[t(392)][t(375)][t(353)]=new u(e[t(396)])}),{deep:!0}),(t,e)=>{const r=n;return p(),d(r(383),{"rotation-x":-Math.PI/2,"position-y":1},[E,v(r(378),m(g(o)),null,16)],8,A)}}});function O(){const t=["10655ahmbGP","return (function() ","speed","color","info","error","brightness","test","gger","chain","896BvPOXl","value","1607148JnVSEm","trace","84eImjIb","while (true) {}","bind","length","warn","1301609dUEQhD","prototype","function *\\( *\\)","tilingCaustics","debu","Color","23191ettIlK","apply","input","time","DoubleSide","constructor","table","flowSpeed","backgroundColor","rotation-x","3831208enmYsc","TresShaderMaterial","2264778ePSHgG","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","log","TresMesh","init","counter","3HRwODD","stateObject","2047390cTiMzq","TresPlaneGeometry","console","#fff","uniforms"];return(O=function(){return t})()}function U(t){function n(t){const e=C;if("string"==typeof t)return function(t){}.constructor(e(357))[e(368)](e(385));1!==(""+t/t)[e(359)]||t%20==0?function(){return!0}.constructor(e(365)+e(350)).call("action"):function(){return!1}.constructor("debugger")[e(368)](e(387)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const M=L;function R(){const t=["TresCanvas","counter","return (function() ","length","26495UvkQFc","449088xnsElT","addBinding",'{}.constructor("return this")( )',"#222","204465OHfeAR","debu","4000409QVNFcP","test","toString","#fff","124LXpvBd","bind","2538606LzrVCq","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","flowSpeed","42584aPKuxV","4375926Bckwop","__proto__","tilingCaustics","info","57mDUmLu","call","trace","apply","prototype","brightness","table","chain","TresGridHelper","console","while (true) {}","constructor","流动速度","error"];return(R=function(){return t})()}!function(t,n){const e=L,o=R();for(;;)try{if(326384===parseInt(e(511))/1+parseInt(e(523))/2*(-parseInt(e(528))/3)+parseInt(e(517))/4*(-parseInt(e(506))/5)+-parseInt(e(519))/6+parseInt(e(513))/7+parseInt(e(507))/8+parseInt(e(524))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(531)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(t,n){const e=R();return(L=function(t,n){return e[t-=499]})(t,n)}!function(){z(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(521),"i"),o=B("init");n.test(o+t(535))&&e[t(514)](o+"input")?B():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(531)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(504)+t(509)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(537)]||{},o=["log","warn",t(527),t(501),"exception",t(534),t(530)];for(let r=0;r<o.length;r++){const n=D[t(499)][t(532)][t(518)](D),i=o[r],s=e[i]||n;n[t(525)]=D[t(518)](D),n[t(515)]=s[t(515)][t(518)](s),e[i]=n}}))();const F=v("TresPerspectiveCamera",{position:[10,10,10]},null,-1),V=v("TresAmbientLight",{intensity:1},null,-1),X=v(M(536),{args:[10,10]},null,-1),$=l({__name:M(526),setup(t){const n=M,e={clearColor:n(510)},o=h({color:n(516),speed:.1,brightness:1.5,flowSpeed:{x:.01,y:.01}}),r=new T({title:"参数",expanded:!0});return r[n(508)](o,"color",{label:"颜色"}),r[n(508)](o,"speed",{label:"速度",min:.1,max:1,step:.1}),r[n(508)](o,n(533),{label:"亮度",min:.1,max:2,step:.1}),r[n(508)](o,n(522),{label:n(500),picker:"inline",expanded:!0,x:{min:.01,step:.02,max:.6,inverted:!0},y:{min:.01,step:.02,max:.6,inverted:!0}}),(t,r)=>{const s=b(n(502));return p(),y(s,_(e,{"window-size":""}),{default:w((()=>[F,V,x(I(c)),X,x(P,m(g(i({},o))),null,16)])),_:1},16)}}});function B(t){function n(t){const e=L;if("string"==typeof t)return function(t){}[e(499)](e(538))[e(531)](e(503));1!==(""+t/t)[e(505)]||t%20==0?function(){return!0}[e(499)]("debugger")[e(529)]("action"):function(){return!1}[e(499)](e(512)+e(520)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{$ as default};
