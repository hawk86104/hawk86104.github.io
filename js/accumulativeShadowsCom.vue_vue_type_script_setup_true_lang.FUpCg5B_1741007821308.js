import{_ as t,a as n}from"./three.sBrYSCgq1741007821308.js";import{m as e}from"./@tresjs.u6hJLBm41741007821308.js";import{d as o,P as a}from"./@pmndrs.pRt0V6Fh1741007821308.js";import{d as r,b as s,w as i,a2 as c,o as u,H as l,N as p,aj as f,ak as d}from"./@vue.NRI7TcgI1741007821308.js";const h=g;function m(){const t=["random","value","far","length","gPlane","height","position","shadows render start","progressiveLightMap2","mapSize","38585358aDjPQs","size","clear","finish","children","MathUtils","amount","stateObject","TresPlaneGeometry",'{}.constructor("return this")( )',"gger","randFloatSpread","189712YXZlzm","add","function *\\( *\\)","call","Vector3","warn","string","#000000","texture","near","cos","rotate-x","4265204zwmRwJ","constructor","TresSoftShadowMaterial","configure","98PRIzXB","opacity","apply","chain","shadows plm update","console","DirectionalLight","castShadow","intensity","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","9bbBDjp","blend","prepare","test","TresMesh","7346196hwkJzU","lightPosition","bias","1443722PcOtAm","Group","toString","shadows render end","trace","shadow","log","action","info","camera","bottom","radius","blendWindow","set","prototype","bind","alphaTest","input","ambient","abs","material","2014310rRAySA","acos","table","687970FZEPXI","frames","color"];return(m=function(){return t})()}!function(t,n){const e=g,o=m();for(;;)try{if(849970===-parseInt(e(258))/1+-parseInt(e(282))/2*(-parseInt(e(250))/3)+-parseInt(e(319))/4+-parseInt(e(279))/5+-parseInt(e(255))/6+parseInt(e(323))/7*(-parseInt(e(307))/8)+parseInt(e(295))/9)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(325)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){w(this,(function(){const t=g,n=new RegExp(t(309)),e=new RegExp(t(249),"i"),o=z("init");n[t(253)](o+t(326))&&e[t(253)](o+t(275))?z():o("0")}))()}();const b=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=m();return(g=function(t,n){return e[t-=247]})(t,n)}b(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function("return (function() "+t(304)+");")()}catch(e){n=window}return n}(),e=n[t(328)]=n[t(328)]||{},o=[t(264),t(312),t(266),"error","exception",t(281),t(262)];for(let a=0;a<o[t(288)];a++){const n=b[t(320)][t(272)].bind(b),r=o[a],s=e[r]||n;n.__proto__=b[t(273)](b),n[t(260)]=s[t(260)][t(273)](s),e[r]=n}}))();const y=[h(318)],M=r({__name:"accumulativeShadowsCom",props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(314)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=h,w=r;let b=s();const{extend:g,scene:M,renderer:z,camera:I}=e();g({SoftShadowMaterial:o});const P={position:(new(t[m(311)]))[m(271)](w[m(256)].x,w.lightPosition.y,w[m(256)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},x=new a(z[m(286)],M[m(286)],P[m(294)]),S={map:x[m(293)][m(315)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[m(251)],alphaTest:w.alphaTest,opacity:w[m(324)],color:w[m(284)]},_=new(t[m(259)]);for(let n=0;n<P[m(301)];n++){const n=new(t[m(329)])(16777215,P[m(248)]/P.amount);n[m(247)]=!0,n[m(263)][m(257)]=P[m(257)],n[m(263)].camera[m(316)]=P[m(316)],n[m(263)][m(267)][m(287)]=P[m(287)],n[m(263)][m(267)].right=P[m(296)]/2,n[m(263)][m(267)].left=-P[m(296)]/2,n[m(263)][m(267)].top=P[m(296)]/2,n[m(263)][m(267)][m(268)]=-P[m(296)]/2,n[m(263)][m(294)].width=P[m(294)],n[m(263)].mapSize[m(290)]=P[m(294)],_[m(308)](n)}const v=()=>{const e=m,o=P[e(291)][e(288)]();for(let a=0;a<_[e(299)][e(288)];a++){const r=_.children[a];if(Math.random()>w[e(276)])r[e(291)][e(271)](P.position.x+t[e(300)][e(306)](P.radius),P.position.y+t[e(300)][e(306)](P[e(269)]),P[e(291)].z+n[e(306)](P.radius));else{let t=Math[e(280)](2*Math[e(285)]()-1)-Math.PI/2,n=2*Math.PI*Math.random();r.position.set(Math[e(317)](t)*Math[e(317)](n)*o,Math[e(277)](Math[e(317)](t)*Math.sin(n)*o),Math.sin(t)*o)}}},j=(t=1)=>{const n=m;M[n(286)][n(308)](_),x[n(252)]();for(let e=0;e<t;e++)v(),x.update(I[n(286)],w[n(270)]),console[n(264)](n(327),e);M.value.remove(_),x[n(298)]()};i((()=>b[m(286)]),(t=>{const n=m;t&&(x[n(322)](t),x.clear(),console.log(n(292)),j(w.frames),console.log(n(261)))}));const T=()=>{x[m(297)](),j(w.frames)};return c((()=>{const t=m;b.value&&(w[t(324)]&&(b[t(286)][t(278)].opacity=w.opacity),w.alphaTest&&(b[t(286)][t(278)].alphaTest=w[t(274)]),w[t(284)]&&b.value[t(278)][t(284)][t(271)](w[t(284)]),w[t(251)]&&(b[t(286)][t(278)][t(251)]=w.blend))})),i((()=>w[m(256)]),(t=>{const n=m;t&&(console.log(w[n(256)]),P[n(291)][n(271)](t.x,t.y,t.z),T())}),{deep:!0}),i((()=>[w[m(283)],w.blendWindow,w[m(276)]]),(()=>{T()})),(t,n)=>{const e=m;return u(),l(e(254),{"receive-shadow":"",ref_key:e(289),ref:b,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=p(e(303),{args:[1,1]},null,-1)),p(e(321),f(d(S)),null,16)],8,y)}}});function z(t){function n(t){const e=g;if(typeof t===e(313))return function(t){}[e(320)]("while (true) {}")[e(325)]("counter");1!==(""+t/t)[e(288)]||t%20==0?function(){return!0}[e(320)]("debu"+e(305))[e(310)](e(265)):function(){return!1}.constructor("debu"+e(305))[e(325)](e(302)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
