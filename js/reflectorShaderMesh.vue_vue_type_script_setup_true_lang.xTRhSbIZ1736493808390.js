import{a3 as t,C as n,k as r,t as e,s as o,c7 as i}from"./three.lAfZYOpc1736493808390.js";import{m as c,b as s}from"./@tresjs.g7tJPOCI1736493808390.js";import{R as a,a as u}from"./all.three.6_wnyCzL1736493808390.js";import{d as f,a4 as l,a1 as p,w as h,o as m,D as w,J as g,u as d}from"./@vue.-Mz_IXfk1736493808390.js";function x(){const t=["counter","wrapS","4cGNCLu","action","178784cExxtc","info","scale","uMirror","tReflect",'{}.constructor("return this")( )',"visible","1926549khwmUR","error","mixStrength","console","init","length","showGridHelper","position","uMixStrength","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","11HKBGGU","name","log","mirror","primitive","996150zqctaQ","toString","add","constructor","string","color","reflectorShaderMesh","gger","test","reflectivity","function *\\( *\\)","apply","value","call","uniforms","1342140CoXchv","rotation","__proto__","295622QgoGXC","bind","input","1124670nhtYrr","1KaZnTh","4676376RsMwVX","#ffffff","30QzvIAT","exception","return (function() ","uMatrix","182hhKMmr","table","renderTargetUniform","debu"];return(x=function(){return t})()}const _=y;!function(t,n){const r=y,e=x();for(;;)try{if(403797===-parseInt(r(413))/1*(-parseInt(r(409))/2)+-parseInt(r(412))/3+-parseInt(r(426))/4*(parseInt(r(391))/5)+parseInt(r(414))/6+-parseInt(r(420))/7*(-parseInt(r(428))/8)+-parseInt(r(435))/9*(parseInt(r(416))/10)+-parseInt(r(445))/11*(-parseInt(r(406))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const v=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[y(402)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){v(this,(function(){const t=y,n=new RegExp(t(401)),r=new RegExp(t(444),"i"),e=R(t(439));n[t(399)](e+"chain")&&r.test(e+t(411))?R():e("0")}))()}();const I=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[y(402)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function y(t,n){const r=x();return(y=function(t,n){return r[t-=388]})(t,n)}I(void 0,(function(){const t=y,n=function(){const t=y;let n;try{n=Function(t(418)+t(433)+");")()}catch(r){n=window}return n}(),r=n[t(438)]=n[t(438)]||{},e=[t(388),"warn",t(429),t(436),t(417),t(421),"trace"];for(let o=0;o<e[t(440)];o++){const n=I[t(394)].prototype[t(410)](I),i=e[o],c=r[i]||n;n[t(408)]=I[t(410)](I),n.toString=c[t(392)][t(410)](c),r[i]=n}}))();const b=[_(442),_(430)],j=["object"],S=["object"],M=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:_(415)},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const x=_;let v,I;const y=f,{scene:M}=c(),R=([v,I]=l((()=>s(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),v=await v,I(),v);R[0].wrapS=t,R[0].wrapT=t,R[1][x(425)]=t,R[1].wrapT=t;const G=new a,T=new u({reflectivity:y[x(400)],mirror:y[x(389)],mixStrength:y.mixStrength,color:new n(y[x(396)]),map:R[0],normalMap:R[1],normalScale:new r(5,5),fog:M.fog,dithering:!0});T[x(405)][x(432)]=G[x(422)],T.uniforms[x(419)]=G.textureMatrixUniform;const C=new e(10,10),z=new o(C,T);z[x(446)]=x(397),z.position.y=-.01,z[x(407)].x=-Math.PI/2,z[x(393)](G),z.onBeforeRender=(t,n,r)=>{const e=x;z[e(434)]=!1,G.update(t,n,r),z[e(434)]=!0};const K=new i(9.5,10);return K[x(434)]=y[x(441)],p((()=>{const t=x;y[t(400)]&&(T[t(405)].uReflectivity.value=y[t(400)]),y[t(389)]&&(T[t(405)][t(431)][t(403)]=y[t(389)]),y[t(437)]&&(T[t(405)][t(443)].value=y[t(437)]),y[t(396)]&&(T[t(405)].uColor.value=new n(y[t(396)]))})),h((()=>y[x(441)]),(t=>{K[x(434)]=t})),(t,n)=>{const r=x;return m(),w("TresGroup",{position:y[r(442)],scale:y.scale},[g(r(390),{object:d(z)},null,8,j),g(r(390),{object:d(K)},null,8,S)],8,b)}}});function R(t){function n(t){const r=y;if(typeof t===r(395))return function(t){}[r(394)]("while (true) {}")[r(402)](r(424));1!==(""+t/t)[r(440)]||t%20==0?function(){return!0}[r(394)](r(423)+r(398))[r(404)](r(427)):function(){return!1}[r(394)](r(423)+r(398))[r(402)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
