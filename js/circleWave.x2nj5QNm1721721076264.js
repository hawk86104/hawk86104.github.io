import{$ as n,N as t,d as e}from"./@tresjs.tWkmYPO61721721076264.js";import{P as o}from"./tweakpane.yHWGBmom1721721076264.js";import{_ as r}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.TG1thKJx1721721076264.js";import{a6 as a}from"./three.fnkrvySq1721721076264.js";import{d as c,b as s,a4 as i,r as u,a1 as l,o as f,D as p,J as v,aj as d,ak as m,e as g,f as h,g as w,j as k,u as S,al as y,m as _}from"./@vue.Q1VpS3901721721076264.js";import"./@vueuse._hUvP73U1721721076264.js";import"./all.three.e2UOJjs11721721076264.js";import"./oimophysics.x0jH7fze1721721076264.js";const I=C;function b(){const n=["exception","tmRef","DoubleSide","info","counter","init","__proto__","stateObject","error","4728620khupnh","while (true) {}","wrapT","value","Color","uniforms","chain","console","TresMesh","RepeatWrapping","bind","constructor","function *\\( *\\)","material","4560bzpjYw","log","color","apply","length","action","\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main(){\n\tvUv=uv;\n\tvPosition=position;\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}\n","1cuvbpo",'{}.constructor("return this")( )',"test","call","uTime","debu","string","wrapS","gger","uScanColor","shaderCircleWave","input","5GvZOli","267603KvVjAB","20151BqxXao","toString","2127558URAtGq","colorDark","scale","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","rotation-x","\n#define uScanOrigin vec3(0.,0.,0.)\n#define uScanWaveRatio1 3.2\n#define uScanWaveRatio2 2.8\n\nuniform float uTime;\nuniform sampler2D uScanTex;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nuniform vec3 uScanColor;\nuniform vec3 uScanColorDark;\n\nfloat circleWave(vec3 p,vec3 origin,float distRatio){\n    float t=uTime;\n    float dist=distance(p,origin)*distRatio;\n    float radialMove=fract(dist-t);\n    float fadeOutMask=1.-smoothstep(1.,3.,dist);\n    radialMove*=fadeOutMask;\n    float cutInitialMask=1.-step(t,dist);\n    radialMove*=cutInitialMask;\n    return radialMove;\n}\n\nvec3 getScanColor(vec3 worldPos,vec2 uv,vec3 col){\n    // mask\n    float scanMask=texture(uScanTex,uv).r;\n    // waves\n    float cw=circleWave(worldPos,uScanOrigin,uScanWaveRatio1);\n    float cw2=circleWave(worldPos,uScanOrigin,uScanWaveRatio2);\n    // scan\n    float mask1=smoothstep(.3,0.,1.-cw);\n    mask1*=(1.+scanMask*.7);\n    \n    float mask2=smoothstep(.07,0.,1.-cw2)*.8;\n    mask1+=mask2;\n    \n    float mask3=smoothstep(.09,0.,1.-cw)*1.5;\n    mask1+=mask3;\n\n    // color\n    vec3 scanCol=mix(uScanColorDark,uScanColor,mask1);\n    col=mix(col,scanCol,mask1);\n    \n    return col;\n\t\t// return vec3(cw);\n\t\t// return vec3(scanMask);\n\t\t// return worldPos;\n\t\t// return vec3(mask1);\n\t\t// return scanCol;\n}\n\nvoid main()\n{\n    vec3 col=vec3(0.);\n    col=getScanColor(vPosition,vUv*10.0,col);\n    gl_FragColor=vec4(col,1.);\n}\n","prototype","3923631KlPvWY","trace","AdditiveBlending","4119516kfwzTZ","895858cVJklr","return (function() "];return(b=function(){return n})()}!function(n,t){const e=C,o=b();for(;;)try{if(720229===parseInt(e(348))/1*(parseInt(e(316))/2)+parseInt(e(312))/3+parseInt(e(315))/4*(parseInt(e(360))/5)+-parseInt(e(364))/6+parseInt(e(361))/7+-parseInt(e(341))/8*(parseInt(e(362))/9)+-parseInt(e(327))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(344)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function C(n,t){const e=b();return(C=function(n,t){return e[n-=312]})(n,t)}!function(){x(this,(function(){const n=C,t=new RegExp(n(339)),e=new RegExp(n(367),"i"),o=R(n(323));t[n(350)](o+n(333))&&e[n(350)](o+n(359))?R():o("0")}))()}();const P=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(344)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();P(void 0,(function(){const n=C;let t;try{t=Function(n(317)+n(349)+");")()}catch(r){t=window}const e=t[n(334)]=t.console||{},o=[n(342),"warn",n(321),n(326),n(318),"table",n(313)];for(let a=0;a<o[n(345)];a++){const t=P[n(338)][n(370)][n(337)](P),r=o[a],c=e[r]||t;t[n(324)]=P[n(337)](P),t[n(363)]=c.toString[n(337)](c),e[r]=t}}))();const j=[I(368),I(366)],T=v("TresPlaneGeometry",{args:[1,1]},null,-1),M=c({__name:I(358),props:{color:{default:"#ffffff"},colorDark:{default:"#000000"},speed:{default:1},scale:{default:2}},async setup(e){const o=I;let r,c;const g=e,h=s(),{onLoop:w}=n();w((({delta:n})=>{const t=C;h[t(330)]&&(h[t(330)].material[t(332)][t(352)].value+=n*g.speed)}));const k=([r,c]=i((()=>t(["./plugins/floor/image/scan.png"]))),r=await r,c(),r);k[o(355)]=a[o(336)],k[o(329)]=a[o(336)];const S=u({side:a[o(320)],transparent:!0,blending:a[o(314)],flatShading:!0,depthTest:!1,uniforms:{uTime:{type:"f",value:0},uScanTex:{type:"t",value:k},uScanColor:{type:"v3",value:new(a[o(331)])(g[o(343)])},uScanColorDark:{type:"v3",value:new(a[o(331)])(g[o(365)])}},vertexShader:o(347),fragmentShader:o(369)});return l((()=>{const n=o;h[n(330)]&&(h.value[n(340)][n(332)][n(357)][n(330)]=new(a[n(331)])(g[n(343)]),h.value[n(340)][n(332)].uScanColorDark[n(330)]=new(a[n(331)])(g[n(365)]))})),(n,t)=>{const e=o;return f(),p(e(335),{ref_key:e(319),ref:h,"rotation-x":-Math.PI/2,scale:n[e(366)]},[T,v("TresShaderMaterial",d(m(S)),null,16)],8,j)}}});function R(n){function t(n){const e=C;if(typeof n===e(354))return function(n){}[e(338)](e(328))[e(344)](e(322));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(353)+e(356))[e(351)](e(346)):function(){return!1}.constructor(e(353)+e(356)).apply(e(325)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const D=Z;!function(n,t){const e=Z,o=z();for(;;)try{if(247864===parseInt(e(407))/1+-parseInt(e(425))/2*(parseInt(e(442))/3)+parseInt(e(436))/4*(-parseInt(e(435))/5)+parseInt(e(412))/6+parseInt(e(408))/7+parseInt(e(447))/8*(parseInt(e(409))/9)+parseInt(e(406))/10*(-parseInt(e(416))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(402)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){W(this,(function(){const n=Z,t=new RegExp(n(426)),e=new RegExp(n(432),"i"),o=E(n(420));t[n(428)](o+n(431))&&e.test(o+n(415))?E():o("0")}))()}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(402)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(){const n=["stateObject","1052IWlpay","function *\\( *\\)","error","test","__proto__","#000000","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","table","10ZrHDRR","705836wySBCT","log","圈渐变色","TresCanvas","string","call","423GzgCfK","gger","#201919","warn","circleWave","409496sPPmLm","toString","counter","#ffffff","debu","apply","exception","shaderCircleWave地面","length","14020SYmEqN","305055SEgwwi","2393125yLYgIS","18OkibQJ","prototype","constructor","2699952YlVpUo","TresAmbientLight","圈颜色","input","4114RfyIPH","TresPerspectiveCamera","bind","addBinding","init","return (function() ","action","info"];return(z=function(){return n})()}O(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function(n(421)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t.console||{},o=[n(437),n(445),n(423),n(427),n(403),n(434),n(433)];for(let r=0;r<o[n(405)];r++){const t=O.constructor[n(410)][n(418)](O),a=o[r],c=e[a]||t;t[n(429)]=O[n(418)](O),t[n(398)]=c.toString.bind(c),e[a]=t}}))();const A=v(D(417),{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1),U=v(D(413),{intensity:6},null,-1);function Z(n,t){const e=z();return(Z=function(n,t){return e[n-=398]})(n,t)}const B=c({__name:D(446),setup(n){const t=D,a=u({reflectivity:.1,showGridHelper:!1,scale:1}),c=u({color:t(400),colorDark:t(430),speed:1,scale:2}),s=new o({title:t(404),expanded:!0});return s[t(419)](c,"color",{label:t(414)}),s[t(419)](c,"colorDark",{label:t(438)}),s.addBinding(c,"speed",{label:"速度",min:.1,max:5,step:.1}),s[t(419)](c,"scale",{label:"大小",min:.1,max:10,step:.1}),(n,o)=>{const s=t,i=g(s(439));return f(),h(i,{clearColor:s(444),"window-size":""},{default:w((()=>[A,k(S(e),{enableDamping:""}),U,(f(),h(y,null,{default:w((()=>[k(M,d(m(c)),null,16)])),_:1})),(f(),h(y,null,{default:w((()=>[k(r,_({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function E(n){function t(n){const e=Z;if(typeof n===e(440))return function(n){}.constructor("while (true) {}")[e(402)](e(399));1!==(""+n/n)[e(405)]||n%20==0?function(){return!0}[e(411)](e(401)+"gger")[e(441)](e(422)):function(){return!1}[e(411)](e(401)+e(443))[e(402)](e(424)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{B as default};
