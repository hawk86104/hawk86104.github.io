import{b as t,m as n,U as e}from"./@tresjs.pA0fT6uQ1736128832096.js";import{_ as o,V as r}from"./three.8H01GNxA1736128832096.js";import{n as i,_ as s}from"./three-tile.aZFEED7i1736128832096.js";import{_ as c}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.2E7bvBao1736128832096.js";import{d as a,a4 as u,w as p,o as l,D as f,J as m,u as h,r as g,b as d,f as y,g as I,j as _,m as b,al as j,F as w,e as v,aj as x,ak as S}from"./@vue.yG49nQHr1736128832096.js";import{P as T}from"./tweakpane.yHWGBmom1736128832096.js";import{_ as z}from"./informationDiv.o3FqBU9f1736128832096.js";import"./@vueuse.iB8cUOAP1736128832096.js";import"./@fesjs.egESxg6m1736128832096.js";import"./vue-router.9xKClDNR1736128832096.js";import"./lodash-es.kYt-_xTG1736128832096.js";import"./@qlin.yHhFDldE1736128832096.js";import"./pinia.fYculRKX1736128832096.js";import"./vue-demi.C4xddsk91736128832096.js";import"./@floating-ui.BPbuo5Gx1736128832096.js";import"./@juggle.7yjBMqoW1736128832096.js";const M=E;!function(t,n){const e=E,o=A();for(;;)try{if(344612===parseInt(e(487))/1*(-parseInt(e(480))/2)+parseInt(e(495))/3*(parseInt(e(460))/4)+-parseInt(e(510))/5+parseInt(e(502))/6*(-parseInt(e(507))/7)+-parseInt(e(499))/8*(-parseInt(e(457))/9)+parseInt(e(493))/10*(-parseInt(e(479))/11)+-parseInt(e(496))/12*(-parseInt(e(491))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=E,n=new RegExp(t(511)),e=new RegExp(t(468),"i"),o=L("init");n.test(o+t(456))&&e[t(471)](o+"input")?L():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(492)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(489)+t(461)+");")()}catch(e){n=window}return n}(),e=n[t(473)]=n[t(473)]||{},o=["log",t(514),"info",t(500),t(470),t(490),"trace"];for(let r=0;r<o[t(501)];r++){const n=k[t(469)].prototype[t(474)](k),i=o[r],s=e[i]||n;n[t(458)]=k[t(474)](k),n[t(477)]=s[t(477)].bind(s),e[i]=n}}))();const B=[M(463)],Z=[M(498),M(482),M(476),"position-y"];function A(){const t=["8ITZtnl","opacity","return (function() ","table","7381569JHvJgm","apply","1100GoGODx","stateObject","209499lGBmsv","36VGHEoH","scaleImg","scale","857432jVzfvz","error","length","6drmoSf","needsUpdate","counter","radraImgShow","TresGroup","2512174dJGbmQ","call","uniform sampler2D map;\n\t","346300NjhMiX","function *\\( *\\)","vertexShader","log","warn","gger","map","chain","9CgraBe","__proto__","Texture","8qdyHTI",'{}.constructor("return this")( )',"replace","position","MeshPhongMaterial","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","string","TresMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","exception","test","height","console","bind","push","rotateX","toString","DoubleSide","64141ojhFIN","134030xMzWOK","debu","material","applyMatrix4","geo2pos","matrix","onBeforeCompile"];return(A=function(){return t})()}function E(t,n){const e=A();return(E=function(t,n){return e[t-=456]})(t,n)}const H=a({__name:M(505),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=M;let i,s;const a=n,g=new(o[e(464)])({displacementMap:new(o[e(459)]),transparent:!0,side:o[e(478)],opacity:a[e(488)],displacementScale:.5,displacementBias:0});g[e(486)]=t=>{const n=e;t[n(512)]=n(509)+t.vertexShader,t[n(512)]=t.vertexShader[n(462)]("#include <displacementmap_vertex>","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const d=a.map[e(484)](new r(105,34,0));d[e(483)](a[e(516)][e(485)]);const y=c[e(497)](a.map,{x:67,y:11},{x:140,y:57},a.height),I=[];for(let t=0;t<9;t++)I[e(475)](e(465)+t+"40.png");let _=0;const b=([i,s]=u((()=>t(I))),i=await i,s(),i);g[e(516)]=b[_],p((()=>[a.color,a[e(488)]]),(([t,n])=>{g[e(488)]=n}));let j=null,w=!1;return w?(clearInterval(j),j=null,w=!1):(j=setInterval((()=>{const t=E;_=_<I[t(501)]-1?_+1:0,g.map=b[_],g[t(503)]=!0,console[t(513)](_)}),1e3),w=!0),(t,n)=>{const o=e;return l(),f(o(506),{position:[...h(d)]},[m(o(467),{scale:[h(y).x,h(y).y,t[o(472)]],material:h(g),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(472)]/5},n[0]||(n[0]=[m("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,Z)],8,B)}}});function L(t){function n(t){const e=E;if(typeof t===e(466))return function(t){}[e(469)]("while (true) {}").apply(e(504));1!==(""+t/t)[e(501)]||t%20==0?function(){return!0}[e(469)](e(481)+e(515))[e(508)]("action"):function(){return!1}[e(469)](e(481)+e(515))[e(492)](e(494)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=X;!function(t,n){const e=X,o=R();for(;;)try{if(772970===-parseInt(e(139))/1+-parseInt(e(152))/2+parseInt(e(166))/3+parseInt(e(115))/4+-parseInt(e(120))/5+parseInt(e(136))/6+-parseInt(e(123))/7*(-parseInt(e(148))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(128)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=X,n=new RegExp(t(170)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W("init");n.test(o+"chain")&&e[t(158)](o+t(159))?W():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(128)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function("return (function() "+t(125)+");")()}catch(e){n=window}return n}(),e=n[t(161)]=n[t(161)]||{},o=[t(142),"warn","info",t(155),t(121),t(171),t(169)];for(let r=0;r<o[t(167)];r++){const n=P.constructor[t(153)][t(117)](P),i=o[r],s=e[i]||n;n.__proto__=P[t(117)](P),n[t(164)]=s[t(164)][t(117)](s),e[i]=n}}))();const J=[F(122)];function R(){const t=["tdLight","error","rotateX","value","test","input","copy","console","image","TileMap","toString","geo2pos","3916161oKpnqp","length","domElement","trace","function *\\( *\\)","table","addBinding","3575756yYnToh","MapBoxSource","bind","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","Vector3","5065855bmTduL","exception","object","6566217JklzoX","terrain-rgb",'{}.constructor("return this")( )',"height","map","apply","debu","opacity","controlsEvents","透明度","plugin","primitive","position","482238aiklqa","action","mapbox.terrain-rgb","501541ZpLosr","constructor","stateObject","log","localToWorld","while (true) {}","mapbox.satellite","TresDirectionalLight","showLocation","8BuIXzF","target","counter","call","1860096IiZjyh","prototype"];return(R=function(){return t})()}function X(t,n){const e=R();return(X=function(t,n){return e[t-=115]})(t,n)}const N=F(118),Q=a({__name:"mapBoxShow3",setup(t){const e=F,r=g({height:200,opacity:1}),a=new T({title:"参数"});a[e(172)](r,e(126),{label:"高度",min:10,max:300,step:1}),a[e(172)](r,e(130),{label:e(132),min:0,max:1,step:.1});const u=new i.MapBoxSource({token:N,dataType:e(162),style:e(145)}),v=new(s[e(133)][e(116)])({token:N,dataType:e(124),style:e(138),maxLevel:15}),x=new(s[e(163)])({imgSource:u,demSource:v,lon0:90,minLevel:2,maxLevel:20});x[e(156)](-Math.PI/2);const S=new(o[e(119)])(105,34,0),z=new(o[e(119)])(110,0,1e4),M=x[e(143)](x[e(165)](S)),D=x[e(143)](x.geo2pos(z)),k=d(),{camera:B,controls:Z,scene:A,renderer:E}=n();return B[e(157)]&&B.value[e(135)].copy(D),p((()=>Z.value),(t=>{const n=e;t&&(t[n(149)].copy(M),c[n(131)](t,B[n(157)],A[n(157)]))})),p((()=>k[e(157)]),(t=>{const n=e;t&&t.target.position[n(160)](M)})),c[e(147)](B[e(157)],E[e(157)][e(168)],x),(t,n)=>{const o=e;return l(),f(w,null,[m(o(146),{ref_key:o(154),ref:k,position:[0,2e3,1e3],intensity:1},null,512),m(o(134),{object:h(x)},null,8,J),(l(),y(j,null,{default:I((()=>[_(H,b({map:h(x)},r),null,16,[o(127)])])),_:1}))],64)}}});function W(t){function n(t){const e=X;if("string"==typeof t)return function(t){}.constructor(e(144))[e(128)](e(150));1!==(""+t/t).length||t%20==0?function(){return!0}[e(140)](e(129)+"gger")[e(151)](e(137)):function(){return!1}[e(140)]("debugger").apply(e(141)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=V;!function(t,n){const e=V,o=$();for(;;)try{if(363343===-parseInt(e(162))/1*(-parseInt(e(189))/2)+-parseInt(e(177))/3+parseInt(e(186))/4*(-parseInt(e(185))/5)+-parseInt(e(155))/6*(-parseInt(e(170))/7)+parseInt(e(184))/8*(-parseInt(e(180))/9)+-parseInt(e(175))/10+parseInt(e(166))/11*(parseInt(e(171))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(176)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=V,n=new RegExp(t(157)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=K(t(163));n.test(o+"chain")&&e.test(o+"input")?K():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(176)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["constructor","7QruXZJ","4054356yhdDfH","console","error","bind","3289870zcHHSW","apply","477375DLDtZI","toString","exception","5830119wvAdnS","#dbf0ff","info","call","8MvXMuA","522715kQiNCR","12vjSyrs","__proto__","table","50132VHgNga","debu","TresPerspectiveCamera","action","TresAmbientLight","return (function() ","1114182xjQugs","string","function *\\( *\\)","prototype","gger","trace","length","11KWZrqs","init","stateObject","log","44TrHbYE","highp","radraImg"];return($=function(){return t})()}function V(t,n){const e=$();return(V=function(t,n){return e[t-=150]})(t,n)}O(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(154)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(172)]=n[t(172)]||{},o=[t(165),"warn",t(182),t(173),t(179),t(188),t(160)];for(let r=0;r<o[t(161)];r++){const n=O.constructor[t(158)][t(174)](O),i=o[r],s=e[i]||n;n[t(187)]=O[t(174)](O),n[t(178)]=s[t(178)][t(174)](s),e[i]=n}}))();const U=a({__name:q(168),setup(t){const n=q,o=g({clearColor:n(181),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(167)}),r=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=v("TresCanvas");return l(),f(w,null,[_(c,b(o,{"window-size":""}),{default:I((()=>[i[0]||(i[0]=m(s(151),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(h(e),x(S(r)),null,16),i[1]||(i[1]=m(s(153),{intensity:1},null,-1)),_(Q)])),_:1},16),_(z)],64)}}});function K(t){function n(t){const e=V;if(typeof t===e(156))return function(t){}.constructor("while (true) {}")[e(176)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(150)+e(159))[e(183)](e(152)):function(){return!1}[e(169)](e(150)+"gger")[e(176)](e(164)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
