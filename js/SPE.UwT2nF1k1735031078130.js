import{X as t,_ as e,bQ as i,k as n,V as s,C as o}from"./three.bc6MLGU_1735031078130.js";const r=a;function a(t,e){const i=u();return(a=function(t,e){return i[t-=312]})(t,e)}!function(t,e){const i=a,n=u();for(;;)try{if(153612===parseInt(i(685))/1+parseInt(i(524))/2*(parseInt(i(612))/3)+-parseInt(i(343))/4+parseInt(i(418))/5*(-parseInt(i(684))/6)+parseInt(i(688))/7*(parseInt(i(520))/8)+parseInt(i(703))/9*(parseInt(i(342))/10)+-parseInt(i(670))/11)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(730)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){h(this,(function(){const t=a,e=new RegExp(t(628)),i=new RegExp(t(464),"i"),n=p(t(389));e[t(556)](n+"chain")&&i.test(n+t(650))?p():n("0")}))()}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(730)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function u(){const t=["       fIndex = float( i );","test","    varying vec4 vSpriteSheet;","setMat3","position","       float s = sin(angle);","    force += vel;","acceleration","activeMultiplier","type","BufferAttribute","__proto__","arrayType","mesh","SHOULD_ROTATE_TEXTURE","rotation","float getWiggle() {","velocity","vertex","Vector3","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","sin","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","attribute vec4 color;","dispose","particlesPerSecond","TypedArray is already of size:","distributionClamp","updateMap","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","    float pointSizePerspective = pointSize * perspective;","addEmitter","SHOULD_WIGGLE_PARTICLES","rotationCenter","    vec3 value = vec3( 0.0 );","resetUpdateRange","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","_assignAngleValue","_incrementParticleCount","_attributesNeedRefresh","attribute vec3 rotationCenter;","enable","LINE","    return 1.0 - abs( sign( x - y ) );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","debu","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","value","paramsArray","uniforms","fog_vertex","string","runTime","attribute vec4 acceleration;","multiplyScalar","textureFrames","308313wdRlZt","_checkParticleAges","bufferUpdateRanges","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","typedArray","bufferUpdateCount","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","activationEnd","ceil","triggerPoolEmitter","    #ifdef ALPHATEST","float getAlive() {","size","toString","_value","TypedArrayConstructor","function *\\( *\\)","#ifdef SHOULD_ROTATE_PARTICLES","flagUpdate","_calculatePPSValue","unshift","emitters","_spreadClamp","    float shouldApplyValue = 0.0;","Texture","disable","       vec3 c = isAlive * getColorOverLifetime(","setSize","   c.r = r / PACKED_COLOR_DIVISOR;","    highp float alive = getAlive();","logdepthbuf_pars_fragment","releaseIntoPool","branchAvoidanceFunctions","tick","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","needsUpdate","       float c = cos(angle);","prototype","input","getComponentValueAtIndex","keys","typeSizeMap","_activateParticles","interpolateArray","Points","Invalid argument types, or argument types do not match:","      rotationMatrix = getRotationMatrix( axis, angle );","console","   }","#ifdef SHOULD_ROTATE_TEXTURE","sqrt","vec3 getVelocity( in float age ) {","spread","floor","NEGATIVE_INFINITY","    pos += force;","elements","offset","839828xYoBZe","SHOULD_CALCULATE_SPRITE","getHex","        float wiggleCos = isAlive * cos( wiggleAmount );","_assignAbsLifetimeValue","       float y = 1.0 - gl_PointCoord.y - 0.5;","float or(float a, float b) {","_applyAttributesToGeometry","ensureInstanceOf","Emitter does not belong to a group, cannot remove.","SPHERE","randomDirectionVector3OnDisc","ShaderMaterial","randomise","90RrzKvr","124033NaaMHx","forceFetchingFunctions","    highp float isAlive = when_gt( alive, 0.0 );","932099usDaCe","_assignColorValue","table","frames","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","fog_pars_vertex","_updateBuffers","drag","OBJECT","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","    gl_PointSize = pointSizePerspective;","        float column = floor(mod( frameNumber, framesX ));","      mat4 rotationMatrix;","    force *= drag;","54MQfLsf","_updateUniforms","updateMax","        pos.y += wiggleCos;","resetFlags","call","setAttribute","NUMBER","float getAge() {","_updateAttributeUpdateRange","        float totalFrames = textureAnimation.z;","attributeEnd","subarray","cos","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","floatOverLifetime","defineProperty","defines","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","blending","    highp float age = getAge();","           return pos;","attributes","array","_updateDefines","return (function() ","lerp","apply","BufferGeometry","ensureArrayTypedArg","_attributesNeedDynamicReset","randomVector3OnDisc","uniform float scale;","        vSpriteSheet.y = 1.0 / framesY;","setRGB","_assignPositionValue","           unpackColor( color.w )","   return c;","setFromArray","        float rowNorm = vSpriteSheet.w;","maxParticleCount","setColor","vec3 getAcceleration( in float age ) {","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","_createBufferAttribute","abs","Emitter does not exist in this group. Will not remove.","float when_gt(float x, float y) {","        vSpriteSheet.z = columnNorm;","      vec3 center = rotationCenter;","warn","_spread","setVec2Components","activeParticleCount","_createNewWhenPoolEmpty","distributions","texture","pop","_axisSpread","Color","getFromPool","Emitter already exists in this group. Will not add again.","AdditiveBlending","activationIndex","alive","fog_fragment","exception","randomVector3","frameCount","onParticleSpawn","Group","common","attributeOffset","REVISION","StaticDrawUsage","group","depthWrite","       float oc = 1.0 - c;","angle","distribution","while (true) {}","scale","ShaderAttribute","        float row = floor( (frameNumber - column) / framesX );","        float perspective = 1.0;","        float columnNorm = column / framesX;","clone","        float perspective = scale / length( mvPosition.xyz );","    #ifdef SHOULD_CALCULATE_SPRITE","MathUtils","setVec4Components","isArray","push","_distributionClamp","setVec2","unpackColor","updateFlags","setVec3Components","_setAttributeOffset","remove","156130zIXkJX","423380yhgObd","min","valueOverLifetimeLength","   c.b = b / PACKED_COLOR_DIVISOR;","_resetBufferRanges","setNumber","        float framesY = vSpriteSheet.y;","loop","   c *= vec3( 2.0 );","forceUpdateAll","setVec3","length","   return velocity * age;","paramFetchingFunctions","_angle","round","isStatic","fog_pars_fragment","spreadClamp","   return params.w;","normalize","bind","`emitter` argument must be instance of SPE.Emitter. Was provided with:","    #ifdef COLORIZE","utils","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","alphaTest","_pool","shaderChunks","number","fog","#endif","rotationFunctions","getLength","_rotationCenter","   float b = mod( hex, PACKED_COLOR_SIZE );","    highp float value = 0.0;","DISC","join","maxAge","        vSpriteSheet.w = rowNorm;","_createGetterSetters","direction","static","      float angle = 0.0;","init","setMat4","reset","_triggerSingleEmitter","       float s = sin( -vAngle );","        vSpriteSheet.x = 1.0 / framesX;","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","       float c = cos( -vAngle );","ensureTypedArg","info","undefined","   c -= vec3( 1.0 );","radius","Vector2","roundToNearestMultiple","           unpackColor( color.z ),","  return 1.0 - when_lt(x, y);","        float framesY = textureAnimation.y;","updateRange","age","types","#define PACKED_COLOR_SIZE 256.0","log","transparent","    #endif","wiggle","colorOverLifetime","   return params.x;","    #ifdef SHOULD_ROTATE_PARTICLES","73535XROaDL","    #ifdef SHOULD_ROTATE_TEXTURE","splice","SHOULD_ROTATE_PARTICLES","   c.g = g / PACKED_COLOR_DIVISOR;","Vector4","_onRemove","attributeKeys","radiusScale","angleSpread","   vec3 c = vec3( 0.0 );","generateUUID","indexOf","fragment","updateCounts","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","       axis = normalize(axis);","_setBufferUpdateRanges","_assignForceValue","_center","    return value;","setUpdateRange","ensureArrayInstanceOf","        float loopCount = textureAnimation.w;","function","arrayValuesAreEqual","indexOffset","attribute vec3 velocity;","      }","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","color","copy","float when_ge(float x, float y) {","opacity","                   0.0,                                0.0,                                0.0,                                1.0);","geometry","vec3 unpackColor( in float hex ) {","_radiusScale","usage","uniform vec4 textureAnimation;","           unpackColor( color.y ),","      vec3 axis = unpackRotationAxis( rotation.x );","shaders","hasOwnProperty","textureLoop","float when_le(float x, float y) {","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","removeEmitter","colorize","particleCount","resetDynamic","max","       );","params","        pos.x += wiggleSin;","BOX","gger","shrink","duration","Emitter","count","attribute vec4 params;","    #ifdef SHOULD_WIGGLE_PARTICLES","uuid","    return max(sign(x - y), 0.0);","_ensureTypedArray","    force += accel * age;","clamp","vec3 unpackRotationAxis( in float hex ) {","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","varyings","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","set","bufferUpdateKeys","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","       if ( vColor.w < float(ALPHATEST) ) discard;","material","componentSize","attributeCount","error","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","Argument is not instanceof SPE.Emitter:","varying vec4 vColor;","float and(float a, float b) {","BOOLEAN","   return params.z;","_distribution","constructor","    #ifdef HAS_PERSPECTIVE","grow","   return modelViewMatrix * vec4( position, 1.0 );","void main() {","getPackedRotationAxis","uniform float runTime;","POSITIVE_INFINITY","       float x = gl_PointCoord.x - 0.5;","_poolCreationSettings","random","ensureValueOverLifetimeCompliance","counter","exports","randomFloat","8BYAGkq","particles, can support only","TypedArrayHelper","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","4AmuHKn","updateMin","hasPerspective","depthTest","#ifdef SHOULD_CALCULATE_SPRITE","    float fIndex = 0.0;","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","emitterIDs","trace","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","boolean","           positionInTime,","    vec3 force = vec3( 0.0 );","    gl_Position = projectionMatrix * mvPosition;","spe","dynamicBuffer","ShaderChunk","      vec3 translated;","    highp float positionInTime = (age / maxAge);","randomDirectionVector3OnSphere","textureFrameCount","_decrementParticleCount","bufferAttribute","fixedTimeStep","_assignValue","float getMaxAge() {","        float wiggleAmount = positionInTime * getWiggle();","_assignRotationValue","randomVector3OnLine","    }","amd"];return(u=function(){return t})()}c(void 0,(function(){const t=a;let e;try{e=Function(t(728)+'{}.constructor("return this")( ));')()}catch(s){e=window}const i=e.console=e[t(659)]||{},n=["log","warn",t(398),t(497),t(769),t(690),t(532)];for(let o=0;o<n[t(354)];o++){const e=c[t(505)][t(649)][t(364)](c),s=n[o],r=i[s]||e;e[t(566)]=c[t(364)](c),e[t(625)]=r[t(625)][t(364)](r),i[s]=e}}))();const l={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};"function"==typeof define&&define[r(554)]?define(r(538),l):typeof exports!==r(399)&&typeof module!==r(399)&&(module[r(518)]=l),l[r(522)]=function(t,e,i,n){const s=r;this[s(495)]=i||1,this.size=e||1,this[s(627)]=t||Float32Array,this.array=new t(e*this[s(495)]),this[s(444)]=n||0},l[r(522)][r(505)]=l[r(522)],l[r(522)][r(649)][r(639)]=function(t,e){const i=r,n=this[i(726)][i(354)];return!e&&(t*=this[i(495)]),t<n?this.shrink(t):t>n?this[i(507)](t):void console[i(398)](i(582),t+".","Will not resize.")},l[r(522)][r(649)].shrink=function(t){const e=r;return this.array=this.array[e(715)](0,t),this[e(624)]=t,this},l[r(522)].prototype[r(507)]=function(t){const e=r,i=this[e(726)],n=new(this[e(627)])(t);return n[e(490)](i),this[e(726)]=n,this[e(624)]=t,this},l[r(522)].prototype[r(420)]=function(t,e){const i=r;t*=this[i(495)],e*=this[i(495)];const n=[],s=this.array,o=s.length;for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(334)](s[r]);return this.setFromArray(0,n),this},l[r(522)].prototype[r(741)]=function(t,e){const i=r,n=t+e[i(354)];return n>this[i(726)][i(354)]?this[i(507)](n):n<this[i(726)][i(354)]&&this[i(475)](n),this[i(726)][i(490)](e,this[i(444)]+t),this},l[r(522)][r(649)][r(336)]=function(t,e){return this[r(755)](t,e.x,e.y)},l[r(522)][r(649)][r(755)]=function(t,e,i){const n=r,s=this[n(726)],o=this[n(444)]+t*this[n(495)];return s[o]=e,s[o+1]=i,this},l[r(522)][r(649)].setVec3=function(t,e){return this[r(339)](t,e.x,e.y,e.z)},l[r(522)][r(649)][r(339)]=function(t,e,i,n){const s=r,o=this.array,a=this[s(444)]+t*this[s(495)];return o[a]=e,o[a+1]=i,o[a+2]=n,this},l[r(522)][r(649)].setVec4=function(t,e){return this[r(332)](t,e.x,e.y,e.z,e.w)},l.TypedArrayHelper[r(649)][r(332)]=function(t,e,i,n,s){const o=r,a=this.array,h=this.indexOffset+t*this[o(495)];return a[h]=e,a[h+1]=i,a[h+2]=n,a[h+3]=s,this},l[r(522)][r(649)][r(558)]=function(t,e){const i=r;return this.setFromArray(this[i(444)]+t*this[i(495)],e.elements)},l.TypedArrayHelper.prototype[r(390)]=function(t,e){const i=r;return this.setFromArray(this.indexOffset+t*this[i(495)],e[i(668)])},l[r(522)][r(649)][r(744)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},l.TypedArrayHelper.prototype[r(348)]=function(t,e){const i=r;return this[i(726)][this[i(444)]+t*this[i(495)]]=e,this},l[r(522)][r(649)].getValueAtIndex=function(t){const e=r;return this[e(726)][this[e(444)]+t]},l.TypedArrayHelper[r(649)][r(651)]=function(t){const e=r;return this[e(726)][e(715)](this[e(444)]+t*this.componentSize)},l[r(324)]=function(t,e,i){const n=r,s=l.ShaderAttribute[n(653)];this.type=typeof t===n(607)&&s.hasOwnProperty(t)?t:"f",this.componentSize=s[this[n(564)]],this[n(567)]=i||Float32Array,this[n(616)]=null,this[n(546)]=null,this[n(539)]=!!e,this[n(525)]=0,this.updateMax=0},l.ShaderAttribute[r(505)]=l[r(324)],l[r(324)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},l[r(324)][r(649)][r(439)]=function(t,e){const i=r;this.updateMin=Math.min(t*this[i(495)],this[i(525)]*this.componentSize),this.updateMax=Math[i(469)](e*this[i(495)],this[i(705)]*this[i(495)])},l.ShaderAttribute.prototype.flagUpdate=function(){const t=r,e=this[t(546)];!e[t(407)]&&(e[t(407)]={});const i=e[t(407)];i.offset=this.updateMin,i[t(478)]=Math.min(this.updateMax-this[t(525)]+this[t(495)],this[t(616)][t(726)][t(354)]),e.needsUpdate=!0},l[r(324)][r(649)][r(591)]=function(){const t=r;this[t(525)]=0,this[t(705)]=0},l.ShaderAttribute.prototype[r(468)]=function(){const i=r;this.bufferAttribute[i(456)]=this[i(539)]?t:e[i(316)]},l.ShaderAttribute[r(649)][r(420)]=function(t,e){const i=r;this[i(616)][i(420)](t,e),this.forceUpdateAll()},l[r(324)].prototype[r(352)]=function(){const t=r;this[t(546)].array=this[t(616)][t(726)],this[t(546)][t(407)][t(669)]=0,this[t(546)][t(407)][t(478)]=-1,this.bufferAttribute[t(456)]=e[t(316)],this.bufferAttribute[t(647)]=!0},l.ShaderAttribute[r(649)][r(483)]=function(t){const e=r;null!==this[e(616)]&&this[e(616)][e(624)]===t*this[e(495)]||(null!==this[e(616)]&&this[e(616)][e(624)]!==t?this.typedArray[e(639)](t):null===this[e(616)]&&(this.typedArray=new(l[e(522)])(this.arrayType,t,this[e(495)])))},l[r(324)][r(649)][r(747)]=function(i){const n=r;if(this[n(483)](i),null!==this[n(546)])return this.bufferAttribute[n(726)]=this[n(616)][n(726)],parseFloat(e[n(315)])>=81&&(this[n(546)][n(478)]=this[n(546)].array.length/this[n(546)].itemSize),void(this.bufferAttribute[n(647)]=!0);this.bufferAttribute=new(e[n(565)])(this[n(616)][n(726)],this[n(495)]),this[n(546)].usage=this.dynamicBuffer?t:e[n(316)]},l[r(324)][r(649)][r(377)]=function(){const t=r;return null===this.typedArray?0:this[t(616)][t(726)][t(354)]},l[r(372)]={defines:[r(410),"#define PACKED_COLOR_DIVISOR 255.0"][r(382)]("\n"),uniforms:["uniform float deltaTime;",r(511),"uniform sampler2D tex;",r(457),r(735)][r(382)]("\n"),attributes:[r(609),r(445),"attribute vec4 rotation;",r(596),r(479),"attribute vec4 size;","attribute vec4 angle;",r(579),"attribute vec4 opacity;"].join("\n"),varyings:[r(500),r(661),"    varying float vAngle;","#endif",r(528),r(557),r(375)][r(382)]("\n"),branchAvoidanceFunctions:[r(750),r(482),"}","float when_lt(float x, float y) {",r(530),"}","float when_eq( float x, float y ) {",r(599),"}",r(450),r(405),"}",r(463),"  return 1.0 - when_gt(x, y);","}",r(501),"    return a * b;","}",r(676),"    return min(a + b, 1.0);","}"][r(382)]("\n"),unpackColor:[r(454),r(428),r(575),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",r(379),r(640),r(422),"   c.b = b / PACKED_COLOR_DIVISOR;",r(740),"}"][r(382)]("\n"),unpackRotationAxis:[r(486),r(428),r(575),r(433),r(379),r(640),"   c.g = g / PACKED_COLOR_DIVISOR;",r(346),r(351),r(400),r(740),"}"].join("\n"),floatOverLifetime:[r(498),r(380),"    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );",r(529),r(635),r(368),"",r(746),r(555),r(487),r(697),r(553),"",r(438),"}"][r(382)]("\n"),colorOverLifetime:[r(533),r(590),r(600),r(489),r(447),r(438),"}"][r(382)]("\n"),paramFetchingFunctions:[r(623),r(416),"}",r(711),"   return params.y;","}",r(549),r(503),"}",r(571),r(362),"}"][r(382)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",r(508),"}",r(663),r(355),"}",r(745),"   return acceleration.xyz * age;","}"][r(382)]("\n"),rotationFunctions:[r(629),r(717),r(434),r(560),r(648),r(319),"",r(615),r(578),r(698),r(452),r(660),"","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","      if( rotation.y == 0.0 ) {",r(724),r(446),"",r(459),r(752),r(541),r(701),r(388),r(592),r(369),"      translated = rotationCenter - pos;",r(658),r(492),r(660),r(375)][r(382)]("\n"),rotateTexture:[r(692),"",r(419),r(513),r(675),r(396),r(393),r(646),r(413),"",r(330),"        float framesX = vSpriteSheet.x;",r(349),"        float columnNorm = vSpriteSheet.z;",r(742),r(602),r(576),r(413),"","    vec4 rotatedTexture = texture2D( tex, vUv );"][r(382)]("\n")},l[r(460)]={vertex:[l[r(372)].defines,l[r(372)][r(605)],l[r(372)][r(725)],l.shaderChunks[r(488)],i[r(313)],i.logdepthbuf_pars_vertex,e[r(540)][r(693)],l[r(372)][r(644)],l[r(372)][r(337)],l[r(372)].unpackRotationAxis,l[r(372)][r(718)],l[r(372)][r(415)],l.shaderChunks[r(356)],l[r(372)][r(686)],l[r(372)][r(376)],r(509),r(723),r(641),"    highp float maxAge = getMaxAge();",r(542),r(687),r(480),r(550),"        float wiggleSin = isAlive * sin( wiggleAmount );",r(673),r(413),"    vec3 vel = getVelocity( age );","    vec3 accel = getAcceleration( age );",r(536),"    vec3 pos = vec3( position );",r(618),r(561),r(702),r(484),r(667),"    #ifdef SHOULD_WIGGLE_PARTICLES",r(472),r(706),"        pos.z += wiggleSin;",r(413),r(417),"        pos = getRotation( pos, positionInTime );",r(413),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",r(721),r(506),r(329),"    #else",r(326),r(413),r(586),r(366),r(638),r(535),"           unpackColor( color.x ),",r(458),r(404),r(739),r(470),"    #else","       vec3 c = vec3(1.0);",r(413),r(523),"    vColor = vec4( c, o );",r(419),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",r(413),r(330),"        float framesX = textureAnimation.x;",r(406),r(441),r(713),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",r(700),r(325),r(327),"        float rowNorm = row / framesY;",r(394),r(736),r(751),r(384),r(413),r(699),r(537),e[r(540)].logdepthbuf_vertex,e[r(540)][r(606)],"}"][r(382)]("\n"),fragment:[l[r(372)].uniforms,e[r(540)][r(313)],e[r(540)][r(360)],i[r(642)],l[r(372)].varyings,l[r(372)][r(644)],"void main() {","    vec3 outgoingLight = vColor.xyz;","    ",r(622),r(493),"    #endif",l[r(372)].rotateTexture,e[r(540)].logdepthbuf_fragment,r(395),"    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",e[r(540)][r(768)],"}"][r(382)]("\n")},l[r(367)]={types:{BOOLEAN:r(534),STRING:r(607),NUMBER:r(373),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=r;if(Array[n(333)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(397)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=r;if(Array[n(333)](t)){for(let s=t[n(354)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(678)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=r;e=e||3,i=i||3,!1===Array.isArray(t[n(626)])&&(t[n(626)]=[t[n(626)]]),!1===Array.isArray(t._spread)&&(t[n(754)]=[t[n(754)]]);const s=this[n(485)](t._value[n(354)],e,i),o=this[n(485)](t._spread[n(354)],e,i),a=Math.max(s,o);t[n(626)][n(354)]!==a&&(t[n(626)]=this[n(655)](t._value,a)),t[n(754)][n(354)]!==a&&(t[n(754)]=this[n(655)](t._spread,a))},interpolateArray(t,e){const i=r,n=t[i(354)],s=["function"==typeof t[0][i(328)]?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(665)](e),a=Math[i(620)](e),h=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],h)}return s.push(typeof t[n-1][i(328)]===i(442)?t[n-1][i(328)]():t[n-1]),s},clamp(t,e,i){const n=r;return Math.max(e,Math[n(344)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[r(515)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(t,i,s){const o=r;let a,h=this[o(409)];return typeof t===h.NUMBER&&typeof i===h.NUMBER?t+(i-t)*s:t instanceof n&&i instanceof e[o(402)]?(a=t[o(328)](),a.x=this[o(729)](t.x,i.x,s),a.y=this[o(729)](t.y,i.y,s),a):t instanceof e[o(574)]&&i instanceof e[o(574)]?(a=t[o(328)](),a.x=this.lerp(t.x,i.x,s),a.y=this.lerp(t.y,i.y,s),a.z=this[o(729)](t.z,i.z,s),a):t instanceof e[o(423)]&&i instanceof e[o(423)]?(a=t[o(328)](),a.x=this[o(729)](t.x,i.x,s),a.y=this[o(729)](t.y,i.y,s),a.z=this[o(729)](t.z,i.z,s),a.w=this[o(729)](t.w,i.w,s),a):t instanceof e[o(762)]&&i instanceof e[o(762)]?(a=t[o(328)](),a.r=this.lerp(t.r,i.r,s),a.g=this[o(729)](t.g,i.g,s),a.b=this[o(729)](t.b,i.b,s),a):void console[o(753)](o(657),t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=r;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(748)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=r;for(let i=0;i<t[e(354)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[r(515)]()-.5),randomVector3(t,e,i,n,s){const o=r;let a=i.x+(Math[o(515)]()*n.x-.5*n.x),h=i.y+(Math[o(515)]()*n.y-.5*n.y),c=i.z+(Math[o(515)]()*n.z-.5*n.z);s&&(a=.5*-s.x+this[o(403)](a,s.x),h=.5*-s.y+this[o(403)](h,s.y),c=.5*-s.z+this[o(403)](c,s.z)),t[o(616)][o(339)](e,a,h,c)},randomColor(t,e,i,n){const s=r;let o=i.r+Math.random()*n.x,a=i.g+Math[s(515)]()*n.y,h=i.b+Math.random()*n.z;o=this[s(485)](o,0,1),a=this[s(485)](a,0,1),h=this[s(485)](h,0,1),t[s(616)][s(339)](e,o,a,h)},randomColorAsHex:function(){const t=r,i=new(e[t(762)]);return function(e,n,s,o){const r=t,a=s[r(354)],h=[];for(let t=0;t<a;++t){const e=o[t];i.copy(s[t]),i.r+=Math[r(515)]()*e.x-.5*e.x,i.g+=Math[r(515)]()*e.y-.5*e.y,i.b+=Math[r(515)]()*e.z-.5*e.z,i.r=this[r(485)](i.r,0,1),i.g=this[r(485)](i.g,0,1),i.b=this[r(485)](i.b,0,1),h.push(i[r(672)]())}e.typedArray[r(332)](n,h[0],h[1],h[2],h[3])}}(),randomVector3OnLine(t,e,i,n){const s=r,o=i[s(328)]();o[s(729)](n,Math[s(515)]()),t[s(616)][s(339)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,a,h){const c=r;let u=2*Math[c(515)]()-1,l=6.2832*Math[c(515)](),f=Math[c(662)](1-u*u),p=this[c(519)](n,s),d=0,m=0,g=0;a&&(p=Math[c(358)](p/a)*a),d=f*Math[c(716)](l)*p,m=f*Math.sin(l)*p,g=u*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(616)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,a){const h=r;let c=6.2832*Math.random(),u=Math[h(748)](this.randomFloat(n,s)),l=0,f=0,p=0;a&&(u=Math[h(358)](u/a)*a),l=Math[h(716)](c)*u,f=Math[h(577)](c)*u,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t.typedArray[h(339)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const t=r,i=new(e[t(574)]);return function(e,n,s,o,r,a,h,c){const u=t;i.copy(a),i.x-=s,i.y-=o,i.z-=r,i[u(363)]()[u(610)](-this[u(519)](h,c)),e[u(616)][u(339)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=r,i=new(e[t(574)]);return function(e,n,s,o,r,a,h,c){const u=t;i[u(449)](a),i.x-=s,i.y-=o,i.z-=r,i.normalize()[u(610)](-this[u(519)](h,c)),e[u(616)][u(339)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const t=r,i=new(e[t(574)]),n=new(e[t(574)]),s=new(e[t(762)]),o=new(e[t(574)])(1,1,1);return function(e,r){const a=t;return i[a(449)](e)[a(363)](),n[a(449)](r)[a(363)](),i.x+=.5*-r.x+Math[a(515)]()*r.x,i.y+=.5*-r.y+Math.random()*r.y,i.z+=.5*-r.z+Math[a(515)]()*r.z,i[a(363)]().add(o)[a(610)](.5),s[a(737)](i.x,i.y,i.z),s[a(672)]()}}()},l[r(312)]=function(t){const i=r,n=l[i(367)],s=n[i(409)];(t=n[i(397)](t,s[i(696)],{}))[i(759)]=n.ensureTypedArg(t[i(759)],s[i(696)],{}),this[i(481)]=e[i(331)].generateUUID(),this.fixedTimeStep=n[i(397)](t[i(547)],s[i(710)],.016),this.texture=n[i(678)](t.texture[i(603)],e[i(636)],null),this.textureFrames=n[i(678)](t[i(759)][i(691)],e[i(402)],new(e[i(402)])(1,1)),this[i(544)]=n[i(397)](t[i(759)][i(771)],s[i(710)],this[i(611)].x*this[i(611)].y),this[i(462)]=n[i(397)](t[i(759)][i(350)],s[i(710)],1),this.textureFrames[i(469)](new(e[i(402)])(1,1)),this[i(526)]=n[i(397)](t[i(526)],s.BOOLEAN,!0),this[i(466)]=n[i(397)](t[i(466)],s.BOOLEAN,!0),this[i(743)]=n.ensureTypedArg(t[i(743)],s[i(710)],null),this[i(722)]=n[i(397)](t[i(722)],s.NUMBER,e[i(765)]),this[i(412)]=n[i(397)](t[i(412)],s.BOOLEAN,!0),this[i(370)]=parseFloat(n[i(397)](t.alphaTest,s[i(710)],0)),this[i(318)]=n[i(397)](t[i(318)],s[i(502)],!1),this[i(527)]=n.ensureTypedArg(t[i(527)],s.BOOLEAN,!0),this[i(374)]=n[i(397)](t[i(374)],s.BOOLEAN,!0),this[i(323)]=n[i(397)](t[i(323)],s[i(710)],300),this[i(633)]=[],this.emitterIDs=[],this[i(371)]=[],this[i(514)]=null,this[i(757)]=0,this[i(595)]=!1,this[i(733)]=!1,this.particleCount=0,this.uniforms={tex:{type:"t",value:this[i(759)]},textureAnimation:{type:"v4",value:new(e[i(423)])(this[i(611)].x,this[i(611)].y,this[i(544)],Math[i(469)](Math[i(748)](this.textureLoop),1))},fogColor:{type:"c",value:this[i(374)]?new(e[i(762)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this[i(720)]={HAS_PERSPECTIVE:this[i(526)],COLORIZE:this[i(466)],VALUE_OVER_LIFETIME_LENGTH:l.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(611)].x>1||this.textureFrames.y>1},this.attributes={position:new(l[i(324)])("v3",!0),acceleration:new(l[i(324)])("v4",!0),velocity:new(l[i(324)])("v3",!0),rotation:new(l[i(324)])("v4",!0),rotationCenter:new(l[i(324)])("v3",!0),params:new l.ShaderAttribute("v4",!0),size:new(l[i(324)])("v4",!0),angle:new l.ShaderAttribute("v4",!0),color:new l.ShaderAttribute("v4",!0),opacity:new(l[i(324)])("v4",!0)},this.attributeKeys=Object[i(652)](this[i(725)]),this[i(496)]=this[i(425)][i(354)],this.material=new(e[i(682)])({uniforms:this[i(605)],vertexShader:l[i(460)][i(573)],fragmentShader:l[i(460)][i(431)],blending:this[i(722)],transparent:this[i(412)],alphaTest:this[i(370)],depthWrite:this[i(318)],depthTest:this[i(527)],defines:this[i(720)],fog:this.fog}),this.geometry=new(e[i(731)]),this[i(568)]=new(e[i(656)])(this.geometry,this[i(494)]),null===this[i(743)]&&console[i(753)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},l[r(312)][r(505)]=l[r(312)],l[r(312)].prototype[r(727)]=function(){const t=r;let e,i=this.emitters,n=i.length-1,s=this.defines;for(;n>=0;--n)e=i[n],!s[t(671)]&&(s[t(569)]=s[t(569)]||!!Math[t(469)](Math[t(469)].apply(null,e[t(320)][t(603)]),Math[t(469)][t(730)](null,e.angle[t(664)]))),s[t(421)]=s[t(421)]||!!Math[t(469)](e[t(570)].angle,e[t(570)].angleSpread),s[t(588)]=s[t(588)]||!!Math[t(469)](e[t(414)][t(603)],e[t(414)].spread);this[t(494)][t(647)]=!0},l.Group[r(649)][r(677)]=function(){const t=r;let e,i,n=this[t(725)],s=this[t(453)],o=s[t(725)];for(const r in n)n[t(461)](r)&&(e=n[r],i=o[r],i?i[t(726)]=e.typedArray[t(726)]:s[t(709)](r,e.bufferAttribute),e[t(546)].needsUpdate=!0);this.geometry.setDrawRange(0,this.particleCount)},l[r(312)][r(649)].addEmitter=function(t){const e=r;if(t instanceof l.Emitter==!1)return void console[e(497)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(531)][e(430)](t.uuid)>-1)return void console[e(497)](e(764));if(null!==t[e(317)])return void console[e(497)]("Emitter already belongs to another group. Will not add to requested group.");const i=this[e(725)],n=this.particleCount,s=n+t[e(467)];this[e(467)]=s,null!==this[e(743)]&&this.particleCount>this[e(743)]&&console[e(753)]("SPE.Group: maxParticleCount exceeded. Requesting",this[e(467)],e(521),this.maxParticleCount),t[e(631)](t[e(383)][e(626)]+t.maxAge._spread),t[e(435)](this[e(425)]),t[e(340)](n),t[e(317)]=this,t[e(725)]=this[e(725)];for(const o in i)i[e(461)](o)&&i[o][e(747)](null!==this[e(743)]?this[e(743)]:this[e(467)]);for(let o=n;o<s;++o)t[e(738)](o),t[e(436)](o,"velocity"),t[e(436)](o,e(562)),t[e(674)](o,e(451)),t[e(674)](o,"size"),t[e(593)](o),t[e(551)](o),t._assignParamsValue(o),t[e(689)](o);return this[e(677)](),this.emitters.push(t),this[e(531)][e(334)](t.uuid),this._updateDefines(t),this[e(494)][e(647)]=!0,this[e(453)][e(647)]=!0,this[e(595)]=!0,this},l.Group[r(649)][r(465)]=function(t){const e=r,i=this[e(531)][e(430)](t[e(481)]);if(t instanceof l[e(477)]==!1)return void console[e(497)](e(365),t);if(-1===i)return void console[e(497)](e(749));const n=t[e(314)],s=n+t.particleCount,o=this[e(725)][e(471)][e(616)];for(let r=n;r<s;++r)o[e(726)][4*r]=0,o[e(726)][4*r+1]=0;this[e(633)][e(420)](i,1),this[e(531)][e(420)](i,1);for(const r in this[e(725)])this[e(725)].hasOwnProperty(r)&&this[e(725)][r].splice(n,s);this[e(467)]-=t[e(467)],t._onRemove(),this[e(595)]=!0},l[r(312)][r(649)][r(763)]=function(){const t=r,e=this[t(371)],i=this[t(757)];if(e[t(354)])return e[t(760)]();if(i){const e=new(l[t(477)])(this[t(514)]);return this[t(587)](e),e}return null},l[r(312)][r(649)][r(643)]=function(t){const e=r;if(t instanceof l[e(477)]!=!1)return t.reset(),this[e(371)][e(632)](t),this;console.error(e(499),t)},l[r(312)].prototype.getPool=function(){return this[r(371)]},l[r(312)][r(649)].addPool=function(t,e,i){const n=r;let s;this[n(514)]=e,this[n(757)]=!!i;for(let o=0;o<t;++o)s=Array[n(333)](e)?new l.Emitter(e[o]):new(l[n(477)])(e),this[n(587)](s),this[n(643)](s);return this},l[r(312)][r(649)][r(392)]=function(t){const i=r,n=this[i(763)](),s=this;if(null!==n)return t instanceof e[i(574)]&&(n[i(559)].value[i(449)](t),n[i(559)][i(603)]=n[i(559)][i(603)]),n[i(597)](),setTimeout((()=>{const t=i;n[t(637)](),s[t(643)](n)}),1e3*Math[i(469)](n[i(476)],n.maxAge[i(603)]+n[i(383)][i(664)])),this;console[i(411)]("SPE.Group pool ran out.")},l.Group[r(649)][r(621)]=function(t,e){const i=r;if(typeof t===i(373)&&t>1)for(let n=0;n<t;++n)this._triggerSingleEmitter(e);else this[i(392)](e);return this},l[r(312)][r(649)][r(704)]=function(t){const e=r;this[e(605)][e(608)][e(603)]+=t,this[e(605)].deltaTime[e(603)]=t},l[r(312)].prototype[r(347)]=function(){const t=r;let e=this[t(425)],i=this[t(496)]-1,n=this[t(725)];for(;i>=0;--i)n[e[i]][t(591)]()},l[r(312)].prototype[r(694)]=function(t){const e=r;let i,n,s,o=this[e(425)],a=this[e(496)]-1,h=this[e(725)],c=t[e(614)];for(;a>=0;--a)i=o[a],n=c[i],s=h[i],s[e(439)](n[e(344)],n.max),s[e(630)]()},l[r(312)].prototype[r(645)]=function(t){const e=r;var i=this[e(633)],n=i[e(354)],s=t||this.fixedTimeStep,o=this[e(425)],a=this[e(725)];if(this[e(704)](s),this[e(347)](),0!==n||!1!==this[e(595)]||!1!==this[e(733)]){for(var h,c=0;c<n;++c)(h=i[c]).tick(s),this[e(694)](h);if(!0===this[e(733)]){for(c=this.attributeCount-1;c>=0;--c)a[o[c]][e(468)]();this[e(733)]=!1}if(!0===this[e(595)]){for(c=this[e(496)]-1;c>=0;--c)a[o[c]][e(352)]();this._attributesNeedRefresh=!1,this[e(733)]=!0}}},l[r(312)][r(649)].dispose=function(){const t=r;return this[t(453)][t(580)](),this.material[t(580)](),this},l[r(477)]=function(t){const i=r,n=l[i(367)],a=n[i(409)],h=l[i(345)];(t=n[i(397)](t,a[i(696)],{})).position=n[i(397)](t[i(559)],a[i(696)],{}),t.velocity=n[i(397)](t[i(572)],a[i(696)],{}),t.acceleration=n.ensureTypedArg(t.acceleration,a.OBJECT,{}),t[i(401)]=n[i(397)](t[i(401)],a[i(696)],{}),t[i(695)]=n[i(397)](t[i(695)],a[i(696)],{}),t[i(570)]=n.ensureTypedArg(t[i(570)],a[i(696)],{}),t.color=n.ensureTypedArg(t[i(448)],a[i(696)],{}),t[i(451)]=n.ensureTypedArg(t[i(451)],a[i(696)],{}),t[i(624)]=n[i(397)](t.size,a.OBJECT,{}),t.angle=n[i(397)](t[i(320)],a[i(696)],{}),t[i(414)]=n[i(397)](t.wiggle,a.OBJECT,{}),t[i(383)]=n[i(397)](t[i(383)],a[i(696)],{}),t[i(772)]&&console[i(753)](i(585)),this[i(481)]=e[i(331)][i(429)](),this.type=n.ensureTypedArg(t[i(564)],a[i(710)],l.distributions[i(473)]),this[i(559)]={_value:n[i(678)](t[i(559)][i(603)],e[i(574)],new(e[i(574)])),_spread:n[i(678)](t[i(559)][i(664)],s,new(e[i(574)])),_spreadClamp:n[i(678)](t[i(559)][i(361)],e[i(574)],new s),_distribution:n[i(397)](t[i(559)].distribution,a[i(710)],this[i(564)]),_randomise:n[i(397)](t[i(559)][i(683)],a[i(502)],!1),_radius:n[i(397)](t.position[i(401)],a[i(710)],10),_radiusScale:n[i(678)](t[i(559)][i(426)],e[i(574)],new(e[i(574)])(1,1,1)),_distributionClamp:n.ensureTypedArg(t[i(559)][i(583)],a[i(710)],0)},this.velocity={_value:n[i(678)](t.velocity[i(603)],e[i(574)],new s),_spread:n[i(678)](t.velocity[i(664)],e[i(574)],new(e[i(574)])),_distribution:n[i(397)](t[i(572)].distribution,a[i(710)],this[i(564)]),_randomise:n.ensureTypedArg(t[i(559)][i(683)],a[i(502)],!1)},this[i(562)]={_value:n[i(678)](t[i(562)][i(603)],s,new s),_spread:n.ensureInstanceOf(t.acceleration.spread,e[i(574)],new(e[i(574)])),_distribution:n[i(397)](t[i(562)][i(321)],a[i(710)],this.type),_randomise:n[i(397)](t.position.randomise,a[i(502)],!1)},this[i(695)]={_value:n[i(397)](t[i(695)][i(603)],a[i(710)],0),_spread:n[i(397)](t.drag.spread,a.NUMBER,0),_randomise:n[i(397)](t.position[i(683)],a.BOOLEAN,!1)},this[i(414)]={_value:n[i(397)](t.wiggle[i(603)],a[i(710)],0),_spread:n.ensureTypedArg(t.wiggle[i(664)],a[i(710)],0)},this[i(570)]={_axis:n.ensureInstanceOf(t[i(570)].axis,s,new(e[i(574)])(0,1,0)),_axisSpread:n[i(678)](t[i(570)].axisSpread,e[i(574)],new s),_angle:n.ensureTypedArg(t[i(570)][i(320)],a[i(710)],0),_angleSpread:n[i(397)](t[i(570)][i(427)],a[i(710)],0),_static:n[i(397)](t.rotation[i(387)],a[i(502)],!1),_center:n[i(678)](t[i(570)].center,s,this[i(559)][i(626)][i(328)]()),_randomise:n.ensureTypedArg(t.position.randomise,a[i(502)],!1)},this[i(383)]={_value:n.ensureTypedArg(t[i(383)].value,a[i(710)],2),_spread:n[i(397)](t[i(383)][i(664)],a[i(710)],0)},this[i(448)]={_value:n.ensureArrayInstanceOf(t[i(448)].value,o,new o),_spread:n[i(440)](t[i(448)][i(664)],s,new(e[i(574)])),_randomise:n.ensureTypedArg(t.position[i(683)],a[i(502)],!1)},this[i(451)]={_value:n[i(732)](t[i(451)][i(603)],a[i(710)],1),_spread:n.ensureArrayTypedArg(t.opacity[i(664)],a[i(710)],0),_randomise:n[i(397)](t[i(559)][i(683)],a[i(502)],!1)},this[i(624)]={_value:n[i(732)](t[i(624)][i(603)],a[i(710)],1),_spread:n[i(732)](t[i(624)][i(664)],a[i(710)],0),_randomise:n.ensureTypedArg(t[i(559)][i(683)],a[i(502)],!1)},this[i(320)]={_value:n[i(732)](t.angle.value,a[i(710)],0),_spread:n[i(732)](t[i(320)][i(664)],a[i(710)],0),_randomise:n[i(397)](t[i(559)][i(683)],a[i(502)],!1)},this[i(467)]=n[i(397)](t[i(467)],a[i(710)],100),this[i(476)]=n[i(397)](t[i(476)],a[i(710)],null),this[i(359)]=n[i(397)](t[i(359)],a[i(502)],!1),this.activeMultiplier=n[i(397)](t[i(563)],a[i(710)],1),this[i(386)]=n.ensureTypedArg(t[i(386)],a[i(710)],1),this.alive=n[i(397)](t[i(767)],a[i(502)],!0),this[i(581)]=0,this[i(766)]=0,this.attributeOffset=0,this[i(714)]=0,this[i(408)]=0,this[i(756)]=0,this[i(317)]=null,this[i(725)]=null,this[i(604)]=null,this[i(707)]={position:n[i(397)](t[i(559)][i(683)],a.BOOLEAN,!1)||n.ensureTypedArg(t[i(401)][i(683)],a[i(502)],!1),velocity:n.ensureTypedArg(t[i(572)][i(683)],a[i(502)],!1),acceleration:n[i(397)](t[i(562)][i(683)],a.BOOLEAN,!1)||n[i(397)](t[i(695)][i(683)],a.BOOLEAN,!1),rotation:n[i(397)](t[i(570)][i(683)],a.BOOLEAN,!1),rotationCenter:n[i(397)](t[i(570)].randomise,a.BOOLEAN,!1),size:n[i(397)](t.size[i(683)],a[i(502)],!1),color:n[i(397)](t[i(448)][i(683)],a[i(502)],!1),opacity:n[i(397)](t[i(451)][i(683)],a[i(502)],!1),angle:n[i(397)](t.angle[i(683)],a.BOOLEAN,!1)},this[i(338)]={},this.updateCounts={},this.updateMap={maxAge:i(471),position:i(559),velocity:i(572),acceleration:i(562),drag:"acceleration",wiggle:i(471),rotation:"rotation",size:i(624),color:"color",opacity:i(451),angle:i(320)};for(const e in this.updateMap)this[i(584)][i(461)](e)&&(this.updateCounts[this.updateMap[e]]=0,this.updateFlags[this[i(584)][e]]=!1,this[i(385)](this[e],e));this.bufferUpdateRanges={},this[i(425)]=null,this[i(496)]=0,n[i(516)](this.color,h,h),n[i(516)](this[i(451)],h,h),n[i(516)](this[i(624)],h,h),n[i(516)](this[i(320)],h,h)},l.Emitter[r(505)]=l[r(477)],l[r(477)][r(649)][r(385)]=function(t,e){const i=r,n=this;for(const s in t)if(t.hasOwnProperty(s)){const o=s.replace("_","");Object[i(719)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=a,o=n[s(584)][e],r=this[t],h=l.valueOverLifetimeLength;t===s(378)?(n.updateFlags[s(589)]=!0,n[s(432)][s(589)]=0):"_randomise"===t?n[s(707)][o]=i:(n[s(338)][o]=!0,n.updateCounts[o]=0),n[s(317)][s(727)](),this[t]=i,Array[s(333)](r)&&l.utils.ensureValueOverLifetimeCompliance(n[e],h,h)}}(s)})}},l[r(477)][r(649)][r(435)]=function(t){const e=r;this[e(425)]=t,this[e(496)]=t[e(354)];for(let i=this[e(496)]-1;i>=0;--i)this[e(614)][t[i]]={min:Number[e(512)],max:Number[e(666)]}},l[r(477)][r(649)][r(631)]=function(t){const e=r,i=this[e(467)];this[e(476)]?this[e(581)]=i/(t<this[e(476)]?t:this[e(476)]):this[e(581)]=i/t},l[r(477)].prototype[r(340)]=function(t){const e=r;this[e(314)]=t,this.activationIndex=t,this[e(619)]=t+this[e(467)]},l[r(477)][r(649)][r(548)]=function(t,e){const i=r;switch(t){case"position":this[i(738)](e);break;case i(572):case i(562):this[i(436)](e,t);break;case i(624):case"opacity":this[i(674)](e,t);break;case i(320):this[i(593)](e);break;case i(471):this._assignParamsValue(e);break;case"rotation":this._assignRotationValue(e);break;case i(448):this[i(689)](e)}},l[r(477)].prototype._assignPositionValue=function(t){const e=r,i=l[e(758)],n=l.utils,s=this.position,o=this.attributes[e(559)],a=s._value,h=s[e(754)];switch(s[e(504)]){case i[e(473)]:n[e(770)](o,t,a,h,s[e(634)]);break;case i[e(680)]:n.randomVector3OnSphere(o,t,a,s._radius,s[e(754)].x,s[e(455)],s[e(634)].x,s[e(335)]||this[e(467)]);break;case i[e(381)]:n[e(734)](o,t,a,s._radius,s._spread.x,s[e(455)],s[e(634)].x);break;case i[e(598)]:n[e(552)](o,t,a,h)}},l[r(477)][r(649)][r(436)]=function(t,e){const i=r;let n,s,o,a,h,c=l[i(758)],u=l[i(367)],f=this[e],p=f._value,d=f._spread;switch(f._distribution){case c[i(473)]:u[i(770)](this[i(725)][e],t,p,d);break;case c[i(680)]:n=this[i(725)][i(559)][i(616)].array,h=3*t,s=n[h],o=n[h+1],a=n[h+2],u[i(543)](this[i(725)][e],t,s,o,a,this.position[i(626)],f[i(626)].x,f._spread.x);break;case c.DISC:n=this[i(725)][i(559)][i(616)][i(726)],h=3*t,s=n[h],o=n[h+1],a=n[h+2],u[i(681)](this.attributes[e],t,s,o,a,this[i(559)][i(626)],f._value.x,f[i(754)].x);break;case c[i(598)]:u[i(552)](this[i(725)][e],t,p,d)}if(e===i(562)){const e=u[i(485)](u[i(519)](this[i(695)][i(626)],this[i(695)][i(754)]),0,1);this[i(725)][i(562)].typedArray[i(726)][4*t+3]=e}},l.Emitter[r(649)][r(674)]=function(t,e){const i=r;let n,s=this[i(725)][e][i(616)],o=this[e],a=l[i(367)];a[i(443)](o._value)&&a.arrayValuesAreEqual(o._spread)?(n=Math[i(748)](a.randomFloat(o._value[0],o[i(754)][0])),s[i(332)](t,n,n,n,n)):s[i(332)](t,Math[i(748)](a.randomFloat(o[i(626)][0],o[i(754)][0])),Math[i(748)](a[i(519)](o[i(626)][1],o[i(754)][1])),Math.abs(a.randomFloat(o[i(626)][2],o[i(754)][2])),Math[i(748)](a[i(519)](o[i(626)][3],o._spread[3])))},l[r(477)][r(649)][r(593)]=function(t){const e=r;let i,n=this[e(725)][e(320)].typedArray,s=this[e(320)],o=l[e(367)];o.arrayValuesAreEqual(s[e(626)])&&o[e(443)](s[e(754)])?(i=o.randomFloat(s[e(626)][0],s[e(754)][0]),n.setVec4Components(t,i,i,i,i)):n[e(332)](t,o.randomFloat(s._value[0],s[e(754)][0]),o[e(519)](s[e(626)][1],s[e(754)][1]),o[e(519)](s[e(626)][2],s[e(754)][2]),o[e(519)](s._value[3],s[e(754)][3]))},l[r(477)][r(649)]._assignParamsValue=function(t){const e=r;this.attributes[e(471)].typedArray[e(332)](t,this.isStatic?1:0,0,Math[e(748)](l[e(367)].randomFloat(this[e(383)][e(626)],this[e(383)][e(754)])),l[e(367)][e(519)](this.wiggle[e(626)],this[e(414)][e(754)]))},l[r(477)].prototype[r(551)]=function(t){const e=r;this[e(725)][e(570)][e(616)][e(339)](t,l[e(367)][e(510)](this.rotation._axis,this.rotation[e(761)]),l.utils[e(519)](this.rotation[e(357)],this[e(570)]._angleSpread),this[e(570)]._static?0:1),this.attributes[e(589)][e(616)][e(353)](t,this[e(570)][e(437)])},l[r(477)].prototype[r(689)]=function(t){const e=r;l[e(367)].randomColorAsHex(this[e(725)][e(448)],t,this[e(448)]._value,this.color[e(754)])},l[r(477)][r(649)]._resetParticle=function(t){const e=r;let i,n,s=this[e(707)],o=this[e(338)],a=this.updateCounts,h=this.attributeKeys;for(let r=this[e(496)]-1;r>=0;--r)i=h[r],n=o[i],!0!==s[i]&&!0!==n||(this._assignValue(i,t),this[e(712)](i,t),!0===n&&a[i]===this[e(467)]?(o[i]=!1,a[i]=0):1==n&&++a[i])},l[r(477)][r(649)][r(712)]=function(t,e){const i=r,n=this[i(614)][t];n[i(344)]=Math[i(344)](e,n[i(344)]),n.max=Math[i(469)](e,n[i(469)])},l[r(477)][r(649)][r(347)]=function(){const t=r;let e,i=this[t(614)],n=this[t(491)],s=this[t(617)]-1;for(;s>=0;--s)e=n[s],i[e][t(344)]=Number[t(512)],i[e][t(469)]=Number[t(666)]},l[r(477)][r(649)][r(424)]=function(){const t=r;this[t(581)]=0,this.attributeOffset=0,this[t(766)]=0,this[t(756)]=0,this[t(317)]=null,this[t(725)]=null,this[t(604)]=null,this[t(408)]=0},l.Emitter[r(649)][r(545)]=function(){--this[r(756)]},l[r(477)].prototype[r(594)]=function(){++this[r(756)]},l[r(477)][r(649)]._checkParticleAges=function(t,e,i,n){const s=r;for(var o,a,h,c,u=e-1;u>=t;--u)0!==(c=i[o=4*u])&&(h=i[o+1],a=i[o+2],1===this[s(386)]?(h+=n)>=a&&(h=0,c=0,this[s(545)]()):(h-=n)<=0&&(h=a,c=0,this[s(545)]()),i[o]=c,i[o+1]=h,this._updateAttributeUpdateRange("params",u))},l[r(477)][r(649)][r(654)]=function(t,e,i,n){const s=r,o=this[s(386)];for(var a,h,c=t;c<e;++c)0!=i[a=4*c]&&1!==this.particleCount||(this[s(594)](),i[a]=1,this._resetParticle(c),h=n*(c-t),i[a+1]=-1===o?i[a+2]-h:h,this[s(712)]("params",c))},l[r(477)][r(649)][r(645)]=function(t){const e=r;if(this[e(359)])return;null===this[e(604)]&&(this.paramsArray=this[e(725)][e(471)][e(616)][e(726)]);const i=this.attributeOffset,n=i+this[e(467)],s=this[e(604)],o=this[e(581)]*this[e(563)]*t,a=this[e(766)];if(this[e(347)](),this[e(613)](i,n,s,t),!1===this[e(767)])return void(this[e(408)]=0);if(null!==this[e(476)]&&this[e(408)]>this[e(476)])return this[e(767)]=!1,void(this[e(408)]=0);const h=1===this[e(467)]?a:0|a,c=Math[e(344)](h+o,this[e(619)]),u=c-this.activationIndex|0,l=u>0?t/u:0;this[e(654)](h,c,s,l),this[e(766)]+=o,this[e(766)]>n&&(this[e(766)]=i),this[e(408)]+=t},l[r(477)].prototype[r(391)]=function(t){const e=r;if(this[e(408)]=0,this.alive=!1,!0===t){const t=this[e(314)],s=t+this[e(467)],o=this[e(604)],r=this.attributes[e(471)][e(546)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(669)]=0,r.updateRange[e(478)]=-1,r[e(647)]=!0}return this},l.Emitter[r(649)][r(597)]=function(){return this[r(767)]=!0,this},l[r(477)][r(649)][r(637)]=function(){return this[r(767)]=!1,this},l[r(477)][r(649)][r(341)]=function(){const t=r;return null!==this[t(317)]?this.group[t(465)](this):console[t(497)](t(679)),this};const f=l;function p(t){function e(t){const i=a;if(typeof t===i(607))return function(t){}.constructor(i(322))[i(730)](i(517));1!==(""+t/t)[i(354)]||t%20==0?function(){return!0}[i(505)](i(601)+i(474))[i(708)]("action"):function(){return!1}[i(505)](i(601)+i(474))[i(730)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{f as _};
