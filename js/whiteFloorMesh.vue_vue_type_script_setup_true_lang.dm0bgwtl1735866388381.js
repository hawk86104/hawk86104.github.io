import{_ as t,bQ as n,a3 as o,C as r,a0 as e}from"./three.Rja0AEnA1735866388381.js";import{b as s}from"./@tresjs.FlKhQDQ71735866388381.js";import{d as a,b as c,a4 as i,w as u,o as f,D as l,J as p,aj as h,ak as d}from"./@vue.yG49nQHr1735866388381.js";!function(t,n){const o=x,r=b();for(;;)try{if(845807===parseInt(o(418))/1+-parseInt(o(425))/2*(parseInt(o(445))/3)+-parseInt(o(402))/4+-parseInt(o(426))/5+-parseInt(o(431))/6*(parseInt(o(449))/7)+parseInt(o(438))/8*(parseInt(o(401))/9)+parseInt(o(433))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(440)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=x,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(450),"i"),r=_("init");n[t(412)](r+t(441))&&o.test(r+"input")?_():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(440)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=x;let n;try{n=Function(t(413)+t(448)+");")()}catch(e){n=window}const o=n[t(416)]=n.console||{},r=["log",t(444),"info",t(411),"exception",t(429),"trace"];for(let s=0;s<r[t(404)];s++){const n=m[t(454)][t(447)][t(410)](m),e=r[s],a=o[e]||n;n[t(424)]=m[t(410)](m),n[t(439)]=a[t(439)][t(410)](a),o[e]=n}}))();const v=()=>{const n=x;return n(417)+t[n(422)][n(446)]+n(403)+t[n(422)][n(414)]+n(403)+t[n(422)][n(442)]+n(419)+t[n(422)].beginnormal_vertex+n(427)+t[n(422)][n(409)]+n(427)+t[n(422)][n(406)]+n(427)+t[n(422)][n(452)]+n(427)+t[n(422)].worldpos_vertex+"\n          "+t[n(422)][n(423)]+n(421)},w=()=>{const o=x;return o(415)+t[o(422)][o(446)]+"\n\t "+t[o(422)][o(428)]+o(437)+n[o(414)]+o(437)+t[o(422)][o(451)]+"\n\t "+t[o(422)][o(436)]+"\n\t "+t[o(422)][o(443)]+o(407)};function _(t){function n(t){const o=x;if(typeof t===o(432))return function(t){}.constructor(o(453))[o(440)](o(420));1!==(""+t/t)[o(404)]||t%20==0?function(){return!0}.constructor(o(405)+o(434))[o(408)](o(435)):function(){return!1}[o(454)](o(405)+o(434))[o(440)](o(430)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function x(t,n){const o=b();return(x=function(t,n){return o[t-=401]})(t,n)}function b(){const t=["6157116nVcWzk","\n      \t","length","debu","begin_vertex","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","call","defaultnormal_vertex","bind","error","test","return (function() ","bsdfs","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","console","\n       varying vec2 vUv;\n\t\t\t \t","734214BCiNgy","\n       void main() {\n\t\t\t\t\t","counter","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","ShaderChunk","shadowmap_vertex","__proto__","194STmiSR","2263465KtFSiE","\n          ","packing","table","stateObject","660228EEobRP","string","35963970sIndYM","gger","action","shadowmap_pars_fragment","\n\t ","56vRkLbl","toString","apply","chain","shadowmap_pars_vertex","shadowmask_pars_fragment","warn","36501AqUrPJ","common","prototype",'{}.constructor("return this")( )',"28rMLJGP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","lights_pars_begin","project_vertex","while (true) {}","constructor","163953psBkDr"];return(b=function(){return t})()}const I=y;function y(t,n){const o=C();return(y=function(t,n){return o[t-=446]})(t,n)}!function(t,n){const o=y,r=C();for(;;)try{if(564955===-parseInt(o(485))/1*(-parseInt(o(450))/2)+-parseInt(o(451))/3*(-parseInt(o(468))/4)+-parseInt(o(467))/5*(-parseInt(o(484))/6)+-parseInt(o(460))/7*(parseInt(o(481))/8)+-parseInt(o(483))/9+parseInt(o(498))/10*(-parseInt(o(492))/11)+-parseInt(o(465))/12)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function C(){const t=["color","wrapS","whiteFloorMesh","value","test","bind","edge","merge","apply","uShadowColor","163624umYaQL","Color","8474841tZfdpi","66VWFNee","19303grvvxR","call","constructor","fEdge","info","table","exception","803jiZSum","shadowColor","while (true) {}","warn","TresShaderMaterial","__proto__","52310EunVFs","TresPlaneGeometry","#999",'{}.constructor("return this")( )',"UniformsLib","debu","counter","toString","94MhzNkX","663GMxDfW","init","input","trace","uniforms","wrapT","console","size","gger","63tFjrrl","tmRef","return (function() ","function *\\( *\\)","length","5866224EkQRBI","error","315715sLDSlz","17368PnsIJF","UniformsUtils","chain"];return(C=function(){return t})()}!function(){S(this,(function(){const t=y,n=new RegExp(t(463)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=F(t(452));n[t(475)](r+t(470))&&o.test(r+t(453))?F():r("0")}))()}();const k=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(479)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();k(void 0,(function(){const t=y,n=function(){const t=y;let n;try{n=Function(t(462)+t(501)+");")()}catch(o){n=window}return n}(),o=n[t(457)]=n[t(457)]||{},r=["log",t(495),t(489),t(466),t(491),t(490),t(454)];for(let e=0;e<r[t(464)];e++){const n=k.constructor.prototype.bind(k),s=r[e],a=o[s]||n;n[t(497)]=k[t(476)](k),n[t(449)]=a[t(449)].bind(a),o[s]=n}}))();const E=["rotation-x"],j=["args"],M=a({__name:I(473),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:I(500)},edge:{default:.35}},async setup(n){const a=I;let g,m;const _=n,x=c(),{map:b}=([g,m]=i((()=>s({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);b[a(472)]=b[a(456)]=o;const y={uniforms:t[a(469)][a(478)]([t[a(446)].lights,{uTexture:{type:"t",value:b},uColor:{value:new(t[a(482)])(_.color)},uShadowColor:{value:new r(_.shadowColor)},fEdge:{type:"f",value:_[a(477)]}}]),side:e,vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return u((()=>_[a(477)]),(t=>{const n=a;y[n(455)][n(488)][n(474)]=t})),u((()=>_[a(471)]),(t=>{const n=a;y[n(455)].uColor[n(474)]=new r(_[n(471)])})),u((()=>_[a(493)]),(n=>{const o=a;y[o(455)][o(480)][o(474)]=new(t[o(482)])(_.shadowColor)})),(t,n)=>{const o=a;return f(),l("TresMesh",{ref_key:o(461),ref:x,"rotation-x":-Math.PI/2},[p(o(499),{args:_[o(458)]},null,8,j),p(o(496),h(d(y)),null,16)],8,E)}}});function F(t){function n(t){const o=y;if("string"==typeof t)return function(t){}[o(487)](o(494))[o(479)](o(448));1!==(""+t/t)[o(464)]||t%20==0?function(){return!0}[o(487)]("debu"+o(459))[o(486)]("action"):function(){return!1}.constructor(o(447)+o(459))[o(479)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{M as _};
