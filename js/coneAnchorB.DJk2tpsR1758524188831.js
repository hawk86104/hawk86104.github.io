import{P as e}from"./tweakpane.C0HtAJSg1758524188831.js";import"./vanilla.esm.5.5.0.UWCjMdOF1758524188831.js";import"./SPE.DXumTiR41758524188831.js";import"./@fesjs.C0vFiD6Z1758524188831.js";import"./HeightCorrection.Bq98L9tL1758524188831.js";import"./three-custom-shader-material.BNfPN_sa1758524188831.js";import{e as o,k as r,b as t}from"./@tresjs.BL1sBIDK1758524188831.js";import{d as a,aa as s,w as l,b as i,G as n,o as p,I as f,u as d,r as m,e as h,f as c,a5 as u,j as g,m as j}from"./@vue.pEDXJ_3Z1758524188831.js";import{aP as C}from"./three.CC50Wz7a1758524188831.js";import{b}from"./pagesShow.vue_vue_type_script_setup_true_lang.B8JOcE9w1758524188831.js";import"./object-hash.COWhg4aZ1758524188831.js";import"./@amap.CGUF9xH41758524188831.js";import"./jszip.BzP0QdiD1758524188831.js";import"./vue-router.DFx_OtVs1758524188831.js";import"./lodash-es.C7pWAXPe1758524188831.js";import"./pinia.DVrvLNCY1758524188831.js";import"./@qlin.q6OWdsQV1758524188831.js";import"./@babel.BPq7uOAK1758524188831.js";import"./@floating-ui.BFjFSAYt1758524188831.js";import"./@juggle.CcBCnTIR1758524188831.js";import"./postprocessing.DYlQqnRh1758524188831.js";import"./@vueuse.C-O_6is-1758524188831.js";import"./buildingsCustomShaderMaterial.DyBo--wu1758524188831.js";const S=["rotateX"],T=["object"],_=["args"],w=["color","depthTest","map"],y=a({__name:"coneAnchorMeshB",props:{anchorColor:{default:"#b0ffff"},rotateSpeed:{default:.05},depthTest:{type:Boolean,default:!0},floorSize:{default:12},floorColor:{default:"#b0ffff"},floorSpeed:{default:.6}},async setup(e){let a,m;const h=e,{scene:c}=([a,m]=s((()=>r("./plugins/digitalCity/model/coneAnchorB.glb",{draco:!0,decoderPath:"./draco/"}))),a=await a,m(),a),u=c.clone(),g=u.children[0].material.clone();g.color.set(h.anchorColor),g.metalness=0,g.roughness=.5,g.transparent=!0,g.opacity=1,g.depthTest=h.depthTest,u.children[0].renderOrder=0,u.children[0].material=g;const{map:j}=([a,m]=s((()=>t({map:"./plugins/digitalCity/image/waveCircle.png"}))),a=await a,m(),a),{width:b,height:y}=j.image;j.wrapS=j.wrapT=C,j.repeat.set(1/(b/y),1),l((()=>[h.anchorColor,h.depthTest]),(([e,o])=>{g.color.set(e),g.depthTest=o}));const B=i(null),{onLoop:v}=o();let x=0;return v((()=>{B.value?.children[0].rotateZ(h.rotateSpeed),j&&(x+=h.floorSpeed,j.offset.x=Math.floor(x)/(j.image.width/j.image.height))})),(e,o)=>(p(),n("TresGroup",null,[f("TresGroup",{rotateX:-Math.PI/2,ref_key:"coneGroup",ref:B},[f("primitive",{object:d(u)},null,8,T),f("TresMesh",null,[f("TresCircleGeometry",{args:[e.floorSize,32]},null,8,_),f("TresMeshStandardMaterial",{color:e.floorColor,metalness:0,roughness:.6,transparent:"",opacity:.8,depthTest:h.depthTest,depthWrite:!1,map:d(j)},null,8,w)])],8,S)]))}}),B=a({__name:"coneAnchorB",setup(o){const r=new e({expanded:!0}),t=m({anchorColor:"#0059ff",rotateSpeed:.05,floorSize:12,floorColor:"#0059ff",floorSpeed:.6,depthTest:!0});return r.addBinding(t,"anchorColor",{label:"浮标颜色"}),r.addBinding(t,"rotateSpeed",{label:"旋转速度",min:-.2,max:.2,step:.001}),r.addBinding(t,"floorColor",{label:"波浪颜色"}),r.addBinding(t,"floorSize",{label:"波浪大小",min:.1,max:20,step:.1}),r.addBinding(t,"floorSpeed",{label:"波浪速度",min:-2,max:3,step:.1}),r.addBinding(t,"depthTest",{label:"是否遮挡"}),(e,o)=>(p(),h(b,{ref:"pagesShowRef"},{ability:c((()=>[(p(),h(u,null,{default:c((()=>[g(d(y),j({position:[60,19,0],scale:6},t),null,16)])),_:1})),(p(),h(u,null,{default:c((()=>[g(d(y),{position:[319,19,119],scale:3,anchorColor:"#ffffff",floorColor:"#ffffff",depthTest:!1})])),_:1})),(p(),h(u,null,{default:c((()=>[g(d(y),{position:[-319,19,619],scale:5,anchorColor:"#ff0000",floorColor:"#ffff00"})])),_:1})),(p(),h(u,null,{default:c((()=>[g(d(y),{position:[-319,19,-619],scale:8,anchorColor:"#ffff00",floorColor:"#ffff00"})])),_:1}))])),_:1},512))}});export{B as default};
