import{a as t,o as n}from"./@tresjs.nk0nhZ9a1742205305014.js";import"./index.HMyLg5t_1742205305014.js";import{P as o}from"./tweakpane.yDiyAAkA1742205305014.js";import{d as e,a3 as r,w as s,o as i,H as u,N as c,u as a,aj as l,ak as p,r as f,e as m,f as _,g,j as v,al as h,m as d}from"./@vue.NRI7TcgI1742205305014.js";import{C as j,aX as C}from"./three.LxxvsMJG1742205305014.js";import{_ as w}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.UW0Qa0NX1742205305014.js";import"./postprocessing.lrLv6HE21742205305014.js";import"./@vueuse.w6JAmAgA1742205305014.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.-Me78jqg1742205305014.js";import"./all.three.Cv1ruM2n1742205305014.js";import"./oimophysics.x0jH7fze1742205305014.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.aMiJjTNa1742205305014.js";import"./index.KoRDsF6I1742205305014.js";import"./three-stdlib.VHPWJjlE1742205305014.js";import"./@pmndrs.kWqDV5VA1742205305014.js";import"./object-hash.dbNkxbaC1742205305014.js";import"./@amap.sbhX68WO1742205305014.js";import"./jszip.SZt2c-at1742205305014.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.xautV1lQ1742205305014.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.4dws__UE1742205305014.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.GGQ2SI8f1742205305014.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.QZS-Eo2j1742205305014.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.7ipRBBx91742205305014.js";const y=b;!function(t,n){const o=b,e=z();for(;;)try{if(158755===-parseInt(o(229))/1*(-parseInt(o(248))/2)+parseInt(o(223))/3*(parseInt(o(249))/4)+parseInt(o(233))/5+parseInt(o(210))/6+parseInt(o(258))/7+parseInt(o(241))/8+parseInt(o(219))/9*(-parseInt(o(209))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){P(this,(function(){const t=b,n=new RegExp(t(250)),o=new RegExp(t(236),"i"),e=T(t(237));n[t(211)](e+t(231))&&o.test(e+"input")?T():e("0")}))()}();const I=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function b(t,n){const o=z();return(b=function(t,n){return o[t-=207]})(t,n)}function z(){const t=["push","910056JmDpZB","createElement","console","apply","customColor","182150rZmMGP","975624QNoqKP","test","height","#ff0000","exception","value","zPos","bind","__proto__","279rsRqBz","TresShaderMaterial","prototype","constructor","9DVlAiL","position","data","log","imgParticleMesh","length","2GsfnMx","TresBufferGeometry","chain","drawImage","185155PLTTaG","while (true) {}","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","useCustomColor",'{}.constructor("return this")( )',"warn","998624JpSvau","table","color_list","random","image","toString","return (function() ","250118kVpskk","25108RjyrdV","function *\\( *\\)","\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}","./logo.png","width","getImageData","info","debu"];return(z=function(){return t})()}I(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(247)+t(239)+");")()}catch(o){n=window}return n}(),o=n[t(260)]=n[t(260)]||{},e=[t(226),t(240),t(255),"error",t(214),t(242),"trace"];for(let r=0;r<e[t(228)];r++){const n=I[t(222)][t(221)][t(217)](I),s=e[r],i=o[s]||n;n[t(218)]=I.bind(I),n[t(246)]=i[t(246)][t(217)](i),o[s]=n}}))();const x={position:[-8,10,-2],scale:.02},M=[y(224),y(243)],F=e({__name:y(227),props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:y(213)}},async setup(n){const o=y;let e,f;const m=n,_=([e,f]=r((()=>t([o(252)]))),e=await e,f(),e),g=document[o(259)]("canvas"),v=_.image.width,h=_[o(245)][o(212)];g[o(253)]=v,g.height=h;const d=g.getContext("2d");null==d||d[o(232)](_.image,0,0);const w=null==d?void 0:d[o(254)](0,0,v,h)[o(225)],P=[],I=[];if(w)for(let t=0;t<h;t++)for(let n=0;n<v;n++){const e=4*(t*v+n);if(w[e+3]>0){const r=w[e]/255,s=w[e+1]/255,i=w[e+2]/255,u=100*Math[o(244)]();P[o(257)](n,-t,u),I[o(257)](r,s,i)}}const b=new Float32Array(P),z=new Float32Array(I),F={uniforms:{zPos:{value:m[o(216)]},useCustomColor:{value:m[o(238)]},customColor:{value:new j(m[o(208)])}},vertexShader:o(251),fragmentShader:"\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}",transparent:!0,depthTest:!1,blending:C};return s((()=>[m[o(216)],m[o(238)],m[o(208)]]),(([t,n,e])=>{const r=o;F.uniforms[r(216)].value=t,F.uniforms[r(238)][r(215)]=n,F.uniforms[r(208)][r(215)].set(e)})),(t,n)=>{const e=o;return i(),u("TresPoints",x,[c(e(230),{position:[a(b),3],color_list:[a(z),3]},null,8,M),c(e(220),l(p(F)),null,16)])}}});function T(t){function n(t){const o=b;if("string"==typeof t)return function(t){}.constructor(o(234))[o(207)]("counter");1!==(""+t/t)[o(228)]||t%20==0?function(){return!0}[o(222)](o(256)+"gger").call("action"):function(){return!1}[o(222)](o(256)+o(235))[o(207)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const A=S;!function(t,n){const o=S,e=G();for(;;)try{if(558159===-parseInt(o(206))/1*(-parseInt(o(203))/2)+-parseInt(o(204))/3+parseInt(o(197))/4+-parseInt(o(234))/5*(parseInt(o(195))/6)+-parseInt(o(211))/7*(-parseInt(o(207))/8)+-parseInt(o(225))/9+-parseInt(o(230))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[S(200)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){k(this,(function(){const t=S,n=new RegExp(t(201)),o=new RegExp(t(227),"i"),e=Z(t(219));n[t(221)](e+t(215))&&o[t(221)](e+t(213))?Z():e("0")}))()}();const R=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[S(200)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function S(t,n){const o=G();return(S=function(t,n){return o[t-=194]})(t,n)}function G(){const t=["addBinding","apply","function *\\( *\\)","exception","1032478AuRdPJ","1898922MxVehw","customColor","1umAoQD","190256gjbHRj","counter","TresAmbientLight","stateObject","259aInTxC","imgParticle","input","gger","chain","constructor","useCustomColor","error","init","#050505","test","__proto__","length","table","3878721tYzunF","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","toString","2189890gbwfwJ","call","console","warn","145ZEOBqF","TresCanvas","47706xpfkfW","while (true) {}","2701988jzGMze","bind"];return(G=function(){return t})()}R(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(226)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n.console=n[t(232)]||{},e=["log",t(233),"info",t(218),t(202),t(224),"trace"];for(let r=0;r<e.length;r++){const n=R[t(216)].prototype[t(198)](R),s=e[r],i=o[s]||n;n[t(222)]=R[t(198)](R),n[t(229)]=i[t(229)][t(198)](i),o[s]=n}}))();const D=e({__name:A(212),setup(t){const e=A,r={clearColor:e(220),antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},u=f({zPos:1,useCustomColor:!1,customColor:"#ff0000"}),j=new o({title:"参数"});return j[e(199)](u,"zPos",{label:"厚度",min:.5,max:10,step:.5}),j[e(199)](u,e(217),{label:"使用自定义颜色"}),j[e(199)](u,e(205),{label:"自定义颜色"}),(t,o)=>{const f=e,j=m(f(194));return i(),_(j,d(r,{"window-size":""}),{default:g((()=>[o[0]||(o[0]=c("TresPerspectiveCamera",{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),v(a(n)),o[1]||(o[1]=c(f(209),{intensity:.5},null,-1)),(i(),_(h,null,{default:g((()=>[v(F,l(p(u)),null,16)])),_:1})),(i(),_(h,null,{default:g((()=>[v(a(w),d({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function Z(t){function n(t){const o=S;if("string"==typeof t)return function(t){}[o(216)](o(196))[o(200)](o(208));1!==(""+t/t)[o(223)]||t%20==0?function(){return!0}[o(216)](o(228)+o(214))[o(231)]("action"):function(){return!1}.constructor(o(228)+"gger")[o(200)](o(210)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{D as default};
