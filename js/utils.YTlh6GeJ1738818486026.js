import{c as t,B as n,r as e,c6 as o,C as r,V as s,a0 as c}from"./three.WgQSjl1J1738818486026.js";import{w as i}from"./@fesjs.LLTzkpAZ1738818486026.js";import{a}from"./@tresjs.ZGxFoQtw1738818486026.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.9NycxKmG1738818486026.js";!function(t,n){const e=d,o=m();for(;;)try{if(238039===-parseInt(e(282))/1+parseInt(e(255))/2+-parseInt(e(221))/3*(parseInt(e(265))/4)+parseInt(e(229))/5*(-parseInt(e(234))/6)+-parseInt(e(286))/7+-parseInt(e(237))/8+parseInt(e(241))/9*(parseInt(e(276))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(253)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["setY","boundingBox","set","table","value","divideScalar","exception","length","error","3KRBmaE","material","call","uniforms","then","__proto__","gger","disposeBoundsTree","23310xqxLaD","function *\\( *\\)","trace","applyMatrix4","random","480Fkgjce","test","catch","1179872RptNlL","getY","position","get","4594059SXycNN","bind","Box3","return (function() ","getCenter","reflectivity","side","console","max","input","count","sub","apply","copy","419232ItsDdh","push","geometry","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","min","features","json","Vector3","setFromObject","393188uMVFRI","forEach","toString","transparent","chain","depthWrite","#fff","string","debu","negate","prototype","20JnSkfd","attributes","counter","warn","while (true) {}","getX","348720FEyrOU","add","setAttribute","log","175126zKXYcC","computeBoundingBox","computeBoundsTree","stateObject","raycast","expandByObject","init"];return(m=function(){return t})()}!function(){l(this,(function(){const t=d,n=new RegExp(t(230)),e=new RegExp(t(259),"i"),o=B(t(211));n[t(235)](o+t(269))&&e[t(235)](o+t(250))?B():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(253)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function d(t,n){const e=m();return(d=function(t,n){return e[t-=208]})(t,n)}g(void 0,(function(){const t=d,n=function(){const t=d;let n;try{n=Function(t(244)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(248)]||{},o=[t(285),t(279),"info",t(220),t(218),t(215),t(231)];for(let r=0;r<o[t(219)];r++){const n=g[t(258)][t(275)].bind(g),s=o[r],c=e[s]||n;n[t(226)]=g[t(242)](g),n[t(267)]=c[t(267)][t(242)](c),e[s]=n}}))();const h=(n,e=!1)=>{const o=d;n.computeBoundingBox();const{max:r,min:s}=n.boundingBox;n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(277)][o(239)][o(251)];t++)e?(a.push((n[o(277)][o(239)][o(281)](t)-(s.x+r.x)/2)/c),a[o(256)]((n[o(277)][o(239)][o(238)](t)-(s.y+r.y)/2)/i)):(a[o(256)]((n[o(277)].position[o(281)](t)-s.x)/c),a[o(256)]((n[o(277)][o(239)][o(238)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=d;i(t,{},{method:r(240),mergeRequest:!0,responseType:r(262)})[r(225)]((t=>{const o=r;n&&e(t[n]),e(t[o(261)])}))[r(236)]((t=>{console[r(220)](t),o(t)}))})),x=t=>{const n=d,e=(new(THREE[n(243)]))[n(264)](t),o=new(THREE[n(263)]);e[n(245)](o),t.children[n(266)]((t=>{const e=n;t.position[e(252)](o)})),t[n(239)][n(254)](o.negate())},w=()=>{const t=d;n.prototype[t(288)]=u,n[t(275)][t(228)]=p,e[t(275)][t(209)]=f},b=async t=>{const n=d,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry.clone();h(i),i[n(288)]();const u=new o(i,{color:new r(n(271)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(222)][n(268)]=!0,u[n(222)][n(270)]=!0,u[n(222)].depthTest=!0,u[n(222)][n(247)]=c,u[n(222)][n(224)].config.value.w=20,u[n(222)][n(224)][n(246)][n(216)]=.46,u};function j(t){const n=d,e=[];for(let r=0;r<t[n(219)];r++)e[n(256)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(219)];r++)o[n(283)](e[r]);o[n(217)](e[n(219)]);for(let r=0;r<e[n(219)];r++)e[r][n(252)](o);return{points:e,centerPoint:o}}function B(t){function n(t){const e=d;if(typeof t===e(272))return function(t){}[e(258)](e(280))[e(253)](e(278));1!==(""+t/t)[e(219)]||t%20==0?function(){return!0}[e(258)](e(273)+e(227))[e(223)]("action"):function(){return!1}[e(258)](e(273)+e(227)).apply(e(208)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,j as g,w as i,y as l,h as r,b as s};
