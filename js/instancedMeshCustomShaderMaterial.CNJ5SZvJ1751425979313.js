import{az as t,an as o,ax as n}from"./three.BYAbq0a61751425979313.js";import{e as W,g as e,a as r,H as i}from"./@tresjs.GoDhnrau1751425979313.js";import{_ as c}from"./index.D7qfHwGL1751425979313.js";import{d as a,b as d,w as s,G as u,o as l,I as f,j as m,u as p,r as k,e as v,f as S,ak as h,al as C,am as P,m as x}from"./@vue.Mugdq9o81751425979313.js";import{_ as g}from"./component.vue_vue_type_script_setup_true_lang.DXawGZLV1751425979313.js";import"./postprocessing.B2tDG3sT1751425979313.js";import"./@vueuse.BoGTEdua1751425979313.js";import"./object-hash.CD2IT4Lc1751425979313.js";import"./@amap.CGUF9xH41751425979313.js";import"./jszip.BiucJKQx1751425979313.js";import"./three-stdlib.C4ToemFx1751425979313.js";!function(){var t=G();function o(t,o,n,W,e){return H(n- -439,W)}function n(t,o,n,W,e){return H(t-159,n)}function W(t,o,n,W,e){return H(t-854,o)}function e(t,o,n,W,e){return H(W- -401,t)}for(;;)try{if(694110===-parseInt(n(441,0,"]60o"))/1*(-parseInt(n(482,0,"ol]S"))/2)+-parseInt(W(1195,"HNr["))/3+parseInt(W(1169,"%tZq"))/4*(-parseInt(o(0,0,-153,"$I3v"))/5)+-parseInt(o(0,0,-111,"jg!Y"))/6*(parseInt(n(491,0,"kbX5"))/7)+parseInt(W(1129,"U[qv"))/8*(-parseInt(e("07(E",0,0,-87))/9)+parseInt(W(1124,"wOC^"))/10*(-parseInt(e("jg!Y",0,0,-71))/11)+parseInt(W(1167,"]OEo"))/12)break;t.push(t.shift())}catch(r){t.push(t.shift())}}();var b,O=(b=!0,function(t,o){var n=b?function(){function n(t,o,n,W,e){return H(e- -367,o)}if(n(0,"eH#G",0,0,-28)!==n(0,"G5i&",0,0,-57)){var W=_0x65688b[(a=608,d="CIdS",H(a-341,d))](_0x3372c7,arguments);return _0x1f8141=null,W}if(o){if(n(0,"5Hzh",0,0,-72)!==H(291,"3auf")){var e=o.apply(t,arguments);return o=null,e}if(_0x2be0e9){var r=_0x7cf169[(i=1013,c="AS)a",H(i-706,c))](_0x248f98,arguments);return _0x59002d=null,r}}var i,c,a,d}:function(){};return b=!1,n})(void 0,(function(){function t(t,o,n,W,e){return H(t-607,o)}function o(t,o,n,W,e){return H(e-920,o)}return O[(e=1042,r="Yi)S",H(e-733,r))]()[t(906,"I7ld")]((n=-444,W="$dlZ",H(n- -771,W)))[o(0,"kbX5",0,0,1199)]()[o(0,"]OEo",0,0,1192)](O)[t(909,"AS)a")](H(298- -22,"HNr["));var n,W,e,r}));O();var R,Q=(R=!0,function(t,o){function n(t,o,n,W,e){return H(o- -897,t)}if("IgaAH"!==n("]60o",-573)){var W=_0x279782[(e=-13,r="%tZq",H(e- -348,r))](_0x1e5fcb,arguments);return _0x1e80d8=null,W}var e,r,i=R?function(){function W(t,o,W,e,r){return n(W,r-1664)}function e(t,o,W,e,r){return n(r,o-35)}function r(t,o,W,e,r){return n(r,e-155)}if(r(0,0,0,-446,"EAs1")!==e(0,-573,0,0,"kbX5")){if(_0x58a735){var i=_0x1605bd.apply(_0x2bdbfb,arguments);return _0x31338f=null,i}}else if(o){if(e(0,-524,0,0,"sAa$")!==r(0,0,0,-437,"%tZq")){var c=o[W(0,0,"Z$MU",0,1100)](t,arguments);return o=null,c}var a=_0x33de27?function(){if(_0x49c314){var t=_0x2d4d06[(o=-482,n="CIdS",W(0,0,n,0,o- -1516))](_0x48b2b0,arguments);return _0x56983f=null,t}var o,n}:function(){};return _0xe21ce7=!1,a}}:function(){};return R=!1,i});function H(t,o){var n=G();return H=function(o,W){var e=n[o-=263];if(void 0===H.zHiAMu){var r=function(t){for(var o,n,W="",e="",i=W+r,c=0,a=0;n=t.charAt(a++);~n&&(o=c%4?64*o+n:n,c++%4)?W+=i.charCodeAt(a+10)-10!=0?String.fromCharCode(255&o>>(-2*c&6)):c:0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var d=0,s=W.length;d<s;d++)e+="%"+("00"+W.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(e)};H.uDnyyL=function(t,o){var n,W,e=[],i=0,c="";for(t=r(t),W=0;W<256;W++)e[W]=W;for(W=0;W<256;W++)i=(i+e[W]+o.charCodeAt(W%o.length))%256,n=e[W],e[W]=e[i],e[i]=n;W=0,i=0;for(var a=0;a<t.length;a++)i=(i+e[W=(W+1)%256])%256,n=e[W],e[W]=e[i],e[i]=n,c+=String.fromCharCode(t.charCodeAt(a)^e[(e[W]+e[i])%256]);return c},t=arguments,H.zHiAMu=!0}var i=o+n[0],c=t[i];if(c)e=c;else{if(void 0===H.eMpPUB){var a=function(t){this.WEogUo=t,this.WHZBiL=[1,0,0],this.JEQwsQ=function(){return"newState"},this.ZrpWJi="\\w+ *\\(\\) *{\\w+ *",this.zTtepk="['|\"].+['|\"];? *}"};a.prototype.hiIAON=function(){var t=new RegExp(this.ZrpWJi+this.zTtepk).test(this.JEQwsQ.toString())?--this.WHZBiL[1]:--this.WHZBiL[0];return this.WZposC(t)},a.prototype.WZposC=function(t){return Boolean(~t)?this.tpNMIr(this.WEogUo):t},a.prototype.tpNMIr=function(t){for(var o=0,n=this.WHZBiL.length;o<n;o++)this.WHZBiL.push(Math.round(Math.random())),n=this.WHZBiL.length;return t(this.WHZBiL[0])},new a(H).hiIAON(),H.eMpPUB=!0}e=H.uDnyyL(e,W),t[i]=e}return e},H(t,o)}Q(void 0,(function(){function t(t,o,n,W,e){return H(o-983,W)}var o=function(){function t(t,o,n,W,e){return H(t- -205,e)}function o(t,o,n,W,e){return H(t- -749,W)}function n(t,o,n,W,e){return H(n-832,t)}function W(t,o,n,W,e){return H(o- -191,n)}if(o(-424,0,0,"17i%")===o(-438,0,0,"IuK5")){var e;try{if("IEzHm"===W(0,103,"eH#G"))return _0x30ea0e[n("jC^1",0,1140)]()[n("jg!Y",0,1110)]("(((.+)+)+)+$")[W(0,146,"%tZq")]().constructor(_0x570a47)[o(-472,0,0,"DqEz")]("(((.+)+)+)+$");e=Function(t(60,0,0,0,"ktIQ")+W(0,140,"]N5v")+");")()}catch(s){o(-480,0,0,"]N5v")!==t(80,0,0,0,"mP4s")?_0xbcbb21=_0x5c3d66:e=window}return e}var r,i,c=_0x347353[W(0,143,"$f2Z")][W(0,77,"eH#G")][t(112,0,0,0,"Bgx7")](_0x2b283e),a=_0x1c3a52[_0x25b4a0],d=_0x88898[a]||c;c[n("$f2Z",0,1133)]=_0x2f4d0d[t(69,0,0,0,")g21")](_0x39f8be),c[o(-423,0,0,"DqEz")]=d[t(104,0,0,0,"Yi)S")][(r="Bgx7",i=684,H(i-367,r))](d),_0x13b1d7[a]=c}();function n(t,o,n,W,e){return H(e-267,n)}function W(t,o,n,W,e){return H(t- -805,W)}function e(t,o,n,W,e){return H(e-473,o)}for(var r,i,c=o.console=o[n(0,0,"G5i&",0,547)]||{},a=[n(0,0,"#R1k",0,589),t(0,1312,0,"]N5v"),e(0,"Nter",0,0,785),W(-469,0,0,"07(E"),"exception",e(0,"]OEo",0,0,813),t(0,1249,0,"$I3v")],d=0;d<a[(r="eH#G",i=12,H(i- -286,r))];d++)if(n(0,0,"%tZq",0,571)!==t(0,1267,0,"TtwG"))_0x5b63d7=_0x505489(e(0,"$dlZ",0,0,756)+n(0,0,"e6V%",0,557)+");")();else{var s=Q[n(0,0,"$dlZ",0,531)][t(0,1271,0,"SONV")][W(-524,0,0,"OWAz")](Q),u=a[d],l=c[u]||s;s[e(0,"]N5v",0,0,760)]=Q[t(0,1283,0,"%tZq")](Q),s.toString=l[W(-529,0,0,"@Cte")][t(0,1304,0,"U[qv")](l),c[u]=s}}))();const I=H(803-540,"U[qv");function G(){var t=["W69gW6/dNSoX","pCkXdSkqy8kVW4rzzG","WQ0Wq8okoa","dSkmW6tdOJDYW5L3frRdRfG","lxbvq8obWRRcNrO","z8kpEhZdU8oWDSk5rttcJq","q0BcSxHPW4JcJvVcKmkHW5uLWQS","kCkHm24","WOvNWPGlW6XlW4nQW450W5m","sYuQW4ddMmkMWRRdTW","W5NdOmkYWOvQWQy","sSk+W7ddUSoPgW","gCk2W57cJCkDW4ddSvS","xmojDSoNWRHRgG","WO9Utmkn","gXPpW4OfW43cPxC","EGfjW7RcPCo2W60qW7ddHuewj1ZdPmo0W7G5WOq","rCoeWQX3vq","W4badH7dIq","cSksW5xdVJjCAZjlW6KjW7W","WPK+s8oZewNdUwfE","p8oNvSopxmkFbCouW6i","pSkAW4ZcQCki","rrFdLCo5WQVdSCk0WPtdKSkaaqNcHSkFxCkiDWJdUdedxG1ZWQdcUfdcV8o8DSk2WRi","gMVcTe0D","d8knW6tdPdH6WPW1fGBdJwldUJa","W7bqDmoPcKZdJ2O","bCkGaSkTDa","aIa9lCos","xuLwW7nc","W4GIWOfrWRfdW6LiW7TMW4uBW7qknSk+WRfKW7BdH8kJWQBdPuT8W5pcLJdcGCo/jWy","iCkMd8kdEmkZ","bSkwW4hdKmkdgG","WPJdN0/cPq","W4NdTLSBWQZcJCoKW67dJG","WQ/cI8ocwIfu","W43dHMOsWPddUY/cUGm","WRldK0NcScy","WRVdTu7cSHu","FbedWQqQwmogzXe","WR3cNSotrdS","htxdUdDNiCk+W5a","AYD3rSojWPtcSta","t8oGAmoYWPO","W5K/WQLMhW","WPVcU3it","mmotlJRcUCk6n8oUzGRcPM0AW6K","AN9TWPvezHVdTfe","W4JcJLdcSd3cIHC/","WPZcVCoKW447WQGNj8oeWRhcLW","W5pcIuH4","W4u6W4pdJSkVW4q3bx/dH8kAdG","otHnW7ngl8oieW","WOfjWOj7jgvmW7vPb00i","W5e2W4fw","rCo8oW","lSk+W40rwSohd8oMwCoSW7y","zeXHW6m5","cmk1uSkxWOy","W57dQSkaWOn7WQCqfG","ieWvWQhdVmkXW6yrWR3cMqrr","dSoPW4VdMmoPn8o/ba","WReasCoV","cmoIWQNdSmojjmorfta","WR0CfCoIexpdPuPZumkUu8okDCkxWRPsddZdJmospG5SiSo6WQ1eiw1TW4K","wSoGWRtdJSoyWPhdK0VcJenRDq","xW87fw0","W7xdHKuAWRFcI8o+W5ldPxhdOq","WPVdHLhcRt4","oJ4UWPfr","WO7dMxlcTtxcPdSv","ALWvw8o6","pCkfeCkcqq","CmkbDgpdQG","WPTrWPnGoxPvWOKXwGfoza","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","AWTtW7ZcO8oQWRHBW6ldN10","E0e1mwNcIxFdPCoWWRTLDGvHWR/dGsaeja","s8owWO3cPwq"];return(G=function(){return t})()}const N=a({__name:"instancedMeshCom",setup(n){const r=d(null),i={vertex:`\n    uniform float uTime;\n\t\tvarying vec3 vPosition;\n\t\t${I}\n    vec3 displace(vec3 point) {\n      vec3 instancePosition = (instanceMatrix * vec4(point, 1.)).xyz;\n      return instancePosition + (normal * noise((instancePosition * 3.) + uTime) * 0.8);\n    }  \n\n    vec3 orthogonal(vec3 v) {\n      return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)\n      : vec3(0.0, -v.z, v.y));\n    }\n\n    vec3 recalcNormals(vec3 newPos) {\n      float offset = 0.001;\n      vec3 tangent = orthogonal(normal);\n      vec3 bitangent = normalize(cross(normal, tangent));\n      vec3 neighbour1 = position + tangent * offset;\n      vec3 neighbour2 = position + bitangent * offset;\n\n      vec3 displacedNeighbour1 = displace(neighbour1);\n      vec3 displacedNeighbour2 = displace(neighbour2);\n\n      vec3 displacedTangent = displacedNeighbour1 - newPos;\n      vec3 displacedBitangent = displacedNeighbour2 - newPos;\n\n      return normalize(cross(displacedTangent, displacedBitangent));\n    }\n\n    void main() {\n\t\t\tvPosition = position;\n      vec3 p = displace(position);\n      csm_PositionRaw = projectionMatrix * modelViewMatrix * instanceMatrix * vec4(p, 1.);\n      csm_Normal = recalcNormals(p);\n    }\n    `,fragment:"\n\t\tvarying vec3 vPosition;\n\t\t// 函数将 HSL 转换为 RGB\n\t\tvec3 hsl2rgb(float h, float s, float l) {\n\t\t\t\tfloat c = (1.0 - abs(2.0 * l - 1.0)) * s;\n\t\t\t\tfloat x = c * (1.0 - abs(mod(h * 6.0, 2.0) - 1.0));\n\t\t\t\tfloat m = l - c / 2.0;\n\t\t\t\tvec3 rgb;\n\t\t\t\tif (0.0 <= h && h < 1.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, x, 0.0);\n\t\t\t\t} else if (1.0 / 6.0 <= h && h < 2.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, c, 0.0);\n\t\t\t\t} else if (2.0 / 6.0 <= h && h < 3.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, c, x);\n\t\t\t\t} else if (3.0 / 6.0 <= h && h < 4.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, x, c);\n\t\t\t\t} else if (4.0 / 6.0 <= h && h < 5.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, 0.0, c);\n\t\t\t\t} else if (5.0 / 6.0 <= h && h < 6.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, 0.0, x);\n\t\t\t\t} else {\n\t\t\t\t\t\trgb = vec3(0.0, 0.0, 0.0);\n\t\t\t\t}\n\t\t\t\trgb += vec3(m);\n\t\t\t\treturn rgb;\n\t\t}\n    void main() {\n      // csm_DiffuseColor = vec4(1.,1.,1.,1.);\n\t\t\tfloat h = mod(vPosition.x + vPosition.y + vPosition.z, 1.0); // 色相 H: [0, 1)\n\t\t\tfloat s = 0.9; // 饱和度 S: 固定为 0.8\n\t\t\tfloat l = 0.4; // 亮度 L: 固定为 0.5\n\t\t\tvec3 rgb = hsl2rgb(h, s, l);\n\t\t\tcsm_DiffuseColor = vec4(rgb,1.);\n    }\n    "},c={uTime:{value:0}},a=new t,{onLoop:k}=W();return k((({elapsed:t})=>{c.uTime.value=t})),s((()=>r.value),(t=>{if(t){let o=0;for(let n=0;n<88;n++)a.position.set(Math.random(),Math.random(),Math.random()),a.rotation.set(Math.random(),Math.random(),Math.random()),a.position.multiplyScalar(10),a.position.x-=5,a.position.y-=5,a.position.z-=5,a.updateMatrix(),t.setMatrixAt(o++,a.matrix);t.instanceMatrix.needsUpdate=!0}})),(t,n)=>(l(),u("TresInstancedMesh",{ref_key:"tmRef",ref:r,args:[null,null,88]},[n[0]||(n[0]=f("TresSphereGeometry",{args:[1,64,64]},null,-1)),m(p(e),{baseMaterial:o,vertexShader:i.vertex,fragmentShader:i.fragment,uniforms:c,transparent:""},null,8,["baseMaterial","vertexShader","fragmentShader"])],512))}}),Z=a({__name:"instancedMeshCustomShaderMaterial",setup(t){const o=k({alpha:!0,toneMapping:n,windowSize:!0,clearColor:"#000000"}),W=k({enableDamping:!0});return(t,n)=>(l(),v(p(i),x(o,{"window-size":""}),{default:S((()=>[n[0]||(n[0]=f("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:1,far:1e3},null,-1)),m(p(r),h(C(W)),null,16),n[1]||(n[1]=f("TresAmbientLight",{intensity:.5},null,-1)),n[2]||(n[2]=f("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1)),(l(),v(P,null,{default:S((()=>[m(p(g),{intensity:16,resolution:256,background:"",blur:.6},{default:S((()=>[m(p(c),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),m(p(c),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),m(p(c),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["rotation-y"]),m(p(c),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["rotation-y"])])),_:1})])),_:1})),m(N)])),_:1},16))}});export{Z as default};
