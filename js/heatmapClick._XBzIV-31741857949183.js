import{D as t,o as n}from"./@tresjs.8SAr0PX_1741857949183.js";import{P as e}from"./tweakpane.yDiyAAkA1741857949183.js";import{_ as r,a0 as o,c as a,ak as s,al as i}from"./three.Gi_-4zeu1741857949183.js";import{_ as c}from"./heatmap.js-fix.gAetXbNx1741857949183.js";import{d as u,a3 as p,a2 as l,o as f,H as d,u as h,r as m,e as g,f as v,g as y,N as w,j as b,al as x,aj as _,ak as I,m as j}from"./@vue.NRI7TcgI1741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";import"./@amap.QByc7Q7q1741857949183.js";function C(t,n){const e=O();return(C=function(t,n){return e[t-=375]})(t,n)}const M=C;!function(t,n){const e=C,r=O();for(;;)try{if(434705===parseInt(e(407))/1+-parseInt(e(451))/2*(-parseInt(e(445))/3)+parseInt(e(400))/4*(parseInt(e(435))/5)+-parseInt(e(398))/6*(-parseInt(e(439))/7)+-parseInt(e(375))/8+-parseInt(e(421))/9*(parseInt(e(419))/10)+-parseInt(e(394))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const T=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(441)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){T(this,(function(){const t=C,n=new RegExp(t(422)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=U(t(406));n[t(431)](r+"chain")&&e[t(431)](r+"input")?U():r("0")}))()}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(441)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(){const t=["computeBoundingBox","addData","5lzOnhn","absolute","boundingBox","Texture","357Spwhhl","gger","apply","display","counter","console","3RXwLFg","set","bind","style","info","position","89758GHmMae","3340000xUOPOy","setAttribute","layerY","attributes","constructor","heatmapClickCom","toString","return (function() ","create","log","onclick","push","table","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","length","exception","deleteAttribute","mesh_0","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","5497624mYxvTH","primitive","string","canvas","102246iUsTWn","count","2808220zJNgYO","none","while (true) {}","top","__proto__","prototype","init","209801CKXLQf","needsUpdate","debu","left","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","call","heatmap-canvas","scale","_renderer","body","stateObject","getX","130MTdzVF","1px solid #5384ff","328041PLkAgM","function *\\( *\\)","0.8","setScalar","setDataMax","action","ShaderMaterial","trace","block","material","test","appendChild"];return(O=function(){return t})()}k(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(382)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(444)]=n[t(444)]||{},r=[t(384),"warn",t(449),"error",t(390),t(387),t(428)];for(let o=0;o<r[t(389)];o++){const n=k[t(379)][t(405)][t(447)](k),a=r[o],s=e[a]||n;n[t(404)]=k[t(447)](k),n[t(381)]=s[t(381)][t(447)](s),e[a]=n}}))();const z=["object"],S=u({__name:M(380),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=M;let s,i;const u=n,{nodes:m}=([s,i]=p((()=>t(e(411),{draco:!0,decoderPath:"./draco/"}))),s=await s,i(),s);m[e(392)][e(450)][e(446)](-5088.96,-3.08,39374.7),m[e(392)][e(414)][e(424)](.01);let g=null,v=null,y=null;v=new(r[e(438)])((()=>{const t=e;return y=document.createElement(t(413)),y[t(448)][t(450)]=t(436),y.style[t(403)]="40px",y.style[t(410)]="0",document[t(416)][t(432)](y),g=c[t(383)]({container:y,width:256,height:256,blur:t(423),radius:u.radius}),g[t(415)][t(397)][t(448)].border=t(420),g._renderer[t(397)][t(385)]=function(n){const e=t;g[e(434)]({x:n.layerX,y:n[e(377)],value:1,radius:u.radius}),g[e(425)](1),v&&(v[e(408)]=!0)},g})()[e(415)].canvas);const w={vertexShader:e(393),fragmentShader:e(388),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:v}},depthWrite:!0,depthTest:!0,transparent:!0,side:o},b=new(r[e(427)])(w);m[e(392)][e(430)]=b;return(t=>{const n=e;t[n(433)]();const{max:r,min:o}=t[n(437)];t[n(391)]("uv");const s=r.x-o.x,i=r.z-o.z,c=[];for(let e=0;e<t[n(378)][n(450)][n(399)];e++)c[n(386)]((t[n(378)][n(450)][n(418)](e)-o.x)/s),c[n(386)]((t[n(378)][n(450)].getZ(e)-o.z)/i);const u=new Float32Array(c);t[n(376)]("uv",new a(u,2))})(m[e(392)].geometry),l((()=>{const t=e;y[t(448)][t(442)]=""+(u.show2dCanvas?t(429):t(401))})),(t,n)=>{const r=e;return f(),d(r(395),{object:h(m).mesh_0},null,8,z)}}});function U(t){function n(t){const e=C;if(typeof t===e(396))return function(t){}.constructor(e(402))[e(441)](e(443));1!==(""+t/t)[e(389)]||t%20==0?function(){return!0}[e(379)]("debu"+e(440))[e(412)](e(426)):function(){return!1}[e(379)](e(409)+e(440)).apply(e(417)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const A=R;!function(t,n){const e=R,r=Z();for(;;)try{if(415119===parseInt(e(450))/1*(parseInt(e(466))/2)+-parseInt(e(454))/3+-parseInt(e(455))/4*(parseInt(e(440))/5)+-parseInt(e(433))/6+-parseInt(e(437))/7*(-parseInt(e(468))/8)+-parseInt(e(435))/9*(parseInt(e(444))/10)+parseInt(e(441))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(471)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){B(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=P(t(432));n[t(470)](r+"chain")&&e[t(470)](r+t(446))?P():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(471)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function R(t,n){const e=Z();return(R=function(t,n){return e[t-=428]})(t,n)}function Z(){const t=["TresPerspectiveCamera","TresGridHelper","constructor","6jXybfT","call","1112deRsBM","length","test","apply","log","string","TresCanvas","while (true) {}","__proto__","init","1085928IHjTvd","debu","6462mKODvC","action","21161TUwdoc","radius","show2dCanvas","781085kZWIqK","21066760MUOuIY","exception","error","8380seZbrb","toString","input","bind","counter","点击左侧蓝色画框","53221psTOFN","addBinding","#030311","console","2485734QMukEn","12PQaZvD","圆圈的大小","heatmapClick","warn","#ffffff","stateObject","table","显示二维图"];return(Z=function(){return t})()}D(void 0,(function(){const t=R,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(453)]=n[t(453)]||{},r=[t(472),t(458),"info",t(443),t(442),t(461),"trace"];for(let o=0;o<r[t(469)];o++){const n=D[t(465)].prototype[t(447)](D),a=r[o],s=e[a]||n;n[t(431)]=D.bind(D),n[t(445)]=s.toString.bind(s),e[a]=n}}))();const F=u({__name:A(457),setup(t){const r=A,o={clearColor:r(452),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[r(451)](a,r(439),{label:r(462)}),c.addBinding(a,r(438),{label:r(456),min:.1,max:30,step:.1}),c.addButton({title:r(449)}),(t,e)=>{const s=r,i=g(s(429));return f(),v(i,j(o,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=w(s(463),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w("TresDirectionalLight",{position:[5,10,7.5],color:s(459),intensity:5},null,-1)),e[2]||(e[2]=w(s(464),{args:[50,25]},null,-1)),(f(),v(x,null,{default:y((()=>[b(S,_(I(a)),null,16)])),_:1}))])),_:1},16)}}});function P(t){function n(t){const e=R;if(typeof t===e(428))return function(t){}[e(465)](e(430)).apply(e(448));1!==(""+t/t)[e(469)]||t%20==0?function(){return!0}[e(465)](e(434)+"gger")[e(467)](e(436)):function(){return!1}[e(465)](e(434)+"gger")[e(471)](e(460)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
