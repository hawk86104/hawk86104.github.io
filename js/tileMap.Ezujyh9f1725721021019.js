import{a6 as t,a7 as n,V as o,cw as e,ad as r}from"./three.a9V66irq1725721021019.js";import{P as s}from"./tweakpane.yHWGBmom1725721021019.js";import{_ as i}from"./@tweenjs.l4oyssFo1725721021019.js";import{p as a,$ as c}from"./@tresjs.bIWdfO9a1725721021019.js";import{P as p,b as u,c as l,M as m,T as f,a as g,d as h}from"./index.a5AHzOvx1725721021019.js";import{d,a2 as j,w as b,o as w,E as x,u as y,Y as v,r as I,e as M,j as _,g as z,f as C,m as S,al as B,F as k}from"./@vue._6MD2XyK1725721021019.js";import{_ as R}from"./raycasterEvent.7KbiCMgV1725721021019.js";import{a as E}from"./utils.vgAy9Qqn1725721021019.js";import"./@vueuse.Ex-1AOlz1725721021019.js";import"./@mapbox.r4PY5HRO1725721021019.js";import"./@amap.9EMhYPgf1725721021019.js";import"./three-mesh-bvh.ysdIJ9eS1725721021019.js";import"./three-custom-shader-material.gg2LVNSQ1725721021019.js";import"./object-hash.xtAmzdrT1725721021019.js";import"./jszip.NwxLGTBs1725721021019.js";import"./glsl-tokenizer._ewZtuPE1725721021019.js";import"./glsl-token-string.3i-LTnSg1725721021019.js";import"./glsl-token-functions.Tl-bwbDs1725721021019.js";import"./@fesjs.ozYBrZAq1725721021019.js";import"./vue-router._EXpxh631725721021019.js";import"./lodash-es.kYt-_xTG1725721021019.js";import"./@qlin.yHhFDldE1725721021019.js";import"./pinia.U_UMJ01N1725721021019.js";import"./@floating-ui.BPbuo5Gx1725721021019.js";import"./@juggle.7yjBMqoW1725721021019.js";import"./http.likf3gv91725721021019.js";import"./axios.FVFoCDiv1725721021019.js";import"./color.gQrTXmkq1725721021019.js";import"./color-string.lsBOyUBc1725721021019.js";import"./color-name.yOSdCqa-1725721021019.js";import"./simple-swizzle.9_aXjRFE1725721021019.js";import"./is-arrayish.phxdqONo1725721021019.js";import"./color-convert.jThw8roG1725721021019.js";import"./lodash.umWFChMm1725721021019.js";import"./naive-ui.gkqUUsSk1725721021019.js";import"./css-render.wHPrdMjT1725721021019.js";import"./@emotion.ZD_ZYAgY1725721021019.js";import"./@css-render.54dS4MjS1725721021019.js";import"./seemly.SjiSeX2v1725721021019.js";import"./vooks.OomJMtXH1725721021019.js";import"./evtd.DtfwxtIl1725721021019.js";import"./vueuc.vcewl5FZ1725721021019.js";import"./vdirs.tRaUJiei1725721021019.js";import"./treemate.dcEdf2le1725721021019.js";import"./date-fns.tFBGoZIr1725721021019.js";import"./date-fns-tz.L1TONni01725721021019.js";import"./async-validator.-YBkpS4I1725721021019.js";import"./utils.topX00vP1725721021019.js";import"./d3-geo.u9QgXsWt1725721021019.js";import"./d3-array.AhNJy1f41725721021019.js";function T(t,n){const o=P();return(T=function(t,n){return o[t-=176]})(t,n)}const V=T;!function(t,n){const o=T,e=P();for(;;)try{if(549178===parseInt(o(233))/1+-parseInt(o(211))/2+-parseInt(o(181))/3*(-parseInt(o(230))/4)+-parseInt(o(249))/5*(-parseInt(o(218))/6)+-parseInt(o(243))/7*(parseInt(o(215))/8)+-parseInt(o(201))/9+parseInt(o(200))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const Z=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[T(186)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){Z(this,(function(){const t=T,n=new RegExp(t(213)),o=new RegExp(t(225),"i"),e=$("init");n[t(210)](e+t(177))&&o[t(210)](e+t(184))?$():e("0")}))()}();const L=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();L(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(240)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n.console=n[t(239)]||{},e=[t(220),"warn",t(241),t(187),"exception",t(236),t(198)];for(let r=0;r<e[t(238)];r++){const n=L[t(219)][t(195)][t(226)](L),s=e[r],i=o[s]||n;n[t(247)]=L[t(226)](L),n.toString=i[t(221)].bind(i),o[s]=n}}))();const A=[V(189),V(216)],D=d({__name:V(185),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(r,{expose:s}){const h=V,d=r,{renderer:v,scene:I}=a();(new p).coordType=u;const M=new l;M[h(204)]=h(178),M[h(190)]=u;const _=new m;_[h(204)]=h(222),_.showTileNo=!1,_.useWorker=!0;const z=new f(M,_);if(z[h(245)]=!1,z[h(229)]=!1,z.flatShading=!1,z[h(202)]=!1,z[h(193)]={opposite:d[h(234)],monochrome:d.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:d[h(207)],genContrast:d[h(214)],genSaturation:d[h(248)]},d[h(228)]){let n=new(t[h(235)])(d[h(228)]);z[h(193)]&&(z.filter[h(228)]={r:n.r,g:n.g,b:n.b})}const C=new g;C.provider=z,C[h(206)]=d[h(206)],C[h(227)]=d[h(227)];const S=new n(60,window[h(208)]/window.innerHeight,1,1e8);S.up=new o(0,1,0),S[h(242)][h(217)](d[h(191)][0],d[h(191)][2],-d.mapCenter[1]),S[h(197)](new(t[h(223)])(S.position.x,0,S.position.z-2e3)),C.camera=S;let B=null;j((()=>{const n=h;if(v[n(183)]&&!B&&(B=new e(S,v[n(183)][n(250)]),B[n(237)]=!0,B.dampingFactor=.05,B[n(224)]=600,B[n(209)][n(217)](S.position.x,S[n(242)].y,S.position.z),B[n(176)][n(217)](S[n(242)].x,0,S[n(242)].z-2e3)),d[n(207)]&&z[n(193)]&&(z[n(193)].genBright=d[n(207)]),d[n(214)]&&z.filter&&(z.filter[n(214)]=d[n(214)]),d[n(248)]&&z[n(193)]&&(z[n(193)][n(248)]=d.genSaturation),d.isMonochrome&&d[n(228)]&&z[n(193)]){let o=new(t[n(235)])(d.monochrome);z.filter[n(228)]={r:o.r,g:o.g,b:o.b}}})),b((()=>d.opposite),(t=>{const n=h;z[n(193)]&&(z[n(193)][n(234)]=t)})),b((()=>d[h(246)]),(n=>{const o=h;let e=new(t[o(235)])(d[o(228)]);z[o(193)]&&(z.filter[o(228)]=n?{r:e.r,g:e.g,b:e.b}:null)}));const{onLoop:k}=c();return k((()=>{const t=h;if(v[t(183)]){i[t(212)](),B&&B.update(),C[t(212)]();const n=50*Math[t(205)](S[t(242)].y);S[t(182)]=n+5e3,S[t(196)](),B.target.y=0,v[t(183)][t(179)](I[t(183)],S)}})),s({camera:S,map:C,orbitControl:B}),(t,n)=>{const o=h;return w(),x(o(244),{object:y(C),rotation:[-Math.PI/2,0,0]},null,8,A)}}});function P(){const t=["toString","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","Vector3","minDistance","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","maxZoom","monochrome","wireframe","559036VCbPQp","call","string","128453SXDBdC","opposite","Color","table","enableDamping","length","console","return (function() ","info","position","7dzhtcd","primitive","showBoundingBox","isMonochrome","__proto__","genSaturation","450230icvVnN","domElement","target","chain","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","render","action","21OvPXpX","far","value","input","tileMapMesh","apply","error","gger","object","coordType","mapCenter","counter","filter","stateObject","prototype","updateProjectionMatrix","lookAt","trace","while (true) {}","6699550ZLlGnM","3320973DTLqot","useStandardMaterial","debu","source","abs","bbox","genBright","innerWidth","position0","test","1509730cMMdEt","update","function *\\( *\\)","genContrast","5151656jDeepo","rotation","set","36guVQII","constructor","log"];return(P=function(){return t})()}function $(t){function n(t){const o=T;if(typeof t===o(232))return function(t){}[o(219)](o(199))[o(186)](o(192));1!==(""+t/t)[o(238)]||t%20==0?function(){return!0}[o(219)]("debugger")[o(231)](o(180)):function(){return!1}.constructor(o(203)+o(188))[o(186)](o(194)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=W,e=X();for(;;)try{if(988801===parseInt(o(430))/1+-parseInt(o(412))/2*(-parseInt(o(461))/3)+parseInt(o(403))/4+parseInt(o(431))/5*(-parseInt(o(410))/6)+-parseInt(o(425))/7*(parseInt(o(443))/8)+-parseInt(o(434))/9+parseInt(o(456))/10*(parseInt(o(436))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const F=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){F(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(415),"i"),e=K(t(444));n[t(422)](e+t(442))&&o[t(422)](e+t(432))?K():e("0")}))()}();const O=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[W(409)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function W(t,n){const o=X();return(W=function(t,n){return o[t-=402]})(t,n)}function X(){const t=["259030oSWXjI","addBinding","xjk","exception","warn","3KxKxdl","单色滤镜","1002896avfkLH","info","TresCanvas","#4688b5","nss","饱和度","apply","133572hkgsyX","isMonochrome","618892aCjEeI","length","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","string","action","console","滤镜颜色","SRGBColorSpace","test","toString","change","813603LMKlih","bind","__proto__","addBlade","新街口","162269wogivc","425TeSEVJ","input","value","17298846RRCzQE","opposite","1881OegSjO","highp","error","prototype","debu","Vector3","chain","24JoBIVi","init","genBright","gger","counter","list","constructor","genContrast","奥体中心","tileMapMeshRef","stateObject","牛首山","对比度"];return(X=function(){return t})()}O(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(414)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(419)]=n.console||{},e=["log",t(460),t(404),t(438),t(459),"table","trace"];for(let r=0;r<e[t(413)];r++){const n=O[t(449)][t(439)][t(426)](O),s=e[r],i=o[s]||n;n[t(427)]=O[t(426)](O),n[t(423)]=i.toString[t(426)](i),o[s]=n}}))();const Q=d({__name:"tileMap",setup(n){const e=W,i=h(118.779958,32.017136),a=[i[0],i[1],5e3],c=v(),p=I({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(406),mapCenter:a}),u=new s({title:"参数"});u[e(457)](p,e(435),{label:"反色"}),u[e(457)](p,e(445),{label:"高亮",min:.1,max:3,step:.1}),u[e(457)](p,e(450),{label:e(455),min:.1,max:3,step:.1}),u[e(457)](p,"genSaturation",{label:e(408),min:.1,max:3,step:.1}),u[e(457)](p,e(411),{label:e(402)}),u[e(457)](p,"monochrome",{label:e(420)});const l={at:h(118.7425,31.9998),xjk:h(118.7842,32.0418),nss:h(118.7503,31.9082)};u[e(428)]({view:e(448),label:"飞去",options:[{text:e(451),value:"at"},{text:e(429),value:e(458)},{text:e(454),value:e(407)}],value:"at"}).on(e(424),(n=>{const o=e,r=new(t[o(441)])(l[n[o(433)]][0],2e3,-l[n.value][1]);E(c[o(433)].camera,r,c[o(433)].orbitControl,[0,-300],4e3)}));const m=I({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[e(421)],toneMapping:r,precision:e(437)});return setTimeout((()=>{const t=e,n=l.at,r=new o(n[0],1600,-n[1]);E(c[t(433)].camera,r,c[t(433)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=M(o(405));return w(),x(k,null,[_(r,S(m,{"window-size":""}),{default:z((()=>[(w(),C(B,null,{default:z((()=>[_(D,S(p,{ref_key:o(452),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),_(R,{tileMapRef:c[o(433)]},null,8,["tileMapRef"])],64)}}});function K(t){function n(t){const o=W;if(typeof t===o(417))return function(t){}.constructor("while (true) {}").apply(o(447));1!==(""+t/t)[o(413)]||t%20==0?function(){return!0}[o(449)](o(440)+"gger")[o(416)](o(418)):function(){return!1}[o(449)]("debu"+o(446))[o(409)](o(453)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{Q as default};
