var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,a=(t,a)=>{for(var i in a||(a={}))e.call(a,i)&&o(t,i,a[i]);if(n)for(var i of n(a))r.call(a,i)&&o(t,i,a[i]);return t};import{U as i,c as s}from"./@tresjs.dTM0HLnZ1735031078130.js";import{u as c,a as u,_ as l}from"./colorList.umwMe-iv1735031078130.js";import{_ as f,d2 as p}from"./three.bc6MLGU_1735031078130.js";import{z as m}from"./three-custom-shader-material.uc9Xgl3q1735031078130.js";import{P as d}from"./tweakpane.yHWGBmom1735031078130.js";import{d as h,b as g,a as y,r as x,w as b,o as w,D as _,J as v,u as j,j as I,g as z,x as S,F as A,V as T,f as R,H as L,I as E,m as D}from"./@vue.-THQH3GC1735031078130.js";import{z as M,x as O,a6 as V,a7 as F,a8 as k,N as U,a9 as P,aa as G,t as Z,$ as C,ab as q,v as B,_ as H}from"./@fesjs.I05ciYa-1735031078130.js";import"./@vueuse.COyzlgw71735031078130.js";import"./pinia.67PZ8qep1735031078130.js";import"./vue-demi.C4xddsk91735031078130.js";import"./vue-router.v9AQvngO1735031078130.js";import"./lodash-es.kYt-_xTG1735031078130.js";import"./@qlin.yHhFDldE1735031078130.js";import"./@floating-ui.BPbuo5Gx1735031078130.js";import"./@juggle.7yjBMqoW1735031078130.js";function $(){const t=["toString","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","RASDimensions","908551nbGZHH","3243818tJXxuG","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","zËΩ¥Áº©Êîæ","mesh","windowLow","Matrix4","floor","yËΩ¥Áº©Êîæ","string","exception","LineSegments","trace","object","index","constructor","windowHigh","1217205bYfFla","862560TSTdys","yExtent","title","action","gger","value","test","yLength","addBinding","table","init","123JdXyai","primitive","upperThreshold","matrix","apply","scene","dataType","computeMinMax","xExtent","return (function() ","43132170tfAmlz","console","chain","zExtent","colorsStops","yÂâñÈù¢","LineBasicMaterial","repaintAllSlices","change","86124ObqQed","selectDataType","xËΩ¥Áº©Êîæ","invert","extractSlice","eTexture","NormalBlending","DoubleSide","length","copy","TresGroup","99goOWPf","6AmjhtM","xÂâñÈù¢","max","visible","prototype","repaint","min","scale","material","call","lowerThreshold","counter","function *\\( *\\)","zLength",'{}.constructor("return this")( )',"BoxGeometry","uniforms","inverseMatrix","EdgesGeometry","1626859VoXTbJ","info","input","xLength","log","debu","updateTransferFunction"];return($=function(){return t})()}const J=et;!function(t,n){const e=et,r=$();for(;;)try{if(874848===-parseInt(e(499))/1+-parseInt(e(510))/2+parseInt(e(449))/3*(parseInt(e(468))/4)+parseInt(e(527))/5+-parseInt(e(480))/6*(parseInt(e(509))/7)+-parseInt(e(528))/8*(parseInt(e(479))/9)+parseInt(e(459))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[et(453)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=et,n=new RegExp(t(492)),e=new RegExp(t(511),"i"),r=ot(t(448));n[t(444)](r+t(461))&&e.test(r+t(501))?ot():r("0")}))()}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[et(453)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();N(void 0,(function(){const t=et,n=function(){const t=et;let n;try{n=Function(t(458)+t(494)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(460)]||{},r=[t(503),"warn",t(500),"error",t(520),t(447),t(522)];for(let o=0;o<r.length;o++){const n=N[t(525)][t(484)][t(512)](N),a=r[o],i=e[a]||n;n.__proto__=N[t(512)](N),n[t(506)]=i.toString.bind(i),e[a]=n}}))();const W=[J(487),J(483)],X=[J(487)],Y=[J(523)],Q=["object"],tt=["object"],nt=[J(523)];function et(t,n){const e=$();return(et=function(t,n){return e[t-=440]})(t,n)}const rt=h({__name:J(454),setup(t){const n=J,e=g(-1),r=g(-1),o=g(.6),i=y((()=>{const t=et;return!(e[t(443)]<=.01&&e[t(443)]>=-.01)&&(!(r[t(443)]<=.01&&r[t(443)]>=-.01)&&!(o.value<=.01&&o[t(443)]>=-.01))})),s=c(),l=u(),h=(t=>{const n=et,e=new p(l[n(457)],l[n(529)],l[n(462)],l[n(455)][l[n(469)]][n(440)],l.byteArray);e.spacing=[1,1,1],e[n(508)]=[Math[n(517)](e.xLength),Math.floor(e[n(445)]),Math[n(517)](e[n(493)])],e.matrix=new(f[n(516)]),e[n(497)]=new(f[n(516)]),e[n(497)][n(477)](e[n(452)])[n(471)]();const r=e[n(456)](),o=r[0],a=r[1];return e[n(515)]=o,e.windowHigh=a,e[n(490)]=o,e[n(451)]=a,e})(l.byteArray),I=new(f[n(521)])(new(f[n(498)])(new(f[n(495)])(h.xLength,h[n(445)],h.zLength)),new(f[n(465)])({color:6710886})),z=x({x:Math[n(517)](h[n(508)][0]/2),y:Math.floor(h.RASDimensions[1]/2),z:Math.floor(h.RASDimensions[2]/4)});h[n(526)]=136;const S=h[n(472)]("x",z.x),A=h[n(472)]("y",z.y),T=h[n(472)]("z",z.z),R={vertexShader:n(507),fragmentShader:"\n        uniform sampler2D eTexture;     //Á∫πÁêÜÂõæÂÉè\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ",uniforms:{eTexture:{value:s[n(505)]()}},silent:!0,flatShading:!0,side:f[n(475)],transparent:!0,depthTest:!0,depthWrite:!1,blending:f[n(474)]};S.mesh[n(488)]=new m(a({baseMaterial:S.mesh[n(488)]},R)),A[n(514)][n(488)]=new m(a({baseMaterial:A.mesh.material},R)),T[n(514)][n(488)]=new m(a({baseMaterial:T.mesh[n(488)]},R));const L=new d;return L[n(446)](e,"value",{label:n(470),min:-2,max:2,step:.01}),L[n(446)](r,n(443),{label:n(518),min:-2,max:2,step:.01}),L[n(446)](o,n(443),{label:n(513),min:-2,max:2,step:.01}),L[n(446)](z,"x",{label:n(481),min:0,max:h[n(508)][0],step:1}),L[n(446)](z,"y",{label:n(464),min:0,max:h[n(508)][1],step:1}),L[n(446)](z,"z",{label:"zÂâñÈù¢",min:0,max:h[n(508)][2],step:1}),L[n(446)](h,n(490),{label:n(490),min:h[n(486)],max:h[n(482)],step:1}).on(n(467),(()=>{h[n(466)]()})),L[n(446)](h,n(451),{label:"upperThreshold",min:h[n(486)],max:h[n(482)],step:1}).on(n(467),(()=>{h[n(466)]()})),L[n(446)](h,"windowLow",{label:"windowLow",min:h.min,max:h[n(482)],step:1}).on("change",(()=>{h.repaintAllSlices()})),L[n(446)](h,n(526),{label:n(526),min:h[n(486)],max:h[n(482)],step:1}).on(n(467),(()=>{h.repaintAllSlices()})),b((()=>z),(t=>{const e=n;S[e(524)]=t.x,S.repaint.call(S),A[e(524)]=t.y,A[e(485)][e(489)](A),T[e(524)]=t.z,T.repaint[e(489)](T)}),{deep:!0}),b((()=>s[n(463)]),(()=>{const t=n;S.mesh[t(488)].uniforms.eTexture[t(443)]=s[t(505)](),A[t(514)][t(488)][t(496)][t(473)][t(443)]=s.updateTransferFunction(),T.mesh[t(488)][t(496)][t(473)][t(443)]=s[t(505)]()}),{deep:!0,immediate:!0}),(t,a)=>{const s=n;return w(),_(s(478),{scale:[e[s(443)],r[s(443)],o[s(443)]],visible:i[s(443)]},[v(s(478),{scale:[1/j(h)[s(502)],1/j(h).xLength*j(h).xLength/j(h)[s(445)],1/j(h)[s(502)]*j(h)[s(502)]/j(h)[s(493)]]},[v(s(450),{object:j(S)[s(514)],renderOrder:1},null,8,Y),v(s(450),{object:j(A)[s(514)],renderOrder:2},null,8,Q),v(s(450),{object:j(T).mesh,renderOrder:3},null,8,tt),v("primitive",{object:j(I)},null,8,nt)],8,X)],8,W)}}});function ot(t){function n(t){const e=et;if(typeof t===e(519))return function(t){}[e(525)]("while (true) {}")[e(453)](e(491));1!==(""+t/t)[e(476)]||t%20==0?function(){return!0}.constructor(e(504)+"gger")[e(489)](e(441)):function(){return!1}[e(525)]("debu"+e(442))[e(453)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const at=st;!function(t,n){const e=st,r=ct();for(;;)try{if(204245===parseInt(e(488))/1*(parseInt(e(482))/2)+parseInt(e(471))/3+-parseInt(e(490))/4+parseInt(e(460))/5*(-parseInt(e(444))/6)+-parseInt(e(509))/7*(-parseInt(e(441))/8)+-parseInt(e(469))/9*(-parseInt(e(479))/10)+parseInt(e(448))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const it=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[st(443)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function st(t,n){const e=ct();return(st=function(t,n){return e[t-=440]})(t,n)}function ct(){const t=["10px auto -3px","string","error","value","16919PRKpjc","ËØªÂèñRawÂéüÂßãÊï∞ÊçÆ","while (true) {}","yExtent","xExtent","112pDGWsk","ÊºîÁ§∫ÂèÇËÄÉÂ§¥ÈÉ®üë®‚Äçü¶≤RawDataÊï∞ÊçÆ,‰∏ãËΩΩ : ","apply","10146DFXcRT","selectDataType","head_256x256x109_uint8.raw","test","1630585RfKVZF","bind","uploadRef","readAsArrayBuffer","console","table","Êñá‰ª∂Á±ªÂûãÂøÖÈ°ª‰∏∫:'image/x-panasonic-raw'","title","action","ËØ∑Ê≠£Á°ÆÈÄâÊã©rawDataÊñá‰ª∂","[change] param:","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1085cLbnTZ","__proto__","call","onload","result","constructor","length","11px","input","27sbGJFi","prototype","704772uvQKUq","gger"," ÁÇπÂáªÊàñËÄÖÊãñÊãΩrawDataÊñá‰ª∂Âà∞Ê≠§Âå∫Âüü ","exception","warning","debu"," yËΩ¥ÈïøÂ∫¶Ôºö ","type","480790RcPJRs","2.8em","log","2yEAGNh","byteArray","card-wrapper","target","toString"," xËΩ¥ÈïøÂ∫¶Ôºö ","261692EKnGPS","modelValue","1006936FIOcBz","return (function() ","block","2.4em","info","counter","div","zExtent","10px","importRawUI","ËØ∑Ê≠£Á°ÆËæìÂÖ•Êï∞ÂÄº","dataType","raw",'{}.constructor("return this")( )',"trace"];return(ct=function(){return t})()}!function(){it(this,(function(){const t=st,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(459),"i"),r=ft("init");n[t(447)](r+"chain")&&e[t(447)](r+t(468))?ft():r("0")}))()}();const ut=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();ut(void 0,(function(){const t=st;let n;try{n=Function(t(491)+t(503)+");")()}catch(o){n=window}const e=n[t(452)]=n[t(452)]||{},r=[t(481),"warn",t(494),t(507),t(474),t(453),t(504)];for(let a=0;a<r[t(466)];a++){const n=ut[t(465)][t(470)][t(449)](ut),o=r[a],i=e[o]||n;n[t(461)]=ut[t(449)](ut),n[t(486)]=i[t(486)][t(449)](i),e[o]=n}}))();const lt={key:0,class:at(484)};function ft(t){function n(t){const e=st;if(typeof t===e(506))return function(t){}.constructor(e(511))[e(443)](e(495));1!==(""+t/t)[e(466)]||t%20==0?function(){return!0}[e(465)]("debu"+e(472))[e(462)](e(456)):function(){return!1}.constructor(e(476)+e(472))[e(443)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const pt=H(h({__name:at(499),setup(t){const n=at,e=u();e[n(440)]=256,e[n(512)]=256,e.zExtent=109;const r=g(null),o=g([]),a=t=>{const e=n;console[e(481)](e(458),t)},i=()=>{var t;const e=n;o[e(508)][e(466)]>1&&(null==(t=r[e(508)])||t.removeFile(o[e(508)][0]))},s=()=>{const t=n;if(1!=o.value[t(466)])return B.warning(t(457)),!1;if(e[t(440)]<=0||e[t(512)]<=0||e.zExtent<=0)return B.warning(t(500)),!1;if("image/x-panasonic-raw"!==o[t(508)][0][t(502)][t(478)])return B[t(475)](t(454)),!1;const r=new FileReader;return r[t(463)]=function(n){const r=t,o=n[r(485)][r(464)];e.setArrayBuffer(o)},r[t(451)](o.value[0][t(502)]),!0};return(t,c)=>{const u=n;return j(e)[u(483)]?E("",!0):(w(),_("div",lt,[I(j(q),{header:u(510)},{default:z((()=>[c[10]||(c[10]=v(u(496),{style:{"margin-bottom":u(467)}},[S(u(442)),v("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},u(446))],-1)),I(j(M),{style:{"min-height":"2.8em"}},{default:z((()=>[I(j(O),{span:6,style:{"line-height":u(493)}},{default:z((()=>c[5]||(c[5]=[S(u(487))]))),_:1}),I(j(O),{span:18},{default:z((()=>[I(j(V),{precision:0,modelValue:j(e)[u(440)],"onUpdate:modelValue":c[0]||(c[0]=t=>j(e).xExtent=t),autofocus:""},null,8,[u(489)])])),_:1})])),_:1}),I(j(M),{style:{"min-height":"2.8em"}},{default:z((()=>[I(j(O),{span:6,style:{"line-height":"2.4em"}},{default:z((()=>c[6]||(c[6]=[S(u(477))]))),_:1}),I(j(O),{span:18},{default:z((()=>[I(j(V),{precision:0,modelValue:j(e)[u(512)],"onUpdate:modelValue":c[1]||(c[1]=t=>j(e)[u(512)]=t),autofocus:""},null,8,[u(489)])])),_:1})])),_:1}),I(j(M),{style:{"min-height":u(480)}},{default:z((()=>[I(j(O),{span:6,style:{"line-height":u(493)}},{default:z((()=>c[7]||(c[7]=[S(" zËΩ¥ÈïøÂ∫¶Ôºö ")]))),_:1}),I(j(O),{span:18},{default:z((()=>[I(j(V),{precision:0,modelValue:j(e)[u(497)],"onUpdate:modelValue":c[2]||(c[2]=t=>j(e)[u(497)]=t),autofocus:""},null,8,[u(489)])])),_:1})])),_:1}),I(j(F),{modelValue:j(e)[u(445)],"onUpdate:modelValue":c[3]||(c[3]=t=>j(e)[u(445)]=t),style:{"margin-bottom":u(498)}},{default:z((()=>[(w(!0),_(A,null,T(j(e)[u(501)],((t,n)=>{const e=u;return w(),R(j(k),{key:n,value:n},{default:z((()=>[I(j(U),{style:{"max-width":"300px"}},{default:z((()=>[S(L(t[e(455)]),1)])),_:2},1024)])),_:2},1032,[e(508)])})),128))])),_:1},8,[u(489)]),I(j(P),{ref_key:u(450),ref:r,fileList:o[u(508)],"onUpdate:fileList":c[4]||(c[4]=t=>o[u(508)]=t),onChange:a,httpRequest:i},{default:z((()=>[I(j(G),null,{default:z((()=>c[8]||(c[8]=[S(u(473))]))),_:1})])),_:1},8,["fileList"]),I(j(Z),{style:{display:u(492),margin:u(505)},onClick:s},{icon:z((()=>[I(j(C))])),default:z((()=>[c[9]||(c[9]=S(" Èù¢Ââñ‰ΩìÊï∞ÊçÆ"))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]);!function(t,n){const e=gt,r=ht();for(;;)try{if(671776===parseInt(e(274))/1+-parseInt(e(275))/2+-parseInt(e(272))/3*(-parseInt(e(279))/4)+parseInt(e(267))/5+-parseInt(e(270))/6*(-parseInt(e(277))/7)+-parseInt(e(269))/8*(parseInt(e(285))/9)+-parseInt(e(268))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const mt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[gt(300)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){mt(this,(function(){const t=gt,n=new RegExp(t(296)),e=new RegExp(t(289),"i"),r=xt("init");n[t(278)](r+t(297))&&e.test(r+"input")?xt():r("0")}))()}();const dt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[gt(300)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function ht(){const t=["bind","trace","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#201919","rgb(255, 0, 0)","gger","return (function() ","constructor","stateObject","function *\\( *\\)","chain","rgb(0, 255, 255)","call","apply","string","info",'{}.constructor("return this")( )',"prototype","debu","4450880cPYvkc","16781940KaecOS","40wSULVA","144dIVgUm","console","3nqqNUw","exception","146866CnSVrs","1277200MHzzhl","length","353164nyhUHs","test","4227240emUKiY","error","toString","table","counter","byteArray","569034fWojFp"];return(ht=function(){return t})()}function gt(t,n){const e=ht();return(gt=function(t,n){return e[t-=263]})(t,n)}dt(void 0,(function(){const t=gt;let n;try{n=Function(t(293)+t(264)+");")()}catch(o){n=window}const e=n[t(271)]=n[t(271)]||{},r=["log","warn",t(263),t(280),t(273),t(282),t(287)];for(let a=0;a<r[t(276)];a++){const n=dt[t(294)][t(265)][t(286)](dt),o=r[a],i=e[o]||n;n.__proto__=dt.bind(dt),n[t(281)]=i[t(281)][t(286)](i),e[o]=n}}))();const yt=h({__name:"rawDataSurfaceSection",setup(t){const n=gt,e=x({clearColor:n(290),antialias:!0}),r=u();return(t,o)=>{const a=n;return w(),_(A,null,[j(r)[a(284)]?(w(),R(l,{key:0,curColorList:[["rgba(0, 0, 0, 0)",0],[a(298),.4],[a(291),1]]})):E("",!0),I(j(s),D(e,{"window-size":""}),{default:z((()=>[o[0]||(o[0]=v("TresPerspectiveCamera",{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),I(j(i)),j(r).byteArray?(w(),R(rt,{key:0})):E("",!0)])),_:1},16),I(pt)],64)}}});function xt(t){function n(t){const e=gt;if(typeof t===e(301))return function(t){}[e(294)]("while (true) {}").apply(e(283));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(266)+e(292))[e(299)](e(288)):function(){return!1}[e(294)](e(266)+e(292))[e(300)](e(295)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{yt as default};
