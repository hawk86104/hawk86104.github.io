import{C as t,_ as n,cT as e}from"./three.qSkR4_5R1743066865732.js";import{P as o}from"./tweakpane.ivGeiIdz1743066865732.js";import{m as r,e as s}from"./@tresjs.NxYvETXi1743066865732.js";import{P as i,b as a,c,M as p,T as u,a as l,d as m}from"./index.tWOGJ_jL1743066865732.js";import{d as f,a2 as g,w as d,o as h,H as j,u as w,v as b,r as x,e as v,j as y,g as I,m as z,F as _}from"./@vue.L-brCdZe1743066865732.js";import{_ as C}from"./raycasterEvent.YarRlBRD1743066865732.js";import{a as M}from"./utils.zqclBD201743066865732.js";import"./postprocessing.ncQBP5me1743066865732.js";import"./@vueuse.2gpu5LGS1743066865732.js";import"./@mapbox.lMdYodhq1743066865732.js";import"./three-mesh-bvh.cqCwxsrV1743066865732.js";import"./three-custom-shader-material.IZIiFiAC1743066865732.js";import"./@fesjs.ZOctjJCV1743066865732.js";import"./vue-router.s-CF-R2-1743066865732.js";import"./lodash-es.pklfUAS51743066865732.js";import"./@qlin.o0hjOMCg1743066865732.js";import"./pinia.xxHB-xrp1743066865732.js";import"./@floating-ui.HzHndBae1743066865732.js";import"./@juggle.4EyLec-41743066865732.js";import"./@tweenjs.VprmkNmT1743066865732.js";import"./utils.F_8Sm4P51743066865732.js";import"./d3-geo.Y2Um_wU91743066865732.js";import"./d3-array.dSwsClwB1743066865732.js";import"./http.8NdIfIio1743066865732.js";import"./axios.FtfblEUV1743066865732.js";import"./color.vbBcOZ0F1743066865732.js";import"./@amap.h2kWdZ7d1743066865732.js";import"./color-string.1j81VK8e1743066865732.js";import"./color-name.ihHi6eny1743066865732.js";import"./simple-swizzle.orJl35i11743066865732.js";import"./is-arrayish.J2NFqz4k1743066865732.js";import"./color-convert.ulXyrzVM1743066865732.js";import"./lodash.ZF3UtoFw1743066865732.js";import"./naive-ui.H8xUsJf61743066865732.js";import"./date-fns.GaXm0A5x1743066865732.js";import"./@css-render.eGvaGDmM1743066865732.js";import"./seemly.g-Mp7qhc1743066865732.js";import"./css-render.MGE477E41743066865732.js";import"./@emotion.ZD_ZYAgY1743066865732.js";import"./vooks.XKHJUM-T1743066865732.js";import"./evtd.uXDg6RK81743066865732.js";import"./vueuc.P7-rLjZ91743066865732.js";import"./vdirs.RzggNLwX1743066865732.js";import"./treemate.dcEdf2le1743066865732.js";import"./date-fns-tz.UPqypz9U1743066865732.js";import"./async-validator.-YBkpS4I1743066865732.js";function B(){const t=["update","5018056woovQU","tweenInstance","useWorker","9123510PmAzkN","position","dampingFactor","lookAt","prototype","tileMapMesh","mapCenter","counter","abs","3944024nwgQcW","innerWidth","innerHeight","stateObject","info","2012898RgGfBx","Vector3","useStandardMaterial","#fff","9pYLgzJ","function *\\( *\\)",'{}.constructor("return this")( )',"updateProjectionMatrix","bbox","rotation","far","render","chain","11359030rKuGdX","set","monochrome","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","opposite","filter","enableDamping","isMonochrome","call","apply","minDistance","8799isqiof","3jJTjxW","Color","exception","console","primitive","wireframe","gger","return (function() ","genBright","showTileNo","domElement","provider","maxZoom","5838pUzXZU","constructor","coordType","value","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","error","string","while (true) {}","debu","4420610cFldiu","warn","bind","table","genContrast","object","genSaturation","source","PerspectiveCamera","toString","1RlscWE","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(B=function(){return t})()}const S=A;!function(t,n){const e=A,o=B();for(;;)try{if(645716===-parseInt(e(434))/1*(parseInt(e(455))/2)+-parseInt(e(402))/3*(parseInt(e(438))/4)+parseInt(e(424))/5+-parseInt(e(415))/6*(-parseInt(e(401))/7)+parseInt(e(450))/8+-parseInt(e(459))/9*(-parseInt(e(468))/10)+-parseInt(e(441))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(477)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=A,n=new RegExp(t(460)),e=new RegExp(t(436),"i"),o=E(t(435));n.test(o+t(467))&&e.test(o+"input")?E():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(477)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();R(void 0,(function(){const t=A;let n;try{n=Function(t(409)+t(461)+");")()}catch(r){n=window}const e=n[t(405)]=n[t(405)]||{},o=["log",t(425),t(454),t(420),t(404),t(427),"trace"];for(let s=0;s<o.length;s++){const n=R[t(416)][t(445)][t(426)](R),r=o[s],i=e[r]||n;n.__proto__=R.bind(R),n[t(433)]=i[t(433)][t(426)](i),e[r]=n}}))();const P=[S(429),S(464)];function A(t,n){const e=B();return A=function(t,n){return e[t-=401]},A(t,n)}const D=f({__name:S(446),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:S(458)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:m}){const f=S,b=o,{renderer:x,scene:v}=r(),y=new i;y[f(417)]=a;const I=new c;I[f(431)]=f(471),I[f(417)]=a;const z=new p;z[f(431)]=f(419),z[f(411)]=!1,z[f(440)]=!0;const _=new u(y,z);if(_.showBoundingBox=!1,_[f(407)]=!1,_.flatShading=!1,_[f(457)]=!1,_[f(473)]={opposite:b.opposite,monochrome:b[f(475)]?{r:.299,g:.587,b:.114}:null,genBright:b.genBright,genContrast:b[f(428)],genSaturation:b[f(430)]},b[f(470)]){let n=new t(b[f(470)]);_[f(473)]&&(_[f(473)][f(470)]={r:n.r,g:n.g,b:n.b})}const C=new l;C[f(413)]=_,C.bbox=b[f(463)],C[f(414)]=b[f(414)];const M=new(n[f(432)])(60,window[f(451)]/window[f(452)],1,1e8);M.up=new(n[f(456)])(0,1,0),M.position[f(469)](b[f(447)][0],b.mapCenter[2],-b.mapCenter[1]),M[f(444)](new(n[f(456)])(M.position.x,0,M[f(442)].z-2e3)),C.camera=M;let B=null;g((()=>{const t=f;x[t(418)]&&!B&&(B=new e(M,x[t(418)][t(412)]),B[t(474)]=!0,B[t(443)]=.05,B[t(478)]=600,B.position0[t(469)](M[t(442)].x,M[t(442)].y,M.position.z),B.target.set(M[t(442)].x,0,M[t(442)].z-2e3))})),d((()=>[b[f(472)],b[f(475)],b.monochrome]),(([t,e,o])=>{const r=f;if(_.filter){let s=new(n[r(403)])(o);_[r(473)][r(472)]=t,_.filter.monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),d((()=>[b[f(410)],b[f(428)],b[f(430)]]),(([t,n,e])=>{const o=f;_.filter&&(_[o(473)][o(410)]=t,_[o(473)][o(428)]=n,_[o(473)].genSaturation=e)}));const{onLoop:k}=s();return k((()=>{const t=f;if(x[t(418)]){b[t(439)]?.[t(437)](),B&&B[t(437)](),C.update();const n=50*Math[t(449)](M.position.y);M[t(465)]=n+5e3,M[t(462)](),x[t(418)][t(466)](v[t(418)],M)}})),m({camera:M,map:C,orbitControl:B}),(t,n)=>{const e=f;return h(),j(e(406),{object:w(C),rotation:[-Math.PI/2,0,0]},null,8,P)}}});function E(t){function n(t){const e=A;if(typeof t===e(421))return function(t){}.constructor(e(422)).apply(e(448));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(423)+"gger")[e(476)]("action"):function(){return!1}.constructor(e(423)+e(408)).apply(e(453)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=T,o=W();for(;;)try{if(566153===-parseInt(e(118))/1*(parseInt(e(104))/2)+parseInt(e(152))/3*(-parseInt(e(119))/4)+parseInt(e(137))/5+parseInt(e(147))/6*(-parseInt(e(129))/7)+-parseInt(e(103))/8*(parseInt(e(148))/9)+parseInt(e(122))/10*(-parseInt(e(117))/11)+-parseInt(e(121))/12*(-parseInt(e(113))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(160)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(150),"i"),o=F("init");n.test(o+t(133))&&e[t(124)](o+t(158))?F():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=W();return T=function(t,n){return e[t-=103]},T(t,n)}function W(){const t=["7LtiVhf","debu","牛首山","length","chain","log","while (true) {}","constructor","4753515QDsUbP","NoToneMapping","manual","__proto__","genSaturation","#201919","camera","console","tileMapRef","nss","1960998DSCJNl","77553Utkoif","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","对比度","508446rWiQrN","奥体中心",'{}.constructor("return this")( )',"orbitControl","SRGBColorSpace","xjk","input","call","apply","info","prototype","value","32lJDXPn","2IQmYBn","bind","新街口","gger","isMonochrome","counter","genContrast","TresCanvas","return (function() ","221NshWND","单色滤镜","exception","opposite","11uqIeLN","110153UFzQue","4KPDjjs","tweenInstance","528552SEdoxp","4923960OAQhvz","genBright","test","change","Vector3","addBinding","list"];return(W=function(){return t})()}Q(void 0,(function(){const t=T;let n;try{n=Function(t(112)+t(154)+");")()}catch(r){n=window}const e=n.console=n[t(144)]||{},o=[t(134),t(149),t(161),"error",t(115),"table","trace"];for(let s=0;s<o[t(132)];s++){const n=Q[t(136)][t(162)][t(105)](Q),r=o[s],i=e[r]||n;n[t(140)]=Q[t(105)](Q),n.toString=i.toString[t(105)](i),e[r]=n}}))();const Z=f({__name:"tileMap",setup(t){const e=T,r=m(118.779958,32.017136),s=[r[0],r[1],5e3],i=b(),a=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:s,tweenInstance:null}),c=new o({title:"参数"});c[e(127)](a,e(116),{label:"反色"}),c.addBinding(a,e(123),{label:"高亮",min:.1,max:3,step:.1}),c[e(127)](a,e(110),{label:e(151),min:.1,max:3,step:.1}),c[e(127)](a,e(141),{label:"饱和度",min:.1,max:3,step:.1}),c.addBinding(a,e(108),{label:e(114)}),c[e(127)](a,"monochrome",{label:"滤镜颜色"});const p={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};c.addBlade({view:e(128),label:"飞去",options:[{text:e(153),value:"at"},{text:e(106),value:e(157)},{text:e(131),value:e(146)}],value:"at"}).on(e(125),(t=>{const o=e,r=new(n[o(126)])(p[t[o(163)]][0],2e3,-p[t.value][1]);a[o(120)]=M(i[o(163)][o(143)],r,i[o(163)][o(155)],[0,-300],4e3)}));const u=x({clearColor:e(142),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(139),outputColorSpace:n[e(156)],toneMapping:n[e(138)]});return setTimeout((()=>{const t=e,o=p.at,r=new(n[t(126)])(o[0],1600,-o[1]);a[t(120)]=M(i.value[t(143)],r,i[t(163)][t(155)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v(o(111));return h(),j(_,null,[y(r,z(u,{"window-size":""}),{default:I((()=>[y(D,z(a,{ref_key:"tileMapMeshRef",ref:i,bbox:[80,16,128,50]}),null,16)])),_:1},16),y(C,{tileMapRef:i[o(163)]},null,8,[o(145)])],64)}}});function F(t){function n(t){const e=T;if("string"==typeof t)return function(t){}[e(136)](e(135))[e(160)](e(109));1!==(""+t/t)[e(132)]||t%20==0?function(){return!0}[e(136)](e(130)+e(107))[e(159)]("action"):function(){return!1}[e(136)](e(130)+e(107)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
