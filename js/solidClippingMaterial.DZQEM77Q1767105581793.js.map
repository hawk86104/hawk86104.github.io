{"version":3,"file":"solidClippingMaterial.DZQEM77Q1767105581793.js","sources":["../../src/plugins/basic/shader/solidClippingMaterial.frag","../../src/plugins/basic/components/solidClippingMaterial.vue","../../src/plugins/basic/pages/materials/solidClippingMaterial.vue"],"sourcesContent":["uniform vec3 cutSectionColor;\nvoid main() {\n    if(!gl_FrontFacing){\n        csm_FragColor = vec4( cutSectionColor, csm_DiffuseColor.a );\n    }\n}","<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-12-26 09:31:40\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2024-12-26 12:09:31\n-->\n<template>\n    <CustomShaderMaterial :baseMaterial=\"THREE.MeshPhongMaterial\" :fragmentShader=\"fragmentShader\" :uniforms=\"uniforms\" />\n</template>\n<script setup lang=\"ts\">\nimport { watch } from 'vue'\nimport * as THREE from 'three'\nimport { CustomShaderMaterial } from '@tresjs/cientos'\nimport fragmentShader from '../shader/solidClippingMaterial.frag'\n\nconst props = defineProps({\n    cutSectionColor: {\n        default: '#aaff11',\n    },\n})\n\nconst uniforms = {\n    cutSectionColor: {\n        value: new THREE.Color(props.cutSectionColor),\n    },\n}\n\nwatch(\n    () => props.cutSectionColor,\n    (cutSectionColor) => {\n        uniforms.cutSectionColor.value.set(cutSectionColor)\n    },\n)\n</script>\n","<!--\n * @Description:  \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-12-26 09:31:58\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-24 08:50:54\n-->\n<script setup lang=\"ts\">\nimport { ref, watchEffect, reactive } from 'vue'\n\nimport { OrbitControls } from '@tresjs/cientos'\nimport { Plane, Vector3, DoubleSide } from 'three'\nimport { Pane } from 'tweakpane'\nimport solidClippingMaterial from '../../components/solidClippingMaterial.vue'\n\nconst tcRef = ref()\n\nconst clipPlanes = [new Plane(new Vector3(1, 0, 0), 0), new Plane(new Vector3(0, -1, 0), 0), new Plane(new Vector3(0, 0, -1), 0)]\nconst params = reactive({\n    color: '#aaff11',\n})\n\nwatchEffect(() => {\n    if (tcRef.value) {\n        const renderer = tcRef.value.context.renderer.instance\n        renderer.localClippingEnabled = true\n    }\n})\n\nconst paneControl = new Pane({\n    title: '裁剪参数',\n    expanded: true,\n})\npaneControl.addBinding(params, 'color', {\n    label: '填补颜色',\n})\npaneControl.addBinding(clipPlanes[0], 'constant', {\n    label: 'x',\n    min: -1,\n    max: 1,\n    step: 0.1,\n})\npaneControl.addBinding(clipPlanes[1], 'constant', {\n    label: 'y',\n    min: -1,\n    max: 1,\n    step: 0.1,\n})\npaneControl.addBinding(clipPlanes[2], 'constant', {\n    label: 'z',\n    min: -1,\n    max: 1,\n    step: 0.1,\n})\n</script>\n\n<template>\n    <TresCanvas ref=\"tcRef\" window-size :clearColor=\"0x0000001\">\n        <TresPerspectiveCamera :fov=\"40\" :near=\"0.1\" :far=\"200\" :position=\"[-1.5, 2.5, 3.0]\" />\n        <TresGridHelper :args=\"[2, 10]\" :position=\"[0, -1, 0]\" />\n        <TresHemisphereLight :args=\"[0xffffff, 0x080808, 4.5]\" :position=\"[-1.25, 1, 1.25]\" />\n        <OrbitControls />\n\n        <TresGroup>\n            <TresMesh v-for=\"i in 3\" :key=\"i\">\n                <TresSphereGeometry :args=\"[i / 3, 48, 24]\" />\n                <solidClippingMaterial\n                    :cutSectionColor=\"params.color\"\n                    :color=\"[i / 3, i % 3, i % 2]\"\n                    :side=\"DoubleSide\"\n                    :clippingPlanes=\"clipPlanes\"\n                    clipIntersection\n                />\n            </TresMesh>\n        </TresGroup>\n    </TresCanvas>\n</template>\n"],"names":["_createBlock","_unref","CustomShaderMaterial","fragmentShader","OrbitControls","solidClippingMaterial"],"mappings":"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"}