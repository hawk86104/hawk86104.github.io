var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.gb9PJP9f1728467445434.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.pglcPP2y1728467445434.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.70HmwloO1728467445434.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,A as v,V as m}from"./three.5octV-9b1728467445434.js";import{p as w,U as h}from"./@tresjs.ED4ePb8T1728467445434.js";import{u as g}from"./index.xVBfADvU1728467445434.js";import{F as d,C as y}from"./three-stdlib.xkG8GRWH1728467445434.js";import{d as S}from"./@vue.JNsx1iN61728467445434.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.FvAJYU_Z1728467445434.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.i1_P1gUD1728467445434.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.t8GV0Ywb1728467445434.js";function P(){const t=["932418qvSBFe","10WLCwbV","init","function *\\( *\\)","info","debu","action","length","24AuOHoG","__proto__","while (true) {}","apply","683120tTvdik","error","table","6GKkkxi","exception","return (function() ","counter","input",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"test","toString","prototype","7028811TFuJkO","chain","trace","console","stateObject",'{}.constructor("return this")( )',"789200LCtsqa","log","gger","call","271521vDSsDI","1341179IVxtGS","constructor","bind","2248835kUnnAa"];return(P=function(){return t})()}const _=z;function z(t,e){const n=P();return(z=function(t,e){return n[t-=345]})(t,e)}!function(t,e){const n=z,i=P();for(;;)try{if(610693===parseInt(n(381))/1+parseInt(n(351))/2+parseInt(n(346))/3+parseInt(n(363))/4+parseInt(n(350))/5*(parseInt(n(366))/6)+parseInt(n(347))/7*(-parseInt(n(359))/8)+-parseInt(n(375))/9*(parseInt(n(352))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(362)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){b(this,(function(){const t=z,e=new RegExp(t(354)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=M(t(353));e[t(372)](i+t(376))&&n[t(372)](i+t(370))?M():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(362)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();I(void 0,(function(){const t=z,e=function(){const t=z;let e;try{e=Function(t(368)+t(380)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(378)]||{},i=[t(382),"warn",t(355),t(364),t(367),t(365),t(377)];for(let r=0;r<i[t(358)];r++){const e=I[t(348)][t(374)][t(349)](I),a=i[r],o=n[a]||e;e[t(360)]=I[t(349)](I),e[t(373)]=o[t(373)][t(349)](o),n[a]=e}}))();const A=_(371);function M(t){function e(t){const n=z;if("string"==typeof t)return function(t){}[n(348)](n(361)).apply(n(369));1!==(""+t/t)[n(358)]||t%20==0?function(){return!0}[n(348)](n(356)+n(383))[n(345)](n(357)):function(){return!1}.constructor(n(356)+n(383))[n(362)](n(379)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const E=j;!function(t,e){const n=j,i=U();for(;;)try{if(504771===parseInt(n(225))/1*(parseInt(n(240))/2)+parseInt(n(220))/3+-parseInt(n(229))/4*(parseInt(n(236))/5)+parseInt(n(217))/6+-parseInt(n(245))/7*(parseInt(n(252))/8)+-parseInt(n(251))/9+parseInt(n(230))/10*(parseInt(n(219))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){D(this,(function(){const t=j,e=new RegExp(t(250)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=V("init");e[t(227)](i+t(226))&&n[t(227)](i+"input")?V():i("0")}))()}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[j(241)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(){const t=["length","warn","3235897UxapUO","error",'{}.constructor("return this")( )',"constructor","toString","function *\\( *\\)","208521JydeZH","8MbDgqG","console","931542CCjwtD","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","182402syWpgC","1022787eTsQVy","prototype","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","stateObject","gger","479736RagyqN","chain","test","table","4OyAzdm","550kuQnfz","debu","bind","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","__proto__","return (function() ","4488605XIZASj","exception","action","info","2azPAAu","apply","uniforms"];return(U=function(){return t})()}function T(t){const e=j,n=a({},t);return"defines"in t&&(n.defines=a({},t.defines)),e(242)in t&&(n.uniforms=s.clone(t[e(242)])),n}L(void 0,(function(){const t=j;let e;try{e=Function(t(235)+t(247)+");")()}catch(r){e=window}const n=e.console=e[t(253)]||{},i=["log",t(244),t(239),t(246),t(237),t(228),"trace"];for(let a=0;a<i[t(243)];a++){const e=L[t(248)][t(221)][t(232)](L),r=i[a],o=n[r]||e;e[t(234)]=L[t(232)](L),e.toString=o[t(249)][t(232)](o),n[r]=e}}))();const O={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:E(218),fragmentShader:E(233)+A+E(222)};function j(t,e){const n=U();return(j=function(t,e){return n[t-=217]})(t,e)}function V(t){function e(t){const n=j;if("string"==typeof t)return function(t){}[n(248)]("while (true) {}")[n(241)]("counter");1!==(""+t/t)[n(243)]||t%20==0?function(){return!0}.constructor("debugger").call(n(238)):function(){return!1}[n(248)](n(231)+n(224))[n(241)](n(223)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=W;!function(t,e){const n=W,i=F();for(;;)try{if(516265===-parseInt(n(142))/1+-parseInt(n(167))/2*(-parseInt(n(195))/3)+-parseInt(n(179))/4+parseInt(n(147))/5+parseInt(n(180))/6+parseInt(n(168))/7+parseInt(n(203))/8)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(156)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){C(this,(function(){const t=W,e=new RegExp(t(161)),n=new RegExp(t(164),"i"),i=N(t(151));e[t(176)](i+"chain")&&n[t(176)](i+t(153))?N():i("0")}))()}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(156)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();R(void 0,(function(){const t=W;let e;try{e=Function("return (function() "+t(174)+");")()}catch(r){e=window}const n=e[t(169)]=e[t(169)]||{},i=[t(139),t(152),t(182),"error",t(146),t(157),t(183)];for(let a=0;a<i[t(197)];a++){const e=R[t(141)][t(190)][t(135)](R),r=i[a],o=n[r]||e;e[t(162)]=R[t(135)](R),e[t(163)]=o[t(163)][t(135)](o),n[r]=e}}))();const Z=new l;class H{constructor(t){const e=W;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=T(O);n.fragmentShader=n.fragmentShader.replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0].defines.X_IS_EVEN=0,i[0].defines[e(173)]=0,i[1]=new c(T(n)),i[1].defines[e(194)]=1,i[1][e(158)][e(173)]=0,i[2]=new c(T(n)),i[2][e(158)][e(194)]=0,i[2][e(158)][e(173)]=1,i[3]=new c(T(n)),i[3][e(158)][e(194)]=1,i[3].defines[e(173)]=1;const r=new u;r[e(155)].minFilter=p,r.texture[e(170)]=p,this._swapTarget=r,this._copyQuad=new d(new c(y)),this[e(148)]=new d(null),this[e(201)]=i}[k(193)](t,e,n,i=!1){const r=k;t.isWebGLRenderTarget&&(t=t[r(155)]);const o=n[r(191)],s=n.getClearAlpha(),l=n[r(136)]();n[r(196)](Z);const c=this[r(165)],u=this[r(148)],p=this._swapTarget,x=this[r(201)];let v,m;i?(v=f[r(186)](t[r(144)][r(184)]),m=f[r(186)](t[r(144)].height)):(v=Math[r(187)](t.image.width),m=Math[r(187)](t.image.height));const w=Math[r(187)](1.5*v),h=Math[r(187)](m);e[r(175)](w,h),p[r(155)][r(181)]!==e.texture[r(181)]?(p[r(188)](),p[r(140)](e),p[r(155)][r(144)]=a({},p.texture[r(144)])):p[r(175)](w,h),n[r(191)]=!1,n[r(149)](0),n.setClearAlpha(),c.material[r(192)][r(205)][r(171)]=t,c.camera[r(150)](v,m,0,0,w,h),n[r(200)](e),n[r(198)](),c[r(166)](n),n[r(200)](p),n[r(198)](),c.render(n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(192)][r(138)][r(171)]=p[r(155)],t.uniforms[r(145)].value=y,t[r(192)][r(204)][r(171)][r(159)](g,d),t[r(192)][r(160)][r(171)].set(v,m),u[r(154)]=t,g=Math[r(187)](g/2),d=Math[r(187)](d/2);const i=h-2*d;n[r(200)](e),u[r(189)][r(150)](g,d,-v,-i,w,h),u[r(166)](n),n[r(200)](p),t[r(192)].map[r(171)]=e.texture,u.render(n),y++}return n.setRenderTarget(l),n.setClearAlpha(s),n[r(149)](Z),n[r(191)]=o,y+1}[k(188)](){const t=k;this._swapTarget[t(188)](),this[t(148)][t(188)](),this[t(165)][t(188)](),this[t(201)][t(199)]((e=>e[t(188)]()))}}function W(t,e){const n=F();return(W=function(t,e){return n[t-=135]})(t,e)}function N(t){function e(t){const n=W;if("string"==typeof t)return function(t){}[n(141)](n(137))[n(156)](n(177));1!==(""+t/t)[n(197)]||t%20==0?function(){return!0}[n(141)](n(185)+n(178))[n(202)](n(143)):function(){return!1}[n(141)](n(185)+n(178))[n(156)](n(172)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function F(){const t=["length","clear","forEach","setRenderTarget","_mipMaterials","call","4264584DqZSHp","parentMapSize","tDiffuse","bind","getRenderTarget","while (true) {}","map","log","copy","constructor","825555dwDZuh","action","image","parentLevel","exception","3277475luJniA","_mipQuad","setClearColor","setViewOffset","init","warn","input","material","texture","apply","table","defines","set","originalMapSize","function *\\( *\\)","__proto__","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_copyQuad","render","2bmvQLP","2672376yZoOIl","console","magFilter","value","stateObject","Y_IS_EVEN",'{}.constructor("return this")( )',"setSize","test","counter","gger","3808308VghdjM","1319760LoYuKZ","type","info","trace","width","debu","floorPowerOfTwo","floor","dispose","camera","prototype","autoClear","uniforms","update","X_IS_EVEN","1510803gheEOC","getClearColor"];return(F=function(){return t})()}!function(t,e){const n=$,i=X();for(;;)try{if(177199===parseInt(n(305))/1+parseInt(n(312))/2+-parseInt(n(284))/3+-parseInt(n(309))/4+-parseInt(n(291))/5+parseInt(n(293))/6+parseInt(n(255))/7*(parseInt(n(295))/8))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){G(this,(function(){const t=$,e=new RegExp(t(282)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=q(t(277));e[t(260)](i+"chain")&&n[t(260)](i+t(263))?q():i("0")}))()}();const Q=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(297)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function X(){const t=["Quaternion","Vector3","gger","state","184795nIFaVk","forEach","242772UyasDe","constructor","8oGDbAQ","value","apply","call","getWorldQuaternion","string","console","parent","debu","exception","181547lloKtW","stateObject","PerspectiveCamera","Vector4","1037460NMzpZH","copy","update","89284cCLygo",'{}.constructor("return this")( )',"table","resolution","constant","normal","autoClear","projectPoint","bind","depth","setMask","visible","dot","multiply","sub","reflect","lookAt","getWorldPosition","toString","3312939KGgKpZ","UnsignedByteType","Matrix4","Plane","sign","test","texture","trace","input","log","length","applyMatrix4","getRenderTarget","position","clone","__proto__","ignoreObjects","add","negate","matrixWorld","elements","matrixWorldInverse","init","multiplyScalar","clear","updateMatrixWorld","counter","function *\\( *\\)","applyQuaternion","799215uGERUe","warn","set"];return(X=function(){return t})()}function $(t,e){const n=X();return($=function(t,e){return n[t-=242]})(t,e)}Q(void 0,(function(){const t=$,e=function(){const t=$;let e;try{e=Function("return (function() "+t(313)+");")()}catch(n){e=window}return e}(),n=e[t(301)]=e[t(301)]||{},i=[t(264),t(285),"info","error",t(304),t(314),t(262)];for(let r=0;r<i[t(265)];r++){const e=Q[t(294)].prototype.bind(Q),a=i[r],o=n[a]||e;e[t(270)]=Q[t(244)](Q),e[t(254)]=o[t(254)].bind(o),n[a]=e}}))();const Y=S({__name:"reflectorMipMap",props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=$,i=t,r=new(x[n(258)]),a=new(x[n(257)]),o=new(x[n(307)]),s=new H,l=g({width:i[n(315)],height:i[n(315)],settings:{type:x[n(256)]}}),c=g({width:i[n(315)],height:i[n(315)],settings:{type:v}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:d}=h();return d((()=>{const t=n;(()=>{const t=n;if(!u[t(296)])return;r[t(286)](new m(0,1,0),0),r[t(266)](i[t(302)][t(274)]),o[t(310)](u[t(296)]);const e=new(x[t(288)])(0,0,1)[t(269)]()[t(273)](),s=u.value[t(253)](new(x[t(288)]));e[t(251)](r[t(317)]);const c=new(x[t(288)]);r[t(243)](s,c);const v=c[t(269)]();v[t(250)](s),v[t(272)](c),o[t(268)][t(310)](v);const w=new m(0,0,-1);w[t(283)](u[t(296)][t(299)](new(x[t(287)]))),w[t(272)](s);const h=new(x[t(288)]);i.parent[t(253)](h),h.sub(w),h[t(251)](r[t(317)])[t(273)](),h[t(272)](i.parent.getWorldPosition(new(x[t(288)]))),o.up[t(286)](0,1,0),o[t(283)](u[t(296)][t(299)](new(x[t(287)]))),o.up[t(251)](r.normal),o[t(252)](h),o[t(280)]();const g=new(x[t(257)]);g[t(286)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g.multiply(o.projectionMatrix),g[t(249)](o[t(276)]),a[t(310)](g),r[t(266)](o[t(276)]);const d=new(x[t(308)])(r.normal.x,r[t(317)].y,r[t(317)].z,r[t(316)]),y=o.projectionMatrix,S=new(x[t(308)]);S.x=(Math[t(259)](d.x)+y[t(275)][8])/y[t(275)][0],S.y=(Math.sign(d.y)+y[t(275)][9])/y[t(275)][5],S.z=-1,S.w=(1+y.elements[10])/y[t(275)][14],d[t(278)](2/d[t(248)](S)),y.elements[2]=d.x,y[t(275)][6]=d.y,y.elements[10]=d.z+1,y[t(275)][14]=d.w;const P=p[t(296)][t(267)]();p[t(296)].setRenderTarget(l.value),p[t(296)][t(290)].buffers[t(245)][t(246)](!0),!1===p.value[t(242)]&&p[t(296)][t(279)](),i[t(271)][t(292)]((e=>e[t(247)]=!1)),p.value.render(f[t(296)],o),i.ignoreObjects[t(292)]((e=>e[t(247)]=!0)),p.value.setRenderTarget(P)})(),l[t(296)]&&c[t(296)]&&p.value&&s[t(311)](l[t(296)][t(261)],c[t(296)],p[t(296)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function q(t){function e(t){const n=$;if(typeof t===n(300))return function(t){}[n(294)]("while (true) {}")[n(297)](n(281));1!==(""+t/t).length||t%20==0?function(){return!0}[n(294)](n(303)+"gger")[n(298)]("action"):function(){return!1}[n(294)](n(303)+n(289)).apply(n(306)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=K();;)try{if(214858===parseInt(n(502))/1*(-parseInt(n(506))/2)+parseInt(n(482))/3*(parseInt(n(469))/4)+parseInt(n(496))/5*(-parseInt(n(478))/6)+-parseInt(n(497))/7+-parseInt(n(493))/8*(parseInt(n(489))/9)+-parseInt(n(476))/10*(-parseInt(n(494))/11)+parseInt(n(483))/12)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(499)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){J(this,(function(){var t=tt,e=new RegExp(t(487)),n=new RegExp(t(492),"i"),i=et(t(491));e[t(481)](i+"chain")&&n.test(i+t(473))?et():i("0")}))()}();var B=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(499)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function K(){var t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","48xYnzok","24695DCCIRB","action","582430NQbHXh","135828asJXWX","exception","apply","table","counter","1293ZUdmOw",'{}.constructor("return this")( )',"return (function() ","string","396ZzTmNa","4EtRZua","prototype","console","gger","input","debu","call","190XtHAgq","while (true) {}","18fwDsJq","log","stateObject","test","573357mGAMLJ","7651104uaGtQT","bind","constructor","trace","function *\\( *\\)","length","47448eTZsvk","toString","init"];return(K=function(){return t})()}function tt(t,e){var n=K();return(tt=function(t,e){return n[t-=469]})(t,e)}function et(t){function e(t){var n=tt;if(typeof t===n(505))return function(t){}[n(485)](n(477))[n(499)](n(501));1!==(""+t/t)[n(488)]||t%20==0?function(){return!0}[n(485)](n(474)+n(472))[n(475)](n(495)):function(){return!1}[n(485)](n(474)+n(472))[n(499)](n(480)),e(++t)}try{if(t)return e;e(0)}catch(n){}}B(void 0,(function(){var t,e=tt;try{t=Function(e(504)+e(503)+");")()}catch(l){t=window}for(var n=t[e(471)]=t.console||{},i=[e(479),"warn","info","error",e(498),e(500),e(486)],r=0;r<i[e(488)];r++){var a=B[e(485)][e(470)][e(484)](B),o=i[r],s=n[o]||a;a.__proto__=B[e(484)](B),a[e(490)]=s[e(490)][e(484)](s),n[o]=a}}))();export{Y as _};
