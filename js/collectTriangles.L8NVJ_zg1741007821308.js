import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.u6hJLBm41741007821308.js";import{_ as s}from"./index.KhHEmwwl1741007821308.js";import{_ as i,c,b as u,B as a,cz as l}from"./three.sBrYSCgq1741007821308.js";import{P as p}from"./tweakpane.yDiyAAkA1741007821308.js";import{c as f,d as m,a as h,I as g,C as d,N as y}from"./three-mesh-bvh.7EsR8FeE1741007821308.js";import{d as w,a3 as b,b as j,a2 as v,o as _,H as I,N as x,u as S,F as k,r as T,e as z,j as M,g as A,m as C,f as R,al as Z}from"./@vue.NRI7TcgI1741007821308.js";import"./postprocessing.rsQjznIU1741007821308.js";import"./@vueuse.jd1Cg91M1741007821308.js";import"./index.UQOL-S4I1741007821308.js";import"./@fesjs.5qm9mpwh1741007821308.js";import"./vue-router.ArfKSsyg1741007821308.js";import"./lodash-es.pklfUAS51741007821308.js";import"./@qlin.yHhFDldE1741007821308.js";import"./pinia.uil_kwoa1741007821308.js";import"./@floating-ui.BPbuo5Gx1741007821308.js";import"./@juggle.7yjBMqoW1741007821308.js";import"./chalk.9FGrMJNn1741007821308.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1741007821308.js";import"./@iconify.dt4P0LGS1741007821308.js";import"./dompurify.rQUea5mq1741007821308.js";import"./utils.wevx6nV81741007821308.js";import"./default.vue_vue_type_script_setup_true_lang.xcPqlkon1741007821308.js";import"./three-mesh-ui.module.W0-o2A7I1741007821308.js";!function(t,n){const e=L,r=B();for(;;)try{if(713962===-parseInt(e(210))/1*(parseInt(e(218))/2)+-parseInt(e(198))/3+-parseInt(e(226))/4+parseInt(e(215))/5+-parseInt(e(217))/6+-parseInt(e(193))/7+parseInt(e(233))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(206)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function B(){const t=["call","log","console","touch","innerHeight","12606080WqsmsZ","clientY","setFromCamera","bind","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","7627508eIKTFW","pointerdown","info","Raycaster","table","635910QhOnwU","pointerType","value","enabled","length","pointerup","button","function *\\( *\\)","apply","while (true) {}","return (function() ","warn","79CSsvwq","constructor","clientX","innerWidth","toString","6581390iceNxg","__proto__","1985472mhvPnp","8942lCkkhx","test","counter","gger","addEventListener","chain","stateObject","firstHitOnly","769364XLjoLn","debu"];return(B=function(){return t})()}!function(){U(this,(function(){const t=L,n=new RegExp(t(205)),e=new RegExp(t(191),"i"),r=O(t(190));n[t(219)](r+t(223))&&e[t(219)](r+"input")?O():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(206)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(t,n){const e=B();return(L=function(t,n){return e[t-=190]})(t,n)}F(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(208)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(230)]=n[t(230)]||{},r=[t(229),t(209),t(195),"error","exception",t(197),"trace"];for(let o=0;o<r[t(202)];o++){const n=F[t(211)].prototype.bind(F),s=r[o],i=e[s]||n;n[t(216)]=F[t(236)](F),n[t(214)]=i[t(214)][t(236)](i),e[s]=n}}))();function O(t){function n(t){const e=L;if("string"==typeof t)return function(t){}[e(211)](e(207))[e(206)](e(220));1!==(""+t/t)[e(202)]||t%20==0?function(){return!0}.constructor(e(227)+e(221))[e(228)](e(192)):function(){return!1}[e(211)](e(227)+e(221))[e(206)](e(224)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const E=N;!function(t,n){const e=N,r=$();for(;;)try{if(893941===parseInt(e(316))/1+-parseInt(e(346))/2+parseInt(e(321))/3+-parseInt(e(303))/4+-parseInt(e(356))/5*(parseInt(e(360))/6)+-parseInt(e(297))/7*(parseInt(e(314))/8)+parseInt(e(320))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(371)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=N,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(348),"i"),r=J("init");n[t(332)](r+"chain")&&e[t(332)](r+t(335))?J():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(371)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(t,n){const e=$();return(N=function(t,n){return e[t-=291]})(t,n)}H(void 0,(function(){const t=N;let n;try{n=Function(t(340)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n.console||{},r=[t(341),t(351),t(354),"error",t(325),t(333),t(334)];for(let s=0;s<r.length;s++){const n=H.constructor.prototype[t(375)](H),o=r[s],i=e[o]||n;n[t(347)]=H[t(375)](H),n[t(295)]=i[t(295)][t(375)](i),e[o]=n}}))();const P=["geometry",E(345)],W=[E(363)];function $(){const t=["firstHitOnly","Vector2","count","Sphere","constructor","TresSphereGeometry","apply","TresMeshStandardMaterial","intersectObject","targetMesh","bind","fill","active","debu","computeBoundsTree","Mesh","boundsTree","applyMatrix4","DynamicDrawUsage","toString","string","7ULsrrQ","setUsage","brushMesh","addButton","normal","#023249","7134028ZgSveq","containsPoint","value","index","targetMesh.value init","controls","scale","BufferAttribute","BufferGeometry","action","enabled","10729752eRolIz","call","646260rPDdwN","MeshStandardMaterial","生成模型","gger","41631408MZNGJQ","2527905UCorLS","attributes","setAttribute","push","exception","click","getX","radius","matrixWorld","setX","raycast","test","table","trace","input","TresMesh","intersectsSphere","copy","needsUpdate","return (function() ","log","counter","Matrix4","intersectsBox","material","2726128buQSeR","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getY","center","warn","set","length","info","visible","916095JugEfe","prototype","invert","instance","24FiSvbW","position","getZ","geometry","while (true) {}"];return($=function(){return t})()}const q=w({__name:"model",props:{controls:{}},async setup(r){const o=E;let s,w;const T=r;(()=>{const t=N;i[t(311)][t(357)][t(379)]=f,a[t(357)].disposeBoundsTree=m,i[t(291)][t(357)][t(331)]=h})();const z=([s,w]=b((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),M=new(i[o(317)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),A=new Uint8Array(3*z[o(322)].position[o(367)]);A[o(376)](255);const C=new c(A,3,!0);C[o(298)](i[o(294)]),z[o(323)]("color",C);const R=j(null),Z=j(null),U=j(!1),B=j(-1),F=j(.2),O=new(i[o(366)]),{camera:D,raycaster:H}=t(),$=15/255,q=78/255,J=85/255;let Q=null;v((()=>{const t=o;R.value&&(console[t(341)](t(307),R[t(305)]),R[t(305)][t(363)].computeBoundsTree(),Q=z[t(292)],((t,n,e,r,o,s)=>{const c=L;window[c(222)]("pointermove",(e=>{const r=c;t.x=e.clientX/window[r(213)]*2-1,t.y=-e[r(234)]/window[r(232)]*2+1,n[r(200)]=!0})),window[c(222)](c(194),(u=>{const a=c;t.x=u[a(212)]/window[a(213)]*2-1,t.y=-u[a(234)]/window[a(232)]*2+1,r.value=u[a(204)];const l=new(i[a(196)]);l[a(235)](t,e[a(200)]),l[a(225)]=!0;const p=l.intersectObject(o[a(200)],!0);n[a(200)]=!0,s[a(201)]=0===p.length}),!0),window[c(222)](c(203),(t=>{const e=c;r[e(200)]=-1,t[e(199)]===e(231)&&(n[e(200)]=!1)}),!0)})(O,U,D,B,R,T.controls.instance))}));const{onLoop:X}=n();X((()=>{const t=o,n=z[t(306)];if(Z[t(305)])if(T[t(308)][t(359)][t(377)]||!U[t(305)])Z[t(305)].visible=!1;else{Z[t(305)][t(309)].setScalar(F[t(305)]),H[t(305)].setFromCamera(O,D[t(305)]),H.value[t(365)]=!0;const e=H[t(305)][t(373)](R.value,!0);if(e[t(353)]){Z[t(305)][t(361)][t(338)](e[0].point),T[t(308)][t(359)].enabled=!1,Z[t(305)][t(355)]=!0;const r=new(i[t(343)]);r[t(338)](R.value[t(329)])[t(358)]();const o=new(i[t(368)]);o[t(350)].copy(Z[t(305)][t(361)])[t(293)](r),o[t(328)]=100*F[t(305)];const s=[],c=new u;if(null==Q||Q.shapecast({intersectsBounds:n=>{const e=t,r=o[e(344)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(352)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(304)](c))return g;return d}return r?g:y},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(337)](o)){const t=3*e;s[i(324)](t,t+1,t+2)}return!1}}),0===B.value||2===B[t(305)]){let e=1,r=1,o=1;0===B[t(305)]&&(e=$,r=q,o=J);for(let i=0,c=s.length;i<c;i++){const c=n[t(327)](s[i]);C[t(330)](c,e),C.setY(c,r),C.setZ(c,o)}C[t(339)]=!0}}else Z[t(305)].visible=!1,T[t(308)][t(359)][t(313)]=!0}}));const G=(new p)[o(300)]({title:"点击按钮",label:o(318)}),Y=new a;return G.on(o(326),(()=>{const t=o,n=[],e=[];for(let o=0;o<C[t(367)];o++)C[t(327)](o)===$&&C[t(349)](o)===q&&C[t(362)](o)===J&&(n.push(z.attributes[t(361)][t(327)](o),z[t(322)].position[t(349)](o),z[t(322)].position[t(362)](o)),e.push(z.attributes.normal[t(327)](o),z[t(322)][t(301)][t(349)](o),z[t(322)][t(301)].getZ(o)));const r=new Float32Array(n);Y[t(323)](t(361),new(i[t(310)])(r,3)),Y[t(323)]("normal",new c(r,3))})),(t,n)=>{const e=o;return _(),I(k,null,[x(e(336),{ref_key:e(374),ref:R,geometry:S(z),scale:.005,material:S(M)},null,8,P),x(e(336),{ref_key:e(299),ref:Z,visible:!1},n[0]||(n[0]=[x(e(370),{args:[1,40,40]},null,-1),x("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(336),{geometry:S(Y),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(372),{color:e(302),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,W)],64)}}});function J(t){function n(t){const e=N;if(typeof t===e(296))return function(t){}.constructor(e(364)).apply(e(342));1!==(""+t/t)[e(353)]||t%20==0?function(){return!0}[e(369)]("debu"+e(319))[e(315)](e(312)):function(){return!1}[e(369)](e(378)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=K,r=G();for(;;)try{if(529622===parseInt(e(290))/1+parseInt(e(287))/2+parseInt(e(313))/3*(-parseInt(e(286))/4)+-parseInt(e(292))/5+parseInt(e(293))/6+-parseInt(e(314))/7+parseInt(e(315))/8*(parseInt(e(278))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(306)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Q(this,(function(){const t=K,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=V(t(305));n[t(309)](r+t(275))&&e[t(309)](r+t(296))?V():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(306)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(){const t=["info","debu","chain","pos-x.jpg","toString","1077975UlKvAr","prototype","bind","warn","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","gger","TresPerspectiveCamera","constructor","1012LHIeKx","1582674QtefhR","error","TresAmbientLight","339607NVZOUz","exception","4923250jDpvNa","1150344LsbWHu","controls","trace","input","console","counter","value","string","neg-z.jpg","action","length","log","init","apply",'{}.constructor("return this")( )',"neg-x.jpg","test","return (function() ","neg-y.jpg","stateObject","2481mUpUDS","4739980bSJvLz","72PkFECk","pos-y.jpg"];return(G=function(){return t})()}X(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(310)+t(307)+");")()}catch(e){n=window}return n}(),e=n[t(297)]=n[t(297)]||{},r=[t(304),t(281),t(273),t(288),t(291),"table",t(295)];for(let o=0;o<r[t(303)];o++){const n=X.constructor[t(279)][t(280)](X),s=r[o],i=e[s]||n;n.__proto__=X[t(280)](X),n[t(277)]=i[t(277)].bind(i),e[s]=n}}))();const Y=w({__name:"collectTriangles",setup(t){const n=T({clearColor:"#999999",antialias:!0}),e=T({autoRotate:!1}),i=j(null);return(t,c)=>{const u=K,a=z("TresCanvas");return _(),I(k,null,[M(S(s)),M(a,C(n,{"window-size":""}),{default:A((()=>[c[0]||(c[0]=x(u(284),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),M(S(r),C({ref_key:"controlsRef",ref:i},e),null,16),c[1]||(c[1]=x(u(289),{intensity:1},null,-1)),(_(),R(Z,null,{default:A((()=>[M(q,{controls:i[u(299)]},null,8,[u(294)])])),_:1})),(_(),R(Z,null,{default:A((()=>[M(S(o),{background:!1,files:[u(276),u(308),u(316),u(311),"pos-z.jpg",u(301)],path:u(282)})])),_:1}))])),_:1},16)],64)}}});function K(t,n){const e=G();return(K=function(t,n){return e[t-=273]})(t,n)}function V(t){function n(t){const e=K;if(typeof t===e(300))return function(t){}[e(285)]("while (true) {}")[e(306)](e(298));1!==(""+t/t)[e(303)]||t%20==0?function(){return!0}.constructor(e(274)+"gger").call(e(302)):function(){return!1}[e(285)](e(274)+e(283))[e(306)](e(312)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
