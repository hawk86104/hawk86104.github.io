import{P as e}from"./tweakpane.ivGeiIdz1743660816268.js";import"./index.3Nqe-JjN1743660816268.js";import{_ as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.YKMl6SIC1743660816268.js";import{D as t,a as r,e as a}from"./@tresjs.zc7faK4J1743660816268.js";import{d as s,a4 as l,w as i,b as p,o as n,H as f,N as d,u as m,r as h,f as c,g as u,al as j,j as g,m as C}from"./@vue.B5PFBfKs1743660816268.js";import{ae as S}from"./three.2wx8FU0g1743660816268.js";import"./index.wgv4wbeG1743660816268.js";import"./object-hash.6N1Uf8kA1743660816268.js";import"./@amap.c8pGcSIC1743660816268.js";import"./jszip.rGR265Ak1743660816268.js";import"./SPE.Ft9s0v3Z1743660816268.js";import"./utils.G6Ajo17E1743660816268.js";import"./@fesjs.9AUNBPBQ1743660816268.js";import"./vue-router.K4ys0Z-O1743660816268.js";import"./lodash-es.IJc9G_SW1743660816268.js";import"./@qlin.o0hjOMCg1743660816268.js";import"./pinia.0dYyFDku1743660816268.js";import"./@floating-ui.HzHndBae1743660816268.js";import"./@juggle.4EyLec-41743660816268.js";import"./three-mesh-bvh.HGLjHqG91743660816268.js";import"./HeightCorrection.yXRAmIAz1743660816268.js";import"./three-custom-shader-material.uMc5A1EX1743660816268.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";const b=["rotateX"],_=["object"],T={renderOrder:999999},w=["args"],y=["color","depthTest","map"],B=s({__name:"coneAnchorMeshB",props:{anchorColor:{default:"#b0ffff"},rotateSpeed:{default:.05},depthTest:{type:Boolean,default:!0},floorSize:{default:12},floorColor:{default:"#b0ffff"},floorSpeed:{default:.6}},async setup(e){let o,s;const h=e,{scene:c,materials:u}=([o,s]=l((()=>t("./plugins/digitalCity/model/coneAnchorB.glb",{draco:!0,decoderPath:"./draco/"}))),o=await o,s(),o);u[""].color.set(h.anchorColor),u[""].metalness=0,u[""].roughness=.5,u[""].transparent=!0,u[""].opacity=1,u[""].depthTest=h.depthTest,c.children[0].renderOrder=999999;const{map:j}=([o,s]=l((()=>r({map:"./plugins/digitalCity/image/waveCircle.png"}))),o=await o,s(),o),{width:g,height:C}=j.image;j.wrapS=j.wrapT=S,j.repeat.set(1/(g/C),1),i((()=>[h.anchorColor,h.depthTest]),(([e,o])=>{u[""].color.set(e),u[""].depthTest=o}));const B=p(null),{onLoop:v}=a();let x=0;return v((()=>{B.value?.children[0].rotateZ(h.rotateSpeed),j&&(x+=h.floorSpeed,j.offset.x=Math.floor(x)/(j.image.width/j.image.height))})),(e,o)=>(n(),f("TresGroup",{rotateX:-Math.PI/2,ref_key:"coneGroup",ref:B},[d("primitive",{object:m(c)},null,8,_),d("TresMesh",T,[d("TresCircleGeometry",{args:[e.floorSize,32]},null,8,w),d("TresMeshStandardMaterial",{color:e.floorColor,metalness:0,roughness:.6,transparent:"",opacity:.8,depthTest:h.depthTest,depthWrite:!1,map:m(j)},null,8,y)])],8,b))}}),v=s({__name:"coneAnchorB",setup(t){const r=new e({expanded:!0}),a=h({anchorColor:"#0059ff",rotateSpeed:.05,floorSize:12,floorColor:"#0059ff",floorSpeed:.6,depthTest:!0});return r.addBinding(a,"anchorColor",{label:"浮标颜色"}),r.addBinding(a,"rotateSpeed",{label:"旋转速度",min:-.2,max:.2,step:.001}),r.addBinding(a,"floorColor",{label:"波浪颜色"}),r.addBinding(a,"floorSize",{label:"波浪大小",min:.1,max:20,step:.1}),r.addBinding(a,"floorSpeed",{label:"波浪速度",min:-2,max:3,step:.1}),r.addBinding(a,"depthTest",{label:"是否遮挡"}),(e,t)=>(n(),c(o,{ref:"pagesShowRef"},{ability:u((()=>[(n(),c(j,null,{default:u((()=>[g(m(B),C({position:[60,19,0],scale:6},a),null,16)])),_:1})),(n(),c(j,null,{default:u((()=>[g(m(B),{position:[319,19,119],scale:3,anchorColor:"#ffffff",floorColor:"#ffffff",depthTest:!1})])),_:1})),(n(),c(j,null,{default:u((()=>[g(m(B),{position:[-319,19,619],scale:5,anchorColor:"#ff0000",floorColor:"#ffff00"})])),_:1})),(n(),c(j,null,{default:u((()=>[g(m(B),{position:[-319,19,-619],scale:8,anchorColor:"#ffff00",floorColor:"#ffff00"})])),_:1}))])),_:1},512))}});export{v as default};
