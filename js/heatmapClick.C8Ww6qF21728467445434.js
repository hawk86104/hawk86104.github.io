import{q as t,Y as n}from"./@tresjs.ED4ePb8T1728467445434.js";import{P as e}from"./tweakpane.yHWGBmom1728467445434.js";import{_ as o,m as r,ak as a,al as s}from"./three.5octV-9b1728467445434.js";import{_ as i}from"./heatmap.js-fix.425mVFYu1728467445434.js";import{d as c,a4 as u,a3 as l,o as p,E as f,u as d,r as h,e as m,f as g,g as v,j as y,al as b,aj as w,ak as x,m as _,L as j}from"./@vue.JNsx1iN61728467445434.js";import"./@vueuse.G8I04tzi1728467445434.js";import"./@amap.lDXqmBX01728467445434.js";const I=k;!function(t,n){const e=k,o=C();for(;;)try{if(188172===parseInt(e(348))/1*(-parseInt(e(319))/2)+parseInt(e(324))/3+-parseInt(e(333))/4*(-parseInt(e(361))/5)+-parseInt(e(293))/6+parseInt(e(331))/7*(parseInt(e(352))/8)+parseInt(e(359))/9*(-parseInt(e(291))/10)+parseInt(e(298))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["185604XABDRa","table",'{}.constructor("return this")( )',"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","position","40px","radius","1px solid #5384ff","prototype","set","push","attributes","trace","test","constructor","61239iumiTj","_renderer","console","call","8vcJBWH","scale","./draco/","mesh_0","log","init","bind","11133hReEQc","BufferAttribute","35lGiKOv","Texture","action","DoubleSide","0.8","apply","1130TSypPk","primitive","2027298WPjUZm","info","block","input","left","1632741xYgBrh","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","createElement","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","warn","canvas","count","geometry","create","debu","stateObject","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","object","getZ","none","function *\\( *\\)","chain","boundingBox","setAttribute","addData","12fgoMbx","style","layerY","gger","while (true) {}","726063yyJMHc","computeBoundingBox","__proto__","length","appendChild","toString","deleteAttribute","2226077otioBK","material"];return(C=function(){return t})()}!function(){B(this,(function(){const t=k,n=new RegExp(t(314)),e=new RegExp(t(300),"i"),o=S(t(357));n[t(346)](o+t(315))&&e[t(346)](o+t(296))?S():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(366)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(299)+t(335)+");")()}catch(e){n=window}return n}(),e=n[t(350)]=n[t(350)]||{},o=[t(356),t(303),t(294),"error","exception",t(334),t(345)];for(let r=0;r<o[t(327)];r++){const n=M[t(347)][t(341)].bind(M),a=o[r],s=e[a]||n;n[t(326)]=M[t(358)](M),n[t(329)]=s[t(329)].bind(s),e[a]=n}}))();const U=[I(311)];function k(t,n){const e=C();return(k=function(t,n){return e[t-=291]})(t,n)}const R=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(302),{draco:!0,decoderPath:e(354)}))),a=await a,s(),a);h[e(355)][e(337)][e(342)](-5088.96,-3.08,39374.7),h[e(355)][e(353)].setScalar(.01);let m=null,g=null,v=null;g=new(o[e(362)])((()=>{const t=e;return v=document[t(301)]("heatmap-canvas"),v[t(320)][t(337)]="absolute",v.style.top=t(338),v[t(320)][t(297)]="0",document.body[t(328)](v),m=i[t(307)]({container:v,width:256,height:256,blur:t(365),radius:c[t(339)]}),m._renderer[t(304)][t(320)].border=t(340),m[t(349)][t(304)].onclick=function(n){const e=t;m[e(318)]({x:n.layerX,y:n[e(321)],value:1,radius:c[e(339)]}),m.setDataMax(1),g&&(g.needsUpdate=!0)},m})()[e(349)][e(304)]);const y={vertexShader:e(310),fragmentShader:e(336),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(364)]},b=new r(y);h[e(355)][e(332)]=b;return(t=>{const n=e;t[n(325)]();const{max:r,min:a}=t[n(316)];t[n(330)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(344)][n(337)][n(305)];e++)c[n(343)]((t.attributes[n(337)].getX(e)-a.x)/s),c[n(343)]((t[n(344)].position[n(312)](e)-a.z)/i);const u=new Float32Array(c);t[n(317)]("uv",new(o[n(360)])(u,2))})(h[e(355)][e(306)]),l((()=>{const t=e;v.style.display=""+(c.show2dCanvas?t(295):t(313))})),(t,n)=>{const o=e;return p(),f(o(292),{object:d(h)[o(355)]},null,8,U)}}});function S(t){function n(t){const e=k;if("string"==typeof t)return function(t){}[e(347)](e(323))[e(366)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(308)+e(322))[e(351)](e(363)):function(){return!1}[e(347)]("debu"+e(322)).apply(e(309)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=A;function A(t,n){const e=T();return(A=function(t,n){return e[t-=138]})(t,n)}!function(t,n){const e=A,o=T();for(;;)try{if(304333===-parseInt(e(171))/1*(parseInt(e(175))/2)+parseInt(e(145))/3+parseInt(e(153))/4*(parseInt(e(144))/5)+-parseInt(e(160))/6+-parseInt(e(180))/7+parseInt(e(164))/8*(parseInt(e(141))/9)+parseInt(e(146))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(176)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(){const t=["TresDirectionalLight","圆圈的大小","test","82193zWUNiD","length","addBinding","点击左侧蓝色画框","14XRQDMm","apply","debu","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4219999sBpGVQ","#ffffff","exception","TresCanvas","table","error","9bhfGla","radius","init","530BFevar","1672593FmPLaq","10961040iQaUYq","call","addButton","constructor","function *\\( *\\)","log","prototype","4432MERMsj",'{}.constructor("return this")( )',"return (function() ","显示二维图","chain","toString","TresGridHelper","2416680UFBrvU","console","info","warn","913904cCSUXf","show2dCanvas","bind","trace"];return(T=function(){return t})()}!function(){D(this,(function(){const t=A,n=new RegExp(t(150)),e=new RegExp(t(179),"i"),o=L(t(143));n[t(170)](o+t(157))&&e[t(170)](o+"input")?L():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(176)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=A;let n;try{n=Function(t(155)+t(154)+");")()}catch(r){n=window}const e=n[t(161)]=n.console||{},o=[t(151),t(163),t(162),t(140),t(182),t(139),t(167)];for(let a=0;a<o[t(172)];a++){const n=E.constructor[t(152)][t(166)](E),r=o[a],s=e[r]||n;n.__proto__=E.bind(E),n[t(158)]=s[t(158)][t(166)](s),e[r]=n}}))();const F=j("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),P=j(z(168),{position:[5,10,7.5],color:z(181),intensity:5},null,-1),O=j(z(159),{args:[50,25]},null,-1),Z=c({__name:"heatmapClick",setup(t){const o=z,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(173)](i,o(165),{label:o(156)}),c[o(173)](i,o(142),{label:o(169),min:.1,max:30,step:.1}),c[o(148)]({title:o(174)}),(t,e)=>{const a=m(o(138));return p(),g(a,_(r,{"window-size":""}),{default:v((()=>[F,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),P,O,(p(),g(b,null,{default:v((()=>[y(R,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=A;if("string"==typeof t)return function(t){}[e(149)]("while (true) {}").apply("counter");1!==(""+t/t)[e(172)]||t%20==0?function(){return!0}[e(149)](e(177)+"gger")[e(147)]("action"):function(){return!1}[e(149)](e(177)+"gger")[e(176)](e(178)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
