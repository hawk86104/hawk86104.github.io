import{bZ as t,a0 as n,r as e,s as r}from"./three.HEgnMaTu1721048663624.js";import{N as o}from"./@tresjs.Xiq_TH801721048663624.js";import{R as s,b as i}from"./all.three.iV40_XbL1721048663624.js";import{d as c,a3 as a,a2 as u,w as f,o as l,D as p,J as d,u as h}from"./@vue.ApkyOKE71721048663624.js";const v=g;!function(t,n){const e=g,r=b();for(;;)try{if(957542===-parseInt(e(190))/1*(-parseInt(e(218))/2)+-parseInt(e(177))/3*(parseInt(e(209))/4)+parseInt(e(222))/5+-parseInt(e(166))/6+parseInt(e(174))/7*(parseInt(e(168))/8)+parseInt(e(214))/9*(-parseInt(e(203))/10)+parseInt(e(200))/11*(parseInt(e(205))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(181)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=b();return(g=function(t,n){return e[t-=162]})(t,n)}!function(){w(this,(function(){const t=g,n=new RegExp(t(169)),e=new RegExp(t(179),"i"),r=R(t(201));n[t(220)](r+t(210))&&e.test(r+t(211))?R():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(181)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function b(){const t=["visible","3830192JAEKnw","function *\\( *\\)","tReflect","call","table","trace","14voIVPO","repeat","length","3736929wAvdpn","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","apply","reflectorDUDV","uMatrix","value","onBeforeRender","console","set","uniforms","warn","1391nBrOhv","showGridHelper","wrapT","debu",'{}.constructor("return this")( )',"exception","prototype","update","reflectivity","gger","1903PiXRbs","init","TresGroup","5970EFdQzb","renderTargetUniform","21060YgrZwD","object","isMesh","texture","4CRvddf","chain","input","size","return (function() ","18009UdrpEB","stateObject","while (true) {}","scale","1262aKPjIs","action","test","__proto__","7768560UbTMdz","bind","constructor","primitive","forEach","1768884eVRfGL"];return(b=function(){return t})()}m(void 0,(function(){const t=g;let n;try{n=Function(t(213)+t(194)+");")()}catch(o){n=window}const e=n[t(186)]=n[t(186)]||{},r=["log",t(189),"info","error",t(195),t(172),t(173)];for(let s=0;s<r[t(176)];s++){const n=m[t(163)][t(196)][t(162)](m),o=r[s],i=e[o]||n;n[t(221)]=m[t(162)](m),n[t(180)]=i.toString[t(162)](i),e[o]=n}}))();const j=[v(217)],I=[v(206)],y=[v(206)],x=c({__name:v(182),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:w}){const g=v;let m,b;const x=c,R=new s,_=new t(x[g(212)][0]-.5,x[g(212)][1]);_[g(167)]=x[g(191)];const{map:z}=([m,b]=a((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),m=await m,b(),m);z.wrapS=n,z[g(192)]=n,z[g(175)][g(187)](6,3);const E=new i({map:z,reflectivity:x[g(198)]});E[g(188)][g(170)]={value:R.renderTarget[g(208)]},E.uniforms.tReflectBlur=R[g(204)],E[g(188)][g(183)]=R.textureMatrixUniform;const M=new e(new r(x.size[0],x[g(212)][1]),E);return M.rotation.x=-Math.PI/2,M.add(R),M[g(185)]=(t,n,e)=>{const r=g;M[r(167)]=!1,x.ignoreObjects[r(165)]((t=>{const n=r;t[n(207)]&&(t[n(167)]=!1),t[n(184)]&&t.value.isMesh&&(t.value.visible=!1)})),R[r(197)](t,n,e),x.ignoreObjects[r(165)]((t=>{const n=r;t[n(207)]&&(t[n(167)]=!0),t[n(184)]&&t[n(184)][n(207)]&&(t[n(184)][n(167)]=!0)})),M.visible=!0},u((()=>{const t=g;x[t(198)]&&(E.uniforms.uReflectivity[t(184)]=x.reflectivity)})),f((()=>x[g(191)]),(t=>{_[g(167)]=t})),w({reflector:R}),(t,n)=>{const e=g;return l(),p(e(202),{scale:x[e(217)]},[d(e(164),{object:h(M),"position-y":-.01},null,8,I),d("primitive",{object:h(_)},null,8,y)],8,j)}}});function R(t){function n(t){const e=g;if(typeof t===e(178))return function(t){}.constructor(e(216))[e(181)]("counter");1!==(""+t/t)[e(176)]||t%20==0?function(){return!0}[e(163)](e(193)+"gger")[e(171)](e(219)):function(){return!1}.constructor(e(193)+e(199))[e(181)](e(215)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
