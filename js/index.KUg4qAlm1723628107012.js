var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&i(t,o,a[o]);if(e)for(var o of e(a))r.call(a,o)&&i(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.MckyFGkF1723628107012.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.SFBs0Ad91723628107012.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.Kjdj4j4t1723628107012.js";import{j as o,U as s,C as l,k as c,W as p,bb as u,h as f,a6 as x,y as v,V as m,Q as w,al as h}from"./three.LOnTLfxo1723628107012.js";import{p as g,$ as y}from"./@tresjs.SUe87xao1723628107012.js";import{u as d}from"./index.wzkl4CyW1723628107012.js";import{F as S,C as P}from"./three-stdlib.kNzZmNMy1723628107012.js";import{d as _}from"./@vue.9bHx4gg21723628107012.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.d0Uigj7j1723628107012.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.oCEronFX1723628107012.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.KkZaaJuL1723628107012.js";const z=A;!function(t,e){const n=A,r=I();for(;;)try{if(701551===parseInt(n(283))/1*(parseInt(n(263))/2)+-parseInt(n(267))/3+-parseInt(n(275))/4*(-parseInt(n(258))/5)+-parseInt(n(271))/6+parseInt(n(253))/7+parseInt(n(273))/8+-parseInt(n(252))/9*(parseInt(n(269))/10))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[A(288)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function I(){const t=["stateObject","99VGmTYk","6440224PAuJjY","counter","toString","function *\\( *\\)","prototype","34495tLcVZT","info","warn","init","action","18cIkQbZ","test","console","log","1755114kUJnEb","input","740490BHRfHd",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"7138518jATerJ","constructor","2684232cxGnbr","while (true) {}","732yuVngp","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","chain","return (function() ","table","exception","85867iWTGWX","error","length","gger","string","apply","bind"];return(I=function(){return t})()}!function(){b(this,(function(){const t=A,e=new RegExp(t(256)),n=new RegExp(t(277),"i"),r=D(t(261));e[t(264)](r+t(279))&&n[t(264)](r+t(268))?D():r("0")}))()}();const M=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();M(void 0,(function(){const t=A;let e;try{e=Function(t(280)+'{}.constructor("return this")( ));')()}catch(i){e=window}const n=e[t(265)]=e[t(265)]||{},r=[t(266),t(260),t(259),t(284),t(282),t(281),"trace"];for(let a=0;a<r[t(285)];a++){const e=M[t(272)][t(257)][t(250)](M),i=r[a],o=n[i]||e;e.__proto__=M[t(250)](M),e[t(255)]=o.toString[t(250)](o),n[i]=e}}))();const E=z(270);function A(t,e){const n=I();return(A=function(t,e){return n[t-=250]})(t,e)}function D(t){function e(t){const n=A;if(typeof t===n(287))return function(t){}[n(272)](n(274))[n(288)](n(254));1!==(""+t/t)[n(285)]||t%20==0?function(){return!0}[n(272)](n(276)+"gger")[n(278)](n(262)):function(){return!1}[n(272)](n(276)+n(286)).apply(n(251)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=j;function T(){const t=["console","defines","456480wnXdXu","warn","gger","35390DegIgH","560631VZwaNa","apply","4ncHeLY","269976sbucwT","while (true) {}","test","log","bind","init",'{}.constructor("return this")( )',"chain","debu","exception","2169544tepzIs","122wtIWQT","toString","counter","6210fnyEGc","__proto__","info","2416925lgNWFR","return (function() ","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","table","length","uniforms","string","clone","prototype","1098qlAxte","constructor"];return(T=function(){return t})()}!function(t,e){const n=j,r=T();for(;;)try{if(245535===parseInt(n(161))/1*(-parseInt(n(158))/2)+parseInt(n(183))/3*(parseInt(n(185))/4)+parseInt(n(164))/5+parseInt(n(179))/6+parseInt(n(186))/7+parseInt(n(157))/8+parseInt(n(175))/9*(-parseInt(n(182))/10))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const U=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(184)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=j,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(167),"i"),r=k(t(191));e.test(r+t(193))&&n[t(188)](r+"input")?k():r("0")}))()}();const V=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(184)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function j(t,e){const n=T();return(j=function(t,e){return n[t-=157]})(t,e)}function O(t){const e=j,n=a({},t);return e(178)in t&&(n[e(178)]=a({},t[e(178)])),e(171)in t&&(n[e(171)]=s[e(173)](t[e(171)])),n}V(void 0,(function(){const t=j,e=function(){const t=j;let e;try{e=Function(t(165)+t(192)+");")()}catch(n){e=window}return e}(),n=e[t(177)]=e.console||{},r=[t(189),t(180),t(163),"error",t(195),t(169),"trace"];for(let i=0;i<r.length;i++){const e=V[t(176)][t(174)].bind(V),a=r[i],o=n[a]||e;e[t(162)]=V[t(190)](V),e.toString=o[t(159)][t(190)](o),n[a]=e}}))();const R={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:L(166)+E+"\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t"};function k(t){function e(t){const n=j;if(typeof t===n(172))return function(t){}.constructor(n(187))[n(184)](n(160));1!==(""+t/t)[n(170)]||t%20==0?function(){return!0}.constructor("debu"+n(181)).call(n(168)):function(){return!1}[n(176)](n(194)+"gger")[n(184)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const N=C;!function(t,e){const n=C,r=F();for(;;)try{if(111200===parseInt(n(198))/1+-parseInt(n(202))/2*(-parseInt(n(138))/3)+-parseInt(n(167))/4*(-parseInt(n(160))/5)+parseInt(n(215))/6+parseInt(n(163))/7+-parseInt(n(174))/8*(parseInt(n(177))/9)+parseInt(n(203))/10*(-parseInt(n(168))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const W=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=C,e=new RegExp(t(158)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Q(t(175));e.test(r+t(143))&&n[t(211)](r+t(155))?Q():r("0")}))()}();const H=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[C(182)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function C(t,e){const n=F();return(C=function(t,e){return n[t-=138]})(t,e)}function F(){const t=["1006306vhNvKs","value","error","__proto__","8gKnDpY","2565981TZIcQh","action","getRenderTarget","map","prototype","parentMapSize","24kXHklL","init","setClearAlpha","360117mNHyFV","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","warn","autoClear","floorPowerOfTwo","apply","setRenderTarget","fragmentShader","copy","_copyQuad","isWebGLRenderTarget","getClearColor","camera","length","exception","width","originalMapSize","_mipMaterials","_mipQuad","log","Y_IS_EVEN","64621MRRDrQ","bind","clear","replace","34UABwvG","20RwFyFr","string","material","X_IS_EVEN","getClearAlpha","dispose","setSize","set","test","call","constructor","parentLevel","813144dPAtZA","toString","25602aNzUsk","render","defines","floor","table","chain","gger","setViewOffset","uniforms","while (true) {}","debu","setClearColor","return (function() ","image","magFilter","type","stateObject","input","trace","console","function *\\( *\\)","minFilter","522000hjzzOh","texture","height"];return(F=function(){return t})()}H(void 0,(function(){const t=C;let e;try{e=Function(t(150)+'{}.constructor("return this")( ));')()}catch(i){e=window}const n=e.console=e[t(157)]||{},r=[t(196),t(179),"info",t(165),t(191),t(142),t(156)];for(let a=0;a<r[t(190)];a++){const e=H.constructor[t(172)][t(199)](H),i=r[a],o=n[i]||e;e[t(166)]=H.bind(H),e.toString=o[t(216)][t(199)](o),n[i]=e}}))();const Z=new l;class X{constructor(t){const e=C;!t&&(t=e(178));const n=O(R);n.fragmentShader=n[e(184)][e(201)](/<mipmap_logic>/g,t);const r=new Array(4);r[0]=new c(O(n)),r[0].defines.X_IS_EVEN=0,r[0][e(140)][e(197)]=0,r[1]=new c(O(n)),r[1][e(140)][e(206)]=1,r[1][e(140)][e(197)]=0,r[2]=new c(O(n)),r[2].defines.X_IS_EVEN=0,r[2][e(140)][e(197)]=1,r[3]=new c(O(n)),r[3][e(140)].X_IS_EVEN=1,r[3][e(140)][e(197)]=1;const i=new p;i[e(161)][e(159)]=u,i[e(161)][e(152)]=u,this._swapTarget=i,this[e(186)]=new S(new c(P)),this[e(195)]=new S(null),this[e(194)]=r}update(t,e,n,r=!1){const i=C;t[i(187)]&&(t=t[i(161)]);const o=n[i(180)],s=n[i(207)](),l=n[i(170)]();n[i(188)](Z);const c=this[i(186)],p=this[i(195)],u=this._swapTarget,x=this._mipMaterials;let v,m;r?(v=f[i(181)](t[i(151)][i(192)]),m=f[i(181)](t[i(151)][i(162)])):(v=Math[i(141)](t[i(151)][i(192)]),m=Math.floor(t[i(151)][i(162)]));const w=Math[i(141)](1.5*v),h=Math[i(141)](m);e[i(209)](w,h),u.texture.type!==e[i(161)][i(153)]?(u[i(208)](),u[i(185)](e),u.texture[i(151)]=a({},u[i(161)].image)):u.setSize(w,h),n.autoClear=!1,n[i(149)](0),n[i(176)](),c[i(205)][i(146)].tDiffuse[i(164)]=t,c.camera[i(145)](v,m,0,0,w,h),n[i(183)](e),n[i(200)](),c.render(n),n.setRenderTarget(u),n[i(200)](),c[i(139)](n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t.uniforms[i(171)][i(164)]=u[i(161)],t[i(146)][i(214)][i(164)]=d,t.uniforms[i(173)].value[i(210)](g,y),t[i(146)][i(193)].value.set(v,m),p[i(205)]=t,g=Math[i(141)](g/2),y=Math.floor(y/2);const r=h-2*y;n.setRenderTarget(e),p[i(189)][i(145)](g,y,-v,-r,w,h),p[i(139)](n),n[i(183)](u),t[i(146)][i(171)][i(164)]=e[i(161)],p[i(139)](n),d++}return n.setRenderTarget(l),n[i(176)](s),n[i(149)](Z),n[i(180)]=o,d+1}[N(208)](){const t=N;this._swapTarget[t(208)](),this[t(195)].dispose(),this[t(186)][t(208)](),this[t(194)].forEach((e=>e[t(208)]()))}}function Q(t){function e(t){const n=C;if(typeof t===n(204))return function(t){}[n(213)](n(147))[n(182)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(148)+n(144))[n(212)](n(169)):function(){return!1}.constructor(n(148)+"gger").apply(n(154)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const G=$;!function(t,e){const n=$,r=J();for(;;)try{if(129889===-parseInt(n(514))/1*(parseInt(n(506))/2)+parseInt(n(468))/3+-parseInt(n(512))/4+parseInt(n(510))/5+-parseInt(n(524))/6*(parseInt(n(482))/7)+-parseInt(n(508))/8+-parseInt(n(473))/9*(-parseInt(n(490))/10))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const Y=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[$(526)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function $(t,e){const n=J();return($=function(t,e){return n[t-=454]})(t,e)}function J(){const t=["lookAt","431715DRrVaX","chain","state","Quaternion","reflect","5125509zlUWpK","Matrix4","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","forEach","render","gger","applyQuaternion","sub","projectionMatrix","345233CKATJE","constructor","depth","prototype","update","setRenderTarget","clear","__proto__","10pVjWFp","string","position","setMask","Plane","exception","error","input","init","stateObject","multiply","table","length","reflectorMipMap","warn","autoClear","10zLCuQm","UnsignedByteType","927336CwNIaj","negate","223535MIfhwM","normal","624828XvtezN","set","21901zYJgSf","function *\\( *\\)","elements","Vector4","updateMatrixWorld","debu","value","add","visible","getWorldPosition","30chgrTr","call","apply","PerspectiveCamera","toString","info","buffers","counter","bind","Vector3","resolution","trace","multiplyScalar","ignoreObjects","test","action","copy","texture","sign","parent","getWorldQuaternion","matrixWorldInverse"];return(J=function(){return t})()}!function(){Y(this,(function(){const t=$,e=new RegExp(t(515)),n=new RegExp(t(475),"i"),r=K(t(498));e[t(459)](r+t(469))&&n[t(459)](r+t(497))?K():r("0")}))()}();const q=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();q(void 0,(function(){const t=$;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(i){e=window}const n=e.console=e.console||{},r=["log",t(504),t(529),t(496),t(495),t(501),t(456)];for(let a=0;a<r[t(502)];a++){const e=q[t(483)][t(485)][t(532)](q),i=r[a],o=n[i]||e;e[t(489)]=q[t(532)](q),e[t(528)]=o[t(528)][t(532)](o),n[i]=e}}))();const B=_({__name:G(503),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=G,r=t,i=new(x[n(494)]),a=new(x[n(474)]),o=new(x[n(527)]),s=new X,l=d({width:r[n(455)],height:r.resolution,settings:{type:v}}),c=d({width:r[n(455)],height:r[n(455)],settings:{type:x[n(507)]}}),{camera:p,renderer:u,scene:f}=g(),{onBeforeLoop:S}=y();return S((()=>{const t=n;(()=>{const t=n;if(!p.value)return;i[t(513)](new m(0,1,0),0),i.applyMatrix4(r[t(464)].matrixWorld),o[t(461)](p.value);const e=new(x[t(454)])(0,0,1).clone()[t(509)](),s=p.value[t(523)](new m);e[t(472)](i.normal);const c=new m;i.projectPoint(s,c);const v=c.clone();v[t(480)](s),v[t(521)](c),o[t(492)][t(461)](v);const g=new(x[t(454)])(0,0,-1);g[t(479)](p[t(520)][t(465)](new w)),g[t(521)](s);const y=new(x[t(454)]);r[t(464)].getWorldPosition(y),y.sub(g),y[t(472)](i[t(511)])[t(509)](),y[t(521)](r[t(464)][t(523)](new(x[t(454)]))),o.up[t(513)](0,1,0),o.applyQuaternion(p[t(520)][t(465)](new(x[t(471)]))),o.up[t(472)](i.normal),o[t(467)](y),o[t(518)]();const d=new(x[t(474)]);d[t(513)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(500)](o[t(481)]),d.multiply(o[t(466)]),a.copy(d),i.applyMatrix4(o[t(466)]);const S=new(x[t(517)])(i.normal.x,i.normal.y,i[t(511)].z,i.constant),P=o.projectionMatrix,_=new h;_.x=(Math[t(463)](S.x)+P[t(516)][8])/P[t(516)][0],_.y=(Math.sign(S.y)+P.elements[9])/P[t(516)][5],_.z=-1,_.w=(1+P.elements[10])/P[t(516)][14],S[t(457)](2/S.dot(_)),P[t(516)][2]=S.x,P.elements[6]=S.y,P[t(516)][10]=S.z+1,P.elements[14]=S.w;const z=u[t(520)].getRenderTarget();u[t(520)].setRenderTarget(l[t(520)]),u[t(520)][t(470)][t(530)][t(484)][t(493)](!0),!1===u[t(520)][t(505)]&&u[t(520)][t(488)](),r[t(458)][t(476)]((e=>e[t(522)]=!1)),u.value[t(477)](f[t(520)],o),r.ignoreObjects[t(476)]((t=>t.visible=!0)),u[t(520)][t(487)](z)})(),l[t(520)]&&c.value&&u[t(520)]&&s[t(486)](l[t(520)][t(462)],c[t(520)],u[t(520)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function K(t){function e(t){const n=$;if(typeof t===n(491))return function(t){}[n(483)]("while (true) {}")[n(526)](n(531));1!==(""+t/t).length||t%20==0?function(){return!0}[n(483)](n(519)+n(478))[n(525)](n(460)):function(){return!1}[n(483)](n(519)+n(478))[n(526)](n(499)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=nt,r=rt();;)try{if(881785===-parseInt(n(467))/1*(-parseInt(n(471))/2)+parseInt(n(496))/3*(parseInt(n(475))/4)+-parseInt(n(473))/5*(-parseInt(n(476))/6)+-parseInt(n(468))/7+parseInt(n(487))/8+parseInt(n(489))/9*(-parseInt(n(493))/10)+parseInt(n(490))/11*(-parseInt(n(472))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var tt=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[nt(469)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){tt(this,(function(){var t=nt,e=new RegExp(t(481)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=it(t(484));e.test(r+t(499))&&n.test(r+t(478))?it():r("0")}))()}();var et=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function nt(t,e){var n=rt();return(nt=function(t,e){return n[t-=467]})(t,e)}function rt(){var t=["chain","932494MGNhDg","6905633TpWQWy","apply","exception","2rqgled","2266884xuURaf","4710xtbKqh","toString","4ucsFyP","2604hkcBiM","log","input","console","bind","function *\\( *\\)","counter","info","init","while (true) {}","call","9008944fmZqMF","length","3317607JMaffN","66woiHcd","debu","gger","10cbaNYH","warn","string","2708787qIGDCd",'{}.constructor("return this")( )',"constructor"];return(rt=function(){return t})()}function it(t){function e(t){var n=nt;if(typeof t===n(495))return function(t){}[n(498)](n(485)).apply(n(482));1!==(""+t/t)[n(488)]||t%20==0?function(){return!0}[n(498)](n(491)+n(492))[n(486)]("action"):function(){return!1}[n(498)](n(491)+n(492))[n(469)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){for(var t=nt,e=function(){var t,e=nt;try{t=Function("return (function() "+e(497)+");")()}catch(n){t=window}return t}(),n=e[t(479)]=e[t(479)]||{},r=[t(477),t(494),t(483),"error",t(470),"table","trace"],i=0;i<r[t(488)];i++){var a=et.constructor.prototype.bind(et),o=r[i],s=n[o]||a;a.__proto__=et[t(480)](et),a[t(474)]=s[t(474)][t(480)](s),n[o]=a}}))();export{B as _};
