import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{a,K as s}from"./@tresjs.B1f7s3pS1767066396612.js";import{_ as t}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.DS9PWjZT1767066396612.js";import"./index.vue_vue_type_script_setup_true_lang.iYOGhvYh1767066396612.js";import{P as n}from"./tweakpane.CqZAnw7f1767066396612.js";import{_ as i}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.C-3XONmg1767066396612.js";const{defineComponent:o}=await e("vue"),{createElementVNode:r,unref:l,normalizeProps:p,guardReactiveProps:d,createVNode:m,Suspense:u,withCtx:c,openBlock:g,createBlock:h,mergeProps:_}=await e("vue"),{ACESFilmicToneMapping:w,Color:f}=await e("three"),{reactive:v,watchEffect:b,shallowRef:x}=await e("vue"),y=o({__name:"accumulativeShadows",setup(e){const o=v({alpha:!0,shadows:!0,shadowMap:!0,toneMapping:w}),y=v({enableDamping:!0,autoRotate:!1}),T=x();b(()=>{if(T.value){T.value.context.scene.value.background=new f("grey")}});const j=v({opacity:.8,alphaTest:.9,color:"#000000",blend:2,lightPosition:{x:3,y:5,z:3},frames:60,blendWindow:100,ambient:.5}),M=new n({title:"参数"});return M.addBinding(j,"opacity",{label:"透明度",min:0,max:1,step:.1}),M.addBinding(j,"alphaTest",{label:"透明检测",min:0,max:1,step:.1}),M.addBinding(j,"color",{label:"颜色"}),M.addBinding(j,"blend",{label:"颜色混合",min:0,max:3,step:.1}),M.addBinding(j,"lightPosition",{label:"光源位置",x:{min:-5,max:5},y:{min:1,max:5},z:{min:-5,max:5}}),M.addBinding(j,"frames",{label:"渲染帧数",min:1,max:100,step:1}),M.addBinding(j,"blendWindow",{label:"blend",min:1,max:100,step:1}),M.addBinding(j,"ambient",{label:"ambient",min:0,max:1,step:.1}),(e,n)=>(g(),h(l(a),_(o,{ref_key:"tcRef",ref:T,"window-size":""}),{default:c(()=>[n[0]||(n[0]=r("TresPerspectiveCamera",{position:[2,3,4],fov:45,near:1,far:1e3},null,-1)),m(l(s),p(d(y)),null,16),n[1]||(n[1]=r("TresAmbientLight",{intensity:.5},null,-1)),n[2]||(n[2]=r("TresMesh",{position:[2,.5,-1.5],"receive-shadow":"","cast-shadow":"",name:"sphere"},[r("TresSphereGeometry",{args:[.5]}),r("TresMeshStandardMaterial",{color:16724991,roughness:0,metalness:1})],-1)),n[3]||(n[3]=r("TresMesh",{position:[-1.5,.5,1.5],"receive-shadow":"","cast-shadow":"",name:"cube"},[r("TresCylinderGeometry",{args:[.5,.5,1]}),r("TresMeshStandardMaterial",{color:3407871,roughness:0,metalness:0})],-1)),n[4]||(n[4]=r("TresMesh",{position:[0,.9,0],"receive-shadow":"","cast-shadow":"",name:"torus"},[r("TresTorusKnotGeometry",{args:[.5,.2,80,64]}),r("TresMeshStandardMaterial",{color:16777011,roughness:.3,metalness:.5})],-1)),m(i,p(d(j)),null,16),(g(),h(u,null,{default:c(()=>[m(l(t),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,["path"])]),_:1}))]),_:1},16))}});export{y as default};
