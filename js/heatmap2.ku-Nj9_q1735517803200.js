import{P as t}from"./tweakpane.yHWGBmom1735517803200.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.IAgy7egx1735517803200.js";import{_ as r}from"./heatmap.js-fix.x3i-Ei-21735517803200.js";import{h as i,_ as c,c2 as s,B as u}from"./three.-uH5I3Xp1735517803200.js";import{r as a}from"./utils.W20IHcCr1735517803200.js";import{d as p}from"./pinia.7wRRlR_11735517803200.js";import{b as f,d as l,a3 as h,o as d,D as m,J as g,u as y,F as v,q as w,U as b,N as I,P as _,H as j,L as x,a6 as E,r as R,j as S,g as z,m as M}from"./@vue.-THQH3GC1735517803200.js";import{c as A,d as D,a as k}from"./three-mesh-bvh.UZOzt2Ld1735517803200.js";import{_ as F}from"./@fesjs.2Oz5LDgh1735517803200.js";import"./@tresjs.0qL_P2CE1735517803200.js";import"./@vueuse.oT9wchAS1735517803200.js";import"./three-custom-shader-material.T7xd34Ba1735517803200.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1735517803200.js";import"./@amap.BJG0QnpR1735517803200.js";import"./vue-demi.C4xddsk91735517803200.js";import"./vue-router.alj9m51K1735517803200.js";import"./lodash-es.kYt-_xTG1735517803200.js";import"./@qlin.yHhFDldE1735517803200.js";import"./@floating-ui.BPbuo5Gx1735517803200.js";import"./@juggle.7yjBMqoW1735517803200.js";!function(t,n){const e=P,o=U();for(;;)try{if(391265===-parseInt(e(306))/1*(-parseInt(e(293))/2)+-parseInt(e(254))/3*(parseInt(e(256))/4)+parseInt(e(300))/5*(-parseInt(e(252))/6)+-parseInt(e(301))/7*(parseInt(e(270))/8)+-parseInt(e(267))/9*(-parseInt(e(284))/10)+-parseInt(e(290))/11*(parseInt(e(288))/12)+parseInt(e(295))/13*(parseInt(e(285))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=P,n=new RegExp(t(287)),e=new RegExp(t(308),"i"),o=B(t(283));n.test(o+"chain")&&e[t(302)](o+t(273))?B():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(292)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=U();return(P=function(t,n){return e[t-=252]})(t,n)}Z(void 0,(function(){const t=P;let n;try{n=Function("return (function() "+t(282)+");")()}catch(r){n=window}const e=n.console=n[t(307)]||{},o=[t(286),t(298),t(274),t(260),t(275),t(263),"trace"];for(let i=0;i<o[t(279)];i++){const n=Z.constructor.prototype[t(291)](Z),r=o[i],c=e[r]||n;n[t(297)]=Z[t(291)](Z),n[t(259)]=c[t(259)].bind(c),e[r]=n}}))();const T=(t,n)=>t[P(277)](n)+-10;function U(){const t=["rgb(0,255,0)","__proto__","warn","top","485500oHbUHZ","112pEyzua","test","constructor","style","display","298070jkPjZF","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","createElement","call","30zFmNhY","create","3mVvHzn","gger","2589048mduRgx","rgb(255,0,0)","push","toString","error","counter","rgb(0,0,255)","table","left","position","appendChild","216DToaIm","randInt","height","74912qVyFCR","debu","yellow","input","info","exception","_config","getValueAt","setData","length","heatmap-canvas","while (true) {}",'{}.constructor("return this")( )',"init","87330SptNGw","14XsKUfP","log","function *\\( *\\)","515028IRCRkQ","body","88Vufvgl","bind","apply","2ZJJYHj","absolute","19624033ftLvjm"];return(U=function(){return t})()}function B(t){function n(t){const e=P;if("string"==typeof t)return function(t){}[e(303)](e(281))[e(292)](e(261));1!==(""+t/t)[e(279)]||t%20==0?function(){return!0}[e(303)](e(271)+e(255))[e(310)]("action"):function(){return!1}[e(303)](e(271)+e(255))[e(292)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function H(t,n){const e=G();return(H=function(t,n){return e[t-=136]})(t,n)}!function(t,n){const e=H,o=G();for(;;)try{if(966937===-parseInt(e(146))/1+-parseInt(e(149))/2+-parseInt(e(155))/3+parseInt(e(157))/4+parseInt(e(145))/5*(-parseInt(e(160))/6)+parseInt(e(162))/7*(-parseInt(e(161))/8)+parseInt(e(166))/9*(parseInt(e(138))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=H,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(163),"i"),o=C(t(154));n[t(153)](o+t(156))&&e[t(153)](o+t(144))?C():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(140)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();$(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function("return (function() "+t(167)+");")()}catch(e){n=window}return n}(),e=n[t(150)]=n[t(150)]||{},o=[t(137),t(142),"info","error",t(165),t(164),t(170)];for(let r=0;r<o[t(136)];r++){const n=$[t(151)][t(141)][t(169)]($),i=o[r],c=e[i]||n;n[t(148)]=$[t(169)]($),n.toString=c.toString[t(169)](c),e[i]=n}}))();const q=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[H(168)]=t}}}));function G(){const t=["stateObject","while (true) {}","2034qtRjwH","10500936wzdebm","7zbQizY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","exception","9lkUToD",'{}.constructor("return this")( )',"value","bind","trace","length","log","55424260gAsRXM","string","apply","prototype","warn","action","input","24515ULFFTE","1147680qAhlkS","debu","__proto__","612552BAaZEb","console","constructor","gger","test","init","4705845uKOEYu","chain","5687264yGfwdF"];return(G=function(){return t})()}function C(t){function n(t){const e=H;if(typeof t===e(139))return function(t){}[e(151)](e(159)).apply("counter");1!==(""+t/t)[e(136)]||t%20==0?function(){return!0}[e(151)]("debu"+e(152)).call(e(143)):function(){return!1}[e(151)](e(147)+"gger")[e(140)](e(158)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=Y;!function(t,n){const e=Y,o=W();for(;;)try{if(510492===-parseInt(e(169))/1+-parseInt(e(151))/2*(-parseInt(e(133))/3)+-parseInt(e(164))/4+parseInt(e(113))/5+-parseInt(e(134))/6+parseInt(e(168))/7*(-parseInt(e(181))/8)+parseInt(e(150))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=W();return(Y=function(t,n){return e[t-=113]})(t,n)}function W(){const t=["needsUpdate","error","数值：","gger","uOpacity","counter","setTemperature","attributes","geometry","trace","1546576GQSCcg","height","apply","2200825ukdwaz","opacity","function *\\( *\\)","makeRotationX","computeBoundsTree","info","buildingsHeatmap","chain","applyMatrix4","normal","matrix","console","mergeGeometries","disposeBoundsTree","raycast","object","canvas","prototype","ShaderMaterial","__proto__","33jaaqGn","2868qQjaAs","exception","test","length","model","Mesh","input","_renderer","width","数值———：","primitive","Texture","warn","setShowDiv","DoubleSide","bind","1276029onVcja","149686Tfvnis","toString","city","$patch","clone","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","call","value","log","table","Matrix4","1034416HpEJvZ",'{}.constructor("return this")( )',"BufferGeometry","constructor","7TxBaoX","442323ERIuYl","uniforms"];return(W=function(){return t})()}!function(){X(this,(function(){const t=Y,n=new RegExp(t(115)),e=new RegExp(t(157),"i"),o=tt("init");n[t(136)](o+t(120))&&e[t(136)](o+t(140))?tt():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(183)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=Y;let n;try{n=Function("return (function() "+t(165)+");")()}catch(r){n=window}const e=n[t(124)]=n[t(124)]||{},o=[t(161),t(146),t(118),t(172),t(135),t(162),t(180)];for(let i=0;i<o[t(137)];i++){const n=J[t(167)][t(130)][t(149)](J),r=o[i],c=e[r]||n;n[t(132)]=J[t(149)](J),n[t(152)]=c[t(152)][t(149)](c),e[r]=n}}))();const Q=[L(128),"rotation-x"],N=[L(128)],K=l({__name:L(119),props:{model:{},opacity:{default:1}},setup(t){const n=L;(()=>{const t=Y;c[t(166)][t(130)][t(117)]=A,u[t(130)][t(126)]=D,c[t(139)][t(130)][t(127)]=k})();const e=t,o=((t=250,n=250,e=!0)=>{const o=P,i=document[o(309)](o(280));return i.style[o(265)]=o(294),!e&&(i[o(304)][o(305)]="none"),i[o(304)][o(299)]="0",i[o(304)][o(264)]="0",document[o(289)][o(266)](i),r[o(253)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(262),.55:o(296),.85:o(272),1:o(257)}})})();((t,n)=>{const e=P;if(!n){let o=0;for(n=[];o<1e3;)n[e(258)]({x:i[e(268)](1,t[e(276)].width),y:i[e(268)](1,t[e(276)][e(269)]),value:i[e(268)](-10,36)}),o++}t[e(278)]({max:36,min:-10,data:n})})(o);const p=new(c[n(145)])(o[n(141)][n(129)]);p[n(171)]=!0;const f=e[n(138)][n(153)][n(155)]();delete f.geometry.attributes.normal,delete f[n(179)][n(178)].uv;const l=f[n(179)].clone()[n(121)](f[n(123)]),w=e[n(138)].land.clone();delete w.geometry[n(178)][n(122)];const b=w[n(179)][n(155)]()[n(121)](w[n(123)]),I=s[n(125)]([l,b]);I.applyMatrix4((new(c[n(163)]))[n(116)](Math.PI/2)),a(I),I[n(117)]();const _=(t=>{const o=n;return new(c[o(131)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(114)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(148)]})})(p),j=new(c[n(139)])(I,_);h((()=>{const t=n;e[t(114)]&&(_[t(170)][t(175)][t(160)]=e[t(114)])}));const x=q(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(142)],y:(1-t.uv.y)*o._config[e(182)]};console[e(161)](e(173),t),console.log(e(143),T(o,n)),x[e(177)](T(o,n))}},R=t=>{t&&x[n(154)]({showDiv:!0})},S=t=>{t&&x[n(147)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(144),{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:R,onPointerLeave:S},null,40,Q),g(r(144),{object:e[r(138)][r(138)].children[0][r(155)]()},null,8,N)],64)}}});function tt(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(167)]("while (true) {}")[e(183)](e(176));1!==(""+t/t)[e(137)]||t%20==0?function(){return!0}.constructor(e(158)+e(174))[e(159)]("action"):function(){return!1}[e(167)](e(158)+"gger")[e(183)](e(156)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=F({__name:"dataDiv",setup(t){const n=q(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>I((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=ot;function ot(t,n){const e=ct();return(ot=function(t,n){return e[t-=484]})(t,n)}!function(t,n){const e=ot,o=ct();for(;;)try{if(602018===-parseInt(e(525))/1+parseInt(e(511))/2+parseInt(e(516))/3+-parseInt(e(484))/4+parseInt(e(502))/5+-parseInt(e(508))/6+-parseInt(e(518))/7*(-parseInt(e(521))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ot,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(528),"i"),o=ut(t(494));n.test(o+t(498))&&e[t(500)](o+t(510))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(512)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["debu","warn","chain","prototype","test","call","1628910EABudk","info","constructor","#000","stateObject","toString","2802168wyPoci","action","input","1419466WdUVsc","apply","addBinding","透明度","bind","554271XpgaOe","error","434jojFhG","__proto__",'{}.constructor("return this")( )',"41792tkauHV","heatmap2","exception","return (function() ","5832DOOWpT","length","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1877128WOcpBW","table","log","opacity","counter","while (true) {}","builds","value","gger","console","init","city"];return(ct=function(){return t})()}it(void 0,(function(){const t=ot;let n;try{n=Function(t(524)+t(520)+");")()}catch(r){n=window}const e=n[t(493)]=n[t(493)]||{},o=[t(486),t(497),t(503),t(517),t(523),t(485),"trace"];for(let i=0;i<o[t(526)];i++){const n=it.constructor[t(499)][t(515)](it),r=o[i],c=e[r]||n;n[t(519)]=it[t(515)](it),n[t(507)]=c[t(507)][t(515)](c),e[r]=n}}))();const st=l({__name:et(522),async setup(r){const i=et;let c,s;const u=f(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u[i(491)]=!0;const p=R({width:1,color:i(505),opacity:1,show:!0}),l=R({opacity:.9});return new t({title:"参数",expanded:!0})[i(513)](l,i(487),{label:i(514),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[S(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[S(K,M({model:y(a)},l),null,16,["model"]),S(n,M(p,{builds:y(a)[r(495)]}),null,16,[r(490)])])),_:1}),S(nt)],64)}}});function ut(t){function n(t){const e=ot;if(typeof t===e(527))return function(t){}[e(504)](e(489))[e(512)](e(488));1!==(""+t/t)[e(526)]||t%20==0?function(){return!0}[e(504)](e(496)+e(492))[e(501)](e(509)):function(){return!1}[e(504)](e(496)+e(492))[e(512)](e(506)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
