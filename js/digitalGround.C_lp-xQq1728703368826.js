import{U as n,z as t,Y as e}from"./@tresjs.JhHPALEY1728703368826.js";import{P as o}from"./tweakpane.yHWGBmom1728703368826.js";import{_ as r}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.IjvoiIX01728703368826.js";import{aV as a,a3 as i,n as s,_ as u,C as c}from"./three.VoknrmS61728703368826.js";import{d as l,a4 as f,w as p,o as v,E as g,L as d,aj as m,ak as h,r as x,e as w,f as _,g as I,j as b,u as y,al as j,m as D}from"./@vue.JNsx1iN61728703368826.js";import"./@vueuse.yeA714RM1728703368826.js";import"./all.three.NayfOH7t1728703368826.js";import"./oimophysics.x0jH7fze1728703368826.js";const F=T;function P(){const n=["TresShaderMaterial","\n        uniform float time;\n        uniform float radius;\n\n        uniform sampler2D texture0;\n        uniform sampler2D texture1;\n        uniform sampler2D texture2;\n        uniform sampler2D texture3;\n\n        varying vec3 vPosition;\n        uniform vec3 uColor;\n        varying vec2 vUv;\n\n        float wave(float a, float l, float s, float second, float val) {\n            float PI = 3.141592653;\n            float wave = a * sin(- val * 2.0 * PI / l + second * s * 2.0 * PI / l);\n            return (wave + 1.0) / 2.0;\n        }\n        void main(){\n            vec4 basceColor = vec4(uColor, 1.0);\n            vec4 back = texture2D( texture0, vUv * 16.0);\n\n            vec4 ori1 = texture2D( texture1, vUv * 4.0); // 电子元件\n            vec4 ori2 = texture2D( texture2, vUv * 16.0 ); // 点\n            vec4 ori3 = texture2D( texture3, vUv * 16.0 ); // 网格\n\n            float length = length( vec2(vPosition.x, vPosition.y) );\n            // 应用波函数蒙版\n            float flag1 = wave(1.0, radius / 2.0, 45.0, time, length);\n            if (flag1 < 0.5) {\n                flag1 = 0.0;\n            }\n            ori1.a = ori1.a * (flag1 * 0.8 + 0.2);\n            float flag2 = wave(1.0, radius / 3.0, 30.0, time, length);\n            ori2.a = ori2.a * (flag2 * 0.8 + 0.2);\n            float flag3 = wave(1.0, 60.0, 20.0, time, length);\n            ori3.a = ori3.a * (flag3 * 2.0 - 1.5);\n            // 应用蒙版\n            float alpha = clamp(ori1.a + ori2.a + ori3.a + back.a * 0.01, 0.0, 1.0);\n            basceColor.a = alpha*2.0;\n\n            gl_FragColor = basceColor * clamp((2.0 - (length * 2.0 / radius)), 0.0, 1.0);\n        }\n    ","chain","TresGroup","3373184JvEjMg","rotateX",'{}.constructor("return this")( )',"5961020QoLCzg","wrapT","exception","33873340fLXZBx","console","warn","table","colorSpace","prototype","color","action","TresCircleGeometry","info","log","wrapS","constructor","error","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","time","12464FivXiy","3541074PHKxqX","DoubleSide","uColor","uniforms","77NFcaxV","5896008VPlpIc","size","TresMesh","880512bTnvVV","call","debu","digitalGround","value","\n        varying vec3 vPosition;\n        varying vec2 vUv;\n        void main(){\n            vPosition = position;\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n    ","290zovcJA","counter","string","gger","magFilter","minFilter","args","speed","trace","apply","LinearMipmapLinearFilter","9QKawcc","bind","toString","length"];return(P=function(){return n})()}!function(n,t){const e=T,o=P();for(;;)try{if(915948===-parseInt(e(161))/1*(parseInt(e(146))/2)+parseInt(e(147))/3+-parseInt(e(180))/4+parseInt(e(183))/5+-parseInt(e(152))/6+-parseInt(e(151))/7*(parseInt(e(155))/8)+parseInt(e(172))/9*(parseInt(e(186))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[T(170)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){C(this,(function(){const n=T,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(143),"i"),o=M("init");t[n(144)](o+n(178))&&e[n(144)](o+"input")?M():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[T(170)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();z(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function("return (function() "+n(182)+");")()}catch(e){t=window}return t}(),e=t[n(187)]=t.console||{},o=[n(138),n(130),n(137),n(141),n(185),n(131),n(169)];for(let r=0;r<o[n(175)];r++){const t=z[n(140)][n(133)][n(173)](z),a=o[r],i=e[a]||t;t[n(142)]=z.bind(z),t[n(174)]=i.toString[n(173)](i),e[a]=t}}))();const G=[F(181)],S=[F(167)];function T(n,t){const e=P();return(T=function(n,t){return e[n-=130]})(n,t)}const U=l({__name:F(158),props:{size:{default:10},speed:{default:1},color:{default:"#FFFFFF"}},async setup(e){const o=F;let r,l;const x=e,w=([r,l]=f((()=>t(["./plugins/floor/image/digitalGround1.png","./plugins/floor/image/digitalGround2.png","./plugins/floor/image/digitalGround3.png","./plugins/floor/image/digitalGround4.png"]))),r=await r,l(),r);for(let n=0;n<w[o(175)];n++)w[n][o(132)]=a,w[n][o(139)]=i,w[n][o(184)]=i,w[n][o(165)]=s,w[n][o(166)]=u[o(171)];const _={uniforms:{time:{value:0},radius:{value:x[o(153)]},uColor:{value:new c(x[o(134)])},texture0:{value:w[0]},texture1:{value:w[1]},texture2:{value:w[2]},texture3:{value:w[3]}},vertexShader:o(160),fragmentShader:o(177),side:u[o(148)],transparent:!0};p((()=>x[o(134)]),(n=>{const t=o;_[t(150)][t(149)][t(159)]=new c(n)}));const{onLoop:I}=n();return I((({elapsed:n})=>{const t=o;_[t(150)][t(145)].value=n/10*x[t(168)]})),(n,t)=>{const e=o;return v(),g(e(179),null,[d(e(154),{rotateX:-Math.PI/2},[d(e(136),{args:[n[e(153)]]},null,8,S),d(e(176),m(h(_)),null,16)],8,G)])}}});function M(n){function t(n){const e=T;if(typeof n===e(163))return function(n){}[e(140)]("while (true) {}")[e(170)](e(162));1!==(""+n/n).length||n%20==0?function(){return!0}[e(140)](e(157)+e(164))[e(156)](e(135)):function(){return!1}.constructor(e(157)+e(164))[e(170)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const k=A;function A(n,t){const e=V();return(A=function(n,t){return e[n-=368]})(n,t)}function V(){const n=["85498WHnyOv","console","7588020MQOTst","constructor","function *\\( *\\)","length","chain","info","#de62f2","digitalGround","error","trace","192aBxTYW","action","input","color","1819652BoqhQk","20260KYHINm","debu","4916559zvslDG","1068Pwjocp","stateObject","init","218088GiuGom","prototype","counter","exception","gger","apply","bind","test","TresPerspectiveCamera","size","addBinding","string","table","__proto__","27DDfeXn","while (true) {}","455644FwAKcG","call"];return(V=function(){return n})()}!function(n,t){const e=A,o=V();for(;;)try{if(885543===-parseInt(e(401))/1+parseInt(e(378))/2+parseInt(e(381))/3+parseInt(e(385))/4+-parseInt(e(379))/5*(-parseInt(e(382))/6)+-parseInt(e(403))/7*(-parseInt(e(374))/8)+-parseInt(e(399))/9*(parseInt(e(405))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(390)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){B(this,(function(){const n=A,t=new RegExp(n(407)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=R(n(384));t[n(392)](o+n(368))&&e.test(o+n(376))?R():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(390)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();E(void 0,(function(){const n=A;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(404)]=t[n(404)]||{},o=["log","warn",n(369),n(372),n(388),n(397),n(373)];for(let a=0;a<o[n(408)];a++){const t=E.constructor[n(386)][n(391)](E),r=o[a],i=e[r]||t;t[n(398)]=E[n(391)](E),t.toString=i.toString[n(391)](i),e[r]=t}}))();const L=d(k(393),{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1),X=l({__name:k(371),setup(n){const t=k,a=x({reflectivity:.1,showGridHelper:!1,scale:1}),i=x({color:t(370),speed:.8,size:10}),s=new o({title:t(371),expanded:!0});return s.addBinding(i,t(377),{label:"颜色"}),s[t(395)](i,"speed",{label:"速度",min:.1,max:5,step:.1}),s.addBinding(i,t(394),{label:"大小",min:.1,max:20,step:.1}),(n,t)=>{const o=w("TresCanvas");return v(),_(o,{clearColor:"#666666","window-size":""},{default:I((()=>[L,b(y(e),{enableDamping:"",autoRotate:""}),(v(),_(j,null,{default:I((()=>[b(U,m(h(i)),null,16)])),_:1})),(v(),_(j,null,{default:I((()=>[b(r,D({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function R(n){function t(n){const e=A;if(typeof n===e(396))return function(n){}[e(406)](e(400))[e(390)](e(387));1!==(""+n/n)[e(408)]||n%20==0?function(){return!0}[e(406)](e(380)+e(389))[e(402)](e(375)):function(){return!1}[e(406)]("debu"+e(389))[e(390)](e(383)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{X as default};
