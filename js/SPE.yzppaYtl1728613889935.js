import{_ as t,d as e,bT as i,h as n,aN as s,C as o,m as r,b as a,V as c}from"./three.-yu4716U1728613889935.js";const h=l;!function(t,e){const i=l,n=d();for(;;)try{if(431405===parseInt(i(335))/1+-parseInt(i(393))/2+parseInt(i(270))/3+-parseInt(i(307))/4*(parseInt(i(244))/5)+parseInt(i(297))/6*(-parseInt(i(363))/7)+parseInt(i(571))/8+parseInt(i(607))/9)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(580)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function l(t,e){const i=d();return(l=function(t,e){return i[t-=234]})(t,e)}!function(){u(this,(function(){const t=l,e=new RegExp(t(324)),i=new RegExp(t(587),"i"),n=g(t(523));e[t(321)](n+t(456))&&i.test(n+t(381))?g():n("0")}))()}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(580)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();f(void 0,(function(){const t=l;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(s){e=window}const i=e.console=e[t(302)]||{},n=[t(510),"warn","info","error",t(338),t(626),t(489)];for(let o=0;o<n[t(564)];o++){const e=f[t(454)][t(467)].bind(f),s=n[o],r=i[s]||e;e[t(531)]=f[t(543)](f),e[t(533)]=r[t(533)][t(543)](r),i[s]=e}}))();const p={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function d(){const t=["      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","velocity","bind","      vec3 axis = unpackRotationAxis( rotation.x );","    vColor = vec4( c, o );","activeMultiplier","attribute vec4 angle;","defines","Color","ShaderAttribute","SHOULD_ROTATE_PARTICLES","setFromArray","texture","    float fIndex = 0.0;","acceleration","    #ifdef HAS_PERSPECTIVE","spread","action","isArray","attribute vec4 color;","setVec3","_createBufferAttribute","  return 1.0 - when_lt(x, y);","length","emitters","        float column = floor(mod( frameNumber, framesX ));","getComponentValueAtIndex","   return params.y;","      vec3 center = rotationCenter;","particles, can support only","2997768ABgVMM","onParticleSpawn","radiusScale","ShaderChunk","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","        float framesY = textureAnimation.y;","TypedArrayConstructor","attributes","keys","apply","_distribution","enable","_assignForceValue","attributeOffset","common","amd","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","        float framesX = vSpriteSheet.x;","paramFetchingFunctions","alive","shrink","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","_value","rotation","reset","    vec3 vel = getVelocity( age );","round","normalize","_checkParticleAges","SHOULD_WIGGLE_PARTICLES","setDrawRange","updateMax","SHOULD_CALCULATE_SPRITE","TypedArray is already of size:","_radiusScale","_assignRotationValue","5347332sLmfKq","    gl_PointSize = pointSizePerspective;","uniform float deltaTime;","deltaTime","           unpackColor( color.z ),","updateRange","mesh","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","setColor","ceil","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","Vector2","releaseIntoPool","getPackedRotationAxis","SPE.Group: maxParticleCount exceeded. Requesting","getFromPool","splice","vec3 unpackColor( in float hex ) {","      rotationMatrix = getRotationMatrix( axis, angle );","table","attribute vec3 velocity;","_updateBuffers","    highp float value = 0.0;","wiggle","    #ifdef SHOULD_WIGGLE_PARTICLES","#ifdef SHOULD_ROTATE_PARTICLES","_poolCreationSettings","`emitter` argument must be instance of SPE.Emitter. Was provided with:","   return modelViewMatrix * vec4( position, 1.0 );","defineProperty","_rotationCenter","radius","    #ifdef SHOULD_CALCULATE_SPRITE","dispose","_activateParticles","indexOffset","ensureTypedArg","fog_pars_vertex","_resetParticle","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","       axis = normalize(axis);","attributeKeys","Vector4","           unpackColor( color.w )","_assignAbsLifetimeValue","itemSize","_attributesNeedDynamicReset","    force += vel;","colorize","valueOverLifetimeLength","triggerPoolEmitter","addEmitter","unpackColor","    varying float vAngle;","warn","    highp float positionInTime = (age / maxAge);","flagUpdate","number","      }","grow","setVec2Components","_createGetterSetters","fragment","randomVector3OnSphere","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","geometry","       float y = 1.0 - gl_PointCoord.y - 0.5;","center","hasPerspective","type","           unpackColor( color.x ),","depthTest","transparent","   c.b = b / PACKED_COLOR_DIVISOR;","        float columnNorm = vSpriteSheet.z;","ensureArrayTypedArg","       vec3 c = isAlive * getColorOverLifetime(","   return acceleration.xyz * age;","setMat4","POSITIVE_INFINITY","#endif","fog_vertex","direction","Group","    #ifdef ALPHATEST","fixedTimeStep","typeSizeMap","activationIndex","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","textureFrames","getHex","BOX","dynamicBuffer","Emitter already exists in this group. Will not add again.","function","forceFetchingFunctions","max","getLength","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","uniform sampler2D tex;","    return max(sign(x - y), 0.0);","    #else","SPHERE","       if ( vColor.w < float(ALPHATEST) ) discard;","ensureArrayInstanceOf","attribute vec4 acceleration;","    }","offset","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","_distributionClamp","5690qunWnf","setVec4Components","        float totalFrames = textureAnimation.z;","vertex","random","float when_lt(float x, float y) {","Invalid argument types, or argument types do not match:","randomVector3OnLine","angleSpread","_attributesNeedRefresh","    force *= drag;","        float loopCount = textureAnimation.w;","attribute vec3 rotationCenter;","float getWiggle() {","age","randomVector3","scale","min","generateUUID","duration","roundToNearestMultiple","uniform vec4 textureAnimation;","rotateTexture","uniform float runTime;","DISC","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","528549zLPfub","forceUpdateAll","colorOverLifetime","_applyAttributesToGeometry","attribute vec4 size;","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","rotationCenter","#ifdef SHOULD_ROTATE_TEXTURE","group","      vec3 translated;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","logdepthbuf_fragment","        pos.y += wiggleCos;","runTime","pop","activeParticleCount","TypedArrayHelper","ensureInstanceOf","debu","position","        float rowNorm = row / framesY;","axisSpread","replace","setMat3","textureLoop","addPool","   c.r = r / PACKED_COLOR_DIVISOR;","6UsTwJh","_updateUniforms","    return 1.0 - abs( sign( x - y ) );","boolean","subarray","console","_assignPositionValue","_calculatePPSValue","opacity","           positionInTime,","368CdbMHl","        float perspective = scale / length( mvPosition.xyz );","_triggerSingleEmitter","resetDynamic","Will not resize.","    return a * b;","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","setSize","void main() {","logdepthbuf_vertex","LINE","resetUpdateRange","       );","  return 1.0 - when_gt(x, y);","test","           return pos;","multiplyScalar","function *\\( *\\)","      if( rotation.y == 0.0 ) {","updateMap","emitterIDs","Emitter already belongs to another group. Will not add to requested group.","floor","spe","        float columnNorm = column / framesX;","    #ifdef SHOULD_ROTATE_PARTICLES","logdepthbuf_pars_vertex","        float row = floor( (frameNumber - column) / framesX );","265019BUjYZs","Vector3","updateCounts","exception","Emitter does not belong to a group, cannot remove.","error","size","spreadClamp","   return c;","call","stateObject","value","_spreadClamp","    force += accel * age;","float when_le(float x, float y) {","componentSize","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","fog","shaders","uuid","randomDirectionVector3OnDisc","_spread","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","gger","    return value;","array","uniforms","clone","1866445XKWpkj","StaticDrawUsage","NEGATIVE_INFINITY","_static","remove","    pos += force;","attributeCount","arrayType","branchAvoidanceFunctions","join","undefined","_onRemove","particlesPerSecond","_assignAngleValue","_assignColorValue","isStatic","material","float getMaxAge() {","input","activationEnd","bufferUpdateKeys","_setAttributeOffset","Texture","DynamicDrawUsage","distribution","utils","Emitter does not exist in this group. Will not remove.","float and(float a, float b) {","SPE.Group pool ran out.","maxAge","1214670cjnzkd","updateFlags","        float framesX = textureAnimation.x;","float when_gt(float x, float y) {","       float x = gl_PointCoord.x - 0.5;","setNumber","arrayValuesAreEqual","_updateAttributeUpdateRange","needsUpdate","   c *= vec3( 2.0 );","updateMin","getValueAtIndex","paramsArray","clamp","        pos.z += wiggleSin;","_randomise","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","      mat4 rotationMatrix;","setRGB","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","    #ifdef COLORIZE","alphaTest","elements","axis","       float c = cos( -vAngle );","maxParticleCount","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","BOOLEAN","   vec3 c = vec3( 0.0 );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","blending","interpolateArray","disable","randomise","NUMBER","attribute vec4 rotation;","        float wiggleSin = isAlive * sin( wiggleAmount );","           unpackColor( color.y ),","angle","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","while (true) {}","float getAlive() {","vec3 getAcceleration( in float age ) {","typedArray","unpackRotationAxis","abs","getPool","_center","uniform float scale;","    float shouldApplyValue = 0.0;","resetFlags","vec3 getVelocity( in float age ) {","info","ensureValueOverLifetimeCompliance","randomColorAsHex","rotationFunctions","setVec2","SHOULD_ROTATE_TEXTURE","_ensureTypedArray","_assignParamsValue","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","constructor","_updateDefines","chain","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","    highp float maxAge = getMaxAge();","   c -= vec3( 1.0 );","    highp float age = getAge();","drag","particleCount","    #endif","_assignValue","exports","sin","prototype","string","counter","usage","distributionClamp","BufferAttribute","set","add","_angle","copy","static","setVec4","unshift","_resetBufferRanges","MathUtils","lerp","depthWrite","push","logdepthbuf_pars_fragment","    #ifdef SHOULD_ROTATE_TEXTURE","shaderChunks","    vec3 value = vec3( 0.0 );","trace","    highp float alive = getAlive();","color","fog_fragment","_axisSpread","setVec3Components","        pos = getRotation( pos, positionInTime );","attribute vec4 params;","bufferUpdateCount","bufferUpdateRanges","setUpdateRange","hasOwnProperty","textureFrameCount","params","varyings","sqrt","tick","cos","Emitter","#define PACKED_COLOR_SIZE 256.0","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","log","   float b = mod( hex, PACKED_COLOR_SIZE );","vec3 unpackRotationAxis( in float hex ) {","float when_eq( float x, float y ) {","       float s = sin(angle);","count","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","_setBufferUpdateRanges","_decrementParticleCount","types","indexOf","OBJECT","_incrementParticleCount","init","_radius","randomFloat","       float c = cos(angle);","_pool","        float wiggleAmount = positionInTime * getWiggle();","float or(float a, float b) {","    varying vec4 vSpriteSheet;","__proto__","        pos.x += wiggleSin;","toString","    vec4 rotatedTexture = texture2D( tex, vUv );","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","_createNewWhenPoolEmpty","       vec3 c = vec3(1.0);","bufferAttribute","BufferGeometry","      float angle = 0.0;"];return(d=function(){return t})()}typeof define===h(701)&&define[h(586)]?define(h(330),p):typeof exports!==h(373)&&"undefined"!=typeof module&&(module[h(465)]=p),p[h(286)]=function(t,e,i,n){const s=h;this[s(350)]=i||1,this[s(341)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(360)]=new t(e*this[s(350)]),this[s(642)]=n||0},p[h(286)][h(454)]=p[h(286)],p[h(286)][h(467)][h(314)]=function(t,e){const i=h,n=this.array[i(564)];return!e&&(t*=this[i(350)]),t<n?this[i(591)](t):t>n?this.grow(t):void console[i(445)](i(604),t+".",i(311))},p[h(286)][h(467)][h(591)]=function(t){const e=h;return this[e(360)]=this[e(360)][e(301)](0,t),this.size=t,this},p[h(286)][h(467)][h(666)]=function(t){const e=h,i=this[e(360)],n=new(this[e(577)])(t);return n[e(473)](i),this.array=n,this.size=t,this},p[h(286)][h(467)][h(623)]=function(t,e){const i=h;t*=this[i(350)],e*=this.componentSize;const n=[],s=this[i(360)],o=s[i(564)];for(let r=0;r<o;++r)(r<t||r>=e)&&n.push(s[r]);return this.setFromArray(0,n),this},p.TypedArrayHelper.prototype.setFromArray=function(t,e){const i=h,n=t+e.length;return n>this[i(360)][i(564)]?this[i(666)](n):n<this.array[i(564)]&&this.shrink(n),this[i(360)][i(473)](e,this[i(642)]+t),this},p[h(286)][h(467)][h(449)]=function(t,e){return this[h(667)](t,e.x,e.y)},p[h(286)][h(467)][h(667)]=function(t,e,i){const n=this[h(360)],s=this.indexOffset+t*this.componentSize;return n[s]=e,n[s+1]=i,this},p.TypedArrayHelper[h(467)][h(561)]=function(t,e){return this[h(494)](t,e.x,e.y,e.z)},p[h(286)][h(467)][h(494)]=function(t,e,i,n){const s=this[h(360)],o=this.indexOffset+t*this.componentSize;return s[o]=e,s[o+1]=i,s[o+2]=n,this},p[h(286)][h(467)][h(478)]=function(t,e){return this[h(245)](t,e.x,e.y,e.z,e.w)},p[h(286)].prototype.setVec4Components=function(t,e,i,n,s){const o=this[h(360)],r=this.indexOffset+t*this.componentSize;return o[r]=e,o[r+1]=i,o[r+2]=n,o[r+3]=s,this},p.TypedArrayHelper.prototype[h(293)]=function(t,e){const i=h;return this[i(552)](this[i(642)]+t*this[i(350)],e[i(415)])},p[h(286)][h(467)][h(685)]=function(t,e){const i=h;return this.setFromArray(this.indexOffset+t*this[i(350)],e.elements)},p[h(286)][h(467)][h(615)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},p[h(286)].prototype[h(398)]=function(t,e){const i=h;return this[i(360)][this[i(642)]+t*this.componentSize]=e,this},p.TypedArrayHelper[h(467)][h(404)]=function(t){const e=h;return this[e(360)][this[e(642)]+t]},p[h(286)].prototype[h(567)]=function(t){const e=h;return this.array[e(301)](this[e(642)]+t*this[e(350)])},p.ShaderAttribute=function(t,e,i){const n=h,s=p[n(550)][n(693)];this[n(676)]="string"==typeof t&&s.hasOwnProperty(t)?t:"f",this[n(350)]=s[this.type],this[n(370)]=i||Float32Array,this[n(436)]=null,this[n(538)]=null,this[n(699)]=!!e,this[n(403)]=0,this[n(602)]=0},p.ShaderAttribute[h(454)]=p[h(550)],p[h(550)][h(693)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},p[h(550)][h(467)][h(499)]=function(t,e){const i=h;this.updateMin=Math[i(261)](t*this[i(350)],this[i(403)]*this[i(350)]),this[i(602)]=Math.max(e*this[i(350)],this[i(602)]*this.componentSize)},p.ShaderAttribute[h(467)].flagUpdate=function(){const t=h,e=this.bufferAttribute,i=e[t(612)];i[t(241)]=this[t(403)],i[t(515)]=Math[t(261)](this[t(602)]-this.updateMin+this.componentSize,this.typedArray[t(360)][t(564)]),e.needsUpdate=!0},p[h(550)][h(467)][h(318)]=function(){this.updateMin=0,this.updateMax=0},p.ShaderAttribute[h(467)][h(310)]=function(){const e=h;this[e(538)][e(470)]=this[e(699)]?t[e(386)]:t[e(364)]},p[h(550)][h(467)][h(623)]=function(t,e){const i=h;this[i(436)][i(623)](t,e),this[i(271)]()},p[h(550)][h(467)][h(271)]=function(){const e=h;this[e(538)][e(360)]=this.typedArray[e(360)],this[e(538)][e(612)][e(241)]=0,this.bufferAttribute[e(612)][e(515)]=-1,this[e(538)][e(470)]=t[e(364)],this[e(538)][e(401)]=!0},p[h(550)].prototype[h(451)]=function(t){const e=h;null!==this.typedArray&&this[e(436)][e(341)]===t*this[e(350)]||(null!==this[e(436)]&&this[e(436)][e(341)]!==t?this[e(436)].setSize(t):null===this[e(436)]&&(this[e(436)]=new(p[e(286)])(this.arrayType,t,this[e(350)])))},p.ShaderAttribute.prototype[h(562)]=function(i){const n=h;if(this[n(451)](i),null!==this.bufferAttribute)return this[n(538)].array=this.typedArray[n(360)],parseFloat(e)>=81&&(this[n(538)].count=this[n(538)][n(360)].length/this[n(538)][n(652)]),void(this[n(538)].needsUpdate=!0);this.bufferAttribute=new(t[n(472)])(this.typedArray[n(360)],this[n(350)]),this[n(538)].usage=this[n(699)]?t[n(386)]:t[n(364)]},p[h(550)].prototype[h(704)]=function(){const t=h;return null===this[t(436)]?0:this[t(436)].array[t(564)]},p[h(487)]={defines:[h(508),"#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:[h(609),h(267),h(706),h(265),h(441)][h(372)]("\n"),attributes:[h(239),h(627),h(428),h(256),h(496),h(274),h(547),h(560),"attribute vec4 opacity;"][h(372)]("\n"),varyings:["varying vec4 vColor;",h(277),h(660),h(687),"#ifdef SHOULD_CALCULATE_SPRITE",h(530),h(687)][h(372)]("\n"),branchAvoidanceFunctions:[h(396),h(234),"}",h(249),h(409),"}",h(513),h(299),"}","float when_ge(float x, float y) {",h(563),"}",h(349),h(320),"}",h(390),h(312),"}",h(529),"    return min(a + b, 1.0);","}"][h(372)]("\n"),unpackColor:[h(624),"   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(511),h(296),"   c.g = g / PACKED_COLOR_DIVISOR;",h(680),h(343),"}"][h(372)]("\n"),unpackRotationAxis:[h(512),h(421),h(313),h(422),h(511),h(296),"   c.g = g / PACKED_COLOR_DIVISOR;",h(680),h(402),h(459),"   return c;","}"][h(372)]("\n"),floatOverLifetime:[h(617),h(629),h(671),h(554),h(442),"    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","",h(419),"       fIndex = float( i );",h(516),h(280),h(240),"",h(359),"}"][h(372)]("\n"),colorOverLifetime:[h(242),h(488),"    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );",h(269),"    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );",h(359),"}"][h(372)]("\n"),paramFetchingFunctions:[h(434),"   return params.x;","}","float getAge() {",h(568),"}",h(380),"   return params.z;","}",h(257),"   return params.w;","}"][h(372)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",h(635),"}",h(444),"   return velocity * age;","}",h(435),h(684),"}"][h(372)]("\n"),rotationFunctions:[h(632),"   mat4 getRotationMatrix( in vec3 axis, in float angle) {",h(647),h(514),h(526),"       float oc = 1.0 - c;","","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",h(457),h(432),"                   0.0,                                0.0,                                0.0,                                1.0);","   }","",h(357),h(325),h(322),h(665),"",h(544),h(569),h(279),h(410),h(540),h(646),h(705),"      translated = rotationCenter - pos;",h(625),h(541),"   }",h(687)][h(372)]("\n"),rotateTexture:[h(592),"",h(486),h(397),h(673),h(417),"       float s = sin( -vAngle );",h(575),h(463),"",h(639),h(588),"        float framesY = vSpriteSheet.y;",h(681),"        float rowNorm = vSpriteSheet.w;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;",h(412),h(463),"",h(534)][h(372)]("\n")},p.shaders={vertex:[p.shaderChunks.defines,p.shaderChunks[h(361)],p[h(487)][h(578)],p[h(487)][h(503)],i[h(585)],t[h(574)][h(333)],i[h(644)],p.shaderChunks.branchAvoidanceFunctions,p.shaderChunks[h(659)],p[h(487)][h(437)],p.shaderChunks.floatOverLifetime,p[h(487)][h(272)],p[h(487)][h(589)],p[h(487)][h(702)],p.shaderChunks[h(448)],h(315),h(460),h(490),h(458),h(662),"    highp float isAlive = when_gt( alive, 0.0 );","    #ifdef SHOULD_WIGGLE_PARTICLES",h(528),h(429),"        float wiggleCos = isAlive * cos( wiggleAmount );","    #endif",h(596),"    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );","    vec3 pos = vec3( position );",h(453),h(654),h(254),h(348),h(368),h(631),h(532),h(282),h(407),"    #endif",h(332),h(495),"    #endif","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;",h(556),h(308),h(235),"        float perspective = 1.0;","    #endif","    float pointSizePerspective = pointSize * perspective;",h(413),h(683),h(306),h(677),h(430),h(611),h(650),h(319),h(235),h(537),h(463),h(275),h(545),"    #ifdef SHOULD_ROTATE_TEXTURE","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",h(463),h(639),h(395),h(576),h(255),h(246),h(535),h(566),h(334),h(331),h(290),"        vSpriteSheet.x = 1.0 / framesX;","        vSpriteSheet.y = 1.0 / framesY;","        vSpriteSheet.z = columnNorm;","        vSpriteSheet.w = rowNorm;",h(463),h(608),"    gl_Position = projectionMatrix * mvPosition;",t[h(574)][h(316)],t[h(574)][h(688)],"}"][h(372)]("\n"),fragment:[p.shaderChunks.uniforms,t[h(574)][h(585)],i.fog_pars_fragment,i[h(485)],p[h(487)][h(503)],p[h(487)][h(371)],h(315),"    vec3 outgoingLight = vColor.xyz;","    ",h(691),h(237),h(463),p[h(487)][h(266)],t[h(574)][h(281)],h(351),h(614),t[h(574)][h(492)],"}"][h(372)]("\n")},p[h(388)]={types:{BOOLEAN:h(300),STRING:"string",NUMBER:h(664),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=h;if(Array[n(559)](t)){for(let s=t[n(564)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array[n(559)](t)){for(let s=t[n(564)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(287)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(559)](t._value)&&(t[n(593)]=[t[n(593)]]),!1===Array[n(559)](t[n(356)])&&(t[n(356)]=[t[n(356)]]);const s=this[n(406)](t[n(593)].length,e,i),o=this[n(406)](t[n(356)][n(564)],e,i),r=Math[n(703)](s,o);t[n(593)][n(564)]!==r&&(t._value=this[n(424)](t[n(593)],r)),t[n(356)][n(564)]!==r&&(t[n(356)]=this.interpolateArray(t[n(356)],r))},interpolateArray(t,e){const i=h,n=t[i(564)],s=[typeof t[0][i(362)]===i(701)?t[0][i(362)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(329)](e),a=Math[i(616)](e),c=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return s[i(484)]("function"==typeof t[n-1][i(362)]?t[n-1][i(362)]():t[n-1]),s},clamp(t,e,i){const n=h;return Math[n(703)](e,Math[n(261)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(248)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=h;let o,r=this[s(519)];return typeof e===r.NUMBER&&typeof i===r[s(427)]?e+(i-e)*n:e instanceof t[s(618)]&&i instanceof t[s(618)]?(o=e[s(362)](),o.x=this.lerp(e.x,i.x,n),o.y=this.lerp(e.y,i.y,n),o):e instanceof t[s(336)]&&i instanceof t[s(336)]?(o=e[s(362)](),o.x=this[s(482)](e.x,i.x,n),o.y=this[s(482)](e.y,i.y,n),o.z=this[s(482)](e.z,i.z,n),o):e instanceof t[s(649)]&&i instanceof t[s(649)]?(o=e[s(362)](),o.x=this[s(482)](e.x,i.x,n),o.y=this[s(482)](e.y,i.y,n),o.z=this.lerp(e.z,i.z,n),o.w=this[s(482)](e.w,i.w,n),o):e instanceof t[s(549)]&&i instanceof t[s(549)]?(o=e[s(362)](),o.r=this[s(482)](e.r,i.r,n),o.g=this[s(482)](e.g,i.g,n),o.b=this[s(482)](e.b,i.b,n),o):void console[s(661)](s(250),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math[i(438)](t)%e,0===n?t:t<0?-(Math[i(438)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(564)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(248)]()-.5),randomVector3(t,e,i,n,s){const o=h;let r=i.x+(Math[o(248)]()*n.x-.5*n.x),a=i.y+(Math[o(248)]()*n.y-.5*n.y),c=i.z+(Math[o(248)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(264)](r,s.x),a=.5*-s.y+this.roundToNearestMultiple(a,s.y),c=.5*-s.z+this[o(264)](c,s.z)),t[o(436)][o(494)](e,r,a,c)},randomColor(t,e,i,n){const s=h;let o=i.r+Math[s(248)]()*n.x,r=i.g+Math[s(248)]()*n.y,a=i.b+Math.random()*n.z;o=this[s(406)](o,0,1),r=this[s(406)](r,0,1),a=this[s(406)](a,0,1),t[s(436)].setVec3Components(e,o,r,a)},randomColorAsHex:function(){const e=h,i=new(t[e(549)]);return function(t,n,s,o){const r=e,a=s[r(564)],c=[];for(let e=0;e<a;++e){const t=o[e];i[r(476)](s[e]),i.r+=Math[r(248)]()*t.x-.5*t.x,i.g+=Math.random()*t.y-.5*t.y,i.b+=Math[r(248)]()*t.z-.5*t.z,i.r=this[r(406)](i.r,0,1),i.g=this[r(406)](i.g,0,1),i.b=this.clamp(i.b,0,1),c.push(i[r(697)]())}t[r(436)].setVec4Components(n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=h,o=i[s(362)]();o[s(482)](n,Math[s(248)]()),t[s(436)][s(494)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=h;let u=2*Math[c(248)]()-1,l=6.2832*Math.random(),f=Math[c(504)](1-u*u),p=this[c(525)](n,s),d=0,m=0,g=0;r&&(p=Math[c(597)](p/r)*r),d=f*Math[c(506)](l)*p,m=f*Math.sin(l)*p,g=u*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(436)][c(494)](e,d,m,g)},seededRandom(t){const e=1e4*Math[h(466)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=h;let c=6.2832*Math[a(248)](),u=Math[a(438)](this[a(525)](n,s)),l=0,f=0,p=0;r&&(u=Math.round(u/r)*r),l=Math[a(506)](c)*u,f=Math[a(466)](c)*u,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t.typedArray[a(494)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=h,i=new(t[e(336)]);return function(t,n,s,o,r,a,c,h){const u=e;i.copy(a),i.x-=s,i.y-=o,i.z-=r,i[u(598)]().multiplyScalar(-this[u(525)](c,h)),t[u(436)][u(494)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=h,i=new(t[e(336)]);return function(t,n,s,o,r,a,c,h){const u=e;i.copy(a),i.x-=s,i.y-=o,i.z-=r,i.normalize().multiplyScalar(-this[u(525)](c,h)),t[u(436)][u(494)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=h,i=new(t[e(336)]),n=new(t[e(336)]),s=new(t[e(549)]),o=new(t[e(336)])(1,1,1);return function(t,r){const a=e;return i[a(476)](t)[a(598)](),n.copy(r)[a(598)](),i.x+=.5*-r.x+Math[a(248)]()*r.x,i.y+=.5*-r.y+Math.random()*r.y,i.z+=.5*-r.z+Math[a(248)]()*r.z,i[a(598)]()[a(474)](o)[a(323)](.5),s[a(411)](i.x,i.y,i.z),s.getHex()}}()},p.Group=function(e){const i=h,c=p.utils,u=c[i(519)];(e=c.ensureTypedArg(e,u.OBJECT,{}))[i(553)]=c[i(643)](e.texture,u[i(521)],{}),this[i(354)]=n[i(262)](),this[i(692)]=c[i(643)](e.fixedTimeStep,u.NUMBER,.016),this.texture=c[i(287)](e[i(553)][i(346)],t[i(385)],null),this[i(696)]=c.ensureInstanceOf(e[i(553)].frames,t[i(618)],new(t[i(618)])(1,1)),this[i(501)]=c[i(643)](e[i(553)].frameCount,u[i(427)],this[i(696)].x*this[i(696)].y),this[i(294)]=c.ensureTypedArg(e[i(553)].loop,u.NUMBER,1),this[i(696)].max(new(t[i(618)])(1,1)),this[i(675)]=c[i(643)](e[i(675)],u[i(420)],!0),this.colorize=c[i(643)](e[i(655)],u[i(420)],!0),this[i(418)]=c[i(643)](e[i(418)],u[i(427)],null),this.blending=c[i(643)](e[i(423)],u.NUMBER,s),this[i(679)]=c[i(643)](e.transparent,u.BOOLEAN,!0),this.alphaTest=parseFloat(c[i(643)](e[i(414)],u.NUMBER,0)),this.depthWrite=c[i(643)](e[i(483)],u[i(420)],!1),this[i(678)]=c[i(643)](e[i(678)],u[i(420)],!0),this[i(352)]=c[i(643)](e[i(352)],u.BOOLEAN,!0),this[i(260)]=c[i(643)](e[i(260)],u[i(427)],300),this[i(565)]=[],this[i(327)]=[],this[i(527)]=[],this._poolCreationSettings=null,this[i(536)]=0,this[i(253)]=!1,this[i(653)]=!1,this.particleCount=0,this[i(361)]={tex:{type:"t",value:this[i(553)]},textureAnimation:{type:"v4",value:new(t[i(649)])(this.textureFrames.x,this[i(696)].y,this[i(501)],Math[i(703)](Math[i(438)](this[i(294)]),1))},fogColor:{type:"c",value:this[i(352)]?new o:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(260)]}},this.defines={HAS_PERSPECTIVE:this[i(675)],COLORIZE:this[i(655)],VALUE_OVER_LIFETIME_LENGTH:p[i(656)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this[i(696)].y>1},this[i(578)]={position:new(p[i(550)])("v3",!0),acceleration:new(p[i(550)])("v4",!0),velocity:new(p[i(550)])("v3",!0),rotation:new(p[i(550)])("v4",!0),rotationCenter:new(p[i(550)])("v3",!0),params:new p.ShaderAttribute("v4",!0),size:new p.ShaderAttribute("v4",!0),angle:new(p[i(550)])("v4",!0),color:new(p[i(550)])("v4",!0),opacity:new(p[i(550)])("v4",!0)},this[i(648)]=Object[i(579)](this[i(578)]),this[i(369)]=this[i(648)][i(564)],this.material=new r({uniforms:this.uniforms,vertexShader:p[i(353)][i(247)],fragmentShader:p.shaders[i(669)],blending:this[i(423)],transparent:this.transparent,alphaTest:this[i(414)],depthWrite:this.depthWrite,depthTest:this[i(678)],defines:this[i(548)],fog:this[i(352)]}),this[i(672)]=new(t[i(539)]),this[i(613)]=new a(this.geometry,this.material),null===this[i(418)]&&console[i(661)](i(509))},p[h(690)].constructor=p[h(690)],p.Group.prototype[h(455)]=function(){const t=h;let e,i=this[t(565)],n=i[t(564)]-1,s=this[t(548)];for(;n>=0;--n)e=i[n],!s[t(603)]&&(s[t(450)]=s.SHOULD_ROTATE_TEXTURE||!!Math[t(703)](Math[t(703)][t(580)](null,e[t(431)][t(346)]),Math[t(703)][t(580)](null,e[t(431)][t(557)]))),s.SHOULD_ROTATE_PARTICLES=s[t(551)]||!!Math.max(e[t(594)].angle,e[t(594)][t(252)]),s[t(600)]=s[t(600)]||!!Math[t(703)](e[t(630)].value,e[t(630)].spread);this[t(379)][t(401)]=!0},p.Group[h(467)][h(273)]=function(){const t=h;let e,i,n=this.attributes,s=this.geometry,o=s[t(578)];for(const r in n)n[t(500)](r)&&(e=n[r],i=o[r],i?i[t(360)]=e[t(436)][t(360)]:s.setAttribute(r,e[t(538)]),e[t(538)].needsUpdate=!0);this[t(672)][t(601)](0,this[t(462)])},p.Group.prototype.addEmitter=function(t){const e=h;if(t instanceof p.Emitter==!1)return void console.error(e(634),t);if(this[e(327)][e(520)](t[e(354)])>-1)return void console[e(340)](e(700));if(null!==t[e(278)])return void console.error(e(328));const i=this[e(578)],n=this[e(462)],s=n+t[e(462)];this[e(462)]=s,null!==this[e(418)]&&this[e(462)]>this.maxParticleCount&&console[e(661)](e(621),this[e(462)],e(570),this[e(418)]),t[e(304)](t[e(392)][e(593)]+t.maxAge[e(356)]),t._setBufferUpdateRanges(this[e(648)]),t[e(384)](n),t[e(278)]=this,t[e(578)]=this[e(578)];for(const o in i)i.hasOwnProperty(o)&&i[o][e(562)](null!==this[e(418)]?this.maxParticleCount:this[e(462)]);for(let o=n;o<s;++o)t[e(303)](o),t[e(583)](o,"velocity"),t[e(583)](o,e(555)),t[e(651)](o,e(305)),t[e(651)](o,e(341)),t[e(376)](o),t._assignRotationValue(o),t[e(452)](o),t[e(377)](o);return this[e(273)](),this.emitters.push(t),this[e(327)][e(484)](t.uuid),this._updateDefines(t),this[e(379)][e(401)]=!0,this[e(672)][e(401)]=!0,this._attributesNeedRefresh=!0,this},p[h(690)].prototype.removeEmitter=function(t){const e=h,i=this[e(327)][e(520)](t[e(354)]);if(t instanceof p[e(507)]==!1)return void console[e(340)](e(634),t);if(-1===i)return void console[e(340)](e(389));const n=t.attributeOffset,s=n+t[e(462)],o=this[e(578)][e(502)][e(436)];for(let r=n;r<s;++r)o.array[4*r]=0,o[e(360)][4*r+1]=0;this[e(565)].splice(i,1),this[e(327)][e(623)](i,1);for(const r in this[e(578)])this[e(578)][e(500)](r)&&this[e(578)][r][e(623)](n,s);this[e(462)]-=t[e(462)],t._onRemove(),this._attributesNeedRefresh=!0},p[h(690)].prototype[h(622)]=function(){const t=h,e=this[t(527)],i=this[t(536)];if(e[t(564)])return e[t(284)]();if(i){const e=new(p[t(507)])(this._poolCreationSettings);return this[t(658)](e),e}return null},p.Group[h(467)][h(619)]=function(t){const e=h;if(t instanceof p.Emitter!=!1)return t[e(595)](),this[e(527)][e(479)](t),this;console.error("Argument is not instanceof SPE.Emitter:",t)},p[h(690)].prototype[h(439)]=function(){return this[h(527)]},p[h(690)][h(467)][h(295)]=function(t,e,i){const n=h;let s;this[n(633)]=e,this[n(536)]=!!i;for(let o=0;o<t;++o)s=Array[n(559)](e)?new(p[n(507)])(e[o]):new p.Emitter(e),this[n(658)](s),this.releaseIntoPool(s);return this},p[h(690)][h(467)]._triggerSingleEmitter=function(t){const e=h,i=this[e(622)](),n=this;if(null!==i)return t instanceof c&&(i[e(289)][e(346)][e(476)](t),i.position[e(346)]=i[e(289)][e(346)]),i[e(582)](),setTimeout((()=>{const t=e;i[t(425)](),n[t(619)](i)}),1e3*Math[e(703)](i[e(263)],i.maxAge[e(346)]+i.maxAge[e(557)])),this;console[e(510)](e(391))},p[h(690)][h(467)][h(657)]=function(t,e){const i=h;if(typeof t===i(664)&&t>1)for(let n=0;n<t;++n)this[i(309)](e);else this[i(309)](e);return this},p.Group[h(467)][h(298)]=function(t){const e=h;this[e(361)][e(283)][e(346)]+=t,this[e(361)][e(610)][e(346)]=t},p.Group[h(467)][h(480)]=function(){const t=h;let e=this[t(648)],i=this.attributeCount-1,n=this[t(578)];for(;i>=0;--i)n[e[i]][t(318)]()},p[h(690)][h(467)][h(628)]=function(t){const e=h;let i,n,s,o=this.attributeKeys,r=this.attributeCount-1,a=this.attributes,c=t.bufferUpdateRanges;for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(499)](n[e(261)],n[e(703)]),s[e(663)]()},p[h(690)][h(467)][h(505)]=function(t){const e=h;var i=this[e(565)],n=i[e(564)],s=t||this[e(692)],o=this.attributeKeys,r=this.attributes;if(this[e(298)](s),this[e(480)](),0!==n||!1!==this[e(253)]||!1!==this[e(653)]){for(var a,c=0;c<n;++c)(a=i[c])[e(505)](s),this[e(628)](a);if(!0===this._attributesNeedDynamicReset){for(c=this[e(369)]-1;c>=0;--c)r[o[c]][e(310)]();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(c=this[e(369)]-1;c>=0;--c)r[o[c]][e(271)]();this[e(253)]=!1,this._attributesNeedDynamicReset=!0}}},p.Group[h(467)][h(640)]=function(){const t=h;return this[t(672)][t(640)](),this[t(379)][t(640)](),this},p[h(507)]=function(e){const i=h,n=p[i(388)],s=n[i(519)],o=p.valueOverLifetimeLength;(e=n.ensureTypedArg(e,s[i(521)],{})).position=n.ensureTypedArg(e[i(289)],s[i(521)],{}),e[i(542)]=n[i(643)](e[i(542)],s[i(521)],{}),e.acceleration=n[i(643)](e.acceleration,s.OBJECT,{}),e[i(638)]=n[i(643)](e[i(638)],s[i(521)],{}),e[i(461)]=n.ensureTypedArg(e[i(461)],s[i(521)],{}),e.rotation=n[i(643)](e.rotation,s[i(521)],{}),e[i(491)]=n[i(643)](e[i(491)],s[i(521)],{}),e[i(305)]=n[i(643)](e[i(305)],s[i(521)],{}),e[i(341)]=n[i(643)](e[i(341)],s[i(521)],{}),e.angle=n[i(643)](e[i(431)],s[i(521)],{}),e[i(630)]=n[i(643)](e[i(630)],s[i(521)],{}),e[i(392)]=n[i(643)](e[i(392)],s[i(521)],{}),e[i(572)]&&console.warn(i(695)),this[i(354)]=t[i(481)][i(262)](),this[i(676)]=n[i(643)](e.type,s[i(427)],p.distributions.BOX),this[i(289)]={_value:n.ensureInstanceOf(e[i(289)][i(346)],t[i(336)],new c),_spread:n[i(287)](e.position[i(557)],c,new(t[i(336)])),_spreadClamp:n[i(287)](e[i(289)][i(342)],t[i(336)],new c),_distribution:n[i(643)](e[i(289)].distribution,s[i(427)],this[i(676)]),_randomise:n[i(643)](e[i(289)][i(426)],s[i(420)],!1),_radius:n[i(643)](e.position[i(638)],s[i(427)],10),_radiusScale:n[i(287)](e[i(289)][i(573)],t[i(336)],new(t[i(336)])(1,1,1)),_distributionClamp:n[i(643)](e[i(289)][i(471)],s[i(427)],0)},this[i(542)]={_value:n[i(287)](e[i(542)][i(346)],c,new c),_spread:n[i(287)](e[i(542)][i(557)],t[i(336)],new c),_distribution:n[i(643)](e.velocity.distribution,s[i(427)],this[i(676)]),_randomise:n[i(643)](e.position[i(426)],s[i(420)],!1)},this[i(555)]={_value:n[i(287)](e.acceleration[i(346)],t[i(336)],new(t[i(336)])),_spread:n.ensureInstanceOf(e[i(555)].spread,t[i(336)],new(t[i(336)])),_distribution:n.ensureTypedArg(e[i(555)][i(387)],s[i(427)],this.type),_randomise:n[i(643)](e.position[i(426)],s[i(420)],!1)},this[i(461)]={_value:n[i(643)](e[i(461)][i(346)],s[i(427)],0),_spread:n.ensureTypedArg(e.drag.spread,s.NUMBER,0),_randomise:n.ensureTypedArg(e[i(289)][i(426)],s[i(420)],!1)},this[i(630)]={_value:n.ensureTypedArg(e[i(630)].value,s[i(427)],0),_spread:n.ensureTypedArg(e.wiggle[i(557)],s[i(427)],0)},this[i(594)]={_axis:n[i(287)](e[i(594)][i(416)],t[i(336)],new(t[i(336)])(0,1,0)),_axisSpread:n[i(287)](e[i(594)][i(291)],t[i(336)],new(t[i(336)])),_angle:n[i(643)](e.rotation[i(431)],s[i(427)],0),_angleSpread:n[i(643)](e[i(594)][i(252)],s[i(427)],0),_static:n[i(643)](e[i(594)][i(477)],s[i(420)],!1),_center:n[i(287)](e[i(594)][i(674)],t[i(336)],this[i(289)]._value[i(362)]()),_randomise:n.ensureTypedArg(e[i(289)].randomise,s[i(420)],!1)},this[i(392)]={_value:n.ensureTypedArg(e.maxAge[i(346)],s.NUMBER,2),_spread:n[i(643)](e[i(392)][i(557)],s.NUMBER,0)},this.color={_value:n[i(238)](e.color[i(346)],t[i(549)],new(t[i(549)])),_spread:n[i(238)](e.color[i(557)],t[i(336)],new(t[i(336)])),_randomise:n[i(643)](e.position[i(426)],s[i(420)],!1)},this[i(305)]={_value:n.ensureArrayTypedArg(e.opacity[i(346)],s[i(427)],1),_spread:n[i(682)](e[i(305)][i(557)],s.NUMBER,0),_randomise:n[i(643)](e[i(289)][i(426)],s[i(420)],!1)},this[i(341)]={_value:n[i(682)](e[i(341)][i(346)],s[i(427)],1),_spread:n[i(682)](e[i(341)][i(557)],s.NUMBER,0),_randomise:n[i(643)](e[i(289)][i(426)],s[i(420)],!1)},this[i(431)]={_value:n[i(682)](e[i(431)][i(346)],s[i(427)],0),_spread:n[i(682)](e[i(431)][i(557)],s[i(427)],0),_randomise:n[i(643)](e[i(289)][i(426)],s[i(420)],!1)},this[i(462)]=n[i(643)](e[i(462)],s[i(427)],100),this[i(263)]=n.ensureTypedArg(e.duration,s[i(427)],null),this.isStatic=n[i(643)](e.isStatic,s[i(420)],!1),this.activeMultiplier=n[i(643)](e[i(546)],s[i(427)],1),this[i(689)]=n[i(643)](e.direction,s[i(427)],1),this[i(590)]=n[i(643)](e[i(590)],s[i(420)],!0),this[i(375)]=0,this[i(694)]=0,this[i(584)]=0,this.attributeEnd=0,this[i(258)]=0,this[i(285)]=0,this[i(278)]=null,this[i(578)]=null,this[i(405)]=null,this[i(443)]={position:n[i(643)](e[i(289)][i(426)],s[i(420)],!1)||n[i(643)](e[i(638)][i(426)],s.BOOLEAN,!1),velocity:n[i(643)](e[i(542)].randomise,s[i(420)],!1),acceleration:n[i(643)](e[i(555)][i(426)],s.BOOLEAN,!1)||n[i(643)](e[i(461)][i(426)],s[i(420)],!1),rotation:n[i(643)](e[i(594)][i(426)],s[i(420)],!1),rotationCenter:n[i(643)](e.rotation[i(426)],s[i(420)],!1),size:n[i(643)](e[i(341)][i(426)],s[i(420)],!1),color:n[i(643)](e[i(491)][i(426)],s[i(420)],!1),opacity:n.ensureTypedArg(e[i(305)][i(426)],s[i(420)],!1),angle:n[i(643)](e.angle[i(426)],s.BOOLEAN,!1)},this.updateFlags={},this[i(337)]={},this[i(326)]={maxAge:"params",position:i(289),velocity:i(542),acceleration:i(555),drag:i(555),wiggle:i(502),rotation:i(594),size:i(341),color:"color",opacity:i(305),angle:i(431)};for(const t in this.updateMap)this[i(326)].hasOwnProperty(t)&&(this[i(337)][this[i(326)][t]]=0,this[i(394)][this[i(326)][t]]=!1,this._createGetterSetters(this[t],t));this.bufferUpdateRanges={},this[i(648)]=null,this[i(369)]=0,n[i(446)](this[i(491)],o,o),n.ensureValueOverLifetimeCompliance(this[i(305)],o,o),n[i(446)](this[i(341)],o,o),n[i(446)](this.angle,o,o)},p[h(507)][h(454)]=p[h(507)],p[h(507)][h(467)][h(668)]=function(t,e){const i=h,n=this;for(const s in t)if(t.hasOwnProperty(s)){const o=s[i(292)]("_","");Object[i(636)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=l,o=n[s(326)][e],r=this[t],a=p[s(656)];t===s(637)?(n.updateFlags[s(276)]=!0,n[s(337)][s(276)]=0):t===s(408)?n[s(443)][o]=i:(n.updateFlags[o]=!0,n[s(337)][o]=0),n[s(278)]._updateDefines(),this[t]=i,Array.isArray(r)&&p[s(388)][s(446)](n[e],a,a)}}(s)})}},p[h(507)].prototype[h(517)]=function(t){const e=h;this[e(648)]=t,this[e(369)]=t[e(564)];for(let i=this.attributeCount-1;i>=0;--i)this[e(498)][t[i]]={min:Number[e(686)],max:Number.NEGATIVE_INFINITY}},p[h(507)][h(467)][h(304)]=function(t){const e=h,i=this[e(462)];this[e(263)]?this.particlesPerSecond=i/(t<this[e(263)]?t:this[e(263)]):this.particlesPerSecond=i/t},p[h(507)][h(467)][h(384)]=function(t){const e=h;this.attributeOffset=t,this[e(694)]=t,this[e(382)]=t+this[e(462)]},p[h(507)][h(467)]._assignValue=function(t,e){const i=h;switch(t){case"position":this[i(303)](e);break;case i(542):case"acceleration":this[i(583)](e,t);break;case i(341):case"opacity":this[i(651)](e,t);break;case"angle":this[i(376)](e);break;case i(502):this[i(452)](e);break;case i(594):this[i(606)](e);break;case i(491):this._assignColorValue(e)}},p.Emitter[h(467)][h(303)]=function(t){const e=h,i=p.distributions,n=p.utils,s=this[e(289)],o=this[e(578)][e(289)],r=s[e(593)],a=s._spread;switch(s._distribution){case i[e(698)]:n[e(259)](o,t,r,a,s._spreadClamp);break;case i[e(236)]:n[e(670)](o,t,r,s[e(524)],s._spread.x,s[e(605)],s[e(347)].x,s[e(243)]||this[e(462)]);break;case i[e(268)]:n.randomVector3OnDisc(o,t,r,s._radius,s[e(356)].x,s[e(605)],s._spreadClamp.x);break;case i[e(317)]:n[e(251)](o,t,r,a)}},p[h(507)][h(467)][h(583)]=function(t,e){const i=h;let n,s,o,r,a,c=p.distributions,u=p[i(388)],l=this[e],f=l._value,d=l[i(356)];switch(l[i(581)]){case c[i(698)]:u[i(259)](this[i(578)][e],t,f,d);break;case c.SPHERE:n=this.attributes[i(289)].typedArray[i(360)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],u.randomDirectionVector3OnSphere(this.attributes[e],t,s,o,r,this[i(289)][i(593)],l[i(593)].x,l._spread.x);break;case c[i(268)]:n=this[i(578)][i(289)][i(436)].array,a=3*t,s=n[a],o=n[a+1],r=n[a+2],u[i(355)](this[i(578)][e],t,s,o,r,this.position[i(593)],l[i(593)].x,l[i(356)].x);break;case c[i(317)]:u[i(251)](this.attributes[e],t,f,d)}if("acceleration"===e){const e=u[i(406)](u[i(525)](this[i(461)][i(593)],this[i(461)][i(356)]),0,1);this[i(578)][i(555)][i(436)][i(360)][4*t+3]=e}},p[h(507)][h(467)][h(651)]=function(t,e){const i=h;let n,s=this[i(578)][e][i(436)],o=this[e],r=p[i(388)];r.arrayValuesAreEqual(o[i(593)])&&r[i(399)](o._spread)?(n=Math[i(438)](r.randomFloat(o[i(593)][0],o[i(356)][0])),s[i(245)](t,n,n,n,n)):s.setVec4Components(t,Math.abs(r.randomFloat(o._value[0],o._spread[0])),Math[i(438)](r[i(525)](o[i(593)][1],o[i(356)][1])),Math.abs(r[i(525)](o[i(593)][2],o._spread[2])),Math[i(438)](r[i(525)](o[i(593)][3],o[i(356)][3])))},p[h(507)][h(467)]._assignAngleValue=function(t){const e=h;let i,n=this.attributes[e(431)][e(436)],s=this[e(431)],o=p[e(388)];o[e(399)](s[e(593)])&&o.arrayValuesAreEqual(s._spread)?(i=o[e(525)](s[e(593)][0],s[e(356)][0]),n[e(245)](t,i,i,i,i)):n[e(245)](t,o.randomFloat(s[e(593)][0],s[e(356)][0]),o[e(525)](s[e(593)][1],s._spread[1]),o[e(525)](s[e(593)][2],s[e(356)][2]),o[e(525)](s[e(593)][3],s[e(356)][3]))},p[h(507)][h(467)][h(452)]=function(t){const e=h;this[e(578)][e(502)][e(436)][e(245)](t,this[e(378)]?1:0,0,Math[e(438)](p[e(388)][e(525)](this.maxAge[e(593)],this[e(392)][e(356)])),p.utils[e(525)](this.wiggle._value,this[e(630)][e(356)]))},p[h(507)][h(467)][h(606)]=function(t){const e=h;this.attributes[e(594)][e(436)][e(494)](t,p[e(388)][e(620)](this[e(594)]._axis,this[e(594)][e(493)]),p[e(388)][e(525)](this.rotation[e(475)],this[e(594)]._angleSpread),this[e(594)][e(366)]?0:1),this[e(578)].rotationCenter[e(436)][e(561)](t,this.rotation[e(440)])},p[h(507)][h(467)][h(377)]=function(t){const e=h;p[e(388)][e(447)](this.attributes[e(491)],t,this[e(491)]._value,this[e(491)][e(356)])},p[h(507)].prototype[h(645)]=function(t){const e=h;let i,n,s=this[e(443)],o=this[e(394)],r=this[e(337)],a=this[e(648)];for(let c=this[e(369)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(464)](i,t),this[e(400)](i,t),!0===n&&r[i]===this.particleCount?(o[i]=!1,r[i]=0):1==n&&++r[i])},p[h(507)].prototype[h(400)]=function(t,e){const i=h,n=this[i(498)][t];n[i(261)]=Math[i(261)](e,n[i(261)]),n[i(703)]=Math[i(703)](e,n[i(703)])},p[h(507)][h(467)]._resetBufferRanges=function(){const t=h;let e,i=this[t(498)],n=this[t(383)],s=this[t(497)]-1;for(;s>=0;--s)e=n[s],i[e][t(261)]=Number[t(686)],i[e][t(703)]=Number[t(365)]},p[h(507)][h(467)][h(374)]=function(){const t=h;this[t(375)]=0,this.attributeOffset=0,this[t(694)]=0,this[t(285)]=0,this[t(278)]=null,this[t(578)]=null,this[t(405)]=null,this[t(258)]=0},p[h(507)][h(467)][h(518)]=function(){--this[h(285)]},p[h(507)][h(467)][h(522)]=function(){++this[h(285)]},p.Emitter.prototype[h(599)]=function(t,e,i,n){const s=h;for(var o,r,a,c,u=e-1;u>=t;--u)0!==(c=i[o=4*u])&&(a=i[o+1],r=i[o+2],1===this[s(689)]?(a+=n)>=r&&(a=0,c=0,this._decrementParticleCount()):(a-=n)<=0&&(a=r,c=0,this[s(518)]()),i[o]=c,i[o+1]=a,this[s(400)](s(502),u))},p.Emitter[h(467)][h(641)]=function(t,e,i,n){const s=h,o=this.direction;for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(462)]||(this[s(522)](),i[r]=1,this[s(645)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(400)](s(502),c))},p[h(507)][h(467)].tick=function(t){const e=h;if(this[e(378)])return;null===this.paramsArray&&(this[e(405)]=this[e(578)][e(502)][e(436)].array);const i=this[e(584)],n=i+this[e(462)],s=this[e(405)],o=this.particlesPerSecond*this[e(546)]*t,r=this[e(694)];if(this[e(480)](),this[e(599)](i,n,s,t),!1===this.alive)return void(this.age=0);if(null!==this[e(263)]&&this[e(258)]>this[e(263)])return this[e(590)]=!1,void(this[e(258)]=0);const a=1===this[e(462)]?r:0|r,c=Math.min(a+o,this[e(382)]),u=c-this[e(694)]|0,l=u>0?t/u:0;this[e(641)](a,c,s,l),this.activationIndex+=o,this[e(694)]>n&&(this[e(694)]=i),this.age+=t},p[h(507)][h(467)][h(595)]=function(t){const e=h;if(this[e(258)]=0,this[e(590)]=!1,!0===t){const t=this[e(584)],s=t+this[e(462)],o=this.paramsArray,r=this.attributes[e(502)][e(538)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(241)]=0,r.updateRange.count=-1,r[e(401)]=!0}return this},p.Emitter.prototype[h(582)]=function(){return this[h(590)]=!0,this},p[h(507)][h(467)][h(425)]=function(){return this[h(590)]=!1,this},p[h(507)][h(467)][h(367)]=function(){const t=h;return null!==this[t(278)]?this.group.removeEmitter(this):console.error(t(339)),this};const m=p;function g(t){function e(t){const i=l;if(typeof t===i(468))return function(t){}[i(454)](i(433))[i(580)](i(469));1!==(""+t/t)[i(564)]||t%20==0?function(){return!0}[i(454)](i(288)+i(358))[i(344)](i(558)):function(){return!1}[i(454)](i(288)+i(358))[i(580)](i(345)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
