import{b as t,f as n,_ as e,a as o}from"./three.sQDbNBks1741583630766.js";import{m as a}from"./@tresjs.ZmhvXhx31741583630766.js";import{d as r,P as s}from"./@pmndrs.tHVKIvRt1741583630766.js";import{d as i,b as c,w as u,a2 as l,o as p,H as f,N as h,aj as d,ak as m}from"./@vue.NRI7TcgI1741583630766.js";const g=w;function w(t,n){const e=I();return(w=function(t,n){return e[t-=273]})(t,n)}!function(t,n){const e=w,o=I();for(;;)try{if(159958===parseInt(e(342))/1+-parseInt(e(293))/2+parseInt(e(324))/3*(parseInt(e(356))/4)+parseInt(e(348))/5*(parseInt(e(281))/6)+-parseInt(e(335))/7*(-parseInt(e(307))/8)+-parseInt(e(337))/9*(parseInt(e(305))/10)+-parseInt(e(353))/11)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const b=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(327)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=w,n=new RegExp(t(359)),e=new RegExp(t(296),"i"),o=z(t(298));n[t(321)](o+t(338))&&e[t(321)](o+t(350))?z():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(327)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(288)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(355),"warn",t(277),t(340),t(289),t(360),t(282)];for(let a=0;a<o[t(351)];a++){const n=M[t(279)][t(311)][t(354)](M),r=o[a],s=e[r]||n;n[t(309)]=M[t(354)](M),n.toString=s[t(291)][t(354)](s),e[r]=n}}))();const y=[g(290)];function I(){const t=["gger","clear","castShadow","near","add","60039fASZiz","blendWindow","9KgXyGa","chain","shadows plm update","error","lightPosition","199783pHSnBN","#000000","intensity","call","bias","gPlane","10715uZFRfr","remove","input","length","color","4555650ubTnTo","bind","log","68DjeLCJ","ambient","position","function *\\( *\\)","table","top","while (true) {}","frames","counter","acos","info","accumulativeShadowsCom","constructor","shadows render end","654fApnKR","trace","width","set","action","string","texture","return (function() ","exception","rotate-x","toString","height","67680lHtSIo","alphaTest","TresPlaneGeometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","children","init","randFloatSpread","abs","debu","far","value","random","528440DeeMbW","size","72QurjYO","opacity","__proto__","sin","prototype","TresMesh","amount","camera","cos","blend","mapSize","shadows render start","shadow","bottom","test","configure","right","26511JvMHYv","stateObject","material","apply","MathUtils","DirectionalLight"];return(I=function(){return t})()}const S=i({__name:g(278),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:g(343)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(i){const w=g,b=i;let M=c();const{extend:I,scene:S,renderer:z,camera:x}=a();I({SoftShadowMaterial:r});const v={position:(new t)[w(284)](b.lightPosition.x,b[w(341)].y,b.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},P=new s(z[w(303)],S[w(303)],v[w(317)]),_={map:P.progressiveLightMap2[w(287)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:b[w(316)],alphaTest:b[w(294)],opacity:b[w(308)],color:b[w(352)]},j=new n;for(let t=0;t<v[w(313)];t++){const t=new(e[w(329)])(16777215,v[w(344)]/v[w(313)]);t[w(332)]=!0,t[w(319)][w(346)]=v[w(346)],t.shadow[w(314)].near=v[w(333)],t.shadow[w(314)][w(302)]=v[w(302)],t[w(319)][w(314)][w(323)]=v[w(306)]/2,t[w(319)][w(314)].left=-v.size/2,t[w(319)][w(314)][w(361)]=v[w(306)]/2,t[w(319)][w(314)][w(320)]=-v.size/2,t[w(319)][w(317)][w(283)]=v.mapSize,t[w(319)][w(317)][w(292)]=v[w(317)],j[w(334)](t)}const T=()=>{const t=w,n=v[t(358)].length();for(let a=0;a<j[t(297)][t(351)];a++){const r=j[t(297)][a];if(Math[t(304)]()>b.ambient)r.position[t(284)](v.position.x+e[t(328)][t(299)](v.radius),v.position.y+e[t(328)][t(299)](v.radius),v[t(358)].z+o[t(299)](v.radius));else{let e=Math[t(276)](2*Math[t(304)]()-1)-Math.PI/2,o=2*Math.PI*Math[t(304)]();r[t(358)][t(284)](Math[t(315)](e)*Math[t(315)](o)*n,Math[t(300)](Math[t(315)](e)*Math[t(310)](o)*n),Math.sin(e)*n)}}},A=(t=1)=>{const n=w;S[n(303)][n(334)](j),P.prepare();for(let e=0;e<t;e++)T(),P.update(x[n(303)],b[n(336)]),console[n(355)](n(339),e);S[n(303)][n(349)](j),P.finish()};u((()=>M.value),(t=>{const n=w;t&&(P[n(322)](t),P[n(331)](),console.log(n(318)),A(b[n(274)]),console[n(355)](n(280)))}));const H=()=>{const t=w;P[t(331)](),A(b[t(274)])};return l((()=>{const t=w;M[t(303)]&&(b[t(308)]&&(M[t(303)][t(326)][t(308)]=b[t(308)]),b.alphaTest&&(M[t(303)][t(326)][t(294)]=b[t(294)]),b[t(352)]&&M[t(303)][t(326)][t(352)][t(284)](b[t(352)]),b.blend&&(M.value[t(326)][t(316)]=b.blend))})),u((()=>b[w(341)]),(t=>{const n=w;t&&(console[n(355)](b[n(341)]),v.position[n(284)](t.x,t.y,t.z),H())}),{deep:!0}),u((()=>[b[w(274)],b[w(336)],b[w(357)]]),(()=>{H()})),(t,n)=>{const e=w;return p(),f(e(312),{"receive-shadow":"",ref_key:e(347),ref:M,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=h(e(295),{args:[1,1]},null,-1)),h("TresSoftShadowMaterial",d(m(_)),null,16)],8,y)}}});function z(t){function n(t){const e=w;if(typeof t===e(286))return function(t){}[e(279)](e(273))[e(327)](e(275));1!==(""+t/t)[e(351)]||t%20==0?function(){return!0}.constructor(e(301)+e(330))[e(345)](e(285)):function(){return!1}[e(279)](e(301)+"gger").apply(e(325)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{S as _};
