import{c7 as t,a3 as e,s as n,t as r}from"./three.jpi2UCEx1735275234726.js";import{b as o}from"./@tresjs.fCqPNEAw1735275234726.js";import{R as s,b as i}from"./all.three.XuJc20cT1735275234726.js";import{d as c,a6 as a,a3 as u,w as f,o as l,D as p,J as d,u as h}from"./@vue.u2cBPEWn1735275234726.js";const b=j;!function(t,e){const n=j,r=I();for(;;)try{if(870852===parseInt(n(420))/1+parseInt(n(427))/2*(-parseInt(n(368))/3)+-parseInt(n(398))/4*(-parseInt(n(381))/5)+parseInt(n(401))/6+parseInt(n(389))/7*(-parseInt(n(391))/8)+parseInt(n(421))/9+parseInt(n(426))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(403)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=j,e=new RegExp(t(386)),n=new RegExp(t(409),"i"),r=R(t(400));e[t(415)](r+"chain")&&n[t(415)](r+"input")?R():r("0")}))()}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();w(void 0,(function(){const t=j;let e;try{e=Function(t(412)+t(423)+");")()}catch(o){e=window}const n=e.console=e[t(384)]||{},r=[t(417),t(424),t(418),t(372),"exception",t(380),"trace"];for(let s=0;s<r[t(405)];s++){const e=w[t(397)][t(374)][t(370)](w),o=r[s],i=n[o]||e;e[t(408)]=w[t(370)](w),e[t(383)]=i[t(383)].bind(i),n[o]=e}}))();const g=["scale"],v=["object"],y=[b(395)];function j(t,e){const n=I();return(j=function(t,e){return n[t-=368]})(t,e)}function I(){const t=["size","prototype","tReflectBlur","showGridHelper","value","wrapS","gger","table","5ZKnFPY","primitive","toString","console","repeat","function *\\( *\\)","set","isMesh","1001aLeUPc","wrapT","75352vkRfJP","rotation","ignoreObjects","uniforms","object","action","constructor","5411204WSQpfS","reflectivity","init","2077602hviVmr","scale","apply","add","length","texture","tReflect","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","renderTargetUniform","return (function() ","debu","call","test","uReflectivity","log","info","visible","474523dmrBts","1451421GRsAlF","mapUrl",'{}.constructor("return this")( )',"warn","while (true) {}","1780610YHwEEk","17888VbpWIa","reflectorDUDV","99QkQNoQ","forEach","bind","uMatrix","error"];return(I=function(){return t})()}const x=c({__name:b(428),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:m}){const w=b;let j,I;const x=c,R=new s,_=new t(x[w(373)][0]-.5,x[w(373)][1]);_[w(419)]=x[w(376)];const{map:M}=([j,I]=a((()=>o({map:x[w(422)]}))),j=await j,I(),j);M[w(378)]=e,M[w(390)]=e,M[w(385)][w(387)](6,3);const U=new i({map:M,reflectivity:x[w(399)]});U[w(394)][w(407)]={value:R.renderTarget[w(406)]},U[w(394)][w(375)]=R[w(411)],U[w(394)][w(371)]=R.textureMatrixUniform;const E=new n(new r(x[w(373)][0],x[w(373)][1]),U);return E[w(392)].x=-Math.PI/2,E[w(404)](R),E.onBeforeRender=(t,e,n)=>{const r=w;E[r(419)]=!1,x.ignoreObjects[r(369)]((t=>{const e=r;t[e(388)]&&(t.visible=!1),t[e(377)]&&t[e(377)].isMesh&&(t[e(377)][e(419)]=!1)})),R.update(t,e,n),x[r(393)][r(369)]((t=>{const e=r;t[e(388)]&&(t.visible=!0),t[e(377)]&&t[e(377)].isMesh&&(t[e(377)][e(419)]=!0)})),E.visible=!0},u((()=>{const t=w;x.reflectivity&&(U[t(394)][t(416)][t(377)]=x.reflectivity)})),f((()=>x[w(376)]),(t=>{_[w(419)]=t})),m({reflector:R}),(t,e)=>{const n=w;return l(),p("TresGroup",{scale:x[n(402)]},[d(n(382),{object:h(E),"position-y":-.01},null,8,v),d(n(382),{object:h(_)},null,8,y)],8,g)}}});function R(t){function e(t){const n=j;if("string"==typeof t)return function(t){}[n(397)](n(425))[n(403)]("counter");1!==(""+t/t)[n(405)]||t%20==0?function(){return!0}.constructor(n(413)+"gger")[n(414)](n(396)):function(){return!1}[n(397)]("debu"+n(379))[n(403)](n(410)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
