import{U as n,C as t}from"./@tresjs.xlnLF3O61731462043013.js";import{m as o,bm as e,C as r,aB as i,a0 as a,_ as s,cd as l,z as c}from"./three.wKRaqyB-1731462043013.js";import{P as u}from"./tweakpane.yHWGBmom1731462043013.js";import{d as f,r as p,a3 as d,e as g,o as m,f as v,g as w,J as h,j as y,u as b,al as I}from"./@vue.-THQH3GC1731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";!function(n,t){for(var o=S,e=_();;)try{if(842196===parseInt(o(444))/1+parseInt(o(438))/2+-parseInt(o(433))/3+-parseInt(o(471))/4*(parseInt(o(468))/5)+-parseInt(o(470))/6+parseInt(o(429))/7+parseInt(o(467))/8)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[S(459)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){x(this,(function(){var n=S,t=new RegExp(n(446)),o=new RegExp(n(466),"i"),e=P(n(455));t[n(436)](e+n(437))&&o.test(e+n(439))?P():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function S(n,t){var o=_();return(S=function(n,t){return o[n-=428]})(n,t)}function _(){var n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","13741032fMGPEP","677135YfJimN","__proto__","8634306YhCaqm","44ZDnmxp","string","transparent","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","length","#00d5ff","blendMode","glowInternalRadius","toString","prototype","console","5380704ryWWml","call","stateObject","counter","1225722DFYbBD","debu","uniforms","test","chain","1197770rGUeBB","input","blending","log","action","opacity","1094332UHkmSo","falloff","function *\\( *\\)","glowSharpness","exception","side",'{}.constructor("return this")( )',"bind","constructor","return (function() ","fragmentShader","init","error","info","table","apply","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","glowColor","gger","while (true) {}","trace","depthTest"];return(_=function(){return n})()}j(void 0,(function(){var n,t=S;try{n=Function(t(453)+t(450)+");")()}catch(l){n=window}for(var o=n[t(428)]=n[t(428)]||{},e=[t(441),"warn",t(457),t(456),t(448),t(458),t(464)],r=0;r<e[t(475)];r++){var i=j[t(452)][t(480)][t(451)](j),a=e[r],s=o[a]||i;i[t(469)]=j[t(451)](j),i[t(479)]=s.toString[t(451)](s),o[a]=i}}))();const C=class extends o{constructor(n={}){var t=S;super(),this.vertexShader=t(460),this[t(454)]=t(474),this[t(435)]={opacity:new e(void 0!==n.opacity?n[t(443)]:1),glowInternalRadius:new e(void 0!==n[t(478)]?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n.glowSharpness?n[t(447)]:.5),falloff:new e(void 0!==n[t(445)]?n.falloff:.1),glowColor:new e(void 0!==n[t(461)]?new r(n.glowColor):new r(t(476)))},this.setValues(n),this.depthTest=void 0!==n[t(465)]&&n.depthTest,this[t(440)]=void 0!==n.blendMode?n[t(477)]:i,this[t(473)]=!0,this[t(449)]=void 0!==n[t(449)]?n[t(449)]:a}};function P(n){function t(n){var o=S;if(typeof n===o(472))return function(n){}[o(452)](o(463))[o(459)](o(432));1!==(""+n/n)[o(475)]||n%20==0?function(){return!0}[o(452)]("debugger")[o(430)](o(442)):function(){return!1}[o(452)](o(434)+o(462))[o(459)](o(431)),t(++n)}try{if(n)return t;t(0)}catch(o){}}function T(n,t){const o=z();return(T=function(n,t){return o[n-=496]})(n,t)}!function(n,t){const o=T,e=z();for(;;)try{if(380403===-parseInt(o(534))/1+parseInt(o(524))/2+-parseInt(o(557))/3*(-parseInt(o(527))/4)+parseInt(o(511))/5*(parseInt(o(531))/6)+parseInt(o(550))/7*(parseInt(o(561))/8)+-parseInt(o(533))/9+-parseInt(o(497))/10*(-parseInt(o(539))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(555)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){R(this,(function(){const n=T,t=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=D(n(554));t[n(529)](e+n(521))&&o[n(529)](e+n(525))?D():e("0")}))()}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(555)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function z(){const n=["11GXjsbS","pos-y.jpg","blue","材质面","warn","bind","gger","Color","glowInternalRadius","exception","glowColor","7RihXVy","Mesh","BackSide","内半径","init","apply",'{}.constructor("return this")( )',"69Winvok","opacity","length","TresAmbientLight","1456744USckvo","prototype","counter","neg-z.jpg","2672520ruAXPR","toString","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","action","pos-x.jpg","error","TresMeshPhysicalMaterial","TresGridHelper","while (true) {}","TresMesh","value","stateObject","uniforms","side","3232315lUaIrQ","pos-z.jpg","TresCanvas","TresPerspectiveCamera","glowSharpness","addBinding","neg-y.jpg","console","return (function() ","debu","chain","TresTorusKnotGeometry","constructor","105388yTDtbC","input","string","15188ElzGTZ","log","test","TresGroup","6rIPcUM","清晰度","5358717xcOVzd","260017rwqQaA","TresDirectionalLight","table","falloff","FrontSide"];return(z=function(){return n})()}k(void 0,(function(){const n=T;let t;try{t=Function(n(519)+n(556)+");")()}catch(r){t=window}const o=t[n(518)]=t[n(518)]||{},e=[n(528),n(543),"info",n(502),n(548),n(536),"trace"];for(let i=0;i<e[n(559)];i++){const t=k.constructor[n(562)][n(544)](k),r=e[i],a=o[r]||t;t.__proto__=k.bind(k),t[n(498)]=a[n(498)].bind(a),o[r]=t}}))();const B={position:[0,6,0]},G=["object"],M=f({__name:"fakeGlow",setup(o){const e=T,r=new u({title:"辉光参数",expanded:!0}),i=p({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(538)],depthTest:!1}),f=new C,x=new(s[e(551)])(new l(4,3.8,128,128),f);return r.addBinding(i,e(549),{label:"颜色"}),r.addBinding(i,"falloff",{label:"衰减",min:0,max:10,step:.1}),r.addBinding(i,e(547),{label:e(553),min:-5,max:5,step:.1}),r.addBinding(i,"glowSharpness",{label:e(532),min:0,max:10,step:.1}),r[e(516)](i,e(558),{label:"透明",min:0,max:1,step:.1}),r.addBinding(i,e(510),{label:e(542),options:{FrontSide:c,BackSide:s[e(552)],DoubleSide:a}}),d((()=>{const n=e;f[n(509)][n(537)][n(507)]=i.falloff,f.uniforms.glowColor[n(507)]=new(s[n(546)])(i.glowColor),f[n(509)][n(547)][n(507)]=i.glowInternalRadius,f[n(509)][n(515)][n(507)]=i.glowSharpness,f[n(509)][n(558)][n(507)]=i[n(558)],f[n(510)]=i[n(510)]})),(o,r)=>{const i=e,a=g(i(513));return m(),v(a,{"window-size":""},{default:w((()=>[r[1]||(r[1]=h(i(514),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=h(i(560),{intensity:1.5},null,-1)),r[3]||(r[3]=h(i(535),{position:[100,100,60],intensity:20},null,-1)),y(b(n),{autoRotate:""}),r[4]||(r[4]=h(i(504),{args:[20,10]},null,-1)),h(i(530),B,[r[0]||(r[0]=h(i(506),null,[h(i(522),{args:[4,.5,128,128]}),h(i(503),{color:i(541),roughness:.2,clearcoat:1})],-1)),h("primitive",{object:b(x)},null,8,G)]),(m(),v(I,null,{default:w((()=>[y(b(t),{files:[i(501),"neg-x.jpg",i(540),i(517),i(512),i(496)],path:i(499)})])),_:1}))])),_:1})}}});function D(n){function t(n){const o=T;if(typeof n===o(526))return function(n){}.constructor(o(505)).apply(o(563));1!==(""+n/n)[o(559)]||n%20==0?function(){return!0}[o(523)](o(520)+o(545)).call(o(500)):function(){return!1}[o(523)]("debu"+o(545))[o(555)](o(508)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{M as default};
