import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.g7tJPOCI1736493808390.js";import{z as i,az as s,_ as a,V as c}from"./three.lAfZYOpc1736493808390.js";import{P as u}from"./tweakpane.yHWGBmom1736493808390.js";import{L as l}from"./three-subdivide.F5E5zvN21736493808390.js";import{d as f,b as p,a1 as d,w as g,o as m,D as h,J as v,aj as y,ak as b,a4 as w,r as I,e as _,f as M,g as x,j,u as B,m as T,I as S}from"./@vue.-Mz_IXfk1736493808390.js";import"./@vueuse.kU-N6GoC1736493808390.js";const z=k;!function(n,t){const e=k,r=N();for(;;)try{if(334788===-parseInt(e(254))/1+parseInt(e(271))/2+-parseInt(e(260))/3*(-parseInt(e(275))/4)+parseInt(e(269))/5*(parseInt(e(243))/6)+parseInt(e(278))/7*(-parseInt(e(290))/8)+parseInt(e(291))/9+-parseInt(e(263))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(264)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function k(n,t){const e=N();return(k=function(n,t){return e[n-=237]})(n,t)}!function(){A(this,(function(){const n=k,t=new RegExp(n(253)),e=new RegExp(n(265),"i"),r=P(n(283));t[n(259)](r+n(237))&&e[n(259)](r+n(248))?P():r("0")}))()}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();C(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function(n(273)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(268)]=t[n(268)]||{},r=[n(292),n(286),n(255),n(252),n(258),"table",n(250)];for(let o=0;o<r[n(256)];o++){const t=C[n(284)].prototype[n(245)](C),i=r[o],s=e[i]||t;t[n(282)]=C.bind(C),t[n(239)]=s.toString[n(245)](s),e[i]=t}}))();const R=[z(274)];function N(){const n=["input","color","trace","TresMesh","error","function *\\( *\\)","34435wYzhyY","info","length","debu","exception","test","219zmEXsA","modify","TresShaderMaterial","11201380vUPjvH","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","side","subVectors","console","215EXhjNF","string","1327042BTWhUt","attributes","return (function() ","scale","30292bKRvat","uniforms","blending","7pwmAwK","glowColor","srcMesh","subdivision","__proto__","init","constructor","call","warn","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","#ffff00","viewVector","5336808YzAcOZ","3558492cFgMXy","log","shineShader","geometry","chain","value","toString","position","gger","copy","76008iHoDbr","clone","bind","Color","material"];return(N=function(){return n})()}const F=f({__name:z(293),props:{srcMesh:{},scale:{default:1.2},color:{default:z(288)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i},blending:{default:s}},setup(e){const r=z,o=e,i=p(),s={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(a[r(246)])(o[r(249)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:r(287),side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(277)]};d((()=>{const n=r;if(o.srcMesh&&i.value&&!i[n(238)][n(294)][n(272)][n(240)]){let t=o[n(280)].geometry[n(244)]();o[n(281)]&&(t=l.modify(t,2)),i[n(238)][n(294)]=t,i[n(238)][n(240)][n(242)](o[n(280)].position)}o[n(249)]&&(s[n(276)][n(279)].value=new(a[n(246)])(o[n(249)])),o.c&&(s[n(276)].c[n(238)]=o.c),o.p&&(s[n(276)].p[n(238)]=o.p)})),g((()=>o[r(281)]),(n=>{const t=r;let e=o[t(280)].geometry[t(244)]();n&&(e=l[t(261)](e,2)),i[t(238)][t(294)]=e})),g((()=>o[r(266)]),(n=>{const t=r;i[t(238)].material[t(266)]=n})),g((()=>o.blending),(n=>{const t=r;i[t(238)][t(247)][t(277)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=r;f[n(238)]&&i[n(238)]&&(s[n(276)][n(289)].value=(new c)[n(267)](f[n(238)][n(240)],i[n(238)][n(240)]))})),(n,t)=>{const e=r;return m(),h(e(251),{ref_key:"TSGref",ref:i,scale:o[e(274)]},[v(e(262),y(b(s)),null,16)],8,R)}}});function P(n){function t(n){const e=k;if(typeof n===e(270))return function(n){}[e(284)]("while (true) {}")[e(264)]("counter");1!==(""+n/n)[e(256)]||n%20==0?function(){return!0}[e(284)](e(257)+"gger")[e(285)]("action"):function(){return!1}[e(284)]("debu"+e(241))[e(264)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const D=Y;function E(){const n=["chain","边缘处理","warn","constructor","95532XzNayX","20adnIUy","return (function() ","TresAmbientLight","length","TresMeshBasicMaterial","TresPerspectiveCamera","side","TreBoxRef","TresMeshRefA","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","554316DWFewI","subdivision","298566aeDJAG","srcMesh","bind","__proto__","AdditiveBlending","#00dfff","TresBoxGeometry","scale","error",'{}.constructor("return this")( )',"value","DoubleSide","apply","#0ff","log","18029319khbykP","TresMesh","addBinding","4837059EYwbRf","trace","8UtgpYy","TresSphereGeometry","4289530rDPHcI","instance","table","debu","14073WPmCqq","toString","call","info","#222","init","FrontSide","BackSide","map","gger","TresGridHelper","test","NormalBlending","exception","string","56CLPGrM","color","console","217AeNRgc"];return(E=function(){return n})()}!function(n,t){const e=Y,r=E();for(;;)try{if(317369===parseInt(e(155))/1*(-parseInt(e(170))/2)+parseInt(e(129))/3+-parseInt(e(127))/4*(parseInt(e(179))/5)+-parseInt(e(178))/6*(-parseInt(e(173))/7)+parseInt(e(149))/8*(-parseInt(e(147))/9)+-parseInt(e(151))/10+parseInt(e(144))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Y(141)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){V(this,(function(){const n=Y,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(126),"i"),r=H(n(160));t.test(r+n(174))&&e[n(166)](r+"input")?H():r("0")}))()}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Y(141)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();G(void 0,(function(){const n=Y,t=function(){const n=Y;let t;try{t=Function(n(180)+n(138)+");")()}catch(e){t=window}return t}(),e=t[n(172)]=t[n(172)]||{},r=[n(143),n(176),n(158),n(137),n(168),n(153),n(148)];for(let o=0;o<r.length;o++){const t=G.constructor.prototype.bind(G),i=r[o],s=e[i]||t;t[n(132)]=G.bind(G),t[n(156)]=s[n(156)][n(131)](s),e[i]=t}}))();const U=[D(163)],X=["map"];function Y(n,t){const e=E();return(Y=function(n,t){return e[n-=120]})(n,t)}const Z=f({__name:"shader",async setup(n){const t=D;let i,s;const c={clearColor:t(159)},l=p(),f=p(),d=p(),g=([i,s]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),i=await i,s(),i),h=I({scale:1.6,color:t(134),subdivision:!0,c:1.1,p:1.4,side:a[t(161)],blending:a[t(133)]}),y=new u({title:"参数",expanded:!0});return y.addBinding(h,t(171),{label:"颜色"}),y.addBinding(h,t(136),{label:"大小",min:1,max:3,step:.2}),y.addBinding(h,t(128),{label:t(175)}),y[t(146)](h,"c",{label:"c",min:0,max:2,step:.1}),y[t(146)](h,"p",{label:"p",min:0,max:8,step:.2}),y[t(146)](h,t(122),{options:{FrontSide:a[t(161)],BackSide:a[t(162)],DoubleSide:a[t(140)]}}),y.addBinding(h,"blending",{options:{AdditiveBlending:a[t(133)],NormalBlending:a[t(167)]}}),(n,o)=>{const i=t,s=_("TresCanvas");return m(),M(s,T(c,{"window-size":""}),{default:x((()=>[o[2]||(o[2]=v(i(121),{position:[5,5,5]},null,-1)),o[3]||(o[3]=v(i(181),{intensity:1},null,-1)),j(B(e)),o[4]||(o[4]=v(i(165),{args:[10,10]},null,-1)),v(i(145),{ref_key:i(124),ref:l,position:[-2,1,0]},[o[0]||(o[0]=v(i(150),{args:[1,32,16]},null,-1)),v(i(120),{map:B(g)[0]},null,8,U)],512),j(F,T({srcMesh:l[i(139)]},h),null,16,[i(130)]),j(B(r),{ref_key:i(123),ref:d,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v(i(120),{map:B(g)[1]},null,8,X)])),_:1},512),d[i(139)]&&d[i(139)].instance?(m(),M(F,T({key:0,srcMesh:d.value[i(152)]},h),null,16,[i(130)])):S("",!0),v("TresMesh",{ref_key:"TresMeshRefB",ref:f,position:[0,1,-2]},o[1]||(o[1]=[v(i(135),{args:[1,1,1,1,1]},null,-1),v(i(120),{color:i(142)},null,-1)]),512),j(F,T({srcMesh:f.value},h),null,16,[i(130)])])),_:1},16)}}});function H(n){function t(n){const e=Y;if(typeof n===e(169))return function(n){}[e(177)](e(125)).apply("counter");1!==(""+n/n)[e(182)]||n%20==0?function(){return!0}[e(177)](e(154)+e(164))[e(157)]("action"):function(){return!1}[e(177)](e(154)+"gger")[e(141)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{Z as default};
