import{aD as n,_ as t,a as e,T as o,W as r,p as i,aj as s,s as a,c5 as c,c3 as l,c4 as u,ce as f}from"./three.OosFxi571739442316051.js";import{e as p,m as v,o as d}from"./@tresjs.4XV_x0mI1739442316051.js";import{d as m,o as g,H as h,N as b,u as y,F as x,w,j as _,z as I,e as T,g as U,aj as D,ak as N}from"./@vue.NRI7TcgI1739442316051.js";import{_ as S}from"./@fesjs.DgjXCZoG1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";import"./vue-router.bqZmV3c61739442316051.js";import"./lodash-es.pklfUAS51739442316051.js";import"./@qlin.yHhFDldE1739442316051.js";import"./pinia.ptJyy4pp1739442316051.js";import"./@floating-ui.BPbuo5Gx1739442316051.js";import"./@juggle.7yjBMqoW1739442316051.js";var z="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const B=E;!function(n,t){const e=E,o=G();for(;;)try{if(574965===parseInt(e(397))/1*(-parseInt(e(386))/2)+-parseInt(e(387))/3+parseInt(e(399))/4+-parseInt(e(394))/5+-parseInt(e(423))/6*(parseInt(e(388))/7)+-parseInt(e(374))/8+-parseInt(e(443))/9*(-parseInt(e(398))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){C(this,(function(){const n=E,t=new RegExp(n(375)),e=new RegExp(n(382),"i"),o=k(n(378));t[n(445)](o+n(424))&&e[n(445)](o+n(376))?k():o("0")}))()}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(409)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(n,t){const e=G();return(E=function(n,t){return e[n-=370]})(n,t)}j(void 0,(function(){const n=E;let t;try{t=Function(n(402)+n(377)+");")()}catch(r){t=window}const e=t[n(371)]=t[n(371)]||{},o=[n(413),n(407),n(418),n(401),"exception","table",n(426)];for(let i=0;i<o[n(435)];i++){const t=j[n(432)].prototype[n(444)](j),r=o[i],s=e[r]||t;t[n(431)]=j[n(444)](j),t[n(383)]=s[n(383)].bind(s),e[r]=t}}))();const F=[B(390),B(434)],M=["material"],P=["rotateX"],A=100,R=m({__name:"lucesPlane",props:{globalUniforms:{}},setup(r){const i=B,s=r,a=[],c=[],l=new n(1,36,18),u=(new(t[i(427)]))[i(372)](l);u.instanceCount=A;const f=[];for(let n=0;n<A;n++){let n=t[i(437)][i(370)](49),o=t[i(437)][i(370)](49),r=t[i(437)].randFloat(.0625,.125),s=e[i(404)](1,3);f[i(414)](n,o,r),c[i(414)](new(t[i(400)])(n,o,s,e[i(404)](1,2))),a[i(414)](new(t[i(400)])(n,o,r,s))}u[i(392)](i(415),new o(new Float32Array(f),3));const v=new(t[i(425)])({color:16720418,onBeforeCompile:n=>{const t=i;n[t(384)][t(393)]=s.globalUniforms[t(422)],n[t(439)]=(t(433)+n[t(439)]+t(391)).replace(t(385),"#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ")}}),d={luces:{value:a}},m=new(t[i(395)])({color:2363940,onBeforeCompile:n=>{const t=i;n[t(384)].luces=d[t(419)],n[t(384)][t(411)]=s[t(381)][t(411)],n.uniforms[t(393)]=s.globalUniforms[t(422)],n[t(439)]=(t(442)+n[t(439)]+t(391))[t(403)](t(385),t(438)),n[t(440)]=(t(436)+A+t(420)+n[t(440)]+"\n    ")[t(403)]("#include <fog_fragment>",t(396)+A+t(441)).replace(t(416),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:w}=p();return w((({elapsed:n})=>{const t=i;for(let e=0;e<A;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(379)](n*o.w*(e%3+1))*Math[t(408)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(430)][t(415)][t(405)](e,r)}u[t(430)][t(415)][t(417)]=!0})),(n,t)=>{const e=i;return g(),h(x,null,[b("TresMesh",{geometry:y(u),material:y(v)},null,8,F),b(e(429),{material:y(m)},[b(e(428),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,P)],8,M)],64)}}});function k(n){function t(n){const e=E;if(typeof n===e(421))return function(n){}[e(432)](e(410))[e(409)]("counter");1!==(""+n/n)[e(435)]||n%20==0?function(){return!0}[e(432)]("debu"+e(406))[e(412)](e(373)):function(){return!1}.constructor(e(389)+e(406)).apply(e(380)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function G(){const n=["7AgqdEN","debu","geometry","\n    ","setAttribute","noiseTex","2104335xCQawY","MeshLambertMaterial","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","2PwAWui","1610XCaNJP","1386100vxejuq","Vector4","error","return (function() ","replace","randFloat","setY","gger","warn","cos","apply","while (true) {}","globalBloom","call","log","push","instData","#include <dithering_fragment>","needsUpdate","info","luces","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","string","noise","1029090HThPtT","chain","MeshBasicMaterial","trace","InstancedBufferGeometry","TresPlaneGeometry","TresMesh","attributes","__proto__","constructor","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","material","length","\n      uniform vec4 luces[","MathUtils","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","vertexShader","fragmentShader","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","141948ZlLCaX","bind","test","randFloatSpread","console","copy","action","1834952RNxtvu","function *\\( *\\)","input",'{}.constructor("return this")( )',"init","sin","stateObject","globalUniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","uniforms","#include <begin_vertex>","753182NTGjfl","2207757Fwwdzt"];return(G=function(){return n})()}const Z=W;!function(n,t){const e=W,o=Y();for(;;)try{if(908589===parseInt(e(483))/1*(-parseInt(e(443))/2)+parseInt(e(477))/3+-parseInt(e(459))/4*(-parseInt(e(463))/5)+-parseInt(e(441))/6+parseInt(e(479))/7+-parseInt(e(444))/8+parseInt(e(472))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(461)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){L(this,(function(){const n=W,t=new RegExp(n(454)),e=new RegExp(n(448),"i"),o=J(n(471));t.test(o+n(446))&&e[n(480)](o+n(455))?J():o("0")}))()}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(461)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function W(n,t){const e=Y();return(W=function(n,t){return e[n-=435]})(n,t)}V(void 0,(function(){const n=W,t=function(){const n=W;let t;try{t=Function(n(435)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t[n(482)]||{},o=[n(481),n(478),"info",n(473),n(436),n(460),n(458)];for(let r=0;r<o[n(439)];r++){const t=V[n(469)][n(440)][n(462)](V),i=o[r],s=e[i]||t;t[n(468)]=V.bind(V),t.toString=s[n(456)][n(462)](s),e[i]=t}}))();const X=[Z(442)];function Y(){const n=["MeshBasicMaterial","vec4 diffuseColor = vec4( diffuse, opacity );","action","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","function *\\( *\\)","input","toString","counter","trace","236DvWWqy","table","apply","bind","72190GYddRl","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","globalBloom","uniforms","globalUniforms","__proto__","constructor","while (true) {}","init","19331775NUfVya","error","gger","fragmentShader","#include <dithering_fragment>","2971803HafUDJ","warn","2388848pFttcv","test","log","console","9UrwYnx","return (function() ","exception","defines","TresPlaneGeometry","length","prototype","4313724nbXXXi","material","203410peAEnr","14310352OJYlCs","portal","chain","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(Y=function(){return n})()}const $=m({__name:Z(445),props:{globalUniforms:{}},setup(n){const e=Z,o=n,r=new(t[e(449)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(466)].time=o.globalUniforms.time,n[t(466)][t(465)]=o[t(467)][t(465)],n[t(475)]=(t(453)+z+"\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "+n[t(475)]+"\n    ").replace(t(450),t(464)).replace(t(476),t(452))}});return r[e(437)]={USE_UV:""},(n,t)=>{const o=e;return g(),h("TresMesh",{material:y(r),position:[0,3.75,-12]},t[0]||(t[0]=[b(o(438),{args:[5,5]},null,-1)]),8,X)}}});function J(n){function t(n){const e=W;if("string"==typeof n)return function(n){}.constructor(e(470))[e(461)](e(457));1!==(""+n/n)[e(439)]||n%20==0?function(){return!0}[e(469)](e(447)+e(474)).call(e(451)):function(){return!1}.constructor(e(447)+e(474))[e(461)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=H;!function(n,t){const e=H,o=nn();for(;;)try{if(675115===-parseInt(e(347))/1*(-parseInt(e(384))/2)+-parseInt(e(389))/3+-parseInt(e(370))/4*(-parseInt(e(358))/5)+parseInt(e(352))/6+-parseInt(e(380))/7+parseInt(e(369))/8*(-parseInt(e(387))/9)+parseInt(e(378))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[H(383)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function H(n,t){const e=nn();return(H=function(n,t){return e[n-=343]})(n,t)}!function(){q(this,(function(){const n=H,t=new RegExp(n(364)),e=new RegExp(n(379),"i"),o=en("init");t[n(359)](o+n(390))&&e[n(359)](o+"input")?en():o("0")}))()}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[H(383)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();K(void 0,(function(){const n=H;let t;try{t=Function("return (function() "+n(375)+");")()}catch(r){t=window}const e=t[n(355)]=t[n(355)]||{},o=[n(361),"warn",n(366),"error",n(343),n(360),n(373)];for(let i=0;i<o[n(398)];i++){const t=K[n(377)][n(382)][n(395)](K),r=o[i],s=e[r]||t;t[n(399)]=K[n(395)](K),t[n(388)]=s[n(388)][n(395)](s),e[r]=t}}))();const Q=[O(385),"geometry"];function nn(){const n=["replace","LineBasicMaterial","setAttribute","debu","4469772xqPqYJ","randFloatSpread","gger","console","vertexShader","noise","149890eDOney","test","table","log","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","randFloat","function *\\( *\\)","#include <begin_vertex>","info","uniforms","string","8IFZlOD","84LVuNVR","vec4 diffuseColor = vec4( diffuse, opacity );","BufferGeometry","trace","drops",'{}.constructor("return this")( )',"MathUtils","constructor","15406980FWcNlf","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2067352frpCbh","globalBloom","prototype","apply","27718bfNLJv","material","while (true) {}","11353788aUDSJG","toString","4045341cuFWBR","chain","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","globalUniforms","fragmentShader","Float32BufferAttribute","bind","position","call","length","__proto__","\n    ","exception","TresLineSegments","time","noiseTex","48KmRvUE"];return(nn=function(){return n})()}const tn=m({__name:O(374),props:{globalUniforms:{}},setup(n){const o=O,r=n,i=[],s=[];for(let l=0;l<2e4;l++){const n=t[o(376)][o(353)](35),r=t[o(376)][o(363)](-5,10),a=e[o(353)](35),c=t[o(376)][o(363)](.25,.5);i.push(n,r,a,n,r,a),s.push(0,c,1,c)}const a=new(t[o(372)]);a.setAttribute(o(396),new(t[o(394)])(i,3)),a[o(350)]("gEnds",new(t[o(394)])(s,2));const c=new(t[o(349)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n.uniforms[t(345)]=r[t(392)].time,n[t(367)][t(346)]=r[t(392)][t(357)],n[t(367)].globalBloom=r[t(392)][t(381)],n[t(356)]=(t(362)+n[t(356)]+t(400))[t(348)](t(365),"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(393)]=("\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      "+z+"\n      "+n[t(393)]+"\n    ")[t(348)](t(371),t(391))}});return(n,t)=>{const e=o;return g(),h(e(344),{material:y(c),geometry:y(a)},null,8,Q)}}});function en(n){function t(n){const e=H;if(typeof n===e(368))return function(n){}.constructor(e(386))[e(383)]("counter");1!==(""+n/n)[e(398)]||n%20==0?function(){return!0}[e(377)](e(351)+e(354))[e(397)]("action"):function(){return!1}.constructor(e(351)+"gger")[e(383)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=sn,o=an();for(;;)try{if(592422===parseInt(e(188))/1*(-parseInt(e(182))/2)+parseInt(e(146))/3*(parseInt(e(148))/4)+-parseInt(e(152))/5+-parseInt(e(200))/6+parseInt(e(191))/7+parseInt(e(195))/8+parseInt(e(198))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){on(this,(function(){const n=sn,t=new RegExp(n(142)),e=new RegExp(n(169),"i"),o=ln("init");t[n(185)](o+n(177))&&e[n(185)](o+n(186))?ln():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(194)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(n,t){const e=an();return(sn=function(n,t){return e[n-=135]})(n,t)}function an(){const n=["__proto__","MeshBasicMaterial","baseTexture","addPass","\n    ","chain","texture","background","debu","prototype","689872bKIEbe","height","console","test","input","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","1QGZslv","replace","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","5077373ZeBLto","color","action","apply","5977192GWGLou","fog","target","1778175fYKgkm","stateObject","5797194uhDEzr","add","warn","counter","globalBloom","time","ShaderMaterial","render","while (true) {}","error","needsSwap","function *\\( *\\)","uniforms","gger","Mesh","3YpKXKe","setRenderTarget","2792404IDfpuh","bind","Vector2","exception","2323035TXqQCT",'{}.constructor("return this")( )',"return (function() ","Fog","log","noise","near","toString","\n      uniform float time;\n      ","Color","\n      ","call","constructor","vec4 diffuseColor = vec4( diffuse, opacity );","length","set","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","value"];return(an=function(){return n})()}rn(void 0,(function(){const n=sn;let t;try{t=Function(n(154)+n(153)+");")()}catch(r){t=window}const e=t[n(184)]=t[n(184)]||{},o=[n(156),n(202),n(170),n(140),n(151),n(168),"trace"];for(let i=0;i<o[n(166)];i++){const t=rn[n(164)][n(181)][n(149)](rn),r=o[i],s=e[r]||t;t[n(172)]=rn[n(149)](rn),t[n(159)]=s[n(159)][n(149)](s),e[r]=t}}))();const cn=m({__name:"fboRender",setup(n){const e=sn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},d=new r(512,512),m=new i,b=new s,y=new a(2,2),I=new(t[e(173)])({onBeforeCompile:n=>{const t=e;n[t(143)][t(136)]=o[t(136)],n.fragmentShader=(t(160)+z+t(162)+n.fragmentShader+t(176))[t(189)](t(165),"\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ")}});I.defines={USE_UV:""};const T=new(t[e(145)])(y,I);m[e(201)](T),o[e(157)][e(171)]=d[e(178)];const{camera:U,renderer:D,scene:N,sizes:S,controls:B}=v();w((()=>B[e(171)]),(n=>{const o=e;null==n||n[o(197)][o(167)](0,2,0),!N[o(171)][o(179)]&&(N[o(171)][o(179)]=new(t[o(161)])(6706534))}));const C=new c(D.value),j=new c(D.value),E=new l(N[e(171)],U[e(171)]),F=new u(new(t[e(150)])(S.width[e(171)],S[e(183)][e(171)]),1.2,.5,0);C.renderToScreen=!1,C.addPass(E),C.addPass(F);const M=new f(new(t[e(137)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:C.renderTarget2[e(178)]}},vertexShader:e(187),fragmentShader:e(190),defines:{}}),e(174));M[e(141)]=!0,j[e(175)](E),j.addPass(M),N[e(171)][e(196)]=new(t[e(155)])(6706534,1,25);const{onLoop:P}=p();return P((({elapsed:n})=>{var t,r;const i=e;o[i(136)][i(171)]=n,D[i(171)]&&(D[i(171)][i(147)](d),D[i(171)].render(m,b),D.value[i(147)](null),o[i(135)][i(171)]=1.2,N.value.fog[i(192)][i(167)](0),N[i(171)][i(196)][i(158)]=15,null==(t=N[i(171)][i(179)])||t.set(0),C[i(138)](),o[i(135)][i(171)]=0,N[i(171)][i(196)].color[i(167)](6706534),N[i(171)].fog[i(158)]=10,null==(r=N.value.background)||r[i(167)](6706534),j.render())})),(n,t)=>(g(),h(x,null,[_(R,{globalUniforms:o}),_($,{globalUniforms:o}),_(tn,{globalUniforms:o})],64))}});function ln(n){function t(n){const e=sn;if("string"==typeof n)return function(n){}.constructor(e(139))[e(194)](e(203));1!==(""+n/n)[e(166)]||n%20==0?function(){return!0}.constructor("debugger")[e(163)](e(193)):function(){return!1}[e(164)](e(180)+e(144))[e(194)](e(199)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const un={class:"text"};const fn=S({},[["render",function(n,t){return g(),h("div",un,t[0]||(t[0]=[b("span",{class:"retro noselect"},[b("span",{style:{color:"#eae"}},"光"),I("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),pn=hn;!function(n,t){const e=hn,o=bn();for(;;)try{if(265511===-parseInt(e(252))/1+-parseInt(e(279))/2+-parseInt(e(266))/3+parseInt(e(257))/4*(-parseInt(e(261))/5)+-parseInt(e(253))/6*(-parseInt(e(258))/7)+parseInt(e(251))/8*(-parseInt(e(263))/9)+parseInt(e(254))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){vn(this,(function(){const n=hn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(250),"i"),o=gn("init");t[n(277)](o+n(287))&&e[n(277)](o+n(262))?gn():o("0")}))()}();const dn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[hn(267)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();dn(void 0,(function(){const n=hn;let t;try{t=Function(n(248)+n(264)+");")()}catch(r){t=window}const e=t[n(255)]=t.console||{},o=[n(276),n(286),n(285),n(283),n(281),n(290),n(273)];for(let i=0;i<o[n(265)];i++){const t=dn[n(284)][n(268)][n(274)](dn),r=o[i],s=e[r]||t;t[n(249)]=dn[n(274)](dn),t[n(272)]=s[n(272)][n(274)](s),e[r]=t}}))();const mn=m({__name:pn(282),setup(n){const o=pn,r={windowSize:!0,antialias:!0,renderMode:"manual"},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*e[o(269)],maxPolarAngle:90*t[o(271)][o(269)],makeDefault:!0};return(n,t)=>{const e=o,s=T(e(291));return g(),h(x,null,[_(fn),_(s,D(N(r)),{default:U((()=>[t[0]||(t[0]=b(e(259),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),_(y(d),D(N(i)),null,16),t[1]||(t[1]=b(e(288),{intensity:.5},null,-1)),t[2]||(t[2]=b(e(275),{position:[0,3,-12],intensity:1},null,-1)),_(cn)])),_:1},16)],64)}}});function gn(n){function t(n){const e=hn;if("string"==typeof n)return function(n){}.constructor(e(289))[e(267)](e(256));1!==(""+n/n)[e(265)]||n%20==0?function(){return!0}[e(284)](e(278)+e(260))[e(270)]("action"):function(){return!1}.constructor(e(278)+e(260))[e(267)](e(280)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function hn(n,t){const e=bn();return(hn=function(n,t){return e[n-=248]})(n,t)}function bn(){const n=['{}.constructor("return this")( )',"length","1518858FuFzzC","apply","prototype","DEG2RAD","call","MathUtils","toString","trace","bind","TresDirectionalLight","log","test","debu","96270pKpors","stateObject","exception","lightNoise","error","constructor","info","warn","chain","TresAmbientLight","while (true) {}","table","TresCanvas","return (function() ","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","232RBeDhV","239457WYMVeu","6414dXNCQy","15715010YNSzMD","console","counter","1276joNTYk","154XWvmdg","TresPerspectiveCamera","gger","6820zJAhvd","input","31194VZJSbb"];return(bn=function(){return n})()}export{mn as default};
