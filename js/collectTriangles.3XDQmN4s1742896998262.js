import{m as t,e as n,j as e,o as r,J as o}from"./@tresjs.KzbsBNvc1742896998262.js";import{_ as s}from"./index.bk0hngPQ1742896998262.js";import{_ as i,M as c,b as u,c as a,B as l,cb as p}from"./three.0CcRceKb1742896998262.js";import{P as f}from"./tweakpane.ivGeiIdz1742896998262.js";import{I as g,C as h,N as d,c as m,d as y,a as w}from"./three-mesh-bvh.gH28GZxM1742896998262.js";import{d as b,a3 as v,b as I,a2 as j,o as _,H as x,N as A,u as k,F as T,r as O,e as z,j as M,g as R,m as B,f as S,al as F}from"./@vue.L-brCdZe1742896998262.js";import"./postprocessing.JNDZZkh81742896998262.js";import"./@vueuse.AtktgvWs1742896998262.js";import"./utils.PBlnbQdz1742896998262.js";import"./@fesjs.ATKJ6WD31742896998262.js";import"./vue-router.Nr9hetwf1742896998262.js";import"./lodash-es.pklfUAS51742896998262.js";import"./@qlin.o0hjOMCg1742896998262.js";import"./pinia.c7Udjcar1742896998262.js";import"./@floating-ui.HzHndBae1742896998262.js";import"./@juggle.4EyLec-41742896998262.js";import"./default.vue_vue_type_script_setup_true_lang.TvC4zILw1742896998262.js";import"./three-mesh-ui.module.8fWb0sYc1742896998262.js";function E(){const t=["touch","constructor","30XIOiEk","555537FRpvOw","pointerup","info","input","warn","Raycaster","function *\\( *\\)","error","while (true) {}","20CLZUXm","1PzLrBE","clientX","trace","value","button","addEventListener","455203TKzsyV","stateObject","__proto__","clientY","firstHitOnly","innerHeight","log","1492824tqZBoQ","4792AliGcD","test","length","call","228100takcbk","action","236078nSIgxo","innerWidth","gger","console","4120870gfufuO","22jxkbBn",'{}.constructor("return this")( )',"enabled","debu","chain","counter","toString","pointerdown","prototype","exception","intersectObject","init","string","apply","pointerType","6282qLTsAq","table","bind"];return(E=function(){return t})()}function X(t,n){const e=E();return X=function(t,n){return e[t-=402]},X(t,n)}!function(t,n){const e=X,r=E();for(;;)try{if(284724===parseInt(e(438))/1*(parseInt(e(402))/2)+-parseInt(e(428))/3+parseInt(e(456))/4*(-parseInt(e(437))/5)+parseInt(e(427))/6*(parseInt(e(444))/7)+parseInt(e(452))/8*(parseInt(e(422))/9)+-parseInt(e(406))/10+-parseInt(e(407))/11*(-parseInt(e(451))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=X,n=new RegExp(t(434)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=H(t(418));n[t(453)](r+t(411))&&e[t(453)](r+t(431))?H():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Z(void 0,(function(){const t=X;let n;try{n=Function("return (function() "+t(408)+");")()}catch(o){n=window}const e=n[t(405)]=n[t(405)]||{},r=[t(450),t(432),t(430),t(435),t(416),t(423),t(440)];for(let s=0;s<r[t(454)];s++){const n=Z.constructor[t(415)][t(424)](Z),o=r[s],i=e[o]||n;n[t(446)]=Z[t(424)](Z),n[t(413)]=i[t(413)].bind(i),e[o]=n}}))();function H(t){function n(t){const e=X;if(typeof t===e(419))return function(t){}[e(426)](e(436))[e(420)](e(412));1!==(""+t/t)[e(454)]||t%20==0?function(){return!0}.constructor(e(410)+e(404))[e(455)](e(457)):function(){return!1}[e(426)](e(410)+e(404))[e(420)](e(445)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=D;!function(t,n){const e=D,r=P();for(;;)try{if(782335===-parseInt(e(346))/1+parseInt(e(369))/2*(-parseInt(e(316))/3)+-parseInt(e(361))/4*(parseInt(e(342))/5)+-parseInt(e(294))/6*(parseInt(e(362))/7)+parseInt(e(365))/8+-parseInt(e(302))/9+-parseInt(e(307))/10*(-parseInt(e(313))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(347)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function D(t,n){const e=P();return D=function(t,n){return e[t-=289]},D(t,n)}function P(){const t=["exception","9264951clbzdQ","gger","BufferGeometry","disposeBoundsTree","error","590IymHXz","chain","applyMatrix4","info","setScalar","copy","719345XyFmlR","active","attributes","77241XuOKtR","constructor","controls","init","toString","生成模型","Vector2","counter","function *\\( *\\)","radius","setAttribute","raycast","color","setUsage","push","getX","Mesh","点击按钮","return (function() ","model","material","intersectsBox","intersectObject","input","Sphere","firstHitOnly","197705xlrnyD","instance","BufferAttribute","#023249","1126093SbyaTi","apply","string","while (true) {}","stateObject","point","matrixWorld","center","TresMesh","TresSphereGeometry","position","test","addButton","normal","targetMesh","4izuyBS","28xHjRWw","computeBoundsTree","prototype","648720VQuPcO","warn","geometry","bind","58RFYAWy","getY","setX","DynamicDrawUsage","enabled","boundsTree","setZ","length","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","MeshStandardMaterial","322986juKoQF","count","getZ","console","click","value","fill"];return(P=function(){return t})()}!function(){q(this,(function(){const t=D,n=new RegExp(t(324)),e=new RegExp(t(291),"i"),r=$(t(319));n[t(357)](r+t(308))&&e[t(357)](r+t(339))?$():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=D;let n;try{n=Function(t(334)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(297)]=n.console||{},r=["log",t(366),t(310),t(306),t(301),"table","trace"];for(let s=0;s<r[t(289)];s++){const n=Q.constructor.prototype[t(368)](Q),o=r[s],i=e[o]||n;n.__proto__=Q[t(368)](Q),n[t(320)]=i[t(320)][t(368)](i),e[o]=n}}))();const U=[L(367),L(336)],V=[L(367)],W=b({__name:L(335),props:{controls:{}},async setup(r){const o=L;let s,b;const O=r;(()=>{const t=D;l[t(364)][t(363)]=m,l[t(364)][t(305)]=y,i[t(332)][t(364)][t(327)]=w})();const z=([s,b]=v((()=>e(p,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,b(),s),M=new(i[o(293)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),R=new Uint8Array(3*z[o(315)].position[o(295)]);R[o(300)](255);const B=new(i[o(344)])(R,3,!0);B[o(329)](i[o(372)]),z.setAttribute(o(328),B);const S=I(null),F=I(null),E=I(!1),C=I(-1),Z=I(.2),H=new(i[o(322)]),{camera:q,raycaster:P}=t(),Q=15/255,W=78/255,$=85/255;let K=null;j((()=>{const t=o;S.value&&(console.log("targetMesh.value init",S[t(299)]),S[t(299)][t(367)].computeBoundsTree(),K=z[t(374)],((t,n,e,r,o,s)=>{const c=X;window[c(443)]("pointermove",(e=>{const r=c;t.x=e[r(439)]/window.innerWidth*2-1,t.y=-e[r(447)]/window[r(449)]*2+1,n[r(441)]=!0})),window[c(443)](c(414),(u=>{const a=c;t.x=u[a(439)]/window[a(403)]*2-1,t.y=-u[a(447)]/window[a(449)]*2+1,r[a(441)]=u[a(442)];const l=new(i[a(433)]);l.setFromCamera(t,e.value),l[a(448)]=!0;const p=l[a(417)](o[a(441)],!0);n[a(441)]=!0,s[a(409)]=0===p[a(454)]}),!0),window[c(443)](c(429),(t=>{const e=c;r[e(441)]=-1,t[e(421)]===e(425)&&(n.value=!1)}),!0)})(H,E,q,C,S,O[t(318)].instance))}));const{onLoop:N}=n();N((()=>{const t=o,n=z.index;if(F.value)if(O[t(318)].instance[t(314)]||!E.value)F[t(299)].visible=!1;else{F[t(299)].scale[t(311)](Z.value),P[t(299)].setFromCamera(H,q[t(299)]),P[t(299)][t(341)]=!0;const e=P.value[t(338)](S[t(299)],!0);if(e.length){F[t(299)][t(356)][t(312)](e[0][t(351)]),O[t(318)][t(343)][t(373)]=!1,F.value.visible=!0;const r=new c;r.copy(S.value[t(352)]).invert();const o=new(i[t(340)]);o[t(353)].copy(F[t(299)][t(356)])[t(309)](r),o[t(325)]=100*Z.value;const s=[],a=new u;if(K?.shapecast({intersectsBounds:n=>{const e=t,r=o[e(337)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(a[e(292)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(a))return g;return h}return r?g:d},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(330)](t,t+1,t+2)}return!1}}),0===C[t(299)]||2===C.value){let e=1,r=1,o=1;0===C[t(299)]&&(e=Q,r=W,o=$);for(let i=0,c=s[t(289)];i<c;i++){const c=n[t(331)](s[i]);B[t(371)](c,e),B.setY(c,r),B[t(375)](c,o)}B.needsUpdate=!0}}else F.value.visible=!1,O[t(318)].instance[t(373)]=!0}}));const Y=(new f)[o(358)]({title:o(333),label:o(321)}),G=new(i[o(304)]);return Y.on(o(298),(()=>{const t=o,n=[],e=[];for(let o=0;o<B[t(295)];o++)B.getX(o)===Q&&B.getY(o)===W&&B[t(296)](o)===$&&(n[t(330)](z.attributes.position.getX(o),z[t(315)][t(356)][t(370)](o),z[t(315)][t(356)][t(296)](o)),e[t(330)](z.attributes[t(359)][t(331)](o),z.attributes[t(359)][t(370)](o),z[t(315)][t(359)][t(296)](o)));const r=new Float32Array(n);G[t(326)](t(356),new a(r,3)),G[t(326)]("normal",new a(r,3))})),(t,n)=>{const e=o;return _(),x(T,null,[A(e(354),{ref_key:e(360),ref:S,geometry:k(z),scale:.005,material:k(M)},null,8,U),A(e(354),{ref_key:"brushMesh",ref:F,visible:!1},n[0]||(n[0]=[A(e(355),{args:[1,40,40]},null,-1),A("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),A(e(354),{geometry:k(G),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[A("TresMeshStandardMaterial",{color:e(345),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,V)],64)}}});function $(t){function n(t){const e=D;if(typeof t===e(348))return function(t){}.constructor(e(349))[e(347)](e(323));1!==(""+t/t)[e(289)]||t%20==0?function(){return!0}.constructor(e(290)+"gger").call("action"):function(){return!1}[e(317)]("debu"+e(303))[e(347)](e(350)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=J;function N(){const t=["TresAmbientLight","controls","resource.cos","value","gger","__proto__","85535vVrqqk","neg-x.jpg","warn","720576jAtbPR","exception",'{}.constructor("return this")( )',"info","bind","14wFwNnm","console","prototype","controlsRef","return (function() ","length","TresPerspectiveCamera","path","https://opensource.cdn.icegl.cn","stateObject","init","neg-z.jpg","while (true) {}","25358VkEMtQ","counter","toString","5886iONspw","apply","12522pAWIsA","970FxHrrI","#999999","7ElHLUt","debu","chain","pos-y.jpg","trace","pos-x.jpg","function *\\( *\\)","30dXOONb","609015QVfaDk","collectTriangles","pos-z.jpg","constructor","535576KgqoOD","neg-y.jpg","string","table","input"];return(N=function(){return t})()}!function(t,n){const e=J,r=N();for(;;)try{if(136083===-parseInt(e(225))/1+parseInt(e(212))/2*(-parseInt(e(230))/3)+parseInt(e(259))/4+parseInt(e(256))/5*(parseInt(e(240))/6)+parseInt(e(233))/7*(-parseInt(e(245))/8)+parseInt(e(228))/9*(-parseInt(e(231))/10)+parseInt(e(241))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(229)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=J,n=new RegExp(t(239)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=nt(t(222));n.test(r+t(235))&&e.test(r+t(249))?nt():r("0")}))()}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(229)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(t,n){const e=N();return J=function(t,n){return e[t-=212]},J(t,n)}G(void 0,(function(){const t=J;let n;try{n=Function(t(216)+t(261)+");")()}catch(o){n=window}const e=n.console=n[t(213)]||{},r=["log",t(258),t(262),"error",t(260),t(248),t(237)];for(let s=0;s<r[t(217)];s++){const n=G[t(244)][t(214)].bind(G),o=r[s],i=e[o]||n;n[t(255)]=G[t(263)](G),n[t(227)]=i.toString.bind(i),e[o]=n}}))();const tt=b({__name:K(242),setup(t){const n=K,e=O({clearColor:n(232),antialias:!0}),i=O({autoRotate:!1}),c=I(null);return(t,u)=>{const a=n,l=z("TresCanvas");return _(),x(T,null,[M(k(s)),M(l,B(e,{"window-size":""}),{default:R((()=>[u[0]||(u[0]=A(a(218),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),M(k(r),B({ref_key:a(215),ref:c},i),null,16),u[1]||(u[1]=A(a(250),{intensity:1},null,-1)),(_(),S(F,null,{default:R((()=>[M(W,{controls:c[a(253)]},null,8,[a(251)])])),_:1})),(_(),S(F,null,{default:R((()=>[M(k(o),{background:!1,files:[a(238),a(257),a(236),a(246),a(243),a(223)],path:a(220)+"/images/skyBox/6jpg/"},null,8,[a(219)])])),_:1}))])),_:1},16)],64)}}});function nt(t){function n(t){const e=J;if(typeof t===e(247))return function(t){}[e(244)](e(224))[e(229)](e(226));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(234)+e(254)).call("action"):function(){return!1}[e(244)](e(234)+e(254))[e(229)](e(221)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
