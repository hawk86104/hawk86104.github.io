import{_ as t,cl as e,a as i,bI as n,V as s,as as o,aB as r,C as a}from"./three.3RwiW87x1731987698599.js";function c(t,e){const i=m();return(c=function(t,e){return i[t-=152]})(t,e)}const h=c;!function(t,e){const i=c,n=m();for(;;)try{if(684443===-parseInt(i(368))/1*(parseInt(i(492))/2)+-parseInt(i(440))/3+-parseInt(i(248))/4+-parseInt(i(532))/5*(parseInt(i(572))/6)+parseInt(i(586))/7*(parseInt(i(437))/8)+-parseInt(i(473))/9*(parseInt(i(324))/10)+-parseInt(i(352))/11*(-parseInt(i(196))/12))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){u(this,(function(){const t=c,e=new RegExp(t(315)),i=new RegExp(t(601),"i"),n=d(t(217));e[t(414)](n+t(523))&&i.test(n+t(161))?d():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[c(557)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=c;let e;try{e=Function(t(276)+'{}.constructor("return this")( ));')()}catch(s){e=window}const i=e[t(358)]=e[t(358)]||{},n=[t(483),"warn",t(463),"error",t(454),t(386),t(200)];for(let o=0;o<n[t(350)];o++){const e=l[t(165)][t(326)].bind(l),s=n[o],r=i[s]||e;e.__proto__=l.bind(l),e[t(438)]=r[t(438)][t(177)](r),i[s]=e}}))();const f={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===h(431)&&define[h(593)]?define(h(474),f):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=f),f[h(470)]=function(t,e,i,n){const s=h;this[s(211)]=i||1,this[s(606)]=e||1,this[s(519)]=t||Float32Array,this[s(328)]=new t(e*this[s(211)]),this[s(433)]=n||0},f[h(470)].constructor=f[h(470)],f[h(470)].prototype[h(193)]=function(t,e){const i=h,n=this[i(328)].length;return!e&&(t*=this[i(211)]),t<n?this[i(273)](t):t>n?this[i(336)](t):void console[i(463)](i(302),t+".","Will not resize.")},f[h(470)][h(326)][h(273)]=function(t){const e=h;return this.array=this[e(328)][e(243)](0,t),this[e(606)]=t,this},f[h(470)][h(326)][h(336)]=function(t){const e=h,i=this[e(328)],n=new(this[e(519)])(t);return n.set(i),this.array=n,this[e(606)]=t,this},f.TypedArrayHelper[h(326)][h(348)]=function(t,e){const i=h;t*=this[i(211)],e*=this[i(211)];const n=[],s=this[i(328)],o=s[i(350)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(202)](s[r]);return this.setFromArray(0,n),this},f[h(470)][h(326)].setFromArray=function(t,e){const i=h,n=t+e[i(350)];return n>this.array[i(350)]?this[i(336)](n):n<this[i(328)][i(350)]&&this.shrink(n),this[i(328)][i(565)](e,this.indexOffset+t),this},f[h(470)][h(326)][h(329)]=function(t,e){return this[h(399)](t,e.x,e.y)},f.TypedArrayHelper.prototype[h(399)]=function(t,e,i){const n=h,s=this[n(328)],o=this[n(433)]+t*this.componentSize;return s[o]=e,s[o+1]=i,this},f[h(470)][h(326)].setVec3=function(t,e){return this[h(232)](t,e.x,e.y,e.z)},f[h(470)].prototype[h(232)]=function(t,e,i,n){const s=h,o=this[s(328)],r=this[s(433)]+t*this[s(211)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},f[h(470)].prototype[h(167)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},f[h(470)].prototype[h(498)]=function(t,e,i,n,s){const o=h,r=this[o(328)],a=this[o(433)]+t*this[o(211)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},f.TypedArrayHelper[h(326)][h(505)]=function(t,e){const i=h;return this.setFromArray(this[i(433)]+t*this[i(211)],e[i(253)])},f.TypedArrayHelper[h(326)][h(166)]=function(t,e){const i=h;return this[i(341)](this[i(433)]+t*this[i(211)],e[i(253)])},f.TypedArrayHelper[h(326)][h(218)]=function(t,e){return this[h(232)](t,e.r,e.g,e.b)},f.TypedArrayHelper.prototype[h(393)]=function(t,e){return this.array[this.indexOffset+t*this.componentSize]=e,this},f[h(470)][h(326)].getValueAtIndex=function(t){return this[h(328)][this.indexOffset+t]},f[h(470)][h(326)].getComponentValueAtIndex=function(t){const e=h;return this.array[e(243)](this.indexOffset+t*this[e(211)])},f.ShaderAttribute=function(t,e,i){const n=h,s=f[n(578)][n(424)];this[n(554)]=typeof t===n(485)&&s[n(579)](t)?t:"f",this[n(211)]=s[this.type],this[n(262)]=i||Float32Array,this[n(451)]=null,this.bufferAttribute=null,this[n(589)]=!!e,this.updateMin=0,this[n(460)]=0},f[h(578)][h(165)]=f[h(578)],f[h(578)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},f[h(578)][h(326)].setUpdateRange=function(t,e){const i=h;this.updateMin=Math[i(238)](t*this.componentSize,this.updateMin*this.componentSize),this.updateMax=Math[i(333)](e*this[i(211)],this[i(460)]*this[i(211)])},f[h(578)][h(326)].flagUpdate=function(){const t=h,e=this[t(249)];!e[t(363)]&&(e[t(363)]={});const i=e.updateRange;i.offset=this.updateMin,i[t(551)]=Math[t(238)](this[t(460)]-this.updateMin+this.componentSize,this.typedArray.array[t(350)]),e.needsUpdate=!0},f[h(578)].prototype[h(207)]=function(){this.updateMin=0,this.updateMax=0},f[h(578)][h(326)][h(574)]=function(){const e=h;this[e(249)].usage=this.dynamicBuffer?t[e(224)]:t[e(459)]},f.ShaderAttribute[h(326)][h(348)]=function(t,e){const i=h;this[i(451)].splice(t,e),this[i(204)]()},f.ShaderAttribute[h(326)][h(204)]=function(){const t=h;this[t(249)].array=this[t(451)][t(328)],this[t(249)][t(363)].offset=0,this.bufferAttribute.updateRange[t(551)]=-1,this.bufferAttribute[t(237)]=e,this[t(249)][t(547)]=!0},f[h(578)].prototype[h(457)]=function(t){const e=h;null!==this[e(451)]&&this[e(451)][e(606)]===t*this[e(211)]||(null!==this[e(451)]&&this.typedArray.size!==t?this[e(451)][e(193)](t):null===this[e(451)]&&(this[e(451)]=new(f[e(470)])(this.arrayType,t,this.componentSize)))},f[h(578)][h(326)][h(269)]=function(e){const n=h;if(this[n(457)](e),null!==this[n(249)])return this[n(249)][n(328)]=this.typedArray.array,parseFloat(t[n(360)])>=81&&(this[n(249)][n(551)]=this[n(249)][n(328)][n(350)]/this.bufferAttribute[n(575)]),void(this[n(249)][n(547)]=!0);this[n(249)]=new i(this.typedArray[n(328)],this.componentSize),this[n(249)].usage=this[n(589)]?t[n(224)]:t[n(459)]},f[h(578)].prototype[h(417)]=function(){const t=h;return null===this[t(451)]?0:this[t(451)][t(328)][t(350)]},f[h(265)]={defines:[h(480),h(604)][h(509)]("\n"),uniforms:[h(610),h(347),h(450),h(375),"uniform float scale;"][h(509)]("\n"),attributes:[h(338),h(503),h(287),h(534),h(222),"attribute vec4 size;",h(283),h(335),h(280)][h(509)]("\n"),varyings:[h(421),h(317),h(163),h(182),h(411),h(526),h(182)][h(509)]("\n"),branchAvoidanceFunctions:[h(499),"    return max(sign(x - y), 0.0);","}","float when_lt(float x, float y) {","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",h(476),h(361),"}",h(229),"  return 1.0 - when_lt(x, y);","}",h(489),h(286),"}",h(418),h(312),"}","float or(float a, float b) {","    return min(a + b, 1.0);","}"][h(509)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {",h(500),h(466),h(461),"   float b = mod( hex, PACKED_COLOR_SIZE );",h(527),h(428),h(296),h(465),"}"][h(509)]("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {",h(500),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(588),h(527),h(428),"   c.b = b / PACKED_COLOR_DIVISOR;",h(227),"   c -= vec3( 1.0 );",h(465),"}"][h(509)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",h(294),h(181),"    float fIndex = 0.0;",h(225),h(496),"",h(394),h(174),h(573),h(442),"    }","","    return value;","}"][h(509)]("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {",h(609),"    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );",h(210),h(497),"    return value;","}"].join("\n"),paramFetchingFunctions:[h(508),"   return params.x;","}",h(332),h(543),"}","float getMaxAge() {",h(257),"}",h(582),h(436),"}"].join("\n"),forceFetchingFunctions:[h(298),h(278),"}",h(316),"   return velocity * age;","}",h(435),h(408),"}"].join("\n"),rotationFunctions:[h(275),h(546),h(443),h(398),h(516),h(422),"",h(426),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,",h(260),h(343),"",h(359),h(413),h(429),"      }","",h(157),h(191),h(162),h(453),h(362),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",h(452),h(583),"      rotationMatrix = getRotationMatrix( axis, angle );",h(577),h(343),h(182)][h(509)]("\n"),rotateTexture:[h(279),"",h(214),"       float x = gl_PointCoord.x - 0.5;",h(357),h(171),"       float s = sin( -vAngle );",h(468),h(391),"",h(387),h(427),"        float framesY = vSpriteSheet.y;",h(215),h(301),h(462),h(536),h(391),"",h(346)][h(509)]("\n")},f[h(377)]={vertex:[f[h(265)][h(381)],f.shaderChunks[h(569)],f[h(265)][h(562)],f[h(265)][h(305)],n[h(487)],t[h(538)][h(197)],t[h(538)][h(390)],f.shaderChunks.branchAvoidanceFunctions,f[h(265)].unpackColor,f[h(265)].unpackRotationAxis,f[h(265)][h(154)],f[h(265)][h(395)],f.shaderChunks[h(327)],f[h(265)][h(173)],f[h(265)].rotationFunctions,h(176),"    highp float age = getAge();","    highp float alive = getAlive();",h(369),h(382),"    highp float isAlive = when_gt( alive, 0.0 );",h(311),h(223),h(186),h(322),"    #endif","    vec3 vel = getVelocity( age );",h(184),h(159),h(304),h(319),"    force += vel;",h(439),"    force += accel * age;",h(367),h(311),h(152),h(596),h(472),"    #endif","    #ifdef SHOULD_ROTATE_PARTICLES","        pos = getRotation( pos, positionInTime );",h(391),h(495),"    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;",h(471),h(563),h(403),"        float perspective = 1.0;","    #endif","    float pointSizePerspective = pointSize * perspective;",h(288),h(201),"           positionInTime,",h(342),h(600),"           unpackColor( color.z ),",h(179),h(306),h(403),h(208),"    #endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );",h(518),h(214),h(259),h(391),"    #ifdef SHOULD_CALCULATE_SPRITE",h(571),h(261),h(478),h(268),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",h(194),h(482),h(213),h(599),h(241),h(484),h(209),h(290),h(391),h(425),"    gl_Position = projectionMatrix * mvPosition;",t[h(538)][h(353)],t[h(538)][h(220)],"}"].join("\n"),fragment:[f[h(265)][h(569)],t[h(538)].common,t[h(538)].fog_pars_fragment,t[h(538)][h(566)],f[h(265)][h(305)],f[h(265)][h(313)],h(176),h(330),h(230),h(517),"       if ( vColor.w < float(ALPHATEST) ) discard;",h(391),f[h(265)][h(419)],t[h(538)][h(153)],h(407),h(608),t[h(538)][h(521)],"}"][h(509)]("\n")},f[h(321)]={types:{BOOLEAN:h(552),STRING:h(485),NUMBER:h(187),OBJECT:h(264)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=h;if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(490)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array[n(281)](t)){for(let s=t[n(350)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(510)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(281)](t[n(590)])&&(t._value=[t[n(590)]]),!1===Array.isArray(t._spread)&&(t[n(366)]=[t[n(366)]]);const s=this[n(542)](t[n(590)][n(350)],e,i),o=this[n(542)](t._spread[n(350)],e,i),r=Math[n(333)](s,o);t[n(590)][n(350)]!==r&&(t[n(590)]=this[n(320)](t[n(590)],r)),t[n(366)].length!==r&&(t[n(366)]=this[n(320)](t[n(366)],r))},interpolateArray(t,e){const i=h,n=t[i(350)],s=["function"==typeof t[0][i(434)]?t[0][i(434)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(206)](e),a=Math[i(533)](e),c=e-n;s[r]=this[i(334)](t[n],t[a],c)}return s.push(typeof t[n-1][i(434)]===i(431)?t[n-1][i(434)]():t[n-1]),s},clamp(t,e,i){const n=h;return Math[n(333)](e,Math[n(238)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(449)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const r=h;let a,c=this[r(539)];return typeof e===c[r(256)]&&typeof i===c.NUMBER?e+(i-e)*n:e instanceof t[r(401)]&&i instanceof t[r(401)]?(a=e[r(434)](),a.x=this.lerp(e.x,i.x,n),a.y=this[r(376)](e.y,i.y,n),a):e instanceof s&&i instanceof t[r(445)]?(a=e[r(434)](),a.x=this[r(376)](e.x,i.x,n),a.y=this[r(376)](e.y,i.y,n),a.z=this[r(376)](e.z,i.z,n),a):e instanceof o&&i instanceof o?(a=e[r(434)](),a.x=this[r(376)](e.x,i.x,n),a.y=this[r(376)](e.y,i.y,n),a.z=this.lerp(e.z,i.z,n),a.w=this[r(376)](e.w,i.w,n),a):e instanceof t[r(481)]&&i instanceof t[r(481)]?(a=e[r(434)](),a.r=this[r(376)](e.r,i.r,n),a.g=this[r(376)](e.g,i.g,n),a.b=this[r(376)](e.b,i.b,n),a):void console.warn(r(379),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(344)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(350)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(449)]()-.5),randomVector3(t,e,i,n,s){const o=h;let r=i.x+(Math[o(449)]()*n.x-.5*n.x),a=i.y+(Math[o(449)]()*n.y-.5*n.y),c=i.z+(Math[o(449)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(205)](r,s.x),a=.5*-s.y+this[o(205)](a,s.y),c=.5*-s.z+this[o(205)](c,s.z)),t.typedArray.setVec3Components(e,r,a,c)},randomColor(t,e,i,n){const s=h;let o=i.r+Math[s(449)]()*n.x,r=i.g+Math[s(449)]()*n.y,a=i.b+Math[s(449)]()*n.z;o=this.clamp(o,0,1),r=this[s(542)](r,0,1),a=this.clamp(a,0,1),t[s(451)].setVec3Components(e,o,r,a)},randomColorAsHex:function(){const e=h,i=new(t[e(481)]);return function(t,n,s,o){const r=e,a=s.length,c=[];for(let e=0;e<a;++e){const t=o[e];i[r(247)](s[e]),i.r+=Math[r(449)]()*t.x-.5*t.x,i.g+=Math[r(449)]()*t.y-.5*t.y,i.b+=Math[r(449)]()*t.z-.5*t.z,i.r=this[r(542)](i.r,0,1),i.g=this[r(542)](i.g,0,1),i.b=this[r(542)](i.b,0,1),c[r(202)](i[r(170)]())}t[r(451)][r(498)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=h,o=i[s(434)]();o[s(376)](n,Math[s(449)]()),t[s(451)][s(232)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=h;let u=2*Math[c(449)]()-1,l=6.2832*Math[c(449)](),f=Math[c(155)](1-u*u),p=this[c(549)](n,s),d=0,m=0,g=0;r&&(p=Math[c(392)](p/r)*r),d=f*Math[c(550)](l)*p,m=f*Math[c(388)](l)*p,g=u*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(451)][c(232)](e,d,m,g)},seededRandom(t){const e=1e4*Math[h(388)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=h;let c=6.2832*Math.random(),u=Math[a(344)](this[a(549)](n,s)),l=0,f=0,p=0;r&&(u=Math[a(392)](u/r)*r),l=Math.cos(c)*u,f=Math.sin(c)*u,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t[a(451)][a(232)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const t=new s;return function(e,i,n,s,o,r,a,h){const u=c;t[u(247)](r),t.x-=n,t.y-=s,t.z-=o,t[u(412)]()[u(195)](-this[u(549)](a,h)),e.typedArray[u(232)](i,t.x,t.y,t.z)}}(),randomDirectionVector3OnDisc:function(){const e=h,i=new(t[e(445)]);return function(t,n,s,o,r,a,c,h){const u=e;i[u(247)](a),i.x-=s,i.y-=o,i.z-=r,i[u(412)]()[u(195)](-this[u(549)](c,h)),t[u(451)].setVec3Components(n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=h,i=new(t[e(445)]),n=new(t[e(445)]),s=new(t[e(481)]),o=new(t[e(445)])(1,1,1);return function(t,r){const a=e;return i.copy(t)[a(412)](),n[a(247)](r)[a(412)](),i.x+=.5*-r.x+Math[a(449)]()*r.x,i.y+=.5*-r.y+Math[a(449)]()*r.y,i.z+=.5*-r.z+Math[a(449)]()*r.z,i[a(412)]()[a(529)](o)[a(195)](.5),s[a(540)](i.x,i.y,i.z),s.getHex()}}()},f[h(513)]=function(e){const i=h,n=f[i(321)],s=n.types;(e=n[i(490)](e,s[i(504)],{})).texture=n[i(490)](e[i(156)],s[i(504)],{}),this.uuid=t[i(364)][i(415)](),this[i(446)]=n[i(490)](e.fixedTimeStep,s[i(256)],.016),this[i(156)]=n[i(510)](e[i(156)][i(325)],t[i(592)],null),this[i(594)]=n.ensureInstanceOf(e.texture[i(511)],t[i(401)],new(t[i(401)])(1,1)),this[i(602)]=n[i(490)](e[i(156)].frameCount,s[i(256)],this[i(594)].x*this[i(594)].y),this[i(525)]=n.ensureTypedArg(e.texture[i(277)],s[i(256)],1),this[i(594)][i(333)](new(t[i(401)])(1,1)),this[i(372)]=n[i(490)](e[i(372)],s[i(479)],!0),this[i(522)]=n[i(490)](e[i(522)],s[i(479)],!0),this[i(310)]=n[i(490)](e[i(310)],s[i(256)],null),this[i(559)]=n.ensureTypedArg(e[i(559)],s.NUMBER,r),this.transparent=n[i(490)](e[i(354)],s[i(479)],!0),this[i(491)]=parseFloat(n[i(490)](e[i(491)],s[i(256)],0)),this[i(297)]=n[i(490)](e[i(297)],s[i(479)],!1),this[i(537)]=n[i(490)](e[i(537)],s[i(479)],!0),this.fog=n[i(490)](e[i(351)],s.BOOLEAN,!0),this[i(493)]=n.ensureTypedArg(e[i(493)],s.NUMBER,300),this[i(300)]=[],this[i(514)]=[],this[i(553)]=[],this._poolCreationSettings=null,this[i(251)]=0,this[i(385)]=!1,this[i(185)]=!1,this[i(340)]=0,this.uniforms={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(t[i(175)])(this[i(594)].x,this[i(594)].y,this[i(602)],Math.max(Math.abs(this.textureLoop),1))},fogColor:{type:"c",value:this.fog?new(t[i(481)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(493)]}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this[i(522)],VALUE_OVER_LIFETIME_LENGTH:f.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(594)].x>1||this[i(594)].y>1},this[i(562)]={position:new(f[i(578)])("v3",!0),acceleration:new(f[i(578)])("v4",!0),velocity:new f.ShaderAttribute("v3",!0),rotation:new(f[i(578)])("v4",!0),rotationCenter:new(f[i(578)])("v3",!0),params:new(f[i(578)])("v4",!0),size:new f.ShaderAttribute("v4",!0),angle:new(f[i(578)])("v4",!0),color:new(f[i(578)])("v4",!0),opacity:new f.ShaderAttribute("v4",!0)},this.attributeKeys=Object[i(512)](this[i(562)]),this.attributeCount=this[i(349)][i(350)],this[i(477)]=new(t[i(365)])({uniforms:this[i(569)],vertexShader:f[i(377)][i(355)],fragmentShader:f[i(377)].fragment,blending:this[i(559)],transparent:this[i(354)],alphaTest:this[i(491)],depthWrite:this.depthWrite,depthTest:this[i(537)],defines:this[i(381)],fog:this[i(351)]}),this[i(384)]=new(t[i(406)]),this[i(501)]=new(t[i(405)])(this[i(384)],this[i(477)]),null===this[i(310)]&&console.warn(i(541))},f.Group[h(165)]=f[h(513)],f[h(513)][h(326)][h(455)]=function(){const t=h;let e,i=this[t(300)],n=i[t(350)]-1,s=this[t(381)];for(;n>=0;--n)e=i[n],!s[t(192)]&&(s[t(380)]=s[t(380)]||!!Math.max(Math[t(333)][t(557)](null,e.angle[t(325)]),Math[t(333)][t(557)](null,e.angle[t(371)]))),s.SHOULD_ROTATE_PARTICLES=s[t(555)]||!!Math[t(333)](e[t(164)][t(530)],e[t(164)].angleSpread),s[t(605)]=s[t(605)]||!!Math[t(333)](e[t(585)][t(325)],e[t(585)][t(371)]);this[t(477)][t(547)]=!0},f[h(513)].prototype._applyAttributesToGeometry=function(){const t=h;let e,i,n=this.attributes,s=this[t(384)],o=s.attributes;for(const r in n)n[t(579)](r)&&(e=n[r],i=o[r],i?i[t(328)]=e[t(451)][t(328)]:s[t(603)](r,e[t(249)]),e[t(249)][t(547)]=!0);this.geometry[t(246)](0,this[t(340)])},f[h(513)].prototype[h(416)]=function(t){const e=h;if(t instanceof f[e(199)]==!1)return void console[e(263)](e(520),t);if(this[e(514)][e(570)](t.uuid)>-1)return void console[e(263)](e(402));if(null!==t[e(266)])return void console.error(e(506));const i=this[e(562)],n=this[e(340)],s=n+t[e(340)];this[e(340)]=s,null!==this[e(310)]&&this.particleCount>this[e(310)]&&console[e(172)]("SPE.Group: maxParticleCount exceeded. Requesting",this.particleCount,e(396),this[e(310)]),t[e(188)](t[e(420)][e(590)]+t[e(420)][e(366)]),t._setBufferUpdateRanges(this[e(349)]),t._setAttributeOffset(n),t[e(266)]=this,t[e(562)]=this[e(562)];for(const o in i)i[e(579)](o)&&i[o][e(269)](null!==this.maxParticleCount?this[e(310)]:this[e(340)]);for(let o=n;o<s;++o)t[e(308)](o),t[e(494)](o,"velocity"),t._assignForceValue(o,e(535)),t[e(274)](o,e(576)),t[e(274)](o,e(606)),t[e(267)](o),t._assignRotationValue(o),t[e(235)](o),t[e(295)](o);return this[e(284)](),this.emitters[e(202)](t),this[e(514)][e(202)](t[e(180)]),this[e(455)](t),this[e(477)][e(547)]=!0,this[e(384)][e(547)]=!0,this[e(385)]=!0,this},f[h(513)][h(326)][h(467)]=function(t){const e=h,i=this[e(514)][e(570)](t.uuid);if(t instanceof f[e(199)]==!1)return void console[e(263)](e(520),t);if(-1===i)return void console[e(263)]("Emitter does not exist in this group. Will not remove.");const n=t[e(432)],s=n+t[e(340)],o=this.attributes.params.typedArray;for(let r=n;r<s;++r)o[e(328)][4*r]=0,o.array[4*r+1]=0;this.emitters[e(348)](i,1),this[e(514)][e(348)](i,1);for(const r in this[e(562)])this[e(562)][e(579)](r)&&this.attributes[r][e(348)](n,s);this[e(340)]-=t.particleCount,t._onRemove(),this[e(385)]=!0},f[h(513)][h(326)][h(561)]=function(){const t=h,e=this[t(553)],i=this._createNewWhenPoolEmpty;if(e[t(350)])return e[t(240)]();if(i){const e=new(f[t(199)])(this._poolCreationSettings);return this[t(416)](e),e}return null},f.Group[h(326)][h(373)]=function(t){const e=h;if(t instanceof f.Emitter!=!1)return t[e(169)](),this[e(553)].unshift(t),this;console[e(263)](e(183),t)},f[h(513)][h(326)][h(271)]=function(){return this[h(553)]},f[h(513)][h(326)][h(597)]=function(t,e,i){const n=h;let s;this[n(307)]=e,this._createNewWhenPoolEmpty=!!i;for(let o=0;o<t;++o)s=Array[n(281)](e)?new f.Emitter(e[o]):new(f[n(199)])(e),this[n(416)](s),this[n(373)](s);return this},f[h(513)][h(326)][h(158)]=function(t){const e=h,i=this[e(561)](),n=this;if(null!==i)return t instanceof s&&(i[e(581)][e(325)].copy(t),i[e(581)].value=i.position[e(325)]),i[e(239)](),setTimeout((()=>{const t=e;i[t(383)](),n[t(373)](i)}),1e3*Math[e(333)](i[e(598)],i[e(420)][e(325)]+i[e(420)][e(371)])),this;console[e(483)]("SPE.Group pool ran out.")},f[h(513)].prototype[h(233)]=function(t,e){const i=h;if(typeof t===i(187)&&t>1)for(let n=0;n<t;++n)this._triggerSingleEmitter(e);else this[i(158)](e);return this},f[h(513)][h(326)][h(378)]=function(t){const e=h;this[e(569)][e(441)].value+=t,this.uniforms[e(587)][e(325)]=t},f[h(513)][h(326)][h(252)]=function(){const t=h;let e=this.attributeKeys,i=this[t(291)]-1,n=this[t(562)];for(;i>=0;--i)n[e[i]][t(207)]()},f.Group[h(326)][h(250)]=function(t){const e=h;let i,n,s,o=this[e(349)],r=this[e(291)]-1,a=this.attributes,c=t.bufferUpdateRanges;for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(234)](n[e(238)],n.max),s[e(404)]()},f[h(513)][h(326)].tick=function(t){const e=h;var i=this[e(300)],n=i[e(350)],s=t||this[e(446)],o=this[e(349)],r=this.attributes;if(this[e(378)](s),this[e(252)](),0!==n||!1!==this[e(385)]||!1!==this._attributesNeedDynamicReset){for(var a,c=0;c<n;++c)(a=i[c]).tick(s),this._updateBuffers(a);if(!0===this[e(185)]){for(c=this.attributeCount-1;c>=0;--c)r[o[c]][e(574)]();this[e(185)]=!1}if(!0===this[e(385)]){for(c=this[e(291)]-1;c>=0;--c)r[o[c]][e(204)]();this[e(385)]=!1,this._attributesNeedDynamicReset=!0}}},f[h(513)][h(326)][h(564)]=function(){const t=h;return this[t(384)].dispose(),this[t(477)][t(564)](),this},f.Emitter=function(e){const i=h,n=f[i(321)],o=n[i(539)],r=f[i(221)];(e=n[i(490)](e,o[i(504)],{}))[i(581)]=n[i(490)](e[i(581)],o[i(504)],{}),e[i(595)]=n[i(490)](e[i(595)],o[i(504)],{}),e[i(535)]=n[i(490)](e[i(535)],o[i(504)],{}),e[i(219)]=n[i(490)](e[i(219)],o[i(504)],{}),e[i(168)]=n.ensureTypedArg(e.drag,o[i(504)],{}),e[i(164)]=n[i(490)](e[i(164)],o[i(504)],{}),e[i(203)]=n[i(490)](e[i(203)],o[i(504)],{}),e.opacity=n[i(490)](e[i(576)],o[i(504)],{}),e[i(606)]=n.ensureTypedArg(e[i(606)],o[i(504)],{}),e[i(530)]=n[i(490)](e[i(530)],o[i(504)],{}),e.wiggle=n[i(490)](e.wiggle,o[i(504)],{}),e.maxAge=n[i(490)](e[i(420)],o[i(504)],{}),e[i(400)]&&console[i(172)](i(548)),this[i(180)]=t[i(364)][i(415)](),this[i(554)]=n[i(490)](e.type,o[i(256)],f[i(331)][i(189)]),this[i(581)]={_value:n.ensureInstanceOf(e[i(581)].value,t[i(445)],new s),_spread:n[i(510)](e.position[i(371)],t[i(445)],new(t[i(445)])),_spreadClamp:n[i(510)](e[i(581)].spreadClamp,t[i(445)],new(t[i(445)])),_distribution:n[i(490)](e.position[i(212)],o.NUMBER,this.type),_randomise:n[i(490)](e.position[i(374)],o[i(479)],!1),_radius:n[i(490)](e[i(581)][i(219)],o.NUMBER,10),_radiusScale:n[i(510)](e[i(581)][i(528)],t[i(445)],new s(1,1,1)),_distributionClamp:n[i(490)](e.position.distributionClamp,o.NUMBER,0)},this[i(595)]={_value:n.ensureInstanceOf(e[i(595)][i(325)],t[i(445)],new(t[i(445)])),_spread:n[i(510)](e[i(595)].spread,t[i(445)],new(t[i(445)])),_distribution:n[i(490)](e[i(595)][i(212)],o.NUMBER,this.type),_randomise:n.ensureTypedArg(e[i(581)][i(374)],o[i(479)],!1)},this.acceleration={_value:n[i(510)](e[i(535)][i(325)],t[i(445)],new(t[i(445)])),_spread:n[i(510)](e[i(535)][i(371)],t[i(445)],new(t[i(445)])),_distribution:n[i(490)](e[i(535)].distribution,o.NUMBER,this[i(554)]),_randomise:n[i(490)](e[i(581)][i(374)],o.BOOLEAN,!1)},this[i(168)]={_value:n[i(490)](e[i(168)][i(325)],o[i(256)],0),_spread:n[i(490)](e[i(168)].spread,o[i(256)],0),_randomise:n.ensureTypedArg(e.position[i(374)],o.BOOLEAN,!1)},this.wiggle={_value:n[i(490)](e[i(585)][i(325)],o[i(256)],0),_spread:n[i(490)](e.wiggle[i(371)],o[i(256)],0)},this[i(164)]={_axis:n[i(510)](e[i(164)][i(524)],s,new(t[i(445)])(0,1,0)),_axisSpread:n[i(510)](e[i(164)].axisSpread,t[i(445)],new(t[i(445)])),_angle:n[i(490)](e[i(164)][i(530)],o[i(256)],0),_angleSpread:n[i(490)](e.rotation.angleSpread,o.NUMBER,0),_static:n.ensureTypedArg(e[i(164)].static,o[i(479)],!1),_center:n[i(510)](e[i(164)][i(423)],s,this.position[i(590)].clone()),_randomise:n[i(490)](e[i(581)][i(374)],o.BOOLEAN,!1)},this[i(420)]={_value:n[i(490)](e[i(420)].value,o[i(256)],2),_spread:n[i(490)](e[i(420)][i(371)],o[i(256)],0)},this[i(203)]={_value:n[i(242)](e[i(203)].value,t[i(481)],new a),_spread:n[i(242)](e[i(203)][i(371)],t[i(445)],new(t[i(445)])),_randomise:n[i(490)](e[i(581)][i(374)],o[i(479)],!1)},this[i(576)]={_value:n.ensureArrayTypedArg(e[i(576)].value,o[i(256)],1),_spread:n.ensureArrayTypedArg(e[i(576)][i(371)],o.NUMBER,0),_randomise:n[i(490)](e[i(581)][i(374)],o[i(479)],!1)},this[i(606)]={_value:n[i(464)](e[i(606)][i(325)],o[i(256)],1),_spread:n[i(464)](e[i(606)][i(371)],o[i(256)],0),_randomise:n[i(490)](e[i(581)].randomise,o.BOOLEAN,!1)},this[i(530)]={_value:n[i(464)](e[i(530)][i(325)],o.NUMBER,0),_spread:n.ensureArrayTypedArg(e[i(530)].spread,o.NUMBER,0),_randomise:n.ensureTypedArg(e[i(581)][i(374)],o.BOOLEAN,!1)},this.particleCount=n[i(490)](e.particleCount,o[i(256)],100),this[i(598)]=n[i(490)](e[i(598)],o[i(256)],null),this[i(236)]=n[i(490)](e[i(236)],o[i(479)],!1),this.activeMultiplier=n[i(490)](e[i(531)],o[i(256)],1),this[i(558)]=n[i(490)](e.direction,o[i(256)],1),this[i(607)]=n[i(490)](e[i(607)],o.BOOLEAN,!0),this[i(339)]=0,this.activationIndex=0,this[i(432)]=0,this[i(567)]=0,this[i(475)]=0,this.activeParticleCount=0,this.group=null,this[i(562)]=null,this[i(190)]=null,this[i(160)]={position:n[i(490)](e[i(581)][i(374)],o[i(479)],!1)||n[i(490)](e[i(219)][i(374)],o.BOOLEAN,!1),velocity:n.ensureTypedArg(e[i(595)][i(374)],o[i(479)],!1),acceleration:n[i(490)](e[i(535)][i(374)],o[i(479)],!1)||n.ensureTypedArg(e[i(168)].randomise,o[i(479)],!1),rotation:n.ensureTypedArg(e[i(164)][i(374)],o[i(479)],!1),rotationCenter:n.ensureTypedArg(e[i(164)][i(374)],o[i(479)],!1),size:n[i(490)](e[i(606)][i(374)],o[i(479)],!1),color:n.ensureTypedArg(e[i(203)][i(374)],o[i(479)],!1),opacity:n[i(490)](e[i(576)][i(374)],o[i(479)],!1),angle:n[i(490)](e[i(530)][i(374)],o[i(479)],!1)},this.updateFlags={},this[i(323)]={},this.updateMap={maxAge:i(254),position:i(581),velocity:i(595),acceleration:i(535),drag:i(535),wiggle:i(254),rotation:i(164),size:i(606),color:"color",opacity:i(576),angle:i(530)};for(const t in this[i(458)])this[i(458)][i(579)](t)&&(this.updateCounts[this[i(458)][t]]=0,this.updateFlags[this[i(458)][t]]=!1,this._createGetterSetters(this[t],t));this.bufferUpdateRanges={},this[i(349)]=null,this[i(291)]=0,n.ensureValueOverLifetimeCompliance(this[i(203)],r,r),n[i(515)](this[i(576)],r,r),n.ensureValueOverLifetimeCompliance(this[i(606)],r,r),n.ensureValueOverLifetimeCompliance(this[i(530)],r,r)},f[h(199)].constructor=f.Emitter,f[h(199)][h(326)][h(568)]=function(t,e){const i=this;for(const n in t)if(t.hasOwnProperty(n)){const s=n.replace("_","");Object.defineProperty(t,s,{get:function(t){return function(){return this[t]}}(n),set:function(t){return function(n){const s=c,o=i.updateMap[e],r=this[t],a=f[s(221)];"_rotationCenter"===t?(i[s(447)].rotationCenter=!0,i[s(323)][s(314)]=0):t===s(245)?i[s(160)][o]=n:(i[s(447)][o]=!0,i[s(323)][o]=0),i.group[s(455)](),this[t]=n,Array[s(281)](r)&&f[s(321)][s(515)](i[e],a,a)}}(n)})}},f[h(199)][h(326)][h(409)]=function(t){const e=h;this[e(349)]=t,this[e(291)]=t.length;for(let i=this[e(291)]-1;i>=0;--i)this.bufferUpdateRanges[t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(318)]}},f.Emitter[h(326)][h(188)]=function(t){const e=h,i=this[e(340)];this[e(598)]?this.particlesPerSecond=i/(t<this.duration?t:this[e(598)]):this[e(339)]=i/t},f[h(199)][h(326)][h(469)]=function(t){const e=h;this[e(432)]=t,this.activationIndex=t,this[e(507)]=t+this.particleCount},f[h(199)][h(326)][h(430)]=function(t,e){const i=h;switch(t){case i(581):this[i(308)](e);break;case i(595):case i(535):this[i(494)](e,t);break;case i(606):case i(576):this._assignAbsLifetimeValue(e,t);break;case i(530):this[i(267)](e);break;case i(254):this[i(235)](e);break;case"rotation":this[i(370)](e);break;case i(203):this[i(295)](e)}},f[h(199)][h(326)][h(308)]=function(t){const e=h,i=f.distributions,n=f[e(321)],s=this[e(581)],o=this.attributes[e(581)],r=s._value,a=s._spread;switch(s[e(580)]){case i[e(189)]:n[e(591)](o,t,r,a,s[e(285)]);break;case i[e(303)]:n[e(545)](o,t,r,s[e(299)],s[e(366)].x,s[e(270)],s[e(285)].x,s[e(289)]||this.particleCount);break;case i[e(337)]:n[e(198)](o,t,r,s._radius,s._spread.x,s[e(270)],s[e(285)].x);break;case i.LINE:n.randomVector3OnLine(o,t,r,a)}},f[h(199)][h(326)][h(494)]=function(t,e){const i=h;let n,s,o,r,a,c=f[i(331)],u=f[i(321)],l=this[e],p=l[i(590)],d=l._spread;switch(l._distribution){case c[i(189)]:u.randomVector3(this[i(562)][e],t,p,d);break;case c[i(303)]:n=this.attributes[i(581)][i(451)].array,a=3*t,s=n[a],o=n[a+1],r=n[a+2],u[i(544)](this.attributes[e],t,s,o,r,this[i(581)][i(590)],l._value.x,l[i(366)].x);break;case c[i(337)]:n=this[i(562)][i(581)][i(451)].array,a=3*t,s=n[a],o=n[a+1],r=n[a+2],u[i(560)](this[i(562)][e],t,s,o,r,this.position._value,l._value.x,l[i(366)].x);break;case c[i(216)]:u[i(292)](this[i(562)][e],t,p,d)}if("acceleration"===e){const e=u.clamp(u[i(549)](this.drag[i(590)],this[i(168)][i(366)]),0,1);this.attributes[i(535)][i(451)][i(328)][4*t+3]=e}},f[h(199)][h(326)]._assignAbsLifetimeValue=function(t,e){const i=h;let n,s=this[i(562)][e][i(451)],o=this[e],r=f.utils;r[i(244)](o._value)&&r.arrayValuesAreEqual(o[i(366)])?(n=Math.abs(r[i(549)](o[i(590)][0],o[i(366)][0])),s[i(498)](t,n,n,n,n)):s[i(498)](t,Math.abs(r.randomFloat(o[i(590)][0],o._spread[0])),Math[i(344)](r[i(549)](o[i(590)][1],o[i(366)][1])),Math.abs(r[i(549)](o[i(590)][2],o[i(366)][2])),Math[i(344)](r[i(549)](o[i(590)][3],o[i(366)][3])))},f[h(199)][h(326)][h(267)]=function(t){const e=h;let i,n=this[e(562)].angle[e(451)],s=this.angle,o=f[e(321)];o.arrayValuesAreEqual(s[e(590)])&&o[e(244)](s[e(366)])?(i=o.randomFloat(s._value[0],s[e(366)][0]),n.setVec4Components(t,i,i,i,i)):n[e(498)](t,o.randomFloat(s._value[0],s._spread[0]),o[e(549)](s._value[1],s[e(366)][1]),o[e(549)](s[e(590)][2],s[e(366)][2]),o[e(549)](s[e(590)][3],s[e(366)][3]))},f[h(199)][h(326)][h(235)]=function(t){const e=h;this[e(562)][e(254)][e(451)][e(498)](t,this[e(236)]?1:0,0,Math[e(344)](f[e(321)][e(549)](this.maxAge[e(590)],this[e(420)][e(366)])),f[e(321)][e(549)](this.wiggle._value,this[e(585)][e(366)]))},f[h(199)][h(326)][h(370)]=function(t){const e=h;this[e(562)][e(164)].typedArray[e(232)](t,f.utils.getPackedRotationAxis(this.rotation[e(258)],this.rotation[e(178)]),f[e(321)][e(549)](this.rotation._angle,this[e(164)][e(397)]),this[e(164)][e(282)]?0:1),this.attributes.rotationCenter[e(451)].setVec3(t,this[e(164)][e(448)])},f.Emitter[h(326)]._assignColorValue=function(t){const e=h;f[e(321)][e(228)](this[e(562)].color,t,this[e(203)]._value,this[e(203)]._spread)},f.Emitter[h(326)]._resetParticle=function(t){const e=h;let i,n,s=this[e(160)],o=this.updateFlags,r=this[e(323)],a=this.attributeKeys;for(let c=this[e(291)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(430)](i,t),this[e(255)](i,t),!0===n&&r[i]===this[e(340)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},f[h(199)][h(326)][h(255)]=function(t,e){const i=h,n=this.bufferUpdateRanges[t];n[i(238)]=Math[i(238)](e,n[i(238)]),n[i(333)]=Math[i(333)](e,n[i(333)])},f[h(199)][h(326)][h(252)]=function(){const t=h;let e,i=this.bufferUpdateRanges,n=this.bufferUpdateKeys,s=this[t(226)]-1;for(;s>=0;--s)e=n[s],i[e][t(238)]=Number.POSITIVE_INFINITY,i[e].max=Number.NEGATIVE_INFINITY},f[h(199)].prototype._onRemove=function(){const t=h;this[t(339)]=0,this[t(432)]=0,this[t(272)]=0,this[t(309)]=0,this[t(266)]=null,this[t(562)]=null,this.paramsArray=null,this[t(475)]=0},f.Emitter[h(326)][h(488)]=function(){--this[h(309)]},f[h(199)].prototype[h(293)]=function(){++this[h(309)]},f[h(199)][h(326)]._checkParticleAges=function(t,e,i,n){const s=h;for(var o,r,a,c,u=e-1;u>=t;--u)0!==(c=i[o=4*u])&&(a=i[o+1],r=i[o+2],1===this[s(558)]?(a+=n)>=r&&(a=0,c=0,this._decrementParticleCount()):(a-=n)<=0&&(a=r,c=0,this[s(488)]()),i[o]=c,i[o+1]=a,this[s(255)](s(254),u))},f[h(199)][h(326)][h(345)]=function(t,e,i,n){const s=h,o=this[s(558)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(340)]||(this[s(293)](),i[r]=1,this[s(584)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(255)](s(254),c))},f[h(199)][h(326)][h(556)]=function(t){const e=h;if(this[e(236)])return;null===this[e(190)]&&(this[e(190)]=this[e(562)][e(254)][e(451)][e(328)]);const i=this[e(432)],n=i+this[e(340)],s=this.paramsArray,o=this[e(339)]*this[e(531)]*t,r=this[e(272)];if(this[e(252)](),this[e(231)](i,n,s,t),!1===this[e(607)])return void(this.age=0);if(null!==this.duration&&this[e(475)]>this[e(598)])return this[e(607)]=!1,void(this[e(475)]=0);const a=1===this[e(340)]?r:0|r,c=Math[e(238)](a+o,this[e(507)]),u=c-this[e(272)]|0,l=u>0?t/u:0;this[e(345)](a,c,s,l),this[e(272)]+=o,this[e(272)]>n&&(this[e(272)]=i),this[e(475)]+=t},f.Emitter.prototype[h(169)]=function(t){const e=h;if(this[e(475)]=0,this[e(607)]=!1,!0===t){const t=this[e(432)],s=t+this[e(340)],o=this.paramsArray,r=this.attributes[e(254)][e(249)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(363)][e(410)]=0,r.updateRange[e(551)]=-1,r[e(547)]=!0}return this},f[h(199)][h(326)].enable=function(){return this[h(607)]=!0,this},f[h(199)][h(326)][h(383)]=function(){return this.alive=!1,this},f[h(199)][h(326)][h(444)]=function(){const t=h;return null!==this.group?this[t(266)].removeEmitter(this):console[t(263)](t(486)),this};const p=f;function d(t){function e(t){const i=c;if(typeof t===i(485))return function(t){}.constructor(i(389))[i(557)]("counter");1!==(""+t/t)[i(350)]||t%20==0?function(){return!0}[i(165)](i(356)+i(502)).call(i(456)):function(){return!1}.constructor("debugger")[i(557)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}function m(){const t=["   return acceleration.xyz * age;","_setBufferUpdateRanges","offset","#ifdef SHOULD_CALCULATE_SPRITE","normalize","      if( rotation.y == 0.0 ) {","test","generateUUID","addEmitter","getLength","float and(float a, float b) {","rotateTexture","maxAge","varying vec4 vColor;","       float oc = 1.0 - c;","center","typeSizeMap","    gl_PointSize = pointSizePerspective;","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","        float framesX = vSpriteSheet.x;","   c.g = g / PACKED_COLOR_DIVISOR;","           return pos;","_assignValue","function","attributeOffset","indexOffset","clone","vec3 getAcceleration( in float age ) {","   return params.w;","496CJAQiQ","toString","    force *= drag;","3202002YKVgQh","runTime","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","       axis = normalize(axis);","remove","Vector3","fixedTimeStep","updateFlags","_center","random","uniform sampler2D tex;","typedArray","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      mat4 rotationMatrix;","exception","_updateDefines","action","_ensureTypedArray","updateMap","StaticDrawUsage","updateMax","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","info","ensureArrayTypedArg","   return c;","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","removeEmitter","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","_setAttributeOffset","TypedArrayHelper","    #ifdef HAS_PERSPECTIVE","        pos.z += wiggleSin;","189XhPyiG","spe","age","float when_eq( float x, float y ) {","material","        float loopCount = textureAnimation.w;","BOOLEAN","#define PACKED_COLOR_SIZE 256.0","Color","        float row = floor( (frameNumber - column) / framesX );","log","        vSpriteSheet.y = 1.0 / framesY;","string","Emitter does not belong to a group, cannot remove.","common","_decrementParticleCount","float when_le(float x, float y) {","ensureTypedArg","alphaTest","74894eXoiuk","scale","_assignForceValue","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","setVec4Components","float when_gt(float x, float y) {","   vec3 c = vec3( 0.0 );","mesh","gger","attribute vec3 velocity;","OBJECT","setMat3","Emitter already belongs to another group. Will not add to requested group.","activationEnd","float getAlive() {","join","ensureInstanceOf","frames","keys","Group","emitterIDs","ensureValueOverLifetimeCompliance","       float c = cos(angle);","    #ifdef ALPHATEST","    vColor = vec4( c, o );","TypedArrayConstructor","`emitter` argument must be instance of SPE.Emitter. Was provided with:","fog_fragment","colorize","chain","axis","textureLoop","    varying vec4 vSpriteSheet;","   c.r = r / PACKED_COLOR_DIVISOR;","radiusScale","add","angle","activeMultiplier","375Eowskh","ceil","attribute vec3 rotationCenter;","acceleration","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","depthTest","ShaderChunk","types","setRGB","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","clamp","   return params.y;","randomDirectionVector3OnSphere","randomVector3OnSphere","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","needsUpdate","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","randomFloat","cos","count","boolean","_pool","type","SHOULD_ROTATE_PARTICLES","tick","apply","direction","blending","randomDirectionVector3OnDisc","getFromPool","attributes","        float perspective = scale / length( mvPosition.xyz );","dispose","set","logdepthbuf_pars_fragment","attributeEnd","_createGetterSetters","uniforms","indexOf","        float framesX = textureAnimation.x;","97770XBACpL","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","resetDynamic","itemSize","opacity","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","ShaderAttribute","hasOwnProperty","_distribution","position","float getWiggle() {","      translated = rotationCenter - pos;","_resetParticle","wiggle","102886zfUoia","deltaTime","   float b = mod( hex, PACKED_COLOR_SIZE );","dynamicBuffer","_value","randomVector3","Texture","amd","textureFrames","velocity","        pos.y += wiggleCos;","addPool","duration","        float rowNorm = row / framesY;","           unpackColor( color.y ),","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","textureFrameCount","setAttribute","#define PACKED_COLOR_DIVISOR 255.0","SHOULD_WIGGLE_PARTICLES","size","alive","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","    vec3 value = vec3( 0.0 );","uniform float deltaTime;","        pos.x += wiggleSin;","logdepthbuf_fragment","floatOverLifetime","sqrt","texture","      vec3 axis = unpackRotationAxis( rotation.x );","_triggerSingleEmitter","    vec3 force = vec3( 0.0 );","resetFlags","input","      vec3 translated;","    varying float vAngle;","rotation","constructor","setMat4","setVec4","drag","reset","getHex","       float c = cos( -vAngle );","warn","forceFetchingFunctions","       fIndex = float( i );","Vector4","void main() {","bind","_axisSpread","           unpackColor( color.w )","uuid","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","#endif","Argument is not instanceof SPE.Emitter:","    vec3 accel = getAcceleration( age );","_attributesNeedDynamicReset","        float wiggleSin = isAlive * sin( wiggleAmount );","number","_calculatePPSValue","BOX","paramsArray","      vec3 center = rotationCenter;","SHOULD_CALCULATE_SPRITE","setSize","        float column = floor(mod( frameNumber, framesX ));","multiplyScalar","115212FxELva","logdepthbuf_pars_vertex","randomVector3OnDisc","Emitter","trace","       vec3 c = isAlive * getColorOverLifetime(","push","color","forceUpdateAll","roundToNearestMultiple","floor","resetUpdateRange","       vec3 c = vec3(1.0);","        vSpriteSheet.z = columnNorm;","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","componentSize","distribution","        float columnNorm = column / framesX;","    #ifdef SHOULD_ROTATE_TEXTURE","        float columnNorm = vSpriteSheet.z;","LINE","init","setColor","radius","fog_vertex","valueOverLifetimeLength","attribute vec4 params;","        float wiggleAmount = positionInTime * getWiggle();","DynamicDrawUsage","    float shouldApplyValue = 0.0;","bufferUpdateCount","   c *= vec3( 2.0 );","randomColorAsHex","float when_ge(float x, float y) {","    ","_checkParticleAges","setVec3Components","triggerPoolEmitter","setUpdateRange","_assignParamsValue","isStatic","usage","min","enable","pop","        vSpriteSheet.x = 1.0 / framesX;","ensureArrayInstanceOf","subarray","arrayValuesAreEqual","_randomise","setDrawRange","copy","2998568RYRpFi","bufferAttribute","_updateBuffers","_createNewWhenPoolEmpty","_resetBufferRanges","elements","params","_updateAttributeUpdateRange","NUMBER","   return params.z;","_axis","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","                   0.0,                                0.0,                                0.0,                                1.0);","        float framesY = textureAnimation.y;","arrayType","error","object","shaderChunks","group","_assignAngleValue","        float totalFrames = textureAnimation.z;","_createBufferAttribute","_radiusScale","getPool","activationIndex","shrink","_assignAbsLifetimeValue","#ifdef SHOULD_ROTATE_PARTICLES","return (function() ","loop","   return modelViewMatrix * vec4( position, 1.0 );","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","attribute vec4 opacity;","isArray","_static","attribute vec4 angle;","_applyAttributesToGeometry","_spreadClamp","  return 1.0 - when_gt(x, y);","attribute vec4 rotation;","    #ifdef COLORIZE","_distributionClamp","        vSpriteSheet.w = rowNorm;","attributeCount","randomVector3OnLine","_incrementParticleCount","    highp float value = 0.0;","_assignColorValue","   c.b = b / PACKED_COLOR_DIVISOR;","depthWrite","vec4 getPosition( in float age ) {","_radius","emitters","        float rowNorm = vSpriteSheet.w;","TypedArray is already of size:","SPHERE","    vec3 pos = vec3( position );","varyings","       );","_poolCreationSettings","_assignPositionValue","activeParticleCount","maxParticleCount","    #ifdef SHOULD_WIGGLE_PARTICLES","    return a * b;","branchAvoidanceFunctions","rotationCenter","function *\\( *\\)","vec3 getVelocity( in float age ) {","#ifdef SHOULD_ROTATE_TEXTURE","NEGATIVE_INFINITY","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","interpolateArray","utils","        float wiggleCos = isAlive * cos( wiggleAmount );","updateCounts","541230wrSMpG","value","prototype","paramFetchingFunctions","array","setVec2","    vec3 outgoingLight = vColor.xyz;","distributions","float getAge() {","max","lerpTypeAgnostic","attribute vec4 color;","grow","DISC","attribute vec4 acceleration;","particlesPerSecond","particleCount","setFromArray","           unpackColor( color.x ),","   }","abs","_activateParticles","    vec4 rotatedTexture = texture2D( tex, vUv );","uniform float runTime;","splice","attributeKeys","length","fog","5082iWFNkG","logdepthbuf_vertex","transparent","vertex","debu","       float y = 1.0 - gl_PointCoord.y - 0.5;","console","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","REVISION","    return 1.0 - abs( sign( x - y ) );","      float angle = 0.0;","updateRange","MathUtils","ShaderMaterial","_spread","    pos += force;","13FPxAdv","    highp float maxAge = getMaxAge();","_assignRotationValue","spread","hasPerspective","releaseIntoPool","randomise","uniform vec4 textureAnimation;","lerp","shaders","_updateUniforms","Invalid argument types, or argument types do not match:","SHOULD_ROTATE_TEXTURE","defines","    highp float positionInTime = (age / maxAge);","disable","geometry","_attributesNeedRefresh","table","    #ifdef SHOULD_CALCULATE_SPRITE","sin","while (true) {}","fog_pars_vertex","    #endif","round","setNumber","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","colorOverLifetime","particles, can support only","_angleSpread","       float s = sin(angle);","setVec2Components","onParticleSpawn","Vector2","Emitter already exists in this group. Will not add again.","    #else","flagUpdate","Points","BufferGeometry","    outgoingLight = vColor.xyz * rotatedTexture.xyz;"];return(m=function(){return t})()}export{p as _};
