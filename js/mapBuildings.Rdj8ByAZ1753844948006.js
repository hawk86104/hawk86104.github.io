import{z as o}from"./three-custom-shader-material.BXTsMY6R1753844948006.js";import"./HeightCorrection.Bq98L9tL1753844948006.js";import"./three-tile.B84c5OTl1753844948006.js";import"./@tweenjs.ULy8-5Ku1753844948006.js";/* empty css                                                                                    */import"./utils.CHwbJ-WG1753844948006.js";import{l as e,U as t,P as r,M as n,T as i,a,r as s}from"./raycasterEvent.Dv2M_4Km1753844948006.js";import"./index._H9EBOjP1753844948006.js";import{_ as u,a as c}from"./radraB.vue_vue_type_script_setup_true_lang.DK4MHUjb1753844948006.js";import{_ as l}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.BLq6CMpO1753844948006.js";import{_ as p}from"./fireA.vue_vue_type_script_setup_true_lang.CP8vEZMP1753844948006.js";import{_ as f}from"./fireB.vue_vue_type_script_setup_true_lang.B9bvwd4U1753844948006.js";import{_ as m}from"./smokeA.vue_vue_type_script_setup_true_lang.B1VsjoQt1753844948006.js";import{_ as d}from"./precipitation.vue_vue_type_script_setup_true_lang.CGL9qdgA1753844948006.js";import{_ as g}from"./cloudMesh.vue_vue_type_script_setup_true_lang.DPyDQjZ-1753844948006.js";import{_}from"./rippleMesh.vue_vue_type_script_setup_true_lang.sbZ5uh4N1753844948006.js";import{e as h,b as v,m as x}from"./@tresjs.DRasrl5q1753844948006.js";import{aL as W,V as w,cH as C,a9 as y,g as M,S as b,M as S,Q as j,az as P,cD as O,cE as B,cF as R,a3 as k,C as T,bI as z,cX as G,N as I,_ as U,ce as N,q}from"./three.EZPPomHU1753844948006.js";import{l as A}from"./utils.Deq4ukQN1753844948006.js";import{d as L,aa as Q,G as F,o as K,F as D,W as H,I as J,u as Z,b as X,a2 as Y,j as E,e as V,f as $,a5 as oo,v as eo,r as to,h as ro,m as no}from"./@vue.BzMISRrV1753844948006.js";import{T as io}from"./3d-tiles-renderer.BTJnvUgU1753844948006.js";import"./d3-geo.BvGeDK-n1753844948006.js";import"./d3-array.G5ptHY8Z1753844948006.js";import"./axios.DN9w_Qqy1753844948006.js";import"./axios.DLTVXJci1753844948006.js";import"./pinia.Dcj6ab2m1753844948006.js";import"./@fesjs.7Dni6qN91753844948006.js";import"./vue-router.Dji__t9R1753844948006.js";import"./lodash-es.C7pWAXPe1753844948006.js";import"./@qlin.q6OWdsQV1753844948006.js";import"./@babel.BPq7uOAK1753844948006.js";import"./@floating-ui.BFjFSAYt1753844948006.js";import"./@juggle.CcBCnTIR1753844948006.js";import"./color.CFO5E0s11753844948006.js";import"./@amap.CGUF9xH41753844948006.js";import"./color-string.DVaRXQvH1753844948006.js";import"./color-name.BQ5IbGbl1753844948006.js";import"./simple-swizzle.BLQOX9AF1753844948006.js";import"./is-arrayish.CLsR9Wfx1753844948006.js";import"./color-convert.CWjY8mXn1753844948006.js";import"./lodash.DDgjJWzF1753844948006.js";import"./@mapbox.B8uYRbGC1753844948006.js";import"./three-mesh-bvh.KW_QT8I91753844948006.js";import"./index.DEqibXLv1753844948006.js";import"./object-hash.LyrUsU7H1753844948006.js";import"./jszip.Tn6WdosQ1753844948006.js";import"./SPE.7okKfxUS1753844948006.js";import"./postprocessing.BwliAN0R1753844948006.js";import"./@vueuse.KQ9lc16w1753844948006.js";const ao={renderOrder:3e3},so=["args"],uo=["map","side","color"],co=L({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(o){let t,r;const n=o,{map:i}=([t,r]=Q((()=>v({map:"./plugins/digitalCity/image/line.png"}))),t=await t,r(),t);i.needsUpdate=!0,i.wrapS=i.wrapT=W,i.repeat.set(1,1);const a=([t,r]=Q((()=>A(n.geoJson))),t=await t,r(),t);let s=[];for(var u=0;u<a.length;u++){const o=a[u],t=[];o.geometry.coordinates.forEach((o=>{const r=e(o[0],o[1],50);t.push(new w(r[0],0,-r[1]))}));let r=n.color;r="primary"===o.properties.highway?"#7eff10":"tertiary"===o.properties.highway?"#0eeeee":"secondary"===o.properties.highway?"#ffffff":"#ff0ffe",s.push({cr3:new C(t),color:r})}const{onLoop:c}=h();return c((()=>{i.offset.x-=Math.random()/20*n.speed})),(o,e)=>(K(),F("TresGroup",null,[(K(!0),F(D,null,H(Z(s),(o=>(K(),F("TresMesh",ao,[J("TresTubeGeometry",{args:[o.cr3,64,n.radius,20,!1]},null,8,so),J("TresMeshBasicMaterial",{map:Z(i),side:Z(y),transparent:!0,color:o.color},null,8,uo)])))),256))]))}}),lo=o=>{o.onLoadTileSet=e=>{const t=new M,r=new b,n=new S;let i=null,a=0;o.getOrientedBounds(t,n)?(i=(new w).setFromMatrixPosition(n),a=i.length()):o.getBoundingSphere(r)&&(i=r.center.clone(),a=i.length());const s=i?.normalize(),u=((o,e)=>{const t=new j,r=(new w).crossVectors(o,e);return t.x=r.x,t.y=r.y,t.z=r.z,t.w=1+o.clone().dot(e),t.normalize(),t})(s,new w(0,1,0));o.group.quaternion.x=u.x,o.group.quaternion.y=u.y,o.group.quaternion.z=u.z,o.group.quaternion.w=u.w,o.group.position.z=-a}},po=["object","rotation"],fo=L({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(e){const t=e,r=X(0),n=new io("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");n.errorTarget=2,n.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{if(e.isMesh){(e=>{const{geometry:n}=e;n.computeBoundingBox(),n.computeBoundingSphere();const{max:i,min:a}=n.boundingBox,s=new o({baseMaterial:new z,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new T(t.bulidingsColor)},uOpacity:{value:t.opacity},uLightColor:{value:new T("#ffffff")},uTopColor:{value:new T(t.topColor)},uTime:r,uGradient:{value:t.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:k});e.material.dispose(),e.material=s})(e),e.receiveShadow=!1,e.castShadow=!1;const n=new P(e.geometry.clone());let i=(new O).fromEdgesGeometry(n),a=new B({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const s=new R(i,a);s.applyMatrix4(e.matrix.clone()),e.parent.add(s)}}));const i=new M,a=new b;n.getBoundingBox(i)?(i.getCenter(n.group.position),n.group.position.multiplyScalar(-1)):n.getBoundingSphere(a)&&(n.group.position.copy(a.center),n.group.position.multiplyScalar(-1))})),lo(n);const{renderer:i,sizes:a}=x();Y((()=>{a.width.value&&(n.setCamera(t.camera),n.setResolutionFromRenderer(t.camera,i.value))}));const{onBeforeLoop:s}=h();return s((({delta:o})=>{r.value+=2*o,t.camera&&a.width.value&&(t.camera.updateMatrixWorld(),n.update())})),(o,e)=>(K(),F("TresGroup",null,[J("primitive",{object:Z(n).group,rotation:[-Math.PI/2,0,0]},null,8,po)]))}}),mo=["object","rotation"],go=L({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(o,{expose:e}){const s=o,{renderer:u,scene:c}=x(),l=new r;l.coordType=t;const p=new n;p.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",p.showTileNo=!1,p.useWorker=!0;const f=new i(l,p);f.showBoundingBox=!1,f.wireframe=!1,f.flatShading=!1,f.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let m=new T("#4688b5");f.filter.monochrome={r:m.r,g:m.g,b:m.b};const d=new a;d.provider=f,d.bbox=s.bbox,d.maxZoom=s.maxZoom,s.camera.up=new w(0,1,0),s.camera.position.set(s.mapCenter[0],s.mapCenter[2],2e3-s.mapCenter[1]),s.camera.lookAt(new w(s.camera.position.x,0,s.camera.position.z-3e3)),d.camera=s.camera;let g=null;Y((()=>{u.value&&(g=new G(s.camera,u.value.domElement),g.enableDamping=!0,g.dampingFactor=.05,g.minDistance=600,g.position0.set(s.camera.position.x,s.camera.position.y,s.camera.position.z),g.target.set(s.camera.position.x,0,s.camera.position.z-2e3))}));const{onLoop:_}=h();return _((()=>{if(u.value){const o=50*Math.abs(s.camera.position.y);s.camera.far=o+5e3,s.camera.updateProjectionMatrix(),g&&(g.update(),g.target.y=0),d.update(),u.value.render(c.value,s.camera)}})),e({camera:s.camera,map:d}),(o,e)=>(K(),F("primitive",{object:Z(d),rotation:[-Math.PI/2,0,0]},null,8,mo))}});function _o(o,e){var t=wo();return _o=function(e,r){var n=t[e-=201];if(void 0===_o.TyuMBH){var i=function(o){for(var e,t,r="",n="",a=r+i,s=0,u=0;t=o.charAt(u++);~t&&(e=s%4?64*e+t:t,s++%4)?r+=a.charCodeAt(u+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var c=0,l=r.length;c<l;c++)n+="%"+("00"+r.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(n)};_o.ucWqyM=function(o,e){var t,r,n=[],a=0,s="";for(o=i(o),r=0;r<256;r++)n[r]=r;for(r=0;r<256;r++)a=(a+n[r]+e.charCodeAt(r%e.length))%256,t=n[r],n[r]=n[a],n[a]=t;r=0,a=0;for(var u=0;u<o.length;u++)a=(a+n[r=(r+1)%256])%256,t=n[r],n[r]=n[a],n[a]=t,s+=String.fromCharCode(o.charCodeAt(u)^n[(n[r]+n[a])%256]);return s},o=arguments,_o.TyuMBH=!0}var a=e+t[0],s=o[a];if(s)n=s;else{if(void 0===_o.Pghelw){var u=function(o){this.OUFuYg=o,this.rRxBAO=[1,0,0],this.SUfMCO=function(){return"newState"},this.WDCOVM="\\w+ *\\(\\) *{\\w+ *",this.yNAzIG="['|\"].+['|\"];? *}"};u.prototype.EhiCZG=function(){var o=new RegExp(this.WDCOVM+this.yNAzIG).test(this.SUfMCO.toString())?--this.rRxBAO[1]:--this.rRxBAO[0];return this.nggrWr(o)},u.prototype.nggrWr=function(o){return Boolean(~o)?this.qPBQwT(this.OUFuYg):o},u.prototype.qPBQwT=function(o){for(var e=0,t=this.rRxBAO.length;e<t;e++)this.rRxBAO.push(Math.round(Math.random())),t=this.rRxBAO.length;return o(this.rRxBAO[0])},new u(_o).EhiCZG(),_o.Pghelw=!0}n=_o.ucWqyM(n,r),o[a]=n}return n},_o(o,e)}!function(){function o(o,e,t,r,n){return _o(n- -87,e)}function e(o,e,t,r,n){return _o(o- -441,t)}var t,r,n,i,a=wo();function s(o,e,t,r,n){return _o(o-223,r)}for(;;)try{if(626922===-parseInt(s(482,0,0,"G](e"))/1*(parseInt(s(469,0,0,"[x01"))/2)+parseInt(o(0,"eYrd",0,0,162))/3*(parseInt(e(-177,0,"@87o"))/4)+parseInt(s(474,0,0,"ew^G"))/5+-parseInt(o(0,"J2^O",0,0,185))/6+-parseInt((n="@Y05",i=-264,_o(i- -481,n)))/7*(-parseInt((t=1110,r="OC8U",_o(t-848,r)))/8)+-parseInt(e(-200,0,"n@cN"))/9+-parseInt(s(489,0,0,"CD!8"))/10)break;a.push(a.shift())}catch(u){a.push(a.shift())}}();var ho,vo=(ho=!0,function(o,e){function t(o,e,t,r,n){return _o(n-582,r)}function r(o,e,t,r,n){return _o(r-404,o)}if(t(0,0,0,"l0$c",795)===t(0,0,0,"G](e",832)){var n=_0x1a372c?function(){if(_0x341f15){var o=_0x3eb795[(e=489,t="OC8U",r(t,0,0,e- -160))](_0x256877,arguments);return _0x898df3=null,o}var e,t}:function(){};return _0x558bd5=!1,n}var i=ho?function(){function n(o,e,r,n,i){return t(0,0,0,n,r-121)}function i(o,e,t,n,i){return r(t,0,0,e- -907)}if(n(0,0,941,"SU!(")!==n(0,0,906,"CD!8")){if(e){if(n(0,0,923,"SpWg")===n(0,0,927,"4iCo")){var a=e[(l="4SZZ",p=1105,t(0,0,0,l,p-319))](o,arguments);return e=null,a}var s=_0xf770cc[i(0,-246,"v6Vh")][(f=-551,m="[6)8",t(0,0,0,m,f- -1352))].bind(_0x2ca1de),u=_0xad2b54[_0x57cb7b],c=_0x186b61[u]||s;s[n(0,0,910,"OC8U")]=_0x1b637c.bind(_0x14d101),s[i(0,-256,"CD!8")]=c[n(0,0,933,"K2SK")].bind(c),_0x3b907d[u]=s}}else _0x3d452d=_0xdc2a3e;var l,p,f,m}:function(){};return ho=!1,i})(void 0,(function(){function o(o,e,t,r,n){return _o(n-413,e)}return vo[o(0,"M5aD",0,0,619)]()[o(0,"3cQ1",0,0,673)]("(((.+)+)+)+$")[(e=976,t="D&rX",_o(e-737,t))]()[o(0,"J*Y3",0,0,680)](vo).search(_o(678-424,"nSP&"));var e,t}));vo();var xo,Wo=(xo=!0,function(o,e){function t(o,e,t,r,n){return _o(r- -513,n)}function r(o,e,t,r,n){return _o(e- -603,o)}if("FCHvV"!==r("6$2Q",-345)){var n=xo?function(){function r(o,e,r,n,i){return t(0,0,0,i-1176,o)}function n(o,e,r,n,i){return t(0,0,0,n-751,o)}function i(o,e,r,n,i){return t(0,0,0,e-1084,r)}function a(o,e,r,n,i){return t(0,0,0,e-777,o)}if(i(0,836,"3cQ1")===n("M5aD",0,0,482))return _0x23f2df[a("mI@&",507)]()[r("J#W3",0,0,0,916)]("(((.+)+)+)+$")[i(0,800,"Bxbq")]()[r("6$2Q",0,0,0,895)](_0xb165f3).search(r("w7ui",0,0,0,924));if(e){if(i(0,776,"cQ@w")===a("3cQ1",473)){var s=e[a("SU!(",498)](o,arguments);return e=null,s}if(_0x263b8c){var u=_0x43a870[n("7G4B",0,0,474)](_0x1d5189,arguments);return _0x3d65d0=null,u}}}:function(){};return xo=!1,n}if(_0x1c5ab4){var i=_0x1e414d[r("J#W3",-401)](_0x146bd3,arguments);return _0x1b3ccb=null,i}});function wo(){var o=["gY3cQCo0W78","zgJdSmkkWQnOWPXqiL7cGZ9w","umolmaHCW4KOgZhcHa","vSo9dXvy","ArKQwmoX","xmkRq3Dq","bdBcUIPO","kvVcLNWUWRxdQSoY","uSkSW7JdL8o4eSoCWR0S","dmkzDKXFmgi","wgmVW5Xb","W5aIf3Xe","W4BcMmklWOfjuHdcNq","WRPYA2ddNG","W6RcOSosCfq","vSkUf8o0sJ4zoa","qmkHFHe","ecpcUdvE","qmopWPq5iZNcTa","W6ZcHmo8v38","ou3cLSklssumeae","hSkICxnd","of7cHNWx","Ft9Bk3K","bh3cOf42","fMNdTSo6W7O","wCk1pHBcKCo8W6NcSxKUkeBcGSkbWPnneNFcTSkuW5ytWQRcRKFdQMLzW5iUlSoy","WRe9cZ7cJ8kk","W6XrWP/dOwqJr8oMrq","umogpW4NWQHqmapcIfa5aa","W5NcIrtcIM8vp2u","WPZdNSowaeXgwe8","d8o/AdZdHa","zttdMNBdIGRcLruvW712","WPRcLttcMxi3gG","WRWOftxcGG","FCk9W7RdRSoq","W5qGfx9p","WOFdKCk4jW","WO40lcJcKa","oCouFZNdVs5iWRe","WQRdT8ozWOv/WPFcOXhcL1tcUSo+WRS","f8o6iKtdI8kRWQNcGeezh1FcMG","W5ZdJ07cNsW","WORcOK7dM8kLBMOx","o13cN04K","BmkdW7JdICoU","W5BcJSoNCCoQW4yGgSoIWPRcTCk6","saC2DCovrCkAea","WQP1WRXoW7PiAvFdIaxdSKC","cvDmW5xdQCkcFCooWOfiWP0","W4ddHuFcGZS","W6FcS8kfWQv7W5rhdeVcTmkMW6FcUq","W7GZW70qWRm","rmoOhGTcrW","W7mQmYlcJmopfmkKpSkfWRCN","WPJcTSoXW5pcRmo5CmkhsYVcUSkXWPe","mtdcPSomW7O1W4K","W6JcOKKoWP1tW7hdTCoFW5tdUG","FaRdUftdSW","WOhdRgxcKGKmAa","tLuiW4zxW7O","oxbkAuXNW6BcUSkkb8ozvq","nCohWR7cK8kNvCkbWOqeWPjyWQddJW","WPfIWRKeWQtcISkwtw8fWQ8","WO44W7tdMI5Elbm","E2GXW4br","bffCmCoSFSk+oSkxdG","er3cNgRdUKLhW4dcVCoMWPK","WPJdLxhdJsPjzgGfWP8fW7ddGq","WR43cYRcLmkoW60","zCkRBmoU"];return(wo=function(){return o})()}Wo(void 0,(function(){var o=function(){function o(o,e,t,r,n){return _o(n- -426,o)}function e(o,e,t,r,n){return _o(o-900,n)}function t(o,e,t,r,n){return _o(e-211,t)}if("fInLY"===o("M5aD",0,0,0,-203)){var r=_0x153302[o("7G4B",0,0,0,-190)](_0x4e2690,arguments);return _0x5a1fd6=null,r}var n;try{e(1131,0,0,0,"D&rX")!==t(0,446,"OC8U")?n=Function('return (function() {}.constructor("return this")( ));')():_0x5f4d1a=_0x4877c5("return (function() "+t(0,436,"n@cN")+");")()}catch(a){if(t(0,427,"cQ@w")===e(1142,0,0,0,"G](e")){var i=_0x27c977?function(){if(_0x40a2fc){var o=_0x2efd69[(e=-496,r="Wsvt",t(0,e- -959,r))](_0x45137f,arguments);return _0x44559b=null,o}var e,r}:function(){};return _0x3d7413=!1,i}n=window}return n}();function e(o,e,t,r,n){return _o(n-987,r)}function t(o,e,t,r,n){return _o(e- -406,r)}var r=o[n(716,711,682,738,"SU!(")]=o[a(1104,"J2^O",1076,1092)]||{};function n(o,e,t,r,n){return _o(o-447,n)}function i(o,e,t,r,n){return _o(o-796,e)}function a(o,e,t,r,n){return _o(r-836,e)}for(var s=["log",t(0,-136,0,"YWgR"),"info",a(0,"7G4B",0,1046),"exception",t(0,-188,0,"l0$c"),i(1018,"z1MY")],u=0;u<s[e(0,0,0,"SU!(",1213)];u++){if(n(718,0,0,0,"J2^O")===t(0,-185,0,"M5aD")){var c=_0x5c1275[n(659,0,0,0,"nSP&")](_0x4ccd4a,arguments);return _0x20f8f8=null,c}var l=Wo[e(0,0,0,"8%mO",1250)][n(674,0,0,0,"bbUG")][a(0,"n@cN",0,1051)](Wo),p=s[u],f=r[p]||l;l.__proto__=Wo.bind(Wo),l.toString=f[i(1007,"nYY0")][a(0,"[x01",0,1073)](f),r[p]=l}}))();const Co=L({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(o){const t=e(113.9456,22.5385,50),r=e(113.9498,22.5364,50);return(o,e)=>(K(),F(D,null,[E(Z(u),{color:"#00c0ff",radius:300,size:300,position:[o.cPosition[0],8,-o.cPosition[1]]},null,8,["position"]),(K(),V(oo,null,{default:$((()=>[E(Z(l),{position:[o.cPosition[0],8,-o.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),E(Z(c),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(K(),V(oo,null,{default:$((()=>[E(Z(l),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(K(),V(oo,null,{default:$((()=>[E(Z(p),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[o.cPosition[0]+280,1,120-o.cPosition[1]]},null,8,["position"])])),_:1})),(K(),V(oo,null,{default:$((()=>[E(Z(f),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(K(),V(oo,null,{default:$((()=>[E(Z(m),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(K(),V(oo,null,{default:$((()=>[E(Z(d),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[o.cPosition[0],300,-o.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(K(),V(oo,null,{default:$((()=>[E(Z(g),{cPosition:[o.cPosition[0],600,-o.cPosition[1]]},null,8,["cPosition"])])),_:1})),E(Z(_),{"position-y":6,positionSrc:[{x:Z(t)[0],y:-Z(t)[1]},{x:Z(t)[0],y:-Z(r)[1]},{x:Z(r)[0],y:-Z(r)[1]},{x:Z(r)[0],y:-Z(t)[1]},{x:Z(t)[0],y:-Z(t)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(K(),V(oo,null,{default:$((()=>[E(Z(co),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),yo=L({__name:"mapBuildings",setup(o){const t=e(113.942639739199,22.53171672540276,50),r=eo(),n=to({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:N,outputColorSpace:U,toneMapping:I}),i=[t[0],t[1],1700],a=new q(60,window.innerWidth/window.innerHeight,1,1e8);return(o,e)=>{const u=ro("TresCanvas");return K(),F(D,null,[E(u,no(n,{"window-size":""}),{default:$((()=>[e[0]||(e[0]=J("TresAmbientLight",{color:"#ffffff"},null,-1)),e[1]||(e[1]=J("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),E(Z(fo),{position:[Z(t)[0],1,228-Z(t)[1]],camera:Z(a)},null,8,["position","camera"]),(K(),V(oo,null,{default:$((()=>[E(Z(go),{ref_key:"tileMapBuildingsMeshRef",ref:r,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:Z(a)},null,8,["camera"])])),_:1})),(K(),V(oo,null,{default:$((()=>[E(Co,{cPosition:Z(t)},null,8,["cPosition"])])),_:1})),e[2]||(e[2]=J("TresGridHelper",{args:[1e4,10]},null,-1)),e[3]||(e[3]=J("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),E(s,{tileMapRef:r.value},null,8,["tileMapRef"])],64)}}});export{yo as default};
