import{c1 as n,ak as t,am as e,C as o,aX as a,c as r}from"./three.8y0_KTxz1741594518249.js";import{e as s,I as i,K as c,o as l}from"./@tresjs.gjafZgVK1741594518249.js";import{d as u,b as f,w as m,e as p,o as d,H as h,j as g,u as v,g as w,N as M,aj as P,ak as y,F as C}from"./@vue.NRI7TcgI1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";const b=j;!function(n,t){const e=j,o=T();for(;;)try{if(406546===parseInt(e(177))/1+-parseInt(e(209))/2*(parseInt(e(226))/3)+-parseInt(e(210))/4*(parseInt(e(196))/5)+parseInt(e(201))/6*(-parseInt(e(223))/7)+-parseInt(e(213))/8+parseInt(e(228))/9+parseInt(e(186))/10*(parseInt(e(180))/11))break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[j(190)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){x(this,(function(){const n=j,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(215),"i"),o=_("init");t[n(220)](o+n(194))&&e[n(220)](o+n(187))?_():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[j(190)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();z(void 0,(function(){const n=j;let t;try{t=Function("return (function() "+n(178)+");")()}catch(a){t=window}const e=t.console=t.console||{},o=["log","warn","info",n(229),n(193),"table",n(218)];for(let r=0;r<o[n(200)];r++){const t=z[n(208)].prototype[n(197)](z),a=o[r],s=e[a]||t;t[n(191)]=z.bind(z),t.toString=s.toString[n(197)](s),e[a]=t}}))();const S=[b(206),b(179),b(189),"a-randomness"];function T(){const n=["forEach","test","radius","lerp","1268309BeICgL","aScale","#1b3984","3dbSFUR","branches","1377324CuwscL","error","value","aRandomness","stateObject","cos","TresBufferGeometry","debu","TresPoints","312271gSZzXX",'{}.constructor("return this")( )',"a-scale","33veJeZR","geometry","bufferRef","gger","outsideColor","count","4803450gLZIrE","input","randomnessPower","color","apply","__proto__","random","exception","chain","TresPerspectiveCamera","9130KqTqMu","bind","black","insideColor","length","6FjDmxP","setAttribute","sin","uTime","material","position","TresShaderMaterial","constructor","660306qBfipT","1588rNvPOF","size","#b5f28d","2108272gSYjtT","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","TresCanvas","trace"];return(T=function(){return n})()}function j(n,t){const e=T();return(j=function(n,t){return e[n-=175]})(n,t)}const I=u({__name:"galaxy",setup(u){const x=b,z={clearColor:x(198),shadows:!0,alpha:!1,shadowMapType:n,outputColorSpace:t,toneMapping:e,windowSize:!0},T={count:3e4,size:20,radius:5,branches:5,spin:4,randomness:.13,randomnessPower:7.5,insideColor:x(212),outsideColor:x(225)},j=new o(T[x(199)]),I=new o(T[x(184)]),_=new Float32Array(3*T[x(185)]),F=new Float32Array(3*T[x(185)]),A=new Float32Array(T[x(185)]),R=new Float32Array(3*T[x(185)]);for(let n=0;n<T[x(185)];n++){const t=3*n,e=Math.random()*T[x(221)],o=n%T[x(227)]*Math.PI*2/T[x(227)];_[t]=Math[x(233)](o)*e,_[t+1]=0,_[t+2]=Math[x(203)](o)*e;const a=Math[x(192)]()**T[x(188)]*(Math[x(192)]()<.5?-1:1),r=Math.random()**T.randomnessPower*(Math[x(192)]()<.5?-1:1),s=Math[x(192)]()**T[x(188)]*(Math[x(192)]()<.5?-1:1);R[t]=a,R[t+1]=r,R[t+2]=s;const i=j.clone();i[x(222)](I,e/T[x(221)]),F[t+0]=i.r,F[t+1]=i.g,F[t+2]=i.b,A[n]=Math[x(192)]()}const k={transparent:!0,depthWrite:!1,blending:a,vertexColors:!0,vertexShader:"uniform float uSize;\nuniform float uTime;\n\nattribute float aScale;\nattribute vec3 aRandomness;\n\nvarying vec3 vColor;\n\nvoid main() {\n    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n    \n    float angle = atan(modelPosition.x, modelPosition.z);\n    float distanceToCenter = length(modelPosition.xz);\n    float angleOffset = (1.0 / distanceToCenter) * uTime * 0.2;\n    angle += angleOffset;\n\n    modelPosition.x = distanceToCenter * cos(angle);\n    modelPosition.z = distanceToCenter * sin(angle);\n\n    \n    modelPosition.xyz += aRandomness;\n\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectedPosition = projectionMatrix * viewPosition;\n    gl_Position = projectedPosition;\n\n    gl_PointSize = uSize * aScale;\n\n    \n    gl_PointSize *= ( 1.0 / - viewPosition.z);\n\n    \n    vColor = color;\n\n}",fragmentShader:"varying vec3 vColor;\n\nvoid main()\n{\n    \n    float strength = distance(gl_PointCoord, vec2(0.5));\n    strength = 1.0 - strength;\n    strength = pow(strength, 5.0);\n\n    \n    vec3 color = mix(vec3(0.0), vColor, strength);\n    gl_FragColor = vec4(color, 1.0);\n}",uniforms:{uTime:{value:0},uSize:{value:T[x(211)]}}};const O=f(null),{onLoop:Z}=s();Z((({elapsed:n})=>{const t=x;O[t(230)]&&(O[t(230)][t(205)].uniforms[t(204)].value=n)}));const{count:E,size:L,radius:q,branches:B,spin:X,randomness:K,randomnessPower:N,insideColor:$,outsideColor:D}=i({count:{value:3e4,min:0,max:1e5,step:1},size:{value:20,min:.01,max:40,step:1},radius:{value:5,min:.1,max:20,step:.01},branches:{value:5,min:2,max:10,step:1},spin:{value:4,min:-5,max:5,step:.01},randomness:{value:.13,min:.1,max:.2,step:.01},randomnessPower:{value:7.5,min:1,max:10,step:.001},insideColor:x(212),outsideColor:x(225)});return m([E[x(230)],L[x(230)],q[x(230)],B[x(230)],X.value,K.value,N[x(230)],$[x(230)],D[x(230)]],(n=>{n[x(219)](((n,t)=>{T[Object.keys(T)[t]]=n.value})),function(){const n=x;if(O[n(230)]){const t=new o(T[n(199)]),e=new o(T[n(184)]),a=new Float32Array(3*T[n(185)]),s=new Float32Array(3*T.count),i=new Float32Array(T.count),c=new Float32Array(3*T[n(185)]);for(let o=0;o<T[n(185)];o++){const r=3*o,l=Math[n(192)]()*T[n(221)],u=o%T[n(227)]*Math.PI*2/T.branches;a[r]=Math[n(233)](u)*l,a[r+1]=0,a[r+2]=Math[n(203)](u)*l;const f=Math[n(192)]()**T[n(188)]*(Math[n(192)]()<.5?-1:1),m=Math[n(192)]()**T[n(188)]*(Math[n(192)]()<.5?-1:1),p=Math[n(192)]()**T[n(188)]*(Math[n(192)]()<.5?-1:1);c[r]=f,c[r+1]=m,c[r+2]=p;const d=t.clone();d[n(222)](e,l/T[n(221)]),s[r+0]=d.r,s[r+1]=d.g,s[r+2]=d.b,i[o]=Math[n(192)]()}O[n(230)].geometry.setAttribute("position",new r(a,3)),O[n(230)][n(181)][n(202)](n(231),new r(c,3)),O[n(230)].geometry[n(202)](n(189),new r(s,3)),O[n(230)][n(181)][n(202)](n(224),new r(i,1))}}()})),(n,t)=>{const e=x,o=p(e(217));return d(),h(C,null,[g(v(c)),g(o,P(y(z)),{default:w((()=>[t[0]||(t[0]=M(e(195),{position:[3,3,3]},null,-1)),M(e(176),{ref_key:e(182),ref:O},[M(e(234),{position:[v(_),3],"a-scale":[v(A),1],color:[v(F),3],"a-randomness":[v(R),3]},null,8,S),M(e(207),P(y(k)),null,16)],512),g(v(l))])),_:1},16)],64)}}});function _(n){function t(n){const e=j;if(typeof n===e(216))return function(n){}[e(208)](e(214)).apply("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(208)](e(175)+e(183)).call("action"):function(){return!1}.constructor(e(175)+e(183))[e(190)](e(232)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{I as default};
