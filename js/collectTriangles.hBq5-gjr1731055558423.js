import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.KsuCtVXf1731055558423.js";import{_ as s}from"./index.VH5-FaYo1731055558423.js";import{a8 as i,_ as c,k as u,a,cG as l}from"./three.3b9CEYeV1731055558423.js";import{P as p}from"./tweakpane.yHWGBmom1731055558423.js";import{I as f,C as m,N as g,c as h,d,a as y}from"./three-mesh-bvh.7zTu_jjo1731055558423.js";import{d as w,a6 as j,b,a3 as I,o as v,D as _,J as x,u as z,F as M,r as T,e as C,j as S,g as k,m as A,f as B,al as O}from"./@vue.u2cBPEWn1731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";import"./index.37VdKdPu1731055558423.js";import"./@fesjs.yotB665w1731055558423.js";import"./vue-router.IFFB8cPj1731055558423.js";import"./lodash-es.guXTxyfJ1731055558423.js";import"./@qlin.yHhFDldE1731055558423.js";import"./pinia.c8BQk2fm1731055558423.js";import"./vue-demi.C4xddsk91731055558423.js";import"./@floating-ui.BPbuo5Gx1731055558423.js";import"./@juggle.7yjBMqoW1731055558423.js";import"./chalk.sAH7iSuz1731055558423.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1731055558423.js";import"./@iconify.3mYF4lU71731055558423.js";import"./dompurify.rQUea5mq1731055558423.js";import"./utils.vjDk1ue21731055558423.js";import"./default.vue_vue_type_script_setup_true_lang.vMC4iUjU1731055558423.js";import"./three-mesh-ui.module.pSavuTn61731055558423.js";!function(t,n){const e=L,r=E();for(;;)try{if(941170===parseInt(e(505))/1*(-parseInt(e(520))/2)+-parseInt(e(523))/3+-parseInt(e(516))/4*(parseInt(e(499))/5)+-parseInt(e(531))/6+parseInt(e(515))/7*(parseInt(e(511))/8)+-parseInt(e(506))/9*(parseInt(e(508))/10)+-parseInt(e(535))/11*(-parseInt(e(513))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(492)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function E(){const t=["152jxLSvz","trace","16332FymXIa","console","420063hnHbTN","266356mWICka","setFromCamera","enabled","function *\\( *\\)","2PNKzHL","info","debu","246153xDUDrY","bind","gger","constructor","firstHitOnly","value","table","innerWidth","10837806rmitvt","action","while (true) {}","error","25927iwvVMO","prototype","clientY","pointermove","__proto__","apply","return (function() ",'{}.constructor("return this")( )',"init","toString","innerHeight","input","60XfaVVQ","pointerType","warn","intersectObject","call","pointerdown","520958QGbqCq","90NIfpgw","test","198500nJLzCv","length","clientX"];return(E=function(){return t})()}!function(){Z(this,(function(){const t=L,n=new RegExp(t(519)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=X(t(495));n.test(r+"chain")&&e[t(507)](r+t(498))?X():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(492)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();F(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(493)+t(494)+");")()}catch(e){n=window}return n}(),e=n[t(514)]=n.console||{},r=["log",t(501),t(521),t(534),"exception",t(529),t(512)];for(let o=0;o<r[t(509)];o++){const n=F[t(526)][t(536)][t(524)](F),s=r[o],i=e[s]||n;n[t(539)]=F[t(524)](F),n[t(496)]=i[t(496)].bind(i),e[s]=n}}))();function L(t,n){const e=E();return(L=function(t,n){return e[t-=492]})(t,n)}function X(t){function n(t){const e=L;if("string"==typeof t)return function(t){}[e(526)](e(533))[e(492)]("counter");1!==(""+t/t)[e(509)]||t%20==0?function(){return!0}[e(526)](e(522)+e(525))[e(503)](e(532)):function(){return!1}[e(526)](e(522)+"gger")[e(492)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=D;!function(t,n){const e=D,r=G();for(;;)try{if(790334===parseInt(e(387))/1*(parseInt(e(361))/2)+parseInt(e(331))/3+parseInt(e(339))/4*(-parseInt(e(368))/5)+-parseInt(e(319))/6+parseInt(e(379))/7+-parseInt(e(390))/8+parseInt(e(336))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(363)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function D(t,n){const e=G();return(D=function(t,n){return e[t-=303]})(t,n)}!function(){R(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(397),"i"),r=Q("init");n[t(355)](r+t(338))&&e[t(355)](r+"input")?Q():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(363)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(){const t=["controls","point","disposeBoundsTree","DynamicDrawUsage","instance","position","log","call","intersectObject","model","raycast","push","intersectsSphere","Sphere","test","error","counter","radius","getY","setX","1318gQhGyd","firstHitOnly","apply","console","MeshStandardMaterial","getX","gger","1584635HnIjDC","geometry","Matrix4","setFromCamera","visible","color","attributes",'{}.constructor("return this")( )',"active","enabled","TresMesh","6846077OSTBbj","生成模型","targetMesh","normal","shapecast","__proto__","Mesh","Vector3","25BgocZu","computeBoundsTree","applyMatrix4","403624pIzfZo","BufferAttribute","value","set","scale","setY","TresMeshStandardMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","constructor","count","addButton","index","targetMesh.value init","invert","trace","copy","#023249","while (true) {}","containsPoint","brushMesh","string","needsUpdate","getZ","6237864uSozHS","info","setUsage","click","return (function() ","material","TresSphereGeometry","prototype","table","toString","bind","setAttribute","2464485YLQJqp","warn","fill","matrixWorld","debu","3432393KLdyMB","BufferGeometry","chain","4mIscCk","boundsTree"];return(G=function(){return t})()}U(void 0,(function(){const t=D;let n;try{n=Function(t(323)+t(375)+");")()}catch(o){n=window}const e=n[t(364)]=n[t(364)]||{},r=[t(347),t(332),t(320),t(356),t(303),t(327),t(310)];for(let s=0;s<r.length;s++){const n=U.constructor[t(326)][t(329)](U),o=r[s],i=e[o]||n;n[t(384)]=U[t(329)](U),n.toString=i[t(328)][t(329)](i),e[o]=n}}))();const P=[H(369),H(324)],Y=[H(369)],q=w({__name:H(350),props:{controls:{}},async setup(r){const o=H;let s,w;const T=r;(()=>{const t=D;c[t(337)][t(326)].computeBoundsTree=h,c[t(337)].prototype[t(343)]=d,c[t(385)][t(326)][t(351)]=y})();const C=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),S=new(c[o(365)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*C[o(374)][o(346)][o(305)]);k[o(333)](255);const A=new(c[o(391)])(k,3,!0);A[o(321)](c[o(344)]),C[o(330)](o(373),A);const B=b(null),O=b(null),Z=b(!1),E=b(-1),F=b(.2),X=new u,{camera:R,raycaster:U}=t(),G=15/255,q=78/255,Q=85/255;let $=null;I((()=>{const t=o;B[t(392)]&&(console[t(347)](t(308),B[t(392)]),B[t(392)][t(369)][t(388)](),$=C[t(340)],((t,n,e,r,o,s)=>{const c=L;window.addEventListener(c(538),(e=>{const r=c;t.x=e[r(510)]/window[r(530)]*2-1,t.y=-e[r(537)]/window.innerHeight*2+1,n.value=!0})),window.addEventListener(c(504),(u=>{const a=c;t.x=u[a(510)]/window[a(530)]*2-1,t.y=-u[a(537)]/window[a(497)]*2+1,r[a(528)]=u.button;const l=new i;l[a(517)](t,e[a(528)]),l[a(527)]=!0;const p=l[a(502)](o[a(528)],!0);n[a(528)]=!0,s[a(518)]=0===p.length}),!0),window.addEventListener("pointerup",(t=>{const e=c;r[e(528)]=-1,"touch"===t[e(500)]&&(n[e(528)]=!1)}),!0)})(X,Z,R,E,B,T.controls[t(345)]))}));const{onLoop:V}=n();V((()=>{const t=o,n=C[t(307)];if(O[t(392)])if(T[t(341)][t(345)][t(376)]||!Z[t(392)])O[t(392)][t(372)]=!1;else{O[t(392)][t(394)].setScalar(F[t(392)]),U[t(392)][t(371)](X,R[t(392)]),U.value[t(362)]=!0;const e=U[t(392)][t(349)](B.value,!0);if(e.length){O[t(392)][t(346)][t(311)](e[0][t(342)]),T[t(341)][t(345)][t(377)]=!1,O[t(392)][t(372)]=!0;const r=new(c[t(370)]);r.copy(B[t(392)][t(334)])[t(309)]();const o=new(c[t(354)]);o.center[t(311)](O[t(392)].position)[t(389)](r),o[t(358)]=100*F[t(392)];const s=[],i=new(c[t(386)]);if(null==$||$[t(383)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i[e(393)](0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o[e(314)](i))return f;return m}return r?f:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(353)](o)){const t=3*e;s[i(352)](t,t+1,t+2)}return!1}}),0===E[t(392)]||2===E.value){let e=1,r=1,o=1;0===E[t(392)]&&(e=G,r=q,o=Q);for(let i=0,c=s.length;i<c;i++){const c=n[t(366)](s[i]);A[t(360)](c,e),A[t(395)](c,r),A.setZ(c,o)}A[t(317)]=!0}}else O[t(392)][t(372)]=!1,T[t(341)][t(345)][t(377)]=!0}}));const J=(new p)[o(306)]({title:"点击按钮",label:o(380)}),N=new(c[o(337)]);return J.on(o(322),(()=>{const t=o,n=[],e=[];for(let o=0;o<A[t(305)];o++)A[t(366)](o)===G&&A[t(359)](o)===q&&A[t(318)](o)===Q&&(n[t(352)](C[t(374)][t(346)].getX(o),C[t(374)][t(346)].getY(o),C.attributes[t(346)][t(318)](o)),e[t(352)](C.attributes[t(382)][t(366)](o),C[t(374)][t(382)][t(359)](o),C[t(374)].normal[t(318)](o)));const r=new Float32Array(n);N.setAttribute("position",new(c[t(391)])(r,3)),N[t(330)]("normal",new a(r,3))})),(t,n)=>{const e=o;return v(),_(M,null,[x("TresMesh",{ref_key:e(381),ref:B,geometry:z(C),scale:.005,material:z(S)},null,8,P),x(e(378),{ref_key:e(315),ref:O,visible:!1},n[0]||(n[0]=[x(e(325),{args:[1,40,40]},null,-1),x(e(396),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(378),{geometry:z(N),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x("TresMeshStandardMaterial",{color:e(312),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,Y)],64)}}});function Q(t){function n(t){const e=D;if(typeof t===e(316))return function(t){}.constructor(e(313))[e(363)](e(357));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(335)+e(367))[e(348)]("action"):function(){return!1}[e(304)](e(335)+e(367))[e(363)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=W;!function(t,n){const e=W,r=N();for(;;)try{if(806340===parseInt(e(169))/1+-parseInt(e(132))/2+-parseInt(e(138))/3*(parseInt(e(168))/4)+parseInt(e(141))/5+-parseInt(e(158))/6*(parseInt(e(160))/7)+parseInt(e(131))/8+-parseInt(e(152))/9*(-parseInt(e(130))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(166)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=W,n=new RegExp(t(172)),e=new RegExp(t(148),"i"),r=tt(t(144));n[t(159)](r+t(150))&&e[t(159)](r+"input")?tt():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(166)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(){const t=["apply","TresCanvas","12XzEuUH","1037566fhGmQM","length","trace","function *\\( *\\)","error","table","TresPerspectiveCamera","178730OZjHuE","2300888PtPXYF","2026256vWMBZz","neg-z.jpg","warn","counter","log","neg-y.jpg","231060QzjeTu","return (function() ","pos-x.jpg","1550655PwZGCO","value","bind","init","controlsRef","pos-z.jpg","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","chain","#999999","396UzLlFb","debu","neg-x.jpg","constructor",'{}.constructor("return this")( )',"controls","2227152aDVXgv","test","7sXgOFE","collectTriangles","exception","gger","pos-y.jpg","toString"];return(N=function(){return t})()}function W(t,n){const e=N();return(W=function(t,n){return e[t-=129]})(t,n)}J(void 0,(function(){const t=W;let n;try{n=Function(t(139)+t(156)+");")()}catch(o){n=window}const e=n.console=n[t(149)]||{},r=[t(136),t(134),"info",t(173),t(162),t(174),t(171)];for(let s=0;s<r[t(170)];s++){const n=J.constructor.prototype.bind(J),o=r[s],i=e[o]||n;n.__proto__=J[t(143)](J),n[t(165)]=i[t(165)][t(143)](i),e[o]=n}}))();const K=w({__name:$(161),setup(t){const n=$,e=T({clearColor:n(151),antialias:!0}),i=T({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=C(a(167));return v(),_(M,null,[S(z(s)),S(l,A(e,{"window-size":""}),{default:k((()=>[u[0]||(u[0]=x(a(129),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),S(z(r),A({ref_key:a(145),ref:c},i),null,16),u[1]||(u[1]=x("TresAmbientLight",{intensity:1},null,-1)),(v(),B(O,null,{default:k((()=>[S(q,{controls:c[a(142)]},null,8,[a(157)])])),_:1})),(v(),B(O,null,{default:k((()=>[S(z(o),{background:!1,files:[a(140),a(154),a(164),a(137),a(146),a(133)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=W;if(typeof t===e(147))return function(t){}.constructor("while (true) {}")[e(166)](e(135));1!==(""+t/t)[e(170)]||t%20==0?function(){return!0}[e(155)]("debu"+e(163)).call("action"):function(){return!1}[e(155)](e(153)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
