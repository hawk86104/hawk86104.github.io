import{$ as n,p as t,d as e,S as r,N as o}from"./@tresjs.2JnKj_Yj1724070319978.js";import{a6 as s,x as i}from"./three.QUrV0R7c1724070319978.js";import{P as a}from"./tweakpane.yHWGBmom1724070319978.js";import{L as c}from"./three-subdivide.ut4DBXWD1724070319978.js";import{d as u,b as l,a1 as f,w as p,o as d,D as m,J as g,aj as h,ak as v,a4 as y,r as w,e as b,f as M,g as I,j as _,u as x,m as T}from"./@vue.Q1VpS3901724070319978.js";import"./@vueuse.2Yfo77CO1724070319978.js";const S=k;!function(n,t){const e=k,r=C();for(;;)try{if(739164===parseInt(e(216))/1*(parseInt(e(206))/2)+-parseInt(e(232))/3*(parseInt(e(201))/4)+-parseInt(e(228))/5*(-parseInt(e(211))/6)+-parseInt(e(249))/7*(-parseInt(e(213))/8)+-parseInt(e(223))/9+parseInt(e(244))/10*(-parseInt(e(256))/11)+parseInt(e(225))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(217)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){B(this,(function(){const n=k,t=new RegExp(n(226)),e=new RegExp(n(245),"i"),r=N(n(229));t[n(236)](r+"chain")&&e[n(236)](r+n(227))?N():r("0")}))()}();const j=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(217)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function k(n,t){const e=C();return(k=function(n,t){return e[n-=193]})(n,t)}function C(){const n=["input","40eOWBoz","init","gger",'{}.constructor("return this")( )',"1467210ROAwoM","scale","clone","AdditiveBlending","test","trace","error","exception","toString","material","#ffff00","warn","20VqCXQw","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","table","TresShaderMaterial","14shMmGX","while (true) {}","Color","console","TresMesh","uniforms","__proto__","1937969TFrGbZ","return (function() ","copy","Vector3","subdivision","position","action","attributes","color","12zhvbtz","debu","geometry","counter","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","2UeCYgm","TSGref","side","bind","subVectors","472764ZkTNaE","log","4265288LKYldg","srcMesh","value","647239SkjUgM","apply","constructor","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","FrontSide","shineShader","blending","9488826mnHmdd","string","15229596gfmRUn","function *\\( *\\)"];return(C=function(){return n})()}j(void 0,(function(){const n=k;let t;try{t=Function(n(193)+n(231)+");")()}catch(o){t=window}const e=t[n(252)]=t.console||{},r=[n(212),n(243),n(246),n(238),n(239),n(247),n(237)];for(let s=0;s<r.length;s++){const t=j[n(218)].prototype[n(209)](j),o=r[s],i=e[o]||t;t[n(255)]=j[n(209)](j),t.toString=i[n(240)][n(209)](i),e[o]=t}}))();const z=[S(233)],A=u({__name:S(221),props:{srcMesh:{},scale:{default:1.2},color:{default:S(242)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[S(220)]},blending:{default:s[S(235)]}},setup(e){const r=S,o=e,i=l(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(251)])(o[r(200)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(205),fragmentShader:r(219),side:o[r(208)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(222)]};f((()=>{const n=r;if(o[n(214)]&&!i.value[n(203)][n(199)].position){let t=o.srcMesh.geometry[n(234)]();o[n(196)]&&(t=c.modify(t,2)),i[n(215)][n(203)]=t,i[n(215)][n(197)][n(194)](o[n(214)][n(197)])}o[n(200)]&&(a[n(254)].glowColor[n(215)]=new(s[n(251)])(o.color)),o.c&&(a[n(254)].c[n(215)]=o.c),o.p&&(a[n(254)].p[n(215)]=o.p)})),p((()=>o[r(196)]),(n=>{const t=r;let e=o[t(214)].geometry[t(234)]();n&&(e=c.modify(e,2)),i.value.geometry=e})),p((()=>o[r(208)]),(n=>{const t=r;i[t(215)].material[t(208)]=n})),p((()=>o[r(222)]),(n=>{const t=r;i.value[t(241)][t(222)]=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=r;y[n(215)]&&i[n(215)]&&(a[n(254)].viewVector.value=(new(s[n(195)]))[n(210)](y.value[n(197)],i[n(215)][n(197)]))})),(n,t)=>{const e=r;return d(),m(e(253),{ref_key:e(207),ref:i,scale:o.scale},[g(e(248),h(v(a)),null,16)],8,z)}}});function N(n){function t(n){const e=k;if(typeof n===e(224))return function(n){}.constructor(e(250))[e(217)](e(204));1!==(""+n/n).length||n%20==0?function(){return!0}[e(218)](e(202)+e(230)).call(e(198)):function(){return!1}.constructor(e(202)+e(230))[e(217)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const F=$;!function(n,t){const e=$,r=E();for(;;)try{if(751021===parseInt(e(336))/1*(parseInt(e(304))/2)+parseInt(e(283))/3+parseInt(e(321))/4*(parseInt(e(294))/5)+parseInt(e(289))/6*(-parseInt(e(312))/7)+parseInt(e(317))/8*(-parseInt(e(310))/9)+parseInt(e(276))/10*(-parseInt(e(339))/11)+-parseInt(e(309))/12*(parseInt(e(324))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[$(316)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){R(this,(function(){const n=$,t=new RegExp(n(286)),e=new RegExp(n(338),"i"),r=P("init");t[n(318)](r+n(333))&&e[n(318)](r+n(325))?P():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function E(){const n=["#222","call","FrontSide","4076076DFwEEx","63900QDCqYz","counter","350Fprquv","srcMesh","map","TresMeshRefA","apply","144nSXjWe","test","return (function() ","debu","3418844XfYHik","prototype","logo.png","39BdyqMK","input","TresMeshBasicMaterial","shader","log","AdditiveBlending","addBinding","trace","__proto__","chain","TresMesh","length","959oQsPWd","TreBoxRef","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","11BpqZnp","constructor","11774650wVNKpo","gger","color","blending","toString","TresSphereGeometry","console","3974454JklYwk","info","warn","function *\\( *\\)","TresMeshRefB",'{}.constructor("return this")( )',"55230pWThrI","TresCanvas","subdivision","bind","value","5LdNonL","error","BackSide","边缘处理","NormalBlending","DoubleSide","TresGridHelper","side","string","while (true) {}","2828MnJxrC","TresAmbientLight"];return(E=function(){return n})()}V(void 0,(function(){const n=$,t=function(){const n=$;let t;try{t=Function(n(319)+n(288)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(282)]||{},r=[n(328),n(285),n(284),n(295),"exception","table",n(331)];for(let o=0;o<r[n(335)];o++){const t=V[n(275)][n(322)][n(292)](V),s=r[o],i=e[s]||t;t[n(332)]=V.bind(V),t[n(280)]=i[n(280)][n(292)](i),e[s]=t}}))();const Z=g("TresPerspectiveCamera",{position:[5,5,5]},null,-1),G=g(F(305),{intensity:1},null,-1),L=g(F(300),{args:[10,10]},null,-1),q=g(F(281),{args:[1,32,16]},null,-1),D=["map"],W=[F(314)],Y=[g("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),g(F(326),{color:"#0ff"},null,-1)];function $(n,t){const e=E();return($=function(n,t){return e[n-=275]})(n,t)}const O=u({__name:F(327),async setup(n){const t=F;let c,u;const f={clearColor:t(306)},p=l(),m=l(),h=l(),v=([c,u]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(323)]))),c=await c,u(),c),S=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i,blending:s[t(329)]}),B=new a({title:"参数",expanded:!0});return B[t(330)](S,t(278),{label:"颜色"}),B.addBinding(S,"scale",{label:"大小",min:1,max:3,step:.2}),B[t(330)](S,t(291),{label:t(297)}),B[t(330)](S,"c",{label:"c",min:0,max:2,step:.1}),B[t(330)](S,"p",{label:"p",min:0,max:8,step:.2}),B[t(330)](S,t(301),{options:{FrontSide:s[t(308)],BackSide:s[t(296)],DoubleSide:s[t(299)]}}),B[t(330)](S,t(279),{options:{AdditiveBlending:s[t(329)],NormalBlending:s[t(298)]}}),(n,o)=>{const s=t,i=b(s(290));return d(),M(i,T(f,{"window-size":""}),{default:I((()=>[Z,G,_(x(e)),L,g(s(334),{ref_key:s(315),ref:p,position:[-2,1,0]},[q,g("TresMeshBasicMaterial",{map:x(v)[0]},null,8,D)],512),_(A,T({srcMesh:p[s(293)]},S),null,16,[s(313)]),_(x(r),{ref_key:s(337),ref:h,args:[1,1,1],position:[2,1,0]},{default:I((()=>[g("TresMeshBasicMaterial",{map:x(v)[1]},null,8,W)])),_:1},512),_(A,T({srcMesh:h.value&&h[s(293)].value},S),null,16,[s(313)]),g("TresMesh",{ref_key:s(287),ref:m,position:[0,1,-2]},Y,512),_(A,T({srcMesh:m.value},S),null,16,["srcMesh"])])),_:1},16)}}});function P(n){function t(n){const e=$;if(typeof n===e(302))return function(n){}[e(275)](e(303))[e(316)](e(311));1!==(""+n/n)[e(335)]||n%20==0?function(){return!0}[e(275)]("debu"+e(277))[e(307)]("action"):function(){return!1}.constructor(e(320)+e(277))[e(316)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{O as default};
