import{a as t,m as n,o as e}from"./@tresjs.yaBKiR-I1741309500666.js";import{bk as o,_ as r,b as i}from"./three.8tDGqmLF1741309500666.js";import{h as s,_ as c}from"./three-tile.37LIxpSU1741309500666.js";import{_ as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.5BdqSVDa1741309500666.js";import{d as u,a3 as p,w as l,o as f,H as m,N as h,u as g,r as d,b as y,f as I,g as b,j as _,m as w,al as v,F as x,e as j,aj as S,ak as z}from"./@vue.NRI7TcgI1741309500666.js";import{P as k}from"./tweakpane.yDiyAAkA1741309500666.js";import{_ as T}from"./informationDiv.US2ANoAm1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";import"./@fesjs.x4z0tZxE1741309500666.js";import"./vue-router.vxk1Hu8C1741309500666.js";import"./lodash-es.pklfUAS51741309500666.js";import"./@qlin.yHhFDldE1741309500666.js";import"./pinia.f1wUCX_f1741309500666.js";import"./@floating-ui.BPbuo5Gx1741309500666.js";import"./@juggle.7yjBMqoW1741309500666.js";const D=P;!function(t,n){const e=P,o=Z();for(;;)try{if(379676===-parseInt(e(419))/1*(parseInt(e(373))/2)+parseInt(e(427))/3+-parseInt(e(403))/4*(parseInt(e(391))/5)+parseInt(e(372))/6+-parseInt(e(377))/7*(-parseInt(e(412))/8)+parseInt(e(384))/9+parseInt(e(395))/10*(-parseInt(e(429))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=P,n=new RegExp(t(376)),e=new RegExp(t(431),"i"),o=R(t(418));n.test(o+t(383))&&e[t(385)](o+t(430))?R():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(380)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(413)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(424)]=n[t(424)]||{},o=["log",t(394),t(401),"error",t(388),t(381),t(389)];for(let r=0;r<o[t(382)];r++){const n=B[t(374)][t(392)][t(416)](B),i=o[r],s=e[i]||n;n.__proto__=B[t(416)](B),n[t(417)]=s[t(417)].bind(s),e[i]=n}}))();const F=[D(405)],M=[D(386),D(408),D(435),D(396)];function P(t,n){const e=Z();return(P=function(t,n){return e[t-=372]})(t,n)}const E=u({__name:"radraImgShow",props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=D;let i,s;const c=n,u=new o({displacementMap:new(r[e(425)]),transparent:!0,side:r[e(398)],opacity:c.opacity,displacementScale:.5,displacementBias:0});u[e(387)]=t=>{const n=e;t[n(433)]=n(420)+t.vertexShader,t.vertexShader=t.vertexShader[n(402)](n(399),n(415))};const d=c[e(400)][e(428)](new(r[e(432)])(105,34,0));d[e(406)](c[e(400)][e(411)]);const y=a[e(410)](c[e(400)],{x:67,y:11},{x:140,y:57},c[e(422)]),I=[];for(let t=0;t<9;t++)I[e(407)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(393));let b=0;const _=([i,s]=p((()=>t(I))),i=await i,s(),i);u[e(400)]=_[b],l((()=>[c[e(434)],c.opacity]),(([t,n])=>{u[e(397)]=n}));let w=null,v=!1;return v?(clearInterval(w),w=null,v=!1):(w=setInterval((()=>{const t=P;b=b<I[t(382)]-1?b+1:0,u[t(400)]=_[b],u[t(409)]=!0,console[t(423)](b)}),1e3),v=!0),(t,n)=>{const o=e;return f(),m(o(404),{position:[...g(d)]},[h(o(375),{scale:[g(y).x,g(y).y,t[o(422)]],material:g(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(422)]/5},n[0]||(n[0]=[h("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,M)],8,F)}}});function Z(){const t=["8upXPBZ","return (function() ","debu","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","bind","toString","init","22013mkFzec","uniform sampler2D map;\n\t","gger","height","log","console","Texture","while (true) {}","1014249nUzyOg","geo2pos","1155HoHVVV","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","vertexShader","color","rotateX","1183470ApxoMI","2CgvKuk","constructor","TresMesh","function *\\( *\\)","1351574hVBBCA","action","call","apply","table","length","chain","3970656gvzTGl","test","scale","onBeforeCompile","exception","trace","counter","265mqYuvE","prototype","40.png","warn","19730VNkZdw","position-y","opacity","DoubleSide","#include <displacementmap_vertex>","map","info","replace","42320HiaexU","TresGroup","position","applyMatrix4","push","material","needsUpdate","scaleImg","matrix"];return(Z=function(){return t})()}function R(t){function n(t){const e=P;if("string"==typeof t)return function(t){}[e(374)](e(426))[e(380)](e(390));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(414)+e(421))[e(379)](e(378)):function(){return!1}[e(374)](e(414)+"gger")[e(380)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=V;!function(t,n){const e=V,o=U();for(;;)try{if(449258===parseInt(e(404))/1+-parseInt(e(410))/2+parseInt(e(388))/3*(-parseInt(e(401))/4)+-parseInt(e(361))/5+parseInt(e(394))/6+parseInt(e(402))/7*(parseInt(e(409))/8)+parseInt(e(377))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(418)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=V,n=new RegExp(t(387)),e=new RegExp(t(374),"i"),o=K(t(397));n.test(o+t(398))&&e.test(o+t(363))?K():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(418)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["geo2pos","controlsEvents","domElement","rotateX","3840925qdktFH","GDSource","input","call","image","localToWorld","value","info","gger","while (true) {}","prototype","showLocation","addBinding","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","copy","13643154ivyLgK","bind","action","constructor","opacity","counter","error","Vector3","map","primitive","function *\\( *\\)","3gUYIYc","mapbox.satellite","warn","trace","debu","length","1924872dIITlP","exception","string","init","chain","MapBoxSource","log","2205772cbGbLf","3325567yRCGJi","__proto__","45497zAVKPZ","object","table","mapbox.terrain-rgb",'{}.constructor("return this")( )',"8pFnUaN","1176820HDdFyq","height","plugin","TileMap","透明度","mapBoxShow3","target","return (function() ","apply","console"];return(U=function(){return t})()}function V(t,n){const e=U();return(V=function(t,n){return e[t-=361]})(t,n)}L(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(417)+t(408)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(419)]||{},o=[t(400),t(390),t(368),t(383),t(395),t(406),t(391)];for(let r=0;r<o[t(393)];r++){const n=L[t(380)][t(371)].bind(L),i=o[r],s=e[i]||n;n[t(403)]=L[t(378)](L),n[t(375)]=s[t(375)][t(378)](s),e[i]=n}}))();const W=[G(405)],Y="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",C=u({__name:G(415),setup(t){const e=G,o=d({height:200,opacity:1}),u=new k({title:"参数"});u[e(373)](o,e(411),{label:"高度",min:10,max:300,step:1}),u[e(373)](o,e(381),{label:e(414),min:0,max:1,step:.1}),new(s[e(399)])({token:Y,dataType:e(365),style:e(389)});const p=new(c[e(412)][e(399)])({token:Y,dataType:"terrain-rgb",style:e(407),maxLevel:15}),j=new(c[e(413)])({imgSource:[new(s[e(362)])({style:"6"}),new(c[e(412)][e(362)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});j[e(423)](-Math.PI/2);const S=new i(105,34,0),z=new(r[e(384)])(110,0,1e4),T=j[e(366)](j[e(420)](S)),D=j[e(366)](j[e(420)](z)),A=y(),{camera:B,controls:F,scene:M,renderer:P}=n();return B[e(367)]&&B.value.position[e(376)](D),l((()=>F[e(367)]),(t=>{const n=e;t&&(t[n(416)].copy(T),a[n(421)](t,B[n(367)],M[n(367)]))})),l((()=>A[e(367)]),(t=>{t&&t[e(416)].position.copy(T)})),a[e(372)](B.value,P[e(367)][e(422)],j),(t,n)=>{const r=e;return f(),m(x,null,[h("TresDirectionalLight",{ref_key:"tdLight",ref:A,position:[0,2e3,1e3],intensity:1},null,512),h(r(386),{object:g(j)},null,8,W),(f(),I(v,null,{default:b((()=>[_(E,w({map:g(j)},o),null,16,[r(385)])])),_:1}))],64)}}});function K(t){function n(t){const e=V;if(typeof t===e(396))return function(t){}[e(380)](e(370))[e(418)](e(382));1!==(""+t/t)[e(393)]||t%20==0?function(){return!0}[e(380)](e(392)+"gger")[e(364)](e(379)):function(){return!1}[e(380)](e(392)+e(369))[e(418)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=$;!function(t,n){const e=$,o=J();for(;;)try{if(828832===-parseInt(e(164))/1+parseInt(e(169))/2+-parseInt(e(184))/3+-parseInt(e(196))/4*(-parseInt(e(177))/5)+-parseInt(e(172))/6*(parseInt(e(186))/7)+parseInt(e(193))/8*(parseInt(e(171))/9)+parseInt(e(194))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(166)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=$,n=new RegExp(t(192)),e=new RegExp(t(198),"i"),o=X(t(187));n[t(176)](o+t(182))&&e[t(176)](o+t(201))?X():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(t,n){const e=J();return($=function(t,n){return e[t-=164]})(t,n)}O(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(200)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(190)]||{},o=[t(165),t(173),t(188),t(183),"exception",t(178),t(167)];for(let r=0;r<o.length;r++){const n=O[t(168)].prototype[t(180)](O),i=o[r],s=e[i]||n;n.__proto__=O[t(180)](O),n[t(185)]=s[t(185)][t(180)](s),e[i]=n}}))();const Q=u({__name:N(189),setup(t){const n=N,o=d({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(175)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=j(n(174));return f(),m(x,null,[_(s,w(o,{"window-size":""}),{default:b((()=>[i[0]||(i[0]=h("TresPerspectiveCamera",{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(g(e),S(z(r)),null,16),i[1]||(i[1]=h("TresAmbientLight",{intensity:1},null,-1)),_(C)])),_:1},16),_(T)],64)}}});function X(t){function n(t){const e=$;if(typeof t===e(197))return function(t){}[e(168)](e(170))[e(166)](e(179));1!==(""+t/t)[e(191)]||t%20==0?function(){return!0}[e(168)]("debu"+e(181))[e(202)](e(199)):function(){return!1}[e(168)](e(195)+e(181)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function J(){const t=["length","function *\\( *\\)","5511352sYbzmG","580080SNUctW","debu","314924khSzMr","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","return (function() ","input","call","1080949AbYscp","log","apply","trace","constructor","1942368IKKZPb","while (true) {}","18YBAzWu","9636ZBDRYs","warn","TresCanvas","highp","test","15QaIzOj","table","counter","bind","gger","chain","error","1328268WRJqDz","toString","1267HKBxWK","init","info","radraImg","console"];return(J=function(){return t})()}export{Q as default};
