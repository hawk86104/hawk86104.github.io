import{$ as n,N as t,d as e}from"./@tresjs.DDzpLB7Q1725236486446.js";import{P as o}from"./tweakpane.yHWGBmom1725236486446.js";import{_ as r}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.QpLupOG51725236486446.js";import{a6 as a,Z as c,C as s}from"./three.0IuNGJsA1725236486446.js";import{d as i,b as u,a4 as l,r as f,a1 as p,o as v,D as d,J as m,aj as g,ak as h,e as w,f as y,g as k,j as S,u as _,al as I,m as C}from"./@vue.9bHx4gg21725236486446.js";import"./@vueuse.XXpXaOwX1725236486446.js";import"./all.three.seD8S5dG1725236486446.js";import"./oimophysics.x0jH7fze1725236486446.js";function b(){const n=["uScanColorDark","shaderCircleWave","RepeatWrapping","\n#define uScanOrigin vec3(0.,0.,0.)\n#define uScanWaveRatio1 3.2\n#define uScanWaveRatio2 2.8\n\nuniform float uTime;\nuniform sampler2D uScanTex;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nuniform vec3 uScanColor;\nuniform vec3 uScanColorDark;\n\nfloat circleWave(vec3 p,vec3 origin,float distRatio){\n    float t=uTime;\n    float dist=distance(p,origin)*distRatio;\n    float radialMove=fract(dist-t);\n    float fadeOutMask=1.-smoothstep(1.,3.,dist);\n    radialMove*=fadeOutMask;\n    float cutInitialMask=1.-step(t,dist);\n    radialMove*=cutInitialMask;\n    return radialMove;\n}\n\nvec3 getScanColor(vec3 worldPos,vec2 uv,vec3 col){\n    // mask\n    float scanMask=texture(uScanTex,uv).r;\n    // waves\n    float cw=circleWave(worldPos,uScanOrigin,uScanWaveRatio1);\n    float cw2=circleWave(worldPos,uScanOrigin,uScanWaveRatio2);\n    // scan\n    float mask1=smoothstep(.3,0.,1.-cw);\n    mask1*=(1.+scanMask*.7);\n    \n    float mask2=smoothstep(.07,0.,1.-cw2)*.8;\n    mask1+=mask2;\n    \n    float mask3=smoothstep(.09,0.,1.-cw)*1.5;\n    mask1+=mask3;\n\n    // color\n    vec3 scanCol=mix(uScanColorDark,uScanColor,mask1);\n    col=mix(col,scanCol,mask1);\n    \n    return col;\n\t\t// return vec3(cw);\n\t\t// return vec3(scanMask);\n\t\t// return worldPos;\n\t\t// return vec3(mask1);\n\t\t// return scanCol;\n}\n\nvoid main()\n{\n    vec3 col=vec3(0.);\n    col=getScanColor(vPosition,vUv*10.0,col);\n    gl_FragColor=vec4(col,1.);\n}\n","stateObject","wrapT","wrapS","uniforms","rotation-x","while (true) {}","error","trace","value","debu","TresPlaneGeometry","2854044LqBCTn","apply","AdditiveBlending","230PSmyIe","chain","speed","7252371MpebYn","counter","input","\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main(){\n\tvUv=uv;\n\tvPosition=position;\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}\n","5967832OCqKEV","scale","2065208bxXROz","colorDark","console","1662ARGTMw","20roilPa","Color","642029HyxzEz","275zOGaFp","TresMesh","warn","length","#000000","toString","color","prototype","tmRef","gger","TresShaderMaterial","__proto__","1042RjgpNC","table","exception","init","test","184458SzYkyw","log","uTime","string",'{}.constructor("return this")( )',"constructor","7oRfXWf","bind","material"];return(b=function(){return n})()}function x(n,t){const e=b();return(x=function(n,t){return e[n-=158]})(n,t)}const M=x;!function(n,t){const e=x,o=b();for(;;)try{if(816605===-parseInt(e(210))/1+-parseInt(e(163))/2*(-parseInt(e(207))/3)+-parseInt(e(202))/4+-parseInt(e(195))/5*(parseInt(e(168))/6)+-parseInt(e(174))/7*(parseInt(e(204))/8)+-parseInt(e(198))/9*(parseInt(e(208))/10)+-parseInt(e(211))/11*(-parseInt(e(192))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[x(193)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){j(this,(function(){const n=x,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W(n(166));t[n(167)](o+n(196))&&e.test(o+n(200))?W():o("0")}))()}();const T=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();T(void 0,(function(){const n=x;let t;try{t=Function("return (function() "+n(172)+");")()}catch(r){t=window}const e=t.console=t[n(206)]||{},o=[n(169),n(213),"info",n(187),n(165),n(164),n(188)];for(let a=0;a<o[n(214)];a++){const t=T[n(173)][n(158)][n(175)](T),r=o[a],c=e[r]||t;t[n(162)]=T[n(175)](T),t[n(216)]=c[n(216)].bind(c),e[r]=t}}))();const R=[M(185),M(203)],P=m(M(191),{args:[1,1]},null,-1),D=i({__name:M(178),props:{color:{default:"#ffffff"},colorDark:{default:M(215)},speed:{default:1},scale:{default:2}},async setup(e){const o=M;let r,i;const w=e,y=u(),{onLoop:k}=n();k((({delta:n})=>{const t=x;y[t(189)]&&(y[t(189)][t(176)][t(184)][t(170)][t(189)]+=n*w[t(197)])}));const S=([r,i]=l((()=>t(["./plugins/floor/image/scan.png"]))),r=await r,i(),r);S[o(183)]=a[o(179)],S[o(182)]=a[o(179)];const _=f({side:c,transparent:!0,blending:a[o(194)],flatShading:!0,depthTest:!1,uniforms:{uTime:{type:"f",value:0},uScanTex:{type:"t",value:S},uScanColor:{type:"v3",value:new(a[o(209)])(w[o(217)])},uScanColorDark:{type:"v3",value:new s(w[o(205)])}},vertexShader:o(201),fragmentShader:o(180)});return p((()=>{const n=o;y[n(189)]&&(y.value[n(176)][n(184)].uScanColor[n(189)]=new(a[n(209)])(w[n(217)]),y[n(189)][n(176)].uniforms[n(177)].value=new(a[n(209)])(w[n(205)]))})),(n,t)=>{const e=o;return v(),d(e(212),{ref_key:e(159),ref:y,"rotation-x":-Math.PI/2,scale:n[e(203)]},[P,m(e(161),g(h(_)),null,16)],8,R)}}});function W(n){function t(n){const e=x;if(typeof n===e(171))return function(n){}.constructor(e(186)).apply(e(199));1!==(""+n/n)[e(214)]||n%20==0?function(){return!0}[e(173)](e(190)+e(160)).call("action"):function(){return!1}[e(173)](e(190)+e(160))[e(193)](e(181)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const z=O;function O(n,t){const e=G();return(O=function(n,t){return e[n-=311]})(n,t)}!function(n,t){const e=O,o=G();for(;;)try{if(472510===-parseInt(e(326))/1+-parseInt(e(313))/2*(-parseInt(e(338))/3)+parseInt(e(342))/4+-parseInt(e(321))/5+-parseInt(e(318))/6+parseInt(e(343))/7+parseInt(e(352))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){A(this,(function(){const n=O,t=new RegExp(n(311)),e=new RegExp(n(316),"i"),o=U("init");t[n(346)](o+"chain")&&e[n(346)](o+n(334))?U():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(323)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function G(){const n=["858446nnBvvM","action","return (function() ","TresAmbientLight","prototype","color","speed","trace","input","info","圈渐变色","gger","17829HSdNmH","string","TresCanvas","addBinding","1421064jyzyIw","5357716tBGYHY","stateObject","bind","test","debu","shaderCircleWave地面","#ffffff","TresPerspectiveCamera","__proto__","5836512gHSXqw","log","toString","scale","counter","function *\\( *\\)","console","106iiIiVJ","length","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"3894540nFyaGN","exception","warn","925755kyasKm","while (true) {}","apply","circleWave","colorDark"];return(G=function(){return n})()}E(void 0,(function(){const n=O,t=function(){const n=O;let t;try{t=Function(n(328)+n(317)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(312)]||{},o=[n(353),n(320),n(335),"error",n(319),"table",n(333)];for(let r=0;r<o[n(314)];r++){const t=E[n(315)][n(330)][n(345)](E),a=o[r],c=e[a]||t;t[n(351)]=E.bind(E),t[n(354)]=c[n(354)][n(345)](c),e[a]=t}}))();const H=m(z(350),{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1),B=m(z(329),{intensity:6},null,-1),F=i({__name:z(324),setup(n){const t=z,a=f({reflectivity:.1,showGridHelper:!1,scale:1}),c=f({color:t(349),colorDark:"#000000",speed:1,scale:2}),s=new o({title:t(348),expanded:!0});return s[t(341)](c,t(331),{label:"圈颜色"}),s[t(341)](c,t(325),{label:t(336)}),s[t(341)](c,t(332),{label:"速度",min:.1,max:5,step:.1}),s[t(341)](c,t(355),{label:"大小",min:.1,max:10,step:.1}),(n,o)=>{const s=w(t(340));return v(),y(s,{clearColor:"#201919","window-size":""},{default:k((()=>[H,S(_(e),{enableDamping:""}),B,(v(),y(I,null,{default:k((()=>[S(D,g(h(c)),null,16)])),_:1})),(v(),y(I,null,{default:k((()=>[S(r,C({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function U(n){function t(n){const e=O;if(typeof n===e(339))return function(n){}[e(315)](e(322))[e(323)](e(356));1!==(""+n/n)[e(314)]||n%20==0?function(){return!0}[e(315)](e(347)+e(337)).call(e(327)):function(){return!1}[e(315)](e(347)+"gger")[e(323)](e(344)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{F as default};
