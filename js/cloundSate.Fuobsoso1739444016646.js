import{a as t,m as n,o as e}from"./@tresjs.Q4_KYO2a1739444016646.js";import{bk as o,_ as r,a0 as c}from"./three.W6GmiHfn1739444016646.js";import{_ as a,h as s}from"./three-tile.92EmlFIr1739444016646.js";import{_ as i}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.oJouDg7K1739444016646.js";import{d as u,a3 as p,w as l,o as f,H as m,N as h,u as g,r as d,b as _,f as y,g as I,j as w,m as j,al as S,F as b,e as v,aj as x,ak as T}from"./@vue.NRI7TcgI1739444016646.js";import{P as D}from"./tweakpane.yDiyAAkA1739444016646.js";import{_ as F}from"./informationDiv.-DL_7bqP1739444016646.js";import"./@vueuse.6yH4xZkk1739444016646.js";import"./@fesjs.sJn9--0s1739444016646.js";import"./vue-router.AC2Dribr1739444016646.js";import"./lodash-es.pklfUAS51739444016646.js";import"./@qlin.yHhFDldE1739444016646.js";import"./pinia.yh3RXIKV1739444016646.js";import"./@floating-ui.BPbuo5Gx1739444016646.js";import"./@juggle.7yjBMqoW1739444016646.js";const E=k;function M(){const t=["https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","input","height","10896FBxODL","uniform sampler2D map;\n\t\t","\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","material","position-y","warn","378160xutxxb","map","scaleImg","trace","Vector3","rotateX","while (true) {}","#include <alphamap_fragment>","return (function() ","needsUpdate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","gger","table","158804khywRY","TresGroup","replace","color","action","matrix","400887EKDgTI","setStyle","#cccccc","5JWTPcq","onBeforeCompile","opacity","Texture","info","965784umShfm","fragmentShader","6SOVkxC","90ZijZac","error","Color","toString","log","position","22JcfVmI","176406ayIijH","test","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","stateObject","chain","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","#include <displacementmap_vertex>","scale","counter","bind","constructor","length","TresMesh","debu","203LjjlYf","1905760goEVcY","apply","TresPlaneGeometry","vertexShader"];return(M=function(){return t})()}function k(t,n){const e=M();return(k=function(t,n){return e[t-=424]})(t,n)}!function(t,n){const e=k,o=M();for(;;)try{if(258468===-parseInt(e(444))/1+-parseInt(e(436))/2*(-parseInt(e(426))/3)+-parseInt(e(486))/4*(parseInt(e(429))/5)+-parseInt(e(466))/6*(-parseInt(e(458))/7)+parseInt(e(459))/8+parseInt(e(437))/9*(-parseInt(e(472))/10)+parseInt(e(443))/11*(parseInt(e(434))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=k,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(482),"i"),o=R("init");n[t(445)](o+t(448))&&e[t(445)](o+t(464))?R():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=k;let n;try{n=Function(t(480)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n.console||{},o=[t(441),t(471),t(433),t(438),t(483),t(485),t(475)];for(let c=0;c<o.length;c++){const n=A[t(454)].prototype[t(453)](A),r=o[c],a=e[r]||n;n.__proto__=A[t(453)](A),n[t(440)]=a[t(440)][t(453)](a),e[r]=n}}))();const B=[E(442)],O=[E(451),E(469),E(477),E(470)],G=u({__name:"cloundSateShow",props:{map:{},height:{default:100},color:{default:E(428)},opacity:{default:.6}},async setup(n){const e=E;let a,s;const u=n,d=new o({displacementMap:new(r[e(432)]),transparent:!0,side:c,opacity:u[e(431)],color:new(r[e(439)])(u[e(489)])});d[e(430)]=t=>{const n=e;t[n(462)]=n(467)+t[n(462)],t[n(462)]=t[n(462)].replace(n(450),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );"),t.fragmentShader=t[n(435)][n(488)](n(479),n(468))};const _=u[e(473)].geo2pos(new(r[e(476)])(105,34,0));_.applyMatrix4(u[e(473)][e(425)]);const y=i[e(474)](u[e(473)],{x:67,y:11},{x:140,y:57},u.height),I=[e(449),"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png",e(446),e(463)];let w=0;const j=([a,s]=p((()=>t(I))),a=await a,s(),a);d.map=j[w],l((()=>[u.color,u.opacity]),(([t,n])=>{const o=e;d.color[o(427)](t),d.opacity=n}));let S=null,b=!1;return b?(clearInterval(S),S=null,b=!1):(S=setInterval((()=>{const t=k;w=w<I.length-1?w+1:0,d[t(473)]=j[w],d[t(481)]=!0,console[t(441)](w)}),1e3),b=!0),(t,n)=>{const o=e;return f(),m(o(487),{position:[...g(_)]},[h(o(456),{scale:[g(y).x,g(y).y,t.height],material:g(d),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(465)]/5},n[0]||(n[0]=[h(o(461),{args:[1,1,529,420]},null,-1)]),8,O)],8,B)}}});function R(t){function n(t){const e=k;if("string"==typeof t)return function(t){}[e(454)](e(478)).apply(e(452));1!==(""+t/t)[e(455)]||t%20==0?function(){return!0}[e(454)](e(457)+e(484)).call(e(424)):function(){return!1}[e(454)](e(457)+e(484))[e(460)](e(447)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=Y;!function(t,n){const e=Y,o=C();for(;;)try{if(614134===parseInt(e(155))/1*(-parseInt(e(118))/2)+-parseInt(e(147))/3*(-parseInt(e(170))/4)+parseInt(e(164))/5*(parseInt(e(124))/6)+parseInt(e(123))/7+-parseInt(e(146))/8+-parseInt(e(159))/9*(-parseInt(e(120))/10)+-parseInt(e(158))/11*(parseInt(e(171))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(157)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=Y,n=new RegExp(t(163)),e=new RegExp(t(154),"i"),o=H("init");n.test(o+t(133))&&e[t(162)](o+t(119))?H():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(157)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=Y;let n;try{n=Function(t(145)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(142)]=n.console||{},o=[t(126),t(149),t(115),t(138),"exception",t(136),"trace"];for(let c=0;c<o[t(141)];c++){const n=N[t(112)][t(137)][t(169)](N),r=o[c],a=e[r]||n;n[t(166)]=N[t(169)](N),n.toString=a[t(132)][t(169)](a),e[r]=n}}))();const Z=[W(125)];function C(){const t=["copy","table","prototype","error","controlsEvents","mapbox.terrain-rgb","length","console","TileMap","GDSource","return (function() ","90664iBccEm","857505NmXYha","mapBoxShow2","warn","opacity","action","height","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","187303DBuZHR","plugin","apply","77rYTqgL","747PzeLYT","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","domElement","test","function *\\( *\\)","35acZOEZ","showLocation","__proto__","tdLight","position","bind","12hrXOYE","3850920BqlYxJ","rotateX","gger","value","constructor","target","#cccccc","info","map","call","2noqIkm","input","127280TcZoeW","primitive","透明度","4848088rEyUSl","387966AOkdIU","object","log","localToWorld","addBinding","color","Vector3","geo2pos","toString","chain","while (true) {}"];return(C=function(){return t})()}function Y(t,n){const e=C();return(Y=function(t,n){return e[t-=111]})(t,n)}const q=W(160),V=u({__name:W(148),setup(t){const e=W,o=d({height:500,color:e(114),opacity:.6}),c=new D({title:"参数"});c[e(128)](o,e(129),{label:"颜色"}),c[e(128)](o,e(152),{label:"高度",min:10,max:5e3,step:10}),c[e(128)](o,e(150),{label:e(122),min:0,max:1,step:.1});const u=new(a[e(156)].MapBoxSource)({token:q,dataType:"terrain-rgb",style:e(140),maxLevel:15}),p=new(a[e(143)])({imgSource:[new(s[e(144)])({style:"6"}),new(a[e(156)][e(144)])({style:"8"})],demSource:u,lon0:90,minLevel:2,maxLevel:20});p[e(172)](-Math.PI/2);const v=new(r[e(130)])(105,34,0),x=new(r[e(130)])(110,0,1e4),T=p.localToWorld(p.geo2pos(v)),F=p[e(127)](p[e(131)](x)),E=_(),{camera:M,controls:k,scene:L,renderer:A}=n();return M.value&&M.value.position.copy(F),l((()=>k[e(111)]),(t=>{const n=e;t&&(t[n(113)][n(135)](T),i[n(139)](t,M.value,L[n(111)]))})),l((()=>E[e(111)]),(t=>{const n=e;t&&t[n(113)][n(168)][n(135)](T)})),i[e(165)](M[e(111)],A.value[e(161)],p),(t,n)=>{const r=e;return f(),m(b,null,[h("TresDirectionalLight",{ref_key:r(167),ref:E,position:[0,2e3,1e3],intensity:1},null,512),h(r(121),{object:g(p)},null,8,Z),(f(),y(S,null,{default:I((()=>[w(G,j({map:g(p)},o),null,16,[r(116)])])),_:1}))],64)}}});function H(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(112)](e(134))[e(157)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(112)](e(153)+e(173))[e(117)](e(151)):function(){return!1}[e(112)](e(153)+e(173)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=J;!function(t,n){const e=J,o=$();for(;;)try{if(613268===-parseInt(e(142))/1*(parseInt(e(129))/2)+-parseInt(e(132))/3+-parseInt(e(133))/4*(-parseInt(e(137))/5)+-parseInt(e(127))/6*(-parseInt(e(146))/7)+parseInt(e(138))/8*(-parseInt(e(139))/9)+-parseInt(e(122))/10+parseInt(e(128))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(147)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=J,n=new RegExp(t(141)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=K("init");n.test(o+t(154))&&e[t(151)](o+t(149))?K():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(147)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["66jWkcQm","24479664qvAYtk","2FXlwCw","exception","gger","2550555vaWeJi","4mEFgNl","string","counter","bind","6116865vieeLp","320OVRudo","274941MXhspd","highp","function *\\( *\\)","352903ppClsw","constructor","error","TresAmbientLight","23758oGjYNN","apply","TresPerspectiveCamera","input","__proto__","test","table","debu","chain","toString",'{}.constructor("return this")( )',"4478150jfvuas","cloundSate","info","length","return (function() "];return($=function(){return t})()}function J(t,n){const e=$();return(J=function(t,n){return e[t-=121]})(t,n)}U(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(126)+t(121)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=["log","warn",t(124),t(144),t(130),t(152),"trace"];for(let r=0;r<o[t(125)];r++){const n=U.constructor.prototype[t(136)](U),c=o[r],a=e[c]||n;n[t(150)]=U[t(136)](U),n.toString=a[t(155)][t(136)](a),e[c]=n}}))();const Q=u({__name:P(123),setup(t){const n=P,o=d({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(140)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const a=n,s=v("TresCanvas");return f(),m(b,null,[w(s,j(o,{"window-size":""}),{default:I((()=>[c[0]||(c[0]=h(a(148),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),w(g(e),x(T(r)),null,16),c[1]||(c[1]=h(a(145),{intensity:1},null,-1)),w(V)])),_:1},16),w(F)],64)}}});function K(t){function n(t){const e=J;if(typeof t===e(134))return function(t){}[e(143)]("while (true) {}")[e(147)](e(135));1!==(""+t/t)[e(125)]||t%20==0?function(){return!0}[e(143)](e(153)+"gger").call("action"):function(){return!1}.constructor("debu"+e(131))[e(147)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
