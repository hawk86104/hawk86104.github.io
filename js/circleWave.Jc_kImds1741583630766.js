import{e as n,a as t,o as e}from"./@tresjs.ZmhvXhx31741583630766.js";import{P as o}from"./tweakpane.yDiyAAkA1741583630766.js";import{_ as r}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.4TnY_Fpj1741583630766.js";import{_ as a,C as s}from"./three.sQDbNBks1741583630766.js";import{d as c,b as i,a3 as u,r as l,a2 as f,o as p,H as v,N as d,aj as m,ak as g,e as h,f as w,g as k,j as S,u as y,al as _,m as I}from"./@vue.NRI7TcgI1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";import"./all.three.B_wkcYmQ1741583630766.js";import"./oimophysics.x0jH7fze1741583630766.js";const b=T;!function(n,t){const e=T,o=M();for(;;)try{if(744246===parseInt(e(129))/1+parseInt(e(147))/2*(parseInt(e(154))/3)+-parseInt(e(124))/4*(parseInt(e(134))/5)+parseInt(e(152))/6+parseInt(e(161))/7*(-parseInt(e(100))/8)+parseInt(e(137))/9+-parseInt(e(106))/10*(parseInt(e(128))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){x(this,(function(){const n=T,t=new RegExp(n(157)),e=new RegExp(n(103),"i"),o=R("init");t[n(102)](o+n(120))&&e[n(102)](o+"input")?R():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[T(115)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();C(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(136)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(151)]=t.console||{},o=[n(101),"warn",n(105),n(108),n(122),n(110),n(132)];for(let r=0;r<o[n(127)];r++){const t=C[n(114)][n(148)][n(130)](C),a=o[r],s=e[a]||t;t[n(146)]=C[n(130)](C),t.toString=s[n(156)][n(130)](s),e[a]=t}}))();const j=[b(138),"scale"];function M(){const n=["value","call","constructor","apply","Color","uniforms","stateObject","TresPlaneGeometry","chain","wrapS","exception","color","16BnElrW","\n#define uScanOrigin vec3(0.,0.,0.)\n#define uScanWaveRatio1 3.2\n#define uScanWaveRatio2 2.8\n\nuniform float uTime;\nuniform sampler2D uScanTex;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nuniform vec3 uScanColor;\nuniform vec3 uScanColorDark;\n\nfloat circleWave(vec3 p,vec3 origin,float distRatio){\n    float t=uTime;\n    float dist=distance(p,origin)*distRatio;\n    float radialMove=fract(dist-t);\n    float fadeOutMask=1.-smoothstep(1.,3.,dist);\n    radialMove*=fadeOutMask;\n    float cutInitialMask=1.-step(t,dist);\n    radialMove*=cutInitialMask;\n    return radialMove;\n}\n\nvec3 getScanColor(vec3 worldPos,vec2 uv,vec3 col){\n    // mask\n    float scanMask=texture(uScanTex,uv).r;\n    // waves\n    float cw=circleWave(worldPos,uScanOrigin,uScanWaveRatio1);\n    float cw2=circleWave(worldPos,uScanOrigin,uScanWaveRatio2);\n    // scan\n    float mask1=smoothstep(.3,0.,1.-cw);\n    mask1*=(1.+scanMask*.7);\n    \n    float mask2=smoothstep(.07,0.,1.-cw2)*.8;\n    mask1+=mask2;\n    \n    float mask3=smoothstep(.09,0.,1.-cw)*1.5;\n    mask1+=mask3;\n\n    // color\n    vec3 scanCol=mix(uScanColorDark,uScanColor,mask1);\n    col=mix(col,scanCol,mask1);\n    \n    return col;\n\t\t// return vec3(cw);\n\t\t// return vec3(scanMask);\n\t\t// return worldPos;\n\t\t// return vec3(mask1);\n\t\t// return scanCol;\n}\n\nvoid main()\n{\n    vec3 col=vec3(0.);\n    col=getScanColor(vPosition,vUv*10.0,col);\n    gl_FragColor=vec4(col,1.);\n}\n","material","length","8480219gNSMnU","694726bubIDq","bind","while (true) {}","trace","scale","762195WeXTFN","DoubleSide","return (function() ","9642591rzreYF","rotation-x","tmRef","action","colorDark","#ffffff","counter","wrapT","\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main(){\n\tvUv=uv;\n\tvPosition=position;\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}\n","__proto__","2026jzJKxu","prototype","uScanColor","AdditiveBlending","console","4439172blDMdn","TresShaderMaterial","1101sSzFnL","speed","toString","function *\\( *\\)","shaderCircleWave","RepeatWrapping","uScanColorDark","7KKfSCX","6022616WnVxio","log","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","info","10isIdmm","uTime","error","debu","table","string"];return(M=function(){return n})()}const D=c({__name:b(158),props:{color:{default:b(142)},colorDark:{default:"#000000"},speed:{default:1},scale:{default:2}},async setup(e){const o=b;let r,c;const h=e,w=i(),{onLoop:k}=n();k((({delta:n})=>{const t=T;w[t(112)]&&(w[t(112)].material.uniforms[t(107)][t(112)]+=n*h[t(155)])}));const S=([r,c]=u((()=>t(["./plugins/floor/image/scan.png"]))),r=await r,c(),r);S[o(121)]=a[o(159)],S[o(144)]=a[o(159)];const y=l({side:a[o(135)],transparent:!0,blending:a[o(150)],flatShading:!0,depthTest:!1,uniforms:{uTime:{type:"f",value:0},uScanTex:{type:"t",value:S},uScanColor:{type:"v3",value:new(a[o(116)])(h[o(123)])},uScanColorDark:{type:"v3",value:new(a[o(116)])(h[o(141)])}},vertexShader:o(145),fragmentShader:o(125)});return f((()=>{const n=o;w.value&&(w[n(112)][n(126)][n(117)][n(149)][n(112)]=new(a[n(116)])(h.color),w[n(112)][n(126)][n(117)][n(160)].value=new s(h[n(141)]))})),(n,t)=>{const e=o;return p(),v("TresMesh",{ref_key:e(139),ref:w,"rotation-x":-Math.PI/2,scale:n[e(133)]},[t[0]||(t[0]=d(e(119),{args:[1,1]},null,-1)),d(e(153),m(g(y)),null,16)],8,j)}}});function T(n,t){const e=M();return(T=function(n,t){return e[n-=100]})(n,t)}function R(n){function t(n){const e=T;if(typeof n===e(111))return function(n){}.constructor(e(131))[e(115)](e(143));1!==(""+n/n).length||n%20==0?function(){return!0}[e(114)](e(109)+e(104))[e(113)](e(140)):function(){return!1}[e(114)]("debu"+e(104))[e(115)](e(118)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function W(n,t){const e=F();return(W=function(n,t){return e[n-=377]})(n,t)}const P=W;!function(n,t){const e=W,o=F();for(;;)try{if(547004===parseInt(e(387))/1*(parseInt(e(393))/2)+-parseInt(e(410))/3*(parseInt(e(379))/4)+parseInt(e(385))/5*(parseInt(e(418))/6)+parseInt(e(388))/7*(-parseInt(e(402))/8)+parseInt(e(391))/9*(-parseInt(e(417))/10)+parseInt(e(405))/11+parseInt(e(400))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(423)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(){const n=["390620ADodej","42fNUFuv","log","addBinding","return (function() ","scale","apply","action","exception","184UZlDeF","shaderCircleWave地面","console","debu","stateObject","circleWave","94120cOhXXM","table","2RXNrJN","219457xbFvRy","call","TresCanvas","162yMssed","chain","844028YhCmbo",'{}.constructor("return this")( )',"colorDark","while (true) {}","bind","toString","string","6119676kjaWLM","speed","88XTUjCx","function *\\( *\\)","constructor","11220638hamNrn","#ffffff","__proto__","trace","counter","59403tzRElA","TresAmbientLight","error","gger","圈渐变色","warn","test"];return(F=function(){return n})()}!function(){z(this,(function(){const n=W,t=new RegExp(n(403)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=A("init");t[n(416)](o+n(392))&&e.test(o+"input")?A():o("0")}))()}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(423)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();O(void 0,(function(){const n=W,t=function(){const n=W;let t;try{t=Function(n(421)+n(394)+");")()}catch(e){t=window}return t}(),e=t[n(381)]=t[n(381)]||{},o=[n(419),n(415),"info",n(412),n(378),n(386),n(408)];for(let r=0;r<o.length;r++){const t=O[n(404)].prototype[n(397)](O),a=o[r],s=e[a]||t;t[n(407)]=O[n(397)](O),t[n(398)]=s[n(398)][n(397)](s),e[a]=t}}))();const U=c({__name:P(384),setup(n){const t=P,a=l({reflectivity:.1,showGridHelper:!1,scale:1}),s=l({color:t(406),colorDark:"#000000",speed:1,scale:2}),c=new o({title:t(380),expanded:!0});return c[t(420)](s,"color",{label:"圈颜色"}),c.addBinding(s,t(395),{label:t(414)}),c[t(420)](s,t(401),{label:"速度",min:.1,max:5,step:.1}),c.addBinding(s,t(422),{label:"大小",min:.1,max:10,step:.1}),(n,o)=>{const c=t,i=h(c(390));return p(),w(i,{clearColor:"#201919","window-size":""},{default:k((()=>[o[0]||(o[0]=d("TresPerspectiveCamera",{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1)),S(y(e),{enableDamping:""}),o[1]||(o[1]=d(c(411),{intensity:6},null,-1)),(p(),w(_,null,{default:k((()=>[S(D,m(g(s)),null,16)])),_:1})),(p(),w(_,null,{default:k((()=>[S(r,I({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function A(n){function t(n){const e=W;if(typeof n===e(399))return function(n){}[e(404)](e(396)).apply(e(409));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debu"+e(413))[e(389)](e(377)):function(){return!1}[e(404)](e(382)+e(413))[e(423)](e(383)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
