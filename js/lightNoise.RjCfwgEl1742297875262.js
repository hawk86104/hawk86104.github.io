import{_ as n,bR as t,a as e,T as o,$ as r,ab as i,s,c6 as a,c4 as c,c5 as l,cl as u}from"./three.N4lg2KsY1742297875262.js";import{e as f,m as p,o as v}from"./@tresjs.oW7bfow21742297875262.js";import{d as g,o as d,H as m,N as h,u as b,F as y,w as x,j as w,z as _,e as I,g as T,aj as U,ak as S}from"./@vue.NRI7TcgI1742297875262.js";import{_ as D}from"./@fesjs.5gYNbdbo1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";import"./vue-router.voBLX0XL1742297875262.js";import"./lodash-es.pklfUAS51742297875262.js";import"./@qlin.yHhFDldE1742297875262.js";import"./pinia.qX8pw0bq1742297875262.js";import"./@floating-ui.BPbuo5Gx1742297875262.js";import"./@juggle.7yjBMqoW1742297875262.js";var F="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const C=B;function j(){const n=["length","toString","return (function() ","call","string","6212658fnghsF","SphereGeometry","warn","uniforms","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","counter","randFloatSpread","noise","luces","bind","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","push","log","material","instanceCount","175TpFTPU","vertexShader","fragmentShader","\n    ","6126211sFdKDR","geometry","instData","TresMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","72164fSjfVS","#include <dithering_fragment>","test","sin",'{}.constructor("return this")( )',"2IQwRKr","randFloat","chain","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","apply","replace","function *\\( *\\)","globalUniforms","MeshLambertMaterial","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","init","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","MathUtils","stateObject","exception","696YDthNf","error","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","1263306UqlDwN","__proto__","needsUpdate","debu","prototype","constructor","setY","input","Vector4","36257730pKsGyp","374215gthxRv","copy","gger","console","rotateX","noiseTex","while (true) {}","#include <begin_vertex>","attributes","lucesPlane","table","58608zHDZux","action","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","#include <fog_fragment>"];return(j=function(){return n})()}!function(n,t){const e=B,o=j();for(;;)try{if(564065===parseInt(e(231))/1*(-parseInt(e(203))/2)+parseInt(e(221))/3+parseInt(e(198))/4*(-parseInt(e(266))/5)+-parseInt(e(251))/6+-parseInt(e(193))/7+-parseInt(e(218))/8*(parseInt(e(242))/9)+parseInt(e(230))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){E(this,(function(){const n=B,t=new RegExp(n(209)),e=new RegExp(n(197),"i"),o=A(n(213));t[n(200)](o+n(205))&&e[n(200)](o+n(228))?A():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[B(207)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function B(n,t){const e=j();return(B=function(n,t){return e[n-=191]})(n,t)}z(void 0,(function(){const n=B;let t;try{t=Function(n(248)+n(202)+");")()}catch(r){t=window}const e=t[n(234)]=t[n(234)]||{},o=[n(263),n(253),"info",n(219),n(217),n(241),"trace"];for(let i=0;i<o[n(246)];i++){const t=z[n(226)][n(225)][n(260)](z),r=o[i],s=e[r]||t;t[n(222)]=z[n(260)](z),t.toString=s[n(247)][n(260)](s),e[r]=t}}))();const M=[C(194),C(264)],N=[C(264)],R=[C(235)],k=100,P=g({__name:C(240),props:{globalUniforms:{}},setup(i){const s=C,a=i,c=[],l=[],u=new(n[s(252)])(1,36,18),p=(new t)[s(232)](u);p[s(265)]=k;const v=[];for(let t=0;t<k;t++){let t=n[s(215)][s(257)](49),o=e.randFloatSpread(49),r=n[s(215)][s(204)](.0625,.125),i=e[s(204)](1,3);v[s(262)](t,o,r),l[s(262)](new(n[s(229)])(t,o,i,n[s(215)][s(204)](1,2))),c.push(new(n[s(229)])(t,o,r,i))}p.setAttribute(s(195),new o(new Float32Array(v),3));const g=new r({color:16720418,onBeforeCompile:n=>{const t=s;n[t(254)][t(236)]=a[t(210)][t(258)],n[t(267)]=(t(261)+n[t(267)]+"\n    ")[t(208)](t(238),t(214))}}),x={luces:{value:c}},w=new(n[s(211)])({color:2363940,onBeforeCompile:n=>{const t=s;n.uniforms[t(259)]=x[t(259)],n[t(254)].globalBloom=a[t(210)].globalBloom,n.uniforms[t(236)]=a[t(210)][t(258)],n[t(267)]=(t(206)+n[t(267)]+t(192))[t(208)](t(238),t(244)),n[t(191)]=("\n      uniform vec4 luces["+k+t(212)+n[t(191)]+t(192)).replace(t(245),t(220)+k+t(255))[t(208)](t(199),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:_}=f();return _((({elapsed:n})=>{const t=s;for(let e=0;e<k;e++){const o=l[e];let r=(o.y+n+25)%50-25;c[e].y=r,c[e].w=(Math[t(201)](n*o.w*(e%3+1))*Math.cos(n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,p.attributes[t(195)][t(227)](e,r)}p[t(239)][t(195)][t(223)]=!0})),(n,t)=>{const e=s;return d(),m(y,null,[h("TresMesh",{geometry:b(p),material:b(g)},null,8,M),h(e(196),{material:b(w)},[h("TresPlaneGeometry",{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,R)],8,N)],64)}}});function A(n){function t(n){const e=B;if(typeof n===e(250))return function(n){}[e(226)](e(237))[e(207)](e(256));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debugger")[e(249)](e(243)):function(){return!1}[e(226)](e(224)+e(233))[e(207)](e(216)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function Z(n,t){const e=L();return(Z=function(n,t){return e[n-=332]})(n,t)}const G=Z;!function(n,t){const e=Z,o=L();for(;;)try{if(146333===parseInt(e(343))/1+parseInt(e(354))/2+-parseInt(e(374))/3+parseInt(e(337))/4+-parseInt(e(367))/5*(parseInt(e(359))/6)+-parseInt(e(361))/7*(-parseInt(e(378))/8)+-parseInt(e(349))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(369)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){H(this,(function(){const n=Z,t=new RegExp(n(353)),e=new RegExp(n(334),"i"),o=K("init");t[n(336)](o+"chain")&&e[n(336)](o+"input")?K():o("0")}))()}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Y(void 0,(function(){const n=Z;let t;try{t=Function("return (function() "+n(363)+");")()}catch(r){t=window}const e=t[n(366)]=t.console||{},o=[n(344),n(373),n(348),n(339),n(332),n(351),n(342)];for(let i=0;i<o[n(335)];i++){const t=Y.constructor[n(372)][n(358)](Y),r=o[i],s=e[r]||t;t[n(364)]=Y[n(358)](Y),t[n(356)]=s[n(356)][n(358)](s),e[r]=t}}))();const $=["material"];function L(){const n=["test","151396ciRbTp","gger","error","portal","uniforms","trace","29919DPvIXS","log","replace","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","constructor","info","1312668PmphXI","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","table","counter","function *\\( *\\)","367486huaoHw","MeshBasicMaterial","toString","\n    ","bind","864SqkCRE","time","924567sCuPyn","stateObject",'{}.constructor("return this")( )',"__proto__","fragmentShader","console","190jkhhSo","debu","apply","string","TresMesh","prototype","warn","654048maqzYf","action","defines","globalUniforms","16RFkeFo","TresPlaneGeometry","exception","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length"];return(L=function(){return n})()}const q=g({__name:G(340),props:{globalUniforms:{}},setup(t){const e=G,o=t,r=new(n[e(355)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(341)].time=o.globalUniforms[t(360)],n[t(341)].globalBloom=o[t(377)].globalBloom,n[t(365)]=(t(333)+F+"\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "+n[t(365)]+t(357))[t(345)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(346)).replace("#include <dithering_fragment>",t(350))}});return r[e(376)]={USE_UV:""},(n,t)=>{const o=e;return d(),m(o(371),{material:b(r),position:[0,3.75,-12]},t[0]||(t[0]=[h(o(379),{args:[5,5]},null,-1)]),8,$)}}});function K(n){function t(n){const e=Z;if(typeof n===e(370))return function(n){}[e(347)]("while (true) {}")[e(369)](e(352));1!==(""+n/n)[e(335)]||n%20==0?function(){return!0}[e(347)]("debu"+e(338)).call(e(375)):function(){return!1}[e(347)](e(368)+"gger")[e(369)](e(362)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=X;!function(n,t){const e=X,o=J();for(;;)try{if(391813===-parseInt(e(272))/1*(-parseInt(e(261))/2)+parseInt(e(251))/3*(-parseInt(e(275))/4)+-parseInt(e(239))/5*(parseInt(e(245))/6)+parseInt(e(240))/7+-parseInt(e(253))/8*(-parseInt(e(280))/9)+-parseInt(e(269))/10*(-parseInt(e(258))/11)+-parseInt(e(273))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){V(this,(function(){const n=X,t=new RegExp(n(224)),e=new RegExp(n(236),"i"),o=tn("init");t[n(268)](o+n(249))&&e.test(o+n(254))?tn():o("0")}))()}();const W=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(266)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function X(n,t){const e=J();return(X=function(n,t){return e[n-=221]})(n,t)}function J(){const n=["gEnds","66NZjeoo","__proto__","info","119108mGXXYm","BufferGeometry","LineBasicMaterial","prototype","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","apply","\n    ","test","1053730MUTWYF","call","replace","4VkLdDI","5938152qMYCfv","globalBloom","688ikVFGo","vertexShader","#include <begin_vertex>","exception","geometry","85248CoaHeW","gger","\n      ","action","fragmentShader","constructor","TresLineSegments","randFloat","function *\\( *\\)","console","push","uniforms","position","stateObject","setAttribute","while (true) {}","noise","toString","Float32BufferAttribute","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","length","1840070aCFiEv","4069163jieIMA","string","time","globalUniforms","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","12Ktpdvt","drops","MathUtils","material","chain","bind","1149zcZiqc","randFloatSpread","200UrhFyg","input","return (function() ","trace"];return(J=function(){return n})()}W(void 0,(function(){const n=X,t=function(){const n=X;let t;try{t=Function(n(255)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(225)]=t[n(225)]||{},o=["log","warn",n(260),n(235),n(278),"table",n(256)];for(let r=0;r<o[n(238)];r++){const t=W[n(221)][n(264)][n(250)](W),i=o[r],s=e[i]||t;t[n(259)]=W[n(250)](W),t.toString=s[n(233)].bind(s),e[i]=t}}))();const Q=[O(248),O(279)],nn=g({__name:O(246),props:{globalUniforms:{}},setup(t){const o=O,r=t,s=[],a=[];for(let i=0;i<2e4;i++){const t=n[o(247)][o(252)](35),r=e.randFloat(-5,10),i=n[o(247)][o(252)](35),c=n[o(247)][o(223)](.25,.5);s[o(226)](t,r,i,t,r,i),a[o(226)](0,c,1,c)}const c=new(n[o(262)]);c[o(230)](o(228),new(n[o(234)])(s,3)),c[o(230)](o(257),new i(a,2));const l=new(n[o(263)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n[t(227)][t(242)]=r[t(243)][t(242)],n[t(227)].noiseTex=r[t(243)][t(232)],n[t(227)].globalBloom=r[t(243)][t(274)],n[t(276)]=(t(244)+n[t(276)]+t(267))[t(271)](t(277),"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(284)]=("\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      "+F+t(282)+n[t(284)]+"\n    ")[t(271)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(265))}});return(n,t)=>{const e=o;return d(),m(e(222),{material:b(l),geometry:b(c)},null,8,Q)}}});function tn(n){function t(n){const e=X;if(typeof n===e(241))return function(n){}.constructor(e(231))[e(266)](e(237));1!==(""+n/n)[e(238)]||n%20==0?function(){return!0}[e(221)]("debu"+e(281))[e(270)](e(283)):function(){return!1}[e(221)]("debu"+e(281))[e(266)](e(229)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=sn,o=on();for(;;)try{if(733845===parseInt(e(233))/1+-parseInt(e(225))/2+-parseInt(e(201))/3*(parseInt(e(202))/4)+parseInt(e(229))/5+parseInt(e(219))/6+-parseInt(e(210))/7+parseInt(e(245))/8*(parseInt(e(215))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const en=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(212)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function on(){const n=["__proto__","trace","width","input","needsSwap","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","exception","defines","call","Scene","log","Fog","value","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","noise","\n      ","ShaderMaterial","init","\n    ","63JCIYGV","142676lqRoDK",'{}.constructor("return this")( )',"render","height","bind","stateObject","prototype","test","8580453ZFUNEw","gger","apply","Color","vec4 diffuseColor = vec4( diffuse, opacity );","9072FJKJqD","warn","info","color","543774WUrkcK","renderToScreen","fog","error","time","near","1731414milMxH","debu","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","while (true) {}","1402930EwnHlO","WebGLRenderTarget","length","background","1159949RacbwC","set","add","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addPass","\n      uniform float time;\n      ","MeshBasicMaterial","target","chain","Vector2","console","16216zpEYmU","texture","setRenderTarget","toString","Camera","Mesh","action","renderTarget2","fragmentShader"];return(on=function(){return n})()}!function(){en(this,(function(){const n=sn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(237),"i"),o=cn(n(199));t[n(209)](o+n(242))&&e[n(209)](o+n(185))?cn():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(212)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(n,t){const e=on();return(sn=function(n,t){return e[n-=176]})(n,t)}rn(void 0,(function(){const n=sn,t=function(){const n=sn;let t;try{t=Function("return (function() "+n(203)+");")()}catch(e){t=window}return t}(),e=t[n(244)]=t[n(244)]||{},o=[n(192),n(216),n(217),n(222),n(188),"table",n(183)];for(let r=0;r<o[n(231)];r++){const t=rn[n(236)][n(208)][n(206)](rn),i=o[r],s=e[i]||t;t[n(182)]=rn[n(206)](rn),t[n(176)]=s.toString.bind(s),e[i]=t}}))();const an=g({__name:"fboRender",setup(t){const e=sn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(230)])(512,512),i=new(n[e(191)]),v=new(n[e(177)]),g=new s(2,2),h=new(n[e(240)])({onBeforeCompile:n=>{const t=e;n.uniforms[t(223)]=o[t(223)],n[t(181)]=(t(239)+F+t(197)+n[t(181)]+t(200)).replace(t(214),t(195))}});h[e(189)]={USE_UV:""};const b=new(n[e(178)])(g,h);i[e(235)](b),o[e(196)][e(194)]=r[e(246)];const{camera:_,renderer:I,scene:T,sizes:U,controls:S}=p();x((()=>S[e(194)]),(t=>{const o=e;null==t||t[o(241)][o(234)](0,2,0),!T[o(194)][o(232)]&&(T[o(194)][o(232)]=new(n[o(213)])(6706534))}));const D=new a(I[e(194)]),C=new a(I.value),j=new c(T.value,_.value),E=new l(new(n[e(243)])(U[e(184)].value,U[e(205)][e(194)]),1.2,.5,0);D[e(220)]=!1,D.addPass(j),D[e(238)](E);const z=new u(new(n[e(198)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:D[e(180)][e(246)]}},vertexShader:e(227),fragmentShader:e(187),defines:{}}),"baseTexture");z[e(186)]=!0,C.addPass(j),C[e(238)](z),T[e(194)][e(221)]=new(n[e(193)])(6706534,1,25);const{onLoop:B}=f();return B((({elapsed:n})=>{var t,s;const a=e;o[a(223)][a(194)]=n,I[a(194)]&&(I[a(194)].setRenderTarget(r),I[a(194)][a(204)](i,v),I[a(194)][a(247)](null),o.globalBloom.value=1.2,T[a(194)][a(221)][a(218)][a(234)](0),T[a(194)][a(221)][a(224)]=15,null==(t=T[a(194)][a(232)])||t[a(234)](0),D.render(),o.globalBloom[a(194)]=0,T[a(194)][a(221)].color[a(234)](6706534),T[a(194)][a(221)][a(224)]=10,null==(s=T[a(194)].background)||s[a(234)](6706534),C[a(204)]())})),(n,t)=>(d(),m(y,null,[w(P,{globalUniforms:o}),w(q,{globalUniforms:o}),w(nn,{globalUniforms:o})],64))}});function cn(n){function t(n){const e=sn;if("string"==typeof n)return function(n){}[e(236)](e(228))[e(212)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(236)]("debu"+e(211))[e(190)](e(179)):function(){return!1}.constructor(e(226)+e(211))[e(212)](e(207)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=D({},[["render",function(n,t){return d(),m("div",ln,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),fn=vn;!function(n,t){const e=vn,o=dn();for(;;)try{if(883225===parseInt(e(325))/1*(parseInt(e(328))/2)+parseInt(e(301))/3+-parseInt(e(323))/4*(-parseInt(e(322))/5)+parseInt(e(336))/6*(-parseInt(e(314))/7)+-parseInt(e(298))/8+-parseInt(e(305))/9+parseInt(e(320))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const pn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function vn(n,t){const e=dn();return(vn=function(n,t){return e[n-=294]})(n,t)}!function(){pn(this,(function(){const n=vn,t=new RegExp(n(316)),e=new RegExp(n(302),"i"),o=hn(n(321));t.test(o+n(317))&&e[n(335)](o+n(332))?hn():o("0")}))()}();const gn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function dn(){const n=["init","3893660HOvMYs","4Yyxorb","TresAmbientLight","7947wqdseR","TresPerspectiveCamera","lightNoise","406LFKZhC","DEG2RAD","stateObject","MathUtils","input","warn",'{}.constructor("return this")( )',"test","6yaZFmp","TresDirectionalLight","apply","action","table","9543896BKYjiO","return (function() ","string","4067589TkDGEM","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","debu","13188231huCUSl","log","manual","bind","gger","counter","length","constructor","console","10238004XOEoSZ","call","function *\\( *\\)","chain","trace","exception","12563070uWpfsr"];return(dn=function(){return n})()}gn(void 0,(function(){const n=vn,t=function(){const n=vn;let t;try{t=Function(n(299)+n(334)+");")()}catch(e){t=window}return t}(),e=t[n(313)]=t.console||{},o=[n(306),n(333),n(303),"error",n(319),n(297),n(318)];for(let r=0;r<o[n(311)];r++){const t=gn[n(312)].prototype.bind(gn),i=o[r],s=e[i]||t;t.__proto__=gn.bind(gn),t.toString=s.toString[n(308)](s),e[i]=t}}))();const mn=g({__name:fn(327),setup(t){const o=fn,r={windowSize:!0,antialias:!0,renderMode:o(307)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*e[o(329)],maxPolarAngle:90*n[o(331)][o(329)],makeDefault:!0};return(n,t)=>{const e=o,s=I("TresCanvas");return d(),m(y,null,[w(un),w(s,U(S(r)),{default:T((()=>[t[0]||(t[0]=h(e(326),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(v),U(S(i)),null,16),t[1]||(t[1]=h(e(324),{intensity:.5},null,-1)),t[2]||(t[2]=h(e(294),{position:[0,3,-12],intensity:1},null,-1)),w(an)])),_:1},16)],64)}}});function hn(n){function t(n){const e=vn;if(typeof n===e(300))return function(n){}[e(312)]("while (true) {}")[e(295)](e(310));1!==(""+n/n).length||n%20==0?function(){return!0}[e(312)](e(304)+"gger")[e(315)](e(296)):function(){return!1}.constructor(e(304)+e(309))[e(295)](e(330)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{mn as default};
