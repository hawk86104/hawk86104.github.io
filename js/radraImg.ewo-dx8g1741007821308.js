import{a as t,m as n,o as e}from"./@tresjs.u6hJLBm41741007821308.js";import{_ as o,Y as r}from"./three.sBrYSCgq1741007821308.js";import{_ as i,h as s}from"./three-tile.GN6Ldb5-1741007821308.js";import{_ as c}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.lUtc_86m1741007821308.js";import{d as a,a3 as u,w as p,o as l,H as f,N as m,u as h,r as g,b as d,f as y,g as I,j as b,m as w,al as _,F as j,e as v,aj as x,ak as S}from"./@vue.NRI7TcgI1741007821308.js";import{P as z}from"./tweakpane.yDiyAAkA1741007821308.js";import{_ as M}from"./informationDiv.ZByHTREf1741007821308.js";import"./postprocessing.rsQjznIU1741007821308.js";import"./@vueuse.jd1Cg91M1741007821308.js";import"./@fesjs.5qm9mpwh1741007821308.js";import"./vue-router.ArfKSsyg1741007821308.js";import"./lodash-es.pklfUAS51741007821308.js";import"./@qlin.yHhFDldE1741007821308.js";import"./pinia.uil_kwoa1741007821308.js";import"./@floating-ui.BPbuo5Gx1741007821308.js";import"./@juggle.7yjBMqoW1741007821308.js";const T=E;!function(t,n){const e=E,o=k();for(;;)try{if(553753===-parseInt(e(130))/1*(-parseInt(e(178))/2)+parseInt(e(160))/3*(parseInt(e(180))/4)+parseInt(e(132))/5*(-parseInt(e(131))/6)+parseInt(e(159))/7+parseInt(e(138))/8*(parseInt(e(186))/9)+parseInt(e(183))/10+-parseInt(e(143))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(173)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["position-y","gger","push",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresPlaneGeometry","applyMatrix4","uniform sampler2D map;\n\t","warn","constructor","function *\\( *\\)","bind","console","6550530fKDWUW","84363KbVJAF","material","init","map","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","TresGroup","color","onBeforeCompile","Vector3","exception","length","#include <displacementmap_vertex>","chain","apply","input","error","while (true) {}","test","2NIbRiR","action","36OdfNXY","scale","needsUpdate","2044100FAphgl","__proto__","counter","9NMxPJD","log","debu","vertexShader","height","position","MeshPhongMaterial","geo2pos","325637RpWlzv","3132eMEtfd","3355WfzMKG","stateObject","table","opacity","info","TresMesh","7531240kZNlHA","prototype","trace","scaleImg","rotateX","19319476BmpgKz","replace","DoubleSide"];return(k=function(){return t})()}function E(t,n){const e=k();return(E=function(t,n){return e[t-=125]})(t,n)}!function(){D(this,(function(){const t=E,n=new RegExp(t(156)),e=new RegExp(t(150),"i"),o=R(t(162));n[t(177)](o+t(172))&&e[t(177)](o+t(174))?R():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(173)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function("return (function() "+t(149)+");")()}catch(e){n=window}return n}(),e=n[t(158)]=n[t(158)]||{},o=[t(187),t(154),t(136),t(175),t(169),t(134),t(140)];for(let r=0;r<o[t(170)];r++){const n=B.constructor[t(139)][t(157)](B),i=o[r],s=e[i]||n;n[t(184)]=B[t(157)](B),n.toString=s.toString[t(157)](s),e[i]=n}}))();const F=[T(127)],P=[T(181),T(161),T(142),T(146)],A=a({__name:"radraImgShow",props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=T;let i,s;const a=n,g=new(o[e(128)])({displacementMap:new r,transparent:!0,side:o[e(145)],opacity:a.opacity,displacementScale:.5,displacementBias:0});g[e(167)]=t=>{const n=e;t[n(125)]=n(153)+t.vertexShader,t[n(125)]=t[n(125)][n(144)](n(171),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const d=a.map[e(129)](new(o[e(168)])(105,34,0));d[e(152)](a[e(163)].matrix);const y=c[e(141)](a[e(163)],{x:67,y:11},{x:140,y:57},a[e(126)]),I=[];for(let t=0;t<9;t++)I[e(148)](e(164)+t+"40.png");let b=0;const w=([i,s]=u((()=>t(I))),i=await i,s(),i);g.map=w[b],p((()=>[a[e(166)],a[e(135)]]),(([t,n])=>{g[e(135)]=n}));let _=null,j=!1;return j?(clearInterval(_),_=null,j=!1):(_=setInterval((()=>{const t=E;b=b<I[t(170)]-1?b+1:0,g.map=w[b],g[t(182)]=!0,console[t(187)](b)}),1e3),j=!0),(t,n)=>{const o=e;return l(),f(o(165),{position:[...h(d)]},[m(o(137),{scale:[h(y).x,h(y).y,t[o(126)]],material:h(g),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},n[0]||(n[0]=[m(o(151),{args:[1,1,529,420]},null,-1)]),8,P)],8,F)}}});function R(t){function n(t){const e=E;if("string"==typeof t)return function(t){}[e(155)](e(176)).apply(e(185));1!==(""+t/t).length||t%20==0?function(){return!0}[e(155)](e(188)+e(147)).call(e(179)):function(){return!1}[e(155)]("debugger")[e(173)](e(133)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=N;!function(t,n){const e=N,o=K();for(;;)try{if(572619===parseInt(e(240))/1*(parseInt(e(219))/2)+parseInt(e(209))/3+parseInt(e(243))/4+parseInt(e(214))/5*(parseInt(e(252))/6)+parseInt(e(265))/7*(-parseInt(e(262))/8)+parseInt(e(224))/9*(-parseInt(e(232))/10)+-parseInt(e(213))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(241)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=N,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(266),"i"),o=H(t(242));n[t(239)](o+t(251))&&e[t(239)](o+t(206))?H():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(241)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(t,n){const e=K();return(N=function(t,n){return e[t-=206]})(t,n)}L(void 0,(function(){const t=N;let n;try{n=Function(t(248)+t(264)+");")()}catch(r){n=window}const e=n[t(234)]=n[t(234)]||{},o=[t(208),t(238),t(249),"error",t(226),t(217),"trace"];for(let i=0;i<o[t(230)];i++){const n=L.constructor.prototype[t(210)](L),r=o[i],s=e[r]||n;n.__proto__=L[t(210)](L),n[t(229)]=s[t(229)][t(210)](s),e[r]=n}}))();const G=["object"];function K(){const t=["position","GDSource","1762551FQCLZY","透明度","exception","showLocation","MapBoxSource","toString","length","mapbox.terrain-rgb","20BiUJJo","mapbox.satellite","console","target","TileMap","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","warn","test","1EqFavU","apply","init","1981804eCwfqz","copy","domElement","action","height","return (function() ","info","debu","chain","3090648KOSRPM","controlsEvents","geo2pos","opacity","constructor","map","rotateX","plugin","call","counter","24EBYuCj","mapBoxShow3",'{}.constructor("return this")( )',"1928843zWCaKx","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","input","gger","log","2874111idbSuk","bind","while (true) {}","TresDirectionalLight","8084131cFbMEC","5pjIjGm","addBinding","Vector3","table","image","1114538nWuHfV","value","localToWorld"];return(K=function(){return t})()}const Y=W(237),Z=a({__name:W(263),setup(t){const e=W,r=g({height:200,opacity:1}),a=new z({title:"参数"});a.addBinding(r,e(247),{label:"高度",min:10,max:300,step:1}),a[e(215)](r,e(255),{label:e(225),min:0,max:1,step:.1}),new(i[e(259)][e(228)])({token:Y,dataType:e(218),style:e(233)});const u=new(i[e(259)][e(228)])({token:Y,dataType:"terrain-rgb",style:e(231),maxLevel:15}),v=new(i[e(236)])({imgSource:[new(s[e(223)])({style:"6"}),new(i[e(259)][e(223)])({style:"8"})],demSource:u,lon0:90,minLevel:2,maxLevel:20});v[e(258)](-Math.PI/2);const x=new(o[e(216)])(105,34,0),S=new(o[e(216)])(110,0,1e4),M=v[e(221)](v[e(254)](x)),T=v.localToWorld(v[e(254)](S)),D=d(),{camera:k,controls:E,scene:B,renderer:F}=n();return k[e(220)]&&k.value[e(222)].copy(T),p((()=>E[e(220)]),(t=>{const n=e;t&&(t[n(235)].copy(M),c[n(253)](t,k.value,B[n(220)]))})),p((()=>D.value),(t=>{const n=e;t&&t[n(235)].position[n(244)](M)})),c[e(227)](k[e(220)],F.value[e(245)],v),(t,n)=>{const o=e;return l(),f(j,null,[m(o(212),{ref_key:"tdLight",ref:D,position:[0,2e3,1e3],intensity:1},null,512),m("primitive",{object:h(v)},null,8,G),(l(),y(_,null,{default:I((()=>[b(A,w({map:h(v)},r),null,16,[o(257)])])),_:1}))],64)}}});function H(t){function n(t){const e=N;if("string"==typeof t)return function(t){}[e(256)](e(211))[e(241)](e(261));1!==(""+t/t)[e(230)]||t%20==0?function(){return!0}[e(256)](e(250)+e(207))[e(260)](e(246)):function(){return!1}.constructor("debu"+e(207)).apply(e(267)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=J,o=$();for(;;)try{if(629305===parseInt(e(350))/1*(-parseInt(e(375))/2)+-parseInt(e(351))/3+parseInt(e(360))/4*(-parseInt(e(376))/5)+-parseInt(e(386))/6*(-parseInt(e(366))/7)+-parseInt(e(373))/8+-parseInt(e(359))/9+parseInt(e(363))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(361)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(382),"i"),o=Q(t(381));n[t(388)](o+t(356))&&e[t(388)](o+"input")?Q():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(361)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(t,n){const e=$();return(J=function(t,n){return e[t-=350]})(t,n)}function $(){const t=["21694lPlzws","2555355KqizLn","console","while (true) {}","__proto__","debu","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","TresAmbientLight","bind","5034FOnmwQ","toString","test","exception","83UieovD","2105553olYxSE","trace",'{}.constructor("return this")( )',"action","stateObject","chain","highp","error","2170035Hmfvvn","4foKBzY","apply","#dbf0ff","39745900lThNyn","TresCanvas","return (function() ","371TvJXjV","constructor","info","prototype","log","gger","string","8283312MzRPYa","call"];return($=function(){return t})()}U(void 0,(function(){const t=J;let n;try{n=Function(t(365)+t(353)+");")()}catch(r){n=window}const e=n[t(377)]=n[t(377)]||{},o=[t(370),"warn",t(368),t(358),t(389),"table",t(352)];for(let i=0;i<o[t(383)];i++){const n=U.constructor[t(369)][t(385)](U),r=o[i],s=e[r]||n;n[t(379)]=U.bind(U),n.toString=s[t(387)][t(385)](s),e[r]=n}}))();const q=a({__name:"radraImg",setup(t){const n=J,o=g({clearColor:n(362),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(357)}),r=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=v(s(364));return l(),f(j,null,[b(c,w(o,{"window-size":""}),{default:I((()=>[i[0]||(i[0]=m("TresPerspectiveCamera",{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(h(e),x(S(r)),null,16),i[1]||(i[1]=m(s(384),{intensity:1},null,-1)),b(Z)])),_:1},16),b(M)],64)}}});function Q(t){function n(t){const e=J;if(typeof t===e(372))return function(t){}[e(367)](e(378))[e(361)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(367)](e(380)+e(371))[e(374)](e(354)):function(){return!1}.constructor(e(380)+"gger")[e(361)](e(355)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
