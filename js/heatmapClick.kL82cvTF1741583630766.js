import{D as t,o as n}from"./@tresjs.ZmhvXhx31741583630766.js";import{P as e}from"./tweakpane.yDiyAAkA1741583630766.js";import{_ as o,l as r,ak as a,al as s}from"./three.sQDbNBks1741583630766.js";import{_ as i}from"./heatmap.js-fix.FFjNWQU51741583630766.js";import{d as c,a3 as u,a2 as p,o as l,H as f,u as d,r as h,e as m,f as g,g as v,N as y,j as w,al as b,aj as x,ak as _,m as I}from"./@vue.NRI7TcgI1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";import"./@amap.-0-3lXdo1741583630766.js";const j=S;!function(t,n){const e=S,o=z();for(;;)try{if(862762===-parseInt(e(182))/1+-parseInt(e(193))/2*(-parseInt(e(192))/3)+parseInt(e(219))/4+-parseInt(e(203))/5*(-parseInt(e(189))/6)+parseInt(e(210))/7+parseInt(e(164))/8+-parseInt(e(200))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=S,n=new RegExp(t(179)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=A(t(215));n[t(204)](o+t(188))&&e[t(204)](o+t(184))?A():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(198)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(){const t=["0.8","log","4597724JMdPzU","top","object","exception","boundingBox","action","none","radius","show2dCanvas","trace","addData","toString","display","mesh_0","getX","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","debu","scale","__proto__","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","layerX","createElement","appendChild","./draco/","6680680xUSpnw","bind","absolute","block","material","setScalar","geometry","needsUpdate","getZ","counter","style","table","primitive","prototype","_renderer","function *\\( *\\)","call","canvas","1695568WjJJlp","error","input","attributes",'{}.constructor("return this")( )',"position","chain","36LBLUWe","BufferAttribute","setDataMax","12813yLWPVw","380jlcazk","push","1px solid #5384ff","return (function() ","while (true) {}","apply","Texture","9703827foKhsi","constructor","length","448345LevpIS","test","deleteAttribute","create","onclick","heatmap-canvas","stateObject","2117591zVrrYz","DoubleSide","border","setAttribute","layerY","init","set"];return(z=function(){return t})()}k(void 0,(function(){const t=S;let n;try{n=Function(t(196)+t(186)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(218),"warn","info",t(183),t(222),t(175),t(228)];for(let a=0;a<o[t(202)];a++){const n=k[t(201)][t(177)][t(165)](k),r=o[a],s=e[r]||n;n[t(158)]=k[t(165)](k),n[t(230)]=s[t(230)][t(165)](s),e[r]=n}}))();const R=[j(221)],B=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(163)}))),a=await a,s(),a);h[e(232)].position[e(216)](-5088.96,-3.08,39374.7),h.mesh_0[e(236)][e(169)](.01);let m=null,g=null,v=null;g=new(o[e(199)])((()=>{const t=e;return v=document[t(161)](t(208)),v[t(174)][t(187)]=t(166),v.style[t(220)]="40px",v[t(174)].left="0",document.body[t(162)](v),m=i[t(206)]({container:v,width:256,height:256,blur:t(217),radius:c.radius}),m[t(178)][t(181)][t(174)][t(212)]=t(195),m[t(178)][t(181)][t(207)]=function(n){const e=t;m[e(229)]({x:n[e(160)],y:n[e(214)],value:1,radius:c[e(226)]}),m[e(191)](1),g&&(g[e(171)]=!0)},m})()._renderer[e(181)]);const y={vertexShader:e(159),fragmentShader:e(234),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(211)]},w=new r(y);h[e(232)][e(168)]=w;return(t=>{const n=e;t.computeBoundingBox();const{max:r,min:a}=t[n(223)];t[n(205)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(185)][n(187)].count;e++)c.push((t[n(185)][n(187)][n(233)](e)-a.x)/s),c[n(194)]((t[n(185)][n(187)][n(172)](e)-a.z)/i);const u=new Float32Array(c);t[n(213)]("uv",new(o[n(190)])(u,2))})(h[e(232)][e(170)]),p((()=>{const t=e;v[t(174)][t(231)]=""+(c[t(227)]?t(167):t(225))})),(t,n)=>{const o=e;return l(),f(o(176),{object:d(h).mesh_0},null,8,R)}}});function S(t,n){const e=z();return(S=function(t,n){return e[t-=158]})(t,n)}function A(t){function n(t){const e=S;if("string"==typeof t)return function(t){}.constructor(e(197))[e(198)](e(173));1!==(""+t/t)[e(202)]||t%20==0?function(){return!0}[e(201)](e(235)+"gger")[e(180)](e(224)):function(){return!1}[e(201)](e(235)+"gger")[e(198)](e(209)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const M=L;!function(t,n){const e=L,o=T();for(;;)try{if(520430===parseInt(e(420))/1*(-parseInt(e(385))/2)+parseInt(e(371))/3*(parseInt(e(386))/4)+parseInt(e(391))/5+-parseInt(e(372))/6*(parseInt(e(416))/7)+parseInt(e(402))/8*(-parseInt(e(389))/9)+parseInt(e(392))/10*(parseInt(e(382))/11)+parseInt(e(412))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W(t(407));n[t(393)](o+t(419))&&e[t(393)](o+t(399))?W():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(377)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(){const t=["17859RIsyZv","while (true) {}","308118VhYQpQ","2406IZHBbO","#ffffff","constructor","info","TresPerspectiveCamera","apply","圆圈的大小","TresCanvas","toString","#030311","9372QAMWzD","heatmapClick","gger","82iKsyTv","16RmJkfn","点击左侧蓝色画框","action","2088wbqedN","bind","2208055CxladK","9910dKqsRm","test","console","debu","__proto__","counter","addButton","input","exception","log","34536RhxqGF","show2dCanvas",'{}.constructor("return this")( )',"TresDirectionalLight","call","init","string","trace","warn","length","11746524RkfOCd","radius","显示二维图","prototype","7357RUWCgF","addBinding","error","chain"];return(T=function(){return t})()}function L(t,n){const e=T();return(L=function(t,n){return e[t-=370]})(t,n)}D(void 0,(function(){const t=L;let n;try{n=Function("return (function() "+t(404)+");")()}catch(r){n=window}const e=n[t(394)]=n[t(394)]||{},o=[t(401),t(410),t(375),t(418),t(400),"table",t(409)];for(let a=0;a<o.length;a++){const n=D[t(374)][t(415)][t(390)](D),r=o[a],s=e[r]||n;n[t(396)]=D[t(390)](D),n[t(380)]=s[t(380)][t(390)](s),e[r]=n}}))();const O=c({__name:M(383),setup(t){const o=M,r={clearColor:o(381),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(417)](i,o(403),{label:o(414)}),c.addBinding(i,o(413),{label:o(378),min:.1,max:30,step:.1}),c[o(398)]({title:o(387)}),(t,e)=>{const a=o,s=m(a(379));return l(),g(s,I(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(376),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(a(405),{position:[5,10,7.5],color:a(373),intensity:5},null,-1)),e[2]||(e[2]=y("TresGridHelper",{args:[50,25]},null,-1)),(l(),g(b,null,{default:v((()=>[w(B,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function W(t){function n(t){const e=L;if(typeof t===e(408))return function(t){}[e(374)](e(370))[e(377)](e(397));1!==(""+t/t)[e(411)]||t%20==0?function(){return!0}[e(374)](e(395)+e(384))[e(406)](e(388)):function(){return!1}[e(374)](e(395)+e(384))[e(377)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
