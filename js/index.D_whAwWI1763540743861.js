import"./axios.BTiLLHcy1763540743861.js";import"./global.BBGVMLjY1763540743861.js";import{c as e}from"./lodash.CybtBilg1763540743861.js";import{u as a}from"./useChartDataFetch.hook.DFkwif_P1763540743861.js";import"./echarts.1o70n-tX1763540743861.js";import{u as t}from"./chartEditStore.CHAh6jvI1763540743861.js";import"./publicConfig.BopJbT3S1763540743861.js";import{C as s,P as i}from"./index.d.BVsifRzW1763540743861.js";import{C as o,a as l}from"./index.d.CsCeOTd81763540743861.js";import{d as n,r,w as g,q as d,H as c,I as m,o as u,J as p,F as f,X as h,O as C,N as v}from"./@vue.Co_gxueH1763540743861.js";import{_ as b}from"./@fesjs.BEMFm_yJ1763540743861.js";const y={key:"CapsuleChart",chartKey:"VCapsuleChart",conKey:"VCCapsuleChart",title:"胶囊柱图",category:l.BAR,categoryName:o.BAR,package:i.CHARTS,chartFrame:s.COMMON,image:"capsule.png"},j={dataset:{dimensions:["name","value"],source:[{name:"厦门",value:20},{name:"南阳",value:40},{name:"北京",value:60},{name:"上海",value:80},{name:"新疆",value:100}]},colors:["#c4ebad","#6be6c1","#a0a7e6","#96dee8","#3fb1e3"],unit:"",itemHeight:10,valueFontSize:16,paddingRight:50,paddingLeft:50,showValue:!0},k={class:"label-column"},H={class:"capsule-container"},_={key:0,class:"capsule-item-value"},w={class:"unit-label"},x={key:0,class:"unit-text"},S=n({__name:"index",props:{chartConfig:{type:Object,default:()=>({})}},setup(s){const i=s,o=r({defaultConfig:j,mergedConfig:null,capsuleLength:[],capsuleValue:[],labelData:[],capsuleItemHeight:""});g(()=>i.chartConfig.option,e=>{l(e)},{deep:!0});const l=(a,t)=>{let s=e(i.chartConfig.option||{});o.mergedConfig=s,"preview"==t&&(s.dataset=a),n(o.mergedConfig.dataset)},n=e=>{try{const{source:a}=e;if(!a||!a.length)return;o.capsuleItemHeight=b(o.mergedConfig.itemHeight);const t=a.map(e=>e[o.mergedConfig.dataset.dimensions[1]]),s=Math.max(...t);o.capsuleValue=t,o.capsuleLength=t.map(e=>s?e/s:0);const i=s/5,l=Array.from(new Set(new Array(6).fill(0).map((e,a)=>Math.ceil(a*i))));o.labelData=l}catch(a){console.warn(a)}},b=e=>e+"px";return d(()=>{l(i.chartConfig.option)}),a(i.chartConfig,t,e=>{l(e,"preview")}),(e,a)=>o.mergedConfig?(u(),c("div",{key:0,class:"go-dv-capsule-chart",style:C({fontSize:b(o.mergedConfig.valueFontSize),paddingLeft:b(o.mergedConfig.paddingLeft),paddingRight:b(o.mergedConfig.paddingRight)})},[p("div",k,[(u(!0),c(f,null,h(o.mergedConfig.dataset.source,e=>(u(),c("div",{key:e[o.mergedConfig.dataset.dimensions[0]],style:C({height:o.capsuleItemHeight,lineHeight:o.capsuleItemHeight})},v(e[o.mergedConfig.dataset.dimensions[0]]),5))),128)),a[0]||(a[0]=p("div",{class:"laset"}," ",-1))]),p("div",H,[(u(!0),c(f,null,h(o.capsuleLength,(e,a)=>(u(),c("div",{key:a,class:"capsule-item",style:C({height:o.capsuleItemHeight})},[p("div",{class:"capsule-item-column",style:C(`width: ${100*e}%; background-color: ${o.mergedConfig.colors[a%o.mergedConfig.colors.length]};height:calc(100% - 2px);`)},[o.mergedConfig.showValue?(u(),c("div",_,v(o.capsuleValue[a]),1)):m("",!0)],4)],4))),128)),p("div",w,[(u(!0),c(f,null,h(o.labelData,(e,a)=>(u(),c("div",{key:e+a},v(e),1))),128))])]),o.mergedConfig.unit?(u(),c("div",x,v(o.mergedConfig.unit),1)):m("",!0)],4)):m("",!0)}}),I=b(S,[["__scopeId","data-v-5bdeaba5"]]),V=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{y as C,V as _};
