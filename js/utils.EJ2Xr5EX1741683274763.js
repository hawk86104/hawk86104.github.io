import{c as t,B as n,r as e,c7 as o,C as r,V as s,a0 as i}from"./three.3wvNjL8W1741683274763.js";import{w as c}from"./@fesjs.k2eAvwyB1741683274763.js";import{a}from"./@tresjs.tqalU7S21741683274763.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.7KXDHVGx1741683274763.js";function l(){const t=["Box3","console","computeBoundingBox","json","table","transparent","set","string","chain","copy","trace","2667444IrEcvg","584862hyzIqQ","depthWrite","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","17moBBjI",'{}.constructor("return this")( )',"5xHNVkK","then","reflectivity","config","disposeBoundsTree","setY","stateObject","length","add","__proto__","exception","8912568ehOGwj","uniforms","6718024vCtsgW","test","applyMatrix4","warn","sub","Vector3","computeBoundsTree","gger","#fff","max","getSize","debu","attributes","info","depthTest","count","apply","constructor","clone","push","deleteAttribute","init","getX","forEach","prototype","getY","164508NIiFiR","children","setAttribute","divideScalar","error","negate","position","expandByObject","get","catch","getCenter","center","boundingBox","bind","material","action","side","geometry","toString","while (true) {}","3039732BGiRlC","22109103PZFwXG","call"];return(l=function(){return t})()}!function(t,n){const e=b,o=l();for(;;)try{if(957850===-parseInt(e(267))/1*(-parseInt(e(308))/2)+parseInt(e(249))/3+parseInt(e(263))/4+-parseInt(e(269))/5*(parseInt(e(264))/6)+parseInt(e(280))/7+-parseInt(e(282))/8+-parseInt(e(250))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(266),"i"),o=I(t(303));n[t(283)](o+t(260))&&e[t(283)](o+"input")?I():o("0")}))()}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(298)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();h(void 0,(function(){const t=b;let n;try{n=Function("return (function() "+t(268)+");")()}catch(r){n=window}const e=n[t(253)]=n[t(253)]||{},o=["log",t(285),t(295),t(312),t(279),t(256),t(262)];for(let s=0;s<o[t(276)];s++){const n=h[t(299)][t(306)][t(242)](h),r=o[s],i=e[r]||n;n[t(278)]=h[t(242)](h),n[t(247)]=i[t(247)][t(242)](i),e[r]=n}}))();const m=(n,e=!1)=>{const o=b;n[o(254)]();const{max:r,min:s}=n[o(241)];n[o(302)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(294)].position[o(297)];t++)e?(a[o(301)]((n[o(294)].position[o(304)](t)-(s.x+r.x)/2)/i),a[o(301)]((n[o(294)][o(235)][o(307)](t)-(s.y+r.y)/2)/c)):(a[o(301)]((n[o(294)].position[o(304)](t)-s.x)/i),a.push((n.attributes.position.getY(t)-s.y)/c));const u=new Float32Array(a);n[o(310)]("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=b;c(t,{},{method:r(237),mergeRequest:!0,responseType:r(255)})[r(270)]((t=>{n&&e(t[n]),e(t.features)}))[r(238)]((t=>{console[r(312)](t),o(t)}))})),d=t=>{const n=b,e=(new(THREE[n(252)])).setFromObject(t),o=new(THREE[n(287)]);e.getCenter(o),t[n(309)][n(305)]((t=>{const e=n;t[e(235)][e(286)](o)})),t[n(235)].copy(o[n(234)]())},w=()=>{const t=b;n[t(306)].computeBoundsTree=u,n[t(306)][t(273)]=p,e[t(306)].raycast=f},x=async t=>{const n=b,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(246)][n(300)]();m(c),c[n(288)]();const u=new o(c,{color:new r(n(290)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(243)][n(257)]=!0,u[n(243)][n(265)]=!0,u[n(243)][n(296)]=!0,u[n(243)][n(245)]=i,u[n(243)][n(281)][n(272)].value.w=20,u.material[n(281)][n(271)].value=.46,u};function b(t,n){const e=l();return(b=function(t,n){return e[t-=234]})(t,n)}function j(t){const n=b,e=[];for(let r=0;r<t[n(276)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(276)];r++)o[n(277)](e[r]);o[n(311)](e.length);for(let r=0;r<e[n(276)];r++)e[r][n(286)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=b;if(typeof t===e(259))return function(t){}[e(299)](e(248))[e(298)]("counter");1!==(""+t/t)[e(276)]||t%20==0?function(){return!0}[e(299)]("debu"+e(289))[e(251)](e(244)):function(){return!1}[e(299)](e(293)+e(289)).apply(e(275)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{d as a,j as g,w as i,y as l,m as r,x as s};
