import{a as t,B as n,s as e,c6 as r,C as o,k as s,a0 as c}from"./three.-W-Avfc61734492426993.js";import{w as i}from"./@fesjs.-ojmPQ0_1734492426993.js";import{b as a}from"./@tresjs.WiFlZbqU1734492426993.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.Ibne3Tc81734492426993.js";!function(t,n){const e=g,r=y();for(;;)try{if(725536===parseInt(e(483))/1*(parseInt(e(539))/2)+parseInt(e(557))/3+parseInt(e(481))/4*(-parseInt(e(533))/5)+parseInt(e(484))/6*(parseInt(e(500))/7)+-parseInt(e(542))/8+parseInt(e(544))/9*(parseInt(e(541))/10)+-parseInt(e(491))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(499)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=g,n=new RegExp(t(489)),e=new RegExp(t(506),"i"),r=_("init");n.test(r+t(523))&&e[t(516)](r+t(535))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(499)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=y();return(g=function(t,n){return e[t-=479]})(t,n)}m(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(479)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(538)]=n[t(538)]||{},r=[t(501),t(495),t(485),"error",t(482),t(526),t(528)];for(let o=0;o<r[t(511)];o++){const n=m.constructor[t(505)].bind(m),s=r[o],c=e[s]||n;n[t(525)]=m[t(532)](m),n[t(513)]=c.toString[t(532)](c),e[s]=n}}))();const h=(n,e=!1)=>{const r=g;n[r(537)]();const{max:o,min:s}=n[r(521)];n[r(558)]("uv");const c=o.x-s.x,i=o.y-s.y,a=[];for(let t=0;t<n[r(548)][r(498)].count;t++)e?(a.push((n[r(548)].position[r(519)](t)-(s.x+o.x)/2)/c),a.push((n[r(548)][r(498)].getY(t)-(s.y+o.y)/2)/i)):(a[r(490)]((n[r(548)].position[r(519)](t)-s.x)/c),a[r(490)]((n.attributes[r(498)][r(551)](t)-s.y)/i));const u=new Float32Array(a);n[r(497)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=g;i(t,{},{method:o(560),mergeRequest:!0,responseType:o(549)}).then((t=>{const r=o;n&&e(t[n]),e(t[r(545)])})).catch((t=>{console[o(546)](t),r(t)}))}));function y(){const t=["chain","getCenter","__proto__","table","geometry","trace","debu","while (true) {}","expandByObject","bind","2884670ykmLsu","center","input","uniforms","computeBoundingBox","console","48598YrWvJO","side","10izbtBA","9368280cMAoGB","children","10491921AbdQyL","features","error","constructor","attributes","json","applyMatrix4","getY","min","copy","clone","depthTest","material","156477CDGfmu","deleteAttribute","transparent","get","divideScalar","return (function() ","action","4mMgoaL","exception","57EudSZk","351096vsLjsk","info","reflectivity","getSize","gger","function *\\( *\\)","push","2067802rCPyyz","negate","counter","forEach","warn","add","setAttribute","position","apply","7rfxvYk","log","random","max","call","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","count","#fff","config","computeBoundsTree","length","set","toString","string","Vector3","test","depthWrite","sub","getX","value","boundingBox","setY"];return(y=function(){return t})()}const w=t=>{const n=g,e=(new THREE.Box3).setFromObject(t),r=new(THREE[n(515)]);e[n(524)](r),t[n(543)][n(494)]((t=>{const e=n;t[e(498)][e(518)](r)})),t[n(498)][n(553)](r[n(492)]())},b=()=>{const t=g;n[t(505)][t(510)]=u,n[t(505)].disposeBoundsTree=f,e[t(505)].raycast=p},x=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(527)][n(554)]();h(i),i[n(510)]();const u=new r(i,{color:new o(n(508)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(559)]=!0,u[n(556)][n(517)]=!0,u.material[n(555)]=!0,u[n(556)][n(540)]=c,u.material[n(536)][n(509)][n(520)].w=20,u.material[n(536)][n(486)][n(520)]=.46,u};function j(t){const n=g,e=[];for(let o=0;o<t.length;o++)e[n(490)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(511)];o++)r[n(496)](e[o]);r[n(561)](e[n(511)]);for(let o=0;o<e.length;o++)e[o].sub(r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=g;if(typeof t===e(514))return function(t){}[e(547)](e(530))[e(499)](e(493));1!==(""+t/t).length||t%20==0?function(){return!0}[e(547)](e(529)+"gger")[e(504)](e(480)):function(){return!1}[e(547)]("debu"+e(488))[e(499)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,b as i,d as l,h as r,x as s};
