import{m as t,e as n,D as e,U as o,C as r}from"./@tresjs.iUmyNPdW1730886807320.js";import{_ as s}from"./index.h5vjfKX51730886807320.js";import{_ as i,aP as c,a as u,X as a,cE as l}from"./three._P_a_E_Z1730886807320.js";import{P as p}from"./tweakpane.yHWGBmom1730886807320.js";import{I as f,C as h,N as m,c as g,d as y,a as d}from"./three-mesh-bvh.2CmIl65_1730886807320.js";import{d as w,a6 as j,b,a3 as _,o as I,D as v,J as x,u as A,F as T,r as R,e as z,j as C,g as M,m as O,f as S,al as F}from"./@vue.-THQH3GC1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./index.8rtnWcjM1730886807320.js";import"./@fesjs.rCnyFuNL1730886807320.js";import"./vue-router.QnjVwwup1730886807320.js";import"./lodash-es.kYt-_xTG1730886807320.js";import"./@qlin.yHhFDldE1730886807320.js";import"./pinia.ZAQpp9No1730886807320.js";import"./vue-demi.C4xddsk91730886807320.js";import"./@floating-ui.BPbuo5Gx1730886807320.js";import"./@juggle.7yjBMqoW1730886807320.js";import"./chalk.sAH7iSuz1730886807320.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1730886807320.js";import"./@iconify.3mYF4lU71730886807320.js";import"./dompurify.rQUea5mq1730886807320.js";import"./utils.3HIzu2Q21730886807320.js";import"./default.vue_vue_type_script_setup_true_lang.crqE6XvJ1730886807320.js";import"./three-mesh-ui.module.Vgt-DU5Q1730886807320.js";!function(t,n){const e=X,o=B();for(;;)try{if(475928===-parseInt(e(488))/1*(-parseInt(e(454))/2)+parseInt(e(446))/3+parseInt(e(479))/4*(parseInt(e(461))/5)+-parseInt(e(450))/6*(parseInt(e(458))/7)+parseInt(e(484))/8*(parseInt(e(482))/9)+parseInt(e(463))/10+-parseInt(e(481))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(475)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=X,n=new RegExp(t(449)),e=new RegExp(t(459),"i"),o=E(t(452));n.test(o+t(467))&&e.test(o+t(453))?E():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(475)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","70uOCWyR","firstHitOnly","8908600hTQMRW","gger","enabled","return (function() ","chain","error","action","log","call","console","value","Raycaster","apply","debu","clientY","while (true) {}","104024WRMQSN","touch","22162833sbMwxG","59688pFtGhD","stateObject","216aJyOhV","clientX","length","constructor","333XXiRIF","innerHeight","toString",'{}.constructor("return this")( )',"pointermove","info","button","1997685hHDUoe","counter","pointerup","function *\\( *\\)","3107574xXluZA","warn","init","input","5458hFqBha","pointerType","__proto__","addEventListener","7CrnqPS"];return(B=function(){return t})()}function X(t,n){const e=B();return(X=function(t,n){return e[t-=442]})(t,n)}k(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(466)+t(442)+");")()}catch(e){n=window}return n}(),e=n[t(472)]=n.console||{},o=[t(470),t(451),t(444),t(468),"exception","table","trace"];for(let r=0;r<o.length;r++){const n=k[t(487)].prototype[t(460)](k),s=o[r],i=e[s]||n;n[t(456)]=k[t(460)](k),n.toString=i[t(490)][t(460)](i),e[s]=n}}))();function E(t){function n(t){const e=X;if("string"==typeof t)return function(t){}.constructor(e(478))[e(475)](e(447));1!==(""+t/t)[e(486)]||t%20==0?function(){return!0}[e(487)](e(476)+"gger")[e(471)](e(469)):function(){return!1}.constructor(e(476)+e(464))[e(475)](e(483)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=W;!function(t,n){const e=W,o=G();for(;;)try{if(486354===parseInt(e(402))/1*(-parseInt(e(442))/2)+parseInt(e(456))/3+-parseInt(e(444))/4*(-parseInt(e(424))/5)+parseInt(e(489))/6+parseInt(e(462))/7+-parseInt(e(476))/8*(parseInt(e(466))/9)+parseInt(e(403))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(431)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(484),"i"),o=L(t(399));n[t(450)](o+t(400))&&e[t(450)](o+t(448))?L():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=G();return(W=function(t,n){return e[t-=399]})(t,n)}P(void 0,(function(){const t=W;let n;try{n=Function(t(414)+t(435)+");")()}catch(r){n=window}const e=n[t(480)]=n.console||{},o=[t(422),t(443),t(467),"error",t(405),t(451),"trace"];for(let s=0;s<o.length;s++){const n=P[t(488)][t(469)][t(477)](P),r=o[s],i=e[r]||n;n[t(427)]=P.bind(P),n.toString=i[t(454)][t(477)](i),e[r]=n}}))();const q=[H(430),H(418)],D=[H(430)];function G(){const t=["apply","setScalar","Vector3","Mesh",'{}.constructor("return this")( )',"stateObject","click","getZ","normal","#023249","addButton","1787118FqleGZ","warn","312LOJJCD","firstHitOnly","getX","visible","input","value","test","table","fill","点击按钮","toString","intersectsSphere","2815506bjgVRu","raycast","BufferAttribute","setUsage","intersectObject","copy","2955463LlysZJ","counter","instance","TresSphereGeometry","8442801JxDSxb","info","setAttribute","prototype","needsUpdate","生成模型","targetMesh.value init","count","disposeBoundsTree","applyMatrix4","8etWZrN","bind","debu","setY","console","Vector2","shapecast","enabled","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","attributes","TresMeshStandardMaterial","containsPoint","constructor","2331912pjCvJP","computeBoundsTree","setZ","Sphere","init","chain","position","1pQsTjG","5189530ybOFfz","setX","exception","set","invert","matrixWorld","push","TresMesh","length","getY","Matrix4","return (function() ","BufferGeometry","targetMesh","color","material","action","scale","index","log","call","3185zBOFOi","center","gger","__proto__","controls","brushMesh","geometry"];return(G=function(){return t})()}const $=w({__name:"model",props:{controls:{}},async setup(o){const r=H;let s,w;const R=o;(()=>{const t=W;i[t(415)][t(469)].computeBoundsTree=g,i[t(415)][t(469)][t(474)]=y,i[t(434)][t(469)][t(457)]=d})();const z=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),C=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),M=new Uint8Array(3*z[r(485)][r(401)][r(473)]);M[r(452)](255);const O=new u(M,3,!0);O[r(459)](a),z[r(468)](r(417),O);const S=b(null),F=b(null),Z=b(!1),k=b(-1),B=b(.2),E=new(i[r(481)]),{camera:J,raycaster:P}=t(),G=15/255,$=78/255,L=85/255;let N=null;_((()=>{const t=r;S[t(449)]&&(console.log(t(472),S[t(449)]),S[t(449)][t(430)][t(490)](),N=z.boundsTree,((t,n,e,o,r,s)=>{const c=X;window[c(457)](c(443),(e=>{const o=c;t.x=e.clientX/window.innerWidth*2-1,t.y=-e[o(477)]/window.innerHeight*2+1,n[o(473)]=!0})),window[c(457)]("pointerdown",(u=>{const a=c;t.x=u[a(485)]/window.innerWidth*2-1,t.y=-u.clientY/window[a(489)]*2+1,o[a(473)]=u[a(445)];const l=new(i[a(474)]);l.setFromCamera(t,e[a(473)]),l[a(462)]=!0;const p=l.intersectObject(r[a(473)],!0);n[a(473)]=!0,s[a(465)]=0===p.length}),!0),window[c(457)](c(448),(t=>{const e=c;o[e(473)]=-1,t[e(455)]===e(480)&&(n[e(473)]=!1)}),!0)})(E,Z,J,k,S,R.controls[t(464)]))}));const{onLoop:U}=n();U((()=>{const t=r,n=z[t(421)];if(F[t(449)])if(R[t(428)].instance.active||!Z[t(449)])F[t(449)].visible=!1;else{F[t(449)][t(420)][t(432)](B[t(449)]),P.value.setFromCamera(E,J[t(449)]),P[t(449)][t(445)]=!0;const e=P.value[t(460)](S[t(449)],!0);if(e[t(411)]){F[t(449)].position.copy(e[0].point),R[t(428)].instance[t(483)]=!1,F[t(449)][t(447)]=!0;const o=new(i[t(413)]);o[t(461)](S[t(449)][t(408)])[t(407)]();const r=new(i[t(492)]);r[t(425)][t(461)](F[t(449)].position)[t(475)](o),r.radius=100*B.value;const s=[],c=new(i[t(433)]);if(null==N||N[t(482)]({intersectsBounds:n=>{const e=t,o=r.intersectsBox(n),{min:s,max:i}=n;if(o){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let o=0;o<=1;o++)if(c[e(406)](0===t?s.x:i.x,0===n?s.y:i.y,0===o?s.z:i.z),!r[e(487)](c))return f;return h}return o?f:m},intersectsTriangle:(n,e,o)=>{if(o||n[t(455)](r)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===k.value||2===k[t(449)]){let e=1,o=1,r=1;0===k[t(449)]&&(e=G,o=$,r=L);for(let i=0,c=s[t(411)];i<c;i++){const c=n[t(446)](s[i]);O[t(404)](c,e),O[t(479)](c,o),O[t(491)](c,r)}O[t(470)]=!0}}else F[t(449)][t(447)]=!1,R[t(428)][t(464)][t(483)]=!0}}));const K=(new p)[r(441)]({title:r(453),label:r(471)}),Q=new(i[r(415)]);return K.on(r(437),(()=>{const t=r,n=[],e=[];for(let r=0;r<O.count;r++)O[t(446)](r)===G&&O[t(412)](r)===$&&O[t(438)](r)===L&&(n[t(409)](z[t(485)][t(401)][t(446)](r),z[t(485)][t(401)][t(412)](r),z[t(485)].position[t(438)](r)),e[t(409)](z[t(485)][t(439)][t(446)](r),z[t(485)][t(439)][t(412)](r),z[t(485)][t(439)].getZ(r)));const o=new Float32Array(n);Q.setAttribute(t(401),new(i[t(458)])(o,3)),Q[t(468)](t(439),new(i[t(458)])(o,3))})),(t,n)=>{const e=r;return I(),v(T,null,[x(e(410),{ref_key:e(416),ref:S,geometry:A(z),scale:.005,material:A(C)},null,8,q),x(e(410),{ref_key:e(429),ref:F,visible:!1},n[0]||(n[0]=[x(e(465),{args:[1,40,40]},null,-1),x(e(486),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(410),{geometry:A(Q),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(486),{color:e(440),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,D)],64)}}});function L(t){function n(t){const e=W;if("string"==typeof t)return function(t){}[e(488)]("while (true) {}")[e(431)](e(463));1!==(""+t/t)[e(411)]||t%20==0?function(){return!0}[e(488)](e(478)+e(426))[e(423)](e(419)):function(){return!1}.constructor(e(478)+e(426)).apply(e(436)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=V;!function(t,n){const e=V,o=Q();for(;;)try{if(150037===-parseInt(e(296))/1+parseInt(e(327))/2*(parseInt(e(302))/3)+parseInt(e(304))/4+parseInt(e(309))/5+-parseInt(e(328))/6+parseInt(e(313))/7+-parseInt(e(321))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=V,n=new RegExp(t(311)),e=new RegExp(t(305),"i"),o=tt(t(287));n.test(o+t(326))&&e[t(323)](o+t(325))?tt():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(317)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["1832448MsTzKN","TresCanvas","test","TresAmbientLight","input","chain","99574aypwhi","895536mPIHuK","log","bind","init","value","call","pos-z.jpg","controls","table","exception","pos-y.jpg","string","235687rNKvMl","action","#999999","toString","constructor","warn","6SIRsyH","debu","1175452sAcQTA","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","error","length","1412675AXEuyk","pos-x.jpg","function *\\( *\\)","gger","616448KnupHX","info","controlsRef","neg-y.jpg","apply","collectTriangles","TresPerspectiveCamera","console"];return(Q=function(){return t})()}function V(t,n){const e=Q();return(V=function(t,n){return e[t-=285]})(t,n)}K(void 0,(function(){const t=V,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(320)]=n.console||{},o=[t(285),t(301),t(314),t(307),t(293),t(292),"trace"];for(let r=0;r<o[t(308)];r++){const n=K[t(300)].prototype[t(286)](K),s=o[r],i=e[s]||n;n.__proto__=K[t(286)](K),n[t(299)]=i[t(299)][t(286)](i),e[s]=n}}))();const Y=w({__name:N(318),setup(t){const n=N,e=R({clearColor:n(298),antialias:!0}),i=R({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=z(a(322));return I(),v(T,null,[C(A(s)),C(l,O(e,{"window-size":""}),{default:M((()=>[u[0]||(u[0]=x(a(319),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),C(A(o),O({ref_key:a(315),ref:c},i),null,16),u[1]||(u[1]=x(a(324),{intensity:1},null,-1)),(I(),S(F,null,{default:M((()=>[C($,{controls:c[a(288)]},null,8,[a(291)])])),_:1})),(I(),S(F,null,{default:M((()=>[C(A(r),{background:!1,files:[a(310),"neg-x.jpg",a(294),a(316),a(290),"neg-z.jpg"],path:a(306)})])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=V;if(typeof t===e(295))return function(t){}.constructor("while (true) {}")[e(317)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(303)+e(312))[e(289)](e(297)):function(){return!1}[e(300)](e(303)+e(312))[e(317)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
