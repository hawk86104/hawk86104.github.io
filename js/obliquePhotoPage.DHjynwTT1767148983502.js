import{importShared as s}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{Kk as m}from"./index.DTe2qqjO1767148983502.js";import{Pane as c}from"./tweakpane.BQRZXf8M1767148983502.js";import{_sfc_main as f}from"./obliquePhoto.vue_vue_type_script_setup_true_lang.C5jw2ETe1767148983502.js";import{is3DTilesetJson as _}from"./utils.Dy5vlvhc1767148983502.js";const{defineComponent:g}=await s("vue"),{createElementVNode:i,unref:v,createVNode:l,mergeProps:a,resolveComponent:w,withCtx:C,openBlock:T,createBlock:b}=await s("vue"),{reactive:x,ref:B}=await s("vue"),p=await s("three"),R=g({__name:"obliquePhotoPage",setup(P){const d={clearColor:"#201919",windowSize:!0,shadows:!0,toneMapping:p.ACESFilmicToneMapping,toneMappingExposure:1,shadowMapType:p.PCFSoftShadowMap},t=x({tilesUrl:"https://opensource.cdn.icegl.cn/3Dtiles/simpleGIS/TilesetWithDiscreteLOD/tileset.json",isRotation:!0,isRranslation:!0}),o=B(t.tilesUrl),n=new c;return n.addBinding(o,"value",{label:"tiles地址"}),n.addButton({title:"应用",label:"从url读取tiles"}).on("click",()=>{o.value!==t.tilesUrl&&(n.disabled=!0,_(o.value).then(r=>{r?t.tilesUrl=o.value:alert("这不是一个有效的3D Tiles地址"),n.disabled=!1}))}),n.addBinding(t,"isRotation",{label:"地心旋转"}),n.addBinding(t,"isRranslation",{label:"居中展示"}),(r,e)=>{const u=w("TresCanvas");return T(),b(u,a(d,{"window-size":""}),{default:C(()=>[e[0]||(e[0]=i("TresPerspectiveCamera",{position:[800,800,800],fov:60,near:1,far:2e4},null,-1)),l(v(m)),e[1]||(e[1]=i("TresAmbientLight",{intensity:1},null,-1)),e[2]||(e[2]=i("TresDirectionalLight",{position:[1,2,3],intensity:1.25},null,-1)),e[3]||(e[3]=i("TresAxesHelper",{args:[100]},null,-1)),l(f,a(t,{"rotation-x":t.isRotation?-Math.PI/2:0}),null,16,["rotation-x"])]),_:1},16)}}});export{R as default};
