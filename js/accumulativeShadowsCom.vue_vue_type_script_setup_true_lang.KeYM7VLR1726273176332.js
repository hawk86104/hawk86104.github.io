import{_ as t}from"./three.874nNzAX1726273176332.js";import{p as n}from"./@tresjs.BFyWuCYn1726273176332.js";import{d as e,P as o}from"./@pmndrs.4EygttyV1726273176332.js";import{d as a,b as r,w as s,a3 as i,o as c,E as u,L as l,aj as p,ak as f}from"./@vue.JNsx1iN61726273176332.js";const h=b;!function(t,n){const e=b,o=w();for(;;)try{if(124011===-parseInt(e(270))/1*(parseInt(e(251))/2)+parseInt(e(222))/3+parseInt(e(230))/4+parseInt(e(256))/5*(parseInt(e(205))/6)+parseInt(e(255))/7*(-parseInt(e(190))/8)+parseInt(e(208))/9+-parseInt(e(271))/10)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(226)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){d(this,(function(){const t=b,n=new RegExp(t(228)),e=new RegExp(t(258),"i"),o=I(t(259));n[t(269)](o+"chain")&&e[t(269)](o+"input")?I():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(226)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function w(){const t=["texture","181520OLJUJK","error","far","Vector3","abs","height","remove","progressiveLightMap2","lightPosition","clear","top","shadows render start","opacity","while (true) {}","near","bind","finish","counter","value","add","DirectionalLight","136418WBRmIk","debu","blend","accumulativeShadowsCom","605276WCkQBc","5PKExhI","prepare","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","right","alphaTest","__proto__","Group","TresPlaneGeometry","TresSoftShadowMaterial","console","blendWindow","prototype","test","1PRVhZD","3936090FBXWuB","log","action","position","rotate-x","sin","shadows render end","8XMIAnU","length","toString","children","gger","left","camera","intensity","width","table","shadow","bias","configure","MathUtils","update","1074828pNAUvM","radius","constructor","2084733HhNfgm","amount","exception","stateObject","set","size","cos","mapSize","TresMesh","material","return (function() ","ambient","trace","frames","648426lSkRmB","gPlane","color","randFloatSpread","apply","random","function *\\( *\\)"];return(w=function(){return t})()}m(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(218)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(266)]||{},o=[t(272),"warn","info",t(231),t(210),t(199),t(220)];for(let a=0;a<o[t(191)];a++){const n=m.constructor[t(268)][t(245)](m),r=o[a],s=e[r]||n;n[t(262)]=m[t(245)](m),n[t(192)]=s[t(192)][t(245)](s),e[r]=n}}))();const g=[h(187)],M=l(h(264),{args:[1,1]},null,-1);function b(t,n){const e=w();return(b=function(t,n){return e[t-=186]})(t,n)}const y=a({__name:h(254),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(a){const d=h,m=a;let w=r();const{extend:b,scene:y,renderer:I,camera:S}=n();b({SoftShadowMaterial:e});const x={position:(new(t[d(233)]))[d(212)](m[d(238)].x,m.lightPosition.y,m.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new o(I[d(248)],y.value,x[d(215)]),P={map:z[d(237)][d(229)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:m[d(253)],alphaTest:m[d(261)],opacity:m[d(242)],color:m[d(224)]},v=new(t[d(263)]);for(let n=0;n<x[d(209)];n++){const n=new(t[d(250)])(16777215,x[d(197)]/x[d(209)]);n.castShadow=!0,n[d(200)][d(201)]=x[d(201)],n[d(200)][d(196)][d(244)]=x[d(244)],n[d(200)][d(196)][d(232)]=x[d(232)],n[d(200)].camera[d(260)]=x[d(213)]/2,n[d(200)].camera[d(195)]=-x[d(213)]/2,n[d(200)].camera[d(240)]=x.size/2,n.shadow[d(196)].bottom=-x[d(213)]/2,n.shadow.mapSize[d(198)]=x.mapSize,n[d(200)][d(215)][d(235)]=x[d(215)],v[d(249)](n)}const _=()=>{const n=d,e=x.position.length();for(let o=0;o<v[n(193)][n(191)];o++){const a=v[n(193)][o];if(Math[n(227)]()>m[n(219)])a[n(186)][n(212)](x[n(186)].x+t[n(203)][n(225)](x[n(206)]),x[n(186)].y+t[n(203)][n(225)](x[n(206)]),x.position.z+t[n(203)].randFloatSpread(x.radius));else{let t=Math.acos(2*Math.random()-1)-Math.PI/2,o=2*Math.PI*Math[n(227)]();a[n(186)][n(212)](Math.cos(t)*Math[n(214)](o)*e,Math[n(234)](Math[n(214)](t)*Math.sin(o)*e),Math[n(188)](t)*e)}}},j=(t=1)=>{const n=d;y.value[n(249)](v),z[n(257)]();for(let e=0;e<t;e++)_(),z[n(204)](S[n(248)],m[n(267)]),console[n(272)]("shadows plm update",e);y[n(248)][n(236)](v),z[n(246)]()};s((()=>w.value),(t=>{const n=d;t&&(z[n(202)](t),z.clear(),console[n(272)](n(241)),j(m.frames),console[n(272)](n(189)))}));const W=()=>{const t=d;z[t(239)](),j(m[t(221)])};return i((()=>{const t=d;w[t(248)]&&(m.opacity&&(w[t(248)][t(217)][t(242)]=m[t(242)]),m[t(261)]&&(w[t(248)][t(217)][t(261)]=m[t(261)]),m[t(224)]&&w[t(248)][t(217)][t(224)][t(212)](m.color),m[t(253)]&&(w[t(248)].material[t(253)]=m.blend))})),s((()=>m[d(238)]),(t=>{const n=d;t&&(console[n(272)](m[n(238)]),x.position[n(212)](t.x,t.y,t.z),W())}),{deep:!0}),s((()=>[m[d(221)],m.blendWindow,m[d(219)]]),(()=>{W()})),(t,n)=>{const e=d;return c(),u(e(216),{"receive-shadow":"",ref_key:e(223),ref:w,scale:10,"rotate-x":-Math.PI/2},[M,l(e(265),p(f(P)),null,16)],8,g)}}});function I(t){function n(t){const e=b;if("string"==typeof t)return function(t){}[e(207)](e(243))[e(226)](e(247));1!==(""+t/t)[e(191)]||t%20==0?function(){return!0}[e(207)](e(252)+e(194)).call(e(273)):function(){return!1}[e(207)](e(252)+"gger").apply(e(211)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as _};
