import{m as e,k as t,a}from"./@tresjs.DIdO2Yiu1757651394539.js";import{d3 as s,d4 as n,l as o}from"./three.CMHPKQCP1757651394539.js";import{d as l,aa as i,s as c,a2 as r,G as u,o as m,u as d,r as f,h as v,e as p,f as h,I as g,j as w,a7 as j,a8 as b,a5 as _,m as P}from"./@vue.pEDXJ_3Z1757651394539.js";import"./postprocessing.BgyKo9Ns1757651394539.js";import"./@vueuse.nD2ilM161757651394539.js";const C=["object"],L=l({__name:"frameSelect",async setup(a){let l,f;const{scene:v}=([l,f]=i((()=>t("https://opensource.cdn.icegl.cn/model/operationTool/湖中小亭/湖中小亭.gltf"))),l=await l,f(),l),{camera:p,renderer:h,scene:g,sizes:w,controls:j}=e(),b=new s(p.value,g.value),_=new n(h.value,"selectBox");let P=function(e){console.log(j.value);for(const t of b.collection)t instanceof o&&t.material.emissive.set(0);b.collection.length=0,b.startPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5)},L=function(e){if(_.isDown){b.endPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5);const t=b.select();console.log("allSelected",t);for(let e=0;e<t.length;e++){const a=t[e];a instanceof o&&a.material.emissive.set(16252928)}}},T=function(e){const t=b.select();b.endPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5);for(let a=0;a<t.length;a++){const e=t[a];e instanceof o&&e.material.emissive.set(0)}};return c((()=>{document.addEventListener("mousedown",P,!1),document.addEventListener("mousemove",L,!1),document.addEventListener("mouseup",T,!1)})),r((()=>{})),(e,t)=>(m(),u("primitive",{object:d(v)},null,8,C))}}),T=l({__name:"frameSelect",setup(e){const t=f({alpha:!0,antialias:!0,autoClear:!1}),s=f({enableDamping:!1,enableZoom:!1,autoRotate:!1,enablePan:!1,enableRotate:!1,makeDefault:!0});return(e,n)=>{const o=v("TresCanvas");return m(),p(o,P({clearColor:"#201919","window-size":""},t),{default:h((()=>[n[0]||(n[0]=g("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,10,-28]},null,-1)),n[1]||(n[1]=g("TresAmbientLight",{intensity:1},null,-1)),w(d(a),j(b(s)),null,16),(m(),p(_,null,{default:h((()=>[w(L)])),_:1}))])),_:1},16)}}});export{T as default};
