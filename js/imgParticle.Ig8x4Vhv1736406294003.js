import{b as t,U as n}from"./@tresjs.AACxYGk_1736406294003.js";import"./index.OdIKdE2e1736406294003.js";import{P as o}from"./tweakpane.yHWGBmom1736406294003.js";import{_ as e,aB as r}from"./three.jaHX2_hY1736406294003.js";import{d as s,a4 as i,w as u,o as c,D as a,J as l,u as p,aj as f,ak as m,r as _,e as g,f as d,g as h,j as v,al as C,m as y}from"./@vue.yG49nQHr1736406294003.js";import{_ as j}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.vfXujXM91736406294003.js";import"./@vueuse.d_orRt1V1736406294003.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.0QKM4d061736406294003.js";import"./all.three.PHlVv3xt1736406294003.js";import"./oimophysics.x0jH7fze1736406294003.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.XOk4pIG61736406294003.js";import"./index.kRzWk3zA1736406294003.js";import"./three-stdlib.BOoafp_E1736406294003.js";import"./@pmndrs.4D3EB6G21736406294003.js";import"./object-hash.rVwfFGxE1736406294003.js";import"./@amap.wPPLvrz51736406294003.js";import"./jszip.PTcwYbUP1736406294003.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.6WK4MLOo1736406294003.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.o5YZuI4T1736406294003.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.tWJgON9Z1736406294003.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.QYAmTxdk1736406294003.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.2HGYjM5S1736406294003.js";const w=x;!function(t,n){const o=x,e=F();for(;;)try{if(563664===parseInt(o(502))/1+-parseInt(o(527))/2*(parseInt(o(486))/3)+parseInt(o(531))/4*(parseInt(o(505))/5)+-parseInt(o(496))/6*(-parseInt(o(519))/7)+-parseInt(o(493))/8+parseInt(o(522))/9+parseInt(o(487))/10*(parseInt(o(528))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const I=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[x(509)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){I(this,(function(){const t=x,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(494),"i"),e=A(t(530));n[t(483)](e+t(495))&&o.test(e+t(523))?A():e("0")}))()}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();P(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(512)+t(474)+");")()}catch(o){n=window}return n}(),o=n[t(473)]=n[t(473)]||{},e=[t(477),t(529),t(524),t(492),t(470),t(508),t(478)];for(let r=0;r<e[t(480)];r++){const n=P[t(514)][t(490)][t(476)](P),s=e[r],i=o[s]||n;n.__proto__=P[t(476)](P),n.toString=i.toString.bind(i),o[s]=n}}))();const b={position:[-8,10,-2],scale:.02},z=[w(516),"color_list"];function x(t,n){const o=F();return(x=function(t,n){return o[t-=470]})(t,n)}function F(){const t=["636wqnrah","string","#ff0000","gger","./logo.png","canvas","577016jMTzFG","TresShaderMaterial","set","565mXLUKf","random","zPos","table","apply","width","data","return (function() ","customColor","constructor","while (true) {}","position","imgParticleMesh","height","18368OUMGRO","TresBufferGeometry","value","5858505zmIcag","input","info","image","uniforms","2tPBplX","3949GrdstB","warn","init","4276AFiebA","exception","stateObject","useCustomColor","console",'{}.constructor("return this")( )',"action","bind","log","trace","createElement","length","push","debu","test","TresPoints","counter","1121868THlLUc","6170gIsoLG","getImageData","Color","prototype","call","error","7286280yAUsDF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain"];return(F=function(){return t})()}const M=s({__name:w(517),props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:w(498)}},async setup(n){const o=w;let s,_;const g=n,d=([s,_]=i((()=>t([o(500)]))),s=await s,_(),s),h=document[o(479)](o(501)),v=d[o(525)][o(510)],C=d.image.height;h.width=v,h[o(518)]=C;const y=h.getContext("2d");null==y||y.drawImage(d.image,0,0);const j=null==y?void 0:y[o(488)](0,0,v,C)[o(511)],I=[],P=[];if(j)for(let t=0;t<C;t++)for(let n=0;n<v;n++){const e=4*(t*v+n);if(j[e+3]>0){const r=j[e]/255,s=j[e+1]/255,i=j[e+2]/255,u=100*Math[o(506)]();I[o(481)](n,-t,u),P.push(r,s,i)}}const x=new Float32Array(I),F=new Float32Array(P),M={uniforms:{zPos:{value:g.zPos},useCustomColor:{value:g.useCustomColor},customColor:{value:new(e[o(489)])(g.customColor)}},vertexShader:"\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}",fragmentShader:"\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}",transparent:!0,depthTest:!1,blending:r};return u((()=>[g[o(507)],g[o(472)],g[o(513)]]),(([t,n,e])=>{const r=o;M[r(526)].zPos[r(521)]=t,M[r(526)][r(472)][r(521)]=n,M[r(526)].customColor[r(521)][r(504)](e)})),(t,n)=>{const e=o;return c(),a(e(484),b,[l(e(520),{position:[p(x),3],color_list:[p(F),3]},null,8,z),l(e(503),f(m(M)),null,16)])}}});function A(t){function n(t){const o=x;if(typeof t===o(497))return function(t){}[o(514)](o(515)).apply(o(485));1!==(""+t/t)[o(480)]||t%20==0?function(){return!0}.constructor(o(482)+o(499))[o(491)](o(475)):function(){return!1}.constructor(o(482)+o(499)).apply(o(471)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const T=S;function S(t,n){const o=L();return(S=function(t,n){return o[t-=332]})(t,n)}!function(t,n){const o=S,e=L();for(;;)try{if(128767===parseInt(o(356))/1+parseInt(o(335))/2+-parseInt(o(342))/3*(-parseInt(o(338))/4)+-parseInt(o(353))/5*(-parseInt(o(374))/6)+parseInt(o(367))/7*(parseInt(o(334))/8)+parseInt(o(357))/9*(parseInt(o(354))/10)+-parseInt(o(347))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const G=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[S(352)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function L(){const t=["string","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","TresPerspectiveCamera","addBinding","init","886172uJuhXt","toString","bind","table","return (function() ","使用自定义颜色","action","654Yxzgro","chain","constructor","counter","__proto__","TresAmbientLight",'{}.constructor("return this")( )',"16XoqVZa","79296yPQBKL","input","TresCanvas","35884PlRLru","zPos","function *\\( *\\)","prototype","42KrIHMD","warn","debu","stateObject","call","8227296TJyhnC","console","trace","gger","#ff0000","apply","7195cpZdtk","4990ijrEqa","test","194133MiJLmA","1935CVIbGL","自定义颜色","imgParticle"];return(L=function(){return t})()}!function(){G(this,(function(){const t=S,n=new RegExp(t(340)),o=new RegExp(t(362),"i"),e=U(t(366));n[t(355)](e+t(375))&&o.test(e+t(336))?U():e("0")}))()}();const B=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[S(352)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();B(void 0,(function(){const t=S;let n;try{n=Function(t(371)+t(333)+");")()}catch(r){n=window}const o=n[t(348)]=n[t(348)]||{},e=["log",t(343),"info",t(363),t(361),t(370),t(349)];for(let s=0;s<e.length;s++){const n=B[t(376)][t(341)].bind(B),r=e[s],i=o[r]||n;n[t(378)]=B[t(369)](B),n[t(368)]=i.toString[t(369)](i),o[r]=n}}))();const D=s({__name:T(359),setup(t){const e=T,r={clearColor:"#050505",antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=_({zPos:1,useCustomColor:!1,customColor:e(351)}),u=new o({title:"参数"});return u[e(365)](i,e(339),{label:"厚度",min:.5,max:10,step:.5}),u.addBinding(i,"useCustomColor",{label:e(372)}),u[e(365)](i,"customColor",{label:e(358)}),(t,o)=>{const u=e,a=g(u(337));return c(),d(a,y(r,{"window-size":""}),{default:h((()=>[o[0]||(o[0]=l(u(364),{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),v(p(n)),o[1]||(o[1]=l(u(332),{intensity:.5},null,-1)),(c(),d(C,null,{default:h((()=>[v(M,f(m(i)),null,16)])),_:1})),(c(),d(C,null,{default:h((()=>[v(p(j),y({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function U(t){function n(t){const o=S;if(typeof t===o(360))return function(t){}[o(376)]("while (true) {}").apply(o(377));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(344)+"gger")[o(346)](o(373)):function(){return!1}[o(376)](o(344)+o(350)).apply(o(345)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{D as default};
