import{e as t,F as n,a as e}from"./@tresjs.BuwLZoeX1747645272909.js";import"./index.WdGY26gg1747645272909.js";import{P as r}from"./tweakpane.C0HtAJSg1747645272909.js";import{d as o,w as c,G as i,o as a,ak as u,al as s,a5 as f,I as W,j as d,m as v,u as l,r as x,h as g,e as m,f as p,am as P}from"./@vue.C_fjx3FT1747645272909.js";import{a as y}from"./three.BAUoVmiW1747645272909.js";import{_ as h}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.1377MrLH1747645272909.js";import"./postprocessing.CLnpf0401747645272909.js";import"./@vueuse.BPE9cXaJ1747645272909.js";import"./all.three._RVz8_Ac1747645272909.js";import"./oimophysics.BBtHVm4j1747645272909.js";import"./reflectorDiffuse.AO-eISDE1747645272909.js";import"./vite-plugin-qiankun.B06WoCqG1747645272909.js";import"./index.BQSPDOZo1747645272909.js";import"./object-hash.BRrhoF4A1747645272909.js";import"./@amap.CGUF9xH41747645272909.js";import"./jszip.DRIab29z1747645272909.js";import"./three-stdlib.Bu_tEnei1747645272909.js";import"./whiteFloor.B9L7zxla1747645272909.js";!function(){function t(t,n,e,r,o){return C(e-443,o)}function n(t,n,e,r,o){return C(t-181,r)}var e=w();function r(t,n,e,r,o){return C(e- -261,n)}for(;;)try{if(124944===parseInt(r(0,"u%QP",111))/1+parseInt(C(194- -187,"Z6To"))/2*(-parseInt(r(0,"iys]",15))/3)+parseInt(r(0,"CtZ&",109))/4+parseInt(n(557,0,0,"Zv5^"))/5*(parseInt(C(24- -383,"QMzq"))/6)+-parseInt(t(0,0,774,0,"Z6To"))/7+parseInt(t(0,0,745,0,"&^C3"))/8+-parseInt(n(482,0,0,"*AO!"))/9*(parseInt(n(555,0,0,"0H^x"))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var S,k=(S=!0,function(t,n){function e(t,n,e,r,o){return C(o- -682,n)}function r(t,n,e,r,o){return C(r- -866,o)}if(r(0,0,0,-472,"&7ha")!==e(0,"C9YO",0,0,-295)){var o=S?function(){function o(t,n,e,o,c){return r(0,0,0,c-1409,n)}if(o(0,"NK0b",0,0,869)!==o(0,"s]nL",0,0,832))return!1;if(n){if("PoQWD"===e(0,"Wd]p",0,0,-334)){var c=n[o(0,"BqoD",0,0,824)](t,arguments);return n=null,c}_0x443884=_0x901e13}}:function(){};return S=!1,o}return!0})(void 0,(function(){function t(t,n,e,r,o){return C(e- -117,r)}return k[t(0,0,288,"ewUa")]().search("(((.+)+)+)+$")[t(0,0,140,"*AO!")]().constructor(k).search(C(752-367,"DIM5"))}));k(),function(){function t(t,n,e,r,o){return C(n- -670,r)}function n(t,n,e,r,o){return C(r- -139,e)}function e(t,n,e,r,o){return C(n-281,e)}function r(t,n,e,r,o){return C(t-629,r)}if("lsoKl"===e(0,619,"&$9l")){var o;try{e(0,556,"u%QP")!==n(0,0,"C9YO",121)?_0xaecd1e=_0x4c8cc8(C(318,"Zv5^")+e(0,661,"S2t^")+");")():o=Function("return (function() "+t(0,-403,0,"CY&K")+");")()}catch(s){if(r(946,0,0,"w]N8")===n(0,0,"aFMa",132))o=window;else{var c=_0x2da417[n(0,0,"ewUa",198)].prototype[t(0,-380,0,"NK0b")](_0x434d94),i=_0x205aea[_0x179db6],a=_0x5ea573[i]||c;c.__proto__=_0x1e33bf[r(912,0,0,"ewUa")](_0x4a3f15),c[r(948,0,0,"DIM5")]=a[n(0,0,"w]N8",205)][t(0,-331,0,"%5P4")](a),_0x14257b[i]=c}}return o}var u=_0xed7645[e(0,642,")WRN")](_0x95466e,arguments);return _0x49ce67=null,u}().setInterval(R,4e3);var _,z=(_=!0,function(t,n){function e(t,n,e,r,o){return C(r- -949,t)}function r(t,n,e,r,o){return C(t- -20,n)}function o(t,n,e,r,o){return C(o-694,e)}if(o(0,0,"s]nL",0,1071)===e("w]N8",0,0,-578)){var c=_?function(){function r(t,n,e,r,c){return o(0,0,r,0,n- -1466)}function c(t,n,e,r,c){return o(0,0,e,0,r- -492)}function i(t,n,r,o,c){return e(o,0,0,t-668)}function a(t,n,r,o,c){return e(r,0,0,t-572)}if(a(-56,0,"CY&K")===i(101,0,0,"OV5g")){if(_0x2fcb8b){var u=_0x17590e[a(-30,0,"o#eT")](_0x322a92,arguments);return _0x543249=null,u}}else if(n){if(r(0,-442,0,"QMzq")!==c(0,0,"QMzq",590)){var s=n[a(-30,0,"o#eT")](t,arguments);return n=null,s}return function(t){}[r(0,-374,0,"o#eT")](i(71,0,0,")WRN"))[r(0,-412,0,"D(Ij")](c(0,0,"cO#U",488))}}:function(){};return _=!1,c}(function(){return!1})[r(323,"CtZ&")](o(0,0,"CY&K",0,994)+r(366,"S2t^"))[o(0,0,"Zv5^",0,1097)]("stateObject")});function C(t,n){var e=w();return C=function(n,r){var o=e[n-=257];if(void 0===C.HzPWPP){var c=function(t){for(var n,e,r="",o="",i=r+c,a=0,u=0;e=t.charAt(u++);~e&&(n=a%4?64*n+e:e,a++%4)?r+=i.charCodeAt(u+10)-10!=0?String.fromCharCode(255&n>>(-2*a&6)):a:0)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var s=0,f=r.length;s<f;s++)o+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(o)};C.KDwkBD=function(t,n){var e,r,o=[],i=0,a="";for(t=c(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)i=(i+o[r]+n.charCodeAt(r%n.length))%256,e=o[r],o[r]=o[i],o[i]=e;r=0,i=0;for(var u=0;u<t.length;u++)i=(i+o[r=(r+1)%256])%256,e=o[r],o[r]=o[i],o[i]=e,a+=String.fromCharCode(t.charCodeAt(u)^o[(o[r]+o[i])%256]);return a},t=arguments,C.HzPWPP=!0}var i=n+e[0],a=t[i];if(a)o=a;else{if(void 0===C.FTkfDc){var u=function(t){this.LlHftJ=t,this.bIrkwL=[1,0,0],this.aXayhP=function(){return"newState"},this.XIwvGe="\\w+ *\\(\\) *{\\w+ *",this.mSbLHe="['|\"].+['|\"];? *}"};u.prototype.iyIOvn=function(){var t=new RegExp(this.XIwvGe+this.mSbLHe).test(this.aXayhP.toString())?--this.bIrkwL[1]:--this.bIrkwL[0];return this.kRkCkn(t)},u.prototype.kRkCkn=function(t){return Boolean(~t)?this.eaMApF(this.LlHftJ):t},u.prototype.eaMApF=function(t){for(var n=0,e=this.bIrkwL.length;n<e;n++)this.bIrkwL.push(Math.round(Math.random())),e=this.bIrkwL.length;return t(this.bIrkwL[0])},new u(C).iyIOvn(),C.FTkfDc=!0}o=C.KDwkBD(o,r),t[i]=o}return o},C(t,n)}function w(){var t=["W6XNW4JcP8k3","W4LbW5hdS8ku","W43cVmobcW","pCkzW4pcI0NcTZxdNSonW5FcOq","FINcGeBdUa","jSkaW5CJ","W5lcUeZcGq","Aaz+e3ldGx8","tuFdICofWQK","DdRcUsOhW57cQmkUq0fyW5hcOwX4yCoOWQVcLW","W5reW7/dOmkzW5ZdTtW","q8oDWPBdTmk0kCk7WPhcHvRdTa","lbPpBb8","W7xdJsTrWQLYW6FcR8oF","eMldPaa1","AdlcUGKq","W5eRW5xcIsa7","WRFcVqDiW6e","Ae3cKw1BW5JdJdS","lcvImW","dSoBWPz2cW","lbPfj08","WPWcWPNcQSoECGFcHvmDWOJcMG","CmkVW6pdRxmGgftdRa","WP5sWQFcUW","F8osCCogWPifW4WiW5hcHCkm","WQhcIMXgWPa","W5NcVSkrWQmDWRXYzmkD","W43cSSodfhlcO1FcPGBcOMS","dxZdNGii","ysNdKSob","WOj7W6RcUb1JW59mCW","W6LiWO5FlIBdKu/cKmk+pG","fqnupMy","WQRcIhX7EepcICk0WPP0WRm","FLddRSo7WRm+EXq","WQ7dOWtdQun1qCk/WPS","WRBcNwPCWPb/WQtdK8o2W6NcNapdPWCkpW/dM8oA","W6SSiSoGW5W","g8kieCkKW6a","pLddGtSldSksW4ej","p3JdOH/cQ8oUWOBcJJbuBh8","cghdGtWq","jCknW407WOqoWQuIW4TcW7JdOCo/W5fe","jJ9Qma","mCo9WRldM2OX","CL1OdSkhgLi1s8k0W5epW6xcQva","W7PYW4BdKmkE","zMnAWQSYWO4Z","yc/dKSowW7JdJmkStSoCWOKu","EmodW6XhgIxdRaNcJCoyWQW","W4JcVmkoWRSl","m8kvW5q7WPG","W4H8qtmc","WPmodqdcJa","WRJdVHpdHv11tCkIWOnSW4u","W5P5W4ddQCk0","W4xcPSkvWRKK","g2NdLGyM","WPRdUSogW6jeWOzOySkTW7RcOq","ySoOW7zBpG","W7VdKIm+pGhcTCk2WQvpWOjA","qgBdRCofWPa","lrddSIWFWONdJtpcOeP9WOq","W4yZWPxcJtS9WOJcO8k/WRSkdSordIK0DmoWohuRWQPUWP3cMJdcNxBdHgZdI8kM","WPtdQG/cSsxcGxVdUSk/","WQmPoZZcMa","n2RdUcC+W5pdQ8osAG","W40GeIRdJW","nSkaW4yI","zchcP2FdVW","WR/cHtbkWO1/W7FcJ8oIW6NcKrtdVbXnC1xcL8koW6GEt3pcKw5slN3dNmo2imkg","WPShWPNcQSoBcGdcThC7WPO","m8ozWQlcNhG","oSkFDmkKWRaQW4e","W5rkW47dUmko","WOGdWOtcUSoaWPZcShjEyqby","WQpcN3TB","cmkHzcHj","hrfQbeS","W65/W5NcOSkG","jmoYWRfQaa","W6y5pmoRW5fQ","WQ3cLNHg","W408W5tcMJSNWOlcP8kO","W4GfW7NcVJS","W4hcKSoEk2G","cHfan20","W6nGW44","W6KZpmo/W5fWCCofqSknW5O","bvpcG1uykq","fYxcUmoUWRu","W71gWPjc","W5qGW4VcMYa","zY/cVtmm","W7ldO8kuWQe","W5RcSSo+e3tcUeZcOG","CctdR8okW60","Cgm1ytRdMH7dRCk3WRxcUG","W7eHFmoVW4PSD8osrmkxW4VdKfGndmkHrILnmwrzaelcQKTPxCohsNSg","zCklWQNdUq","WRTWwcXtWR7dRIy","Bd3cO0xdOa","W6K0m8oLW4S","kmk3yszp","iSkjmmkgW5a","W6TxWPbaiW","vtZcIxXxtmkzW5KNrXCS","WQhcVSolW7ZcQSkTBaujCget","amo+WQLClG","DNHvWQW4WQ00WOlcJg87","nbaxBHpcPHldKx5BW6SIWQGSWR/dS3ZdI8obW7yBW4/cImoSWPJcICkvWRlcGSotW7tdTW","y0bVaCkwuXuVgCoRW6GoW6xdUhhdTa","W6XGW4FcVCk2W6FdTq","W6zHW4/cOq","i0JcG3yF","W5joW5JdOCkzW5VcU3mtpuuFCSoPfLfNrSoF","WQxdTHddMLy","W5NcPgiK","uLBcJ31l","W4u+eshcI8oSDq","FMvvgGPq","CmkaWQZdPCoV","mqpcRmov","gmkQnCkAW7q","W5RcVxWSjG","WPZcSbrZ","W4ZcTmodaW","tvZcVCkGFG","BKFcTMXBW5/cGNtcSNraWO7dLmkgWO3cOCkOWQXe","W5LBvsSVc8o1","bCkaW6dcP8oS","ycJdNComW6i","W4StncNdJW","WPNcVH9L","zLddMG","WRdcL01DWPb4W6RcNa","CJdcNIShW5NdPSoH","ogZdPZ01","W5S7W5xcJsa6WPtcUCoTW6q1uSkEvL0/","ANyGAdhcR0a0EthcKtK","yCokW6v7la","FvlcSNvq","jmkfW67cGgu","kWHBEa","W74RoMewW6ldKIBcSvmouG","W4ylW7ZdVSkVWQVcUqnzW5KznSkF","B8ojW7fa","pczGogK","WQPxi0tdNSkqdqpdOSkfnJJcHcuprd14W5mkWOuPWPDxzvDozSodW7mdk0un","WQldTq7dUa","pqHnEa7cPKhcJwPBW6y1WRm3W7JcVYBcH8kv","W5GTW4SYwq"];return(w=function(){return t})()}!function(){z(this,(function(){function t(t,n,e,r,o){return C(r- -601,t)}function n(t,n,e,r,o){return C(n-750,o)}function e(t,n,e,r,o){return C(n-208,t)}if("mdnHt"===n(0,1054,0,0,"QMzq")){if(_0x2a3d3f)return _0x32a483;_0x3fe8d2(0)}else{var r=new RegExp(n(0,1045,0,0,"&7ha")),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),c=R(e("dCr!",514));if(r[t("U$52",0,0,-192)](c+n(0,1009,0,0,"o#eT"))&&o[(u=1096,s="GQKQ",C(u-817,s))](c+e("&7ha",610))){if(C(-280- -655,"iys]")===t("U$52",0,0,-323)){var i=_0x42558a?function(){if(_0x479713){var t=_0x11454c[(e=345,r="u%QP",n(0,e- -703,0,0,r))](_0x40349b,arguments);return _0x420923=null,t}var e,r}:function(){};return _0x22fb7b=!1,i}R()}else if(n(0,1073,0,0,"&$9l")===n(0,1037,0,0,"GG4c")){var a=_0x4e1b7a('return (function() {}.constructor("return this")( ));');_0x2a5515=a()}else c("0")}var u,s}))()}();var b,I=(b=!0,function(t,n){function e(t,n,e,r,o){return C(e-469,n)}function r(t,n,e,r,o){return C(r-885,e)}if(r(0,0,"7pU4",1150)!==r(0,0,"D(Ij",1251)){var o=b?function(){function o(t,n,e,o,c){return r(0,0,c,t- -1009)}function c(t,n,r,o,c){return e(0,t,r- -661)}if("zsCxX"===e(0,"BaBS",768)){if(n){if(c("dCr!",0,81)===c("Zv5^",0,132)){var i=n.apply(t,arguments);return n=null,i}_0x51b5ca(this,(function(){function t(t,n,e,r,c){return o(n- -125,0,0,0,r)}var n,e,r,i,a=new _0xc3a54e(t(0,19,0,"jBIw")),u=new _0x2b5925("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=_0x2ca312(t(0,84,0,"&^C3"));a[(r="0H^x",i=39,o(i- -152,0,0,0,r))](s+t(0,39,0,"%5P4"))&&u[(n=")WRN",e=1179,c(n,0,e-1057))](s+t(0,12,0,"Wd]p"))?_0x496c08():s("0")}))()}}else if(_0x34ef57){var a=_0x22a4d3.apply(_0xfe9183,arguments);return _0x54d14b=null,a}}:function(){};return b=!1,o}_0x16a724(0)});I(void 0,(function(){function t(t,n,e,r,o){return C(t-905,e)}function n(t,n,e,r,o){return C(n-966,e)}function e(t,n,e,r,o){return C(e- -488,n)}var r;function o(t,n,e,r,o){return C(n-876,o)}function c(t,n,e,r,o){return C(e-223,o)}try{if(e(0,"7pU4",-98)!==e(0,"GMKE",-119))r=Function(n(0,1312,"S2t^")+'{}.constructor("return this")( ));')();else _0x23331a()}catch(x){r=window}for(var i=r.console=r[o(0,1233,0,0,"sVn#")]||{},a=[e(0,"w]N8",-197),o(0,1204,0,0,"mg&9"),n(0,1236,"rZ2d"),e(0,"iys]",-125),"exception",c(0,0,607,0,"DIM5"),"trace"],u=0;u<a[e(0,"&7ha",-163)];u++)if(e(0,"&$9l",-194)!==n(0,1274,"Q1^V")){var s=new _0x89843d("function *\\( *\\)"),f=new _0x58e19f(e(0,"iys]",-183),"i"),W=_0x148b3b("init");s.test(W+t(1214,0,"rZ2d"))&&f[c(0,0,526,0,"GMKE")](W+n(0,1317,"&$9l"))?_0x348097():W("0")}else{var d=I.constructor[o(0,1269,0,0,"&7ha")][t(1258,0,"QMzq")](I),v=a[u],l=i[v]||d;d[t(1254,0,"&$9l")]=I[t(1179,0,"BqoD")](I),d.toString=l.toString.bind(l),i[v]=d}}))();function R(t){function n(t){function e(t,n,e,r,o){return C(e-196,o)}function r(t,n,e,r,o){return C(n- -460,t)}function o(t,n,e,r,o){return C(r-245,t)}function c(t,n,e,r,o){return C(e-961,r)}if(r("EyfD",-147)!==r("%5P4",-54))return _0x342e58;if(typeof t===r("$&!b",-183)){if(c(0,0,1317,"Z6To")===o("GQKQ",0,0,645))return function(t){}[r("BaBS",-148)](e(0,0,551,0,"jBIw"))[r("EyfD",-202)](o("1*no",0,0,628));_0x53d699=_0x2f081f}else if(1!==(""+t/t)[r("o#eT",-69)]||t%20==0)if(e(0,0,558,0,"cO#U")===r("Z6To",-95))(function(){function t(t,n,r,o,c){return e(0,0,c- -695,0,o)}if(t(0,0,0,"ewUa",-104)!==t(0,0,0,"Wd]p",-219))return!0;(function(){return!0})[t(0,0,0,"o#eT",-101)]("debugger").call("action")})[r("KRD1",-119)]("debu"+o("NK0b",0,0,527))[r("ewUa",-149)](c(0,0,1360,"aFMa"));else{var i;try{i=_0x453eb7(C(97- -188,"u%QP")+r("o#eT",-52)+");")()}catch(l){i=_0x9476e3}for(var a=i[c(0,0,1230,"rZ2d")]=i.console||{},u=[c(0,0,1358,"rZ2d"),c(0,0,1362,"KRD1"),e(0,0,588,0,"S2t^"),r("S2t^",-125),c(0,0,1306,"dCr!"),"table","trace"],s=0;s<u.length;s++){var f=_0x1cb33b[o("GMKE",0,0,604)][c(0,0,1297,"D(Ij")][c(0,0,1314,"QMzq")](_0x12e3ef),W=u[s],d=a[W]||f;f[r("brj&",-120)]=_0x4b9d3f[c(0,0,1365,"60bI")](_0x4bd3c6),f.toString=d[e(0,0,523,0,"u%QP")][e(0,0,486,0,"NK0b")](d),a[W]=f}}else{if("uRkdQ"===r("EyfD",-81)){var v=_0x4ab5c2[c(0,0,1350,"rZ2d")](_0x5bfb8d,arguments);return _0x552397=null,v}(function(){function t(t,n,e,r,c){return o(t,0,0,n- -566)}if("rbRwr"!==t("7pU4",8))return!1;(function(){var n;try{n=_0x4d876c(e(-574,"CY&K",-603,-610,-655)+e(-612,"&7ha",-537,-481,-551)+");")()}catch(r){n=_0x48fc48}function e(n,e,r,o,c){return t(e,r- -589)}return n})()[t("dCr!",43)](_0x5a11da,4e3)})[o("ApnE",0,0,565)](r(")WRN",-82)+"gger")[o("Z6To",0,0,555)](e(0,0,462,0,"sVn#"))}n(++t)}function e(t,n,e,r,o){return C(r- -216,e)}function r(t,n,e,r,o){return C(o-503,e)}try{if(e(0,0,"QMzq",126)===e(0,0,"mg&9",180)){if(t){if(r(0,0,"GMKE",0,800)===r(0,0,"&$9l",0,870))return n;var o=_0x36f149?function(){if(_0x2bac28){var t=_0x170792[(n="KRD1",e=699,C(e-200-237,n))](_0x58f800,arguments);return _0x3dc500=null,t}var n,e}:function(){};return _0x178522=!1,o}n(0)}else _0x5f1abc("0")}catch(c){}}const G=o({__name:"revealEffectMaterial",props:{uProgress:{default:0},texture:{default:null}},setup(n){const e=n,r={uniforms:{uTexture:{value:e.texture},uTime:{value:0},uProgress:{value:0},uImageRes:{value:new y(1,1)},uRes:{value:new y(1,1)}},transparent:!0,vertexShader:"\n\tuniform float uProgress;\n\tvarying vec2 vUv;\n\n\tvoid main()\n\t{\n\t\tvec3 newPosition = position;\n\n\t\t// Calculate the distance to the center of our plane\n\t\tfloat distanceToCenter = distance(vec2(0.5), uv);\n\n\t\t// Wave effect\n\t\tfloat wave = (1.0 - uProgress) * sin(distanceToCenter * 20.0 - uProgress * 5.0);\n\n\t\t// Apply the wave effect to the position Z\n\t\tnewPosition.z += wave;\n\n\t\t// FINAL POSITION\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n\n\t\t// VARYINGS\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:'\n\t\tuniform sampler2D uTexture;\n\t\tuniform float uTime;\n\t\tuniform float uProgress;\n\t\tuniform vec2 uRes;\n\t\tuniform vec2 uImageRes;\n\n\t\tvarying vec2 vUv;\n\n\t\t\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n\t\tvec2 CoverUV(vec2 u, vec2 s, vec2 i) {\n\t\t\tfloat rs = s.x / s.y; // Aspect plane size\n\t\t\tfloat ri = i.x / i.y; // Aspect image size\n\t\t\tvec2 st = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x); // New st\n\t\t\tvec2 o = (rs < ri ? vec2((st.x - s.x) / 2.0, 0.0) : vec2(0.0, (st.y - s.y) / 2.0)) / st; // Offset\n\t\t\treturn u * s / st + o;\n\t\t}\n\n\t\tvoid main()\n\t\t{\n\t\t\t\t// New UV to prevent image stretching on fullscreen mode\n\t\t\t\tvec2 newUv = CoverUV(vUv, uRes, uImageRes);\n\n\t\t\t\t// Displace the UV\n\t\t\t\tvec2 displacedUv = vUv + cnoise(vec3(vUv * 5.0, uTime * 0.1));\n\n\t\t\t\t// Perlin noise\n\t\t\t\tfloat strength = cnoise(vec3(displacedUv * 5.0, uTime * 0.2 ));\n\n\t\t\t\t// Radial gradient\n\t\t\t\tfloat radialGradient = distance(vUv, vec2(0.5)) * 12.5 - 7.0 * uProgress;\n\t\t\t\tstrength += radialGradient;\n\n\t\t\t\t// Clamp the value from 0 to 1 & invert it\n\t\t\t\tstrength = clamp(strength, 0.0, 1.0);\n\t\t\t\tstrength = 1.0 - strength;\n\n\t\t\t\t// Apply texture\n\t\t\t\tvec3 textureColor = texture2D(uTexture, newUv).rgb;\n\n\t\t\t\t// Opacity animation\n\t\t\t\tfloat opacityProgress = smoothstep(0.0, 0.7, uProgress);\n\n\t\t\t\t// FINAL COLOR\n\t\t\t\tgl_FragColor = vec4(textureColor, strength * opacityProgress);\n\t\t}\n\t'};c((()=>e.uProgress),(t=>{r&&(r.uniforms.uProgress.value=t)}));const{onLoop:o}=t();return o((({elapsed:t})=>{r&&(r.uniforms.uTime.value=t)})),(t,n)=>(a(),i("TresShaderMaterial",u(s(r)),null,16))}}),O={position:[0,0,-16]},Q=o({__name:"revealEffectMesh",async setup(t){let e,r;const o=([e,r]=f((()=>n("./plugins/visualArts/video/vlg.mp4",{loop:!0}))),e=await e,r(),e||null);return(t,n)=>(a(),i("TresMesh",O,[n[0]||(n[0]=W("TresPlaneGeometry",{args:[16,10]},null,-1)),d(G,v(t.$attrs,{texture:l(o)}),null,16,["texture"])]))}}),N=o({__name:"revealEffect",setup(n){const o={clearColor:"#050505",antialias:!1},c={reflectivity:.8,showGridHelper:!1,scale:6},i=x({uProgress:0}),f=new r({title:"参数"});return f.addBinding(i,"uProgress",{label:"进度",min:0,max:1,step:.01}).disabled=!0,t().onLoop((({elapsed:t})=>{i.uProgress=(Math.sin(t)+1)/2,f.refresh()})),(t,n)=>{const r=g("TresCanvas");return a(),m(r,v(o,{"window-size":""}),{default:p((()=>[n[0]||(n[0]=W("TresPerspectiveCamera",{position:[0,0,30],fov:45,near:.1,far:1e3},null,-1)),d(l(e)),n[1]||(n[1]=W("TresAmbientLight",{intensity:.5},null,-1)),(a(),m(P,null,{default:p((()=>[d(Q,u(s(i)),null,16)])),_:1})),(a(),m(P,null,{default:p((()=>[d(l(h),v({position:[0,-6,0]},c),null,16)])),_:1}))])),_:1},16)}}});export{N as default};
