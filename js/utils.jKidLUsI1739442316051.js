import{c as t,B as n,r as e,c6 as o,C as r,V as s,a0 as c}from"./three.OosFxi571739442316051.js";import{w as i}from"./@fesjs.DgjXCZoG1739442316051.js";import{a}from"./@tresjs.4XV_x0mI1739442316051.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.ZvwtLaXH1739442316051.js";!function(t,n){const e=d,o=x();for(;;)try{if(728407===-parseInt(e(112))/1+parseInt(e(135))/2*(-parseInt(e(151))/3)+parseInt(e(119))/4*(parseInt(e(178))/5)+parseInt(e(165))/6*(parseInt(e(167))/7)+-parseInt(e(131))/8*(-parseInt(e(132))/9)+parseInt(e(129))/10+-parseInt(e(122))/11*(-parseInt(e(142))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(113)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=d,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=j(t(130));n[t(179)](o+t(111))&&e[t(179)](o+t(115))?j():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(113)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=d;let n;try{n=Function(t(141)+t(177)+");")()}catch(r){n=window}const e=n.console=n[t(181)]||{},o=["log","warn","info",t(157),t(145),t(172),"trace"];for(let s=0;s<o.length;s++){const n=g[t(114)][t(146)][t(109)](g),r=o[s],c=e[r]||n;n[t(150)]=g[t(109)](g),n[t(144)]=c.toString[t(109)](c),e[r]=n}}))();const h=(n,e=!1)=>{const o=d;n[o(137)]();const{max:r,min:s}=n[o(180)];n[o(161)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(110)].position[o(171)];t++)e?(a[o(182)]((n.attributes[o(147)].getX(t)-(s.x+r.x)/2)/c),a.push((n.attributes[o(147)].getY(t)-(s.y+r.y)/2)/i)):(a[o(182)]((n[o(110)][o(147)].getX(t)-s.x)/c),a[o(182)]((n.attributes.position.getY(t)-s.y)/i));const u=new Float32Array(a);n[o(120)]("uv",new t(u,2))},m=(t,n)=>new Promise(((e,o)=>{const r=d;i(t,{},{method:r(154),mergeRequest:!0,responseType:r(121)}).then((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[r(157)](t),o(t)}))}));function d(t,n){const e=x();return(d=function(t,n){return e[t-=109]})(t,n)}const w=t=>{const n=d,e=(new THREE.Box3)[n(117)](t),o=new(THREE[n(175)]);e.getCenter(o),t[n(164)][n(173)]((t=>{const e=n;t.position[e(128)](o)})),t[n(147)][n(133)](o.negate())},y=()=>{const t=d;n[t(146)][t(160)]=u,n[t(146)][t(158)]=f,e[t(146)][t(163)]=p};function x(){const t=["setY","value","count","table","forEach","divideScalar","Vector3","set",'{}.constructor("return this")( )',"3905MpSQjm","test","boundingBox","console","push","bind","attributes","chain","814422oGSplh","apply","constructor","input","uniforms","setFromObject","getX","512WHtQXx","setAttribute","json","135322DHfdGt","negate","getCenter","#fff","reflectivity","geometry","sub","5932610kVFOyH","init","7860616GEaqhk","9xJGxOy","copy","debu","2998XwAImt","max","computeBoundingBox","getSize","string","length","return (function() ","24cdGfJv","random","toString","exception","prototype","position","applyMatrix4","material","__proto__","2049IQZFCh","gger","depthWrite","get","center","while (true) {}","error","disposeBoundsTree","config","computeBoundsTree","deleteAttribute","counter","raycast","children","12zEstgh","expandByObject","3031826gIBogg","stateObject"];return(x=function(){return t})()}const b=async t=>{const n=d,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(127)].clone();h(i),i[n(160)]();const u=new o(i,{color:new r(n(125)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(149)].transparent=!0,u[n(149)][n(153)]=!0,u[n(149)].depthTest=!0,u[n(149)].side=c,u[n(149)][n(116)][n(159)][n(170)].w=20,u[n(149)].uniforms[n(126)][n(170)]=.46,u};function I(t){const n=d,e=[];for(let r=0;r<t[n(140)];r++)e[n(182)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(140)];r++)o.add(e[r]);o[n(174)](e.length);for(let r=0;r<e[n(140)];r++)e[r].sub(o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=d;if(typeof t===e(139))return function(t){}[e(114)](e(156))[e(113)](e(162));1!==(""+t/t)[e(140)]||t%20==0?function(){return!0}[e(114)](e(134)+e(152)).call("action"):function(){return!1}.constructor("debu"+e(152))[e(113)](e(168)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,I as g,y as i,m as l,h as r,b as s};
