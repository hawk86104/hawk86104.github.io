import{i as t}from"./ice-utils.0thUQz4y1722409645193.js";import{_ as n,c as e}from"./gl-matrix.AFK4LjqA1722409645193.js";import{P as o}from"./tweakpane.yHWGBmom1722409645193.js";import{d as r,r as i,q as a,o as c,D as s,J as u,u as f}from"./@vue.9bHx4gg21722409645193.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",_=g;!function(t,n){const e=g,o=R();for(;;)try{if(184527===parseInt(e(185))/1+-parseInt(e(223))/2*(parseInt(e(197))/3)+-parseInt(e(202))/4*(-parseInt(e(217))/5)+-parseInt(e(193))/6*(-parseInt(e(229))/7)+parseInt(e(143))/8*(-parseInt(e(166))/9)+parseInt(e(183))/10+-parseInt(e(194))/11*(parseInt(e(153))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(172)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){x(this,(function(){const t=g,n=new RegExp(t(234)),e=new RegExp(t(195),"i"),o=T(t(203));n[t(142)](o+t(230))&&e.test(o+t(213))?T():o("0")}))()}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(172)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();d(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function("return (function() "+t(145)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(189)]||{},o=[t(228),t(198),t(212),"error",t(182),t(191),t(160)];for(let r=0;r<o[t(152)];r++){const n=d[t(220)][t(222)][t(215)](d),i=o[r],a=e[i]||n;n[t(170)]=d[t(215)](d),n[t(167)]=a[t(167)].bind(a),e[i]=n}}))();const p={id:_(226)},E=["src"];function g(t,n){const e=R();return(g=function(t,n){return e[t-=134]})(t,n)}const A=r({__name:_(164),setup(r){const x=_;let d,g,A,R,T,b,y,F,h,v,w,C,P;const I=1,B=.71,S=.76,U=new o({title:"参数"}),L=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});U[x(151)]({view:x(186),label:"颜色",min:0,max:1,value:.5}).on(x(162),(t=>{const n=x;k(),g.uniform1f(C,t[n(218)])}));let M=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);U[x(210)](L,x(171),{label:x(165)}),U[x(210)](L,"offset_right_top",{picker:x(236),x:{min:0,max:1},y:{min:0,max:1}}).on(x(162),(t=>{const n=x;M[0]=L.offset_right_top.x,M[1]=L[n(137)].y,k()})),U[x(210)](L,x(231),{picker:x(236),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(162),(t=>{const n=x;M[5]=L.offset_right_bottom.x,M[6]=L[n(231)].y,k()})),U[x(210)](L,x(208),{picker:x(236),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(162),(t=>{const n=x;M[10]=L[n(208)].x,M[11]=L.offset_left_bottom.y,k()})),U[x(210)](L,x(146),{picker:x(236),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(162),(t=>{const n=x;M[15]=L[n(146)].x,M[16]=L[n(146)].y,k()})),a((()=>{N()}));const N=function(){const n=x;d=document.querySelector(n(204)),d.width=window[n(216)],d.height=window[n(181)],g=d[n(192)](n(187)),g&&(function(){const n=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);R=j(e,o),A=t(g,l,m),h=g[n(206)](A,"uProjection"),v=g[n(206)](A,n(211)),w=g[n(206)](A,n(169)),P=O(document.getElementById(n(224)))}(),k(),g[n(147)](g.BLEND),g.blendFunc(g[n(179)],g[n(242)]),D())};function D(){const t=x;g[t(178)](g[t(149)],y),g[t(241)](I,B,S,1),g[t(201)](g[t(239)]),function(){const t=x;g[t(188)](A),g[t(184)](g.ARRAY_BUFFER,R);const e=n[t(221)][t(159)]();n[t(221)][t(232)](e,0,d[t(227)],d.height,0,.1,100),g.uniformMatrix4fv(h,!1,e);const o=n[t(221)][t(159)]();n[t(221)][t(175)](o,[0,0,1],[0,0,0],[0,1,0]),g[t(141)](v,!1,o),Y(P,600,600),Y(P,400,400)}(),g[t(178)](g.FRAMEBUFFER,null),L[t(171)]&&(g[t(201)](g[t(239)]),g[t(241)](0,0,1,1),g.bindBuffer(g[t(173)],T),g[t(188)](b),g.bindTexture(g[t(136)],F)),g[t(150)](g[t(209)],6,g[t(199)],0),requestAnimationFrame(D)}function Y(t,o,r){const i=x;let a=e();n[i(221)][i(157)](a,a,[o,r,0]),n[i(221)].scale(a,a,[250,250,0]),g[i(141)](w,!1,a),g[i(237)](g[i(136)],t),g[i(150)](g[i(209)],6,g[i(199)],0)}function k(){const n=x,e=new Uint8Array([0,1,2,0,2,3]);T=j(M,e),b=t(g,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),C=g.getUniformLocation(b,n(140)),g[n(206)](b,"color"),function(){const t=x;F=O(d),y=g.createFramebuffer(),g[t(178)](g[t(149)],y),g[t(174)](g[t(149)],g[t(138)],g[t(136)],F,0),g[t(178)](g[t(149)],null)}()}function O(t){const n=x,e=g[n(196)]();return g[n(237)](g[n(136)],e),t instanceof HTMLImageElement?g[n(190)](g[n(136)],0,g[n(235)],g[n(235)],g[n(199)],t):g[n(190)](g[n(136)],0,g[n(235)],t[n(227)],t[n(155)],0,g[n(235)],g[n(199)],null),g[n(240)](g[n(136)],g[n(144)],g.NEAREST),g[n(240)](g[n(136)],g[n(225)],g[n(156)]),g[n(240)](g[n(136)],g[n(154)],g[n(163)]),g.texParameteri(g.TEXTURE_2D,g[n(158)],g[n(163)]),e}function j(t,n){const e=x,o=g[e(207)]();g.bindBuffer(g.ARRAY_BUFFER,o),g[e(180)](g[e(173)],t,g[e(135)]);const r=3*Float32Array[e(177)]+2*Float32Array.BYTES_PER_ELEMENT;g[e(219)](0,3,g[e(139)],!1,r,0),g.enableVertexAttribArray(0),g[e(219)](1,2,g.FLOAT,!1,r,3*Float32Array[e(177)]),g.enableVertexAttribArray(1);const i=g[e(207)]();return g[e(184)](g.ELEMENT_ARRAY_BUFFER,i),g[e(180)](g[e(238)],n,g.STATIC_DRAW),g[e(184)](g[e(173)],null),o}return(t,n)=>{const e=x;return c(),s(e(233),p,[u("img",{id:e(224),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(214)}},null,8,E)])}}});function R(){const t=["lookAt","gger","BYTES_PER_ELEMENT","bindFramebuffer","SRC_ALPHA","bufferData","innerHeight","exception","544930voUNFB","bindBuffer","346408uAARYr","slider","webgl","useProgram","console","texImage2D","table","getContext","1714494NbEEnC","4358684ghQfHB","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","createTexture","9pxuqig","warn","UNSIGNED_BYTE","counter","clear","2296AuaSXI","init","#canvaswebgl","string","getUniformLocation","createBuffer","offset_left_bottom","TRIANGLES","addBinding","uView","info","input","none","bind","innerWidth","3115JSNYlm","value","vertexAttribPointer","constructor","mat4","prototype","80014YgxuIY","logo-texture","TEXTURE_MAG_FILTER","canvaswebgl","width","log","7EdmMwA","chain","offset_right_bottom","ortho","canvas","function *\\( *\\)","RGBA","inline","bindTexture","ELEMENT_ARRAY_BUFFER","COLOR_BUFFER_BIT","texParameteri","clearColor","ONE_MINUS_SRC_ALPHA","call","STATIC_DRAW","TEXTURE_2D","offset_right_top","COLOR_ATTACHMENT0","FLOAT","mixParam","uniformMatrix4fv","test","104koWGnp","TEXTURE_MIN_FILTER",'{}.constructor("return this")( )',"offset_left_top","enable","debu","FRAMEBUFFER","drawElements","addBlade","length","12nXtoSi","TEXTURE_WRAP_S","height","NEAREST","translate","TEXTURE_WRAP_T","create","trace","stateObject","change","CLAMP_TO_EDGE","webglPostProcessing","是否后处理","237780dClZpx","toString","while (true) {}","uModel","__proto__","hidden","apply","ARRAY_BUFFER","framebufferTexture2D"];return(R=function(){return t})()}function T(t){function n(t){const e=g;if(typeof t===e(205))return function(t){}.constructor(e(168))[e(172)](e(200));1!==(""+t/t)[e(152)]||t%20==0?function(){return!0}.constructor("debu"+e(176))[e(134)]("action"):function(){return!1}[e(220)](e(148)+"gger").apply(e(161)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{A as default};
