import{_ as t,a9 as n,V as e,cC as o,am as r}from"./three.3b9CEYeV1731055558423.js";import{P as s}from"./tweakpane.yHWGBmom1731055558423.js";import{m as i,e as a}from"./@tresjs.KsuCtVXf1731055558423.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d}from"./index.EIZ4dF2O1731055558423.js";import{d as h,a3 as g,w as j,o as b,D as w,u as v,X as x,r as y,e as I,j as M,g as _,f as z,al as C,m as B,F as S}from"./@vue.u2cBPEWn1731055558423.js";import{_ as k}from"./raycasterEvent.Oj1XSA-M1731055558423.js";import{a as A}from"./utils.X3ah1hfZ1731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";import"./@mapbox.zFdX41Ry1731055558423.js";import"./@amap.Gx_2STAs1731055558423.js";import"./three-mesh-bvh.7zTu_jjo1731055558423.js";import"./three-custom-shader-material.JEUeb9V91731055558423.js";import"./@fesjs.yotB665w1731055558423.js";import"./vue-router.IFFB8cPj1731055558423.js";import"./lodash-es.guXTxyfJ1731055558423.js";import"./@qlin.yHhFDldE1731055558423.js";import"./pinia.c8BQk2fm1731055558423.js";import"./vue-demi.C4xddsk91731055558423.js";import"./@floating-ui.BPbuo5Gx1731055558423.js";import"./@juggle.7yjBMqoW1731055558423.js";import"./@tweenjs.J1BAvmPw1731055558423.js";import"./utils.x-O_6p0F1731055558423.js";import"./http.tDQv54Ca1731055558423.js";import"./axios.Ng308AU61731055558423.js";import"./color.5zbkdEvv1731055558423.js";import"./color-string.424A3a9a1731055558423.js";import"./color-name.j2ZCcXDW1731055558423.js";import"./simple-swizzle.7tot3N1f1731055558423.js";import"./is-arrayish.6e-C2nDO1731055558423.js";import"./color-convert.qvYN9avE1731055558423.js";import"./lodash.nl0AzipA1731055558423.js";import"./naive-ui.NCQztexx1731055558423.js";import"./date-fns.5Hiebz9E1731055558423.js";import"./@css-render.yJX_kI4D1731055558423.js";import"./seemly.SjiSeX2v1731055558423.js";import"./css-render.2bjBClPU1731055558423.js";import"./@emotion.ZD_ZYAgY1731055558423.js";import"./vooks.iSOPfAIw1731055558423.js";import"./evtd.DtfwxtIl1731055558423.js";import"./vueuc.vD31VfMK1731055558423.js";import"./vdirs.Ycjtw5Ji1731055558423.js";import"./treemate.dcEdf2le1731055558423.js";import"./date-fns-tz.g_luOY1O1731055558423.js";import"./async-validator.-YBkpS4I1731055558423.js";import"./d3-geo.WTvP7bHj1731055558423.js";import"./d3-array.E5C1cfJ61731055558423.js";const R=Z;function Z(t,n){const e=L();return(Z=function(t,n){return e[t-=318]})(t,n)}!function(t,n){const e=Z,o=L();for(;;)try{if(850099===parseInt(e(331))/1+parseInt(e(341))/2*(parseInt(e(366))/3)+parseInt(e(392))/4*(-parseInt(e(323))/5)+parseInt(e(318))/6*(-parseInt(e(389))/7)+-parseInt(e(399))/8*(parseInt(e(322))/9)+-parseInt(e(334))/10*(parseInt(e(342))/11)+parseInt(e(378))/12*(parseInt(e(369))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=Z,n=new RegExp(t(394)),e=new RegExp(t(350),"i"),o=P(t(370));n[t(356)](o+t(338))&&e[t(356)](o+t(383))?P():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(348)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=Z;let n;try{n=Function("return (function() "+t(372)+");")()}catch(r){n=window}const e=n[t(395)]=n[t(395)]||{},o=[t(337),t(339),t(343),t(349),t(330),"table",t(377)];for(let s=0;s<o[t(360)];s++){const n=T[t(324)][t(352)][t(328)](T),r=o[s],i=e[r]||n;n.__proto__=T.bind(T),n.toString=i.toString[t(328)](i),e[r]=n}}))();const F=[R(321),R(388)];function L(){const t=["450804RNfDiS","gger","Color","object","9RuECnu","255EuGhbA","constructor","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","action","bbox","bind","set","exception","421473NJSbBZ","genContrast","debu","6400LpAFHA","position","minDistance","log","chain","warn","primitive","2tddGmb","20823HTigOj","info","opposite","source","string","stateObject","apply","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","prototype","domElement","#fff","tweenInstance","test","genSaturation","position0","provider","length","filter","render","enableDamping","call","counter","805341volXXV","innerHeight","innerWidth","845WhBjsA","init","showBoundingBox",'{}.constructor("return this")( )',"useStandardMaterial","value","far","updateProjectionMatrix","trace","942204hFLccT","genBright","monochrome","dampingFactor","camera","input","abs","wireframe","lookAt","useWorker","rotation","133yiQNwM","update","isMonochrome","74312AhgoVl","coordType","function *\\( *\\)","console","flatShading","Vector3","tileMapMesh","10855056BFlPcL"];return(L=function(){return t})()}const D=h({__name:R(398),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:R(354)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:s}){const d=R,h=r,{renderer:x,scene:y}=i();(new c)[d(393)]=u;const I=new p;I.source=d(325),I.coordType=u;const M=new l;M[d(345)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",M.showTileNo=!1,M[d(387)]=!0;const _=new m(I,M);if(_[d(371)]=!1,_[d(385)]=!1,_[d(396)]=!1,_[d(373)]=!1,_[d(361)]={opposite:h[d(344)],monochrome:h.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:h[d(379)],genContrast:h[d(332)],genSaturation:h[d(357)]},h[d(380)]){let n=new(t[d(320)])(h[d(380)]);_[d(361)]&&(_[d(361)][d(380)]={r:n.r,g:n.g,b:n.b})}const z=new f;z[d(359)]=_,z[d(327)]=h.bbox,z.maxZoom=h.maxZoom;const C=new n(60,window[d(368)]/window[d(367)],1,1e8);C.up=new(t[d(397)])(0,1,0),C[d(335)][d(329)](h.mapCenter[0],h.mapCenter[2],-h.mapCenter[1]),C[d(386)](new e(C[d(335)].x,0,C[d(335)].z-2e3)),z[d(382)]=C;let B=null;g((()=>{const t=d;x.value&&!B&&(B=new o(C,x.value[t(353)]),B[t(363)]=!0,B[t(381)]=.05,B[t(336)]=600,B[t(358)][t(329)](C.position.x,C[t(335)].y,C[t(335)].z),B.target[t(329)](C[t(335)].x,0,C[t(335)].z-2e3))})),j((()=>[h[d(344)],h[d(391)],h[d(380)]]),(([n,e,o])=>{const r=d;if(_[r(361)]){let s=new(t[r(320)])(o);_[r(361)].opposite=n,_.filter[r(380)]=e?{r:s.r,g:s.g,b:s.b}:null}})),j((()=>[h[d(379)],h[d(332)],h[d(357)]]),(([t,n,e])=>{const o=d;_[o(361)]&&(_[o(361)][o(379)]=t,_[o(361)][o(332)]=n,_.filter[o(357)]=e)}));const{onLoop:S}=a();return S((()=>{var t;const n=d;if(x[n(374)]){null==(t=h[n(355)])||t[n(390)](),B&&B[n(390)](),z[n(390)]();const e=50*Math[n(384)](C[n(335)].y);C[n(375)]=e+5e3,C[n(376)](),x[n(374)][n(362)](y.value,C)}})),s({camera:C,map:z,orbitControl:B}),(t,n)=>{const e=d;return b(),w(e(340),{object:v(z),rotation:[-Math.PI/2,0,0]},null,8,F)}}});function P(t){function n(t){const e=Z;if(typeof t===e(346))return function(t){}[e(324)](e(351))[e(348)](e(365));1!==(""+t/t)[e(360)]||t%20==0?function(){return!0}[e(324)](e(333)+e(319))[e(364)](e(326)):function(){return!1}.constructor(e(333)+e(319)).apply(e(347)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=X,o=N();for(;;)try{if(905726===-parseInt(e(365))/1*(parseInt(e(374))/2)+-parseInt(e(366))/3+parseInt(e(395))/4*(parseInt(e(363))/5)+parseInt(e(358))/6*(parseInt(e(370))/7)+parseInt(e(399))/8*(-parseInt(e(377))/9)+-parseInt(e(408))/10+-parseInt(e(407))/11*(-parseInt(e(362))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=X,n=new RegExp(t(404)),e=new RegExp(t(384),"i"),o=H(t(387));n.test(o+t(411))&&e[t(372)](o+"input")?H():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["trace","单色滤镜","function *\\( *\\)","tileMapMeshRef","genContrast","1662188MSxfpR","12783050LdGUSH","orbitControl","debu","chain","新街口","return (function() ","warn","Vector3","toString","nss","table","12pObXpv","tweenInstance","log","camera","156IkkmOU","109160kKNCBw","tileMapRef","305698JbmGcQ","1046712kzvAqX","SRGBColorSpace","list","console","2473709xdvnUz","滤镜颜色","test","xjk","2yDlpjJ","牛首山","addBinding","9QPjeza","apply","TresCanvas","isMonochrome","while (true) {}","change","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","奥体中心","stateObject","init","constructor","error","gger","length","opposite","__proto__","bind","316yvCcjr","对比度","string","prototype","12458184VaoBcg","genBright","counter"];return(N=function(){return t})()}G(void 0,(function(){const t=X;let n;try{n=Function(t(413)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(369)]=n[t(369)]||{},o=[t(360),t(414),"info",t(389),"exception",t(418),t(402)];for(let s=0;s<o[t(391)];s++){const n=G[t(388)][t(398)][t(394)](G),r=o[s],i=e[r]||n;n[t(393)]=G[t(394)](G),n[t(416)]=i[t(416)].bind(i),e[r]=n}}))();const O=h({__name:"tileMap",setup(n){const o=X,i=d(118.779958,32.017136),a=[i[0],i[1],5e3],c=x(),u=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:a,tweenInstance:null}),p=new s({title:"参数"});p[o(376)](u,o(392),{label:"反色"}),p[o(376)](u,o(400),{label:"高亮",min:.1,max:3,step:.1}),p[o(376)](u,o(406),{label:o(396),min:.1,max:3,step:.1}),p.addBinding(u,"genSaturation",{label:"饱和度",min:.1,max:3,step:.1}),p.addBinding(u,o(380),{label:o(403)}),p[o(376)](u,"monochrome",{label:o(371)});const l={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};p.addBlade({view:o(368),label:"飞去",options:[{text:o(385),value:"at"},{text:o(412),value:o(373)},{text:o(375),value:o(417)}],value:"at"}).on(o(382),(n=>{const e=o,r=new(t[e(415)])(l[n[e(383)]][0],2e3,-l[n[e(383)]][1]);u[e(359)]=A(c[e(383)][e(361)],r,c[e(383)][e(409)],[0,-300],4e3)}));const m=y({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:"manual",outputColorSpace:t[o(367)],toneMapping:r});return setTimeout((()=>{const t=o,n=l.at,r=new e(n[0],1600,-n[1]);u.tweenInstance=A(c[t(383)].camera,r,c[t(383)][t(409)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=I(e(379));return b(),w(S,null,[M(r,B(m,{"window-size":""}),{default:_((()=>[(b(),z(C,null,{default:_((()=>[M(D,B(u,{ref_key:e(405),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(k,{tileMapRef:c[e(383)]},null,8,[e(364)])],64)}}});function X(t,n){const e=N();return(X=function(t,n){return e[t-=358]})(t,n)}function H(t){function n(t){const e=X;if(typeof t===e(397))return function(t){}.constructor(e(381))[e(378)](e(401));1!==(""+t/t).length||t%20==0?function(){return!0}[e(388)](e(410)+e(390)).call("action"):function(){return!1}[e(388)](e(410)+e(390))[e(378)](e(386)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
