import{P as t}from"./tweakpane.yHWGBmom1735031078130.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.DbuurF0C1735031078130.js";import{_ as r}from"./heatmap.js-fix.bFkQ7i5T1735031078130.js";import{h as i,Y as c,c3 as s,_ as u,m as a,a0 as p}from"./three.bc6MLGU_1735031078130.js";import{r as f}from"./utils.djU5_WBK1735031078130.js";import{d as l}from"./pinia.67PZ8qep1735031078130.js";import{b as h,d,a3 as m,o as g,D as y,J as v,u as b,F as w,q as I,U as _,N as j,P as x,H as S,L as M,a6 as D,r as E,j as k,g as O,m as z}from"./@vue.-THQH3GC1735031078130.js";import{c as A,d as F,a as R}from"./three-mesh-bvh.M5kBNwHd1735031078130.js";import{_ as Z}from"./@fesjs.I05ciYa-1735031078130.js";import"./@tresjs.dTM0HLnZ1735031078130.js";import"./@vueuse.COyzlgw71735031078130.js";import"./three-custom-shader-material.uc9Xgl3q1735031078130.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1735031078130.js";import"./@amap.FwSyOcr71735031078130.js";import"./vue-demi.C4xddsk91735031078130.js";import"./vue-router.v9AQvngO1735031078130.js";import"./lodash-es.kYt-_xTG1735031078130.js";import"./@qlin.yHhFDldE1735031078130.js";import"./@floating-ui.BPbuo5Gx1735031078130.js";import"./@juggle.7yjBMqoW1735031078130.js";function T(t,n){const e=B();return(T=function(t,n){return e[t-=256]})(t,n)}!function(t,n){const e=T,o=B();for(;;)try{if(495123===-parseInt(e(261))/1*(parseInt(e(277))/2)+-parseInt(e(290))/3+-parseInt(e(284))/4+-parseInt(e(282))/5+parseInt(e(262))/6+parseInt(e(299))/7+parseInt(e(289))/8*(parseInt(e(287))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(304),"i"),o=H(t(278));n.test(o+t(296))&&e[t(265)](o+t(279))?H():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(300)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(308)+t(258)+");")()}catch(e){n=window}return n}(),e=n[t(305)]=n[t(305)]||{},o=[t(294),t(285),"info",t(266),"exception","table",t(295)];for(let r=0;r<o[t(263)];r++){const n=X[t(302)][t(293)][t(292)](X),i=o[r],c=e[i]||n;n[t(276)]=X[t(292)](X),n.toString=c[t(281)][t(292)](c),e[i]=n}}))();const q=(t,n)=>t[T(291)](n)+-10;function B(){const t=["appendChild","randInt","style","rgb(0,255,0)","stateObject","height","position","width","__proto__","128518AYHHTR","init","input","createElement","toString","605015TmmJEL","heatmap-canvas","2423184cJaMwv","warn","action","45svsGks","setData","1522264BncJXe","2407014KWDTki","getValueAt","bind","prototype","log","trace","chain","counter","none","2136939McJqqV","apply","string","constructor","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","body","debu","return (function() ","rgb(255,0,0)","while (true) {}","display","_config",'{}.constructor("return this")( )',"create","push","3nctQEQ","5762070jaNlOj","length","absolute","test","error","top"];return(B=function(){return t})()}function H(t){function n(t){const e=T;if(typeof t===e(301))return function(t){}[e(302)](e(310))[e(300)](e(297));1!==(""+t/t)[e(263)]||t%20==0?function(){return!0}[e(302)](e(307)+e(303)).call(e(286)):function(){return!1}[e(302)]("debugger")[e(300)](e(272)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function P(){const t=["3453784dVluXk","5UGuiWZ","stateObject","value","error","bind","function *\\( *\\)","777845ehuGfw","counter","console","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"info","4710024fjvtHC","80ibycpF","buildingsHeatmap","input","return (function() ","while (true) {}","2998628gKdtLy","exception","2238tpmYJc","string","debu","264240lqFWZH","gger","579SPSxcb","trace","test","length","chain","prototype","log","constructor","5295451XUnvLS","call","toString"];return(P=function(){return t})()}const Y=L;!function(t,n){const e=L,o=P();for(;;)try{if(469509===parseInt(e(411))/1+parseInt(e(426))/2*(parseInt(e(431))/3)+-parseInt(e(424))/4*(parseInt(e(405))/5)+parseInt(e(418))/6+-parseInt(e(401))/7+parseInt(e(404))/8+parseInt(e(429))/9*(-parseInt(e(419))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(414)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=L,n=new RegExp(t(410)),e=new RegExp(t(415),"i"),o=W("init");n.test(o+t(435))&&e[t(433)](o+t(421))?W():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(414)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(t,n){const e=P();return(L=function(t,n){return e[t-=399]})(t,n)}C(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(422)+t(416)+");")()}catch(e){n=window}return n}(),e=n[t(413)]=n[t(413)]||{},o=[t(399),"warn",t(417),t(408),t(425),"table",t(432)];for(let r=0;r<o[t(434)];r++){const n=C[t(400)][t(436)][t(409)](C),i=o[r],c=e[i]||n;n.__proto__=C[t(409)](C),n[t(403)]=c[t(403)][t(409)](c),e[i]=n}}))();const V=l(Y(420),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[L(407)]=n},setTemperature:function(t){n.value=t}}}));function W(t){function n(t){const e=L;if(typeof t===e(427))return function(t){}[e(400)](e(423))[e(414)](e(412));1!==(""+t/t)[e(434)]||t%20==0?function(){return!0}.constructor(e(428)+e(430))[e(402)]("action"):function(){return!1}.constructor(e(428)+"gger")[e(414)](e(406)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=G;function G(t,n){const e=et();return(G=function(t,n){return e[t-=350]})(t,n)}!function(t,n){const e=G,o=et();for(;;)try{if(183496===parseInt(e(416))/1*(parseInt(e(353))/2)+-parseInt(e(369))/3*(parseInt(e(374))/4)+-parseInt(e(376))/5*(-parseInt(e(402))/6)+parseInt(e(370))/7*(parseInt(e(417))/8)+-parseInt(e(377))/9+-parseInt(e(365))/10*(-parseInt(e(392))/11)+-parseInt(e(408))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=G,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(415),"i"),o=ot(t(387));n.test(o+"chain")&&e[t(382)](o+t(384))?ot():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(407)+t(354)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(400)]||{},o=[t(386),"warn",t(350),t(390),t(394),t(414),t(396)];for(let r=0;r<o[t(413)];r++){const n=Q.constructor[t(412)].bind(Q),i=o[r],c=e[i]||n;n.__proto__=Q[t(351)](Q),n.toString=c.toString[t(351)](c),e[i]=n}}))();const K=[J(418),"rotation-x"],tt=["object"],nt=d({__name:J(371),props:{model:{},opacity:{default:1}},setup(t){const n=J;(()=>{const t=G;u[t(361)].prototype.computeBoundsTree=A,u[t(361)][t(412)].disposeBoundsTree=F,u[t(388)][t(412)][t(357)]=R})();const e=t,o=((t=250,n=250,e=!0)=>{const o=T,i=document[o(280)](o(283));return i[o(270)][o(274)]=o(264),!e&&(i[o(270)][o(256)]=o(298)),i.style[o(267)]="0",i[o(270)].left="0",document[o(306)][o(268)](i),r[o(259)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(271),.85:"yellow",1:o(309)}})})();((t,n)=>{const e=T;if(!n){let o=0;for(n=[];o<1e3;)n[e(260)]({x:i.randInt(1,t[e(257)][e(275)]),y:i[e(269)](1,t[e(257)][e(273)]),value:i[e(269)](-10,36)}),o++}t[e(288)]({max:36,min:-10,data:n})})(o);const l=new c(o[n(405)][n(381)]);l[n(411)]=!0;const h=e.model.city[n(362)]();delete h[n(420)][n(373)][n(363)],delete h[n(420)][n(373)].uv;const d=h[n(420)][n(362)]()[n(372)](h.matrix),I=e[n(355)][n(385)][n(362)]();delete I.geometry[n(373)].normal;const _=I[n(420)][n(362)]().applyMatrix4(I[n(380)]),j=s[n(406)]([d,_]);j.applyMatrix4((new(u[n(364)])).makeRotationX(Math.PI/2)),f(j),j[n(383)]();const x=(t=>{const o=n;return new a({vertexShader:o(359),fragmentShader:o(367),uniforms:{uOpacity:{value:e[o(410)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:p})})(l),S=new(u[n(388)])(j,x);m((()=>{const t=n;e.opacity&&(x[t(393)][t(378)][t(358)]=e.opacity)}));const M=V(),D=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(404)][e(366)],y:(1-t.uv.y)*o._config.height};console[e(386)](e(375),t),console[e(386)](e(379),q(o,n)),M[e(403)](q(o,n))}},E=t=>{t&&M[n(389)]({showDiv:!0})},k=t=>{t&&M.setShowDiv(!1)};return(t,o)=>{const r=n;return g(),y(w,null,[v(r(401),{object:b(S),"rotation-x":-Math.PI/2,onPointerMove:D,onPointerEnter:E,onPointerLeave:k},null,40,K),v("primitive",{object:e[r(355)].model[r(409)][0].clone()},null,8,tt)],64)}}});function et(){const t=["model","apply","raycast","value","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","debu","BufferGeometry","clone","normal","Matrix4","150HOwBOT","width","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","call","471uCCUtX","343jctlUC","buildingsHeatmap","applyMatrix4","attributes","1172IbSKnM","数值：","421230qmtXje","591138DDgcby","uOpacity","数值———：","matrix","canvas","test","computeBoundsTree","input","land","log","init","Mesh","$patch","error","action","74613XnyksQ","uniforms","exception","gger","trace","while (true) {}","constructor","counter","console","primitive","12QrVeuI","setTemperature","_config","_renderer","mergeGeometries","return (function() ","4628964WnegtC","children","opacity","needsUpdate","prototype","length","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8YWzYVY","37704nAkIsq","object","stateObject","geometry","info","bind","string","44938ZFlusK",'{}.constructor("return this")( )'];return(et=function(){return t})()}function ot(t){function n(t){const e=G;if(typeof t===e(352))return function(t){}[e(398)](e(397)).apply(e(399));1!==(""+t/t)[e(413)]||t%20==0?function(){return!0}[e(398)](e(360)+e(395))[e(368)](e(391)):function(){return!1}.constructor(e(360)+e(395))[e(356)](e(419)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=Z({__name:"dataDiv",setup(t){const n=V(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),y("div",{class:"title",style:M(e.value)},"温度："+S(b(n).temperature)+"℃ ",5)),[[x,b(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=st,o=pt();for(;;)try{if(719857===parseInt(e(277))/1+parseInt(e(299))/2*(-parseInt(e(296))/3)+-parseInt(e(286))/4+parseInt(e(301))/5+-parseInt(e(275))/6*(parseInt(e(278))/7)+-parseInt(e(280))/8+parseInt(e(311))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=st,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=at(t(281));n.test(o+t(298))&&e[t(309)](o+"input")?at():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(285)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=pt();return(st=function(t,n){return e[t-=272]})(t,n)}ct(void 0,(function(){const t=st;let n;try{n=Function(t(288)+t(276)+");")()}catch(r){n=window}const e=n.console=n[t(294)]||{},o=[t(297),t(295),t(272),t(303),"exception",t(304),t(310)];for(let i=0;i<o[t(287)];i++){const n=ct.constructor[t(307)][t(292)](ct),r=o[i],c=e[r]||n;n[t(273)]=ct.bind(ct),n[t(305)]=c[t(305)][t(292)](c),e[r]=n}}))();const ut=d({__name:"heatmap2",async setup(r){const i=st;let c,s;const u=h(!1),a=([c,s]=D((()=>o())),c=await c,s(),c);u[i(279)]=!0;const p=E({width:1,color:i(290),opacity:1,show:!0}),f=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(306)](f,i(274),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(w,null,[k(e,{showBuildings:!1,autoRotate:!1},{ability:O((()=>[k(nt,z({model:b(a)},f),null,16,[r(283)]),k(n,z(p,{builds:b(a).city}),null,16,[r(308)])])),_:1}),k(rt)],64)}}});function at(t){function n(t){const e=st;if(typeof t===e(291))return function(t){}.constructor(e(302)).apply(e(284));1!==(""+t/t)[e(287)]||t%20==0?function(){return!0}[e(293)](e(300)+e(282)).call("action"):function(){return!1}[e(293)]("debu"+e(282))[e(285)](e(289)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function pt(){const t=["opacity","6215706cqehzN",'{}.constructor("return this")( )',"467213BdYNxW","7OFLybF","value","472216xkknDs","init","gger","model","counter","apply","4301288DEnXei","length","return (function() ","stateObject","#000","string","bind","constructor","console","warn","303cWhHbo","log","chain","27058SVvSbI","debu","31560zrGJnS","while (true) {}","error","table","toString","addBinding","prototype","builds","test","trace","34047549ykYXQr","info","__proto__"];return(pt=function(){return t})()}export{ut as default};
