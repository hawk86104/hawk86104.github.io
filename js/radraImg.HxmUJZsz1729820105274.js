import{z as t,p as n,Y as e}from"./@tresjs.S6PXiQcG1729820105274.js";import{_ as o,V as r}from"./three.0W5n8UBO1729820105274.js";import{_ as c,c as i}from"./three-tile.aZFEED7i1729820105274.js";import{_ as s,c as a,a as u}from"./informationDiv.gPAuSxGZ1729820105274.js";import{d as p,a4 as l,w as f,o as m,E as h,L as g,u as d,r as I,b as y,f as w,g as b,j,m as v,al as _,F as x,e as S,aj as T,ak as k}from"./@vue.bvMz0l_u1729820105274.js";import{P as z}from"./tweakpane.yHWGBmom1729820105274.js";import"./@vueuse.3M_MDcJc1729820105274.js";import"./@fesjs.NJfsHdwi1729820105274.js";import"./vue-router.RgcUnLYP1729820105274.js";import"./lodash-es.guXTxyfJ1729820105274.js";import"./@qlin.yHhFDldE1729820105274.js";import"./pinia.Qyaqm_as1729820105274.js";import"./@floating-ui.BPbuo5Gx1729820105274.js";import"./@juggle.7yjBMqoW1729820105274.js";const E=P;function P(t,n){const e=D();return(P=function(t,n){return e[t-=310]})(t,n)}!function(t,n){const e=P,o=D();for(;;)try{if(270289===-parseInt(e(335))/1+-parseInt(e(312))/2+parseInt(e(347))/3*(parseInt(e(310))/4)+-parseInt(e(350))/5*(-parseInt(e(358))/6)+parseInt(e(359))/7*(parseInt(e(342))/8)+parseInt(e(316))/9+-parseInt(e(333))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(331)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(344),"i"),o=Z(t(346));n[t(361)](o+t(327))&&e[t(361)](o+"input")?Z():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(331)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(){const t=["10CfzqmT","opacity","TresGroup","geo2pos","replace","__proto__","while (true) {}","action","658992NfJLuU","441sgLnZI","prototype","test","constructor","height","TresMesh","info","position-y","8wIEZED","map","1055658SnReun","string","toString","onBeforeCompile","3584898iRANSv","error","stateObject","Vector3","rotateX","scaleImg",'{}.constructor("return this")( )',"MeshPhongMaterial","color","uniform sampler2D map;\n\t","40.png","chain","vertexShader","#include <displacementmap_vertex>","Texture","apply","debu","3403000uIzvaq","DoubleSide","213915oLYonk","applyMatrix4","bind","material","trace","gger","log","68056jYstTI","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","init","297609jqgiux","matrix","position"];return(D=function(){return t})()}B(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function("return (function() "+t(322)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(341),"warn",t(365),t(317),"exception","table",t(339)];for(let r=0;r<o[t(345)];r++){const n=B.constructor[t(360)].bind(B),c=o[r],i=e[c]||n;n[t(355)]=B[t(337)](B),n[t(314)]=i.toString[t(337)](i),e[c]=n}}))();const L=[E(349)],M=["scale",E(338),E(320),E(366)],F=[g("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)],R=p({__name:"radraImgShow",props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=E;let r,c;const i=n,a=new(o[e(323)])({displacementMap:new(o[e(330)]),transparent:!0,side:o[e(334)],opacity:i[e(351)],displacementScale:.5,displacementBias:0});a[e(315)]=t=>{const n=e;t[n(328)]=n(325)+t[n(328)],t.vertexShader=t.vertexShader[n(354)](n(329),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const u=i.map[e(353)](new(o[e(319)])(105,34,0));u[e(336)](i.map[e(348)]);const p=s[e(321)](i[e(311)],{x:67,y:11},{x:140,y:57},i[e(363)]),I=[];for(let t=0;t<9;t++)I.push(e(343)+t+e(326));let y=0;const w=([r,c]=l((()=>t(I))),r=await r,c(),r);a[e(311)]=w[y],f((()=>[i[e(324)],i[e(351)]]),(([t,n])=>{a[e(351)]=n}));let b=null,j=!1;return j?(clearInterval(b),b=null,j=!1):(b=setInterval((()=>{const t=P;y=y<I[t(345)]-1?y+1:0,a.map=w[y],a.needsUpdate=!0,console[t(341)](y)}),1e3),j=!0),(t,n)=>{const o=e;return m(),h(o(352),{position:[...d(u)]},[g(o(364),{scale:[d(p).x,d(p).y,t[o(363)]],material:d(a),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(363)]/5},F,8,M)],8,L)}}});function Z(t){function n(t){const e=P;if(typeof t===e(313))return function(t){}.constructor(e(356))[e(331)]("counter");1!==(""+t/t)[e(345)]||t%20==0?function(){return!0}.constructor(e(332)+e(340)).call(e(357)):function(){return!1}[e(362)](e(332)+"gger")[e(331)](e(318)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=G;!function(t,n){const e=G,o=O();for(;;)try{if(671215===-parseInt(e(343))/1*(parseInt(e(374))/2)+-parseInt(e(322))/3*(-parseInt(e(326))/4)+-parseInt(e(324))/5*(-parseInt(e(338))/6)+parseInt(e(334))/7+-parseInt(e(364))/8+-parseInt(e(352))/9+parseInt(e(348))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(328)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=G,n=new RegExp(t(349)),e=new RegExp(t(321),"i"),o=X(t(369));n[t(363)](o+t(329))&&e[t(363)](o+t(327))?X():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(328)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(t,n){const e=O();return(G=function(t,n){return e[t-=321]})(t,n)}q(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(355)+t(365)+");")()}catch(e){n=window}return n}(),e=n[t(340)]=n.console||{},o=[t(353),t(372),t(339),t(367),t(330),t(366),t(345)];for(let r=0;r<o[t(337)];r++){const n=q.constructor[t(368)][t(354)](q),c=o[r],i=e[c]||n;n[t(375)]=q[t(354)](q),n[t(336)]=i.toString[t(354)](i),e[c]=n}}))();const U=["object"];function O(){const t=["while (true) {}","localToWorld","透明度","TresDirectionalLight","addBinding","Vector3","test","4771352eUyQPE",'{}.constructor("return this")( )',"table","error","prototype","init","showLocation","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","warn","plugin","1338334foNyBA","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1941hBGeap","call","100ukUJaS","gger","3524XWZIKI","input","apply","chain","exception","copy","debu","rotateX","4795721MoLqEf","counter","toString","length","6888tGFICv","info","console","domElement","value","1ByPurO","MapBoxSource","trace","target","mapBoxShow3","8808840CFbgPq","function *\\( *\\)","constructor","geo2pos","1999377hqmufj","log","bind","return (function() ","position"];return(O=function(){return t})()}const Q=C(371),W=p({__name:C(347),setup(t){const e=C,u=I({height:200,opacity:1}),p=new z({title:"参数"});p[e(361)](u,"height",{label:"高度",min:10,max:300,step:1}),p.addBinding(u,"opacity",{label:e(359),min:0,max:1,step:.1});const l=new(c[e(373)][e(344)])({token:Q,dataType:"image",style:"mapbox.satellite"}),S=new(c[e(373)][e(344)])({token:Q,dataType:"terrain-rgb",style:"mapbox.terrain-rgb",maxLevel:15}),T=new i({imgSource:l,demSource:S,lon0:90,minLevel:2,maxLevel:20});T[e(333)](-Math.PI/2);const k=new(o[e(362)])(105,34,0),E=new r(110,0,1e4),P=T[e(358)](T[e(351)](k)),A=T.localToWorld(T.geo2pos(E)),B=y(),{camera:D,controls:L,scene:M,renderer:F}=n();return D[e(342)]&&D[e(342)][e(356)][e(331)](A),f((()=>L[e(342)]),(t=>{const n=e;t&&(t.target[n(331)](P),a(t,D[n(342)],M[n(342)]))})),f((()=>B.value),(t=>{const n=e;t&&t[n(346)][n(356)][n(331)](P)})),s[e(370)](D[e(342)],F.value[e(341)],T),(t,n)=>{const o=e;return m(),h(x,null,[g(o(360),{ref_key:"tdLight",ref:B,position:[0,2e3,1e3],intensity:1},null,512),g("primitive",{object:d(T)},null,8,U),(m(),w(_,null,{default:b((()=>[j(R,v({map:d(T)},u),null,16,["map"])])),_:1}))],64)}}});function X(t){function n(t){const e=G;if("string"==typeof t)return function(t){}[e(350)](e(357))[e(328)](e(335));1!==(""+t/t)[e(337)]||t%20==0?function(){return!0}[e(350)]("debu"+e(325))[e(323)]("action"):function(){return!1}.constructor(e(332)+e(325))[e(328)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=J;function $(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","3NGXDiA","constructor","test","log","toString","851490hvdRBH","1392010NmCpOY","stateObject","call","warn","497298wEUFgv","#dbf0ff","counter","bind","highp","14AGhPIm","prototype","8viSDXY","TresCanvas",'{}.constructor("return this")( )',"debu","console","__proto__","info","trace","gger","772790QsbVhg","radraImg","11ZjsgaU","init","3441455gNQdPc","apply","chain","length","2006864akcyfH","431271nKvSdC","TresPerspectiveCamera"];return($=function(){return t})()}!function(t,n){const e=J,o=$();for(;;)try{if(352626===parseInt(e(363))/1+-parseInt(e(354))/2+parseInt(e(367))/3*(-parseInt(e(362))/4)+parseInt(e(358))/5+-parseInt(e(338))/6*(-parseInt(e(343))/7)+-parseInt(e(345))/8*(-parseInt(e(372))/9)+-parseInt(e(334))/10*(parseInt(e(356))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(359)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(365),"i"),o=et(t(357));n[t(369)](o+t(360))&&e[t(369)](o+"input")?et():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(359)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(t,n){const e=$();return(J=function(t,n){return e[t-=334]})(t,n)}V(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(366)+t(347)+");")()}catch(e){n=window}return n}(),e=n[t(349)]=n[t(349)]||{},o=[t(370),t(337),t(351),"error","exception","table",t(352)];for(let r=0;r<o[t(361)];r++){const n=V[t(368)][t(344)].bind(V),c=o[r],i=e[c]||n;n[t(350)]=V[t(341)](V),n[t(371)]=i[t(371)][t(341)](i),e[c]=n}}))();const K=g(Y(364),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),tt=g("TresAmbientLight",{intensity:1},null,-1),nt=p({__name:Y(355),setup(t){const n=Y,o=I({clearColor:n(339),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(342)}),r=I({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const i=S(n(346));return m(),h(x,null,[j(i,v(o,{"window-size":""}),{default:b((()=>[K,j(d(e),T(k(r)),null,16),tt,j(W)])),_:1},16),j(u)],64)}}});function et(t){function n(t){const e=J;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(359)](e(340));1!==(""+t/t)[e(361)]||t%20==0?function(){return!0}.constructor(e(348)+e(353))[e(336)]("action"):function(){return!1}.constructor(e(348)+"gger")[e(359)](e(335)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{nt as default};
