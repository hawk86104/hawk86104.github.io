import{a6 as t,bR as e,j as i,V as n,C as s,h as o,T as r}from"./three.KG2-8r0_1725245456099.js";const a=f;!function(t,e){const i=f,n=h();for(;;)try{if(240788===-parseInt(i(492))/1+parseInt(i(392))/2*(-parseInt(i(379))/3)+-parseInt(i(251))/4*(-parseInt(i(427))/5)+-parseInt(i(446))/6*(-parseInt(i(357))/7)+parseInt(i(397))/8*(-parseInt(i(369))/9)+parseInt(i(396))/10*(-parseInt(i(597))/11)+parseInt(i(362))/12)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(287)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function h(){const t=["radiusScale","_poolCreationSettings","ensureValueOverLifetimeCompliance","onParticleSpawn","toString","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","_spreadClamp","updateMin","call","depthWrite","wiggle","randomFloat","branchAvoidanceFunctions","_incrementParticleCount","arrayType","_axisSpread","textureFrameCount","_distribution","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","gger","string","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","uniform vec4 textureAnimation;","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","_updateAttributeUpdateRange","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","fog_vertex","drag","apply","        float wiggleCos = isAlive * cos( wiggleAmount );","randomDirectionVector3OnDisc","uniform float scale;","_assignColorValue","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    #ifdef SHOULD_CALCULATE_SPRITE","SPHERE","size","rotation","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","vec3 unpackColor( in float hex ) {","round","Group","_static","textureFrames","setMat3","_calculatePPSValue","        float perspective = scale / length( mvPosition.xyz );","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","AdditiveBlending","log","    varying float vAngle;","        float framesX = vSpriteSheet.x;","_value","bufferAttribute","return (function() ","randomVector3OnSphere","cos","_setBufferUpdateRanges","roundToNearestMultiple","    #ifdef SHOULD_ROTATE_PARTICLES","    #ifdef HAS_PERSPECTIVE","setVec3Components","geometry","table","   c *= vec3( 2.0 );","   c.b = b / PACKED_COLOR_DIVISOR;","        float row = floor( (frameNumber - column) / framesX );","setVec4Components","fragment","       vec3 c = isAlive * getColorOverLifetime(","splice","resetDynamic","    force += accel * age;","_checkParticleAges","fog_fragment","floatOverLifetime","attributeCount","       float c = cos( -vAngle );","randomVector3","attributes","setVec4","activationIndex","duration","    #ifdef COLORIZE","_spread","        float columnNorm = vSpriteSheet.z;","_createGetterSetters","generateUUID","float or(float a, float b) {","updateCounts","TypedArray is already of size:","       float y = 1.0 - gl_PointCoord.y - 0.5;","TypedArrayHelper","ShaderChunk","uniforms","activeMultiplier","color","debu","16205bYXXAT","updateRange","SHOULD_CALCULATE_SPRITE","tick","function","11844924WyAnYt","_decrementParticleCount","SHOULD_ROTATE_TEXTURE","    #else","      float angle = 0.0;","uniform float deltaTime;","        pos = getRotation( pos, positionInTime );","9kVvGQa","_rotationCenter","paramsArray","emitters","   return acceleration.xyz * age;","Emitter does not belong to a group, cannot remove.","#ifdef SHOULD_CALCULATE_SPRITE","defines","types","typedArray","3FsPvAx","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","setVec2Components","hasOwnProperty","paramFetchingFunctions","        float totalFrames = textureAnimation.z;","    highp float maxAge = getMaxAge();","bind","    highp float alive = getAlive();","randomColorAsHex","value","getHex","ensureTypedArg","950542OqzamY","exception","hasPerspective","bufferUpdateRanges","370uxzWmx","891872jElcZb","clamp","   c.g = g / PACKED_COLOR_DIVISOR;","Emitter does not exist in this group. Will not remove.","ShaderMaterial","_assignAbsLifetimeValue","ceil","activationEnd","    vec3 vel = getVelocity( age );","runTime","blending","        float wiggleSin = isAlive * sin( wiggleAmount );","vec3 getVelocity( in float age ) {","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","Emitter already exists in this group. Will not add again.","_assignRotationValue","spe","init","attribute vec4 size;","setFromArray","bufferUpdateKeys","dispose","indexOffset","MathUtils","    #ifdef SHOULD_ROTATE_TEXTURE","params","    pos += force;","add","varyings","arrayValuesAreEqual","2040dHARYB","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","BufferAttribute","       float x = gl_PointCoord.x - 0.5;","        float rowNorm = vSpriteSheet.w;","position","lerp","    gl_Position = projectionMatrix * mvPosition;","__proto__","distribution","unpackRotationAxis","attribute vec4 params;","attribute vec4 angle;","textureLoop","material","indexOf","   return velocity * age;","        vSpriteSheet.y = 1.0 / framesY;","while (true) {}","222GrzCqP","float when_ge(float x, float y) {","       float s = sin( -vAngle );","_applyAttributesToGeometry","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","        float wiggleAmount = positionInTime * getWiggle();","static","updateMax","common","spreadClamp","shrink","    float fIndex = 0.0;","           unpackColor( color.z ),","varying vec4 vColor;","float when_eq( float x, float y ) {","min","logdepthbuf_pars_fragment","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","Points",'{}.constructor("return this")( )',"       axis = normalize(axis);","resetFlags","addEmitter","      }","  return 1.0 - when_lt(x, y);","reset","attributeEnd","       float s = sin(angle);","_randomise","frameCount","    return 1.0 - abs( sign( x - y ) );","_assignParamsValue","undefined","    return a * b;","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","enable","setUpdateRange","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","_activateParticles","grow","radius","getFromPool","array","#endif","spread","_triggerSingleEmitter","72708cwnqqH","fog","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","_attributesNeedDynamicReset","   c.r = r / PACKED_COLOR_DIVISOR;","getLength","rotationFunctions","POSITIVE_INFINITY","lerpTypeAgnostic","    }","SHOULD_WIGGLE_PARTICLES","getComponentValueAtIndex","           unpackColor( color.w )","sqrt","float when_le(float x, float y) {","      if( rotation.y == 0.0 ) {","typeSizeMap","maxAge","        float perspective = 1.0;","counter","colorize","_createNewWhenPoolEmpty","Emitter","subarray","    force += vel;","    return min(a + b, 1.0);","warn","        float loopCount = textureAnimation.w;","   return params.z;","vec3 unpackRotationAxis( in float hex ) {","prototype","`emitter` argument must be instance of SPE.Emitter. Was provided with:","        float rowNorm = row / framesY;","activeParticleCount","        float framesX = textureAnimation.x;","        float framesY = textureAnimation.y;","Emitter already belongs to another group. Will not add to requested group.","_setAttributeOffset","elements","texture","ensureInstanceOf","getPool","dynamicBuffer","uniform float runTime;","attribute vec3 velocity;","input","float when_lt(float x, float y) {","SHOULD_ROTATE_PARTICLES","_assignAngleValue","_assignPositionValue","      vec3 center = rotationCenter;","number","    #ifdef SHOULD_WIGGLE_PARTICLES","releaseIntoPool","remove","randomDirectionVector3OnSphere","void main() {","boolean","_updateDefines","ShaderAttribute","       if ( vColor.w < float(ALPHATEST) ) discard;","           positionInTime,","type","distributionClamp","    vec3 pos = vec3( position );","NUMBER","setAttribute","_axis","      mat4 rotationMatrix;","setDrawRange","count","Vector2","setVec2","velocity","usage","getPackedRotationAxis","        vSpriteSheet.w = rowNorm;","maxParticleCount","info","updateMap","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","float and(float a, float b) {","        float column = floor(mod( frameNumber, framesX ));","float getAge() {","attribute vec4 rotation;","stateObject","Invalid argument types, or argument types do not match:","interpolateArray","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","colorOverLifetime","   c -= vec3( 1.0 );","    highp float isAlive = when_gt( alive, 0.0 );","flagUpdate","StaticDrawUsage","    highp float value = 0.0;","Color","test","float getAlive() {","   return params.w;","distributions","_angle","   return modelViewMatrix * vec4( position, 1.0 );","alphaTest","_pool","    float shouldApplyValue = 0.0;","66319amJtNJ","replace","age","BOX","      vec3 translated;","attribute vec4 opacity;","resetUpdateRange","_assignForceValue","particlesPerSecond","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","disable","isArray","fixedTimeStep","_angleSpread","opacity","        pos.y += wiggleCos;","mesh","defineProperty","    highp float age = getAge();","BOOLEAN","componentSize","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","attribute vec4 acceleration;","      rotationMatrix = getRotationMatrix( axis, angle );","acceleration","    vec4 rotatedTexture = texture2D( tex, vUv );","keys","amd","DISC","constructor","shaderChunks","logdepthbuf_vertex","                   0.0,                                0.0,                                0.0,                                1.0);","abs","uniform sampler2D tex;","    #endif","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","           unpackColor( color.y ),","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","updateFlags","angle","    highp float positionInTime = (age / maxAge);","ensureArrayTypedArg","exports","bufferUpdateCount","_resetBufferRanges","axisSpread","_attributesNeedRefresh","_createBufferAttribute","        float columnNorm = column / framesX;","BufferGeometry","_assignValue","uuid","random","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","particleCount","DynamicDrawUsage","randomVector3OnLine","length","REVISION","clone","chain","removeEmitter","Vector4","       float oc = 1.0 - c;","valueOverLifetimeLength","emitterIDs","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","fog_pars_vertex","    #ifdef ALPHATEST","direction","forceUpdateAll","#define PACKED_COLOR_DIVISOR 255.0","OBJECT","join","needsUpdate","trace","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","copy","_center","rotationCenter","    vec3 force = vec3( 0.0 );","_radiusScale","attributeOffset","angleSpread","sin","unpackColor","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","alive","forceFetchingFunctions","        float framesY = vSpriteSheet.y;","float when_gt(float x, float y) {","Vector3","_updateBuffers","transparent","depthTest","pop","shaders","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","push","offset","particles, can support only","    return value;","    varying vec4 vSpriteSheet;","        vSpriteSheet.z = columnNorm;","attributeKeys","   return c;","logdepthbuf_fragment","_resetParticle","randomise","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","error","           unpackColor( color.x ),","setVec3","max","       vec3 c = vec3(1.0);","utils","    force *= drag;","normalize","isStatic","scale","object","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","_distributionClamp","496MvQOjO","    ","setSize","LINE","       fIndex = float( i );","group","multiplyScalar","set"];return(h=function(){return t})()}!function(){c(this,(function(){const t=f,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(225),"i"),n=d(t(414));e.test(n+t(187))&&i[t(588)](n+t(537))?d():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(287)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=f;let e;try{e=Function(t(313)+t(465)+");")()}catch(s){e=window}const i=e.console=e.console||{},n=[t(308),"warn",t(570),t(238),t(393),t(322),t(203)];for(let o=0;o<n[t(184)];o++){const e=l[t(626)][t(522)][t(386)](l),s=n[o],r=i[s]||e;e[t(435)]=l[t(386)](l),e[t(263)]=r[t(263)][t(386)](r),i[s]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function f(t,e){const i=h();return(f=function(t,e){return i[t-=170]})(t,e)}"function"==typeof define&&define[a(624)]?define(a(413),u):typeof exports!==a(478)&&typeof module!==a(478)&&(module[a(641)]=u),u[a(351)]=function(t,e,i,n){const s=a;this[s(617)]=i||1,this[s(295)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(488)]=new t(e*this[s(617)]),this[s(419)]=n||0},u[a(351)][a(626)]=u[a(351)],u[a(351)][a(522)][a(253)]=function(t,e){const i=a,n=this[i(488)][i(184)];return!e&&(t*=this[i(617)]),t<n?this[i(456)](t):t>n?this[i(485)](t):void console[i(570)](i(349),t+".","Will not resize.")},u[a(351)][a(522)][a(456)]=function(t){const e=a;return this[e(488)]=this.array[e(515)](0,t),this.size=t,this},u[a(351)].prototype[a(485)]=function(t){const e=a,i=this[e(488)],n=new this.TypedArrayConstructor(t);return n[e(258)](i),this[e(488)]=n,this[e(295)]=t,this},u[a(351)][a(522)].splice=function(t,e){const i=a;t*=this[i(617)],e*=this[i(617)];const n=[],s=this[i(488)],o=s[i(184)];for(let r=0;r<o;++r)(r<t||r>=e)&&n.push(s[r]);return this[i(416)](0,n),this},u[a(351)][a(522)].setFromArray=function(t,e){const i=a,n=t+e[i(184)];return n>this.array.length?this[i(485)](n):n<this[i(488)].length&&this.shrink(n),this[i(488)][i(258)](e,this[i(419)]+t),this},u[a(351)][a(522)][a(564)]=function(t,e){return this.setVec2Components(t,e.x,e.y)},u[a(351)].prototype[a(381)]=function(t,e,i){const n=a,s=this[n(488)],o=this[n(419)]+t*this[n(617)];return s[o]=e,s[o+1]=i,this},u[a(351)][a(522)][a(240)]=function(t,e){return this[a(320)](t,e.x,e.y,e.z)},u.TypedArrayHelper[a(522)].setVec3Components=function(t,e,i,n){const s=a,o=this.array,r=this.indexOffset+t*this[s(617)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},u[a(351)][a(522)][a(339)]=function(t,e){return this[a(326)](t,e.x,e.y,e.z,e.w)},u[a(351)][a(522)][a(326)]=function(t,e,i,n,s){const o=a,r=this[o(488)],c=this[o(419)]+t*this[o(617)];return r[c]=e,r[c+1]=i,r[c+2]=n,r[c+3]=s,this},u[a(351)][a(522)][a(303)]=function(t,e){const i=a;return this.setFromArray(this[i(419)]+t*this.componentSize,e[i(530)])},u.TypedArrayHelper[a(522)].setMat4=function(t,e){const i=a;return this[i(416)](this[i(419)]+t*this[i(617)],e[i(530)])},u[a(351)][a(522)].setColor=function(t,e){return this[a(320)](t,e.r,e.g,e.b)},u[a(351)][a(522)].setNumber=function(t,e){const i=a;return this[i(488)][this.indexOffset+t*this[i(617)]]=e,this},u.TypedArrayHelper.prototype.getValueAtIndex=function(t){return this[a(488)][this.indexOffset+t]},u[a(351)][a(522)][a(503)]=function(t){const e=a;return this.array[e(515)](this.indexOffset+t*this[e(617)])},u.ShaderAttribute=function(t,e,i){const n=a,s=u[n(551)][n(508)];this[n(554)]=typeof t===n(279)&&s.hasOwnProperty(t)?t:"f",this[n(617)]=s[this.type],this[n(273)]=i||Float32Array,this[n(378)]=null,this[n(312)]=null,this[n(534)]=!!e,this[n(266)]=0,this[n(453)]=0},u[a(551)].constructor=u[a(551)],u[a(551)][a(508)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u[a(551)].prototype[a(482)]=function(t,e){const i=a;this.updateMin=Math.min(t*this[i(617)],this.updateMin*this[i(617)]),this[i(453)]=Math.max(e*this[i(617)],this[i(453)]*this[i(617)])},u[a(551)][a(522)].flagUpdate=function(){const t=a,e=this[t(312)],i=e[t(358)];i[t(227)]=this[t(266)],i[t(562)]=Math.min(this[t(453)]-this.updateMin+this.componentSize,this[t(378)][t(488)][t(184)]),e.needsUpdate=!0},u[a(551)][a(522)][a(603)]=function(){this[a(266)]=0,this.updateMax=0},u[a(551)][a(522)][a(330)]=function(){const e=a;this[e(312)][e(566)]=this.dynamicBuffer?t[e(182)]:t[e(585)]},u[a(551)][a(522)][a(329)]=function(t,e){const i=a;this[i(378)][i(329)](t,e),this[i(198)]()},u.ShaderAttribute[a(522)].forceUpdateAll=function(){const e=a;this[e(312)][e(488)]=this[e(378)][e(488)],this[e(312)][e(358)][e(227)]=0,this.bufferAttribute[e(358)][e(562)]=-1,this[e(312)][e(566)]=t[e(585)],this[e(312)][e(202)]=!0},u[a(551)].prototype._ensureTypedArray=function(t){const e=a;null!==this[e(378)]&&this[e(378)][e(295)]===t*this[e(617)]||(null!==this[e(378)]&&this[e(378)].size!==t?this[e(378)][e(253)](t):null===this.typedArray&&(this[e(378)]=new(u[e(351)])(this[e(273)],t,this.componentSize)))},u[a(551)][a(522)][a(174)]=function(e){const i=a;if(this._ensureTypedArray(e),null!==this.bufferAttribute)return this[i(312)][i(488)]=this[i(378)][i(488)],parseFloat(t[i(185)])>=81&&(this[i(312)][i(562)]=this[i(312)].array[i(184)]/this.bufferAttribute.itemSize),void(this[i(312)][i(202)]=!0);this[i(312)]=new(t[i(429)])(this[i(378)][i(488)],this[i(617)]),this[i(312)].usage=this[i(534)]?t[i(182)]:t[i(585)]},u[a(551)].prototype[a(497)]=function(){const t=a;return null===this.typedArray?0:this[t(378)][t(488)][t(184)]},u.shaderChunks={defines:["#define PACKED_COLOR_SIZE 256.0",a(199)][a(201)]("\n"),uniforms:[a(367),a(535),a(631),a(281),a(290)][a(201)]("\n"),attributes:[a(619),a(536),a(576),"attribute vec3 rotationCenter;",a(438),a(415),a(439),"attribute vec4 color;",a(602)][a(201)]("\n"),varyings:[a(459),"#ifdef SHOULD_ROTATE_TEXTURE",a(309),"#endif",a(375),a(230),a(489)][a(201)]("\n"),branchAvoidanceFunctions:[a(218),"    return max(sign(x - y), 0.0);","}",a(538),a(572),"}",a(460),a(476),"}",a(447),a(470),"}",a(506),"  return 1.0 - when_gt(x, y);","}",a(573),a(479),"}",a(347),a(517),"}"].join("\n"),unpackColor:[a(298),"   vec3 c = vec3( 0.0 );",a(480),a(282),"   float b = mod( hex, PACKED_COLOR_SIZE );",a(496),a(399),"   c.b = b / PACKED_COLOR_DIVISOR;",a(233),"}"][a(201)]("\n"),unpackRotationAxis:[a(521),"   vec3 c = vec3( 0.0 );",a(480),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );",a(496),a(399),a(324),a(323),a(582),a(233),"}"][a(201)]("\n"),floatOverLifetime:[a(280),a(586),a(306),a(457),a(596),a(264),"",a(618),a(255),a(636),a(214),a(501),"",a(229),"}"][a(201)]("\n"),colorOverLifetime:[a(580),"    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );",a(229),"}"].join("\n"),paramFetchingFunctions:[a(589),"   return params.x;","}",a(575),"   return params.y;","}","float getMaxAge() {",a(520),"}","float getWiggle() {",a(590),"}"][a(201)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",a(593),"}",a(409),a(443),"}","vec3 getAcceleration( in float age ) {",a(373),"}"][a(201)]("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES",a(606),a(466),a(473),"       float c = cos(angle);",a(190),"",a(380),a(450),a(483),a(629),"   }","","   vec3 getRotation( in vec3 pos, in float positionInTime ) {",a(507),"           return pos;",a(469),"","      vec3 axis = unpackRotationAxis( rotation.x );",a(542),a(601),a(560),a(366),a(277),a(249),"      translated = rotationCenter - pos;",a(620),a(237),"   }",a(489)].join("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","",a(421),a(430),a(350),a(336),a(448),a(635),a(632),"",a(293),a(310),a(217),a(344),a(431),a(193),a(428),"    #endif","",a(622)][a(201)]("\n")},u[a(224)]={vertex:[u[a(627)][a(376)],u[a(627)].uniforms,u[a(627)][a(338)],u[a(627)][a(425)],e.common,t[a(352)].logdepthbuf_pars_vertex,t[a(352)][a(195)],u[a(627)][a(271)],u[a(627)][a(213)],u[a(627)][a(437)],u[a(627)][a(334)],u[a(627)][a(581)],u[a(627)][a(383)],u[a(627)][a(216)],u.shaderChunks[a(498)],a(548),a(615),a(387),a(385),a(639),a(583),a(544),a(451),a(408),a(288),a(632),a(405),"    vec3 accel = getAcceleration( age );",a(208),a(556),a(284),a(516),a(244),a(331),a(423),a(544),"        pos.x += wiggleSin;",a(612),"        pos.z += wiggleSin;",a(632),a(318),a(368),"    #endif",a(180),a(204),a(319),a(305),a(365),a(510),a(632),"    float pointSizePerspective = pointSize * perspective;",a(342),a(328),a(553),a(239),a(634),a(458),a(504),"       );","    #else",a(242),a(632),a(463),"    vColor = vec4( c, o );",a(421),a(633),a(632),"    #ifdef SHOULD_CALCULATE_SPRITE",a(526),a(527),a(519),a(384),a(410),a(574),a(325),a(175),a(524),"        vSpriteSheet.x = 1.0 / framesX;",a(444),a(231),a(568),a(632),"    gl_PointSize = pointSizePerspective;",a(434),t[a(352)][a(628)],e[a(285)],"}"][a(201)]("\n"),fragment:[u.shaderChunks[a(353)],t[a(352)][a(454)],t[a(352)].fog_pars_fragment,t[a(352)][a(462)],u[a(627)].varyings,u.shaderChunks[a(271)],"void main() {","    vec3 outgoingLight = vColor.xyz;",a(252),a(196),a(552),a(632),u.shaderChunks.rotateTexture,t[a(352)][a(234)],a(292),a(194),t[a(352)][a(333)],"}"][a(201)]("\n")},u.utils={types:{BOOLEAN:a(549),STRING:a(279),NUMBER:a(543),OBJECT:a(248)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=a;if(Array[n(608)](t)){for(let s=t[n(184)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=a;if(Array[n(608)](t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[n(532)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=a;e=e||3,i=i||3,!1===Array[n(608)](t._value)&&(t[n(311)]=[t._value]),!1===Array.isArray(t[n(343)])&&(t[n(343)]=[t[n(343)]]);const s=this[n(398)](t[n(311)].length,e,i),o=this.clamp(t[n(343)][n(184)],e,i),r=Math.max(s,o);t._value.length!==r&&(t[n(311)]=this.interpolateArray(t[n(311)],r)),t[n(343)][n(184)]!==r&&(t[n(343)]=this[n(579)](t[n(343)],r))},interpolateArray(t,e){const i=a,n=t[i(184)],s=["function"==typeof t[0][i(186)]?t[0][i(186)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math.floor(e),a=Math[i(403)](e),c=e-n;s[r]=this[i(500)](t[n],t[a],c)}return s[i(226)](typeof t[n-1][i(186)]===i(361)?t[n-1][i(186)]():t[n-1]),s},clamp:(t,e,i)=>Math.max(e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,o,r){const c=a;let h,l=this.types;return typeof e===l[c(557)]&&typeof o===l[c(557)]?e+(o-e)*r:e instanceof t[c(563)]&&o instanceof i?(h=e[c(186)](),h.x=this[c(433)](e.x,o.x,r),h.y=this[c(433)](e.y,o.y,r),h):e instanceof n&&o instanceof t[c(219)]?(h=e[c(186)](),h.x=this[c(433)](e.x,o.x,r),h.y=this[c(433)](e.y,o.y,r),h.z=this[c(433)](e.z,o.z,r),h):e instanceof t[c(189)]&&o instanceof t[c(189)]?(h=e[c(186)](),h.x=this[c(433)](e.x,o.x,r),h.y=this.lerp(e.y,o.y,r),h.z=this[c(433)](e.z,o.z,r),h.w=this.lerp(e.w,o.w,r),h):e instanceof s&&o instanceof t[c(587)]?(h=e[c(186)](),h.r=this.lerp(e.r,o.r,r),h.g=this[c(433)](e.g,o.g,r),h.b=this[c(433)](e.b,o.b,r),h):void console[c(518)](c(578),e,o)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=a;let n=0;return 0===e?t:(n=Math[i(630)](t)%e,0===n?t:t<0?-(Math[i(630)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=a;for(let i=0;i<t[e(184)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[a(179)]()-.5),randomVector3(t,e,i,n,s){const o=a;let r=i.x+(Math[o(179)]()*n.x-.5*n.x),c=i.y+(Math[o(179)]()*n.y-.5*n.y),h=i.z+(Math[o(179)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(317)](r,s.x),c=.5*-s.y+this[o(317)](c,s.y),h=.5*-s.z+this[o(317)](h,s.z)),t.typedArray[o(320)](e,r,c,h)},randomColor(t,e,i,n){const s=a;let o=i.r+Math[s(179)]()*n.x,r=i.g+Math[s(179)]()*n.y,c=i.b+Math.random()*n.z;o=this.clamp(o,0,1),r=this[s(398)](r,0,1),c=this[s(398)](c,0,1),t[s(378)][s(320)](e,o,r,c)},randomColorAsHex:function(){const e=a,i=new(t[e(587)]);return function(t,n,s,o){const r=e,a=s[r(184)],c=[];for(let e=0;e<a;++e){const t=o[e];i[r(205)](s[e]),i.r+=Math[r(179)]()*t.x-.5*t.x,i.g+=Math[r(179)]()*t.y-.5*t.y,i.b+=Math[r(179)]()*t.z-.5*t.z,i.r=this[r(398)](i.r,0,1),i.g=this.clamp(i.g,0,1),i.b=this[r(398)](i.b,0,1),c[r(226)](i[r(390)]())}t.typedArray[r(326)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=a,o=i[s(186)]();o[s(433)](n,Math[s(179)]()),t[s(378)].setVec3Components(e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,c){const h=a;let l=2*Math.random()-1,u=6.2832*Math[h(179)](),f=Math[h(505)](1-l*l),p=this.randomFloat(n,s),d=0,m=0,g=0;r&&(p=Math.round(p/r)*r),d=f*Math[h(315)](u)*p,m=f*Math[h(212)](u)*p,g=l*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[h(378)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[a(212)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const c=a;let h=6.2832*Math[c(179)](),l=Math.abs(this[c(270)](n,s)),u=0,f=0,p=0;r&&(l=Math[c(299)](l/r)*r),u=Math[c(315)](h)*l,f=Math[c(212)](h)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[c(378)][c(320)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=a,i=new(t[e(219)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(205)](a),i.x-=s,i.y-=o,i.z-=r,i[l(245)]()[l(257)](-this.randomFloat(c,h)),t[l(378)][l(320)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=a,i=new(t[e(219)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(205)](a),i.x-=s,i.y-=o,i.z-=r,i[l(245)]()[l(257)](-this[l(270)](c,h)),t[l(378)].setVec3Components(n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=a,i=new n,s=new(t[e(219)]),o=new(t[e(587)]),r=new(t[e(219)])(1,1,1);return function(t,n){const a=e;return i.copy(t)[a(245)](),s[a(205)](n)[a(245)](),i.x+=.5*-n.x+Math.random()*n.x,i.y+=.5*-n.y+Math[a(179)]()*n.y,i.z+=.5*-n.z+Math[a(179)]()*n.z,i[a(245)]()[a(424)](r)[a(257)](.5),o.setRGB(i.x,i.y,i.z),o[a(390)]()}}()},u.Group=function(e){const n=a,s=u[n(243)],c=s[n(377)];(e=s[n(391)](e,c.OBJECT,{})).texture=s[n(391)](e[n(531)],c[n(200)],{}),this[n(178)]=o[n(346)](),this.fixedTimeStep=s.ensureTypedArg(e[n(609)],c[n(557)],.016),this[n(531)]=s[n(532)](e[n(531)][n(389)],r,null),this[n(302)]=s[n(532)](e[n(531)].frames,t[n(563)],new i(1,1)),this.textureFrameCount=s.ensureTypedArg(e[n(531)][n(475)],c[n(557)],this[n(302)].x*this.textureFrames.y),this[n(440)]=s[n(391)](e[n(531)].loop,c[n(557)],1),this[n(302)][n(241)](new i(1,1)),this.hasPerspective=s[n(391)](e[n(394)],c[n(616)],!0),this[n(512)]=s[n(391)](e.colorize,c.BOOLEAN,!0),this[n(569)]=s.ensureTypedArg(e[n(569)],c[n(557)],null),this[n(407)]=s[n(391)](e[n(407)],c[n(557)],t[n(307)]),this[n(221)]=s[n(391)](e[n(221)],c.BOOLEAN,!0),this[n(594)]=parseFloat(s.ensureTypedArg(e[n(594)],c.NUMBER,0)),this[n(268)]=s[n(391)](e[n(268)],c[n(616)],!1),this.depthTest=s.ensureTypedArg(e[n(222)],c.BOOLEAN,!0),this[n(493)]=s.ensureTypedArg(e.fog,c[n(616)],!0),this.scale=s[n(391)](e.scale,c[n(557)],300),this.emitters=[],this[n(192)]=[],this._pool=[],this._poolCreationSettings=null,this[n(513)]=0,this[n(173)]=!1,this._attributesNeedDynamicReset=!1,this.particleCount=0,this[n(353)]={tex:{type:"t",value:this[n(531)]},textureAnimation:{type:"v4",value:new(t[n(189)])(this.textureFrames.x,this[n(302)].y,this[n(275)],Math[n(241)](Math[n(630)](this[n(440)]),1))},fogColor:{type:"c",value:this[n(493)]?new(t[n(587)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[n(247)]}},this[n(376)]={HAS_PERSPECTIVE:this[n(394)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:u[n(191)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[n(302)].x>1||this[n(302)].y>1},this.attributes={position:new(u[n(551)])("v3",!0),acceleration:new(u[n(551)])("v4",!0),velocity:new(u[n(551)])("v3",!0),rotation:new(u[n(551)])("v4",!0),rotationCenter:new(u[n(551)])("v3",!0),params:new(u[n(551)])("v4",!0),size:new(u[n(551)])("v4",!0),angle:new u.ShaderAttribute("v4",!0),color:new(u[n(551)])("v4",!0),opacity:new(u[n(551)])("v4",!0)},this[n(232)]=Object[n(623)](this[n(338)]),this[n(335)]=this[n(232)][n(184)],this.material=new(t[n(401)])({uniforms:this[n(353)],vertexShader:u[n(224)].vertex,fragmentShader:u[n(224)][n(327)],blending:this[n(407)],transparent:this[n(221)],alphaTest:this[n(594)],depthWrite:this[n(268)],depthTest:this.depthTest,defines:this[n(376)],fog:this[n(493)]}),this[n(321)]=new(t[n(176)]),this[n(613)]=new(t[n(464)])(this[n(321)],this[n(441)]),null===this[n(569)]&&console[n(518)](n(494))},u[a(300)][a(626)]=u.Group,u[a(300)][a(522)]._updateDefines=function(){const t=a;let e,i=this[t(372)],n=i.length-1,s=this[t(376)];for(;n>=0;--n)e=i[n],!s[t(359)]&&(s[t(364)]=s[t(364)]||!!Math[t(241)](Math[t(241)][t(287)](null,e[t(638)][t(389)]),Math.max.apply(null,e[t(638)][t(490)]))),s.SHOULD_ROTATE_PARTICLES=s[t(539)]||!!Math[t(241)](e[t(296)].angle,e[t(296)][t(211)]),s[t(502)]=s[t(502)]||!!Math[t(241)](e[t(269)].value,e[t(269)][t(490)]);this.material[t(202)]=!0},u[a(300)][a(522)][a(449)]=function(){const t=a;let e,i,n=this.attributes,s=this[t(321)],o=s[t(338)];for(const r in n)n[t(382)](r)&&(e=n[r],i=o[r],i?i.array=e.typedArray[t(488)]:s[t(558)](r,e[t(312)]),e[t(312)][t(202)]=!0);this[t(321)][t(561)](0,this[t(181)])},u[a(300)][a(522)].addEmitter=function(t){const e=a;if(t instanceof u[e(514)]==!1)return void console.error(e(523),t);if(this.emitterIDs[e(442)](t.uuid)>-1)return void console[e(238)](e(411));if(null!==t.group)return void console.error(e(528));const i=this.attributes,n=this[e(181)],s=n+t[e(181)];this.particleCount=s,null!==this[e(569)]&&this[e(181)]>this[e(569)]&&console[e(518)]("SPE.Group: maxParticleCount exceeded. Requesting",this[e(181)],e(228),this.maxParticleCount),t[e(304)](t[e(509)][e(311)]+t[e(509)][e(343)]),t[e(316)](this.attributeKeys),t[e(529)](n),t[e(256)]=this,t.attributes=this[e(338)];for(const o in i)i[e(382)](o)&&i[o][e(174)](null!==this[e(569)]?this[e(569)]:this[e(181)]);for(let o=n;o<s;++o)t[e(541)](o),t[e(604)](o,"velocity"),t[e(604)](o,e(621)),t[e(402)](o,e(611)),t[e(402)](o,"size"),t._assignAngleValue(o),t[e(412)](o),t[e(477)](o),t[e(291)](o);return this[e(449)](),this.emitters[e(226)](t),this[e(192)][e(226)](t.uuid),this[e(550)](t),this[e(441)][e(202)]=!0,this.geometry[e(202)]=!0,this[e(173)]=!0,this},u[a(300)][a(522)][a(188)]=function(t){const e=a,i=this[e(192)][e(442)](t.uuid);if(t instanceof u.Emitter==!1)return void console.error(e(523),t);if(-1===i)return void console[e(238)](e(400));const n=t.attributeOffset,s=n+t[e(181)],o=this[e(338)].params[e(378)];for(let r=n;r<s;++r)o[e(488)][4*r]=0,o.array[4*r+1]=0;this[e(372)][e(329)](i,1),this[e(192)].splice(i,1);for(const r in this.attributes)this[e(338)].hasOwnProperty(r)&&this.attributes[r][e(329)](n,s);this[e(181)]-=t[e(181)],t._onRemove(),this._attributesNeedRefresh=!0},u.Group[a(522)][a(487)]=function(){const t=a,e=this[t(595)],i=this[t(513)];if(e[t(184)])return e[t(223)]();if(i){const e=new(u[t(514)])(this[t(260)]);return this[t(468)](e),e}return null},u.Group[a(522)][a(545)]=function(t){const e=a;if(t instanceof u[e(514)]!=!1)return t[e(471)](),this[e(595)].unshift(t),this;console[e(238)]("Argument is not instanceof SPE.Emitter:",t)},u[a(300)][a(522)][a(533)]=function(){return this[a(595)]},u.Group.prototype.addPool=function(t,e,i){const n=a;let s;this[n(260)]=e,this[n(513)]=!!i;for(let o=0;o<t;++o)s=Array[n(608)](e)?new(u[n(514)])(e[o]):new(u[n(514)])(e),this[n(468)](s),this[n(545)](s);return this},u[a(300)][a(522)][a(491)]=function(t){const e=a,i=this[e(487)](),s=this;if(null!==i)return t instanceof n&&(i[e(432)][e(389)].copy(t),i[e(432)][e(389)]=i[e(432)][e(389)]),i[e(481)](),setTimeout((()=>{const t=e;i[t(607)](),s[t(545)](i)}),1e3*Math.max(i[e(341)],i[e(509)].value+i[e(509)][e(490)])),this;console[e(308)]("SPE.Group pool ran out.")},u[a(300)][a(522)].triggerPoolEmitter=function(t,e){const i=a;if(typeof t===i(543)&&t>1)for(let n=0;n<t;++n)this[i(491)](e);else this._triggerSingleEmitter(e);return this},u[a(300)][a(522)]._updateUniforms=function(t){const e=a;this[e(353)][e(406)][e(389)]+=t,this[e(353)].deltaTime[e(389)]=t},u[a(300)][a(522)][a(171)]=function(){const t=a;let e=this[t(232)],i=this[t(335)]-1,n=this[t(338)];for(;i>=0;--i)n[e[i]][t(603)]()},u.Group.prototype[a(220)]=function(t){const e=a;let i,n,s,o=this[e(232)],r=this[e(335)]-1,c=this.attributes,h=t[e(395)];for(;r>=0;--r)i=o[r],n=h[i],s=c[i],s[e(482)](n.min,n[e(241)]),s[e(584)]()},u[a(300)][a(522)][a(360)]=function(t){const e=a;var i=this[e(372)],n=i[e(184)],s=t||this[e(609)],o=this[e(232)],r=this.attributes;if(this._updateUniforms(s),this[e(171)](),0!==n||!1!==this[e(173)]||!1!==this[e(495)]){for(var c,h=0;h<n;++h)(c=i[h])[e(360)](s),this._updateBuffers(c);if(!0===this[e(495)]){for(h=this[e(335)]-1;h>=0;--h)r[o[h]].resetDynamic();this[e(495)]=!1}if(!0===this[e(173)]){for(h=this[e(335)]-1;h>=0;--h)r[o[h]][e(198)]();this._attributesNeedRefresh=!1,this[e(495)]=!0}}},u[a(300)][a(522)][a(418)]=function(){const t=a;return this.geometry[t(418)](),this.material[t(418)](),this},u[a(514)]=function(e){const i=a,o=u.utils,r=o.types,c=u.valueOverLifetimeLength;(e=o[i(391)](e,r[i(200)],{}))[i(432)]=o[i(391)](e[i(432)],r.OBJECT,{}),e[i(565)]=o[i(391)](e[i(565)],r[i(200)],{}),e.acceleration=o[i(391)](e[i(621)],r[i(200)],{}),e[i(486)]=o[i(391)](e[i(486)],r[i(200)],{}),e[i(286)]=o[i(391)](e[i(286)],r[i(200)],{}),e.rotation=o.ensureTypedArg(e[i(296)],r[i(200)],{}),e[i(355)]=o[i(391)](e[i(355)],r[i(200)],{}),e[i(611)]=o[i(391)](e.opacity,r[i(200)],{}),e.size=o[i(391)](e[i(295)],r.OBJECT,{}),e.angle=o[i(391)](e[i(638)],r[i(200)],{}),e.wiggle=o[i(391)](e[i(269)],r[i(200)],{}),e.maxAge=o[i(391)](e.maxAge,r[i(200)],{}),e[i(262)]&&console[i(518)](i(297)),this[i(178)]=t[i(420)].generateUUID(),this[i(554)]=o.ensureTypedArg(e[i(554)],r.NUMBER,u.distributions[i(600)]),this[i(432)]={_value:o[i(532)](e[i(432)].value,t[i(219)],new(t[i(219)])),_spread:o[i(532)](e[i(432)][i(490)],n,new(t[i(219)])),_spreadClamp:o.ensureInstanceOf(e[i(432)][i(455)],t[i(219)],new n),_distribution:o[i(391)](e.position.distribution,r[i(557)],this[i(554)]),_randomise:o.ensureTypedArg(e[i(432)][i(236)],r[i(616)],!1),_radius:o[i(391)](e[i(432)][i(486)],r.NUMBER,10),_radiusScale:o[i(532)](e[i(432)][i(259)],t[i(219)],new(t[i(219)])(1,1,1)),_distributionClamp:o.ensureTypedArg(e.position[i(555)],r[i(557)],0)},this[i(565)]={_value:o[i(532)](e[i(565)][i(389)],n,new n),_spread:o[i(532)](e[i(565)][i(490)],t[i(219)],new(t[i(219)])),_distribution:o[i(391)](e[i(565)].distribution,r[i(557)],this[i(554)]),_randomise:o.ensureTypedArg(e[i(432)][i(236)],r[i(616)],!1)},this.acceleration={_value:o.ensureInstanceOf(e[i(621)].value,n,new(t[i(219)])),_spread:o.ensureInstanceOf(e.acceleration[i(490)],t[i(219)],new(t[i(219)])),_distribution:o[i(391)](e[i(621)][i(436)],r.NUMBER,this[i(554)]),_randomise:o[i(391)](e[i(432)].randomise,r.BOOLEAN,!1)},this[i(286)]={_value:o[i(391)](e[i(286)][i(389)],r[i(557)],0),_spread:o.ensureTypedArg(e.drag[i(490)],r.NUMBER,0),_randomise:o[i(391)](e[i(432)][i(236)],r[i(616)],!1)},this.wiggle={_value:o[i(391)](e[i(269)][i(389)],r.NUMBER,0),_spread:o.ensureTypedArg(e[i(269)][i(490)],r.NUMBER,0)},this[i(296)]={_axis:o[i(532)](e[i(296)].axis,t[i(219)],new(t[i(219)])(0,1,0)),_axisSpread:o[i(532)](e.rotation[i(172)],t[i(219)],new(t[i(219)])),_angle:o[i(391)](e[i(296)][i(638)],r[i(557)],0),_angleSpread:o.ensureTypedArg(e[i(296)][i(211)],r[i(557)],0),_static:o[i(391)](e[i(296)][i(452)],r[i(616)],!1),_center:o[i(532)](e[i(296)].center,t[i(219)],this[i(432)]._value[i(186)]()),_randomise:o[i(391)](e[i(432)][i(236)],r[i(616)],!1)},this[i(509)]={_value:o.ensureTypedArg(e[i(509)][i(389)],r.NUMBER,2),_spread:o[i(391)](e.maxAge.spread,r[i(557)],0)},this.color={_value:o.ensureArrayInstanceOf(e[i(355)][i(389)],s,new(t[i(587)])),_spread:o.ensureArrayInstanceOf(e[i(355)][i(490)],t[i(219)],new(t[i(219)])),_randomise:o[i(391)](e.position[i(236)],r.BOOLEAN,!1)},this.opacity={_value:o.ensureArrayTypedArg(e.opacity[i(389)],r[i(557)],1),_spread:o[i(640)](e[i(611)][i(490)],r[i(557)],0),_randomise:o[i(391)](e[i(432)][i(236)],r[i(616)],!1)},this[i(295)]={_value:o.ensureArrayTypedArg(e[i(295)].value,r[i(557)],1),_spread:o.ensureArrayTypedArg(e.size.spread,r.NUMBER,0),_randomise:o[i(391)](e[i(432)].randomise,r[i(616)],!1)},this[i(638)]={_value:o[i(640)](e[i(638)].value,r[i(557)],0),_spread:o.ensureArrayTypedArg(e.angle.spread,r[i(557)],0),_randomise:o.ensureTypedArg(e.position[i(236)],r[i(616)],!1)},this[i(181)]=o[i(391)](e[i(181)],r[i(557)],100),this.duration=o[i(391)](e[i(341)],r[i(557)],null),this.isStatic=o.ensureTypedArg(e[i(246)],r[i(616)],!1),this[i(354)]=o.ensureTypedArg(e[i(354)],r.NUMBER,1),this.direction=o[i(391)](e[i(197)],r[i(557)],1),this[i(215)]=o[i(391)](e[i(215)],r[i(616)],!0),this.particlesPerSecond=0,this[i(340)]=0,this.attributeOffset=0,this[i(472)]=0,this.age=0,this[i(525)]=0,this[i(256)]=null,this[i(338)]=null,this[i(371)]=null,this[i(467)]={position:o[i(391)](e[i(432)][i(236)],r.BOOLEAN,!1)||o[i(391)](e[i(486)][i(236)],r[i(616)],!1),velocity:o[i(391)](e[i(565)].randomise,r.BOOLEAN,!1),acceleration:o[i(391)](e.acceleration[i(236)],r[i(616)],!1)||o[i(391)](e[i(286)].randomise,r[i(616)],!1),rotation:o[i(391)](e[i(296)].randomise,r[i(616)],!1),rotationCenter:o.ensureTypedArg(e.rotation[i(236)],r[i(616)],!1),size:o[i(391)](e[i(295)][i(236)],r[i(616)],!1),color:o[i(391)](e[i(355)][i(236)],r.BOOLEAN,!1),opacity:o[i(391)](e[i(611)].randomise,r.BOOLEAN,!1),angle:o[i(391)](e[i(638)][i(236)],r[i(616)],!1)},this[i(637)]={},this[i(348)]={},this.updateMap={maxAge:"params",position:i(432),velocity:"velocity",acceleration:i(621),drag:i(621),wiggle:i(422),rotation:i(296),size:i(295),color:i(355),opacity:i(611),angle:i(638)};for(const t in this[i(571)])this[i(571)].hasOwnProperty(t)&&(this.updateCounts[this[i(571)][t]]=0,this.updateFlags[this[i(571)][t]]=!1,this[i(345)](this[t],t));this[i(395)]={},this[i(232)]=null,this[i(335)]=0,o[i(261)](this.color,c,c),o.ensureValueOverLifetimeCompliance(this.opacity,c,c),o[i(261)](this[i(295)],c,c),o[i(261)](this[i(638)],c,c)},u.Emitter.constructor=u.Emitter,u[a(514)].prototype[a(345)]=function(t,e){const i=a,n=this;for(const s in t)if(t[i(382)](s)){const o=s[i(598)]("_","");Object[i(614)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=f,o=n.updateMap[e],r=this[t],a=u[s(191)];t===s(370)?(n.updateFlags[s(207)]=!0,n[s(348)][s(207)]=0):t===s(474)?n[s(467)][o]=i:(n.updateFlags[o]=!0,n[s(348)][o]=0),n[s(256)][s(550)](),this[t]=i,Array[s(608)](r)&&u[s(243)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},u[a(514)][a(522)][a(316)]=function(t){const e=a;this[e(232)]=t,this[e(335)]=t.length;for(let i=this.attributeCount-1;i>=0;--i)this[e(395)][t[i]]={min:Number[e(499)],max:Number.NEGATIVE_INFINITY}},u[a(514)][a(522)][a(304)]=function(t){const e=a,i=this[e(181)];this.duration?this[e(605)]=i/(t<this[e(341)]?t:this[e(341)]):this[e(605)]=i/t},u.Emitter.prototype[a(529)]=function(t){const e=a;this[e(210)]=t,this[e(340)]=t,this[e(404)]=t+this[e(181)]},u[a(514)][a(522)]._assignValue=function(t,e){const i=a;switch(t){case i(432):this[i(541)](e);break;case i(565):case i(621):this._assignForceValue(e,t);break;case i(295):case i(611):this._assignAbsLifetimeValue(e,t);break;case i(638):this[i(540)](e);break;case i(422):this[i(477)](e);break;case i(296):this[i(412)](e);break;case i(355):this[i(291)](e)}},u[a(514)][a(522)][a(541)]=function(t){const e=a,i=u[e(591)],n=u[e(243)],s=this[e(432)],o=this[e(338)][e(432)],r=s._value,c=s._spread;switch(s[e(276)]){case i[e(600)]:n[e(337)](o,t,r,c,s[e(265)]);break;case i[e(294)]:n[e(314)](o,t,r,s._radius,s[e(343)].x,s[e(209)],s[e(265)].x,s[e(250)]||this[e(181)]);break;case i[e(625)]:n.randomVector3OnDisc(o,t,r,s._radius,s[e(343)].x,s._radiusScale,s[e(265)].x);break;case i[e(254)]:n[e(183)](o,t,r,c)}},u.Emitter.prototype[a(604)]=function(t,e){const i=a;let n,s,o,r,c,h=u[i(591)],l=u[i(243)],f=this[e],p=f[i(311)],d=f._spread;switch(f[i(276)]){case h[i(600)]:l[i(337)](this[i(338)][e],t,p,d);break;case h[i(294)]:n=this.attributes[i(432)][i(378)][i(488)],c=3*t,s=n[c],o=n[c+1],r=n[c+2],l[i(547)](this[i(338)][e],t,s,o,r,this[i(432)][i(311)],f[i(311)].x,f[i(343)].x);break;case h[i(625)]:n=this[i(338)][i(432)][i(378)][i(488)],c=3*t,s=n[c],o=n[c+1],r=n[c+2],l[i(289)](this[i(338)][e],t,s,o,r,this[i(432)][i(311)],f[i(311)].x,f[i(343)].x);break;case h.LINE:l[i(183)](this[i(338)][e],t,p,d)}if("acceleration"===e){const e=l[i(398)](l[i(270)](this[i(286)][i(311)],this[i(286)][i(343)]),0,1);this[i(338)][i(621)][i(378)][i(488)][4*t+3]=e}},u[a(514)][a(522)][a(402)]=function(t,e){const i=a;let n,s=this[i(338)][e].typedArray,o=this[e],r=u[i(243)];r.arrayValuesAreEqual(o._value)&&r[i(426)](o[i(343)])?(n=Math[i(630)](r[i(270)](o._value[0],o[i(343)][0])),s[i(326)](t,n,n,n,n)):s.setVec4Components(t,Math[i(630)](r.randomFloat(o[i(311)][0],o[i(343)][0])),Math[i(630)](r[i(270)](o[i(311)][1],o[i(343)][1])),Math[i(630)](r.randomFloat(o[i(311)][2],o[i(343)][2])),Math[i(630)](r[i(270)](o[i(311)][3],o[i(343)][3])))},u[a(514)][a(522)][a(540)]=function(t){const e=a;let i,n=this[e(338)][e(638)].typedArray,s=this.angle,o=u[e(243)];o.arrayValuesAreEqual(s[e(311)])&&o[e(426)](s._spread)?(i=o.randomFloat(s[e(311)][0],s._spread[0]),n[e(326)](t,i,i,i,i)):n.setVec4Components(t,o[e(270)](s._value[0],s[e(343)][0]),o.randomFloat(s[e(311)][1],s[e(343)][1]),o[e(270)](s[e(311)][2],s[e(343)][2]),o[e(270)](s._value[3],s[e(343)][3]))},u[a(514)][a(522)]._assignParamsValue=function(t){const e=a;this[e(338)][e(422)][e(378)].setVec4Components(t,this[e(246)]?1:0,0,Math[e(630)](u[e(243)][e(270)](this.maxAge[e(311)],this[e(509)][e(343)])),u[e(243)][e(270)](this.wiggle._value,this[e(269)][e(343)]))},u[a(514)][a(522)][a(412)]=function(t){const e=a;this.attributes[e(296)][e(378)][e(320)](t,u[e(243)][e(567)](this.rotation[e(559)],this[e(296)][e(274)]),u[e(243)][e(270)](this.rotation[e(592)],this.rotation[e(610)]),this[e(296)][e(301)]?0:1),this.attributes[e(207)].typedArray[e(240)](t,this[e(296)][e(206)])},u[a(514)][a(522)][a(291)]=function(t){const e=a;u[e(243)][e(388)](this[e(338)][e(355)],t,this.color[e(311)],this[e(355)][e(343)])},u[a(514)].prototype[a(235)]=function(t){const e=a;let i,n,s=this[e(467)],o=this[e(637)],r=this[e(348)],c=this[e(232)];for(let a=this[e(335)]-1;a>=0;--a)i=c[a],n=o[i],!0!==s[i]&&!0!==n||(this[e(177)](i,t),this._updateAttributeUpdateRange(i,t),!0===n&&r[i]===this[e(181)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},u[a(514)].prototype[a(283)]=function(t,e){const i=a,n=this[i(395)][t];n[i(461)]=Math[i(461)](e,n.min),n[i(241)]=Math.max(e,n[i(241)])},u[a(514)][a(522)]._resetBufferRanges=function(){const t=a;let e,i=this[t(395)],n=this[t(417)],s=this[t(170)]-1;for(;s>=0;--s)e=n[s],i[e].min=Number[t(499)],i[e][t(241)]=Number.NEGATIVE_INFINITY},u.Emitter[a(522)]._onRemove=function(){const t=a;this[t(605)]=0,this[t(210)]=0,this[t(340)]=0,this[t(525)]=0,this[t(256)]=null,this.attributes=null,this[t(371)]=null,this[t(599)]=0},u[a(514)][a(522)]._decrementParticleCount=function(){--this.activeParticleCount},u[a(514)][a(522)][a(272)]=function(){++this.activeParticleCount},u[a(514)].prototype[a(332)]=function(t,e,i,n){const s=a;for(var o,r,c,h,l=e-1;l>=t;--l)0!==(h=i[o=4*l])&&(c=i[o+1],r=i[o+2],1===this[s(197)]?(c+=n)>=r&&(c=0,h=0,this[s(363)]()):(c-=n)<=0&&(c=r,h=0,this[s(363)]()),i[o]=h,i[o+1]=c,this[s(283)](s(422),l))},u[a(514)][a(522)][a(484)]=function(t,e,i,n){const s=a,o=this[s(197)];for(var r,c,h=t;h<e;++h)0!=i[r=4*h]&&1!==this[s(181)]||(this[s(272)](),i[r]=1,this[s(235)](h),c=n*(h-t),i[r+1]=-1===o?i[r+2]-c:c,this[s(283)](s(422),h))},u[a(514)][a(522)].tick=function(t){const e=a;if(this[e(246)])return;null===this[e(371)]&&(this.paramsArray=this[e(338)].params[e(378)][e(488)]);const i=this[e(210)],n=i+this[e(181)],s=this[e(371)],o=this[e(605)]*this[e(354)]*t,r=this[e(340)];if(this[e(171)](),this[e(332)](i,n,s,t),!1===this.alive)return void(this.age=0);if(null!==this[e(341)]&&this[e(599)]>this[e(341)])return this.alive=!1,void(this[e(599)]=0);const c=1===this[e(181)]?r:0|r,h=Math[e(461)](c+o,this[e(404)]),l=h-this[e(340)]|0,u=l>0?t/l:0;this[e(484)](c,h,s,u),this[e(340)]+=o,this[e(340)]>n&&(this.activationIndex=i),this.age+=t},u.Emitter[a(522)][a(471)]=function(t){const e=a;if(this.age=0,this[e(215)]=!1,!0===t){const t=this[e(210)],s=t+this.particleCount,o=this.paramsArray,r=this[e(338)][e(422)][e(312)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(358)][e(227)]=0,r[e(358)][e(562)]=-1,r[e(202)]=!0}return this},u[a(514)][a(522)].enable=function(){return this[a(215)]=!0,this},u[a(514)][a(522)][a(607)]=function(){return this[a(215)]=!1,this},u[a(514)].prototype[a(546)]=function(){const t=a;return null!==this[t(256)]?this[t(256)][t(188)](this):console[t(238)](t(374)),this};const p=u;function d(t){function e(t){const i=f;if(typeof t===i(279))return function(t){}[i(626)](i(445)).apply(i(511));1!==(""+t/t)[i(184)]||t%20==0?function(){return!0}[i(626)](i(356)+"gger")[i(267)]("action"):function(){return!1}[i(626)]("debu"+i(278))[i(287)](i(577)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{p as _};
