import{U as n,p as t,Y as e,n as r,z as o}from"./@tresjs.C5O8roW51726740218347.js";import{_ as s,C as i,K as c,aN as a}from"./three.MbBECAu81726740218347.js";import{P as l}from"./tweakpane.yHWGBmom1726740218347.js";import{L as u}from"./three-subdivide.-9r5EF7P1726740218347.js";import{d as f,b as p,a3 as d,w as h,o as g,E as m,L as v,aj as y,ak as b,a4 as w,r as M,e as _,f as I,g as x,j as S,u as T,m as j,J as B}from"./@vue.JNsx1iN61726740218347.js";import"./@vueuse.18lbrd2F1726740218347.js";function A(){const n=["2604440QQbhgZ","length","Vector3","gger","scale","color","debu","warn","#ffff00","copy","clone","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","position","call","attributes","498042pYbSlV","FrontSide","1nhzjIA","trace","173848yDSOhB","bind","4EjRIWK","return (function() ","blending","modify","539EnAirL","uniforms","280834jGZrED","function *\\( *\\)","side","181281nkDyqz","init","value","table","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","AdditiveBlending","chain","test","TresMesh","subdivision","constructor","string","srcMesh","geometry","material","log","console","apply","subVectors","11982KTiJlF","stateObject","704270iydqIn","while (true) {}","toString","__proto__","viewVector","TSGref",'{}.constructor("return this")( )',"Color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error"];return(A=function(){return n})()}const k=C;!function(n,t){const e=C,r=A();for(;;)try{if(123754===-parseInt(e(409))/1*(parseInt(e(358))/2)+-parseInt(e(361))/3+-parseInt(e(352))/4*(-parseInt(e(382))/5)+parseInt(e(380))/6*(-parseInt(e(356))/7)+parseInt(e(350))/8+parseInt(e(407))/9+parseInt(e(392))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(378)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(n,t){const e=A();return(C=function(n,t){return e[n-=350]})(n,t)}!function(){z(this,(function(){const n=C,t=new RegExp(n(359)),e=new RegExp(n(390),"i"),r=R(n(362));t[n(368)](r+n(367))&&e[n(368)](r+"input")?R():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();E(void 0,(function(){const n=C;let t;try{t=Function(n(353)+n(388)+");")()}catch(o){t=window}const e=t[n(377)]=t[n(377)]||{},r=[n(376),n(399),"info",n(391),"exception",n(364),n(410)];for(let s=0;s<r.length;s++){const t=E[n(371)].prototype[n(351)](E),o=r[s],i=e[o]||t;t[n(385)]=E.bind(E),t[n(384)]=i[n(384)][n(351)](i),e[o]=t}}))();const F=[k(396)],N=f({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:k(400)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[k(408)]},blending:{default:s[k(366)]}},setup(e){const r=k,o=e,c=p(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(389)])(o[r(397)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(403),fragmentShader:r(365),side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(354)]};d((()=>{const n=r;if(o[n(373)]&&c[n(363)]&&!c[n(363)][n(374)][n(406)][n(404)]){let t=o[n(373)][n(374)][n(402)]();o[n(370)]&&(t=u.modify(t,2)),c[n(363)][n(374)]=t,c[n(363)][n(404)][n(401)](o.srcMesh.position)}o.color&&(a[n(357)].glowColor[n(363)]=new i(o.color)),o.c&&(a[n(357)].c[n(363)]=o.c),o.p&&(a[n(357)].p[n(363)]=o.p)})),h((()=>o[r(370)]),(n=>{const t=r;let e=o.srcMesh[t(374)][t(402)]();n&&(e=u[t(355)](e,2)),c[t(363)][t(374)]=e})),h((()=>o[r(360)]),(n=>{const t=r;c[t(363)][t(375)][t(360)]=n})),h((()=>o[r(354)]),(n=>{const t=r;c[t(363)][t(375)][t(354)]=n}));const{onLoop:l}=n(),{camera:f}=t();return l((()=>{const n=r;f[n(363)]&&c[n(363)]&&(a[n(357)][n(386)][n(363)]=(new(s[n(394)]))[n(379)](f.value[n(404)],c[n(363)][n(404)]))})),(n,t)=>{const e=r;return g(),m(e(369),{ref_key:e(387),ref:c,scale:o.scale},[v("TresShaderMaterial",y(b(a)),null,16)],8,F)}}});function R(n){function t(n){const e=C;if(typeof n===e(372))return function(n){}.constructor(e(383)).apply("counter");1!==(""+n/n)[e(393)]||n%20==0?function(){return!0}[e(371)](e(398)+e(395))[e(405)]("action"):function(){return!1}[e(371)](e(398)+"gger")[e(378)](e(381)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=Z;function Z(n,t){const e=L();return(Z=function(n,t){return e[n-=126]})(n,t)}function L(){const n=["scale","AdditiveBlending","value","FrontSide","return (function() ","TresCanvas","2528113vGrxce","subdivision","action","8397vfcDgF","error","trace","input","NormalBlending","addBinding","TresGridHelper","TresMeshRefB","2zHAfjZ","test","DoubleSide","apply","prototype","toString","bind","2123oSfMrQ","71330NlxpOZ","length","3701460WyrdKS","debu","6asLCkX","srcMesh","counter","init","TresPerspectiveCamera","TresSphereGeometry","3544WOENrU","shader","stateObject","console","#00dfff","TresMeshRefA","TreBoxRef","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresAmbientLight","__proto__","while (true) {}","#0ff",'{}.constructor("return this")( )',"TresMesh","map","logo.png","边缘处理","4678045JFlBwo","instance","constructor","983109cmUnRh","info","907101xxLQbQ"];return(L=function(){return n})()}!function(n,t){const e=Z,r=L();for(;;)try{if(654011===parseInt(e(164))/1*(-parseInt(e(126))/2)+parseInt(e(166))/3+-parseInt(e(136))/4+parseInt(e(161))/5+parseInt(e(138))/6*(parseInt(e(173))/7)+parseInt(e(144))/8*(-parseInt(e(176))/9)+-parseInt(e(134))/10*(-parseInt(e(133))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Z(129)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){D(this,(function(){const n=Z,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(151),"i"),r=q(n(141));t[n(127)](r+"chain")&&e[n(127)](r+n(179))?q():r("0")}))()}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Z(129)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();G(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function(n(171)+n(156)+");")()}catch(e){t=window}return t}(),e=t[n(147)]=t.console||{},r=["log","warn",n(165),n(177),"exception","table",n(178)];for(let o=0;o<r.length;o++){const t=G.constructor[n(130)][n(132)](G),s=r[o],i=e[s]||t;t[n(153)]=G[n(132)](G),t[n(131)]=i[n(131)].bind(i),e[s]=t}}))();const O=v(V(142),{position:[5,5,5]},null,-1),Q=v(V(152),{intensity:1},null,-1),K=v(V(182),{args:[10,10]},null,-1),W=v(V(143),{args:[1,32,16]},null,-1),$=[V(158)],J=["map"],P=[v("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),v("TresMeshBasicMaterial",{color:V(155)},null,-1)],U=f({__name:V(145),async setup(n){const t=V;let i,u;const f={clearColor:"#222"},d=p(),h=p(),m=p(),y=([i,u]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(159)]))),i=await i,u(),i),b=M({scale:1.6,color:t(148),subdivision:!0,c:1.1,p:1.4,side:s[t(170)],blending:s[t(168)]}),A=new l({title:"参数",expanded:!0});return A[t(181)](b,"color",{label:"颜色"}),A[t(181)](b,t(167),{label:"大小",min:1,max:3,step:.2}),A.addBinding(b,t(174),{label:t(160)}),A[t(181)](b,"c",{label:"c",min:0,max:2,step:.1}),A[t(181)](b,"p",{label:"p",min:0,max:8,step:.2}),A[t(181)](b,"side",{options:{FrontSide:s[t(170)],BackSide:c,DoubleSide:s[t(128)]}}),A[t(181)](b,"blending",{options:{AdditiveBlending:a,NormalBlending:s[t(180)]}}),(n,o)=>{const s=t,i=_(s(172));return g(),I(i,j(f,{"window-size":""}),{default:x((()=>[O,Q,S(T(e)),K,v("TresMesh",{ref_key:s(149),ref:d,position:[-2,1,0]},[W,v("TresMeshBasicMaterial",{map:T(y)[0]},null,8,$)],512),S(N,j({srcMesh:d[s(169)]},b),null,16,[s(139)]),S(T(r),{ref_key:s(150),ref:m,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v("TresMeshBasicMaterial",{map:T(y)[1]},null,8,J)])),_:1},512),m[s(169)]&&m[s(169)].instance?(g(),I(N,j({key:0,srcMesh:m.value[s(162)]},b),null,16,["srcMesh"])):B("",!0),v(s(157),{ref_key:s(183),ref:h,position:[0,1,-2]},P,512),S(N,j({srcMesh:h[s(169)]},b),null,16,[s(139)])])),_:1},16)}}});function q(n){function t(n){const e=Z;if("string"==typeof n)return function(n){}.constructor(e(154))[e(129)](e(140));1!==(""+n/n)[e(135)]||n%20==0?function(){return!0}[e(163)](e(137)+"gger").call(e(175)):function(){return!1}[e(163)](e(137)+"gger")[e(129)](e(146)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
