import{b as t,m as n,U as e}from"./@tresjs.8MtVPQyb1736160428509.js";import{_ as o}from"./three.rmsIv-u_1736160428509.js";import{n as r,_ as i}from"./three-tile.rGySB-KI1736160428509.js";import{_ as a,c as s}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.s-pRg7qs1736160428509.js";import{d as c,a6 as u,w as p,o as l,D as f,J as m,u as h,r as d,b as g,f as y,g as I,j as b,m as _,al as w,F as j,e as v,aj as x,ak as S}from"./@vue.4u_eOGex1736160428509.js";import{P as T}from"./tweakpane.yHWGBmom1736160428509.js";import{_ as B}from"./informationDiv.TK31TdIP1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";import"./@fesjs.pVksQyts1736160428509.js";import"./vue-router.jVp56Lac1736160428509.js";import"./lodash-es.kYt-_xTG1736160428509.js";import"./@qlin.yHhFDldE1736160428509.js";import"./pinia.F-Vnosig1736160428509.js";import"./vue-demi.C4xddsk91736160428509.js";import"./@floating-ui.BPbuo5Gx1736160428509.js";import"./@juggle.7yjBMqoW1736160428509.js";const z=E;function M(){const t=["4UhPnzS","test","MeshPhongMaterial","replace","scale","Vector3","33194veagMK","5724081VqpZjR","Texture","action","gger","trace","bind","matrix","toString","position","call","init","4072576AQeQVh","return (function() ","onBeforeCompile","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","material","6877620yBewCH","rotateX","40.png","TresPlaneGeometry","TresGroup","2BfVvbX","color","info","2161563zAeBGO",'{}.constructor("return this")( )',"chain","height","applyMatrix4","string","radraImgShow","TresMesh","log","307246aKppux","apply","opacity","uniform sampler2D map;\n\t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","DoubleSide","console","4367915rBWBjZ","scaleImg","position-y","function *\\( *\\)","push","#include <displacementmap_vertex>","constructor","1002nXKoJa","length","map","vertexShader"];return(M=function(){return t})()}!function(t,n){const e=E,o=M();for(;;)try{if(488779===-parseInt(e(325))/1*(-parseInt(e(313))/2)+-parseInt(e(316))/3*(-parseInt(e(344))/4)+-parseInt(e(333))/5+parseInt(e(340))/6*(parseInt(e(350))/7)+-parseInt(e(362))/8+-parseInt(e(351))/9+parseInt(e(367))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=E,n=new RegExp(t(336)),e=new RegExp(t(329),"i"),o=F(t(361));n[t(345)](o+t(318))&&e.test(o+"input")?F():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(326)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(363)+t(317)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(332)]||{},o=[t(324),"warn",t(315),"error","exception",t(330),t(355)];for(let r=0;r<o[t(341)];r++){const n=k[t(339)].prototype[t(356)](k),i=o[r],a=e[i]||n;n.__proto__=k[t(356)](k),n[t(358)]=a[t(358)].bind(a),e[i]=n}}))();const A=[z(359)],D=[z(348),z(366),z(368),z(335)];function E(t,n){const e=M();return(E=function(t,n){return e[t-=310]})(t,n)}const Q=c({__name:z(322),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=z;let r,i;const s=n,c=new(o[e(346)])({displacementMap:new(o[e(352)]),transparent:!0,side:o[e(331)],opacity:s[e(327)],displacementScale:.5,displacementBias:0});c[e(364)]=t=>{const n=e;t[n(343)]=n(328)+t.vertexShader,t[n(343)]=t[n(343)][n(347)](n(338),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const d=s[e(342)].geo2pos(new(o[e(349)])(105,34,0));d[e(320)](s.map[e(357)]);const g=a[e(334)](s.map,{x:67,y:11},{x:140,y:57},s[e(319)]),y=[];for(let t=0;t<9;t++)y[e(337)](e(365)+t+e(310));let I=0;const b=([r,i]=u((()=>t(y))),r=await r,i(),r);c[e(342)]=b[I],p((()=>[s[e(314)],s[e(327)]]),(([t,n])=>{c.opacity=n}));let _=null,w=!1;return w?(clearInterval(_),_=null,w=!1):(_=setInterval((()=>{const t=E;I=I<y.length-1?I+1:0,c.map=b[I],c.needsUpdate=!0,console[t(324)](I)}),1e3),w=!0),(t,n)=>{const o=e;return l(),f(o(312),{position:[...h(d)]},[m(o(323),{scale:[h(g).x,h(g).y,t[o(319)]],material:h(c),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(319)]/5},n[0]||(n[0]=[m(o(311),{args:[1,1,529,420]},null,-1)]),8,D)],8,A)}}});function F(t){function n(t){const e=E;if(typeof t===e(321))return function(t){}[e(339)]("while (true) {}").apply("counter");1!==(""+t/t)[e(341)]||t%20==0?function(){return!0}[e(339)]("debu"+e(354))[e(360)](e(353)):function(){return!1}[e(339)]("debu"+e(354)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function G(){const t=["12jmamuO","exception","length","constructor","67VrZPOG",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","96708PbatMS","map","803nrXUxU","4067646EcqGoK","init","call","height","TresDirectionalLight","6373010tkzeNT","gger","trace","log","action","__proto__","debu","terrain-rgb","4174INrdFF","table","target","mapbox.satellite","776024ytvTQh","domElement","counter","6021253GzKQSc","468424OfdfSQ","chain","value","position","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","object","TileMap","primitive","透明度","showLocation","18QSQibT","apply","info","console","rotateX","geo2pos","warn","test","tdLight","copy","plugin","image","Vector3","addBinding","MapBoxSource","bind","while (true) {}","opacity","string","5GmPiVB","localToWorld","toString"];return(G=function(){return t})()}const L=R;!function(t,n){const e=R,o=G();for(;;)try{if(486235===parseInt(e(360))/1*(parseInt(e(379))/2)+parseInt(e(356))/3*(parseInt(e(383))/4)+parseInt(e(353))/5*(-parseInt(e(366))/6)+-parseInt(e(386))/7+-parseInt(e(324))/8*(parseInt(e(334))/9)+parseInt(e(371))/10+-parseInt(e(365))/11*(-parseInt(e(363))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(362),"i"),o=W(t(367));n[t(341)](o+t(325))&&e.test(o+"input")?W():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(335)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(t,n){const e=G();return(R=function(t,n){return e[t-=324]})(t,n)}O(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function("return (function() "+t(361)+");")()}catch(e){n=window}return n}(),e=n[t(337)]=n[t(337)]||{},o=[t(374),t(340),t(336),"error",t(357),t(380),t(373)];for(let r=0;r<o[t(358)];r++){const n=O[t(359)].prototype[t(349)](O),i=o[r],a=e[i]||n;n[t(376)]=O[t(349)](O),n[t(355)]=a[t(355)].bind(a),e[i]=n}}))();const U=[L(329)],K=L(328),V=c({__name:"mapBoxShow3",setup(t){const e=L,c=d({height:200,opacity:1}),u=new T({title:"参数"});u.addBinding(c,e(369),{label:"高度",min:10,max:300,step:1}),u[e(347)](c,e(351),{label:e(332),min:0,max:1,step:.1});const v=new(r[e(348)])({token:K,dataType:e(345),style:e(382)}),x=new(i[e(344)][e(348)])({token:K,dataType:e(378),style:"mapbox.terrain-rgb",maxLevel:15}),S=new(i[e(330)])({imgSource:v,demSource:x,lon0:90,minLevel:2,maxLevel:20});S[e(338)](-Math.PI/2);const B=new(o[e(346)])(105,34,0),z=new(o[e(346)])(110,0,1e4),M=S.localToWorld(S.geo2pos(B)),P=S[e(354)](S[e(339)](z)),k=g(),{camera:A,controls:D,scene:E,renderer:F}=n();return A[e(326)]&&A[e(326)][e(327)][e(343)](P),p((()=>D.value),(t=>{const n=e;t&&(t[n(381)][n(343)](M),s(t,A[n(326)],E[n(326)]))})),p((()=>k[e(326)]),(t=>{const n=e;t&&t[n(381)][n(327)][n(343)](M)})),a[e(333)](A[e(326)],F.value[e(384)],S),(t,n)=>{const o=e;return l(),f(j,null,[m(o(370),{ref_key:o(342),ref:k,position:[0,2e3,1e3],intensity:1},null,512),m(o(331),{object:h(S)},null,8,U),(l(),y(w,null,{default:I((()=>[b(Q,_({map:h(S)},c),null,16,[o(364)])])),_:1}))],64)}}});function W(t){function n(t){const e=R;if(typeof t===e(352))return function(t){}[e(359)](e(350)).apply(e(385));1!==(""+t/t)[e(358)]||t%20==0?function(){return!0}[e(359)](e(377)+"gger")[e(368)](e(375)):function(){return!1}[e(359)](e(377)+e(372)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=H;!function(t,n){const e=H,o=$();for(;;)try{if(946602===-parseInt(e(305))/1+-parseInt(e(303))/2+-parseInt(e(330))/3+-parseInt(e(333))/4*(parseInt(e(318))/5)+-parseInt(e(300))/6*(parseInt(e(316))/7)+-parseInt(e(304))/8+-parseInt(e(307))/9*(-parseInt(e(306))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(297)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["1674132tBYrsT","info","apply","chain","__proto__","6054ZYKxfj","stateObject","return (function() ","390582hYcyRn","518184LschHT","488023yvFWSa","10KOplll","43509501UdcdEE","constructor","#dbf0ff","length","log","TresAmbientLight","prototype","bind","counter","8771trusGP","init","5QwAhog","warn","debu","radraImg","function *\\( *\\)","toString","TresPerspectiveCamera","trace","highp","gger",'{}.constructor("return this")( )',"exception","4370670CtwnLJ","error","test"];return($=function(){return t})()}!function(){X(this,(function(){const t=H,n=new RegExp(t(322)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=J(t(317));n.test(o+t(298))&&e[t(332)](o+"input")?J():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(297)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=H;let n;try{n=Function(t(302)+t(328)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(311),t(319),t(334),t(331),t(329),"table",t(325)];for(let i=0;i<o[t(310)];i++){const n=N.constructor[t(313)].bind(N),r=o[i],a=e[r]||n;n[t(299)]=N[t(314)](N),n[t(323)]=a[t(323)][t(314)](a),e[r]=n}}))();const q=c({__name:C(321),setup(t){const n=C,o=d({clearColor:n(309),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(326)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const a=n,s=v("TresCanvas");return l(),f(j,null,[b(s,_(o,{"window-size":""}),{default:I((()=>[i[0]||(i[0]=m(a(324),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(h(e),x(S(r)),null,16),i[1]||(i[1]=m(a(312),{intensity:1},null,-1)),b(V)])),_:1},16),b(B)],64)}}});function H(t,n){const e=$();return(H=function(t,n){return e[t-=297]})(t,n)}function J(t){function n(t){const e=H;if("string"==typeof t)return function(t){}[e(308)]("while (true) {}")[e(297)](e(315));1!==(""+t/t)[e(310)]||t%20==0?function(){return!0}.constructor("debugger").call("action"):function(){return!1}[e(308)](e(320)+e(327))[e(297)](e(301)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
