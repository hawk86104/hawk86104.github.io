import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.gP9bIAYD1721721076264.js";import{B as i,V as s,cj as n,aB as e,N as r,h as o,ae as a,Y as h,q as c,a6 as u}from"./three.fnkrvySq1721721076264.js";import{$ as l,D as p,i as d}from"./@tresjs.tWkmYPO61721721076264.js";import{c as f}from"./simplex-noise.MycypUyu1721721076264.js";import{d as m,a1 as g,o as y,D as b,u as S,r as v,j as w,g as x,m as I,F as _}from"./@vue.Q1VpS3901721721076264.js";import"./index.Q4119pGt1721721076264.js";import{_ as P}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.qTBQgPyz1721721076264.js";import"./three-custom-shader-material.UAECXI501721721076264.js";import"./object-hash.n-lQHd521721721076264.js";import"./@amap.b3gYyCW_1721721076264.js";import"./jszip.vimxEq251721721076264.js";import"./glsl-tokenizer.rVSxTaVo1721721076264.js";import"./glsl-token-string.qKZvKI-H1721721076264.js";import"./glsl-token-functions.nzsekdRK1721721076264.js";import"./tweakpane.yHWGBmom1721721076264.js";import"./@vueuse._hUvP73U1721721076264.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.4pBzkDPe1721721076264.js";import"./all.three.e2UOJjs11721721076264.js";import"./oimophysics.x0jH7fze1721721076264.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.TG1thKJx1721721076264.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.blZv8Npt1721721076264.js";import"./index.9ahhXQcR1721721076264.js";import"./three-stdlib.Rahz23xb1721721076264.js";import"./@pmndrs.K9H4bZlG1721721076264.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.4vQdfXnq1721721076264.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.yJO0y2Sa1721721076264.js";const M=V;!function(t,i){const s=V,n=A();for(;;)try{if(783755===parseInt(s(240))/1*(-parseInt(s(245))/2)+parseInt(s(154))/3*(parseInt(s(237))/4)+-parseInt(s(169))/5+-parseInt(s(272))/6*(-parseInt(s(139))/7)+-parseInt(s(250))/8*(-parseInt(s(110))/9)+-parseInt(s(129))/10*(parseInt(s(220))/11)+-parseInt(s(223))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const T=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[V(206)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function V(t,i){const s=A();return(V=function(t,i){return s[t-=102]})(t,i)}!function(){T(this,(function(){const t=V,i=new RegExp(t(180)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=j(t(258));i[t(212)](n+t(195))&&s[t(212)](n+t(214))?j():n("0")}))()}();const C=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[V(206)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();C(void 0,(function(){const t=V;let i;try{i=Function(t(235)+'{}.constructor("return this")( ));')()}catch(e){i=window}const s=i.console=i[t(125)]||{},n=[t(244),"warn",t(117),t(200),t(170),t(267),t(239)];for(let r=0;r<n[t(157)];r++){const i=C[t(203)][t(274)][t(270)](C),e=n[r],o=s[e]||i;i[t(124)]=C[t(270)](C),i[t(184)]=o.toString[t(270)](o),s[e]=i}}))();class R extends i{constructor(t={}){const i=V;super(),this[i(186)]=!0,this[i(277)]="LightningStrike",this[i(258)](R[i(178)](t,t)),this[i(191)]()}static[M(135)](){const t=M,i=2053,s=[];for(let e=0;e<i;e++)s[t(197)](Math[t(204)]());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(264)]];return n[e(264)]=(n[e(264)]+1)%i,r},getSeed:function(){return n.currentSeed/i},setSeed:function(s){n[t(264)]=Math.floor(s*i)%i}};return n}static copyParameters(t={},i={}){const n=M,e=function(s){return i===t?s:s[V(162)]()};return t[n(175)]=void 0!==i.sourceOffset?e(i[n(175)]):new s(0,100,0),t[n(116)]=void 0!==i.destOffset?e(i[n(116)]):new s(0,0,0),t.timeScale=void 0!==i[n(276)]?i.timeScale:1,t[n(174)]=void 0!==i[n(174)]?i[n(174)]:.9,t[n(167)]=void 0!==i[n(167)]?i[n(167)]:.7,t[n(266)]=void 0!==i.up0?e(i.up0):new s(0,0,1),t[n(150)]=void 0!==i.up1?e(i.up1):new s(0,0,1),t[n(109)]=void 0!==i[n(109)]?i.radius0:1,t[n(252)]=void 0!==i[n(252)]?i[n(252)]:1,t.radius0Factor=void 0!==i.radius0Factor?i[n(166)]:.5,t[n(156)]=void 0!==i[n(156)]?i[n(156)]:.2,t[n(181)]=void 0!==i.minRadius?i[n(181)]:.2,t.isEternal=void 0!==i[n(238)]?i[n(238)]:void 0===i[n(130)]||void 0===i.deathTime,t.birthTime=i[n(130)],t[n(134)]=i.deathTime,t[n(228)]=void 0!==i[n(228)]?i[n(228)]:.1,t.vanishingTimeFactor=void 0!==i.vanishingTimeFactor?i[n(218)]:.9,t[n(271)]=void 0!==i[n(271)]?i[n(271)]:4,t[n(132)]=void 0!==i[n(132)]?i[n(132)]:.6,t[n(121)]=void 0!==i.maxIterations?i[n(121)]:9,t.isStatic=void 0!==i[n(225)]&&i[n(225)],t[n(146)]=void 0!==i[n(146)]?i[n(146)]:5,t[n(202)]=void 0!==i[n(202)]?i[n(202)]:3,t.recursionProbability=void 0!==i[n(108)]?i[n(108)]:.6,t[n(231)]=void 0!==i[n(231)]&&i[n(231)],t[n(185)]=i[n(185)],t[n(140)]=i[n(140)],t[n(148)]=i[n(148)],t[n(144)]=i[n(144)],t}[M(219)](t){const i=M;this[i(225)]||(this[i(265)].isEternal||this[i(265)][i(130)]<=t&&t<=this.rayParameters[i(134)]?(this[i(158)](t),t<this.subrays[0].endPropagationTime?this[i(215)]=R[i(190)]:t>this.subrays[0][i(136)]?this.state=R[i(257)]:this[i(215)]=R[i(242)],this[i(145)]=!0):(this[i(145)]=!1,t<this[i(265)][i(130)]?this[i(215)]=R[i(217)]:this[i(215)]=R[i(123)]))}init(t){const i=M;this.rayParameters=t,this[i(121)]=void 0!==t.maxIterations?Math[i(234)](t[i(121)]):9,t[i(121)]=this[i(121)],this[i(225)]=void 0!==t.isStatic&&t[i(225)],t[i(225)]=this[i(225)],this[i(146)]=void 0!==t[i(146)]?Math[i(234)](t[i(146)]):5,t[i(146)]=this[i(146)],this.maxSubrayRecursion=void 0!==t[i(202)]?Math[i(234)](t[i(202)]):3,t[i(202)]=this[i(202)],this[i(108)]=void 0!==t[i(108)]?t[i(108)]:.6,t[i(108)]=this[i(108)],this.generateUVs=void 0!==t[i(231)]&&t[i(231)],t[i(231)]=this[i(231)],void 0!==t.randomGenerator?(this.randomGenerator=t[i(185)],this.seedGenerator=t[i(185)],void 0!==t[i(140)]&&this[i(275)][i(241)](t[i(140)])):(this[i(185)]=R[i(135)](),this[i(275)]=Math),void 0!==t.onDecideSubrayCreation?this[i(148)]=t[i(148)]:(this[i(249)](),void 0!==t[i(144)]&&(this[i(144)]=t[i(144)])),this[i(215)]=R[i(226)],this[i(261)]=Math[i(165)](1+Math[i(255)](this[i(146)],Math[i(131)](0,this[i(202)]-1))),t[i(261)]=this[i(261)],this[i(122)]=2*(1<<this.maxIterations),this[i(182)]=[];for(let s=0;s<this[i(261)];s++)this[i(182)][i(197)](this.createSubray());this[i(176)]=[];for(let s=0;s<this[i(122)];s++)this[i(176)].push(this[i(211)]());this[i(155)]=0,this[i(133)]=0,this[i(246)]=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this[i(269)],this[i(153)]=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this[i(179)]=0,this.currentVertex=0,this.currentIndex=0,this[i(172)]=0,this.currentUVCoordinate=0,this[i(164)]=null,this[i(230)]=null,this[i(160)]=null,this.positionAttribute=null,this[i(118)]=null,this.simplexX=f(this[i(275)][i(204)]),this[i(210)]=f(this.seedGenerator.random),this[i(151)]=f(this[i(275)][i(204)]),this.forwards=new s,this[i(208)]=new s,this.side=new s,this[i(256)]=new s,this.middlePos=new s,this.middleLinPos=new s,this[i(119)]=new s,this.vPos=new s,this[i(196)]=new s}[M(191)](){const t=M,i=1<<this[t(121)],s=3*(i+1)*this[t(261)],o=18*i*this[t(261)];this[t(164)]=new Float32Array(3*s),this.indices=new Uint32Array(o),this.generateUVs&&(this.uvs=new Float32Array(2*s)),this[t(104)](0),this[t(268)](new n(this.indices,1)),this[t(107)]=new e(this[t(164)],3),this[t(120)](t(177),this[t(107)]),this[t(231)]&&(this[t(118)]=new e(new Float32Array(this[t(230)]),2),this[t(120)]("uv",this[t(118)])),!this[t(225)]&&(this.index[t(142)]=r,this[t(107)][t(142)]=r,this[t(231)]&&(this[t(118)][t(142)]=r)),this[t(164)]=this.positionAttribute.array,this.indices=this[t(143)].array,this[t(231)]&&(this[t(230)]=this.uvsAttribute[t(221)])}[M(158)](t){const i=M;this[i(104)](t),this[i(205)][i(236)]=this[i(247)],this[i(143)][i(216)]=!0,this.positionAttribute[i(216)]=!0,this[i(231)]&&(this.uvsAttribute.needsUpdate=!0)}[M(104)](t){const i=M,s=this;this.currentVertex=0,this[i(247)]=0,this[i(172)]=0,this.currentUVCoordinate=0,this.fractalRay(t,(function(n){const e=i,r=s[e(113)];t<r.birthTime||(this[e(265)].isEternal&&0==s[e(113)][e(152)]?(s.createPrism(n),s.onDecideSubrayCreation(n,s)):t<r[e(187)]?s[e(133)]>=n[e(128)]*r[e(228)]&&(s[e(198)](n),s[e(148)](n,s)):t<r[e(136)]?(s.createPrism(n),s.onDecideSubrayCreation(n,s)):(s[e(133)]<=r[e(218)]+n[e(227)]*(1-r[e(218)])&&s.createPrism(n),s[e(148)](n,s)))}))}addNewSubray(){const t=M;return this[t(182)][this[t(153)]++]}[M(262)](t,i){const s=M;t.pos0[s(201)](i[s(175)]),t[s(159)][s(201)](i[s(116)]),t.up0[s(201)](i.up0),t[s(150)][s(201)](i.up1),t[s(109)]=i[s(109)],t[s(252)]=i.radius1,t[s(130)]=i[s(130)],t[s(134)]=i[s(134)],t[s(276)]=i[s(276)],t[s(174)]=i.roughness,t[s(167)]=i[s(167)],t[s(228)]=i[s(228)],t[s(218)]=i[s(218)],t.maxIterations=this[s(121)],t[s(147)]=void 0!==i[s(140)]?i[s(140)]:0,t.recursion=0}fractalRay(t,i){const s=M;this[s(155)]=t,this[s(246)]=i,this.numSubrays=0,this.initSubray(this[s(254)](),this[s(265)]);for(let n=0;n<this[s(153)];n++){const i=this.subrays[n];this[s(113)]=i,this[s(185)].setSeed(i[s(147)]),i[s(187)]=o[s(253)](i[s(130)],i[s(134)],i[s(228)]),i[s(136)]=o[s(253)](i[s(134)],i.birthTime,1-i[s(218)]);const e=this[s(185)].random;i[s(222)][s(102)](e(),e(),e())[s(232)](1e3),i[s(183)][s(102)](e(),e(),e())[s(232)](1e3),this[s(133)]=(t-i.birthTime)/(i.deathTime-i.birthTime),this[s(243)]=0,this[s(127)]=!0;const r=this.getNewSegment();r[s(229)]=0,r[s(188)][s(201)](i.pos0),r.pos1[s(201)](i.pos1),r[s(222)][s(201)](i[s(222)]),r.linPos1[s(201)](i.linPos1),r[s(266)][s(201)](i[s(266)]),r[s(150)][s(201)](i.up1),r[s(109)]=i[s(109)],r[s(252)]=i[s(252)],r[s(128)]=0,r[s(227)]=1,r[s(137)]=1-i[s(167)],this.subrayProbability=this.ramification*Math[s(255)](this[s(108)],i.recursion)/(1<<i[s(121)]),this.fractalRayRecursive(r)}this.currentSegmentCallback=null,this[s(113)]=null}[M(105)](t){const i=M;if(t[i(229)]>=this[i(113)][i(121)])return void this[i(246)](t);this.forwards[i(126)](t.pos1,t[i(188)]);let s=this[i(149)][i(157)]();s<1e-6&&(this[i(149)][i(102)](0,0,.01),s=this.forwards[i(157)]());const n=.5*(t.radius0+t.radius1),e=.5*(t.fraction0+t.fraction1),r=this[i(155)]*this[i(113)][i(276)]*Math[i(255)](2,t[i(229)]);this[i(233)][i(251)](t[i(188)],t[i(159)],.5),this[i(248)][i(251)](t[i(222)],t[i(183)],.5);const o=this[i(248)];this[i(119)][i(102)](this.simplexX(o.x,o.y,o.z,r),this[i(210)](o.x,o.y,o.z,r),this.simplexZ(o.x,o.y,o.z,r)),this[i(119)].multiplyScalar(t[i(137)]*s),this[i(119)][i(138)](this[i(233)]);const a=this.getNewSegment();a.pos0[i(201)](t[i(188)]),a.pos1[i(201)](this[i(119)]),a[i(222)].copy(t[i(222)]),a[i(183)][i(201)](this[i(248)]),a[i(266)][i(201)](t[i(266)]),a.up1[i(201)](t[i(150)]),a[i(109)]=t[i(109)],a[i(252)]=n,a[i(128)]=t[i(128)],a[i(227)]=e,a[i(137)]=t.positionVariationFactor*this[i(113)][i(174)],a[i(229)]=t[i(229)]+1;const h=this[i(263)]();h[i(188)].copy(this[i(119)]),h[i(159)].copy(t[i(159)]),h[i(222)].copy(this.middleLinPos),h.linPos1.copy(t[i(183)]),this[i(196)][i(194)](t[i(266)],this.forwards[i(209)]()),h[i(266)][i(194)](this[i(149)],this.cross1).normalize(),h[i(150)].copy(t[i(150)]),h[i(109)]=n,h[i(252)]=t[i(252)],h[i(128)]=e,h.fraction1=t.fraction1,h.positionVariationFactor=t.positionVariationFactor*this[i(113)][i(174)],h.iteration=t[i(229)]+1,this[i(105)](a),this[i(105)](h)}[M(198)](t){const i=M;this[i(208)][i(126)](t[i(159)],t[i(188)]).normalize(),this.isInitialSegment&&(this[i(106)](t[i(188)],t[i(266)],this[i(208)],t[i(109)],0),this[i(127)]=!1),this[i(106)](t[i(159)],t[i(266)],this[i(208)],t[i(252)],t[i(227)]),this[i(192)]()}createTriangleVerticesWithoutUVs(t,i,s,n){const e=M;this.side[e(194)](i,s)[e(232)](n*R[e(260)]),this.down.copy(i)[e(232)](-n*R[e(111)]);const r=this[e(213)],o=this[e(164)];r[e(201)](t)[e(207)](this[e(115)]).add(this[e(256)]),o[this[e(172)]++]=r.x,o[this[e(172)]++]=r.y,o[this[e(172)]++]=r.z,r[e(201)](t)[e(138)](this.side)[e(138)](this[e(256)]),o[this[e(172)]++]=r.x,o[this[e(172)]++]=r.y,o[this.currentCoordinate++]=r.z,r[e(201)](i)[e(232)](n).add(t),o[this.currentCoordinate++]=r.x,o[this[e(172)]++]=r.y,o[this[e(172)]++]=r.z,this[e(163)]+=3}[M(273)](t,i,s,n,e){const r=M;this.side[r(194)](i,s).multiplyScalar(n*R[r(260)]),this[r(256)][r(201)](i)[r(232)](-n*R.SIN30DEG);const o=this.vPos,a=this.vertices,h=this[r(230)];o[r(201)](t)[r(207)](this[r(115)])[r(138)](this[r(256)]),a[this[r(172)]++]=o.x,a[this[r(172)]++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(189)]++]=e,h[this[r(189)]++]=0,o[r(201)](t)[r(138)](this.side)[r(138)](this[r(256)]),a[this.currentCoordinate++]=o.x,a[this[r(172)]++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(189)]++]=e,h[this[r(189)]++]=.5,o[r(201)](i)[r(232)](n)[r(138)](t),a[this[r(172)]++]=o.x,a[this[r(172)]++]=o.y,a[this[r(172)]++]=o.z,h[this[r(189)]++]=e,h[this[r(189)]++]=1,this[r(163)]+=3}[M(192)](t){const i=M,s=this[i(160)];t=this[i(163)]-6,s[this[i(247)]++]=t+1,s[this[i(247)]++]=t+2,s[this[i(247)]++]=t+5,s[this[i(247)]++]=t+1,s[this[i(247)]++]=t+5,s[this.currentIndex++]=t+4,s[this[i(247)]++]=t+0,s[this[i(247)]++]=t+1,s[this[i(247)]++]=t+4,s[this.currentIndex++]=t+0,s[this[i(247)]++]=t+4,s[this.currentIndex++]=t+3,s[this[i(247)]++]=t+2,s[this[i(247)]++]=t+0,s[this.currentIndex++]=t+3,s[this[i(247)]++]=t+2,s[this[i(247)]++]=t+3,s[this[i(247)]++]=t+5}createDefaultSubrayCreationCallbacks(){const t=M,i=this.randomGenerator[t(204)];this.onDecideSubrayCreation=function(s,n){const e=t,r=n.currentSubray,a=n[e(265)].subrayPeriod,h=n[e(265)][e(132)],c=n[e(265)][e(238)]&&0==r[e(152)]?-i()*a:o[e(253)](r.birthTime,r[e(187)],s[e(128)])-i()*a,u=n.time-c,l=Math[e(234)](u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n.subrayProbability),r[e(152)]<n[e(202)]&&n.numSubrays<n[e(261)]&&i()<d){const t=n[e(254)](),o=n[e(185)].getSeed();t.seed=p,n[e(185)].setSeed(p),t[e(152)]=r[e(152)]+1,t[e(121)]=Math[e(131)](1,r.maxIterations-1),t[e(222)][e(102)](i(),i(),i())[e(232)](1e3),t.linPos1[e(102)](i(),i(),i())[e(232)](1e3),t.up0[e(201)](r[e(266)]),t[e(150)][e(201)](r.up1),t.radius0=s[e(109)]*n[e(265)][e(166)],t[e(252)]=Math[e(224)](n[e(265)][e(181)],s.radius1*n[e(265)][e(156)]),t[e(130)]=c+l*a,t[e(134)]=t[e(130)]+a*h,!n[e(265)][e(238)]&&0==r.recursion&&(t[e(130)]=Math[e(131)](t.birthTime,r[e(130)]),t.deathTime=Math.min(t.deathTime,r[e(134)])),t[e(276)]=2*r[e(276)],t[e(174)]=r.roughness,t.straightness=r[e(167)],t[e(228)]=r[e(228)],t[e(218)]=r[e(218)],n[e(144)](s,r,t,n),n[e(185)][e(241)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(144)]=function(i,s,n,e){e[t(141)](i,s,n,.5,.6,.2)},this[t(173)]=function(s,o,h,c,u,l){const p=t;h[p(188)].copy(s[p(188)]),n[p(126)](o[p(159)],o[p(188)]),e.copy(n)[p(209)](),n[p(232)](s[p(128)]+(1-s[p(128)])*(i()*c));const d=n.length();r.crossVectors(o[p(266)],e);const f=2*Math.PI*i();r[p(232)](Math[p(171)](f)),a.copy(o[p(266)]).multiplyScalar(Math[p(259)](f)),h[p(159)][p(201)](r).add(a)[p(232)](d*u*(l+i()*(1-l)))[p(138)](n)[p(138)](o[p(188)])},this[t(141)]=function(s,o,h,c,u,l){const p=t;h[p(188)][p(201)](s[p(188)]),n.subVectors(o[p(159)],o[p(188)]),e[p(201)](n)[p(209)](),n[p(232)](s[p(128)]+(1-s[p(128)])*((2*i()-1)*c));const d=n[p(157)]();r.crossVectors(o[p(266)],e);const f=2*Math.PI*i();r.multiplyScalar(Math[p(171)](f)),a[p(201)](o[p(266)])[p(232)](Math[p(259)](f)),h.pos1[p(201)](r)[p(138)](a).multiplyScalar(d*u*(l+i()*(1-l)))[p(138)](n)[p(138)](o.pos0)}}[M(161)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[M(263)](){const t=M;return this.raySegments[this[t(243)]++]}copy(t){const i=M;return super.copy(t),this[i(258)](R[i(178)]({},t[i(265)])),this}clone(){const t=M;return new(this[t(203)])(R[t(178)]({},this[t(265)]))}}function A(){const t=["createPrism","gger","error","copy","maxSubrayRecursion","constructor","random","drawRange","apply","sub","forwardsFill","normalize","simplexY","createSegment","test","vPos","input","state","needsUpdate","RAY_UNBORN","vanishingTimeFactor","update","3729JTuGzt","array","linPos0","11055048epNcyX","min","isStatic","RAY_INITIALIZED","fraction1","propagationTimeFactor","iteration","uvs","generateUVs","multiplyScalar","middlePos","floor","return (function() ","count","8PCRGyB","isEternal","trace","179FrskeH","setSeed","RAY_STEADY","currentSegmentIndex","log","1996GwGHhJ","currentSegmentCallback","currentIndex","middleLinPos","createDefaultSubrayCreationCallbacks","152KpKXEK","lerpVectors","radius1","lerp","addNewSubray","pow","down","RAY_VANISHING","init","sin","COS30DEG","maxSubrays","initSubray","getNewSegment","currentSeed","rayParameters","up0","table","setIndex","createTriangleVerticesWithoutUVs","bind","subrayPeriod","1164DVSYIX","createTriangleVerticesWithUVs","prototype","seedGenerator","timeScale","type","set","string","fillMesh","fractalRayRecursive","currentCreateTriangleVertices","positionAttribute","recursionProbability","radius0","307215ORULDX","SIN30DEG","debu","currentSubray","call","side","destOffset","info","uvsAttribute","newPos","setAttribute","maxIterations","maxRaySegments","RAY_EXTINGUISHED","__proto__","console","subVectors","isInitialSegment","fraction0","19790zFvwSB","birthTime","max","subrayDutyCycle","timeFraction","deathTime","createRandomGenerator","beginVanishingTime","positionVariationFactor","add","50967AfuZpI","noiseSeed","subrayCylinderPosition","usage","index","onSubrayCreation","visible","ramification","seed","onDecideSubrayCreation","forwards","up1","simplexZ","recursion","numSubrays","2058069BMjNGL","time","radius1Factor","length","updateMesh","pos1","indices","createSubray","clone","currentVertex","vertices","ceil","radius0Factor","straightness","while (true) {}","4392965RQsrsC","exception","cos","currentCoordinate","subrayConePosition","roughness","sourceOffset","raySegments","position","copyParameters","subrayProbability","function *\\( *\\)","minRadius","subrays","linPos1","toString","randomGenerator","isLightningStrike","endPropagationTime","pos0","currentUVCoordinate","RAY_PROPAGATING","createMesh","createPrismFaces","stateObject","crossVectors","chain","cross1","push"];return(A=function(){return t})()}function j(t){function i(t){const s=V;if(typeof t===s(103))return function(t){}[s(203)](s(168))[s(206)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[s(203)](s(112)+s(199))[s(114)]("action"):function(){return!1}[s(203)](s(112)+s(199)).apply(s(193)),i(++t)}try{if(t)return i;i(0)}catch(s){}}R[M(226)]=0,R[M(217)]=1,R[M(190)]=2,R.RAY_STEADY=3,R[M(257)]=4,R[M(123)]=5,R.COS30DEG=Math[M(171)](30*Math.PI/180),R[M(111)]=Math[M(259)](30*Math.PI/180);const D=E;!function(t,i){const s=E,n=F();for(;;)try{if(502564===parseInt(s(455))/1*(parseInt(s(449))/2)+-parseInt(s(456))/3*(-parseInt(s(454))/4)+parseInt(s(477))/5+parseInt(s(487))/6*(-parseInt(s(489))/7)+-parseInt(s(434))/8*(parseInt(s(476))/9)+-parseInt(s(483))/10*(parseInt(s(432))/11)+-parseInt(s(441))/12*(-parseInt(s(425))/13))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const z=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[E(429)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function F(){const t=["isEternal","push","RAY_PROPAGATING","onLightningDown","add","copy","10599979WuOVwF","getNextLightningTime","lightningMinDuration","debu","apply","maxSlope","inited","3152809nBprOW","lerp","8FXhhID","onRayPosition","splice","copyParameters","geometry","gger","stormParams","12AsEdhM","rayParameters","pop","trace","stateObject","minHeight","exception","lightningMaterial","60034QsVuVf","lightningMaxDuration","log","deathTime","chain","4kVypAB","13MRRomK","706254RDCrEJ","isLightningStorm","multiplyScalar","lightningsMeshes","random","init","length","error","warn","destOffset",'{}.constructor("return this")( )',"maxLightnings","update","return (function() ","test","deadLightningsMeshes","size","sourceOffset","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3575214YOsorj","2346000fKzXMu","info","input","set","nextLightningTime","lightningParameters","30bBbIkd","lightningMinPeriod","indexOf","maxHeight","180666prySuF","bind","35zgUaar","console","function *\\( *\\)","birthTime","RAY_EXTINGUISHED","remove","lightningMaxPeriod","call","constructor","state"];return(F=function(){return t})()}!function(){z(this,(function(){const t=E,i=new RegExp(t(491)),s=new RegExp(t(475),"i"),n=L(t(461));i[t(470)](n+t(453))&&s[t(470)](n+t(479))?L():n("0")}))()}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[E(429)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function E(t,i){const s=F();return(E=function(t,i){return s[t-=415]})(t,i)}H(void 0,(function(){const t=E;let i;try{i=Function(t(469)+t(466)+");")()}catch(e){i=window}const s=i[t(490)]=i[t(490)]||{},n=[t(451),t(464),t(478),t(463),t(447),"table",t(444)];for(let r=0;r<n.length;r++){const i=H.constructor.prototype.bind(H),e=n[r],o=s[e]||i;i[t(474)]=H[t(488)](H),i.toString=o.toString[t(488)](o),s[e]=i}}))();class G extends a{constructor(t={}){const i=E;super(),this[i(457)]=!0,this[i(440)]=t,t[i(472)]=void 0!==t[i(472)]?t[i(472)]:1e3,t[i(446)]=void 0!==t[i(446)]?t[i(446)]:80,t.maxHeight=void 0!==t[i(486)]?t[i(486)]:100,t.maxSlope=void 0!==t[i(430)]?t[i(430)]:1.1,t[i(467)]=void 0!==t[i(467)]?t[i(467)]:3,t[i(484)]=void 0!==t[i(484)]?t[i(484)]:3,t[i(415)]=void 0!==t[i(415)]?t[i(415)]:7,t[i(427)]=void 0!==t.lightningMinDuration?t.lightningMinDuration:1,t[i(450)]=void 0!==t[i(450)]?t[i(450)]:2.5,this[i(482)]=R[i(437)](t[i(482)],t[i(482)]),this[i(482)][i(419)]=!1,this[i(448)]=void 0!==t.lightningMaterial?t.lightningMaterial:new h({color:11599871}),void 0!==t[i(435)]?this[i(435)]=t[i(435)]:this[i(435)]=function(s,n){const e=i;n[e(480)]((Math[e(460)]()-.5)*t[e(472)],0,(Math[e(460)]()-.5)*t[e(472)]);const r=o[e(433)](t[e(446)],t[e(486)],Math[e(460)]());s[e(480)](t[e(430)]*(2*Math[e(460)]()-1),1,t[e(430)]*(2*Math[e(460)]()-1))[e(458)](r)[e(423)](n)},this[i(422)]=t.onLightningDown,this[i(431)]=!1,this[i(481)]=0,this[i(459)]=[],this[i(471)]=[];for(let s=0;s<this[i(440)].maxLightnings;s++){const t=new R(R[i(437)]({},this.lightningParameters)),s=new c(t,this[i(448)]);this[i(471)].push(s)}}update(t){const i=E;if(!this[i(431)]&&(this[i(481)]=this[i(426)](t)*Math[i(460)](),this[i(431)]=!0),t>=this.nextLightningTime){const s=this[i(471)][i(443)]();if(s){const n=R[i(437)](s[i(438)][i(442)],this[i(482)]);n[i(492)]=t,n[i(452)]=t+o[i(433)](this[i(440)].lightningMinDuration,this[i(440)][i(450)],Math[i(460)]()),this[i(435)](n[i(473)],n[i(465)]),n.noiseSeed=Math[i(460)](),this[i(423)](s),this.lightningsMeshes[i(420)](s)}this[i(481)]=this[i(426)](t)}let s=0,n=this[i(459)][i(462)];for(;s<n;){const e=this[i(459)][s],r=e[i(438)],o=r[i(418)];r[i(468)](t),o===R[i(421)]&&r[i(418)]>o&&this[i(422)]&&this[i(422)](r),r[i(418)]===R[i(493)]?(this[i(459)][i(436)](this[i(459)][i(485)](e),1),this[i(471)].push(e),this[i(494)](e),n--):s++}}[D(426)](t){const i=D;return t+o.lerp(this[i(440)][i(484)],this[i(440)][i(415)],Math[i(460)]())/(this[i(440)].maxLightnings+1)}[D(424)](t,i){const s=D;return super[s(424)](t,i),this.stormParams.size=t[s(440)].size,this.stormParams[s(446)]=t[s(440)][s(446)],this[s(440)][s(486)]=t[s(440)][s(486)],this[s(440)][s(430)]=t[s(440)][s(430)],this[s(440)][s(467)]=t[s(440)][s(467)],this[s(440)][s(484)]=t[s(440)][s(484)],this[s(440)][s(415)]=t[s(440)][s(415)],this[s(440)][s(427)]=t[s(440)].lightningMinDuration,this[s(440)][s(450)]=t[s(440)][s(450)],this[s(482)]=R.copyParameters({},t[s(482)]),this[s(448)]=t[s(440)].lightningMaterial,this[s(422)]=t[s(422)],this}clone(){const t=D;return new this.constructor(this[t(440)]).copy(this)}}function L(t){function i(t){const s=E;if("string"==typeof t)return function(t){}[s(417)]("while (true) {}")[s(429)]("counter");1!==(""+t/t)[s(462)]||t%20==0?function(){return!0}[s(417)]("debu"+s(439))[s(416)]("action"):function(){return!1}[s(417)](s(428)+s(439))[s(429)](s(445)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const O=Z;function N(){const t=["addVectors","135gLNKSe","exception","color","pos1","length","maxHeight","radius0","56271CbYYrm","6487EVZCkW","rayParameters","prototype","timeScale","subrayPeriod","dot","569104TfanDD","169030IwyXSc","sub","apply","Color","maxLightnings","8danUcP","#b0ffff","table","counter","size","Vector3","stateObject","error","4zBkBpo","multiplyScalar","add",'{}.constructor("return this")( )',"test","log","straightness","info","toString","MeshBasicMaterial","291431sKLSMH","__proto__","console","update","roughness","sourceOffset","lightStorm","gger","subVectors","constructor","while (true) {}","minHeight","radius1","721565afNfWI","subrayConePosition","return (function() ","2364312YXeNyu","subrayDutyCycle","stormParams","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","object","bind","primitive","init","trace"];return(N=function(){return t})()}!function(t,i){const s=Z,n=N();for(;;)try{if(248124===parseInt(s(475))/1*(-parseInt(s(487))/2)+-parseInt(s(474))/3*(-parseInt(s(495))/4)+parseInt(s(454))/5+parseInt(s(457))/6+parseInt(s(505))/7+-parseInt(s(481))/8+parseInt(s(467))/9*(-parseInt(s(482))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const k=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(484)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){k(this,(function(){const t=Z,i=new RegExp("function *\\( *\\)"),s=new RegExp(t(460),"i"),n=X(t(464));i.test(n+"chain")&&s[t(499)](n+"input")?X():n("0")}))()}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(484)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();U(void 0,(function(){const t=Z,i=function(){const t=Z;let i;try{i=Function(t(456)+t(498)+");")()}catch(s){i=window}return i}(),s=i[t(507)]=i[t(507)]||{},n=[t(500),"warn",t(502),t(494),t(468),t(489),t(465)];for(let e=0;e<n[t(471)];e++){const i=U[t(450)][t(477)].bind(U),r=n[e],o=s[r]||i;i[t(506)]=U[t(462)](U),i[t(503)]=o[t(503)][t(462)](o),s[r]=i}}))();const Y=[O(461)];function Z(t,i){const s=N();return(Z=function(t,i){return s[t-=446]})(t,i)}const B=m({__name:O(447),props:{color:{default:O(488)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=O,n=t,e=new(u[i(485)])(n[i(469)]),r=new(u[i(504)])({color:e}),o=new s(0,-1,0);let a=0;const h=new s,c=new(u[i(492)]),p={roughness:n[i(509)],straightness:n[i(501)],radius0:n[i(473)],radius1:n.radius1,timeScale:n[i(478)],subrayPeriod:n[i(479)],subrayDutyCycle:n[i(458)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(455)](t,s,n,.6,.6,.5),a=e.rayParameters[r(446)].y,h[r(449)](n.pos1,e[r(476)][r(446)]);const u=o[r(480)](h);c.copy(o)[r(496)](u),h[r(483)](c);const l=u/a>.5?a/u:1;c[r(496)](l),h[r(497)](c),n[r(470)][r(466)](h,e[r(476)].sourceOffset)}},d=new G({size:n[i(491)],minHeight:n.minHeight,maxHeight:n[i(472)],maxSlope:.6,maxLightnings:n[i(486)],lightningParameters:p,lightningMaterial:r});g((()=>{const t=i,s=d[t(459)];s[t(491)]=n[t(491)],s[t(452)]=n.minHeight,s[t(472)]=n.maxHeight,r.color.set(n[t(469)]),p[t(509)]=n[t(509)],p[t(501)]=n.straightness,p[t(473)]=n[t(473)],p.radius1=n[t(453)],p[t(478)]=n[t(478)]}));const{onLoop:f}=l();return f((({elapsed:t})=>{d[i(508)](t)})),(t,s)=>{const n=i;return y(),b(n(463),{object:S(d),renderOrder:9999},null,8,Y)}}});function X(t){function i(t){const s=Z;if("string"==typeof t)return function(t){}.constructor(s(451))[s(484)](s(490));1!==(""+t/t)[s(471)]||t%20==0?function(){return!0}.constructor("debu"+s(448)).call("action"):function(){return!1}[s(450)]("debu"+s(448))[s(484)](s(493)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const W=K;!function(t,i){const s=K,n=Q();for(;;)try{if(804870===-parseInt(s(387))/1+-parseInt(s(390))/2*(parseInt(s(364))/3)+parseInt(s(382))/4*(parseInt(s(394))/5)+-parseInt(s(388))/6+-parseInt(s(374))/7+parseInt(s(380))/8+parseInt(s(367))/9*(parseInt(s(386))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const $=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(402)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function K(t,i){const s=Q();return(K=function(t,i){return s[t-=358]})(t,i)}!function(){$(this,(function(){const t=K,i=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=tt(t(398));i[t(385)](n+t(370))&&s[t(385)](n+t(375))?tt():n("0")}))()}();const J=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(402)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Q(){const t=["toString","log","radius1","9961040Ubcffs","constructor","148loYcCo","prototype","straightness","test","20IVZbMt","356721dxTYJg","5880576VvfuVa","call","5716ViLpiO","bind","#6f6f6f","return (function() ","124255JJOLwH","端部半径","minHeight","value","init","string","color","debu","apply","maxHeight","trace","__proto__","exception","length","#ffbde7",'{}.constructor("return this")( )',"774ygIBod","radius0","counter","7751547Nldhbw","时间缩放","roughness","chain","lightningStorm","#92399e","console","7056924PnlhbA","input","未部半径"];return(Q=function(){return t})()}J(void 0,(function(){const t=K,i=function(){const t=K;let i;try{i=Function(t(393)+t(363)+");")()}catch(s){i=window}return i}(),s=i[t(373)]=i.console||{},n=[t(378),"warn","info","error",t(360),"table",t(358)];for(let e=0;e<n[t(361)];e++){const i=J[t(381)][t(383)][t(391)](J),r=n[e],o=s[r]||i;i[t(359)]=J[t(391)](J),i[t(377)]=o[t(377)][t(391)](o),s[r]=i}}))();const q=m({__name:W(371),setup(i){const s=W,n=v({cellSize:60,cellThickness:1,cellColor:s(392),sectionColor:s(372),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=p({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(362),roughness:{label:"粗糙度",value:.85,min:0,max:1,step:.01},straightness:{label:"直度度",value:.65,min:0,max:1,step:.01},radius0:{label:s(395),value:1,min:.1,max:10,step:.01},radius1:{label:s(376),value:.5,min:.1,max:10,step:.01},timeScale:{label:s(368),value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const f=s;return y(),b(_,null,[w(t,{showAxesHelper:!1,showGridHelper:!1},{ability:x((()=>[w(B,{minHeight:S(e)[f(397)],maxHeight:S(r)[f(397)],color:S(o)[f(397)],roughness:S(a)[f(397)],straightness:S(h)[f(397)],radius0:S(c)[f(397)],radius1:S(u)[f(397)],timeScale:S(l).value},null,8,[f(396),f(403),f(400),f(369),f(384),f(365),f(379),"timeScale"]),w(S(P),I({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),w(S(d))],64)}}});function tt(t){function i(t){const s=K;if(typeof t===s(399))return function(t){}.constructor("while (true) {}")[s(402)](s(366));1!==(""+t/t)[s(361)]||t%20==0?function(){return!0}.constructor(s(401)+"gger")[s(389)]("action"):function(){return!1}.constructor(s(401)+"gger")[s(402)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{q as default};
