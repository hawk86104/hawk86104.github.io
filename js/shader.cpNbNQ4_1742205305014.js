import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.nk0nhZ9a1742205305014.js";import{_ as s,aX as i,b as a,y as c,a0 as u}from"./three.LxxvsMJG1742205305014.js";import{P as l}from"./tweakpane.yDiyAAkA1742205305014.js";import{L as f}from"./three-subdivide.cGcGzSCj1742205305014.js";import{d as p,b as d,a2 as m,w as g,o as h,H as v,N as y,aj as w,ak as b,a3 as M,r as _,e as x,f as I,g as B,j as T,u as j,m as S,M as k}from"./@vue.NRI7TcgI1742205305014.js";import"./postprocessing.lrLv6HE21742205305014.js";import"./@vueuse.w6JAmAgA1742205305014.js";const A=R;!function(n,t){const e=R,r=N();for(;;)try{if(154661===-parseInt(e(502))/1*(parseInt(e(470))/2)+-parseInt(e(465))/3+-parseInt(e(493))/4+parseInt(e(500))/5+parseInt(e(478))/6*(-parseInt(e(509))/7)+parseInt(e(473))/8+-parseInt(e(482))/9*(-parseInt(e(472))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=R,t=new RegExp(n(523)),e=new RegExp(n(490),"i"),r=V(n(492));t[n(519)](r+n(491))&&e[n(519)](r+n(464))?V():r("0")}))()}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function R(n,t){const e=N();return(R=function(n,t){return e[n-=464]})(n,t)}function N(){const n=["exception","__proto__","apply","trace","value","return (function() ","TSGref","scale","Color","test","glowColor",'{}.constructor("return this")( )',"srcMesh","function *\\( *\\)","input","853545xYAjKa","viewVector","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","warn","TresMesh","2wbkAqa","subVectors","1004820rISjAx","2135048vkvPpa","clone","debu","material","geometry","120RyRBFJ","gger","color","modify","36sDJthv","error","console","toString","prototype","copy","table","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","init","639160dvpxmD","position","TresShaderMaterial","constructor","string","shineShader","side","1214680ekOGKC","length","32599FQfcfX","FrontSide","bind","blending","stateObject","uniforms","subdivision","98063uTqtQD"];return(N=function(){return n})()}C(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function(n(515)+n(521)+");")()}catch(e){t=window}return t}(),e=t[n(484)]=t[n(484)]||{},r=["log",n(468),n(489),n(483),n(510),n(488),n(513)];for(let o=0;o<r[n(501)];o++){const t=C.constructor[n(486)][n(504)](C),s=r[o],i=e[s]||t;t[n(511)]=C[n(504)](C),t[n(485)]=i[n(485)][n(504)](i),e[s]=t}}))();const F=[A(517)],P=p({__name:A(498),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[A(503)]},blending:{default:i}},setup(e){const r=A,o=e,i=d(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(518)])(o[r(480)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:r(467),side:o[r(499)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(505)]};m((()=>{const n=r;if(o[n(522)]&&i[n(514)]&&!i[n(514)][n(477)].attributes[n(494)]){let t=o.srcMesh[n(477)][n(474)]();o[n(508)]&&(t=f[n(481)](t,2)),i[n(514)].geometry=t,i[n(514)][n(494)][n(487)](o[n(522)][n(494)])}o.color&&(c.uniforms[n(520)][n(514)]=new(s[n(518)])(o[n(480)])),o.c&&(c[n(507)].c[n(514)]=o.c),o.p&&(c.uniforms.p[n(514)]=o.p)})),g((()=>o[r(508)]),(n=>{const t=r;let e=o[t(522)][t(477)].clone();n&&(e=f.modify(e,2)),i[t(514)].geometry=e})),g((()=>o[r(499)]),(n=>{const t=r;i[t(514)][t(476)][t(499)]=n})),g((()=>o[r(505)]),(n=>{const t=r;i.value[t(476)][t(505)]=n}));const{onLoop:u}=n(),{camera:l}=t();return u((()=>{const n=r;l[n(514)]&&i[n(514)]&&(c.uniforms[n(466)].value=(new a)[n(471)](l[n(514)][n(494)],i[n(514)][n(494)]))})),(n,t)=>{const e=r;return h(),v(e(469),{ref_key:e(516),ref:i,scale:o[e(517)]},[y(e(495),w(b(c)),null,16)],8,F)}}});function V(n){function t(n){const e=R;if(typeof n===e(497))return function(n){}[e(496)]("while (true) {}")[e(512)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(496)](e(475)+e(479)).call("action"):function(){return!1}[e(496)](e(475)+e(479))[e(512)](e(506)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const E=D;function D(n,t){const e=G();return(D=function(n,t){return e[n-=231]})(n,t)}function G(){const n=["8aJmegR","10RKsyWf","gger","TresMeshBasicMaterial","srcMesh","TresMesh","map","8899352LNofnu","constructor","table","TresCanvas","exception","console",'{}.constructor("return this")( )',"instance","subdivision","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3569420WzNlMO","apply","#00dfff","49284BHYnZz","#0ff","value","TresAmbientLight","stateObject","warn","init","color","FrontSide","AdditiveBlending","while (true) {}","addBinding","bind","test","TresMeshRefA","722236DngzsE","6Awvgsc","logo.png","TresMeshRefB","NormalBlending","counter","2605876VOPkLP","BackSide","info","input","return (function() ","127965eAsBxY","10zuoewA","scale","__proto__","length","chain","TresGridHelper","TresBoxGeometry","error","prototype","TresSphereGeometry","4409226CPiuzI"];return(G=function(){return n})()}!function(n,t){const e=D,r=G();for(;;)try{if(412541===-parseInt(e(257))/1*(parseInt(e(270))/2)+parseInt(e(247))/3*(-parseInt(e(246))/4)+parseInt(e(286))/5+parseInt(e(231))/6+-parseInt(e(252))/7*(-parseInt(e(269))/8)+-parseInt(e(268))/9*(parseInt(e(258))/10)+parseInt(e(276))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){L(this,(function(){const n=D,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(285),"i"),r=J(n(237));t[n(244)](r+n(262))&&e[n(244)](r+n(255))?J():r("0")}))()}();const O=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[D(287)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();O(void 0,(function(){const n=D,t=function(){const n=D;let t;try{t=Function(n(256)+n(282)+");")()}catch(e){t=window}return t}(),e=t[n(281)]=t.console||{},r=["log",n(236),n(254),n(265),n(280),n(278),"trace"];for(let o=0;o<r[n(261)];o++){const t=O[n(277)][n(266)][n(243)](O),s=r[o],i=e[s]||t;t[n(260)]=O[n(243)](O),t.toString=i.toString[n(243)](i),e[s]=t}}))();const Z=[E(275)],$=[E(275)],H=p({__name:"shader",async setup(n){const t=E;let i,a;const f={clearColor:"#222"},p=d(),m=d(),g=d(),v=([i,a]=M((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(248)]))),i=await i,a(),i),w=_({scale:1.6,color:t(288),subdivision:!0,c:1.1,p:1.4,side:s[t(239)],blending:s[t(240)]}),b=new l({title:"参数",expanded:!0});return b[t(242)](w,t(238),{label:"颜色"}),b[t(242)](w,t(259),{label:"大小",min:1,max:3,step:.2}),b[t(242)](w,t(284),{label:"边缘处理"}),b[t(242)](w,"c",{label:"c",min:0,max:2,step:.1}),b.addBinding(w,"p",{label:"p",min:0,max:8,step:.2}),b.addBinding(w,"side",{options:{FrontSide:c,BackSide:s[t(253)],DoubleSide:u}}),b[t(242)](w,"blending",{options:{AdditiveBlending:s[t(240)],NormalBlending:s[t(250)]}}),(n,o)=>{const s=t,i=x(s(279));return h(),I(i,S(f,{"window-size":""}),{default:B((()=>[o[2]||(o[2]=y("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),o[3]||(o[3]=y(s(234),{intensity:1},null,-1)),T(j(e)),o[4]||(o[4]=y(s(263),{args:[10,10]},null,-1)),y(s(274),{ref_key:s(245),ref:p,position:[-2,1,0]},[o[0]||(o[0]=y(s(267),{args:[1,32,16]},null,-1)),y("TresMeshBasicMaterial",{map:j(v)[0]},null,8,Z)],512),T(P,S({srcMesh:p[s(233)]},w),null,16,["srcMesh"]),T(j(r),{ref_key:"TreBoxRef",ref:g,args:[1,1,1],position:[2,1,0]},{default:B((()=>[y("TresMeshBasicMaterial",{map:j(v)[1]},null,8,$)])),_:1},512),g[s(233)]&&g.value.instance?(h(),I(P,S({key:0,srcMesh:g[s(233)][s(283)]},w),null,16,["srcMesh"])):k("",!0),y("TresMesh",{ref_key:s(249),ref:m,position:[0,1,-2]},o[1]||(o[1]=[y(s(264),{args:[1,1,1,1,1]},null,-1),y(s(272),{color:s(232)},null,-1)]),512),T(P,S({srcMesh:m[s(233)]},w),null,16,[s(273)])])),_:1},16)}}});function J(n){function t(n){const e=D;if("string"==typeof n)return function(n){}.constructor(e(241))[e(287)](e(251));1!==(""+n/n)[e(261)]||n%20==0?function(){return!0}[e(277)]("debugger").call("action"):function(){return!1}[e(277)]("debu"+e(271))[e(287)](e(235)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{H as default};
