import{_ as t,b as n,cL as e,ak as o}from"./three.Gi_-4zeu1741857949183.js";import{P as r}from"./tweakpane.yDiyAAkA1741857949183.js";import{m as s,e as i}from"./@tresjs.8SAr0PX_1741857949183.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.IrszekoO1741857949183.js";import{d as g,a2 as d,w as h,o as j,H as w,u as b,v as x,r as v,e as y,j as I,g as _,m as z,F as C}from"./@vue.NRI7TcgI1741857949183.js";import{_ as M}from"./raycasterEvent.rqBgidXw1741857949183.js";import{a as B}from"./utils.hhGtd56R1741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";import"./@mapbox.lMdYodhq1741857949183.js";import"./three-mesh-bvh.dyGT1sWA1741857949183.js";import"./three-custom-shader-material.5E9LrdfZ1741857949183.js";import"./@fesjs._GqZBaJ41741857949183.js";import"./vue-router.vV-TPEpQ1741857949183.js";import"./lodash-es.pklfUAS51741857949183.js";import"./@qlin.yHhFDldE1741857949183.js";import"./pinia.m-1lhBPB1741857949183.js";import"./@floating-ui.BPbuo5Gx1741857949183.js";import"./@juggle.7yjBMqoW1741857949183.js";import"./@tweenjs.J1BAvmPw1741857949183.js";import"./utils.AP-HdWts1741857949183.js";import"./d3-geo.j6VeZDVl1741857949183.js";import"./d3-array.AhNJy1f41741857949183.js";import"./http.2OTqykVu1741857949183.js";import"./axios.qd3pZFDv1741857949183.js";import"./color.9ZotuSrn1741857949183.js";import"./@amap.QByc7Q7q1741857949183.js";import"./color-string.Jp_qzPKI1741857949183.js";import"./color-name.m87FJpfX1741857949183.js";import"./simple-swizzle.pl9K76ra1741857949183.js";import"./is-arrayish.av1aEiJw1741857949183.js";import"./color-convert.bb4yZg8I1741857949183.js";import"./lodash._1-PTQel1741857949183.js";import"./naive-ui.-dlaTvSh1741857949183.js";import"./date-fns.nmuTTsCK1741857949183.js";import"./@css-render.EO8dLPp41741857949183.js";import"./seemly.vIsyOXn81741857949183.js";import"./css-render.kM2h3jta1741857949183.js";import"./@emotion.ZD_ZYAgY1741857949183.js";import"./vooks.Bvso2bcn1741857949183.js";import"./evtd.DtfwxtIl1741857949183.js";import"./vueuc.Ozl0RYD41741857949183.js";import"./vdirs.5-DVtwMX1741857949183.js";import"./treemate.dcEdf2le1741857949183.js";import"./date-fns-tz.HdKjCdQE1741857949183.js";import"./async-validator.-YBkpS4I1741857949183.js";const k=E;!function(t,n){const e=E,o=A();for(;;)try{if(570342===parseInt(e(167))/1+-parseInt(e(226))/2+-parseInt(e(197))/3+parseInt(e(217))/4*(parseInt(e(203))/5)+parseInt(e(227))/6*(-parseInt(e(181))/7)+-parseInt(e(185))/8+parseInt(e(219))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(222)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=E,n=new RegExp(t(170)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=P(t(228));n[t(216)](o+t(168))&&e[t(216)](o+"input")?P():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(222)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=E;let n;try{n=Function(t(206)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n.console||{},o=[t(220),t(179),t(173),"error","exception","table",t(201)];for(let s=0;s<o[t(192)];s++){const n=Z[t(221)][t(215)][t(218)](Z),r=o[s],i=e[r]||n;n[t(171)]=Z[t(218)](Z),n[t(223)]=i[t(223)][t(218)](i),e[r]=n}}))();const T=["object",k(177)];function A(){const t=["Color","maxZoom","1859156eyWxFu","126294rhUKDQ","init","Vector3","updateProjectionMatrix","genContrast","abs","enableDamping","provider","tweenInstance","target","bbox","11837fezPDz","chain","gger","function *\\( *\\)","__proto__","showBoundingBox","info","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","far","opposite","rotation","lookAt","warn","tileMapMesh","357YwXNVP","innerWidth","debu","innerHeight","8696208zrkriv","#fff","useWorker","set","wireframe","render","flatShading","length","genBright","coordType","minDistance","source","2770746LnKeZe","position","value","useStandardMaterial","trace","monochrome","5UxYBnX","isMonochrome","call","return (function() ","mapCenter","while (true) {}","PerspectiveCamera","genSaturation","filter","counter","domElement","update","prototype","test","1935664WmtIng","bind","36794466yKgNBM","log","constructor","apply","toString"];return(A=function(){return t})()}function E(t,n){const e=A();return(E=function(t,n){return e[t-=164]})(t,n)}const F=g({__name:k(180),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:k(186)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const f=k,g=o,{renderer:x,scene:v}=s(),y=new a;y[f(194)]=c;const I=new u;I.source=f(174),I[f(194)]=c;const _=new p;_[f(196)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",_.showTileNo=!1,_[f(187)]=!0;const z=new l(y,_);if(z[f(172)]=!1,z[f(189)]=!1,z[f(191)]=!1,z[f(200)]=!1,z.filter={opposite:g[f(176)],monochrome:g[f(204)]?{r:.299,g:.587,b:.114}:null,genBright:g[f(193)],genContrast:g[f(231)],genSaturation:g[f(210)]},g[f(202)]){let n=new(t[f(224)])(g[f(202)]);z[f(211)]&&(z[f(211)][f(202)]={r:n.r,g:n.g,b:n.b})}const C=new m;C[f(234)]=z,C[f(166)]=g[f(166)],C.maxZoom=g[f(225)];const M=new(t[f(209)])(60,window[f(182)]/window[f(184)],1,1e8);M.up=new n(0,1,0),M.position[f(188)](g.mapCenter[0],g.mapCenter[2],-g[f(207)][1]),M[f(178)](new(t[f(229)])(M[f(198)].x,0,M[f(198)].z-2e3)),C.camera=M;let B=null;d((()=>{const t=f;x[t(199)]&&!B&&(B=new e(M,x[t(199)][t(213)]),B[t(233)]=!0,B.dampingFactor=.05,B[t(195)]=600,B.position0[t(188)](M[t(198)].x,M[t(198)].y,M[t(198)].z),B[t(165)][t(188)](M[t(198)].x,0,M[t(198)].z-2e3))})),h((()=>[g[f(176)],g[f(204)],g.monochrome]),(([n,e,o])=>{const r=f;if(z[r(211)]){let s=new(t[r(224)])(o);z[r(211)][r(176)]=n,z[r(211)][r(202)]=e?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[g[f(193)],g[f(231)],g.genSaturation]),(([t,n,e])=>{const o=f;z[o(211)]&&(z.filter[o(193)]=t,z[o(211)][o(231)]=n,z[o(211)][o(210)]=e)}));const{onLoop:S}=i();return S((()=>{var t;const n=f;if(x[n(199)]){null==(t=g[n(164)])||t[n(214)](),B&&B[n(214)](),C.update();const e=50*Math[n(232)](M[n(198)].y);M[n(175)]=e+5e3,M[n(230)](),x.value[n(190)](v[n(199)],M)}})),r({camera:M,map:C,orbitControl:B}),(t,n)=>(j(),w("primitive",{object:b(C),rotation:[-Math.PI/2,0,0]},null,8,T))}});function P(t){function n(t){const e=E;if("string"==typeof t)return function(t){}.constructor(e(208)).apply(e(212));1!==(""+t/t)[e(192)]||t%20==0?function(){return!0}.constructor(e(183)+"gger")[e(205)]("action"):function(){return!1}[e(221)](e(183)+e(169)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=D,o=Y();for(;;)try{if(455483===parseInt(e(409))/1*(parseInt(e(437))/2)+parseInt(e(442))/3+-parseInt(e(384))/4*(-parseInt(e(434))/5)+parseInt(e(419))/6+-parseInt(e(414))/7*(parseInt(e(420))/8)+parseInt(e(390))/9*(-parseInt(e(408))/10)+-parseInt(e(406))/11*(parseInt(e(383))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(421)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=D,n=new RegExp(t(417)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=O(t(393));n.test(o+t(386))&&e.test(o+t(439))?O():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(421)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=Y();return(D=function(t,n){return e[t-=382]})(t,n)}R(void 0,(function(){const t=D;let n;try{n=Function(t(432)+t(407)+");")()}catch(r){n=window}const e=n[t(440)]=n[t(440)]||{},o=["log",t(425),t(402),"error","exception",t(404),t(399)];for(let s=0;s<o.length;s++){const n=R.constructor[t(405)][t(411)](R),r=o[s],i=e[r]||n;n.__proto__=R[t(411)](R),n.toString=i[t(397)][t(411)](i),e[r]=n}}))();const W=g({__name:"tileMap",setup(e){const s=D,i=f(118.779958,32.017136),a=[i[0],i[1],5e3],c=x(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:s(391),mapCenter:a,tweenInstance:null}),p=new r({title:"参数"});p[s(400)](u,s(422),{label:"反色"}),p[s(400)](u,s(392),{label:"高亮",min:.1,max:3,step:.1}),p[s(400)](u,s(429),{label:s(388),min:.1,max:3,step:.1}),p[s(400)](u,s(431),{label:"饱和度",min:.1,max:3,step:.1}),p.addBinding(u,"isMonochrome",{label:s(412)}),p[s(400)](u,s(416),{label:s(428)});const l={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p.addBlade({view:s(427),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:s(438),value:s(382)},{text:s(423),value:s(426)}],value:"at"}).on(s(398),(n=>{const e=s,o=new(t[e(418)])(l[n[e(433)]][0],2e3,-l[n[e(433)]][1]);u[e(401)]=B(c[e(433)][e(394)],o,c[e(433)][e(396)],[0,-300],4e3)}));const m=v({clearColor:s(385),antialias:!0,logarithmicDepthBuffer:!0,renderMode:s(403),outputColorSpace:o,toneMapping:t[s(410)]});return setTimeout((()=>{const t=s,e=l.at,o=new n(e[0],1600,-e[1]);u.tweenInstance=B(c.value.camera,o,c.value[t(396)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=s,o=y(e(415));return j(),w(C,null,[I(o,z(m,{"window-size":""}),{default:_((()=>[I(F,z(u,{ref_key:"tileMapMeshRef",ref:c,bbox:[80,16,128,50]}),null,16)])),_:1},16),I(M,{tileMapRef:c[e(433)]},null,8,[e(413)])],64)}}});function O(t){function n(t){const e=D;if(typeof t===e(435))return function(t){}[e(424)](e(389))[e(421)](e(430));1!==(""+t/t).length||t%20==0?function(){return!0}[e(424)]("debu"+e(395))[e(441)](e(387)):function(){return!1}[e(424)]("debu"+e(395))[e(421)](e(436)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function Y(){const t=["constructor","warn","nss","list","滤镜颜色","genContrast","counter","genSaturation","return (function() ","value","1835DUkIIe","string","stateObject","222TpAZdc","新街口","input","console","call","2585646COFOTS","xjk","3567012rBPLZT","2196AjmwFY","#201919","chain","action","对比度","while (true) {}","72hLqnZY","#4688b5","genBright","init","camera","gger","orbitControl","toString","change","trace","addBinding","tweenInstance","info","manual","table","prototype","11nWGoZE",'{}.constructor("return this")( )',"1000830JKCilO","529cwaQIo","NoToneMapping","bind","单色滤镜","tileMapRef","7opfvdZ","TresCanvas","monochrome","function *\\( *\\)","Vector3","4226166zCCfFk","2184376QgxUJm","apply","opposite","牛首山"];return(Y=function(){return t})()}export{W as default};
