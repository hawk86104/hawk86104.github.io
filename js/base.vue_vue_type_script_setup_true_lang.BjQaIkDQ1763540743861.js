import{l as e,f as o,ae as t}from"./three.rXKzP9fQ1763540743861.js";import{_ as n}from"./@tresjs.BCHtwiaC1763540743861.js";import{_ as r}from"./TopoPlaneText.vue_vue_type_script_setup_true_lang.rnz1kxio1763540743861.js";import{p as s}from"./props.B_BGGLSg1763540743861.js";import{d as a,t as i,w as l,q as u,H as p,o as v,J as d,h as m,u as c}from"./@vue.Co_gxueH1763540743861.js";const f=["scale-x","scale-z"],x={"cast-shadow":"","receive-shadow":"",name:"cube"},y=["args"],h=["uniforms","side"],g=a({__name:"base",props:{width:{default:1},height:{default:1},node:{}},setup(a){const g=a,_=i(null),w=i([.765,.75/1.02,0,4,1,!0,-Math.PI/4]),T=s(g.node,"properties.style.fill","#000"),j=s(g.node,"properties.textStyle.color","#000"),z={value:new e(T.value)};l(T,()=>{z.value=new e(T.value)},{immediate:!0});const C=i({uTime:{value:0},uResolution:{value:new o(256,1024)},uColor:z}),S=s(g.node,"text.value",""),M=s(g.node,"text.x",0),U=s(g.node,"text.y",0),b=s(g.node,"x",0),G=s(g.node,"y",0),P=s(g.node,"properties.textStyle.fontSize",12);return u(()=>{const{onBeforeRender:e}=n();e(({elapsed:e})=>{C.value.uTime.value=.001*e})}),(e,o)=>(v(),p("TresGroup",null,[d("TresGroup",{"position-y":.1,"scale-x":e.$props.width,"scale-z":e.$props.height,name:"plane"},[d("TresMesh",x,[d("TresCylinderGeometry",{ref_key:"geometry",ref:_,args:w.value},null,8,y),d("TresShaderMaterial",{uniforms:C.value,"vertex-shader":"\n    varying vec2 vUv;\n    void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n","fragment-shader":"\n    uniform float uTime;\n    uniform vec2 uResolution;\n    uniform vec3 uColor;\n    varying vec2 vUv;\n\n    void main() {\n        vec2 uv = vUv;\n        \n        // 渐变背景\n        float gradient = pow(1.0 - abs(2.0 * uv.y - 1.0), 3.0);\n        \n        vec4 color = vec4(uColor, gradient);\n        gl_FragColor = color;\n    }\n",transparent:!0,side:c(t)},null,8,h)])],8,f),m(r,{"position-y":.2,"position-z":c(U)-c(G),"position-x":c(M)-c(b),"auto-size":"",text:c(S),fontSize:c(P),textColor:c(j)},null,8,["position-z","position-x","text","fontSize","textColor"])]))}});export{g as _};
