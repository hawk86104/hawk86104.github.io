import{importShared as e}from"./3d-tiles-renderer.6uaxtGOi1769565599278.js";import{useTexture as t,useLoop as r}from"./index.CG-C7MIu1769565599278.js";import{SPE as a}from"./SPE.CEqzAso81769565599278.js";const{defineComponent:i}=await e("vue"),{openBlock:o,createElementBlock:n,createCommentVNode:l}=await e("vue"),u=["object"],{watch:p,ref:s,toRaw:d}=await e("vue"),c=await e("three"),m=i({__name:"cloudMesh",setup(e){const{state:i}=t("./plugins/digitalCity/image/cloud.png");let m=null;const v=s(null);p(()=>i.value,e=>{if(e){e.magFilter=c.LinearMipMapLinearFilter,e.minFilter=c.LinearMipMapLinearFilter;try{m=new a.Group({texture:{value:e},blending:c.NormalBlending,depthTest:!1,depthWrite:!1});const t=new a.Emitter({type:a.distributions.BOX,particleCount:26,maxAge:{value:10},position:{value:new c.Vector3(0,0,0),spread:new c.Vector3(2e3,100,2e3)},velocity:{value:new c.Vector3(0,0,30)},wiggle:{spread:10},size:{value:520,spread:[100,220],randomise:!0},drag:{value:220},opacity:{value:[0,1,0],randomise:!0},color:{value:new c.Color(1,1,1),spread:new c.Color(.1,.1,.1)},angle:{value:[0,1*Math.PI/8]}});m.addEmitter(t),v.value=m.mesh}catch(t){console.warn("Failed to set particleGroup texture:",t)}}});const{onBeforeRender:w}=r();return w(({delta:e})=>{m&&m.tick(e)}),(e,t)=>v.value?(o(),n("primitive",{key:0,object:d(v.value),position:[0,200,0],renderOrder:3e3},null,8,u)):l("",!0)}});export{m as _sfc_main};
