import{q as t,Y as n}from"./@tresjs.Mu0zjs701726563592429.js";import{P as e}from"./tweakpane.yHWGBmom1726563592429.js";import{_ as o,a as r,ak as a,al as s}from"./three.ZWd_rX7H1726563592429.js";import{_ as i}from"./heatmap.js-fix.DAkLDRnh1726563592429.js";import{d as c,a4 as u,a3 as p,o as l,E as f,u as d,r as h,e as m,f as g,g as v,j as y,al as b,aj as w,ak as x,m as _,L as I}from"./@vue.bvMz0l_u1726563592429.js";import"./@vueuse.a2m4N83v1726563592429.js";import"./@amap.JADYh6_E1726563592429.js";const j=M;!function(t,n){const e=M,o=k();for(;;)try{if(517671===-parseInt(e(533))/1*(parseInt(e(486))/2)+parseInt(e(531))/3+parseInt(e(507))/4+-parseInt(e(464))/5*(-parseInt(e(511))/6)+parseInt(e(477))/7+-parseInt(e(457))/8*(-parseInt(e(518))/9)+-parseInt(e(492))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["none","computeBoundingBox","show2dCanvas","6cxIkoP","string","bind","scale","length","set","material","145521apZwvz","create","warn","position","stateObject","input","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","./draco/","absolute","push","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","block","2308149DQCqRW","action","672688MvQsTp","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","needsUpdate","16CJxXzh","body","canvas","left","geometry","object","count","3436570BIrgyu","border","setAttribute","style","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","40px","primitive","layerY",'{}.constructor("return this")( )',"info","_renderer","exception","setScalar","3282118qbtORb","addData","onclick","console","mesh_0","setDataMax","log","init","display","2QdhQxK","constructor","toString","function *\\( *\\)","gger","Texture","12695780bwgTiU","radius","debu","boundingBox","createElement","ShaderMaterial","call","apply","deleteAttribute","prototype","table","DoubleSide","trace","test","attributes","2008112qOpQhi"];return(k=function(){return t})()}!function(){C(this,(function(){const t=M,n=new RegExp(t(489)),e=new RegExp(t(528),"i"),o=B(t(484));n[t(505)](o+"chain")&&e[t(505)](o+t(523))?B():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(499)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function("return (function() "+t(472)+");")()}catch(e){n=window}return n}(),e=n[t(480)]=n[t(480)]||{},o=[t(483),t(520),t(473),"error",t(475),t(502),t(504)];for(let r=0;r<o[t(515)];r++){const n=S[t(487)][t(501)][t(513)](S),a=o[r],s=e[a]||n;n.__proto__=S[t(513)](S),n.toString=s[t(488)][t(513)](s),e[a]=n}}))();const z=[j(462)];function M(t,n){const e=k();return(M=function(t,n){return e[t-=456]})(t,n)}const T=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(534),{draco:!0,decoderPath:e(525)}))),a=await a,s(),a);h[e(481)][e(521)][e(516)](-5088.96,-3.08,39374.7),h.mesh_0[e(514)][e(476)](.01);let m=null,g=null,v=null;g=new(o[e(491)])((()=>{const t=e;return v=document[t(496)]("heatmap-canvas"),v.style[t(521)]=t(526),v[t(467)].top=t(469),v[t(467)][t(460)]="0",document[t(458)].appendChild(v),m=i[t(519)]({container:v,width:256,height:256,blur:"0.8",radius:c.radius}),m._renderer[t(459)].style[t(465)]="1px solid #5384ff",m[t(474)][t(459)][t(479)]=function(n){const e=t;m[e(478)]({x:n.layerX,y:n[e(471)],value:1,radius:c[e(493)]}),m[e(482)](1),g&&(g[e(456)]=!0)},m})()[e(474)][e(459)]);const y={vertexShader:e(468),fragmentShader:e(524),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(503)]},b=new(o[e(497)])(y);h[e(481)][e(517)]=b;return(t=>{const n=e;t[n(509)]();const{max:o,min:a}=t[n(495)];t[n(500)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(506)].position[n(463)];e++)c[n(527)]((t.attributes[n(521)].getX(e)-a.x)/s),c[n(527)]((t[n(506)][n(521)].getZ(e)-a.z)/i);const u=new Float32Array(c);t[n(466)]("uv",new r(u,2))})(h[e(481)][e(461)]),p((()=>{const t=e;v[t(467)][t(485)]=""+(c[t(510)]?t(530):t(508))})),(t,n)=>{const o=e;return l(),f(o(470),{object:d(h)[o(481)]},null,8,z)}}});function B(t){function n(t){const e=M;if(typeof t===e(512))return function(t){}[e(487)]("while (true) {}")[e(499)](e(529));1!==(""+t/t)[e(515)]||t%20==0?function(){return!0}[e(487)](e(494)+e(490))[e(498)](e(532)):function(){return!1}[e(487)](e(494)+e(490))[e(499)](e(522)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const A=D;function D(t,n){const e=E();return(D=function(t,n){return e[t-=273]})(t,n)}function E(){const t=["info","input","trace","length","圆圈的大小","4pUIPnM","TresGridHelper","461230makbPK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","339662dwlZou","console","radius","apply","toString","log","7572HYEtYW","gger","chain","143AEPfBu","8748ynqDCa","prototype","init","counter",'{}.constructor("return this")( )',"error","#030311","TresDirectionalLight","点击左侧蓝色画框","table","string","while (true) {}","addButton","heatmapClick","addBinding","bind","6phQiiT","constructor","warn","TresPerspectiveCamera","1272264akSVcQ","1027890SYrwKr","#ffffff","__proto__","test","debu","1170492FprLub","604hoHvkN","3896ZQYyht","TresCanvas","call"];return(E=function(){return t})()}!function(t,n){const e=D,o=E();for(;;)try{if(461754===parseInt(e(305))/1*(parseInt(e(301))/2)+-parseInt(e(311))/3*(parseInt(e(292))/4)+parseInt(e(286))/5+parseInt(e(281))/6*(parseInt(e(285))/7)+parseInt(e(293))/8*(parseInt(e(315))/9)+-parseInt(e(303))/10*(parseInt(e(314))/11)+-parseInt(e(291))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(308)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(304),"i"),o=q(t(317));n[t(289)](o+t(313))&&e.test(o+t(297))?q():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(308)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=D;let n;try{n=Function("return (function() "+t(319)+");")()}catch(r){n=window}const e=n[t(306)]=n[t(306)]||{},o=[t(310),t(283),t(296),t(320),"exception",t(274),t(298)];for(let a=0;a<o[t(299)];a++){const n=Q.constructor[t(316)].bind(Q),r=o[a],s=e[r]||n;n[t(288)]=Q.bind(Q),n[t(309)]=s[t(309)][t(280)](s),e[r]=n}}))();const R=I(A(284),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),U=I(A(322),{position:[5,10,7.5],color:A(287),intensity:5},null,-1),Z=I(A(302),{args:[50,25]},null,-1),O=c({__name:A(278),setup(t){const o=A,r={clearColor:o(321),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(279)](i,"show2dCanvas",{label:"显示二维图"}),c.addBinding(i,o(307),{label:o(300),min:.1,max:30,step:.1}),c[o(277)]({title:o(273)}),(t,e)=>{const a=m(o(294));return l(),g(a,_(r,{"window-size":""}),{default:v((()=>[R,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),U,Z,(l(),g(b,null,{default:v((()=>[y(T,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function q(t){function n(t){const e=D;if(typeof t===e(275))return function(t){}[e(282)](e(276)).apply(e(318));1!==(""+t/t)[e(299)]||t%20==0?function(){return!0}[e(282)](e(290)+e(312))[e(295)]("action"):function(){return!1}[e(282)](e(290)+e(312))[e(308)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
