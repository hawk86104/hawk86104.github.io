import{F as e,_ as a}from"./@tresjs.BCHtwiaC1763540743861.js";import{C as t,E as r,X as s,a as o,F as i,U as n,N as c,O as p}from"./@takram.DcJcNz4v1763540743861.js";import{d as m,H as u,o as d,F as l,J as w,u as h}from"./@vue.Co_gxueH1763540743861.js";import{V as j}from"./three.rXKzP9fQ1763540743861.js";const y=["material"],b=["object","position"],f=["object"],T=["object"],g=m({__name:"atmo",props:{aerialPerspective:{}},setup(m){const{renderer:g}=e();g.depth=!1;const v=new Date("2025-06-01T01:30:00Z"),x=new t(r(139.7671),r(35.6812),100).toECEF(),D=new s,F=new o,P=new i({distance:300});P.target.position.copy(x),P.castShadow=!0,P.shadow.camera.top=300,P.shadow.camera.bottom=-300,P.shadow.camera.left=-300,P.shadow.camera.right=300,P.shadow.camera.near=0,P.shadow.camera.far=600,P.shadow.mapSize.width=2048,P.shadow.mapSize.height=2048,P.shadow.normalBias=1,(new n).setTypeFromRenderer(g).load("./plugins/useThreeGeospatial/exr/",function(e){Object.assign(D,e),P.transmittanceTexture=e.transmittanceTexture,F.irradianceTexture=e.irradianceTexture,Object.assign(m.aerialPerspective,e)});const{onBeforeRender:_}=a(),z=new j,E=new j;return _(({elapsed:e})=>{const a=+v+5e6*e%864e5/2;c(a,z),p(a,E),D.sunDirection.copy(z),D.moonDirection.copy(E),P.sunDirection.copy(z),F.sunDirection.copy(z),m.aerialPerspective.sunDirection.copy(z),P.update(),F.update()}),(e,a)=>(d(),u(l,null,[w("TresMesh",{frustumCulled:!1,material:h(D)},[...a[0]||(a[0]=[w("TresPlaneGeometry",{args:[2,2]},null,-1)])],8,y),w("primitive",{object:h(F),position:[h(x).x,h(x).y,h(x).z]},null,8,b),w("primitive",{object:h(P)},null,8,f),w("primitive",{object:h(P).target},null,8,T)],64))}});export{g as _};
