import{q as t,Y as n}from"./@tresjs.IlQvaTJ91728554291399.js";import{P as e}from"./tweakpane.yHWGBmom1728554291399.js";import{_ as o,a0 as r,ak as a,al as s}from"./three.YiCjTDWq1728554291399.js";import{_ as i}from"./heatmap.js-fix.7Ax0sGUm1728554291399.js";import{d as c,a4 as u,a3 as l,o as p,E as f,u as d,r as h,e as g,f as m,g as v,j as y,al as w,aj as b,ak as x,m as _,L as I}from"./@vue.JNsx1iN61728554291399.js";import"./@vueuse.nb-8z3af1728554291399.js";import"./@amap.pS6gfiLZ1728554291399.js";const j=C;function C(t,n){const e=B();return(C=function(t,n){return e[t-=314]})(t,n)}!function(t,n){const e=C,o=B();for(;;)try{if(502931===-parseInt(e(370))/1+parseInt(e(387))/2*(parseInt(e(317))/3)+-parseInt(e(335))/4+parseInt(e(352))/5*(parseInt(e(365))/6)+parseInt(e(368))/7*(-parseInt(e(329))/8)+parseInt(e(381))/9*(-parseInt(e(328))/10)+parseInt(e(346))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(340)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=C,n=new RegExp(t(342)),e=new RegExp(t(339),"i"),o=T("init");n.test(o+t(360))&&e.test(o+t(324))?T():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(340)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(392)+t(338)+");")()}catch(e){n=window}return n}(),e=n[t(350)]=n.console||{},o=[t(366),t(385),"info",t(351),t(348),t(327),t(362)];for(let r=0;r<o.length;r++){const n=k.constructor[t(330)][t(344)](k),a=o[r],s=e[a]||n;n[t(364)]=k[t(344)](k),n[t(358)]=s.toString[t(344)](s),e[a]=n}}))();const z=[j(384)];function B(){const t=["bind","1px solid #5384ff","23144825NvFIOq","count","exception","scale","console","error","17620EhWftD","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","gger","material","style","toString","absolute","chain","createElement","trace","Texture","__proto__","954HQvDrf","log","action","322qOUcyc","mesh_0","929942alUKdu","push","setScalar","computeBoundingBox","debu","attributes","layerY","deleteAttribute","addData","primitive","counter","286911qYTOsL","set","onclick","object","warn","40px","2pwsvIC","border","body","string","while (true) {}","return (function() ","BufferAttribute","setDataMax","none","./draco/","getX","39927gitApq","setAttribute","heatmap-canvas","radius","getZ","constructor","position","input","top","ShaderMaterial","table","190KZUxtz","55072vaiodk","prototype","canvas","_renderer","geometry","0.8","1289848JOBHun","length","call",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","appendChild","function *\\( *\\)","stateObject"];return(B=function(){return t})()}const O=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(353),{draco:!0,decoderPath:e(315)}))),a=await a,s(),a);h[e(369)].position[e(382)](-5088.96,-3.08,39374.7),h[e(369)][e(349)][e(372)](.01);let g=null,m=null,v=null;m=new(o[e(363)])((()=>{const t=e;return v=document[t(361)](t(319)),v[t(357)][t(323)]=t(359),v[t(357)][t(325)]=t(386),v[t(357)].left="0",document[t(389)][t(341)](v),g=i.create({container:v,width:256,height:256,blur:t(334),radius:c[t(320)]}),g[t(332)][t(331)][t(357)][t(388)]=t(345),g[t(332)][t(331)][t(383)]=function(n){const e=t;g[e(378)]({x:n.layerX,y:n[e(376)],value:1,radius:c[e(320)]}),g[e(394)](1),m&&(m.needsUpdate=!0)},g})()[e(332)][e(331)]);const y={vertexShader:e(354),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},w=new(o[e(326)])(y);h[e(369)][e(356)]=w;return(t=>{const n=e;t[n(373)]();const{max:r,min:a}=t.boundingBox;t[n(377)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t.attributes.position[n(347)];e++)c[n(371)]((t[n(375)][n(323)][n(316)](e)-a.x)/s),c[n(371)]((t[n(375)].position[n(321)](e)-a.z)/i);const u=new Float32Array(c);t[n(318)]("uv",new(o[n(393)])(u,2))})(h.mesh_0[e(333)]),l((()=>{const t=e;v[t(357)].display=""+(c.show2dCanvas?"block":t(314))})),(t,n)=>{const o=e;return p(),f(o(379),{object:d(h)[o(369)]},null,8,z)}}});function T(t){function n(t){const e=C;if(typeof t===e(390))return function(t){}.constructor(e(391)).apply(e(380));1!==(""+t/t)[e(336)]||t%20==0?function(){return!0}[e(322)](e(374)+e(355))[e(337)](e(367)):function(){return!1}.constructor(e(374)+"gger")[e(340)](e(343)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=q;!function(t,n){const e=q,o=F();for(;;)try{if(890425===-parseInt(e(444))/1+-parseInt(e(454))/2+parseInt(e(465))/3+-parseInt(e(440))/4*(parseInt(e(467))/5)+parseInt(e(463))/6+-parseInt(e(449))/7+-parseInt(e(442))/8*(-parseInt(e(441))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){M(this,(function(){const t=q,n=new RegExp(t(469)),e=new RegExp(t(480),"i"),o=P("init");n[t(481)](o+t(457))&&e.test(o+t(466))?P():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(453)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=F();return(q=function(t,n){return e[t-=440]})(t,n)}S(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(484)+t(475)+");")()}catch(e){n=window}return n}(),e=n[t(451)]=n[t(451)]||{},o=["log",t(448),t(458),t(470),t(445),t(483),"trace"];for(let r=0;r<o.length;r++){const n=S[t(447)][t(464)].bind(S),a=o[r],s=e[a]||n;n[t(446)]=S[t(482)](S),n[t(459)]=s[t(459)][t(482)](s),e[a]=n}}))();const E=I(U(456),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),Z=I(U(477),{position:[5,10,7.5],color:U(450),intensity:5},null,-1),D=I(U(468),{args:[50,25]},null,-1);function F(){const t=["function *\\( *\\)","error","string","radius","显示二维图","action",'{}.constructor("return this")( )',"addButton","TresDirectionalLight","点击左侧蓝色画框","TresCanvas","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","bind","table","return (function() ","4KOBxcT","11992923ofzCvW","16PIJZrA","gger","504067AaUaZy","exception","__proto__","constructor","warn","11493545otEATY","#ffffff","console","debu","apply","3258306oIqnPB","addBinding","TresPerspectiveCamera","chain","info","toString","length","show2dCanvas","counter","6360342ljHMXs","prototype","2845197qYLuKV","input","39850VGdFhh","TresGridHelper"];return(F=function(){return t})()}const L=c({__name:"heatmapClick",setup(t){const o=U,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(455)](i,o(461),{label:o(473)}),c[o(455)](i,o(472),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(476)]({title:o(478)}),(t,e)=>{const a=g(o(479));return p(),m(a,_(r,{"window-size":""}),{default:v((()=>[E,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),Z,D,(p(),m(w,null,{default:v((()=>[y(O,b(x(i)),null,16)])),_:1}))])),_:1},16)}}});function P(t){function n(t){const e=q;if(typeof t===e(471))return function(t){}[e(447)]("while (true) {}")[e(453)](e(462));1!==(""+t/t)[e(460)]||t%20==0?function(){return!0}[e(447)](e(452)+e(443)).call(e(474)):function(){return!1}[e(447)](e(452)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{L as default};
