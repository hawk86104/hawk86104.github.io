import"./index.CwmxOU_M1752136696158.js";import{m as e,e as a,k as s,b as t,a as r,t as i}from"./@tresjs.DLq12syC1752136696158.js";import"./index.B9Z9A2ny1752136696158.js";import{a4 as l,ab as n,ax as o}from"./three.BNH6wr6-1752136696158.js";import{M as u,a as p}from"./@pmndrs.BBlGfDfm1752136696158.js";import{u as m}from"./index.0NwwbeIE1752136696158.js";import{d as v,v as d,s as g,t as c,G as j,o as f,u as h,a3 as _,e as b,f as M,I as y,j as k,am as x,h as T,ak as w,al as L,F as C}from"./@vue.BInVSO3Q1752136696158.js";import{_ as I}from"./randomLoading.vue_vue_type_script_setup_true_lang.CadAJkJG1752136696158.js";import"./utils.Bm3_mDTK1752136696158.js";import"./@fesjs.CApmwxMx1752136696158.js";import"./vue-router.qYamoiMP1752136696158.js";import"./lodash-es.C7pWAXPe1752136696158.js";import"./@qlin.q6OWdsQV1752136696158.js";import"./pinia.CsLPLp3A1752136696158.js";import"./@babel.BPq7uOAK1752136696158.js";import"./@floating-ui.BFjFSAYt1752136696158.js";import"./@juggle.CcBCnTIR1752136696158.js";import"./index.coH2xK-x1752136696158.js";import"./three-mesh-ui.module.DoqSn93D1752136696158.js";import"./postprocessing.CPr5BoQh1752136696158.js";import"./@vueuse.BmvRw4vU1752136696158.js";import"./object-hash.AYVzxFSg1752136696158.js";import"./@amap.CGUF9xH41752136696158.js";import"./jszip.Dfvg2heu1752136696158.js";import"./starLoading.DstW1JMx1752136696158.js";import"./cssLoaders.NPelU3HS1752136696158.js";import"./bubbleLoading.DbohumTb1752136696158.js";import"./yangyangLoading.NdbVhRQA1752136696158.js";const z=["side"],P=1024,R=v({__name:"stickerTransmisionMaterial",setup(s,{expose:t}){const r=d(),{extend:i,scene:o,renderer:v,camera:_}=e(),b=d();i({MeshTransmissionMaterial:u});const M=new p,{onBeforeLoop:y}=a(),k=m({width:P,height:P,isLoop:!1}),x=m({width:P,height:P,isLoop:!1});let T,w,L,C;return g((async()=>{await c(),r.value.buffer=x.value.texture,b.value=function(e,a){let s;return e.traverse((e=>{e.isMesh&&e.material&&e.material.uuid===a&&(s=e)})),s}(o.value,r.value.uuid)})),y((({elapsed:e})=>{r.value.time=e,r.value.buffer===x.value.texture&&b.value&&(L=v.value.toneMapping,T=o.value.background,w=r.value.envMapIntensity,C=b.value.material.side,b.value.material=M,v.value.setRenderTarget(k.value),v.value.render(o.value,_.value),b.value.material=r.value,b.value.material.thickness=0,b.value.material.buffer=k.value.texture,b.value.material.side=l,b.value.material.envMapIntensity=0,v.value.setRenderTarget(x.value),v.value.render(o.value,_.value),b.value.material.buffer=x.value.texture,b.value.material=r.value,b.value.material.thickness=0,b.value.material.side=C,b.value.material.envMapIntensity=w,o.value.background=T,v.value.setRenderTarget(null),v.value.toneMapping=L)})),t({root:r,constructor:u}),(e,a)=>(f(),j("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:r,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:h(n)},null,8,z))}}),B=["geometry","rotation"],G=v({__name:"stickerModel",async setup(e){let a,t;const{nodes:r}=([a,t]=_((()=>s("./plugins/eCommerce/model/pack.glb"))),a=await a,t(),a);return(e,a)=>(f(),b(x,null,{default:M((()=>[y("TresMesh",{geometry:h(r).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[k(R)],8,B)])),_:1}))}}),q=["map","side"],A=v({__name:"stickerLogo",async setup(e){let a,s;const r=([a,s]=_((()=>t(["logo.png"]))),a=await a,s(),a);return(e,a)=>(f(),b(x,null,{default:M((()=>[y("TresMesh",null,[a[0]||(a[0]=y("TresPlaneGeometry",null,null,-1)),y("TresMeshPhysicalMaterial",{map:h(r),transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:h(n)},null,8,q)])])),_:1}))}}),D=v({__name:"sticker",setup(e){const a={clearColor:"#333333",windowSize:!0,toneMapping:o,toneMappingExposure:.8,shadows:!0};return(e,s)=>{const t=T("TresCanvas");return f(),j(C,null,[k(h(I)),k(t,w(L(a)),{default:M((()=>[s[0]||(s[0]=y("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1)),k(h(r),{enableDamping:""}),s[1]||(s[1]=y("TresAmbientLight",{intensity:2},null,-1)),(f(),b(x,null,{default:M((()=>[k(G)])),_:1})),(f(),b(x,null,{default:M((()=>[k(A)])),_:1})),(f(),b(x,null,{default:M((()=>[k(h(i),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/",background:!1},null,8,["path"])])),_:1}))])),_:1},16)],64)}}});export{D as default};
