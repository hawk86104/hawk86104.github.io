import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.4XV_x0mI1739442316051.js";import{_ as i,aX as s,C as a}from"./three.OosFxi571739442316051.js";import{P as c}from"./tweakpane.yDiyAAkA1739442316051.js";import{L as u}from"./three-subdivide.-g7VgFed1739442316051.js";import{d as l,b as f,a2 as p,w as d,o as m,H as g,N as h,aj as v,ak as y,a3 as w,r as b,e as _,f as M,g as T,j as x,u as S,m as I,M as j}from"./@vue.NRI7TcgI1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";const A=B;function B(n,t){const e=R();return(B=function(n,t){return e[n-=323]})(n,t)}!function(n,t){const e=B,o=R();for(;;)try{if(693015===parseInt(e(337))/1+parseInt(e(370))/2*(parseInt(e(351))/3)+parseInt(e(347))/4+-parseInt(e(332))/5+-parseInt(e(369))/6+-parseInt(e(339))/7*(parseInt(e(327))/8)+parseInt(e(346))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){C(this,(function(){const n=B,t=new RegExp(n(373)),e=new RegExp(n(342),"i"),o=E("init");t[n(362)](o+n(350))&&e[n(362)](o+n(325))?E():o("0")}))()}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[B(349)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();k(void 0,(function(){const n=B,t=function(){const n=B;let t;try{t=Function(n(356)+n(335)+");")()}catch(e){t=window}return t}(),e=t.console=t.console||{},o=[n(374),n(336),"info","error","exception","table",n(354)];for(let r=0;r<o[n(334)];r++){const t=k[n(348)].prototype[n(331)](k),i=o[r],s=e[i]||t;t[n(333)]=k[n(331)](k),t[n(357)]=s.toString[n(331)](s),e[i]=t}}))();const z=[A(363)];function R(){const n=["92337JQESwe","subVectors","debu","trace","Vector3","return (function() ","toString","side","blending","subdivision","TSGref","test","scale","counter","value","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","shineShader","gger","3188562JzWEWv","62ZJiOAM","FrontSide","#ffff00","function *\\( *\\)","log","uniforms","viewVector","geometry","input","action","1744HZMgvm","TresShaderMaterial","Color","call","bind","6565635KAIqxF","__proto__","length",'{}.constructor("return this")( )',"warn","1385915GzdmFP","glowColor","16667QSTafc","position","srcMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","clone","material","color","4174128VoKwCt","1011084PVHyKQ","constructor","apply","chain"];return(R=function(){return n})()}const V=l({__name:A(367),props:{srcMesh:{},scale:{default:1.2},color:{default:A(372)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[A(371)]},blending:{default:s}},setup(e){const o=A,r=e,s=f(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new a(r[o(345)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:o(366),side:r[o(358)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(359)]};p((()=>{const n=o;if(r[n(341)]&&s[n(365)]&&!s.value[n(324)].attributes[n(340)]){let t=r[n(341)].geometry[n(343)]();r[n(360)]&&(t=u.modify(t,2)),s.value[n(324)]=t,s[n(365)][n(340)].copy(r.srcMesh[n(340)])}r[n(345)]&&(c[n(375)][n(338)][n(365)]=new(i[n(329)])(r.color)),r.c&&(c[n(375)].c[n(365)]=r.c),r.p&&(c[n(375)].p[n(365)]=r.p)})),d((()=>r[o(360)]),(n=>{const t=o;let e=r[t(341)][t(324)][t(343)]();n&&(e=u.modify(e,2)),s[t(365)].geometry=e})),d((()=>r[o(358)]),(n=>{const t=o;s[t(365)][t(344)][t(358)]=n})),d((()=>r[o(359)]),(n=>{const t=o;s.value[t(344)][t(359)]=n}));const{onLoop:l}=n(),{camera:w}=t();return l((()=>{const n=o;w[n(365)]&&s[n(365)]&&(c[n(375)][n(323)][n(365)]=(new(i[n(355)]))[n(352)](w[n(365)][n(340)],s[n(365)][n(340)]))})),(n,t)=>{const e=o;return m(),g("TresMesh",{ref_key:e(361),ref:s,scale:r[e(363)]},[h(e(328),v(y(c)),null,16)],8,z)}}});function E(n){function t(n){const e=B;if("string"==typeof n)return function(n){}[e(348)]("while (true) {}")[e(349)](e(364));1!==(""+n/n)[e(334)]||n%20==0?function(){return!0}[e(348)](e(353)+e(368))[e(330)](e(326)):function(){return!1}[e(348)](e(353)+e(368))[e(349)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const F=P;!function(n,t){const e=P,o=K();for(;;)try{if(704120===-parseInt(e(212))/1+parseInt(e(203))/2+parseInt(e(199))/3*(-parseInt(e(240))/4)+parseInt(e(208))/5*(parseInt(e(251))/6)+parseInt(e(231))/7+parseInt(e(225))/8+-parseInt(e(216))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){G(this,(function(){const n=P,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(236),"i"),o=D(n(215));t[n(252)](o+n(207))&&e.test(o+n(217))?D():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(241)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();N(void 0,(function(){const n=P,t=function(){const n=P;let t;try{t=Function(n(218)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(210)]=t[n(210)]||{},o=[n(214),"warn",n(234),n(237),n(256),n(243),n(205)];for(let r=0;r<o[n(244)];r++){const t=N.constructor[n(233)].bind(N),i=o[r],s=e[i]||t;t[n(232)]=N[n(228)](N),t[n(229)]=s[n(229)].bind(s),e[i]=t}}))();const H=[F(253)],Z=["map"];function P(n,t){const e=K();return(P=function(n,t){return e[n-=198]})(n,t)}function K(){const n=["FrontSide","console","call","1084575AbDGTN","action","log","init","3814560EXwAiv","input","return (function() ","srcMesh","TresMesh","TresPerspectiveCamera","blending","TresGridHelper","TresBoxGeometry","8645104ThRrHu","TresSphereGeometry","BackSide","bind","toString","counter","2195095KAGTlg","__proto__","prototype","info","addBinding","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","NormalBlending","边缘处理","4BrGCiw","apply","#222","table","length","TresCanvas","value","stateObject","TresMeshBasicMaterial","shader","debu","2788518oSrwgp","test","map","instance","while (true) {}","exception","logo.png","constructor","2278389AzAYvH","#00dfff","TresMeshRefB","DoubleSide","367032BTtHeq","scale","trace","TresAmbientLight","chain","15jdvRTw"];return(K=function(){return n})()}const $=l({__name:F(249),async setup(n){const t=F;let a,u;const l={clearColor:t(242)},p=f(),d=f(),g=f(),v=([a,u]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(257)]))),a=await a,u(),a),y=b({scale:1.6,color:t(200),subdivision:!0,c:1.1,p:1.4,side:i[t(209)],blending:s}),A=new c({title:"参数",expanded:!0});return A[t(235)](y,"color",{label:"颜色"}),A[t(235)](y,t(204),{label:"大小",min:1,max:3,step:.2}),A[t(235)](y,"subdivision",{label:t(239)}),A.addBinding(y,"c",{label:"c",min:0,max:2,step:.1}),A[t(235)](y,"p",{label:"p",min:0,max:8,step:.2}),A[t(235)](y,"side",{options:{FrontSide:i[t(209)],BackSide:i[t(227)],DoubleSide:i[t(202)]}}),A[t(235)](y,t(222),{options:{AdditiveBlending:s,NormalBlending:i[t(238)]}}),(n,r)=>{const i=t,s=_(i(245));return m(),M(s,I(l,{"window-size":""}),{default:T((()=>[r[2]||(r[2]=h(i(221),{position:[5,5,5]},null,-1)),r[3]||(r[3]=h(i(206),{intensity:1},null,-1)),x(S(e)),r[4]||(r[4]=h(i(223),{args:[10,10]},null,-1)),h(i(220),{ref_key:"TresMeshRefA",ref:p,position:[-2,1,0]},[r[0]||(r[0]=h(i(226),{args:[1,32,16]},null,-1)),h("TresMeshBasicMaterial",{map:S(v)[0]},null,8,H)],512),x(V,I({srcMesh:p[i(246)]},y),null,16,[i(219)]),x(S(o),{ref_key:"TreBoxRef",ref:g,args:[1,1,1],position:[2,1,0]},{default:T((()=>[h(i(248),{map:S(v)[1]},null,8,Z)])),_:1},512),g[i(246)]&&g[i(246)][i(254)]?(m(),M(V,I({key:0,srcMesh:g[i(246)][i(254)]},y),null,16,[i(219)])):j("",!0),h(i(220),{ref_key:i(201),ref:d,position:[0,1,-2]},r[1]||(r[1]=[h(i(224),{args:[1,1,1,1,1]},null,-1),h(i(248),{color:"#0ff"},null,-1)]),512),x(V,I({srcMesh:d.value},y),null,16,[i(219)])])),_:1},16)}}});function D(n){function t(n){const e=P;if("string"==typeof n)return function(n){}[e(198)](e(255))[e(241)](e(230));1!==(""+n/n).length||n%20==0?function(){return!0}[e(198)](e(250)+"gger")[e(211)](e(213)):function(){return!1}[e(198)](e(250)+"gger")[e(241)](e(247)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{$ as default};
