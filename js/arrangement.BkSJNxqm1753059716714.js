import"./index.CXZGuRj51753059716714.js";import{e as t,k as e,a}from"./@tresjs.oHLVlBVa1753059716714.js";import{_ as n}from"./index.BFZb4ZY91753059716714.js";import{_ as o}from"./component.vue_vue_type_script_setup_true_lang.GmcvNGwx1753059716714.js";import{d as r,b as i,s,G as l,o as d,I as u,L as c,e as m,f,j as p,u as W,F as g,W as h,a5 as y,aa as b,r as _,a7 as x,a8 as k,h as v}from"./@vue.DwSifnVs1753059716714.js";import{P as S}from"./tweakpane.C0HtAJSg1753059716714.js";import{g as C,V as j,S as w,as as B,bb as G,aa as P,_ as V,Y as T}from"./three.DR_5uK8e1753059716714.js";import{_ as O}from"./index.vue_vue_type_script_setup_true_lang.DE5dRNnK1753059716714.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang.BPBtbWT91753059716714.js";import{_ as M}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.qWNjfbiA1753059716714.js";import{_ as R}from"./randomLoading.vue_vue_type_script_setup_true_lang.DOKxjcyP1753059716714.js";import"./utils.My5XTXU-1753059716714.js";import"./@fesjs.CV3tl4s01753059716714.js";import"./vue-router.Tg4SAQ0L1753059716714.js";import"./lodash-es.C7pWAXPe1753059716714.js";import"./@qlin.q6OWdsQV1753059716714.js";import"./pinia.DQkQ1TR81753059716714.js";import"./@babel.BPq7uOAK1753059716714.js";import"./@floating-ui.BFjFSAYt1753059716714.js";import"./@juggle.CcBCnTIR1753059716714.js";import"./index.BfQdOkTF1753059716714.js";import"./three-mesh-ui.module.DdVJf2la1753059716714.js";import"./postprocessing.BrgFZ9pj1753059716714.js";import"./@vueuse.mXirru381753059716714.js";import"./object-hash.SU60PE5X1753059716714.js";import"./@amap.CGUF9xH41753059716714.js";import"./jszip.DZgnrLoY1753059716714.js";import"./three-stdlib.BkiKLjvo1753059716714.js";import"./@pmndrs.DIbJFPUZ1753059716714.js";import"./index.B5m52UzB1753059716714.js";import"./starLoading.CqdwjeMv1753059716714.js";import"./cssLoaders.B-VOSyql1753059716714.js";import"./bubbleLoading.ChenZ7AY1753059716714.js";import"./yangyangLoading.B7DnHS9P1753059716714.js";const L=r({__name:"index",props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(t){const e=t,a=i(null),n=i(null),o=i(null);return s((()=>{if(!n.value)return;if(!o.value)return;n.value.matrixWorld.identity();const t=(new C).setFromObject(o.value,e.precise),a=new j,r=new w,i=t.max.x-t.min.x,s=t.max.y-t.min.y,l=t.max.z-t.min.z;t.getCenter(a),t.getBoundingSphere(r);const d=e.top?s/2:e.bottom?-s/2:0,u=e.left?-i/2:e.right?i/2:0,c=e.front?l/2:e.back?-l/2:0;n.value.position.set(e.disable||e.disableX?0:-a.x+u,e.disable||e.disableY?0:-a.y+d,e.disable||e.disableZ?0:-a.z+c)})),(t,e)=>(d(),l("TresGroup",{ref_key:"gref",ref:a},[u("TresGroup",{ref_key:"outer",ref:n},[u("TresGroup",{ref_key:"inner",ref:o},[c(t.$slots,"default")],512)],512)],512))}}),z=["rotation"],Z=["rotation-x"],Y=r({__name:"env",setup(e){const a=i(null),{onLoop:r}=t();r((({delta:t})=>{a.value&&(a.value.rotation.z+=t)}));const s=[2,-2,2,-4,2,-5,2,-9];return(t,e)=>(d(),m(y,null,{default:f((()=>[p(W(o),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:f((()=>[p(W(n),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),p(W(n),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),u("TresGroup",{rotation:[Math.PI/2,1,0]},[(d(),l(g,null,h(s,((t,e)=>p(W(n),{key:e,intensity:1,rotation:[Math.PI/4,0,0],position:[t,4,4*e],scale:[4,1,1]},null,8,["rotation","position"]))),64))],8,z),p(W(n),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),p(W(n),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),p(W(n),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),u("TresGroup",{ref_key:"refgroup",ref:a,"rotation-x":Math.PI/2},[p(W(n),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,Z)])),_:1},8,["path"])])),_:1}))}});function Q(t,e){var a=q();return Q=function(e,n){var o=a[e-=424];if(void 0===Q.GavBYm){var r=function(t){for(var e,a,n="",o="",i=n+r,s=0,l=0;a=t.charAt(l++);~a&&(e=s%4?64*e+a:a,s++%4)?n+=i.charCodeAt(l+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(var d=0,u=n.length;d<u;d++)o+="%"+("00"+n.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(o)};Q.iciWri=function(t,e){var a,n,o=[],i=0,s="";for(t=r(t),n=0;n<256;n++)o[n]=n;for(n=0;n<256;n++)i=(i+o[n]+e.charCodeAt(n%e.length))%256,a=o[n],o[n]=o[i],o[i]=a;n=0,i=0;for(var l=0;l<t.length;l++)i=(i+o[n=(n+1)%256])%256,a=o[n],o[n]=o[i],o[i]=a,s+=String.fromCharCode(t.charCodeAt(l)^o[(o[n]+o[i])%256]);return s},t=arguments,Q.GavBYm=!0}var i=e+a[0],s=t[i];if(s)o=s;else{if(void 0===Q.YCOiSp){var l=function(t){this.yCLqoz=t,this.lGbVcT=[1,0,0],this.GLBWDB=function(){return"newState"},this.VwayBF="\\w+ *\\(\\) *{\\w+ *",this.GKbDwO="['|\"].+['|\"];? *}"};l.prototype.WRSWLs=function(){var t=new RegExp(this.VwayBF+this.GKbDwO).test(this.GLBWDB.toString())?--this.lGbVcT[1]:--this.lGbVcT[0];return this.VqKfPv(t)},l.prototype.VqKfPv=function(t){return Boolean(~t)?this.YbowEu(this.yCLqoz):t},l.prototype.YbowEu=function(t){for(var e=0,a=this.lGbVcT.length;e<a;e++)this.lGbVcT.push(Math.round(Math.random())),a=this.lGbVcT.length;return t(this.lGbVcT[0])},new l(Q).WRSWLs(),Q.YCOiSp=!0}o=Q.iciWri(o,n),t[i]=o}return o},Q(t,e)}function q(){var t=["WPqYCmkjWQjobCkrW7z8W41T","WPpcJCkiWRChWPVcGgZcV15A","W7hdUCoxWR5HW5nKda9hWQq","W5BdIf/cVCoYFCofrtZcTCkeW5ddPa","fWmtfmkoWRe","axpcJG","BmoxW4zPW4O","mshdGaJcKgDztfbIECod","vmoIi8k4rq","W6NcKmkiW6a4","WRxdNefDW5SdWRtcOL8","W7aVW708ea","xstcSbDHaSkAaG","WPhcKSkwWQGk","u05vxCorW7dcL8owWQxcLbL6","kWmohCkV","W6f6W7TyW4iSxrqzWRaCWQVdNa","W6NcJCk6W7CVamovra","fK/dOw7dTq","WRdcSmo6e8ktf2XgWOWydCkFW6W","h8kZWOhcRdCrDSkWbCoFW7S/BG","emoGWP7dI8o1W5ddG8o8W6evWONdQmoSWP0","qxr0WPD7WP1o","WPNcHmoCwCo7EtFdOCodWQZdGGC","tSoZW5HUW65qxSo3eG","W6lcKrPVW4atWO7cP1G","W6tdRSkMqW","dWCFh8kF","WQ44bIKdW5CWWRazuG","WQaxtdtdQCkMCCkuBa","W5DSe8kwmJKJ","a20zWQ5wWQbNW73cMe52iCoTW6yShu8hfcBdMSkCW7ZdUWy4ou/dNSk1AXe","FL40WQRdGq","gJxdQ3dcGq","W4VdG8kInSkl","qmknW6RdKIySsSkiW5xdU0dcOa","kM3cQ8oxW5JcNw01W5zVWOiWDxvMo8kOW6xdV8kfp8oIW7dcQCkiW5fZjCkdWR3cNSkb","WOatWOFcVCo1","wY7cLXzHbCoutvJcLH0PwCkMEKVcQSouWRa","WOWTxttdPCk6","yYhcVmkeWOldIYHXW5vsWOWhuNu","WPZdQxTdWR8r","DSoIjmkJySkhzLZdI8oZWPVcHdFdU8kohSkfWP/cUq","aISfDmoz","WO9YW7bGWPlcJ2VdGCkqw8oOvsa","ddFdVuFcUuVcL0GjoCo8","W4ZdI8kUb8k1jNHsjbL5fSoNW4TLBNtcSSoK","hmk3WOdcRuDdbmkBlmo8","gZFdGedcV1dcJeW","tLnoq8ocW6dcISkyW63dUgSYW4K","usJcQYbX","W7SLW6iWf8orjYRcPW","lr9YWQldLWpdTCkXWQa","WRNdMCo9W6RdSSkYWPqOW4aGW7ZdKa","W7ZcKSkzW68K","W4ZdRrJcRaS","W4BdObG+","WPyyeZnC","W7TytNKe","W78pWPiuW7a","WRCjFZZdPW","AhtdHSoUW7xcOeq","WPr/W5/dLmohnKTaW7K","W4NdJ8kOha","W61WExmY","WP3cQc86WRDcsHpcGCoiWQ8","nSk2zSkYF8ktmqZdOG","WPVdMCk3jSomuSkSb3S+WP9VWQVcQ8owW503W7z7WOpdNSo8W7n+nCokiCofWRNdGCkxAa","W6TSvwOOW5q"];return(q=function(){return t})()}!function(){function t(t,e,a,n,o){return Q(t- -452,o)}function e(t,e,a,n,o){return Q(o- -933,t)}function a(t,e,a,n,o){return Q(a-623,o)}function n(t,e,a,n,o){return Q(t- -410,o)}for(var o=q();;)try{if(819808===parseInt(n(73,0,0,0,"$A0]"))/1*(parseInt(n(27,0,0,0,"s!vS"))/2)+-parseInt(a(0,0,1070,0,"H%dh"))/3*(-parseInt(t(3,0,0,0,"(jgu"))/4)+-parseInt(e("0ec[",0,0,0,-476))/5*(parseInt(n(42,0,0,0,"LH8d"))/6)+parseInt(t(23,0,0,0,"9nP5"))/7+parseInt(a(0,0,1081,0,"GP8("))/8+parseInt(e("2w2X",0,0,0,-462))/9+-parseInt(n(66,0,0,0,"%%bi"))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();var K,F=(K=!0,function(t,e){function a(t,e,a,n,o){return Q(e- -105,a)}function n(t,e,a,n,o){return Q(o- -522,a)}if(a(0,324,"zI!D")===n(0,0,"$A0]",0,-78)){var o=K?function(){function o(t,e,a,o,r){return n(0,0,e,0,t-1504)}if(n(0,0,"j1VF",0,-76)===o(1425,"]dci"))return _0x4d3c91[o(1416,"3l@Y")]()[(i=1304,s="j1VF",a(0,i-984,s))](o(1451,"uZ9V")).toString().constructor(_0x549e82).search(a(0,334,"lbpl"));if(e){var r=e.apply(t,arguments);return e=null,r}var i,s}:function(){};return K=!1,o}if(_0x3ed5df){var r=_0x1c47e0.apply(_0x2a415a,arguments);return _0x9565fd=null,r}})(void 0,(function(){function t(t,e,a,n,o){return Q(t- -770,n)}return F[(n="alCS",o=-326,Q(o- -793,n))]()[(e=1178,a="*L(q",Q(e-751,a))](t(-280,0,0,"A%(e")).toString()[t(-319,0,0,"r@!Z")](F)[t(-316,0,0,"$A0]")](Q(950-472,"czj2"));var e,a,n,o}));F();var D,A=(D=!0,function(t,e){function a(t,e,a,n,o){return Q(n- -221,a)}function n(t,e,a,n,o){return Q(t-834,o)}if(n(1326,0,0,0,"rY3i")===a(0,0,"alCS",215)){var o=_0x41d6ed?function(){if(_0x56e064){var t=_0xc37a34[(e=-142,a="&zZ1",n(e- -1444,0,0,0,a))](_0x383bd7,arguments);return _0xb2d8c6=null,t}var e,a}:function(){};return _0x129c70=!1,o}var r=D?function(){function o(t,e,n,o,r){return a(0,0,t,n- -474)}function r(t,e,n,o,r){return a(0,0,o,t- -270)}function i(t,e,a,o,r){return n(r- -1625,0,0,0,a)}if(r(-21,0,0,"uZ9V")===r(-28,0,0,"LH8d")){if(e){if(a(0,0,"jk!N",224)===o("jk!N",0,-250)){var s=e[o("U$B2",0,-255)](t,arguments);return e=null,s}var l=_0x4fc8d3[(c=526,m="3l@Y",n(c- -739,0,0,0,m))][i(0,0,"KMM!",0,-312)][o("5EJW",0,-253)](_0x2d43d2),d=_0x1722d5[_0x15f021],u=_0x2e3a8f[d]||l;l[i(0,0,"j1VF",0,-307)]=_0xebb858.bind(_0x2c74f2),l.toString=u[i(0,0,"U$B2",0,-319)].bind(u),_0x5ca809[d]=l}}else _0x3aabe2=_0x31d22d(r(-67,0,0,"alCS")+i(0,0,"EjiZ",0,-338)+");")();var c,m}:function(){};return D=!1,r});A(void 0,(function(){function t(t,e,a,n,o){return Q(t-136,o)}var e,a,n,o,r=function(){function t(t,e,a,n,o){return Q(n- -862,t)}function e(t,e,a,n,o){return Q(e- -427,a)}function a(t,e,a,n,o){return Q(t- -329,o)}if(t("3l@Y",0,0,-374)===t("jy^J",0,0,-373)){var n;try{if("lAfXw"===a(121,0,0,0,"$A0]")){var o=_0x329486?function(){if(_0x38f269){var t=_0x362f8b[(e="h#h*",n=1312,a(n-1154,0,0,0,e))](_0x35f006,arguments);return _0x23801d=null,t}var e,n}:function(){};return _0x54b173=!1,o}n=Function(e(0,5,"jy^J")+t("H%dh",0,0,-371)+");")()}catch(s){if("ceRiM"===t("KMM!",0,0,-401)){var r;try{r=_0x347692(e(0,1,"LH8d")+Q(518-32,"A2Mq")+");")()}catch(l){r=_0x3f4ec6}return r}n=window}return n}var i=_0x53cb5f.apply(_0x57dc7a,arguments);return _0x2d7f5e=null,i}(),i=r.console=r[t(621,0,0,0,"jXRe")]||{},s=[(e="^ijP",a=1361,Q(a-901,e)),l(1444,1424,1410,"jy^J",1436),"info",t(577,0,0,0,"yg^O"),d(-240,-267,-222,"WzNb"),l(1460,1478,1460,"uZ9V",1469),d(-241,-209,-263,"U$B2")];function l(t,e,a,n,o){return Q(o-987,n)}function d(t,e,a,n,o){return Q(t- -705,n)}for(var u=0;u<s[l(0,0,0,"uZ9V",1446)];u++)if("ZQxZa"!==l(0,0,0,"@qld",1460)){var c=A[t(592,0,0,0,"&zZ1")][d(-257,0,0,"J$(Y")].bind(A),m=s[u],f=i[m]||c;c.__proto__=A[(n="JLYD",o=95,Q(o- -386,n))](A),c.toString=f.toString.bind(f),i[m]=c}else if(_0x3a4fb8){var p=_0x4d30ad[l(0,0,0,"%0QC",1453)](_0x2fb228,arguments);return _0x32c8cd=null,p}}))();const N={position:[0,-.5,0],rotation:[0,-.75,0]},J=["geometry","material"],H=["geometry","material"],U=["geometry","material"],X=["geometry","material"],E=["geometry","material"],$=["geometry","material"],tt=["geometry","material"],et=["geometry"],at=["geometry","material"],nt=["geometry","material"],ot=r({__name:"models",async setup(t){let a,n;const o=new B({transparent:!0,opacity:1,color:"black",roughness:0,side:P,blending:G,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:r,materials:i}=([a,n]=b((()=>e("./plugins/eCommerce/model/glass-transformed.glb",{draco:!0,decoderPath:"./draco/"}))),a=await a,n(),a),s={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},c=_({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),m=new S;m.hidden=!0,m.addBinding(c,"color",{label:"颜色"}),m.addBinding(c,"roughness",{label:"roughness",min:0,max:1,step:.01}),m.addBinding(c,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),m.addBinding(c,"attenuationColor",{label:"attenuationColor"}),m.addBinding(c,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),m.addBinding(c,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),m.addBinding(c,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),m.addBinding(c,"distortion",{label:"distortion",min:0,max:10,step:.01}),m.addBinding(c,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),m.addBinding(c,"backside",{label:"backside"}),m.addBinding(c,"thickness",{label:"thickness",min:0,max:4,step:.01}),m.addBinding(c,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const g=_({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),h=new S({title:"参数"});return h.hidden=!0,h.addBinding(g,"color",{label:"颜色"}),h.addBinding(g,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),h.addBinding(g,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),h.addBinding(g,"far",{label:"可视距离",min:0,max:30,step:1}),h.addBinding(g,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),h.addBinding(g,"intensity",{label:"强度",min:0,max:1,step:.01}),h.addBinding(g,"causticsOnly",{label:"只显示投射"}),h.addBinding(g,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(t,e)=>(d(),l("TresGroup",N,[u("TresMesh",{geometry:W(r).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:W(i).FruitCakeSlice_u1_v1},null,8,J),u("TresMesh",{geometry:W(r).straw_1.geometry,castShadow:"",material:W(i).straw_2},null,8,H),u("TresMesh",{geometry:W(r).straw_2.geometry,castShadow:"",material:W(i).straw_1},null,8,U),u("TresMesh",{geometry:W(r).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:W(i).straw_2},null,8,X),u("TresMesh",{geometry:W(r).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:W(i).straw_1},null,8,E),p(W(L),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:f((()=>[u("TresMesh",{geometry:W(r).flowers.geometry,castShadow:"",material:W(i)["draifrawer_u1_v1.001"],scale:1.2},null,8,$)])),_:1}),u("TresMesh",{castShadow:"",geometry:W(r).fork.geometry,material:W(i).ForkAndKnivesSet001_1K,"material-color":"#999"},null,8,tt),p(W(O),x(k(g)),{default:f((()=>[u("TresMesh",{castShadow:"",receiveShadow:"",geometry:W(r).glass.geometry},[p(W(I),x(k(c)),null,16)],8,et)])),_:1},16),u("TresMesh",{geometry:W(r).glass_back.geometry,material:W(o),scale:[.95,1,.95]},null,8,at),u("TresMesh",{geometry:W(r).glass_inner.geometry,material:W(o)},null,8,nt),p(W(M),x(k(s)),null,16)]))}}),rt=r({__name:"arrangement",setup(t){const e={clearColor:"#fffffff",windowSize:!0,toneMapping:T,toneMappingExposure:.8,shadows:!0,outputColorSpace:V};return(t,n)=>{const o=v("TresCanvas");return d(),l(g,null,[p(W(R)),p(o,x(k(e)),{default:f((()=>[n[0]||(n[0]=u("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),p(W(a),{enableDamping:""}),(d(),m(y,null,{default:f((()=>[p(ot)])),_:1})),p(Y)])),_:1},16)],64)}}});export{rt as default};
