import"./index.CJ5-9CVy1763540743861.js";import{K as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{z as o,aW as s,bZ as a,aR as t,g as r,ay as i,aV as n}from"./three.rXKzP9fQ1763540743861.js";import p from"./talkBox.B4YBVUGj1763540743861.js";import{_ as m}from"./models.vue_vue_type_script_setup_true_lang.C0agN5SC1763540743861.js";import{_ as l}from"./@fesjs.BEMFm_yJ1763540743861.js";import{_ as u}from"./randomLoading.vue_vue_type_script_setup_true_lang.DZaxDifW1763540743861.js";import{a as d,r as _,t as c,q as j,g as v,H as g,o as f,h as y,u as h,e as x,J as w,b,m as P,ad as k,F as L}from"./@vue.Co_gxueH1763540743861.js";import"./utils.DNqecIFo1763540743861.js";import"./_virtual-empty-module.CfyHAoLP1763540743861.js";import"./index.Crdf3MNx1763540743861.js";import"./chalk.BHLFMujs1763540743861.js";/* empty css                                 */import"./iconify-icon.1JyQPtAK1763540743861.js";import"./@iconify.DDuAktjw1763540743861.js";import"./pinia.CEQ6XgE61763540743861.js";import"./vite-plugin-qiankun.B06WoCqG1763540743861.js";import"./vue-router.BxG8XxK11763540743861.js";import"./dompurify.C4MEnGDh1763540743861.js";import"./oimophysics.CfVKSiAm1763540743861.js";import"./three-stdlib.DJsODJ8R1763540743861.js";import"./@pmndrs.C5SFDEDA1763540743861.js";import"./object-hash.DlZNhpf61763540743861.js";import"./@amap.D8CfaEsq1763540743861.js";import"./crypto-js.CLP5yTup1763540743861.js";import"./naive-ui.qjPOP62h1763540743861.js";import"./date-fns.eh-WGDI81763540743861.js";import"./@css-render.DtSd-BuN1763540743861.js";import"./css-render.Dlx27V_T1763540743861.js";import"./@emotion.DFFAhID71763540743861.js";import"./seemly.D2hUckm91763540743861.js";import"./vooks.CVMU_ROE1763540743861.js";import"./evtd.C4K_ichY1763540743861.js";import"./vueuc.CEvnhvIm1763540743861.js";import"./vdirs.DlTVi7SG1763540743861.js";import"./@juggle.Vc7cP4_P1763540743861.js";import"./lodash-es.B7GkVYRo1763540743861.js";import"./treemate.Qc8YxXqZ1763540743861.js";import"./date-fns-tz.CIz1xaH61763540743861.js";import"./async-validator.DJtlKCAR1763540743861.js";import"./tweakpane.CqZAnw7f1763540743861.js";import"./@vueuse.CfFJ-iFV1763540743861.js";import"./@qlin.y-0Z8WnK1763540743861.js";import"./@babel.BPq7uOAK1763540743861.js";import"./@floating-ui.Bhq4ibgf1763540743861.js";import"./postprocessing.51l5tmA-1763540743861.js";/* empty css                                                                            *//* empty css                                                                                *//* empty css                                                                                   *//* empty css                                                                                   *//* empty css                                                                                     *//* empty css                                                                                 */import"./three-mesh-ui.module.BVA20N0s1763540743861.js";/* empty css                                                                             */import"./global.BBGVMLjY1763540743861.js";import"./color.Cjj5e0ZL1763540743861.js";import"./color-string.DEJ_oqf-1763540743861.js";import"./color-name.gyPnsvCn1763540743861.js";import"./lodash.CybtBilg1763540743861.js";/* empty css                                                              */import"./axios.Bl1IyXmH1763540743861.js";import"./index.CvEmwp6J1763540743861.js";import"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.B63pK4sF1763540743861.js";import"./huruji.DlYb09qu1763540743861.js";import"./cssLoaders.DDe5ZzvO1763540743861.js";import"./bubbleLoading.DWYSzrtu1763540743861.js";import"./vnyoonLoading.CAYy6iTO1763540743861.js";import"./yangyangLoading.cHvVsM8o1763540743861.js";import"./starLoading.C7EodfsW1763540743861.js";const R={__name:"panePage",setup(l){const R=d(null);d(null);const S={clearColor:"#ffffff",windowSize:!0,toneMapping:s,toneMappingExposure:.8,shadows:!0,shadowMap:!0,outputColorSpace:o},z=_({enableDamping:!1,dampingFactor:.05,enableZoom:!0,autoRotate:!1,autoRotateSpeed:2,maxPolarAngle:Math.PI,minPolarAngle:0,maxAzimuthAngle:Math.PI,minAzimuthAngle:-Math.PI,enablePan:!1,keyPanSpeed:7,maxDistance:5,minDistance:0,minZoom:0,maxZoom:10,zoomSpeed:1,rotateSpeed:1,enableRotate:!0}),M=c(),C=c(),A=c(),F=d(!1),G=_({x:0,y:0}),I=d();let B;const D=e=>{F.value=!0,G.x=e.clientX,G.y=e.clientY},Z=e=>{F.value,0},T=()=>{F.value=!1};function q(e,o,s,a,t){const i=e.replace("https://assets.meshy.ai","/meshy");(new r).load(i,e=>{const r=e.scene;M.value.add(r),console.log("模型加载成功"),a.value=!1,t.value=!1,o.push({role:"assistant",content:"模型加载成功"}),s(o)},e=>{console.log(`加载进度: ${e.loaded/e.total*100}%`),o.push({role:"assistant",content:`模型加载进度: ${(e.loaded/e.total*100).toFixed(0)}%`}),s(o)},e=>{console.error("模型加载失败:",e)})}function E(){const e=M.value;for(let o=e.children.length-1;o>=0;o--){const s=e.children[o];s.isGroup&&(e.remove(s),s.traverse(e=>{e.isMesh&&(e.geometry&&e.geometry.dispose(),e.material&&(e.material.map&&e.material.map.dispose(),e.material.dispose()))}))}}return j(()=>{!function(){const e=new a(16777215,1);M.value.add(e);const o=new t(16777215,2);o.position.set(-2,5,2.3085219950308375).normalize(),o.castShadow=!0,o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024,o.shadow.camera.near=.5,o.shadow.camera.far=10,o.shadow.camera.top=5,o.shadow.camera.bottom=-5,o.shadow.camera.left=-5,o.shadow.camera.right=5,o.shadow.bias=-1e-4,M.value.add(o),new r,new i,I.value.context.scene.value,B=I.value.context.renderer.instance,B.shadowMap.enabled=!0,B.shadowMap.type=n}()}),(o,s)=>{const a=v("TresCanvas");return f(),g(L,null,[y(h(u)),y(a,P(S,{ref_key:"tcRef",ref:I,onPointerdown:D,onPointermove:Z,onPointerup:T}),{default:x(()=>[w("TresPerspectiveCamera",{ref_key:"cameraRef",ref:C,position:[0,.6,2.3085219950308375],fov:45,near:.1,far:1e3},null,512),y(h(e),P(z,{ref_key:"controlRef",ref:A,enableDamping:""}),null,16),w("TresGroup",{ref_key:"groupRef",ref:M,position:[0,0,0]},null,512),(f(),b(k,null,{default:x(()=>[y(m)]),_:1}))]),_:1},16),y(p,{ref_key:"talkBoxRef",ref:R,class:"talkBoxClass",onCallParentFunction:q,onClearParentFunction:E},null,512)],64)}}},S=l(R,[["__scopeId","data-v-033024fc"]]);export{S as default};
