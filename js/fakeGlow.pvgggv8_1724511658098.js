import{d as n,H as t}from"./@tresjs.6SjGVF2a1724511658098.js";import{k as o,ba as e,C as r,aN as i,Z as a,a6 as s}from"./three.6cxCQsIj1724511658098.js";import{P as l}from"./tweakpane.yHWGBmom1724511658098.js";import{d as c,r as u,a1 as f,e as p,o as d,f as g,g as v,j as m,u as h,J as w,al as y}from"./@vue.Q1VpS3901724511658098.js";import"./@vueuse.rsVLbIR91724511658098.js";!function(n,t){for(var o=x,e=_();;)try{if(329454===-parseInt(o(228))/1*(parseInt(o(234))/2)+parseInt(o(249))/3+-parseInt(o(264))/4*(parseInt(o(233))/5)+parseInt(o(250))/6+parseInt(o(258))/7+-parseInt(o(226))/8*(-parseInt(o(248))/9)+-parseInt(o(244))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var b=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(251)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){b(this,(function(){var n=x,t=new RegExp(n(218)),o=new RegExp(n(236),"i"),e=S(n(255));t.test(e+n(214))&&o[n(242)](e+n(240))?S():e("0")}))()}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(251)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();I(void 0,(function(){for(var n=x,t=function(){var n,t=x;try{n=Function(t(237)+t(220)+");")()}catch(o){n=window}return n}(),o=t[n(232)]=t[n(232)]||{},e=["log",n(223),n(216),n(261),n(241),"table",n(254)],r=0;r<e.length;r++){var i=I[n(259)][n(221)].bind(I),a=e[r],s=o[a]||i;i[n(253)]=I[n(239)](I),i[n(225)]=s[n(225)].bind(s),o[a]=i}}))();const j=class extends o{constructor(n={}){var t=x;super(),this[t(238)]="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this[t(257)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this.uniforms={opacity:new e(void 0!==n[t(224)]?n[t(224)]:1),glowInternalRadius:new e(void 0!==n[t(222)]?n[t(222)]:6),glowSharpness:new e(void 0!==n.glowSharpness?n[t(229)]:.5),falloff:new e(void 0!==n.falloff?n[t(247)]:.1),glowColor:new e(void 0!==n[t(231)]?new r(n[t(231)]):new r(t(215)))},this[t(263)](n),this[t(243)]=void 0!==n[t(243)]&&n[t(243)],this[t(235)]=void 0!==n.blendMode?n[t(256)]:i,this.transparent=!0,this[t(262)]=void 0!==n.side?n[t(262)]:a}};function x(n,t){var o=_();return(x=function(n,t){return o[n-=214]})(n,t)}function _(){var n=["side","setValues","686812Icaiqc","chain","#00d5ff","info","while (true) {}","function *\\( *\\)","debu",'{}.constructor("return this")( )',"prototype","glowInternalRadius","warn","opacity","toString","8jpjaQu","length","877PMIJfu","glowSharpness","call","glowColor","console","5isyxBj","1490lPNUDf","blending","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","vertexShader","bind","input","exception","test","depthTest","1210410ZtVYjB","counter","action","falloff","3970665NKBksh","185505VFlWYA","2632068icUGod","apply","gger","__proto__","trace","init","blendMode","fragmentShader","2337055HhbcFr","constructor","string","error"];return(_=function(){return n})()}function S(n){function t(n){var o=x;if(typeof n===o(260))return function(n){}[o(259)](o(217))[o(251)](o(245));1!==(""+n/n)[o(227)]||n%20==0?function(){return!0}.constructor(o(219)+o(252))[o(230)](o(246)):function(){return!1}.constructor(o(219)+o(252)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const k=P;function P(n,t){const o=G();return(P=function(n,t){return o[n-=451]})(n,t)}!function(n,t){const o=P,e=G();for(;;)try{if(114034===-parseInt(o(500))/1*(-parseInt(o(456))/2)+-parseInt(o(489))/3+-parseInt(o(452))/4+-parseInt(o(473))/5*(parseInt(o(494))/6)+-parseInt(o(482))/7+-parseInt(o(491))/8*(-parseInt(o(496))/9)+parseInt(o(516))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function G(){const n=["235701gvQPGV","side","input","BackSide","3kznuof","glowSharpness","addBinding","console","function *\\( *\\)","action","log","bind","blue","TresMeshPhysicalMaterial","neg-x.jpg","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/",'{}.constructor("return this")( )',"prototype","pos-y.jpg","debu","1589330dYbGso","primitive","pos-x.jpg","522260VBmFBm","DoubleSide","apply","TresTorusKnotGeometry","118648lxGYGn","while (true) {}","trace","return (function() ","constructor","value","warn","length","object","falloff","table","uniforms","glowColor","opacity","pos-z.jpg","glowInternalRadius","TorusKnotGeometry","10RNXtzc","TresDirectionalLight","#a058c1","toString","内半径","test","neg-z.jpg","TresAmbientLight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","630826nUybrW","TresCanvas","stateObject","call","Mesh","FrontSide","error","243993ZdWCkK","fakeGlow","56UqlTuu","TresPerspectiveCamera","__proto__","312540AKoxzj","gger"];return(G=function(){return n})()}!function(){z(this,(function(){const n=P,t=new RegExp(n(504)),o=new RegExp(n(481),"i"),e=D("init");t[n(478)](e+"chain")&&o[n(478)](e+n(498))?D():e("0")}))()}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[P(454)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();T(void 0,(function(){const n=P,t=function(){const n=P;let t;try{t=Function(n(459)+n(512)+");")()}catch(o){t=window}return t}(),o=t.console=t[n(503)]||{},e=[n(506),n(462),"info",n(488),"exception",n(466),n(458)];for(let r=0;r<e[n(463)];r++){const t=T[n(460)][n(513)].bind(T),i=e[r],a=o[i]||t;t[n(493)]=T.bind(T),t[n(476)]=a[n(476)][n(507)](a),o[i]=t}}))();const R=w(k(492),{position:[0,25,25],near:.1,fov:65},null,-1),C=w(k(480),{intensity:1.5},null,-1),M=w(k(474),{position:[100,100,60],intensity:20},null,-1),N=w("TresGridHelper",{args:[20,10]},null,-1),B={position:[0,6,0]},F=w("TresMesh",null,[w(k(455),{args:[4,.5,128,128]}),w(k(509),{color:k(508),roughness:.2,clearcoat:1})],-1),A=[k(464)],Z=c({__name:k(490),setup(o){const e=k,i=new l({title:"辉光参数",expanded:!0}),a=u({glowColor:e(475),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(487)],depthTest:!1}),c=new j,b=new(s[e(486)])(new(s[e(472)])(4,3.8,128,128),c);return i[e(502)](a,e(468),{label:"颜色"}),i[e(502)](a,e(465),{label:"衰减",min:0,max:10,step:.1}),i[e(502)](a,e(471),{label:e(477),min:-5,max:5,step:.1}),i[e(502)](a,e(501),{label:"清晰度",min:0,max:10,step:.1}),i.addBinding(a,"opacity",{label:"透明",min:0,max:1,step:.1}),i[e(502)](a,"side",{label:"材质面",options:{FrontSide:s[e(487)],BackSide:s[e(499)],DoubleSide:s[e(453)]}}),f((()=>{const n=e;c[n(467)][n(465)][n(461)]=a.falloff,c.uniforms[n(468)].value=new r(a[n(468)]),c[n(467)][n(471)][n(461)]=a.glowInternalRadius,c[n(467)][n(501)].value=a[n(501)],c[n(467)][n(469)][n(461)]=a.opacity,c[n(497)]=a[n(497)]})),(o,r)=>{const i=e,a=p(i(483));return d(),g(a,{"window-size":""},{default:v((()=>[R,C,M,m(h(n),{autoRotate:""}),N,w("TresGroup",B,[F,w(i(517),{object:h(b)},null,8,A)]),(d(),g(y,null,{default:v((()=>[m(h(t),{files:[i(451),i(510),i(514),"neg-y.jpg",i(470),i(479)],path:i(511)})])),_:1}))])),_:1})}}});function D(n){function t(n){const o=P;if("string"==typeof n)return function(n){}.constructor(o(457))[o(454)]("counter");1!==(""+n/n)[o(463)]||n%20==0?function(){return!0}.constructor("debugger")[o(485)](o(505)):function(){return!1}[o(460)](o(515)+o(495))[o(454)](o(484)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{Z as default};
