import{X as t,_ as e,cj as i,bI as r,V as n,k as o,as as s}from"./three.aWgA1gea1733214749102.js";const a=h;!function(t,e){const i=h,r=d();for(;;)try{if(652481===parseInt(i(730))/1+parseInt(i(422))/2*(parseInt(i(514))/3)+-parseInt(i(727))/4*(-parseInt(i(795))/5)+-parseInt(i(461))/6*(-parseInt(i(791))/7)+parseInt(i(497))/8+-parseInt(i(450))/9+parseInt(i(565))/10*(-parseInt(i(430))/11))break;r.push(r.shift())}catch(n){r.push(r.shift())}}();const c=function(){let t=!0;return function(e,i){const r=t?function(){if(i){const t=i[h(821)](e,arguments);return i=null,t}}:function(){};return t=!1,r}}();function h(t,e){const i=d();return(h=function(t,e){return i[t-=419]})(t,e)}!function(){c(this,(function(){const t=h,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(708),"i"),r=p("init");e[t(763)](r+"chain")&&i[t(763)](r+"input")?p():r("0")}))()}();const l=function(){let t=!0;return function(e,i){const r=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,r}}();l(void 0,(function(){const t=h;let e;try{e=Function(t(704)+'{}.constructor("return this")( ));')()}catch(n){e=window}const i=e[t(421)]=e[t(421)]||{},r=["log","warn",t(442),t(501),t(486),t(851),t(692)];for(let o=0;o<r[t(460)];o++){const e=l[t(563)][t(804)].bind(l),n=r[o],s=i[n]||e;e[t(666)]=l[t(585)](l),e.toString=s[t(870)].bind(s),i[n]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===a(614)&&define.amd?define("spe",u):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module[a(663)]=u),u.TypedArrayHelper=function(t,e,i,r){const n=a;this[n(866)]=i||1,this[n(798)]=e||1,this[n(552)]=t||Float32Array,this[n(813)]=new t(e*this.componentSize),this[n(682)]=r||0},u.TypedArrayHelper[a(563)]=u[a(544)],u[a(544)][a(804)][a(852)]=function(t,e){const i=a,r=this[i(813)][i(460)];return!e&&(t*=this[i(866)]),t<r?this[i(667)](t):t>r?this[i(736)](t):void console[i(442)](i(426),t+".","Will not resize.")},u.TypedArrayHelper[a(804)][a(667)]=function(t){const e=a;return this[e(813)]=this.array.subarray(0,t),this[e(798)]=t,this},u.TypedArrayHelper[a(804)].grow=function(t){const e=a,i=this[e(813)],r=new this.TypedArrayConstructor(t);return r[e(731)](i),this.array=r,this[e(798)]=t,this},u[a(544)].prototype[a(494)]=function(t,e){const i=a;t*=this[i(866)],e*=this[i(866)];const r=[],n=this[i(813)],o=n[i(460)];for(let s=0;s<o;++s)(s<t||s>=e)&&r[i(533)](n[s]);return this[i(545)](0,r),this},u[a(544)][a(804)][a(545)]=function(t,e){const i=a,r=t+e[i(460)];return r>this[i(813)][i(460)]?this.grow(r):r<this.array[i(460)]&&this[i(667)](r),this[i(813)][i(731)](e,this[i(682)]+t),this},u[a(544)][a(804)][a(662)]=function(t,e){return this[a(531)](t,e.x,e.y)},u.TypedArrayHelper[a(804)][a(531)]=function(t,e,i){const r=a,n=this[r(813)],o=this[r(682)]+t*this[r(866)];return n[o]=e,n[o+1]=i,this},u.TypedArrayHelper.prototype[a(678)]=function(t,e){return this[a(492)](t,e.x,e.y,e.z)},u[a(544)][a(804)].setVec3Components=function(t,e,i,r){const n=a,o=this.array,s=this[n(682)]+t*this[n(866)];return o[s]=e,o[s+1]=i,o[s+2]=r,this},u[a(544)][a(804)][a(489)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},u[a(544)][a(804)][a(435)]=function(t,e,i,r,n){const o=a,s=this[o(813)],c=this[o(682)]+t*this[o(866)];return s[c]=e,s[c+1]=i,s[c+2]=r,s[c+3]=n,this},u[a(544)][a(804)].setMat3=function(t,e){const i=a;return this[i(545)](this[i(682)]+t*this[i(866)],e.elements)},u[a(544)][a(804)][a(623)]=function(t,e){const i=a;return this[i(545)](this[i(682)]+t*this[i(866)],e[i(689)])},u[a(544)].prototype[a(504)]=function(t,e){return this[a(492)](t,e.r,e.g,e.b)},u[a(544)].prototype[a(580)]=function(t,e){const i=a;return this.array[this[i(682)]+t*this.componentSize]=e,this},u[a(544)][a(804)][a(434)]=function(t){const e=a;return this[e(813)][this[e(682)]+t]},u.TypedArrayHelper[a(804)][a(588)]=function(t){const e=a;return this[e(813)][e(571)](this[e(682)]+t*this[e(866)])},u[a(686)]=function(t,e,i){const r=a,n=u[r(686)][r(790)];this[r(661)]=typeof t===r(838)&&n[r(537)](t)?t:"f",this[r(866)]=n[this.type],this[r(740)]=i||Float32Array,this.typedArray=null,this.bufferAttribute=null,this[r(826)]=!!e,this[r(443)]=0,this.updateMax=0},u.ShaderAttribute[a(563)]=u[a(686)],u[a(686)][a(790)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u[a(686)][a(804)].setUpdateRange=function(t,e){const i=a;this[i(443)]=Math.min(t*this[i(866)],this[i(443)]*this[i(866)]),this.updateMax=Math.max(e*this[i(866)],this.updateMax*this.componentSize)},u.ShaderAttribute.prototype.flagUpdate=function(){const t=a,e=this[t(690)];!e[t(530)]&&(e[t(530)]={});const i=e[t(530)];i.offset=this.updateMin,i[t(648)]=Math[t(427)](this[t(535)]-this[t(443)]+this[t(866)],this[t(698)].array[t(460)]),e[t(527)]=!0},u[a(686)].prototype[a(723)]=function(){this[a(443)]=0,this.updateMax=0},u.ShaderAttribute.prototype.resetDynamic=function(){const i=a;this[i(690)][i(429)]=this.dynamicBuffer?t:e[i(777)]},u[a(686)][a(804)][a(494)]=function(t,e){const i=a;this[i(698)][i(494)](t,e),this[i(581)]()},u[a(686)][a(804)][a(581)]=function(){const t=a;this[t(690)][t(813)]=this[t(698)][t(813)],this[t(690)][t(530)][t(456)]=0,this.bufferAttribute[t(530)][t(648)]=-1,this[t(690)][t(429)]=i,this[t(690)][t(527)]=!0},u[a(686)][a(804)][a(575)]=function(t){const e=a;null!==this.typedArray&&this[e(698)][e(798)]===t*this[e(866)]||(null!==this[e(698)]&&this.typedArray[e(798)]!==t?this[e(698)][e(852)](t):null===this.typedArray&&(this[e(698)]=new u.TypedArrayHelper(this[e(740)],t,this[e(866)])))},u[a(686)][a(804)]._createBufferAttribute=function(i){const r=a;if(this[r(575)](i),null!==this[r(690)])return this[r(690)][r(813)]=this[r(698)].array,parseFloat(e[r(472)])>=81&&(this.bufferAttribute.count=this[r(690)][r(813)].length/this.bufferAttribute[r(659)]),void(this.bufferAttribute[r(527)]=!0);this[r(690)]=new(e[r(432)])(this.typedArray[r(813)],this[r(866)]),this.bufferAttribute[r(429)]=this[r(826)]?t:e[r(777)]},u.ShaderAttribute[a(804)][a(657)]=function(){const t=a;return null===this[t(698)]?0:this[t(698)][t(813)].length},u[a(634)]={defines:[a(550),a(561)][a(610)]("\n"),uniforms:["uniform float deltaTime;",a(762),"uniform sampler2D tex;",a(568),a(511)][a(610)]("\n"),attributes:[a(457),a(860),a(728),a(553),a(606),a(524),a(680),a(696),a(586)][a(610)]("\n"),varyings:[a(768),a(576),a(750),"#endif",a(485),a(541),a(850)][a(610)]("\n"),branchAvoidanceFunctions:[a(506),a(428),"}",a(712),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {",a(431),"}",a(488),a(793),"}",a(453),a(640),"}","float and(float a, float b) {","    return a * b;","}",a(655),"    return min(a + b, 1.0);","}"][a(610)]("\n"),unpackColor:[a(444),a(725),a(766),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );",a(672),"   c.g = g / PACKED_COLOR_DIVISOR;",a(764),a(875),"}"][a(610)]("\n"),unpackRotationAxis:[a(646),"   vec3 c = vec3( 0.0 );",a(766),a(496),a(600),"   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;",a(775),a(597),"   return c;","}"][a(610)]("\n"),floatOverLifetime:[a(466),a(721),a(423),a(483),a(641),a(702),"","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {",a(518),a(578),a(438),a(874),"",a(592),"}"][a(610)]("\n"),colorOverLifetime:[a(626),a(837),a(834),a(436),"    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    return value;","}"][a(610)]("\n"),paramFetchingFunctions:[a(739),"   return params.x;","}",a(495),"   return params.y;","}","float getMaxAge() {",a(654),"}",a(469),a(455),"}"][a(610)]("\n"),forceFetchingFunctions:[a(425),"   return modelViewMatrix * vec4( position, 1.0 );","}",a(566),"   return velocity * age;","}",a(603),a(557),"}"][a(610)]("\n"),rotationFunctions:[a(484),a(480),a(612),a(539),a(831),a(872),"",a(439),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",a(493),"                   0.0,                                0.0,                                0.0,                                1.0);","   }","","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","      if( rotation.y == 0.0 ) {","           return pos;",a(627),"",a(734),"      vec3 center = rotationCenter;",a(601),"      mat4 rotationMatrix;",a(476),a(824),a(543),a(726),a(677),a(602),a(584),a(850)].join("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","",a(615),a(847),a(710),a(502),a(848),"       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );",a(579),"",a(464),"        float framesX = vSpriteSheet.x;","        float framesY = vSpriteSheet.y;","        float columnNorm = vSpriteSheet.z;","        float rowNorm = vSpriteSheet.w;",a(823),a(792),"    #endif","",a(660)][a(610)]("\n")},u[a(644)]={vertex:[u[a(634)][a(636)],u[a(634)][a(446)],u[a(634)][a(755)],u[a(634)][a(773)],e[a(720)].common,r[a(616)],e[a(720)][a(452)],u[a(634)][a(839)],u[a(634)].unpackColor,u[a(634)][a(808)],u.shaderChunks[a(628)],u.shaderChunks[a(856)],u[a(634)][a(609)],u[a(634)][a(741)],u[a(634)][a(534)],"void main() {",a(508),"    highp float alive = getAlive();",a(778),a(809),a(827),"    #ifdef SHOULD_WIGGLE_PARTICLES",a(605),a(624),a(693),a(579),"    vec3 vel = getVelocity( age );",a(573),a(596),"    vec3 pos = vec3( position );",a(670),a(713),a(868),"    force += accel * age;",a(441),a(424),a(772),a(765),a(633),a(579),a(611),a(700),a(579),a(458),"    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    #ifdef HAS_PERSPECTIVE",a(473),a(650),a(607),a(579),a(819),a(844),"       vec3 c = isAlive * getColorOverLifetime(",a(825),a(613),"           unpackColor( color.y ),",a(554),a(859),a(647),a(650),"       vec3 c = vec3(1.0);",a(579),"    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","    vColor = vec4( c, o );",a(615),a(818),a(579),"    #ifdef SHOULD_CALCULATE_SPRITE",a(454),a(635),"        float loopCount = textureAnimation.w;","        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;",a(786),a(769),a(513),a(562),a(857),a(579),a(620),a(463),r.logdepthbuf_vertex,e[a(720)].fog_vertex,"}"][a(610)]("\n"),fragment:[u[a(634)][a(446)],r[a(799)],e[a(720)].fog_pars_fragment,e[a(720)].logdepthbuf_pars_fragment,u[a(634)][a(773)],u[a(634)][a(839)],a(529),a(820),"    ",a(642),"       if ( vColor.w < float(ALPHATEST) ) discard;",a(579),u[a(634)].rotateTexture,e[a(720)][a(507)],"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",a(622),e[a(720)][a(440)],"}"][a(610)]("\n")},u[a(785)]={types:{BOOLEAN:a(756),STRING:a(838),NUMBER:a(716),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const r=a;if(Array.isArray(t)){for(let n=t[r(460)]-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const r=a;if(Array[r(447)](t)){for(let n=t[r(460)]-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[r(510)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const r=a;e=e||3,i=i||3,!1===Array[r(447)](t[r(523)])&&(t[r(523)]=[t[r(523)]]),!1===Array[r(447)](t[r(468)])&&(t[r(468)]=[t[r(468)]]);const n=this[r(858)](t._value.length,e,i),o=this[r(858)](t[r(468)][r(460)],e,i),s=Math[r(849)](n,o);t[r(523)].length!==s&&(t[r(523)]=this[r(630)](t[r(523)],s)),t[r(468)].length!==s&&(t[r(468)]=this.interpolateArray(t._spread,s))},interpolateArray(t,e){const i=a,r=t[i(460)],n=[typeof t[0].clone===i(614)?t[0][i(547)]():t[0]],o=(r-1)/(e-1);for(let s=1;s<e-1;++s){const e=s*o,r=Math.floor(e),a=Math[i(783)](e),c=e-r;n[s]=this[i(556)](t[r],t[a],c)}return n[i(533)](typeof t[r-1][i(547)]===i(614)?t[r-1][i(547)]():t[r-1]),n},clamp(t,e,i){const r=a;return Math[r(849)](e,Math[r(427)](t,i))},zeroToEpsilon(t,e){let i=1e-5,r=t;return r=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(r=-r),r},lerpTypeAgnostic(t,i,r){const n=a;let o,s=this[n(619)];return typeof t===s[n(474)]&&typeof i===s[n(474)]?t+(i-t)*r:t instanceof e[n(722)]&&i instanceof e[n(722)]?(o=t[n(547)](),o.x=this.lerp(t.x,i.x,r),o.y=this.lerp(t.y,i.y,r),o):t instanceof e[n(816)]&&i instanceof e[n(816)]?(o=t[n(547)](),o.x=this[n(555)](t.x,i.x,r),o.y=this.lerp(t.y,i.y,r),o.z=this.lerp(t.z,i.z,r),o):t instanceof e[n(487)]&&i instanceof e[n(487)]?(o=t[n(547)](),o.x=this[n(555)](t.x,i.x,r),o.y=this.lerp(t.y,i.y,r),o.z=this.lerp(t.z,i.z,r),o.w=this.lerp(t.w,i.w,r),o):t instanceof e[n(656)]&&i instanceof e[n(656)]?(o=t.clone(),o.r=this[n(555)](t.r,i.r,r),o.g=this[n(555)](t.g,i.g,r),o.b=this[n(555)](t.b,i.b,r),o):void console.warn(n(833),t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=a;let r=0;return 0===e?t:(r=Math[i(551)](t)%e,0===r?t:t<0?-(Math[i(551)](t)-r):t+e-r)},arrayValuesAreEqual(t){const e=a;for(let i=0;i<t[e(460)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[a(673)]()-.5),randomVector3(t,e,i,r,n){const o=a;let s=i.x+(Math[o(673)]()*r.x-.5*r.x),c=i.y+(Math.random()*r.y-.5*r.y),h=i.z+(Math[o(673)]()*r.z-.5*r.z);n&&(s=.5*-n.x+this[o(871)](s,n.x),c=.5*-n.y+this[o(871)](c,n.y),h=.5*-n.z+this.roundToNearestMultiple(h,n.z)),t.typedArray[o(492)](e,s,c,h)},randomColor(t,e,i,r){const n=a;let o=i.r+Math.random()*r.x,s=i.g+Math[n(673)]()*r.y,c=i.b+Math.random()*r.z;o=this.clamp(o,0,1),s=this[n(858)](s,0,1),c=this[n(858)](c,0,1),t[n(698)].setVec3Components(e,o,s,c)},randomColorAsHex:function(){const t=a,i=new(e[t(656)]);return function(e,r,n,o){const s=t,a=n[s(460)],c=[];for(let t=0;t<a;++t){const e=o[t];i[s(737)](n[t]),i.r+=Math[s(673)]()*e.x-.5*e.x,i.g+=Math[s(673)]()*e.y-.5*e.y,i.b+=Math[s(673)]()*e.z-.5*e.z,i.r=this[s(858)](i.r,0,1),i.g=this[s(858)](i.g,0,1),i.b=this[s(858)](i.b,0,1),c[s(533)](i.getHex())}e[s(698)].setVec4Components(r,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,r){const n=a,o=i[n(547)]();o[n(555)](r,Math[n(673)]()),t[n(698)].setVec3Components(e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,r,n,o,s,c){const h=a;let l=2*Math[h(673)]()-1,u=6.2832*Math[h(673)](),f=Math[h(862)](1-l*l),p=this.randomFloat(r,n),d=0,m=0,g=0;s&&(p=Math[h(829)](p/s)*s),d=f*Math[h(714)](u)*p,m=f*Math.sin(u)*p,g=l*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[h(698)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[a(864)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,r,n,o,s){const c=a;let h=6.2832*Math[c(673)](),l=Math[c(551)](this[c(774)](r,n)),u=0,f=0,p=0;s&&(l=Math[c(829)](l/s)*s),u=Math.cos(h)*l,f=Math.sin(h)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t.typedArray[c(492)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const t=a,i=new(e[t(816)]);return function(e,r,n,o,s,a,c,h){const l=t;i[l(737)](a),i.x-=n,i.y-=o,i.z-=s,i[l(617)]()[l(448)](-this.randomFloat(c,h)),e.typedArray.setVec3Components(r,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new n;return function(e,i,r,n,o,s,a,c){const l=h;t[l(737)](s),t.x-=r,t.y-=n,t.z-=o,t.normalize()[l(448)](-this[l(774)](a,c)),e.typedArray.setVec3Components(i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const t=a,i=new n,r=new(e[t(816)]),o=new(e[t(656)]),s=new n(1,1,1);return function(e,n){const a=t;return i.copy(e).normalize(),r[a(737)](n)[a(617)](),i.x+=.5*-n.x+Math[a(673)]()*n.x,i.y+=.5*-n.y+Math[a(673)]()*n.y,i.z+=.5*-n.z+Math[a(673)]()*n.z,i.normalize()[a(491)](s)[a(448)](.5),o[a(779)](i.x,i.y,i.z),o[a(709)]()}}()},u.Group=function(t){const i=a,r=u.utils,n=r[i(619)];(t=r.ensureTypedArg(t,n[i(625)],{}))[i(789)]=r[i(840)](t[i(789)],n[i(625)],{}),this.uuid=e[i(536)].generateUUID(),this[i(853)]=r[i(840)](t.fixedTimeStep,n[i(474)],.016),this[i(789)]=r[i(510)](t.texture[i(574)],e[i(540)],null),this[i(683)]=r[i(510)](t[i(789)][i(471)],o,new(e[i(722)])(1,1)),this[i(490)]=r[i(840)](t[i(789)].frameCount,n[i(474)],this[i(683)].x*this[i(683)].y),this[i(499)]=r[i(840)](t[i(789)][i(599)],n[i(474)],1),this[i(683)][i(849)](new(e[i(722)])(1,1)),this[i(719)]=r[i(840)](t[i(719)],n.BOOLEAN,!0),this[i(699)]=r[i(840)](t[i(699)],n[i(846)],!0),this[i(470)]=r[i(840)](t[i(470)],n.NUMBER,null),this.blending=r[i(840)](t.blending,n.NUMBER,e[i(812)]),this[i(546)]=r[i(840)](t[i(546)],n.BOOLEAN,!0),this[i(867)]=parseFloat(r[i(840)](t[i(867)],n.NUMBER,0)),this[i(465)]=r[i(840)](t.depthWrite,n[i(846)],!1),this[i(498)]=r[i(840)](t[i(498)],n.BOOLEAN,!0),this.fog=r.ensureTypedArg(t.fog,n[i(846)],!0),this[i(618)]=r[i(840)](t[i(618)],n[i(474)],300),this.emitters=[],this[i(653)]=[],this[i(835)]=[],this[i(451)]=null,this[i(715)]=0,this._attributesNeedRefresh=!1,this[i(776)]=!1,this[i(649)]=0,this[i(446)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new s(this[i(683)].x,this.textureFrames.y,this.textureFrameCount,Math.max(Math[i(551)](this[i(499)]),1))},fogColor:{type:"c",value:this[i(482)]?new(e[i(656)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(618)]}},this[i(636)]={HAS_PERSPECTIVE:this[i(719)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:u[i(526)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(683)].x>1||this[i(683)].y>1},this[i(755)]={position:new(u[i(686)])("v3",!0),acceleration:new(u[i(686)])("v4",!0),velocity:new u.ShaderAttribute("v3",!0),rotation:new(u[i(686)])("v4",!0),rotationCenter:new(u[i(686)])("v3",!0),params:new u.ShaderAttribute("v4",!0),size:new u.ShaderAttribute("v4",!0),angle:new(u[i(686)])("v4",!0),color:new(u[i(686)])("v4",!0),opacity:new u.ShaderAttribute("v4",!0)},this[i(505)]=Object[i(832)](this.attributes),this.attributeCount=this.attributeKeys[i(460)],this[i(645)]=new(e[i(445)])({uniforms:this[i(446)],vertexShader:u.shaders.vertex,fragmentShader:u[i(644)][i(706)],blending:this[i(583)],transparent:this[i(546)],alphaTest:this.alphaTest,depthWrite:this[i(465)],depthTest:this.depthTest,defines:this[i(636)],fog:this[i(482)]}),this[i(679)]=new(e[i(705)]),this[i(681)]=new(e[i(767)])(this[i(679)],this[i(645)]),null===this[i(470)]&&console[i(802)](i(724))},u[a(671)][a(563)]=u[a(671)],u.Group[a(804)][a(475)]=function(){const t=a;let e,i=this[t(744)],r=i.length-1,n=this.defines;for(;r>=0;--r)e=i[r],!n.SHOULD_CALCULATE_SPRITE&&(n[t(738)]=n[t(738)]||!!Math.max(Math.max[t(821)](null,e[t(629)].value),Math[t(849)].apply(null,e[t(629)][t(522)]))),n[t(569)]=n[t(569)]||!!Math[t(849)](e[t(577)][t(629)],e.rotation[t(703)]),n.SHOULD_WIGGLE_PARTICLES=n[t(560)]||!!Math[t(849)](e.wiggle[t(574)],e[t(658)][t(522)]);this[t(645)][t(527)]=!0},u[a(671)].prototype[a(752)]=function(){const t=a;let e,i,r=this[t(755)],n=this[t(679)],o=n[t(755)];for(const s in r)r.hasOwnProperty(s)&&(e=r[s],i=o[s],i?i.array=e.typedArray[t(813)]:n[t(595)](s,e[t(690)]),e[t(690)][t(527)]=!0);this[t(679)][t(711)](0,this[t(649)])},u.Group.prototype.addEmitter=function(t){const e=a;if(t instanceof u[e(817)]==!1)return void console[e(501)](e(811),t);if(this.emitterIDs[e(749)](t[e(787)])>-1)return void console.error(e(707));if(null!==t.group)return void console.error(e(843));const i=this.attributes,r=this[e(649)],n=r+t[e(649)];this.particleCount=n,null!==this[e(470)]&&this[e(649)]>this[e(470)]&&console[e(802)]("SPE.Group: maxParticleCount exceeded. Requesting",this[e(649)],"particles, can support only",this.maxParticleCount),t._calculatePPSValue(t[e(516)]._value+t.maxAge._spread),t[e(836)](this[e(505)]),t[e(782)](r),t[e(729)]=this,t[e(755)]=this.attributes;for(const o in i)i[e(537)](o)&&i[o][e(637)](null!==this[e(470)]?this[e(470)]:this.particleCount);for(let o=r;o<n;++o)t[e(521)](o),t[e(733)](o,e(437)),t[e(733)](o,e(780)),t[e(841)](o,e(815)),t[e(841)](o,e(798)),t[e(801)](o),t[e(517)](o),t[e(631)](o),t[e(639)](o);return this._applyAttributesToGeometry(),this[e(744)][e(533)](t),this.emitterIDs[e(533)](t[e(787)]),this._updateDefines(t),this[e(645)].needsUpdate=!0,this[e(679)][e(527)]=!0,this[e(459)]=!0,this},u[a(671)].prototype[a(803)]=function(t){const e=a,i=this[e(653)].indexOf(t[e(787)]);if(t instanceof u.Emitter==!1)return void console[e(501)](e(811),t);if(-1===i)return void console.error(e(732));const r=t[e(701)],n=r+t[e(649)],o=this.attributes.params[e(698)];for(let s=r;s<n;++s)o.array[4*s]=0,o[e(813)][4*s+1]=0;this[e(744)].splice(i,1),this[e(653)][e(494)](i,1);for(const s in this[e(755)])this[e(755)].hasOwnProperty(s)&&this[e(755)][s][e(494)](r,n);this[e(649)]-=t[e(649)],t[e(761)](),this[e(459)]=!0},u.Group[a(804)][a(591)]=function(){const t=a,e=this._pool,i=this[t(715)];if(e[t(460)])return e[t(665)]();if(i){const e=new u.Emitter(this[t(451)]);return this[t(745)](e),e}return null},u[a(671)][a(804)][a(589)]=function(t){const e=a;if(t instanceof u.Emitter!=!1)return t[e(822)](),this[e(835)][e(462)](t),this;console[e(501)](e(593),t)},u[a(671)][a(804)].getPool=function(){return this[a(835)]},u[a(671)][a(804)][a(532)]=function(t,e,i){const r=a;let n;this[r(451)]=e,this._createNewWhenPoolEmpty=!!i;for(let o=0;o<t;++o)n=Array.isArray(e)?new(u[r(817)])(e[o]):new u.Emitter(e),this.addEmitter(n),this.releaseIntoPool(n);return this},u[a(671)].prototype[a(598)]=function(t){const i=a,r=this[i(591)](),n=this;if(null!==r)return t instanceof e[i(816)]&&(r.position[i(574)].copy(t),r[i(669)][i(574)]=r[i(669)][i(574)]),r[i(570)](),setTimeout((()=>{r.disable(),n.releaseIntoPool(r)}),1e3*Math[i(849)](r.duration,r.maxAge[i(574)]+r[i(516)][i(522)])),this;console[i(621)]("SPE.Group pool ran out.")},u.Group[a(804)][a(582)]=function(t,e){const i=a;if("number"==typeof t&&t>1)for(let r=0;r<t;++r)this._triggerSingleEmitter(e);else this[i(598)](e);return this},u[a(671)].prototype[a(478)]=function(t){const e=a;this.uniforms[e(567)].value+=t,this.uniforms[e(695)][e(574)]=t},u[a(671)][a(804)]._resetBufferRanges=function(){const t=a;let e=this.attributeKeys,i=this[t(717)]-1,r=this.attributes;for(;i>=0;--i)r[e[i]].resetUpdateRange()},u[a(671)].prototype._updateBuffers=function(t){const e=a;let i,r,n,o=this[e(505)],s=this[e(717)]-1,c=this[e(755)],h=t[e(651)];for(;s>=0;--s)i=o[s],r=h[i],n=c[i],n[e(564)](r[e(427)],r[e(849)]),n.flagUpdate()},u.Group.prototype.tick=function(t){const e=a;var i=this.emitters,r=i[e(460)],n=t||this[e(853)],o=this[e(505)],s=this[e(755)];if(this[e(478)](n),this._resetBufferRanges(),0!==r||!1!==this[e(459)]||!1!==this[e(776)]){for(var c,h=0;h<r;++h)(c=i[h])[e(735)](n),this[e(587)](c);if(!0===this[e(776)]){for(h=this[e(717)]-1;h>=0;--h)s[o[h]][e(638)]();this[e(776)]=!1}if(!0===this[e(459)]){for(h=this[e(717)]-1;h>=0;--h)s[o[h]][e(581)]();this._attributesNeedRefresh=!1,this[e(776)]=!0}}},u[a(671)].prototype[a(865)]=function(){const t=a;return this[t(679)][t(865)](),this[t(645)][t(865)](),this},u[a(817)]=function(t){const i=a,r=u[i(785)],o=r[i(619)],s=u[i(526)];(t=r[i(840)](t,o[i(625)],{})).position=r.ensureTypedArg(t.position,o[i(625)],{}),t[i(437)]=r[i(840)](t[i(437)],o[i(625)],{}),t[i(780)]=r[i(840)](t[i(780)],o.OBJECT,{}),t.radius=r.ensureTypedArg(t[i(652)],o[i(625)],{}),t[i(770)]=r.ensureTypedArg(t[i(770)],o[i(625)],{}),t.rotation=r[i(840)](t[i(577)],o[i(625)],{}),t[i(697)]=r.ensureTypedArg(t.color,o.OBJECT,{}),t[i(815)]=r[i(840)](t[i(815)],o[i(625)],{}),t.size=r[i(840)](t.size,o[i(625)],{}),t[i(629)]=r[i(840)](t[i(629)],o[i(625)],{}),t[i(658)]=r.ensureTypedArg(t[i(658)],o[i(625)],{}),t.maxAge=r[i(840)](t[i(516)],o[i(625)],{}),t[i(746)]&&console[i(802)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this[i(787)]=e[i(536)][i(845)](),this.type=r.ensureTypedArg(t[i(661)],o[i(474)],u[i(477)][i(572)]),this[i(669)]={_value:r[i(510)](t[i(669)][i(574)],e[i(816)],new n),_spread:r.ensureInstanceOf(t[i(669)][i(522)],e[i(816)],new(e[i(816)])),_spreadClamp:r[i(510)](t[i(669)][i(674)],e[i(816)],new(e[i(816)])),_distribution:r[i(840)](t.position[i(753)],o.NUMBER,this.type),_randomise:r[i(840)](t.position.randomise,o[i(846)],!1),_radius:r[i(840)](t.position.radius,o[i(474)],10),_radiusScale:r[i(510)](t.position[i(664)],e[i(816)],new(e[i(816)])(1,1,1)),_distributionClamp:r.ensureTypedArg(t[i(669)].distributionClamp,o.NUMBER,0)},this[i(437)]={_value:r[i(510)](t[i(437)].value,n,new(e[i(816)])),_spread:r[i(510)](t[i(437)].spread,e[i(816)],new(e[i(816)])),_distribution:r[i(840)](t[i(437)][i(753)],o[i(474)],this.type),_randomise:r[i(840)](t[i(669)].randomise,o[i(846)],!1)},this[i(780)]={_value:r[i(510)](t[i(780)][i(574)],e[i(816)],new n),_spread:r[i(510)](t[i(780)][i(522)],e[i(816)],new(e[i(816)])),_distribution:r[i(840)](t[i(780)][i(753)],o.NUMBER,this[i(661)]),_randomise:r[i(840)](t[i(669)][i(754)],o[i(846)],!1)},this[i(770)]={_value:r.ensureTypedArg(t.drag.value,o.NUMBER,0),_spread:r[i(840)](t.drag.spread,o[i(474)],0),_randomise:r[i(840)](t[i(669)].randomise,o.BOOLEAN,!1)},this[i(658)]={_value:r[i(840)](t[i(658)].value,o[i(474)],0),_spread:r.ensureTypedArg(t[i(658)][i(522)],o[i(474)],0)},this[i(577)]={_axis:r[i(510)](t[i(577)][i(559)],e[i(816)],new(e[i(816)])(0,1,0)),_axisSpread:r[i(510)](t[i(577)].axisSpread,e[i(816)],new(e[i(816)])),_angle:r[i(840)](t[i(577)][i(629)],o[i(474)],0),_angleSpread:r[i(840)](t[i(577)][i(703)],o[i(474)],0),_static:r[i(840)](t[i(577)].static,o[i(846)],!1),_center:r[i(510)](t[i(577)][i(784)],e[i(816)],this[i(669)][i(523)][i(547)]()),_randomise:r[i(840)](t[i(669)].randomise,o[i(846)],!1)},this.maxAge={_value:r.ensureTypedArg(t[i(516)][i(574)],o[i(474)],2),_spread:r[i(840)](t[i(516)].spread,o[i(474)],0)},this[i(697)]={_value:r.ensureArrayInstanceOf(t.color[i(574)],e[i(656)],new(e[i(656)])),_spread:r[i(608)](t[i(697)][i(522)],e[i(816)],new(e[i(816)])),_randomise:r[i(840)](t[i(669)][i(754)],o[i(846)],!1)},this[i(815)]={_value:r.ensureArrayTypedArg(t.opacity[i(574)],o[i(474)],1),_spread:r[i(800)](t.opacity[i(522)],o.NUMBER,0),_randomise:r[i(840)](t.position[i(754)],o[i(846)],!1)},this[i(798)]={_value:r.ensureArrayTypedArg(t.size.value,o[i(474)],1),_spread:r[i(800)](t.size[i(522)],o[i(474)],0),_randomise:r[i(840)](t[i(669)][i(754)],o[i(846)],!1)},this.angle={_value:r[i(800)](t[i(629)][i(574)],o[i(474)],0),_spread:r.ensureArrayTypedArg(t[i(629)].spread,o.NUMBER,0),_randomise:r[i(840)](t[i(669)][i(754)],o[i(846)],!1)},this[i(649)]=r[i(840)](t[i(649)],o[i(474)],100),this[i(743)]=r[i(840)](t[i(743)],o[i(474)],null),this[i(685)]=r[i(840)](t[i(685)],o[i(846)],!1),this.activeMultiplier=r[i(840)](t[i(842)],o[i(474)],1),this[i(528)]=r[i(840)](t[i(528)],o.NUMBER,1),this[i(590)]=r[i(840)](t.alive,o[i(846)],!0),this[i(869)]=0,this.activationIndex=0,this[i(701)]=0,this[i(687)]=0,this[i(748)]=0,this[i(694)]=0,this[i(729)]=null,this[i(755)]=null,this[i(797)]=null,this[i(807)]={position:r[i(840)](t[i(669)].randomise,o[i(846)],!1)||r[i(840)](t[i(652)][i(754)],o[i(846)],!1),velocity:r[i(840)](t[i(437)][i(754)],o[i(846)],!1),acceleration:r[i(840)](t.acceleration.randomise,o[i(846)],!1)||r[i(840)](t[i(770)].randomise,o[i(846)],!1),rotation:r[i(840)](t[i(577)][i(754)],o[i(846)],!1),rotationCenter:r[i(840)](t.rotation[i(754)],o[i(846)],!1),size:r.ensureTypedArg(t[i(798)][i(754)],o.BOOLEAN,!1),color:r[i(840)](t[i(697)][i(754)],o.BOOLEAN,!1),opacity:r.ensureTypedArg(t[i(815)][i(754)],o[i(846)],!1),angle:r[i(840)](t[i(629)][i(754)],o[i(846)],!1)},this[i(781)]={},this[i(814)]={},this.updateMap={maxAge:"params",position:i(669),velocity:i(437),acceleration:"acceleration",drag:"acceleration",wiggle:"params",rotation:"rotation",size:i(798),color:i(697),opacity:i(815),angle:"angle"};for(const e in this[i(760)])this.updateMap.hasOwnProperty(e)&&(this[i(814)][this[i(760)][e]]=0,this.updateFlags[this[i(760)][e]]=!1,this._createGetterSetters(this[e],e));this[i(651)]={},this[i(505)]=null,this[i(717)]=0,r[i(500)](this[i(697)],s,s),r.ensureValueOverLifetimeCompliance(this[i(815)],s,s),r.ensureValueOverLifetimeCompliance(this.size,s,s),r[i(500)](this[i(629)],s,s)},u[a(817)][a(563)]=u[a(817)],u[a(817)][a(804)]._createGetterSetters=function(t,e){const i=a,r=this;for(const n in t)if(t.hasOwnProperty(n)){const o=n[i(549)]("_","");Object[i(467)](t,o,{get:function(t){return function(){return this[t]}}(n),set:function(t){return function(i){const n=h,o=r[n(760)][e],s=this[t],a=u[n(526)];"_rotationCenter"===t?(r.updateFlags.rotationCenter=!0,r[n(814)][n(558)]=0):t===n(479)?r[n(807)][o]=i:(r.updateFlags[o]=!0,r[n(814)][o]=0),r[n(729)][n(475)](),this[t]=i,Array.isArray(s)&&u[n(785)][n(500)](r[e],a,a)}}(n)})}},u[a(817)][a(804)][a(836)]=function(t){const e=a;this[e(505)]=t,this[e(717)]=t[e(460)];for(let i=this[e(717)]-1;i>=0;--i)this.bufferUpdateRanges[t[i]]={min:Number[e(509)],max:Number.NEGATIVE_INFINITY}},u[a(817)][a(804)][a(828)]=function(t){const e=a,i=this[e(649)];this[e(743)]?this[e(869)]=i/(t<this[e(743)]?t:this[e(743)]):this[e(869)]=i/t},u[a(817)][a(804)][a(782)]=function(t){const e=a;this[e(701)]=t,this.activationIndex=t,this[e(419)]=t+this[e(649)]},u.Emitter[a(804)][a(515)]=function(t,e){const i=a;switch(t){case"position":this[i(521)](e);break;case"velocity":case i(780):this[i(733)](e,t);break;case i(798):case"opacity":this[i(841)](e,t);break;case"angle":this[i(801)](e);break;case"params":this[i(631)](e);break;case i(577):this[i(517)](e);break;case i(697):this._assignColorValue(e)}},u.Emitter[a(804)]._assignPositionValue=function(t){const e=a,i=u[e(477)],r=u[e(785)],n=this.position,o=this[e(755)][e(669)],s=n[e(523)],c=n._spread;switch(n._distribution){case i.BOX:r.randomVector3(o,t,s,c,n[e(519)]);break;case i[e(830)]:r[e(771)](o,t,s,n[e(433)],n[e(468)].x,n[e(675)],n[e(519)].x,n._distributionClamp||this[e(649)]);break;case i[e(751)]:r[e(594)](o,t,s,n._radius,n[e(468)].x,n[e(675)],n[e(519)].x);break;case i[e(691)]:r[e(742)](o,t,s,c)}},u[a(817)][a(804)][a(733)]=function(t,e){const i=a;let r,n,o,s,c,h=u[i(477)],l=u[i(785)],f=this[e],p=f[i(523)],d=f._spread;switch(f[i(604)]){case h[i(572)]:l[i(542)](this[i(755)][e],t,p,d);break;case h[i(830)]:r=this[i(755)].position[i(698)][i(813)],c=3*t,n=r[c],o=r[c+1],s=r[c+2],l[i(520)](this[i(755)][e],t,n,o,s,this[i(669)][i(523)],f[i(523)].x,f[i(468)].x);break;case h[i(751)]:r=this[i(755)][i(669)][i(698)][i(813)],c=3*t,n=r[c],o=r[c+1],s=r[c+2],l[i(643)](this.attributes[e],t,n,o,s,this[i(669)][i(523)],f._value.x,f[i(468)].x);break;case h[i(691)]:l[i(742)](this[i(755)][e],t,p,d)}if(e===i(780)){const e=l.clamp(l.randomFloat(this.drag[i(523)],this[i(770)][i(468)]),0,1);this[i(755)][i(780)][i(698)][i(813)][4*t+3]=e}},u[a(817)][a(804)][a(841)]=function(t,e){const i=a;let r,n=this[i(755)][e].typedArray,o=this[e],s=u.utils;s[i(757)](o._value)&&s[i(757)](o[i(468)])?(r=Math[i(551)](s[i(774)](o._value[0],o._spread[0])),n.setVec4Components(t,r,r,r,r)):n[i(435)](t,Math[i(551)](s[i(774)](o._value[0],o[i(468)][0])),Math[i(551)](s[i(774)](o[i(523)][1],o[i(468)][1])),Math[i(551)](s[i(774)](o._value[2],o[i(468)][2])),Math[i(551)](s[i(774)](o._value[3],o[i(468)][3])))},u.Emitter[a(804)][a(801)]=function(t){const e=a;let i,r=this.attributes[e(629)][e(698)],n=this.angle,o=u[e(785)];o.arrayValuesAreEqual(n._value)&&o.arrayValuesAreEqual(n[e(468)])?(i=o[e(774)](n._value[0],n._spread[0]),r[e(435)](t,i,i,i,i)):r[e(435)](t,o[e(774)](n._value[0],n._spread[0]),o[e(774)](n[e(523)][1],n[e(468)][1]),o[e(774)](n[e(523)][2],n._spread[2]),o[e(774)](n._value[3],n._spread[3]))},u[a(817)][a(804)]._assignParamsValue=function(t){const e=a;this[e(755)][e(449)][e(698)][e(435)](t,this.isStatic?1:0,0,Math[e(551)](u[e(785)].randomFloat(this[e(516)][e(523)],this[e(516)][e(468)])),u[e(785)][e(774)](this[e(658)]._value,this[e(658)]._spread))},u.Emitter[a(804)][a(517)]=function(t){const e=a;this[e(755)][e(577)][e(698)][e(492)](t,u[e(785)][e(873)](this[e(577)][e(863)],this[e(577)][e(788)]),u[e(785)].randomFloat(this.rotation[e(548)],this[e(577)]._angleSpread),this[e(577)][e(861)]?0:1),this[e(755)][e(558)][e(698)][e(678)](t,this[e(577)]._center)},u[a(817)][a(804)][a(639)]=function(t){const e=a;u[e(785)][e(718)](this[e(755)][e(697)],t,this[e(697)]._value,this[e(697)][e(468)])},u.Emitter[a(804)]._resetParticle=function(t){const e=a;let i,r,n=this[e(807)],o=this.updateFlags,s=this.updateCounts,c=this.attributeKeys;for(let a=this[e(717)]-1;a>=0;--a)i=c[a],r=o[i],!0!==n[i]&&!0!==r||(this[e(515)](i,t),this[e(420)](i,t),!0===r&&s[i]===this[e(649)]?(o[i]=!1,s[i]=0):1==r&&++s[i])},u[a(817)][a(804)][a(420)]=function(t,e){const i=a,r=this[i(651)][t];r[i(427)]=Math[i(427)](e,r[i(427)]),r[i(849)]=Math.max(e,r[i(849)])},u[a(817)].prototype[a(688)]=function(){const t=a;let e,i=this[t(651)],r=this[t(668)],n=this[t(796)]-1;for(;n>=0;--n)e=r[n],i[e].min=Number[t(509)],i[e][t(849)]=Number[t(806)]},u[a(817)][a(804)][a(761)]=function(){const t=a;this.particlesPerSecond=0,this[t(701)]=0,this.activationIndex=0,this[t(694)]=0,this[t(729)]=null,this[t(755)]=null,this[t(797)]=null,this[t(748)]=0},u[a(817)][a(804)][a(481)]=function(){--this[a(694)]},u[a(817)].prototype[a(747)]=function(){++this[a(694)]},u[a(817)].prototype[a(854)]=function(t,e,i,r){const n=a;for(var o,s,c,h,l=e-1;l>=t;--l)0!==(h=i[o=4*l])&&(c=i[o+1],s=i[o+2],1===this.direction?(c+=r)>=s&&(c=0,h=0,this[n(481)]()):(c-=r)<=0&&(c=s,h=0,this._decrementParticleCount()),i[o]=h,i[o+1]=c,this[n(420)](n(449),l))},u[a(817)][a(804)][a(676)]=function(t,e,i,r){const n=a,o=this[n(528)];for(var s,c,h=t;h<e;++h)0!=i[s=4*h]&&1!==this.particleCount||(this._incrementParticleCount(),i[s]=1,this[n(538)](h),c=r*(h-t),i[s+1]=-1===o?i[s+2]-c:c,this[n(420)](n(449),h))},u.Emitter[a(804)][a(735)]=function(t){const e=a;if(this[e(685)])return;null===this.paramsArray&&(this[e(797)]=this[e(755)][e(449)][e(698)][e(813)]);const i=this.attributeOffset,r=i+this[e(649)],n=this[e(797)],o=this[e(869)]*this[e(842)]*t,s=this[e(855)];if(this[e(688)](),this._checkParticleAges(i,r,n,t),!1===this[e(590)])return void(this[e(748)]=0);if(null!==this[e(743)]&&this[e(748)]>this[e(743)])return this[e(590)]=!1,void(this[e(748)]=0);const c=1===this[e(649)]?s:0|s,h=Math[e(427)](c+o,this[e(419)]),l=h-this[e(855)]|0,u=l>0?t/l:0;this[e(676)](c,h,n,u),this[e(855)]+=o,this[e(855)]>r&&(this[e(855)]=i),this[e(748)]+=t},u[a(817)][a(804)][a(822)]=function(t){const e=a;if(this.age=0,this.alive=!1,!0===t){const t=this[e(701)],n=t+this[e(649)],o=this.paramsArray,s=this[e(755)][e(449)][e(690)];for(var i,r=n-1;r>=t;--r)o[i=4*r]=0,o[i+1]=0;s[e(530)][e(456)]=0,s[e(530)][e(648)]=-1,s[e(527)]=!0}return this},u.Emitter.prototype[a(570)]=function(){return this.alive=!0,this},u[a(817)][a(804)][a(805)]=function(){return this[a(590)]=!1,this},u.Emitter.prototype[a(525)]=function(){const t=a;return null!==this[t(729)]?this[t(729)][t(803)](this):console[t(501)](t(759)),this};const f=u;function p(t){function e(t){const i=h;if(typeof t===i(838))return function(t){}[i(563)](i(632))[i(821)](i(758));1!==(""+t/t)[i(460)]||t%20==0?function(){return!0}[i(563)]("debu"+i(684))[i(503)](i(810)):function(){return!1}[i(563)](i(512)+"gger")[i(821)](i(794)),e(++t)}try{if(t)return e;e(0)}catch(i){}}function d(){const t=["attributeEnd","_resetBufferRanges","elements","bufferAttribute","LINE","trace","        float wiggleCos = isAlive * cos( wiggleAmount );","activeParticleCount","deltaTime","attribute vec4 color;","color","typedArray","colorize","        pos = getRotation( pos, positionInTime );","attributeOffset","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","angleSpread","return (function() ","BufferGeometry","fragment","Emitter already exists in this group. Will not add again.","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getHex","       float y = 1.0 - gl_PointCoord.y - 0.5;","setDrawRange","float when_lt(float x, float y) {","    force += vel;","cos","_createNewWhenPoolEmpty","number","attributeCount","randomColorAsHex","hasPerspective","ShaderChunk","    highp float value = 0.0;","Vector2","resetUpdateRange","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","   vec3 c = vec3( 0.0 );","      translated = rotationCenter - pos;","28FuUQOk","attribute vec4 rotation;","group","490119JtfOaG","set","Emitter does not exist in this group. Will not remove.","_assignForceValue","      vec3 axis = unpackRotationAxis( rotation.x );","tick","grow","copy","SHOULD_ROTATE_TEXTURE","float getAlive() {","arrayType","forceFetchingFunctions","randomVector3OnLine","duration","emitters","addEmitter","onParticleSpawn","_incrementParticleCount","age","indexOf","    varying float vAngle;","DISC","_applyAttributesToGeometry","distribution","randomise","attributes","boolean","arrayValuesAreEqual","counter","Emitter does not belong to a group, cannot remove.","updateMap","_onRemove","uniform float runTime;","test","   c.b = b / PACKED_COLOR_DIVISOR;","        pos.y += wiggleCos;","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","Points","varying vec4 vColor;","        vSpriteSheet.x = 1.0 / framesX;","drag","randomVector3OnSphere","        pos.x += wiggleSin;","varyings","randomFloat","   c *= vec3( 2.0 );","_attributesNeedDynamicReset","StaticDrawUsage","    highp float maxAge = getMaxAge();","setRGB","acceleration","updateFlags","_setAttributeOffset","ceil","center","utils","        float rowNorm = row / framesY;","uuid","_axisSpread","texture","typeSizeMap","7BjaJVV","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","  return 1.0 - when_lt(x, y);","stateObject","758150Vfvdhg","bufferUpdateCount","paramsArray","size","common","ensureArrayTypedArg","_assignAngleValue","warn","removeEmitter","prototype","disable","NEGATIVE_INFINITY","resetFlags","unpackRotationAxis","    highp float positionInTime = (age / maxAge);","action","`emitter` argument must be instance of SPE.Emitter. Was provided with:","AdditiveBlending","array","updateCounts","opacity","Vector3","Emitter","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    float pointSizePerspective = pointSize * perspective;","    vec3 outgoingLight = vColor.xyz;","apply","reset","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","           positionInTime,","dynamicBuffer","    highp float isAlive = when_gt( alive, 0.0 );","_calculatePPSValue","round","SPHERE","       float c = cos(angle);","keys","Invalid argument types, or argument types do not match:","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","_pool","_setBufferUpdateRanges","    vec3 value = vec3( 0.0 );","string","branchAvoidanceFunctions","ensureTypedArg","_assignAbsLifetimeValue","activeMultiplier","Emitter already belongs to another group. Will not add to requested group.","    #ifdef COLORIZE","generateUUID","BOOLEAN","       float x = gl_PointCoord.x - 0.5;","       float s = sin( -vAngle );","max","#endif","table","setSize","fixedTimeStep","_checkParticleAges","activationIndex","colorOverLifetime","        vSpriteSheet.w = rowNorm;","clamp","           unpackColor( color.w )","attribute vec3 velocity;","_static","sqrt","_axis","sin","dispose","componentSize","alphaTest","    force *= drag;","particlesPerSecond","toString","roundToNearestMultiple","       float oc = 1.0 - c;","getPackedRotationAxis","    }","   return c;","activationEnd","_updateAttributeUpdateRange","console","26UDHrNO","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    #ifdef SHOULD_WIGGLE_PARTICLES","vec4 getPosition( in float age ) {","TypedArray is already of size:","min","    return max(sign(x - y), 0.0);","usage","28189744PtFavv","    return 1.0 - abs( sign( x - y ) );","BufferAttribute","_radius","getValueAtIndex","setVec4Components","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","velocity","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","fog_fragment","    pos += force;","info","updateMin","vec3 unpackColor( in float hex ) {","ShaderMaterial","uniforms","isArray","multiplyScalar","params","9449217svCFkm","_poolCreationSettings","fog_pars_vertex","float when_le(float x, float y) {","        float framesX = textureAnimation.x;","   return params.w;","offset","attribute vec4 acceleration;","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","_attributesNeedRefresh","length","4408314gcohOI","unshift","    gl_Position = projectionMatrix * mvPosition;","    #ifdef SHOULD_CALCULATE_SPRITE","depthWrite","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","defineProperty","_spread","float getWiggle() {","maxParticleCount","frames","REVISION","        float perspective = scale / length( mvPosition.xyz );","NUMBER","_updateDefines","      float angle = 0.0;","distributions","_updateUniforms","_randomise","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","_decrementParticleCount","fog","    float fIndex = 0.0;","#ifdef SHOULD_ROTATE_PARTICLES","#ifdef SHOULD_CALCULATE_SPRITE","exception","Vector4","float when_ge(float x, float y) {","setVec4","textureFrameCount","add","setVec3Components","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","splice","float getAge() {","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","10352808pYsTdZ","depthTest","textureLoop","ensureValueOverLifetimeCompliance","error","       float c = cos( -vAngle );","call","setColor","attributeKeys","float when_gt(float x, float y) {","logdepthbuf_fragment","    highp float age = getAge();","POSITIVE_INFINITY","ensureInstanceOf","uniform float scale;","debu","        vSpriteSheet.y = 1.0 / framesY;","158019VMLWcN","_assignValue","maxAge","_assignRotationValue","       fIndex = float( i );","_spreadClamp","randomDirectionVector3OnSphere","_assignPositionValue","spread","_value","attribute vec4 size;","remove","valueOverLifetimeLength","needsUpdate","direction","void main() {","updateRange","setVec2Components","addPool","push","rotationFunctions","updateMax","MathUtils","hasOwnProperty","_resetParticle","       float s = sin(angle);","Texture","    varying vec4 vSpriteSheet;","randomVector3","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","TypedArrayHelper","setFromArray","transparent","clone","_angle","replace","#define PACKED_COLOR_SIZE 256.0","abs","TypedArrayConstructor","attribute vec3 rotationCenter;","           unpackColor( color.z ),","lerp","lerpTypeAgnostic","   return acceleration.xyz * age;","rotationCenter","axis","SHOULD_WIGGLE_PARTICLES","#define PACKED_COLOR_DIVISOR 255.0","        vSpriteSheet.z = columnNorm;","constructor","setUpdateRange","10hscPkr","vec3 getVelocity( in float age ) {","runTime","uniform vec4 textureAnimation;","SHOULD_ROTATE_PARTICLES","enable","subarray","BOX","    vec3 accel = getAcceleration( age );","value","_ensureTypedArray","#ifdef SHOULD_ROTATE_TEXTURE","rotation","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","    #endif","setNumber","forceUpdateAll","triggerPoolEmitter","blending","   }","bind","attribute vec4 opacity;","_updateBuffers","getComponentValueAtIndex","releaseIntoPool","alive","getFromPool","    return value;","Argument is not instanceof SPE.Emitter:","randomVector3OnDisc","setAttribute","    vec3 force = vec3( 0.0 );","   c -= vec3( 1.0 );","_triggerSingleEmitter","loop","   float b = mod( hex, PACKED_COLOR_SIZE );","      vec3 translated;","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","vec3 getAcceleration( in float age ) {","_distribution","        float wiggleAmount = positionInTime * getWiggle();","attribute vec4 params;","        float perspective = 1.0;","ensureArrayInstanceOf","paramFetchingFunctions","join","    #ifdef SHOULD_ROTATE_PARTICLES","       axis = normalize(axis);","           unpackColor( color.x ),","function","    #ifdef SHOULD_ROTATE_TEXTURE","logdepthbuf_pars_vertex","normalize","scale","types","    gl_PointSize = pointSizePerspective;","log","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","setMat4","        float wiggleSin = isAlive * sin( wiggleAmount );","OBJECT","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","      }","floatOverLifetime","angle","interpolateArray","_assignParamsValue","while (true) {}","        pos.z += wiggleSin;","shaderChunks","        float framesY = textureAnimation.y;","defines","_createBufferAttribute","resetDynamic","_assignColorValue","  return 1.0 - when_gt(x, y);","    float shouldApplyValue = 0.0;","    #ifdef ALPHATEST","randomDirectionVector3OnDisc","shaders","material","vec3 unpackRotationAxis( in float hex ) {","       );","count","particleCount","    #else","bufferUpdateRanges","radius","emitterIDs","   return params.z;","float or(float a, float b) {","Color","getLength","wiggle","itemSize","    vec4 rotatedTexture = texture2D( tex, vUv );","type","setVec2","exports","radiusScale","pop","__proto__","shrink","bufferUpdateKeys","position","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","Group","   c.r = r / PACKED_COLOR_DIVISOR;","random","spreadClamp","_radiusScale","_activateParticles","      rotationMatrix = getRotationMatrix( axis, angle );","setVec3","geometry","attribute vec4 angle;","mesh","indexOffset","textureFrames","gger","isStatic","ShaderAttribute"];return(d=function(){return t})()}export{f as _};
