import{z as o}from"./three-custom-shader-material.9ns-JqBE1747710066834.js";import"./HeightCorrection.Bq98L9tL1747710066834.js";import"./three-tile.Dr4ZhZyR1747710066834.js";import"./@tweenjs.ULy8-5Ku1747710066834.js";/* empty css                                                                                    */import"./utils.D4vW-cmn1747710066834.js";import{l as e,U as n,P as t,M as r,T as i,a,r as u}from"./raycasterEvent.D7Mr2POk1747710066834.js";import"./index.Dnw5S60x1747710066834.js";import{_ as s,a as c}from"./radraB.vue_vue_type_script_setup_true_lang.DV0Rp5-N1747710066834.js";import{_ as f}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.CFq3zpZa1747710066834.js";import{_ as l}from"./fireA.vue_vue_type_script_setup_true_lang.1wTkyA9h1747710066834.js";import{_ as d}from"./fireB.vue_vue_type_script_setup_true_lang.B39jS5wT1747710066834.js";import{_ as W}from"./smokeA.vue_vue_type_script_setup_true_lang.DeszJLa71747710066834.js";import{_ as p}from"./precipitation.vue_vue_type_script_setup_true_lang.DeK6llbB1747710066834.js";import{_ as m}from"./cloudMesh.vue_vue_type_script_setup_true_lang.CnoYdyvD1747710066834.js";import{_ as h}from"./rippleMesh.vue_vue_type_script_setup_true_lang.diXp9a3i1747710066834.js";import{e as x,b as v,m as _}from"./@tresjs.gP2mTlVu1747710066834.js";import{ae as g,V as k,cC as C,a4 as y,g as w,S as P,M as S,Q as b,cw as Q,cx as M,cy as j,cz as I,ab as R,C as O,b9 as T,cQ as G,ap as F,as as z,c6 as H,q as L}from"./three.xEBIAocQ1747710066834.js";import{l as q}from"./utils.C-7yDBe51747710066834.js";import{d as A,a5 as J,G as N,o as B,F as V,W as K,I as X,u as Z,b as E,a2 as D,j as U,e as Y,f as $,am as oo,v as eo,r as no,h as to,m as ro}from"./@vue.C_fjx3FT1747710066834.js";import{T as io}from"./3d-tiles-renderer.CaZqp5je1747710066834.js";import"./d3-geo.BF6HMImh1747710066834.js";import"./d3-array.G5ptHY8Z1747710066834.js";import"./axios.Cg20dRtY1747710066834.js";import"./axios.DLTVXJci1747710066834.js";import"./pinia.DCK4-d6k1747710066834.js";import"./@fesjs.BOXna9ZI1747710066834.js";import"./vue-router.DeACx8bf1747710066834.js";import"./lodash-es.C7pWAXPe1747710066834.js";import"./@qlin.q6OWdsQV1747710066834.js";import"./@babel.BPq7uOAK1747710066834.js";import"./@floating-ui.BFjFSAYt1747710066834.js";import"./@juggle.CcBCnTIR1747710066834.js";import"./color.Dhh_29Yl1747710066834.js";import"./@amap.CGUF9xH41747710066834.js";import"./color-string.D5kFRVRV1747710066834.js";import"./color-name.BQ5IbGbl1747710066834.js";import"./simple-swizzle.Coj5PzdN1747710066834.js";import"./is-arrayish.CLsR9Wfx1747710066834.js";import"./color-convert.ChTrddH_1747710066834.js";import"./lodash.VMYpqYXl1747710066834.js";import"./@mapbox.B8uYRbGC1747710066834.js";import"./three-mesh-bvh.CCim3sdS1747710066834.js";import"./index.BTQxa5RW1747710066834.js";import"./object-hash.CtG58Gro1747710066834.js";import"./jszip.D-Ltrk6t1747710066834.js";import"./SPE.BdKrrVoi1747710066834.js";import"./postprocessing.qgYkPc7-1747710066834.js";import"./@vueuse.C9JT-tFY1747710066834.js";const ao={renderOrder:3e3},uo=["args"],so=["map","side","color"],co=A({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(o){let n,t;const r=o,{map:i}=([n,t]=J((()=>v({map:"./plugins/digitalCity/image/line.png"}))),n=await n,t(),n);i.needsUpdate=!0,i.wrapS=i.wrapT=g,i.repeat.set(1,1);const a=([n,t]=J((()=>q(r.geoJson))),n=await n,t(),n);let u=[];for(var s=0;s<a.length;s++){const o=a[s],n=[];o.geometry.coordinates.forEach((o=>{const t=e(o[0],o[1],50);n.push(new k(t[0],0,-t[1]))}));let t=r.color;t="primary"===o.properties.highway?"#7eff10":"tertiary"===o.properties.highway?"#0eeeee":"secondary"===o.properties.highway?"#ffffff":"#ff0ffe",u.push({cr3:new C(n),color:t})}const{onLoop:c}=x();return c((()=>{i.offset.x-=Math.random()/20*r.speed})),(o,e)=>(B(),N("TresGroup",null,[(B(!0),N(V,null,K(Z(u),(o=>(B(),N("TresMesh",ao,[X("TresTubeGeometry",{args:[o.cr3,64,r.radius,20,!1]},null,8,uo),X("TresMeshBasicMaterial",{map:Z(i),side:Z(y),transparent:!0,color:o.color},null,8,so)])))),256))]))}}),fo=o=>{o.onLoadTileSet=e=>{const n=new w,t=new P,r=new S;let i=null,a=0;o.getOrientedBounds(n,r)?(i=(new k).setFromMatrixPosition(r),a=i.length()):o.getBoundingSphere(t)&&(i=t.center.clone(),a=i.length());const u=i?.normalize(),s=((o,e)=>{const n=new b,t=(new k).crossVectors(o,e);return n.x=t.x,n.y=t.y,n.z=t.z,n.w=1+o.clone().dot(e),n.normalize(),n})(u,new k(0,1,0));o.group.quaternion.x=s.x,o.group.quaternion.y=s.y,o.group.quaternion.z=s.z,o.group.quaternion.w=s.w,o.group.position.z=-a}},lo=["object","rotation"],Wo=A({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(e){const n=e,t=E(0),r=new io("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");r.errorTarget=2,r.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{if(e.isMesh){(e=>{const{geometry:r}=e;r.computeBoundingBox(),r.computeBoundingSphere();const{max:i,min:a}=r.boundingBox,u=new o({baseMaterial:new T,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new O(n.bulidingsColor)},uOpacity:{value:n.opacity},uLightColor:{value:new O("#ffffff")},uTopColor:{value:new O(n.topColor)},uTime:t,uGradient:{value:n.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:R});e.material.dispose(),e.material=u})(e),e.receiveShadow=!1,e.castShadow=!1;const r=new Q(e.geometry.clone());let i=(new M).fromEdgesGeometry(r),a=new j({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const u=new I(i,a);u.applyMatrix4(e.matrix.clone()),e.parent.add(u)}}));const i=new w,a=new P;r.getBoundingBox(i)?(i.getCenter(r.group.position),r.group.position.multiplyScalar(-1)):r.getBoundingSphere(a)&&(r.group.position.copy(a.center),r.group.position.multiplyScalar(-1))})),fo(r);const{renderer:i,sizes:a}=_();D((()=>{a.width.value&&(r.setCamera(n.camera),r.setResolutionFromRenderer(n.camera,i.value))}));const{onBeforeLoop:u}=x();return u((({delta:o})=>{t.value+=2*o,n.camera&&a.width.value&&(n.camera.updateMatrixWorld(),r.update())})),(o,e)=>(B(),N("TresGroup",null,[X("primitive",{object:Z(r).group,rotation:[-Math.PI/2,0,0]},null,8,lo)]))}}),po=["object","rotation"],mo=A({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(o,{expose:e}){const u=o,{renderer:s,scene:c}=_(),f=new t;f.coordType=n;const l=new r;l.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",l.showTileNo=!1,l.useWorker=!0;const d=new i(f,l);d.showBoundingBox=!1,d.wireframe=!1,d.flatShading=!1,d.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let W=new O("#4688b5");d.filter.monochrome={r:W.r,g:W.g,b:W.b};const p=new a;p.provider=d,p.bbox=u.bbox,p.maxZoom=u.maxZoom,u.camera.up=new k(0,1,0),u.camera.position.set(u.mapCenter[0],u.mapCenter[2],2e3-u.mapCenter[1]),u.camera.lookAt(new k(u.camera.position.x,0,u.camera.position.z-3e3)),p.camera=u.camera;let m=null;D((()=>{s.value&&(m=new G(u.camera,s.value.domElement),m.enableDamping=!0,m.dampingFactor=.05,m.minDistance=600,m.position0.set(u.camera.position.x,u.camera.position.y,u.camera.position.z),m.target.set(u.camera.position.x,0,u.camera.position.z-2e3))}));const{onLoop:h}=x();return h((()=>{if(s.value){const o=50*Math.abs(u.camera.position.y);u.camera.far=o+5e3,u.camera.updateProjectionMatrix(),m&&(m.update(),m.target.y=0),p.update(),s.value.render(c.value,u.camera)}})),e({camera:u.camera,map:p}),(o,e)=>(B(),N("primitive",{object:Z(p),rotation:[-Math.PI/2,0,0]},null,8,po))}});!function(){function o(o,e,n,t,r){return Co(o-55,r)}function e(o,e,n,t,r){return Co(e-396,t)}function n(o,e,n,t,r){return Co(n-601,o)}for(var t=yo();;)try{if(621093===parseInt(e(0,981,0,"cawP"))/1+parseInt(e(0,876,0,"U]C@"))/2+parseInt(o(553,0,0,0,"6]fA"))/3*(-parseInt(e(0,917,0,"a^*N"))/4)+-parseInt(n("(c(C",0,1162))/5*(-parseInt(e(0,857,0,"svjW"))/6)+parseInt(o(556,0,0,0,"Qf])"))/7*(parseInt(o(594,0,0,0,"dWI3"))/8)+parseInt(n("fIp9",0,1152))/9*(parseInt(Co(1381-911,"Xu)A"))/10)+-parseInt(n("9s$Q",0,1128))/11)break;t.push(t.shift())}catch(r){t.push(t.shift())}}();var ho,xo=(ho=!0,function(o,e){function n(o,e,n,t,r){return Co(o- -636,r)}function t(o,e,n,t,r){return Co(t-749,o)}if(n(-159,0,0,0,"]xMF")!==t("U5&0",0,0,1269)){var r=ho?function(){function r(o,e,n,r,i){return t(o,0,0,n- -1289)}function i(o,e,n,r,i){return t(o,0,0,r- -386)}function a(o,e,t,r,i){return n(e-962,0,0,0,i)}function u(o,e,t,r,i){return n(t-118,0,0,0,e)}if(i("Qf])",0,0,877)!==u(0,"inFk",90))(function(){return!0})[i("fIp9",0,0,827)](a(0,795,0,0,"Jshd")+u(0,"F#wS",-42))[(c=1168,f="2Qw@",n(c-1199,0,0,0,f))]("action");else if(e){if("eLbrg"===r("]xMF",0,72))return function(o){}[a(0,786,0,0,"hfQ^")](r("yk6i",0,4))[r("hzQ1",0,40)]("counter");var s=e[r("Xu)A",0,-52)](o,arguments);return e=null,s}var c,f}:function(){};return ho=!1,r}_0x19a3a9=_0x8a4a2f})(void 0,(function(){function o(o,e,n,t,r){return Co(o- -211,n)}function e(o,e,n,t,r){return Co(n- -845,r)}return xo.toString()[o(355,0,"inFk")]((r="NtCT",i=591,Co(i-8,r)))[o(271,0,"#6IB")]()[e(0,0,-390,0,"(c(C")](xo)[(n="fIp9",t=-465,Co(t- -961,n))](e(0,0,-234,0,"(c(C"));var n,t,r,i}));xo();var vo,_o=(vo=!0,function(o,e){function n(o,e,n,t,r){return Co(o- -61,e)}function t(o,e,n,t,r){return Co(n-174,t)}if(t(0,0,780,"6]fA")!==t(0,0,744,"fIp9")){var r=vo?function(){function r(o,e,n,t,r){return Co(n- -1201-720,t)}function i(o,e,t,r,i){return n(i-239,t)}if(i(0,0,"xnBn",0,713)!==r(0,0,93,"F2vk")){if(e){if(i(0,0,"wGYf",0,716)===r(0,0,36,"a^*N"))return!1;var a=e[i(0,0,"A[Iz",0,727)](o,arguments);return e=null,a}}else{var u=_0x9af974(r(0,0,-14,"CUQh")+t(0,0,653,"xnBn")+");");_0x16d9d3=u()}}:function(){};return vo=!1,r}var i;try{i=_0x3ccb2f(t(0,0,702,"F2vk")+t(0,0,762,"Qf])")+");")()}catch(a){i=_0x3ef68e}i[n(392,"F2vk")](_0xdd8d62,4e3)});!function(){_o(this,(function(){function o(o,e,n,t,r){return Co(n-580,t)}function e(o,e,n,t,r){return Co(t-354,n)}function n(o,e,n,t,r){return Co(o- -152,n)}function t(o,e,n,t,r){return Co(e- -698,r)}if("IQSig"===t(0,-109,0,0,"I5#d")){var r=_0x54c9c9?function(){if(_0x43aa72){var o=_0x420f09.apply(_0x1e86d9,arguments);return _0x17ec95=null,o}}:function(){};return _0x3cfbec=!1,r}var i,a,u=new RegExp("function *\\( *\\)"),s=new RegExp(t(0,-151,0,0,"dWI3"),"i"),c=wo("init");if(u[(i=496,a="^g98",Co(i-4,a))](c+e(0,0,"U]C@",917))&&s.test(c+e(0,0,"Kb)I",828))){if("CJbnn"!==e(0,0,"T8yo",848))return _0x6f387d[o(0,0,1092,"g8tX")]()[o(0,0,1155,"(c(C")](t(0,-129,0,0,"PyeV"))[n(420,0,"]xMF")]()[t(0,-176,0,0,"2r^f")](_0x2a5938)[o(0,0,1167,"Qf])")](e(0,0,"PSRJ",886));wo()}else{if(e(0,0,"Kb)I",899)!==n(455,0,"W0#q")){var f=_0x1b94a3?function(){if(_0x168c4c){var e=_0x35ce8d[(n=515,t="T8yo",o(0,0,n- -556,t))](_0x4beecf,arguments);return _0xed8c32=null,e}var n,t}:function(){};return _0x54e1b4=!1,f}c("0")}}))()}();var go,ko=(go=!0,function(o,e){function n(o,e,n,t,r){return Co(o- -148,r)}function t(o,e,n,t,r){return Co(o-377,t)}function r(o,e,n,t,r){return Co(e- -957,t)}function i(o,e,n,t,r){return Co(r- -183,n)}if(r(0,-380,0,"svjW")!==n(363,0,0,0,"9s$Q")){var a=go?function(){function n(o,e,n,t,i){return r(0,n-9,0,e)}function t(o,e,n,t,r){return i(0,0,r,0,n-289)}if(n(0,"cawP",-462)!==n(0,"PSRJ",-423)){if(e){if(n(0,"^g98",-415)===t(0,0,621,0,"Jshd")){var a=e[t(0,0,610,0,"U]C@")](o,arguments);return e=null,a}_0x172f28(0)}}else _0x56c171=_0x1510eb}:function(){};return go=!1,a}var u,s,c;try{u=_0x3b6fdd("return (function() "+r(0,-392,0,"[(V4")+");")()}catch(h){u=_0x2fa51b}for(var f=u.console=u[r(0,-479,0,"]xMF")]||{},l=[t(927,0,0,"hfQ^"),"warn","info",r(0,-356,0,"7lzc"),r(0,-447,0,"U5&0"),"table",n(445,0,0,0,"Xu)A")],d=0;d<l[n(452,0,0,0,"I5#d")];d++){var W=_0x5ebe3d[i(0,0,"Qf])",0,323)][t(831,0,0,"a^*N")][i(0,0,"[(V4",0,292)](_0x13e42f),p=l[d],m=f[p]||W;W[r(0,-427,0,"I5#d")]=_0x16ef78[(s="Qf])",c=-287,Co(c- -889,s))](_0x3af429),W[r(0,-367,0,"cawP")]=m[r(0,-397,0,"HH19")][i(0,0,"xnBn",0,335)](m),f[p]=W}});function Co(o,e){var n=yo();return Co=function(e,t){var r=n[e-=445];if(void 0===Co.ZtStwv){var i=function(o){for(var e,n,t="",r="",a=t+i,u=0,s=0;n=o.charAt(s++);~n&&(e=u%4?64*e+n:n,u++%4)?t+=a.charCodeAt(s+10)-10!=0?String.fromCharCode(255&e>>(-2*u&6)):u:0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var c=0,f=t.length;c<f;c++)r+="%"+("00"+t.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(r)};Co.HoEMxs=function(o,e){var n,t,r=[],a=0,u="";for(o=i(o),t=0;t<256;t++)r[t]=t;for(t=0;t<256;t++)a=(a+r[t]+e.charCodeAt(t%e.length))%256,n=r[t],r[t]=r[a],r[a]=n;t=0,a=0;for(var s=0;s<o.length;s++)a=(a+r[t=(t+1)%256])%256,n=r[t],r[t]=r[a],r[a]=n,u+=String.fromCharCode(o.charCodeAt(s)^r[(r[t]+r[a])%256]);return u},o=arguments,Co.ZtStwv=!0}var a=e+n[0],u=o[a];if(u)r=u;else{if(void 0===Co.ilTdSM){var s=function(o){this.TJjAmD=o,this.FVGQAa=[1,0,0],this.IomFGm=function(){return"newState"},this.slvTMi="\\w+ *\\(\\) *{\\w+ *",this.gELJHY="['|\"].+['|\"];? *}"};s.prototype.NVrZWN=function(){var o=new RegExp(this.slvTMi+this.gELJHY).test(this.IomFGm.toString())?--this.FVGQAa[1]:--this.FVGQAa[0];return this.hlIEWt(o)},s.prototype.hlIEWt=function(o){return Boolean(~o)?this.spiPli(this.TJjAmD):o},s.prototype.spiPli=function(o){for(var e=0,n=this.FVGQAa.length;e<n;e++)this.FVGQAa.push(Math.round(Math.random())),n=this.FVGQAa.length;return o(this.FVGQAa[0])},new s(Co).NVrZWN(),Co.ilTdSM=!0}r=Co.HoEMxs(r,t),o[a]=r}return r},Co(o,e)}function yo(){var o=["W7RdS8oQFCoBD8kvW6hdKSo6fxu","W7xdGW4KBa","W7FdJSo/lLy","W71lo8k1u8onB1m","WQddOIbQWQG","gSkNW43cNLa","FCkvW75cW6hdMG","WOBcS8kRa8k/","WRC4W4uuAa","WRVdPJHCWR4","W6xdJrmRtwngW7lcSSkKWQ5vkGn2WRj8WRFcRG","CmkCimknWP8","l8kpW4tcHKfBW63cGW","y8oOW41/lYNdOgXIpazaW6T5WPKA","W5JdId87W51+x2RdUw3cTCod","gSkrWP4cW6C","WQ0KrcVcImooWQtdHXSmwmoR","vef/mCoTW64lW7NdNIpcHmk/aSkTmSk3W6jMW58","WP1qW5z1nXu","WPviWPLKoXmvxxhcKSkgW6i8bSkFDe5lAwyLW6LLWRRdIftdSbNdU8kRWO3cHa","WRZcUqVcOSk1","W6T4i2ZdJSkEWQhdIa","rSk2W4uU","WRhcJSkmnSkg","uLzQj8o6","oSodWQCiWRhdGGHZWOpdOmki","WO/cLx7cHCkYiSkJfd7cRmk2WO3cKmogW6BdH8kRW4FdVa","ASoiWQddG0OxmW4Ldt1QW43cI8kqA3uYW4T2jmkeesRdHwNdOqLfEJuh","aSoeWONcKY0","sGZcU8oV","CMO+W7BdQq","WQlcMrdcSCkPWRC","W6nPuCk0ea","WOXCW5LJ","fCoRWPSDF8kSWP5uxq","v8oMW4XcWOZcHZeZW67cUd0zW6m","WOJcI8opDW","xMq+W4JdIW","pbOzW6hdUW","WQVdQWneWOG","e8kHWPadW5hdGN8SW5G","W4hcMutcMw3dSNPQA8oXWObSWQFdQG","jSoyWRCEWQNcM0q8W63cImoZjq","W7fNhmkiuW","W5LsEaDH","iSo7WPhcSW/cNNS","kYuTW5hdO1NdT8om","CmofW77dJfW","f8k2WOWd","lmkeW4tcOLa","WPhcLwtcL8k0ja","heZcGmk9WOi","kmkfW6pcU11gW6BcLG5mza","W4hdLCkRaCkgeSoUWPFdLW","BCkFW7fdW7BdGbP2WRldJSkQ","d8k0wmk/","W4ZdGhNcO8kkcSocsq","zmoTW5nWiG","W7Pbhmkit8oqzeyBe2a","WPpdHX/dMIJcStG4ASoMWRS","W6bFWR54yCo1WPRcKCkyW70","wNa1WQq","W5VdS8otc2G","W7tdHWKTs38tWRNcOmk+WRi","C8kfpSkf","hSkPv8kVEIbczSk/oCkL","WOJdTmoIWQnpW5ugFSowvM88W64wnSo1oeJcIq","WQ0ocqZcNG","z8o+FNm","fXr4f8ovW4zQWQq","uGBcRW","WO3cHmkYiCkFkSorWPFcPG","WOXxW4zOfq","tCkXW5S/zq","xadcPSo/","fSoKnHS","W49XpmkaCq","W6PlbSkYtSoiza","gmkUW5euW5hdMhuOW4/cUWCEW4NcGmkzeNrTemooW5xcQLhdHIXNns8PksddIW","qbKqqsVdNcuXlLfRWP7dRG","WQxdNJJdJHi","lmkibmo+W5vooh4","pLVcSSkHWOW","B8kaW69CW7S","cSk6u8kP","W5PDmNRdRa","shaLWRJdMG","r1r7kmoM","WQVdIcfPWQa","W4ddLf3dJ8oMfLJdQLj6W5TtlSkAWPRcIbqwoMZcKLxcHf9RWOrqDqpcOhyKrCoN","W5pdTmoiffW","paNdGmku","WQVcHb3cS8kTWQVdKCoOW5y","W7hdJSoAfKS","Amo3W6/dLxW","W6tdJqySxgu","W6v6t8k3","eJvNWPldHsvlkaaw","WQJcIrdcTCkPWRBdL8oPWPHvnsdcQx1TvW","F2elW5FdVq","W5OgWO8/zW0bt0BcPSk1","W691u8kUfG","bmoKjGDp","efHuhwe","W7dcOgKWWPVdHXxcOmozzW","WO1AW5L0ia8tsNFcImkx","W5bwchhdHq","w1ayWPxdIW","i8o9WPhcPa","W59/vqDNW41me8ku","E8okkGldIW","xZPhW6ZdT8ocpCoq","A8oPlYVdImksW6yWaf7dMG","WOrmW6rfdq","E8o+tgxcIa","W4ldK8kLaCkmkCo1WO3dL8ofWPu","W4pdImkIeCkS","aCk6WPet","bCoMib0","W7b9Fbjn","WOdcKmoXr8kdpmobWPxdO8o3","iSo7WPhcSXtcGgSWFCoAW7u","WQJcHKpcL8ko","iCkuW6BcOLW","WOiCWOKzeq","xgCGWRRdLG","oCk3DgJcJCorWQrIauNdOr0XW7K","kCkfW6pcH0fCWQpdJb5yzSoDWP/cJXJcQbNcMH0","W4LAw8kYgW","WPhcOW7cPmkYWQVdL8oyW6C","nIqxW5e","W6XXW6v1EtvkWQOoWRRdV8oh","maNdO8kdWO4","z8kEW7ze","mSkGWRC9W5C","WPRcN8oYxmop","tCohdmokW4BdVSkFmCovWQRdRgbnlb4KWR3cJuqwFSkZW5j/WOpcRmokh8oCfSkUcbhcQG","W4dcKe8lWOy","nmkVWPOQesRdIfy6xa","CSoAW6ddK0Ovjq","WOJdPIHwWRG","WPZcI8orDq","EsX9W67dVW","evdcGCklWOJcQ8otEWSiW6T8W5jsWQW","r8kpW4WoEW","ntldPCkQW4q","wCk2W783E2RcPZ14ttTfWResW6HPW4FdUgXvWRiofaddJmkTW7O6F2POW75oWPC","WPpdGbddGdi","W6aCWQK0Bq","WPZdHXy","WQpcNvrRdtXrWRxcH8kNWPLfgW","WP7cN2tcG8k0pSo2xYZcTSkQ","wGZcQSoU","WP/cLYtcMCkx","WRhdOd9YWR7dMsVcHmoe","WOdcLSoWrCoAuSkNWPtdQSoWWO4yWPi","o8kioCo5W5nvi3RcV1ldJq","WPtdJrpdNa","W6idWRCRymkIALmPDw4","F286W4/dQSoXW7dcRa","p8oeWQ9NW6ZdHZ9wWO0","kmo6WPNcRW","eKbfghy","W45Irry","rrtdPSo4oSkyiwjmWRDTW5RdU1DMW43cICo0gfjXW6JcVmk4vwOeW7KQW5DxWP0","WRldTZf0WRldHq","vG/cLvFdScy","AwKhW58"];return(yo=function(){return o})()}function wo(o){function e(o,e,n,t,r){return Co(n- -60,r)}function n(o){function e(o,e,n,t,r){return Co(e-2,t)}function t(o,e,n,t,r){return Co(o-996,e)}function r(o,e,n,t,r){return Co(r- -729,t)}function i(o,e,n,t,r){return Co(e-205,n)}function a(o,e,n,t,r){return Co(o- -191,e)}if(i(0,729,"F2vk")!==r(0,0,0,"inFk",-188)){if("string"==typeof o)return r(0,0,0,"rAeI",-206)!==t(1477,"hfQ^")||function(o){}.constructor("while (true) {}").apply("counter");if(i(0,748,"g8tX")===i(0,678,"Qf])"))return _0x2c77e7;if(1!==(""+o/o)[t(1563,"uH(2")]||o%20==0)if(r(0,0,0,"I5#d",-175)===t(1459,"T8yo")){if(_0xea33c0)return _0x1f8476;_0x4c169c(0)}else(function(){function o(o,e,n,t,r){return a(e- -603,t)}function n(o,n,t,r,i){return e(0,n-514,0,i)}if(n(0,1011,0,0,"yqPY")===o(0,-210,0,"xnBn"))return!0;(function(){return!1}).constructor("debugger")[o(0,-310,0,"(c(C")](n(0,1032,0,0,"a^*N"))})[t(1548,"rAeI")](r(0,0,0,"[(V4",-176)+a(294,"HJQm"))[t(1493,"7lzc")]("action");else{if(a(380,"T8yo")===e(0,485,0,"yk6i")){var u=_0x3d099e[e(0,548,0,"G[yh")](_0x56f8dd,arguments);return _0xc455e=null,u}(function(){function o(o,e,n,t,r){return a(r- -123,e)}if(o(0,"2Qw@",0,0,222)===o(0,"CGfk",0,0,194)){var e=_0x162b77?function(){if(_0x5c42d0){var e=_0x578a80[(n="inFk",t=-175,o(0,n,0,0,t- -434))](_0x50c9b1,arguments);return _0x41ddb4=null,e}var n,t}:function(){};return _0x9a1d7a=!1,e}return!1})[e(0,515,0,"9s$Q")](e(0,560,0,"hfQ^")+i(0,667,"CGfk"))[r(0,0,0,"CGfk",-203)](i(0,671,"HJQm"))}n(++o)}else if(_0x3115b3){var s=_0x592414[e(0,450,0,"yqPY")](_0x1c8ab0,arguments);return _0xa12113=null,s}}try{if(e(0,0,427,0,"CGfk")!==e(0,0,443,0,"F#wS"))_0x4ea1e3("0");else{if(o)return n;if(Co(594-18,"PyeV")!==Co(1401-802,"6]fA")){var t=_0x4e755d.apply(_0x25ac24,arguments);return _0x5b3531=null,t}n(0)}}catch(r){}}ko(void 0,(function(){function o(o,e,n,t,r){return Co(r- -430,o)}function e(o,e,n,t,r){return Co(n- -911,e)}function n(o,e,n,t,r){return Co(e- -247,r)}var t;function r(o,e,n,t,r){return Co(e- -700,r)}try{if("dyoIC"===s(1385,1389,1406,1353,"F2vk"))_0x579a6a(this,(function(){function o(o,e,n,t,r){return s(o-83,o- -263,n-23,t-28,e)}function e(o,e,n,t,r){return s(o-200,t- -139,n-400,t-236,r)}var n=new _0x2fcff7(e(1246,0,1267,1299,"I5#d")),t=new _0x1a444d(e(1338,0,1227,1290,"kMxS"),"i");var r,i,a,u,c,f,l,d=_0xb78928(o(1207,"W0#q",1178,1238));n[(c=418,f="U5&0",l=400,s(c-311,l- -1103,f-89,l-17,f))](d+s(873-195,(u=906)- -581,(a="hfQ^")-148,u-190,a))&&t[o(1274,"[(V4",1321,1221)](d+s((r=-191)-169,r- -1598,-148-306,(i="4Ep9")-275,i))?_0x100536():d("0")}))();else t=Function(r(0,-121,0,0,"fIp9")+r(0,-112,0,0,"Qf])")+");")()}catch(h){if(s(1578,1531,1605,1509,"PyeV")!==r(0,-255,0,0,"U5&0")){var i=_0x32297f[s(1538,1496,1448,1416,"#6IB")][r(0,-91,0,0,"xnBn")][e(0,"hzQ1",-446)](_0x1acb02),a=_0x177120[_0x46fa41],u=_0x225581[a]||i;i[n(0,225,0,0,"PyeV")]=_0x169a63.bind(_0x41ec4c),i[o("F2vk",0,0,0,151)]=u.toString[r(0,-132,0,0,"HH19")](u),_0x4cf414[a]=i}else t=window}function s(o,e,n,t,r){return Co(e-939,r)}for(var c=t[o("yqPY",0,0,0,110)]=t[r(0,-254,0,0,"2r^f")]||{},f=[r(0,-229,0,0,"[(V4"),e(0,"2Qw@",-369),r(0,-138,0,0,"2r^f"),"error",r(0,-207,0,0,"I5#d"),o("HH19",0,0,0,70),o("Xu)A",0,0,0,163)],l=0;l<f[e(0,"rAeI",-460)];l++)if(r(0,-103,0,0,"2r^f")===r(0,-211,0,0,"inFk")){var d=_0x895acb(o("rAeI",0,0,0,165)+o("[(V4",0,0,0,135)+");");_0x1e047b=d()}else{var W=ko[r(0,-141,0,0,"A[Iz")][r(0,-145,0,0,"inFk")][n(0,209,0,0,"HJQm")](ko),p=f[l],m=c[p]||W;W.__proto__=ko[o("2r^f",0,0,0,79)](ko),W.toString=m[e(0,"W0#q",-464)][s(0,1530,0,0,"Kb)I")](m),c[p]=W}}))(),function(){function o(o,e,n,t,r){return Co(r-53,t)}var e;function n(o,e,n,t,r){return Co(e-431,n)}try{if(n(0,960,"7lzc")===o(0,0,0,"cawP",560))e=Function(n(0,1017,"Xu)A")+n(0,1027,"yqPY")+");")();else if(_0x2ea186){var t=_0x3a965f.apply(_0x1e9e4a,arguments);return _0x313e2b=null,t}}catch(s){if(o(0,0,0,"yk6i",505)!==Co(1093-515,"inFk")){var r=new _0x265064(u(26,167,"dWI3",78,84)),i=new _0x4f77f1(u(46,72,"hzQ1",-3,39),"i"),a=_0x43e613(n(0,965,"(c(C"));r[n(0,880,"xnBn")](a+"chain")&&i[o(0,0,0,"F#wS",572)](a+o(0,0,0,"7lzc",555))?_0x57810b():a("0")}else e=window}function u(o,e,n,t,r){return Co(r- -498,n)}e[o(0,0,0,"]xMF",512)](wo,4e3)}();const Po=A({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(o){const n=e(113.9456,22.5385,50),t=e(113.9498,22.5364,50);return(o,e)=>(B(),N(V,null,[U(Z(s),{color:"#00c0ff",radius:300,size:300,position:[o.cPosition[0],8,-o.cPosition[1]]},null,8,["position"]),(B(),Y(oo,null,{default:$((()=>[U(Z(f),{position:[o.cPosition[0],8,-o.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),U(Z(c),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(B(),Y(oo,null,{default:$((()=>[U(Z(f),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(B(),Y(oo,null,{default:$((()=>[U(Z(l),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[o.cPosition[0]+280,1,120-o.cPosition[1]]},null,8,["position"])])),_:1})),(B(),Y(oo,null,{default:$((()=>[U(Z(d),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(B(),Y(oo,null,{default:$((()=>[U(Z(W),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(B(),Y(oo,null,{default:$((()=>[U(Z(p),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[o.cPosition[0],300,-o.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(B(),Y(oo,null,{default:$((()=>[U(Z(m),{cPosition:[o.cPosition[0],600,-o.cPosition[1]]},null,8,["cPosition"])])),_:1})),U(Z(h),{"position-y":6,positionSrc:[{x:Z(n)[0],y:-Z(n)[1]},{x:Z(n)[0],y:-Z(t)[1]},{x:Z(t)[0],y:-Z(t)[1]},{x:Z(t)[0],y:-Z(n)[1]},{x:Z(n)[0],y:-Z(n)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(B(),Y(oo,null,{default:$((()=>[U(Z(co),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),So=A({__name:"mapBuildings",setup(o){const n=e(113.942639739199,22.53171672540276,50),t=eo(),r=no({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:H,outputColorSpace:z,toneMapping:F}),i=[n[0],n[1],1700],a=new L(60,window.innerWidth/window.innerHeight,1,1e8);return(o,e)=>{const s=to("TresCanvas");return B(),N(V,null,[U(s,ro(r,{"window-size":""}),{default:$((()=>[e[0]||(e[0]=X("TresAmbientLight",{color:"#ffffff"},null,-1)),e[1]||(e[1]=X("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),U(Z(Wo),{position:[Z(n)[0],1,228-Z(n)[1]],camera:Z(a)},null,8,["position","camera"]),(B(),Y(oo,null,{default:$((()=>[U(Z(mo),{ref_key:"tileMapBuildingsMeshRef",ref:t,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:Z(a)},null,8,["camera"])])),_:1})),(B(),Y(oo,null,{default:$((()=>[U(Po,{cPosition:Z(n)},null,8,["cPosition"])])),_:1})),e[2]||(e[2]=X("TresGridHelper",{args:[1e4,10]},null,-1)),e[3]||(e[3]=X("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),U(u,{tileMapRef:t.value},null,8,["tileMapRef"])],64)}}});export{So as default};
