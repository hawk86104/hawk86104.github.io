import{b as t,m as n,U as e}from"./@tresjs.0qL_P2CE1735517803200.js";import{bn as r,Y as o,_ as i,V as s}from"./three.-uH5I3Xp1735517803200.js";import{_ as c}from"./three-tile.rGySB-KI1735517803200.js";import{s as a,_ as u,a as p}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.7fq3J4jw1735517803200.js";import{d as l,a6 as f,w as m,o as h,D as g,J as d,u as y,r as b,b as I,f as _,g as j,j as w,m as v,al as x,F as S,e as T,aj as k,ak as A}from"./@vue.-THQH3GC1735517803200.js";import{P as B}from"./tweakpane.yHWGBmom1735517803200.js";import{i as D}from"./informationDiv.4Pi5iLHG1735517803200.js";import"./@vueuse.oT9wchAS1735517803200.js";import"./@fesjs.2Oz5LDgh1735517803200.js";import"./vue-router.alj9m51K1735517803200.js";import"./lodash-es.kYt-_xTG1735517803200.js";import"./@qlin.yHhFDldE1735517803200.js";import"./pinia.7wRRlR_11735517803200.js";import"./vue-demi.C4xddsk91735517803200.js";import"./@floating-ui.BPbuo5Gx1735517803200.js";import"./@juggle.7yjBMqoW1735517803200.js";const P=z;function z(t,n){const e=L();return(z=function(t,n){return e[t-=300]})(t,n)}function L(){const t=["9318992TCaggg","function *\\( *\\)","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","counter","#include <displacementmap_vertex>","rotateX","481450khOudb","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","geo2pos","matrix","stateObject","map","56LsQlKT","test","__proto__","console","395970nsCETT","position-y","info","color","constructor","trace","gger","debu","length","error","table","8889BDyrIZ","toString","DoubleSide","log","applyMatrix4","return (function() ","prototype","uniform sampler2D map;\n\t","133UIrjsB","radraImgShow","string","push","251300VrAiPq","exception","replace","scale","vertexShader","bind","apply","TresGroup","7779332xfSucM","3533253njSycO","chain","height","opacity","206PUjipj","9lIFUBD"];return(L=function(){return t})()}!function(t,n){const e=z,r=L();for(;;)try{if(697598===parseInt(e(314))/1*(parseInt(e(339))/2)+-parseInt(e(335))/3+-parseInt(e(354))/4*(parseInt(e(326))/5)+-parseInt(e(303))/6*(-parseInt(e(322))/7)+parseInt(e(341))/8+parseInt(e(340))/9*(-parseInt(e(347))/10)+-parseInt(e(334))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const M=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[z(332)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){M(this,(function(){const t=z,n=new RegExp(t(342)),e=new RegExp(t(349),"i"),r=Z("init");n.test(r+t(336))&&e[t(300)](r+"input")?Z():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();E(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(319)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(302)]=n[t(302)]||{},r=["log","warn",t(305),t(312),t(327),t(313),t(308)];for(let o=0;o<r[t(311)];o++){const n=E.constructor[t(320)][t(331)](E),i=r[o],s=e[i]||n;n[t(301)]=E[t(331)](E),n[t(315)]=s[t(315)].bind(s),e[i]=n}}))();const F=["position"],R=[P(329),"material",P(346),P(304)],U=l({__name:P(323),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=P;let c,u;const p=n,l=new r({displacementMap:new o,transparent:!0,side:i[e(316)],opacity:p[e(338)],displacementScale:.5,displacementBias:0});l.onBeforeCompile=t=>{const n=e;t[n(330)]=n(321)+t.vertexShader,t.vertexShader=t[n(330)][n(328)](n(345),n(343))};const b=p[e(353)][e(350)](new s(105,34,0));b[e(318)](p.map[e(351)]);const I=a(p[e(353)],{x:67,y:11},{x:140,y:57},p[e(337)]),_=[];for(let t=0;t<9;t++)_[e(325)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+"40.png");let j=0;const w=([c,u]=f((()=>t(_))),c=await c,u(),c);l.map=w[j],m((()=>[p[e(306)],p[e(338)]]),(([t,n])=>{l.opacity=n}));let v=null,x=!1;return x?(clearInterval(v),v=null,x=!1):(v=setInterval((()=>{const t=z;j=j<_[t(311)]-1?j+1:0,l[t(353)]=w[j],l.needsUpdate=!0,console[t(317)](j)}),1e3),x=!0),(t,n)=>{const r=e;return h(),g(r(333),{position:[...y(b)]},[d("TresMesh",{scale:[y(I).x,y(I).y,t.height],material:y(l),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[r(337)]/5},n[0]||(n[0]=[d("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,R)],8,F)}}});function Z(t){function n(t){const e=z;if(typeof t===e(324))return function(t){}[e(307)](e(348)).apply(e(344));1!==(""+t/t)[e(311)]||t%20==0?function(){return!0}[e(307)]("debu"+e(309)).call("action"):function(){return!1}.constructor(e(310)+e(309))[e(332)](e(352)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=W;!function(t,n){const e=W,r=V();for(;;)try{if(279820===parseInt(e(427))/1*(-parseInt(e(428))/2)+parseInt(e(374))/3+-parseInt(e(420))/4+parseInt(e(416))/5+parseInt(e(412))/6+-parseInt(e(387))/7*(parseInt(e(402))/8)+parseInt(e(386))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(418)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=G(t(383));n[t(425)](r+t(384))&&e.test(r+"input")?G():r("0")}))()}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();C(void 0,(function(){const t=W;let n;try{n=Function(t(415)+t(404)+");")()}catch(o){n=window}const e=n[t(408)]=n[t(408)]||{},r=[t(411),t(389),t(406),t(398),t(377),t(380),t(405)];for(let i=0;i<r[t(429)];i++){const n=C[t(379)][t(396)][t(407)](C),o=r[i],s=e[o]||n;n.__proto__=C[t(407)](C),n.toString=s[t(423)][t(407)](s),e[o]=n}}))();const N=["object"];function V(){const t=["opacity","init","chain","controlsEvents","4371084kAALhT","3338433uLjUHJ","mapbox.terrain-rgb","warn","Vector3","TresDirectionalLight","plugin","stateObject","tdLight","debu","prototype","string","error","localToWorld","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","counter","8OVNaKF","action",'{}.constructor("return this")( )',"trace","info","bind","console","透明度","primitive","log","2527476TSLjXv","position","domElement","return (function() ","1586265PqbAlK","value","apply","TileMap","2203608nnrOBz","copy","rotateX","toString","image","test","addBinding","1AZLyXF","447926NboUXr","length","922287zqkkJv","mapbox.satellite","gger","exception","MapBoxSource","constructor","table","height"];return(V=function(){return t})()}const X=q(400);function W(t,n){const e=V();return(W=function(t,n){return e[t-=374]})(t,n)}const $=l({__name:"mapBoxShow3",setup(t){const e=q,r=b({height:200,opacity:1}),o=new B({title:"参数"});o[e(426)](r,e(381),{label:"高度",min:10,max:300,step:1}),o.addBinding(r,e(382),{label:e(409),min:0,max:1,step:.1});const s=new(c[e(392)][e(378)])({token:X,dataType:e(424),style:e(375)}),a=new(c[e(392)][e(378)])({token:X,dataType:"terrain-rgb",style:e(388),maxLevel:15}),l=new(c[e(419)])({imgSource:s,demSource:a,lon0:90,minLevel:2,maxLevel:20});l[e(422)](-Math.PI/2);const f=new(i[e(390)])(105,34,0),T=new(i[e(390)])(110,0,1e4),k=l[e(399)](l.geo2pos(f)),A=l[e(399)](l.geo2pos(T)),D=I(),{camera:P,controls:z,scene:L,renderer:M}=n();return P[e(417)]&&P[e(417)][e(413)][e(421)](A),m((()=>z.value),(t=>{const n=e;t&&(t.target.copy(k),u[n(385)](t,P[n(417)],L.value))})),m((()=>D[e(417)]),(t=>{const n=e;t&&t.target[n(413)][n(421)](k)})),p(P[e(417)],M[e(417)][e(414)],l),(t,n)=>{const o=e;return h(),g(S,null,[d(o(391),{ref_key:o(394),ref:D,position:[0,2e3,1e3],intensity:1},null,512),d(o(410),{object:y(l)},null,8,N),(h(),_(x,null,{default:j((()=>[w(U,v({map:y(l)},r),null,16,["map"])])),_:1}))],64)}}});function G(t){function n(t){const e=W;if(typeof t===e(397))return function(t){}[e(379)]("while (true) {}")[e(418)](e(401));1!==(""+t/t)[e(429)]||t%20==0?function(){return!0}[e(379)]("debu"+e(376)).call(e(403)):function(){return!1}.constructor(e(395)+"gger")[e(418)](e(393)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=Y;!function(t,n){const e=Y,r=Q();for(;;)try{if(298154===-parseInt(e(443))/1+parseInt(e(449))/2+-parseInt(e(440))/3+parseInt(e(415))/4*(-parseInt(e(414))/5)+parseInt(e(427))/6*(-parseInt(e(438))/7)+-parseInt(e(416))/8+parseInt(e(434))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(446)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(){const t=["while (true) {}","init","string","bind","log","18SKpNqE","call","trace","error","TresPerspectiveCamera","counter","toString","8679654maJRLt","return (function() ",'{}.constructor("return this")( )',"__proto__","138607VnPhXf","highp","770706NuTxPq","debu","test","364841KrlcBM","#dbf0ff","stateObject","apply","radraImg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1124294xlebCg","prototype","input","365350tWGwSW","4nvZVVP","3793464duduyt","gger","console","length","constructor","chain"];return(Q=function(){return t})()}!function(){K(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(448),"i"),r=nt(t(423));n[t(442)](r+t(421))&&e[t(442)](r+t(451))?nt():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(t,n){const e=Q();return(Y=function(t,n){return e[t-=414]})(t,n)}H(void 0,(function(){const t=Y;let n;try{n=Function(t(435)+t(436)+");")()}catch(o){n=window}const e=n[t(418)]=n[t(418)]||{},r=[t(426),"warn","info",t(430),"exception","table",t(429)];for(let i=0;i<r[t(419)];i++){const n=H.constructor[t(450)][t(425)](H),o=r[i],s=e[o]||n;n[t(437)]=H[t(425)](H),n[t(433)]=s.toString.bind(s),e[o]=n}}))();const tt=l({__name:J(447),setup(t){const n=J,r=b({clearColor:n(444),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(439)}),o=b({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=T("TresCanvas");return h(),g(S,null,[w(c,v(r,{"window-size":""}),{default:j((()=>[i[0]||(i[0]=d(s(431),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),w(y(e),k(A(o)),null,16),i[1]||(i[1]=d("TresAmbientLight",{intensity:1},null,-1)),w($)])),_:1},16),w(D)],64)}}});function nt(t){function n(t){const e=Y;if(typeof t===e(424))return function(t){}[e(420)](e(422))[e(446)](e(432));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(441)+e(417))[e(428)]("action"):function(){return!1}[e(420)](e(441)+e(417)).apply(e(445)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
