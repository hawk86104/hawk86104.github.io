import{importShared as V}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{c as v,commonVariables as ft,derived as dt,cB as U,cM as P,cE as j,useConfig as ht,useTheme as ye,useThemeClass as vt}from"./light.Bp388JKA1767148983502.js";import{ResizeObserver as bt}from"./index.DTe2qqjO1767148983502.js";import{useRtl as mt}from"./use-rtl.q0hodkC81767148983502.js";import{off as E,on as _}from"./use-merged-state.qnrvbG9d1767148983502.js";function gt(t){return t.composedPath()[0]||null}function be(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function Zt(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}function Y(t,l){const r=t.trim().split(/\s+/g),n={top:r[0]};switch(r.length){case 1:n.right=r[0],n.bottom=r[0],n.left=r[0];break;case 2:n.right=r[1],n.left=r[1],n.bottom=r[0];break;case 3:n.right=r[1],n.bottom=r[2],n.left=r[1];break;case 4:n.right=r[1],n.bottom=r[2],n.left=r[3];break;default:throw new Error("[seemly/getMargin]:"+t+" is not a valid value.")}return l===void 0?n:n[l]}function Nt(t,l){const[r,n]=t.split(" ");return{row:r,col:n||r}}function er(t=8){return Math.random().toString(16).slice(2,2+t)}function tr(t,l){const r=[];for(let n=0;n<t;++n)r.push(l);return r}function rr(t,l){const r=[];if(!l){for(let n=0;n<t;++n)r.push(n);return r}for(let n=0;n<t;++n)r.push(l(n));return r}const pt=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function wt(){return pt}const{onActivated:Rt,onDeactivated:St}=await V("vue");function xt(t){const l={isDeactivated:!1};let r=!1;return Rt(()=>{if(l.isDeactivated=!1,!r){r=!0;return}t()}),St(()=>{l.isDeactivated=!0,r||(r=!0)}),l}function me(t,l){console.error(`[vueuc/${t}]: ${l}`)}class zt{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||bt)(this.handleResize),this.elHandlersMap=new Map}handleResize(l){for(const r of l){const n=this.elHandlersMap.get(r.target);n!==void 0&&n(r)}}registerHandler(l,r){this.elHandlersMap.set(l,r),this.observer.observe(l)}unregisterHandler(l){this.elHandlersMap.has(l)&&(this.elHandlersMap.delete(l),this.observer.unobserve(l))}}const ge=new zt,{defineComponent:yt,renderSlot:Bt,getCurrentInstance:Tt,onMounted:$t,onBeforeUnmount:Mt}=await V("vue"),pe=yt({name:"ResizeObserver",props:{onResize:Function},setup(t){let l=!1;const r=Tt().proxy;function n(a){const{onResize:S}=t;S!==void 0&&S(a)}$t(()=>{const a=r.$el;if(a===void 0){me("resize-observer","$el does not exist.");return}if(a.nextElementSibling!==a.nextSibling&&a.nodeType===3&&a.nodeValue!==""){me("resize-observer","$el can not be observed (it may be a text node).");return}a.nextElementSibling!==null&&(ge.registerHandler(a.nextElementSibling,n),l=!0)}),Mt(()=>{l&&ge.unregisterHandler(r.$el.nextElementSibling)})},render(){return Bt(this.$slots,"default")}});function we(t){const{left:l,right:r,top:n,bottom:a}=Y(t);return`${n} ${l} ${a} ${r}`}const{Comment:Ht,createTextVNode:Pt,Fragment:Ct}=await V("vue");function Re(t,l=!0,r=[]){return t.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&r.push(Pt(String(n)));return}if(Array.isArray(n)){Re(n,l,r);return}if(n.type===Ct){if(n.children===null)return;Array.isArray(n.children)&&Re(n.children,l,r)}else{if(n.type===Ht&&l)return;r.push(n)}}}),r}const{defineComponent:Lt}=await V("vue"),Se=Lt({render(){var t,l;return(l=(t=this.$slots).default)===null||l===void 0?void 0:l.call(t)}}),{cubicBezierEaseInOut:xe}=ft;function Wt({name:t="fade-in",enterDuration:l="0.2s",leaveDuration:r="0.2s",enterCubicBezier:n=xe,leaveCubicBezier:a=xe}={}){return[v(`&.${t}-transition-enter-active`,{transition:`all ${l} ${n}!important`}),v(`&.${t}-transition-leave-active`,{transition:`all ${r} ${a}!important`}),v(`&.${t}-transition-enter-from, &.${t}-transition-leave-to`,{opacity:0}),v(`&.${t}-transition-leave-from, &.${t}-transition-enter-to`,{opacity:1})]}const It={railInsetHorizontalBottom:"auto 2px 4px 2px",railInsetHorizontalTop:"4px 2px auto 2px",railInsetVerticalRight:"2px 4px 2px auto",railInsetVerticalLeft:"2px auto 2px 4px",railColor:"transparent"};function Et(t){const{scrollbarColor:l,scrollbarColorHover:r,scrollbarHeight:n,scrollbarWidth:a,scrollbarBorderRadius:S}=t;return Object.assign(Object.assign({},It),{height:n,width:a,borderRadius:S,color:l,colorHover:r})}const Xt={name:"Scrollbar",common:dt,self:Et},Yt=U("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[v(">",[U("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 min-height: inherit;
 max-height: inherit;
 scrollbar-width: none;
 `,[v("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),v(">",[U("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),v(">, +",[U("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 background: var(--n-scrollbar-rail-color);
 -webkit-user-select: none;
 `,[P("horizontal",`
 height: var(--n-scrollbar-height);
 `,[v(">",[j("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),P("horizontal--top",`
 top: var(--n-scrollbar-rail-top-horizontal-top); 
 right: var(--n-scrollbar-rail-right-horizontal-top); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-top); 
 left: var(--n-scrollbar-rail-left-horizontal-top); 
 `),P("horizontal--bottom",`
 top: var(--n-scrollbar-rail-top-horizontal-bottom); 
 right: var(--n-scrollbar-rail-right-horizontal-bottom); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); 
 left: var(--n-scrollbar-rail-left-horizontal-bottom); 
 `),P("vertical",`
 width: var(--n-scrollbar-width);
 `,[v(">",[j("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),P("vertical--left",`
 top: var(--n-scrollbar-rail-top-vertical-left); 
 right: var(--n-scrollbar-rail-right-vertical-left); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-left); 
 left: var(--n-scrollbar-rail-left-vertical-left); 
 `),P("vertical--right",`
 top: var(--n-scrollbar-rail-top-vertical-right); 
 right: var(--n-scrollbar-rail-right-vertical-right); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-right); 
 left: var(--n-scrollbar-rail-left-vertical-right); 
 `),P("disabled",[v(">",[j("scrollbar","pointer-events: none;")])]),v(">",[j("scrollbar",`
 z-index: 1;
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[Wt(),v("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),{computed:f,defineComponent:Vt,Fragment:Dt,h:g,mergeProps:Ot,onBeforeUnmount:kt,onMounted:Ut,ref:d,Transition:ze,watchEffect:jt}=await V("vue"),_t=Object.assign(Object.assign({},ye.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),Ft=Vt({name:"Scrollbar",props:_t,inheritAttrs:!1,setup(t){const{mergedClsPrefixRef:l,inlineThemeDisabled:r,mergedRtlRef:n}=ht(t),a=mt("Scrollbar",n,l),S=d(null),D=d(null),O=d(null),C=d(null),z=d(null),y=d(null),B=d(null),T=d(null),b=d(null),x=d(null),k=d(null),L=d(0),X=d(0),F=d(!1),A=d(!1);let G=!1,q=!1,p,w,re=0,ne=0,J=0,oe=0;const Be=wt(),K=ye("Scrollbar","-scrollbar",Yt,Xt,t,l),Q=f(()=>{const{value:e}=T,{value:o}=y,{value:i}=x;return e===null||o===null||i===null?0:Math.min(e,i*e/o+be(K.value.self.width)*1.5)}),Te=f(()=>`${Q.value}px`),Z=f(()=>{const{value:e}=b,{value:o}=B,{value:i}=k;return e===null||o===null||i===null?0:i*e/o+be(K.value.self.height)*1.5}),$e=f(()=>`${Z.value}px`),Me=f(()=>{const{value:e}=T,{value:o}=L,{value:i}=y,{value:s}=x;if(e===null||i===null||s===null)return 0;{const u=i-e;return u?o/u*(s-Q.value):0}}),He=f(()=>`${Me.value}px`),Pe=f(()=>{const{value:e}=b,{value:o}=X,{value:i}=B,{value:s}=k;if(e===null||i===null||s===null)return 0;{const u=i-e;return u?o/u*(s-Z.value):0}}),Ce=f(()=>`${Pe.value}px`),le=f(()=>{const{value:e}=T,{value:o}=y;return e!==null&&o!==null&&o>e}),ie=f(()=>{const{value:e}=b,{value:o}=B;return e!==null&&o!==null&&o>e}),Le=f(()=>{const{trigger:e}=t;return e==="none"||F.value}),We=f(()=>{const{trigger:e}=t;return e==="none"||A.value}),M=f(()=>{const{container:e}=t;return e?e():D.value}),Ie=f(()=>{const{content:e}=t;return e?e():O.value}),ae=(e,o)=>{if(!t.scrollable)return;if(typeof e=="number"){W(e,o??0,0,!1,"auto");return}const{left:i,top:s,index:u,elSize:h,position:R,behavior:c,el:m,debounce:$=!0}=e;(i!==void 0||s!==void 0)&&W(i??0,s??0,0,!1,c),m!==void 0?W(0,m.offsetTop,m.offsetHeight,$,c):u!==void 0&&h!==void 0?W(0,u*h,h,$,c):R==="bottom"?W(0,Number.MAX_SAFE_INTEGER,0,!1,c):R==="top"&&W(0,0,0,!1,c)},se=xt(()=>{t.container||ae({top:L.value,left:X.value})}),Ee=()=>{se.isDeactivated||H()},Xe=e=>{if(se.isDeactivated)return;const{onResize:o}=t;o&&o(e),H()},Ye=(e,o)=>{if(!t.scrollable)return;const{value:i}=M;i&&(typeof e=="object"?i.scrollBy(e):i.scrollBy(e,o||0))};function W(e,o,i,s,u){const{value:h}=M;if(h){if(s){const{scrollTop:R,offsetHeight:c}=h;if(o>R){o+i<=R+c||h.scrollTo({left:e,top:o+i-c,behavior:u});return}}h.scrollTo({left:e,top:o,behavior:u})}}function Ve(){Ue(),je(),H()}function De(){N()}function N(){Oe(),ke()}function Oe(){w!==void 0&&window.clearTimeout(w),w=window.setTimeout(()=>{A.value=!1},t.duration)}function ke(){p!==void 0&&window.clearTimeout(p),p=window.setTimeout(()=>{F.value=!1},t.duration)}function Ue(){p!==void 0&&window.clearTimeout(p),F.value=!0}function je(){w!==void 0&&window.clearTimeout(w),A.value=!0}function _e(e){const{onScroll:o}=t;o&&o(e),ce()}function ce(){const{value:e}=M;e&&(L.value=e.scrollTop,X.value=e.scrollLeft*(a?.value?-1:1))}function Fe(){const{value:e}=Ie;e&&(y.value=e.offsetHeight,B.value=e.offsetWidth);const{value:o}=M;o&&(T.value=o.offsetHeight,b.value=o.offsetWidth);const{value:i}=z,{value:s}=C;i&&(k.value=i.offsetWidth),s&&(x.value=s.offsetHeight)}function ue(){const{value:e}=M;e&&(L.value=e.scrollTop,X.value=e.scrollLeft*(a?.value?-1:1),T.value=e.offsetHeight,b.value=e.offsetWidth,y.value=e.scrollHeight,B.value=e.scrollWidth);const{value:o}=z,{value:i}=C;o&&(k.value=o.offsetWidth),i&&(x.value=i.offsetHeight)}function H(){t.scrollable&&(t.useUnifiedContainer?ue():(Fe(),ce()))}function fe(e){var o;return!(!((o=S.value)===null||o===void 0)&&o.contains(gt(e)))}function Ae(e){e.preventDefault(),e.stopPropagation(),q=!0,_("mousemove",window,de,!0),_("mouseup",window,he,!0),ne=X.value,J=a?.value?window.innerWidth-e.clientX:e.clientX}function de(e){if(!q)return;p!==void 0&&window.clearTimeout(p),w!==void 0&&window.clearTimeout(w);const{value:o}=b,{value:i}=B,{value:s}=Z;if(o===null||i===null)return;const h=(a?.value?window.innerWidth-e.clientX-J:e.clientX-J)*(i-o)/(o-s),R=i-o;let c=ne+h;c=Math.min(R,c),c=Math.max(c,0);const{value:m}=M;if(m){m.scrollLeft=c*(a?.value?-1:1);const{internalOnUpdateScrollLeft:$}=t;$&&$(c)}}function he(e){e.preventDefault(),e.stopPropagation(),E("mousemove",window,de,!0),E("mouseup",window,he,!0),q=!1,H(),fe(e)&&N()}function Ge(e){e.preventDefault(),e.stopPropagation(),G=!0,_("mousemove",window,ee,!0),_("mouseup",window,te,!0),re=L.value,oe=e.clientY}function ee(e){if(!G)return;p!==void 0&&window.clearTimeout(p),w!==void 0&&window.clearTimeout(w);const{value:o}=T,{value:i}=y,{value:s}=Q;if(o===null||i===null)return;const h=(e.clientY-oe)*(i-o)/(o-s),R=i-o;let c=re+h;c=Math.min(R,c),c=Math.max(c,0);const{value:m}=M;m&&(m.scrollTop=c)}function te(e){e.preventDefault(),e.stopPropagation(),E("mousemove",window,ee,!0),E("mouseup",window,te,!0),G=!1,H(),fe(e)&&N()}jt(()=>{const{value:e}=ie,{value:o}=le,{value:i}=l,{value:s}=z,{value:u}=C;s&&(e?s.classList.remove(`${i}-scrollbar-rail--disabled`):s.classList.add(`${i}-scrollbar-rail--disabled`)),u&&(o?u.classList.remove(`${i}-scrollbar-rail--disabled`):u.classList.add(`${i}-scrollbar-rail--disabled`))}),Ut(()=>{t.container||H()}),kt(()=>{p!==void 0&&window.clearTimeout(p),w!==void 0&&window.clearTimeout(w),E("mousemove",window,ee,!0),E("mouseup",window,te,!0)});const ve=f(()=>{const{common:{cubicBezierEaseInOut:e},self:{color:o,colorHover:i,height:s,width:u,borderRadius:h,railInsetHorizontalTop:R,railInsetHorizontalBottom:c,railInsetVerticalRight:m,railInsetVerticalLeft:$,railColor:qe}}=K.value,{top:Je,right:Ke,bottom:Qe,left:Ze}=Y(R),{top:Ne,right:et,bottom:tt,left:rt}=Y(c),{top:nt,right:ot,bottom:lt,left:it}=Y(a?.value?we(m):m),{top:at,right:st,bottom:ct,left:ut}=Y(a?.value?we($):$);return{"--n-scrollbar-bezier":e,"--n-scrollbar-color":o,"--n-scrollbar-color-hover":i,"--n-scrollbar-border-radius":h,"--n-scrollbar-width":u,"--n-scrollbar-height":s,"--n-scrollbar-rail-top-horizontal-top":Je,"--n-scrollbar-rail-right-horizontal-top":Ke,"--n-scrollbar-rail-bottom-horizontal-top":Qe,"--n-scrollbar-rail-left-horizontal-top":Ze,"--n-scrollbar-rail-top-horizontal-bottom":Ne,"--n-scrollbar-rail-right-horizontal-bottom":et,"--n-scrollbar-rail-bottom-horizontal-bottom":tt,"--n-scrollbar-rail-left-horizontal-bottom":rt,"--n-scrollbar-rail-top-vertical-right":nt,"--n-scrollbar-rail-right-vertical-right":ot,"--n-scrollbar-rail-bottom-vertical-right":lt,"--n-scrollbar-rail-left-vertical-right":it,"--n-scrollbar-rail-top-vertical-left":at,"--n-scrollbar-rail-right-vertical-left":st,"--n-scrollbar-rail-bottom-vertical-left":ct,"--n-scrollbar-rail-left-vertical-left":ut,"--n-scrollbar-rail-color":qe}}),I=r?vt("scrollbar",void 0,ve,t):void 0;return Object.assign(Object.assign({},{scrollTo:ae,scrollBy:Ye,sync:H,syncUnifiedContainer:ue,handleMouseEnterWrapper:Ve,handleMouseLeaveWrapper:De}),{mergedClsPrefix:l,rtlEnabled:a,containerScrollTop:L,wrapperRef:S,containerRef:D,contentRef:O,yRailRef:C,xRailRef:z,needYBar:le,needXBar:ie,yBarSizePx:Te,xBarSizePx:$e,yBarTopPx:He,xBarLeftPx:Ce,isShowXBar:Le,isShowYBar:We,isIos:Be,handleScroll:_e,handleContentResize:Ee,handleContainerResize:Xe,handleYScrollMouseDown:Ge,handleXScrollMouseDown:Ae,cssVars:r?void 0:ve,themeClass:I?.themeClass,onRender:I?.onRender})},render(){var t;const{$slots:l,mergedClsPrefix:r,triggerDisplayManually:n,rtlEnabled:a,internalHoistYRail:S,yPlacement:D,xPlacement:O,xScrollable:C}=this;if(!this.scrollable)return(t=l.default)===null||t===void 0?void 0:t.call(l);const z=this.trigger==="none",y=(b,x)=>g("div",{ref:"yRailRef",class:[`${r}-scrollbar-rail`,`${r}-scrollbar-rail--vertical`,`${r}-scrollbar-rail--vertical--${D}`,b],"data-scrollbar-rail":!0,style:[x||"",this.verticalRailStyle],"aria-hidden":!0},g(z?Se:ze,z?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?g("div",{class:`${r}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),B=()=>{var b,x;return(b=this.onRender)===null||b===void 0||b.call(this),g("div",Ot(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${r}-scrollbar`,this.themeClass,a&&`${r}-scrollbar--rtl`],style:this.cssVars,onMouseenter:n?void 0:this.handleMouseEnterWrapper,onMouseleave:n?void 0:this.handleMouseLeaveWrapper}),[this.container?(x=l.default)===null||x===void 0?void 0:x.call(l):g("div",{role:"none",ref:"containerRef",class:[`${r}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},g(pe,{onResize:this.handleContentResize},{default:()=>g("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${r}-scrollbar-content`,this.contentClass]},l)})),S?null:y(void 0,void 0),C&&g("div",{ref:"xRailRef",class:[`${r}-scrollbar-rail`,`${r}-scrollbar-rail--horizontal`,`${r}-scrollbar-rail--horizontal--${O}`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},g(z?Se:ze,z?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?g("div",{class:`${r}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:a?this.xBarLeftPx:void 0,left:a?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},T=this.container?B():g(pe,{onResize:this.handleContainerResize},{default:B});return S?g(Dt,null,T,y(this.themeClass,this.cssVars)):T}}),nr=Ft;export{Ft as Scrollbar,pe as VResizeObserver,Se as Wrapper,nr as XScrollbar,er as createId,be as depx,Wt as fadeInTransition,Re as flatten,Nt as getGap,Y as getMargin,gt as getPreciseEventTarget,rr as indexMap,Zt as pxfy,tr as repeat,ge as resizeObserverManager,Xt as scrollbarLight,Et as self,xt as useReactivated};
