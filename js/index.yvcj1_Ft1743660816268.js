import{m as t,C as n}from"./@tresjs.zc7faK4J1743660816268.js";import{d as e,w as i}from"./@vue.B5PFBfKs1743660816268.js";import{C as r,b as s,E as o,o as a,V as c,au as h,O as u,t as l,Q as p,aJ as f,l as d,A as m,a5 as g,B as w,c as y,bb as v,al as b,ac as x,bV as I,ae as M,aa as C}from"./three.2wx8FU0g1743660816268.js";function P(t,n){const e=E();return P=function(t,n){return e[t-=273]},P(t,n)}const A=P;!function(t,n){const e=P,i=E();for(;;)try{if(109863===-parseInt(e(347))/1+parseInt(e(386))/2+parseInt(e(338))/3*(-parseInt(e(297))/4)+-parseInt(e(361))/5*(-parseInt(e(274))/6)+-parseInt(e(325))/7+parseInt(e(376))/8*(-parseInt(e(348))/9)+parseInt(e(284))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const S=function(){let t=!0;return function(n,e){const i=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,i}}();function E(){const t=["sub","clientX","4558310tMZMFx","add","pointermove","rotateTowards","parentElement","min","animating","height","gger","dispose","repeat","removeEventListener","intersectObjects","4lkCpFy","userData","100%","beginPath","onPointerLeave","handleHover","quaternion","scale","ViewHelper: Invalid axis.","controls","arc","bind","warn","remove","material","updateOrientation","toUpperCase","position","trace","domElement","invert","opacity","offset","camera","setOrientation","bottom","setViewport","onpointermove","1238503gTgtgq","setFromEuler","borderRadius","translateX(-50%)","init","spritePoints","apply","onpointerdown","pointerup","bottom-right","offsetHeight","autoClear","zIndex","345963gGggYB","getViewport","stylecursor","rotation","domContainer","getBoundingClientRect","log","animate","axesLines","132964SuceMU","225rhNdyi","onpointerleave","string","backgroundSphere","updateMatrixWorld","transform","div","set","renderOrder","prototype","fill","lookAt","50%","55MxmvaY","update","onPointerDown","startListening","split","translateY(-50%)","controlsChangeEvent","render","left","fillStyle","setAttribute","dragging","getStyle","distanceTo","renderer","27512feQfsd","listener","debu","textAlign","top","fillText","toString","__proto__","type","font","211708rSgsji","clientY","return (function() ","orthoCamera","error","while (true) {}","action","setFromQuaternion","right","multiplyScalar","isViewHelper","viewport","addEventListener","counter","preventDefault","abs","constructor","test","setControls","map","center","flat","width","max","backgroundSpheregeometry","toArray","handleClick",'{}.constructor("return this")( )',"setScalar","change","copy","target","32382DmzicY","console","wrapT","info","domRect","length","applyQuaternion","createElement"];return(E=function(){return t})()}!function(){S(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=et(t(329));n[t(403)](i+"chain")&&e.test(i+"input")?et():i("0")}))()}();const k=function(){let t=!0;return function(n,e){const i=t?function(){if(e){const t=e[P(331)](n,arguments);return e=null,t}}:function(){};return t=!1,i}}();k(void 0,(function(){const t=P;let n;try{n=Function(t(388)+t(413)+");")()}catch(r){n=window}const e=n[t(275)]=n.console||{},i=[t(344),t(309),t(277),t(390),"exception","table",t(315)];for(let s=0;s<i.length;s++){const n=k[t(402)][t(357)][t(308)](k),r=i[s],o=e[r]||n;n[t(383)]=k.bind(k),n[t(382)]=o[t(382)][t(308)](o),e[r]=n}}))();const[_,F,L,R,z,j]=Array(6).fill(0)[A(405)](((t,n)=>n)),T=[new r(16725587),new r(9100032),new r(2920447)],O=new s,D=new p,Q=new o,H=new p,V=new p,Y=new s,Z=2*Math.PI,q=new a,B=new c,N=new c,U=new c,W=new h;let $=0;function X(){const t=A,n=["x","y","z"];return Array(6)[t(358)](0)[t(405)](((e,i)=>{const r=t,s=i<3,o=s?"+":"-",a=n[i%3],c=T[i%3],h=new x(function(t,n=null){const e=A,i=document[e(281)]("canvas");i[e(408)]=128,i[e(291)]=64;const r=i.getContext("2d");r.beginPath(),r[e(307)](32,32,32,0,2*Math.PI),r.closePath(),r[e(370)]=t[e(373)](),r[e(358)](),r[e(300)](),r[e(307)](96,32,32,0,2*Math.PI),r.closePath(),r.fillStyle="#FFF",r[e(358)](),null!==n&&(r[e(385)]="bold 48px Arial",r[e(379)]=e(406),r[e(370)]="#000",r[e(381)](n.toUpperCase(),32,48),r[e(381)](n[e(313)](),96,48));const s=new I(i);return s.wrapS=s[e(276)]=M,s[e(294)].x=.5,new C({map:s,toneMapped:!1,transparent:!0})}(c,s?a:null));return h.userData.type=""+o+a,h[r(304)][r(414)](s?.6:.4),h[r(314)][a]=s?1.2:-1.2,h[r(356)]=1,h}))}function J(t){const n=A;let e=t[n(279)];for(;e--;){const i=e<3?.6:.4;t[e].scale[n(355)](i,i,i),t[e][n(311)][n(405)].offset.x=1}}function G(t,n){const e=A;$=t[e(314)][e(374)](n)}function K(t,n,e,i){const r=A;!function(t,n,e){const i=A;B.x=(t[i(283)]-n[i(369)])/n[i(408)]*2-1,B.y=-(t[i(387)]-n[i(380)])/n[i(291)]*2+1,q.setFromCamera(B,e)}(t,n,e);const s=q[r(296)](i);if(!s[r(279)])return null;return s[0].object}function tt(t,n,e){const i=A;switch(e){case"+x":O[i(355)](1,0,0),D[i(326)](new o(0,.5*Math.PI,0));break;case"+y":O.set(0,1,0),D[i(326)](new o(.5*-Math.PI,0,0));break;case"+z":O[i(355)](0,0,1),D[i(326)](new o);break;case"-x":O.set(-1,0,0),D[i(326)](new o(0,.5*-Math.PI,0));break;case"-y":O[i(355)](0,-1,0),D[i(326)](new o(.5*Math.PI,0,0));break;case"-z":O.set(0,0,-1),D[i(326)](new o(0,Math.PI,0));break;default:console[i(390)](i(305))}G(t,n),function(t,n){const e=A;O[e(395)]($)[e(285)](n),W[e(314)][e(416)](n),W[e(359)](t[e(314)]),H[e(416)](W[e(303)]),W[e(359)](O),V[e(416)](W[e(303)])}(t,n)}class nt extends h{constructor(t,n,e=A(334),i=128){const r=A;super(),this[r(375)]=n,this[r(320)]=t,this[r(316)]=n[r(316)],this[r(389)]=new u(-1.8,1.8,1.8,-1.8,0,4),this[r(396)]=!0,this.animating=!1,this.target=new s,this[r(372)]=!1,this.viewport=new l,this[r(335)]=0,this[r(389)][r(314)][r(355)](0,0,2),this[r(351)]=function(){const t=new f(1.6);return new d(t,new m({color:16777215,side:g,transparent:!0,opacity:0,depthTest:!1}))}(),this[r(346)]=function(){const t=A,n=Array(3)[t(358)](0)[t(405)](((t,n)=>[n?0:.9,1===n?.9:0,2===n?.9:0,0,0,0]))[t(407)](),e=Array(6)[t(358)](0)[t(405)](((n,e)=>e<2?T[0][t(411)]():e<4?T[1].toArray():T[2][t(411)]()))[t(407)](),i=new w;return i.setAttribute("position",new y(new Float32Array(n),3)),i[t(371)]("color",new y(new Float32Array(e),3)),new v(i,new b({linewidth:3,vertexColors:!0}))}(),this[r(330)]=X(),this[r(285)](this[r(351)],this[r(346)],...this.spritePoints),this[r(342)]=function(t,n){const e=A,i=document[e(281)](e(354)),r=i.style;r[e(291)]=n+"px",r[e(408)]=n+"px",r[e(327)]=e(299),r[e(314)]="absolute",r.cursor="pointer";const[s,o]=t[e(365)]("-");return r[e(353)]="",r[e(369)]="left"===o?"0":o===e(406)?e(360):"",r[e(394)]="right"===o?"0":"",r.transform+=o===e(406)?e(328):"",r[e(380)]=s===e(380)?"0":s===e(322)?"":"50%",r.bottom="bottom"===s?"0":"",r[e(353)]+=s===e(406)?e(366):"",r[e(337)]=99999,i}(e,i),this.domElement[r(288)].appendChild(this[r(342)]),this.domRect=this.domContainer[r(343)](),this[r(364)](),this.controlsChangeEvent={listener:()=>this[r(312)]()},this[r(362)](),this[r(312)]()}[A(364)](){const t=A;this[t(342)][t(332)]=n=>this[t(363)](n),this.domContainer[t(324)]=t=>this.onPointerMove(t),this[t(342)][t(349)]=()=>this[t(301)]()}[A(363)](t){const n=A,e=Q[n(416)](this[n(341)]),i=t=>{const i=n;!this[i(372)]&&function(t,n,e=10){const i=A;return Math[i(401)](t[i(283)]-n.x)<e&&Math[i(401)](t.clientY-n.y)<e}(t,N)||(!this[i(372)]&&(J(this.spritePoints),this.dragging=!0),U.set(t[i(283)],t[i(387)])[i(282)](N).multiplyScalar(1/this[i(278)][i(408)]*Math.PI),this.rotation.x=function(t,n,e){const i=A;return Math[i(289)](Math[i(409)](t,n),e)}(e.x+U.y,Math.PI/-2+.001,Math.PI/2-.001),this[i(341)].y=e.y+U.x,this[i(352)](),H[i(416)](this.quaternion)[i(317)](),this.camera.position.set(0,0,1).applyQuaternion(H).multiplyScalar($)[i(285)](this[i(273)]),this.camera.rotation[i(393)](H),this[i(312)](!1))},r=()=>{const e=n;document[e(295)]("pointermove",i,!1),document[e(295)](e(333),r,!1),this[e(372)]?this.dragging=!1:this[e(412)](t)};!0!==this[n(290)]&&(t[n(400)](),N.set(t[n(283)],t[n(387)]),G(this[n(320)],this.target),document.addEventListener(n(286),i,!1),document[n(398)](n(333),r,!1))}onPointerMove(t){const n=A;this.dragging||(this[n(351)][n(311)].opacity=.2,this[n(302)](t))}onPointerLeave(){const t=A;this.dragging||(this[t(351)].material[t(318)]=0,J(this[t(330)]),this[t(342)].stylecursor="")}handleClick(t){const n=A,e=K(t,this[n(278)],this[n(389)],this[n(330)]);e&&this[n(321)](e[n(298)][n(384)])}[A(302)](t){const n=A,e=K(t,this[n(278)],this.orthoCamera,this[n(330)]);J(this[n(330)]),e?(e.material.map[n(319)].x=.5,e[n(304)].multiplyScalar(1.2),this[n(342)][n(340)]="pointer"):this[n(342)][n(340)]=""}[A(404)](t){const n=A;this[n(306)]&&(this[n(306)].removeEventListener(n(415),this[n(367)][n(377)]),this[n(273)]=new s),t&&(this[n(306)]=t,t[n(398)](n(415),this[n(367)][n(377)]),this[n(273)]=t[n(273)])}[A(368)](t){const n=A;this[n(290)]&&this[n(345)](t),this[n(362)]();const e=this[n(278)][n(369)],i=this[n(335)]-this[n(278)].bottom,r=this[n(375)][n(336)];this[n(375)][n(336)]=!1,this.renderer[n(323)](e,i,128,128),this[n(375)][n(368)](this,this[n(389)]),this[n(375)][n(323)](this[n(397)]),this[n(375)].autoClear=r}[A(312)](t=!0){const n=A;t&&(this[n(303)][n(416)](this[n(320)].quaternion)[n(317)](),this.updateMatrixWorld()),function(t,n){const e=A;Y.set(0,0,1),Y[e(280)](n[e(303)]),Y.x>=0?(t[_].material.opacity=1,t[R][e(311)][e(318)]=.5):(t[_][e(311)].opacity=.5,t[R][e(311)][e(318)]=1),Y.y>=0?(t[F][e(311)][e(318)]=1,t[z].material[e(318)]=.5):(t[F][e(311)].opacity=.5,t[z].material[e(318)]=1),Y.z>=0?(t[L].material[e(318)]=1,t[j][e(311)][e(318)]=.5):(t[L][e(311)][e(318)]=.5,t[j].material.opacity=1)}(this[n(330)],this[n(320)])}update(){const t=A;this[t(278)]=this[t(342)].getBoundingClientRect(),this[t(335)]=this.domElement[t(335)],G(this.camera,this[t(273)]),this[t(375)][t(339)](this.viewport),this[t(312)]()}animate(t){const n=A,e=t*Z;H.rotateTowards(V,e),this[n(320)][n(314)][n(355)](0,0,1).applyQuaternion(H).multiplyScalar($).add(this[n(273)]),this[n(320)][n(303)][n(287)](D,e),this[n(312)](),0===H.angleTo(V)&&(this[n(290)]=!1)}[A(321)](t){tt(this[A(320)],this.target,t),this.animating=!0}dispose(){const t=A;this.axesLines.geometry[t(293)](),this[t(346)][t(311)][t(293)](),this[t(410)][t(293)](),this.backgroundSpherematerial[t(293)](),this.spritePoints.forEach((n=>{const e=t;n[e(311)][e(405)].dispose(),n[e(311)][e(293)]()})),this[t(342)][t(310)](),this[t(306)]&&this[t(306)][t(295)](t(415),this[t(367)][t(377)])}}function et(t){function n(t){const e=P;if(typeof t===e(350))return function(t){}.constructor(e(391))[e(331)](e(399));1!==(""+t/t)[e(279)]||t%20==0?function(){return!0}[e(402)](e(378)+e(292)).call(e(392)):function(){return!1}[e(402)](e(378)+"gger")[e(331)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const it=e({__name:"viewHelper",props:{placement:{default:"bottom-right"}},setup(e){const r=e,{camera:s,renderer:o,controls:a}=t();let c=null;i((()=>a.value),(t=>{t&&(c||(c=new nt(s.value,o.value,r.placement)),c.setControls(t))}));const{onAfterRender:h}=n();return h((({delta:t})=>{c&&c?.render(t)})),(t,n)=>null}});function rt(t,n){var e=st();return rt=function(t,n){return e[t-=441]},rt(t,n)}function st(){var t=["action","input","console","45ACLhRl","8338246WmocpW","18ccMtAN","gger","675665cTRQDO","bind","trace","5122912JMSutL","2176276kxPbDz","test","constructor","error","log","while (true) {}","exception",'{}.constructor("return this")( )',"length","4639964McLtNN","343427HpUXjn","info","toString","apply","debu","__proto__","stateObject","function *\\( *\\)","2347098KPCgbg","string","prototype","call"];return(st=function(){return t})()}!function(t,n){for(var e=rt,i=st();;)try{if(957881===parseInt(e(454))/1+parseInt(e(444))/2+parseInt(e(462))/3+parseInt(e(453))/4+parseInt(e(473))/5*(-parseInt(e(471))/6)+parseInt(e(470))/7+parseInt(e(443))/8*(-parseInt(e(469))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var ot,at=(ot=!0,function(t,n){var e=ot?function(){if(n){var e=n.apply(t,arguments);return n=null,e}}:function(){};return ot=!1,e});!function(){at(this,(function(){var t=rt,n=new RegExp(t(461)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=ut("init");n.test(i+"chain")&&e[t(445)](i+t(467))?ut():i("0")}))()}();var ct,ht=(ct=!0,function(t,n){var e=ct?function(){if(n){var e=n.apply(t,arguments);return n=null,e}}:function(){};return ct=!1,e});function ut(t){function n(t){var e=rt;if(typeof t===e(463))return function(t){}[e(446)](e(449)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(446)](e(458)+e(472))[e(465)](e(466)):function(){return!1}.constructor(e(458)+e(472))[e(457)](e(460)),n(++t)}try{if(t)return n;n(0)}catch(e){}}ht(void 0,(function(){for(var t=rt,n=function(){var t,n=rt;try{t=Function("return (function() "+n(451)+");")()}catch(e){t=window}return t}(),e=n[t(468)]=n[t(468)]||{},i=[t(448),"warn",t(455),t(447),t(450),"table",t(442)],r=0;r<i[t(452)];r++){var s=ht[t(446)][t(464)].bind(ht),o=i[r],a=e[o]||s;s[t(459)]=ht[t(441)](ht),s[t(456)]=a.toString[t(441)](a),e[o]=s}}))();export{it as _};
