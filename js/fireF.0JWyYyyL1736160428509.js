var t,e,s,n,i,r,o,a,c,h,l,u,p,f=Object.defineProperty,m=(t,e,s)=>(((t,e,s)=>{e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{_ as d}from"./pagesShow.vue_vue_type_script_setup_true_lang.zh3Kqdjn1736160428509.js";import{_ as w,V as g,C as S,g as y,B as x,X as v,f as I,cl as P,k as F,a2 as A,an as T}from"./three.rmsIv-u_1736160428509.js";import{m as b,e as E}from"./@tresjs.8MtVPQyb1736160428509.js";import{d as z,b as R,a1 as O,o as C,f as q,g as V,j as M}from"./@vue.4u_eOGex1736160428509.js";import"./three-custom-shader-material._2dHD2wr1736160428509.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";const N=yt;!function(t,e){const s=yt,n=zt();for(;;)try{if(804835===-parseInt(s(526))/1+parseInt(s(461))/2*(-parseInt(s(216))/3)+parseInt(s(489))/4*(parseInt(s(402))/5)+-parseInt(s(549))/6+parseInt(s(403))/7*(-parseInt(s(583))/8)+-parseInt(s(274))/9*(parseInt(s(477))/10)+parseInt(s(199))/11)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const _=class{constructor(t){this.name=t}};t=N(610),e=N(554),m(_,t,new _(N(610))),m(_,e,new _(N(554)));let U=_;class B{constructor(){this[N(224)]()}[N(224)](){const t=N;this[t(316)]=U[t(610)],this[t(237)]=1,this[t(311)]=0,this.sequenceElement=new(w[t(330)]),this[t(441)]=new g,this[t(508)]=new(w[t(336)]),this[t(246)]=new(w[t(336)]),this[t(391)]=new(w[t(336)]),this[t(179)]=0,this[t(252)]=0,this.size=new(w[t(188)]),this[t(214)]=new(w[t(210)]),this[t(624)]=1,this.initialSize=new(w[t(188)]),this[t(548)]=new S,this[t(495)]=1}setAll(t,e,s,n,i,r,o,a,c,h,l,u,p,f,m,d){const w=N;this[w(316)]=t,this[w(237)]=e,this[w(311)]=s,this[w(213)][w(360)](n),this[w(441)].copy(i),this[w(508)][w(360)](r),this[w(246)][w(360)](o),this.normal[w(360)](a),this.rotation=c,this[w(252)]=h,this[w(486)]=l,this[w(214)][w(360)](u),this.alpha=p,this[w(621)][w(360)](f),this[w(548)][w(360)](m),this.initialAlpha=d}copyTo(t){const e=N;t[e(177)](this[e(316)],this[e(237)],this[e(311)],this.sequenceElement,this[e(441)],this.velocity,this[e(246)],this[e(391)],this.rotation,this.rotationalSpeed,this[e(486)],this[e(214)],this[e(624)],this[e(621)],this.initialColor,this[e(495)])}copy(t){const e=N;this[e(177)](t[e(316)],t[e(237)],t.age,t.sequenceElement,t[e(441)],t.velocity,t[e(246)],t[e(391)],t[e(179)],t[e(252)],t.size,t[e(214)],t.alpha,t[e(621)],t[e(548)],t[e(495)])}}class j{constructor(){m(this,s,function(){const t=N,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[yt(169)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=yt,e=new RegExp(t(608)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Ct(t(224));e[t(559)](n+t(454))&&s[t(559)](n+t(398))?Ct():n("0")}))()}();const s=new(w[t(336)]);return function(e=new(w[t(384)]),n=null){const i=t,r=e[i(584)],o=e[i(399)];for(let t=0;t<this[i(430)];t++){const e=this.getState(t);let a=e[i(441)];n&&(s[i(360)](a),s[i(332)](n),a=s);const c=Math.max(e[i(486)].x,e[i(486)].y),h=a.x-c,l=a.x+c,u=a.y-c,p=a.y+c,f=a.z-c,m=a.z+c;(0==t||a.x<r.x)&&(r.x=h),(0==t||a.x>o.x)&&(o.x=l),(0==t||a.y<r.y)&&(r.y=u),(0==t||a.y>o.y)&&(o.y=p),(0==t||a.z<r.z)&&(r.z=f),(0==t||a.z>o.z)&&(o.z=m)}return e}}()),m(this,n,function(){const t=N,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[yt(169)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=yt;let s;try{s=Function('return (function() {}.constructor("return this")( ));')()}catch(r){s=window}const n=s[t(319)]=s[t(319)]||{},i=[t(407),"warn",t(613),t(326),t(424),"table",t(575)];for(let o=0;o<i.length;o++){const s=e.constructor.prototype[t(512)](e),r=i[o],a=n[r]||s;s[t(453)]=e[t(512)](e),s[t(217)]=a[t(217)].bind(a),n[r]=s}}))();const s=new(w[t(336)]),n=new(w[t(336)]),i=new(w[t(336)]);return function(e=new(w[t(502)]),r=null){const o=t;let a=0;for(let t=0;t<this[o(430)];t++){const e=this.getState(t);let c=e[o(441)];r&&(i.copy(c),i[o(332)](r),c=i);const h=Math.max(e[o(486)].x,e[o(486)].y);if(0==t)s[o(360)](c),a=h;else{n[o(360)](c).sub(s);const t=n.length()+h;if(t>a){const e=(t-a)/2;n[o(452)]()[o(626)](e),s[o(587)](n),a+=e}}}return e[o(517)][o(360)](s),e[o(285)]=a,e}}());const t=N;this.particleCount=0,this[t(430)]=0,this[t(592)]=[]}[N(224)](t){this[N(339)](t)}[N(339)](t){const e=N;this.particleCount!=t&&(this[e(582)](),this[e(228)](t)),this[e(369)]=t}[N(572)](t){this[N(430)]=t}[N(228)](t){const e=N;this[e(592)]=[],this.particleCount=t;for(let s=0;s<t;s++)this[e(592)][s]=new B}dispose(){}[N(206)](){return this.particleCount}[N(455)](){}[N(230)](t,e){const s=N;if(t>=this[s(369)])throw new Error(s(492));if(e>=this[s(369)])throw new Error(s(198));const n=this[s(592)][t],i=this[s(592)][e];n[s(612)](i)}[N(488)](t,e){const s=N;if(t>=this[s(369)])throw new Error('ParticleStateArray::setState() -> "index" is out of range.');return this[s(592)][t][s(360)](e)}getState(t){const e=N;if(t>=this.particleCount)throw new Error(e(172));return this[e(592)][t]}}s=N(243),n=N(328);class D{constructor(t,e,s=0){this[N(545)]=t,this.length=e,this.id=s}}class X{constructor(){const t=N;this[t(457)]={},this[t(490)]=[]}[N(163)](t,e,s){const n=N;if(this[n(261)](s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const i=new D(t,e,s);return this[n(457)][s]=i,this[n(490)][n(574)](s),i}getSequence(t){const e=N;if(!this[e(261)](t))throw new Error(e(259));return this[e(457)][t]}[N(393)](){return this.ids}[N(261)](t){return!!this[N(457)][t]}}class Y{constructor(){}[N(494)](t){const e=N;t[e(548)][e(414)](1,1,1),t[e(621)][e(414)](1,1),t[e(495)]=1,t.progressType=U.Time,t.lifetime=0,t[e(311)]=0,t[e(213)][e(414)](0,0,0,0),t[e(441)][e(414)](0,0,0),t[e(508)].set(0,0,0),t[e(246)][e(414)](0,0,0),t.normal[e(414)](0,0,1),t[e(179)]=0,t[e(252)]=0,t[e(486)][e(360)](t[e(621)]),t[e(214)][e(360)](t.initialColor),t.alpha=1}}class W extends Y{constructor(){super()}[N(494)](t){super[N(494)](t)}}class L{constructor(){}[N(422)](){}}class J extends L{constructor(){const t=N;super(),this[t(333)]=new g,this[t(528)]=new g,this[t(306)]=new g,this.stateVelocity=new(w[t(336)])}[N(422)](t,e){const s=N;return super[s(422)](t,e),this[s(306)][s(360)](t[s(246)]),this[s(528)][s(360)](this[s(306)]),this.timeScaledAcceleration[s(626)](e),t[s(508)][s(587)](this[s(528)]),this[s(299)].copy(t[s(508)]),this[s(333)][s(360)](this[s(299)]),this[s(333)][s(626)](e),t[s(441)][s(587)](this[s(333)]),t[s(311)]=t[s(311)]+e,t[s(179)]=t.rotation+e*t[s(252)],!0}}class k{static[N(337)](t,e,s){const n=N;return Math.min(Math[n(399)](t,e),s)}static[N(219)](){return performance.now()/1e3}}class G{constructor(){this.components=[]}addComponent(t){const e=N;this.components[e(574)](t)}[N(167)](t,e){const s=N;for(const n of this[s(405)])n[s(167)](t,e)}[N(619)](t){const e=N;if(t>=this[e(405)][e(434)])throw new Error(e(364));return this[e(405)][t]}}const Z=class{constructor(t){this.name=t}};i=N(521),m(Z,i,new Z("NotStarted")),m(Z,"Running",new Z(N(170))),m(Z,"Paused",new Z(N(363))),m(Z,"Done",new Z("Done"));let H=Z;class ${constructor(t,e){m(this,"updateBounds",function(){const t=N,e=new(w[t(573)]);return function(){const s=t;let n=null;this[s(382)]&&(n=e,n[s(360)](this[s(240)][s(464)])[s(509)]()),this.particleSystemRenderer[s(292)]()?(this[s(592)].computeBoundingBox(this[s(446)],n),this[s(263)].setBoundingBox(this.boundingBox)):(this[s(592)][s(328)](this[s(593)],n),this[s(263)][s(421)](this.boundingSphere))}}());const s=N;this[s(240)]=t,this[s(240)][s(359)]=!1,this[s(359)]=!0,this.particleSystemRenderer=e,this[s(561)]=!1,this[s(355)]=0,this[s(430)]=0,this[s(428)]=!0,this[s(287)]=!1,this.particleEmitter=null,this.componentContainer=new G,this[s(409)]=[],this[s(320)]=[],this[s(592)]=null,this[s(577)]=H[s(521)],this[s(581)]=new X,this[s(236)]=null,this.transformInitialDirectionInWorldSpace=!0,this[s(446)]=new(w[s(384)]),this[s(593)]=new y}init(t){const e=N;if(this[e(561)])throw new Error(e(239));this[e(355)]=t,this[e(263)]?(this.particleSystemRenderer[e(189)](this[e(240)]),this[e(263)][e(224)](this[e(355)],this[e(428)]),this[e(263)][e(245)](this[e(428)]),this[e(592)]=this[e(263)].getParticleStateArray()):(this.particleStates=new j,this[e(592)][e(224)](this[e(355)])),this[e(590)](new W),this[e(419)](new J),this[e(561)]=!0}[N(308)](){return this[N(359)]}[N(637)](t){return this[N(359)]=t}[N(555)](t){this[N(236)]=t}update(t,e){const s=N;if(this[s(577)]==H.Running){if(this[s(240)][s(225)](!0),t=null==t||null==t?k[s(219)]():t,e=null==e||null==e?t-this[s(493)]:e,this.emitterInitialized&&this[s(577)]==H[s(170)]){const t=this[s(174)].update(e);t>0&&this[s(569)](t),this[s(418)](e),this[s(236)]&&this[s(236)](this[s(430)]),this[s(602)]()}this[s(481)][s(167)](t,e),this.lastUpdateTime=t}}render(t,e){const s=N;if(this[s(308)]()&&this[s(263)]){const n=t[s(303)];t[s(303)]=!1,this.owner[s(359)]=!0,this.owner.matrixWorldNeedsUpdate=!0,this[s(263)][s(325)](this[s(240)],t,e),this.owner[s(359)]=!1,t[s(303)]=n}}start(){const t=N;this[t(577)]!=H[t(521)]&&this[t(577)]!=H[t(363)]||(this[t(577)]=H[t(170)],this[t(342)]=k[t(219)](),this[t(493)]=this[t(342)])}[N(594)](){const t=N;this.systemState==H.Running&&(this[t(577)]=H[t(363)])}[N(451)](){}[N(500)](){return this[N(577)]}[N(448)](t){const e=N;return this[e(174)]=t,this[e(174)][e(355)]=this.maximumActiveParticles,this[e(287)]=!0,this.particleEmitter}addComponent(t){const e=N;this[e(481)][e(266)](t)}[N(619)](t){const e=N;return this[e(481)][e(619)](t)}[N(590)](t){const e=N;return this[e(409)][e(574)](t),t}[N(618)](){const t=N;return this[t(409)][t(434)]}[N(596)](t){const e=N;if(t>=this[e(409)][e(434)])throw new Error(e(478));return this[e(409)][t]}[N(419)](t){const e=N;return this[e(320)][e(574)](t),t}getParticleStateOperatorCount(){return this[N(320)].length}[N(470)](t){const e=N;if(t>=this[e(320)][e(434)])throw new Error(e(578));return this[e(320)][t]}getMaximumActiveParticles(){return this[N(355)]}[N(215)](){return this[N(430)]}getParticleState(t){const e=N;if(t>=this[e(430)])throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this[e(592)][e(256)](t)}[N(379)](){return this.particleStates}[N(297)](){return this[N(263)]}[N(597)](){return this[N(428)]}[N(245)](t){const e=N;this[e(428)]=t,this[e(263)]&&this[e(263)][e(245)](this[e(428)])}[N(307)](t){this[N(382)]=t}addParticleSequence(t,e,s=0){const n=N;this[n(581)][n(163)](t,e,s)}getParticleSequences(){return this.particleSequences}[N(531)](){return this[N(174)]}[N(569)](t){const e=N;if(this[e(577)]==H[e(170)]){const s=k[e(337)](this[e(430)]+t,0,this[e(355)]);for(let t=this[e(430)];t<s;t++)this[e(373)](t);this[e(430)]=s,this.particleStates[e(572)](this[e(430)])}}[N(373)](t){const e=N;if(this[e(577)]==H[e(170)]){const s=this[e(592)][e(256)](t);s.age=0;for(let t=0;t<this[e(409)][e(434)];t++){this[e(409)][t][e(494)](s)}if(this[e(428)]){s[e(441)].applyMatrix4(this.owner.matrixWorld);const t=s.velocity[e(434)]();if(this[e(382)]){s[e(508)][e(505)](this[e(240)][e(464)]).multiplyScalar(t);const n=s[e(246)][e(434)]();s.acceleration[e(505)](this[e(240)][e(464)])[e(626)](n)}}this[e(592)][e(455)](t)}}[N(418)](t){const e=N;if(this[e(577)]==H[e(170)]){let s=0;for(;s<this[e(430)];){this.advanceActiveParticle(s,t)?s++:(s<this[e(430)]-1&&this[e(552)](this[e(430)]-1,s),this[e(430)]--)}this[e(592)][e(572)](this[e(430)])}}[N(585)](t,e){const s=N;if(this[s(577)]==H[s(170)]){const n=this[s(592)][s(256)](t);for(let t=0;t<this[s(320)].length;t++){const i=this[s(320)][t].updateState(n,e),r=n[s(237)];if(!i||0!=r&&n[s(311)]>=r)return!1}return this[s(592)].flushParticleStateToBuffers(t),!0}return!1}copyParticleInArray(t,e){const s=N;this[s(592)][s(230)](t,e),this[s(592)][s(455)](e)}static[N(527)](t,e,s){const n=N,i=(t,e,s)=>{const n=yt;e(t);for(const r in t)if(t[n(520)](r)){const s=t[r];typeof s===n(284)&&i(s,e)}};i(t,(t=>{const s=yt;t[s(278)]&&(t[s(278)]=e[s(171)](t[s(278)]))}));const r=t[n(535)],o=t[n(428)],a=t[n(416)],c=a.type.fromJSON(a[n(635)]),h=new(w[n(539)]),l=new $(h,c,s);l[n(224)](r),l.setSimulateInWorldSpace(o);const u=t.emitter,p=u[n(278)][n(527)](u[n(635)]);if(l[n(448)](p),t[n(457)])for(const f of t[n(457)])l[n(600)](f[n(545)],f[n(434)],f.id);if(t[n(480)])for(const f of t[n(480)])l[n(590)](f.type.fromJSON(l,f[n(635)]));if(t[n(438)])for(const f of t[n(438)]){const t=l.addParticleStateOperator(f[n(278)][n(527)](l,f[n(635)]));f[n(358)]&&t.addElementsFromParameters(f.elements)}return[l,h]}[N(345)](t){const e=N,s=this[e(297)](),n=this.getEmitter(),i=this[e(557)](),r=i.getSequenceIDs()[e(475)]((t=>{const s=e,n=i.getSequence(t);return{id:t,start:n.start,length:n[s(434)]}})),o=[],a=this[e(618)]();for(let l=0;l<a;l++){const s=this.getParticleStateInitializer(l);s[e(226)]!==W&&o[e(574)]({type:t[e(309)](s[e(226)]),params:s[e(345)](t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s[e(226)]!==J){const n=s[e(345)](t),i=n[e(635)]||n,r=n.params?n.elements:null,o={type:t.getTypePath(s.constructor),params:i};r&&(o[e(358)]=r),c[e(574)](o)}}return{maxParticleCount:this[e(250)](),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t[e(309)](s.constructor),params:s[e(345)]()},emitter:{type:t[e(309)](n[e(226)]),params:n[e(345)]()},sequences:r,initializers:o,operators:c}}}class Q{constructor(){const t=N;this[t(338)]=[],this[t(417)]=performance[t(208)]()/1e3,this[t(493)]=this[t(417)],this[t(481)]=new G}[N(167)](){const t=N,e=k[t(219)](),s=e-this[t(493)];for(const n of this[t(338)])n[t(167)](e,s);this[t(481)][t(167)](e,s),this[t(493)]=e}[N(325)](t,e){const s=N;for(const n of this[s(338)])n[s(325)](t,e)}addParticleSystem(t){const e=N;this[e(338)][e(574)](t)}addComponent(t){const e=N;this[e(481)][e(266)](t)}getComponent(t){const e=N;return this[e(481)][e(619)](t)}}class K{constructor(){const t=N;this[t(561)]=!1,this.particleCount=0,this[t(240)]=null,this[t(428)]=!1}[N(245)](t){this[N(428)]=t}[N(641)](){}setOwner(t){this[N(240)]=t}[N(224)](t){const e=N;if(this.particleCount=t,!this.initialized)return this[e(561)]=!0,!0;throw new Error("Renderer::init() -> trying to intialize more than once.")}render(){}}class tt extends j{constructor(){const t=N;super(),this.geometry=null,this[t(507)]=null,this[t(207)]=null,this[t(272)]=null,this[t(415)]=null,this.positions=null,this[t(271)]=null,this[t(431)]=null,this[t(178)]=null,this[t(387)]=null,this[t(586)]=null,this.sizes=null,this.colors=null,this[t(432)]=null,this[t(604)]=null,this.instanced=!1,this[t(290)]=6}[N(224)](t,e=!1){const s=N;this[s(356)]=e,this[s(356)]?this[s(290)]=1:this[s(290)]=6,super[s(224)](t),this[s(228)](t)}[N(339)](t){super[N(339)](t)}[N(572)](t){const e=N;super[e(572)](t),t>0?this[e(356)]?this[e(553)][e(639)]=t:this[e(553)][e(506)](0,this[e(290)]*t):this[e(356)]?this[e(553)][e(639)]=0:this[e(553)].setDrawRange(0,0)}[N(455)](t){const e=N;if(t>=this[e(369)])throw new Error(e(450));const s=this.getState(t),n=t*this[e(290)];for(let i=0;i<this[e(290)];i++)this.lifetimes[e(401)](n+i,s[e(237)]),this[e(207)][e(296)]=!0,this[e(272)][e(401)](n+i,s[e(311)]),this[e(272)].needsUpdate=!0,this[e(415)][e(318)](n+i,s[e(213)].x,s[e(213)].y,s.sequenceElement.z,s.sequenceElement.w),this[e(415)][e(296)]=!0,this[e(277)][e(202)](n+i,s.position.x,s.position.y,s[e(441)].z),this[e(277)][e(296)]=!0,this.velocities[e(202)](n+i,s[e(508)].x,s.velocity.y,s[e(508)].z),this[e(271)].needsUpdate=!0,this[e(431)][e(202)](n+i,s[e(246)].x,s[e(246)].y,s.acceleration.z),this[e(431)].needsUpdate=!0,this[e(178)][e(202)](n+i,s[e(391)].x,s[e(391)].y,s[e(391)].z),this[e(178)][e(296)]=!0,this.rotations[e(401)](n+i,s[e(179)]),this[e(387)][e(296)]=!0,this[e(586)][e(401)](n+i,s[e(252)]),this[e(586)].needsUpdate=!0,this.sizes.setXY(n+i,s[e(486)].x,s[e(486)].y),this.sizes.needsUpdate=!0,this[e(550)][e(202)](n+i,s[e(214)].r,s[e(214)].g,s[e(214)].b),this.colors[e(296)]=!0,this[e(410)][e(401)](n+i,s[e(624)]),this.alphas.needsUpdate=!0,this[e(432)].setXY(n+i,s.initialSize.x,s.initialSize.y),this.initialSizes[e(296)]=!0,this[e(351)].setX(n+i,s.initialAlpha),this[e(351)].needsUpdate=!0}[N(230)](t,e){super[N(230)](t,e),this.flushParticleStateToBuffers(e)}[N(488)](t,e){const s=N;if(t>=this.particleCount)throw new Error(s(241));super.setState(t,e),this[s(455)](t)}[N(279)](){return this[N(277)]}[N(614)](){return this.sizes}getRotations(){return this[N(387)]}[N(204)](){return this[N(415)]}[N(367)](){return this.colors}[N(483)](){return this.geometry}[N(228)](t){const e=N;super.allocate(t);const s=(t,e)=>{const s=yt;return this[s(356)]?new(w[s(276)])(t,e):new(w[s(197)])(t,e)},n=this[e(290)]*this[e(369)];if(this.instanced){const t=new x,s=new Float32Array(18);this[e(465)]=new(w[e(197)])(s,3),t[e(589)](e(441),this[e(465)]),this[e(465)][e(296)]=!0,this.basePositions[e(202)](0,-1,1,0),this[e(465)][e(202)](1,-1,-1,0),this[e(465)][e(202)](2,1,1,0),this[e(465)][e(202)](3,-1,-1,0),this[e(465)][e(202)](4,1,-1,0),this[e(465)][e(202)](5,1,1,0);const n=new Float32Array(12);this.baseUVs=new(w[e(197)])(n,2),t.setAttribute(e(298),this[e(547)]),this[e(547)][e(296)]=!0,this[e(547)][e(630)](0,0,1),this[e(547)][e(630)](1,0,0),this[e(547)][e(630)](2,1,1),this[e(547)][e(630)](3,0,0),this.baseUVs[e(630)](4,1,0),this[e(547)][e(630)](5,1,1);const i=new Float32Array(6);this.customIndexes=new(w[e(197)])(i,1),t[e(589)]("customIndex",this[e(282)]),this.customIndexes[e(296)]=!0,this[e(282)][e(401)](0,0),this[e(282)][e(401)](1,1),this.customIndexes[e(401)](2,3),this[e(282)][e(401)](3,1),this[e(282)][e(401)](4,2),this[e(282)].setX(5,3),this[e(553)]=(new(w[e(304)]))[e(360)](t),this[e(553)][e(639)]=0}else{this[e(553)]=new x;const t=new Float32Array(n);this[e(282)]=new(w[e(197)])(t,1),this[e(553)][e(589)]("customIndex",this[e(282)]),this[e(282)][e(296)]=!0;for(let s=0;s<this[e(369)];s++){const t=s*this.verticesPerParticle;this.customIndexes[e(401)](t,0),this[e(282)].setX(t+1,1),this.customIndexes[e(401)](t+2,3),this[e(282)][e(401)](t+3,1),this[e(282)][e(401)](t+4,2),this[e(282)][e(401)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),o=new Float32Array(4*n),a=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),f=new Float32Array(2*n),m=new Float32Array(3*n),d=new Float32Array(n),g=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(277)]=s(a,3),this.positions[e(538)](w[e(218)]),this[e(553)][e(589)](e(515),this.positions),this.lifetimes=s(i,1),this.lifetimes[e(538)](w[e(218)]),this[e(553)][e(589)](e(237),this[e(207)]),this.ages=s(r,1),this[e(272)].setUsage(w[e(218)]),this.geometry[e(589)](e(311),this.ages),this.sequenceElements=s(o,4),this[e(415)].setUsage(v),this[e(553)][e(589)](e(213),this[e(415)]),this[e(271)]=s(c,3),this[e(271)][e(538)](v),this.geometry.setAttribute(e(508),this[e(271)]),this[e(431)]=s(h,3),this.accelerations[e(538)](w[e(218)]),this[e(553)][e(589)](e(246),this.accelerations),this[e(178)]=s(l,3),this.normals[e(538)](w[e(218)]),this[e(553)][e(589)]("normal",this[e(178)]),this[e(387)]=s(u,1),this.rotations[e(538)](w[e(218)]),this[e(553)][e(589)](e(179),this[e(387)]),this[e(586)]=s(p,1),this[e(586)][e(538)](w[e(218)]),this[e(553)][e(589)](e(252),this[e(586)]),this.sizes=s(f,2),this[e(615)][e(538)](v),this[e(553)][e(589)](e(486),this[e(615)]),this.colors=s(m,3),this[e(550)][e(538)](w[e(218)]),this[e(553)][e(589)]("color",this.colors),this[e(410)]=s(d,1),this[e(410)][e(538)](v),this[e(553)][e(589)](e(624),this[e(410)]),this[e(432)]=s(g,2),this.initialSizes[e(538)](w[e(218)]),this[e(553)][e(589)](e(621),this[e(432)]),this[e(604)]=s(S,3),this[e(604)].setUsage(v),this[e(553)][e(589)](e(548),this[e(604)]),this[e(351)]=s(y,1),this[e(351)][e(538)](v),this[e(553)][e(589)](e(495),this.initialAlphas)}dispose(){const t=N;super.dispose(),this.geometry&&(this.geometry[t(582)](),this[t(553)]=null)}}class et{constructor(t,e,s,n,i){const r=N;this[r(434)]=t,this.x=e,this.y=s,this[r(324)]=n,this[r(248)]=i}}class st{constructor(t,e){const s=N;this[s(504)]=t,this[s(468)]=e,this[s(529)]=[]}[N(439)](){return this[N(504)]}[N(314)](){return this[N(468)]}[N(514)](){return this[N(529)].length}addFrameSet(t,e,s,n,i){const r=N;this.frameSets[r(574)](new et(t,e,s,n,i))}[N(616)](t){const e=N;if(t>=this[e(529)].length)throw new Error('Atlas::getFrameSet -> "index" is out of range.');return this[e(529)][t]}}const nt=class t extends K{constructor(t,e,s=!1,n=P,i=!0,o){const a=N;super(),m(this,r,function(){const t=new g;return function(){const e=yt,s=this[e(632)][e(483)]();if(this[e(329)]){s.boundingBox||(s.boundingBox=new(w[e(384)])),s[e(446)].copy(this[e(446)]),!s[e(593)]&&(s[e(593)]=new y),t.x=(this[e(446)][e(584)].x+this[e(446)][e(399)].x)/2,t.y=(this.boundingBox[e(584)].y+this[e(446)].max.y)/2,t.z=(this[e(446)].min.z+this.boundingBox[e(399)].z)/2;const n=this[e(446)][e(399)].x-t.x,i=this.boundingBox.max.y-t.y,r=this[e(446)].max.z-t.z,o=Math.max(Math[e(399)](n,i),r);s.boundingSphere.center[e(360)](t),s.boundingSphere[e(285)]=Math.sqrt(2*o*o)}else s[e(593)]||(s[e(593)]=new y),s.boundingSphere.copy(this[e(593)])}}()),this[a(356)]=t,this[a(632)]=null,this[a(485)]=null,this[a(327)]=null,this[a(195)]=e,this[a(294)]=s,this[a(371)]=n,this[a(446)]=new I,this[a(593)]=new(w[a(502)]),this[a(329)]=i,this[a(580)]=o}[N(189)](t){super[N(189)](t)}getParticleStateArray(){return this[N(632)]}setSimulateInWorldSpace(t){const e=N;super[e(245)](t),this[e(485)]&&(this[e(485)][e(601)][e(428)][e(395)]=t?1:0,this.material[e(588)]=!0)}[N(292)](){return this[N(329)]}[N(567)](t){const e=N;this[e(446)][e(360)](t),this[e(327)]&&this.updateMeshBounds()}setBoundingSphere(t){const e=N;this.boundingSphere[e(360)](t),this[e(327)]&&this[e(323)]()}[N(325)](t,e,s){e[N(325)](t,s)}[(r=N(323),N(224))](t){const e=N;super[e(224)](t)&&(this[e(632)]=new tt,this[e(632)].init(t,this[e(356)]),this[e(485)]=this[e(525)](null,null,null,!0,!1),this[e(485)].blending=this[e(371)],this.mesh=new(w[e(269)])(this[e(632)][e(483)](),this.material),this[e(327)][e(558)]=!0,void 0!==this[e(580)]&&(this[e(327)][e(580)]=this[e(580)]),this[e(323)](),this[e(240)][e(587)](this[e(327)]))}[N(582)](){const t=N;this[t(632)][t(582)]()}[N(525)](e,s,n,i,r){const o=N,a=[...Array(16)[o(247)]()][o(475)]((t=>new(w[o(330)])));if(this.atlas)for(let t=0;t<this[o(195)][o(514)]();t++){const e=this[o(195)].getFrameSet(t);a[t]=new(w[o(330)])(e.x,e.y,e[o(324)],e.height)}const c=this[o(195)]?this[o(195)][o(439)]():null,h=this[o(294)],l=this[o(428)],u=this[o(356)]?1:0,p={atlasFrameSet:{type:o(617),value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(w[o(188)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[o(435)](n,p),e=e||t[o(530)][o(631)](r),s=s||t[o(530)][o(200)](i,r),new(w[o(458)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:w[o(275)],blendDstAlpha:w[o(463)],blendSrcAlpha:w[o(544)],depthTest:!0,depthWrite:!1})}static[(o=N(530),N(527))](e){const s=N,n=e[s(195)],i=(new(w[s(524)]))[s(286)](n.texturePath),r=new st(i,n[s(468)]),o=n[s(491)];for(const t of o)r[s(273)](t[s(434)],t.x,t.y,t[s(324)],t[s(248)]);const a=new t(e[s(356)],r,n[s(627)]);return e[s(371)]==s(443)?a[s(371)]=w[s(295)]:a[s(371)]=P,a}[N(345)](t){const e=N;t=t||(t=>{const e=yt;if(t.texturePath)return t[e(468)];const s=t[e(439)]()[e(280)];if(s){const t=s[e(344)];if(t){const s=t[e(162)],n=t[e(563)];return n[e(471)](s)>=0?n[e(541)](s[e(434)],n[e(434)]-s[e(434)]):n}}});const s=[];for(let i=0;i<this[e(195)][e(514)]();i++){const t=this[e(195)][e(616)](i);s.push(t)}let n="Normal";this[e(485)][e(371)]===w[e(295)]&&(n=e(443));return{instanced:this.instanced,blending:n,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this[e(195)]),framesets:s}}}};m(nt,o,{get VertexVars(){const t=N;return[t(196),t(599),t(221),t(404),t(361),t(456),t(193),t(227),t(447),t(445),t(334),t(518),"attribute float alpha;\n",t(229),t(628),"varying vec3 vFragColor;\n","varying float vFragAlpha;\n",t(408)][t(186)]("\n")},get FragmentVars(){const t=N;return["uniform int interpolateAtlasFrames; \n",t(496),t(620),"varying vec2 vUV1;\n",t(628),t(603),"varying float vFragAlpha;\n",t(560)][t(186)]("\n")},getVertexShader(t){const e=N;let s=[e(388),this.VertexVars][e(186)]("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=[e(321),e(343),e(335),e(605),"   float atlasFrameY = atlasFrames.y; \n",e(484),e(209),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(396),e(400),e(394),e(389),e(187),e(472),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n",e(262),"   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n",e(406),"void main()\n","{\n",e(487),e(341),e(283),"   const vec2 down = vec2(0.0, -1.0);\n","   const vec2 uRight = vec2(1.0, 1.0);\n",e(522),"   const vec2 dLeft = vec2(-1.0, -1.0);\n",e(640),"   vec4 viewPosition; \n",e(433),e(378),e(429),"       viewPosition = viewMatrix * modelMatrix * particlePosition;\n",e(551),e(258),e(380),"   int sequenceStart = int(sequenceElement.z);\n",e(568),e(265),"   vec2 uv1; \n",e(622),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",e(365),e(501),e(636),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","   } \n",e(343),e(335),e(194),"   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n",e(459),"   float upperSide; \n",e(234),e(235),e(390),e(231),e(313),e(183),e(349),e(551),"   float uvXOffset = atlasFrameWidth * rightSide; \n",e(629),e(347),e(234),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(546),"       float dLeftV = rotVecStep.y - rotVecStep.x; \n",e(249),e(625),e(440),e(313),"       rotVec = position.xy; \n ",e(551),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n",e(181),e(449),"   vFragColor = color; \n",e(476)][e(186)]("\n"),t&&(s+="   \n  #include <logdepthbuf_vertex> \n"),s+="} \n",s},getFragmentShader(t,e){const s=N;let n=s(267)+this[s(473)]+"\n";return e&&(n+="  \n #include <logdepthbuf_pars_fragment> \n"),n+=s(352),e&&(n+="    \n  #include <logdepthbuf_fragment> \n"),n+=t?[s(566),s(607),"   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(497),s(466)][s(186)]("\n"):[s(242),s(607),s(291),s(497),s(466)][s(186)]("\n"),n+="}\n",n}});let it=nt;class rt{constructor(){const t=N;this.emissionRelativeStartTime=0,this[t(611)]=0,this.emitCount=0,this[t(311)]=0,this[t(168)]=0,this[t(498)]=0,this[t(355)]=0}[N(167)](t){return this[N(370)](t),0}[N(370)](t){const e=N;return this.age+=t,this[e(168)]=Math[e(399)](this.age-this[e(397)],0),this[e(311)]>=this[e(397)]&&(0==this[e(611)]||this[e(168)]<=emissionDuration)}updateEmitCount(t){this.emitCount+=t}}class ot extends rt{constructor(){const t=N;super(),this.emissionMinimum=0,this[t(469)]=0}}class at extends ot{constructor(t=0){super(),this.emissionRate=t}[N(167)](t){const e=N;if(this.internalUpdate(t)){const t=this[e(479)]*this.timeActive-this[e(606)];if(t>=1){const s=Math[e(442)](t);return this.updateEmitCount(s),s}}return 0}static fromJSON(t){const e=N,s=new at;return s[e(479)]=t[e(479)]||0,s}[N(345)](){return{emissionRate:this[N(479)]}}}const ct=class t{constructor(t){this[N(576)]=t}static[(a=N(257),c=N(336),h=N(330),N(519))](e){const s=N;let n=t[s(257)];return e===w[s(188)]?n=t[s(188)]:e===w[s(336)]?n=t.Vector3:e===w[s(330)]?n=t.Vector4:e===S&&(n=t.Color),n}static[N(281)](t,e){const s=N;switch(e){case w[s(188)]:return(new F)[s(185)](t);case g:return(new g)[s(185)](t);case w[s(330)]:return(new(w[s(330)]))[s(185)](t);case w[s(210)]:return(new(w[s(210)]))[s(185)](t)}return t}};m(ct,a,new ct(N(257))),m(ct,"Vector2",new ct(N(188))),m(ct,c,new ct(N(336))),m(ct,h,new ct("Vector4")),m(ct,"Color",new ct(N(210)));let ht=ct;class lt{constructor(t){const e=N;this[e(381)]=t,this.outTypeID=ht[e(519)](t)}}class ut extends lt{constructor(t,e,s,n,i,r){const o=N;super(t),this[o(353)]=e,this[o(564)]=s,this[o(634)]=n,this[o(571)]=i,this[o(452)]=r}[N(312)](t){const e=N,s=Math.random()*this[e(634)];switch(this[e(301)]){case ht.Default:t=Math[e(534)]()*this.range+this[e(564)],this.normalize&&(t=t<0?-1:1);break;case ht[e(188)]:t[e(414)](this[e(436)](s,"x"),this.generateForElement(s,"y"));break;case ht[e(336)]:t.set(this.generateForElement(s,"x"),this[e(436)](s,"y"),this[e(436)](s,"z"));break;case ht[e(330)]:t[e(414)](this[e(436)](s,"x"),this[e(436)](s,"y"),this[e(436)](s,"z"),this[e(436)](s,"w"))}return this[e(452)]&&t[e(452)](),t}[N(436)](t,e){const s=N;return t+Math.random()*this[s(353)][e]+this[s(564)][e]+this[s(571)]}clone(){const t=N;return new ut(this.outType,this[t(353)],this.offset,this[t(634)],this[t(571)],this[t(452)])}static getParameterJSON(t){const e=N;return t instanceof w[e(188)]||t instanceof w[e(336)]||t instanceof w[e(330)]||t instanceof w[e(210)]?t.toArray():t}static fromJSON(t){const e=N;return new ut(t[e(278)],ht[e(281)](t.range,t[e(278)]),ht[e(281)](t[e(564)],t[e(278)]),t.uniformRange||0,t.uniformOffset||0,t[e(452)])}[N(345)](t){const e=N,s={range:ut[e(377)](this.range),offset:ut[e(377)](this[e(564)]),uniformRange:this[e(634)],uniformOffset:this[e(571)]},n=t[e(309)](this[e(353)][e(226)]);return null!=n&&(s.type=n),{type:t[e(309)](ut),params:s}}}class pt extends Y{constructor(t,e,s,n,i){const r=N;super(),this[r(353)]=t,this[r(564)]=e,this[r(634)]=s,this[r(571)]=n,this[r(452)]=i,this[r(499)]=new ut(0,this.range,this[r(564)],this.uniformRange,this[r(571)],this[r(452)])}[N(494)](t){const e=N;t[e(237)]=this[e(499)][e(312)]()}static[N(527)](t,e){const s=N;return new pt(e[s(353)],e[s(564)],e[s(634)],e[s(571)],e.normalize)}[N(345)](){const t=N;return{range:this.range,offset:this[t(564)],uniformRange:this[t(634)],uniformOffset:this.uniformOffset,normalize:this[t(452)]}}}class ft extends Y{constructor(t){const e=N;super(),this[e(499)]=t[e(180)]()}[N(494)](t){const e=N;t[e(179)]=this[e(499)][e(312)](t.rotation)}static[N(527)](t,e){const s=N,n=e[s(499)][s(278)][s(527)](e.generator.params);return new ft(n)}[N(345)](t){const e=N;return{generator:this[e(499)][e(345)](t)}}}class mt extends Y{constructor(t,e,s,n,i){const r=N;super(),this[r(353)]=t,this[r(564)]=e,this[r(634)]=s,this[r(571)]=n,this[r(452)]=i,this[r(499)]=new ut(0,this[r(353)],this[r(564)],this.uniformRange,this[r(571)],this[r(452)])}initializeState(t){const e=N;t[e(252)]=this[e(499)][e(312)]()}static[N(527)](t,e){const s=N;return new mt(e[s(353)],e.offset,e[s(634)],e[s(571)],e[s(452)])}toJSON(){const t=N;return{range:this[t(353)],offset:this.offset,uniformRange:this[t(634)],uniformOffset:this[t(571)],normalize:this[t(452)]}}}class dt extends Y{constructor(t,e){const s=N;super(),this[s(537)]=new ut(g,t,e,0,0,!1)}[N(494)](t){const e=N;this.randomGenerator[e(312)](t[e(441)])}static[N(527)](t,e){const s=N;return new dt((new(w[s(336)]))[s(185)](e.range),(new g)[s(185)](e.offset))}[N(345)](){const t=N;return{range:this[t(537)][t(353)][t(420)](),offset:this[t(537)][t(564)][t(420)]()}}}class wt extends Y{constructor(t){const e=N;super(),this.generator=t[e(180)]()}[N(494)](t){const e=N;this[e(499)][e(312)](t[e(486)]),t.initialSize[e(360)](t.size)}static[N(527)](t,e){const s=N,n=e[s(499)][s(278)][s(527)](e.generator[s(635)]);return new wt(n)}[N(345)](t){const e=N;return{generator:this[e(499)][e(345)](t)}}}class gt extends Y{constructor(t,e,s,n,i=!0){const r=N;super(),this[r(533)]=new ut(g,t,e,0,0,!0),this[r(386)]=new ut(0,s,n,0,0,!1),this[r(165)]=i}[N(494)](t){const e=N;this[e(533)][e(312)](t[e(508)]),this.normalizeDirection&&t.velocity[e(452)](),t[e(508)][e(626)](this.speedGenerator[e(312)]())}static fromJSON(t,e){const s=N;return new gt((new(w[s(336)]))[s(185)](e[s(353)]),(new(w[s(336)]))[s(185)](e[s(564)]),e[s(503)],e.speedOffset)}toJSON(){const t=N;return{range:this[t(533)][t(353)][t(420)](),offset:this[t(533)][t(564)][t(420)](),speedRange:this[t(386)][t(353)],speedOffset:this[t(386)][t(564)]}}}class St extends Y{constructor(t,e=!1){const s=N;super(),this.setParticleSequences(t),this[s(595)]=e}setParticleSequences(t){this[N(581)]=t}[N(494)](t){const e=N,s=this[e(581)][e(393)](),n=s.length*Math[e(534)](),i=s[Math[e(442)](n)],r=this.particleSequences[e(201)](i),o=t[e(213)];this.reverse?o.x=r[e(434)]-1:o.x=r.start,o.y=r.id,o.z=r[e(545)],o.w=r[e(434)],t[e(316)]=U[e(554)]}static[N(527)](t,e){const s=N;return new St(t.getParticleSequences(),e[s(595)])}[N(345)](){return{reverse:this.reverse}}}function yt(t,e){const s=zt();return(yt=function(t,e){return s[t-=161]})(t,e)}class xt extends L{constructor(t,e,s=!1,n=!1){const i=N;super(),this[i(581)]=t,this[i(362)]=e,this[i(579)]=s,this.reverse=n}[N(422)](t,e){const s=N,n=t[s(213)],i=this[s(581)][s(201)](n.y),r=e/this[s(362)];if(this.reverse){if(n.x-=r,n.x<i.start&&(n.x=i[s(545)]+i[s(434)],!this[s(579)]))return!1}else if(n.x+=r,n.x>=i[s(545)]+i[s(434)]&&(n.x=i[s(545)],!this[s(579)]))return!1;return!0}static[N(527)](t,e){const s=N;return new xt(t.getParticleSequences(),e[s(362)],e[s(579)],e[s(595)])}toJSON(){return{speed:this[N(362)],loop:this.loop,reverse:this.reverse}}}class vt{constructor(t,e){m(this,l,function(){const t=N,e={lowerIndex:0,upperIndex:0,localT:0},s=new(w[t(188)]),n=new(w[t(336)]),i=new(w[t(330)]),r=new(w[t(210)]),o=s=>(n,i,r,o)=>{const a=t;vt[a(293)](r,n,e),s.copy(i[e[a(346)]])[a(626)](e[a(542)]),o[a(360)](i[e[a(354)]])[a(626)](1-e[a(542)]).add(s)};return function(a){const c=t;switch(a){case ht[c(257)]:return(t,s,n)=>{const i=c;return vt[i(293)](n,t,e),(1-e.localT)*s[e.lowerIndex]+e[i(542)]*s[e[i(346)]]};case ht[c(188)]:return o(s);case ht[c(336)]:return o(n);case ht[c(330)]:return o(i);case ht[c(210)]:return o(r)}}}());const s=N;this.elements=[],this[s(315)]=[],this[s(350)]=ht[s(519)](t),e?this.interpolator=e:this[s(385)]=this.getInterpolatorForTypeID(this.elementTypeID)}*[Symbol[N(609)]](){const t=N;let e=0;for(;e<this[t(598)]();)yield{element:this.elements[e],tValue:this[t(315)][e]},e++}[N(598)](){const t=N;return this[t(358)][t(434)]}getElement(t){const e=N;if(t>=this.getElementCount())throw new Error(e(270));return this[e(358)][t]}getTValue(t){const e=N;if(t>=this.getElementCount())throw new Error(e(260));return this[e(315)][t]}[N(482)](t,e){const s=N;this[s(358)][s(574)](t),this.tValues[s(574)](e)}[N(413)](t,e){const s=N;return this[s(385)](t,this[s(358)],this.tValues,e)}static[(l=N(253),N(293))](t,e,s){const n=N,i=t[n(434)];if(0===i)return s[n(354)]=-1,s[n(346)]=-1,void(s[n(542)]=-1);let r=0,o=-1,a=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)o++,a++;s[n(354)]=k[n(337)](o,0,i-1),s[n(346)]=k[n(337)](a,0,i-1);const c=t[o],h=t[a];s[n(542)]=(e-c)/(h-c)}}class It extends L{constructor(t,e=!1){const s=N;super(),this[s(211)]=e,this[s(288)]=new vt(t)}[N(482)](t,e){const s=N;this[s(288)][s(482)](t,e)}[N(444)](t){const e=N;for(const s of t)this[e(288)][e(482)](s[0],s[1])}addElementsFromElementClassAndParameters(t,e){const s=N;for(const n of e){const[...e]=n[0];this[s(288)][s(482)](new t(...e),n[1])}}[N(268)](t,e){const s=N;let n=0;switch(t.progressType){case U[s(610)]:n=0!=t[s(237)]?t[s(311)]/t[s(237)]:t[s(311)];break;case U[s(554)]:n=t[s(213)].x/t[s(213)].w}return this[s(288)][s(413)](n,e)}}class Pt extends It{constructor(t=!1){super(0,t)}[N(460)](t){super.addElements(t)}[N(422)](t){const e=N;return this[e(211)]?t[e(624)]=t[e(495)]*this[e(268)](t,t.alpha):t[e(624)]=this[e(268)](t,t[e(624)]),!0}static[N(527)](t,e){return new Pt(e[N(211)])}[N(345)](){const t=N;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(288)]][t(475)]((e=>[e[t(437)],e[t(331)]]))}}}class Ft extends It{constructor(t=!1){super(w[N(188)],t),m(this,u,function(){const t=N,e=new(w[t(188)]);return function(s){const n=t;return this[n(268)](s,e),this[n(211)]?s[n(486)][n(414)](s.initialSize.x*e.x,s.initialSize.y*e.y):s[n(486)].copy(e),!0}}())}[N(460)](t){super[N(425)](F,t)}static[(u=N(422),N(527))](t,e){return new Ft(e[N(211)])}[N(345)](){const t=N;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(288)]][t(475)]((e=>[e.element.toArray(),e[t(331)]]))}}}class At extends It{constructor(t=!1){super(S,t),m(this,p,function(){const t=new S;return function(e){const s=yt;return this.getInterpolatedValue(e,t),this[s(211)]?e[s(214)][s(536)](e[s(548)].r*t.r,e[s(548)].g*t.g,e[s(548)].b*t.b):e.color[s(360)](t),!0}}())}[N(460)](t){const e=N;super[e(425)](w[e(210)],t)}static fromJSON(t,e){return new At(e.relativeToInitialValue)}[(p=N(422),N(345))](){const t=N;return{params:{relativeToInitialValue:this[t(211)]},elements:[...this[t(288)]][t(475)]((e=>[e[t(437)][t(420)](),e[t(331)]]))}}}class Tt extends L{constructor(t){const e=N;super(),this.generator=t[e(180)]()}[N(460)](t){const e=N;super.addElementsFromElementClassAndParameters(THREE[e(336)],t)}[N(422)](t){const e=N;return this[e(499)][e(312)](t.acceleration),!0}static[N(527)](t,e){const s=N,n=e[s(499)][s(278)][s(527)](e[s(499)][s(635)]);return new Tt(n)}[N(345)](t){const e=N;return{generator:this.generator[e(345)](t)}}}class bt extends lt{constructor(t,e,s,n,i,r,o,a,c,h,l,u){const p=N;super(w[p(336)]),this[p(175)]=t,this[p(173)]=e,this[p(412)]=s,this[p(222)]=n,this[p(310)]=i,this.offsetRadius=r,this[p(357)]=o,this[p(633)]=a,this[p(423)]=c,this[p(176)]=h,this.offsetY=l,this.offsetZ=u,this.tempUp=(new(w[p(336)])).set(0,1,0)}[N(312)](t){const e=N;this.tempUp.set(0,1,0);const s=Math[e(534)]()*this[e(175)]+this.offsetTheta,n=Math[e(534)]()*this.rangePhi+this[e(222)],i=Math.cos(s),r=Math[e(190)](s),o=Math[e(254)](n),a=Math.sin(n);t[e(414)](i,0,-r),t[e(626)](o),this[e(570)].multiplyScalar(a),t[e(587)](this[e(570)]),t[e(452)]();const c=Math[e(534)]()*this[e(310)]+this.offsetRadius;t[e(626)](c),t.x*=this.scaleX,t.y*=this.scaleY,t.z*=this[e(423)],t.x+=this[e(176)],t.y+=this.offsetY,t.z+=this.offsetZ}[N(180)](){const t=N;return new bt(this[t(175)],this[t(173)],this[t(412)],this[t(222)],this[t(310)],this[t(192)],this[t(357)],this.scaleY,this[t(423)],this[t(176)],this[t(317)],this.offsetZ)}static[N(527)](t){const e=N;return new bt(t[e(175)],t[e(173)],t[e(412)],t.offsetPhi,t[e(310)],t[e(192)],t[e(357)],t.scaleY,t[e(423)],t[e(176)],t.offsetY,t[e(562)])}[N(345)](t){const e=N;return{type:t[e(309)](bt),params:{rangeTheta:this[e(175)],offsetTheta:this.offsetTheta,rangePhi:this[e(412)],offsetPhi:this[e(222)],rangeRadius:this.rangeRadius,offsetRadius:this.offsetRadius,scaleX:this[e(357)],scaleY:this[e(633)],scaleZ:this[e(423)],offsetX:this[e(176)],offsetY:this[e(317)],offsetZ:this.offsetZ}}}}class Et{constructor(){}}function zt(){const t=["void main() { \n","range","lowerIndex","maximumActiveParticles","instanced","scaleX","elements","visible","copy","uniform int instanced; \n","speed","Paused",'ComponentContainer::getComponent() -> "index" is out of range.',"   int firstSequenceElement = int(sequenceElementF); \n","decay","getColors","default","particleCount","internalUpdate","blending","addTypeToNamespace","activateParticle","JSONTypeStore::addTypeToNamespace() -> typeName already exists","bias","PointLight","getParameterJSON","       viewPosition = viewMatrix * particlePosition;\n","getParticleStates","   int sequenceNumber = int(sequenceElement.y);\n","outType","transformInitialDirectionInWorldSpace","debu","Box3","interpolator","speedGenerator","rotations","#include <common>","   int nRowYTile = int(SNOverHS);\n","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","normal","while (true) {}","getSequenceIDs","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","value","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","emissionRelativeStartTime","input","max","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","setX","505uKQdpY","3255pJGvRS","uniform int simulateInWorldSpace; \n","components","} \n","log","varying float vSequenceElementT; \n","particleStateInitializers","alphas","setIntensity","rangePhi","getInterpolatedElement","set","sequenceElements","renderer","startupTime","advanceActiveParticles","addParticleStateOperator","toArray","setBoundingSphere","updateState","scaleZ","exception","addElementsFromElementClassAndParameters","mapSize","typeName","simulateInWorldSpace","   } else { \n","activeParticleCount","accelerations","initialSizes","   if (simulateInWorldSpace == 1) { \n","length","assign","generateForElement","element","operators","getTexture","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","position","floor","Additive","addElements","attribute vec2 size;\n","boundingBox","attribute float rotation;\n","setEmitter","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"stop","normalize","__proto__","chain","flushParticleStateToBuffers","attribute vec2 baseUV;\n","sequences","ShaderMaterial","   float rightSide; \n","addElementsFromParameters","436CgTbJX","cameraFar","OneMinusSrcAlphaFactor","matrixWorld","basePositions","   gl_FragColor.a *= vFragAlpha; \n","positionAdjuster","texturePath","emissionMaximum","getParticleStateOperator","indexOf","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","FragmentVars","camera","map","   vFragAlpha = alpha; \n","830TFCEkA",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"emissionRate","initializers","componentContainer","addElement","getGeometry","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","material","size","   const vec2 right = vec2(1.0, 0.0);\n","setState","39652bATEZC","ids","framesets",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"lastUpdateTime","initializeState","initialAlpha","uniform sampler2D atlasTexture;\n","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","activeCount","generator","getSystemState","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","Sphere","speedRange","texture","transformDirection","setDrawRange","progressTypes","velocity","invert","string","namespace","bind","intensity","getFrameSetCount","particlePosition","light","center","attribute vec3 color;\n","getTypeID","hasOwnProperty","NotStarted","   const vec2 uLeft = vec2(-1.0, 1.0);\n","lastIntensityFlickerTime","TextureLoader","createMaterial","943898wtznyX","fromJSON","timeScaledAcceleration","frameSets","Shader","getEmitter","shadow","directionGenerator","random","maxParticleCount","setRGB","randomGenerator","setUsage","Object3D","parent","substr","localT","jsonTypes","SrcAlphaFactor","start","       float uLeftV = rotVecStep.x; \n","baseUVs","initialColor","2182638wgCAvp","colors","   } \n","copyParticleInArray","geometry","Sequence","onUpdate","split","getParticleSequences","frustumCulled","test","varying float vSequenceElementT;\n","initialized","offsetZ","currentSrc","offset","jsonTypeNames","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","setBoundingBox","   int sequenceLength = int(sequenceElement.w);\n","activateParticles","tempUp","uniformOffset","setActiveParticleCount","Matrix4","push","trace","name","systemState",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"loop","renderOrder","particleSequences","dispose","4216Puwwiq","min","advanceActiveParticle","rotationalSpeeds","add","uniformsNeedUpdate","setAttribute","addParticleStateInitializer","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","particleStates","boundingSphere","pause","reverse","getParticleStateInitializer","getSimulateInWorldSpace","getElementCount","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","addParticleSequence","uniforms","updateBounds","varying vec3 vFragColor;\n","initialColors","   float atlasFrameX = atlasFrames.x; \n","emitCount","   vec4 color2 = color1; \n","function *\\( *\\)","iterator","Time","emissionDuration","copyTo","info","getSizes","sizes","getFrameSet","v4v","getParticleStateInitializerCount","getComponent","uniform vec2 uvOffset;\n","initialSize","   vec2 uv2; \n","addType","alpha","       float dRightV = rotVecStep.w - rotVecStep.z; \n","multiplyScalar","interpolateFrames","varying vec2 vUV2;\n","   float uvYOffset = atlasFrameHeight * upperSide; \n","setXY","getVertexShader","particleStateArray","scaleY","uniformRange","params","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","setVisibile","JSONTypeStore::getType() -> namespace does not exist","instanceCount","   const vec2 dRight = vec2(1.0, -1.0);\n","getParticleStateArray","distance","baseURI","addSequence","getTypeNames","normalizeDirection","intensityFlux","update","timeActive","apply","Running","parseTypeString",'ParticleStateArray::getState() -> "index" is out of range.',"offsetTheta","particleEmitter","rangeTheta","offsetX","setAll","normals","rotation","clone","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","castShadow","       rightSide = baseUV.x; \n","action","fromArray","join","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","Vector2","setOwner","sin","lastPositionAdjuster","offsetRadius","attribute float customIndex;\n","   float rotMag = rotation; \n","atlas","const int MAX_ATLAS_FRAME_SETS = 16; \n","BufferAttribute",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"24538041Dlcjoo","getFragmentShader","getSequence","setXYZ","JSONTypeStore::addNamespace() -> namespace already exists","getSequenceElements","near","getParticleCount","lifetimes","now","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","Color","relativeToInitialValue","JSONTypeStore::getType() -> typeName does not exist","sequenceElement","color","getActiveParticleCount","219RcYlqU","toString","DynamicDrawUsage","currentTime","splice","uniform int interpolateAtlasFrames; \n","offsetPhi","function","init","updateWorldMatrix","constructor","attribute vec4 particlePosition;\n","allocate","varying vec2 vUV1;\n","copyState","       upperSide = upperSideStep.x + upperSideStep.y;\n","addNamespace","gger","   if (instanced != 1) { \n","       rightSide = step(2.0, customIndex); \n","onUpdateCallback","lifetime","getLight","ParticleSystem::init() -> trying to intialize more than once.","owner",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","computeBoundingBox","nextIntensityAdjuster","setSimulateInWorldSpace","acceleration","keys","height","       float uRightV = rotVecStep.z; \n","getMaximumActiveParticles","checkAndAddTypeName","rotationalSpeed","getInterpolatorForTypeID","cos","getType","getState","Default","   float sequenceElementF = sequenceElement.x;\n","ParticleSequenceGroup::getSequence -> Invalid ID.",'ContinuousArray::getTValue() -> "index" is out of bounds.',"hasID","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","particleSystemRenderer","___photonsTypeID","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","addComponent","#include <common> \n","getInterpolatedValue","Mesh",'ContinuousArray::getElement() -> "index" is out of bounds.',"velocities","ages","addFrameSet","93087LPyRoI","NormalBlending","InstancedBufferAttribute","positions","type","getPositions","source","loadJSONParameter","customIndexes","   const vec2 left = vec2(-1.0, 0.0);\n","object","radius","load","emitterInitialized","interpolationElements","remove","verticesPerParticle","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","calculatingBoundingSphereFromBox","getInterpolationValuesForTValue","interpolateAtlasFrames","AdditiveBlending","needsUpdate","getParticleSystemRenderer","baseUV","stateVelocity","lastIntensityAdjuster","outTypeID","stateObject","autoClear","InstancedBufferGeometry","parseNamespaceAndTypename","stateAcceleration","setTransformInitialDirectionInWorldSpace","getVisible","getTypePath","rangeRadius","age","generate","   }  else { \n","getTexturePath","tValues","progressType","offsetY","setXYZW","console","particleStateOperators","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","lastPositionFlickerTime","updateMeshBounds","width","render","error","mesh","computeBoundingSphere","calculateBoundingSphereFromBox","Vector4","tValue","applyMatrix4","timeScaledVelocity","attribute vec4 sequenceElement;\n","   float atlasFrameHeight = atlasFrames.w; \n","Vector3","clamp","particleSystems","setParticleCount","typeIDGen","   const vec2 up = vec2(0.0, 1.0);\n","startTime","   float atlasFrameWidth = atlasFrames.z; \n","data","toJSON","upperIndex","   vec2 rotVec; \n","cameraNear","       upperSide = baseUV.y; \n","elementTypeID","initialAlphas"];return(zt=function(){return t})()}class Rt extends Et{constructor(t,e,s,n,i,r,o=void 0){const a=N;super(),this.owner=null,this[a(516)]=null,this[a(493)]=performance[a(208)]()/1e3,this[a(523)]=this[a(493)],this.lastPositionFlickerTime=this[a(493)],this[a(300)]=1,this.nextIntensityAdjuster=1,this[a(191)]=new(w[a(336)]),this[a(467)]=new(w[a(336)]),this[a(513)]=1,this.intensityFlux=2,this[a(540)]=t,this[a(224)](t,e,s,n,i,r,o)}[N(224)](t,e,s,n,i,r,o=void 0){const a=N;this.owner=new(w[a(539)]),t[a(587)](this[a(240)]),n=n||new(w[a(210)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!o;return this[a(516)]=new(w[a(376)])(16777215,2,0,1),this[a(516)][a(214)][a(360)](n),this.light[a(161)]=i,this[a(516)][a(366)]=r,this.light[a(182)]=c,c&&(this[a(516)][a(532)][a(426)][a(324)]=o[a(426)]||512,this.light[a(532)][a(426)][a(248)]=o.mapSize||512,this[a(516)].shadow[a(474)][a(205)]=o[a(348)]||.5,this[a(516)][a(532)][a(474)].far=o[a(462)]||500,this[a(516)][a(532)][a(375)]=o[a(375)]||1e-4,this.light[a(532)][a(285)]=o.edgeRadius||1),this[a(240)][a(587)](this[a(516)]),this.intensity=e,this[a(166)]=s,this.light}[N(582)](){const t=N;this.parent[t(289)](this[t(240)])}[N(238)](){return this[N(516)]}[N(411)](t){this[N(513)]=t}[N(167)](t){const e=N,s=t-this[e(523)],n=1/8,i=this[e(166)];if(s>n){this.lastIntensityFlickerTime=t;let s=1+2*(Math.random()-.5)*i*n;const r=s-this[e(300)];s=this[e(300)]+r,this.lastIntensityAdjuster=this[e(244)],this.nextIntensityAdjuster=k.clamp(s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(300)]+t*this[e(244)];this[e(516)][e(513)]=i*this[e(513)]}if(t-this[e(322)]>.0625){this[e(322)]=t;const s=t-this.lastUpdateTime;this.positionAdjuster.set(Math.random()-.5,Math[e(534)]()-.5,Math[e(534)]()-.5),this[e(467)].multiplyScalar(s),this[e(467)].add(this.lastPositionAdjuster),this.positionAdjuster[e(626)](.5),this[e(240)][e(441)].copy(this[e(467)]),this[e(191)][e(360)](this.positionAdjuster),this.lastUpdateTime=t}}}class Ot{constructor(){this[N(543)]={default:{}},this.jsonTypeNames={},this.typeIDGen=0}[N(623)](t,e){const s=N;this[s(372)](s(368),t,e)}[N(372)](t,e,s){const n=N;if(!this[n(543)][t])throw new Error(n(591));if(this[n(543)][t][e])throw new Error(n(374));this[n(251)](s,e,t)&&(this[n(543)][t][e]=s)}[N(232)](t,e){const s=N;if(this[s(543)][t])throw new Error(s(203));this[s(543)][t]=e;for(const n in e)if(!e.hasOwnProperty||e.hasOwnProperty(n)){const i=e[n];this[s(251)](i,n,t)}}[N(251)](t,e,s){const n=N;if(typeof t===n(223)){const i=this[n(340)]++;t[n(264)]=i,this.jsonTypeNames[i]={namespace:s,typeName:e}}}[N(255)](t,e){const s=N;if(!this[s(543)][t])throw new Error(s(638));if(!this[s(543)][t][e])throw new Error(s(212));return this[s(543)][t][e]}[N(164)](t){const e=N;return this[e(565)][t[e(264)]]}[N(309)](t){const e=N,s=this.getTypeNames(t);if(s)return s[e(511)]+"."+s[e(427)]}parseNamespaceAndTypename(t){const e=N,s=t[e(556)]("."),n=s[0];s[e(220)](0,1);return{namespace:n,typeName:s[e(186)](".")}}[N(171)](t){const e=N,{namespace:s,typeName:n}=this[e(305)](t);return this[e(255)](s,n)}}function Ct(t){function e(t){const s=yt;if(typeof t===s(510))return function(t){}[s(226)](s(392)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[s(226)]("debu"+s(233)).call(s(184)):function(){return!1}[s(226)](s(383)+s(233)).apply(s(302)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const qt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Tt,AnimatedSpriteRenderer:it,Atlas:st,BaseParticleStateInitializer:W,BaseParticleStateOperator:J,BoxPositionInitializer:dt,ColorInterpolatorOperator:At,ConstantParticleEmitter:at,FlickerLight:Rt,JSONTypeStore:Ot,LifetimeInitializer:pt,Manager:Q,OpacityInterpolatorOperator:Pt,ParticleStateArray:j,ParticleSystem:$,ParticleSystemState:H,RandomGenerator:ut,RandomVelocityInitializer:gt,Renderer:K,RotationInitializer:ft,RotationalSpeedInitializer:mt,SequenceInitializer:St,SequenceOperator:xt,SizeInitializer:wt,SizeInterpolatorOperator:Ft,SphereRandomGenerator:bt},Symbol.toStringTag,{value:"Module"}));function Vt(){const t=["Vector2","FlickerLight","Object3D","addElements","10635200xuGBtp","AccelerationOperator","test","JSONTypeStore","while (true) {}","log","Photons","render","Vector3","error","position","SequenceInitializer","addComponent","setEmitter","length","82092FWfnbz","add","setSimulateInWorldSpace","3401780xMpQbJ","debu","SequenceOperator","scale","RotationalSpeedInitializer","exception","RotationInitializer","call","load","trace","return (function() ","addParticleSystem","constructor","update","input","string","RandomGenerator","info","setRGB","warn","copy","BoxPositionInitializer","stateObject","start","chain","addParticleStateInitializer","ConstantParticleEmitter","SphereRandomGenerator","prototype","2EWNywj","bind","ColorInterpolatorOperator","OpacityInterpolatorOperator","4958832SExobT","SizeInitializer","Color","counter","406133wFEuQb","action","console","TextureLoader","RandomVelocityInitializer","551880zwsekg","value","table","AdditiveBlending","init","THREE","gger","1930353gUHlkP","ParticleSystem","addElementsFromParameters","addFrameSet","SizeInterpolatorOperator","fireF","toString","AnimatedSpriteRenderer","addParticleStateOperator","Atlas","LifetimeInitializer","getParticleSequences","addParticleSequence","apply"];return(Vt=function(){return t})()}const Mt=_t;!function(t,e){const s=_t,n=Vt();for(;;)try{if(748279===-parseInt(s(265))/1+parseInt(s(297))/2*(-parseInt(s(232))/3)+-parseInt(s(268))/4+parseInt(s(310))/5+parseInt(s(301))/6+parseInt(s(305))/7+parseInt(s(250))/8)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Nt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[_t(245)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function _t(t,e){const s=Vt();return(_t=function(t,e){return s[t-=226]})(t,e)}!function(){Nt(this,(function(){const t=_t,e=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=jt(t(229));e[t(252)](n+t(292))&&s[t(252)](n+t(282))?jt():n("0")}))()}();const Ut=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[_t(245)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Ut(void 0,(function(){const t=_t,e=function(){const t=_t;let e;try{e=Function(t(278)+'{}.constructor("return this")( ));')()}catch(s){e=window}return e}(),s=e[t(307)]=e.console||{},n=[t(255),t(287),t(285),t(259),t(273),t(227),t(277)];for(let i=0;i<n[t(264)];i++){const e=Ut.constructor[t(296)].bind(Ut),r=n[i],o=s[r]||e;e.__proto__=Ut[t(298)](Ut),e[t(238)]=o[t(238)][t(298)](o),s[r]=e}}))();const Bt=z({__name:Mt(237),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Mt,s=t,n=new Q,i=new(qt[e(253)]);i.addNamespace(e(230),w),i.addNamespace(e(256),qt);const{renderer:r,camera:o,scene:a}=b(),c=new(w[e(258)])(...s[e(260)]);n.addParticleSystem(((t,s)=>{const n=e,i=new(w[n(248)]);i[n(260)][n(288)](s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new(w[n(308)]))[n(276)](o),c=new(qt[n(241)])(a,o);c[n(235)](1,0,0,1,1);const h=new(qt[n(239)])(!0,c,!0,w[n(228)]),l=new(qt[n(233)])(i,h,r[n(226)]);l[n(229)](150),l[n(263)](new at(6));const u=new(qt[n(284)])(w[n(246)],new(w[n(246)])(0,0),new F(.15*t,.15*t),0,0,!1);l[n(293)](new(qt[n(242)])(3,1,0,0,!1)),l[n(293)](new(qt[n(302)])(u)),l[n(293)](new(qt[n(289)])(new(w[n(258)])(.05*t,0,.05*t),new(w[n(258)])(-.025*t,0,-.025*t))),l[n(293)](new(qt[n(309)])(new g(.4*t,.5*t,.4*t),new(w[n(258)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(240)](new(qt[n(300)]))[n(249)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new(qt[n(299)])(!0))[n(234)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(qt[n(295)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new Tt(p)),l[n(267)](!0),l.start(),l})(s[e(271)],c)),n[e(279)](((t,s)=>{const n=e,i=new(w[n(248)]);i[n(260)].copy(s);const o="./plugins/digitalCity/image/fireF/base_flame.png",a=(new A)[n(276)](o),c=new(qt[n(241)])(a,o);c[n(235)](18,0,0,.125,.25);const h=new(qt[n(239)])(!0,c,!0),l=new(qt[n(233)])(i,h,r[n(226)]);l.init(50),l[n(263)](new(qt[n(294)])(10)),l[n(244)](0,18);const u=l.getParticleSequences();l.addParticleStateInitializer(new pt(0,0,0,0,!1)),l[n(293)](new(qt[n(274)])(new(qt[n(284)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(293)](new(qt[n(272)])(1,-1,0,0,!1)),l.addParticleStateInitializer(new(qt[n(302)])(new ut(w[n(246)],new F(.25*t,.25*t),new F(.5*t,.5*t),0,0,!1))),l[n(293)](new(qt[n(289)])(new(w[n(258)])(.05*t,0,.05*t),new(w[n(258)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new(qt[n(309)])(new(w[n(258)])(.05*t,.4*t,.05*t),new(w[n(258)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(293)](new(qt[n(261)])(u)),l[n(240)](new(qt[n(270)])(u,.07,!1));l[n(240)](new(qt[n(300)]))[n(249)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(240)](new(qt[n(236)])(!0))[n(234)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(240)](new(qt[n(299)])(!0))[n(234)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(240)](new Tt(new(qt[n(284)])(g,new(w[n(258)])(0,0,0),new(w[n(258)])(0,1.5*t,0),0,0,!1))),l[n(267)](!0),l[n(291)](),l})(s[e(271)],c)),n[e(279)](((t,s)=>{const n=e,i=new T;i[n(260)].copy(s);const o="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new(w[n(308)]))[n(276)](o),c=new(qt[n(241)])(a,o);c[n(235)](16,0,0,212/1024,.25);const h=new(qt[n(239)])(!0,c,!0),l=new $(i,h,r[n(226)]);l.init(20),l.setEmitter(new(qt[n(294)])(5)),l.addParticleSequence(0,16);const u=l[n(243)]();l[n(293)](new pt(0,0,0,0,!1)),l[n(293)](new(qt[n(274)])(new(qt[n(284)])(0,Math.PI,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(qt[n(272)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(293)](new(qt[n(302)])(new(qt[n(284)])(w[n(246)],new(w[n(246)])(0,0),new(w[n(246)])(0,0),.2*t,.65*t,!1))),l[n(293)](new(qt[n(289)])(new(w[n(258)])(.1*t,0,.1*t),new(w[n(258)])(-.05*t,0,-.05*t))),l[n(293)](new(qt[n(309)])(new(w[n(258)])(.02*t,.4*t,.02*t),new(w[n(258)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(293)](new St(u)),l[n(240)](new(qt[n(270)])(u,.1,!1));l[n(240)](new(qt[n(300)]))[n(249)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(240)](new(qt[n(236)])(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l.addParticleStateOperator(new(qt[n(299)])(!0))[n(234)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(240)](new(qt[n(251)])(new(qt[n(284)])(w[n(258)],new(w[n(258)])(0,0,0),new(w[n(258)])(0,1.5*t,0),0,0,!1))),l[n(267)](!0),l[n(291)](),l})(s[e(271)],c)),n[e(262)](((t,s=10)=>{const n=e,i=new(w[n(248)]);a.value[n(266)](i),i.position[n(288)](t);return new(qt[n(247)])(i,s,2,(new(w[n(303)]))[n(286)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=E();return h((()=>{const t=e;n[t(281)](),n[t(257)](r.value,o[t(226)])})),(t,e)=>null}});function jt(t){function e(t){const s=_t;if(typeof t===s(283))return function(t){}.constructor(s(254))[s(245)](s(304));1!==(""+t/t)[s(264)]||t%20==0?function(){return!0}[s(280)](s(269)+s(231))[s(275)](s(306)):function(){return!1}[s(280)](s(269)+s(231))[s(245)](s(290)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Dt=Wt;!function(t,e){const s=Wt,n=Lt();for(;;)try{if(361887===-parseInt(s(333))/1*(parseInt(s(367))/2)+parseInt(s(344))/3+-parseInt(s(362))/4*(parseInt(s(325))/5)+-parseInt(s(337))/6*(parseInt(s(330))/7)+-parseInt(s(349))/8*(-parseInt(s(363))/9)+parseInt(s(332))/10*(-parseInt(s(351))/11)+parseInt(s(353))/12)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Xt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Wt(370)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Xt(this,(function(){const t=Wt,e=new RegExp(t(342)),s=new RegExp(t(371),"i"),n=kt(t(346));e[t(347)](n+t(356))&&s[t(347)](n+t(365))?kt():n("0")}))()}();const Yt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Wt(370)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Wt(t,e){const s=Lt();return(Wt=function(t,e){return s[t-=325]})(t,e)}function Lt(){const t=["input","console","175906LEPxNp","while (true) {}","tcRef","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","21565SjilKs","constructor","length","context","warn","23877ZSFFSo","gger","10sLQlqM","2CsxXMZ","perspectiveCameraRef","log","bind","984dspjtx","$refs",'{}.constructor("return this")( )',"exception","counter","function *\\( *\\)","call","479412YWBpXL","action","init","test","toString","24ryKbFa","value","1171951mfyFGc","position","8707056nONIDc","table","info","chain","fireF","return (function() ","error","debu","__proto__","196DfEFFN","1589049WhzjXr","set"];return(Lt=function(){return t})()}Yt(void 0,(function(){const t=Wt,e=function(){const t=Wt;let e;try{e=Function(t(358)+t(339)+");")()}catch(s){e=window}return e}(),s=e[t(366)]=e[t(366)]||{},n=[t(335),t(329),t(355),t(359),t(340),t(354),"trace"];for(let i=0;i<n[t(327)];i++){const e=Yt[t(326)].prototype.bind(Yt),r=n[i],o=s[r]||e;e[t(361)]=Yt[t(336)](Yt),e[t(348)]=o[t(348)][t(336)](o),s[r]=e}}))();const Jt=z({__name:Dt(357),setup(t){const e=R();return O((()=>{const t=Wt;e[t(350)]&&(e[t(350)][t(338)].tcRef?e[t(350)][t(338)][t(369)][t(328)].camera[t(350)][t(352)][t(364)](580,360,500):e.value[t(338)][t(334)]&&e[t(350)][t(338)][t(334)].position[t(364)](580,360,500))})),(t,s)=>(C(),q(d,{ref_key:"pagesShowRef",ref:e},{ability:V((()=>[M(Bt,{position:[0,20,10],scale:40})])),_:1},512))}});function kt(t){function e(t){const s=Wt;if("string"==typeof t)return function(t){}[s(326)](s(368)).apply(s(341));1!==(""+t/t)[s(327)]||t%20==0?function(){return!0}[s(326)](s(360)+s(331))[s(343)](s(345)):function(){return!1}[s(326)](s(360)+s(331))[s(370)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Jt as default};
