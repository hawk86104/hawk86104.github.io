var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.1jvi1Jnm1738810638719.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.ULtosTB91738810638719.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.ndDRfzJW1738810638719.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,_ as x,A as v,Q as m}from"./three.6w8Allze1738810638719.js";import{m as h,e as w}from"./@tresjs.8axf5yqM1738810638719.js";import{u as g}from"./index.HkkGeLOW1738810638719.js";import{F as d,C as y}from"./three-stdlib.LzGCk-lJ1738810638719.js";import{d as S}from"./@vue.NRI7TcgI1738810638719.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.vXWLupKq1738810638719.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.I7LmzNsd1738810638719.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.whC-8BEM1738810638719.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.4eLhixsp1738810638719.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.UQoVQE_H1738810638719.js";const _=z;!function(t,e){const n=z,i=I();for(;;)try{if(784438===-parseInt(n(482))/1*(parseInt(n(487))/2)+-parseInt(n(474))/3*(parseInt(n(458))/4)+parseInt(n(456))/5*(-parseInt(n(471))/6)+-parseInt(n(459))/7*(-parseInt(n(466))/8)+parseInt(n(455))/9+-parseInt(n(486))/10+-parseInt(n(480))/11*(-parseInt(n(468))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const P=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function z(t,e){const n=I();return(z=function(t,e){return n[t-=454]})(t,e)}!function(){P(this,(function(){const t=z,e=new RegExp(t(489)),n=new RegExp(t(490),"i"),i=M(t(467));e[t(460)](i+t(470))&&n[t(460)](i+"input")?M():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(461)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(){const t=["constructor","info","prototype","console","928YlQfDT","init","576GRlZlj",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"chain","6QnYbvh",'{}.constructor("return this")( )',"toString","1059SVjmFQ","__proto__","log","while (true) {}","debu","length","552046kzBidZ","table","212049dEwNtQ","gger","warn","bind","14029480seYdex","6YvkGgI","exception","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","error","10445445lFCUzO","6338675DrcMGi","trace","3460veNPTS","49910RikzJf","test","apply"];return(I=function(){return t})()}b(void 0,(function(){const t=z,e=function(){const t=z;let e;try{e=Function("return (function() "+t(472)+");")()}catch(n){e=window}return e}(),n=e[t(465)]=e[t(465)]||{},i=[t(476),t(484),t(463),t(454),t(488),t(481),t(457)];for(let r=0;r<i[t(479)];r++){const e=b[t(462)][t(464)][t(485)](b),a=i[r],o=n[a]||e;e[t(475)]=b.bind(b),e[t(473)]=o.toString[t(485)](o),n[a]=e}}))();const E=_(469);function M(t){function e(t){const n=z;if("string"==typeof t)return function(t){}[n(462)](n(477)).apply(n(491));1!==(""+t/t)[n(479)]||t%20==0?function(){return!0}[n(462)](n(478)+n(483)).call("action"):function(){return!1}[n(462)](n(478)+n(483))[n(461)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function A(t,e){const n=V();return(A=function(t,e){return n[t-=447]})(t,e)}const D=A;!function(t,e){const n=A,i=V();for(;;)try{if(335273===parseInt(n(466))/1+-parseInt(n(458))/2+-parseInt(n(478))/3+-parseInt(n(464))/4*(parseInt(n(450))/5)+parseInt(n(472))/6*(-parseInt(n(449))/7)+-parseInt(n(482))/8*(-parseInt(n(453))/9)+parseInt(n(470))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function V(){const t=["7713uuPDrp","bind","chain","warn","console","726358pAsQXk","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","while (true) {}","exception","function *\\( *\\)","stateObject","4YVNIIr","debu","71435BscyZR","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","apply","return (function() ","9976550uwvPqi","uniforms","6YOAROR","trace",'{}.constructor("return this")( )',"\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","clone","init","980673cBuGik","prototype","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6056KXiMoz","defines","toString","error","constructor","string","info","length","test","__proto__","2153263MXAesN","1924435zqyoOV","log","table"];return(V=function(){return t})()}!function(){L(this,(function(){const t=A,e=new RegExp(t(462)),n=new RegExp(t(481),"i"),i=T(t(477));e[t(447)](i+t(455))&&n[t(447)](i+"input")?T():i("0")}))()}();const j=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[A(468)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(t){const e=A,n=a({},t);return e(483)in t&&(n[e(483)]=a({},t.defines)),e(471)in t&&(n.uniforms=s[e(476)](t.uniforms)),n}j(void 0,(function(){const t=A;let e;try{e=Function(t(469)+t(474)+");")()}catch(r){e=window}const n=e[t(457)]=e.console||{},i=[t(451),t(456),t(488),t(485),t(461),t(452),t(473)];for(let a=0;a<i[t(489)];a++){const e=j.constructor[t(479)].bind(j),r=i[a],o=n[r]||e;e[t(448)]=j[t(454)](j),e[t(484)]=o[t(484)].bind(o),n[r]=e}}))();const U={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:D(459),fragmentShader:D(467)+E+D(475)};function T(t){function e(t){const n=A;if(typeof t===n(487))return function(t){}[n(486)](n(460))[n(468)]("counter");1!==(""+t/t)[n(489)]||t%20==0?function(){return!0}[n(486)](n(465)+n(480)).call("action"):function(){return!1}[n(486)]("debu"+n(480)).apply(n(463)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const R=F;!function(t,e){const n=F,i=C();for(;;)try{if(501137===parseInt(n(476))/1+-parseInt(n(458))/2*(-parseInt(n(459))/3)+-parseInt(n(478))/4+-parseInt(n(504))/5+parseInt(n(499))/6*(-parseInt(n(486))/7)+parseInt(n(482))/8+-parseInt(n(475))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){N(this,(function(){const t=F,e=new RegExp(t(500)),n=new RegExp(t(468),"i"),i=Q(t(453));e[t(507)](i+t(435))&&n[t(507)](i+"input")?Q():i("0")}))()}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[F(492)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(){const t=["2429413jNoBtw","dispose","trace","length","exception","value","apply","copy","_copyQuad","action","setClearAlpha","replace",'{}.constructor("return this")( )',"6VUWBay","function *\\( *\\)","fragmentShader","parentLevel","table","1030430QrzJFL","console","X_IS_EVEN","test","info","debu","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","chain","setRenderTarget","image","counter","set","uniforms","_mipQuad","minFilter","prototype","floor","height","tDiffuse","return (function() ","material","string","toString","call","_mipMaterials","init","magFilter","floorPowerOfTwo","camera","_swapTarget","950946KMBAOc","3kVqyYF","constructor","map","render","warn","__proto__","bind","texture","autoClear","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","getClearColor","defines","isWebGLRenderTarget","type","getRenderTarget","4589793gkXLfM","507268IvmWuT","setSize","338260XSChso","setClearColor","clear","width","5328664fjVKAd","Y_IS_EVEN","gger","setViewOffset"];return(C=function(){return t})()}k(void 0,(function(){const t=F,e=function(){const t=F;let e;try{e=Function(t(447)+t(498)+");")()}catch(n){e=window}return e}(),n=e[t(505)]=e.console||{},i=["log",t(463),t(508),"error",t(490),t(503),t(488)];for(let r=0;r<i.length;r++){const e=k[t(460)][t(443)].bind(k),a=i[r],o=n[a]||e;e[t(464)]=k.bind(k),e[t(450)]=o[t(450)][t(465)](o),n[a]=e}}))();const Y=new l;function F(t,e){const n=C();return(F=function(t,e){return n[t-=433]})(t,e)}class W{constructor(t){const e=F;!t&&(t=e(434));const n=O(U);n.fragmentShader=n[e(501)][e(497)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(O(n)),i[0][e(471)][e(506)]=0,i[0][e(471)][e(483)]=0,i[1]=new c(O(n)),i[1][e(471)].X_IS_EVEN=1,i[1][e(471)].Y_IS_EVEN=0,i[2]=new c(O(n)),i[2][e(471)][e(506)]=0,i[2][e(471)][e(483)]=1,i[3]=new c(O(n)),i[3][e(471)].X_IS_EVEN=1,i[3][e(471)].Y_IS_EVEN=1;const r=new u;r.texture[e(442)]=p,r[e(466)][e(454)]=p,this[e(457)]=r,this[e(494)]=new d(new c(y)),this[e(441)]=new d(null),this[e(452)]=i}update(t,e,n,i=!1){const r=F;t[r(472)]&&(t=t[r(466)]);const o=n[r(467)],s=n.getClearAlpha(),l=n[r(474)]();n[r(470)](Y);const c=this._copyQuad,u=this._mipQuad,p=this[r(457)],x=this[r(452)];let v,m;i?(v=f.floorPowerOfTwo(t[r(437)].width),m=f[r(455)](t.image[r(445)])):(v=Math[r(444)](t[r(437)][r(481)]),m=Math.floor(t[r(437)].height));const h=Math[r(444)](1.5*v),w=Math.floor(m);e[r(477)](h,w),p[r(466)].type!==e.texture[r(473)]?(p[r(487)](),p[r(493)](e),p[r(466)].image=a({},p[r(466)].image)):p[r(477)](h,w),n[r(467)]=!1,n.setClearColor(0),n[r(496)](),c[r(448)].uniforms[r(446)][r(491)]=t,c[r(456)].setViewOffset(v,m,0,0,h,w),n.setRenderTarget(e),n[r(480)](),c.render(n),n.setRenderTarget(p),n[r(480)](),c.render(n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(440)][r(461)][r(491)]=p.texture,t[r(440)][r(502)].value=y,t.uniforms.parentMapSize[r(491)][r(439)](g,d),t.uniforms.originalMapSize[r(491)][r(439)](v,m),u.material=t,g=Math[r(444)](g/2),d=Math[r(444)](d/2);const i=w-2*d;n.setRenderTarget(e),u[r(456)][r(485)](g,d,-v,-i,h,w),u[r(462)](n),n[r(436)](p),t[r(440)][r(461)].value=e[r(466)],u.render(n),y++}return n[r(436)](l),n[r(496)](s),n[r(479)](Y),n[r(467)]=o,y+1}[R(487)](){const t=R;this[t(457)][t(487)](),this[t(441)][t(487)](),this[t(494)][t(487)](),this[t(452)].forEach((e=>e[t(487)]()))}}function Q(t){function e(t){const n=F;if(typeof t===n(449))return function(t){}[n(460)]("while (true) {}")[n(492)](n(438));1!==(""+t/t)[n(489)]||t%20==0?function(){return!0}[n(460)](n(433)+n(484))[n(451)](n(495)):function(){return!1}[n(460)]("debugger").apply(n(469)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Z=X;function X(t,e){const n=J();return(X=function(t,e){return n[t-=406]})(t,e)}!function(t,e){const n=X,i=J();for(;;)try{if(481010===-parseInt(n(436))/1*(parseInt(n(414))/2)+parseInt(n(466))/3*(-parseInt(n(440))/4)+-parseInt(n(474))/5+parseInt(n(453))/6+-parseInt(n(437))/7*(parseInt(n(422))/8)+-parseInt(n(467))/9*(-parseInt(n(415))/10)+parseInt(n(457))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(456)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=X,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(441),"i"),i=$(t(449));e[t(481)](i+t(463))&&n[t(481)](i+t(408))?$():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(456)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();G(void 0,(function(){const t=X;let e;try{e=Function(t(435)+t(464)+");")()}catch(r){e=window}const n=e[t(406)]=e[t(406)]||{},i=[t(458),t(462),t(444),"error",t(430),t(412),t(485)];for(let a=0;a<i[t(418)];a++){const e=G[t(420)][t(452)].bind(G),r=i[a],o=n[r]||e;e[t(425)]=G[t(446)](G),e[t(407)]=o[t(407)].bind(o),n[r]=e}}))();const B=S({__name:Z(455),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Z,i=t,r=new(x[n(427)]),a=new(x[n(487)]),o=new(x[n(473)]),s=new W,l=g({width:i[n(409)],height:i.resolution,settings:{type:v}}),c=g({width:i.resolution,height:i[n(409)],settings:{type:x[n(438)]}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:d}=w();return d((()=>{const t=n;(()=>{const t=n;if(!u[t(450)])return;r[t(486)](new(x[t(476)])(0,1,0),0),r[t(470)](i[t(460)][t(478)]),o[t(439)](u[t(450)]);const e=new(x[t(476)])(0,0,1)[t(448)]()[t(417)](),s=u[t(450)][t(471)](new(x[t(476)]));e[t(451)](r[t(482)]);const c=new(x[t(476)]);r.projectPoint(s,c);const v=c[t(448)]();v[t(411)](s),v[t(484)](c),o[t(454)].copy(v);const h=new(x[t(476)])(0,0,-1);h[t(480)](u[t(450)][t(433)](new m)),h[t(484)](s);const w=new(x[t(476)]);i.parent.getWorldPosition(w),w[t(411)](h),w[t(451)](r[t(482)])[t(417)](),w[t(484)](i[t(460)][t(471)](new(x[t(476)]))),o.up[t(486)](0,1,0),o[t(480)](u[t(450)][t(433)](new(x[t(479)]))),o.up.reflect(r[t(482)]),o[t(426)](w),o.updateMatrixWorld();const g=new(x[t(487)]);g[t(486)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g[t(432)](o.projectionMatrix),g[t(432)](o[t(416)]),a[t(439)](g),r[t(470)](o[t(416)]);const d=new(x[t(468)])(r[t(482)].x,r[t(482)].y,r[t(482)].z,r[t(477)]),y=o[t(443)],S=new(x[t(468)]);S.x=(Math.sign(d.x)+y[t(428)][8])/y[t(428)][0],S.y=(Math.sign(d.y)+y[t(428)][9])/y[t(428)][5],S.z=-1,S.w=(1+y.elements[10])/y[t(428)][14],d[t(442)](2/d[t(413)](S)),y[t(428)][2]=d.x,y.elements[6]=d.y,y[t(428)][10]=d.z+1,y[t(428)][14]=d.w;const _=p[t(450)][t(461)]();p[t(450)][t(410)](l[t(450)]),p[t(450)][t(421)].buffers[t(419)][t(472)](!0),!1===p[t(450)][t(424)]&&p.value[t(469)](),i[t(459)][t(423)]((e=>e[t(447)]=!1)),p.value[t(475)](f[t(450)],o),i.ignoreObjects.forEach((e=>e[t(447)]=!0)),p[t(450)][t(410)](_)})(),l[t(450)]&&c.value&&p[t(450)]&&s[t(429)](l[t(450)][t(465)],c[t(450)],p[t(450)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function J(){const t=["forEach","autoClear","__proto__","lookAt","Plane","elements","update","exception","string","multiply","getWorldQuaternion","gger","return (function() ","68nhcmJJ","973175rvJpuO","UnsignedByteType","copy","4dpsLAb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","multiplyScalar","projectionMatrix","info","debu","bind","visible","clone","init","value","reflect","prototype","706224wQVvYY","position","reflectorMipMap","apply","23312861VtQrvx","log","ignoreObjects","parent","getRenderTarget","warn","chain",'{}.constructor("return this")( )',"texture","207189NEZopY","3303qfmPDq","Vector4","clear","applyMatrix4","getWorldPosition","setMask","PerspectiveCamera","3877660YJLoPg","render","Vector3","constant","matrixWorld","Quaternion","applyQuaternion","test","normal","counter","add","trace","set","Matrix4","console","toString","input","resolution","setRenderTarget","sub","table","dot","25624cBuIjh","6480lpOzJF","matrixWorldInverse","negate","length","depth","constructor","state","16LWzxjf"];return(J=function(){return t})()}function $(t){function e(t){const n=X;if(typeof t===n(431))return function(t){}[n(420)]("while (true) {}")[n(456)](n(483));1!==(""+t/t).length||t%20==0?function(){return!0}[n(420)](n(445)+n(434)).call("action"):function(){return!1}[n(420)](n(445)+"gger")[n(456)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=et();;)try{if(514320===parseInt(n(253))/1+-parseInt(n(254))/2*(-parseInt(n(244))/3)+parseInt(n(247))/4+-parseInt(n(271))/5+-parseInt(n(266))/6+parseInt(n(260))/7*(parseInt(n(243))/8)+-parseInt(n(258))/9*(parseInt(n(257))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(264)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){var t=tt,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(240),"i"),i=nt(t(265));e.test(i+t(245))&&n[t(251)](i+t(259))?nt():i("0")}))()}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(t,e){var n=et();return(tt=function(t,e){return n[t-=240]})(t,e)}function et(){var t=["882996adbKja","table","log","gger","trace","743550eoegNk","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","error","24norrha","3FVNlIF","chain","console","3553096ZujZcD","constructor","toString","return (function() ","test","string","730525XYVGCg","1442110WqUZqi",'{}.constructor("return this")( )',"bind","160JSNJNf","1296324nCPclB","input","1808142RIzIvK","stateObject","length","prototype","apply","init"];return(et=function(){return t})()}function nt(t){function e(t){var n=tt;if(typeof t===n(252))return function(t){}[n(248)]("while (true) {}")[n(264)]("counter");1!==(""+t/t)[n(262)]||t%20==0?function(){return!0}[n(248)](n(241)+n(269))[n(272)]("action"):function(){return!1}[n(248)](n(241)+n(269))[n(264)](n(261)),e(++t)}try{if(t)return e;e(0)}catch(n){}}K(void 0,(function(){for(var t=tt,e=function(){var t,e=tt;try{t=Function(e(250)+e(255)+");")()}catch(n){t=window}return t}(),n=e[t(246)]=e[t(246)]||{},i=[t(268),"warn","info",t(242),"exception",t(267),t(270)],r=0;r<i[t(262)];r++){var a=K.constructor[t(263)][t(256)](K),o=i[r],s=n[o]||a;a.__proto__=K.bind(K),a[t(249)]=s[t(249)].bind(s),n[o]=a}}))();export{B as _};
