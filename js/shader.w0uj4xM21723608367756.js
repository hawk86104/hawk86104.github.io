import{$ as n,p as t,d as e,S as o,N as r}from"./@tresjs.zzLYikgQ1723608367756.js";import{a6 as i,aN as s,x as a,cb as c}from"./three.X8FgZbPT1723608367756.js";import{P as u}from"./tweakpane.yHWGBmom1723608367756.js";import{L as l}from"./three-subdivide.54zMruC41723608367756.js";import{d as f,b as p,a1 as d,w as g,o as m,D as h,J as v,aj as b,ak as y,a4 as w,r as M,e as _,f as x,g as I,j as S,u as T,m as j}from"./@vue.Q1VpS3901723608367756.js";import"./@vueuse.QL9lULrD1723608367756.js";const B=V;!function(n,t){const e=V,o=A();for(;;)try{if(304945===-parseInt(e(307))/1+-parseInt(e(326))/2+parseInt(e(297))/3*(-parseInt(e(336))/4)+parseInt(e(288))/5*(parseInt(e(333))/6)+-parseInt(e(324))/7+-parseInt(e(282))/8+parseInt(e(306))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(334)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=V,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(330),"i"),o=L(n(295));t.test(o+"chain")&&e[n(312)](o+n(286))?L():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(334)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(){const n=["stateObject","srcMesh","AdditiveBlending","debu","test","blending","viewVector","warn","subdivision","color","prototype","clone","call","FrontSide",'{}.constructor("return this")( )',"position","3760218fdpbrX","bind","487736ZtwVkE","gger","Color","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","modify","console","39516MoBTmI","apply","counter","4QsgMGU","shineShader","value","exception","error","1922880MILbVU","return (function() ","side","log","input","action","20ulRmcz","subVectors","info","material","constructor","scale","toString","init","while (true) {}","242622hwRcax","uniforms","TSGref","TresMesh","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","Vector3","length","attributes","geometry","16972533NLVXUu","504960TeRdfa"];return(A=function(){return n})()}z(void 0,(function(){const n=V;let t;try{t=Function(n(283)+n(322)+");")()}catch(r){t=window}const e=t[n(332)]=t[n(332)]||{},o=[n(285),n(315),n(290),n(281),n(280),"table","trace"];for(let i=0;i<o[n(303)];i++){const t=z[n(292)][n(318)][n(325)](z),r=o[i],s=e[r]||t;t.__proto__=z.bind(z),t.toString=s[n(294)].bind(s),e[r]=t}}))();const C=["scale"];function V(n,t){const e=A();return(V=function(n,t){return e[n-=280]})(n,t)}const R=f({__name:B(337),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(321)]},blending:{default:i[B(310)]}},setup(e){const o=B,r=e,s=p(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(328)])(r[o(317)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(301),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(284)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};d((()=>{const n=o;if(r.srcMesh&&!s[n(338)][n(305)][n(304)][n(323)]){let t=r.srcMesh[n(305)][n(319)]();r[n(316)]&&(t=l[n(331)](t,2)),s[n(338)][n(305)]=t,s[n(338)][n(323)].copy(r.srcMesh.position)}r[n(317)]&&(a[n(298)].glowColor.value=new(i[n(328)])(r[n(317)])),r.c&&(a.uniforms.c.value=r.c),r.p&&(a[n(298)].p.value=r.p)})),g((()=>r.subdivision),(n=>{const t=o;let e=r[t(309)].geometry[t(319)]();n&&(e=l[t(331)](e,2)),s[t(338)].geometry=e})),g((()=>r[o(284)]),(n=>{const t=o;s[t(338)][t(291)][t(284)]=n})),g((()=>r[o(313)]),(n=>{const t=o;s[t(338)][t(291)][t(313)]=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=o;u[n(338)]&&s.value&&(a[n(298)][n(314)][n(338)]=(new(i[n(302)]))[n(289)](u[n(338)][n(323)],s.value[n(323)]))})),(n,t)=>{const e=o;return m(),h(e(300),{ref_key:e(299),ref:s,scale:r[e(293)]},[v("TresShaderMaterial",b(y(a)),null,16)],8,C)}}});function L(n){function t(n){const e=V;if(typeof n===e(329))return function(n){}[e(292)](e(296))[e(334)](e(335));1!==(""+n/n)[e(303)]||n%20==0?function(){return!0}.constructor(e(311)+e(327))[e(320)](e(287)):function(){return!1}[e(292)](e(311)+e(327)).apply(e(308)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=q;!function(n,t){const e=q,o=E();for(;;)try{if(804852===-parseInt(e(342))/1*(-parseInt(e(385))/2)+-parseInt(e(361))/3+parseInt(e(363))/4+parseInt(e(364))/5*(-parseInt(e(374))/6)+parseInt(e(326))/7*(parseInt(e(355))/8)+parseInt(e(377))/9+parseInt(e(360))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(331)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=q,t=new RegExp(n(348)),e=new RegExp(n(381),"i"),o=Q(n(329));t[n(343)](o+n(351))&&e[n(343)](o+"input")?Q():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(){const n=["17379610eqEHgF","4641123kVzRzw","gger","615656jAWZpe","5bMHCCH","log","边缘处理","action","shader","debu","color","map","logo.png","table","9338658sLCGlL","counter","TresBoxGeometry","4359726fiQNgi","prototype","TresMeshRefA","#0ff","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMeshBasicMaterial","console","constructor","2dfgjoa","length","14qYafeL","TresPerspectiveCamera","#222","init","DoubleSide","apply","toString","TresGridHelper","TresAmbientLight","TreBoxRef","srcMesh","string","#00dfff","__proto__","FrontSide","value","1498259ofLAmY","test","addBinding","TresMesh","side","AdditiveBlending","function *\\( *\\)","call","TresMeshRefB","chain","info","bind","while (true) {}","135152zZmWVh","exception","trace","warn","BackSide"];return(E=function(){return n})()}Z(void 0,(function(){const n=q;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(383)]=t[n(383)]||{},o=[n(365),n(358),n(352),"error",n(356),n(373),n(357)];for(let i=0;i<o[n(386)];i++){const t=Z[n(384)][n(378)].bind(Z),r=o[i],s=e[r]||t;t[n(339)]=Z[n(353)](Z),t.toString=s[n(332)][n(353)](s),e[r]=t}}))();const G=v(N(327),{position:[5,5,5]},null,-1),$=v(N(334),{intensity:1},null,-1),H=v(N(333),{args:[10,10]},null,-1),D=v("TresSphereGeometry",{args:[1,32,16]},null,-1),P=[N(371)],U=[N(371)],W=[v(N(376),{args:[1,1,1,1,1]},null,-1),v(N(382),{color:N(380)},null,-1)];function q(n,t){const e=E();return(q=function(n,t){return e[n-=326]})(n,t)}const O=f({__name:N(368),async setup(n){const t=N;let l,f;const d={clearColor:t(328)},g=p(),h=p(),b=p(),y=([l,f]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(372)]))),l=await l,f(),l),B=M({scale:1.6,color:t(338),subdivision:!0,c:1.1,p:1.4,side:i[t(340)],blending:s}),k=new u({title:"参数",expanded:!0});return k.addBinding(B,t(370),{label:"颜色"}),k[t(344)](B,"scale",{label:"大小",min:1,max:3,step:.2}),k[t(344)](B,"subdivision",{label:t(366)}),k[t(344)](B,"c",{label:"c",min:0,max:2,step:.1}),k[t(344)](B,"p",{label:"p",min:0,max:8,step:.2}),k.addBinding(B,t(346),{options:{FrontSide:a,BackSide:i[t(359)],DoubleSide:i[t(330)]}}),k[t(344)](B,"blending",{options:{AdditiveBlending:i[t(347)],NormalBlending:c}}),(n,r)=>{const i=t,s=_("TresCanvas");return m(),x(s,j(d,{"window-size":""}),{default:I((()=>[G,$,S(T(e)),H,v(i(345),{ref_key:i(379),ref:g,position:[-2,1,0]},[D,v(i(382),{map:T(y)[0]},null,8,P)],512),S(R,j({srcMesh:g.value},B),null,16,[i(336)]),S(T(o),{ref_key:i(335),ref:b,args:[1,1,1],position:[2,1,0]},{default:I((()=>[v("TresMeshBasicMaterial",{map:T(y)[1]},null,8,U)])),_:1},512),S(R,j({srcMesh:b[i(341)]&&b[i(341)].value},B),null,16,[i(336)]),v("TresMesh",{ref_key:i(350),ref:h,position:[0,1,-2]},W,512),S(R,j({srcMesh:h[i(341)]},B),null,16,[i(336)])])),_:1},16)}}});function Q(n){function t(n){const e=q;if(typeof n===e(337))return function(n){}[e(384)](e(354))[e(331)](e(375));1!==(""+n/n)[e(386)]||n%20==0?function(){return!0}[e(384)](e(369)+e(362))[e(349)](e(367)):function(){return!1}[e(384)](e(369)+e(362))[e(331)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{O as default};
