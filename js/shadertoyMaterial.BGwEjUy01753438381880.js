import{e as t,a as e,b as n}from"./@tresjs.CL21cZKR1753438381880.js";import{a3 as o,aA as r,f as a,a as c,aX as W,m as i,cC as d,l as s}from"./three.0XnumNGx1753438381880.js";import{z as u}from"./three-custom-shader-material.DSEJsLBw1753438381880.js";import{P as l}from"./tweakpane.C0HtAJSg1753438381880.js";import{a as f}from"./axios.DLTVXJci1753438381880.js";import{d as C,r as h,aa as m,s as k,h as p,e as S,o as g,f as x,I as v,j as O,u as w,a7 as R,a8 as y,m as G}from"./@vue.BzMISRrV1753438381880.js";import"./postprocessing.Bts7n4b31753438381880.js";import"./@vueuse.B7eBfla_1753438381880.js";function K(){const t=["tJShWOJcVW","W7ZdO8k0D8k/","WQhcLMr7","WRpdJSoBWRNdOHe","pCk9W741DSoEWOulWOXdrCo1W6XkBSkAWOBdSCoU","pCk9W7OSzCotW4a","Au8oB8kXW4r2WO5ujvZcMutcJCoaztBdPG","o8oQubhdQM0KWPhcTCoP","W4TGWR3cKuL4fsy","W5NdSmo3","WRxcN8oboh/cJCkgW7JdHcaIWOeuW4BdTmkQW4ldKf/cI2K8qrBcKCkdB8kWWQaxWRBdJeBdVg96W7H9W6dcRSklW5GjfftdMmo+ogfVW655fXOEW6OIFcaNgCoQW5zKWOicWPfYaGHBWQLtiSkofupdN8otkqiVefaABqldSmk0BtKHWOrEWO3cVcGEWQJcPmoXexhdK8o0WOpcMcqtW47dK2bHWQDYW7RcO8kEscS7omkCBCoCWODGW47dO8kQbCo5WO/dSmkEiYxdHCknuH4plLOSzuBcOXzmpW","vaJcTveawgVcQGRdGqG/","DSk8u3xdOa","CCk+xN/dSq","W4/dPCknCsS","omkyo8olW788pCodW4vDWONdOY53a8o9hqLTW4xdJa","W4CTW6hcMCkMWR5Cz8k5WQWBWR0","W59OimoAC3tdJ8ojWOxcHmovna9BlqFcUNC","DcZdLxJdVa","WPfmCdCWF8kgWRLDk0KpWO5IEmkYW5xcRa","WQncWRZdOvJdMrhdUGKYCgXU","vbNcOSoMg0q","zmkFWP/dUfNdGCo/WOW","pmoriCkgWR3dHx/dRCo8","W7CeW7VcTHS","W7ZcRSkoW5dcS1DkdCku","AsJcS8kcWRhcJtqLDNBcGW","W5VdT8kFqCkd","Fu9YEmodgLZcISkY","WQhdU3nqqW","WPSSWQKw","WRDQuYm7","jxnOCYVdOqDO","W6tdIYu/W680umodivy","omooWRhdK0ddG8osWOy","ssq4WPxcUCotx8kp","W6xdGSk+ACkr","W4pdVSoIqw80A1ZcLCkagZTazsxcTSkJW5e","tINcUG","tSkEWRtcN8oa","W6CyW6dcVWBcMKJcSaSUwM5kW6z0r8opW5D9FSk7","rJCAWRa2","nqWyWRNdSW","rCkPWRaWW5K","duFdNCkgjG","v35RBmodhf7dTCkBaLnrW5FcM2GlwCoaW7qyWPy8FSo8eCo8","W47dOSk+w2K0FWJcKCkqg30pyvJdOSoQWR5wWRyPW5hdIg7dNCkmW6dcRSk/WQ5UgG","FuCsCG","W5xdJCkvCtC","WQOIWRiSsW","sXijWQ8e","WPJcSSkHpq","CmoqjSk4WOu","aKPrW61wCSkLg3fnWPddRa","WOP2WR7dJCo/W716fCkgWRWdWOJcGSoxWRNcQXXryxxcLIutBhGUW4xcHhi","lSosW6VdLv3dHmoaWP5fECkqqGddNrXpnSkgW4FdHLZdKmk0W4P6umkCA1rEWOTS","FYNcTmkxWQRcJsW1","W4dcNSkqW5hcS09a","W6FdQmo2uwW","W5BcMaZcMh4kwYbWW6ZdIJpdNCk4tMtcG0G","E8oOWRP5nSkdWPn1WR9st8oVW7y","W5yznxTQjSoyW5fIiKLjW4O","z8kiCa","W6CAWO3cH0NdH8kb","ySo9cmkyWOm","gvRdGSkFlb8","WP0SWQOoFGOg","WP7cTSoynCoRofDsBbddLSkXk2G0sKmf","Amk/WQa9W48","waCnWRypnCkUgJWrW5xcQ8oXWQtdUWmoBCod","lmk3W6qZCmocW5baWP5zwq","Dq/dILtdRW","d1hdQWm","WRG1WRBcP1i","qmkYW4n+WQxdOK5dpSkYjSkfmSoeBMhdUCoC","vq3cS1uauuVcVcxdSWSB","mSoxj8o9W4NcI0ddQmo+crVdPW","agzuW7dcPX7dK38","WO3cOCouig7cNmksWRlcGhbhW4jK","waCjWQ8ComoR","WRBdHmotWQ/cOrtcJf5nW41m","sCoeWRfLWRJdSwzv","WOhdMrldN2P6WRldSSor","pSoHvXtdTeumWOBcVSow","WOFdJH/dIxvIWR4","W6tdMCkeCmkgWQRdG8oP","FCk8fuJdKwCr","CmkAoCkOWPddNvJdMmoVpW7dSSkVW6JcHSo6W5TtW7jkexhdRt4mWOZdLZGctwbI","WO01WRRcVvbrEwRdGCoYcSoiWONdO8oABmktWO3dRq","jHKyWRNdQYdcOq","W7GEWONcJLRdJCkfW5i","W4FdUSoGvgC5Aq","EwiWwSk7","rt0WWRhdPKdcHfddQmkYw8kwzq","WPWJWQpcL2zwpYtdKSo0aCoOWPldPSoACa","W4CYfSo/aSkbdCk1WQhcNG","pxBdPmogWP3cKJSLCfe","WOKXWRZcSuTrpMldKCoIb8kzW53dVmoGDmkaWQ4","WOJcPCoriw3cNSkqWO7cSwrMW5HA","W6CDWPVcJgW","W77cLbf0yKa9W6DG","WO3dUqxdK3i","EYxdQxhdKa","sWZcOmoOgW","oCk5W7G5BCoEW4idWPXtsmkKWRHvvmkcWPxdKG","WRuOWRySDSoqW6NdR8og","v2rNCSoyg0hcSa","WRFcMNLR","WPO9WR8AAXWrWQi","WPVcSSolpSoHpG","W4NcLXJcJG","uwbUy8oy","gfJdVSkElrpcGxe","AtddUg/dISkL","WQhdM8okWQFdUa","y01rW6ldKI7cVMf9qW","W6yzW5RcRrVcGuVdTW","WRe9WPCuEa"];return(K=function(){return t})()}!function(){function t(t,e,n,o,r){return L(t-181,e)}function e(t,e,n,o,r){return L(t- -937,n)}const n=K();function o(t,e,n,o,r){return L(e- -926,n)}for(;;)try{if(582505===-parseInt(t(585,"QjLg"))/1+-parseInt(t(532,"QjLg"))/2*(-parseInt(e(-513,0,"8UX0"))/3)+-parseInt(o(0,-515,"nUp("))/4*(-parseInt(e(-602,0,"nUp("))/5)+-parseInt((r=526,a="X*vG",L(r-178,a)))/6+parseInt(e(-534,0,"nUNx"))/7*(parseInt(e(-601,0,"xGy5"))/8)+parseInt(t(602,"C9LC"))/9*(parseInt(L(1071-721,"YxF*"))/10)+-parseInt(o(0,-500,"KK8A"))/11)break;n.push(n.shift())}catch(c){n.push(n.shift())}var r,a}();const Q=function(){let t=!0;return function(e,n){function o(t,e,n,o,r){return L(n- -362,r)}if("HTjdj"===o(0,0,34,0,"WsvB")){const t=_0x1d20b9.apply(_0x26c3e7,arguments);return _0x5e0530=null,t}{const r=t?function(){function t(t,e,n,r,a){return o(0,0,n-184,0,r)}function r(t,e,n,r,a){return o(0,0,e-166,0,a)}function a(t,e,n,r,a){return o(0,0,e-249,0,t)}if("PGQmb"!==a("1yk7",246))return _0x7ae9f3[a("&[fv",296)]().search("(((.+)+)+)+$")[a("X*vG",213)]()[a("8UX0",241)](_0x4eb0af)[a(")[Wv",324)]("(((.+)+)+)+$");if(n){if(a("xGy5",288)!==r(0,203,0,0,"6sTm")){const o=n[t(0,0,194,"v!iV")](e,arguments);return n=null,o}{let e=_0x1fce97[r(0,132,0,0,"CKBC")](t(0,0,224,"#XOS"));_0x435b85=t(0,0,187,"ktUa")+"uniform sampler2D  utexture;\n"+e[1],_0x56e2de=_0x1162a8[t(0,0,239,"yd9[")](/iChannel0|iChannel1|iChannel2|iChannel3/g,o(0,0,-510- -582,0,"dXNA"))}}}:function(){};return t=!1,r}}}()(void 0,(function(){function t(t,e,n,o,r){return L(r- -563,t)}function e(t,e,n,o,r){return L(e- -696,o)}return Q[e(0,-336,0,"AHW[")]()[t("2Bd7",0,0,0,-232)](t("t2C7",0,0,0,-182))[e(0,-291,0,"C9LC")]().constructor(Q)[(n=962,o="6sTm",L(n-639,o))]("(((.+)+)+)+$");var n,o}));Q();const b=function(){let t=!0;return function(e,n){function o(t,e,n,o,r){return L(n- -236,t)}function r(t,e,n,o,r){return L(o-191,e)}if(o("l$@D",0,156)===r(0,"IYlk",0,611)){const r=t?function(){function t(t,e,n,r,a){return o(a,0,n-585)}if(t(0,0,695,0,"6sTm")===t(0,0,704,0,"@dn]")){const t=_0x37d9a2.apply(_0x3e659b,arguments);return _0x5bbf08=null,t}if(n){const o=n[t(0,0,673,0,"2Bd7")](e,arguments);return n=null,o}}:function(){};return t=!1,r}{const t=_0x18a8d5[o("gqpE",0,162)][o("GB3[",0,197)].bind(_0x575ce8),e=_0x14afb6[_0x4607cd],n=_0x1606eb[e]||t;t[r(0,"eb3I",0,544)]=_0x4621c7[(d=528,s="nUNx",L(d-128,s))](_0x561808),t[(W=-121,i="CKBC",L(W- -484,i))]=n[(a=979,c="C9LC",L(a-574,c))].bind(n),_0x3d6f73[e]=t}var a,c,W,i,d,s}}();function L(t,e){const n=K();return L=function(e,o){let r=n[e-=321];if(void 0===L.jRKvYI){var a=function(t){let e="",n="",o=e+a;for(let r,a,c=0,W=0;a=t.charAt(W++);~a&&(r=c%4?64*r+a:a,c++%4)?e+=o.charCodeAt(W+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=e.length;r<a;r++)n+="%"+("00"+e.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};const e=function(t,e){let n,o,r=[],c=0,W="";for(t=a(t),o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)c=(c+r[o]+e.charCodeAt(o%e.length))%256,n=r[o],r[o]=r[c],r[c]=n;o=0,c=0;for(let a=0;a<t.length;a++)o=(o+1)%256,c=(c+r[o])%256,n=r[o],r[o]=r[c],r[c]=n,W+=String.fromCharCode(t.charCodeAt(a)^r[(r[o]+r[c])%256]);return W};L.VKbFsi=e,t=arguments,L.jRKvYI=!0}const c=e+n[0],W=t[c];if(W)r=W;else{if(void 0===L.pgtnHF){const t=function(t){this.SGLOAl=t,this.kSfgLZ=[1,0,0],this.KGnVUZ=function(){return"newState"},this.fPfUqL="\\w+ *\\(\\) *{\\w+ *",this.vxkDQg="['|\"].+['|\"];? *}"};t.prototype.YpTOQp=function(){const t=new RegExp(this.fPfUqL+this.vxkDQg).test(this.KGnVUZ.toString())?--this.kSfgLZ[1]:--this.kSfgLZ[0];return this.YisthV(t)},t.prototype.YisthV=function(t){return Boolean(~t)?this.tHOkna(this.SGLOAl):t},t.prototype.tHOkna=function(t){for(let e=0,n=this.kSfgLZ.length;e<n;e++)this.kSfgLZ.push(Math.round(Math.random())),n=this.kSfgLZ.length;return t(this.kSfgLZ[0])},new t(L).YpTOQp(),L.pgtnHF=!0}r=L.VKbFsi(r,o),t[c]=r}return r},L(t,e)}b(void 0,(function(){function t(t,e,n,o,r){return L(o-298,n)}function e(t,e,n,o,r){return L(t-891,n)}function n(t,e,n,o,r){return L(r-479,t)}function o(t,e,n,o,r){return L(e-813,o)}const r=function(){function t(t,e,n,o,r){return L(r- -373,o)}function e(t,e,n,o,r){return L(t- -893,n)}function n(t,e,n,o,r){return L(n- -247,r)}if(t(0,0,0,"@dn]",-44)===L(-521- -890,"t2C7")){let r;try{"DAYiI"!==t(0,0,0,"MKSX",54)?r=Function(n(0,0,150,0,"t2C7")+e(-519,0,"ktUa")+");")():_0x460f96=_0x3d6565(n(0,0,169,0,"xGy5")+e(-478,0,"QjLg")+");")()}catch(o){if("wEeYU"!==t(0,0,0,"GO%E",-6))r=window;else{let e=_0x5b7382[n(0,0,95,0,"KK8A")](L(489-64,"xGy5"));_0x5ad3b4=t(0,0,0,")g5i",14)+t(0,0,0,"ARyT",-30)+e[1],_0x20da90=_0x54974d.replace(/iTime|iTimeDelta/g,"utime")}}return r}{const t=_0x49c8a4?function(){if(_0x321dc5){const o=_0xc494b3[(t=328,e="6sTm",n(0,0,t-145,0,e))](_0x3b99e7,arguments);return _0x50c33c=null,o}var t,e}:function(){};return _0x23c947=!1,t}}(),a=r[n("eb3I",0,0,0,864)]=r[e(1303,0,"y9zS")]||{};function c(t,e,n,o,r){return L(o-746,e)}const W=[e(1281,0,"QjLg"),"warn",n(")g5i",0,0,0,917),o(0,1165,0,"X*vG"),e(1301,0,"y9zS"),n("l$@D",0,0,0,859),e(1231,0,"QOQf")];for(let i=0;i<W[e(1240,0,"VvSI")];i++)if(c(0,"M$CI",0,1103)!==e(1262,0,"WsvB")){if(_0x331272){const t=_0x1269bb[n("yd9[",0,0,0,849)](_0x4668d6,arguments);return _0x52cc69=null,t}}else{const r=b.constructor.prototype[e(1326,0,"Y%PF")](b),d=W[i],s=a[d]||r;r[t(0,0,"dXNA",654)]=b[t(0,0,"IYlk",673)](b),r[c(0,"v!iV",0,1068)]=s[n("@dn]",0,0,0,892)][o(0,1192,0,"4#FD")](s),a[d]=r}}))();class _{constructor(t,e){const n=_.replaceVariable(t);const a=new u({baseMaterial:r,vertexShader:c(94,132,"KK8A",87),fragmentShader:n,side:o,uniforms:e[c(184,114,"MKSX",167)][c(165,186,"8UX0",133)]});function c(t,e,n,o,r){return L(o- -251,n)}var W,i,d,s;this.material=a,console[(d=1005,s="ktUa",L(d-668,s))](this[(W=964,i="YxF*",L(W-602,i))])}static replaceVariable(t){function e(t,e,n,o,r){return L(o-193,r)}function n(t,e,n,o,r){return L(r-219,n)}t=o(358,299,314,312,"gqpE")+t;function o(t,e,n,o,r){return L(e- -133,r)}if(/iTime|iTimeDelta/g.test(t))if(o(0,296,0,0,"y9zS")===e(0,0,0,569,"KK8A")){let e=t.split("varying vec2 vUv;\n");t=(t=o(0,262,0,0,")[Wv")+a(659,"X*vG",667,706)+e[1])[n(0,0,"MKSX",0,610)](/iTime|iTimeDelta/g,a(728,"@dn]",671,702))}else{let t=_0x2cdb51[o(0,208,0,0,"QOQf")]("varying vec2 vUv;\n");_0x1fb50f="varying vec2 vUv;\n"+o(0,240,0,0,"dXNA")+t[1],_0x130fde=_0x29f39d.replace(/iResolution\.[a-zA-Z_]+/g,"1."),_0x42426d=_0x31d6f6[a(742,"MKSX",691,729)](/iResolution/g,"1.")}function r(t,e,n,o,r){return L(t- -974,e)}if(/iResolution\.[a-zA-Z_]+/g[n(0,0,"ouLB",0,577)](t)){if("MZuqC"===a(719,"GB3[",671,665)){let t;try{t=_0x1786f1(n(0,0,"gqpE",0,551)+e(0,0,0,576,"YxF*")+");")()}catch(c){t=_0x3758bd}return t}{let o=t[e(0,0,0,514,"dXNA")](r(-629,"3#p&"));t=(t=(t=n(0,0,"1yk7",0,566)+"uniform vec2 uresolution;\n"+o[1])[r(-560,"nUp(")](/iResolution\.[a-zA-Z_]+/g,"1."))[r(-567,"t2C7")](/iResolution/g,"1.")}}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[o(0,197,0,0,"Y%PF")](t))if(a(768,"GB3[",690,715)===e(0,0,0,579,"ktUa"))_0x264ffb=_0x20d014;else{let e=t[o(0,298,0,0,"VvSI")](a(620,"IYlk",728,672));t=(t=r(-542,"gqpE")+n(0,0,"MiTm",0,601)+e[1])[o(0,261,0,0,"ouLB")](/iChannel0|iChannel1|iChannel2|iChannel3/g,o(0,303,0,0,"ouLB"))}function a(t,e,n,o,r){return L(o-338,e)}return t[n(0,0,"ktUa",0,638)](/iMouse/g,e(0,0,0,586,"v!iV")),t.replace(/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,r(-566,"2Bd7")).replace(/fragColor/g,n(0,0,"xGy5",0,641))[r(-641,"gqpE")](/fragCoord/g,r(-608,"VvSI"))}}const B={ref:"perspectiveCameraRef",position:[300,250,-122],fov:45,near:1,far:1e4},P=["object","side"],I=C({__name:"shadertoyMaterial",async setup(r){let u,C;const K={clearColor:"#000000",shadows:!0,alpha:!1,useLegacyLights:!0},Q={autoRotate:!0,enableDamping:!0},b=new l({title:"参数"}),L=h({addres:"https://www.shadertoy.com/view/mtyGWy",shadervalue:""});let I=([u,C]=m((()=>n(["./plugins/earthSample/image/earthA/moon_ring.png"]))),u=await u,C(),u),q=new a,A=h({material:{uniforms:{utime:{value:0},uresolution:{value:new c(40,40)},utexture:{value:I}}}}),V=new W(100,100,100);b.addBlade({view:"list",label:"shadertoy在线地址",parse:t=>String(t),options:[{text:"1",value:"https://www.shadertoy.com/view/mtyGWy"},{text:"2",value:"https://www.shadertoy.com/view/tlVGDt"},{text:"3",value:"https://www.shadertoy.com/view/ttKGDt"}],value:"https://www.shadertoy.com/view/mtyGWy"}).on("change",(t=>{L.addres=t.value,U(V)}));let J=new W(100,100,100),N=new i(100,100),T=new d(100,10,100,16);b.addBlade({view:"list",label:"几何体",options:[{text:"BOX",value:J},{text:"Plane",value:N},{text:"TorusKnot",value:T}],value:J}).on("change",(t=>{V=t.value,U(V)}));const U=t=>{let e="https://www.shadertoy.com/api/v1/shaders/"+L.addres.split("https://www.shadertoy.com/view/")[1]+"?key=BdHlhH";f.get(e).then((function(e){e.data.Error&&alert(e.data.Error),L.shadervalue=e.data.Shader.renderpass[0].code;let n=new _(L.shadervalue,A);q.clear();let o=new s(t,n.material);q.add(o),X(q,t)})).catch((function(t){console.log(t)}))},X=(t,e)=>{t.children[0].geometry.dispose(),t.children[0].geometry=e},{onLoop:Y}=t();return Y((({delta:t})=>{A.material.uniforms.utime.value+=t})),k((()=>{let t=new W(100,100,100);U(t)})),(t,n)=>{const r=p("TresCanvas");return g(),S(r,G(K,{"window-size":""}),{default:x((()=>[v("TresPerspectiveCamera",B,null,512),O(w(e),R(y(Q)),null,16),n[0]||(n[0]=v("TresAmbientLight",{color:"#ffffff"},null,-1)),n[1]||(n[1]=v("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),v("primitive",{object:w(q),side:w(o)},null,8,P),n[2]||(n[2]=v("TresAxesHelper",{args:[1e3],position:[0,19,0]},null,-1)),n[3]||(n[3]=v("TresGridHelper",{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});export{I as default};
