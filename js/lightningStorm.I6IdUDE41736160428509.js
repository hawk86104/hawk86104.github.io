import{_ as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.zh3Kqdjn1736160428509.js";import{B as i,V as s,cz as n,ad as e,X as r,h as o,an as a,$ as h,s as c,C as u,_ as l}from"./three.rmsIv-u_1736160428509.js";import{e as p,g as d,F as m}from"./@tresjs.8MtVPQyb1736160428509.js";import{a as f}from"./simplex-noise.jB2HxhHB1736160428509.js";import{d as g,a1 as y,o as b,D as v,u as x,r as S,j as w,g as _,F as P,m as I}from"./@vue.4u_eOGex1736160428509.js";import"./index.Igg9XOw61736160428509.js";import{_ as M}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.TnTPNj2i1736160428509.js";import"./three-custom-shader-material._2dHD2wr1736160428509.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.Gb__Qx-y1736160428509.js";import"./all.three._2K49LgC1736160428509.js";import"./oimophysics.x0jH7fze1736160428509.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.NEfY280X1736160428509.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.OmKZXs_e1736160428509.js";import"./index.er1mwMyA1736160428509.js";import"./three-stdlib.MDmepMCW1736160428509.js";import"./@pmndrs.4WMPGHRZ1736160428509.js";import"./object-hash.6_ROEVvk1736160428509.js";import"./@amap.uuGbEc9W1736160428509.js";import"./jszip.gYriRClA1736160428509.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.5qYCEkqW1736160428509.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.YtuzXWEt1736160428509.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.p-vnqqOj1736160428509.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.8zE_avPN1736160428509.js";const T=R;function R(t,i){const s=A();return(R=function(t,i){return s[t-=311]})(t,i)}!function(t,i){const s=R,n=A();for(;;)try{if(679625===parseInt(s(371))/1*(-parseInt(s(470))/2)+-parseInt(s(363))/3*(-parseInt(s(317))/4)+-parseInt(s(375))/5+-parseInt(s(320))/6+parseInt(s(439))/7*(parseInt(s(311))/8)+-parseInt(s(361))/9*(-parseInt(s(409))/10)+parseInt(s(331))/11*(-parseInt(s(397))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const j=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[R(417)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){j(this,(function(){const t=R,i=new RegExp(t(330)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=F("init");i[t(484)](n+"chain")&&s[t(484)](n+t(462))?F():n("0")}))()}();const z=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[R(417)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function A(){const t=["currentSegmentCallback","22450HeyXtr","init","subVectors","RAY_PROPAGATING","LightningStrike","radius0","linPos1","maxSubrays","onDecideSubrayCreation","state","subrayDutyCycle","COS30DEG","subrays","vanishingTimeFactor","console","newPos","maxRaySegments","lerpVectors","normalize","simplexY","array","pos0","708sxOqxO","endPropagationTime","sin","SIN30DEG","initSubray","counter","copy","createRandomGenerator","crossVectors","propagationTimeFactor","visible","fraction0","3061820ubyKmm","seed","constructor","numSubrays","currentCreateTriangleVertices","clone","rayParameters","currentSubray","apply","length","RAY_UNBORN","indices","radius0Factor","usage","position","deathTime","ramification","linPos0","timeFraction","simplexZ","trace","isInitialSegment","uvsAttribute","currentSeed","RAY_EXTINGUISHED","count","birthTime","cos","randomGenerator","middleLinPos","469287SrpqdY","createSubray","currentUVCoordinate","recursion","beginVanishingTime","subrayPeriod","timeScale","middlePos","cross1","maxIterations","roughness","radius1Factor","pow","createSegment","forwardsFill","update","currentIndex","generateUVs","createPrismFaces","multiplyScalar","setIndex","gger","warn","input","push","forwards","exception","debu","min","isStatic","uvs","2fLnlkB","iteration","setSeed","positionAttribute","pos1","index","call","sourceOffset","up1","needsUpdate","onSubrayCreation","time","bind","RAY_VANISHING","test","straightness","136ZLnMSQ","fillMesh","currentCoordinate","isLightningStrike","getNewSegment","fractalRay","21580qfhNWv","floor","currentSegmentIndex","1081686koWBvF","prototype","ceil","addNewSubray","createMesh","set","random","add","vPos","createDefaultSubrayCreationCallbacks","function *\\( *\\)","142736EGwwFz","sub","createTriangleVerticesWithUVs","vertices","raySegments","radius1","__proto__","setAttribute","createPrism","noiseSeed","copyParameters","subrayProbability","fractalRayRecursive","lerp","table","toString","RAY_STEADY","seedGenerator","fraction1","string","RAY_INITIALIZED","subrayCylinderPosition","side","isEternal","down","drawRange","minRadius","max","stateObject","currentVertex","36PWkkKK","up0","42kAsPel","maxSubrayRecursion","recursionProbability",'{}.constructor("return this")( )',"simplexX","type","destOffset","action","809975yqzqLL","positionVariationFactor","createTriangleVerticesWithoutUVs"];return(A=function(){return t})()}z(void 0,(function(){const t=R,i=function(){const t=R;let i;try{i=Function("return (function() "+t(366)+");")()}catch(s){i=window}return i}(),s=i[t(389)]=i.console||{},n=["log",t(461),"info","error",t(465),t(345),t(429)];for(let e=0;e<n[t(418)];e++){const i=z[t(411)][t(321)].bind(z),r=n[e],o=s[r]||i;i[t(337)]=z[t(482)](z),i.toString=o[t(346)].bind(o),s[r]=i}}))();class C extends i{constructor(t={}){const i=R;super(),this[i(314)]=!0,this[i(368)]=i(379),this[i(376)](C[i(341)](t,t)),this[i(324)]()}static[T(404)](){const t=T,i=2053,s=[];for(let e=0;e<i;e++)s.push(Math[t(326)]());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(432)]];return n[e(432)]=(n[e(432)]+1)%i,r},getSeed:function(){return n[t(432)]/i},setSeed:function(s){const e=t;n[e(432)]=Math[e(318)](s*i)%i}};return n}static copyParameters(t={},i={}){const n=T,e=function(s){return i===t?s:s[R(414)]()};return t[n(477)]=void 0!==i[n(477)]?e(i[n(477)]):new s(0,100,0),t[n(369)]=void 0!==i[n(369)]?e(i[n(369)]):new s(0,0,0),t.timeScale=void 0!==i.timeScale?i[n(445)]:1,t[n(449)]=void 0!==i[n(449)]?i[n(449)]:.9,t.straightness=void 0!==i[n(485)]?i[n(485)]:.7,t[n(362)]=void 0!==i.up0?e(i[n(362)]):new s(0,0,1),t.up1=void 0!==i[n(478)]?e(i[n(478)]):new s(0,0,1),t[n(380)]=void 0!==i[n(380)]?i[n(380)]:1,t[n(336)]=void 0!==i.radius1?i.radius1:1,t[n(421)]=void 0!==i[n(421)]?i[n(421)]:.5,t[n(450)]=void 0!==i[n(450)]?i[n(450)]:.2,t.minRadius=void 0!==i[n(357)]?i.minRadius:.2,t[n(354)]=void 0!==i[n(354)]?i[n(354)]:void 0===i[n(435)]||void 0===i[n(424)],t[n(435)]=i[n(435)],t[n(424)]=i.deathTime,t[n(406)]=void 0!==i[n(406)]?i[n(406)]:.1,t.vanishingTimeFactor=void 0!==i[n(388)]?i[n(388)]:.9,t[n(444)]=void 0!==i[n(444)]?i[n(444)]:4,t[n(385)]=void 0!==i[n(385)]?i[n(385)]:.6,t[n(448)]=void 0!==i.maxIterations?i[n(448)]:9,t.isStatic=void 0!==i[n(468)]&&i[n(468)],t[n(425)]=void 0!==i[n(425)]?i[n(425)]:5,t.maxSubrayRecursion=void 0!==i[n(364)]?i[n(364)]:3,t[n(365)]=void 0!==i[n(365)]?i[n(365)]:.6,t[n(456)]=void 0!==i[n(456)]&&i[n(456)],t.randomGenerator=i[n(437)],t[n(340)]=i[n(340)],t[n(383)]=i[n(383)],t[n(480)]=i[n(480)],t}[T(454)](t){const i=T;this[i(468)]||(this[i(415)][i(354)]||this[i(415)][i(435)]<=t&&t<=this[i(415)].deathTime?(this.updateMesh(t),t<this[i(387)][0][i(398)]?this[i(384)]=C[i(378)]:t>this[i(387)][0][i(443)]?this[i(384)]=C[i(483)]:this[i(384)]=C[i(347)],this[i(407)]=!0):(this[i(407)]=!1,t<this[i(415)][i(435)]?this.state=C[i(419)]:this[i(384)]=C[i(433)]))}init(t){const i=T;this[i(415)]=t,this[i(448)]=void 0!==t[i(448)]?Math[i(318)](t[i(448)]):9,t[i(448)]=this[i(448)],this[i(468)]=void 0!==t[i(468)]&&t[i(468)],t[i(468)]=this[i(468)],this[i(425)]=void 0!==t[i(425)]?Math[i(318)](t.ramification):5,t[i(425)]=this.ramification,this.maxSubrayRecursion=void 0!==t[i(364)]?Math[i(318)](t[i(364)]):3,t.maxSubrayRecursion=this[i(364)],this[i(365)]=void 0!==t[i(365)]?t.recursionProbability:.6,t[i(365)]=this[i(365)],this.generateUVs=void 0!==t.generateUVs&&t.generateUVs,t[i(456)]=this[i(456)],void 0!==t[i(437)]?(this.randomGenerator=t[i(437)],this[i(348)]=t.randomGenerator,void 0!==t[i(340)]&&this[i(348)].setSeed(t[i(340)])):(this.randomGenerator=C[i(404)](),this.seedGenerator=Math),void 0!==t[i(383)]?this[i(383)]=t[i(383)]:(this[i(329)](),void 0!==t.onSubrayCreation&&(this[i(480)]=t[i(480)])),this.state=C[i(351)],this.maxSubrays=Math[i(322)](1+Math[i(451)](this[i(425)],Math[i(358)](0,this[i(364)]-1))),t.maxSubrays=this[i(382)],this[i(391)]=2*(1<<this[i(448)]),this.subrays=[];for(let s=0;s<this[i(382)];s++)this[i(387)][i(463)](this[i(440)]());this.raySegments=[];for(let s=0;s<this[i(391)];s++)this[i(335)].push(this[i(452)]());this[i(481)]=0,this[i(427)]=0,this.currentSegmentCallback=null,this[i(413)]=this[i(456)]?this[i(333)]:this[i(373)],this[i(412)]=0,this[i(416)]=null,this[i(319)]=0,this[i(430)]=!1,this[i(342)]=0,this[i(360)]=0,this[i(455)]=0,this.currentCoordinate=0,this[i(441)]=0,this[i(334)]=null,this[i(469)]=null,this[i(420)]=null,this[i(473)]=null,this[i(431)]=null,this.simplexX=f(this.seedGenerator[i(326)]),this.simplexY=f(this[i(348)][i(326)]),this[i(428)]=f(this[i(348)][i(326)]),this.forwards=new s,this.forwardsFill=new s,this[i(353)]=new s,this[i(355)]=new s,this[i(446)]=new s,this[i(438)]=new s,this[i(390)]=new s,this[i(328)]=new s,this[i(447)]=new s}createMesh(){const t=T,i=1<<this[t(448)],s=3*(i+1)*this[t(382)],o=18*i*this.maxSubrays;this.vertices=new Float32Array(3*s),this[t(420)]=new Uint32Array(o),this[t(456)]&&(this[t(469)]=new Float32Array(2*s)),this.fillMesh(0),this[t(459)](new n(this[t(420)],1)),this[t(473)]=new e(this[t(334)],3),this[t(338)](t(423),this[t(473)]),this.generateUVs&&(this.uvsAttribute=new e(new Float32Array(this[t(469)]),2),this[t(338)]("uv",this.uvsAttribute)),!this[t(468)]&&(this[t(475)][t(422)]=r,this[t(473)][t(422)]=r,this[t(456)]&&(this[t(431)][t(422)]=r)),this[t(334)]=this[t(473)][t(395)],this[t(420)]=this[t(475)].array,this[t(456)]&&(this.uvs=this[t(431)][t(395)])}updateMesh(t){const i=T;this[i(312)](t),this[i(356)][i(434)]=this[i(455)],this[i(475)][i(479)]=!0,this[i(473)][i(479)]=!0,this[i(456)]&&(this[i(431)][i(479)]=!0)}[T(312)](t){const i=T,s=this;this.currentVertex=0,this.currentIndex=0,this[i(313)]=0,this[i(441)]=0,this.fractalRay(t,(function(n){const e=i,r=s[e(416)];t<r[e(435)]||(this.rayParameters[e(354)]&&0==s[e(416)][e(442)]?(s[e(339)](n),s[e(383)](n,s)):t<r.endPropagationTime?s[e(427)]>=n.fraction0*r[e(406)]&&(s[e(339)](n),s[e(383)](n,s)):t<r.beginVanishingTime?(s[e(339)](n),s[e(383)](n,s)):(s[e(427)]<=r[e(388)]+n[e(349)]*(1-r.vanishingTimeFactor)&&s.createPrism(n),s[e(383)](n,s)))}))}addNewSubray(){const t=T;return this.subrays[this[t(412)]++]}[T(401)](t,i){const s=T;t[s(396)][s(403)](i[s(477)]),t[s(474)].copy(i[s(369)]),t[s(362)][s(403)](i[s(362)]),t[s(478)][s(403)](i[s(478)]),t.radius0=i[s(380)],t[s(336)]=i[s(336)],t[s(435)]=i[s(435)],t[s(424)]=i[s(424)],t.timeScale=i[s(445)],t.roughness=i[s(449)],t[s(485)]=i[s(485)],t[s(406)]=i[s(406)],t[s(388)]=i[s(388)],t[s(448)]=this.maxIterations,t[s(410)]=void 0!==i.noiseSeed?i[s(340)]:0,t[s(442)]=0}[T(316)](t,i){const s=T;this[s(481)]=t,this.currentSegmentCallback=i,this.numSubrays=0,this[s(401)](this[s(323)](),this.rayParameters);for(let n=0;n<this[s(412)];n++){const i=this[s(387)][n];this.currentSubray=i,this[s(437)][s(472)](i[s(410)]),i[s(398)]=o[s(344)](i[s(435)],i.deathTime,i[s(406)]),i.beginVanishingTime=o.lerp(i.deathTime,i[s(435)],1-i[s(388)]);const e=this.randomGenerator.random;i.linPos0[s(325)](e(),e(),e())[s(458)](1e3),i.linPos1[s(325)](e(),e(),e())[s(458)](1e3),this[s(427)]=(t-i[s(435)])/(i.deathTime-i.birthTime),this[s(319)]=0,this[s(430)]=!0;const r=this[s(315)]();r[s(471)]=0,r[s(396)][s(403)](i[s(396)]),r[s(474)][s(403)](i[s(474)]),r.linPos0[s(403)](i[s(426)]),r[s(381)][s(403)](i[s(381)]),r[s(362)][s(403)](i[s(362)]),r[s(478)][s(403)](i[s(478)]),r.radius0=i[s(380)],r[s(336)]=i.radius1,r[s(408)]=0,r[s(349)]=1,r[s(372)]=1-i[s(485)],this.subrayProbability=this.ramification*Math[s(451)](this[s(365)],i[s(442)])/(1<<i.maxIterations),this[s(343)](r)}this[s(374)]=null,this.currentSubray=null}fractalRayRecursive(t){const i=T;if(t[i(471)]>=this[i(416)][i(448)])return void this[i(374)](t);this[i(464)].subVectors(t[i(474)],t[i(396)]);let s=this[i(464)].length();s<1e-6&&(this[i(464)][i(325)](0,0,.01),s=this[i(464)].length());const n=.5*(t[i(380)]+t.radius1),e=.5*(t.fraction0+t[i(349)]),r=this.time*this.currentSubray.timeScale*Math[i(451)](2,t[i(471)]);this[i(446)].lerpVectors(t.pos0,t[i(474)],.5),this[i(438)][i(392)](t[i(426)],t[i(381)],.5);const o=this.middleLinPos;this[i(390)][i(325)](this[i(367)](o.x,o.y,o.z,r),this[i(394)](o.x,o.y,o.z,r),this[i(428)](o.x,o.y,o.z,r)),this[i(390)].multiplyScalar(t[i(372)]*s),this[i(390)][i(327)](this.middlePos);const a=this[i(315)]();a[i(396)][i(403)](t[i(396)]),a[i(474)].copy(this[i(390)]),a[i(426)][i(403)](t[i(426)]),a[i(381)][i(403)](this.middleLinPos),a[i(362)][i(403)](t[i(362)]),a[i(478)][i(403)](t[i(478)]),a[i(380)]=t[i(380)],a.radius1=n,a[i(408)]=t[i(408)],a.fraction1=e,a[i(372)]=t[i(372)]*this[i(416)][i(449)],a[i(471)]=t.iteration+1;const h=this[i(315)]();h[i(396)][i(403)](this.newPos),h[i(474)][i(403)](t.pos1),h[i(426)][i(403)](this[i(438)]),h.linPos1[i(403)](t[i(381)]),this.cross1[i(405)](t[i(362)],this[i(464)][i(393)]()),h.up0[i(405)](this[i(464)],this.cross1)[i(393)](),h[i(478)][i(403)](t.up1),h.radius0=n,h.radius1=t[i(336)],h[i(408)]=e,h[i(349)]=t[i(349)],h[i(372)]=t[i(372)]*this[i(416)][i(449)],h[i(471)]=t[i(471)]+1,this[i(343)](a),this.fractalRayRecursive(h)}[T(339)](t){const i=T;this[i(453)][i(377)](t[i(474)],t[i(396)]).normalize(),this.isInitialSegment&&(this[i(413)](t[i(396)],t[i(362)],this[i(453)],t.radius0,0),this[i(430)]=!1),this[i(413)](t[i(474)],t.up0,this[i(453)],t.radius1,t.fraction1),this[i(457)]()}[T(373)](t,i,s,n){const e=T;this[e(353)][e(405)](i,s)[e(458)](n*C[e(386)]),this[e(355)].copy(i)[e(458)](-n*C[e(400)]);const r=this[e(328)],o=this[e(334)];r.copy(t).sub(this[e(353)]).add(this.down),o[this[e(313)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this[e(313)]++]=r.z,r.copy(t)[e(327)](this[e(353)])[e(327)](this[e(355)]),o[this[e(313)]++]=r.x,o[this[e(313)]++]=r.y,o[this[e(313)]++]=r.z,r[e(403)](i)[e(458)](n).add(t),o[this.currentCoordinate++]=r.x,o[this[e(313)]++]=r.y,o[this[e(313)]++]=r.z,this.currentVertex+=3}[T(333)](t,i,s,n,e){const r=T;this[r(353)][r(405)](i,s)[r(458)](n*C[r(386)]),this[r(355)][r(403)](i)[r(458)](-n*C.SIN30DEG);const o=this[r(328)],a=this[r(334)],h=this[r(469)];o[r(403)](t)[r(332)](this[r(353)])[r(327)](this[r(355)]),a[this[r(313)]++]=o.x,a[this[r(313)]++]=o.y,a[this[r(313)]++]=o.z,h[this[r(441)]++]=e,h[this[r(441)]++]=0,o[r(403)](t)[r(327)](this[r(353)])[r(327)](this.down),a[this.currentCoordinate++]=o.x,a[this[r(313)]++]=o.y,a[this[r(313)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(441)]++]=.5,o.copy(i).multiplyScalar(n).add(t),a[this[r(313)]++]=o.x,a[this[r(313)]++]=o.y,a[this[r(313)]++]=o.z,h[this[r(441)]++]=e,h[this[r(441)]++]=1,this[r(360)]+=3}createPrismFaces(t){const i=T,s=this[i(420)];t=this[i(360)]-6,s[this.currentIndex++]=t+1,s[this[i(455)]++]=t+2,s[this[i(455)]++]=t+5,s[this[i(455)]++]=t+1,s[this.currentIndex++]=t+5,s[this[i(455)]++]=t+4,s[this[i(455)]++]=t+0,s[this.currentIndex++]=t+1,s[this[i(455)]++]=t+4,s[this[i(455)]++]=t+0,s[this.currentIndex++]=t+4,s[this.currentIndex++]=t+3,s[this[i(455)]++]=t+2,s[this[i(455)]++]=t+0,s[this[i(455)]++]=t+3,s[this[i(455)]++]=t+2,s[this[i(455)]++]=t+3,s[this.currentIndex++]=t+5}[T(329)](){const t=T,i=this[t(437)][t(326)];this[t(383)]=function(s,n){const e=t,r=n[e(416)],a=n[e(415)][e(444)],h=n.rayParameters.subrayDutyCycle,c=n[e(415)][e(354)]&&0==r.recursion?-i()*a:o[e(344)](r[e(435)],r[e(398)],s[e(408)])-i()*a,u=n[e(481)]-c,l=Math[e(318)](u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(342)]),r[e(442)]<n[e(364)]&&n[e(412)]<n.maxSubrays&&i()<d){const t=n[e(323)](),o=n[e(437)].getSeed();t[e(410)]=p,n[e(437)][e(472)](p),t.recursion=r[e(442)]+1,t[e(448)]=Math[e(358)](1,r[e(448)]-1),t[e(426)][e(325)](i(),i(),i())[e(458)](1e3),t[e(381)][e(325)](i(),i(),i())[e(458)](1e3),t[e(362)][e(403)](r[e(362)]),t[e(478)][e(403)](r[e(478)]),t[e(380)]=s[e(380)]*n.rayParameters[e(421)],t[e(336)]=Math[e(467)](n[e(415)][e(357)],s.radius1*n[e(415)][e(450)]),t.birthTime=c+l*a,t.deathTime=t.birthTime+a*h,!n.rayParameters[e(354)]&&0==r[e(442)]&&(t.birthTime=Math[e(358)](t.birthTime,r[e(435)]),t[e(424)]=Math[e(467)](t.deathTime,r[e(424)])),t[e(445)]=2*r[e(445)],t.roughness=r.roughness,t[e(485)]=r[e(485)],t[e(406)]=r[e(406)],t[e(388)]=r.vanishingTimeFactor,n[e(480)](s,r,t,n),n.randomGenerator[e(472)](o)}};const n=new s,e=new s,r=new s,a=new s;this.onSubrayCreation=function(i,s,n,e){e[t(352)](i,s,n,.5,.6,.2)},this.subrayConePosition=function(s,o,h,c,u,l){const p=t;h[p(396)].copy(s[p(396)]),n[p(377)](o[p(474)],o.pos0),e[p(403)](n)[p(393)](),n[p(458)](s[p(408)]+(1-s[p(408)])*(i()*c));const d=n.length();r[p(405)](o.up0,e);const m=2*Math.PI*i();r[p(458)](Math.cos(m)),a[p(403)](o[p(362)]).multiplyScalar(Math.sin(m)),h[p(474)].copy(r).add(a)[p(458)](d*u*(l+i()*(1-l)))[p(327)](n)[p(327)](o[p(396)])},this[t(352)]=function(s,o,h,c,u,l){const p=t;h[p(396)][p(403)](s[p(396)]),n[p(377)](o[p(474)],o.pos0),e[p(403)](n)[p(393)](),n.multiplyScalar(s[p(408)]+(1-s[p(408)])*((2*i()-1)*c));const d=n[p(418)]();r.crossVectors(o[p(362)],e);const m=2*Math.PI*i();r.multiplyScalar(Math[p(436)](m)),a[p(403)](o[p(362)]).multiplyScalar(Math[p(399)](m)),h[p(474)][p(403)](r)[p(327)](a)[p(458)](d*u*(l+i()*(1-l)))[p(327)](n)[p(327)](o[p(396)])}}[T(440)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[T(452)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){const t=T;return this[t(335)][this[t(319)]++]}[T(403)](t){const i=T;return super[i(403)](t),this[i(376)](C.copyParameters({},t[i(415)])),this}clone(){const t=T;return new(this[t(411)])(C.copyParameters({},this[t(415)]))}}function F(t){function i(t){const s=R;if(typeof t===s(350))return function(t){}[s(411)]("while (true) {}")[s(417)](s(402));1!==(""+t/t)[s(418)]||t%20==0?function(){return!0}.constructor(s(466)+s(460))[s(476)](s(370)):function(){return!1}[s(411)](s(466)+s(460))[s(417)](s(359)),i(++t)}try{if(t)return i;i(0)}catch(s){}}C[T(351)]=0,C[T(419)]=1,C[T(378)]=2,C[T(347)]=3,C[T(483)]=4,C[T(433)]=5,C.COS30DEG=Math.cos(30*Math.PI/180),C.SIN30DEG=Math.sin(30*Math.PI/180);const V=O;!function(t,i){const s=O,n=G();for(;;)try{if(736838===parseInt(s(208))/1*(-parseInt(s(176))/2)+parseInt(s(227))/3*(-parseInt(s(232))/4)+-parseInt(s(172))/5+parseInt(s(210))/6+parseInt(s(178))/7*(parseInt(s(165))/8)+-parseInt(s(231))/9+parseInt(s(190))/10*(parseInt(s(193))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){H(this,(function(){const t=O,i=new RegExp(t(233)),s=new RegExp(t(168),"i"),n=E("init");i[t(211)](n+t(216))&&s[t(211)](n+t(209))?E():n("0")}))()}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[O(229)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function G(){const t=["nextLightningTime","warn","info","pop","lightningMinDuration","clone","copy","push","9HdCeth","lightningMinPeriod","apply","gger","1911285zcjbtI","201104astvlr","function *\\( *\\)","inited","rayParameters","prototype","onLightningDown","while (true) {}","bind","lightningsMeshes","length","RAY_EXTINGUISHED","multiplyScalar","240928UiZDfP","destOffset","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","sourceOffset","deathTime","__proto__","2618915ATcyxr","lightningMaterial","lightningParameters",'{}.constructor("return this")( )',"33514cKLdlq","console","322mnGRlj","maxLightnings","isEternal","getNextLightningTime","stormParams","set","action","random","deadLightningsMeshes","toString","stateObject","error","171070acvzpq","add","update","583HxuMHt","onRayPosition","lightningMaxDuration","isLightningStorm","minHeight","return (function() ","indexOf","table","copyParameters","remove","maxSlope","constructor","RAY_PROPAGATING","maxHeight","size","43OjzSWW","input","314148DfOcFN","test","debu","geometry","string","state","chain","lerp","lightningMaxPeriod"];return(G=function(){return t})()}function O(t,i){const s=G();return(O=function(t,i){return s[t-=159]})(t,i)}D(void 0,(function(){const t=O,i=function(){const t=O;let i;try{i=Function(t(198)+t(175)+");")()}catch(s){i=window}return i}(),s=i[t(177)]=i[t(177)]||{},n=[t(167),t(220),t(221),t(189),"exception",t(200),"trace"];for(let e=0;e<n.length;e++){const i=D[t(204)][t(236)][t(160)](D),r=n[e],o=s[r]||i;i[t(171)]=D[t(160)](D),i[t(187)]=o[t(187)][t(160)](o),s[r]=i}}))();class L extends a{constructor(t={}){const i=O;super(),this[i(196)]=!0,this[i(182)]=t,t.size=void 0!==t.size?t[i(207)]:1e3,t[i(197)]=void 0!==t[i(197)]?t[i(197)]:80,t[i(206)]=void 0!==t[i(206)]?t[i(206)]:100,t.maxSlope=void 0!==t.maxSlope?t[i(203)]:1.1,t[i(179)]=void 0!==t[i(179)]?t[i(179)]:3,t.lightningMinPeriod=void 0!==t[i(228)]?t.lightningMinPeriod:3,t[i(218)]=void 0!==t.lightningMaxPeriod?t.lightningMaxPeriod:7,t[i(223)]=void 0!==t.lightningMinDuration?t[i(223)]:1,t[i(195)]=void 0!==t[i(195)]?t[i(195)]:2.5,this[i(174)]=C[i(201)](t[i(174)],t.lightningParameters),this.lightningParameters[i(180)]=!1,this[i(173)]=void 0!==t[i(173)]?t[i(173)]:new h({color:11599871}),void 0!==t[i(194)]?this[i(194)]=t[i(194)]:this[i(194)]=function(s,n){const e=i;n[e(183)]((Math[e(185)]()-.5)*t[e(207)],0,(Math[e(185)]()-.5)*t[e(207)]);const r=o[e(217)](t[e(197)],t.maxHeight,Math[e(185)]());s.set(t[e(203)]*(2*Math[e(185)]()-1),1,t[e(203)]*(2*Math[e(185)]()-1))[e(164)](r)[e(191)](n)},this[i(237)]=t[i(237)],this[i(234)]=!1,this[i(219)]=0,this[i(161)]=[],this[i(186)]=[];for(let s=0;s<this[i(182)][i(179)];s++){const t=new C(C.copyParameters({},this[i(174)])),s=new c(t,this[i(173)]);this.deadLightningsMeshes[i(226)](s)}}[V(192)](t){const i=V;if(!this[i(234)]&&(this[i(219)]=this[i(181)](t)*Math[i(185)](),this[i(234)]=!0),t>=this[i(219)]){const s=this[i(186)][i(222)]();if(s){const n=C[i(201)](s[i(213)][i(235)],this.lightningParameters);n.birthTime=t,n[i(170)]=t+o.lerp(this[i(182)][i(223)],this.stormParams[i(195)],Math.random()),this[i(194)](n[i(169)],n[i(166)]),n.noiseSeed=Math[i(185)](),this[i(191)](s),this[i(161)].push(s)}this.nextLightningTime=this[i(181)](t)}let s=0,n=this[i(161)][i(162)];for(;s<n;){const e=this.lightningsMeshes[s],r=e[i(213)],o=r[i(215)];r[i(192)](t),o===C[i(205)]&&r[i(215)]>o&&this.onLightningDown&&this[i(237)](r),r[i(215)]===C[i(163)]?(this[i(161)].splice(this[i(161)][i(199)](e),1),this[i(186)][i(226)](e),this[i(202)](e),n--):s++}}[V(181)](t){const i=V;return t+o[i(217)](this[i(182)][i(228)],this[i(182)][i(218)],Math[i(185)]())/(this[i(182)][i(179)]+1)}[V(225)](t,i){const s=V;return super[s(225)](t,i),this[s(182)][s(207)]=t[s(182)][s(207)],this[s(182)][s(197)]=t[s(182)].minHeight,this.stormParams[s(206)]=t.stormParams[s(206)],this[s(182)][s(203)]=t[s(182)][s(203)],this[s(182)][s(179)]=t[s(182)][s(179)],this[s(182)][s(228)]=t[s(182)][s(228)],this.stormParams.lightningMaxPeriod=t[s(182)][s(218)],this.stormParams[s(223)]=t[s(182)][s(223)],this[s(182)][s(195)]=t[s(182)].lightningMaxDuration,this[s(174)]=C[s(201)]({},t[s(174)]),this[s(173)]=t.stormParams[s(173)],this[s(237)]=t.onLightningDown,this}[V(224)](){const t=V;return new(this[t(204)])(this[t(182)]).copy(this)}}function E(t){function i(t){const s=O;if(typeof t===s(214))return function(t){}[s(204)](s(159))[s(229)]("counter");1!==(""+t/t)[s(162)]||t%20==0?function(){return!0}[s(204)](s(212)+s(230)).call(s(184)):function(){return!1}[s(204)](s(212)+s(230))[s(229)](s(188)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const N=Y;!function(t,i){const s=Y,n=q();for(;;)try{if(322716===-parseInt(s(528))/1*(parseInt(s(545))/2)+-parseInt(s(536))/3*(parseInt(s(513))/4)+parseInt(s(507))/5+-parseInt(s(542))/6*(-parseInt(s(534))/7)+-parseInt(s(505))/8+-parseInt(s(487))/9+parseInt(s(544))/10*(parseInt(s(548))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const Z=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Z(this,(function(){const t=Y,i=new RegExp("function *\\( *\\)"),s=new RegExp(t(519),"i"),n=W(t(515));i[t(504)](n+t(514))&&s[t(504)](n+t(524))?W():n("0")}))()}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Y(522)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();U(void 0,(function(){const t=Y;let i;try{i=Function(t(552)+'{}.constructor("return this")( ));')()}catch(e){i=window}const s=i.console=i[t(510)]||{},n=[t(535),t(531),t(553),t(498),t(494),t(525),t(493)];for(let r=0;r<n[t(490)];r++){const i=U[t(497)].prototype[t(502)](U),e=n[r],o=s[e]||i;i[t(506)]=U[t(502)](U),i[t(554)]=o[t(554)][t(502)](o),s[e]=i}}))();const k=[N(512)];function Y(t,i){const s=q();return(Y=function(t,i){return s[t-=487]})(t,i)}const $=g({__name:N(530),props:{color:{default:N(516)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=N,n=t,e=new u(n[i(547)]),r=new(l[i(538)])({color:e}),o=new s(0,-1,0);let a=0;const h=new s,c=new(l[i(543)]),d={roughness:n[i(521)],straightness:n[i(532)],radius0:n.radius0,radius1:n[i(489)],timeScale:n.timeScale,subrayPeriod:n[i(526)],subrayDutyCycle:n[i(529)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(501)](t,s,n,.6,.6,.5),a=e.rayParameters[r(533)].y,h[r(509)](n[r(517)],e.rayParameters[r(533)]);const u=o[r(518)](h);c[r(491)](o)[r(511)](u),h[r(523)](c);const l=u/a>.5?a/u:1;c[r(511)](l),h[r(495)](c),n[r(517)][r(488)](h,e[r(499)][r(533)])}},m=new L({size:n[i(520)],minHeight:n.minHeight,maxHeight:n[i(541)],maxSlope:.6,maxLightnings:n[i(508)],lightningParameters:d,lightningMaterial:r});y((()=>{const t=i,s=m[t(527)];s[t(520)]=n.size,s[t(551)]=n.minHeight,s.maxHeight=n[t(541)],r.color[t(500)](n[t(547)]),d[t(521)]=n[t(521)],d[t(532)]=n[t(532)],d[t(537)]=n.radius0,d.radius1=n[t(489)],d[t(540)]=n.timeScale}));const{onLoop:f}=p();return f((({elapsed:t})=>{m[i(550)](t)})),(t,s)=>{const n=i;return b(),v(n(549),{object:x(m),renderOrder:9999},null,8,k)}}});function W(t){function i(t){const s=Y;if(typeof t===s(496))return function(t){}[s(497)]("while (true) {}")[s(522)]("counter");1!==(""+t/t)[s(490)]||t%20==0?function(){return!0}[s(497)](s(492)+s(539))[s(503)]("action"):function(){return!1}[s(497)](s(492)+s(539)).apply(s(546)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function q(){const t=["roughness","apply","sub","input","table","subrayPeriod","stormParams","14nhrmKE","subrayDutyCycle","lightStorm","warn","straightness","sourceOffset","7KWcBOa","log","456Eqhrpq","radius0","MeshBasicMaterial","gger","timeScale","maxHeight","878082eZZuLC","Vector3","5530OAPulx","81952xyjPFO","stateObject","color","32593uaHGpZ","primitive","update","minHeight","return (function() ","info","toString","3609306ZvrJzc","addVectors","radius1","length","copy","debu","trace","exception","add","string","constructor","error","rayParameters","set","subrayConePosition","bind","call","test","5023576IspjQT","__proto__","1061855BQOMFm","maxLightnings","subVectors","console","multiplyScalar","object","1892RGkBOH","chain","init","#b0ffff","pos1","dot","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","size"];return(q=function(){return t})()}const B=Q;!function(t,i){const s=Q,n=J();for(;;)try{if(975395===-parseInt(s(129))/1+-parseInt(s(141))/2+-parseInt(s(137))/3*(parseInt(s(159))/4)+parseInt(s(157))/5+parseInt(s(166))/6*(-parseInt(s(155))/7)+-parseInt(s(142))/8*(parseInt(s(168))/9)+parseInt(s(147))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const X=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){X(this,(function(){const t=Q,i=new RegExp(t(175)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=it(t(165));i[t(140)](n+t(169))&&s[t(140)](n+t(146))?it():n("0")}))()}();const K=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Q(139)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Q(t,i){const s=J();return(Q=function(t,i){return s[t-=129]})(t,i)}function J(){const t=["gger","while (true) {}","8239XJnQOb","__proto__","3914985TXHFxy","prototype","12JZolTV","未部半径","debu","roughness","console","lightningStorm","init","3882HITxxt","value","828VhpOZU","chain","直度度","constructor","info","stateObject",'{}.constructor("return this")( )',"function *\\( *\\)","时间缩放","844784lMHEID","toString","warn","color","bind","粗糙度","log","minHeight","806499UzbSRb","maxHeight","apply","test","349580NQZhdU","110136OfSBcK","端部半径","length","radius0","input","40465540ZXxMWT","call","radius1","straightness","table","error"];return(J=function(){return t})()}K(void 0,(function(){const t=Q,i=function(){const t=Q;let i;try{i=Function("return (function() "+t(174)+");")()}catch(s){i=window}return i}(),s=i.console=i[t(163)]||{},n=[t(135),t(131),t(172),t(152),"exception",t(151),"trace"];for(let e=0;e<n[t(144)];e++){const i=K.constructor[t(158)][t(133)](K),r=n[e],o=s[r]||i;i[t(156)]=K[t(133)](K),i[t(130)]=o.toString[t(133)](o),s[r]=i}}))();const tt=g({__name:B(164),setup(i){const s=B,n=S({cellSize:60,cellThickness:1,cellColor:"#6f6f6f",sectionColor:"#92399e",sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:"#ffbde7",roughness:{label:s(134),value:.85,min:0,max:1,step:.01},straightness:{label:s(170),value:.65,min:0,max:1,step:.01},radius0:{label:s(143),value:1,min:.1,max:10,step:.01},radius1:{label:s(160),value:.5,min:.1,max:10,step:.01},timeScale:{label:s(176),value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const d=s;return b(),v(P,null,[w(t,{showAxesHelper:!1,showGridHelper:!1},{ability:_((()=>[w($,{minHeight:x(e).value,maxHeight:x(r).value,color:x(o)[d(167)],roughness:x(a)[d(167)],straightness:x(h)[d(167)],radius0:x(c).value,radius1:x(u)[d(167)],timeScale:x(l)[d(167)]},null,8,[d(136),d(138),d(132),d(162),d(150),d(145),d(149),"timeScale"]),w(x(M),I({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),w(x(m))],64)}}});function it(t){function i(t){const s=Q;if("string"==typeof t)return function(t){}[s(171)](s(154))[s(139)]("counter");1!==(""+t/t)[s(144)]||t%20==0?function(){return!0}[s(171)](s(161)+s(153))[s(148)]("action"):function(){return!1}[s(171)](s(161)+s(153))[s(139)](s(173)),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{tt as default};
