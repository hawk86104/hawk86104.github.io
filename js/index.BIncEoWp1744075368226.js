import"./utils.0DhvBX0O1744075368226.js";import{z as t,cd as n,ce as r,ad as e,G as o,cf as i}from"./three.Cqu7jvck1744075368226.js";import{D as a}from"./@tresjs.DYJWvbJh1744075368226.js";import{b as u}from"./@vue.DK6ok9LJ1744075368226.js";import"./three-mesh-ui.module.DuejKpER1744075368226.js";const c={GLTFLoader:o,TextureLoader:e,STLLoader:r,RGBELoader:n,FileLoader:t};const s=new class{constructor({decoderPath:t="./draco/"}={}){this.hasAllFinished=u(!1),this.progress=u(0),this.lenth=0,this.curIndex=0,this.loaderMapping=c,this.decoderPath=t,this.items={}}loadResources(t){t.forEach((({functionName:t,url:n,resourceID:r})=>{this.loadItem(t,n,r)}))}loadItem(t,n,r=""){const e=this.loaderMapping[t];if(void 0===e)return void console.error(`找不到对应的loader：${t}`);if(!r){const t=n.match(/[^\\/]+$/);r=t?t[0]:n}let o=null;this.curIndex++,this.lenth++,"GLTFLoader"===t&&(o=t=>{const n=new i;n.setDecoderPath(this.decoderPath),n.preload(),t.setDRACOLoader(n)});a(e,n,o,(t=>{console.log(`${r}文件加载进度：${Math.floor(t.loaded/t.total*100)}%`)})).then((t=>{this.items[r]=t,this.curIndex--,this.progress.value=Math.floor((this.lenth-this.curIndex)/this.lenth*100),0===this.curIndex&&(this.hasAllFinished.value=!0)}))}getItem(t){return this.items[t]}};!function(){for(var t=p,n=l();;)try{if(248998===-parseInt(t(245))/1+-parseInt(t(264))/2*(parseInt(t(240))/3)+-parseInt(t(263))/4*(parseInt(t(233))/5)+-parseInt(t(237))/6*(parseInt(t(258))/7)+-parseInt(t(242))/8+-parseInt(t(246))/9*(parseInt(t(236))/10)+parseInt(t(249))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}();var f,h=(f=!0,function(t,n){var r=f?function(){if(n){var r=n.apply(t,arguments);return n=null,r}}:function(){};return f=!1,r});function p(t,n){var r=l();return p=function(t,n){return r[t-=232]},p(t,n)}function l(){var t=["debu","length","bind","gger","exception","string","28ZrrTQA","info","toString","table","input","8pIalzt","4AzUAeQ","warn","counter","test","1233655jOYpMQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","2460230poSFAm","725358zBknbN","action","constructor","666063pyGhgD","apply","1480344EnpxEv",'{}.constructor("return this")( )',"console","202551eVxNtm","9tiZEdK","function *\\( *\\)","init","25340601FCidRn","chain","while (true) {}"];return(l=function(){return t})()}!function(){h(this,(function(){var t=p,n=new RegExp(t(247)),r=new RegExp(t(234),"i"),e=I(t(248));n[t(232)](e+t(250))&&r[t(232)](e+t(262))?I():e("0")}))()}();var d,v=(d=!0,function(t,n){var r=d?function(){if(n){var r=n[p(241)](t,arguments);return n=null,r}}:function(){};return d=!1,r});function I(t){function n(t){var r=p;if(typeof t===r(257))return function(t){}[r(239)](r(251))[r(241)](r(266));1!==(""+t/t).length||t%20==0?function(){return!0}[r(239)](r(252)+r(255)).call(r(238)):function(){return!1}[r(239)](r(252)+r(255))[r(241)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}v(void 0,(function(){for(var t=p,n=function(){var t,n=p;try{t=Function("return (function() "+n(243)+");")()}catch(r){t=window}return t}(),r=n[t(244)]=n[t(244)]||{},e=["log",t(265),t(259),"error",t(256),t(261),t(235)],o=0;o<e[t(253)];o++){var i=v[t(239)].prototype[t(254)](v),a=e[o],u=r[a]||i;i.__proto__=v.bind(v),i[t(260)]=u.toString[t(254)](u),r[a]=i}}))(),function(){for(var t=b,n=y();;)try{if(741572===parseInt(t(272))/1+-parseInt(t(294))/2+-parseInt(t(296))/3*(parseInt(t(297))/4)+parseInt(t(301))/5+parseInt(t(286))/6+-parseInt(t(282))/7+parseInt(t(293))/8*(parseInt(t(285))/9))break;n.push(n.shift())}catch(r){n.push(n.shift())}}();var g,m=(g=!0,function(t,n){var r=g?function(){if(n){var r=n[b(271)](t,arguments);return n=null,r}}:function(){};return g=!1,r});!function(){m(this,(function(){var t=b,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(299),"i"),e=A(t(288));n[t(269)](e+t(278))&&r.test(e+t(273))?A():e("0")}))()}();var w,x=(w=!0,function(t,n){var r=w?function(){if(n){var r=n[b(271)](t,arguments);return n=null,r}}:function(){};return w=!1,r});function y(){var t=["constructor","bind","33831rQebBc","1280544SOqcdO","debu","init","info","toString","stateObject","return (function() ","3608BROwPJ","1020292unQgpk","length","642AdLaNt","26692rupiKr","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","4881755HEXPTG","action","warn","trace","test","exception","apply","155381gPaWLk","input","console","gger","log","__proto__","chain","string","table","error","2525075kZZyYp"];return(y=function(){return t})()}function b(t,n){var r=y();return b=function(t,n){return r[t-=268]},b(t,n)}function A(t){function n(t){var r=b;if(typeof t===r(279))return function(t){}[r(283)](r(300))[r(271)](r(298));1!==(""+t/t)[r(295)]||t%20==0?function(){return!0}[r(283)](r(287)+r(275)).call(r(302)):function(){return!1}.constructor(r(287)+r(275))[r(271)](r(291)),n(++t)}try{if(t)return n;n(0)}catch(r){}}x(void 0,(function(){var t,n=b;try{t=Function(n(292)+'{}.constructor("return this")( ));')()}catch(c){t=window}for(var r=t[n(274)]=t[n(274)]||{},e=[n(276),n(303),n(289),n(281),n(270),n(280),n(268)],o=0;o<e.length;o++){var i=x.constructor.prototype[n(284)](x),a=e[o],u=r[a]||i;i[n(277)]=x[n(284)](x),i[n(290)]=u[n(290)][n(284)](u),r[a]=i}}))();export{s as i};
