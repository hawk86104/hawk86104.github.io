import{e as n,o as t}from"./@tresjs.GCV-1VTd1743149128717.js";import{_ as e,C as o}from"./three.hBhj0ayh1743149128717.js";import{d as r,w as i,o as s,H as c,N as a,aj as u,ak as f,r as l,e as p,f as d,g,j as v,u as h,m}from"./@vue.L-brCdZe1743149128717.js";import{P as b}from"./tweakpane.ivGeiIdz1743149128717.js";import"./postprocessing.JYKQQ2FM1743149128717.js";import"./@vueuse.K3OHOx4F1743149128717.js";const y=I;function w(){const n=["uniforms","TresMesh","return (function() ","call","874714EwvgsC","console","#fff","616924VlmrCQ","string","50AUckoj","flowSpeed","constructor","5180265kuTmTp","action","brightness","5659404eMobgy","value","while (true) {}","39DTNCcV","Color","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresPlaneGeometry","bind","gger","805PqdRsV","function *\\( *\\)","407372hzCpAa","tilingCaustics","apply","rotation-x","length","exception","debu","prototype","6118025BxqrGL","color","test","log","66544IQEWnY","table","warn","backgroundColor","stateObject","chain","speed","toString","DoubleSide"];return(w=function(){return n})()}!function(n,t){const e=I,o=w();for(;;)try{if(839479===parseInt(e(227))/1+parseInt(e(230))/2+parseInt(e(241))/3*(parseInt(e(250))/4)+parseInt(e(210))/5+parseInt(e(238))/6+-parseInt(e(248))/7*(parseInt(e(214))/8)+-parseInt(e(235))/9*(parseInt(e(232))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[I(204)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function I(n,t){const e=w();return I=function(n,t){return e[n-=204]},I(n,t)}!function(){x(this,(function(){const n=I,t=new RegExp(n(249)),e=new RegExp(n(244),"i"),o=S("init");t[n(212)](o+n(219))&&e[n(212)](o+"input")?S():o("0")}))()}();const _=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();_(void 0,(function(){const n=I;let t;try{t=Function(n(225)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(228)]=t[n(228)]||{},o=[n(213),n(216),"info","error",n(207),n(215),"trace"];for(let i=0;i<o[n(206)];i++){const t=_.constructor[n(209)][n(246)](_),r=o[i],s=e[r]||t;t[n(243)]=_.bind(_),t[n(221)]=s.toString[n(246)](s),e[r]=t}}))();const T=[y(205)],C=r({__name:y(251),props:{speed:{default:.478},backgroundColor:{},color:{default:y(229)},flowSpeed:{default:{x:.01,y:.01}},brightness:{default:1.5}},setup(t){const r=y,l=t,p={uniforms:{resolution:{type:"v2",value:{x:1,y:1}},backgroundColor:{type:"c",value:new(e[r(242)])(l[r(211)])},color:{type:"c",value:new(e[r(242)])(r(229))},speed:{type:"f",value:l[r(220)]},flowSpeed:{type:"v2",value:l[r(233)]},brightness:{type:"f",value:l.brightness},time:{type:"f",value:.1}},vertexShader:"// Examples of variables passed from vertex to fragment shader\nvarying vec2 vUv;\n\nvoid main(){\n\t// To pass variables to the fragment shader, you assign them here in the\n\t// main function. Traditionally you name the varying with vAttributeName\n\tvUv=uv;\n\t\n\t// This sets the position of the vertex in 3d space. The correct math is\n\t// provided below to take into account camera and object data.\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}",fragmentShader:"#define TAU 6.28318530718\n#define MAX_ITER 5\n\nuniform vec2 resolution;\nuniform vec3 backgroundColor;\nuniform vec3 color;\nuniform float speed;\nuniform vec2 flowSpeed;\nuniform float brightness;\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main(){\n\tvec2 uv=(vUv.xy+(time*flowSpeed))*resolution;\n\t\n\tvec2 p=mod(uv*TAU,TAU)-250.;\n\tvec2 i=vec2(p);\n\t\n\tfloat c=1.;\n\tfloat inten=.005;\n\t\n\tfor(int n=0;n<MAX_ITER;n++){\n\t\tfloat t=time*speed*(1.-(3.5/float(n+1)));\n\t\ti=p+vec2(cos(t-i.x)+sin(t+i.y),sin(t-i.y)+cos(t+i.x));\n\t\tc+=1./length(vec2(p.x/(sin(i.x+t)/inten),p.y/(cos(i.y+t)/inten)));\n\t}\n\t\n\tc/=float(MAX_ITER);\n\tc=1.17-pow(c,brightness);\n\t\n\tvec3 rgb=vec3(pow(abs(c),8.));\n\t\n\tgl_FragColor=vec4(rgb*color+backgroundColor,length(rgb)+.1);\n}",side:e[r(222)],transparent:!0,depthWrite:!1,depthTest:!0},{onLoop:d}=n();return d((({delta:n})=>{const t=r;p[t(223)].time[t(239)]+=n})),i((()=>l),(()=>{const n=r;p[n(223)][n(220)][n(239)]=l[n(220)],p[n(223)][n(237)][n(239)]=l[n(237)],p.uniforms[n(217)][n(239)]=new o(l[n(211)])}),{deep:!0}),(n,t)=>{const e=r;return s(),c(e(224),{"rotation-x":-Math.PI/2,"position-y":1},[t[0]||(t[0]=a(e(245),{args:[10,10]},null,-1)),a("TresShaderMaterial",u(f(p)),null,16)],8,T)}}});function S(n){function t(n){const e=I;if(typeof n===e(231))return function(n){}[e(234)](e(240))[e(204)]("counter");1!==(""+n/n)[e(206)]||n%20==0?function(){return!0}[e(234)](e(208)+"gger")[e(226)](e(236)):function(){return!1}[e(234)](e(208)+e(247))[e(204)](e(218)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const j=R;function A(){const n=["19607osdzpS",'{}.constructor("return this")( )',"13196mpQJRP","call","while (true) {}","gger","__proto__","exception","warn","toString","action","input","bind","length","19620TKNRaS","TresPerspectiveCamera","TresAmbientLight","TresCanvas","353tjBNtn","inline","info","init","#222","TresGridHelper","console","stateObject","3928xibIrt","apply","1578BYQSIB","color","constructor","3305598pfEFfP","6433999gVFCOB","138lhvmIU","debu","log","595GAeydU","addBinding","prototype","11714130ZSAfgl","tilingCaustics","string","table","trace","#fff","test"];return(A=function(){return n})()}!function(n,t){const e=R,o=A();for(;;)try{if(634207===-parseInt(e(369))/1*(parseInt(e(338))/2)+parseInt(e(336))/3+-parseInt(e(353))/4*(parseInt(e(341))/5)+parseInt(e(333))/6*(-parseInt(e(351))/7)+-parseInt(e(331))/8*(parseInt(e(365))/9)+parseInt(e(344))/10+parseInt(e(337))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=R,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=M(n(372));t.test(o+"chain")&&e[n(350)](o+n(362))?M():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[R(332)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function R(n,t){const e=A();return R=function(n,t){return e[n-=329]},R(n,t)}E(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function("return (function() "+n(352)+");")()}catch(e){t=window}return t}(),e=t[n(329)]=t.console||{},o=[n(340),n(359),n(371),"error",n(358),n(347),n(348)];for(let r=0;r<o[n(364)];r++){const t=E[n(335)][n(343)][n(363)](E),i=o[r],s=e[i]||t;t[n(357)]=E[n(363)](E),t[n(360)]=s[n(360)][n(363)](s),e[i]=t}}))();const U=r({__name:j(345),setup(n){const e=j,o={clearColor:e(373)},r=l({color:e(349),speed:.1,brightness:1.5,flowSpeed:{x:.01,y:.01}}),i=new b({title:"参数",expanded:!0});return i[e(342)](r,e(334),{label:"颜色"}),i[e(342)](r,"speed",{label:"速度",min:.1,max:1,step:.1}),i[e(342)](r,"brightness",{label:"亮度",min:.1,max:2,step:.1}),i[e(342)](r,"flowSpeed",{label:"流动速度",picker:e(370),expanded:!0,x:{min:.01,step:.02,max:.6,inverted:!0},y:{min:.01,step:.02,max:.6,inverted:!0}}),(n,i)=>{const c=e,l=p(c(368));return s(),d(l,m(o,{"window-size":""}),{default:g((()=>[i[0]||(i[0]=a(c(366),{position:[10,10,10]},null,-1)),i[1]||(i[1]=a(c(367),{intensity:1},null,-1)),v(h(t)),i[2]||(i[2]=a(c(374),{args:[10,10]},null,-1)),v(C,u(f({...r})),null,16)])),_:1},16)}}});function M(n){function t(n){const e=R;if(typeof n===e(346))return function(n){}[e(335)](e(355))[e(332)]("counter");1!==(""+n/n)[e(364)]||n%20==0?function(){return!0}[e(335)](e(339)+e(356))[e(354)](e(361)):function(){return!1}[e(335)]("debu"+e(356))[e(332)](e(330)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
