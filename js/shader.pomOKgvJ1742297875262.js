import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.oW7bfow21742297875262.js";import{y as i,_ as s,cr as c}from"./three.N4lg2KsY1742297875262.js";import{P as a}from"./tweakpane.yDiyAAkA1742297875262.js";import{L as u}from"./three-subdivide.igjThgxi1742297875262.js";import{d as l,b as f,a2 as p,w as d,o as g,H as h,N as m,aj as v,ak as y,a3 as b,r as w,e as _,f as I,g as T,j as x,u as M,m as j,M as B}from"./@vue.NRI7TcgI1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";const S=z;!function(n,t){const e=z,o=L();for(;;)try{if(622079===parseInt(e(220))/1+-parseInt(e(210))/2+parseInt(e(182))/3+-parseInt(e(190))/4+parseInt(e(170))/5+-parseInt(e(175))/6*(-parseInt(e(186))/7)+-parseInt(e(199))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(185)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=z,t=new RegExp(n(172)),e=new RegExp(n(214),"i"),o=V(n(201));t[n(176)](o+n(168))&&e[n(176)](o+"input")?V():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(185)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(n,t){const e=L();return(z=function(n,t){return e[n-=167]})(n,t)}C(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function(n(207)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(183)]=t[n(183)]||{},o=[n(213),n(169),n(167),n(198),n(194),n(173),"trace"];for(let r=0;r<o[n(195)];r++){const t=C[n(212)][n(218)][n(216)](C),i=o[r],s=e[i]||t;t.__proto__=C[n(216)](C),t[n(187)]=s[n(187)].bind(s),e[i]=t}}))();const A=[S(217)];function L(){const n=["stateObject","attributes","info","chain","warn","820930PDthzJ","material","function *\\( *\\)","table","while (true) {}","18DTIuLn","test","geometry","srcMesh","value","subdivision","modify","233433euTnjT","console","TresMesh","apply","2530178QhZOcn","toString","blending","counter","3004604lCQDCo","glowColor","copy","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","exception","length","shineShader","call","error","17928JJBqHW","Vector3","init","Color","position","color","string","TresShaderMaterial","return (function() ","viewVector","side","583284tgTZny","#ffff00","constructor","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TSGref","bind","scale","prototype","uniforms","340754YbLjRL","AdditiveBlending"];return(L=function(){return n})()}const R=l({__name:S(196),props:{srcMesh:{},scale:{default:1.2},color:{default:S(211)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i},blending:{default:s[S(221)]}},setup(e){const o=S,r=e,i=f(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(s[o(202)])(r[o(204)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(193),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(209)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(188)]};p((()=>{const n=o;if(r[n(178)]&&i[n(179)]&&!i[n(179)].geometry[n(223)][n(203)]){let t=r[n(178)][n(177)].clone();r[n(180)]&&(t=u[n(181)](t,2)),i[n(179)].geometry=t,i[n(179)][n(203)][n(192)](r[n(178)].position)}r.color&&(c[n(219)][n(191)][n(179)]=new(s[n(202)])(r[n(204)])),r.c&&(c[n(219)].c[n(179)]=r.c),r.p&&(c[n(219)].p[n(179)]=r.p)})),d((()=>r[o(180)]),(n=>{const t=o;let e=r[t(178)][t(177)].clone();n&&(e=u.modify(e,2)),i[t(179)][t(177)]=e})),d((()=>r.side),(n=>{const t=o;i[t(179)][t(171)][t(209)]=n})),d((()=>r[o(188)]),(n=>{const t=o;i[t(179)][t(171)].blending=n}));const{onLoop:a}=n(),{camera:l}=t();return a((()=>{const n=o;l[n(179)]&&i[n(179)]&&(c[n(219)][n(208)][n(179)]=(new(s[n(200)])).subVectors(l.value.position,i[n(179)].position))})),(n,t)=>{const e=o;return g(),h(e(184),{ref_key:e(215),ref:i,scale:r.scale},[m(e(206),v(y(c)),null,16)],8,A)}}});function V(n){function t(n){const e=z;if(typeof n===e(205))return function(n){}[e(212)](e(174))[e(185)](e(189));1!==(""+n/n)[e(195)]||n%20==0?function(){return!0}.constructor("debugger")[e(197)]("action"):function(){return!1}[e(212)]("debugger")[e(185)](e(222)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Z=G;!function(n,t){const e=G,o=J();for(;;)try{if(720383===parseInt(e(285))/1+parseInt(e(251))/2+-parseInt(e(300))/3*(parseInt(e(287))/4)+-parseInt(e(276))/5*(-parseInt(e(274))/6)+-parseInt(e(281))/7*(-parseInt(e(260))/8)+parseInt(e(262))/9+-parseInt(e(301))/10*(parseInt(e(305))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[G(258)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){E(this,(function(){const n=G,t=new RegExp(n(310)),e=new RegExp(n(252),"i"),o=H("init");t.test(o+"chain")&&e[n(277)](o+n(259))?H():o("0")}))()}();const D=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[G(258)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();D(void 0,(function(){const n=G;let t;try{t=Function(n(302)+n(275)+");")()}catch(r){t=window}const e=t.console=t[n(266)]||{},o=[n(270),n(268),n(304),n(294),"exception",n(311),n(271)];for(let i=0;i<o[n(264)];i++){const t=D.constructor.prototype[n(257)](D),r=o[i],s=e[r]||t;t[n(265)]=D[n(257)](D),t[n(313)]=s.toString[n(257)](s),e[r]=t}}))();const F=[Z(254)],N=[Z(254)];function G(n,t){const e=J();return(G=function(n,t){return e[n-=251]})(n,t)}const W=l({__name:"shader",async setup(n){const t=Z;let u,l;const p={clearColor:"#222"},d=f(),h=f(),v=f(),y=([u,l]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(263)]))),u=await u,l(),u),S=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i,blending:s[t(309)]}),k=new a({title:"参数",expanded:!0});return k.addBinding(S,t(280),{label:"颜色"}),k[t(272)](S,t(283),{label:"大小",min:1,max:3,step:.2}),k[t(272)](S,t(284),{label:t(278)}),k[t(272)](S,"c",{label:"c",min:0,max:2,step:.1}),k[t(272)](S,"p",{label:"p",min:0,max:8,step:.2}),k[t(272)](S,t(289),{options:{FrontSide:s[t(282)],BackSide:s[t(288)],DoubleSide:s[t(269)]}}),k.addBinding(S,t(279),{options:{AdditiveBlending:s[t(309)],NormalBlending:c}}),(n,r)=>{const i=t,s=_(i(255));return g(),I(s,j(p,{"window-size":""}),{default:T((()=>[r[2]||(r[2]=m(i(299),{position:[5,5,5]},null,-1)),r[3]||(r[3]=m(i(292),{intensity:1},null,-1)),x(M(e)),r[4]||(r[4]=m(i(303),{args:[10,10]},null,-1)),m("TresMesh",{ref_key:i(307),ref:d,position:[-2,1,0]},[r[0]||(r[0]=m("TresSphereGeometry",{args:[1,32,16]},null,-1)),m(i(297),{map:M(y)[0]},null,8,F)],512),x(R,j({srcMesh:d.value},S),null,16,[i(286)]),x(M(o),{ref_key:i(253),ref:v,args:[1,1,1],position:[2,1,0]},{default:T((()=>[m(i(297),{map:M(y)[1]},null,8,N)])),_:1},512),v[i(261)]&&v[i(261)][i(291)]?(g(),I(R,j({key:0,srcMesh:v[i(261)][i(291)]},S),null,16,[i(286)])):B("",!0),m(i(296),{ref_key:i(273),ref:h,position:[0,1,-2]},r[1]||(r[1]=[m(i(267),{args:[1,1,1,1,1]},null,-1),m(i(297),{color:i(306)},null,-1)]),512),x(R,j({srcMesh:h[i(261)]},S),null,16,["srcMesh"])])),_:1},16)}}});function H(n){function t(n){const e=G;if(typeof n===e(295))return function(n){}[e(312)](e(314))[e(258)](e(293));1!==(""+n/n)[e(264)]||n%20==0?function(){return!0}.constructor(e(290)+e(256))[e(308)]("action"):function(){return!1}[e(312)]("debu"+e(256))[e(258)](e(298)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function J(){const n=["scale","subdivision","548848QurJbI","srcMesh","76hpGAOI","BackSide","side","debu","instance","TresAmbientLight","counter","error","string","TresMesh","TresMeshBasicMaterial","stateObject","TresPerspectiveCamera","112947wRECtZ","240zCvBlt","return (function() ","TresGridHelper","info","913979bWkgXx","#0ff","TresMeshRefA","call","AdditiveBlending","function *\\( *\\)","table","constructor","toString","while (true) {}","776502zZLHTn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TreBoxRef","map","TresCanvas","gger","bind","apply","input","104auriFQ","value","4538997LEVhXn","logo.png","length","__proto__","console","TresBoxGeometry","warn","DoubleSide","log","trace","addBinding","TresMeshRefB","6612rhDBhS",'{}.constructor("return this")( )',"6040uhULWr","test","边缘处理","blending","color","353878XsdBWt","FrontSide"];return(J=function(){return n})()}export{W as default};
