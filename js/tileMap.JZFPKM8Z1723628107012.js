import{a6 as t,a7 as n,V as e,cw as o}from"./three.LOnTLfxo1723628107012.js";import{P as r}from"./tweakpane.yHWGBmom1723628107012.js";import{_ as s}from"./@tweenjs.l4oyssFo1723628107012.js";import{p as i,$ as a}from"./@tresjs.SUe87xao1723628107012.js";import{b as c,c as p,M as u,T as l,a as m,P as f,d as g}from"./index.J0jpYXlU1723628107012.js";import{d,a1 as h,w as j,o as b,D as w,u as x,X as y,r as v,e as I,j as M,g as _,f as z,al as C,m as S,F as k}from"./@vue.9bHx4gg21723628107012.js";import{_ as B}from"./raycasterEvent.vXSdQCRe1723628107012.js";import{a as R}from"./utils.XxnIa58E1723628107012.js";import"./@vueuse.t-c8gU4-1723628107012.js";import"./@mapbox.P06TVDqy1723628107012.js";import"./@amap.XsUkMUkF1723628107012.js";import"./three-mesh-bvh.-U140OdV1723628107012.js";import"./three-custom-shader-material.n4KbnW0V1723628107012.js";import"./object-hash.eRIADBNa1723628107012.js";import"./jszip.TSgBnMkQ1723628107012.js";import"./glsl-tokenizer.ZmKauzU31723628107012.js";import"./glsl-token-string.Z6_i_sVZ1723628107012.js";import"./glsl-token-functions.0T11p6mD1723628107012.js";import"./@fesjs.BuhZYZEQ1723628107012.js";import"./vue-router.XBF1ZL3N1723628107012.js";import"./lodash-es.nFpJXAf-1723628107012.js";import"./@qlin.yHhFDldE1723628107012.js";import"./pinia.nipTyfok1723628107012.js";import"./@floating-ui.BPbuo5Gx1723628107012.js";import"./@juggle.7yjBMqoW1723628107012.js";import"./http.LLXE0TL_1723628107012.js";import"./axios.FVFoCDiv1723628107012.js";import"./color.zR8m9rex1723628107012.js";import"./color-string.dJ737vJJ1723628107012.js";import"./color-name.tALbs9dV1723628107012.js";import"./simple-swizzle.M9M2zxg71723628107012.js";import"./is-arrayish.qQ66T2Mn1723628107012.js";import"./color-convert.VnvMgbR01723628107012.js";import"./lodash.tvUe6qsU1723628107012.js";import"./naive-ui.Z9KEbX_i1723628107012.js";import"./css-render.vNIfMZGF1723628107012.js";import"./@emotion.ZD_ZYAgY1723628107012.js";import"./@css-render.zR2p6YBT1723628107012.js";import"./seemly.SjiSeX2v1723628107012.js";import"./vooks.f2OTFBuo1723628107012.js";import"./evtd.DtfwxtIl1723628107012.js";import"./vueuc.zJKlVSc11723628107012.js";import"./vdirs.59QRspoa1723628107012.js";import"./date-fns.IfH9Tpse1723628107012.js";import"./treemate.dcEdf2le1723628107012.js";import"./date-fns-tz.CYthtqLW1723628107012.js";import"./async-validator.-YBkpS4I1723628107012.js";import"./utils.-HfbVRfT1723628107012.js";import"./d3-geo.owBC-nna1723628107012.js";import"./d3-array.AhNJy1f41723628107012.js";const P=F;!function(t,n){const e=F,o=Z();for(;;)try{if(232140===-parseInt(e(480))/1*(parseInt(e(496))/2)+-parseInt(e(478))/3*(-parseInt(e(470))/4)+parseInt(e(453))/5+parseInt(e(482))/6*(-parseInt(e(446))/7)+parseInt(e(460))/8*(parseInt(e(451))/9)+parseInt(e(432))/10+-parseInt(e(445))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["chain","genBright","apply","3taaDwH","genSaturation","1dnkMiQ","monochrome","1579566cJJdPn","Color","dampingFactor","string","warn","showBoundingBox","input","debu","target","filter",'{}.constructor("return this")( )',"info","enableDamping","far","352162NHUrPE","test","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","mapCenter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","genContrast","camera","position0","coordType","exception","set","position","counter","constructor","3930730smSpUS","toString","provider","isMonochrome","lookAt","rotation","innerWidth","stateObject","maxZoom","length","__proto__","wireframe","table","6135195QrsIYd","7HQZzER","gger","flatShading","updateProjectionMatrix","opposite","567522YfmIMi","render","2075235gasLCr","useStandardMaterial","bbox","function *\\( *\\)","prototype","bind","value","16ljJmkM","console","useWorker","action","call","tileMapMesh","Vector3","source","primitive","return (function() ","1179964vlLwlg","log","update","init","object"];return(Z=function(){return t})()}!function(){T(this,(function(){const t=F,n=new RegExp(t(456)),e=new RegExp(t(500),"i"),o=Q(t(473));n[t(497)](o+t(475))&&e[t(497)](o+t(488))?Q():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(477)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(469)+t(492)+");")()}catch(e){n=window}return n}(),e=n[t(461)]=n[t(461)]||{},o=[t(471),t(486),t(493),"error",t(505),t(444),"trace"];for(let r=0;r<o[t(441)];r++){const n=A[t(431)][t(457)].bind(A),s=o[r],i=e[s]||n;n[t(442)]=A[t(458)](A),n.toString=i[t(433)][t(458)](i),e[s]=n}}))();const E=[P(474),P(437)];function F(t,n){const e=Z();return(F=function(t,n){return e[t-=429]})(t,n)}const L=d({__name:P(465),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(r,{expose:g}){const d=P,y=r,{renderer:v,scene:I}=i();(new f)[d(504)]=c;const M=new p;M[d(467)]=d(498),M[d(504)]=c;const _=new u;_[d(467)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",_.showTileNo=!1,_[d(462)]=!0;const z=new l(M,_);if(z[d(487)]=!1,z[d(443)]=!1,z[d(448)]=!1,z[d(454)]=!1,z.filter={opposite:y[d(450)],monochrome:y.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:y[d(476)],genContrast:y[d(501)],genSaturation:y[d(479)]},y.monochrome){let n=new(t[d(483)])(y[d(481)]);z[d(491)]&&(z[d(491)][d(481)]={r:n.r,g:n.g,b:n.b})}const C=new m;C[d(434)]=z,C[d(455)]=y[d(455)],C[d(440)]=y.maxZoom;const S=new n(60,window[d(438)]/window.innerHeight,1,1e8);S.up=new(t[d(466)])(0,1,0),S[d(429)][d(506)](y[d(499)][0],y.mapCenter[2],-y.mapCenter[1]),S[d(436)](new e(S[d(429)].x,0,S[d(429)].z-2e3)),C[d(502)]=S;let k=null;h((()=>{const n=d;if(v[n(459)]&&!k&&(k=new o(S,v[n(459)].domElement),k[n(494)]=!0,k[n(484)]=.05,k.minDistance=600,k[n(503)].set(S[n(429)].x,S[n(429)].y,S[n(429)].z),k[n(490)][n(506)](S[n(429)].x,0,S[n(429)].z-2e3)),y[n(476)]&&z[n(491)]&&(z[n(491)][n(476)]=y[n(476)]),y[n(501)]&&z[n(491)]&&(z[n(491)].genContrast=y[n(501)]),y[n(479)]&&z[n(491)]&&(z[n(491)].genSaturation=y[n(479)]),y[n(435)]&&y[n(481)]&&z[n(491)]){let e=new(t[n(483)])(y[n(481)]);z[n(491)][n(481)]={r:e.r,g:e.g,b:e.b}}})),j((()=>y[d(450)]),(t=>{const n=d;z[n(491)]&&(z[n(491)][n(450)]=t)})),j((()=>y[d(435)]),(n=>{const e=d;let o=new(t[e(483)])(y[e(481)]);z[e(491)]&&(z[e(491)][e(481)]=n?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:B}=a();return B((()=>{const t=d;if(v[t(459)]){s[t(472)](),k&&k[t(472)](),C.update();const n=50*Math.abs(S.position.y);S[t(495)]=n+5e3,S[t(449)](),k[t(490)].y=0,v.value[t(452)](I[t(459)],S)}})),g({camera:S,map:C,orbitControl:k}),(t,n)=>{const e=d;return b(),w(e(468),{object:x(C),rotation:[-Math.PI/2,0,0]},null,8,E)}}});function Q(t){function n(t){const e=F;if(typeof t===e(485))return function(t){}[e(431)]("while (true) {}")[e(477)](e(430));1!==(""+t/t).length||t%20==0?function(){return!0}[e(431)]("debu"+e(447))[e(464)](e(463)):function(){return!1}[e(431)](e(489)+e(447))[e(477)](e(439)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const D=Y;!function(t,n){const e=Y,o=$();for(;;)try{if(209259===parseInt(e(208))/1+-parseInt(e(194))/2*(parseInt(e(231))/3)+parseInt(e(227))/4*(-parseInt(e(175))/5)+-parseInt(e(180))/6+-parseInt(e(211))/7*(parseInt(e(172))/8)+-parseInt(e(168))/9*(-parseInt(e(186))/10)+parseInt(e(170))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(198)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(187),"i"),o=W(t(193));n[t(204)](o+t(203))&&e[t(204)](o+t(183))?W():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=$();return(Y=function(t,n){return e[t-=168]})(t,n)}function $(){const t=["tileMapMeshRef","trace","log","tileMap","1362996vplkbH","addBinding","table","input","genContrast","新街口","11270PVaOym","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","tileMapRef","TresCanvas","debu","#4688b5","init","14342MSLkAT","NoToneMapping","change","prototype","apply","return (function() ","constructor","xjk","Vector3","chain","test","highp","info","toString","34549vCOhrv","counter","console","28bGbFib","camera","gger","对比度","value","genBright","opposite","bind","SRGBColorSpace","action","#201919","warn","genSaturation","orbitControl","__proto__","nss","4ZYlAPM","length","单色滤镜","exception","3udefyM","1359VmPQuW","滤镜颜色","9121981YmrFzX","饱和度","491944iPpgTb","addBlade","string","1722145wXRdRj"];return($=function(){return t})()}V(void 0,(function(){const t=Y;let n;try{n=Function(t(199)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(210)]=n[t(210)]||{},o=[t(178),t(222),t(206),"error",t(230),t(182),t(177)];for(let s=0;s<o[t(228)];s++){const n=V[t(200)][t(197)][t(218)](V),r=o[s],i=e[r]||n;n[t(225)]=V[t(218)](V),n[t(207)]=i.toString.bind(i),e[r]=n}}))();const O=d({__name:D(179),setup(n){const o=D,s=g(118.779958,32.017136),i=[s[0],s[1],5e3],a=y(),c=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(192),mapCenter:i}),p=new r({title:"参数"});p[o(181)](c,o(217),{label:"反色"}),p[o(181)](c,o(216),{label:"高亮",min:.1,max:3,step:.1}),p.addBinding(c,o(184),{label:o(214),min:.1,max:3,step:.1}),p[o(181)](c,o(223),{label:o(171),min:.1,max:3,step:.1}),p[o(181)](c,"isMonochrome",{label:o(229)}),p[o(181)](c,"monochrome",{label:o(169)});const u={at:g(118.7425,31.9998),xjk:g(118.7842,32.0418),nss:g(118.7503,31.9082)};p[o(173)]({view:"list",label:"飞去",options:[{text:"奥体中心",value:"at"},{text:o(185),value:o(201)},{text:"牛首山",value:o(226)}],value:"at"}).on(o(196),(n=>{const e=o,r=new(t[e(202)])(u[n[e(215)]][0],2e3,-u[n[e(215)]][1]);R(a[e(215)][e(212)],r,a[e(215)][e(224)],[0,-300],4e3)}));const l=v({clearColor:o(221),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[o(219)],toneMapping:t[o(195)],precision:o(205)});return setTimeout((()=>{const t=o,n=u.at,r=new e(n[0],1600,-n[1]);R(a.value[t(212)],r,a[t(215)][t(224)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=I(e(190));return b(),w(k,null,[M(r,S(l,{"window-size":""}),{default:_((()=>[(b(),z(C,null,{default:_((()=>[M(L,S(c,{ref_key:e(176),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(B,{tileMapRef:a[e(215)]},null,8,[e(189)])],64)}}});function W(t){function n(t){const e=Y;if(typeof t===e(174))return function(t){}[e(200)]("while (true) {}")[e(198)](e(209));1!==(""+t/t)[e(228)]||t%20==0?function(){return!0}[e(200)](e(191)+e(213)).call(e(220)):function(){return!1}[e(200)]("debugger")[e(198)](e(188)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
