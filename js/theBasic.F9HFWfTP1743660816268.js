import{c4 as e,ar as a,at as s}from"./three.2wx8FU0g1743660816268.js";import{e as t,f as o,o as n}from"./@tresjs.zc7faK4J1743660816268.js";import{W as r,N as i,S as l,B as p,M as u,P as c,C as h}from"./cannon-es.rP2QoA0q1743660816268.js";import{d,r as m,b as f,v as w,a2 as y,o as v,H as T,j as M,g,m as j,u as _,N as b,z as k,F as C,aj as S,ak as B,f as q,M as L}from"./@vue.B5PFBfKs1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";const P=d({__name:"theBasicCannon",props:{sphere:{default:null},sphere2:{default:null},plane:{default:null}},setup(e){const a=e,s=new r;s.gravity.set(0,-9.82,0),s.broadphase=new i,s.defaultContactMaterial.contactEquationRelaxation=5,s.defaultContactMaterial.contactEquationStiffness=1e7;const o=a.sphere.geometry.parameters.radius,n=new l(o),d=new p({mass:10});d.addShape(n),d.position.copy(a.sphere.position),d.material=new u({restitution:10});const m=new p({mass:10});m.addShape(n),m.position.copy(a.sphere2.position),m.material=new u({restitution:1});const f=new c,w=new p({mass:0});w.addShape(f),w.position.copy(a.plane.position),w.quaternion.set(...a.plane.quaternion.toArray()),w.material=new u;const y=new h(w.material,d.material,{friction:0,restitution:.7}),v=new h(w.material,m.material,{friction:0,restitution:.9});s.addContactMaterial(y),s.addContactMaterial(v),s.addBody(d),s.addBody(m),s.addBody(w);const{onLoop:T}=t();return T((({delta:e})=>{s.step(1/120,e),a.sphere.position.copy(d.position),a.sphere2.position.copy(m.position)})),(e,a)=>null}}),R=["rotation"],x=d({__name:"theBasic",setup(t){const r=m({clearColor:"#201919",shadows:!0,alpha:!1,shadowMapType:e,outputColorSpace:a,toneMapping:s}),i=m({enableDamping:!0,dampingFactor:.05,enableZoom:!0,autoRotate:!1}),l=f(),p=f(),u=f(),c=w();return y((()=>{c.value&&(c.value.shadow.mapSize.set(1e3,1e3),c.value.shadow.camera.near=.5,c.value.shadow.camera.far=5e4,c.value.shadow.camera.top=20,c.value.shadow.camera.right=20,c.value.shadow.camera.left=-20,c.value.shadow.camera.bottom=-20)})),(e,a)=>(v(),T(C,null,[M(_(o),j(r,{"window-size":""}),{default:g((()=>[a[3]||(a[3]=b("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),M(_(n),S(B(i)),null,16),a[4]||(a[4]=b("TresAmbientLight",{intensity:.5},null,-1)),b("TresMesh",{ref_key:"sphereRef",ref:l,position:[0,6,0],"cast-shadow":""},a[0]||(a[0]=[b("TresSphereGeometry",{args:[1.5,32,32]},null,-1),b("TresMeshToonMaterial",{color:"#006060"},null,-1)]),512),b("TresMesh",{ref_key:"sphereRef2",ref:p,position:[4,6,0],"cast-shadow":""},a[1]||(a[1]=[b("TresSphereGeometry",{args:[1.5,32,32]},null,-1),b("TresMeshToonMaterial",{color:"#ff6060"},null,-1)]),512),b("TresMesh",{ref_key:"planeRef",ref:u,rotation:[-Math.PI/2,0,0],position:[0,-.01,0],"receive-shadow":""},a[2]||(a[2]=[b("TresPlaneGeometry",{args:[20,20,20,20]},null,-1),b("TresMeshToonMaterial",null,null,-1)]),8,R),u.value?(v(),q(P,{key:0,sphere:l.value,sphere2:p.value,plane:u.value},null,8,["sphere","sphere2","plane"])):L("",!0),b("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:c,position:[10,8,4],intensity:1,"cast-shadow":""},null,512),a[5]||(a[5]=b("TresDirectionalLight",{position:[10,2,4],intensity:1,"cast-shadow":""},null,-1)),a[6]||(a[6]=b("TresGridHelper",null,null,-1))])),_:1},16),a[7]||(a[7]=b("h1",{class:"text-center text-white w-full absolute"},[k(" 使用cannon-es库 API详见:"),b("a",{target:"_black",href:"https://pmndrs.github.io/cannon-es/docs/"},"cannon-es/docs")],-1))],64))}});export{x as default};
