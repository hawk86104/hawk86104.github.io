import{b as t,m as n,U as e}from"./@tresjs.qWeugQU61734239885681.js";import{_ as r,V as o}from"./three.NPKhDGTA1734239885681.js";import{_ as i}from"./three-tile.rGySB-KI1734239885681.js";import{_ as s}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.THY-wPni1734239885681.js";import{d as c,a6 as a,w as u,o as p,D as l,J as f,u as m,r as h,b as d,f as g,g as y,j as I,m as b,al as w,F as _,e as j,aj as v,ak as x}from"./@vue.-THQH3GC1734239885681.js";import{P as S}from"./tweakpane.yHWGBmom1734239885681.js";import{i as T}from"./informationDiv.3KUE0qG51734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";import"./@fesjs.1fC4qdx91734239885681.js";import"./vue-router.KCZH8FnA1734239885681.js";import"./lodash-es.kYt-_xTG1734239885681.js";import"./@qlin.yHhFDldE1734239885681.js";import"./pinia.XvNnwauR1734239885681.js";import"./vue-demi.C4xddsk91734239885681.js";import"./@floating-ui.BPbuo5Gx1734239885681.js";import"./@juggle.7yjBMqoW1734239885681.js";const M=z;!function(t,n){const e=z,r=D();for(;;)try{if(376732===parseInt(e(482))/1+parseInt(e(462))/2*(-parseInt(e(463))/3)+-parseInt(e(505))/4*(parseInt(e(467))/5)+-parseInt(e(487))/6*(-parseInt(e(456))/7)+-parseInt(e(473))/8*(-parseInt(e(457))/9)+-parseInt(e(494))/10+-parseInt(e(459))/11*(-parseInt(e(479))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[z(506)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function z(t,n){const e=D();return(z=function(t,n){return e[t-=444]})(t,n)}function D(){const t=["function *\\( *\\)","warn","1698620uTGMKO","map","DoubleSide","Texture","Vector3","length","console","needsUpdate","material","exception","string","2568STEYxD","apply","radraImgShow","test","__proto__","TresMesh","gger","error","opacity","color","chain","bind","#include <displacementmap_vertex>","TresGroup","debu","position","stateObject","28uUdXta","1422tupsmz","constructor","11TpFdkm","prototype","call","10KjsZhv","140649MznUKk","position-y",'{}.constructor("return this")( )',"toString","4495XqSZHl","scaleImg","info","uniform sampler2D map;\n\t","applyMatrix4","log","3680tRFBZG","onBeforeCompile","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","return (function() ","MeshPhongMaterial","replace","10333668EBlbIw","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","counter","393528wWHJrz","vertexShader","matrix","40.png","input","46230mPfjRR","table","geo2pos","height","TresPlaneGeometry"];return(D=function(){return t})()}!function(){k(this,(function(){const t=z,n=new RegExp(t(492)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=F("init");n[t(508)](r+t(449))&&e[t(508)](r+t(486))?F():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[z(506)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();E(void 0,(function(){const t=z;let n;try{n=Function(t(476)+t(465)+");")()}catch(o){n=window}const e=n[t(500)]=n[t(500)]||{},r=[t(472),t(493),t(469),t(446),t(503),t(488),"trace"];for(let i=0;i<r[t(499)];i++){const n=E[t(458)][t(460)][t(450)](E),o=r[i],s=e[o]||n;n[t(509)]=E[t(450)](E),n[t(466)]=s[t(466)].bind(s),e[o]=n}}))();const R=[M(454)],B=["scale",M(502),"rotateX",M(464)],A=c({__name:M(507),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=M;let o,i;const c=n,h=new(r[e(477)])({displacementMap:new(r[e(497)]),transparent:!0,side:r[e(496)],opacity:c.opacity,displacementScale:.5,displacementBias:0});h[e(474)]=t=>{const n=e;t[n(483)]=n(470)+t[n(483)],t.vertexShader=t.vertexShader[n(478)](n(451),n(475))};const d=c.map[e(489)](new(r[e(498)])(105,34,0));d[e(471)](c[e(495)][e(484)]);const g=s[e(468)](c[e(495)],{x:67,y:11},{x:140,y:57},c[e(490)]),y=[];for(let t=0;t<9;t++)y.push(e(480)+t+e(485));let I=0;const b=([o,i]=a((()=>t(y))),o=await o,i(),o);h[e(495)]=b[I],u((()=>[c[e(448)],c.opacity]),(([t,n])=>{h[e(447)]=n}));let w=null,_=!1;return _?(clearInterval(w),w=null,_=!1):(w=setInterval((()=>{const t=z;I=I<y[t(499)]-1?I+1:0,h.map=b[I],h[t(501)]=!0,console[t(472)](I)}),1e3),_=!0),(t,n)=>{const r=e;return p(),l(r(452),{position:[...m(d)]},[f(r(444),{scale:[m(g).x,m(g).y,t[r(490)]],material:m(h),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[r(490)]/5},n[0]||(n[0]=[f(r(491),{args:[1,1,529,420]},null,-1)]),8,B)],8,R)}}});function F(t){function n(t){const e=z;if(typeof t===e(504))return function(t){}[e(458)]("while (true) {}")[e(506)](e(481));1!==(""+t/t)[e(499)]||t%20==0?function(){return!0}[e(458)](e(453)+e(445))[e(461)]("action"):function(){return!1}[e(458)](e(453)+e(445))[e(506)](e(455)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=L;!function(t,n){const e=L,r=Z();for(;;)try{if(119108===-parseInt(e(325))/1+-parseInt(e(299))/2*(parseInt(e(327))/3)+-parseInt(e(350))/4*(-parseInt(e(306))/5)+-parseInt(e(331))/6*(-parseInt(e(302))/7)+-parseInt(e(314))/8+-parseInt(e(333))/9*(-parseInt(e(311))/10)+parseInt(e(342))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=L,n=new RegExp(t(335)),e=new RegExp(t(300),"i"),r=W(t(351));n[t(315)](r+"chain")&&e.test(r+t(360))?W():r("0")}))()}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(358)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(t,n){const e=Z();return(L=function(t,n){return e[t-=299]})(t,n)}function Z(){const t=["init","map","bind","TileMap","while (true) {}","value","toString","apply","copy","input","19624IiUHpe","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","1260HiTknr","debu","counter","localToWorld","105JUYvAE","rotateX","tdLight","exception","console","17950AsCDFj","string","object","917040SumqlP","test","target","domElement","constructor","opacity","plugin","call","length","height","geo2pos","207683uhxLFs","info","39KmkSGv","mapbox.satellite","gger","__proto__","2748FluWif",'{}.constructor("return this")( )',"144chHwmo","MapBoxSource","function *\\( *\\)","error","log","TresDirectionalLight","showLocation","stateObject","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","4494292wWlHOR","table","position","addBinding","action","return (function() ","trace","controlsEvents","9380BBKMln"];return(Z=function(){return t})()}C(void 0,(function(){const t=L;let n;try{n=Function(t(347)+t(332)+");")()}catch(o){n=window}const e=n[t(310)]=n[t(310)]||{},r=[t(337),"warn",t(326),t(336),t(309),t(343),t(348)];for(let i=0;i<r[t(322)];i++){const n=C[t(318)][t(301)][t(353)](C),o=r[i],s=e[o]||n;n[t(330)]=C[t(353)](C),n[t(357)]=s[t(357)][t(353)](s),e[o]=n}}))();const H=[P(313)],O=P(341),G=c({__name:"mapBoxShow3",setup(t){const e=P,r=h({height:200,opacity:1}),c=new S({title:"参数"});c[e(345)](r,e(323),{label:"高度",min:10,max:300,step:1}),c[e(345)](r,e(319),{label:"透明度",min:0,max:1,step:.1});const a=new(i[e(320)][e(334)])({token:O,dataType:"image",style:e(328)}),j=new(i[e(320)][e(334)])({token:O,dataType:"terrain-rgb",style:"mapbox.terrain-rgb",maxLevel:15}),v=new(i[e(354)])({imgSource:a,demSource:j,lon0:90,minLevel:2,maxLevel:20});v[e(307)](-Math.PI/2);const x=new o(105,34,0),T=new o(110,0,1e4),M=v[e(305)](v.geo2pos(x)),k=v[e(305)](v[e(324)](T)),z=d(),{camera:D,controls:E,scene:R,renderer:B}=n();return D.value&&D[e(356)].position[e(359)](k),u((()=>E.value),(t=>{const n=e;t&&(t[n(316)][n(359)](M),s[n(349)](t,D[n(356)],R[n(356)]))})),u((()=>z[e(356)]),(t=>{const n=e;t&&t[n(316)][n(344)][n(359)](M)})),s[e(339)](D[e(356)],B[e(356)][e(317)],v),(t,n)=>{const o=e;return p(),l(_,null,[f(o(338),{ref_key:o(308),ref:z,position:[0,2e3,1e3],intensity:1},null,512),f("primitive",{object:m(v)},null,8,H),(p(),g(w,null,{default:y((()=>[I(A,b({map:m(v)},r),null,16,[o(352)])])),_:1}))],64)}}});function W(t){function n(t){const e=L;if(typeof t===e(312))return function(t){}[e(318)](e(355))[e(358)](e(304));1!==(""+t/t)[e(322)]||t%20==0?function(){return!0}.constructor(e(303)+"gger")[e(321)](e(346)):function(){return!1}[e(318)](e(303)+e(329))[e(358)](e(340)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=Q;!function(t,n){const e=Q,r=J();for(;;)try{if(768186===-parseInt(e(407))/1*(parseInt(e(403))/2)+parseInt(e(430))/3+parseInt(e(415))/4+-parseInt(e(406))/5*(-parseInt(e(426))/6)+-parseInt(e(405))/7*(-parseInt(e(416))/8)+parseInt(e(425))/9+-parseInt(e(418))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(397)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(t,n){const e=J();return(Q=function(t,n){return e[t-=394]})(t,n)}!function(){q(this,(function(){const t=Q,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=N(t(428));n[t(424)](r+t(417))&&e.test(r+t(409))?N():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(397)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(){const t=["804NMLSQQ",'{}.constructor("return this")( )',"init","TresCanvas","2217117RcjvCV","prototype","error","console","constructor","#dbf0ff","apply","return (function() ","bind","exception","action","trace","4SxMimI","TresPerspectiveCamera","2226MOSoeB","23820UvQqgz","554843usRAEC","log","input","__proto__","toString","TresAmbientLight","highp","radraImg","4653868hmnTDU","21104RECXCh","chain","20266530UJlXUs","length","gger","string","call","debu","test","4722831PYEedy"];return(J=function(){return t})()}$(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(398)+t(427)+");")()}catch(e){n=window}return n}(),e=n[t(394)]=n[t(394)]||{},r=[t(408),"warn","info",t(432),t(400),"table",t(402)];for(let o=0;o<r[t(419)];o++){const n=$.constructor[t(431)][t(399)]($),i=r[o],s=e[i]||n;n[t(410)]=$[t(399)]($),n[t(411)]=s[t(411)].bind(s),e[i]=n}}))();const K=c({__name:X(414),setup(t){const n=X,r=h({clearColor:n(396),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(413)}),o=h({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=j(s(429));return p(),l(_,null,[I(c,b(r,{"window-size":""}),{default:y((()=>[i[0]||(i[0]=f(s(404),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),I(m(e),v(x(o)),null,16),i[1]||(i[1]=f(s(412),{intensity:1},null,-1)),I(G)])),_:1},16),I(T)],64)}}});function N(t){function n(t){const e=Q;if(typeof t===e(421))return function(t){}.constructor("while (true) {}")[e(397)]("counter");1!==(""+t/t)[e(419)]||t%20==0?function(){return!0}[e(395)](e(423)+e(420))[e(422)](e(401)):function(){return!1}[e(395)]("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
