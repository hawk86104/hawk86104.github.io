import{a as t,m as n,o as e}from"./@tresjs.ZGxFoQtw1738818486026.js";import{bk as o,_ as r,b as i}from"./three.WgQSjl1J1738818486026.js";import{_ as s,U as c}from"./three-tile.2kc3Tz2R1738818486026.js";import{_ as a,s as u}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.s86O49Pp1738818486026.js";import{d as p,a3 as l,w as f,o as m,H as g,N as h,u as d,r as y,b,f as I,g as w,j as _,m as x,al as v,F as j,e as S,aj as T,ak as D}from"./@vue.NRI7TcgI1738818486026.js";import{P as k}from"./tweakpane.yDiyAAkA1738818486026.js";import{_ as z}from"./informationDiv.lG0VMdRG1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";import"./@fesjs.LLTzkpAZ1738818486026.js";import"./vue-router.CrYQ3hrU1738818486026.js";import"./lodash-es.pklfUAS51738818486026.js";import"./@qlin.yHhFDldE1738818486026.js";import"./pinia.GNZjCSUA1738818486026.js";import"./@floating-ui.BPbuo5Gx1738818486026.js";import"./@juggle.7yjBMqoW1738818486026.js";const E=B;!function(t,n){const e=B,o=R();for(;;)try{if(433032===parseInt(e(302))/1*(-parseInt(e(310))/2)+-parseInt(e(323))/3+parseInt(e(296))/4+-parseInt(e(273))/5*(parseInt(e(277))/6)+parseInt(e(301))/7*(parseInt(e(329))/8)+parseInt(e(306))/9+parseInt(e(327))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=B,n=new RegExp(t(309)),e=new RegExp(t(274),"i"),o=G(t(278));n[t(331)](o+t(316))&&e[t(331)](o+t(279))?G():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(305)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(){const t=["Texture","counter","chain",'{}.constructor("return this")( )',"console","prototype","log","matrix","action","1292112iNvRtY","push","return (function() ","constructor","5766470UEXRJU","DoubleSide","160EBKTGq","debu","test","opacity","206830IqguXL","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","height","TresMesh","60HZZKzN","init","input","replace","applyMatrix4","map","40.png","position-y","warn","gger","scaleImg","call","material","TresPlaneGeometry","radraImgShow","TresGroup","length","color","error","226156nGQsww","onBeforeCompile","#include <displacementmap_vertex>","scale","toString","207354GTpHeu","1xMgxDc","needsUpdate","position","apply","3317436TxtrXM","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","while (true) {}","function *\\( *\\)","633668FUKTez","bind","stateObject","vertexShader"];return(R=function(){return t})()}M(void 0,(function(){const t=B;let n;try{n=Function(t(325)+t(317)+");")()}catch(r){n=window}const e=n[t(318)]=n[t(318)]||{},o=["log",t(285),"info",t(295),"exception","table","trace"];for(let i=0;i<o[t(293)];i++){const n=M[t(326)][t(319)].bind(M),r=o[i],s=e[r]||n;n.__proto__=M[t(311)](M),n[t(300)]=s[t(300)].bind(s),e[r]=n}}))();const X=[E(304)],L=[E(299),E(289),"rotateX",E(284)];function B(t,n){const e=R();return(B=function(t,n){return e[t-=272]})(t,n)}const F=p({__name:E(291),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=E;let s,c;const u=n,p=new o({displacementMap:new(r[e(314)]),transparent:!0,side:r[e(328)],opacity:u[e(272)],displacementScale:.5,displacementBias:0});p[e(297)]=t=>{const n=e;t.vertexShader="uniform sampler2D map;\n\t"+t.vertexShader,t.vertexShader=t[n(313)][n(280)](n(298),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const y=u[e(282)].geo2pos(new i(105,34,0));y[e(281)](u[e(282)][e(321)]);const b=a[e(287)](u[e(282)],{x:67,y:11},{x:140,y:57},u[e(275)]),I=[];for(let t=0;t<9;t++)I[e(324)](e(307)+t+e(283));let w=0;const _=([s,c]=l((()=>t(I))),s=await s,c(),s);p[e(282)]=_[w],f((()=>[u[e(294)],u[e(272)]]),(([t,n])=>{p.opacity=n}));let x=null,v=!1;return v?(clearInterval(x),x=null,v=!1):(x=setInterval((()=>{const t=B;w=w<I[t(293)]-1?w+1:0,p[t(282)]=_[w],p[t(303)]=!0,console[t(320)](w)}),1e3),v=!0),(t,n)=>{const o=e;return m(),g(o(292),{position:[...d(y)]},[h(o(276),{scale:[d(b).x,d(b).y,t[o(275)]],material:d(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},n[0]||(n[0]=[h(o(290),{args:[1,1,529,420]},null,-1)]),8,L)],8,X)}}});function G(t){function n(t){const e=B;if("string"==typeof t)return function(t){}.constructor(e(308))[e(305)](e(315));1!==(""+t/t)[e(293)]||t%20==0?function(){return!0}[e(326)](e(330)+e(286))[e(288)](e(322)):function(){return!1}[e(326)](e(330)+e(286))[e(305)](e(312)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Z=U;!function(t,n){const e=U,o=O();for(;;)try{if(343638===-parseInt(e(139))/1*(-parseInt(e(125))/2)+parseInt(e(130))/3+parseInt(e(105))/4+parseInt(e(141))/5+-parseInt(e(134))/6+parseInt(e(151))/7*(parseInt(e(103))/8)+-parseInt(e(138))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(){const t=["addBinding","mapbox.satellite","string","TresDirectionalLight","788389uNCKXL","opacity","target","value","while (true) {}","counter","length","gger","height","object","24OLoesY","action","215044EtnvHP","position","透明度","Vector3","console",'{}.constructor("return this")( )',"tdLight","table","geo2pos","copy","test","MapBoxSource","input","domElement","localToWorld","controlsEvents","__proto__","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","init","log","4846IaSfYs","image","exception","constructor","plugin","144810ROgOgT","toString","return (function() ","mapBoxShow3","413250SkQvAJ","bind","warn","terrain-rgb","7271829xdvKwh","152SIgFiw","primitive","2061430fTJbrR","chain","rotateX","GDSource","map","stateObject"];return(O=function(){return t})()}!function(){P(this,(function(){const t=U,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Q(t(123));n[t(115)](o+t(142))&&e.test(o+t(117))?Q():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=U;let n;try{n=Function(t(132)+t(110)+");")()}catch(r){n=window}const e=n[t(109)]=n.console||{},o=[t(124),t(136),"info","error",t(127),t(112),"trace"];for(let i=0;i<o[t(157)];i++){const n=K[t(128)].prototype[t(135)](K),r=o[i],s=e[r]||n;n[t(121)]=K[t(135)](K),n[t(131)]=s.toString[t(135)](s),e[r]=n}}))();const N=[Z(102)];function U(t,n){const e=O();return(U=function(t,n){return e[t-=100]})(t,n)}const C=Z(122),H=p({__name:Z(133),setup(t){const e=Z,o=y({height:200,opacity:1}),p=new k({title:"参数"});p.addBinding(o,e(101),{label:"高度",min:10,max:300,step:1}),p[e(147)](o,e(152),{label:e(107),min:0,max:1,step:.1}),new(s[e(129)][e(116)])({token:C,dataType:e(126),style:e(148)});const l=new(s[e(129)][e(116)])({token:C,dataType:e(137),style:"mapbox.terrain-rgb",maxLevel:15}),S=new c({imgSource:[new(s[e(129)].GDSource)({style:"6"}),new(s[e(129)][e(144)])({style:"8"})],demSource:l,lon0:90,minLevel:2,maxLevel:20});S[e(143)](-Math.PI/2);const T=new(r[e(108)])(105,34,0),D=new i(110,0,1e4),z=S[e(119)](S[e(113)](T)),E=S[e(119)](S.geo2pos(D)),A=b(),{camera:M,controls:R,scene:X,renderer:L}=n();return M.value&&M[e(154)][e(106)][e(114)](E),f((()=>R[e(154)]),(t=>{const n=e;t&&(t[n(153)][n(114)](z),a[n(120)](t,M[n(154)],X[n(154)]))})),f((()=>A.value),(t=>{const n=e;t&&t[n(153)][n(106)].copy(z)})),u(M[e(154)],L[e(154)][e(118)],S),(t,n)=>{const r=e;return m(),g(j,null,[h(r(150),{ref_key:r(111),ref:A,position:[0,2e3,1e3],intensity:1},null,512),h(r(140),{object:d(S)},null,8,N),(m(),I(v,null,{default:w((()=>[_(F,x({map:d(S)},o),null,16,[r(145)])])),_:1}))],64)}}});function Q(t){function n(t){const e=U;if(typeof t===e(149))return function(t){}.constructor(e(155)).apply(e(156));1!==(""+t/t)[e(157)]||t%20==0?function(){return!0}[e(128)]("debu"+e(100)).call(e(104)):function(){return!1}[e(128)]("debu"+e(100)).apply(e(146)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=q;function q(t,n){const e=W();return(q=function(t,n){return e[t-=309]})(t,n)}!function(t,n){const e=q,o=W();for(;;)try{if(304579===-parseInt(e(345))/1+-parseInt(e(322))/2*(parseInt(e(319))/3)+-parseInt(e(315))/4+parseInt(e(343))/5+parseInt(e(336))/6+parseInt(e(316))/7*(-parseInt(e(328))/8)+parseInt(e(310))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(331)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Y(this,(function(){const t=q,n=new RegExp(t(312)),e=new RegExp(t(314),"i"),o=tt(t(333));n[t(313)](o+t(335))&&e[t(313)](o+"input")?tt():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["error","5603769jcXgwX","gger","function *\\( *\\)","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2296032rAXjny","23079XfaEas","log","highp","104649bTgrsT","prototype","while (true) {}","2pkYDLI","TresPerspectiveCamera","__proto__",'{}.constructor("return this")( )',"return (function() ","#dbf0ff","328kSSZTO","action","radraImg","apply","string","init","TresAmbientLight","chain","3378000aKMKGV","counter","constructor","trace","call","toString","debu","912880CDXFQD","length","319570naqZLR","warn","bind","console"];return(W=function(){return t})()}J(void 0,(function(){const t=q;let n;try{n=Function(t(326)+t(325)+");")()}catch(r){n=window}const e=n[t(348)]=n.console||{},o=[t(317),t(346),"info",t(309),"exception","table",t(339)];for(let i=0;i<o[t(344)];i++){const n=J[t(338)][t(320)][t(347)](J),r=o[i],s=e[r]||n;n[t(324)]=J.bind(J),n.toString=s[t(341)][t(347)](s),e[r]=n}}))();const V=p({__name:$(330),setup(t){const n=$,o=y({clearColor:n(327),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(318)}),r=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=S("TresCanvas");return m(),g(j,null,[_(c,x(o,{"window-size":""}),{default:w((()=>[i[0]||(i[0]=h(s(323),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(d(e),T(D(r)),null,16),i[1]||(i[1]=h(s(334),{intensity:1},null,-1)),_(H)])),_:1},16),_(z)],64)}}});function tt(t){function n(t){const e=q;if(typeof t===e(332))return function(t){}.constructor(e(321))[e(331)](e(337));1!==(""+t/t)[e(344)]||t%20==0?function(){return!0}[e(338)]("debugger")[e(340)](e(329)):function(){return!1}.constructor(e(342)+e(311)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
