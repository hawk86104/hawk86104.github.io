import{_ as t,bT as n,C as o}from"./three.-yu4716U1728613889935.js";import{z as e}from"./@tresjs.BSMy0VpY1728613889935.js";import{d as r,b as a,a4 as s,w as i,o as c,E as u,L as f,aj as l,ak as p}from"./@vue.JNsx1iN61728613889935.js";function h(){const t=["trace",'{}.constructor("return this")( )',"\n\t ","prototype","apply","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","5GWKQOA","log","chain","function *\\( *\\)","shadowmask_pars_fragment","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","shadowmap_pars_fragment","bsdfs","22aeiVao","4419580NfPJKn","constructor","8306832pKzATP","14lVjjaH","4682176hqystI","common","2wZySbd","return (function() ","init","stateObject","toString","debu","711PtQngR","table","packing","input","5023860vpjCOh","error","defaultnormal_vertex","ShaderChunk","shadowmap_pars_vertex","while (true) {}","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","counter","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","646006bPpssx","\n       varying vec2 vUv;\n\t\t\t \t","8608887vSkEzm","\n      \t","\n          ","test","gger","length","bind","string","console","9408bsgchb"];return(h=function(){return t})()}!function(t,n){const o=g,e=h();for(;;)try{if(841756===-parseInt(o(250))/1*(parseInt(o(271))/2)+-parseInt(o(256))/3*(parseInt(o(282))/4)+-parseInt(o(235))/5*(parseInt(o(246))/6)+parseInt(o(247))/7*(parseInt(o(248))/8)+parseInt(o(273))/9+-parseInt(o(244))/10*(-parseInt(o(243))/11)+parseInt(o(260))/12)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const d=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[g(233)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function g(t,n){const o=h();return(g=function(t,n){return o[t-=233]})(t,n)}!function(){d(this,(function(){const t=g,n=new RegExp(t(238)),o=new RegExp(t(267),"i"),e=b(t(252));n[t(276)](e+t(237))&&o.test(e+t(259))?b():e("0")}))()}();const m=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();m(void 0,(function(){const t=g;let n;try{n=Function(t(251)+t(284)+");")()}catch(r){n=window}const o=n[t(281)]=n[t(281)]||{},e=[t(236),"warn","info",t(261),"exception",t(257),t(283)];for(let a=0;a<e[t(278)];a++){const n=m[t(245)][t(286)][t(279)](m),r=e[a],s=o[r]||n;n[t(268)]=m.bind(m),n[t(254)]=s.toString[t(279)](s),o[r]=n}}))();const v=()=>{const o=g;return o(272)+t[o(263)][o(249)]+"\n      \t"+t[o(263)][o(242)]+o(274)+t[o(263)][o(264)]+"\n       void main() {\n\t\t\t\t\t"+n.beginnormal_vertex+"\n          "+t[o(263)][o(262)]+o(275)+t[o(263)].begin_vertex+"\n          "+t[o(263)].project_vertex+o(275)+n.worldpos_vertex+o(275)+t[o(263)].shadowmap_vertex+o(234)},w=()=>{const o=g;return o(270)+n.common+"\n\t "+t[o(263)][o(258)]+o(285)+n[o(242)]+o(285)+n.lights_pars_begin+o(285)+t[o(263)][o(241)]+o(285)+t[o(263)][o(239)]+o(240)};function b(t){function n(t){const o=g;if(typeof t===o(280))return function(t){}[o(245)](o(265))[o(233)](o(269));1!==(""+t/t)[o(278)]||t%20==0?function(){return!0}[o(245)](o(255)+o(277))[o(266)]("action"):function(){return!1}[o(245)]("debu"+o(277))[o(233)](o(253)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const _=E;!function(t,n){const o=E,e=y();for(;;)try{if(537161===parseInt(o(443))/1*(-parseInt(o(436))/2)+-parseInt(o(466))/3+-parseInt(o(426))/4+-parseInt(o(428))/5*(parseInt(o(431))/6)+-parseInt(o(424))/7+parseInt(o(467))/8+-parseInt(o(429))/9*(-parseInt(o(425))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const x=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[E(440)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){x(this,(function(){const t=E,n=new RegExp(t(470)),o=new RegExp(t(445),"i"),e=T("init");n.test(e+t(464))&&o[t(430)](e+t(471))?T():e("0")}))()}();const I=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[E(440)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function y(){const t=["log","info","gger","debu","#990","size","counter","UniformsUtils","UniformsLib","table","TresMesh","shadowColor","uniforms","wrapS","chain","Color","706890dxNOuQ","4308144smZptg","console","TresShaderMaterial","function *\\( *\\)","input","exception","edge","rotation-x","lights","warn",'{}.constructor("return this")( )',"fEdge","#999","value","tmRef","209846ACVDeE","308230CgbfeS","3357984ZlGHiw","RepeatWrapping","55030OLlAqn","756mdlbkK","test","318aSRewM","call","color","merge","args","9066PKsbpC","error","prototype","__proto__","apply","trace","constructor","199gxYbRS","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","DoubleSide","while (true) {}","uShadowColor","length"];return(y=function(){return t})()}I(void 0,(function(){const t=E;let n;try{n=Function("return (function() "+t(419)+");")()}catch(r){n=window}const o=n[t(468)]=n.console||{},e=[t(450),t(418),t(451),t(437),t(472),t(459),t(441)];for(let a=0;a<e.length;a++){const n=I.constructor[t(438)][t(444)](I),r=e[a],s=o[r]||n;n[t(439)]=I.bind(I),n.toString=s.toString[t(444)](s),o[r]=n}}))();const S=[_(474)],C=[_(435)],j=r({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:_(454)},shadowColor:{default:_(421)},edge:{default:.35}},async setup(n){const r=_;let h,d;const g=n,m=a(),{map:b}=([h,d]=s((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);b[r(463)]=b.wrapT=t[r(427)];const x={uniforms:t[r(457)][r(434)]([t[r(458)][r(475)],{uTexture:{type:"t",value:b},uColor:{value:new(t[r(465)])(g[r(433)])},uShadowColor:{value:new o(g[r(461)])},fEdge:{type:"f",value:g[r(473)]}}]),side:t[r(446)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return i((()=>g.edge),(t=>{const n=r;x.uniforms[n(420)][n(422)]=t})),i((()=>g[r(433)]),(n=>{const o=r;x.uniforms.uColor[o(422)]=new(t[o(465)])(g.color)})),i((()=>g[r(461)]),(t=>{const n=r;x[n(462)][n(448)][n(422)]=new o(g[n(461)])})),(t,n)=>{const o=r;return c(),u(o(460),{ref_key:o(423),ref:m,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:g[o(455)]},null,8,C),f(o(469),l(p(x)),null,16)],8,S)}}});function E(t,n){const o=y();return(E=function(t,n){return o[t-=418]})(t,n)}function T(t){function n(t){const o=E;if("string"==typeof t)return function(t){}[o(442)](o(447))[o(440)](o(456));1!==(""+t/t)[o(449)]||t%20==0?function(){return!0}[o(442)]("debu"+o(452))[o(432)]("action"):function(){return!1}[o(442)](o(453)+o(452)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
