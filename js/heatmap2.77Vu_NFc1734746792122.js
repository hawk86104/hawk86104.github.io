import{P as t}from"./tweakpane.yHWGBmom1734746792122.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.0q7P_q931734746792122.js";import{_ as r}from"./heatmap.js-fix.h68ZCvXn1734746792122.js";import{h as i,_ as c,c3 as s,a0 as u}from"./three.1FILWcBb1734746792122.js";import{r as a}from"./utils.bDGdWJWR1734746792122.js";import{d as p}from"./pinia.fA-Uqav61734746792122.js";import{b as f,d as l,a3 as h,o as d,D as m,J as g,u as v,F as y,q as b,U as w,N as _,P as I,H as j,L as x,a6 as E,r as M,j as S,g as D,m as A}from"./@vue.-THQH3GC1734746792122.js";import{c as R,d as z,a as T}from"./three-mesh-bvh.VBrofT861734746792122.js";import{_ as Z}from"./@fesjs.Y0rSBxCv1734746792122.js";import"./@tresjs.vA_UT8oy1734746792122.js";import"./@vueuse.lqJslAkC1734746792122.js";import"./three-custom-shader-material.uwcZNtd-1734746792122.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1734746792122.js";import"./@amap.zNgKkCGX1734746792122.js";import"./vue-demi.C4xddsk91734746792122.js";import"./vue-router.PPpNBBl21734746792122.js";import"./lodash-es.kYt-_xTG1734746792122.js";import"./@qlin.yHhFDldE1734746792122.js";import"./@floating-ui.BPbuo5Gx1734746792122.js";import"./@juggle.7yjBMqoW1734746792122.js";!function(t,n){const e=B,o=P();for(;;)try{if(371485===-parseInt(e(208))/1+parseInt(e(242))/2+-parseInt(e(235))/3+-parseInt(e(222))/4+parseInt(e(234))/5+parseInt(e(218))/6*(parseInt(e(198))/7)+-parseInt(e(206))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(209)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(t,n){const e=P();return(B=function(t,n){return e[t-=197]})(t,n)}!function(){q(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(204),"i"),o=U(t(217));n.test(o+t(241))&&e.test(o+t(225))?U():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(209)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=B;let n;try{n=Function("return (function() "+t(227)+");")()}catch(r){n=window}const e=n[t(224)]=n.console||{},o=[t(245),t(243),t(239),t(200),"exception",t(236),t(238)];for(let i=0;i<o[t(214)];i++){const n=k[t(219)][t(203)][t(240)](k),r=o[i],c=e[r]||n;n.__proto__=k.bind(k),n[t(229)]=c.toString[t(240)](c),e[r]=n}}))();const O=(t,n)=>t[B(230)](n)+-10;function P(){const t=["push","2944232ACHSDt","yellow","console","input","call",'{}.constructor("return this")( )',"style","toString","getValueAt","width","randInt","rgb(255,0,0)","1933650QoTynv","747120TTDsBq","table","action","trace","info","bind","chain","1234318ENWwEE","warn","rgb(0,0,255)","log","display","none","setData","rgb(0,255,0)","1061417aFTaje","gger","error","position","_config","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","appendChild","1683384MNNBMR","body","43407deYqMS","apply","counter","createElement","create","while (true) {}","length","stateObject","debu","init","24Vtvovr","constructor","absolute"];return(P=function(){return t})()}function U(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(219)](e(213))[e(209)](e(210));1!==(""+t/t)[e(214)]||t%20==0?function(){return!0}[e(219)](e(216)+e(199))[e(226)](e(237)):function(){return!1}.constructor(e(216)+e(199))[e(209)](e(215)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function W(){const t=["table","2307186ffYtxe","constructor","exception","4470888DztSWp","while (true) {}","error","12710goDHVz","484BTUlDk","debu","info","8odWabJ","value","508XqeaFB","return (function() ","action","counter","init","4CGOJXn","gger","length","test","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2072825pugwmA","bind","console","907299AKtqED","toString",'{}.constructor("return this")( )',"6023979DoMYCs","chain","11099jcqNIg","function *\\( *\\)","prototype","call","apply","input","__proto__","stateObject"];return(W=function(){return t})()}!function(t,n){const e=F,o=W();for(;;)try{if(378296===-parseInt(e(397))/1*(-parseInt(e(392))/2)+-parseInt(e(411))/3*(-parseInt(e(402))/4)+parseInt(e(408))/5+-parseInt(e(388))/6+-parseInt(e(385))/7+-parseInt(e(395))/8*(parseInt(e(414))/9)+-parseInt(e(391))/10*(-parseInt(e(416))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=F,n=new RegExp(t(417)),e=new RegExp(t(407),"i"),o=V(t(401));n[t(405)](o+t(415))&&e[t(405)](o+t(381))?V():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(380)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(t,n){const e=W();return(F=function(t,n){return e[t-=378]})(t,n)}C(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(398)+t(413)+");")()}catch(e){n=window}return n}(),e=n[t(410)]=n[t(410)]||{},o=["log",t(406),t(394),t(390),t(387),t(384),"trace"];for(let r=0;r<o[t(404)];r++){const n=C[t(386)][t(378)][t(409)](C),i=o[r],c=e[i]||n;n[t(382)]=C[t(409)](C),n.toString=c[t(412)].bind(c),e[i]=n}}))();const N=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[F(396)]=n},setTemperature:function(t){n[F(396)]=t}}}));function V(t){function n(t){const e=F;if("string"==typeof t)return function(t){}[e(386)](e(389)).apply(e(400));1!==(""+t/t)[e(404)]||t%20==0?function(){return!0}.constructor(e(393)+e(403))[e(379)](e(399)):function(){return!1}.constructor(e(393)+"gger")[e(380)](e(383)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=Y;!function(t,n){const e=Y,o=G();for(;;)try{if(595940===parseInt(e(400))/1+-parseInt(e(383))/2+-parseInt(e(416))/3+-parseInt(e(378))/4*(parseInt(e(417))/5)+-parseInt(e(424))/6+-parseInt(e(379))/7+-parseInt(e(413))/8*(-parseInt(e(403))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(390)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=Y,n=new RegExp(t(386)),e=new RegExp(t(372),"i"),o=tt(t(431));n[t(436)](o+t(398))&&e[t(436)](o+t(380))?tt():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(390)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=G();return(Y=function(t,n){return e[t-=370]})(t,n)}function G(){const t=["gger","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","primitive","action","BufferGeometry","Mesh","init","exception","normal","model","ShaderMaterial","test","geometry","prototype","mergeGeometries","_config","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","width","canvas","stateObject","return (function() ","city","1076cxWBqv","7858536zVEWZh","input","debu","opacity","942406jtLbEv","setShowDiv","__proto__","function *\\( *\\)","makeRotationX",'{}.constructor("return this")( )',"needsUpdate","apply","Matrix4","computeBoundsTree","attributes","warn","disposeBoundsTree","value","log","chain","数值：","123568RSqkSk","buildingsHeatmap","clone","127881mZniVd","bind","uniforms","toString","object","error","matrix","constructor","raycast","Texture","2376jlsmXP","applyMatrix4","height","1929195LJDtMD","21865WWyqvh","while (true) {}","counter","length","数值———：","land","children","2006688ZjskEZ"];return(G=function(){return t})()}H(void 0,(function(){const t=Y;let n;try{n=Function(t(376)+t(388)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(397),t(394),"info",t(408),t(432),"table","trace"];for(let i=0;i<o[t(420)];i++){const n=H[t(410)][t(438)][t(404)](H),r=o[i],c=e[r]||n;n[t(385)]=H[t(404)](H),n.toString=c[t(406)][t(404)](c),e[r]=n}}))();const J=["object","rotation-x"],Q=[X(407)],K=l({__name:X(401),props:{model:{},opacity:{default:1}},setup(t){const n=X;(()=>{const t=Y;c[t(429)][t(438)][t(392)]=R,c[t(429)].prototype[t(395)]=z,c[t(430)][t(438)][t(411)]=T})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document[o(211)]("heatmap-canvas");return i[o(228)][o(201)]=o(220),!e&&(i[o(228)][o(246)]=o(247)),i[o(228)].top="0",i.style.left="0",document[o(207)][o(205)](i),r[o(212)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(244),.55:o(197),.85:o(223),1:o(233)}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n[e(221)]({x:i.randInt(1,t[e(202)][e(231)]),y:i[e(232)](1,t._config.height),value:i[e(232)](-10,36)}),o++}t[e(248)]({max:36,min:-10,data:n})})(o);const p=new(c[n(412)])(o._renderer[n(374)]);p[n(389)]=!0;const f=e[n(434)][n(377)].clone();delete f[n(437)].attributes.normal,delete f.geometry[n(393)].uv;const l=f.geometry[n(402)]()[n(414)](f[n(409)]),b=e[n(434)][n(422)][n(402)]();delete b[n(437)].attributes[n(433)];const w=b[n(437)][n(402)]()[n(414)](b.matrix),_=s[n(370)]([l,w]);_[n(414)]((new(c[n(391)]))[n(387)](Math.PI/2)),a(_),_[n(392)]();const I=(t=>{const o=n;return new(c[o(435)])({vertexShader:o(426),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(382)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u})})(p),j=new(c[n(430)])(_,I);h((()=>{const t=n;e[t(382)]&&(I[t(405)].uOpacity[t(396)]=e[t(382)])}));const x=N(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(371)][e(373)],y:(1-t.uv.y)*o[e(371)][e(415)]};console[e(397)](e(399),t),console[e(397)](e(421),O(o,n)),x.setTemperature(O(o,n))}},M=t=>{t&&x.$patch({showDiv:!0})},S=t=>{t&&x[n(384)](!1)};return(t,o)=>{const r=n;return d(),m(y,null,[g(r(427),{object:v(j),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:M,onPointerLeave:S},null,40,J),g(r(427),{object:e[r(434)][r(434)][r(423)][0].clone()},null,8,Q)],64)}}});function tt(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(410)](e(418))[e(390)](e(419));1!==(""+t/t).length||t%20==0?function(){return!0}[e(410)](e(381)+e(425)).call(e(428)):function(){return!1}[e(410)](e(381)+e(425))[e(390)](e(375)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=Z({__name:"dataDiv",setup(t){const n=N(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(v(n).temperature)+"℃ ",5)),[[I,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);function et(t,n){const e=ct();return(et=function(t,n){return e[t-=451]})(t,n)}const ot=et;!function(t,n){const e=et,o=ct();for(;;)try{if(306598===-parseInt(e(480))/1*(-parseInt(e(492))/2)+parseInt(e(474))/3+-parseInt(e(475))/4*(parseInt(e(468))/5)+parseInt(e(466))/6*(parseInt(e(460))/7)+-parseInt(e(485))/8+parseInt(e(477))/9+parseInt(e(461))/10*(-parseInt(e(457))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[et(490)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=et,n=new RegExp(t(487)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ut(t(458));n[t(483)](o+t(486))&&e[t(483)](o+t(469))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[et(490)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["city","1811520WbuazM","addBinding","15reEAHC","input","constructor","length",'{}.constructor("return this")( )',"opacity","1288473piiXve","652676tRBQcN","value","3263823kUUNVy","info","string","16850EqlGoN","bind","trace","test","__proto__","1362672ATRbCo","chain","function *\\( *\\)","prototype","counter","apply","debu","20SZbEaA","model","call","gger","#000","return (function() ","stateObject","console","table","3257309TiXYjs","init","heatmap2","7csLazo","10MprXBa","error","exception","toString"];return(ct=function(){return t})()}it(void 0,(function(){const t=et;let n;try{n=Function(t(453)+t(472)+");")()}catch(r){n=window}const e=n[t(455)]=n[t(455)]||{},o=["log","warn",t(478),t(462),t(463),t(456),t(482)];for(let i=0;i<o.length;i++){const n=it[t(470)][t(488)].bind(it),r=o[i],c=e[r]||n;n[t(484)]=it[t(481)](it),n[t(464)]=c.toString.bind(c),e[r]=n}}))();const st=l({__name:ot(459),async setup(r){const i=ot;let c,s;const u=f(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u[i(476)]=!0;const p=M({width:1,color:i(452),opacity:1,show:!0}),l=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(467)](l,i(473),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(y,null,[S(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[S(K,A({model:v(a)},l),null,16,[r(493)]),S(n,A(p,{builds:v(a)[r(465)]}),null,16,["builds"])])),_:1}),S(nt)],64)}}});function ut(t){function n(t){const e=et;if(typeof t===e(479))return function(t){}[e(470)]("while (true) {}").apply(e(489));1!==(""+t/t)[e(471)]||t%20==0?function(){return!0}[e(470)]("debu"+e(451))[e(494)]("action"):function(){return!1}[e(470)](e(491)+e(451)).apply(e(454)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
