import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.GCV-1VTd1743149128717.js";import{a2 as i,_ as s,a$ as a,ct as c}from"./three.hBhj0ayh1743149128717.js";import{P as l}from"./tweakpane.ivGeiIdz1743149128717.js";import{L as u}from"./three-subdivide.Frg5D5eG1743149128717.js";import{d as f,b as p,a2 as d,w as g,o as m,H as h,N as v,aj as y,ak as b,a3 as w,r as _,e as I,f as M,g as x,j as B,u as T,m as j,M as S}from"./@vue.L-brCdZe1743149128717.js";import"./postprocessing.JYKQQ2FM1743149128717.js";import"./@vueuse.K3OHOx4F1743149128717.js";const k=R;!function(n,t){const e=R,o=P();for(;;)try{if(541956===parseInt(e(490))/1+parseInt(e(513))/2+-parseInt(e(541))/3*(-parseInt(e(536))/4)+-parseInt(e(511))/5+-parseInt(e(501))/6+-parseInt(e(515))/7*(-parseInt(e(498))/8)+-parseInt(e(538))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){C(this,(function(){const n=R,t=new RegExp(n(533)),e=new RegExp(n(496),"i"),o=N("init");t[n(535)](o+n(532))&&e[n(535)](o+"input")?N():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[R(518)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=R;let t;try{t=Function("return (function() "+n(509)+");")()}catch(r){t=window}const e=t.console=t[n(531)]||{},o=[n(491),"warn",n(499),n(502),"exception",n(525),n(495)];for(let i=0;i<o[n(544)];i++){const t=A.constructor[n(516)][n(520)](A),r=o[i],s=e[r]||t;t[n(512)]=A[n(520)](A),t[n(528)]=s[n(528)][n(520)](s),e[r]=t}}))();const z=["scale"];function P(){const n=["10853433gYMqYP","clone","Vector3","669fFmszt","blending","side","length","color","geometry","709215lwYqeO","log","value","counter","attributes","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","AdditiveBlending","64GIREch","info","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","303288HiPgxT","error","#ffff00","srcMesh","subVectors","glowColor","material","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",'{}.constructor("return this")( )',"TSGref","1278760KPslRv","__proto__","769334CoNyft","Color","797930vzpCTq","prototype","copy","apply","modify","bind","string","viewVector","call","while (true) {}","table","gger","scale","toString","subdivision","debu","console","chain","function *\\( *\\)","position","test","868cJPBDb","uniforms"];return(P=function(){return n})()}function R(n,t){const e=P();return R=function(n,t){return e[n-=490]},R(n,t)}const G=f({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:k(503)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i},blending:{default:s[k(497)]}},setup(e){const o=k,r=e,i=p(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(s[o(514)])(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(500),fragmentShader:o(508),side:r[o(543)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(542)]};d((()=>{const n=o;if(r[n(504)]&&i[n(492)]&&!i[n(492)].geometry[n(494)].position){let t=r[n(504)][n(546)][n(539)]();r[n(529)]&&(t=u.modify(t,2)),i[n(492)][n(546)]=t,i.value.position[n(517)](r.srcMesh[n(534)])}r[n(545)]&&(a[n(537)][n(506)][n(492)]=new(s[n(514)])(r[n(545)])),r.c&&(a.uniforms.c[n(492)]=r.c),r.p&&(a[n(537)].p[n(492)]=r.p)})),g((()=>r[o(529)]),(n=>{const t=o;let e=r[t(504)][t(546)][t(539)]();n&&(e=u[t(519)](e,2)),i[t(492)][t(546)]=e})),g((()=>r.side),(n=>{const t=o;i[t(492)][t(507)].side=n})),g((()=>r.blending),(n=>{const t=o;i.value[t(507)][t(542)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=o;l[n(492)]&&i[n(492)]&&(a[n(537)][n(522)][n(492)]=(new(s[n(540)]))[n(505)](l[n(492)].position,i[n(492)].position))})),(n,t)=>{const e=o;return m(),h("TresMesh",{ref_key:e(510),ref:i,scale:r[e(527)]},[v("TresShaderMaterial",y(b(a)),null,16)],8,z)}}});function N(n){function t(n){const e=R;if(typeof n===e(521))return function(n){}.constructor(e(524))[e(518)](e(493));1!==(""+n/n)[e(544)]||n%20==0?function(){return!0}.constructor(e(530)+e(526))[e(523)]("action"):function(){return!1}.constructor(e(530)+e(526))[e(518)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const F=E;function J(){const n=["TresSphereGeometry","9yJxtQM","1qWdgps","scale","string","58625105cPJJIX","__proto__","TreBoxRef","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresBoxGeometry","1190760GbGGBa","addBinding","logo.png","console","while (true) {}","TresMesh","value","1714055CfpCgm","2762554DaZJlY","input","chain","TresMeshBasicMaterial","FrontSide","info","function *\\( *\\)","BackSide","side","warn","debu","DoubleSide","length","map","gger","test","call","instance","22312omqoJp","constructor","return (function() ","shader","19409300FmUNAX","toString","exception","#0ff",'{}.constructor("return this")( )',"error","TresMeshRefA","AdditiveBlending","color","table","#222","srcMesh","prototype","TresAmbientLight","#00dfff","init","3753294pIvsJt","2744pLgPoU","16bmkdlK","bind","trace"];return(J=function(){return n})()}!function(n,t){const e=E,o=J();for(;;)try{if(992374===parseInt(e(242))/1*(-parseInt(e(258))/2)+parseInt(e(235))/3+-parseInt(e(237))/4*(parseInt(e(257))/5)+parseInt(e(250))/6+-parseInt(e(236))/7*(parseInt(e(276))/8)+parseInt(e(241))/9*(-parseInt(e(280))/10)+parseInt(e(245))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(n,t){const e=J();return E=function(n,t){return e[n-=230]},E(n,t)}!function(){V(this,(function(){const n=E,t=new RegExp(n(264)),e=new RegExp(n(248),"i"),o=L(n(234));t[n(273)](o+n(260))&&e[n(273)](o+n(259))?L():o("0")}))()}();const q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();q(void 0,(function(){const n=E;let t;try{t=Function(n(278)+n(284)+");")()}catch(r){t=window}const e=t[n(253)]=t[n(253)]||{},o=["log",n(267),n(263),n(285),n(282),n(289),n(239)];for(let i=0;i<o[n(270)];i++){const t=q[n(277)][n(231)][n(238)](q),r=o[i],s=e[r]||t;t[n(246)]=q[n(238)](q),t[n(281)]=s[n(281)].bind(s),e[r]=t}}))();const Z=[F(271)],$=[F(271)],D=f({__name:F(279),async setup(n){const t=F;let u,f;const d={clearColor:t(290)},g=p(),h=p(),y=p(),b=([u,f]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(252)]))),u=await u,f(),u),k=_({scale:1.6,color:t(233),subdivision:!0,c:1.1,p:1.4,side:i,blending:a}),C=new l({title:"参数",expanded:!0});return C[t(251)](k,t(288),{label:"颜色"}),C[t(251)](k,t(243),{label:"大小",min:1,max:3,step:.2}),C.addBinding(k,"subdivision",{label:"边缘处理"}),C[t(251)](k,"c",{label:"c",min:0,max:2,step:.1}),C[t(251)](k,"p",{label:"p",min:0,max:8,step:.2}),C.addBinding(k,t(266),{options:{FrontSide:s[t(262)],BackSide:s[t(265)],DoubleSide:s[t(269)]}}),C.addBinding(k,"blending",{options:{AdditiveBlending:s[t(287)],NormalBlending:c}}),(n,r)=>{const i=t,s=I("TresCanvas");return m(),M(s,j(d,{"window-size":""}),{default:x((()=>[r[2]||(r[2]=v("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),r[3]||(r[3]=v(i(232),{intensity:1},null,-1)),B(T(e)),r[4]||(r[4]=v("TresGridHelper",{args:[10,10]},null,-1)),v(i(255),{ref_key:i(286),ref:g,position:[-2,1,0]},[r[0]||(r[0]=v(i(240),{args:[1,32,16]},null,-1)),v("TresMeshBasicMaterial",{map:T(b)[0]},null,8,Z)],512),B(G,j({srcMesh:g[i(256)]},k),null,16,[i(230)]),B(T(o),{ref_key:i(247),ref:y,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v(i(261),{map:T(b)[1]},null,8,$)])),_:1},512),y[i(256)]&&y[i(256)][i(275)]?(m(),M(G,j({key:0,srcMesh:y[i(256)].instance},k),null,16,[i(230)])):S("",!0),v(i(255),{ref_key:"TresMeshRefB",ref:h,position:[0,1,-2]},r[1]||(r[1]=[v(i(249),{args:[1,1,1,1,1]},null,-1),v(i(261),{color:i(283)},null,-1)]),512),B(G,j({srcMesh:h.value},k),null,16,[i(230)])])),_:1},16)}}});function L(n){function t(n){const e=E;if(typeof n===e(244))return function(n){}[e(277)](e(254)).apply("counter");1!==(""+n/n)[e(270)]||n%20==0?function(){return!0}.constructor(e(268)+"gger")[e(274)]("action"):function(){return!1}[e(277)](e(268)+e(272)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{D as default};
