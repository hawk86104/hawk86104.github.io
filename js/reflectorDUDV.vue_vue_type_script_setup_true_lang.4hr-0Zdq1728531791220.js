import{c0 as t,a3 as n,s as e,t as r}from"./three.QbUqWzuy1728531791220.js";import{z as o}from"./@tresjs.TFxw2EXb1728531791220.js";import{R as s,b as i}from"./all.three.ECVMrAY71728531791220.js";import{d as c,a4 as a,a3 as u,w as f,o as l,E as p,L as d,u as h}from"./@vue.bvMz0l_u1728531791220.js";const g=v;!function(t,n){const e=v,r=w();for(;;)try{if(294876===parseInt(e(454))/1+parseInt(e(465))/2*(parseInt(e(463))/3)+parseInt(e(430))/4+parseInt(e(478))/5+parseInt(e(452))/6*(parseInt(e(441))/7)+-parseInt(e(447))/8*(parseInt(e(455))/9)+-parseInt(e(482))/10*(parseInt(e(470))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(428)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=v,n=new RegExp(t(467)),e=new RegExp(t(471),"i"),r=_("init");n[t(435)](r+t(472))&&e[t(435)](r+t(433))?_():r("0")}))()}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(428)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function v(t,n){const e=w();return(v=function(t,n){return e[t-=422]})(t,n)}function w(){const t=["update",'{}.constructor("return this")( )',"7AcjIQW","mapUrl","size","table","exception","log","1648HklnEZ","tReflect","stateObject","info","console","2123622ookCNJ","rotation","314011LVIWdX","22212IQADDY","visible","uReflectivity","tReflectBlur","forEach","toString","counter","prototype","5325FZBoPb","string","596cRuhMg","call","function *\\( *\\)","onBeforeRender","constructor","37532gvKCfP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","trace","add","uMatrix","primitive","bind","728365PgcgHI","reflectorDUDV","texture","action","1670BKJDrx","debu","showGridHelper","length","repeat","value","gger","TresGroup","wrapS","wrapT","__proto__","apply","isMesh","122068jqFtdp","renderTargetUniform","object","input","warn","test","uniforms","ignoreObjects","return (function() "];return(w=function(){return t})()}b(void 0,(function(){const t=v;let n;try{n=Function(t(438)+t(440)+");")()}catch(o){n=window}const e=n.console=n[t(451)]||{},r=[t(446),t(434),t(450),"error",t(445),t(444),t(473)];for(let s=0;s<r[t(485)];s++){const n=b[t(469)][t(462)].bind(b),o=r[s],i=e[o]||n;n[t(427)]=b.bind(b),n.toString=i[t(460)][t(477)](i),e[o]=n}}))();const y=["scale"],I=[g(432)],j=[g(432)],x=c({__name:g(479),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:m}){const b=g;let v,w;const x=c,_=new s,R=new t(x[b(443)][0]-.5,x[b(443)][1]);R[b(456)]=x[b(484)];const{map:M}=([v,w]=a((()=>o({map:x[b(442)]}))),v=await v,w(),v);M[b(425)]=n,M[b(426)]=n,M[b(486)].set(6,3);const E=new i({map:M,reflectivity:x.reflectivity});E[b(436)][b(448)]={value:_.renderTarget[b(480)]},E[b(436)][b(458)]=_[b(431)],E.uniforms[b(475)]=_.textureMatrixUniform;const z=new e(new r(x[b(443)][0],x[b(443)][1]),E);return z[b(453)].x=-Math.PI/2,z[b(474)](_),z[b(468)]=(t,n,e)=>{const r=b;z[r(456)]=!1,x[r(437)].forEach((t=>{const n=r;t[n(429)]&&(t[n(456)]=!1),t[n(422)]&&t[n(422)][n(429)]&&(t[n(422)][n(456)]=!1)})),_[r(439)](t,n,e),x[r(437)][r(459)]((t=>{const n=r;t.isMesh&&(t[n(456)]=!0),t[n(422)]&&t[n(422)].isMesh&&(t[n(422)][n(456)]=!0)})),z.visible=!0},u((()=>{const t=b;x.reflectivity&&(E[t(436)][t(457)][t(422)]=x.reflectivity)})),f((()=>x[b(484)]),(t=>{R.visible=t})),m({reflector:_}),(t,n)=>{const e=b;return l(),p(e(424),{scale:x.scale},[d(e(476),{object:h(z),"position-y":-.01},null,8,I),d("primitive",{object:h(R)},null,8,j)],8,y)}}});function _(t){function n(t){const e=v;if(typeof t===e(464))return function(t){}[e(469)]("while (true) {}")[e(428)](e(461));1!==(""+t/t).length||t%20==0?function(){return!0}[e(469)]("debu"+e(423))[e(466)](e(481)):function(){return!1}.constructor(e(483)+e(423)).apply(e(449)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
