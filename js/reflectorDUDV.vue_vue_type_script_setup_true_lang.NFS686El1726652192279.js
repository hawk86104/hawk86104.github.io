import{b$ as t,a3 as e,s as n,t as r}from"./three.3esZ7Hzr1726652192279.js";import{z as o}from"./@tresjs.UGbbWZf51726652192279.js";import{R as s,b as i}from"./all.three.Z5c_QtDp1726652192279.js";import{d as c,a4 as u,a3 as a,w as f,o as l,E as p,L as d,u as h}from"./@vue.JNsx1iN61726652192279.js";const b=x;!function(t,e){const n=x,r=j();for(;;)try{if(825122===parseInt(n(366))/1*(-parseInt(n(354))/2)+parseInt(n(391))/3*(-parseInt(n(380))/4)+parseInt(n(400))/5+-parseInt(n(396))/6*(parseInt(n(365))/7)+-parseInt(n(381))/8*(-parseInt(n(368))/9)+-parseInt(n(399))/10+parseInt(n(357))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[x(386)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=x,e=new RegExp(t(351)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=R(t(384));e[t(408)](r+t(404))&&n[t(408)](r+"input")?R():r("0")}))()}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[x(386)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function j(){const t=["wrapT","trace","rotation","9XctwCM","TresGroup","constructor","debu","gger","275046GkjYUI","warn","action","9400410cAyeDl","6213925xgHynA","add","showGridHelper","uMatrix","chain","onBeforeRender","string","error","test","visible","repeat","value","call","function *\\( *\\)","update","reflectorDUDV","6KFMQEh","tReflectBlur","exception","26384589YXjjOm","size","uniforms","renderTargetUniform","ignoreObjects","while (true) {}","tReflect","forEach","28xFisfh","537445QSXsEh","length","63TdRxXY","reflectivity","info","table","primitive","wrapS","toString","prototype","object","log","renderTarget","set","1211076uOkzxG","946040rsPeWR","scale","return (function() ","init","isMesh","apply","console"];return(j=function(){return t})()}w(void 0,(function(){const t=x,e=function(){const t=x;let e;try{e=Function(t(383)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(387)]=e[t(387)]||{},r=[t(377),t(397),t(370),t(407),t(356),t(371),t(389)];for(let o=0;o<r[t(367)];o++){const e=w[t(393)][t(375)].bind(w),s=r[o],i=n[s]||e;e.__proto__=w.bind(w),e[t(374)]=i[t(374)].bind(i),n[s]=e}}))();const g=["scale"],v=[b(376)],y=["object"];function x(t,e){const n=j();return(x=function(t,e){return n[t-=349]})(t,e)}const I=c({__name:b(353),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:m}){const w=b;let j,x;const I=c,R=new s,_=new t(I.size[0]-.5,I.size[1]);_[w(409)]=I[w(402)];const{map:z}=([j,x]=u((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),j=await j,x(),j);z[w(373)]=e,z[w(388)]=e,z[w(410)][w(379)](6,3);const E=new i({map:z,reflectivity:I.reflectivity});E.uniforms[w(363)]={value:R[w(378)].texture},E[w(359)][w(355)]=R[w(360)],E[w(359)][w(403)]=R.textureMatrixUniform;const M=new n(new r(I[w(358)][0],I[w(358)][1]),E);return M[w(390)].x=-Math.PI/2,M[w(401)](R),M[w(405)]=(t,e,n)=>{const r=w;M.visible=!1,I[r(361)][r(364)]((t=>{const e=r;t[e(385)]&&(t.visible=!1),t[e(349)]&&t[e(349)][e(385)]&&(t[e(349)][e(409)]=!1)})),R[r(352)](t,e,n),I.ignoreObjects[r(364)]((t=>{const e=r;t[e(385)]&&(t[e(409)]=!0),t.value&&t[e(349)][e(385)]&&(t[e(349)][e(409)]=!0)})),M.visible=!0},a((()=>{const t=w;I.reflectivity&&(E[t(359)].uReflectivity[t(349)]=I[t(369)])})),f((()=>I[w(402)]),(t=>{_[w(409)]=t})),m({reflector:R}),(t,e)=>{const n=w;return l(),p(n(392),{scale:I[n(382)]},[d(n(372),{object:h(M),"position-y":-.01},null,8,v),d(n(372),{object:h(_)},null,8,y)],8,g)}}});function R(t){function e(t){const n=x;if(typeof t===n(406))return function(t){}.constructor(n(362))[n(386)]("counter");1!==(""+t/t)[n(367)]||t%20==0?function(){return!0}[n(393)](n(394)+n(395))[n(350)](n(398)):function(){return!1}[n(393)]("debu"+n(395))[n(386)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
