import{_ as t,d as e,ck as i,bT as n,k as s,V as o,h as r,B as a,C as c}from"./three.5octV-9b1728467445434.js";const h=d;!function(t,e){const i=d,n=f();for(;;)try{if(503855===-parseInt(i(648))/1+parseInt(i(639))/2+parseInt(i(670))/3+parseInt(i(919))/4+parseInt(i(914))/5+-parseInt(i(606))/6*(parseInt(i(517))/7)+-parseInt(i(490))/8)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[d(737)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){l(this,(function(){const t=d,e=new RegExp(t(842)),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=g(t(573));e.test(n+t(821))&&i.test(n+t(636))?g():n("0")}))()}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[d(737)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function f(){const t=["acceleration","_randomise","particles, can support only","randomVector3OnSphere","depthWrite","bufferUpdateRanges","_assignPositionValue","hasPerspective","bind","   c -= vec3( 1.0 );","_createBufferAttribute","sqrt","opacity","#ifdef SHOULD_CALCULATE_SPRITE","3079505SzuUwx","hasOwnProperty","        float rowNorm = vSpriteSheet.w;","return (function() ","setVec4Components","3936600MPrWll","       float s = sin(angle);","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","triggerPoolEmitter","        float totalFrames = textureAnimation.z;","_assignAbsLifetimeValue","multiplyScalar","attribute vec4 angle;","transparent","tick","   }","   vec3 c = vec3( 0.0 );","    #ifdef COLORIZE","      rotationMatrix = getRotationMatrix( axis, angle );","attribute vec4 color;","colorize","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","Vector3","SHOULD_ROTATE_TEXTURE","   return params.w;","   return c;","SPE.Group pool ran out.","loop","      vec3 axis = unpackRotationAxis( rotation.x );","8862464CoQISf","arrayValuesAreEqual","rotationFunctions","updateMin","_checkParticleAges","Emitter does not exist in this group. Will not remove.","   c.r = r / PACKED_COLOR_DIVISOR;","_spreadClamp","forceFetchingFunctions","axis","    highp float positionInTime = (age / maxAge);","   return params.z;","velocity","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","      vec3 translated;","paramsArray","   c *= vec3( 2.0 );","    highp float age = getAge();","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","MathUtils","uniforms","keys","spread","geometry","    force *= drag;","uniform sampler2D tex;","gger","70819YSvjWM","    pos += force;","fragment","setRGB","Emitter already exists in this group. Will not add again.","        float columnNorm = column / framesX;","generateUUID","grow","mesh","getHex","material","      float angle = 0.0;","    gl_Position = projectionMatrix * mvPosition;","ShaderChunk","ensureArrayInstanceOf","normalize","_updateAttributeUpdateRange","attribute vec3 velocity;","    #ifdef SHOULD_ROTATE_PARTICLES","isStatic","drag","OBJECT","        vSpriteSheet.x = 1.0 / framesX;","       vec3 c = isAlive * getColorOverLifetime(","_updateBuffers","disable","Texture","       vec3 c = vec3(1.0);","_ensureTypedArray","age","unpackRotationAxis","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","spe","_poolCreationSettings","attribute vec4 opacity;","textureLoop","center","_updateDefines","onParticleSpawn","random","componentSize","       float c = cos( -vAngle );","resetFlags","randomDirectionVector3OnSphere","resetDynamic","updateRange","    highp float maxAge = getMaxAge();","randomColorAsHex","setVec4","BOX","debu","__proto__","types","SPHERE","array","init","TypedArrayHelper",'{}.constructor("return this")( )',"Vector2","float when_lt(float x, float y) {","join","DISC","angleSpread","addEmitter","vec3 getAcceleration( in float age ) {","getLength","float when_gt(float x, float y) {","ensureArrayTypedArg","valueOverLifetimeLength","floor","textureFrames","value","_assignAngleValue","alphaTest","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","_radiusScale","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","dispose","    float pointSizePerspective = pointSize * perspective;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","Points","        vSpriteSheet.w = rowNorm;","Vector4","subarray","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","        float column = floor(mod( frameNumber, framesX ));","size","activationIndex","186NCNJkD","addPool","randomVector3OnDisc","Argument is not instanceof SPE.Emitter:","activeParticleCount","paramFetchingFunctions","   return modelViewMatrix * vec4( position, 1.0 );","defineProperty","   return acceleration.xyz * age;","warn","        float perspective = 1.0;","    return min(a + b, 1.0);","_axisSpread","_spread","boolean","radius","Will not resize.","emitterIDs","    return value;","setFromArray","           positionInTime,","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","sin","vec3 unpackRotationAxis( in float hex ) {","   float b = mod( hex, PACKED_COLOR_SIZE );","BufferAttribute","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","        float framesX = vSpriteSheet.x;","_createNewWhenPoolEmpty","    force += vel;","input","uniform float runTime;","type","639466vXCCKA","    #endif","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","        float wiggleCos = isAlive * cos( wiggleAmount );","logdepthbuf_vertex","_assignColorValue","enable","_value","_updateUniforms","489089ZdMGNz","cos","max","branchAvoidanceFunctions","attribute vec4 acceleration;","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","setSize","_triggerSingleEmitter","interpolateArray","usage","min","    float fIndex = 0.0;","randomise","removeEmitter","_attributesNeedRefresh","shrink","NEGATIVE_INFINITY","       float c = cos(angle);","_incrementParticleCount","function","setVec3","      vec3 center = rotationCenter;","1483785jBqfGw","        float framesY = vSpriteSheet.y;","round","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","string","rotation","elements","prototype","    vec3 outgoingLight = vColor.xyz;","ensureTypedArg","updateFlags","releaseIntoPool","_distributionClamp","_setBufferUpdateRanges","log","remove","_angleSpread","varying vec4 vColor;","varyings","_assignValue","    vec3 vel = getVelocity( age );","    return a * b;","setVec2","TypedArrayConstructor","SHOULD_WIGGLE_PARTICLES","resetUpdateRange","depthTest","distributionClamp","    #ifdef SHOULD_WIGGLE_PARTICLES","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","getFromPool","        float rowNorm = row / framesY;","deltaTime","_assignForceValue","Emitter","       if ( vColor.w < float(ALPHATEST) ) discard;","fog_fragment","       axis = normalize(axis);","_applyAttributesToGeometry","       );","Invalid argument types, or argument types do not match:","fog","getValueAtIndex","itemSize","distributions","splice","    ","float when_eq( float x, float y ) {","spreadClamp","ShaderMaterial","isArray","    #else","_assignRotationValue","logdepthbuf_pars_fragment","uniform vec4 textureAnimation;","ShaderAttribute","push","SHOULD_ROTATE_PARTICLES","fog_vertex","_radius","rotationCenter","attributeCount","flagUpdate","color","position","clamp","_activateParticles","apply","uuid","number","randomDirectionVector3OnDisc","roundToNearestMultiple","attributes","activeMultiplier","offset","indexOffset","texture","setVec3Components","reset","setDrawRange","BOOLEAN","#endif","toString","attributeEnd","_pool","typedArray","while (true) {}","        pos.y += wiggleCos;","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","    vec3 pos = vec3( position );","updateCounts","POSITIVE_INFINITY","float getWiggle() {","_resetBufferRanges","count","void main() {","vertex","logdepthbuf_fragment","params","float when_ge(float x, float y) {","setVec2Components","_decrementParticleCount","Color","float getAge() {","exports","    #ifdef SHOULD_CALCULATE_SPRITE","alive","    #ifdef ALPHATEST","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","fixedTimeStep","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","           return pos;","fog_pars_vertex","setAttribute","shaderChunks","    #ifdef HAS_PERSPECTIVE","axisSpread","    vec4 rotatedTexture = texture2D( tex, vUv );","           unpackColor( color.w )","shaders","    float shouldApplyValue = 0.0;","       float x = gl_PointCoord.x - 0.5;","trace","direction","_assignParamsValue","       float s = sin( -vAngle );","duration","utils","_attributesNeedDynamicReset","NUMBER","rotateTexture","        float wiggleSin = isAlive * sin( wiggleAmount );","ceil","attribute vec4 params;","setUpdateRange","        float framesY = textureAnimation.y;","defines","Group","updateMax","unshift","frameCount","forceUpdateAll","add","abs","distribution","bufferAttribute","activationEnd","    #ifdef SHOULD_ROTATE_TEXTURE","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","clone","_onRemove","chain","error","uniform float scale;","    highp float isAlive = when_gt( alive, 0.0 );","particleCount","needsUpdate","wiggle","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","static","        pos = getRotation( pos, positionInTime );","        pos.z += wiggleSin;","_axis","`emitter` argument must be instance of SPE.Emitter. Was provided with:","#ifdef SHOULD_ROTATE_TEXTURE","randomVector3OnLine","Emitter already belongs to another group. Will not add to requested group.","attributeKeys","float or(float a, float b) {","randomFloat","   c.b = b / PACKED_COLOR_DIVISOR;","bufferUpdateKeys","function *\\( *\\)","radiusScale","vec3 getVelocity( in float age ) {","   return params.x;","undefined","maxParticleCount","#define PACKED_COLOR_DIVISOR 255.0","float and(float a, float b) {","uniform float deltaTime;","emitters","        float row = floor( (frameNumber - column) / framesX );","_distribution","logdepthbuf_pars_vertex","_calculatePPSValue","    highp float alive = getAlive();","copy","  return 1.0 - when_lt(x, y);","amd","stateObject","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","maxAge","unpackColor","common","angle","blending","ensureValueOverLifetimeCompliance","   c.g = g / PACKED_COLOR_DIVISOR;","attribute vec3 rotationCenter;","setMat3","typeSizeMap","   return velocity * age;","pop","           unpackColor( color.x ),","table","setNumber","Emitter does not belong to a group, cannot remove.","        float perspective = scale / length( mvPosition.xyz );","scale","AdditiveBlending","TypedArray is already of size:","lerp","updateMap","constructor","particlesPerSecond","        pos.x += wiggleSin;","dynamicBuffer","textureFrameCount","                   0.0,                                0.0,                                0.0,                                1.0);","ensureInstanceOf","StaticDrawUsage","length","attributeOffset","DynamicDrawUsage","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","group","           unpackColor( color.z ),","console","info"];return(f=function(){return t})()}u(void 0,(function(){const t=d;let e;try{e=Function(t(917)+t(575)+");")()}catch(s){e=window}const i=e[t(898)]=e.console||{},n=[t(684),t(615),"info","error","exception",t(875),t(792)];for(let o=0;o<n[t(892)];o++){const e=u.constructor.prototype[t(908)](u),s=n[o],r=i[s]||e;e[t(569)]=u.bind(u),e[t(752)]=r[t(752)][t(908)](r),i[s]=e}}))();const p={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function d(t,e){const i=f();return(d=function(t,e){return i[t-=474]})(t,e)}typeof define===h(667)&&define[h(859)]?define(h(550),p):"undefined"!=typeof exports&&typeof module!==h(846)&&(module[h(774)]=p),p[h(574)]=function(t,e,i,n){const s=h;this.componentSize=i||1,this[s(604)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(572)]=new t(e*this.componentSize),this.indexOffset=n||0},p[h(574)][h(884)]=p[h(574)],p.TypedArrayHelper[h(677)][h(654)]=function(t,e){const i=h,n=this[i(572)][i(892)];return!e&&(t*=this[i(558)]),t<n?this[i(663)](t):t>n?this[i(524)](t):void console[i(899)](i(881),t+".",i(622))},p[h(574)][h(677)][h(663)]=function(t){const e=h;return this.array=this[e(572)][e(601)](0,t),this[e(604)]=t,this},p[h(574)][h(677)][h(524)]=function(t){const e=h,i=this[e(572)],n=new(this[e(693)])(t);return n.set(i),this.array=n,this[e(604)]=t,this},p[h(574)].prototype[h(715)]=function(t,e){const i=h;t*=this[i(558)],e*=this[i(558)];const n=[],s=this.array,o=s[i(892)];for(let r=0;r<o;++r)(r<t||r>=e)&&n.push(s[r]);return this[i(625)](0,n),this},p[h(574)][h(677)][h(625)]=function(t,e){const i=h,n=t+e[i(892)];return n>this[i(572)][i(892)]?this[i(524)](n):n<this.array[i(892)]&&this[i(663)](n),this[i(572)].set(e,this[i(745)]+t),this},p.TypedArrayHelper[h(677)][h(692)]=function(t,e){return this[h(770)](t,e.x,e.y)},p[h(574)][h(677)][h(770)]=function(t,e,i){const n=h,s=this.array,o=this[n(745)]+t*this[n(558)];return s[o]=e,s[o+1]=i,this},p[h(574)][h(677)][h(668)]=function(t,e){return this[h(747)](t,e.x,e.y,e.z)},p.TypedArrayHelper[h(677)][h(747)]=function(t,e,i,n){const s=h,o=this.array,r=this[s(745)]+t*this[s(558)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},p[h(574)][h(677)][h(566)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},p.TypedArrayHelper.prototype[h(918)]=function(t,e,i,n,s){const o=h,r=this[o(572)],a=this[o(745)]+t*this[o(558)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},p[h(574)][h(677)][h(870)]=function(t,e){const i=h;return this[i(625)](this.indexOffset+t*this[i(558)],e[i(676)])},p.TypedArrayHelper[h(677)].setMat4=function(t,e){const i=h;return this[i(625)](this[i(745)]+t*this[i(558)],e[i(676)])},p[h(574)][h(677)].setColor=function(t,e){return this[h(747)](t,e.r,e.g,e.b)},p[h(574)].prototype[h(876)]=function(t,e){const i=h;return this.array[this[i(745)]+t*this.componentSize]=e,this},p.TypedArrayHelper.prototype[h(712)]=function(t){return this[h(572)][this.indexOffset+t]},p[h(574)][h(677)].getComponentValueAtIndex=function(t){const e=h;return this.array[e(601)](this[e(745)]+t*this[e(558)])},p[h(725)]=function(t,e,i){const n=h,s=p[n(725)][n(871)];this[n(638)]="string"==typeof t&&s.hasOwnProperty(t)?t:"f",this[n(558)]=s[this[n(638)]],this.arrayType=i||Float32Array,this[n(755)]=null,this[n(815)]=null,this[n(887)]=!!e,this.updateMin=0,this.updateMax=0},p[h(725)][h(884)]=p[h(725)],p.ShaderAttribute[h(871)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},p.ShaderAttribute[h(677)].setUpdateRange=function(t,e){const i=h;this[i(493)]=Math[i(658)](t*this.componentSize,this[i(493)]*this[i(558)]),this[i(808)]=Math[i(650)](e*this.componentSize,this[i(808)]*this[i(558)])},p[h(725)][h(677)][h(732)]=function(){const t=h,e=this[t(815)],i=e[t(563)];i[t(744)]=this[t(493)],i[t(764)]=Math[t(658)](this[t(808)]-this[t(493)]+this[t(558)],this[t(755)][t(572)][t(892)]),e[t(826)]=!0},p[h(725)][h(677)][h(695)]=function(){const t=h;this[t(493)]=0,this[t(808)]=0},p[h(725)][h(677)][h(562)]=function(){const e=h;this[e(815)][e(657)]=this.dynamicBuffer?t[e(894)]:t[e(891)]},p.ShaderAttribute[h(677)][h(715)]=function(t,e){const i=h;this[i(755)][i(715)](t,e),this.forceUpdateAll()},p[h(725)][h(677)][h(811)]=function(){const e=h;this[e(815)][e(572)]=this[e(755)][e(572)],this.bufferAttribute[e(563)][e(744)]=0,this[e(815)][e(563)].count=-1,this[e(815)].usage=t[e(891)],this[e(815)][e(826)]=!0},p[h(725)][h(677)]._ensureTypedArray=function(t){const e=h;null!==this.typedArray&&this[e(755)].size===t*this.componentSize||(null!==this.typedArray&&this[e(755)].size!==t?this[e(755)][e(654)](t):null===this[e(755)]&&(this[e(755)]=new(p[e(574)])(this.arrayType,t,this[e(558)])))},p[h(725)][h(677)][h(910)]=function(n){const s=h;if(this[s(545)](n),null!==this[s(815)])return this[s(815)][s(572)]=this[s(755)][s(572)],parseFloat(e)>=81&&(this[s(815)].count=this[s(815)][s(572)].length/this[s(815)][s(713)]),void(this.bufferAttribute[s(826)]=!0);this[s(815)]=new(t[s(631)])(this[s(755)].array,this[s(558)]),this.bufferAttribute[s(657)]=this[s(887)]?t[s(894)]:i},p[h(725)][h(677)][h(583)]=function(){const t=h;return null===this[t(755)]?0:this.typedArray[t(572)][t(892)]},p[h(784)]={defines:["#define PACKED_COLOR_SIZE 256.0",h(848)][h(578)]("\n"),uniforms:[h(850),h(637),h(515),h(724),h(823)][h(578)]("\n"),attributes:[h(652),h(534),"attribute vec4 rotation;",h(869),h(803),"attribute vec4 size;",h(926),h(480),h(552)][h(578)]("\n"),varyings:[h(687),h(834),"    varying float vAngle;",h(751),h(913),"    varying vec4 vSpriteSheet;","#endif"][h(578)]("\n"),branchAvoidanceFunctions:[h(584),"    return max(sign(x - y), 0.0);","}",h(577),h(895),"}",h(717),"    return 1.0 - abs( sign( x - y ) );","}",h(769),h(858),"}","float when_le(float x, float y) {","  return 1.0 - when_gt(x, y);","}",h(849),h(691),"}",h(838),h(617),"}"][h(578)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(594),h(630),"   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;",h(840),h(486),"}"][h(578)]("\n"),unpackRotationAxis:[h(629),h(477),h(641),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(630),h(496),h(868),h(840),h(506),h(909),"   return c;","}"].join("\n"),floatOverLifetime:[h(482),"    highp float value = 0.0;",h(503),h(659),h(790),"    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","",h(758),"       fIndex = float( i );",h(653),h(548),"    }","",h(624),"}"].join("\n"),colorOverLifetime:[h(549),"    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",h(828),"    return value;","}"][h(578)]("\n"),paramFetchingFunctions:["float getAlive() {",h(845),"}",h(773),"   return params.y;","}","float getMaxAge() {",h(501),"}",h(762),h(485),"}"].join("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",h(612),"}",h(844),h(872),"}",h(582),h(614),"}"][h(578)]("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES",h(921),h(707),h(920),h(665),"       float oc = 1.0 - c;","",h(673),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",h(632),h(889),"   }","","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","      if( rotation.y == 0.0 ) {",h(781),"      }","",h(489),h(669),h(504),"      mat4 rotationMatrix;",h(528),h(508),h(597),"      translated = rotationCenter - pos;",h(479),h(780),h(476),h(751)][h(578)]("\n"),rotateTexture:[h(818),"","    #ifdef SHOULD_ROTATE_TEXTURE",h(791),"       float y = 1.0 - gl_PointCoord.y - 0.5;",h(559),h(795),"       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );",h(640),"","    #ifdef SHOULD_CALCULATE_SPRITE",h(633),h(671),"        float columnNorm = vSpriteSheet.z;",h(916),"        vUv.x = gl_PointCoord.x * framesX + columnNorm;",h(778),"    #endif","",h(787)][h(578)]("\n")},p[h(789)]={vertex:[p[h(784)][h(806)],p[h(784)][h(510)],p[h(784)][h(742)],p[h(784)][h(688)],t[h(530)][h(864)],n[h(854)],t[h(530)][h(782)],p[h(784)][h(651)],p[h(784)][h(863)],p.shaderChunks[h(547)],p[h(784)].floatOverLifetime,p.shaderChunks.colorOverLifetime,p[h(784)][h(611)],p[h(784)][h(498)],p[h(784)][h(492)],h(765),h(507),h(856),h(564),h(500),h(824),"    #ifdef SHOULD_WIGGLE_PARTICLES","        float wiggleAmount = positionInTime * getWiggle();",h(801),h(642),h(640),h(690),"    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );",h(759),"    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;",h(635),h(514),"    force += accel * age;",h(518),h(698),h(886),h(757),h(831),"    #endif",h(535),h(830),h(640),h(602),h(627),h(785),h(878),h(721),h(616),h(640),h(596),h(478),h(540),h(626),h(874),"           unpackColor( color.y ),",h(897),h(788),h(709),h(721),h(544),h(640),h(699),"    vColor = vec4( c, o );",h(817),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    #endif",h(775),"        float framesX = textureAnimation.x;",h(805),"        float loopCount = textureAnimation.w;",h(923),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",h(603),h(852),h(522),h(701),h(539),"        vSpriteSheet.y = 1.0 / framesY;","        vSpriteSheet.z = columnNorm;",h(599),h(640),"    gl_PointSize = pointSizePerspective;",h(529),t[h(530)][h(643)],n[h(728)],"}"][h(578)]("\n"),fragment:[p.shaderChunks[h(510)],t[h(530)].common,t[h(530)].fog_pars_fragment,t[h(530)][h(723)],p.shaderChunks[h(688)],p[h(784)][h(651)],"void main() {",h(678),h(716),h(777),h(705),"    #endif",p.shaderChunks[h(800)],t[h(530)][h(767)],h(861),"    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",n[h(706)],"}"][h(578)]("\n")},p[h(797)]={types:{BOOLEAN:h(620),STRING:h(674),NUMBER:h(739),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=h;if(Array[n(720)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(679)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array[n(720)](t)){for(let s=t[n(892)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(890)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(720)](t._value)&&(t[n(646)]=[t[n(646)]]),!1===Array[n(720)](t._spread)&&(t._spread=[t[n(619)]]);const s=this[n(735)](t[n(646)][n(892)],e,i),o=this.clamp(t[n(619)][n(892)],e,i),r=Math[n(650)](s,o);t[n(646)][n(892)]!==r&&(t[n(646)]=this[n(656)](t[n(646)],r)),t[n(619)][n(892)]!==r&&(t[n(619)]=this.interpolateArray(t._spread,r))},interpolateArray(t,e){const i=h,n=t[i(892)],s=[typeof t[0].clone===i(667)?t[0][i(819)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(587)](e),a=Math[i(802)](e),c=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return s[i(726)](typeof t[n-1][i(819)]===i(667)?t[n-1].clone():t[n-1]),s},clamp:(t,e,i)=>Math[h(650)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(557)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const r=h;let a,c=this[r(570)];return typeof e===c[r(799)]&&typeof i===c[r(799)]?e+(i-e)*n:e instanceof s&&i instanceof s?(a=e[r(819)](),a.x=this[r(882)](e.x,i.x,n),a.y=this.lerp(e.y,i.y,n),a):e instanceof t[r(483)]&&i instanceof o?(a=e[r(819)](),a.x=this[r(882)](e.x,i.x,n),a.y=this[r(882)](e.y,i.y,n),a.z=this[r(882)](e.z,i.z,n),a):e instanceof t[r(600)]&&i instanceof t[r(600)]?(a=e.clone(),a.x=this[r(882)](e.x,i.x,n),a.y=this[r(882)](e.y,i.y,n),a.z=this[r(882)](e.z,i.z,n),a.w=this[r(882)](e.w,i.w,n),a):e instanceof t[r(772)]&&i instanceof t[r(772)]?(a=e[r(819)](),a.r=this.lerp(e.r,i.r,n),a.g=this.lerp(e.g,i.g,n),a.b=this[r(882)](e.b,i.b,n),a):void console[r(615)](r(710),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(813)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(892)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(557)]()-.5),randomVector3(t,e,i,n,s){const o=h;let r=i.x+(Math[o(557)]()*n.x-.5*n.x),a=i.y+(Math[o(557)]()*n.y-.5*n.y),c=i.z+(Math[o(557)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this.roundToNearestMultiple(r,s.x),a=.5*-s.y+this.roundToNearestMultiple(a,s.y),c=.5*-s.z+this[o(741)](c,s.z)),t[o(755)][o(747)](e,r,a,c)},randomColor(t,e,i,n){const s=h;let o=i.r+Math[s(557)]()*n.x,r=i.g+Math[s(557)]()*n.y,a=i.b+Math[s(557)]()*n.z;o=this[s(735)](o,0,1),r=this[s(735)](r,0,1),a=this[s(735)](a,0,1),t[s(755)][s(747)](e,o,r,a)},randomColorAsHex:function(){const e=h,i=new(t[e(772)]);return function(t,n,s,o){const r=e,a=s[r(892)],c=[];for(let e=0;e<a;++e){const t=o[e];i[r(857)](s[e]),i.r+=Math[r(557)]()*t.x-.5*t.x,i.g+=Math.random()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this[r(735)](i.r,0,1),i.g=this.clamp(i.g,0,1),i.b=this.clamp(i.b,0,1),c.push(i[r(526)]())}t[r(755)][r(918)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=h,o=i[s(819)]();o.lerp(n,Math[s(557)]()),t[s(755)][s(747)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=h;let l=2*Math[c(557)]()-1,u=6.2832*Math[c(557)](),f=Math[c(911)](1-l*l),p=this.randomFloat(n,s),d=0,m=0,g=0;r&&(p=Math[c(672)](p/r)*r),d=f*Math[c(649)](u)*p,m=f*Math[c(628)](u)*p,g=l*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(755)][c(747)](e,d,m,g)},seededRandom(t){const e=1e4*Math[h(628)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=h;let c=6.2832*Math[a(557)](),l=Math.abs(this[a(839)](n,s)),u=0,f=0,p=0;r&&(l=Math[a(672)](l/r)*r),u=Math[a(649)](c)*l,f=Math.sin(c)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[a(755)].setVec3Components(e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=h,i=new(t[e(483)]);return function(t,n,s,o,r,a,c,h){const l=e;i.copy(a),i.x-=s,i.y-=o,i.z-=r,i[l(532)]().multiplyScalar(-this[l(839)](c,h)),t[l(755)][l(747)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new o;return function(e,i,n,s,o,r,a,c){const h=d;t.copy(r),t.x-=n,t.y-=s,t.z-=o,t[h(532)]()[h(925)](-this.randomFloat(a,c)),e[h(755)][h(747)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=h,i=new(t[e(483)]),n=new(t[e(483)]),s=new(t[e(772)]),o=new(t[e(483)])(1,1,1);return function(t,r){const a=e;return i[a(857)](t)[a(532)](),n.copy(r)[a(532)](),i.x+=.5*-r.x+Math[a(557)]()*r.x,i.y+=.5*-r.y+Math[a(557)]()*r.y,i.z+=.5*-r.z+Math[a(557)]()*r.z,i[a(532)]()[a(812)](o)[a(925)](.5),s[a(520)](i.x,i.y,i.z),s.getHex()}}()},p[h(807)]=function(e){const i=h,n=p[i(797)],o=n[i(570)];(e=n.ensureTypedArg(e,o[i(538)],{}))[i(746)]=n.ensureTypedArg(e.texture,o[i(538)],{}),this.uuid=r[i(523)](),this[i(779)]=n[i(679)](e[i(779)],o[i(799)],.016),this[i(746)]=n.ensureInstanceOf(e[i(746)][i(589)],t[i(543)],null),this[i(588)]=n.ensureInstanceOf(e[i(746)].frames,s,new s(1,1)),this[i(888)]=n[i(679)](e[i(746)][i(810)],o[i(799)],this.textureFrames.x*this.textureFrames.y),this[i(553)]=n.ensureTypedArg(e[i(746)][i(488)],o[i(799)],1),this[i(588)][i(650)](new(t[i(576)])(1,1)),this[i(907)]=n[i(679)](e[i(907)],o.BOOLEAN,!0),this[i(481)]=n[i(679)](e.colorize,o.BOOLEAN,!0),this.maxParticleCount=n.ensureTypedArg(e[i(847)],o[i(799)],null),this[i(866)]=n[i(679)](e[i(866)],o[i(799)],t[i(880)]),this[i(474)]=n[i(679)](e[i(474)],o[i(750)],!0),this[i(591)]=parseFloat(n.ensureTypedArg(e[i(591)],o.NUMBER,0)),this.depthWrite=n[i(679)](e[i(904)],o.BOOLEAN,!1),this[i(696)]=n[i(679)](e.depthTest,o[i(750)],!0),this[i(711)]=n[i(679)](e[i(711)],o.BOOLEAN,!0),this[i(879)]=n[i(679)](e[i(879)],o[i(799)],300),this[i(851)]=[],this[i(623)]=[],this[i(754)]=[],this[i(551)]=null,this._createNewWhenPoolEmpty=0,this[i(662)]=!1,this._attributesNeedDynamicReset=!1,this[i(825)]=0,this.uniforms={tex:{type:"t",value:this[i(746)]},textureAnimation:{type:"v4",value:new(t[i(600)])(this[i(588)].x,this.textureFrames.y,this[i(888)],Math.max(Math[i(813)](this[i(553)]),1))},fogColor:{type:"c",value:this[i(711)]?new(t[i(772)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(879)]}},this[i(806)]={HAS_PERSPECTIVE:this[i(907)],COLORIZE:this[i(481)],VALUE_OVER_LIFETIME_LENGTH:p[i(586)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(588)].x>1||this.textureFrames.y>1},this.attributes={position:new(p[i(725)])("v3",!0),acceleration:new(p[i(725)])("v4",!0),velocity:new(p[i(725)])("v3",!0),rotation:new(p[i(725)])("v4",!0),rotationCenter:new p.ShaderAttribute("v3",!0),params:new(p[i(725)])("v4",!0),size:new(p[i(725)])("v4",!0),angle:new(p[i(725)])("v4",!0),color:new(p[i(725)])("v4",!0),opacity:new(p[i(725)])("v4",!0)},this[i(837)]=Object[i(511)](this[i(742)]),this[i(731)]=this[i(837)].length,this[i(527)]=new(t[i(719)])({uniforms:this[i(510)],vertexShader:p[i(789)][i(766)],fragmentShader:p[i(789)][i(519)],blending:this[i(866)],transparent:this[i(474)],alphaTest:this[i(591)],depthWrite:this.depthWrite,depthTest:this.depthTest,defines:this.defines,fog:this[i(711)]}),this[i(513)]=new a,this[i(525)]=new(t[i(598)])(this[i(513)],this[i(527)]),null===this[i(847)]&&console[i(615)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},p[h(807)][h(884)]=p.Group,p[h(807)].prototype._updateDefines=function(){const t=h;let e,i=this.emitters,n=i[t(892)]-1,s=this[t(806)];for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s[t(484)]=s[t(484)]||!!Math[t(650)](Math[t(650)][t(737)](null,e[t(865)][t(589)]),Math[t(650)][t(737)](null,e[t(865)].spread))),s[t(727)]=s.SHOULD_ROTATE_PARTICLES||!!Math[t(650)](e[t(675)].angle,e[t(675)][t(580)]),s.SHOULD_WIGGLE_PARTICLES=s[t(694)]||!!Math[t(650)](e[t(827)][t(589)],e[t(827)].spread);this[t(527)][t(826)]=!0},p[h(807)].prototype[h(708)]=function(){const t=h;let e,i,n=this.attributes,s=this[t(513)],o=s[t(742)];for(const r in n)n[t(915)](r)&&(e=n[r],i=o[r],i?i[t(572)]=e[t(755)][t(572)]:s[t(783)](r,e.bufferAttribute),e[t(815)][t(826)]=!0);this[t(513)][t(749)](0,this[t(825)])},p[h(807)][h(677)][h(581)]=function(t){const e=h;if(t instanceof p[e(704)]==!1)return void console[e(822)](e(833),t);if(this.emitterIDs.indexOf(t[e(738)])>-1)return void console[e(822)](e(521));if(null!==t[e(896)])return void console[e(822)](e(836));const i=this.attributes,n=this[e(825)],s=n+t.particleCount;this.particleCount=s,null!==this.maxParticleCount&&this.particleCount>this.maxParticleCount&&console.warn("SPE.Group: maxParticleCount exceeded. Requesting",this[e(825)],e(902),this.maxParticleCount),t[e(855)](t[e(862)][e(646)]+t[e(862)]._spread),t[e(683)](this.attributeKeys),t._setAttributeOffset(n),t.group=this,t[e(742)]=this.attributes;for(const o in i)i[e(915)](o)&&i[o][e(910)](null!==this[e(847)]?this[e(847)]:this[e(825)]);for(let o=n;o<s;++o)t[e(906)](o),t[e(703)](o,e(502)),t._assignForceValue(o,"acceleration"),t[e(924)](o,"opacity"),t[e(924)](o,e(604)),t[e(590)](o),t[e(722)](o),t._assignParamsValue(o),t[e(644)](o);return this[e(708)](),this[e(851)].push(t),this[e(623)][e(726)](t[e(738)]),this[e(555)](t),this[e(527)][e(826)]=!0,this[e(513)][e(826)]=!0,this[e(662)]=!0,this},p[h(807)][h(677)][h(661)]=function(t){const e=h,i=this.emitterIDs.indexOf(t[e(738)]);if(t instanceof p[e(704)]==!1)return void console[e(822)](e(833),t);if(-1===i)return void console[e(822)](e(495));const n=t[e(893)],s=n+t[e(825)],o=this[e(742)][e(768)][e(755)];for(let r=n;r<s;++r)o[e(572)][4*r]=0,o[e(572)][4*r+1]=0;this[e(851)][e(715)](i,1),this[e(623)][e(715)](i,1);for(const r in this[e(742)])this[e(742)][e(915)](r)&&this.attributes[r].splice(n,s);this.particleCount-=t[e(825)],t[e(820)](),this[e(662)]=!0},p.Group[h(677)][h(700)]=function(){const t=h,e=this[t(754)],i=this[t(634)];if(e.length)return e[t(873)]();if(i){const e=new(p[t(704)])(this[t(551)]);return this[t(581)](e),e}return null},p.Group.prototype[h(681)]=function(t){const e=h;if(t instanceof p[e(704)]!=!1)return t[e(748)](),this[e(754)][e(809)](t),this;console[e(822)](e(609),t)},p.Group[h(677)].getPool=function(){return this._pool},p[h(807)][h(677)][h(607)]=function(t,e,i){const n=h;let s;this[n(551)]=e,this._createNewWhenPoolEmpty=!!i;for(let o=0;o<t;++o)s=Array[n(720)](e)?new(p[n(704)])(e[o]):new(p[n(704)])(e),this[n(581)](s),this[n(681)](s);return this},p[h(807)][h(677)][h(655)]=function(e){const i=h,n=this[i(700)](),s=this;if(null!==n)return e instanceof t[i(483)]&&(n.position[i(589)][i(857)](e),n[i(734)][i(589)]=n[i(734)][i(589)]),n[i(645)](),setTimeout((()=>{n[i(542)](),s.releaseIntoPool(n)}),1e3*Math[i(650)](n[i(796)],n[i(862)].value+n[i(862)][i(512)])),this;console[i(684)](i(487))},p[h(807)][h(677)][h(922)]=function(t,e){const i=h;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(655)](e);else this[i(655)](e);return this},p[h(807)][h(677)][h(647)]=function(t){const e=h;this[e(510)].runTime.value+=t,this.uniforms[e(702)][e(589)]=t},p[h(807)][h(677)][h(763)]=function(){const t=h;let e=this.attributeKeys,i=this.attributeCount-1,n=this.attributes;for(;i>=0;--i)n[e[i]][t(695)]()},p.Group.prototype[h(541)]=function(t){const e=h;let i,n,s,o=this[e(837)],r=this[e(731)]-1,a=this.attributes,c=t[e(905)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(804)](n[e(658)],n[e(650)]),s[e(732)]()},p[h(807)][h(677)][h(475)]=function(t){const e=h;var i=this[e(851)],n=i[e(892)],s=t||this[e(779)],o=this[e(837)],r=this[e(742)];if(this[e(647)](s),this[e(763)](),0!==n||!1!==this[e(662)]||!1!==this[e(798)]){for(var a,c=0;c<n;++c)(a=i[c]).tick(s),this._updateBuffers(a);if(!0===this[e(798)]){for(c=this[e(731)]-1;c>=0;--c)r[o[c]][e(562)]();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(c=this[e(731)]-1;c>=0;--c)r[o[c]][e(811)]();this[e(662)]=!1,this[e(798)]=!0}}},p[h(807)][h(677)][h(595)]=function(){const t=h;return this[t(513)][t(595)](),this[t(527)][t(595)](),this},p[h(704)]=function(e){const i=h,n=p.utils,s=n[i(570)],r=p.valueOverLifetimeLength;(e=n[i(679)](e,s[i(538)],{}))[i(734)]=n[i(679)](e[i(734)],s[i(538)],{}),e[i(502)]=n.ensureTypedArg(e[i(502)],s.OBJECT,{}),e[i(900)]=n[i(679)](e.acceleration,s[i(538)],{}),e[i(621)]=n[i(679)](e.radius,s[i(538)],{}),e[i(537)]=n[i(679)](e.drag,s[i(538)],{}),e.rotation=n[i(679)](e[i(675)],s.OBJECT,{}),e[i(733)]=n.ensureTypedArg(e[i(733)],s[i(538)],{}),e.opacity=n[i(679)](e[i(912)],s[i(538)],{}),e.size=n.ensureTypedArg(e[i(604)],s.OBJECT,{}),e.angle=n[i(679)](e[i(865)],s.OBJECT,{}),e[i(827)]=n[i(679)](e.wiggle,s.OBJECT,{}),e.maxAge=n[i(679)](e.maxAge,s.OBJECT,{}),e[i(556)]&&console.warn(i(592)),this[i(738)]=t[i(509)].generateUUID(),this[i(638)]=n[i(679)](e[i(638)],s[i(799)],p[i(714)][i(567)]),this[i(734)]={_value:n[i(890)](e.position[i(589)],o,new(t[i(483)])),_spread:n[i(890)](e[i(734)][i(512)],o,new(t[i(483)])),_spreadClamp:n.ensureInstanceOf(e[i(734)][i(718)],t[i(483)],new o),_distribution:n[i(679)](e[i(734)][i(814)],s.NUMBER,this[i(638)]),_randomise:n[i(679)](e.position[i(660)],s[i(750)],!1),_radius:n[i(679)](e.position[i(621)],s[i(799)],10),_radiusScale:n[i(890)](e[i(734)][i(843)],t[i(483)],new(t[i(483)])(1,1,1)),_distributionClamp:n.ensureTypedArg(e[i(734)][i(697)],s[i(799)],0)},this[i(502)]={_value:n.ensureInstanceOf(e[i(502)][i(589)],t[i(483)],new(t[i(483)])),_spread:n[i(890)](e[i(502)].spread,o,new(t[i(483)])),_distribution:n[i(679)](e.velocity.distribution,s[i(799)],this[i(638)]),_randomise:n[i(679)](e[i(734)][i(660)],s[i(750)],!1)},this[i(900)]={_value:n[i(890)](e[i(900)][i(589)],t[i(483)],new(t[i(483)])),_spread:n[i(890)](e[i(900)][i(512)],t[i(483)],new o),_distribution:n[i(679)](e.acceleration[i(814)],s[i(799)],this[i(638)]),_randomise:n[i(679)](e.position.randomise,s[i(750)],!1)},this.drag={_value:n[i(679)](e[i(537)][i(589)],s.NUMBER,0),_spread:n[i(679)](e[i(537)].spread,s[i(799)],0),_randomise:n[i(679)](e.position.randomise,s[i(750)],!1)},this[i(827)]={_value:n[i(679)](e.wiggle.value,s[i(799)],0),_spread:n[i(679)](e.wiggle.spread,s[i(799)],0)},this[i(675)]={_axis:n[i(890)](e[i(675)][i(499)],t[i(483)],new(t[i(483)])(0,1,0)),_axisSpread:n[i(890)](e[i(675)][i(786)],t[i(483)],new(t[i(483)])),_angle:n[i(679)](e[i(675)].angle,s[i(799)],0),_angleSpread:n[i(679)](e.rotation.angleSpread,s[i(799)],0),_static:n[i(679)](e[i(675)][i(829)],s[i(750)],!1),_center:n[i(890)](e.rotation[i(554)],o,this[i(734)][i(646)][i(819)]()),_randomise:n[i(679)](e[i(734)][i(660)],s.BOOLEAN,!1)},this[i(862)]={_value:n[i(679)](e[i(862)][i(589)],s[i(799)],2),_spread:n[i(679)](e[i(862)][i(512)],s[i(799)],0)},this[i(733)]={_value:n.ensureArrayInstanceOf(e[i(733)][i(589)],c,new(t[i(772)])),_spread:n[i(531)](e[i(733)][i(512)],o,new(t[i(483)])),_randomise:n.ensureTypedArg(e[i(734)][i(660)],s[i(750)],!1)},this[i(912)]={_value:n[i(585)](e[i(912)][i(589)],s[i(799)],1),_spread:n[i(585)](e[i(912)][i(512)],s[i(799)],0),_randomise:n[i(679)](e[i(734)][i(660)],s[i(750)],!1)},this[i(604)]={_value:n[i(585)](e[i(604)][i(589)],s[i(799)],1),_spread:n[i(585)](e[i(604)].spread,s.NUMBER,0),_randomise:n[i(679)](e[i(734)][i(660)],s[i(750)],!1)},this.angle={_value:n[i(585)](e[i(865)][i(589)],s.NUMBER,0),_spread:n[i(585)](e[i(865)].spread,s[i(799)],0),_randomise:n.ensureTypedArg(e[i(734)][i(660)],s.BOOLEAN,!1)},this[i(825)]=n.ensureTypedArg(e[i(825)],s[i(799)],100),this[i(796)]=n[i(679)](e.duration,s[i(799)],null),this[i(536)]=n[i(679)](e.isStatic,s[i(750)],!1),this[i(743)]=n.ensureTypedArg(e[i(743)],s[i(799)],1),this[i(793)]=n[i(679)](e.direction,s[i(799)],1),this[i(776)]=n[i(679)](e[i(776)],s[i(750)],!0),this.particlesPerSecond=0,this[i(605)]=0,this[i(893)]=0,this[i(753)]=0,this[i(546)]=0,this[i(610)]=0,this[i(896)]=null,this[i(742)]=null,this[i(505)]=null,this[i(560)]={position:n[i(679)](e[i(734)][i(660)],s[i(750)],!1)||n.ensureTypedArg(e[i(621)][i(660)],s.BOOLEAN,!1),velocity:n[i(679)](e[i(502)][i(660)],s[i(750)],!1),acceleration:n[i(679)](e[i(900)].randomise,s[i(750)],!1)||n[i(679)](e[i(537)][i(660)],s[i(750)],!1),rotation:n[i(679)](e[i(675)].randomise,s[i(750)],!1),rotationCenter:n[i(679)](e[i(675)][i(660)],s[i(750)],!1),size:n[i(679)](e[i(604)][i(660)],s[i(750)],!1),color:n[i(679)](e.color[i(660)],s[i(750)],!1),opacity:n.ensureTypedArg(e[i(912)].randomise,s.BOOLEAN,!1),angle:n[i(679)](e[i(865)][i(660)],s[i(750)],!1)},this[i(680)]={},this[i(760)]={},this[i(883)]={maxAge:i(768),position:"position",velocity:i(502),acceleration:"acceleration",drag:i(900),wiggle:"params",rotation:i(675),size:i(604),color:i(733),opacity:i(912),angle:i(865)};for(const t in this[i(883)])this[i(883)].hasOwnProperty(t)&&(this[i(760)][this[i(883)][t]]=0,this[i(680)][this[i(883)][t]]=!1,this._createGetterSetters(this[t],t));this.bufferUpdateRanges={},this[i(837)]=null,this[i(731)]=0,n[i(867)](this[i(733)],r,r),n[i(867)](this.opacity,r,r),n.ensureValueOverLifetimeCompliance(this[i(604)],r,r),n.ensureValueOverLifetimeCompliance(this[i(865)],r,r)},p[h(704)][h(884)]=p[h(704)],p[h(704)][h(677)]._createGetterSetters=function(t,e){const i=h,n=this;for(const s in t)if(t[i(915)](s)){const o=s.replace("_","");Object[i(613)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=d,o=n[s(883)][e],r=this[t],a=p[s(586)];"_rotationCenter"===t?(n[s(680)][s(730)]=!0,n[s(760)][s(730)]=0):t===s(901)?n[s(560)][o]=i:(n.updateFlags[o]=!0,n[s(760)][o]=0),n[s(896)][s(555)](),this[t]=i,Array[s(720)](r)&&p[s(797)][s(867)](n[e],a,a)}}(s)})}},p[h(704)].prototype[h(683)]=function(t){const e=h;this[e(837)]=t,this[e(731)]=t.length;for(let i=this[e(731)]-1;i>=0;--i)this[e(905)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},p[h(704)][h(677)][h(855)]=function(t){const e=h,i=this[e(825)];this[e(796)]?this.particlesPerSecond=i/(t<this.duration?t:this[e(796)]):this[e(885)]=i/t},p[h(704)][h(677)]._setAttributeOffset=function(t){const e=h;this[e(893)]=t,this[e(605)]=t,this[e(816)]=t+this[e(825)]},p[h(704)][h(677)][h(689)]=function(t,e){const i=h;switch(t){case i(734):this[i(906)](e);break;case i(502):case i(900):this[i(703)](e,t);break;case i(604):case"opacity":this[i(924)](e,t);break;case i(865):this[i(590)](e);break;case i(768):this._assignParamsValue(e);break;case i(675):this[i(722)](e);break;case"color":this[i(644)](e)}},p[h(704)][h(677)]._assignPositionValue=function(t){const e=h,i=p[e(714)],n=p.utils,s=this.position,o=this.attributes[e(734)],r=s[e(646)],a=s[e(619)];switch(s[e(853)]){case i.BOX:n.randomVector3(o,t,r,a,s._spreadClamp);break;case i[e(571)]:n[e(903)](o,t,r,s[e(729)],s[e(619)].x,s[e(593)],s[e(497)].x,s[e(682)]||this.particleCount);break;case i[e(579)]:n[e(608)](o,t,r,s[e(729)],s[e(619)].x,s[e(593)],s[e(497)].x);break;case i.LINE:n[e(835)](o,t,r,a)}},p[h(704)][h(677)][h(703)]=function(t,e){const i=h;let n,s,o,r,a,c=p.distributions,l=p[i(797)],u=this[e],f=u[i(646)],d=u[i(619)];switch(u._distribution){case c[i(567)]:l.randomVector3(this[i(742)][e],t,f,d);break;case c[i(571)]:n=this[i(742)][i(734)].typedArray[i(572)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l[i(561)](this[i(742)][e],t,s,o,r,this[i(734)]._value,u[i(646)].x,u[i(619)].x);break;case c[i(579)]:n=this.attributes[i(734)][i(755)][i(572)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l[i(740)](this[i(742)][e],t,s,o,r,this[i(734)][i(646)],u[i(646)].x,u[i(619)].x);break;case c.LINE:l[i(835)](this[i(742)][e],t,f,d)}if(e===i(900)){const e=l[i(735)](l[i(839)](this[i(537)][i(646)],this[i(537)][i(619)]),0,1);this[i(742)][i(900)][i(755)][i(572)][4*t+3]=e}},p[h(704)][h(677)][h(924)]=function(t,e){const i=h;let n,s=this[i(742)][e][i(755)],o=this[e],r=p[i(797)];r[i(491)](o[i(646)])&&r[i(491)](o[i(619)])?(n=Math.abs(r[i(839)](o[i(646)][0],o[i(619)][0])),s[i(918)](t,n,n,n,n)):s[i(918)](t,Math[i(813)](r[i(839)](o[i(646)][0],o._spread[0])),Math[i(813)](r[i(839)](o._value[1],o._spread[1])),Math.abs(r[i(839)](o[i(646)][2],o[i(619)][2])),Math.abs(r[i(839)](o[i(646)][3],o[i(619)][3])))},p[h(704)][h(677)][h(590)]=function(t){const e=h;let i,n=this[e(742)].angle.typedArray,s=this.angle,o=p[e(797)];o.arrayValuesAreEqual(s._value)&&o.arrayValuesAreEqual(s[e(619)])?(i=o[e(839)](s._value[0],s[e(619)][0]),n[e(918)](t,i,i,i,i)):n.setVec4Components(t,o[e(839)](s[e(646)][0],s._spread[0]),o[e(839)](s[e(646)][1],s[e(619)][1]),o[e(839)](s[e(646)][2],s._spread[2]),o[e(839)](s._value[3],s[e(619)][3]))},p[h(704)][h(677)][h(794)]=function(t){const e=h;this[e(742)][e(768)][e(755)][e(918)](t,this.isStatic?1:0,0,Math[e(813)](p[e(797)][e(839)](this.maxAge[e(646)],this[e(862)][e(619)])),p[e(797)][e(839)](this[e(827)]._value,this[e(827)]._spread))},p[h(704)][h(677)][h(722)]=function(t){const e=h;this[e(742)][e(675)][e(755)][e(747)](t,p[e(797)].getPackedRotationAxis(this[e(675)][e(832)],this.rotation[e(618)]),p[e(797)][e(839)](this[e(675)]._angle,this[e(675)][e(686)]),this[e(675)]._static?0:1),this[e(742)][e(730)][e(755)][e(668)](t,this[e(675)]._center)},p[h(704)][h(677)][h(644)]=function(t){const e=h;p[e(797)][e(565)](this[e(742)][e(733)],t,this.color[e(646)],this[e(733)][e(619)])},p.Emitter[h(677)]._resetParticle=function(t){const e=h;let i,n,s=this[e(560)],o=this.updateFlags,r=this.updateCounts,a=this[e(837)];for(let c=this[e(731)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(689)](i,t),this[e(533)](i,t),!0===n&&r[i]===this[e(825)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},p.Emitter.prototype[h(533)]=function(t,e){const i=h,n=this.bufferUpdateRanges[t];n[i(658)]=Math.min(e,n.min),n[i(650)]=Math[i(650)](e,n[i(650)])},p[h(704)][h(677)][h(763)]=function(){const t=h;let e,i=this[t(905)],n=this[t(841)],s=this.bufferUpdateCount-1;for(;s>=0;--s)e=n[s],i[e][t(658)]=Number[t(761)],i[e][t(650)]=Number[t(664)]},p[h(704)][h(677)]._onRemove=function(){const t=h;this[t(885)]=0,this[t(893)]=0,this[t(605)]=0,this.activeParticleCount=0,this[t(896)]=null,this[t(742)]=null,this[t(505)]=null,this[t(546)]=0},p[h(704)].prototype[h(771)]=function(){--this[h(610)]},p[h(704)][h(677)][h(666)]=function(){++this[h(610)]},p[h(704)][h(677)][h(494)]=function(t,e,i,n){const s=h;for(var o,r,a,c,l=e-1;l>=t;--l)0!==(c=i[o=4*l])&&(a=i[o+1],r=i[o+2],1===this.direction?(a+=n)>=r&&(a=0,c=0,this[s(771)]()):(a-=n)<=0&&(a=r,c=0,this._decrementParticleCount()),i[o]=c,i[o+1]=a,this[s(533)](s(768),l))},p.Emitter[h(677)]._activateParticles=function(t,e,i,n){const s=h,o=this.direction;for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this.particleCount||(this._incrementParticleCount(),i[r]=1,this._resetParticle(c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(533)](s(768),c))},p[h(704)][h(677)][h(475)]=function(t){const e=h;if(this[e(536)])return;null===this[e(505)]&&(this[e(505)]=this[e(742)].params[e(755)][e(572)]);const i=this[e(893)],n=i+this[e(825)],s=this[e(505)],o=this[e(885)]*this.activeMultiplier*t,r=this[e(605)];if(this._resetBufferRanges(),this[e(494)](i,n,s,t),!1===this[e(776)])return void(this[e(546)]=0);if(null!==this[e(796)]&&this[e(546)]>this[e(796)])return this[e(776)]=!1,void(this[e(546)]=0);const a=1===this.particleCount?r:0|r,c=Math.min(a+o,this.activationEnd),l=c-this.activationIndex|0,u=l>0?t/l:0;this[e(736)](a,c,s,u),this[e(605)]+=o,this.activationIndex>n&&(this[e(605)]=i),this[e(546)]+=t},p.Emitter[h(677)][h(748)]=function(t){const e=h;if(this[e(546)]=0,this[e(776)]=!1,!0===t){const t=this[e(893)],s=t+this[e(825)],o=this[e(505)],r=this[e(742)][e(768)][e(815)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(744)]=0,r[e(563)].count=-1,r[e(826)]=!0}return this},p[h(704)][h(677)][h(645)]=function(){return this[h(776)]=!0,this},p[h(704)].prototype[h(542)]=function(){return this.alive=!1,this},p.Emitter[h(677)][h(685)]=function(){const t=h;return null!==this.group?this[t(896)][t(661)](this):console[t(822)](t(877)),this};const m=p;function g(t){function e(t){const i=d;if(typeof t===i(674))return function(t){}[i(884)](i(756)).apply("counter");1!==(""+t/t)[i(892)]||t%20==0?function(){return!0}[i(884)](i(568)+i(516)).call("action"):function(){return!1}[i(884)](i(568)+i(516))[i(737)](i(860)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
