import{m as s,e as a}from"./@tresjs.DDZ0vesk1744863032604.js";import{c as e}from"./@pmndrs.BOTG9HN71744863032604.js";import{d as r,v as o,w as t,a3 as i,H as l,o as u,J as d,M as n,u as p,F as c}from"./@vue.DK6ok9LJ1744863032604.js";import{V as f}from"./three.B0XaFSnH1744863032604.js";const m=["object"],y=["object"],b=r({__name:"index",props:{color:{default:"#ffffff"},ior:{default:1.1},backsideIOR:{default:1.1},far:{default:15},worldRadius:{default:.3},intensity:{default:.05},causticsOnly:{type:Boolean,default:!1},lightSource:{default:{x:1,y:1,z:1}},resolution:{default:1024}},setup(r){const b=r,{renderer:j}=s(),R=e(j.value,{frames:1/0,resolution:b.resolution,worldRadius:b.worldRadius});R.params.backside=!0;const w=o(null);t(w,(s=>{s&&R.scene.add(s)}));const{onBeforeLoop:O}=a();return O((({elapsed:s})=>{R.update()})),i((()=>{b.color&&R.params.color.set(b.color),b.ior&&(R.params.ior=b.ior),b.backsideIOR&&(R.params.backsideIOR=b.backsideIOR),b.far&&(R.params.far=b.far),b.worldRadius&&(R.params.worldRadius=b.worldRadius),b.intensity&&(R.params.intensity=b.intensity)})),t((()=>b.causticsOnly),(s=>{R.params.causticsOnly=s})),t((()=>b.lightSource),(s=>{s&&R.params.lightSource instanceof f&&R.params.lightSource.set(s.x,s.y,s.z)}),{deep:!0}),(s,a)=>(u(),l(c,null,[d("TresGroup",{ref_key:"group",ref:w},[n(s.$slots,"default")],512),d("primitive",{object:p(R).group,position:[0,.003,0]},null,8,m),d("primitive",{object:p(R).helper,visible:!1},null,8,y)],64))}});export{b as _};
