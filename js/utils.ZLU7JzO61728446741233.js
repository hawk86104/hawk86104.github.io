import{a as t,B as n,s as e,c0 as o,C as r,k as s,a0 as c}from"./three.GKtOCofD1728446741233.js";import{x as i}from"./@fesjs.tvRFRo261728446741233.js";import{z as a}from"./@tresjs.2zzrlbpQ1728446741233.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.1uNND2ZS1728446741233.js";!function(t,n){const e=h,o=g();for(;;)try{if(351786===parseInt(e(369))/1+parseInt(e(382))/2+parseInt(e(407))/3+-parseInt(e(395))/4+-parseInt(e(379))/5+-parseInt(e(437))/6+-parseInt(e(416))/7)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=h,n=new RegExp(t(434)),e=new RegExp(t(374),"i"),o=_(t(436));n[t(421)](o+t(381))&&e.test(o+t(388))?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(){const t=["setAttribute","copy","sub","deleteAttribute","1191771lFPEZJ","toString","log","expandByObject","while (true) {}","test","disposeBoundsTree","uniforms","catch","computeBoundingBox","applyMatrix4","setY","negate","getX","length","Vector3","push","set","function *\\( *\\)","Box3","init","1294398fOKzuf","get","computeBoundsTree","string","error","467195qHVHam","counter","prototype","trace","config","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","min","value","table","getCenter","2233525ReyyYG","random","chain","1010724DBUhux","count","warn","gger","position","attributes","input","material","stateObject","exception","features","getSize","#fff","1255556XrsNxv","boundingBox","raycast","then","__proto__","console","geometry","side","constructor","getY","depthTest","clone","1577427fdzSWc","max","depthWrite","divideScalar","forEach"];return(g=function(){return t})()}function h(t,n){const e=g();return(h=function(t,n){return e[t-=369]})(t,n)}m(void 0,(function(){const t=h;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(400)]=n[t(400)]||{},o=[t(418),t(384),"info","error",t(391),t(377),t(372)];for(let s=0;s<o[t(430)];s++){const n=m.constructor.prototype.bind(m),r=o[s],c=e[r]||n;n[t(399)]=m.bind(m),n[t(417)]=c[t(417)].bind(c),e[r]=n}}))();const d=(n,e=!1)=>{const o=h;n.computeBoundingBox();const{max:r,min:s}=n[o(396)];n[o(415)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(387)][o(386)][o(383)];t++)e?(a[o(432)]((n[o(387)][o(386)][o(429)](t)-(s.x+r.x)/2)/c),a[o(432)]((n[o(387)][o(386)][o(404)](t)-(s.y+r.y)/2)/i)):(a[o(432)]((n[o(387)][o(386)][o(429)](t)-s.x)/c),a[o(432)]((n[o(387)][o(386)][o(404)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=h;i(t,{},{method:r(438),mergeRequest:!0})[r(398)]((t=>{const o=r;n&&e(t[n]),e(t[o(392)])}))[r(424)]((t=>{console[r(441)](t),o(t)}))})),x=t=>{const n=h,e=(new(THREE[n(435)])).setFromObject(t),o=new(THREE[n(431)]);e[n(378)](o),t.children[n(411)]((t=>{const e=n;t[e(386)][e(414)](o)})),t[n(386)][n(413)](o.negate())},w=()=>{const t=h;n[t(371)][t(439)]=u,n[t(371)][t(422)]=f,e[t(371)][t(397)]=p},b=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(401)][n(406)]();d(i),i[n(439)]();const u=new o(i,{color:new r(n(394)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material.transparent=!0,u[n(389)][n(409)]=!0,u[n(389)][n(405)]=!0,u[n(389)][n(402)]=c,u[n(389)].uniforms[n(373)][n(376)].w=20,u[n(389)][n(423)].reflectivity[n(376)]=.46,u};function j(t){const n=h,e=[];for(let r=0;r<t[n(430)];r++)e[n(432)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(430)];r++)o.add(e[r]);o[n(410)](e[n(430)]);for(let r=0;r<e.length;r++)e[r][n(414)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=h;if(typeof t===e(440))return function(t){}.constructor(e(420)).apply(e(370));1!==(""+t/t).length||t%20==0?function(){return!0}[e(403)]("debu"+e(385)).call("action"):function(){return!1}[e(403)]("debu"+e(385)).apply(e(390)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,j as g,w as i,y as l,d as r,b as s};
