import{C as t,a7 as n,a6 as o,V as e,cw as r,ad as s}from"./three.6cxCQsIj1724511658098.js";import{P as i}from"./tweakpane.yHWGBmom1724511658098.js";import{_ as a}from"./@tweenjs.YWzLuvWF1724511658098.js";import{p as c,$ as u}from"./@tresjs.6SjGVF2a1724511658098.js";import{P as p,b as l,c as m,M as f,T as g,a as h,d}from"./index.8rYmKsnW1724511658098.js";import{d as j,a1 as b,w,o as y,D as v,u as x,X as _,r as I,e as M,j as B,g as z,f as C,al as S,m as k,F as R}from"./@vue.Q1VpS3901724511658098.js";import{_ as P}from"./raycasterEvent.2OWlLMEV1724511658098.js";import{a as A}from"./utils.W_N79ha21724511658098.js";import"./@vueuse.rsVLbIR91724511658098.js";import"./@mapbox.cAEngegX1724511658098.js";import"./@amap.T3VNXNvb1724511658098.js";import"./three-mesh-bvh.ePC05_bs1724511658098.js";import"./three-custom-shader-material.hzuMkh_s1724511658098.js";import"./object-hash.Ic9VzAZ81724511658098.js";import"./jszip.GTkatbFy1724511658098.js";import"./glsl-tokenizer.iUIReWhC1724511658098.js";import"./glsl-token-string._w0o_gSI1724511658098.js";import"./glsl-token-functions.OlCnqPaR1724511658098.js";import"./@fesjs.OLRUJJVs1724511658098.js";import"./vue-router.LcUeGvdC1724511658098.js";import"./lodash-es.nFpJXAf-1724511658098.js";import"./@qlin.yHhFDldE1724511658098.js";import"./pinia.NmL3PGxA1724511658098.js";import"./@floating-ui.BPbuo5Gx1724511658098.js";import"./@juggle.7yjBMqoW1724511658098.js";import"./http.7uGTxAde1724511658098.js";import"./axios.FVFoCDiv1724511658098.js";import"./color.VTRdj9ye1724511658098.js";import"./color-string.LFlBsFTO1724511658098.js";import"./color-name.Qp0atvQl1724511658098.js";import"./simple-swizzle.UHocBGFN1724511658098.js";import"./is-arrayish.3JaYpC3G1724511658098.js";import"./color-convert.0xI0753u1724511658098.js";import"./lodash.r13VEzvT1724511658098.js";import"./naive-ui.ZD5bVpku1724511658098.js";import"./css-render.8pkbkIjw1724511658098.js";import"./@emotion.ZD_ZYAgY1724511658098.js";import"./@css-render.tuJHNzFz1724511658098.js";import"./seemly.SjiSeX2v1724511658098.js";import"./vooks.e5Tcyc3w1724511658098.js";import"./evtd.DtfwxtIl1724511658098.js";import"./vueuc.xpSb7XT31724511658098.js";import"./vdirs.cngNPYUq1724511658098.js";import"./treemate.dcEdf2le1724511658098.js";import"./date-fns.dIswbqx91724511658098.js";import"./date-fns-tz.ah52GsJS1724511658098.js";import"./async-validator.-YBkpS4I1724511658098.js";import"./utils.TdEcs-mE1724511658098.js";import"./d3-geo.FetnTLRw1724511658098.js";import"./d3-array.AhNJy1f41724511658098.js";const E=L;!function(t,n){const o=L,e=Z();for(;;)try{if(536908===-parseInt(o(175))/1+-parseInt(o(162))/2*(parseInt(o(145))/3)+parseInt(o(201))/4+parseInt(o(187))/5+-parseInt(o(198))/6*(-parseInt(o(191))/7)+-parseInt(o(167))/8*(-parseInt(o(144))/9)+-parseInt(o(193))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[L(137)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){T(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(153),"i"),e=F(t(147));n.test(e+t(148))&&o[t(190)](e+"input")?F():e("0")}))()}();const W=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[L(137)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Z(){const t=["mapCenter","string","showTileNo","set","862utccJm","genSaturation","toString","coordType","target","536fckyYB","return (function() ","showBoundingBox","warn",'{}.constructor("return this")( )',"action","constructor","genBright","905398GDvbFS","dampingFactor","Vector3","while (true) {}","provider","Color","length","debu","value","minDistance","#fff","isMonochrome","5122640PHdrPI","info","log","test","535794XaZEfy","bbox","5303320gWoLAl","console","call","position","wireframe","72jBWipo","primitive","render","2299108XVntjs","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","innerWidth","update","stateObject","filter","table","position0","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","useWorker","apply","genContrast","trace","monochrome","enableDamping","opposite","useStandardMaterial","53154qqGeXm","6549WMjPnY","domElement","init","chain","tileMapMesh","innerHeight","source","rotation","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","far","maxZoom","flatShading"];return(Z=function(){return t})()}W(void 0,(function(){const t=L;let n;try{n=Function(t(168)+t(171)+");")()}catch(r){n=window}const o=n[t(194)]=n[t(194)]||{},e=[t(189),t(170),t(188),"error","exception",t(207),t(139)];for(let s=0;s<e[t(181)];s++){const n=W[t(173)].prototype[t(154)](W),r=e[s],i=o[r]||n;n.__proto__=W[t(154)](W),n[t(164)]=i.toString[t(154)](i),o[r]=n}}))();const D=["object",E(152)];function L(t,n){const o=Z();return(L=function(t,n){return o[t-=134]})(t,n)}const V=j({__name:E(149),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:E(185)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(s,{expose:i}){const d=E,j=s,{renderer:_,scene:I}=c();(new p)[d(165)]=l;const M=new m;M[d(151)]=d(202),M.coordType=l;const B=new f;B[d(151)]=d(135),B[d(160)]=!1,B[d(136)]=!0;const z=new g(M,B);if(z[d(169)]=!1,z[d(197)]=!1,z[d(157)]=!1,z[d(143)]=!1,z[d(206)]={opposite:j.opposite,monochrome:j.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:j[d(174)],genContrast:j[d(138)],genSaturation:j[d(163)]},j.monochrome){let n=new t(j.monochrome);z.filter&&(z.filter[d(140)]={r:n.r,g:n.g,b:n.b})}const C=new h;C[d(179)]=z,C[d(192)]=j.bbox,C[d(156)]=j[d(156)];const S=new n(60,window[d(203)]/window[d(150)],1,1e8);S.up=new(o[d(177)])(0,1,0),S[d(196)][d(161)](j[d(158)][0],j[d(158)][2],-j[d(158)][1]),S.lookAt(new e(S[d(196)].x,0,S[d(196)].z-2e3)),C.camera=S;let k=null;b((()=>{const t=d;if(_.value&&!k&&(k=new r(S,_[t(183)][t(146)]),k[t(141)]=!0,k[t(176)]=.05,k[t(184)]=600,k[t(134)].set(S[t(196)].x,S.position.y,S[t(196)].z),k.target.set(S[t(196)].x,0,S.position.z-2e3)),j[t(174)]&&z.filter&&(z[t(206)][t(174)]=j[t(174)]),j[t(138)]&&z[t(206)]&&(z[t(206)][t(138)]=j.genContrast),j.genSaturation&&z[t(206)]&&(z[t(206)][t(163)]=j[t(163)]),j[t(186)]&&j[t(140)]&&z.filter){let n=new(o[t(180)])(j[t(140)]);z[t(206)][t(140)]={r:n.r,g:n.g,b:n.b}}})),w((()=>j[d(142)]),(t=>{const n=d;z[n(206)]&&(z[n(206)][n(142)]=t)})),w((()=>j[d(186)]),(t=>{const n=d;let e=new(o[n(180)])(j[n(140)]);z.filter&&(z[n(206)][n(140)]=t?{r:e.r,g:e.g,b:e.b}:null)}));const{onLoop:R}=u();return R((()=>{const t=d;if(_.value){a[t(204)](),k&&k.update(),C[t(204)]();const n=50*Math.abs(S.position.y);S[t(155)]=n+5e3,S.updateProjectionMatrix(),k[t(166)].y=0,_[t(183)][t(200)](I[t(183)],S)}})),i({camera:S,map:C,orbitControl:k}),(t,n)=>{const o=d;return y(),v(o(199),{object:x(C),rotation:[-Math.PI/2,0,0]},null,8,D)}}});function F(t){function n(t){const o=L;if(typeof t===o(159))return function(t){}.constructor(o(178)).apply("counter");1!==(""+t/t)[o(181)]||t%20==0?function(){return!0}.constructor(o(182)+"gger")[o(195)](o(172)):function(){return!1}[o(173)](o(182)+"gger")[o(137)](o(205)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function G(t,n){const o=O();return(G=function(t,n){return o[t-=260]})(t,n)}const X=G;!function(t,n){const o=G,e=O();for(;;)try{if(161275===-parseInt(o(277))/1+-parseInt(o(285))/2*(parseInt(o(264))/3)+-parseInt(o(274))/4+parseInt(o(261))/5*(-parseInt(o(305))/6)+-parseInt(o(302))/7+parseInt(o(299))/8+parseInt(o(268))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[G(280)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){$(this,(function(){const t=G,n=new RegExp(t(288)),o=new RegExp(t(272),"i"),e=Q(t(266));n[t(303)](e+"chain")&&o[t(303)](e+t(296))?Q():e("0")}))()}();const q=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[G(280)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function O(){const t=["nss","value","gger","opposite","1835jlqfuE","change","toString","201chbOQE","length","init","#201919","7141149LPVTah","tileMap","highp","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","48460bHLwBV","action","单色滤镜","138046gMAUia","counter","constructor","apply","#4688b5","return (function() ","string","新街口","8460OlwMhy","orbitControl","addBinding","function *\\( *\\)","奥体中心","info","SRGBColorSpace","debu","xjk","stateObject","Vector3","input","bind","genContrast","2547960vkyjWG","camera","list","1572277PGDvPg","test","对比度","4782UlXmvB","__proto__","monochrome","饱和度","warn","tileMapRef"];return(O=function(){return t})()}q(void 0,(function(){const t=G;let n;try{n=Function(t(282)+'{}.constructor("return this")( ));')()}catch(r){n=window}const o=n[t(273)]=n[t(273)]||{},e=["log",t(309),t(290),"error","exception","table","trace"];for(let s=0;s<e[t(265)];s++){const n=q[t(279)][t(271)][t(297)](q),r=e[s],i=o[r]||n;n[t(306)]=q.bind(q),n[t(263)]=i[t(263)][t(297)](i),o[r]=n}}))();const H=j({__name:X(269),setup(t){const n=X,e=d(118.779958,32.017136),r=[e[0],e[1],5e3],a=_(),c=I({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:n(281),mapCenter:r}),u=new i({title:"参数"});u.addBinding(c,n(260),{label:"反色"}),u[n(287)](c,"genBright",{label:"高亮",min:.1,max:3,step:.1}),u[n(287)](c,n(298),{label:n(304),min:.1,max:3,step:.1}),u[n(287)](c,"genSaturation",{label:n(308),min:.1,max:3,step:.1}),u[n(287)](c,"isMonochrome",{label:n(276)}),u.addBinding(c,n(307),{label:"滤镜颜色"});const p={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};u.addBlade({view:n(301),label:"飞去",options:[{text:n(289),value:"at"},{text:n(284),value:n(293)},{text:"牛首山",value:n(311)}],value:"at"}).on(n(262),(t=>{const e=n,r=new(o[e(295)])(p[t.value][0],2e3,-p[t.value][1]);A(a[e(312)].camera,r,a[e(312)][e(286)],[0,-300],4e3)}));const l=I({clearColor:n(267),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:o[n(291)],toneMapping:s,precision:n(270)});return setTimeout((()=>{const t=n,e=p.at,r=new(o[t(295)])(e[0],1600,-e[1]);A(a[t(312)][t(300)],r,a[t(312)][t(286)],[-2e3,-2e3],2e3)}),1e3),(t,o)=>{const e=n,r=M("TresCanvas");return y(),v(R,null,[B(r,k(l,{"window-size":""}),{default:z((()=>[(y(),C(S,null,{default:z((()=>[B(V,k(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),B(P,{tileMapRef:a[e(312)]},null,8,[e(310)])],64)}}});function Q(t){function n(t){const o=G;if(typeof t===o(283))return function(t){}[o(279)]("while (true) {}")[o(280)](o(278));1!==(""+t/t).length||t%20==0?function(){return!0}[o(279)](o(292)+"gger").call(o(275)):function(){return!1}.constructor("debu"+o(313))[o(280)](o(294)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{H as default};
