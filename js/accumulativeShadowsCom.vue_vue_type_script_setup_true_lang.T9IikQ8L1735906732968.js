import{V as t,_ as n,h as e}from"./three.VhLXWX0H1735906732968.js";import{m as a}from"./@tresjs.XlmHwCPa1735906732968.js";import{d as o,P as r}from"./@pmndrs.jP0GrZPE1735906732968.js";import{d as s,b as i,w as c,a1 as u,o as l,D as p,J as f,aj as h,ak as d}from"./@vue.yG49nQHr1735906732968.js";const m=b;!function(t,n){const e=b,a=g();for(;;)try{if(141952===-parseInt(e(126))/1*(-parseInt(e(149))/2)+-parseInt(e(155))/3+-parseInt(e(163))/4+-parseInt(e(187))/5+parseInt(e(153))/6+-parseInt(e(174))/7*(-parseInt(e(160))/8)+parseInt(e(132))/9)break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const w=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[b(137)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();function g(){const t=["material","add","bias","while (true) {}","console","color","shadows render end","finish","warn","length","return (function() ","camera","ambient","6796UsupyF","children","amount","radius","action","blend","2913687aHgKHn","bottom","stateObject","mapSize","function *\\( *\\)","apply","lightPosition","texture","intensity","set","shadows plm update","call","value","TresMesh","shadow","TresSoftShadowMaterial","#000000","4QSyHBB","info","clear","height","347550JHLWDR","update","96960jNBpZx","frames","opacity","randFloatSpread","size","1080JtErDB","position","rotate-x","322148tijkQu","counter","__proto__","far","gger","log","chain","random","configure","alphaTest","cos","518HFsxtQ","near","progressiveLightMap2","width","test","sin","prototype","top","debu","MathUtils","prepare","toString","input","752205LjLVob","Group","string","bind","accumulativeShadowsCom","TresPlaneGeometry","error",'{}.constructor("return this")( )',"DirectionalLight","acos","trace","constructor"];return(g=function(){return t})()}!function(){w(this,(function(){const t=b,n=new RegExp(t(136)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),a=v("init");n[t(178)](a+t(169))&&e[t(178)](a+t(186))?v():a("0")}))()}();const y=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[b(137)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();function b(t,n){const e=g();return(b=function(t,n){return e[t-=121]})(t,n)}y(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(123)+t(194)+");")()}catch(e){n=window}return n}(),e=n[t(203)]=n.console||{},a=[t(168),t(121),t(150),t(193),"exception","table",t(197)];for(let o=0;o<a[t(122)];o++){const n=y[t(198)][t(180)][t(190)](y),r=a[o],s=e[r]||n;n[t(165)]=y[t(190)](y),n[t(185)]=s[t(185)].bind(s),e[r]=n}}))();const M=[m(162)],x=s({__name:m(191),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(148)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const w=m,g=s;let y=i();const{extend:b,scene:x,renderer:v,camera:I}=a();b({SoftShadowMaterial:o});const S={position:(new t).set(g[w(138)].x,g[w(138)].y,g.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new r(v[w(144)],x.value,S.mapSize),_={map:z[w(176)][w(139)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g[w(131)],alphaTest:g.alphaTest,opacity:g.opacity,color:g.color},j=new(n[w(188)]);for(let t=0;t<S[w(128)];t++){const t=new(n[w(195)])(16777215,S[w(140)]/S[w(128)]);t.castShadow=!0,t[w(146)][w(201)]=S[w(201)],t.shadow.camera[w(175)]=S[w(175)],t[w(146)].camera[w(166)]=S[w(166)],t.shadow[w(124)].right=S[w(159)]/2,t[w(146)][w(124)].left=-S[w(159)]/2,t[w(146)].camera[w(181)]=S[w(159)]/2,t.shadow[w(124)][w(133)]=-S[w(159)]/2,t[w(146)][w(135)][w(177)]=S[w(135)],t[w(146)][w(135)][w(152)]=S[w(135)],j[w(200)](t)}const P=()=>{const t=w,a=S[t(161)][t(122)]();for(let o=0;o<j[t(127)][t(122)];o++){const r=j[t(127)][o];if(Math[t(170)]()>g[t(125)])r[t(161)].set(S[t(161)].x+n[t(183)][t(158)](S[t(129)]),S[t(161)].y+n[t(183)][t(158)](S[t(129)]),S[t(161)].z+e[t(158)](S[t(129)]));else{let n=Math[t(196)](2*Math[t(170)]()-1)-Math.PI/2,e=2*Math.PI*Math.random();r.position[t(141)](Math[t(173)](n)*Math[t(173)](e)*a,Math.abs(Math[t(173)](n)*Math.sin(e)*a),Math[t(179)](n)*a)}}},T=(t=1)=>{const n=w;x.value.add(j),z[n(184)]();for(let e=0;e<t;e++)P(),z[n(154)](I[n(144)],g.blendWindow),console.log(n(142),e);x.value.remove(j),z[n(206)]()};c((()=>y[w(144)]),(t=>{const n=w;t&&(z[n(171)](t),z[n(151)](),console[n(168)]("shadows render start"),T(g[n(156)]),console[n(168)](n(205)))}));const H=()=>{const t=w;z.clear(),T(g[t(156)])};return u((()=>{const t=w;y.value&&(g.opacity&&(y[t(144)].material[t(157)]=g[t(157)]),g.alphaTest&&(y[t(144)].material.alphaTest=g[t(172)]),g[t(204)]&&y.value[t(199)][t(204)][t(141)](g[t(204)]),g[t(131)]&&(y.value.material[t(131)]=g[t(131)]))})),c((()=>g[w(138)]),(t=>{const n=w;t&&(console[n(168)](g[n(138)]),S[n(161)][n(141)](t.x,t.y,t.z),H())}),{deep:!0}),c((()=>[g.frames,g.blendWindow,g[w(125)]]),(()=>{H()})),(t,n)=>{const e=w;return l(),p(e(145),{"receive-shadow":"",ref_key:"gPlane",ref:y,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=f(e(192),{args:[1,1]},null,-1)),f(e(147),h(d(_)),null,16)],8,M)}}});function v(t){function n(t){const e=b;if(typeof t===e(189))return function(t){}[e(198)](e(202))[e(137)](e(164));1!==(""+t/t)[e(122)]||t%20==0?function(){return!0}[e(198)](e(182)+e(167))[e(143)](e(130)):function(){return!1}[e(198)](e(182)+e(167))[e(137)](e(134)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
