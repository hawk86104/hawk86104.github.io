import{_ as t,bT as n}from"./three.MbBECAu81726740218347.js";import{z as o}from"./@tresjs.C5O8roW51726740218347.js";import{d as r,b as e,a4 as a,w as i,o as s,E as c,L as u,aj as f,ak as l}from"./@vue.JNsx1iN61726740218347.js";function p(t,n){const o=m();return(p=function(t,n){return o[t-=254]})(t,n)}!function(t,n){const o=p,r=m();for(;;)try{if(264711===parseInt(o(290))/1*(-parseInt(o(279))/2)+-parseInt(o(268))/3+parseInt(o(293))/4*(-parseInt(o(276))/5)+parseInt(o(300))/6+-parseInt(o(255))/7+-parseInt(o(288))/8*(parseInt(o(298))/9)+parseInt(o(281))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[p(291)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=p,n=new RegExp(t(269)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=w(t(254));n[t(262)](r+t(271))&&o[t(262)](r+t(273))?w():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();d(void 0,(function(){const t=p;let n;try{n=Function("return (function() "+t(297)+");")()}catch(e){n=window}const o=n[t(280)]=n[t(280)]||{},r=[t(259),t(270),"info",t(287),t(275),t(284),t(292)];for(let a=0;a<r.length;a++){const n=d[t(263)].prototype.bind(d),e=r[a],i=o[e]||n;n[t(302)]=d[t(261)](d),n[t(286)]=i[t(286)][t(261)](i),o[e]=n}}))();const g=()=>{const o=p;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(266)][o(305)]+o(264)+t[o(266)][o(303)]+o(264)+t[o(266)].shadowmap_pars_vertex+o(301)+n[o(295)]+o(296)+t[o(266)][o(258)]+o(296)+t[o(266)][o(283)]+o(296)+t[o(266)][o(265)]+o(296)+n[o(304)]+"\n          "+n[o(278)]+o(267)};function m(){const t=["common","init","415023iMpGNR","counter","stateObject","defaultnormal_vertex","log","action","bind","test","constructor","\n      \t","project_vertex","ShaderChunk","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","563187OTRpFp","function *\\( *\\)","warn","chain","\n\t ","input","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","exception","45XxtYND","shadowmask_pars_fragment","shadowmap_vertex","16IwDmTE","console","6738470NLXnFE","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","begin_vertex","table","gger","toString","error","56HaudJo","length","4012KExyRu","apply","trace","20584BRcODZ","shadowmap_pars_fragment","beginnormal_vertex","\n          ",'{}.constructor("return this")( )',"321723cbsdDq","call","999126tCFVZl","\n       void main() {\n\t\t\t\t\t","__proto__","bsdfs","worldpos_vertex"];return(m=function(){return t})()}const v=()=>{const o=p;return o(274)+t[o(266)].common+o(272)+t[o(266)].packing+"\n\t "+t[o(266)][o(303)]+o(272)+t[o(266)].lights_pars_begin+"\n\t "+t[o(266)][o(294)]+o(272)+n[o(277)]+o(282)};function w(t){function n(t){const o=p;if("string"==typeof t)return function(t){}[o(263)]("while (true) {}")[o(291)](o(256));1!==(""+t/t)[o(289)]||t%20==0?function(){return!0}[o(263)]("debu"+o(285))[o(299)](o(260)):function(){return!1}[o(263)]("debu"+o(285))[o(291)](o(257)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const _=I;!function(t,n){const o=I,r=y();for(;;)try{if(286422===-parseInt(o(166))/1+parseInt(o(162))/2*(parseInt(o(165))/3)+-parseInt(o(173))/4+-parseInt(o(163))/5*(-parseInt(o(197))/6)+parseInt(o(194))/7+-parseInt(o(201))/8+-parseInt(o(161))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(202)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=I,n=new RegExp(t(200)),o=new RegExp(t(160),"i"),r=j("init");n[t(191)](r+t(170))&&o[t(191)](r+t(156))?j():r("0")}))()}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(202)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function y(){const t=["RepeatWrapping","merge","debu","UniformsUtils","DoubleSide","value",'{}.constructor("return this")( )',"log","args","uniforms","size","table","#990","whiteFloorMesh","#999","lights","test","toString","edge","3508981RNrBmH","bind","gger","12EoArVJ","UniformsLib","console","function *\\( *\\)","1134048CQMgcg","apply","info","warn","rotation-x","TresShaderMaterial","while (true) {}","return (function() ","constructor","Color","input","TresPlaneGeometry","wrapS","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2265543WiNfhs","2zgiXXw","556975GOQYkm","shadowColor","1382883ShOLaB","440642Iujoyn","action","stateObject","length","chain","error","color","257948VGPDup","fEdge"];return(y=function(){return t})()}function I(t,n){const o=y();return(I=function(t,n){return o[t-=155]})(t,n)}b(void 0,(function(){const t=I;let n;try{n=Function(t(208)+t(181)+");")()}catch(e){n=window}const o=n[t(199)]=n.console||{},r=[t(182),t(204),t(203),t(171),"exception",t(186),t(159)];for(let a=0;a<r[t(169)];a++){const n=b[t(209)].prototype[t(195)](b),e=r[a],i=o[e]||n;n.__proto__=b.bind(b),n[t(192)]=i[t(192)].bind(i),o[e]=n}}))();const S=[_(205)],C=[_(183)],E=r({__name:_(188),props:{size:{default:[20,20]},color:{default:_(187)},shadowColor:{default:_(189)},edge:{default:.35}},async setup(n){const r=_;let p,h;const d=n,m=e(),{map:w}=([p,h]=a((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,h(),p);w[r(158)]=w.wrapT=t[r(175)];const x={uniforms:t[r(178)][r(176)]([t[r(198)][r(190)],{uTexture:{type:"t",value:w},uColor:{value:new(t[r(155)])(d[r(172)])},uShadowColor:{value:new(t[r(155)])(d[r(164)])},fEdge:{type:"f",value:d[r(193)]}}]),side:t[r(179)],vertexShader:g(),fragmentShader:v(),lights:!0,transparent:!0};return i((()=>d[r(193)]),(t=>{const n=r;x[n(184)][n(174)][n(180)]=t})),i((()=>d.color),(n=>{const o=r;x[o(184)].uColor[o(180)]=new(t[o(155)])(d[o(172)])})),i((()=>d[r(164)]),(n=>{const o=r;x.uniforms.uShadowColor[o(180)]=new(t[o(155)])(d[o(164)])})),(t,n)=>{const o=r;return s(),c("TresMesh",{ref_key:"tmRef",ref:m,"rotation-x":-Math.PI/2},[u(o(157),{args:d[o(185)]},null,8,C),u(o(206),f(l(x)),null,16)],8,S)}}});function j(t){function n(t){const o=I;if("string"==typeof t)return function(t){}[o(209)](o(207)).apply("counter");1!==(""+t/t)[o(169)]||t%20==0?function(){return!0}[o(209)](o(177)+"gger").call(o(167)):function(){return!1}[o(209)](o(177)+o(196)).apply(o(168)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
