import{_ as e,n as a,K as t}from"./@tresjs.DsQAOGDv1766395949228.js";import{P as o}from"./tweakpane.CqZAnw7f1766395949228.js";import{_ as s}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.BlaJdhxN1766395949228.js";import{d as r,a as i,r as n,w as l,G as p,H as m,u,o as c,I as g,a9 as f,aa as d,g as h,b as y,e as _,h as j,m as v}from"./@vue.BxPWGdWw1766395949228.js";import{bK as P,a6 as w,A as T,aE as b,k as x}from"./three.F31Lz30M1766395949228.js";import"./postprocessing.Rj820gp21766395949228.js";import"./@vueuse.D_OASVSl1766395949228.js";import"./dither.glsl.tNAdkJUa1766395949228.js";import"./Reflector.CCEw0uhQ1766395949228.js";import"./OimoPhysicsBuffer.BJHVukRr1766395949228.js";import"./oimophysics.CfVKSiAm1766395949228.js";import"./vite-plugin-qiankun.B06WoCqG1766395949228.js";import"./utils.CNife3_q1766395949228.js";const S=["rotation-x"],R=["args"],k=r({__name:"imgFloor",props:{size:{default:[10,10]},imgSrcPath:{},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},textureRepeat:{default:[1,1]}},setup(t){const o=i(),{onRender:s}=e();s(()=>{o.value&&(o.value.rotation.z+=r.rotationZ)});const r=t,h=n({color:r.color,map:null,side:w,transparent:!0,opacity:r.opacity,blending:P,depthTest:!0,depthWrite:!1}),{state:y,isLoading:_}=a(r.imgSrcPath);return l(()=>y.value,e=>{e&&(e.colorSpace=T,e.wrapS=b,e.wrapT=b,e.repeat.set(r.textureRepeat[0],r.textureRepeat[1]),h.map=e)}),l(()=>r.color,e=>{h.color=new x(e)}),l(()=>r.opacity,e=>{h.opacity=e}),(e,a)=>u(_)?m("",!0):(c(),p("TresMesh",{key:0,ref_key:"tmRef",ref:o,"rotation-x":-Math.PI/2},[g("TresPlaneGeometry",{args:r.size},null,8,R),g("TresMeshBasicMaterial",f(d(h)),null,16)],8,S))}}),B=r({__name:"imgFloor",setup(e){const a=n({reflectivity:2.6,showGridHelper:!1,scale:4}),r=n({color:"#fff",opacity:.95,rotationZ:.01}),i=new o;return i.addBinding(r,"color",{label:"颜色"}),i.addBinding(r,"opacity",{label:"透明度",min:0,max:1,step:.01}),i.addBinding(r,"rotationZ",{label:"自转速度",min:-.1,max:.1,step:.01}),(e,o)=>{const i=h("TresCanvas");return c(),y(i,{clearColor:"#201919","window-size":""},{default:_(()=>[o[0]||(o[0]=g("TresPerspectiveCamera",{position:[15,20,0],fov:45,near:.1,far:1e4},null,-1)),j(u(t),{enableDamping:""}),o[1]||(o[1]=g("TresAmbientLight",{intensity:6},null,-1)),j(k,v({position:[2,-2,2]},r,{imgSrcPath:"./plugins/floor/image/imgFloor1.png"}),null,16),j(k,v({position:[2,.1,2]},r,{imgSrcPath:"./plugins/floor/image/imgFloor2.png"}),null,16),j(k,{position:[-2,0,-2],imgSrcPath:"./plugins/floor/image/imgFloor3.png"}),j(s,v({position:[0,-2,0]},a),null,16)]),_:1})}}});export{B as default};
