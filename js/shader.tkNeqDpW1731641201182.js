import{e as n,m as t,U as e,s as o,b as r}from"./@tresjs.b88d4FZI1731641201182.js";import{_ as i,aB as s}from"./three.-z-VOBM71731641201182.js";import{P as a}from"./tweakpane.yHWGBmom1731641201182.js";import{L as c}from"./three-subdivide.u9TIc1LF1731641201182.js";import{d as l,b as u,a3 as f,w as p,o as d,D as g,J as m,aj as h,ak as v,a6 as y,r as b,e as w,f as I,g as M,j as _,u as x,m as T,I as S}from"./@vue.-THQH3GC1731641201182.js";import"./@vueuse.XeXqlNFe1731641201182.js";const B=C;!function(n,t){const e=C,o=z();for(;;)try{if(856950===parseInt(e(296))/1+parseInt(e(289))/2*(-parseInt(e(302))/3)+-parseInt(e(312))/4+parseInt(e(285))/5+parseInt(e(309))/6+-parseInt(e(332))/7*(-parseInt(e(336))/8)+parseInt(e(318))/9*(-parseInt(e(290))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(294)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(){const n=["color","glowColor","5632164GoXlWq","toString","subVectors","6204252bIdbPM","position","bind","TSGref","srcMesh","subdivision","9jLIuMx","gger","uniforms","attributes","chain","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","copy","geometry","log","FrontSide","#ffff00","material","counter","Vector3","679511UIZTrA","__proto__","blending","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","72hClzNV","TresShaderMaterial","prototype","input","constructor","test","init","action","5388530uhVIPd","scale","Color","string","6sEzgGQ","2505820mAzvIr","value","TresMesh","return (function() ","apply","modify","485925gZUbwb","AdditiveBlending",'{}.constructor("return this")( )',"length","table","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","717387ubJyul","exception","side","debu","clone"];return(z=function(){return n})()}!function(){j(this,(function(){const n=C,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(335),"i"),o=N(n(283));t[n(282)](o+n(322))&&e[n(282)](o+n(280))?N():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=C;let t;try{t=Function(n(293)+n(298)+");")()}catch(r){t=window}const e=t.console=t.console||{},o=[n(326),"warn","info","error",n(303),n(300),"trace"];for(let i=0;i<o[n(299)];i++){const t=A.constructor[n(279)][n(314)](A),r=o[i],s=e[r]||t;t[n(333)]=A[n(314)](A),t[n(310)]=s.toString[n(314)](s),e[r]=t}}))();const k=[B(286)];function C(n,t){const e=z();return(C=function(n,t){return e[n-=279]})(n,t)}const V=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:B(328)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(327)]},blending:{default:i[B(297)]}},setup(e){const o=B,r=e,s=u(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(287)])(r[o(307)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(323),fragmentShader:o(301),side:r[o(304)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};f((()=>{const n=o;if(r[n(316)]&&s[n(291)]&&!s.value.geometry[n(321)][n(313)]){let t=r.srcMesh[n(325)][n(306)]();r[n(317)]&&(t=c[n(295)](t,2)),s[n(291)][n(325)]=t,s[n(291)][n(313)][n(324)](r[n(316)][n(313)])}r.color&&(a[n(320)][n(308)][n(291)]=new(i[n(287)])(r[n(307)])),r.c&&(a[n(320)].c.value=r.c),r.p&&(a[n(320)].p.value=r.p)})),p((()=>r[o(317)]),(n=>{const t=o;let e=r[t(316)].geometry[t(306)]();n&&(e=c[t(295)](e,2)),s.value[t(325)]=e})),p((()=>r[o(304)]),(n=>{const t=o;s[t(291)][t(329)][t(304)]=n})),p((()=>r[o(334)]),(n=>{const t=o;s[t(291)][t(329)].blending=n}));const{onLoop:l}=n(),{camera:y}=t();return l((()=>{const n=o;y.value&&s[n(291)]&&(a.uniforms.viewVector[n(291)]=(new(i[n(331)]))[n(311)](y.value[n(313)],s.value[n(313)]))})),(n,t)=>{const e=o;return d(),g(e(292),{ref_key:e(315),ref:s,scale:r[e(286)]},[m(e(337),h(v(a)),null,16)],8,k)}}});function N(n){function t(n){const e=C;if(typeof n===e(288))return function(n){}[e(281)]("while (true) {}").apply(e(330));1!==(""+n/n)[e(299)]||n%20==0?function(){return!0}[e(281)](e(305)+e(319)).call(e(284)):function(){return!1}[e(281)](e(305)+e(319)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=Z;!function(n,t){const e=Z,o=F();for(;;)try{if(785783===parseInt(e(302))/1*(-parseInt(e(320))/2)+parseInt(e(329))/3*(parseInt(e(317))/4)+-parseInt(e(284))/5*(-parseInt(e(312))/6)+parseInt(e(289))/7*(-parseInt(e(280))/8)+parseInt(e(274))/9*(parseInt(e(277))/10)+-parseInt(e(316))/11+-parseInt(e(325))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(282)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Z(n,t){const e=F();return(Z=function(n,t){return e[n-=267]})(n,t)}!function(){P(this,(function(){const n=Z,t=new RegExp(n(283)),e=new RegExp(n(324),"i"),o=L("init");t[n(278)](o+"chain")&&e[n(278)](o+n(306))?L():o("0")}))()}();const D=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(282)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(){const n=["TresMeshRefB","log","input","side","BackSide",'{}.constructor("return this")( )',"#0ff","instance","6ArFxfc","length","map","console","3007752STRyPm","310220DxUwGT","warn","value","2ZOvDIU","gger","stateObject","color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4107492byEgMD","constructor","debu","NormalBlending","39TOgzko","table","addBinding","TresGridHelper","toString","TresPerspectiveCamera","FrontSide","__proto__","srcMesh","scale","TresAmbientLight","783nPNoSI","action","return (function() ","93290lDyYVq","test","AdditiveBlending","2558488oVCzSi","info","apply","function *\\( *\\)","1647990HJCwyZ","TresSphereGeometry","TresMeshBasicMaterial","边缘处理","string","7MRNNPy","TresMeshRefA","DoubleSide","#00dfff","exception","trace","logo.png","counter","#222","TresMesh","error","while (true) {}","bind","428119KpTUST","TresCanvas"];return(F=function(){return n})()}D(void 0,(function(){const n=Z;let t;try{t=Function(n(276)+n(309)+");")()}catch(r){t=window}const e=t.console=t[n(315)]||{},o=[n(305),n(318),n(281),n(299),n(293),n(330),n(294)];for(let i=0;i<o[n(313)];i++){const t=D[n(326)].prototype.bind(D),r=o[i],s=e[r]||t;t[n(270)]=D.bind(D),t[n(267)]=s[n(267)][n(301)](s),e[r]=t}}))();const G=[R(314)],E=[R(314)],U=l({__name:"shader",async setup(n){const t=R;let c,l;const f={clearColor:t(297)},p=u(),g=u(),h=u(),v=([c,l]=y((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(295)]))),c=await c,l(),c),B=b({scale:1.6,color:t(292),subdivision:!0,c:1.1,p:1.4,side:i[t(269)],blending:i[t(279)]}),j=new a({title:"参数",expanded:!0});return j[t(331)](B,t(323),{label:"颜色"}),j[t(331)](B,t(272),{label:"大小",min:1,max:3,step:.2}),j[t(331)](B,"subdivision",{label:t(287)}),j.addBinding(B,"c",{label:"c",min:0,max:2,step:.1}),j[t(331)](B,"p",{label:"p",min:0,max:8,step:.2}),j[t(331)](B,t(307),{options:{FrontSide:i[t(269)],BackSide:i[t(308)],DoubleSide:i[t(291)]}}),j[t(331)](B,"blending",{options:{AdditiveBlending:s,NormalBlending:i[t(328)]}}),(n,r)=>{const i=t,s=w(i(303));return d(),I(s,T(f,{"window-size":""}),{default:M((()=>[r[2]||(r[2]=m(i(268),{position:[5,5,5]},null,-1)),r[3]||(r[3]=m(i(273),{intensity:1},null,-1)),_(x(e)),r[4]||(r[4]=m(i(332),{args:[10,10]},null,-1)),m(i(298),{ref_key:i(290),ref:p,position:[-2,1,0]},[r[0]||(r[0]=m(i(285),{args:[1,32,16]},null,-1)),m("TresMeshBasicMaterial",{map:x(v)[0]},null,8,G)],512),_(V,T({srcMesh:p[i(319)]},B),null,16,[i(271)]),_(x(o),{ref_key:"TreBoxRef",ref:h,args:[1,1,1],position:[2,1,0]},{default:M((()=>[m(i(286),{map:x(v)[1]},null,8,E)])),_:1},512),h[i(319)]&&h[i(319)][i(311)]?(d(),I(V,T({key:0,srcMesh:h[i(319)][i(311)]},B),null,16,["srcMesh"])):S("",!0),m(i(298),{ref_key:i(304),ref:g,position:[0,1,-2]},r[1]||(r[1]=[m("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),m(i(286),{color:i(310)},null,-1)]),512),_(V,T({srcMesh:g[i(319)]},B),null,16,[i(271)])])),_:1},16)}}});function L(n){function t(n){const e=Z;if(typeof n===e(288))return function(n){}[e(326)](e(300))[e(282)](e(296));1!==(""+n/n).length||n%20==0?function(){return!0}[e(326)](e(327)+e(321)).call(e(275)):function(){return!1}[e(326)](e(327)+e(321))[e(282)](e(322)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
