import"./@fesjs.uG2EzMwn1731462043013.js";import{_ as t}from"./jszip.9e6IwfI51731462043013.js";import{F as n}from"./file-saver.O4HxbK4p1731462043013.js";import{_ as e,aN as s}from"./three.wKRaqyB-1731462043013.js";const o=m;!function(t,n){const e=m,s=f();for(;;)try{if(302692===parseInt(e(264))/1*(-parseInt(e(243))/2)+-parseInt(e(236))/3+-parseInt(e(282))/4+parseInt(e(293))/5+parseInt(e(227))/6+-parseInt(e(284))/7+-parseInt(e(232))/8*(-parseInt(e(253))/9))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[m(296)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){r(this,(function(){const t=m,n=new RegExp(t(237)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=h(t(234));n[t(309)](s+t(231))&&e.test(s+t(259))?h():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[m(296)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function c(t){const n=o,s=new(e[n(256)]);return new Promise(((e,o)=>{const r=n;s.load(t,(t=>e(JSON[r(275)](t))),void 0,(t=>o(t)))}))}async function i(t){const n=new s;return new Promise(((e,s)=>{const r=m;n.setResponseType(r(295)),n[r(263)](t,(n=>{const a=r,c=new FileReader;c[a(268)]=()=>{const n=a,s=function(t){const n=o,e=t[n(308)](".")[n(250)]()[n(279)]();return{jpg:n(287),jpeg:n(287),png:n(299),gif:n(306),bmp:n(304),webp:n(278)}[e]||n(313)}(t),r=c[n(246)].split(",")[1];e(n(266)+s+n(262)+r)},c[a(247)]=t=>{s(t)},c.readAsDataURL(n)}),void 0,(t=>s(t)))}))}a(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(305)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(251)]=n.console||{},s=[t(261),"warn","info",t(311),t(289),t(267),t(303)];for(let o=0;o<s.length;o++){const n=a.constructor[t(254)][t(315)](a),r=s[o],c=e[r]||n;n[t(239)]=a.bind(a),n[t(312)]=c[t(312)][t(315)](c),e[r]=n}}))(),e[o(225)][o(226)]=!0;const u=n=>{const e=o,r=new s;return r[e(294)](e(295)),new Promise(((s,o)=>{const a=e;r[a(263)](n,(async n=>{const e=a;s(await t[e(257)](n))}),void 0,(t=>o(t)))}))},p=t=>{const n=o,e=t.substring(0,15),s=n(292),r=n(230),a=n(252),c=n(258),i=n(290);return"data:image/jpeg;base64,"[n(283)](e)||"data:image/JPEG;base64,".startsWith(e)?n(300):s[n(283)](e)||r[n(283)](e)?n(240):a[n(283)](e)||c[n(283)](e)?n(273):i[n(283)](e||"data:image/WEBP;base64,"[n(283)](e))?n(301):n(271)},l=e=>{const s=o,r=[];e.scene.geometries&&e[s(228)][s(307)][s(242)]((t=>{const n=s;"BufferGeometry"===t.type&&(r[n(318)]({uuid:t[n(265)],data:t.data}),t[n(249)]=n(245)+t[n(265)]+".json")}));const a=[];e[s(228)][s(302)]&&e.scene[s(302)][s(242)]((t=>{const n=s;t.url&&(a[n(318)]({uuid:t.uuid,url:t.url}),t[n(280)].type?t.url=n(298)+t.uuid+"."+t.url[n(235)]+n(277):t[n(280)]=n(298)+t.uuid+"."+p(t[n(280)]))}));const c=new t;if(r[s(316)]){const t=c[s(238)](s(307));r[s(242)]((n=>{const e=s;t[e(269)](n.uuid+e(277),JSON[e(248)](n[e(249)]))}))}if(a[s(316)]){const t=c.folder(s(302));a.forEach((n=>{const e=s;n[e(280)][e(235)]?t[e(269)](n.uuid+"."+n[e(280)][e(235)]+e(277),JSON[e(248)](n.url)):t[e(269)](n.uuid+"."+p(n[e(280)]),n.url[e(308)](e(262))[e(250)](),{base64:!0})}))}const i=JSON[s(248)](e);return c[s(269)](s(274),i),c[s(319)]({type:s(295)})[s(255)]((t=>{const e=s;n.saveAs(t,e(276))}))};function f(){const t=["1496106ZsmHku","function *\\( *\\)","folder","__proto__","PNG","constructor","forEach","16ViKLnh","files","url:geometries/","result","onerror","stringify","data","pop","console","data:image/gif;base64,","27ceqLET","prototype","then","FileLoader","loadAsync","data:image/GIF;base64,","input","catch","log",";base64,","load","26717TDZybu","uuid","data:","table","onloadend","file","toUpperCase","Unknown","非标准文件：不存在 app.json","GIF","app.json","parse","config.zip",".json","image/webp","toLowerCase","url","while (true) {}","2203372HCSYtx","startsWith","938497ogeYoQ","message","string","image/jpeg","async","exception","data:image/webp;base64,","slice","data:image/png;base64,","3017795NSevDh","setResponseType","blob","apply","action","url:images/","image/png","JPEG","WEBP","images","trace","image/bmp","return (function() ","image/gif","geometries","split","test","counter","error","toString","application/octet-stream","readAsDataURL","bind","length","url:","push","generateAsync","name","Cache","enabled","3455028XkYoym","scene","base64","data:image/PNG;base64,","chain","1388392mIsMkx","get","init","type"];return(f=function(){return t})()}const g=(t,n,e)=>{t[o(307)]<=0&&t.images<=0&&e(n)},d=(n,e)=>{const s=o;let r=null;return t[s(257)](n)[s(255)]((t=>{const n=s;t[n(244)]["app.json"]?t[n(244)][n(274)].async(n(286)).then((s=>{var a,c;const i=n;r=JSON.parse(s);const u=(t=>{var n,e;const s=o,r={geometries:0,images:0};return null==(n=t[s(228)].geometries)||n.forEach((t=>{const n=s;t[n(249)].startsWith(n(317))&&r[n(307)]++})),null==(e=t[s(228)][s(302)])||e[s(242)]((t=>{const n=s;t[n(280)][n(283)]("url:")&&r[n(302)]++})),r})(r);g(u,r,e),null==(a=r.scene[i(307)])||a.forEach((n=>{const s=i;n[s(249)][s(283)]("url:")&&t[s(244)][n.data[s(291)](4)].async(s(286))[s(255)]((t=>{const o=s;n[o(249)]=JSON[o(275)](t),u[o(307)]--,g(u,r,e)}))})),null==(c=r[i(228)].images)||c[i(242)]((n=>{const s=i;if(n[s(280)][s(283)]("url:")){const o=n[s(280)][s(291)](4);o.endsWith(s(277))?t[s(244)][o][s(288)]("string").then((t=>{const o=s;n[o(280)]=JSON[o(275)](t),u[o(302)]--,g(u,r,e)})):t.files[o][s(288)](s(229))[s(255)]((t=>{const a=s,c=o[a(308)]("."),i=c[c[a(316)]-1][a(270)]();n[a(280)]="data:image/"+i+a(262)+t,u.images--,g(u,r,e)}))}}))})):console[n(311)](n(272))}),(t=>{const e=s;console[e(311)](n[e(320)]+": "+t[e(285)])})),r};function m(t,n){const e=f();return(m=function(t,n){return e[t-=225]})(t,n)}function h(t){function n(t){const e=m;if(typeof t===e(286))return function(t){}[e(241)](e(281)).apply(e(310));1!==(""+t/t)[e(316)]||t%20==0?function(){return!0}.constructor("debugger").call(e(297)):function(){return!1}[e(241)]("debugger")[e(296)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{u as a,i as b,l as e,p as g,d as i,c as l};
