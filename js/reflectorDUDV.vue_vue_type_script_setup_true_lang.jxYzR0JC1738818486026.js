import{c7 as t,a3 as e,r as n,s as r}from"./three.WgQSjl1J1738818486026.js";import{a as o}from"./@tresjs.ZGxFoQtw1738818486026.js";import{R as s,b as i}from"./all.three.w-Cc8HG21738818486026.js";import{d as c,a3 as a,a2 as u,w as f,o as l,H as p,N as d,u as m}from"./@vue.NRI7TcgI1738818486026.js";const h=b;function b(t,e){const n=v();return(b=function(t,e){return n[t-=153]})(t,e)}!function(t,e){const n=b,r=v();for(;;)try{if(491971===parseInt(n(195))/1*(parseInt(n(178))/2)+-parseInt(n(158))/3+parseInt(n(183))/4+-parseInt(n(157))/5*(-parseInt(n(196))/6)+parseInt(n(203))/7+parseInt(n(155))/8+-parseInt(n(154))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(206)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=b,e=new RegExp(t(201)),n=new RegExp(t(171),"i"),r=_(t(192));e.test(r+t(175))&&n.test(r+"input")?_():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(206)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function v(){const t=["chain","warn","onBeforeRender","2ogbRKQ","isMesh","primitive","length","wrapS","3574316KdbWSP","forEach","uniforms","renderTargetUniform","renderTarget","tReflect","add","visible","constructor","init","ignoreObjects","action","674718iiCtkk","29586bBmJIv","call","object","debu","size","function *\\( *\\)","error","2262015FQtanx",'{}.constructor("return this")( )',"bind","apply","gger","exception","set","reflectivity","repeat","26165493BsmUcS","7860368OtSNZr","info","760zscAzW","672756MvahBD","scale","update","console","counter","uMatrix","texture","wrapT","prototype","return (function() ","value","tReflectBlur","showGridHelper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","reflectorDUDV","toString"];return(v=function(){return t})()}g(void 0,(function(){const t=b;let e;try{e=Function(t(167)+t(204)+");")()}catch(o){e=window}const n=e[t(161)]=e[t(161)]||{},r=["log",t(176),t(156),t(202),t(208),"table","trace"];for(let s=0;s<r[t(181)];s++){const e=g[t(191)][t(166)][t(205)](g),o=r[s],i=n[o]||e;e[t(172)]=g[t(205)](g),e[t(174)]=i[t(174)][t(205)](i),n[o]=e}}))();const y=[h(159)],j=[h(198)],x=[h(198)],I=c({__name:h(173),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:b}){const w=h;let g,v;const I=c,_=new s,R=new t(I[w(200)][0]-.5,I[w(200)][1]);R.visible=I[w(170)];const{map:z}=([g,v]=a((()=>o({map:I.mapUrl}))),g=await g,v(),g);z[w(182)]=e,z[w(165)]=e,z[w(153)][w(209)](6,3);const B=new i({map:z,reflectivity:I[w(210)]});B[w(185)][w(188)]={value:_[w(187)][w(164)]},B[w(185)][w(169)]=_[w(186)],B.uniforms[w(163)]=_.textureMatrixUniform;const U=new n(new r(I[w(200)][0],I.size[1]),B);return U.rotation.x=-Math.PI/2,U[w(189)](_),U[w(177)]=(t,e,n)=>{const r=w;U[r(190)]=!1,I.ignoreObjects[r(184)]((t=>{const e=r;t[e(179)]&&(t.visible=!1),t.value&&t.value[e(179)]&&(t[e(168)][e(190)]=!1)})),_[r(160)](t,e,n),I[r(193)][r(184)]((t=>{const e=r;t[e(179)]&&(t[e(190)]=!0),t[e(168)]&&t[e(168)][e(179)]&&(t[e(168)][e(190)]=!0)})),U[r(190)]=!0},u((()=>{const t=w;I.reflectivity&&(B.uniforms.uReflectivity[t(168)]=I[t(210)])})),f((()=>I.showGridHelper),(t=>{R[w(190)]=t})),b({reflector:_}),(t,e)=>{const n=w;return l(),p("TresGroup",{scale:I[n(159)]},[d(n(180),{object:m(U),"position-y":-.01},null,8,j),d(n(180),{object:m(R)},null,8,x)],8,y)}}});function _(t){function e(t){const n=b;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[n(206)](n(162));1!==(""+t/t).length||t%20==0?function(){return!0}[n(191)]("debu"+n(207))[n(197)](n(194)):function(){return!1}.constructor(n(199)+n(207)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
