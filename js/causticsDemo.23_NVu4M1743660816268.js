import{d0 as s,aQ as e,ai as a}from"./three.2wx8FU0g1743660816268.js";import{m as t,e as i,f as o,o as n}from"./@tresjs.zc7faK4J1743660816268.js";import"./index.b46HSgxj1743660816268.js";import{P as r}from"./tweakpane.ivGeiIdz1743660816268.js";import"./index.wgv4wbeG1743660816268.js";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang.di0QJQ1U1743660816268.js";import{G as m}from"./three-stdlib.rtqrSiFZ1743660816268.js";import{d as p,a4 as d,o as u,H as c,u as f,r as g,b as j,f as h,g as x,m as k,N as _,j as b,aj as y,ak as v,al as w}from"./@vue.B5PFBfKs1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./lamina.Bw0nLv7Y1743660816268.js";import"./glsl-tokenizer.mkwd0lRy1743660816268.js";import"./@amap.c8pGcSIC1743660816268.js";import"./glsl-token-descope.xOqntaqo1743660816268.js";import"./glsl-token-depth.AxKaZvER1743660816268.js";import"./glsl-token-scope.wjcRQr8K1743660816268.js";import"./glsl-token-properties.yo_Y1tuU1743660816268.js";import"./glsl-token-assignments.bgYhSPZg1743660816268.js";import"./glsl-token-string.yqnTadLP1743660816268.js";import"./glsl-token-functions.IT74dQuK1743660816268.js";import"./object-hash.6N1Uf8kA1743660816268.js";import"./jszip.rGR265Ak1743660816268.js";import"./utils.TDN2xnYW1743660816268.js";import"./@pmndrs.z8R6f5wQ1743660816268.js";const B=["object","scale"],T=p({__name:"groundProjectedEnvCom",props:{texture:{default:"https://opensource.cdn.icegl.cn/images/skyBox/round_platform_1k.exr"},size:{default:100}},async setup(a){let i,o;const n=a,r=new s,l=([i,o]=d((()=>r.loadAsync(n.texture))),i=await i,o(),i);l.mapping=e;const{scene:p}=t();p.value.environment=l;const g=new m(l);return(s,e)=>(u(),c("primitive",{object:f(g),scale:n.size},null,8,B))}}),z=p({__name:"causticsDemo",setup(s){const e=g({alpha:!0,toneMapping:a,windowSize:!0,clearColor:10066329}),t=g({enableDamping:!0,autoRotate:!1}),m=j(null),{onBeforeLoop:p}=i();p((({elapsed:s})=>{m.value&&(m.value.rotation.x=s,m.value.rotation.y=s)}));const d=g({color:"#ffffff",ior:1.1,backsideIOR:1.1,far:30,worldRadius:.3,intensity:.05,causticsOnly:!1,lightSource:{x:1,y:1,z:1}}),c=new r({title:"参数"});return c.addBinding(d,"color",{label:"颜色"}),c.addBinding(d,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),c.addBinding(d,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),c.addBinding(d,"far",{label:"可视距离",min:0,max:30,step:1}),c.addBinding(d,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),c.addBinding(d,"intensity",{label:"强度",min:0,max:1,step:.01}),c.addBinding(d,"causticsOnly",{label:"只显示投射"}),c.addBinding(d,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(s,a)=>(u(),h(f(o),k(e,{"window-size":""}),{default:x((()=>[a[2]||(a[2]=_("TresPerspectiveCamera",{position:[-20,20,15],fov:45,near:1,far:1e3},null,-1)),b(f(n),y(v(t)),null,16),a[3]||(a[3]=_("TresDirectionalLight",{position:[10,2,4],intensity:1},null,-1)),b(f(l),y(v(d)),{default:x((()=>[a[1]||(a[1]=_("TresMesh",{position:[8,5.5,8.5],"receive-shadow":"","cast-shadow":"",name:"sphere"},[_("TresSphereGeometry",{args:[3.5]}),_("TresMeshStandardMaterial",{color:16724991,roughness:0,metalness:1})],-1)),_("TresMesh",{ref_key:"torusMesh",ref:m,position:[-8,6,-8],name:"torus"},a[0]||(a[0]=[_("TresTorusKnotGeometry",{args:[3,1,100,32]},null,-1),_("TresMeshPhysicalMaterial",{color:"#33ffff",transmission:1,roughness:0,thickness:2},null,-1)]),512)])),_:1},16),(u(),h(w,null,{default:x((()=>[b(f(T),{position:[0,-.1,0]})])),_:1}))])),_:1},16))}});export{z as default};
