import{k as t}from"./@tresjs.fCqPNEAw1735275234726.js";import{cE as n,_ as e,V as s,aN as o,ac as r,cl as i,c0 as c,ak as a,am as u,aD as l,$ as p,s as f}from"./three.jpi2UCEx1735275234726.js";import{P as d}from"./tweakpane.yHWGBmom1735275234726.js";import{a as g}from"./index.Ny6GIji_1735275234726.js";import"./index.2plr18kG1735275234726.js";import{_ as m}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.adUXZGnZ1735275234726.js";import{d as h,r as _,X as v,s as x,q as w,e as j,o as y,D as b,j as I,g as k,J as B,u as M,m as C,f as D,al as F,I as S}from"./@vue.u2cBPEWn1735275234726.js";import{_ as z}from"./@fesjs.Okr_vpx41735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";import"./three-stdlib.FRPXc4iL1735275234726.js";import"./@pmndrs.fIuOSuk41735275234726.js";import"./object-hash.czWCx2-t1735275234726.js";import"./@amap.Ndko9EDY1735275234726.js";import"./jszip._AevLh8r1735275234726.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.38aVQBA21735275234726.js";import"./all.three.XuJc20cT1735275234726.js";import"./oimophysics.x0jH7fze1735275234726.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.mi6rugTA1735275234726.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.IFtbzmOp1735275234726.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.1YTtfnJA1735275234726.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.qCeR04a31735275234726.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.WMr7J9n71735275234726.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.nvVGBSZJ1735275234726.js";import"./vue-router.bq4JfoTS1735275234726.js";import"./lodash-es.guXTxyfJ1735275234726.js";import"./@qlin.yHhFDldE1735275234726.js";import"./pinia.BXllYoho1735275234726.js";import"./vue-demi.C4xddsk91735275234726.js";import"./@floating-ui.BPbuo5Gx1735275234726.js";import"./@juggle.7yjBMqoW1735275234726.js";const A=G;!function(t,n){const e=G,s=E();for(;;)try{if(855847===-parseInt(e(156))/1+parseInt(e(172))/2*(-parseInt(e(196))/3)+-parseInt(e(169))/4*(parseInt(e(146))/5)+-parseInt(e(138))/6+parseInt(e(194))/7*(parseInt(e(166))/8)+parseInt(e(159))/9+parseInt(e(145))/10)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const T=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){T(this,(function(){const t=G,n=new RegExp(t(155)),e=new RegExp(t(147),"i"),s=L(t(167));n[t(153)](s+t(182))&&e[t(153)](s+"input")?L():s("0")}))()}();const R=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[G(185)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function E(){const t=["min","attributes","name","test","Vector2","function *\\( *\\)","1391306lQiJZv","computeBoundingBox","log","3002337UuEHZu",'{}.constructor("return this")( )',"toShapes","table","Shape","getX","stateObject","472XIDpXl","init","boundingBox","96baAChM","toString","material","134sBLjgJ","renderOrder","__proto__","geometry","string","gger","holes","count","getCenter","return (function() ","chain","parse","warn","apply","Mesh","add","negate","ExtrudeGeometry","MeshBasicMaterial","BufferAttribute","#AFAFAD","bind","190547arLwBH","paths","16845MTKDTt","info","length","constructor","rotation","receiveShadow","getY","debu","max","counter","position","3260082RDaGvc","castShadow","LineSegments","console","exception","drawImportSpecialBoard","mBoundingBox","16855930bxxGUg","95525CxlBFz","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","forEach","copy"];return(E=function(){return t})()}R(void 0,(function(){const t=G;let n;try{n=Function(t(181)+t(160)+");")()}catch(o){n=window}const e=n[t(141)]=n.console||{},s=[t(158),t(184),t(197),"error",t(142),t(162),"trace"];for(let r=0;r<s[t(198)];r++){const n=R[t(199)].prototype[t(193)](R),o=s[r],i=e[o]||n;n[t(174)]=R[t(193)](R),n[t(170)]=i[t(170)][t(193)](i),e[o]=n}}))();class X{constructor(t){this[G(152)]=t}[A(143)](t,c,a){const u=A,l=(new n)[u(183)](c),p=new(e[u(163)]);l[u(195)][u(148)](((t,n)=>{const e=u;t[e(161)](!0)[e(148)](((t,s)=>{const o=e;0===n&&0===s?p[o(149)](t):p[o(178)].push(t)}))}));const f=new(e[u(189)])(p,{depth:18,bevelEnabled:!1});f.computeBoundingBox();const d=f[u(168)][u(180)](new s)[u(188)]();f.translate(d.x,d.y,d.z),f[u(157)]();const g=f[u(168)][u(135)],m=f[u(168)][u(150)],h=new(e[u(154)])(0-m.x,0-m.y),_=new(e[u(154)])(g.x-m.x,g.y-m.y);f[u(151)].uv=new(e[u(191)])(new Float32Array(2*f[u(151)][u(137)][u(179)]),2);for(let n=0;n<f[u(151)][u(137)].count;n++){const t=f.attributes[u(137)][u(164)](n),e=f[u(151)][u(137)][u(133)](n);f.attributes.uv.setXY(n,(t+h.x)/_.x,(e+h.y)/_.y)}const v=new(e[u(190)])({map:null}),x=new(e[u(186)])(f,v);x[u(171)]=new o({map:null,color:u(192),roughness:1,metalness:.1,envMapIntensity:2.5}),x[u(132)]=!0,x[u(139)]=!0,x.position.x=a,x[u(137)].y=250;const w=new r({color:0}),j=new i(x[u(175)],1),y=new(e[u(140)])(j,w);y[u(173)]=1,y[u(137)][u(149)](x.position),y[u(200)][u(149)](x[u(200)]),x[u(144)]=y,t[u(187)](x,x[u(144)])}}function G(t,n){const e=E();return(G=function(t,n){return e[t-=132]})(t,n)}function L(t){function n(t){const e=G;if(typeof t===e(176))return function(t){}[e(199)]("while (true) {}")[e(185)](e(136));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(134)+e(177)).call("action"):function(){return!1}[e(199)](e(134)+"gger")[e(185)](e(165)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function P(){const t=["plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","action","gger","1000"," 时出错","trace","_blank","bind","function *\\( *\\)","1.1","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","pos-y.jpg","http://www.w3.org/2000/svg","prototype","console","12KKkGCv","counter","log","return (function() ","http://www.inkscape.org/namespaces/inkscape","querySelector","input",'{}.constructor("return this")( )',"warn","加载脚本 ","2627344HRloOV","TresMeshBasicMaterial","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","constructor","加载脚本时出错","#ffffff","test","assembly","dxf2meshPage","552AtjSRs","onerror","neg-x.jpg","TresGroup","addFolder","open","29579kbbkYt","TresGridHelper","963957IKPDmb","string","#776A8F","translate(50, 50)","footBtn","dxfFileInput","下载测试文件1","outerHTML","#627179","导入dxf","10000","46265XBeuyd","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresBoxGeometry","value","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","click","dxf2svg","then","pos-z.jpg","length","#82DBC5","text/javascript","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","script","svg","div","dialogVisible","localFileReader","74514MFpQsg","addButton","835163vzFYKo","1933530DyzcEH","debu","#3a78a2","chain","neg-z.jpg","9qGCtPv","apply","type","blue","TresPerspectiveCamera","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","createElement","children","boxMeshRef","初始化","toString","xMidYMid meet","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","button","36uoisLm","error","exception","pen1","while (true) {}","info","下载测试文件2","6EWXPoL"];return(P=function(){return t})()}const q=V;function V(t,n){const e=P();return(V=function(t,n){return e[t-=261]})(t,n)}!function(t,n){const e=V,s=P();for(;;)try{if(173959===-parseInt(e(287))/1*(parseInt(e(360))/2)+parseInt(e(330))/3+-parseInt(e(280))/4*(parseInt(e(341))/5)+-parseInt(e(303))/6*(parseInt(e(362))/7)+-parseInt(e(313))/8*(-parseInt(e(266))/9)+parseInt(e(261))/10+parseInt(e(328))/11*(-parseInt(e(322))/12))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const Z=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[V(267)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){Z(this,(function(){const t=V,n=new RegExp(t(296)),e=new RegExp(t(343),"i"),s=K(t(342));n[t(319)](s+t(264))&&e.test(s+t(309))?K():s("0")}))()}();const H=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[V(267)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();H(void 0,(function(){const t=V;let n;try{n=Function(t(306)+t(310)+");")()}catch(o){n=window}const e=n[t(302)]=n[t(302)]||{},s=[t(305),t(311),t(285),t(281),t(282),"table",t(293)];for(let r=0;r<s[t(351)];r++){const n=H.constructor[t(301)].bind(H),o=s[r],i=e[o]||n;n.__proto__=H[t(295)](H),n[t(276)]=i[t(276)][t(295)](i),e[o]=n}}))();const Y={key:0,class:"dialogDiv"},$={class:q(334)};function K(t){function n(t){const e=V;if(typeof t===e(331))return function(t){}[e(316)](e(284))[e(267)](e(304));1!==(""+t/t)[e(351)]||t%20==0?function(){return!0}[e(316)](e(262)+e(290)).call(e(289)):function(){return!1}.constructor(e(262)+e(290))[e(267)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=z(h({__name:q(321),setup(n){const e=q,s=_({dialogVisible:!1}),o={clearColor:e(352),shadows:!0,alpha:!1,shadowMapType:c,outputColorSpace:a,toneMapping:u},r=_({cellSize:60,cellThickness:1.1,cellColor:e(338),sectionColor:e(263),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let i=0;const h=v(),z=v(),A=new d;A[e(361)]({title:e(336)}).on(e(347),(()=>{const t=e;window[t(327)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(294))})),A.addButton({title:e(286)}).on("click",(()=>{const t=e;window[t(327)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(294))}));const T=A[e(326)]({title:"远近"});function R(){const t=e,n=z.value;s[t(358)]=!1;const o=document[t(308)]("#svg-display svg");if(o){const e=o[t(337)];let s=new X;i+=1200,s.drawImportSpecialBoard(n,e,i)}}function E(t){return new Promise(((n,e)=>{const s=V,o=document[s(272)](s(355));o.src=t,o[s(268)]=s(353),o.onload=()=>n(),o[s(323)]=()=>e(new Error(s(312)+t+s(292))),document.head.appendChild(o)}))}return T[e(361)]({title:e(339)}).on(e(347),(()=>{const t=e;s[t(358)]=!0,x((()=>{const n=t;window[n(359)][n(342)]()}))})),T[e(361)]({title:e(275)}).on(e(347),(()=>{!function(){const t=e,n=new l(500,500,18),s=new p({color:t(269)}),o=new f(n,s),r=z[t(345)];for(;r[t(273)][t(351)]>0;){const n=r[t(273)][0];r.remove(n)}r.add(o)}()})),w((()=>{!function(){const t=e;E(t(354))[t(349)]((()=>E(t(346)))).then((()=>E(t(298))))[t(349)]((()=>E(t(288)))).then((()=>E(t(271))))[t(349)]((()=>E(t(278)))).catch((n=>console[t(281)](t(317),n)))}()})),(n,i)=>{const c=e,a=j("TresCanvas");return y(),b("div",null,[I(a,C(o,{"window-size":""}),{default:k((()=>[i[2]||(i[2]=B(c(270),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),I(M(t),{"make-default":""}),i[3]||(i[3]=B(c(329),{position:[0,-1,0],size:c(291),divisions:c(340)},null,-1)),B(c(325),{ref_key:"groupRef",ref:z,position:[2,250,0]},[B("TresMesh",{ref_key:c(274),ref:h},i[1]||(i[1]=[B(c(344),{args:[500,500,18]},null,-1),B(c(314),{color:"blue"},null,-1)]),512)],512),i[4]||(i[4]=B("TresAmbientLight",{color:c(318),intensity:1},null,-1)),i[5]||(i[5]=B("TresDirectionalLight",{color:"#ffffff",position:[300,300,250],intensity:6},null,-1)),I(M(m),C({args:[3,3]},r,{position:[0,-.5,0]}),null,16),(y(),D(F,null,{default:k((()=>[I(M(g),{files:["pos-x.jpg",c(324),c(299),"neg-y.jpg",c(350),c(265)],path:c(315)})])),_:1}))])),_:1},16),s.dialogVisible?(y(),b(c(357),Y,[i[6]||(i[6]=B(c(357),{id:"svg-display",class:c(320),style:{}},[B(c(356),{id:"main-svg",xmlns:c(300),"xmlns:svg":c(300),"xmlns:inkscape":c(307),version:c(297),preserveAspectRatio:c(277)},[B("g",{id:c(348),class:c(283),"stroke-width":"6",fill:c(332),transform:c(333)})])],-1)),i[7]||(i[7]=B(c(357),{class:"fileInput"},[B(c(309),{id:c(335),type:"file"})],-1)),B("div",$,[B(c(279),{onClick:i[0]||(i[0]=t=>s[c(358)]=!1)},"取消"),B(c(279),{onClick:R},"确定")])])):S("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{O as default};
