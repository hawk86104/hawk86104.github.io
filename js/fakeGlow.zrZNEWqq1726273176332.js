import{Y as n,_ as t}from"./@tresjs.BFyWuCYn1726273176332.js";import{m as o,bm as e,C as r,aN as i,a0 as a,_ as s,s as l,z as c}from"./three.874nNzAX1726273176332.js";import{P as u}from"./tweakpane.yHWGBmom1726273176332.js";import{d as f,r as p,a3 as d,e as g,o as m,f as v,g as w,j as h,u as y,L as b,al as I}from"./@vue.JNsx1iN61726273176332.js";import"./@vueuse.NxhkGURn1726273176332.js";function j(){var n=["\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","length","counter","test","3094072dUzyYl",'{}.constructor("return this")( )',"__proto__","setValues","call","input","glowSharpness","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","exception","12rFiWCU","error","init","debu","info","function *\\( *\\)","gger","400959HKIZeA","string","uniforms","glowInternalRadius","fragmentShader","transparent","opacity","prototype","4109iWnpMk","glowColor","apply","blendMode","trace","constructor","side","falloff","console","stateObject","table","8940fjXDSO","1756512kDYQDR","depthTest","toString","chain","#00d5ff","blending","bind","vertexShader","while (true) {}","return (function() ","9013752YNdkwN","2281070PdzKIs","1308czzvSn"];return(j=function(){return n})()}!function(n,t){for(var o=_,e=j();;)try{if(232620===-parseInt(o(201))/1*(parseInt(o(174))/2)+parseInt(o(208))/3+parseInt(o(175))/4+parseInt(o(186))/5+-parseInt(o(187))/6*(parseInt(o(163))/7)+parseInt(o(192))/8+-parseInt(o(185))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(n,t){var o=j();return(_=function(n,t){return o[n-=163]})(n,t)}!function(){x(this,(function(){var n=_,t=new RegExp(n(206)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=k(n(203));t[n(191)](e+n(178))&&o[n(191)](e+n(197))?k():e("0")}))()}();var S=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();S(void 0,(function(){for(var n=_,t=function(){var n,t=_;try{n=Function(t(184)+t(193)+");")()}catch(o){n=window}return n}(),o=t[n(171)]=t[n(171)]||{},e=["log","warn",n(205),n(202),n(200),n(173),n(167)],r=0;r<e.length;r++){var i=S[n(168)][n(215)][n(181)](S),a=e[r],s=o[a]||i;i[n(194)]=S[n(181)](S),i[n(177)]=s[n(177)][n(181)](s),o[a]=i}}))();const z=class extends o{constructor(n={}){var t=_;super(),this[t(182)]=t(199),this[t(212)]=t(188),this[t(210)]={opacity:new e(void 0!==n.opacity?n[t(214)]:1),glowInternalRadius:new e(void 0!==n[t(211)]?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n[t(198)]?n.glowSharpness:.5),falloff:new e(void 0!==n[t(170)]?n[t(170)]:.1),glowColor:new e(void 0!==n[t(164)]?new r(n[t(164)]):new r(t(179)))},this[t(195)](n),this[t(176)]=void 0!==n[t(176)]&&n[t(176)],this[t(180)]=void 0!==n.blendMode?n[t(166)]:i,this[t(213)]=!0,this[t(169)]=void 0!==n[t(169)]?n[t(169)]:a}};function k(n){function t(n){var o=_;if(typeof n===o(209))return function(n){}[o(168)](o(183))[o(165)](o(190));1!==(""+n/n)[o(189)]||n%20==0?function(){return!0}[o(168)](o(204)+o(207))[o(196)]("action"):function(){return!1}.constructor(o(204)+o(207)).apply(o(172)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const R=Y;!function(n,t){const o=Y,e=T();for(;;)try{if(984913===-parseInt(o(240))/1*(parseInt(o(211))/2)+parseInt(o(229))/3+-parseInt(o(179))/4+parseInt(o(223))/5*(parseInt(o(178))/6)+parseInt(o(222))/7+parseInt(o(231))/8+parseInt(o(238))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[Y(193)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function T(){const n=["TresGridHelper","pos-x.jpg","12SQwAqc","1544508jdaoty","error","table","log","#a058c1","string","length","pos-y.jpg",'{}.constructor("return this")( )',"while (true) {}","call","glowColor","glowSharpness","TorusKnotGeometry","apply","TresMeshPhysicalMaterial","bind","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","debu","info","side","return (function() ","counter","init","TresCanvas","neg-z.jpg","object","value","uniforms","FrontSide","chain","primitive","2gijaNe","gger","TresGroup","trace","BackSide","TresPerspectiveCamera","清晰度","blue","内半径","falloff","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6480915CwRplk","481095CgPUex","constructor","neg-x.jpg","function *\\( *\\)","exception","warn","1868112HGDiEV","TresDirectionalLight","7279760BUzNhq","辉光参数","action","neg-y.jpg","console","stateObject","addBinding","5469282jYoTYB","toString","1887615VApHMy","prototype","DoubleSide","opacity","test","glowInternalRadius"];return(T=function(){return n})()}!function(){P(this,(function(){const n=Y,t=new RegExp(n(226)),o=new RegExp(n(221),"i"),e=Z(n(202));t[n(244)](e+n(209))&&o[n(244)](e+"input")?Z():e("0")}))()}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[Y(193)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();C(void 0,(function(){const n=Y,t=function(){const n=Y;let t;try{t=Function(n(200)+n(187)+");")()}catch(o){t=window}return t}(),o=t[n(235)]=t.console||{},e=[n(182),n(228),n(198),n(180),n(227),n(181),n(214)];for(let r=0;r<e[n(185)];r++){const t=C[n(224)][n(241)].bind(C),i=e[r],a=o[i]||t;t.__proto__=C[n(195)](C),t[n(239)]=a[n(239)][n(195)](a),o[i]=t}}))();const N=b(R(216),{position:[0,25,25],near:.1,fov:65},null,-1),M=b("TresAmbientLight",{intensity:1.5},null,-1),G=b(R(230),{position:[100,100,60],intensity:20},null,-1),B=b(R(176),{args:[20,10]},null,-1),D={position:[0,6,0]},A=b("TresMesh",null,[b("TresTorusKnotGeometry",{args:[4,.5,128,128]}),b(R(194),{color:R(218),roughness:.2,clearcoat:1})],-1),F=[R(205)];function Y(n,t){const o=T();return(Y=function(n,t){return o[n-=176]})(n,t)}const E=f({__name:"fakeGlow",setup(o){const e=R,i=new u({title:e(232),expanded:!0}),a=p({glowColor:e(183),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(208)],depthTest:!1}),f=new z,j=new l(new(s[e(192)])(4,3.8,128,128),f);return i.addBinding(a,e(190),{label:"颜色"}),i.addBinding(a,"falloff",{label:"衰减",min:0,max:10,step:.1}),i[e(237)](a,e(245),{label:e(219),min:-5,max:5,step:.1}),i.addBinding(a,e(191),{label:e(217),min:0,max:10,step:.1}),i[e(237)](a,e(243),{label:"透明",min:0,max:1,step:.1}),i[e(237)](a,e(199),{label:"材质面",options:{FrontSide:c,BackSide:s[e(215)],DoubleSide:s[e(242)]}}),d((()=>{const n=e;f[n(207)].falloff[n(206)]=a[n(220)],f.uniforms[n(190)][n(206)]=new r(a[n(190)]),f.uniforms[n(245)][n(206)]=a.glowInternalRadius,f[n(207)][n(191)][n(206)]=a[n(191)],f[n(207)][n(243)][n(206)]=a.opacity,f[n(199)]=a[n(199)]})),(o,r)=>{const i=e,a=g(i(203));return m(),v(a,{"window-size":""},{default:w((()=>[N,M,G,h(y(n),{autoRotate:""}),B,b(i(213),D,[A,b(i(210),{object:y(j)},null,8,F)]),(m(),v(I,null,{default:w((()=>[h(y(t),{files:[i(177),i(225),i(186),i(234),"pos-z.jpg",i(204)],path:i(196)})])),_:1}))])),_:1})}}});function Z(n){function t(n){const o=Y;if(typeof n===o(184))return function(n){}[o(224)](o(188)).apply(o(201));1!==(""+n/n)[o(185)]||n%20==0?function(){return!0}[o(224)](o(197)+o(212))[o(189)](o(233)):function(){return!1}.constructor(o(197)+o(212))[o(193)](o(236)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{E as default};
