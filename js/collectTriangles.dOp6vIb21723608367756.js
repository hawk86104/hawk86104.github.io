import{p as t,$ as n,W as e,d as r}from"./@tresjs.zzLYikgQ1723608367756.js";import{_ as o}from"./index.pfTb-AUb1723608367756.js";import{a as s}from"./index.WHdZ4mF61723608367756.js";import{a6 as i,a as c,B as u,cA as a}from"./three.X8FgZbPT1723608367756.js";import{P as l}from"./tweakpane.yHWGBmom1723608367756.js";import{I as p,C as f,N as m,c as g,d as h,a as d}from"./three-mesh-bvh.ArMO-VqG1723608367756.js";import{d as y,a4 as j,b as w,a1 as b,o as I,D as v,J as _,u as x,F as T,r as M,e as k,j as A,g as S,m as z,f as C,al as R}from"./@vue.Q1VpS3901723608367756.js";import"./@vueuse.QL9lULrD1723608367756.js";import"./index.pa1BMC1l1723608367756.js";import"./@fesjs.v28izi2B1723608367756.js";import"./vue-router.Hmvx0_Do1723608367756.js";import"./lodash-es.nFpJXAf-1723608367756.js";import"./@qlin.yHhFDldE1723608367756.js";import"./pinia.KbXOifkD1723608367756.js";import"./@floating-ui.BPbuo5Gx1723608367756.js";import"./@juggle.7yjBMqoW1723608367756.js";import"./chalk.sAH7iSuz1723608367756.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1723608367756.js";import"./@iconify.9PoCakEb1723608367756.js";import"./utils.Z2QtXkfK1723608367756.js";import"./default.vue_vue_type_script_setup_true_lang.dcCsrAON1723608367756.js";import"./three-mesh-ui.module.MU4ZfWcU1723608367756.js";import"./three-stdlib.dKtHHxUb1723608367756.js";import"./@pmndrs.enT7k5Vt1723608367756.js";import"./object-hash.UuJege4m1723608367756.js";import"./@amap.AaCaABAE1723608367756.js";import"./jszip.fq1N6JAS1723608367756.js";!function(t,n){const e=H,r=G();for(;;)try{if(788290===parseInt(e(124))/1+parseInt(e(148))/2*(parseInt(e(145))/3)+parseInt(e(138))/4+parseInt(e(110))/5+-parseInt(e(131))/6*(-parseInt(e(104))/7)+parseInt(e(126))/8*(parseInt(e(147))/9)+parseInt(e(116))/10*(-parseInt(e(136))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(141)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function H(t,n){const e=G();return(H=function(t,n){return e[t-=104]})(t,n)}!function(){E(this,(function(){const t=H,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(109),"i"),r=U("init");n[t(125)](r+t(135))&&e[t(125)](r+t(151))?U():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(141)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();F(void 0,(function(){const t=H;let n;try{n=Function(t(118)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(133)]||{},r=["log",t(114),t(128),"error","exception",t(139),t(106)];for(let s=0;s<r[t(149)];s++){const n=F[t(150)].prototype[t(132)](F),o=r[s],i=e[o]||n;n[t(107)]=F[t(132)](F),n[t(112)]=i[t(112)][t(132)](i),e[o]=n}}))();function G(){const t=["value","trace","__proto__","innerWidth","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6465980LIdrcA","call","toString","pointermove","warn","addEventListener","30oMvnjN","pointerup","return (function() ","debu","pointerType","while (true) {}","button","pointerdown","191528gQRIEy","test","891376SFFUYX","gger","info","clientY","clientX","6ETHvSb","bind","console","touch","chain","15245263VeUSPx","counter","1834340asMTQz","table","Raycaster","apply","intersectObject","enabled","innerHeight","3dirkPG","action","18iIToMO","2690542cUHHuD","length","constructor","input","string","10042655oHADlD"];return(G=function(){return t})()}function U(t){function n(t){const e=H;if(typeof t===e(152))return function(t){}[e(150)](e(121)).apply(e(137));1!==(""+t/t)[e(149)]||t%20==0?function(){return!0}[e(150)](e(119)+e(127))[e(111)](e(146)):function(){return!1}.constructor("debu"+e(127))[e(141)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Z=Y;!function(t,n){const e=Y,r=L();for(;;)try{if(774356===parseInt(e(399))/1*(-parseInt(e(370))/2)+parseInt(e(385))/3*(-parseInt(e(398))/4)+-parseInt(e(361))/5+-parseInt(e(387))/6+parseInt(e(340))/7*(-parseInt(e(350))/8)+-parseInt(e(347))/9+parseInt(e(381))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(354)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(){const t=["点击按钮","applyMatrix4","visible","point","setX","setUsage","containsPoint","DynamicDrawUsage","TresMeshStandardMaterial","Mesh","3274341kkYDHM","#023249","length","chain","setFromCamera","targetMesh","test","171594CjvTJQ","input","needsUpdate","8HpGHaG","attributes","Vector2","raycast","apply","position","Matrix4","controls","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","string","6112105ECIkKm","action","constructor","fill","set","intersectsBox","targetMesh.value init","count","getZ","6SfwAAV","scale","material","click","setAttribute","intersectObject","prototype","bind","getY","computeBoundsTree","trace","56051840xGbjEi","getX","boundsTree","firstHitOnly","19077GHgoxQ","gger","9106800JiYdRU","counter","error","Vector3","function *\\( *\\)","call","TresMesh","return (function() ","BufferGeometry","debu","TresSphereGeometry","304EFoTUo","373498CPjpNI","toString","geometry","addButton","console","value","Sphere","stateObject","invert","BufferAttribute","table",'{}.constructor("return this")( )',"disposeBoundsTree","normal","copy","MeshStandardMaterial","push","matrixWorld"];return(L=function(){return t})()}!function(){B(this,(function(){const t=Y,n=new RegExp(t(391)),e=new RegExp(t(358),"i"),r=W("init");n[t(346)](r+t(343))&&e[t(346)](r+t(348))?W():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(t,n){const e=L();return(Y=function(t,n){return e[t-=332]})(t,n)}O(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(394)+t(410)+");")()}catch(e){n=window}return n}(),e=n[t(403)]=n[t(403)]||{},r=[t(359),"warn","info",t(389),"exception",t(409),t(380)];for(let o=0;o<r[t(342)];o++){const n=O.constructor[t(376)].bind(O),s=r[o],i=e[s]||n;n.__proto__=O[t(377)](O),n.toString=i[t(400)][t(377)](i),e[s]=n}}))();const D=["geometry",Z(372)],X=[_(Z(397),{args:[1,40,40]},null,-1),_(Z(338),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],$=[Z(401)],P=[_(Z(338),{color:Z(341),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],N=y({__name:"model",props:{controls:{}},async setup(r){const o=Z;let s,y;const M=r;(()=>{const t=Y;u[t(376)].computeBoundsTree=g,i[t(395)][t(376)][t(411)]=h,i[t(339)].prototype[t(353)]=d})();const k=([s,y]=j((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),A=new(i[o(414)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),S=new Uint8Array(3*k[o(351)][o(355)].count);S[o(364)](255);const z=new(i[o(408)])(S,3,!0);z[o(335)](i[o(337)]),k[o(374)]("color",z);const C=w(null),R=w(null),E=w(!1),F=w(-1),G=w(.2),U=new(i[o(352)]),{camera:B,raycaster:L}=t(),O=15/255,N=78/255,W=85/255;let J=null;b((()=>{const t=o;C.value&&(console[t(359)](t(367),C[t(404)]),C[t(404)][t(401)][t(379)](),J=k[t(383)],((t,n,e,r,o,s)=>{const c=H;window[c(115)](c(113),(e=>{const r=c;t.x=e[r(130)]/window.innerWidth*2-1,t.y=-e[r(129)]/window.innerHeight*2+1,n[r(105)]=!0})),window[c(115)](c(123),(u=>{const a=c;t.x=u[a(130)]/window[a(108)]*2-1,t.y=-u[a(129)]/window[a(144)]*2+1,r[a(105)]=u[a(122)];const l=new(i[a(140)]);l.setFromCamera(t,e[a(105)]),l.firstHitOnly=!0;const p=l[a(142)](o[a(105)],!0);n[a(105)]=!0,s[a(143)]=0===p[a(149)]}),!0),window[c(115)](c(117),(t=>{const e=c;r[e(105)]=-1,t[e(120)]===e(134)&&(n[e(105)]=!1)}),!0)})(U,E,B,F,C,M[t(357)][t(404)]))}));const{onLoop:Q}=n();Q((()=>{const t=o,n=k.index;if(R[t(404)])if(M[t(357)][t(404)].active||!E.value)R[t(404)][t(332)]=!1;else{R[t(404)][t(371)].setScalar(G[t(404)]),L[t(404)][t(344)](U,B[t(404)]),L[t(404)][t(384)]=!0;const e=L[t(404)][t(375)](C[t(404)],!0);if(e.length){R[t(404)][t(355)][t(413)](e[0][t(333)]),M[t(357)][t(404)].enabled=!1,R.value[t(332)]=!0;const r=new(i[t(356)]);r[t(413)](C[t(404)][t(416)])[t(407)]();const o=new(i[t(405)]);o.center[t(413)](R[t(404)][t(355)])[t(418)](r),o.radius=100*G.value;const s=[],c=new(i[t(390)]);if(null==J||J.shapecast({intersectsBounds:n=>{const e=t,r=o[e(366)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(365)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(336)](c))return p;return f}return r?p:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(415)](t,t+1,t+2)}return!1}}),0===F.value||2===F[t(404)]){let e=1,r=1,o=1;0===F[t(404)]&&(e=O,r=N,o=W);for(let i=0,c=s.length;i<c;i++){const c=n[t(382)](s[i]);z[t(334)](c,e),z.setY(c,r),z.setZ(c,o)}z[t(349)]=!0}}else R[t(404)][t(332)]=!1,M[t(357)].value.enabled=!0}}));const V=(new l)[o(402)]({title:o(417),label:"生成模型"}),q=new(i[o(395)]);return V.on(o(373),(()=>{const t=o,n=[],e=[];for(let o=0;o<z[t(368)];o++)z[t(382)](o)===O&&z[t(378)](o)===N&&z.getZ(o)===W&&(n[t(415)](k[t(351)][t(355)][t(382)](o),k[t(351)][t(355)][t(378)](o),k.attributes.position[t(369)](o)),e[t(415)](k[t(351)][t(412)][t(382)](o),k[t(351)].normal[t(378)](o),k[t(351)].normal[t(369)](o)));const r=new Float32Array(n);q[t(374)](t(355),new(i[t(408)])(r,3)),q[t(374)](t(412),new c(r,3))})),(t,n)=>{const e=o;return I(),v(T,null,[_("TresMesh",{ref_key:e(345),ref:C,geometry:x(k),scale:.005,material:x(A)},null,8,D),_("TresMesh",{ref_key:"brushMesh",ref:R,visible:!1},X,512),_(e(393),{geometry:x(q),position:[-2,-2,2],scale:.005},P,8,$)],64)}}});function W(t){function n(t){const e=Y;if(typeof t===e(360))return function(t){}[e(363)]("while (true) {}")[e(354)](e(388));1!==(""+t/t)[e(342)]||t%20==0?function(){return!0}[e(363)]("debugger")[e(392)](e(362)):function(){return!1}[e(363)](e(396)+e(386))[e(354)](e(406)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function J(t,n){const e=et();return(J=function(t,n){return e[t-=449]})(t,n)}const Q=J;!function(t,n){const e=J,r=et();for(;;)try{if(910453===parseInt(e(465))/1*(-parseInt(e(466))/2)+-parseInt(e(480))/3*(-parseInt(e(468))/4)+-parseInt(e(467))/5+-parseInt(e(457))/6*(parseInt(e(451))/7)+-parseInt(e(474))/8+parseInt(e(473))/9*(parseInt(e(449))/10)+parseInt(e(476))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=J,n=new RegExp(t(462)),e=new RegExp(t(487),"i"),r=rt(t(458));n[t(492)](r+t(490))&&e[t(492)](r+t(460))?rt():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(452)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();q(void 0,(function(){const t=J;let n;try{n=Function(t(464)+t(475)+");")()}catch(o){n=window}const e=n[t(484)]=n.console||{},r=[t(486),t(478),t(463),t(482),t(471),"table","trace"];for(let s=0;s<r[t(493)];s++){const n=q[t(470)][t(461)][t(489)](q),o=r[s],i=e[o]||n;n[t(469)]=q.bind(q),n.toString=i[t(481)].bind(i),e[o]=n}}))();const K=_(Q(454),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=_("TresAmbientLight",{intensity:1},null,-1),nt=y({__name:Q(459),setup(t){const n=Q,e=M({clearColor:n(477),antialias:!0}),i=M({autoRotate:!1}),c=w(null);return(t,u)=>{const a=n,l=k(a(485));return I(),v(T,null,[A(x(o)),A(l,z(e,{"window-size":""}),{default:S((()=>[K,A(x(r),z({ref_key:a(483),ref:c},i),null,16),tt,(I(),C(R,null,{default:S((()=>[A(N,{controls:c.value},null,8,["controls"])])),_:1})),(I(),C(R,null,{default:S((()=>[A(x(s),{background:!1,files:["pos-x.jpg",a(472),a(479),"neg-y.jpg",a(450),"neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function et(){const t=["info","return (function() ","533534NnlrIg","4MHzGGW","1073925LLLxfn","8EznSbu","__proto__","constructor","exception","neg-x.jpg","9CveLUe","4103800usYzoL",'{}.constructor("return this")( )',"13261754GLwbNh","#999999","warn","pos-y.jpg","2645814CmTmRm","toString","error","controlsRef","console","TresCanvas","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","bind","chain","call","test","length","14269690vStXFe","pos-z.jpg","22169KjFqRx","apply","gger","TresPerspectiveCamera","action","while (true) {}","3204ZCRkGO","init","collectTriangles","input","prototype","function *\\( *\\)"];return(et=function(){return t})()}function rt(t){function n(t){const e=J;if(typeof t===e(488))return function(t){}[e(470)](e(456))[e(452)]("counter");1!==(""+t/t)[e(493)]||t%20==0?function(){return!0}[e(470)]("debugger")[e(491)](e(455)):function(){return!1}[e(470)]("debu"+e(453))[e(452)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{nt as default};
