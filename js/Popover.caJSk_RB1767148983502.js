import{importShared as H}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{isBrowser as Re,modalBodyInjectionKey as ke,drawerBodyInjectionKey as Pe,popoverBodyInjectionKey as Te,getSlot as et,getFirstVNode as Se,LazyTeleport as tt,zindexable as De,clickoutside as Ce,FocusTrap as nt,getFirstSlotVNode as ot,keep as rt}from"./keep.Bwm3V3-L1767148983502.js";import{baseFor as it,createInjectionKey as Fe,CssRender as lt,useSsrAdapter as at,createTheme as st,derived as dt,c as j,cB as I,cNotM as ue,cE as fe,cM as le,cCB as ut,useConfig as ft,useTheme as Me,useThemeClass as ct,isSlotEmpty as Be,resolveWrappedSlot as ce,call as R}from"./light.Bp388JKA1767148983502.js";import{Stack as ht,baseIsEqual as je,isObject as pt,keys as Ne,isKey as We,toKey as Le,get as vt,hasIn as mt,baseGet as wt,identity as bt,isArray as He,isArrayLike as Xe,arrayMap as gt}from"./index.DTe2qqjO1767148983502.js";import{useMemo as Z,isMounted as Ye,useRtl as yt}from"./use-rtl.q0hodkC81767148983502.js";import{on as V,off as L,useMergedState as $t}from"./use-merged-state.qnrvbG9d1767148983502.js";import{formatLength as he}from"./format-length.BHvmju661767148983502.js";import{scrollbarLight as xt,getPreciseEventTarget as Oe,XScrollbar as Mt}from"./Scrollbar.BsFc6odp1767148983502.js";import{useCompitable as St}from"./use-compitable.DdqYCU_J1767148983502.js";var Ct=1,Bt=2;function Ot(e,t,n,o){var r=n.length,d=r;if(e==null)return!d;for(e=Object(e);r--;){var i=n[r];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++r<d;){i=n[r];var l=i[0],a=e[l],w=i[1];if(i[2]){if(a===void 0&&!(l in e))return!1}else{var h=new ht,y;if(!(y===void 0?je(w,a,Ct|Bt,o,h):y))return!1}}return!0}function Ue(e){return e===e&&!pt(e)}function At(e){for(var t=Ne(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Ue(r)]}return t}function Ve(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function zt(e){var t=At(e);return t.length==1&&t[0][2]?Ve(t[0][0],t[0][1]):function(n){return n===e||Ot(n,e,t)}}var Et=1,_t=2;function It(e,t){return We(e)&&Ue(t)?Ve(Le(e),t):function(n){var o=vt(n,e);return o===void 0&&o===t?mt(n,e):je(t,o,Et|_t)}}function kt(e){return function(t){return t?.[e]}}function Pt(e){return function(t){return wt(t,e)}}function Tt(e){return We(e)?kt(Le(e)):Pt(e)}function Dt(e){return typeof e=="function"?e:e==null?bt:typeof e=="object"?He(e)?It(e[0],e[1]):zt(e):Tt(e)}function Ft(e,t){return e&&it(e,t,Ne)}function jt(e,t){return function(n,o){if(n==null)return n;if(!Xe(n))return e(n,o);for(var r=n.length,d=-1,i=Object(n);++d<r&&o(i[d],d,i)!==!1;);return n}}var Nt=jt(Ft);function Wt(e,t){var n=-1,o=Xe(e)?Array(e.length):[];return Nt(e,function(r,d,i){o[++n]=t(r,d,i)}),o}function Lt(e,t){var n=He(e)?gt:Wt;return n(e,Dt(t))}let ae=[];const Ke=new WeakMap;function Ht(){ae.forEach(e=>e(...Ke.get(e))),ae=[]}function Xt(e,...t){Ke.set(e,t),!ae.includes(e)&&ae.push(e)===1&&requestAnimationFrame(Ht)}const{onMounted:Yt,onBeforeUnmount:Ut}=await H("vue");let K,Q;const Vt=()=>{var e,t;K=Re?(t=(e=document)===null||e===void 0?void 0:e.fonts)===null||t===void 0?void 0:t.ready:void 0,Q=!1,K!==void 0?K.then(()=>{Q=!0}):Q=!0};Vt();function Kt(e){if(Q)return;let t=!1;Yt(()=>{Q||K?.then(()=>{t||e()})}),Ut(()=>{t=!0})}const ho=Fe("n-internal-select-menu"),Gt=Fe("n-internal-select-menu-body"),{inject:ee,onBeforeUnmount:qt,onMounted:Jt,ref:Qt}=await H("vue"),Ge="__disabled__";function G(e){const t=ee(ke,null),n=ee(Pe,null),o=ee(Te,null),r=ee(Gt,null),d=Qt();if(typeof document<"u"){d.value=document.fullscreenElement;const i=()=>{d.value=document.fullscreenElement};Jt(()=>{V("fullscreenchange",document,i)}),qt(()=>{L("fullscreenchange",document,i)})}return Z(()=>{var i;const{to:l}=e;return l!==void 0?l===!1?Ge:l===!0?d.value||"body":l:t?.value?(i=t.value.$el)!==null&&i!==void 0?i:t.value:n?.value?n.value:o?.value?o.value:r?.value?r.value:l??(d.value||"body")})}G.tdkey=Ge;G.propTo={type:[String,Object,Boolean],default:void 0};let F=null;function qe(){if(F===null&&(F=document.getElementById("v-binder-view-measurer"),F===null)){F=document.createElement("div"),F.id="v-binder-view-measurer";const{style:e}=F;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(F)}return F.getBoundingClientRect()}function Zt(e,t){const n=qe();return{top:t,left:e,height:0,width:0,right:n.width-e,bottom:n.height-t}}function pe(e){const t=e.getBoundingClientRect(),n=qe();return{left:t.left-n.left,top:t.top-n.top,bottom:n.height+n.top-t.bottom,right:n.width+n.left-t.right,width:t.width,height:t.height}}function Rt(e){return e.nodeType===9?null:e.parentNode}function Je(e){if(e===null)return null;const t=Rt(e);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:n,overflowX:o,overflowY:r}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(n+r+o))return t}return Je(t)}const{defineComponent:en,provide:tn,ref:nn,inject:on,getCurrentInstance:rn,onBeforeUnmount:ln}=await H("vue"),an=en({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var t;tn("VBinder",(t=rn())===null||t===void 0?void 0:t.proxy);const n=on("VBinder",null),o=nn(null),r=s=>{o.value=s,n&&e.syncTargetWithParent&&n.setTargetRef(s)};let d=[];const i=()=>{let s=o.value;for(;s=Je(s),s!==null;)d.push(s);for(const S of d)V("scroll",S,y,!0)},l=()=>{for(const s of d)L("scroll",s,y,!0);d=[]},a=new Set,w=s=>{a.size===0&&i(),a.has(s)||a.add(s)},h=s=>{a.has(s)&&a.delete(s),a.size===0&&l()},y=()=>{Xt(u)},u=()=>{a.forEach(s=>s())},c=new Set,b=s=>{c.size===0&&V("resize",window,g),c.has(s)||c.add(s)},p=s=>{c.has(s)&&c.delete(s),c.size===0&&L("resize",window,g)},g=()=>{c.forEach(s=>s())};return ln(()=>{L("resize",window,g),l()}),{targetRef:o,setTargetRef:r,addScrollListener:w,removeScrollListener:h,addResizeListener:b,removeResizeListener:p}},render(){return et("binder",this.$slots)}}),{defineComponent:sn,inject:dn,withDirectives:un}=await H("vue"),fn=sn({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=dn("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?un(Se("follower",this.$slots),[[t]]):Se("follower",this.$slots)}}),U="@@mmoContext",cn={mounted(e,{value:t}){e[U]={handler:void 0},typeof t=="function"&&(e[U].handler=t,V("mousemoveoutside",e,t))},updated(e,{value:t}){const n=e[U];typeof t=="function"?n.handler?n.handler!==t&&(L("mousemoveoutside",e,n.handler),n.handler=t,V("mousemoveoutside",e,t)):(e[U].handler=t,V("mousemoveoutside",e,t)):n.handler&&(L("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:t}=e[U];t&&L("mousemoveoutside",e,t),e[U].handler=void 0}},{c:te}=lt(),hn="vueuc-style",ne={top:"bottom",bottom:"top",left:"right",right:"left"},Ae={start:"end",center:"center",end:"start"},ve={top:"height",bottom:"height",left:"width",right:"width"},pn={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},vn={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},mn={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},ze={top:!0,bottom:!1,left:!0,right:!1},Ee={top:"end",bottom:"start",left:"end",right:"start"};function wn(e,t,n,o,r,d){if(!r||d)return{placement:e,top:0,left:0};const[i,l]=e.split("-");let a=l??"center",w={top:0,left:0};const h=(c,b,p)=>{let g=0,s=0;const S=n[c]-t[b]-t[c];return S>0&&o&&(p?s=ze[b]?S:-S:g=ze[b]?S:-S),{left:g,top:s}},y=i==="left"||i==="right";if(a!=="center"){const c=mn[e],b=ne[c],p=ve[c];if(n[p]>t[p]){if(t[c]+t[p]<n[p]){const g=(n[p]-t[p])/2;t[c]<g||t[b]<g?t[c]<t[b]?(a=Ae[l],w=h(p,b,y)):w=h(p,c,y):a="center"}}else n[p]<t[p]&&t[b]<0&&t[c]>t[b]&&(a=Ae[l])}else{const c=i==="bottom"||i==="top"?"left":"top",b=ne[c],p=ve[c],g=(n[p]-t[p])/2;(t[c]<g||t[b]<g)&&(t[c]>t[b]?(a=Ee[c],w=h(p,c,y)):(a=Ee[b],w=h(p,b,y)))}let u=i;return t[i]<n[ve[i]]&&t[i]<t[ne[i]]&&(u=ne[i]),{placement:a!=="center"?`${u}-${a}`:u,left:w.left,top:w.top}}function bn(e,t){return t?vn[e]:pn[e]}function gn(e,t,n,o,r,d){if(d)switch(e){case"bottom-start":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(n.top-t.top+n.height+o)}px`,left:`${Math.round(n.left-t.left+r)}px`,transform:""};case"bottom-end":return{top:`${Math.round(n.top-t.top+n.height+o)}px`,left:`${Math.round(n.left-t.left+n.width+r)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(n.top-t.top+o)}px`,left:`${Math.round(n.left-t.left+r)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(n.top-t.top+o)}px`,left:`${Math.round(n.left-t.left+n.width+r)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(n.top-t.top+o)}px`,left:`${Math.round(n.left-t.left+n.width+r)}px`,transform:""};case"right-end":return{top:`${Math.round(n.top-t.top+n.height+o)}px`,left:`${Math.round(n.left-t.left+n.width+r)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-t.top+o)}px`,left:`${Math.round(n.left-t.left+r)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(n.top-t.top+n.height+o)}px`,left:`${Math.round(n.left-t.left+r)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(n.top-t.top+o)}px`,left:`${Math.round(n.left-t.left+n.width/2+r)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2+o)}px`,left:`${Math.round(n.left-t.left+n.width+r)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2+o)}px`,left:`${Math.round(n.left-t.left+r)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(n.top-t.top+n.height+o)}px`,left:`${Math.round(n.left-t.left+n.width/2+r)}px`,transform:"translateX(-50%)"}}}const{h:me,defineComponent:yn,inject:$n,nextTick:xn,watch:oe,toRef:we,ref:_e,onMounted:Mn,onBeforeUnmount:Sn,withDirectives:Cn}=await H("vue"),Bn=te([te(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),te(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[te("> *",{pointerEvents:"all"})])]),On=yn({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const t=$n("VBinder"),n=Z(()=>e.enabled!==void 0?e.enabled:e.show),o=_e(null),r=_e(null),d=()=>{const{syncTrigger:u}=e;u.includes("scroll")&&t.addScrollListener(a),u.includes("resize")&&t.addResizeListener(a)},i=()=>{t.removeScrollListener(a),t.removeResizeListener(a)};Mn(()=>{n.value&&(a(),d())});const l=at();Bn.mount({id:"vueuc/binder",head:!0,anchorMetaName:hn,ssr:l}),Sn(()=>{i()}),Kt(()=>{n.value&&a()});const a=()=>{if(!n.value)return;const u=o.value;if(u===null)return;const c=t.targetRef,{x:b,y:p,overlap:g}=e,s=b!==void 0&&p!==void 0?Zt(b,p):pe(c);u.style.setProperty("--v-target-width",`${Math.round(s.width)}px`),u.style.setProperty("--v-target-height",`${Math.round(s.height)}px`);const{width:S,minWidth:k,placement:N,internalShift:X,flip:P}=e;u.setAttribute("v-placement",N),g?u.setAttribute("v-overlap",""):u.removeAttribute("v-overlap");const{style:z}=u;S==="target"?z.width=`${s.width}px`:S!==void 0?z.width=S:z.width="",k==="target"?z.minWidth=`${s.width}px`:k!==void 0?z.minWidth=k:z.minWidth="";const q=pe(u),m=pe(r.value),{left:$,top:C,placement:v}=wn(N,s,q,X,P,g),T=bn(v,g),{left:Y,top:f,transform:x}=gn(v,m,s,C,$,g);u.setAttribute("v-placement",v),u.style.setProperty("--v-offset-left",`${Math.round($)}px`),u.style.setProperty("--v-offset-top",`${Math.round(C)}px`),u.style.transform=`translateX(${Y}) translateY(${f}) ${x}`,u.style.setProperty("--v-transform-origin",T),u.style.transformOrigin=T};oe(n,u=>{u?(d(),w()):i()});const w=()=>{xn().then(a).catch(u=>console.error(u))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(u=>{oe(we(e,u),a)}),["teleportDisabled"].forEach(u=>{oe(we(e,u),w)}),oe(we(e,"syncTrigger"),u=>{u.includes("resize")?t.addResizeListener(a):t.removeResizeListener(a),u.includes("scroll")?t.addScrollListener(a):t.removeScrollListener(a)});const h=Ye(),y=Z(()=>{const{to:u}=e;if(u!==void 0)return u;h.value});return{VBinder:t,mergedEnabled:n,offsetContainerRef:r,followerRef:o,mergedTo:y,syncPosition:a}},render(){return me(tt,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const n=me("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[me("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))]);return this.zindexable?Cn(n,[[De,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):n}})}});let be;function An(){return be===void 0&&(be=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),be}const zn={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};function En(e){const{boxShadow2:t,popoverColor:n,textColor2:o,borderRadius:r,fontSize:d,dividerColor:i}=e;return Object.assign(Object.assign({},zn),{fontSize:d,borderRadius:r,color:n,dividerColor:i,textColor:o,boxShadow:t})}const _n=st({name:"Popover",common:dt,peers:{Scrollbar:xt},self:En}),ge={top:"bottom",bottom:"top",left:"right",right:"left"},M="var(--n-arrow-height) * 1.414",In=j([I("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[j(">",[I("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),ue("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[ue("scrollable",[ue("show-header-or-footer","padding: var(--n-padding);")])]),fe("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),fe("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),le("scrollable, show-header-or-footer",[fe("content",`
 padding: var(--n-padding);
 `)])]),I("popover-shared",`
 transform-origin: inherit;
 `,[I("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[I("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${M});
 height: calc(${M});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),j("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),j("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),j("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),j("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),O("top-start",`
 top: calc(${M} / -2);
 left: calc(${_("top-start")} - var(--v-offset-left));
 `),O("top",`
 top: calc(${M} / -2);
 transform: translateX(calc(${M} / -2)) rotate(45deg);
 left: 50%;
 `),O("top-end",`
 top: calc(${M} / -2);
 right: calc(${_("top-end")} + var(--v-offset-left));
 `),O("bottom-start",`
 bottom: calc(${M} / -2);
 left: calc(${_("bottom-start")} - var(--v-offset-left));
 `),O("bottom",`
 bottom: calc(${M} / -2);
 transform: translateX(calc(${M} / -2)) rotate(45deg);
 left: 50%;
 `),O("bottom-end",`
 bottom: calc(${M} / -2);
 right: calc(${_("bottom-end")} + var(--v-offset-left));
 `),O("left-start",`
 left: calc(${M} / -2);
 top: calc(${_("left-start")} - var(--v-offset-top));
 `),O("left",`
 left: calc(${M} / -2);
 transform: translateY(calc(${M} / -2)) rotate(45deg);
 top: 50%;
 `),O("left-end",`
 left: calc(${M} / -2);
 bottom: calc(${_("left-end")} + var(--v-offset-top));
 `),O("right-start",`
 right: calc(${M} / -2);
 top: calc(${_("right-start")} - var(--v-offset-top));
 `),O("right",`
 right: calc(${M} / -2);
 transform: translateY(calc(${M} / -2)) rotate(45deg);
 top: 50%;
 `),O("right-end",`
 right: calc(${M} / -2);
 bottom: calc(${_("right-end")} + var(--v-offset-top));
 `),...Lt({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,t)=>{const n=["right","left"].includes(t),o=n?"width":"height";return e.map(r=>{const d=r.split("-")[1]==="end",l=`calc((${`var(--v-target-${o}, 0px)`} - ${M}) / 2)`,a=_(r);return j(`[v-placement="${r}"] >`,[I("popover-shared",[le("center-arrow",[I("popover-arrow",`${t}: calc(max(${l}, ${a}) ${d?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function _(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function O(e,t){const n=e.split("-")[0],o=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return j(`[v-placement="${e}"] >`,[I("popover-shared",`
 margin-${ge[n]}: var(--n-space);
 `,[le("show-arrow",`
 margin-${ge[n]}: var(--n-space-arrow);
 `),le("overlap",`
 margin: 0;
 `),ut("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${ge[n]}: auto;
 ${o}
 `,[I("popover-arrow",t)])])])}const{computed:ye,defineComponent:kn,Fragment:Pn,h:A,inject:Tn,mergeProps:Dn,onBeforeUnmount:Fn,provide:$e,ref:re,toRef:jn,Transition:Nn,vShow:Wn,watch:Ln,watchEffect:Hn,withDirectives:Xn}=await H("vue"),Qe=Object.assign(Object.assign({},Me.props),{to:G.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function Yn({arrowClass:e,arrowStyle:t,arrowWrapperClass:n,arrowWrapperStyle:o,clsPrefix:r}){return A("div",{key:"__popover-arrow__",style:o,class:[`${r}-popover-arrow-wrapper`,n]},A("div",{class:[`${r}-popover-arrow`,e],style:t}))}const Un=kn({name:"PopoverBody",inheritAttrs:!1,props:Qe,setup(e,{slots:t,attrs:n}){const{namespaceRef:o,mergedClsPrefixRef:r,inlineThemeDisabled:d,mergedRtlRef:i}=ft(e),l=Me("Popover","-popover",In,_n,e,r),a=yt("Popover",i,r),w=re(null),h=Tn("NPopover"),y=re(null),u=re(e.show),c=re(!1);Hn(()=>{const{show:m}=e;m&&!An()&&!e.internalDeactivateImmediately&&(c.value=!0)});const b=ye(()=>{const{trigger:m,onClickoutside:$}=e,C=[],{positionManuallyRef:{value:v}}=h;return v||(m==="click"&&!$&&C.push([Ce,P,void 0,{capture:!0}]),m==="hover"&&C.push([cn,X])),$&&C.push([Ce,P,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&c.value)&&C.push([Wn,e.show]),C}),p=ye(()=>{const{common:{cubicBezierEaseInOut:m,cubicBezierEaseIn:$,cubicBezierEaseOut:C},self:{space:v,spaceArrow:T,padding:Y,fontSize:f,textColor:x,dividerColor:B,color:D,boxShadow:W,borderRadius:se,arrowHeight:de,arrowOffset:E,arrowOffsetVertical:Ze}}=l.value;return{"--n-box-shadow":W,"--n-bezier":m,"--n-bezier-ease-in":$,"--n-bezier-ease-out":C,"--n-font-size":f,"--n-text-color":x,"--n-color":D,"--n-divider-color":B,"--n-border-radius":se,"--n-arrow-height":de,"--n-arrow-offset":E,"--n-arrow-offset-vertical":Ze,"--n-padding":Y,"--n-space":v,"--n-space-arrow":T}}),g=ye(()=>{const m=e.width==="trigger"?void 0:he(e.width),$=[];m&&$.push({width:m});const{maxWidth:C,minWidth:v}=e;return C&&$.push({maxWidth:he(C)}),v&&$.push({maxWidth:he(v)}),d||$.push(p.value),$}),s=d?ct("popover",void 0,p,e):void 0;h.setBodyInstance({syncPosition:S}),Fn(()=>{h.setBodyInstance(null)}),Ln(jn(e,"show"),m=>{e.animated||(m?u.value=!0:u.value=!1)});function S(){var m;(m=w.value)===null||m===void 0||m.syncPosition()}function k(m){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&h.handleMouseEnter(m)}function N(m){e.trigger==="hover"&&e.keepAliveOnHover&&h.handleMouseLeave(m)}function X(m){e.trigger==="hover"&&!z().contains(Oe(m))&&h.handleMouseMoveOutside(m)}function P(m){(e.trigger==="click"&&!z().contains(Oe(m))||e.onClickoutside)&&h.handleClickOutside(m)}function z(){return h.getTriggerElement()}$e(Te,y),$e(Pe,null),$e(ke,null);function q(){if(s?.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&c.value))return null;let $;const C=h.internalRenderBodyRef.value,{value:v}=r;if(C)$=C([`${v}-popover-shared`,a?.value&&`${v}-popover--rtl`,s?.themeClass.value,e.overlap&&`${v}-popover-shared--overlap`,e.showArrow&&`${v}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${v}-popover-shared--center-arrow`],y,g.value,k,N);else{const{value:T}=h.extraClassRef,{internalTrapFocus:Y}=e,f=!Be(t.header)||!Be(t.footer),x=()=>{var B,D;const W=f?A(Pn,null,ce(t.header,E=>E?A("div",{class:[`${v}-popover__header`,e.headerClass],style:e.headerStyle},E):null),ce(t.default,E=>E?A("div",{class:[`${v}-popover__content`,e.contentClass],style:e.contentStyle},t):null),ce(t.footer,E=>E?A("div",{class:[`${v}-popover__footer`,e.footerClass],style:e.footerStyle},E):null)):e.scrollable?(B=t.default)===null||B===void 0?void 0:B.call(t):A("div",{class:[`${v}-popover__content`,e.contentClass],style:e.contentStyle},t),se=e.scrollable?A(Mt,{themeOverrides:l.value.peerOverrides.Scrollbar,theme:l.value.peers.Scrollbar,contentClass:f?void 0:`${v}-popover__content ${(D=e.contentClass)!==null&&D!==void 0?D:""}`,contentStyle:f?void 0:e.contentStyle},{default:()=>W}):W,de=e.showArrow?Yn({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:v}):null;return[se,de]};$=A("div",Dn({class:[`${v}-popover`,`${v}-popover-shared`,a?.value&&`${v}-popover--rtl`,s?.themeClass.value,T.map(B=>`${v}-${B}`),{[`${v}-popover--scrollable`]:e.scrollable,[`${v}-popover--show-header-or-footer`]:f,[`${v}-popover--raw`]:e.raw,[`${v}-popover-shared--overlap`]:e.overlap,[`${v}-popover-shared--show-arrow`]:e.showArrow,[`${v}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:y,style:g.value,onKeydown:h.handleKeydown,onMouseenter:k,onMouseleave:N},n),Y?A(nt,{active:e.show,autoFocus:!0},{default:x}):x())}return Xn($,b.value)}return{displayed:c,namespace:o,isMounted:h.isMountedRef,zIndex:h.zIndexRef,followerRef:w,adjustedTo:G(e),followerEnabled:u,renderContentNode:q}},render(){return A(On,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===G.tdkey},{default:()=>this.animated?A(Nn,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),{cloneVNode:Vn,computed:Ie,defineComponent:Kn,h:J,provide:Gn,ref:ie,Text:qn,toRef:xe,watchEffect:Jn,withDirectives:Qn}=await H("vue"),Zn=Object.keys(Qe),Rn={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function eo(e,t,n){Rn[t].forEach(o=>{e.props?e.props=Object.assign({},e.props):e.props={};const r=e.props[o],d=n[o];r?e.props[o]=(...i)=>{r(...i),d(...i)}:e.props[o]=d})}const to={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:G.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},no=Object.assign(Object.assign(Object.assign({},Me.props),to),{internalOnAfterLeave:Function,internalRenderBody:Function}),po=Kn({name:"Popover",inheritAttrs:!1,props:no,slots:Object,__popover__:!0,setup(e){const t=Ye(),n=ie(null),o=Ie(()=>e.show),r=ie(e.defaultShow),d=$t(o,r),i=Z(()=>e.disabled?!1:d.value),l=()=>{if(e.disabled)return!0;const{getDisabled:f}=e;return!!f?.()},a=()=>l()?!1:d.value,w=St(e,["arrow","showArrow"]),h=Ie(()=>e.overlap?!1:w.value);let y=null;const u=ie(null),c=ie(null),b=Z(()=>e.x!==void 0&&e.y!==void 0);function p(f){const{"onUpdate:show":x,onUpdateShow:B,onShow:D,onHide:W}=e;r.value=f,x&&R(x,f),B&&R(B,f),f&&D&&R(D,!0),f&&W&&R(W,!1)}function g(){y&&y.syncPosition()}function s(){const{value:f}=u;f&&(window.clearTimeout(f),u.value=null)}function S(){const{value:f}=c;f&&(window.clearTimeout(f),c.value=null)}function k(){const f=l();if(e.trigger==="focus"&&!f){if(a())return;p(!0)}}function N(){const f=l();if(e.trigger==="focus"&&!f){if(!a())return;p(!1)}}function X(){const f=l();if(e.trigger==="hover"&&!f){if(S(),u.value!==null||a())return;const x=()=>{p(!0),u.value=null},{delay:B}=e;B===0?x():u.value=window.setTimeout(x,B)}}function P(){const f=l();if(e.trigger==="hover"&&!f){if(s(),c.value!==null||!a())return;const x=()=>{p(!1),c.value=null},{duration:B}=e;B===0?x():c.value=window.setTimeout(x,B)}}function z(){P()}function q(f){var x;a()&&(e.trigger==="click"&&(s(),S(),p(!1)),(x=e.onClickoutside)===null||x===void 0||x.call(e,f))}function m(){if(e.trigger==="click"&&!l()){s(),S();const f=!a();p(f)}}function $(f){e.internalTrapFocus&&f.key==="Escape"&&(s(),S(),p(!1))}function C(f){r.value=f}function v(){var f;return(f=n.value)===null||f===void 0?void 0:f.targetRef}function T(f){y=f}return Gn("NPopover",{getTriggerElement:v,handleKeydown:$,handleMouseEnter:X,handleMouseLeave:P,handleClickOutside:q,handleMouseMoveOutside:z,setBodyInstance:T,positionManuallyRef:b,isMountedRef:t,zIndexRef:xe(e,"zIndex"),extraClassRef:xe(e,"internalExtraClass"),internalRenderBodyRef:xe(e,"internalRenderBody")}),Jn(()=>{d.value&&l()&&p(!1)}),{binderInstRef:n,positionManually:b,mergedShowConsideringDisabledProp:i,uncontrolledShow:r,mergedShowArrow:h,getMergedShow:a,setShow:C,handleClick:m,handleMouseEnter:X,handleMouseLeave:P,handleFocus:k,handleBlur:N,syncPosition:g}},render(){var e;const{positionManually:t,$slots:n}=this;let o,r=!1;if(!t&&(o=ot(n,"trigger"),o)){o=Vn(o),o=o.type===qn?J("span",[o]):o;const d={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=o.type)===null||e===void 0)&&e.__popover__)r=!0,o.props||(o.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),o.props.internalSyncTargetWithParent=!0,o.props.internalInheritedEventHandlers?o.props.internalInheritedEventHandlers=[d,...o.props.internalInheritedEventHandlers]:o.props.internalInheritedEventHandlers=[d];else{const{internalInheritedEventHandlers:i}=this,l=[d,...i],a={onBlur:w=>{l.forEach(h=>{h.onBlur(w)})},onFocus:w=>{l.forEach(h=>{h.onFocus(w)})},onClick:w=>{l.forEach(h=>{h.onClick(w)})},onMouseenter:w=>{l.forEach(h=>{h.onMouseenter(w)})},onMouseleave:w=>{l.forEach(h=>{h.onMouseleave(w)})}};eo(o,i?"nested":t?"manual":this.trigger,a)}}return J(an,{ref:"binderInstRef",syncTarget:!r,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const d=this.getMergedShow();return[this.internalTrapFocus&&d?Qn(J("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[De,{enabled:d,zIndex:this.zIndex}]]):null,t?null:J(fn,null,{default:()=>o}),J(Un,rt(this.$props,Zn,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:d})),{default:()=>{var i,l;return(l=(i=this.$slots).default)===null||l===void 0?void 0:l.call(i)},header:()=>{var i,l;return(l=(i=this.$slots).header)===null||l===void 0?void 0:l.call(i)},footer:()=>{var i,l;return(l=(i=this.$slots).footer)===null||l===void 0?void 0:l.call(i)}})]}})}});export{an as Binder,po as NPopover,On as VFollower,fn as VTarget,Nt as baseEach,Ft as baseForOwn,Dt as baseIteratee,Xt as beforeNextFrameOnce,te as c,hn as cssrAnchorMetaName,Gt as internalSelectionMenuBodyInjectionKey,ho as internalSelectionMenuInjectionKey,Kt as onFontsReady,to as popoverBaseProps,_n as popoverLight,no as popoverProps,Yn as renderArrow,En as self,G as useAdjustedTo};
