import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.05J-Im0t1743039954535.js";import{_ as i,b as s}from"./three.XuMWWlrU1743039954535.js";import{P as a}from"./tweakpane.ivGeiIdz1743039954535.js";import{L as c}from"./three-subdivide.o2H5zDbT1743039954535.js";import{d as u,b as l,a2 as f,w as p,o as d,H as g,N as m,aj as h,ak as v,a3 as y,r as b,e as w,f as _,g as T,j as M,u as S,m as I,M as j}from"./@vue.C4dqouNn1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";const x=N;!function(n,t){const e=N,o=A();for(;;)try{if(967352===parseInt(e(405))/1*(-parseInt(e(381))/2)+-parseInt(e(407))/3*(parseInt(e(397))/4)+parseInt(e(372))/5+-parseInt(e(390))/6+-parseInt(e(395))/7+parseInt(e(379))/8+parseInt(e(370))/9*(parseInt(e(371))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(414)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){B(this,(function(){const n=N,t=new RegExp(n(411)),e=new RegExp(n(402),"i"),o=Z(n(416));t[n(373)](o+n(413))&&e.test(o+"input")?Z():o("0")}))()}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(414)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(){const n=["AdditiveBlending","863XHkKXP","stateObject","5316699UnZkAl","copy","viewVector","action","function *\\( *\\)","TresShaderMaterial","chain","apply","debu","init","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","color","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","FrontSide","attributes","string","position","#ffff00","subdivision","41547969kkRNhu","10SeCLio","5995270VyKyau","test","srcMesh","error","uniforms","warn","Color","14398624HFDKOP","call","4248dZYBdo","material","blending","console","side","clone","scale","geometry","value","10807302CNTGfZ","bind","counter","constructor","return (function() ","8690563GVfTcD","toString","4YXkfAY","gger","modify","TSGref","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log"];return(A=function(){return n})()}k(void 0,(function(){const n=N;let t;try{t=Function(n(394)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(384)]=t.console||{},o=[n(403),n(377),"info",n(375),"exception","table","trace"];for(let i=0;i<o[n(401)];i++){const t=k[n(393)].prototype[n(391)](k),r=o[i],s=e[r]||t;t.__proto__=k.bind(k),t.toString=s[n(396)][n(391)](s),e[r]=t}}))();const C=[x(387)];function N(n,t){const e=A();return N=function(n,t){return e[n-=364]},N(n,t)}const V=u({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:x(368)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[x(364)]},blending:{default:i[x(404)]}},setup(e){const o=x,r=e,a=l(),u={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(378)])(r[o(418)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(417),fragmentShader:o(419),side:r[o(385)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(383)]};f((()=>{const n=o;if(r[n(374)]&&a[n(389)]&&!a.value.geometry[n(365)][n(367)]){let t=r[n(374)][n(388)][n(386)]();r[n(369)]&&(t=c[n(399)](t,2)),a[n(389)].geometry=t,a[n(389)][n(367)][n(408)](r[n(374)][n(367)])}r[n(418)]&&(u.uniforms.glowColor[n(389)]=new(i[n(378)])(r.color)),r.c&&(u.uniforms.c[n(389)]=r.c),r.p&&(u[n(376)].p[n(389)]=r.p)})),p((()=>r.subdivision),(n=>{const t=o;let e=r[t(374)][t(388)][t(386)]();n&&(e=c[t(399)](e,2)),a[t(389)][t(388)]=e})),p((()=>r[o(385)]),(n=>{const t=o;a.value[t(382)][t(385)]=n})),p((()=>r.blending),(n=>{a[o(389)].material.blending=n}));const{onLoop:y}=n(),{camera:b}=t();return y((()=>{const n=o;b[n(389)]&&a[n(389)]&&(u[n(376)][n(409)].value=(new s).subVectors(b.value.position,a[n(389)].position))})),(n,t)=>{const e=o;return d(),g("TresMesh",{ref_key:e(400),ref:a,scale:r.scale},[m(e(412),h(v(u)),null,16)],8,C)}}});function Z(n){function t(n){const e=N;if(typeof n===e(366))return function(n){}[e(393)]("while (true) {}")[e(414)](e(392));1!==(""+n/n).length||n%20==0?function(){return!0}[e(393)](e(415)+e(398))[e(380)](e(410)):function(){return!1}[e(393)]("debu"+e(398))[e(414)](e(406)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const z=G;!function(n,t){const e=G,o=D();for(;;)try{if(782916===parseInt(e(345))/1+-parseInt(e(372))/2*(parseInt(e(359))/3)+parseInt(e(374))/4+parseInt(e(373))/5*(-parseInt(e(377))/6)+-parseInt(e(367))/7+parseInt(e(364))/8*(parseInt(e(347))/9)+parseInt(e(352))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){R(this,(function(){const n=G,t=new RegExp(n(357)),e=new RegExp(n(343),"i"),o=Q("init");t[n(378)](o+"chain")&&e.test(o+n(386))?Q():o("0")}))()}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function G(n,t){const e=D();return G=function(n,t){return e[n-=338]},G(n,t)}function D(){const n=["FrontSide","addBinding","apply","bind","TresMesh","subdivision","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","map","194603AhjmUV","while (true) {}","12556962jQgyka",'{}.constructor("return this")( )',"AdditiveBlending","#0ff","exception","5561700HgdpwJ","side","shader","TresMeshRefA","#00dfff","function *\\( *\\)","prototype","6suQIuQ","stateObject","BackSide","srcMesh","TreBoxRef","8EXiQTl","value","warn","10783031poZQDa","instance","info","TresMeshBasicMaterial","call","32654ATxZGU","2304290hWjpST","2683480STSNhB","length","TresCanvas","6bbjDqq","test","toString","constructor","DoubleSide","table","return (function() ","counter","scale","input","TresBoxGeometry","color","NormalBlending","TresSphereGeometry","console","__proto__"];return(D=function(){return n})()}F(void 0,(function(){const n=G,t=function(){const n=G;let t;try{t=Function(n(383)+n(348)+");")()}catch(e){t=window}return t}(),e=t[n(391)]=t[n(391)]||{},o=["log",n(366),n(369),"error",n(351),n(382),"trace"];for(let r=0;r<o[n(375)];r++){const t=F[n(380)][n(358)][n(340)](F),i=o[r],s=e[i]||t;t[n(392)]=F[n(340)](F),t.toString=s[n(379)][n(340)](s),e[i]=t}}))();const E=[z(344)],H=[z(344)],P=u({__name:z(354),async setup(n){const t=z;let s,c;const u={clearColor:"#222"},f=l(),p=l(),g=l(),h=([s,c]=y((()=>r(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),s=await s,c(),s),v=b({scale:1.6,color:t(356),subdivision:!0,c:1.1,p:1.4,side:i[t(393)],blending:i[t(349)]}),x=new a({title:"参数",expanded:!0});return x[t(338)](v,t(388),{label:"颜色"}),x.addBinding(v,t(385),{label:"大小",min:1,max:3,step:.2}),x[t(338)](v,t(342),{label:"边缘处理"}),x.addBinding(v,"c",{label:"c",min:0,max:2,step:.1}),x[t(338)](v,"p",{label:"p",min:0,max:8,step:.2}),x[t(338)](v,t(353),{options:{FrontSide:i[t(393)],BackSide:i[t(361)],DoubleSide:i[t(381)]}}),x.addBinding(v,"blending",{options:{AdditiveBlending:i[t(349)],NormalBlending:i[t(389)]}}),(n,r)=>{const i=t,s=w(i(376));return d(),_(s,I(u,{"window-size":""}),{default:T((()=>[r[2]||(r[2]=m("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),r[3]||(r[3]=m("TresAmbientLight",{intensity:1},null,-1)),M(S(e)),r[4]||(r[4]=m("TresGridHelper",{args:[10,10]},null,-1)),m("TresMesh",{ref_key:i(355),ref:f,position:[-2,1,0]},[r[0]||(r[0]=m(i(390),{args:[1,32,16]},null,-1)),m("TresMeshBasicMaterial",{map:S(h)[0]},null,8,E)],512),M(V,I({srcMesh:f[i(365)]},v),null,16,[i(362)]),M(S(o),{ref_key:i(363),ref:g,args:[1,1,1],position:[2,1,0]},{default:T((()=>[m(i(370),{map:S(h)[1]},null,8,H)])),_:1},512),g[i(365)]&&g.value[i(368)]?(d(),_(V,I({key:0,srcMesh:g[i(365)][i(368)]},v),null,16,["srcMesh"])):j("",!0),m(i(341),{ref_key:"TresMeshRefB",ref:p,position:[0,1,-2]},r[1]||(r[1]=[m(i(387),{args:[1,1,1,1,1]},null,-1),m(i(370),{color:i(350)},null,-1)]),512),M(V,I({srcMesh:p[i(365)]},v),null,16,[i(362)])])),_:1},16)}}});function Q(n){function t(n){const e=G;if("string"==typeof n)return function(n){}[e(380)](e(346)).apply(e(384));1!==(""+n/n)[e(375)]||n%20==0?function(){return!0}[e(380)]("debugger")[e(371)]("action"):function(){return!1}[e(380)]("debugger")[e(339)](e(360)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{P as default};
