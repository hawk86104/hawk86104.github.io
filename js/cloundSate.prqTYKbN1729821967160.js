import{z as t,p as n,Y as e}from"./@tresjs.QjD7q5YC1729821967160.js";import{_ as o,V as r}from"./three.x4oqFJNT1729821967160.js";import{n as c,_ as i}from"./three-tile.rGySB-KI1729821967160.js";import{_ as s,c as a,a as u}from"./informationDiv.3q0lfW131729821967160.js";import{d as p,a4 as l,w as f,o as m,E as h,L as g,u as d,r as _,b as y,f as I,g as S,j,m as b,al as w,F as x,e as v,aj as D,ak as M}from"./@vue.JNsx1iN61729821967160.js";import{P as F}from"./tweakpane.yHWGBmom1729821967160.js";import"./@vueuse.HMG_JnUD1729821967160.js";import"./@fesjs.RBYJGevJ1729821967160.js";import"./vue-router.x5Kg4cip1729821967160.js";import"./lodash-es.kYt-_xTG1729821967160.js";import"./@qlin.yHhFDldE1729821967160.js";import"./pinia.hn32Nk6P1729821967160.js";import"./@floating-ui.BPbuo5Gx1729821967160.js";import"./@juggle.7yjBMqoW1729821967160.js";const T=L;function L(t,n){const e=k();return(L=function(t,n){return e[t-=483]})(t,n)}!function(t,n){const e=L,o=k();for(;;)try{if(959119===parseInt(e(522))/1*(-parseInt(e(532))/2)+-parseInt(e(527))/3+parseInt(e(506))/4+-parseInt(e(541))/5+-parseInt(e(542))/6+-parseInt(e(501))/7+parseInt(e(498))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(526)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(519),"i"),o=q(t(518));n[t(535)](o+t(537))&&e[t(535)](o+t(496))?q():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(497)+t(543)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(531)]||{},o=[t(489),"warn",t(538),"error","exception",t(516),t(530)];for(let r=0;r<o[t(524)];r++){const n=B.constructor[t(540)][t(523)](B),c=o[r],i=e[c]||n;n[t(505)]=B[t(523)](B),n[t(495)]=i[t(495)].bind(i),e[c]=n}}))();const z=[T(500)],E=[T(539),T(533),T(486),T(510)],R=[g(T(487),{args:[1,1,529,420]},null,-1)];function k(){const t=["matrix","while (true) {}","map","scaleImg","#include <displacementmap_vertex>","rotateX","TresPlaneGeometry","vertexShader","log","constructor","counter","action","debu","needsUpdate","toString","input","return (function() ","34446688VBrTYz","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","position","710654iJCKNq","DoubleSide","opacity","Color","__proto__","5328136NdYhkI","TresGroup","height","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );","position-y","stateObject","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","Texture","fragmentShader","\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","table","setStyle","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","replace","#cccccc","5DxtxAr","bind","length","cloundSateShow","apply","1490745lfjqMa","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","applyMatrix4","trace","console","734282ohftXR","material","MeshPhongMaterial","test","gger","chain","info","scale","prototype","4491655BnoCaF","8077668LJMJWU",'{}.constructor("return this")( )',"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png"];return(k=function(){return t})()}const G=p({__name:T(525),props:{map:{},height:{default:100},color:{default:T(521)},opacity:{default:.6}},async setup(n){const e=T;let c,i;const a=n,u=new(o[e(534)])({displacementMap:new(o[e(513)]),transparent:!0,side:o[e(502)],opacity:a[e(503)],color:new(o[e(504)])(a.color)});u.onBeforeCompile=t=>{const n=e;t[n(488)]="uniform sampler2D map;\n\t\t"+t.vertexShader,t[n(488)]=t[n(488)][n(520)](n(485),n(509)),t[n(514)]=t[n(514)][n(520)]("#include <alphamap_fragment>",n(515))};const p=a[e(483)].geo2pos(new r(105,34,0));p[e(529)](a.map[e(545)]);const _=s[e(484)](a[e(483)],{x:67,y:11},{x:140,y:57},a.height),y=[e(499),e(544),e(512),e(528)];let I=0;const S=([c,i]=l((()=>t(y))),c=await c,i(),c);u[e(483)]=S[I],f((()=>[a.color,a[e(503)]]),(([t,n])=>{const o=e;u.color[o(517)](t),u[o(503)]=n}));let j=null,b=!1;return b?(clearInterval(j),j=null,b=!1):(j=setInterval((()=>{const t=L;I=I<y.length-1?I+1:0,u[t(483)]=S[I],u[t(494)]=!0,console[t(489)](I)}),1e3),b=!0),(t,n)=>{const o=e;return m(),h(o(507),{position:[...d(p)]},[g("TresMesh",{scale:[d(_).x,d(_).y,t[o(508)]],material:d(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},R,8,E)],8,z)}}});function q(t){function n(t){const e=L;if("string"==typeof t)return function(t){}.constructor(e(546))[e(526)](e(491));1!==(""+t/t)[e(524)]||t%20==0?function(){return!0}[e(490)](e(493)+e(536)).call(e(492)):function(){return!1}.constructor(e(493)+e(536)).apply(e(511)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=V;!function(t,n){const e=V,o=P();for(;;)try{if(584136===parseInt(e(302))/1*(-parseInt(e(294))/2)+-parseInt(e(304))/3*(-parseInt(e(307))/4)+-parseInt(e(293))/5+parseInt(e(280))/6*(-parseInt(e(284))/7)+-parseInt(e(320))/8+-parseInt(e(329))/9+parseInt(e(288))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(297)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=V,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(315),"i"),o=Q(t(324));n[t(298)](o+"chain")&&e[t(298)](o+t(331))?Q():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(297)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=V;let n;try{n=Function(t(319)+t(321)+");")()}catch(r){n=window}const e=n[t(285)]=n.console||{},o=["log",t(292),t(303),"error",t(332),"table",t(310)];for(let c=0;c<o[t(313)];c++){const n=C[t(312)][t(326)][t(308)](C),r=o[c],i=e[r]||n;n.__proto__=C[t(308)](C),n[t(299)]=i[t(299)][t(308)](i),e[r]=n}}))();const H=[O(290)],N=p({__name:O(282),setup(t){const e=O,u=_({height:500,color:e(328),opacity:.6}),p=new F({title:"参数"});p[e(289)](u,"color",{label:"颜色"}),p[e(289)](u,e(314),{label:"高度",min:10,max:5e3,step:10}),p[e(289)](u,"opacity",{label:e(300),min:0,max:1,step:.1});const l=new(c[e(281)])({token:"pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",dataType:e(301),style:"mapbox.terrain-rgb",maxLevel:15}),v=new(i[e(325)])({imgSource:[new(i[e(330)][e(317)])({style:"6"}),new(i[e(330)].GDSource)({style:"8"})],demSource:l,lon0:90,minLevel:2,maxLevel:20});v[e(277)](-Math.PI/2);const D=new r(105,34,0),M=new(o[e(316)])(110,0,1e4),T=v[e(287)](v[e(327)](D)),L=v[e(287)](v.geo2pos(M)),A=y(),{camera:B,controls:z,scene:E,renderer:R}=n();return B[e(286)]&&B[e(286)][e(291)].copy(L),f((()=>z[e(286)]),(t=>{const n=e;t&&(t[n(283)].copy(T),a(t,B[n(286)],E[n(286)]))})),f((()=>A.value),(t=>{const n=e;t&&t[n(283)][n(291)][n(322)](T)})),s[e(278)](B[e(286)],R[e(286)].domElement,v),(t,n)=>{const o=e;return m(),h(x,null,[g(o(305),{ref_key:o(306),ref:A,position:[0,2e3,1e3],intensity:1},null,512),g("primitive",{object:d(v)},null,8,H),(m(),I(w,null,{default:S((()=>[j(G,b({map:d(v)},u),null,16,["map"])])),_:1}))],64)}}});function P(){const t=["input","exception","call","rotateX","showLocation","gger","318LDvAom","MapBoxSource","mapBoxShow2","target","84945oAgeOH","console","value","localToWorld","29693890cLVYlD","addBinding","object","position","warn","2149355rHmKQu","4334WydSLY","debu","while (true) {}","apply","test","toString","透明度","terrain-rgb","253LbkqfQ","info","151653DbTzBp","TresDirectionalLight","tdLight","72SkxQmq","bind","string","trace","counter","constructor","length","height","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","GDSource","action","return (function() ","4193416HfnhyP",'{}.constructor("return this")( )',"copy","stateObject","init","TileMap","prototype","geo2pos","#cccccc","10347453uQVjXV","plugin"];return(P=function(){return t})()}function V(t,n){const e=P();return(V=function(t,n){return e[t-=277]})(t,n)}function Q(t){function n(t){const e=V;if(typeof t===e(309))return function(t){}[e(312)](e(296))[e(297)](e(311));1!==(""+t/t)[e(313)]||t%20==0?function(){return!0}[e(312)](e(295)+"gger")[e(333)](e(318)):function(){return!1}[e(312)]("debu"+e(279))[e(297)](e(323)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=$;!function(t,n){const e=$,o=Z();for(;;)try{if(890051===-parseInt(e(132))/1+parseInt(e(128))/2*(-parseInt(e(137))/3)+-parseInt(e(142))/4*(-parseInt(e(120))/5)+parseInt(e(121))/6+parseInt(e(135))/7*(-parseInt(e(129))/8)+parseInt(e(122))/9+parseInt(e(123))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(130)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["return (function() ","call","__proto__","78ixLalx","2794032bOIfiT","apply","TresAmbientLight","1315123RjLJcj","trace","TresCanvas","28ayEFjf","length","51567BNDMaU","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","action","318048lxRnjS","#dbf0ff","highp","info","test","exception","gger","TresPerspectiveCamera","table","debu","counter","bind","constructor","function *\\( *\\)","prototype",'{}.constructor("return this")( )',"chain","console","toString","35YvHqAB","8364036jWOqtQ","14196681tSFnaK","7445620QvPeRx","error"];return(Z=function(){return t})()}function $(t,n){const e=Z();return($=function(t,n){return e[t-=115]})(t,n)}!function(){U(this,(function(){const t=$,n=new RegExp(t(155)),e=new RegExp(t(139),"i"),o=nt("init");n.test(o+t(117))&&e[t(146)](o+t(138))?nt():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(130)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(125)+t(116)+");")()}catch(e){n=window}return n}(),e=n[t(118)]=n[t(118)]||{},o=["log","warn",t(145),t(124),t(147),t(150),t(133)];for(let r=0;r<o[t(136)];r++){const n=J[t(154)][t(115)][t(153)](J),c=o[r],i=e[c]||n;n[t(127)]=J[t(153)](J),n[t(119)]=i.toString[t(153)](i),e[c]=n}}))();const X=g(Y(149),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),K=g(Y(131),{intensity:1},null,-1),tt=p({__name:"cloundSate",setup(t){const n=Y,o=_({clearColor:n(143),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(144)}),r=_({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const i=v(n(134));return m(),h(x,null,[j(i,b(o,{"window-size":""}),{default:S((()=>[X,j(d(e),D(M(r)),null,16),K,j(N)])),_:1},16),j(u)],64)}}});function nt(t){function n(t){const e=$;if("string"==typeof t)return function(t){}[e(154)](e(140))[e(130)](e(152));1!==(""+t/t)[e(136)]||t%20==0?function(){return!0}[e(154)](e(151)+e(148))[e(126)](e(141)):function(){return!1}.constructor(e(151)+e(148)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
