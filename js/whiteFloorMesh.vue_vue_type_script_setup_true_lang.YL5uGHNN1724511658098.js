import{a6 as t,bR as n,U as r}from"./three.6cxCQsIj1724511658098.js";import{N as o}from"./@tresjs.6SjGVF2a1724511658098.js";import{d as e,b as a,a4 as s,w as c,o as i,D as u,J as f,aj as l,ak as p}from"./@vue.Q1VpS3901724511658098.js";!function(t,n){const r=h,o=d();for(;;)try{if(271770===-parseInt(r(311))/1+-parseInt(r(349))/2+parseInt(r(328))/3*(parseInt(r(345))/4)+parseInt(r(338))/5*(parseInt(r(318))/6)+parseInt(r(333))/7*(parseInt(r(336))/8)+-parseInt(r(319))/9*(parseInt(r(350))/10)+parseInt(r(329))/11)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[h(301)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function h(t,n){const r=d();return(h=function(t,n){return r[t-=297]})(t,n)}function d(){const t=["1964320cJEyDQ","init","constructor","log","lights_pars_begin","string","length","apply","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","action","warn","while (true) {}","stateObject","counter","exception","trace","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","374581jGouge","\n\t ","\n       void main() {\n\t\t\t\t\t","ShaderChunk","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","shadowmap_pars_vertex","input","621042clWcjd","18bVGnLF","shadowmask_pars_fragment","table","common","packing","console","shadowmap_vertex","test","return (function() ","167793XGJjXI","3087161sjYzWB","defaultnormal_vertex","debu","info","2768899mksSgr","\n          ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8TOLwWA","begin_vertex","10aciMJX","bind","beginnormal_vertex","function *\\( *\\)","worldpos_vertex","bsdfs","shadowmap_pars_fragment","24juHPiK","toString","\n       varying vec2 vUv;\n\t\t\t \t","gger","359186Dhmyyk"];return(d=function(){return t})()}!function(){g(this,(function(){const t=h,n=new RegExp(t(341)),r=new RegExp(t(335),"i"),o=_(t(351));n[t(326)](o+"chain")&&r[t(326)](o+t(317))?_():o("0")}))()}();const m=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[h(301)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=h;let n;try{n=Function(t(327)+'{}.constructor("return this")( ));')()}catch(e){n=window}const r=n[t(324)]=n[t(324)]||{},o=[t(297),t(304),t(332),"error",t(308),t(321),t(309)];for(let a=0;a<o[t(300)];a++){const n=m[t(352)].prototype[t(339)](m),e=o[a],s=r[e]||n;n.__proto__=m[t(339)](m),n[t(346)]=s.toString.bind(s),r[e]=n}}))();const v=()=>{const r=h;return r(347)+t[r(314)][r(322)]+"\n      \t"+n[r(343)]+"\n      \t"+t[r(314)][r(316)]+r(313)+t[r(314)][r(340)]+"\n          "+t[r(314)][r(330)]+r(334)+t[r(314)][r(337)]+"\n          "+t[r(314)].project_vertex+r(334)+t[r(314)][r(342)]+r(334)+n[r(325)]+r(302)},w=()=>{const r=h;return r(310)+n[r(322)]+r(312)+t[r(314)][r(323)]+"\n\t "+t[r(314)][r(343)]+"\n\t "+t[r(314)][r(298)]+r(312)+n[r(344)]+r(312)+t[r(314)][r(320)]+r(315)};function _(t){function n(t){const r=h;if(typeof t===r(299))return function(t){}.constructor(r(305)).apply(r(307));1!==(""+t/t).length||t%20==0?function(){return!0}[r(352)]("debu"+r(348)).call(r(303)):function(){return!1}[r(352)](r(331)+"gger").apply(r(306)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const x=C;!function(t,n){const r=C,o=I();for(;;)try{if(467410===parseInt(r(472))/1+-parseInt(r(476))/2+parseInt(r(458))/3*(parseInt(r(466))/4)+parseInt(r(452))/5+parseInt(r(464))/6*(-parseInt(r(450))/7)+parseInt(r(443))/8+-parseInt(r(461))/9*(-parseInt(r(459))/10))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const y=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[C(463)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){y(this,(function(){const t=C,n=new RegExp(t(475)),r=new RegExp(t(442),"i"),o=E(t(487));n[t(456)](o+t(489))&&r[t(456)](o+t(469))?E():o("0")}))()}();const b=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[C(463)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function I(){const t=["exception","chain","TresPlaneGeometry","Color","rotation-x","log","#990","constructor","TresMesh","edge","shadowColor","merge","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4353936pRQrcv","counter","string","uColor","bind","args","DoubleSide","21tzmDWS","while (true) {}","345015umGsgk","UniformsLib","RepeatWrapping","tmRef","test","toString","276513dUfioE","1277930ETmYHF","lights","18giEWoo","value","apply","21102TmlXSt","gger","4hjFrvp","whiteFloorMesh","wrapT","input","TresShaderMaterial","console","22537SMRwAr",'{}.constructor("return this")( )',"uShadowColor","function *\\( *\\)","1011156ICkuxg","#999","color","debu","length","info","prototype","stateObject","fEdge","uniforms","warn","init"];return(I=function(){return t})()}b(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function("return (function() "+t(473)+");")()}catch(r){n=window}return n}(),r=n[t(471)]=n[t(471)]||{},o=[t(493),t(486),t(481),"error",t(488),t(441),"trace"];for(let e=0;e<o[t(480)];e++){const n=b.constructor[t(482)][t(447)](b),a=o[e],s=r[a]||n;n.__proto__=b[t(447)](b),n[t(457)]=s.toString[t(447)](s),r[a]=n}}))();const S=[x(492)],j=[x(448)];function C(t,n){const r=I();return(C=function(t,n){return r[t-=436]})(t,n)}const k=e({__name:x(467),props:{size:{default:[20,20]},color:{default:x(494)},shadowColor:{default:x(477)},edge:{default:.35}},async setup(n){const e=x;let g,h;const d=n,m=a(),{map:_}=([g,h]=s((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,h(),g);_.wrapS=_[e(468)]=t[e(454)];const y={uniforms:r[e(440)]([t[e(453)][e(460)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(491)])(d[e(478)])},uShadowColor:{value:new(t[e(491)])(d[e(439)])},fEdge:{type:"f",value:d[e(438)]}}]),side:t[e(449)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>d[e(438)]),(t=>{const n=e;y.uniforms[n(484)][n(462)]=t})),c((()=>d[e(478)]),(n=>{const r=e;y[r(485)][r(446)][r(462)]=new(t[r(491)])(d[r(478)])})),c((()=>d[e(439)]),(n=>{const r=e;y.uniforms[r(474)][r(462)]=new(t[r(491)])(d[r(439)])})),(t,n)=>{const r=e;return i(),u(r(437),{ref_key:r(455),ref:m,"rotation-x":-Math.PI/2},[f(r(490),{args:d.size},null,8,j),f(r(470),l(p(y)),null,16)],8,S)}}});function E(t){function n(t){const r=C;if(typeof t===r(445))return function(t){}[r(436)](r(451))[r(463)](r(444));1!==(""+t/t)[r(480)]||t%20==0?function(){return!0}[r(436)](r(479)+r(465)).call("action"):function(){return!1}[r(436)](r(479)+"gger").apply(r(483)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{k as _};
