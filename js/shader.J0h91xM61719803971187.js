import{a as n,r as t,d as e,S as r,N as o}from"./@tresjs.rn1P_YDI1719803971187.js";import{a5 as i,Z as s,aM as a}from"./three.BsQyBKrV1719803971187.js";import{P as c}from"./tweakpane.qqn77PB81719803971187.js";import{L as u}from"./three-subdivide.xalTe--41719803971187.js";import{d as l,b as f,a2 as p,w as d,o as m,D as g,J as h,aj as v,ak as y,a3 as w,r as b,e as M,f as _,g as x,j as S,u as T,m as I}from"./@vue.CpOXM7bB1719803971187.js";import"./@vueuse.T5wlwfAk1719803971187.js";const B=j;!function(n,t){const e=j,r=A();for(;;)try{if(530087===-parseInt(e(290))/1+parseInt(e(308))/2*(-parseInt(e(285))/3)+-parseInt(e(324))/4+-parseInt(e(321))/5*(parseInt(e(286))/6)+-parseInt(e(316))/7+-parseInt(e(279))/8*(parseInt(e(320))/9)+parseInt(e(287))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[j(292)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function j(n,t){const e=A();return(j=function(n,t){return e[n-=271]})(n,t)}!function(){C(this,(function(){const n=j,t=new RegExp(n(306)),e=new RegExp(n(281),"i"),r=F(n(293));t[n(275)](r+n(288))&&e[n(275)](r+"input")?F():r("0")}))()}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[j(292)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(){const n=["debu","error","prototype","material","side","AdditiveBlending","viewVector","attributes","Vector3","log","position","function *\\( *\\)","string","2MiTovK","warn","return (function() ","length","counter","toString","srcMesh","color","1156932yCCwHN","constructor","__proto__","uniforms","9NakYZa","73565qqfUal","stateObject","action","1988664agREwZ","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","console","value","copy","#ffff00","subdivision","exception","geometry","test","Color","blending","scale","4037104SUspYY","clone","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","bind",'{}.constructor("return this")( )',"1815246lJyLnO","6GLabGM","30233340YOsFGG","chain","modify","706372CWGTLa","glowColor","apply","init","FrontSide"];return(A=function(){return n})()}k(void 0,(function(){const n=j,t=function(){const n=j;let t;try{t=Function(n(310)+n(284)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(327)]||{},r=[n(304),n(309),"info",n(296),n(273),"table","trace"];for(let o=0;o<r[n(311)];o++){const t=k.constructor[n(297)][n(283)](k),i=r[o],s=e[i]||t;t[n(318)]=k[n(283)](k),t[n(313)]=s[n(313)][n(283)](s),e[i]=t}}))();const G=[B(278)],N=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:B(271)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(294)]},blending:{default:i[B(300)]}},setup(e){const r=B,o=e,s=f(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(276)])(o.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(325),fragmentShader:r(326),side:o[r(299)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(277)]};p((()=>{const n=r;if(o[n(314)]&&!s[n(328)][n(274)][n(302)][n(305)]){let t=o[n(314)][n(274)][n(280)]();o[n(272)]&&(t=u[n(289)](t,2)),s[n(328)].geometry=t,s.value[n(305)][n(329)](o[n(314)][n(305)])}o[n(315)]&&(a[n(319)][n(291)][n(328)]=new(i[n(276)])(o[n(315)])),o.c&&(a[n(319)].c[n(328)]=o.c),o.p&&(a.uniforms.p[n(328)]=o.p)})),d((()=>o[r(272)]),(n=>{const t=r;let e=o[t(314)][t(274)][t(280)]();n&&(e=u.modify(e,2)),s[t(328)][t(274)]=e})),d((()=>o[r(299)]),(n=>{const t=r;s.value.material[t(299)]=n})),d((()=>o[r(277)]),(n=>{const t=r;s.value[t(298)][t(277)]=n}));const{onLoop:c}=t(),{camera:l}=n();return c((()=>{const n=r;l[n(328)]&&s.value&&(a[n(319)][n(301)][n(328)]=(new(i[n(303)])).subVectors(l[n(328)][n(305)],s[n(328)][n(305)]))})),(n,t)=>{const e=r;return m(),g("TresMesh",{ref_key:"TSGref",ref:s,scale:o[e(278)]},[h("TresShaderMaterial",v(y(a)),null,16)],8,G)}}});function F(n){function t(n){const e=j;if(typeof n===e(307))return function(n){}[e(317)]("while (true) {}")[e(292)](e(312));1!==(""+n/n).length||n%20==0?function(){return!0}[e(317)](e(295)+e(282)).call(e(323)):function(){return!1}[e(317)](e(295)+e(282))[e(292)](e(322)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=J;!function(n,t){const e=J,r=Z();for(;;)try{if(995899===parseInt(e(248))/1+-parseInt(e(259))/2+-parseInt(e(243))/3+parseInt(e(275))/4+parseInt(e(249))/5+parseInt(e(270))/6+-parseInt(e(241))/7*(parseInt(e(279))/8))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[J(272)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Z(){const n=["function *\\( *\\)",'{}.constructor("return this")( )',"input","test","3707137aTKhZq","return (function() ","3252534FCyYco","TresMeshRefA","debu","action","scale","773048RCBODW","8097430fKMwwC","value","toString","TresGridHelper","addBinding","BackSide","side","srcMesh","TresSphereGeometry","AdditiveBlending","733784DQJMxx","call","log","counter","gger","TreBoxRef","logo.png","TresMeshBasicMaterial","subdivision","constructor","length","236274SEhGHN","TresPerspectiveCamera","apply","bind","stateObject","2178588dLfFXH","TresBoxGeometry","info","TresMesh","8JqSwUQ","chain","color","blending","warn","TresAmbientLight","TresCanvas","table","#00dfff","map","FrontSide","#0ff","边缘处理","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","NormalBlending","console"];return(Z=function(){return n})()}!function(){z(this,(function(){const n=J,t=new RegExp(n(237)),e=new RegExp(n(234),"i"),r=K("init");t[n(240)](r+n(280))&&e.test(r+n(239))?K():r("0")}))()}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[J(272)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();L(void 0,(function(){const n=J;let t;try{t=Function(n(242)+n(238)+");")()}catch(o){t=window}const e=t[n(236)]=t[n(236)]||{},r=[n(261),n(225),n(277),"error","exception",n(228),"trace"];for(let i=0;i<r[n(269)];i++){const t=L[n(268)].prototype[n(273)](L),o=r[i],s=e[o]||t;t.__proto__=L[n(273)](L),t[n(251)]=s.toString.bind(s),e[o]=t}}))();const V=h(R(271),{position:[5,5,5]},null,-1),E=h(R(226),{intensity:1},null,-1),O=h(R(252),{args:[10,10]},null,-1),Y=h(R(257),{args:[1,32,16]},null,-1),q=[R(230)],D=["map"],H=[h(R(276),{args:[1,1,1,1,1]},null,-1),h("TresMeshBasicMaterial",{color:R(232)},null,-1)];function J(n,t){const e=Z();return(J=function(n,t){return e[n-=225]})(n,t)}const $=l({__name:"shader",async setup(n){const t=R;let u,l;const p={clearColor:"#222"},d=f(),g=f(),v=f(),y=([u,l]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(265)]))),u=await u,l(),u),B=b({scale:1.6,color:t(229),subdivision:!0,c:1.1,p:1.4,side:i[t(231)],blending:i[t(258)]}),C=new c({title:"参数",expanded:!0});return C[t(253)](B,t(281),{label:"颜色"}),C[t(253)](B,t(247),{label:"大小",min:1,max:3,step:.2}),C[t(253)](B,t(267),{label:t(233)}),C[t(253)](B,"c",{label:"c",min:0,max:2,step:.1}),C[t(253)](B,"p",{label:"p",min:0,max:8,step:.2}),C[t(253)](B,t(255),{options:{FrontSide:i[t(231)],BackSide:i[t(254)],DoubleSide:s}}),C[t(253)](B,t(282),{options:{AdditiveBlending:a,NormalBlending:i[t(235)]}}),(n,o)=>{const i=t,s=M(i(227));return m(),_(s,I(p,{"window-size":""}),{default:x((()=>[V,E,S(T(e)),O,h(i(278),{ref_key:i(244),ref:d,position:[-2,1,0]},[Y,h(i(266),{map:T(y)[0]},null,8,q)],512),S(N,I({srcMesh:d[i(250)]},B),null,16,[i(256)]),S(T(r),{ref_key:i(264),ref:v,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h(i(266),{map:T(y)[1]},null,8,D)])),_:1},512),S(N,I({srcMesh:v[i(250)]&&v.value[i(250)]},B),null,16,["srcMesh"]),h(i(278),{ref_key:"TresMeshRefB",ref:g,position:[0,1,-2]},H,512),S(N,I({srcMesh:g.value},B),null,16,[i(256)])])),_:1},16)}}});function K(n){function t(n){const e=J;if("string"==typeof n)return function(n){}[e(268)]("while (true) {}")[e(272)](e(262));1!==(""+n/n)[e(269)]||n%20==0?function(){return!0}.constructor(e(245)+"gger")[e(260)](e(246)):function(){return!1}[e(268)](e(245)+e(263))[e(272)](e(274)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{$ as default};
