var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.wtVaFNy81740621336114.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.unSayqLH1740621336114.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.iQabQ3bw1740621336114.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,_ as x,Q as v}from"./three.sXv6UbbL1740621336114.js";import{m,e as w}from"./@tresjs.Td0X-dew1740621336114.js";import{u as g}from"./index.e5z5kfXG1740621336114.js";import{F as h,C as d}from"./three-stdlib.HmEywukp1740621336114.js";import{d as y}from"./@vue.NRI7TcgI1740621336114.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.KTtg4sDX1740621336114.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.pHTeV6QF1740621336114.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.P7qIoii51740621336114.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.NKVT-iMX1740621336114.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.qIXS0IMz1740621336114.js";!function(t,e){const n=P,i=_();for(;;)try{if(100461===parseInt(n(323))/1+-parseInt(n(330))/2*(-parseInt(n(333))/3)+-parseInt(n(339))/4+-parseInt(n(351))/5+parseInt(n(350))/6+-parseInt(n(338))/7*(parseInt(n(352))/8)+parseInt(n(325))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const S=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[P(327)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function _(){const t=["8POzbVm","action","chain","99028vyxFMA","init","355383miSsBq","gger","apply","console","log","38Wfqpbj","debu","function *\\( *\\)","23136SNpKiO","info","trace","warn","length","583618VHssEl","391204wkgGGJ","toString","prototype","bind","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","counter","call","table","test","944124BOsYmK","803805wVCDXs"];return(_=function(){return t})()}function P(t,e){const n=_();return(P=function(t,e){return n[t-=322]})(t,e)}!function(){S(this,(function(){const t=P,e=new RegExp(t(332)),n=new RegExp(t(344),"i"),i=b(t(324));e[t(349)](i+t(322))&&n[t(349)](i+"input")?b():i("0")}))()}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();z(void 0,(function(){const t=P,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e[t(328)]=e[t(328)]||{},i=[t(329),t(336),t(334),"error","exception",t(348),t(335)];for(let r=0;r<i[t(337)];r++){const e=z.constructor[t(341)][t(342)](z),a=i[r],o=n[a]||e;e.__proto__=z[t(342)](z),e.toString=o[t(340)][t(342)](o),n[a]=e}}))();function b(t){function e(t){const n=P;if("string"==typeof t)return function(t){}[n(345)](n(343)).apply(n(346));1!==(""+t/t)[n(337)]||t%20==0?function(){return!0}[n(345)](n(331)+n(326))[n(347)](n(353)):function(){return!1}[n(345)](n(331)+n(326))[n(327)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const I=L;!function(t,e){const n=L,i=E();for(;;)try{if(783004===-parseInt(n(397))/1*(parseInt(n(376))/2)+-parseInt(n(356))/3*(-parseInt(n(383))/4)+-parseInt(n(391))/5*(-parseInt(n(395))/6)+parseInt(n(375))/7*(parseInt(n(372))/8)+parseInt(n(374))/9*(parseInt(n(366))/10)+-parseInt(n(360))/11*(-parseInt(n(393))/12)+-parseInt(n(396))/13)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[L(388)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function E(){const t=["table","__proto__","clone","55ofuqCZ","info","error","while (true) {}","uniforms","length","5570zylApU","init","stateObject","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","prototype","console","8BXSiGx",'{}.constructor("return this")( )',"24183kMsRYb","7872599adftAc","736yGozqa","debu","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","toString","test","25708SXvfDt","action","bind","return (function() ","exception","apply","constructor","string","105EsYEgi","defines","3106452XIGopO","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","274926ODcOKJ","53355653otdTIZ","3450ytsiKt","function *\\( *\\)","gger","trace","597MmHSBG"];return(E=function(){return t})()}!function(){M(this,(function(){const t=L,e=new RegExp(t(398)),n=new RegExp(t(379),"i"),i=O(t(367));e[t(382)](i+"chain")&&n[t(382)](i+"input")?O():i("0")}))()}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[L(388)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(t,e){const n=E();return(L=function(t,e){return n[t-=355]})(t,e)}function D(t){const e=L,n=a({},t);return e(392)in t&&(n.defines=a({},t[e(392)])),"uniforms"in t&&(n[e(364)]=s[e(359)](t[e(364)])),n}A(void 0,(function(){const t=L;let e;try{e=Function(t(386)+t(373)+");")()}catch(r){e=window}const n=e[t(371)]=e.console||{},i=[t(380),t(378),t(361),t(362),t(387),t(357),t(355)];for(let a=0;a<i[t(365)];a++){const e=A[t(389)][t(370)].bind(A),r=i[a],o=n[r]||e;e[t(358)]=A[t(385)](A),e[t(381)]=o[t(381)][t(385)](o),n[r]=e}}))();const U={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:I(394),fragmentShader:I(369)+'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t'};function O(t){function e(t){const n=L;if(typeof t===n(390))return function(t){}[n(389)](n(363)).apply("counter");1!==(""+t/t)[n(365)]||t%20==0?function(){return!0}[n(389)](n(377)+n(399)).call(n(384)):function(){return!1}[n(389)](n(377)+"gger")[n(388)](n(368)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){const n=V,i=j();for(;;)try{if(309338===-parseInt(n(510))/1*(parseInt(n(491))/2)+parseInt(n(492))/3+-parseInt(n(505))/4+parseInt(n(480))/5+-parseInt(n(501))/6*(parseInt(n(525))/7)+parseInt(n(520))/8+parseInt(n(530))/9*(parseInt(n(536))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(){const t=["_swapTarget","minFilter","texture","type","bind","setClearColor","replace","defines","3546qccnWc","info","setRenderTarget","Y_IS_EVEN","30596kGSYRk","trace","originalMapSize","length","floor","1wBmirw","counter","debu","while (true) {}","camera","height","string","init","call","X_IS_EVEN","2160224mbNXjL","input","magFilter","action","setClearAlpha","231WtboKV","warn","constructor","map","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","136638sOQoro","test","_copyQuad","prototype","uniforms","_mipQuad","50IzZOzd","_mipMaterials","parentLevel","set","toString","dispose","forEach","value","console","clear","stateObject","setViewOffset","width","getClearColor","tDiffuse","exception","isWebGLRenderTarget","fragmentShader","gger",'{}.constructor("return this")( )',"log","1134955ETQaPM","chain","autoClear","copy","apply","render","setSize","floorPowerOfTwo","image","material","__proto__","1020766nhbYLp","821832rwZLpe"];return(j=function(){return t})()}function V(t,e){const n=j();return(V=function(t,e){return n[t-=478]})(t,e)}!function(){T(this,(function(){const t=V,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=W(t(517));e[t(531)](i+t(481))&&n[t(531)](i+t(521))?W():i("0")}))()}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(484)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();R(void 0,(function(){const t=V;let e;try{e=Function("return (function() "+t(478)+");")()}catch(r){e=window}const n=e[t(544)]=e[t(544)]||{},i=[t(479),t(526),t(502),"error",t(551),"table",t(506)];for(let a=0;a<i[t(508)];a++){const e=R[t(527)][t(533)].bind(R),r=i[a],o=n[r]||e;e[t(490)]=R[t(497)](R),e.toString=o[t(540)][t(497)](o),n[r]=e}}))();const C=new l;class k{constructor(t){const e=V;!t&&(t=e(529));const n=D(U);n[e(553)]=n[e(553)][e(499)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(D(n)),i[0].defines[e(519)]=0,i[0][e(500)][e(504)]=0,i[1]=new c(D(n)),i[1][e(500)].X_IS_EVEN=1,i[1][e(500)][e(504)]=0,i[2]=new c(D(n)),i[2][e(500)][e(519)]=0,i[2][e(500)][e(504)]=1,i[3]=new c(D(n)),i[3][e(500)][e(519)]=1,i[3][e(500)][e(504)]=1;const r=new u;r[e(495)][e(494)]=p,r[e(495)][e(522)]=p,this[e(493)]=r,this[e(532)]=new h(new c(d)),this._mipQuad=new h(null),this[e(537)]=i}update(t,e,n,i=!1){const r=V;t[r(552)]&&(t=t[r(495)]);const o=n[r(482)],s=n.getClearAlpha(),l=n.getRenderTarget();n[r(549)](C);const c=this[r(532)],u=this[r(535)],p=this._swapTarget,x=this[r(537)];let v,m;i?(v=f[r(487)](t[r(488)][r(548)]),m=f[r(487)](t.image[r(515)])):(v=Math[r(509)](t[r(488)][r(548)]),m=Math.floor(t[r(488)][r(515)]));const w=Math[r(509)](1.5*v),g=Math[r(509)](m);e[r(486)](w,g),p[r(495)][r(496)]!==e[r(495)][r(496)]?(p[r(541)](),p[r(483)](e),p.texture.image=a({},p.texture[r(488)])):p[r(486)](w,g),n[r(482)]=!1,n[r(498)](0),n[r(524)](),c[r(489)][r(534)][r(550)].value=t,c[r(514)][r(547)](v,m,0,0,w,g),n[r(503)](e),n[r(545)](),c[r(485)](n),n.setRenderTarget(p),n[r(545)](),c[r(485)](n);let h=v,d=m,y=0;for(;h>1&&d>1;){const t=x[(h%2==0?1:0)|(d%2==0?2:0)];t[r(534)].map.value=p[r(495)],t[r(534)][r(538)][r(543)]=y,t.uniforms.parentMapSize.value[r(539)](h,d),t.uniforms[r(507)][r(543)].set(v,m),u[r(489)]=t,h=Math[r(509)](h/2),d=Math[r(509)](d/2);const i=g-2*d;n.setRenderTarget(e),u[r(514)][r(547)](h,d,-v,-i,w,g),u.render(n),n[r(503)](p),t[r(534)][r(528)].value=e.texture,u[r(485)](n),y++}return n[r(503)](l),n[r(524)](s),n.setClearColor(C),n[r(482)]=o,y+1}dispose(){const t=V;this._swapTarget[t(541)](),this[t(535)].dispose(),this._copyQuad[t(541)](),this[t(537)][t(542)]((e=>e[t(541)]()))}}function W(t){function e(t){const n=V;if(typeof t===n(516))return function(t){}[n(527)](n(513))[n(484)](n(511));1!==(""+t/t)[n(508)]||t%20==0?function(){return!0}[n(527)]("debu"+n(554))[n(518)](n(523)):function(){return!1}[n(527)](n(512)+"gger")[n(484)](n(546)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const N=Q;!function(t,e){const n=Q,i=X();for(;;)try{if(775027===-parseInt(n(328))/1+-parseInt(n(368))/2*(parseInt(n(313))/3)+parseInt(n(363))/4*(-parseInt(n(311))/5)+parseInt(n(329))/6+parseInt(n(304))/7+parseInt(n(369))/8*(parseInt(n(342))/9)+parseInt(n(371))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Q(336)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Q(t,e){const n=X();return(Q=function(t,e){return n[t-=300]})(t,e)}!function(){H(this,(function(){const t=Q,e=new RegExp(t(315)),n=new RegExp(t(372),"i"),i=Y(t(338));e[t(346)](i+t(376))&&n.test(i+"input")?Y():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Q(336)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();G(void 0,(function(){const t=Q,e=function(){const t=Q;let e;try{e=Function(t(357)+t(347)+");")()}catch(n){e=window}return e}(),n=e[t(319)]=e.console||{},i=[t(326),t(302),"info","error",t(324),"table",t(300)];for(let r=0;r<i[t(339)];r++){const e=G.constructor[t(325)][t(322)](G),a=i[r],o=n[a]||e;e[t(317)]=G[t(322)](G),e.toString=o[t(318)][t(322)](o),n[a]=e}}))();const Z=y({__name:N(323),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=N,i=t,r=new(x[n(327)]),a=new(x[n(301)]),o=new(x[n(312)]),s=new k,l=g({width:i[n(367)],height:i[n(367)],settings:{type:x[n(335)]}}),c=g({width:i[n(367)],height:i[n(367)],settings:{type:x[n(335)]}}),{camera:u,renderer:p,scene:f}=m(),{onBeforeLoop:h}=w();return h((()=>{const t=n;(()=>{const t=n;if(!u[t(352)])return;r[t(350)](new(x[t(340)])(0,1,0),0),r[t(341)](i[t(310)][t(344)]),o[t(309)](u.value);const e=new(x[t(340)])(0,0,1)[t(365)]().negate(),s=u.value[t(348)](new(x[t(340)]));e.reflect(r.normal);const c=new(x[t(340)]);r[t(343)](s,c);const m=c.clone();m.sub(s),m[t(361)](c),o.position[t(309)](m);const w=new(x[t(340)])(0,0,-1);w.applyQuaternion(u[t(352)].getWorldQuaternion(new(x[t(374)]))),w[t(361)](s);const g=new(x[t(340)]);i.parent[t(348)](g),g.sub(w),g[t(303)](r[t(362)])[t(337)](),g[t(361)](i.parent.getWorldPosition(new(x[t(340)]))),o.up.set(0,1,0),o[t(366)](u[t(352)][t(305)](new v)),o.up[t(303)](r[t(362)]),o.lookAt(g),o.updateMatrixWorld();const h=new(x[t(301)]);h.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),h.multiply(o[t(345)]),h[t(306)](o[t(358)]),a[t(309)](h),r[t(341)](o[t(358)]);const d=new(x[t(354)])(r[t(362)].x,r[t(362)].y,r.normal.z,r[t(314)]),y=o[t(345)],S=new(x[t(354)]);S.x=(Math[t(331)](d.x)+y.elements[8])/y[t(316)][0],S.y=(Math[t(331)](d.y)+y[t(316)][9])/y[t(316)][5],S.z=-1,S.w=(1+y[t(316)][10])/y[t(316)][14],d.multiplyScalar(2/d[t(330)](S)),y[t(316)][2]=d.x,y[t(316)][6]=d.y,y.elements[10]=d.z+1,y[t(316)][14]=d.w;const _=p.value[t(370)]();p[t(352)][t(375)](l[t(352)]),p[t(352)].state[t(349)][t(364)][t(351)](!0),!1===p[t(352)][t(356)]&&p.value[t(332)](),i.ignoreObjects[t(377)]((e=>e[t(320)]=!1)),p.value[t(353)](f.value,o),i[t(360)][t(377)]((e=>e[t(320)]=!0)),p.value.setRenderTarget(_)})(),l[t(352)]&&c.value&&p[t(352)]&&s[t(307)](l[t(352)].texture,c[t(352)],p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function X(){const t=["451199CCWKjE","2928156zNYNDJ","dot","sign","clear","call","stateObject","UnsignedByteType","apply","negate","init","length","Vector3","applyMatrix4","441NQGTuL","projectPoint","matrixWorld","projectionMatrix","test",'{}.constructor("return this")( )',"getWorldPosition","buffers","set","setMask","value","render","Vector4","constructor","autoClear","return (function() ","matrixWorldInverse","action","ignoreObjects","add","normal","76jsROhR","depth","clone","applyQuaternion","resolution","10bDTtub","164392UEMMMU","getRenderTarget","4674790JWxSHn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","Quaternion","setRenderTarget","chain","forEach","trace","Matrix4","warn","reflect","6562822KzEfLU","getWorldQuaternion","multiply","update","while (true) {}","copy","parent","198395BDJRXp","PerspectiveCamera","551895xdLUZT","constant","function *\\( *\\)","elements","__proto__","toString","console","visible","string","bind","reflectorMipMap","exception","prototype","log","Plane"];return(X=function(){return t})()}function Y(t){function e(t){const n=Q;if(typeof t===n(321))return function(t){}[n(355)](n(308)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(355)]("debugger")[n(333)](n(359)):function(){return!1}[n(355)]("debu"+n(373))[n(336)](n(334)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function F(){var t=["1sYdSJV","3609102TfMjCc","test","length","122318uInfyd","gger","prototype","bind","input",'{}.constructor("return this")( )',"134554ogNbmB","296LCyQUt","2449725YwRxLE","constructor","trace","log","toString","stateObject","while (true) {}","1917768yHQGMA","error","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","__proto__","info","console","table","call","apply","debu","15683733Oghcaw","function *\\( *\\)","52584bMIiVX","chain","return (function() ","warn"];return(F=function(){return t})()}!function(t,e){for(var n=K,i=F();;)try{if(39e4===-parseInt(n(497))/1*(parseInt(n(507))/2)+-parseInt(n(493))/3+parseInt(n(479))/4+parseInt(n(509))/5+parseInt(n(498))/6+-parseInt(n(501))/7*(-parseInt(n(508))/8)+-parseInt(n(491))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var $=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[K(489)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){$(this,(function(){var t=K,e=new RegExp(t(492)),n=new RegExp(t(482),"i"),i=J("init");e[t(499)](i+t(494))&&n[t(499)](i+t(505))?J():i("0")}))()}();var B=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[K(489)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function K(t,e){var n=F();return(K=function(t,e){return n[t-=478]})(t,e)}function J(t){function e(t){var n=K;if("string"==typeof t)return function(t){}[n(510)](n(478))[n(489)](n(483));1!==(""+t/t).length||t%20==0?function(){return!0}[n(510)]("debu"+n(502))[n(488)](n(481)):function(){return!1}[n(510)](n(490)+n(502))[n(489)](n(514)),e(++t)}try{if(t)return e;e(0)}catch(n){}}B(void 0,(function(){for(var t=K,e=function(){var t,e=K;try{t=Function(e(495)+e(506)+");")()}catch(n){t=window}return t}(),n=e[t(486)]=e[t(486)]||{},i=[t(512),t(496),t(485),t(480),"exception",t(487),t(511)],r=0;r<i[t(500)];r++){var a=B[t(510)][t(503)][t(504)](B),o=i[r],s=n[o]||a;a[t(484)]=B.bind(B),a[t(513)]=s[t(513)].bind(s),n[o]=a}}))();export{Z as _};
