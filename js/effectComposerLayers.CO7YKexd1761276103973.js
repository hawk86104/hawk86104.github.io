import{F as e,_ as s,T as a,K as r}from"./@tresjs.B_KjVy0E1761276103973.js";import{ct as l,cu as n,d as t,cv as o}from"./three.Bhn4-0ry1761276103973.js";import{d as u,a as i,a3 as c,G as v,o as m,h as d,I as f,u as p,F as y,g as h,b as T,e as _}from"./@vue.CKlgtJke1761276103973.js";import"./postprocessing.CeTFUAN_1761276103973.js";import"./@vueuse.wtfleElW1761276103973.js";const g=u({__name:"ecLayers",setup(r){const{camera:u,renderer:h,scene:T,sizes:_}=e(),g=i(),w=i(),x=i();let M=null;const j=0,B=.972,k=.21;c(()=>{g.value&&g.value.instance.layers.set(0),w.value&&w.value.layers.set(1),x.value&&x.value.layers.set(2),_.width.value&&((e,s,a,r,u)=>{const i=new l(e,s),c=new n(new t(r,u),B,k,j);M=new o(a),M.addPass(i),M.addPass(c)})(T.value,u.value,h,_.width.value,_.height.value)});const{onRender:C}=s();return C(()=>{M&&u.value&&(h.clear(),u.value.layers.set(1),M.render(),h.clearDepth(),u.value.layers.set(0),h.render(T.value,u.value))}),(e,s)=>(m(),v(y,null,[d(p(a),{ref_key:"normalBox",ref:g,args:[1,1,1],color:"orange",position:[3,2,1]},null,512),f("TresMesh",{ref_key:"shineBox",ref:w,position:[0,2,-4]},[...s[0]||(s[0]=[f("TresBoxGeometry",{args:[1,1,1]},null,-1),f("TresMeshNormalMaterial",null,null,-1)])],512),f("TresMesh",{ref_key:"filmBox",ref:x,position:[1,2,3]},[...s[1]||(s[1]=[f("TresBoxGeometry",{args:[1,1,1]},null,-1),f("TresMeshNormalMaterial",null,null,-1)])],512)],64))}}),w=u({__name:"effectComposerLayers",setup(e){const s=i();return c(()=>{if(s.value){s.value.context.renderer.instance.autoClear=!1}}),(e,a)=>{const l=h("TresCanvas");return m(),T(l,{ref_key:"tcRef",ref:s,renderMode:"manual","window-size":""},{default:_(()=>[a[0]||(a[0]=f("TresPerspectiveCamera",{position:[10,10,10]},null,-1)),a[1]||(a[1]=f("TresAmbientLight",{intensity:1},null,-1)),d(p(r)),a[2]||(a[2]=f("TresGridHelper",{args:[10,10]},null,-1)),d(g)]),_:1},512)}}});export{w as default};
