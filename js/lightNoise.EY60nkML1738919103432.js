import{_ as n,bQ as t,a as e,T as o,$ as r,C as i,c5 as s,c3 as a,c4 as c,V as l,ce as u,l as f}from"./three.CYhYNU4g1738919103432.js";import{e as p,m as v,o as d}from"./@tresjs.G4idgyWs1738919103432.js";import{d as m,o as g,H as h,N as b,u as x,F as y,w,j as _,z as I,e as T,g as U,aj as S,ak as D}from"./@vue.NRI7TcgI1738919103432.js";import{_ as j}from"./@fesjs.28Jx3VJe1738919103432.js";import"./@vueuse.DL3Lluw_1738919103432.js";import"./vue-router.NKoGOf7E1738919103432.js";import"./lodash-es.pklfUAS51738919103432.js";import"./@qlin.yHhFDldE1738919103432.js";import"./pinia.yqLlAjUg1738919103432.js";import"./@floating-ui.BPbuo5Gx1738919103432.js";import"./@juggle.7yjBMqoW1738919103432.js";var B="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const E=C;function C(n,t){const e=M();return(C=function(n,t){return e[n-=360]})(n,t)}!function(n,t){const e=C,o=M();for(;;)try{if(244132===parseInt(e(380))/1*(-parseInt(e(366))/2)+parseInt(e(431))/3+-parseInt(e(383))/4*(-parseInt(e(423))/5)+parseInt(e(425))/6*(-parseInt(e(402))/7)+-parseInt(e(430))/8*(-parseInt(e(363))/9)+parseInt(e(403))/10+parseInt(e(385))/11*(-parseInt(e(360))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){N(this,(function(){const n=C,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(408),"i"),o=R("init");t[n(369)](o+n(426))&&e[n(369)](o+n(375))?R():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(433)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();z(void 0,(function(){const n=C;let t;try{t=Function(n(432)+n(391)+");")()}catch(r){t=window}const e=t.console=t[n(415)]||{},o=["log",n(416),n(393),"error",n(394),"table",n(399)];for(let i=0;i<o[n(371)];i++){const t=z[n(386)][n(417)][n(374)](z),r=o[i],s=e[r]||t;t[n(406)]=z[n(374)](z),t[n(396)]=s[n(396)][n(374)](s),e[r]=t}}))();const F=[E(377),E(367)],P=["material"],A=[E(418)];function M(){const n=["input","globalBloom","geometry","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","vertexShader","16vgVPXi","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","while (true) {}","4qPJExE","instanceCount","22BILxYD","constructor","SphereGeometry","\n      uniform vec4 luces[","action","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ",'{}.constructor("return this")( )',"#include <begin_vertex>","info","exception","copy","toString","setAttribute","\n    ","trace","uniforms","setY","7658dmVTTX","3956990xXxKWX","fragmentShader","noise","__proto__","MeshBasicMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","replace","gger","instData","randFloat","#include <dithering_fragment>","console","warn","prototype","rotateX","string","Vector4","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","attributes","1080460cCBPjN","MathUtils","1872NdktIe","chain","TresMesh","push","call","24hVeDrP","1453698kDfeaB","return (function() ","apply","5116476rjCjCu","globalUniforms","MeshLambertMaterial","1406043SZQqDq","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","cos","15854JIliFQ","material","luces","test","TresPlaneGeometry","length","noiseTex","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","bind"];return(M=function(){return n})()}const k=100,G=m({__name:"lucesPlane",props:{globalUniforms:{}},setup(r){const i=E,s=r,a=[],c=[],l=new(n[i(387)])(1,36,18),u=(new t)[i(395)](l);u[i(384)]=k;const f=[];for(let t=0;t<k;t++){let t=e.randFloatSpread(49),o=n[i(424)].randFloatSpread(49),r=n[i(424)][i(413)](.0625,.125),s=n[i(424)].randFloat(1,3);f[i(428)](t,o,r),c[i(428)](new(n[i(420)])(t,o,s,e.randFloat(1,2))),a[i(428)](new(n[i(420)])(t,o,r,s))}u[i(397)](i(412),new o(new Float32Array(f),3));const v=new(n[i(407)])({color:16720418,onBeforeCompile:n=>{const t=i;n.uniforms[t(372)]=s[t(361)].noise,n.vertexShader=(t(381)+n.vertexShader+t(398))[t(410)](t(392),t(373))}}),d={luces:{value:a}},m=new(n[i(362)])({color:2363940,onBeforeCompile:n=>{const t=i;n[t(400)][t(368)]=d[t(368)],n[t(400)].globalBloom=s[t(361)][t(376)],n.uniforms[t(372)]=s.globalUniforms[t(405)],n[t(379)]=(t(421)+n[t(379)]+t(398))[t(410)]("#include <begin_vertex>","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      "),n[t(404)]=(t(388)+k+t(390)+n[t(404)]+"\n    ")[t(410)]("#include <fog_fragment>","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < "+k+t(364))[t(410)](t(414),t(378))}}),{onLoop:w}=p();return w((({elapsed:n})=>{const t=i;for(let e=0;e<k;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math.sin(n*o.w*(e%3+1))*Math[t(365)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(422)][t(412)][t(401)](e,r)}u[t(422)][t(412)].needsUpdate=!0})),(n,t)=>{const e=i;return g(),h(y,null,[b(e(427),{geometry:x(u),material:x(v)},null,8,F),b(e(427),{material:x(m)},[b(e(370),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,A)],8,P)],64)}}});function R(n){function t(n){const e=C;if(typeof n===e(419))return function(n){}[e(386)](e(382)).apply("counter");1!==(""+n/n)[e(371)]||n%20==0?function(){return!0}.constructor(e(409)+e(411))[e(429)](e(389)):function(){return!1}[e(386)]("debu"+e(411))[e(433)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Z=q;!function(n,t){const e=q,o=V();for(;;)try{if(314780===parseInt(e(237))/1+parseInt(e(238))/2*(-parseInt(e(265))/3)+-parseInt(e(242))/4+parseInt(e(261))/5*(parseInt(e(232))/6)+-parseInt(e(270))/7*(parseInt(e(264))/8)+parseInt(e(266))/9*(parseInt(e(253))/10)+parseInt(e(268))/11*(parseInt(e(233))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function V(){const n=["input","material","length","constructor","TresMesh","5140KEqxij","defines","replace","527888XeDBHc","3jsWcHO","54LIZwnP","toString","116787UfcXkv","test","21VwimGe","bind","console","globalUniforms","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","info","log","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","\n    ","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","exception","warn","debu","1104lcVgKK","696hEnLOM","while (true) {}","string","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","119889mcAjFh","820306QovhHL",'{}.constructor("return this")( )',"counter","portal","317272oFzhyj","call","gger","init","globalBloom","#include <dithering_fragment>","chain","prototype","__proto__","uniforms","apply","128970JSbdOx","fragmentShader","time"];return(V=function(){return n})()}!function(){L(this,(function(){const n=q,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(n(245));t[n(269)](o+n(248))&&e[n(269)](o+n(256))?$():o("0")}))()}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();H(void 0,(function(){const n=q,t=function(){const n=q;let t;try{t=Function("return (function() "+n(239)+");")()}catch(e){t=window}return t}(),e=t[n(221)]=t[n(221)]||{},o=[n(225),n(230),n(224),"error",n(229),"table","trace"];for(let r=0;r<o.length;r++){const t=H[n(259)][n(249)][n(220)](H),i=o[r],s=e[i]||t;t[n(250)]=H[n(220)](H),t[n(267)]=s[n(267)][n(220)](s),e[i]=t}}))();const X=[Z(257)];function q(n,t){const e=V();return(q=function(n,t){return e[n-=220]})(n,t)}const O=m({__name:Z(241),props:{globalUniforms:{}},setup(n){const t=Z,e=n,o=new r({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=q;n[t(251)][t(255)]=e[t(222)][t(255)],n[t(251)][t(246)]=e.globalUniforms[t(246)],n[t(254)]=(t(236)+B+t(228)+n.fragmentShader+t(227))[t(263)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(226))[t(263)](t(247),t(223))}});return o[t(262)]={USE_UV:""},(n,e)=>{const r=t;return g(),h(r(260),{material:x(o),position:[0,3.75,-12]},e[0]||(e[0]=[b("TresPlaneGeometry",{args:[5,5]},null,-1)]),8,X)}}});function $(n){function t(n){const e=q;if(typeof n===e(235))return function(n){}[e(259)](e(234))[e(252)](e(240));1!==(""+n/n)[e(258)]||n%20==0?function(){return!0}.constructor(e(231)+e(244))[e(243)]("action"):function(){return!1}[e(259)](e(231)+e(244))[e(252)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const W=Y;!function(n,t){const e=Y,o=nn();for(;;)try{if(572510===parseInt(e(378))/1*(parseInt(e(392))/2)+-parseInt(e(354))/3*(-parseInt(e(386))/4)+parseInt(e(406))/5*(-parseInt(e(352))/6)+parseInt(e(380))/7+parseInt(e(395))/8+parseInt(e(365))/9+-parseInt(e(363))/10*(parseInt(e(407))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){K(this,(function(){const n=Y,t=new RegExp(n(402)),e=new RegExp(n(410),"i"),o=en(n(401));t.test(o+n(364))&&e.test(o+n(375))?en():o("0")}))()}();const Q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Q(void 0,(function(){const n=Y;let t;try{t=Function(n(398)+n(355)+");")()}catch(r){t=window}const e=t[n(393)]=t[n(393)]||{},o=["log","warn",n(351),n(394),n(366),n(400),n(360)];for(let i=0;i<o.length;i++){const t=Q[n(358)][n(384)].bind(Q),r=o[i],s=e[r]||t;t[n(390)]=Q[n(367)](Q),t.toString=s[n(385)][n(367)](s),e[r]=t}}))();const J=[W(376),W(404)];function Y(n,t){const e=nn();return(Y=function(n,t){return e[n-=351]})(n,t)}function nn(){const n=["randFloatSpread","stateObject","time","prototype","toString","565948ovtnKe","BufferGeometry","\n    ","randFloat","__proto__","counter","72950GiJqBg","console","error","5530336tZGgDP","MathUtils","debu","return (function() ","setAttribute","table","init","function *\\( *\\)","\n      ","geometry","call","308405xaHNhS","1309inwTnQ","fragmentShader","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","replace","globalBloom","info","96RLfJEn","globalUniforms","3tclWVB",'{}.constructor("return this")( )',"push","Float32BufferAttribute","constructor","uniforms","trace","#include <begin_vertex>","vertexShader","83630cUxjfq","chain","4391262qExcIn","exception","bind","gger","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","LineBasicMaterial","apply","TresLineSegments","action","position","input","material","noise","15HALSwU","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","4807467jFvAMq"];return(nn=function(){return n})()}const tn=m({__name:"drops",props:{globalUniforms:{}},setup(t){const o=W,r=t,i=[],s=[];for(let l=0;l<2e4;l++){const t=n[o(396)][o(381)](35),r=n[o(396)][o(389)](-5,10),a=e.randFloatSpread(35),c=n[o(396)][o(389)](.25,.5);i[o(356)](t,r,a,t,r,a),s.push(0,c,1,c)}const a=new(n[o(387)]);a[o(399)](o(374),new(n[o(357)])(i,3)),a[o(399)]("gEnds",new(n[o(357)])(s,2));const c=new(n[o(370)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n.uniforms[t(383)]=r[t(353)][t(383)],n[t(359)].noiseTex=r[t(353)][t(377)],n[t(359)][t(413)]=r[t(353)][t(413)],n.vertexShader=(t(369)+n[t(362)]+t(388))[t(412)](t(361),"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(408)]=("\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      "+B+t(403)+n[t(408)]+t(388))[t(412)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(379))}});return(n,t)=>{const e=o;return g(),h(e(372),{material:x(c),geometry:x(a)},null,8,J)}}});function en(n){function t(n){const e=Y;if(typeof n===e(411))return function(n){}.constructor("while (true) {}")[e(371)](e(391));1!==(""+n/n)[e(409)]||n%20==0?function(){return!0}[e(358)](e(397)+e(368))[e(405)](e(373)):function(){return!1}.constructor("debu"+e(368)).apply(e(382)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=an,o=sn();for(;;)try{if(444667===-parseInt(e(162))/1*(parseInt(e(148))/2)+parseInt(e(143))/3*(-parseInt(e(131))/4)+parseInt(e(179))/5*(parseInt(e(124))/6)+parseInt(e(157))/7+parseInt(e(125))/8*(-parseInt(e(151))/9)+-parseInt(e(176))/10+-parseInt(e(169))/11*(-parseInt(e(136))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){on(this,(function(){const n=an,t=new RegExp(n(168)),e=new RegExp(n(126),"i"),o=ln(n(141));t.test(o+"chain")&&e[n(135)](o+n(177))?ln():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[an(133)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(){const n=["250524ziCoyq","addPass","console","9dWNDuK","set","\n    ","fragmentShader","warn","PlaneGeometry","2964773sKkmPt","background","renderTarget2","log","length","2eVPEXi","Mesh","setRenderTarget","Scene","constructor","defines","function *\\( *\\)","11dOeFut","Camera","add","action","stateObject","target","renderToScreen","232760GmMnOD","input","value","5uwukKg","baseTexture","Fog","info","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","\n      uniform float time;\n      ","color","debu","prototype","gger","render","3708582hCMgQZ","3425464NBXEzW","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","vec4 diffuseColor = vec4( diffuse, opacity );","MeshBasicMaterial","while (true) {}","error","226300AiBDGS","texture","apply","WebGLRenderTarget","test","8049168XQtQSl","time","toString","fog","__proto__","init","width","30vVrHvn","bind","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","near","counter"];return(sn=function(){return n})()}function an(n,t){const e=sn();return(an=function(n,t){return e[n-=116]})(n,t)}rn(void 0,(function(){const n=an;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(150)]=t[n(150)]||{},o=[n(160),n(155),n(116),n(130),"exception","table","trace"];for(let i=0;i<o.length;i++){const t=rn[n(166)][n(121)].bind(rn),r=o[i],s=e[r]||t;t[n(140)]=rn[n(144)](rn),t[n(138)]=s.toString.bind(s),e[r]=t}}))();const cn=m({__name:"fboRender",setup(t){const e=an,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(134)])(512,512),d=new(n[e(165)]),m=new(n[e(170)]),b=new(n[e(156)])(2,2),x=new(n[e(128)])({onBeforeCompile:n=>{const t=e;n.uniforms.time=o.time,n.fragmentShader=(t(118)+B+"\n      "+n[t(154)]+t(153)).replace(t(127),t(117))}});x[e(167)]={USE_UV:""};const I=new(n[e(163)])(b,x);d[e(171)](I),o.noise[e(178)]=r[e(132)];const{camera:T,renderer:U,scene:S,sizes:D,controls:j}=v();w((()=>j.value),(n=>{const t=e;null==n||n[t(174)][t(152)](0,2,0),!S.value[t(158)]&&(S[t(178)][t(158)]=new i(6706534))}));const E=new s(U[e(178)]),C=new s(U[e(178)]),N=new a(S[e(178)],T[e(178)]),z=new c(new l(D[e(142)][e(178)],D.height[e(178)]),1.2,.5,0);E[e(175)]=!1,E[e(149)](N),E[e(149)](z);const F=new u(new f({uniforms:{baseTexture:{value:null},bloomTexture:{value:E[e(159)][e(132)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:e(145),defines:{}}),e(180));F.needsSwap=!0,C[e(149)](N),C.addPass(F),S[e(178)][e(139)]=new(n[e(181)])(6706534,1,25);const{onLoop:P}=p();return P((({elapsed:n})=>{var t,i;const s=e;o[s(137)][s(178)]=n,U[s(178)]&&(U[s(178)].setRenderTarget(r),U.value[s(123)](d,m),U[s(178)][s(164)](null),o.globalBloom[s(178)]=1.2,S.value[s(139)][s(119)].set(0),S[s(178)][s(139)][s(146)]=15,null==(t=S.value[s(158)])||t.set(0),E[s(123)](),o.globalBloom.value=0,S[s(178)][s(139)][s(119)][s(152)](6706534),S[s(178)][s(139)][s(146)]=10,null==(i=S[s(178)][s(158)])||i.set(6706534),C[s(123)]())})),(n,t)=>(g(),h(y,null,[_(G,{globalUniforms:o}),_(O,{globalUniforms:o}),_(tn,{globalUniforms:o})],64))}});function ln(n){function t(n){const e=an;if("string"==typeof n)return function(n){}.constructor(e(129))[e(133)](e(147));1!==(""+n/n)[e(161)]||n%20==0?function(){return!0}.constructor(e(120)+e(122)).call(e(172)):function(){return!1}[e(166)](e(120)+e(122))[e(133)](e(173)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const un={class:"text"};const fn=j({},[["render",function(n,t){return g(),h("div",un,t[0]||(t[0]=[b("span",{class:"retro noselect"},[b("span",{style:{color:"#eae"}},"光"),I("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),pn=vn;function vn(n,t){const e=mn();return(vn=function(n,t){return e[n-=363]})(n,t)}!function(n,t){const e=vn,o=mn();for(;;)try{if(574412===-parseInt(e(379))/1*(-parseInt(e(399))/2)+parseInt(e(383))/3+-parseInt(e(393))/4*(parseInt(e(364))/5)+-parseInt(e(372))/6+parseInt(e(367))/7+-parseInt(e(397))/8+-parseInt(e(363))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const dn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(391)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function mn(){const n=["exception","prototype","trace","400722bhHawj","toString","manual","table","init","TresPerspectiveCamera","gger","42649vKqAux","while (true) {}","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2962821hgCOZp",'{}.constructor("return this")( )',"stateObject","chain","length","debu","lightNoise","bind","apply","DEG2RAD","297524bWGkvT","warn","function *\\( *\\)","console","5606392XEaeAr","log","10zJVYuI","MathUtils","test","6960105vXkqkc","5evClZA","constructor","input","6922104aQWvHc","error"];return(mn=function(){return n})()}!function(){dn(this,(function(){const n=vn,t=new RegExp(n(395)),e=new RegExp(n(382),"i"),o=bn(n(376));t[n(401)](o+n(386))&&e[n(401)](o+n(366))?bn():o("0")}))()}();const gn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(391)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();gn(void 0,(function(){const n=vn,t=function(){const n=vn;let t;try{t=Function("return (function() "+n(384)+");")()}catch(e){t=window}return t}(),e=t[n(396)]=t[n(396)]||{},o=[n(398),n(394),"info",n(368),n(369),n(375),n(371)];for(let r=0;r<o[n(387)];r++){const t=gn[n(365)][n(370)][n(390)](gn),i=o[r],s=e[i]||t;t.__proto__=gn[n(390)](gn),t[n(373)]=s[n(373)][n(390)](s),e[i]=t}}))();const hn=m({__name:pn(389),setup(t){const e=pn,o={windowSize:!0,antialias:!0,renderMode:e(374)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[e(400)][e(392)],maxPolarAngle:90*n[e(400)][e(392)],makeDefault:!0};return(n,t)=>{const i=e,s=T("TresCanvas");return g(),h(y,null,[_(fn),_(s,S(D(o)),{default:U((()=>[t[0]||(t[0]=b(i(377),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),_(x(d),S(D(r)),null,16),t[1]||(t[1]=b("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=b("TresDirectionalLight",{position:[0,3,-12],intensity:1},null,-1)),_(cn)])),_:1},16)],64)}}});function bn(n){function t(n){const e=vn;if(typeof n===e(381))return function(n){}[e(365)](e(380))[e(391)]("counter");1!==(""+n/n)[e(387)]||n%20==0?function(){return!0}[e(365)](e(388)+e(378)).call("action"):function(){return!1}.constructor(e(388)+e(378)).apply(e(385)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{hn as default};
