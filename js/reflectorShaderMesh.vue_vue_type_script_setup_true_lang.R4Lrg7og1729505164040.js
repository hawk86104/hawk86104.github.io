import{a3 as t,C as n,k as e,t as r,s as o,b$ as i}from"./three.YREzp-_G1729505164040.js";import{p as s,z as c}from"./@tresjs.IsKybBdF1729505164040.js";import{R as a,a as u}from"./all.three.FTr54iDs1729505164040.js";import{d as f,a4 as l,a3 as p,w as h,o as g,E as m,L as d,u as w}from"./@vue.JNsx1iN61729505164040.js";const b=y;function y(t,n){const e=S();return(y=function(t,n){return e[t-=426]})(t,n)}!function(t,n){const e=y,r=S();for(;;)try{if(388893===-parseInt(e(483))/1*(parseInt(e(452))/2)+-parseInt(e(448))/3+parseInt(e(473))/4+parseInt(e(463))/5*(parseInt(e(443))/6)+-parseInt(e(470))/7+parseInt(e(478))/8+parseInt(e(442))/9*(parseInt(e(435))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const _=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[y(436)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){_(this,(function(){const t=y,n=new RegExp(t(469)),e=new RegExp(t(446),"i"),r=E(t(462));n[t(456)](r+t(465))&&e.test(r+t(439))?E():r("0")}))()}();const I=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[y(436)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=y;let n;try{n=Function(t(484)+t(460)+");")()}catch(o){n=window}const e=n[t(467)]=n[t(467)]||{},r=[t(445),"warn",t(431),t(433),t(482),t(438),t(472)];for(let i=0;i<r.length;i++){const n=I[t(464)].prototype.bind(I),o=r[i],s=e[o]||n;n.__proto__=I.bind(I),n[t(480)]=s.toString[t(481)](s),e[o]=n}}))();const x=["position",b(461)],j=[b(447)],v=[b(447)];function S(){const t=["primitive","function *\\( *\\)","2591204KUulpm","#ffffff","trace","1489948bBdEyh","update","color","wrapT","uColor","3841816CwfGBP","tReflect","toString","bind","exception","1oIwiap","return (function() ","uMirror","rotation","position","call","wrapS","uMixStrength","action","info","uReflectivity","error","fog","2260IBnlEE","apply","visible","table","input","counter","TresGroup","8415iPLNnc","636588lPJgEg","onBeforeRender","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","object","78366ZzlOpy","uniforms","reflectivity","debu","1406458AYzxYK","renderTargetUniform","while (true) {}","mirror","test","value","mixStrength","gger",'{}.constructor("return this")( )',"scale","init","20bMllIA","constructor","chain","showGridHelper","console"];return(S=function(){return t})()}const M=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:b(471)},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const y=b;let _,I;const S=f,{scene:M}=s(),E=([_,I]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),_=await _,I(),_);E[0].wrapS=t,E[0][y(476)]=t,E[1][y(428)]=t,E[1][y(476)]=t;const R=new a,z=new u({reflectivity:S[y(450)],mirror:S[y(455)],mixStrength:S[y(458)],color:new n(S[y(475)]),map:E[0],normalMap:E[1],normalScale:new e(5,5),fog:M[y(434)],dithering:!0});z[y(449)][y(479)]=R[y(453)],z[y(449)].uMatrix=R.textureMatrixUniform;const B=new r(10,10),G=new o(B,z);G.name="reflectorShaderMesh",G.position.y=-.01,G[y(486)].x=-Math.PI/2,G.add(R),G[y(444)]=(t,n,e)=>{const r=y;G.visible=!1,R[r(474)](t,n,e),G.visible=!0};const A=new i(9.5,10);return A[y(437)]=S[y(466)],p((()=>{const t=y;S.reflectivity&&(z.uniforms[t(432)][t(457)]=S[t(450)]),S[t(455)]&&(z[t(449)][t(485)][t(457)]=S[t(455)]),S[t(458)]&&(z[t(449)][t(429)][t(457)]=S[t(458)]),S[t(475)]&&(z[t(449)][t(477)][t(457)]=new n(S[t(475)]))})),h((()=>S.showGridHelper),(t=>{A[y(437)]=t})),(t,n)=>{const e=y;return g(),m(e(441),{position:S[e(426)],scale:S[e(461)]},[d(e(468),{object:w(G)},null,8,j),d(e(468),{object:w(A)},null,8,v)],8,x)}}});function E(t){function n(t){const e=y;if("string"==typeof t)return function(t){}.constructor(e(454))[e(436)](e(440));1!==(""+t/t).length||t%20==0?function(){return!0}[e(464)](e(451)+e(459))[e(427)](e(430)):function(){return!1}[e(464)]("debugger")[e(436)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
