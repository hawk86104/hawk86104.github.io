const G1=.5*(Math.sqrt(3)-1),K=(3-Math.sqrt(3))/6,b1=(Math.sqrt(5)-1)/4,e=(5-Math.sqrt(5))/20,D=F=>Math.floor(F)|0,z1=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),L=new Float64Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function h1(F=Math.random){const t=A1(F),c=new Float64Array(t).map(i=>z1[i%12*2]),n=new Float64Array(t).map(i=>z1[i%12*2+1]);return function(g,f){let A=0,G=0,b=0;const h=(g+f)*G1,j=D(g+h),k=D(f+h),M=(j+k)*K,N=j-M,X=k-M,p=g-N,w=f-X;let u,x;p>w?(u=1,x=0):(u=0,x=1);const z=p-u+K,d=w-x+K,Y=p-1+2*K,P=w-1+2*K,T=j&255,U=k&255;let r=.5-p*p-w*w;if(r>=0){const s=T+t[U],y=c[s],m=n[s];r*=r,A=r*r*(y*p+m*w)}let a=.5-z*z-d*d;if(a>=0){const s=T+u+t[U+x],y=c[s],m=n[s];a*=a,G=a*a*(y*z+m*d)}let l=.5-Y*Y-P*P;if(l>=0){const s=T+1+t[U+1],y=c[s],m=n[s];l*=l,b=l*l*(y*Y+m*P)}return 70*(A+G+b)}}function M1(F=Math.random){const t=A1(F),c=new Float64Array(t).map(f=>L[f%32*4]),n=new Float64Array(t).map(f=>L[f%32*4+1]),i=new Float64Array(t).map(f=>L[f%32*4+2]),g=new Float64Array(t).map(f=>L[f%32*4+3]);return function(A,G,b,h){let j,k,M,N,X;const p=(A+G+b+h)*b1,w=D(A+p),u=D(G+p),x=D(b+p),z=D(h+p),d=(w+u+x+z)*e,Y=w-d,P=u-d,T=x-d,U=z-d,r=A-Y,a=G-P,l=b-T,s=h-U;let y=0,m=0,S=0,q=0;r>a?y++:m++,r>l?y++:S++,r>s?y++:q++,a>l?m++:S++,a>s?m++:q++,l>s?S++:q++;const f1=y>=3?1:0,y1=m>=3?1:0,m1=S>=3?1:0,g1=q>=3?1:0,p1=y>=2?1:0,w1=m>=2?1:0,u1=S>=2?1:0,x1=q>=2?1:0,d1=y>=1?1:0,F1=m>=1?1:0,j1=S>=1?1:0,k1=q>=1?1:0,O=r-f1+e,Q=a-y1+e,R=l-m1+e,V=s-g1+e,_=r-p1+2*e,$=a-w1+2*e,t1=l-u1+2*e,n1=s-x1+2*e,o1=r-d1+3*e,s1=a-F1+3*e,c1=l-j1+3*e,e1=s-k1+3*e,r1=r-1+4*e,a1=a-1+4*e,l1=l-1+4*e,i1=s-1+4*e,W=w&255,Z=u&255,v=x&255,B=z&255;let C=.6-r*r-a*a-l*l-s*s;if(C<0)j=0;else{const o=W+t[Z+t[v+t[B]]];C*=C,j=C*C*(c[o]*r+n[o]*a+i[o]*l+g[o]*s)}let E=.6-O*O-Q*Q-R*R-V*V;if(E<0)k=0;else{const o=W+f1+t[Z+y1+t[v+m1+t[B+g1]]];E*=E,k=E*E*(c[o]*O+n[o]*Q+i[o]*R+g[o]*V)}let H=.6-_*_-$*$-t1*t1-n1*n1;if(H<0)M=0;else{const o=W+p1+t[Z+w1+t[v+u1+t[B+x1]]];H*=H,M=H*H*(c[o]*_+n[o]*$+i[o]*t1+g[o]*n1)}let I=.6-o1*o1-s1*s1-c1*c1-e1*e1;if(I<0)N=0;else{const o=W+d1+t[Z+F1+t[v+j1+t[B+k1]]];I*=I,N=I*I*(c[o]*o1+n[o]*s1+i[o]*c1+g[o]*e1)}let J=.6-r1*r1-a1*a1-l1*l1-i1*i1;if(J<0)X=0;else{const o=W+1+t[Z+1+t[v+1+t[B+1]]];J*=J,X=J*J*(c[o]*r1+n[o]*a1+i[o]*l1+g[o]*i1)}return 27*(j+k+M+N+X)}}function A1(F){const c=new Uint8Array(512);for(let n=0;n<512/2;n++)c[n]=n;for(let n=0;n<512/2-1;n++){const i=n+~~(F()*(256-n)),g=c[n];c[n]=c[i],c[i]=g}for(let n=256;n<512;n++)c[n]=c[n-256];return c}export{h1 as a,M1 as c};
