import{U as n,C as t}from"./@tresjs.ty5XF8T_1732177334649.js";import{m as o,bm as e,C as r,aB as i,a0 as a,_ as s,s as l}from"./three.rV-MfnQb1732177334649.js";import{P as c}from"./tweakpane.yHWGBmom1732177334649.js";import{d as u,r as f,a3 as p,e as g,o as d,f as v,g as m,J as w,j as h,u as y,al as I}from"./@vue.-THQH3GC1732177334649.js";import"./@vueuse.n223N0GC1732177334649.js";function b(n,t){var o=S();return(b=function(n,t){return o[n-=258]})(n,t)}!function(n,t){for(var o=b,e=S();;)try{if(432760===parseInt(o(298))/1+parseInt(o(293))/2+-parseInt(o(291))/3*(parseInt(o(276))/4)+parseInt(o(265))/5*(-parseInt(o(263))/6)+parseInt(o(279))/7*(parseInt(o(259))/8)+parseInt(o(278))/9*(-parseInt(o(284))/10)+parseInt(o(296))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[b(287)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){j(this,(function(){var n=b,t=new RegExp(n(269)),o=new RegExp(n(266),"i"),e=C("init");t[n(309)](e+n(277))&&o[n(309)](e+n(258))?C():e("0")}))()}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[b(287)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();x(void 0,(function(){for(var n=b,t=function(){var n,t=b;try{n=Function(t(262)+t(306)+");")()}catch(o){n=window}return n}(),o=t[n(272)]=t.console||{},e=[n(273),n(308),"info",n(271),n(275),n(289),n(300)],r=0;r<e[n(297)];r++){var i=x[n(281)][n(274)].bind(x),a=e[r],s=o[a]||i;i[n(302)]=x.bind(x),i[n(303)]=s.toString[n(280)](s),o[a]=i}}))();function S(){var n=["4260108SlwjFJ","transparent","5GdpEGc","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","string","function *\\( *\\)","depthTest","error","console","log","prototype","exception","5412lRIhVT","chain","62028qLvveM","4506719TuWYfa","bind","constructor","gger","opacity","510jsdIaW","debu","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","apply","glowInternalRadius","table","vertexShader","930kuQxvK","blendMode","552954dajtnO","glowColor","falloff","10734174UuwHsN","length","17572lXnZNK","glowSharpness","trace","#00d5ff","__proto__","toString","action","while (true) {}",'{}.constructor("return this")( )',"setValues","warn","test","input","8aMvSkt","fragmentShader","side","return (function() "];return(S=function(){return n})()}const _=class extends o{constructor(n={}){var t=b;super(),this[t(290)]="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this[t(260)]=t(286),this.uniforms={opacity:new e(void 0!==n[t(283)]?n[t(283)]:1),glowInternalRadius:new e(void 0!==n[t(288)]?n[t(288)]:6),glowSharpness:new e(void 0!==n.glowSharpness?n[t(299)]:.5),falloff:new e(void 0!==n[t(295)]?n[t(295)]:.1),glowColor:new e(void 0!==n[t(294)]?new r(n.glowColor):new r(t(301)))},this[t(307)](n),this[t(270)]=void 0!==n.depthTest&&n[t(270)],this.blending=void 0!==n[t(292)]?n[t(292)]:i,this[t(264)]=!0,this[t(261)]=void 0!==n[t(261)]?n[t(261)]:a}};function C(n){function t(n){var o=b;if(typeof n===o(268))return function(n){}.constructor(o(305))[o(287)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(o(285)+"gger")[o(267)](o(304)):function(){return!1}[o(281)](o(285)+o(282))[o(287)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}function k(){const n=["TresDirectionalLight","pos-z.jpg","string","value","trace","DoubleSide","TorusKnotGeometry","gger","243110omCSbF","材质面","while (true) {}","input","8EYyhKm","glowColor","4931129UGSCrw","FrontSide","call","TresPerspectiveCamera","primitive","length","TresGridHelper","debu","TresAmbientLight","bind","260688ptxvzi","falloff","addBinding","exception","action","prototype","3167008rmhkEs","warn","side","BackSide","neg-z.jpg","TresMeshPhysicalMaterial","TresCanvas","36bAqndf","apply","glowSharpness","44ryMkjB","counter","uniforms","init","Color","glowInternalRadius","3752127BxSQyj","辉光参数","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3wkdcYH","1eYEzeL","toString","log","TresTorusKnotGeometry","constructor","console","error","stateObject","75878mIMUuw","__proto__","opacity","3110211AYPCEn","TresMesh","65iCkNGS"];return(k=function(){return n})()}!function(n,t){const o=R,e=k();for(;;)try{if(410596===-parseInt(o(183))/1*(parseInt(o(191))/2)+-parseInt(o(182))/3*(-parseInt(o(163))/4)+-parseInt(o(196))/5*(-parseInt(o(157))/6)+-parseInt(o(211))/7+-parseInt(o(209))/8*(-parseInt(o(179))/9)+parseInt(o(205))/10*(parseInt(o(173))/11)+-parseInt(o(170))/12*(parseInt(o(194))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(171)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){T(this,(function(){const n=R,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(181),"i"),e=N(n(176));t.test(e+"chain")&&o.test(e+n(208))?N():e("0")}))()}();const z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(171)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();z(void 0,(function(){const n=R,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),o=t[n(188)]=t[n(188)]||{},e=[n(185),n(164),"info",n(189),n(160),"table",n(201)];for(let r=0;r<e.length;r++){const t=z.constructor[n(162)][n(156)](z),i=e[r],a=o[i]||t;t[n(192)]=z[n(156)](z),t.toString=a[n(184)][n(156)](a),o[i]=t}}))();const G={position:[0,6,0]},P=["object"];function R(n,t){const o=k();return(R=function(n,t){return o[n-=149]})(n,t)}const M=u({__name:"fakeGlow",setup(o){const e=R,r=new c({title:e(180),expanded:!0}),i=f({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(212)],depthTest:!1}),a=new _,u=new l(new(s[e(203)])(4,3.8,128,128),a);return r[e(159)](i,e(210),{label:"颜色"}),r[e(159)](i,e(158),{label:"衰减",min:0,max:10,step:.1}),r[e(159)](i,e(178),{label:"内半径",min:-5,max:5,step:.1}),r[e(159)](i,e(172),{label:"清晰度",min:0,max:10,step:.1}),r[e(159)](i,"opacity",{label:"透明",min:0,max:1,step:.1}),r[e(159)](i,e(165),{label:e(206),options:{FrontSide:s[e(212)],BackSide:s[e(166)],DoubleSide:s[e(202)]}}),p((()=>{const n=e;a.uniforms[n(158)][n(200)]=i[n(158)],a[n(175)].glowColor[n(200)]=new(s[n(177)])(i[n(210)]),a[n(175)].glowInternalRadius[n(200)]=i[n(178)],a[n(175)][n(172)].value=i[n(172)],a[n(175)].opacity.value=i[n(193)],a[n(165)]=i[n(165)]})),(o,r)=>{const i=e,a=g(i(169));return d(),v(a,{"window-size":""},{default:m((()=>[r[1]||(r[1]=w(i(150),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=w(i(155),{intensity:1.5},null,-1)),r[3]||(r[3]=w(i(197),{position:[100,100,60],intensity:20},null,-1)),h(y(n),{autoRotate:""}),r[4]||(r[4]=w(i(153),{args:[20,10]},null,-1)),w("TresGroup",G,[r[0]||(r[0]=w(i(195),null,[w(i(186),{args:[4,.5,128,128]}),w(i(168),{color:"blue",roughness:.2,clearcoat:1})],-1)),w(i(151),{object:y(u)},null,8,P)]),(d(),v(I,null,{default:m((()=>[h(y(t),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg",i(198),i(167)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1})}}});function N(n){function t(n){const o=R;if(typeof n===o(199))return function(n){}[o(187)](o(207))[o(171)](o(174));1!==(""+n/n)[o(152)]||n%20==0?function(){return!0}[o(187)](o(154)+o(204))[o(149)](o(161)):function(){return!1}[o(187)](o(154)+o(204))[o(171)](o(190)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{M as default};
