var n=Object.defineProperty,t=Object.defineProperties,e=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,e,r)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c=(n,t)=>{for(var e in t||(t={}))o.call(t,e)&&a(n,e,t[e]);if(r)for(var e of r(t))i.call(t,e)&&a(n,e,t[e]);return n};import{ae as s,o as u,q as l,aQ as f,aR as p,aS as d,H as h,ap as v,aq as m,y as g,bb as _,C as y,Z as x,W as b,l as I,m as S,n as w,A as M,f as E,V as A,g as R,a6 as T,bR as D,k as z,ba as P,j as C,bx as O,d as F,aa as k,B,a as j,aP as U,e as N,M as L,al as H,a7 as Z,c0 as G,c1 as V,h as W,aT as $,a3 as q}from"./three.fnkrvySq1721721076264.js";import{p as J,W as Y,$ as K}from"./@tresjs.tWkmYPO61721721076264.js";import{R as X}from"./three-stdlib.Rahz23xb1721721076264.js";import{Z as Q,b as nn,a as tn,w as en,u as rn,d as on,U as an,a4 as cn,a2 as sn,o as un,D as ln,G as fn,I as pn,a8 as dn,a1 as hn,q as vn,f as mn,J as gn,a9 as _n,r as yn,M as xn,X as bn,t as In,F as Sn,a6 as wn,m as Mn}from"./@vue.Q1VpS3901721721076264.js";import{M as En,a as An,C as Rn}from"./@pmndrs.K9H4bZlG1721721076264.js";import{o as Tn}from"./object-hash.n-lQHd521721721076264.js";var Dn=Pn;!function(n,t){for(var e=Pn,r=On();;)try{if(962194===-parseInt(e(407))/1*(parseInt(e(383))/2)+parseInt(e(379))/3*(parseInt(e(411))/4)+parseInt(e(408))/5+parseInt(e(398))/6+parseInt(e(394))/7+parseInt(e(380))/8+parseInt(e(401))/9*(-parseInt(e(393))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var zn=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[Pn(418)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Pn(n,t){var e=On();return(Pn=function(n,t){return e[n-=378]})(n,t)}!function(){zn(this,(function(){var n=Pn,t=new RegExp(n(413)),e=new RegExp(n(415),"i"),r=Bn("init");t.test(r+n(417))&&e.test(r+n(396))?Bn():r("0")}))()}();var Cn=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[Pn(418)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function On(){var n=["8062280zTHZiG","gger","__proto__","142rZMIEe","map","log","table","traverse","exception","counter","geometry","material","destructor","3873970DNWgjy","7289191gNuBJE","dispose","input","return (function() ","1102830UcvCkO","trace","remove","36GvbkPg","console",'{}.constructor("return this")( )',"string","error","info","9468eQUwlG","871160gAHIhe","stateObject","prototype","220wrOZnh","virtualScene","function *\\( *\\)","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","chain","apply","length","constructor","42375yqiwqd"];return(On=function(){return n})()}Cn(void 0,(function(){for(var n=Pn,t=function(){var n,t=Pn;try{n=Function(t(397)+t(403)+");")()}catch(e){n=window}return n}(),e=t[n(402)]=t[n(402)]||{},r=[n(385),"warn",n(406),n(405),n(388),n(386),n(399)],o=0;o<r[n(419)];o++){var i=Cn.constructor[n(410)][n(416)](Cn),a=r[o],c=e[a]||i;i[n(382)]=Cn[n(416)](Cn),i.toString=c.toString.bind(c),e[a]=i}}))();class Fn extends s{constructor(){var n=Pn;super(),this[n(412)]=null,this[n(412)]=new u}add(...n){return this[Pn(412)].add(...n),this}[Dn(392)](){var n=Dn;this[n(412)][n(387)]((t=>{var e=n;t instanceof l&&(t[e(390)][e(395)](),t[e(391)][e(395)](),t[e(391)][e(384)]&&t[e(391)][e(384)][e(395)](),this[e(412)][e(400)](t))})),this[n(412)]=null}}const kn=Fn;function Bn(n){function t(n){var e=Pn;if(typeof n===e(404))return function(n){}[e(378)](e(414))[e(418)](e(389));1!==(""+n/n)[e(419)]||n%20==0?function(){return!0}[e(378)]("debu"+e(381)).call("action"):function(){return!1}[e(378)]("debu"+e(381)).apply(e(409)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function jn(){const n=["toString","kiara/kiara_1_dawn_1k.hdr","action","2216883clpFCs","trace",'{}.constructor("return this")( )',"console","4yViftT","indoor/small_hangar_01_1k.hdr","chain","city/shanghai_bund_1k.hdr","test","5638836ukhsoq","city/canary_wharf_1k.hdr","return (function() ","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","string","debu","function *\\( *\\)","init","1633985sqZjRE","32030460eNoYgb","constructor","stateObject","log","outdoor/outdoor_umbrellas_1k.hdr","call","venice/venice_sunset_1k.hdr","apply","exception","bind","1750661vhsAev","prototype","length","counter","table","156318VbYtlo","77txUXKm","error","indoor/abandoned_games_room_02_1k.hdr","gger","while (true) {}","10945816ugZIAm"];return(jn=function(){return n})()}const Un=Hn;!function(n,t){const e=Hn,r=jn();for(;;)try{if(902255===-parseInt(e(374))/1+parseInt(e(348))/2*(-parseInt(e(344))/3)+-parseInt(e(353))/4+parseInt(e(363))/5+-parseInt(e(379))/6*(-parseInt(e(380))/7)+parseInt(e(340))/8+parseInt(e(364))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Nn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Hn(371)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Nn(this,(function(){const n=Hn,t=new RegExp(n(361)),e=new RegExp(n(357),"i"),r=Gn(n(362));t.test(r+n(350))&&e[n(352)](r+n(356))?Gn():r("0")}))()}();const Ln=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Hn(371)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Hn(n,t){const e=jn();return(Hn=function(n,t){return e[n-=339]})(n,t)}Ln(void 0,(function(){const n=Hn,t=function(){const n=Hn;let t;try{t=Function(n(355)+n(346)+");")()}catch(e){t=window}return t}(),e=t[n(347)]=t[n(347)]||{},r=[n(367),"warn",n(358),n(381),n(372),n(378),n(345)];for(let o=0;o<r.length;o++){const t=Ln[n(365)][n(375)].bind(Ln),i=r[o],a=e[i]||t;t.__proto__=Ln[n(373)](Ln),t.toString=a[n(341)][n(373)](a),e[i]=t}}))();const Zn={sunset:Un(370),studio:"studio/poly_haven_studio_1k.hdr",city:Un(354),umbrellas:Un(368),night:"outdoor/satara_night_1k.hdr",forest:"outood/mossy_forest_1k.hdr",snow:"outdoor/snowy_forest_path_01_1k.hdr",dawn:Un(342),hangar:Un(349),urban:Un(382),modern:"city/modern_buildings_2_1k.hdr",shangai:Un(351)};function Gn(n){function t(n){const e=Hn;if(typeof n===e(359))return function(n){}.constructor(e(339))[e(371)](e(377));1!==(""+n/n)[e(376)]||n%20==0?function(){return!0}[e(365)](e(360)+e(383))[e(369)](e(343)):function(){return!1}.constructor(e(360)+e(383))[e(371)](e(366)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Vn=Jn;!function(n,t){const e=Jn,r=qn();for(;;)try{if(967864===-parseInt(e(187))/1*(-parseInt(e(196))/2)+parseInt(e(188))/3+parseInt(e(157))/4*(-parseInt(e(179))/5)+parseInt(e(173))/6*(-parseInt(e(172))/7)+-parseInt(e(202))/8+-parseInt(e(175))/9+-parseInt(e(168))/10*(-parseInt(e(204))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Wn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Wn(this,(function(){const n=Jn,t=new RegExp(n(200)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Kn(n(182));t[n(160)](r+n(203))&&e.test(r+"input")?Kn():r("0")}))()}();const $n=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Jn(199)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function qn(){const n=["17996XsAtuj","5094360iJxpZM","background","environment","stateObject","counter",'{}.constructor("return this")( )',"Failed to load environment map: ","while (true) {}","22jXJblS","console","isArray","apply","function *\\( *\\)","return (function() ","12562016pGOulZ","chain","11IxemAA","__proto__","mapping","20XbsoWT","debu","value","test","backgroundBlurriness","join","Preset must be one of: ","error","constructor","isColor","string","28331430zrEXJg","info","texture","table","1645cPPWBA","8790kedaAs","bind","272457nnmqrF","log","keys","prototype","1816555FCvCsD","warn","call","init","setPath","length","gger","https://raw.githubusercontent.com/Tresjs/assets/main/textures/hdr/"];return(qn=function(){return n})()}function Jn(n,t){const e=qn();return(Jn=function(n,t){return e[n-=157]})(n,t)}$n(void 0,(function(){const n=Jn,t=function(){const n=Jn;let t;try{t=Function(n(201)+n(193)+");")()}catch(e){t=window}return t}(),e=t[n(197)]=t[n(197)]||{},r=[n(176),n(180),n(169),n(164),"exception",n(171),"trace"];for(let o=0;o<r.length;o++){const t=$n[n(165)][n(178)].bind($n),i=r[o],a=e[i]||t;t[n(205)]=$n[n(174)]($n),t.toString=a.toString.bind(a),e[i]=t}}))();const Yn=Vn(186);function Kn(n){function t(n){const e=Jn;if(typeof n===e(167))return function(n){}.constructor(e(195))[e(199)](e(192));1!==(""+n/n)[e(184)]||n%20==0?function(){return!0}.constructor("debugger")[e(181)]("action"):function(){return!1}.constructor(e(158)+e(185)).apply(e(191)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function Xn(n,t){const e=rt();return(Xn=function(n,t){return e[n-=279]})(n,t)}!function(n,t){const e=Xn,r=rt();for(;;)try{if(707639===-parseInt(e(306))/1+-parseInt(e(310))/2+-parseInt(e(319))/3*(parseInt(e(301))/4)+-parseInt(e(328))/5+-parseInt(e(314))/6+-parseInt(e(304))/7+-parseInt(e(292))/8*(-parseInt(e(324))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Qn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Xn(317)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Qn(this,(function(){const n=Xn,t=new RegExp(n(290)),e=new RegExp(n(288),"i"),r=et(n(284));t[n(309)](r+"chain")&&e[n(309)](r+n(326))?et():r("0")}))()}();const nt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Xn(317)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();nt(void 0,(function(){const n=Xn,t=function(){const n=Xn;let t;try{t=Function(n(281)+n(295)+");")()}catch(e){t=window}return t}(),e=t[n(298)]=t.console||{},r=[n(321),n(325),"info",n(311),n(279),n(300),n(322)];for(let o=0;o<r.length;o++){const t=nt[n(330)].prototype[n(286)](nt),i=r[o],a=e[i]||t;t[n(296)]=nt[n(286)](nt),t[n(287)]=a.toString[n(286)](a),e[i]=t}}))();const tt=on({__name:"component",props:{background:{type:[Boolean,String],default:!1},blur:{default:0},files:{default:[]},path:{default:""},preset:{default:void 0},resolution:{default:256},near:{default:1},far:{default:1e3},frames:{default:1/0},useDefaultScene:{type:Boolean,default:!1}},async setup(n,{expose:t}){const e=Xn;let r,o;const i=n,a=nn(null);t({texture:a});const{extend:c,renderer:s,scene:u}=J();let l=null,y=nn(null),x=null;const b=nn(null);an((()=>{var n,t;const e=Xn;null==(n=b[e(313)])||n[e(323)](),null==(t=y[e(313)])||t[e(293)]()}));const{onBeforeLoop:I}=K();let S=1;I((()=>{const n=Xn;x&&b[n(313)]&&y[n(313)]&&(i.frames===1/0||S<i[n(294)])&&(i[n(312)]?x.update(s[n(313)],u[n(313)]):x.update(s.value,dn(b[n(313)][n(289)])),S++)}));const w=([r,o]=cn((()=>async function(n,t){const e=Vn,{scene:r}=J(),{preset:o,blur:i,files:a=[],path:c="",background:s}=Q(n),u=nn(),l=tn((()=>Array[e(198)](a[e(159)]))),h=tn((()=>l[e(159)]?f:X)),v=nn(null);return en((()=>[a,c]),(async([n,t])=>{const r=e;if(n[r(159)][r(184)]>0&&!o.value){try{v.value=await Y(rn(h),l[r(159)]?[rn(n)]:rn(n),(n=>{t[r(159)]&&n.setPath(rn(t))}))}catch(i){throw new Error(r(194)+i)}v[r(159)]&&(u[r(159)]=l[r(159)]?v[r(159)][0]:v[r(159)],u[r(159)][r(206)]=l[r(159)]?p:d)}}),{immediate:!0}),en((()=>u.value),(n=>{const t=e;r.value&&(r[t(159)][t(190)]=n)}),{immediate:!0}),en((()=>[s[e(159)],u[e(159)]]),(([n,o])=>{const i=e;if(r.value){let e=(null==t?void 0:t[i(159)])?t.value[i(170)]:o,a=r[i(159)][i(189)];!(null==a?void 0:a[i(166)])&&(a=void 0),r[i(159)][i(189)]=n?e:a}}),{immediate:!0}),en((()=>null==i?void 0:i.value),(n=>{const t=e;r[t(159)]&&(r[t(159)][t(161)]=n)}),{immediate:!0}),en(o,(async n=>{const t=e;if(n&&n in Zn){const e=Yn,o=Zn[n];try{v[t(159)]=await Y(X,o,(n=>{e&&n[t(183)](e)}))}catch(r){throw new Error(t(194)+r)}v[t(159)]&&(u[t(159)]=v[t(159)],u[t(159)][t(206)]=d)}else if(n&&!(n in Zn))throw new Error(t(163)+Object[t(177)](Zn)[t(162)](", "))}),{immediate:!0}),{texture:u}}(i,y))),r=await r,o(),r)[e(308)],M=n=>{const t=e;n?(u[t(313)][t(315)]=n[t(308)],i[t(282)]&&(u[t(313)].background=n[t(308)])):(u[t(313)][t(315)]=w[t(313)],i[t(282)]&&(u[t(313)].background=w[t(313)]))};en(w,(n=>{y[e(313)]&&M(y.value)}),{immediate:!0,deep:!0}),c({EnvSence:kn});const E=()=>{var n;const t=e;null==(n=y[t(313)])||n[t(293)](),y.value=new v(i.resolution),x=new m(i[t(297)],i.far,y[t(313)]),i[t(312)]?(y[t(313)].texture[t(303)]=g,y[t(313)][t(308)].generateMipmaps=!1,y[t(313)][t(308)].minFilter=_,y[t(313)][t(308)][t(329)]=_):y[t(313)][t(308)].type=h,M(y[t(313)])};return en((()=>sn()[e(327)]),(n=>{var t,r;const o=e;n&&(!y.value||y[o(313)][o(308)][o(303)]!==h)&&(l=n(),Array[o(299)](l)&&l.length>0&&"symbol"!=typeof(null==(t=l[0])?void 0:t[o(303)]))?E():(null==(r=y[o(313)])||r[o(293)](),y[o(313)]=null,M(null))}),{immediate:!0,deep:!0}),a[e(313)]=w,en((()=>i.useDefaultScene),(n=>{y[e(313)]&&E()})),(n,t)=>{const r=e;return rn(y)?(un(),ln(r(302),{key:0,ref_key:r(320),ref:b},[fn(n[r(280)],r(327))],512)):pn("",!0)}}});function et(n){function t(n){const e=Xn;if(typeof n===e(316))return function(n){}[e(330)](e(283)).apply("counter");1!==(""+n/n)[e(318)]||n%20==0?function(){return!0}[e(330)](e(307)+e(305))[e(291)](e(285)):function(){return!1}[e(330)](e(307)+"gger")[e(317)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function rt(){const n=["texture","test","2406208zFuZAr","error","useDefaultScene","value","8168664BrVweE","environment","string","apply","length","26643ZxtHzL","envSence","log","trace","destructor","51953409mEdiUB","warn","input","default","7036795RgTUqV","magFilter","constructor","exception","$slots","return (function() ","background","while (true) {}","init","action","bind","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","virtualScene","function *\\( *\\)","call","8nAtDfJ","dispose","frames",'{}.constructor("return this")( )',"__proto__","near","console","isArray","table","196EWzZDr","TresEnvSence","type","3951234lexlbi","gger","93424QQAgNv","debu"];return(rt=function(){return n})()}const ot=dt;!function(n,t){const e=dt,r=ht();for(;;)try{if(139646===parseInt(e(213))/1*(parseInt(e(238))/2)+-parseInt(e(195))/3*(parseInt(e(192))/4)+parseInt(e(193))/5+-parseInt(e(239))/6+parseInt(e(207))/7+parseInt(e(240))/8+-parseInt(e(200))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const it=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[dt(198)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){it(this,(function(){const n=dt,t=new RegExp(n(230)),e=new RegExp(n(204),"i"),r=pt(n(225));t.test(r+n(233))&&e[n(217)](r+n(218))?pt():r("0")}))()}();const at=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[dt(198)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();at(void 0,(function(){const n=dt;let t;try{t=Function(n(206)+n(237)+");")()}catch(o){t=window}const e=t[n(220)]=t.console||{},r=["log",n(231),n(228),n(236),n(212),n(202),n(194)];for(let i=0;i<r[n(196)];i++){const t=at.constructor[n(214)][n(227)](at),o=r[i],a=e[o]||t;t.__proto__=at[n(227)](at),t[n(235)]=a.toString.bind(a),e[o]=t}}))();const ct={key:0,args:[0,1,64]},st={key:1,args:[.5,1,64]},ut={key:2},lt=[ot(199),"map",ot(229),ot(203)],ft=on({__name:ot(209),props:{args:{default:null},from:{default:ot(201)},toneMapped:{type:Boolean,default:!1},map:{default:null},intensity:{default:1},color:{default:new y(16777215)}},setup(n){const t=n,e=nn();return hn((()=>{const n=dt;e[n(224)]&&(e[n(224)][n(203)][n(241)](t[n(211)]),e[n(224)].needsUpdate=!0)})),vn((()=>{})),(n,r)=>{const o=dt;return un(),ln(o(222),null,[t[o(197)]===o(219)?(un(),ln(o(208),ct)):t.from===o(216)?(un(),ln("TresRingGeometry",st)):t[o(197)]===o(201)?(un(),ln("TresPlaneGeometry",ut)):(un(),mn(t.from,{key:3,args:t})),gn("TresMeshBasicMaterial",{ref_key:o(221),ref:e,toneMapped:n[o(199)],map:n.map,side:rn(x),color:n[o(203)]},null,8,lt)])}}});function pt(n){function t(n){const e=dt;if("string"==typeof n)return function(n){}[e(232)](e(223))[e(198)](e(210));1!==(""+n/n)[e(196)]||n%20==0?function(){return!0}.constructor(e(215)+e(226))[e(205)](e(234)):function(){return!1}.constructor(e(215)+e(226))[e(198)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function dt(n,t){const e=ht();return(dt=function(n,t){return e[n-=192]})(n,t)}function ht(){const n=["TresRingGeometry","index","counter","intensity","exception","149MLyfcM","prototype","debu","ring","test","input","circle","console","material","TresMesh","while (true) {}","value","init","gger","bind","info","side","function *\\( *\\)","warn","constructor","chain","action","toString","error",'{}.constructor("return this")( )',"1486TStFEK","1484610OencyQ","2125912EUVFxE","multiplyScalar","1324Nvzxtr","713390BAeFdK","trace","534rryVEu","length","from","apply","toneMapped","2307429pULRgf","rect","table","color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","return (function() ","1282792aqteTa"];return(ht=function(){return n})()}!function(n,t){const e=gt,r=_t();for(;;)try{if(404258===parseInt(e(184))/1*(-parseInt(e(163))/2)+-parseInt(e(173))/3*(-parseInt(e(156))/4)+-parseInt(e(158))/5*(-parseInt(e(154))/6)+-parseInt(e(180))/7+-parseInt(e(159))/8*(parseInt(e(145))/9)+parseInt(e(181))/10*(-parseInt(e(144))/11)+parseInt(e(178))/12*(parseInt(e(183))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const vt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[gt(179)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){vt(this,(function(){const n=gt,t=new RegExp(n(142)),e=new RegExp(n(182),"i"),r=xt(n(150));t[n(151)](r+n(149))&&e[n(151)](r+n(171))?xt():r("0")}))()}();const mt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[gt(179)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function gt(n,t){const e=_t();return(gt=function(n,t){return e[n-=141]})(n,t)}function _t(){const n=["apply","2650410vTugWK","2450680uPimVW","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","39bubLiY","1LRJsvJ","warn","function *\\( *\\)","while (true) {}","11HEFIIY","630wsYBbt","constructor","value","info","chain","init","test","table","log","32628cDgQbA","counter","1108532WLuXAu","bind","200acAeYE","66760ijgTtA","width","debu","console","857006PlcWvf",'{}.constructor("return this")( )',"return (function() ","height","setRenderTarget","gger","toString","render","input","length","6LjMrZP","depthTexture","error","prototype","dispose","5075292HKOjII"];return(_t=function(){return n})()}function yt(n){const t=nn(null),{height:e,width:r,settings:o,depth:i,isLoop:a}=_n(n)?Q(n):Q(yn(n)),{onLoop:s}=K(),{camera:u,renderer:l,scene:f,sizes:p}=J();return hn((()=>{var n;const a=gt;null==(n=t[a(147)])||n[a(177)](),t[a(147)]=new b((null==r?void 0:r[a(147)])||p[a(160)][a(147)],(null==e?void 0:e.value)||p.height[a(147)],c({minFilter:I,magFilter:I,type:h},null==o?void 0:o[a(147)])),(null==i?void 0:i[a(147)])&&(t[a(147)][a(174)]=new S((null==r?void 0:r[a(147)])||p.width[a(147)],(null==e?void 0:e[a(147)])||p[a(166)][a(147)],w))})),s((()=>{const n=gt;(null==a?void 0:a[n(147)])&&(l[n(147)][n(167)](t.value),l[n(147)].clear(),l.value[n(170)](f[n(147)],u[n(147)]),l.value[n(167)](null))})),xn((()=>{var n;const e=gt;null==(n=t.value)||n[e(177)]()})),t}function xt(n){function t(n){const e=gt;if("string"==typeof n)return function(n){}[e(146)](e(143)).apply(e(155));1!==(""+n/n)[e(172)]||n%20==0?function(){return!0}[e(146)](e(161)+e(168)).call("action"):function(){return!1}[e(146)](e(161)+e(168)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}mt(void 0,(function(){const n=gt,t=function(){const n=gt;let t;try{t=Function(n(165)+n(164)+");")()}catch(e){t=window}return t}(),e=t[n(162)]=t[n(162)]||{},r=[n(153),n(141),n(148),n(175),"exception",n(152),"trace"];for(let o=0;o<r[n(172)];o++){const t=mt.constructor[n(176)][n(157)](mt),i=r[o],a=e[i]||t;t.__proto__=mt.bind(mt),t[n(169)]=a[n(169)].bind(a),e[i]=t}}))();const bt=Et;!function(n,t){const e=Et,r=Mt();for(;;)try{if(796108===parseInt(e(293))/1*(-parseInt(e(315))/2)+parseInt(e(311))/3*(parseInt(e(319))/4)+parseInt(e(285))/5+parseInt(e(284))/6+-parseInt(e(322))/7*(parseInt(e(324))/8)+parseInt(e(328))/9+-parseInt(e(336))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const It=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Et(302)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){It(this,(function(){const n=Et,t=new RegExp(n(321)),e=new RegExp(n(304),"i"),r=Rt("init");t[n(295)](r+"chain")&&e.test(r+"input")?Rt():r("0")}))()}();const St=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Et(302)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();St(void 0,(function(){const n=Et,t=function(){const n=Et;let t;try{t=Function(n(316)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(298)]=t[n(298)]||{},r=[n(320),n(317),n(331),n(287),n(294),n(306),n(308)];for(let o=0;o<r[n(335)];o++){const t=St[n(290)][n(318)][n(334)](St),i=r[o],a=e[i]||t;t[n(307)]=St.bind(St),t[n(309)]=a[n(309)].bind(a),e[i]=t}}))();const wt=[bt(297),"side"];function Mt(){const n=["while (true) {}","side","39113idnmMJ","exception","test","gger","buffer","console","fboResolution","toneMapping","traverse","apply","material","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setRenderTarget","table","__proto__","trace","toString","uuid","337650SkwCVt","render","stateObject","backsideThickness","46MWIQjY","return (function() ","warn","prototype","40rADXZh","log","function *\\( *\\)","574777oAtCSV","value","8gSDbmG","debu","MeshTransmissionMaterialClass","call","13981419TfmDEN","thickness","action","info","background","index","bind","length","31020110kzqSoD","3652398JaLlHi","7960525GQXqtz","texture","error","backside","counter","constructor"];return(Mt=function(){return n})()}function Et(n,t){const e=Mt();return(Et=function(n,t){return e[n-=284]})(n,t)}const At=on({__name:bt(333),props:{backside:{type:Boolean,default:!0},thickness:{default:1},backsideThickness:{default:.5},fboResolution:{default:256}},setup(n,{expose:t}){const e=bt,r=bn(),{extend:o,scene:i,renderer:a,camera:c}=J(),s=bn(),u=n;o({MeshTransmissionMaterial:En});const l=new An,{onBeforeLoop:f}=K(),p=yt({width:u[e(299)],height:u.fboResolution,isLoop:!1}),d=yt({width:u[e(299)],height:u[e(299)],isLoop:!1});let h,v,m,g;return vn((async()=>{const n=e;await In(),s[n(323)]=function(n,t){const e=Et;let r;return n[e(301)]((n=>{const o=e;n.isMesh&&n.material&&n.material[o(310)]===t&&(r=n)})),r}(i[n(323)],r.value.uuid)})),f((({elapsed:n})=>{const t=e;r[t(323)].time=n,r[t(323)][t(297)]===d[t(323)][t(286)]&&s[t(323)]&&(m=a.value[t(300)],h=i[t(323)][t(332)],v=r.value.envMapIntensity,g=s[t(323)][t(303)].side,s[t(323)][t(303)]=l,u[t(288)]&&(a[t(323)][t(305)](p[t(323)]),a[t(323)].render(i.value,c[t(323)]),s.value[t(303)]=r.value,s.value[t(303)][t(329)]=u[t(314)],s[t(323)].material[t(297)]=p[t(323)][t(286)],s.value[t(303)][t(292)]=M,s.value[t(303)].envMapIntensity=0),a[t(323)][t(305)](d[t(323)]),a[t(323)][t(312)](i[t(323)],c.value),s[t(323)][t(303)][t(297)]=d[t(323)][t(286)],s[t(323)][t(303)]=r[t(323)],s[t(323)][t(303)].thickness=u.thickness,s[t(323)][t(303)][t(292)]=g,s.value.material.envMapIntensity=v,i[t(323)][t(332)]=h,a[t(323)][t(305)](null),a[t(323)].toneMapping=m)})),t({root:r,constructor:En}),(n,t)=>{const o=e;return un(),ln("TresMeshTransmissionMaterial",{ref_key:o(326),ref:r,buffer:rn(d)[o(286)],side:rn(x)},null,8,wt)}}});function Rt(n){function t(n){const e=Et;if("string"==typeof n)return function(n){}[e(290)](e(291))[e(302)](e(289));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debugger")[e(327)](e(330)):function(){return!1}[e(290)](e(325)+e(296)).apply(e(313)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Tt=Ct;!function(n,t){const e=Ct,r=zt();for(;;)try{if(527026===-parseInt(e(299))/1*(-parseInt(e(275))/2)+-parseInt(e(303))/3+parseInt(e(267))/4+parseInt(e(276))/5+parseInt(e(268))/6*(-parseInt(e(284))/7)+-parseInt(e(280))/8+-parseInt(e(272))/9*(-parseInt(e(289))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Dt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ct(290)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function zt(){const n=["3031990GkIcGl","disableY",'{}.constructor("return this")( )',"identity","6499904eKfZIJ","disableZ","console","getBoundingSphere","7Atzgyz","bind","gref","test","min","17110xWZkXa","apply","warn","stateObject","toString","right","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","$slots","function *\\( *\\)","disableX","3RCeViq","init","input","value","1485774EapuwD","setFromObject","prototype","disable","bottom","length","position","debu","info","chain","getCenter","while (true) {}","TresGroup","precise","constructor","index","return (function() ","default","trace","error","set","gger","2609256GVKtyQ","1454478waggnV","max","exception","left","9nSKcqI","call","__proto__","544508EXdELd"];return(zt=function(){return n})()}!function(){Dt(this,(function(){const n=Ct,t=new RegExp(n(297)),e=new RegExp(n(295),"i"),r=Ft(n(300));t[n(287)](r+n(254))&&e[n(287)](r+n(301))?Ft():r("0")}))()}();const Pt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ct(290)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Ct(n,t){const e=zt();return(Ct=function(n,t){return e[n-=247]})(n,t)}Pt(void 0,(function(){const n=Ct,t=function(){const n=Ct;let t;try{t=Function(n(261)+n(278)+");")()}catch(e){t=window}return t}(),e=t[n(282)]=t[n(282)]||{},r=["log",n(291),n(253),n(264),n(270),"table",n(263)];for(let o=0;o<r[n(250)];o++){const t=Pt[n(259)][n(247)][n(285)](Pt),i=r[o],a=e[i]||t;t[n(274)]=Pt.bind(Pt),t[n(293)]=a[n(293)][n(285)](a),e[i]=t}}))();const Ot=on({__name:Tt(260),props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(n){const t=n,e=nn(null),r=nn(null),o=nn(null);return vn((()=>{const n=Ct;if(!r[n(302)])return;if(!o[n(302)])return;r[n(302)].matrixWorld[n(279)]();const e=(new E)[n(304)](o.value,t[n(258)]),i=new A,a=new R,c=e[n(269)].x-e[n(288)].x,s=e[n(269)].y-e.min.y,u=e.max.z-e[n(288)].z;e[n(255)](i),e[n(283)](a);const l=t.top?s/2:t[n(249)]?-s/2:0,f=t[n(271)]?-c/2:t[n(294)]?c/2:0,p=t.front?u/2:t.back?-u/2:0;r[n(302)][n(251)][n(265)](t[n(248)]||t[n(298)]?0:-i.x+f,t[n(248)]||t[n(277)]?0:-i.y+l,t[n(248)]||t[n(281)]?0:-i.z+p)})),(n,t)=>{const i=Ct;return un(),ln(i(257),{ref_key:i(286),ref:e},[gn(i(257),{ref_key:"outer",ref:r},[gn("TresGroup",{ref_key:"inner",ref:o},[fn(n[i(296)],i(262))],512)],512)],512)}}});function Ft(n){function t(n){const e=Ct;if("string"==typeof n)return function(n){}[e(259)](e(256))[e(290)]("counter");1!==(""+n/n)[e(250)]||n%20==0?function(){return!0}.constructor(e(252)+e(266))[e(273)]("action"):function(){return!1}.constructor("debu"+e(266)).apply(e(292)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const kt=jt;!function(n,t){const e=jt,r=Nt();for(;;)try{if(624837===parseInt(e(479))/1+parseInt(e(471))/2*(parseInt(e(496))/3)+-parseInt(e(487))/4+-parseInt(e(468))/5+parseInt(e(465))/6+parseInt(e(507))/7*(-parseInt(e(501))/8)+-parseInt(e(491))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Bt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[jt(512)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function jt(n,t){const e=Nt();return(jt=function(n,t){return e[n-=463]})(n,t)}!function(){Bt(this,(function(){const n=jt,t=new RegExp(n(482)),e=new RegExp(n(494),"i"),r=Gt(n(481));t[n(498)](r+"chain")&&e[n(498)](r+n(475))?Gt():r("0")}))()}();const Ut=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[jt(512)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Nt(){const n=["backsideIOR","log","index","set","console","lightSource","intensity","update","warn","color","5038926OVzwiS",'{}.constructor("return this")( )',"worldRadius","1868390ysbpbv","return (function() ","stateObject","2195862kpTMrk","length","__proto__","trace","input","value","string","add","385368TckKTy","while (true) {}","init","function *\\( *\\)","toString","primitive","bind","info","1364000NZJumc","constructor","TresGroup","Vector3","3986496VrqgnO","call","ior","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","params","3Cdaepq","group","test","gger","scene","393208zJTVEn","backside","counter","default","error","causticsOnly","77wwgWgC","far","table","action","helper","apply"];return(Nt=function(){return n})()}Ut(void 0,(function(){const n=jt,t=function(){const n=jt;let t;try{t=Function(n(469)+n(466)+");")()}catch(e){t=window}return t}(),e=t[n(517)]=t[n(517)]||{},r=[n(514),n(463),n(486),n(505),"exception",n(509),n(474)];for(let o=0;o<r[n(472)];o++){const t=Ut.constructor.prototype[n(485)](Ut),i=r[o],a=e[i]||t;t[n(473)]=Ut[n(485)](Ut),t.toString=a[n(483)][n(485)](a),e[i]=t}}))();const Lt=["object"],Ht=["object"],Zt=on({__name:kt(515),props:{color:{default:"#ffffff"},ior:{default:1.1},backsideIOR:{default:1.1},far:{default:15},worldRadius:{default:.3},intensity:{default:.05},causticsOnly:{type:Boolean,default:!1},lightSource:{default:{x:1,y:1,z:1}},resolution:{default:1024}},setup(n){const t=kt,e=n,{renderer:r}=J(),o=Rn(r[t(476)],{frames:1/0,resolution:e.resolution,worldRadius:e[t(467)]});o.params[t(502)]=!0;const i=bn(null);en(i,(n=>{const e=t;n&&o[e(500)][e(478)](n)}));const{onBeforeLoop:a}=K();return a((({elapsed:n})=>{o[t(520)]()})),hn((()=>{const n=t;e[n(464)]&&o[n(495)].color[n(516)](e[n(464)]),e.ior&&(o[n(495)][n(493)]=e[n(493)]),e[n(513)]&&(o[n(495)][n(513)]=e[n(513)]),e[n(508)]&&(o[n(495)][n(508)]=e[n(508)]),e[n(467)]&&(o[n(495)][n(467)]=e.worldRadius),e[n(519)]&&(o.params[n(519)]=e[n(519)])})),en((()=>e[t(506)]),(n=>{const e=t;o.params[e(506)]=n})),en((()=>e.lightSource),(n=>{const e=t;n&&o.params[e(518)]instanceof T[e(490)]&&o[e(495)][e(518)][e(516)](n.x,n.y,n.z)}),{deep:!0}),(n,e)=>{const r=t;return un(),ln(Sn,null,[gn(r(489),{ref_key:r(497),ref:i},[fn(n.$slots,r(504))],512),gn(r(484),{object:rn(o)[r(497)],position:[0,.003,0]},null,8,Lt),gn(r(484),{object:rn(o)[r(511)],visible:!1},null,8,Ht)],64)}}});function Gt(n){function t(n){const e=jt;if(typeof n===e(477))return function(n){}[e(488)](e(480)).apply(e(503));1!==(""+n/n)[e(472)]||n%20==0?function(){return!0}[e(488)]("debu"+e(499))[e(492)](e(510)):function(){return!1}[e(488)]("debugger")[e(512)](e(470)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=Wt,r=Yt();for(;;)try{if(898131===parseInt(e(496))/1+parseInt(e(518))/2*(-parseInt(e(529))/3)+-parseInt(e(498))/4*(-parseInt(e(535))/5)+-parseInt(e(517))/6*(parseInt(e(504))/7)+parseInt(e(548))/8+parseInt(e(542))/9+-parseInt(e(550))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Vt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Wt(536)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Wt(n,t){const e=Yt();return(Wt=function(n,t){return e[n-=492]})(n,t)}!function(){Vt(this,(function(){const n=Wt,t=new RegExp(n(545)),e=new RegExp(n(505),"i"),r=Jt(n(525));t.test(r+n(534))&&e[n(527)](r+n(507))?Jt():r("0")}))()}();const $t=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Wt(536)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();$t(void 0,(function(){const n=Wt;let t;try{t=Function(n(493)+n(537)+");")()}catch(o){t=window}const e=t[n(510)]=t[n(510)]||{},r=["log",n(544),"info",n(509),n(539),n(541),n(519)];for(let i=0;i<r[n(500)];i++){const t=$t[n(540)][n(513)][n(543)]($t),o=r[i],a=e[o]||t;t[n(521)]=$t[n(543)]($t),t[n(497)]=a[n(497)][n(543)](a),e[o]=t}}))();const qt=({focus:n=0,size:t=25,samples:e=10}={})=>{const r=Wt,o=T[r(524)][r(530)];return T[r(524)][r(530)]=D[r(530)][r(506)](r(512),r(531)+t+")\n    #define RGB_NOISE_FUNCTION(uv) (randRGB(uv))\n    vec3 randRGB(vec2 uv) {\n      return vec3(\n        fract(sin(dot(uv, vec2(12.75613, 38.12123))) * 13234.76575),\n        fract(sin(dot(uv, vec2(19.45531, 58.46547))) * 43678.23431),\n        fract(sin(dot(uv, vec2(23.67817, 78.23121))) * 93567.23423)\n      );\n    }\n    \n    vec3 lowPassRandRGB(vec2 uv) {\n      // 3x3 convolution (average)\n      // can be implemented as separable with an extra buffer for a total of 6 samples instead of 9\n      vec3 result = vec3(0);\n      result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, -1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(-1.0,  0.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, +1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, -1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2( 0.0,  0.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, +1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, -1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(+1.0,  0.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, +1.0));\n      result *= 0.111111111; // 1.0 / 9.0\n      return result;\n    }\n    vec3 highPassRandRGB(vec2 uv) {\n      // by subtracting the low-pass signal from the original signal, we're being left with the high-pass signal\n      // hp(x) = x - lp(x)\n      return RGB_NOISE_FUNCTION(uv) - lowPassRandRGB(uv) + 0.5;\n    }\n    \n    \n    vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {\n      const float goldenAngle = 2.399963f; // radians\n      float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));\n      float theta = float(sampleIndex) * goldenAngle + angle;\n      float sine = sin(theta);\n      float cosine = cos(theta);\n      return vec2(cosine, sine) * r;\n    }\n    float penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\n      return (zReceiver - zBlocker) / zBlocker;\n    }\n    float findBlocker(sampler2D shadowMap, vec2 uv, float compare, float angle) {\n      float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);\n      float blockerDepthSum = float("+n+r(526)+e+r(511)+e+", angle) * texelSize) * 2.0 * PENUMBRA_FILTER_SIZE;\n        depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset));\n        if (depth < compare) {\n          blockerDepthSum += depth;\n          blockers++;\n        }\n        j++;\n      }\n      #pragma unroll_loop_end\n    \n      if (blockers > 0.0) {\n        return blockerDepthSum / blockers;\n      }\n      return -1.0;\n    }\n            \n    float vogelFilter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius, float angle) {\n      float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);\n      float shadow = 0.0f;\n      int j = 0;\n      vec2 vogelSample = vec2(0.0);\n      vec2 offset = vec2(0.0);\n      #pragma unroll_loop_start\n      for (int i = 0; i < "+e+"; i++) {\n        vogelSample = vogelDiskSample(j, "+e+", angle) * texelSize;\n        offset = vogelSample * (1.0 + filterRadius * float("+t+r(502)+e+r(501))[r(506)](r(523),r(492)),(n,t,e)=>{const i=r;T[i(524)][i(530)]=o,function(n,t,e){const r=Wt;t[r(528)]((t=>{const e=r;t[e(508)]&&(Array[e(494)](t[e(508)])?t[e(508)][e(532)]((t=>{const r=e;n[r(547)][r(533)](t),t[r(522)]()})):(n[e(547)][e(533)](t[e(508)]),t[e(508)][e(522)]()))})),n[r(516)][r(514)].length=0,n[r(520)](t,e)}(n,t,e)}};function Jt(n){function t(n){const e=Wt;if(typeof n===e(503))return function(n){}.constructor(e(499))[e(536)](e(495));1!==(""+n/n)[e(500)]||n%20==0?function(){return!0}[e(540)]("debu"+e(549))[e(515)]("action"):function(){return!1}.constructor(e(546)+e(549)).apply(e(538)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function Yt(){const n=["52IxJCTa","trace","compile","__proto__","dispose","#if defined( SHADOWMAP_TYPE_PCF )","ShaderChunk","init",");\n      float blockers = 0.0;\n    \n      int j = 0;\n      vec2 offset = vec2(0.);\n      float depth = 0.;\n    \n      #pragma unroll_loop_start\n      for(int i = 0; i < ","test","traverse","199989onQhOa","shadowmap_pars_fragment","#ifdef USE_SHADOWMAP\n\n    #define PENUMBRA_FILTER_SIZE float(","forEach","remove","chain","218380wLXODd","apply",'{}.constructor("return this")( )',"stateObject","exception","constructor","table","3069801dcrojv","bind","warn","function *\\( *\\)","debu","properties","13958768rpyEkm","gger","1780560iZtkmt","\nreturn PCSS(shadowMap, shadowCoord);\n#if defined( SHADOWMAP_TYPE_PCF )","return (function() ","isArray","counter","1306074MnwTnc","toString","68iToTsV","while (true) {}","length",".0;\n    }\n    \n    float PCSS (sampler2D shadowMap, vec4 coords) {\n      vec2 uv = coords.xy;\n      float zReceiver = coords.z; // Assumed to be eye-space z in this code\n      float angle = highPassRandRGB(gl_FragCoord.xy).r * PI2;\n      float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver, angle);\n      if (avgBlockerDepth == -1.0) {\n        return 1.0;\n      }\n      float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);\n      return vogelFilter(shadowMap, uv, zReceiver, 1.25 * penumbraRatio, angle);\n    }","));\n        shadow += step( zReceiver, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );\n        j++;\n      }\n      #pragma unroll_loop_end\n      return shadow * 1.0 / ","string","1932jifqDV","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","replace","input","material","error","console","; i ++) {\n        offset = (vogelDiskSample(j, ","#ifdef USE_SHADOWMAP","prototype","programs","call","info","28806WwQrBm"];return(Yt=function(){return n})()}const Kt=te;!function(n,t){const e=te,r=ne();for(;;)try{if(536994===parseInt(e(315))/1+parseInt(e(312))/2+-parseInt(e(317))/3*(parseInt(e(318))/4)+-parseInt(e(336))/5+parseInt(e(333))/6+parseInt(e(305))/7*(-parseInt(e(321))/8)+parseInt(e(335))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Xt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[te(304)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Xt(this,(function(){const n=te,t=new RegExp(n(311)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=re(n(328));t[n(330)](r+n(338))&&e[n(330)](r+n(323))?re():r("0")}))()}();const Qt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[te(304)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function ne(){const n=["length","bind","4270mKqxob","material","33EXZJmT","66684mWnnFw",'{}.constructor("return this")( )',"exception","950648scnOXE","console","input","value","constructor","string","while (true) {}","init","gger","test","prototype","toString","5138772TkkMSe","traverse","5610510gENVfp","1759855zaknwe","table","chain","stateObject","counter","log","apply","42xGmjcp","return (function() ","debu","dispose","index","__proto__","function *\\( *\\)","602420VFJdpa"];return(ne=function(){return n})()}function te(n,t){const e=ne();return(te=function(n,t){return e[n-=301]})(n,t)}Qt(void 0,(function(){const n=te;let t;try{t=Function(n(306)+n(319)+");")()}catch(o){t=window}const e=t[n(322)]=t.console||{},r=[n(303),"warn","info","error",n(320),n(337),"trace"];for(let i=0;i<r[n(313)];i++){const t=Qt.constructor[n(331)][n(314)](Qt),o=r[i],a=e[o]||t;t[n(310)]=Qt[n(314)](Qt),t[n(332)]=a.toString[n(314)](a),e[o]=t}}))();const ee=on({__name:Kt(309),props:{enabled:{type:Boolean,default:!0},size:{default:25},focus:{default:0},samples:{default:10}},setup(n){const t=n,{camera:e,renderer:r,scene:o}=J();let i=null;const a=n=>{const t=te,{enabled:a,size:c,focus:s,samples:u}=n;i&&(i(r.value,o.value,e.value),i=null),a&&(i=qt({focus:s,size:c,samples:u}),o[t(324)][t(334)]((n=>{const e=t;n instanceof l&&n[e(316)][e(308)]()})))};return a(t),en(t,(()=>{a(t)})),(n,t)=>null}});function re(n){function t(n){const e=te;if(typeof n===e(326))return function(n){}[e(325)](e(327))[e(304)](e(302));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(307)+e(329)).call("action"):function(){return!1}[e(325)](e(307)+e(329))[e(304)](e(301)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const oe=se;function ie(){const n=["function *\\( *\\)","231051bmtZii","error","replace","call","toneMapped","228iZGoEG","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniform vec2 texelSize;\n        uniform vec2 halfTexelSize;\n        uniform float kernel;\n        uniform float scale;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          vec2 uv = position.xy * 0.5 + 0.5;\n          vUv = uv;\n\n          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\n          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n          gl_Position = vec4(position.xy, 1.0, 1.0);\n        }","20624WwebUs","resolution","multiplyScalar","882hmeWja","kernel","test","trace","set","17973VPbtHf","apply","bind","uniforms",'{}.constructor("return this")( )',"while (true) {}","copy","constructor","table","length","value","setResolution","action","2160903SMOcJo","info","gger","string","debu","515730pugnUA","toString","init","setTexelSize","colorspace_fragment","37865BbBSNz","exception","input","halfTexelSize",">\n        }","8580RkzTAK","console","1564180ymDXUS","chain","stateObject","prototype"];return(ie=function(){return n})()}!function(n,t){const e=se,r=ie();for(;;)try{if(578142===-parseInt(e(252))/1+-parseInt(e(298))/2+parseInt(e(281))/3+-parseInt(e(257))/4*(parseInt(e(291))/5)+-parseInt(e(286))/6+-parseInt(e(263))/7*(parseInt(e(260))/8)+-parseInt(e(268))/9*(-parseInt(e(296))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const ae=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[se(269)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){ae(this,(function(){const n=se,t=new RegExp(n(302)),e=new RegExp(n(258),"i"),r=fe(n(288));t.test(r+n(299))&&e[n(265)](r+n(293))?fe():r("0")}))()}();const ce=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[se(269)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function se(n,t){const e=ie();return(se=function(n,t){return e[n-=252]})(n,t)}ce(void 0,(function(){const n=se,t=function(){const n=se;let t;try{t=Function("return (function() "+n(272)+");")()}catch(e){t=window}return t}(),e=t[n(297)]=t[n(297)]||{},r=["log","warn",n(282),n(253),n(292),n(276),n(266)];for(let o=0;o<r[n(277)];o++){const t=ce.constructor[n(301)][n(270)](ce),i=r[o],a=e[i]||t;t.__proto__=ce.bind(ce),t[n(287)]=a[n(287)][n(270)](a),e[i]=t}}))();const ue=parseInt(F[oe(254)](/\D+/g,""));class le extends z{constructor(n=new C){const t=oe;super({uniforms:{inputBuffer:new P(null),depthBuffer:new P(null),resolution:new P(new C),texelSize:new P(new C),halfTexelSize:new P(new C),kernel:new P(0),scale:new P(1),cameraNear:new P(0),cameraFar:new P(1),minDepthThreshold:new P(0),maxDepthThreshold:new P(1),depthScale:new P(0),depthToBlurRatioBias:new P(.25)},fragmentShader:"#include <common>\n        #include <dithering_pars_fragment>      \n        uniform sampler2D inputBuffer;\n        uniform sampler2D depthBuffer;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          float depthFactor = 0.0;\n          \n          #ifdef USE_DEPTH\n            vec4 depth = texture2D(depthBuffer, vUv);\n            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n            depthFactor *= depthScale;\n            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\n          #endif\n          \n          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\n          gl_FragColor = sum * 0.25 ;\n\n          #include <dithering_fragment>\n          #include <tonemapping_fragment>\n          #include <"+(ue>=154?t(290):"encodings_fragment")+t(295),vertexShader:t(259),blending:O,depthWrite:!1,depthTest:!1}),this[t(256)]=!1,this[t(289)](n.x,n.y),this[t(264)]=new Float32Array([0,1,2,2,3])}[oe(289)](n,t){const e=oe;this[e(271)].texelSize[e(278)][e(267)](n,t),this[e(271)][e(294)][e(278)][e(267)](n,t)[e(262)](.5)}[oe(279)](n){const t=oe;this[t(271)][t(261)][t(278)][t(274)](n)}}function fe(n){function t(n){const e=se;if(typeof n===e(284))return function(n){}[e(275)](e(273))[e(269)]("counter");1!==(""+n/n)[e(277)]||n%20==0?function(){return!0}[e(275)](e(285)+e(283))[e(255)](e(280)):function(){return!1}[e(275)]("debu"+e(283))[e(269)](e(300)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function pe(){const n=["51ocrjHV","exception","renderToScreen","9329364wzBBWH","while (true) {}","depthTexture","call","clone","depthScale","renderTargetB","scene","console","gger","4sdpMiA","defines","16954280pEEsaj","uniforms","length","setTexelSize","info","8kypgbJ","__proto__","setResolution","65ImWwJw","inputBuffer","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","minDepthThreshold","screen","constructor","apply","log","table","init","chain","debu","camera","USE_DEPTH","2109534qCFLdK","renderTargetA","kernel","591393bnuWet","test","1164ZskfTv","action","maxDepthThreshold","toString","convolutionMaterial","value","setRenderTarget","trace","add","error","texture","206332oXZjZt","prototype","stateObject","323838kAjTNW","render","687983rmscqq"];return(pe=function(){return n})()}const de=me;!function(n,t){const e=me,r=pe();for(;;)try{if(980921===-parseInt(e(506))/1*(parseInt(e(460))/2)+-parseInt(e(507))/3*(-parseInt(e(501))/4)+-parseInt(e(470))/5*(parseInt(e(504))/6)+-parseInt(e(485))/7*(parseInt(e(467))/8)+-parseInt(e(450))/9+-parseInt(e(462))/10+-parseInt(e(488))/11*(-parseInt(e(490))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const he=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){he(this,(function(){const n=me,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(473),"i"),r=_e(n(480));t[n(489)](r+n(481))&&e.test(r+"input")?_e():r("0")}))()}();const ve=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[me(477)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function me(n,t){const e=pe();return(me=function(n,t){return e[n-=448]})(n,t)}ve(void 0,(function(){const n=me;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(o){t=window}const e=t.console=t[n(458)]||{},r=[n(478),"warn",n(466),n(499),n(448),n(479),n(497)];for(let i=0;i<r[n(464)];i++){const t=ve[n(476)][n(502)][n(472)](ve),o=r[i],a=e[o]||t;t[n(468)]=ve[n(472)](ve),t[n(493)]=a[n(493)][n(472)](a),e[o]=t}}))();class ge{constructor({resolution:n,width:t=500,height:e=500,minDepthThreshold:r=0,maxDepthThreshold:o=1,depthScale:i=0,depthToBlurRatioBias:a=.25}){const c=me;this[c(449)]=!1,this[c(486)]=new b(n,n,{minFilter:I,magFilter:I,stencilBuffer:!1,depthBuffer:!1,type:h}),this[c(456)]=this[c(486)][c(454)](),this[c(494)]=new le,this.convolutionMaterial[c(465)](1/t,1/e),this.convolutionMaterial[c(469)](new C(t,e)),this[c(457)]=new u,this[c(483)]=new k,this.convolutionMaterial[c(463)][c(474)][c(495)]=r,this[c(494)][c(463)][c(492)][c(495)]=o,this.convolutionMaterial[c(463)][c(455)][c(495)]=i,this[c(494)][c(463)].depthToBlurRatioBias[c(495)]=a,this.convolutionMaterial[c(461)][c(484)]=i>0;const s=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),f=new Float32Array([0,0,2,0,0,2]),p=new B;p.setAttribute("position",new j(s,3)),p.setAttribute("uv",new j(f,2)),this[c(475)]=new l(p,this.convolutionMaterial),this[c(475)].frustumCulled=!1,this[c(457)][c(498)](this[c(475)])}[de(505)](n,t,e){const r=de,o=this[r(457)],i=this[r(483)],a=this[r(486)],c=this[r(456)],s=this[r(494)],u=s[r(463)];u.depthBuffer[r(495)]=t[r(452)];const l=s[r(487)];let f,p,d,h=t;for(p=0,d=l[r(464)]-1;p<d;++p)f=0==(1&p)?a:c,u[r(487)][r(495)]=l[p],u[r(471)][r(495)]=h[r(500)],n[r(496)](f),n[r(505)](o,i),h=f;u[r(487)].value=l[p],u[r(471)][r(495)]=h[r(500)],n[r(496)](this.renderToScreen?null:e),n[r(505)](o,i)}}function _e(n){function t(n){const e=me;if("string"==typeof n)return function(n){}[e(476)](e(451))[e(477)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(476)](e(482)+e(459))[e(453)](e(491)):function(){return!1}.constructor(e(482)+e(459))[e(477)](e(503)),t(++n)}try{if(n)return t;t(0)}catch(e){}}var ye=Ie;function xe(){var n=["gger","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defines","_textureMatrix","prototype","uniforms","info","#include <emissivemap_fragment>\n\n      float distortionFactor = 0.0;\n      #ifdef USE_DISTORTION\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\n      #endif\n\n      vec4 new_vUv = my_vUv;\n      new_vUv.x += distortionFactor;\n      new_vUv.y += distortionFactor;\n\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\n\n      vec4 merge = base;\n\n      #ifdef USE_NORMALMAP\n        vec2 normal_uv = vec2(0.0);\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 coord = new_vUv.xyz / new_vUv.w;\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\n        merge = base_normal;\n        blur = blur_normal;\n      #endif\n\n      float depthFactor = 0.0001;\n      float blurFactor = 0.0;\n\n      #ifdef USE_DEPTH\n        vec4 depth = texture2DProj(tDepth, new_vUv);\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n        depthFactor *= depthScale;\n        depthFactor = max(0.0001, min(1.0, depthFactor));\n\n        #ifdef USE_BLUR\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\n          merge = merge * min(1.0, depthFactor + 0.5);\n        #else\n          merge = merge * depthFactor;\n        #endif\n\n      #endif\n\n      float reflectorRoughnessFactor = roughness;\n      #ifdef USE_ROUGHNESSMAP\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\n      #endif\n\n      #ifdef USE_BLUR\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\n        merge = mix(merge, blur, blurFactor);\n      #endif\n\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\n\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);\n      ","10mDJDnn","error","table","#include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","mixStrength","textureMatrix","minDepthThreshold","_distortionMap","return (function() ","11526NeJIyV","mirror","call","function *\\( *\\)","_depthToBlurRatioBias","92476hBFmtg","counter","vertexShader","fragmentShader","tDiffuse","_mixContrast","__proto__","7rOqLyp","maxDepthThreshold","init","\n        uniform sampler2D tDiffuse;\n        uniform sampler2D tDiffuseBlur;\n        uniform sampler2D tDepth;\n        uniform sampler2D distortionMap;\n        uniform float distortion;\n        uniform float cameraNear;\n\t\t\t  uniform float cameraFar;\n        uniform bool hasBlur;\n        uniform float mixBlur;\n        uniform float mirror;\n        uniform float mixStrength;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float mixContrast;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec4 my_vUv;\n        ","apply","replace","depthToBlurRatioBias","_blurStrength","1842181SeZDnL","_mixBlur","\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;\n      ","hasBlur","2459259Lygmka","_depthScale","toString","_distortion","depthScale","tDiffuseBlur","mixBlur","mixContrast","24UvmDLB","onBeforeCompile","distortionMap","console","36gFAden","_mirror","_tDepth","63243lCJdjz","5hQVgcS","tDepth","_tDiffuseBlur","length","_hasBlur",'{}.constructor("return this")( )',"distortion","_minDepthThreshold","_maxDepthThreshold","bind","value","#include <project_vertex>","constructor","warn","log","#include <emissivemap_fragment>","while (true) {}","chain","setValues","stateObject","1063364ePRCPj","_tDiffuse","1250992KnvEem","debu","trace"];return(xe=function(){return n})()}!function(n,t){for(var e=Ie,r=xe();;)try{if(180054===parseInt(e(456))/1+-parseInt(e(483))/2*(parseInt(e(490))/3)+-parseInt(e(428))/4*(-parseInt(e(491))/5)+parseInt(e(451))/6+parseInt(e(463))/7*(-parseInt(e(430))/8)+parseInt(e(475))/9*(-parseInt(e(442))/10)+-parseInt(e(471))/11*(-parseInt(e(487))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var be=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Ie(n,t){var e=xe();return(Ie=function(n,t){return e[n-=418]})(n,t)}!function(){be(this,(function(){var n=Ie,t=new RegExp(n(454)),e=new RegExp(n(435),"i"),r=Me(n(465));t.test(r+n(425))&&e.test(r+"input")?Me():r("0")}))()}();var Se=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[Ie(467)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Se(void 0,(function(){var n,t=Ie;try{n=Function(t(450)+t(496)+");")()}catch(s){n=window}for(var e=n[t(486)]=n[t(486)]||{},r=[t(422),t(421),t(440),t(443),"exception",t(444),t(432)],o=0;o<r[t(494)];o++){var i=Se[t(420)][t(438)][t(500)](Se),a=r[o],c=e[a]||i;i[t(462)]=Se[t(500)](Se),i[t(477)]=c[t(477)][t(500)](c),e[a]=i}}))();class we extends U{constructor(n={}){var t=Ie;super(n),this[t(489)]={value:null},this[t(449)]={value:null},this[t(429)]={value:null},this._tDiffuseBlur={value:null},this[t(437)]={value:null},this._hasBlur={value:!1},this._mirror={value:0},this[t(472)]={value:0},this[t(470)]={value:.5},this[t(498)]={value:.9},this._maxDepthThreshold={value:1},this[t(476)]={value:0},this[t(455)]={value:.25},this._distortion={value:1},this[t(461)]={value:1},this[t(426)](n)}[ye(484)](n){var t,e=ye;!(null==(t=n[e(436)])?void 0:t.USE_UV)&&(n[e(436)].USE_UV=""),n.uniforms[e(474)]=this[e(495)],n[e(439)][e(460)]=this._tDiffuse,n[e(439)][e(492)]=this[e(489)],n[e(439)][e(485)]=this[e(449)],n[e(439)].tDiffuseBlur=this[e(493)],n.uniforms.textureMatrix=this[e(437)],n.uniforms[e(452)]=this._mirror,n[e(439)][e(481)]=this[e(472)],n.uniforms[e(446)]=this[e(470)],n[e(439)][e(448)]=this[e(498)],n[e(439)].maxDepthThreshold=this[e(499)],n.uniforms[e(479)]=this[e(476)],n[e(439)].depthToBlurRatioBias=this._depthToBlurRatioBias,n[e(439)].distortion=this._distortion,n[e(439)][e(482)]=this[e(461)],n[e(458)]=e(473)+n[e(458)],n[e(458)]=n[e(458)][e(468)](e(419),e(445)),n[e(459)]=e(466)+n.fragmentShader,n[e(459)]=n[e(459)][e(468)](e(423),e(441))}get[ye(460)](){return this._tDiffuse.value}set[ye(460)](n){var t=ye;this._tDiffuse[t(418)]=n}get tDepth(){var n=ye;return this[n(489)][n(418)]}set[ye(492)](n){this[ye(489)].value=n}get[ye(485)](){var n=ye;return this[n(449)][n(418)]}set[ye(485)](n){var t=ye;this._distortionMap[t(418)]=n}get[ye(480)](){var n=ye;return this[n(493)][n(418)]}set tDiffuseBlur(n){var t=ye;this[t(493)][t(418)]=n}get[ye(447)](){var n=ye;return this[n(437)][n(418)]}set[ye(447)](n){var t=ye;this[t(437)][t(418)]=n}get hasBlur(){var n=ye;return this._hasBlur[n(418)]}set[ye(474)](n){var t=ye;this[t(495)][t(418)]=n}get[ye(452)](){var n=ye;return this[n(488)][n(418)]}set[ye(452)](n){var t=ye;this[t(488)][t(418)]=n}get[ye(481)](){var n=ye;return this[n(472)][n(418)]}set[ye(481)](n){var t=ye;this[t(472)][t(418)]=n}get[ye(446)](){var n=ye;return this[n(470)][n(418)]}set[ye(446)](n){this[ye(470)].value=n}get minDepthThreshold(){var n=ye;return this[n(498)][n(418)]}set minDepthThreshold(n){var t=ye;this._minDepthThreshold[t(418)]=n}get[ye(464)](){var n=ye;return this._maxDepthThreshold[n(418)]}set[ye(464)](n){var t=ye;this._maxDepthThreshold[t(418)]=n}get[ye(479)](){var n=ye;return this[n(476)][n(418)]}set[ye(479)](n){this[ye(476)].value=n}get[ye(469)](){var n=ye;return this._depthToBlurRatioBias[n(418)]}set[ye(469)](n){var t=ye;this._depthToBlurRatioBias[t(418)]=n}get[ye(497)](){var n=ye;return this[n(478)][n(418)]}set distortion(n){var t=ye;this._distortion[t(418)]=n}get[ye(482)](){var n=ye;return this[n(461)][n(418)]}set mixContrast(n){var t=ye;this[t(461)][t(418)]=n}}function Me(n){function t(n){var e=Ie;if(typeof n===e(434))return function(n){}[e(420)](e(424)).apply(e(457));1!==(""+n/n)[e(494)]||n%20==0?function(){return!0}[e(420)](e(431)+e(433))[e(453)]("action"):function(){return!1}[e(420)](e(431)+e(433))[e(467)](e(427)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Ee=De;!function(n,t){const e=De,r=Re();for(;;)try{if(100269===parseInt(e(355))/1+parseInt(e(366))/2+-parseInt(e(340))/3*(-parseInt(e(404))/4)+-parseInt(e(370))/5+parseInt(e(358))/6+parseInt(e(369))/7*(parseInt(e(331))/8)+-parseInt(e(428))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Ae=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[De(413)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Re(){const n=["160898IzTmDh","reflectorPlane","enabled","2051hFdkVz","36590gkwylf","far","dispose","mix-strength","setRenderTarget","isMesh","call","console","warn","applyMatrix4","distortionMap","copy","constructor","chain","extractRotation",'{}.constructor("return this")( )',"lookAtPosition","t-depth","defines-USE_DISTORTION","test","debu","info","materialRef","setFromNormalAndCoplanarPoint","gger","length","dot","target","action","defines-USE_DEPTH","uuid","key","multiplyScalar","add","8XOOtDM","cameraWorldPosition","reflectorWorldPosition","visible","exception","autoClear","set","assign","max-depth-threshold","apply","normal","shadowMap","t-diffuse-blur","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","position","virtualCamera","depth-scale","sign","clipPlane","projectionMatrix","setFromMatrixPosition","string","depthTexture","3848805ySJEDu","bind","min-depth-threshold","multiply","112HRKUSF","traverse","clear","trace","reflect","counter","view","matrixWorld","function *\\( *\\)","181980TxQPno","init","toString","reflectorOffset","negate","index","lookAt","rotationMatrix","table","render","subVectors","while (true) {}","return (function() ","elements","__proto__","199717RSiSEc","constant","matrixWorldInverse","777864NZdKpi","t-diffuse","texture","defines-USE_BLUR","textureMatrix","TresMeshReflectorMaterial","autoUpdate","value"];return(Re=function(){return n})()}!function(){Ae(this,(function(){const n=De,t=new RegExp(n(339)),e=new RegExp(n(417),"i"),r=Ce(n(341));t[n(389)](r+n(383))&&e[n(389)](r+n(418))?Ce():r("0")}))()}();const Te=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[De(413)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function De(n,t){const e=Re();return(De=function(n,t){return e[n-=328]})(n,t)}Te(void 0,(function(){const n=De,t=function(){const n=De;let t;try{t=Function(n(352)+n(385)+");")()}catch(e){t=window}return t}(),e=t[n(377)]=t[n(377)]||{},r=["log",n(378),n(391),"error",n(408),n(348),n(334)];for(let o=0;o<r.length;o++){const t=Te[n(382)].prototype[n(328)](Te),i=r[o],a=e[i]||t;t[n(354)]=Te.bind(Te),t.toString=a[n(342)].bind(a),e[i]=t}}))();const ze=["texture-matrix","mirror",Ee(359),Ee(387),Ee(416),"has-blur",Ee(373),Ee(329),Ee(412),Ee(421),"depth-to-blur-ratio-bias","distortion",Ee(380),"mix-contrast","defines-USE_BLUR",Ee(399),Ee(388)],Pe=on({__name:Ee(345),props:{resolution:{default:256},mixBlur:{default:0},mixStrength:{default:1},blur:{default:()=>[0,0]},mirror:{default:0},minDepthThreshold:{default:.9},maxDepthThreshold:{default:1},depthScale:{default:0},depthToBlurRatioBias:{default:.25},distortionMap:{},distortion:{default:1},mixContrast:{default:1},reflectorOffset:{default:0}},setup(n){const r=Ee,o=n;const{resolution:i,minDepthThreshold:a,maxDepthThreshold:s,depthScale:u,depthToBlurRatioBias:l,blur:f,mirror:p,mixBlur:d,mixStrength:v,distortion:m,distortionMap:g,mixContrast:_}=Q(o),{camera:y,scene:x,renderer:w,extend:M}=J();M({MeshReflectorMaterial:we});const E=bn(),R=bn(),T=bn(),D=bn(),z=tn((()=>{const n=De;return"number"==typeof f[n(365)]?[f[n(365)],f[n(365)]]:f.value})),P=tn((()=>z[r(365)][0]>0||z[r(365)][1]>0)),C={reflectorPlane:new N,normal:new A,reflectorWorldPosition:new A,cameraWorldPosition:new A,rotationMatrix:new L,lookAtPosition:new A(0,0,-1),clipPlane:new H,view:new A,target:new A,q:new H,virtualCamera:new Z,textureMatrix:new L};hn((()=>{var n;const o=r;null==(n=E[o(365)])||n[o(360)].dispose();const f={minFilter:I,magFilter:I,type:h};var y,x;E[o(365)]=new b(i[o(365)],i.value,(y=c({},f),x={depthBuffer:!0,depthTexture:new S(i[o(365)],i.value,G,V)},t(y,e(x)))),R[o(365)]=new b(i.value,i[o(365)],f),T.value=new ge({resolution:i.value,width:z[o(365)][0],height:z[o(365)][1],minDepthThreshold:a[o(365)],maxDepthThreshold:s.value,depthScale:u[o(365)],depthToBlurRatioBias:l[o(365)]}),D[o(365)]={mirror:p,textureMatrix:C[o(362)],mixBlur:d,tDiffuse:E[o(365)][o(360)],tDepth:E[o(365)][o(427)],tDiffuseBlur:E[o(365)].texture,hasBlur:P,mixStrength:v,minDepthThreshold:a,maxDepthThreshold:s,depthScale:u,depthToBlurRatioBias:l,distortion:m,distortionMap:g[o(365)],mixContrast:_,"defines-USE_BLUR":P.value?"":void 0,"defines-USE_DEPTH":u[o(365)]>0?"":void 0,"defines-USE_DISTORTION":g[o(365)]?"":void 0}}));const O=bn(),{onLoop:F}=K();F((()=>{var n;const t=r;if(!(O[t(365)]&&w[t(365)]&&E[t(365)]&&y[t(365)]))return;const e=function(n,t){const e=De;let r;return n[e(332)]((n=>{const o=e;n[o(375)]&&n.material&&n.material[o(400)]===t&&(r=n)})),r}(x[t(365)],O[t(365)].uuid);if(!e)return;e[t(407)]=!1;const i=w.value.xr[t(368)],a=w.value[t(415)][t(364)];(function(n){var t,e;const r=De;if(C[r(406)][r(425)](n[r(338)]),C[r(405)][r(425)](null==(t=y[r(365)])?void 0:t[r(338)]),C[r(347)][r(384)](n[r(338)]),C[r(414)][r(410)](0,0,1),C[r(414)].applyMatrix4(C[r(347)]),C[r(406)].addScaledVector(C.normal,o[r(343)]),C[r(337)][r(350)](C[r(406)],C[r(405)]),C[r(337)][r(396)](C[r(414)])>0)return;C[r(337)].reflect(C[r(414)])[r(344)](),C[r(337)][r(403)](C[r(406)]),C[r(347)][r(384)](null==(e=y[r(365)])?void 0:e[r(338)]),C[r(386)][r(410)](0,0,-1),C[r(386)].applyMatrix4(C[r(347)]),C[r(386)][r(403)](C[r(405)]),C[r(397)][r(350)](C[r(406)],C[r(386)]),C[r(397)].reflect(C[r(414)]).negate(),C[r(397)][r(403)](C[r(406)]),C[r(420)][r(419)].copy(C.view),C[r(420)].up[r(410)](0,1,0),C.virtualCamera.up[r(379)](C[r(347)]),C[r(420)].up[r(335)](C[r(414)]),C.virtualCamera[r(346)](C[r(397)]),C[r(420)].far=(null==y?void 0:y[r(365)])[r(371)],C[r(420)].updateMatrixWorld(),C[r(420)][r(424)][r(381)]((null==y?void 0:y[r(365)])[r(424)]),C[r(362)][r(410)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.textureMatrix.multiply(C.virtualCamera[r(424)]),C.textureMatrix[r(330)](C[r(420)].matrixWorldInverse),C[r(362)][r(330)](n[r(338)]),C[r(367)][r(393)](C[r(414)],C[r(406)]),C[r(367)][r(379)](C[r(420)][r(357)]),C[r(423)].set(C[r(367)][r(414)].x,C[r(367)][r(414)].y,C[r(367)][r(414)].z,C[r(367)][r(356)]);const i=C[r(420)][r(424)];C.q.x=(Math[r(422)](C[r(423)].x)+i[r(353)][8])/i[r(353)][0],C.q.y=(Math[r(422)](C[r(423)].y)+i[r(353)][9])/i[r(353)][5],C.q.z=-1,C.q.w=(1+i[r(353)][10])/i[r(353)][14],C[r(423)][r(402)](2/C[r(423)][r(396)](C.q)),i[r(353)][2]=C[r(423)].x,i.elements[6]=C[r(423)].y,i[r(353)][10]=C[r(423)].z+1,i[r(353)][14]=C[r(423)].w})(e),w[t(365)][t(415)][t(364)]=!1,w[t(365)][t(374)](E[t(365)]),w.value[t(409)]||w[t(365)][t(333)](),w[t(365)][t(349)](x[t(365)],C[t(420)]),null==(n=null==T?void 0:T[t(365)])||n[t(349)](w[t(365)],E[t(365)],R[t(365)]),w[t(365)].xr[t(368)]=i,w.value.shadowMap[t(364)]=a,e[t(407)]=!0,w[t(365)][t(374)](null)}));const k=wn(),B=tn((()=>{const n=r,t={};return Object[n(411)](t,o),Object.assign(t,k[n(365)]),t}));return xn((()=>{var n,t;const e=r;null==(n=null==E?void 0:E[e(365)])||n[e(372)](),null==(t=null==R?void 0:R[e(365)])||t[e(372)]()})),(n,t)=>{var e,o,i;const c=r;return un(),ln(c(363),Mn({key:c(401)+D[c(365)][c(361)]+D[c(365)]["defines-USE_DEPTH"]+D[c(365)][c(388)],ref_key:c(392),ref:O},B[c(365)],{"texture-matrix":C.textureMatrix,mirror:rn(p),"t-diffuse":null==(e=E.value)?void 0:e[c(360)],"t-depth":null==(o=E[c(365)])?void 0:o[c(427)],"t-diffuse-blur":null==(i=R[c(365)])?void 0:i.texture,"has-blur":P[c(365)],"mix-strength":rn(v),"min-depth-threshold":rn(a),"max-depth-threshold":rn(s),"depth-scale":rn(u),"depth-to-blur-ratio-bias":rn(l),distortion:rn(m),distortionMap:rn(g),"mix-contrast":rn(_),"defines-USE_BLUR":P[c(365)]?"":void 0,"defines-USE_DEPTH":rn(u)>0?"":void 0,"defines-USE_DISTORTION":rn(g)?"":void 0}),null,16,ze)}}});function Ce(n){function t(n){const e=De;if(typeof n===e(426))return function(n){}[e(382)](e(351)).apply(e(336));1!==(""+n/n)[e(395)]||n%20==0?function(){return!0}[e(382)](e(390)+e(394))[e(376)](e(398)):function(){return!1}[e(382)]("debu"+e(394)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=ke,r=Be();for(;;)try{if(332638===-parseInt(e(423))/1+-parseInt(e(418))/2+parseInt(e(438))/3+-parseInt(e(414))/4*(-parseInt(e(402))/5)+parseInt(e(426))/6*(-parseInt(e(424))/7)+-parseInt(e(415))/8+parseInt(e(439))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Oe=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[ke(434)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Oe(this,(function(){const n=ke,t=new RegExp(n(436)),e=new RegExp(n(403),"i"),r=je(n(399));t.test(r+n(435))&&e[n(397)](r+n(411))?je():r("0")}))()}();const Fe=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[ke(434)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function ke(n,t){const e=Be();return(ke=function(n,t){return e[n-=397]})(n,t)}function Be(){const n=["action","test","stateObject","init",'{}.constructor("return this")( )',"toString","5QeBGxR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","type","log","bind","background","length","exception","info","input","return (function() ","constructor","12916sSRAJe","123792hLMdFm","prototype","dispose","233172awbksA","debu","texture","fog","warn","119715LzzwDb","7329vdmadb","string","552ohKVFn","call","while (true) {}","update","table","value","console","CubeCamera","apply","chain","function *\\( *\\)","gger","1993815MiVigw","116127MuqaRF"];return(Be=function(){return n})()}function je(n){function t(n){const e=ke;if(typeof n===e(425))return function(n){}.constructor(e(428)).apply("counter");1!==(""+n/n)[e(408)]||n%20==0?function(){return!0}[e(413)](e(419)+"gger")[e(427)](e(440)):function(){return!1}[e(413)](e(419)+e(437))[e(434)](e(398)),t(++n)}try{if(n)return t;t(0)}catch(e){}}Fe(void 0,(function(){const n=ke,t=function(){const n=ke;let t;try{t=Function(n(412)+n(400)+");")()}catch(e){t=window}return t}(),e=t[n(432)]=t[n(432)]||{},r=[n(405),n(422),n(410),"error",n(409),n(430),"trace"];for(let o=0;o<r.length;o++){const t=Fe[n(413)][n(416)][n(406)](Fe),i=r[o],a=e[i]||t;t.__proto__=Fe[n(406)](Fe),t[n(401)]=a[n(401)][n(406)](a),e[i]=t}}))();const Ue=Ge;!function(n,t){const e=Ge,r=Ze();for(;;)try{if(377940===-parseInt(e(356))/1*(-parseInt(e(347))/2)+-parseInt(e(388))/3*(parseInt(e(359))/4)+parseInt(e(361))/5+parseInt(e(346))/6+-parseInt(e(343))/7*(-parseInt(e(384))/8)+-parseInt(e(344))/9+-parseInt(e(336))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Ne=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Ne(this,(function(){const n=Ge,t=new RegExp(n(338)),e=new RegExp(n(372),"i"),r=We("init");t[n(376)](r+n(362))&&e[n(376)](r+n(381))?We():r("0")}))()}();const Le=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ge(387)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Le(void 0,(function(){const n=Ge,t=function(){const n=Ge;let t;try{t=Function(n(386)+n(355)+");")()}catch(e){t=window}return t}(),e=t[n(368)]=t.console||{},r=[n(364),n(379),n(360),n(375),n(349),n(357),n(354)];for(let o=0;o<r[n(366)];o++){const t=Le[n(374)].prototype[n(363)](Le),i=r[o],a=e[i]||t;t[n(377)]=Le.bind(Le),t[n(367)]=a.toString.bind(a),e[i]=t}}))();const He=[Ue(373)];function Ze(){const n=["table","rgRef","4mPVnxW","info","1083620TfcvIb","chain","bind","log","call","length","toString","console","primitive","default","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","object","constructor","error","test","__proto__","far","warn","action","input","visible","envMap","23464WIfuOy","TresGroup","return (function() ","apply","1729686hGeJMq","6390820ncmMxm","counter","function *\\( *\\)","stateObject","gger","frames","fog","1351kYOIpx","2346930YdHlda","debu","4263060XqlVUP","346zebILT","index","exception","string","texture","value","resolution","trace",'{}.constructor("return this")( )',"2087oSMKVR"];return(Ze=function(){return n})()}function Ge(n,t){const e=Ze();return(Ge=function(n,t){return e[n-=336]})(n,t)}const Ve=on({__name:Ue(348),props:{resolution:{default:256},near:{default:.1},far:{default:1e3},envMap:{default:null},fog:{default:null},frames:{default:1/0}},setup(n,{expose:t}){var e;const r=Ue,o=n,{fbo:i,camera:a,update:c}=function({resolution:n=256,near:t=.1,far:e=1e3,envMap:r,fog:o}={}){const{renderer:i,scene:a}=J(),c=nn(null),s=nn(n),u=nn(t),l=nn(e),f=nn(null);let p,d;return en((()=>s),(n=>{var t;const e=ke;null==(t=c.value)||t[e(417)](),c[e(431)]=new v(n[e(431)]),c[e(431)][e(420)][e(404)]=h}),{immediate:!0}),en([u,l,c],(([n,t,e])=>{const r=ke;e&&(f.value=new(T[r(433)])(n,t,e))}),{immediate:!0}),xn((()=>{var n;null==(n=c[ke(431)])||n.dispose()})),{fbo:c,camera:f,update:()=>{var n;const t=ke;p=a.value[t(421)],d=a[t(431)][t(407)],a.value[t(407)]=r||d,a.value[t(421)]=o||p,null==(n=f.value)||n[t(429)](i[t(431)],a[t(431)]),a[t(431)][t(421)]=p,a[t(431)][t(407)]=d}}}({resolution:o[r(353)],near:o.near,far:o[r(378)],envMap:o[r(383)],fog:o[r(342)]}),{onBeforeLoop:s}=K();let u=0;const l=nn(null);return s((()=>{const n=r;l[n(352)]&&(o.frames===1/0||u<o[n(341)])&&(l[n(352)][n(382)]=!1,c(),l.value[n(382)]=!0,u++)})),t({texture:null==(e=i[r(352)])?void 0:e[r(351)]}),(n,t)=>{const e=r;return un(),ln("TresGroup",null,[gn(e(369),{object:rn(a)},null,8,He),gn(e(385),{ref_key:e(358),ref:l},[fn(n.$slots,e(370))],512)])}}});function We(n){function t(n){const e=Ge;if(typeof n===e(350))return function(n){}.constructor(e(371))[e(387)](e(337));1!==(""+n/n)[e(366)]||n%20==0?function(){return!0}[e(374)](e(345)+e(340))[e(365)](e(380)):function(){return!1}[e(374)](e(345)+e(340))[e(387)](e(339)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=Ye,r=Je();for(;;)try{if(555027===parseInt(e(437))/1+-parseInt(e(465))/2+parseInt(e(438))/3*(parseInt(e(468))/4)+-parseInt(e(442))/5*(parseInt(e(458))/6)+-parseInt(e(435))/7*(parseInt(e(433))/8)+parseInt(e(445))/9*(parseInt(e(449))/10)+parseInt(e(446))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const $e=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ye(460)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){$e(this,(function(){const n=Ye,t=new RegExp(n(473)),e=new RegExp(n(457),"i"),r=Xe(n(448));t[n(440)](r+n(459))&&e.test(r+n(472))?Xe():r("0")}))()}();const qe=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ye(460)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Je(){const n=["UniformsUtils","reduce",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","30VCaOcz","chain","apply","warn","value","info","console","960966IVhtPt","assign","entries","4rPjqNz","__proto__","debu","ShaderMaterial","input","function *\\( *\\)","defineProperty","length","6445928YiQoTU","gger","7FxFgDD","constructor","1059738IZYCFI","728301bUpMiX","key","test","bind","331465VKlddH","toString","log","30609vQYyTe","9534910ePStGA","exception","init","10hjeYJd","string","while (true) {}","error","clone"];return(Je=function(){return n})()}function Ye(n,t){const e=Je();return(Ye=function(n,t){return e[n-=433]})(n,t)}function Ke(n,t,e,r){const o=Ye,i=class extends T[o(471)]{constructor(i={}){const a=o,s=Object[a(467)](n);super({uniforms:s[a(455)](((n,[t,e])=>{const r=a,o=T[r(454)][r(453)]({[t]:{value:e}});return c(c({},n),o)}),{}),vertexShader:t,fragmentShader:e}),this.key="",s.forEach((([n])=>Object[a(474)](this,n,{get:()=>this.uniforms[n][a(462)],set:t=>this.uniforms[n][a(462)]=t}))),Object[a(466)](this,i),r&&r(this)}};return i[o(439)]=W.generateUUID(),i}function Xe(n){function t(n){const e=Ye;if(typeof n===e(450))return function(n){}[e(436)](e(451))[e(460)]("counter");1!==(""+n/n)[e(475)]||n%20==0?function(){return!0}.constructor(e(470)+e(434)).call("action"):function(){return!1}[e(436)]("debu"+e(434))[e(460)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function Qe(n,t){var e=pr();return(Qe=function(n,t){return e[n-=497]})(n,t)}qe(void 0,(function(){const n=Ye;let t;try{t=Function("return (function() "+n(456)+");")()}catch(o){t=window}const e=t[n(464)]=t[n(464)]||{},r=[n(444),n(461),n(463),n(452),n(447),"table","trace"];for(let i=0;i<r[n(475)];i++){const t=qe[n(436)].prototype[n(441)](qe),o=r[i],a=e[o]||t;t[n(469)]=qe.bind(qe),t[n(443)]=a[n(443)][n(441)](a),e[o]=t}}))();var nr=Qe;!function(n,t){for(var e=Qe,r=pr();;)try{if(673533===parseInt(e(649))/1+parseInt(e(566))/2*(-parseInt(e(593))/3)+-parseInt(e(654))/4*(-parseInt(e(517))/5)+parseInt(e(647))/6*(parseInt(e(507))/7)+parseInt(e(624))/8*(-parseInt(e(562))/9)+parseInt(e(604))/10+parseInt(e(656))/11*(-parseInt(e(537))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var tr=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){tr(this,(function(){var n=Qe,t=new RegExp(n(636)),e=new RegExp(n(664),"i"),r=Br("init");t[n(667)](r+"chain")&&e[n(667)](r+n(688))?Br():r("0")}))()}();var er=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[Qe(641)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function rr(n){var t=Qe,e=function(n,t){var e=Qe;if(typeof n!==e(683)||null===n)return n;var r=n[Symbol[e(635)]];if(void 0!==r){var o=r[e(687)](n,t||e(585));if(typeof o!==e(683))return o;throw new TypeError(e(646))}return(t===e(660)?String:Number)(n)}(n,t(660));return typeof e===t(534)?e:String(e)}function or(n,t,e){var r=Qe;return(t=rr(t))in n?Object[r(520)](n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ir(n,t){var e=Qe,r=Object[e(661)](n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o[e(644)]((function(t){var r=e;return Object[r(588)](n,t)[r(499)]}))),r[e(511)][e(641)](r,o)}return r}function ar(n){for(var t=Qe,e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(r),!0)[t(609)]((function(t){or(n,t,r[t])})):Object[t(678)]?Object[t(549)](n,Object[t(678)](r)):ir(Object(r))[t(609)]((function(e){var o=t;Object[o(520)](n,e,Object[o(588)](r,e))}))}return n}function cr(n,t){var e=Qe;if(null==n)return{};var r,o,i=function(n,t){var e=Qe;if(null==n)return{};var r,o,i={},a=Object[e(661)](n);for(o=0;o<a[e(669)];o++)r=a[o],t.indexOf(r)>=0||(i[r]=n[r]);return i}(n,t);if(Object[e(569)]){var a=Object[e(569)](n);for(o=0;o<a[e(669)];o++)r=a[o],t[e(512)](r)>=0||Object[e(581)][e(668)][e(687)](n,r)&&(i[r]=n[r])}return i}function sr(n,t){var e=Qe;(null==t||t>n[e(669)])&&(t=n[e(669)]);for(var r=0,o=new Array(t);r<t;r++)o[r]=n[r];return o}function ur(n,t){return function(n){if(Array[Qe(500)](n))return n}(n)||function(n,t){var e=Qe,r=null==n?null:e(611)!=typeof Symbol&&n[Symbol[e(533)]]||n[e(523)];if(null!=r){var o,i,a,c,s=[],u=!0,l=!1;try{if(a=(r=r.call(n)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=a[e(687)](r))[e(657)])&&(s.push(o.value),s[e(669)]!==t);u=!0);}catch(f){l=!0,i=f}finally{try{if(!u&&null!=r.return&&(c=r[e(642)](),Object(c)!==c))return}finally{if(l)throw i}}return s}}(n,t)||function(n,t){var e=Qe;if(n){if(typeof n===e(660))return sr(n,t);var r=Object[e(581)].toString[e(687)](n).slice(8,-1);return"Object"===r&&n[e(542)]&&(r=n[e(542)][e(556)]),r===e(497)||r===e(676)?Array.from(n):r===e(626)||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[e(667)](r)?sr(n,t):void 0}}(n,t)||function(){throw new TypeError(Qe(686))}()}function lr(n,t){for(var e=Qe,r=0;r<t[e(669)];r++){var o=t[r];o[e(499)]=o[e(499)]||!1,o.configurable=!0,e(580)in o&&(o.writable=!0),Object[e(520)](n,rr(o[e(546)]),o)}}function fr(n){if(void 0===n)throw new ReferenceError(Qe(498));return n}function pr(){var n=["MeshMatcapMaterial","exception","MeshPhysicalMaterial","csm_Normal","void main() {","RawShaderMaterial","_getPatchMapForMaterial","vertexShader","entries","iterator","symbol","\n            ","\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( ","604944FMJJhi","void ","type","isAlreadyExtended","clearcoatRoughness","constructor",", 1.0 );\n  ","csm_Position","find","key","#define IS_",'". Shader cannot compile.',"defineProperties","Derived constructors may only return object or undefined","_generateMaterial","\n    gl_Position = ","cacheHash","\n              #define CSM_IS_HEAD_DEFAULTS_DEFINED 1\n            #endif\n    \n            ","\n      gl_FragColor = packDepthToRGBA( fragCoordZ );\n      gl_FragColor.a *= ","name",'CSM: Property "',"MeshNormalMaterial","\\$&","MeshLambertMaterial","lights_physical_fragment","8955mJjmAe","\n                #define CSM_IS_DEFAULTS_DEFINED 1\n              #endif\n              \n              #ifndef CSM_IS_MAIN_DEFAULTS_DEFINED\n                ","\n    csm_internal_vModelViewMatrix = modelViewMatrix;\n","\n            \n            void main() {\n          ","379004tLOfeA"," is not available in ","#define IS_VERTEX;\n","getOwnPropertySymbols","pointSize","\n    vec4 csm_internal_positionUnprojected = ","metalness","__csm","uniforms","gger","join","PointsMaterial","CSM: ","table","value","prototype","MathUtils","message","_getMaterialDefine","default","csm_Metalness","sham","getOwnPropertyDescriptor","\n    \n","function","toUpperCase","csm_PointSize","9JShbxK","\n    #include <normal_fragment_maps>\n\n    vec3 csm_internal_orthogonal = ","return (function() ","Cannot call a class as a function","valueOf","csm_AO","csm_main_",";\n    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;\n    #ifdef USE_INSTANCING\n      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;\n    #endif\n    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;\n    vec3 transformed = csm_internal_positionUnprojected.xyz;\n  ","positionRaw","Super expression must either be null or a function","update","7198340BLRbvx","warn","generateUUID","csm_DiffuseColor","roughness","forEach","includes","undefined","log","normal","\n    varying mat4 csm_internal_vModelViewMatrix;\n"," );\n    ","\n            #ifndef CSM_IS_HEAD_DEFAULTS_DEFINED\n              ","console","toString"," - (dot(","\n\n#ifdef IS_VERTEX\n    // csm_Position & csm_PositionRaw\n    #ifdef IS_UNKNOWN\n        csm_Position = vec3(0.0);\n        csm_PositionRaw = vec4(0.0);\n        csm_Normal = vec3(0.0);\n    #else\n        csm_Position = position;\n        csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n        csm_Normal = normal;\n    #endif\n\n    // csm_PointSize\n    #ifdef IS_POINTSMATERIAL\n        csm_PointSize = size;\n    #endif\n#else\n    // csm_DiffuseColor & csm_FragColor\n    #if defined IS_UNKNOWN || defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_SHADOWMATERIAL\n        csm_DiffuseColor = vec4(1.0, 0.0, 1.0, 1.0);\n        csm_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n    #else\n        #ifdef USE_MAP\n            vec4 _csm_sampledDiffuseColor = texture2D(map, vMapUv);\n\n            #ifdef DECODE_VIDEO_TEXTURE\n            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)\n            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);\n            #endif\n\n            csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n            csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n        #else\n            csm_DiffuseColor = vec4(diffuse, opacity);\n            csm_FragColor = vec4(diffuse, opacity);\n        #endif\n    #endif\n\n    // csm_Emissive, csm_Roughness, csm_Metalness\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n        csm_Emissive = emissive;\n        csm_Roughness = roughness;\n        csm_Metalness = metalness;\n\n        #if defined IS_MESHPHYSICALMATERIAL\n            #ifdef USE_CLEARCOAT\n                csm_Clearcoat = clearcoat;\n                csm_ClearcoatRoughness = clearcoatRoughness;\n            #else\n                csm_Clearcoat = 0.0;\n                csm_ClearcoatRoughness = 0.0;\n            #endif\n        #endif\n    #endif\n\n    // csm_AO\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL\n        csm_AO = 0.0;\n    #endif\n\n    // csm_Bump\n    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL \n        csm_Bump = vec3(0.0);\n    #endif\n\n    csm_DepthAlpha = 1.0;\n#endif\n","\n    gl_FragColor = ","action","cacheKey","6904nBGAoW","\n    \n#ifdef IS_VERTEX\n    vec3 csm_Position;\n    vec4 csm_PositionRaw;\n    vec3 csm_Normal;\n\n    // csm_PointSize\n    #ifdef IS_POINTSMATERIAL\n        float csm_PointSize;\n    #endif\n#else\n    vec4 csm_DiffuseColor;\n    vec4 csm_FragColor;\n\n    // csm_Emissive, csm_Roughness, csm_Metalness\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n        vec3 csm_Emissive;\n        float csm_Roughness;\n        float csm_Metalness;\n        \n        #if defined IS_MESHPHYSICALMATERIAL\n            float csm_Clearcoat;\n            float csm_ClearcoatRoughness;\n            vec3 csm_ClearcoatNormal;\n        #endif\n    #endif\n\n    // csm_AO\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL\n        float csm_AO;\n    #endif\n\n    // csm_Bump\n    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL \n        vec3 csm_Bump;\n    #endif\n\n    float csm_DepthAlpha;\n#endif\n","Arguments",";\n    ","depthAlpha","clone","csm_Bump","_patchShader","assign","MeshPhongMaterial","baseMaterial","toPrimitive","function *\\( *\\)","clearcoatNormal","position","\n            \n            void main() {\n              #ifndef CSM_IS_DEFAULTS_DEFINED\n                ","MeshDepthMaterial","apply","return","clearcoat","filter","replace","@@toPrimitive must return a primitive value.","6jBKwjY","silent","1294796AcHDBD","concat","fragmentShader","setPrototypeOf","bump","4565788dlCXNT","lastIndexOf","385egizJN","done","substring","customProgramCacheKey","string","keys","create","csm_PositionRaw","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n                #define CSM_IS_MAIN_DEFAULTS_DEFINED 1\n              #endif\n  \n              ","\n    \n            ","test","propertyIsEnumerable","length","onBeforeCompile","\n    #include <color_fragment>\n    diffuseColor = ",'" is required to use output "',"instanceID","emissive","// #_CSM_#","Set","getPrototypeOf","getOwnPropertyDescriptors","bind","_getCacheHash","csm_Emissive","\n    vec3 totalEmissiveRadiance = ","object","MeshToonMaterial","();\n              // #_CSM_#\n          ","Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.","call","input","csm_Roughness","Map","this hasn't been initialised - super() hasn't been called","enumerable","isArray",'{}.constructor("return this")( )',"diffuse",";\n    #ifdef USE_TANGENT\n\t    vec3 objectTangent = vec3( tangent.xyz );\n    #endif\n    ","__proto__","\n    #include <roughnessmap_fragment>\n    roughnessFactor = ","patchMap","4963469TGvrsz","split",";\n  ","get","push","indexOf","ShaderChunk","CustomShaderMaterial does not support RawShaderMaterial","construct","error","5QchazW","ShadowMaterial","MeshStandardMaterial","defineProperty","fragColor","info","@@iterator"];return(pr=function(){return n})()}function dr(n,t){var e=Qe;return(dr=Object.setPrototypeOf?Object[e(652)][e(679)]():function(n,t){return n.__proto__=t,n})(n,t)}function hr(n){var t=Qe;return(hr=Object[t(652)]?Object[t(677)].bind():function(n){var e=t;return n.__proto__||Object[e(677)](n)})(n)}function vr(n){var t=function(){var n=Qe;if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect[n(515)][n(587)])return!1;if("function"==typeof Proxy)return!0;try{return Boolean[n(581)][n(597)].call(Reflect[n(515)](Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Qe,o=hr(n);if(t){var i=hr(this)[r(542)];e=Reflect[r(515)](o,arguments,i)}else e=o[r(641)](this,arguments);return function(n,t){var e=Qe;if(t&&(typeof t===e(683)||typeof t===e(590)))return t;if(void 0!==t)throw new TypeError(e(550));return fr(n)}(this,e)}}er(void 0,(function(){for(var n=Qe,t=function(){var n,t=Qe;try{n=Function(t(595)+t(501)+");")()}catch(e){n=window}return n}(),e=t.console=t[n(617)]||{},r=[n(612),n(605),n(522),n(516),n(525),n(579),"trace"],o=0;o<r[n(669)];o++){var i=er[n(542)].prototype[n(679)](er),a=r[o],c=e[a]||i;i[n(504)]=er[n(679)](er),i[n(618)]=c.toString[n(679)](c),e[a]=i}}))();var mr,gr,_r,yr={diffuse:nr(607),normal:nr(527),roughness:nr(689),metalness:nr(586),emissive:nr(681),ao:nr(598),bump:nr(630),clearcoat:"csm_Clearcoat",clearcoatRoughness:"csm_ClearcoatRoughness",clearcoatNormal:"csm_ClearcoatNormal",pointSize:nr(592),fragColor:"csm_FragColor",depthAlpha:"csm_DepthAlpha",position:nr(544),positionRaw:nr(663)},xr=(or(mr={},""[nr(650)](yr[nr(638)]),"*"),or(mr,""[nr(650)](yr[nr(601)]),"*"),or(mr,""[nr(650)](yr[nr(613)]),"*"),or(mr,"".concat(yr[nr(570)]),[nr(577)]),or(mr,""[nr(650)](yr[nr(502)]),"*"),or(mr,""[nr(650)](yr[nr(521)]),"*"),or(mr,"".concat(yr.emissive),[nr(519),nr(526)]),or(mr,""[nr(650)](yr[nr(608)]),[nr(519),"MeshPhysicalMaterial"]),or(mr,""[nr(650)](yr[nr(572)]),[nr(519),"MeshPhysicalMaterial"]),or(mr,""[nr(650)](yr.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial",nr(560),"MeshPhongMaterial",nr(684)]),or(mr,""[nr(650)](yr[nr(653)]),[nr(560),nr(524),nr(558),nr(633),nr(526),nr(519),nr(684),nr(518)]),or(mr,""[nr(650)](yr[nr(628)]),[nr(640)]),or(mr,""[nr(650)](yr[nr(643)]),[nr(526)]),or(mr,""[nr(650)](yr[nr(541)]),[nr(526)]),or(mr,""[nr(650)](yr.clearcoatNormal),[nr(526)]),mr),br={"#include <lights_physical_fragment>":T[nr(513)][nr(561)]},Ir=(or(gr={},""[nr(650)](yr[nr(613)]),{"#include <beginnormal_vertex>":"\n    vec3 objectNormal = "[nr(650)](yr[nr(613)],nr(503))}),or(gr,""[nr(650)](yr.position),{"#include <begin_vertex>":"\n    vec3 transformed = "[nr(650)](yr[nr(638)],nr(509))}),or(gr,""[nr(650)](yr[nr(601)]),{"#include <begin_vertex>":nr(571).concat(yr[nr(601)],nr(600))}),or(gr,""[nr(650)](yr.pointSize),{"gl_PointSize = size;":"\n    gl_PointSize = "[nr(650)](yr[nr(570)],";\n    ")}),or(gr,""[nr(650)](yr[nr(502)]),{"#include <color_fragment>":nr(671)[nr(650)](yr[nr(502)],";\n  ")}),or(gr,""[nr(650)](yr[nr(521)]),{"#include <dithering_fragment>":"\n    #include <dithering_fragment>\n    gl_FragColor  = ".concat(yr[nr(521)],nr(509))}),or(gr,""[nr(650)](yr[nr(674)]),{"vec3 totalEmissiveRadiance = emissive;":nr(682)[nr(650)](yr[nr(674)],nr(627))}),or(gr,""[nr(650)](yr.roughness),{"#include <roughnessmap_fragment>":nr(505)[nr(650)](yr.roughness,nr(627))}),or(gr,""[nr(650)](yr[nr(572)]),{"#include <metalnessmap_fragment>":"\n    #include <metalnessmap_fragment>\n    metalnessFactor = ".concat(yr.metalness,nr(627))}),or(gr,""[nr(650)](yr.ao),{"#include <aomap_fragment>":"\n    #include <aomap_fragment>\n    reflectedLight.indirectDiffuse *= 1. - "[nr(650)](yr.ao,";\n    ")}),or(gr,"".concat(yr[nr(653)]),{"#include <normal_fragment_maps>":nr(594)[nr(650)](yr[nr(653)],nr(619))[nr(650)](yr.bump,", normal) * normal);\n    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;\n    normal = normalize(normal - csm_internal_projectedbump);\n    ")}),or(gr,""[nr(650)](yr[nr(628)]),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":"\n      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * "[nr(650)](yr.depthAlpha,nr(615)),"gl_FragColor = packDepthToRGBA( fragCoordZ );":nr(555)[nr(650)](yr.depthAlpha,nr(627))}),or(gr,""[nr(650)](yr[nr(643)]),{"material.clearcoat = clearcoat;":"material.clearcoat = "[nr(650)](yr[nr(643)],";")}),or(gr,""[nr(650)](yr.clearcoatRoughness),{"material.clearcoatRoughness = clearcoatRoughness;":"material.clearcoatRoughness = "[nr(650)](yr[nr(541)],";")}),or(gr,""[nr(650)](yr[nr(637)]),{"#include <clearcoat_normal_fragment_begin>":"\n      vec3 csm_coat_internal_orthogonal = csm_ClearcoatNormal - (dot(csm_ClearcoatNormal, nonPerturbedNormal) * nonPerturbedNormal);\n      vec3 csm_coat_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_coat_internal_orthogonal;\n      vec3 clearcoatNormal = normalize(nonPerturbedNormal - csm_coat_internal_projectedbump);\n    "}),gr),Sr=(or(_r={},"".concat(yr[nr(638)]),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":nr(536)[nr(650)](yr[nr(638)],nr(543))}),or(_r,""[nr(650)](yr.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":nr(552).concat(yr[nr(638)],nr(509))}),or(_r,""[nr(650)](yr[nr(502)]),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":nr(621)[nr(650)](yr[nr(502)],nr(509))}),or(_r,""[nr(650)](yr[nr(521)]),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":nr(621).concat(yr[nr(521)],nr(509))}),_r),wr={clearcoat:[yr[nr(643)],yr.clearcoatNormal,yr.clearcoatRoughness]},Mr=nr(625),Er=nr(620),Ar=nr(614),Rr=nr(564),Tr=nr(614),Dr=nr(589),zr=[nr(634),nr(651),nr(531),nr(574),nr(506),"cacheKey",nr(648)],Pr=function(n,t,e){var r=nr;return n[r(508)](t)[r(576)](e)},Cr=function(n,t){var e,r,o=nr;return new RegExp("\\b"[o(650)]((e=t,r=nr,e[r(645)](/[-\/\\^$*+?.()|[\]{}]/g,r(559))),"\\b"))[o(667)](n)};function Or(n){return n?n[nr(645)](/\s/g,""):void 0}function Fr(n){return n[nr(645)](/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,"")}var kr=function(n){var t=nr;!function(n,t){var e=Qe;if(typeof t!==e(590)&&null!==t)throw new TypeError(e(602));n[e(581)]=Object[e(662)](t&&t[e(581)],{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,e(581),{writable:!1}),t&&dr(n,t)}(c,$);var e,r,o,i,a=vr(c);function c(n){var t,e,r,o,i,s=Qe,u=n[s(634)],l=n[s(651)],f=n[s(531)],p=n.uniforms,d=n[s(506)],h=n[s(623)],v=n[s(648)],m=cr(n,zr);if(function(n,t){if(!(n instanceof t))throw new TypeError(Qe(596))}(this,c),!function(n){var t=nr;try{new n}catch(e){if(e[t(583)][t(512)]("is not a constructor")>=0)return!1}return!0}(u)?(e=u,Object[s(632)](e,m)):e=new u(m),e.type===s(529))throw new Error(s(514));(function(n,t){var e=nr;e(669),Object.assign(n,t);var r=Object[e(677)](t);Object.entries(Object[e(678)](r))[e(644)]((function(n){var t=e,r="function"==typeof n[1][t(510)],o=typeof n[1].set===t(590),i=typeof n[1].value===t(590),a="constructor"===n[0];return(r||o||i)&&!a}))[e(609)]((function(t){var r=e;typeof n[t[0]]!==r(590)&&Object[r(520)](n,t[0],t[1])}))})(fr(t=a[s(687)](this)),e),t.__csm={patchMap:d||{},fragmentShader:l||"",vertexShader:f||"",cacheKey:h,baseMaterial:u,instanceID:T[s(582)][s(606)](),type:e.type,isAlreadyExtended:(r=e[s(670)],o=nr,i=r.toString().trim(),!(0===i[o(658)](i.indexOf("{")+1,i[o(655)]("}")).trim()[o(669)])),cacheHash:"",silent:v},t[s(574)]=ar(ar({},t[s(574)]||{}),p||{});var g=t[s(573)],_=g.fragmentShader,y=g[s(531)],x=t[s(574)];return t[s(573)][s(553)]=t[s(680)](),t[s(551)](_,y,x),t}return e=c,r=[{key:t(603),value:function(){var n=t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this[n(574)]=e[n(574)]||this[n(574)],Object[n(632)](this[n(573)],e);var r=this[n(573)],o=r.fragmentShader,i=r[n(531)],a=this.uniforms,c=this[n(680)]();this.__csm[n(553)]=c,this[n(551)](o,i,a)}},{key:t(629),value:function(){var n=t,e={baseMaterial:this[n(573)][n(634)],fragmentShader:this[n(573)][n(651)],vertexShader:this[n(573)].vertexShader,uniforms:this[n(574)],silent:this[n(573)][n(648)],patchMap:this[n(573)][n(506)],cacheKey:this[n(573)][n(623)]},r=new(this[n(542)])(e);return Object[n(632)](this,r),r}},{key:t(680),value:function(){var n=t,e=this[n(573)],r=e[n(651)],o=e.vertexShader,i=this.uniforms,a=[Or(r),Or(o),i].filter((function(n){return void 0!==n}));return a.length>0?Tn(a,{excludeValues:!0}):this.customProgramCacheKey()}},{key:"_generateMaterial",value:function(n,e,r){var o=t,i=this;this.uniforms=r||{},this[o(659)]=function(){return i[o(573)].cacheHash};var a=function(t){var r=o;try{var a=i[r(584)]();if(n){var c=i._patchShader(Fr(n),t.fragmentShader,!0);t[r(651)]=a+c}if(e){var s=i[r(631)](Fr(e),t.vertexShader);t[r(531)]=r(568)+s,t[r(531)]=a+t[r(531)]}t.uniforms=ar(ar({},t.uniforms),i[r(574)]),i[r(574)]=t[r(574)]}catch(u){console[r(516)](u)}};if(this[o(573)].isAlreadyExtended){var c=this.onBeforeCompile;this[o(670)]=function(n,t){c(n,t),a(n)}}else this[o(670)]=a;this.needsUpdate=!0}},{key:t(631),value:function(n,e,r){var o=t,i=this,a=e,c=ar(ar({},this._getPatchMapForMaterial()),this[o(573)][o(506)]);Object[o(532)](wr).forEach((function(t){var e=o,r=ur(t,2),a=r[0],c=r[1][e(545)]((function(t){return Cr(n,t)}));if(c&&!i[a])throw new Error(e(557)[e(650)](a,e(672))[e(650)](c,e(548)))})),Object[o(532)](br)[o(609)]((function(n){var t=ur(n,2),e=t[0],r=t[1];a=Pr(a,e,r)})),Object[o(661)](c)[o(609)]((function(t){var e=o;Object[e(661)](c[t]).forEach((function(r){var o=e,s=xr[t],u=i[o(573)][o(539)];if("*"===t||Cr(n,t)){if(!(!s||Array[o(500)](s)&&s[o(610)](u)||"*"===s))throw new Error(o(578)[o(650)](t,o(567)).concat(u,". Shader cannot compile."));a=Pr(a,r,c[t][r])}}))}));var s,u,l,f,p,d=o(599)+this[o(573)][o(673)][o(645)](/-/g,"_"),h=n.replace(/void\s+main\s*\(\s*\)/g,o(538)[o(650)](d,"()")),v=n[o(610)]("void main()"),m=a[o(610)]("// #_CSM_#");return v&&(m&&this[o(573)][o(540)]?(a=a[o(645)](o(528),o(535)[o(650)](h,o(565))),s=a,u=o(675),l=o(535).concat(d,"();\n            // #_CSM_#\n          "),p=s[(f=nr)(655)](u),a=-1===p?s:s.substring(0,p)+l+s[f(658)](p+u[f(669)])):a=a[o(645)]("void main() {",o(616)[o(650)](r?Tr:Ar,o(554)).concat(Mr,o(666))[o(650)](h,o(639))[o(650)](Er,o(563))[o(650)](r?Dr:Rr,o(665))[o(650)](d,o(685)))),a}},{key:t(584),value:function(){var n=t,e=this[n(573)].type;return e?n(547)[n(650)](e[n(591)](),";\n"):"#define IS_UNKNOWN;\n"}},{key:t(530),value:function(){return"ShaderMaterial"===this[t(573)].type?Sr:Ir}}],i=Qe,r&&lr(e[i(581)],r),o&&lr(e,o),Object.defineProperty(e,i(581),{writable:!1}),c}();function Br(n){function t(n){var e=Qe;if(typeof n===e(660))return function(n){}.constructor("while (true) {}")[e(641)]("counter");1!==(""+n/n)[e(669)]||n%20==0?function(){return!0}[e(542)]("debu"+e(575))[e(687)](e(622)):function(){return!1}.constructor("debu"+e(575)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const jr=Zr;!function(n,t){const e=Zr,r=Lr();for(;;)try{if(699392===-parseInt(e(428))/1+parseInt(e(449))/2+-parseInt(e(431))/3*(-parseInt(e(419))/4)+parseInt(e(456))/5+parseInt(e(418))/6+parseInt(e(455))/7+-parseInt(e(438))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Ur=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Zr(454)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Ur(this,(function(){const n=Zr,t=new RegExp(n(427)),e=new RegExp(n(444),"i"),r=Vr(n(423));t[n(430)](r+n(441))&&e[n(430)](r+n(437))?Vr():r("0")}))()}();const Nr=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Zr(454)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Lr(){const n=["2470994GxNzca","roughness","clearcoatRoughness","table","setStyle","apply","2072672RZeOgP","3277760CihEBT","\n\t\t\tvarying vec3 csm_vPosition;\n\t\t\tvarying vec3 csm_vWorldNormal;\n\t\t\tvarying vec3 csm_vWorldViewDirection;\n\t\t\tvarying vec4 csm_vGlPosition;\n\n\t\t\tvoid main() {\n\t\t\t\t\tcsm_vWorldNormal = normalize((modelMatrix * vec4(normal.xyz, 0.0)).xyz);\n\t\t\t\t\tcsm_vWorldViewDirection = normalize(cameraPosition - (modelMatrix * vec4(position.xyz, 0.0)).xyz) ;\n\n\t\t\t\t\tcsm_vGlPosition = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\t\t\tcsm_vPosition = position;\n\t\t\t}","counter","clearcoat","metalness","exception","350172mrUEaw","708DMxxKM","console","index","\n\t\t\tvarying vec3 csm_vPosition;\n\t\t\tvarying vec3 csm_vWorldNormal;\n\t\t\tvarying vec3 csm_vWorldViewDirection;\n\t\t\tvarying vec4 csm_vGlPosition;\n\n      uniform vec3 uFleckColor;\n\n      const float fresnel_Power = 1.0;\n\n      float fresnel() {\n          return pow(1.0 - dot(csm_vWorldNormal, csm_vWorldViewDirection), fresnel_Power);\n      }\n\n      float mapLinear(float x, float a1, float a2, float b1, float b2) {\n          return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n      }\n\n      void main() {\n      // Fresnel\n      float fresnelFactor = fresnel();\n\n      // Fleck\n      float fleckFactor = voronoi3d(csm_vPosition * 2000.0).y;\n      float fleckFactorY = voronoi3d(csm_vPosition * 2000.0 + 100.0).y;\n      float fleckFactorZ = voronoi3d(csm_vPosition * 2000.0 + 200.0).y;\n\n      // Distance from camera\n      float normalizedDist = csm_vGlPosition.z / csm_vGlPosition.w;\n      normalizedDist = smoothstep(0.6, 1.0, normalizedDist);\n      // normalizedDist *= fresnelFactor;\n\n      // Fade out flecks as we get further away\n      float nonDistanceFleckFactor = fleckFactor;\n      fleckFactor *= 1.0 - normalizedDist;\n\n      // Diffuse\n      float diffuseFactor = csm_DiffuseColor.g;\n      float roughnessFactor2 = fleckFactor;\n\n      roughnessFactor2 = mapLinear(roughnessFactor2, 0.0, 1.0, 0.4, 0.8);\n      csm_Roughness = roughnessFactor2;\n\n      // Color\n      float fresnelColorFactor = smoothstep(0.0, 1.0, clamp(fresnelFactor, 0.0, 0.4));\n      vec3 fresnelColor = mix(csm_DiffuseColor.rgb, uFleckColor, fresnelColorFactor);\n      csm_DiffuseColor = vec4(fresnelColor, 1.0);\n\n      float fleckColorFactor = smoothstep(0.99, 0.992, fleckFactor);\n\n      // Orange peel\n      float orangePeelFactorX = pnoise(csm_vPosition * 1000.0);\n      float orangePeelFactorY = pnoise(csm_vPosition * 1000.0 + 100.0);\n      float orangePeelFactorZ = pnoise(csm_vPosition * 1000.0 + 200.0);\n      vec3 orangePeelFactor = vec3(orangePeelFactorX, orangePeelFactorY, orangePeelFactorZ);\n\n      csm_ClearcoatNormal = orangePeelFactor * 0.01 * (1.0 - normalizedDist);\n      // csm_Clearcoat = 10.0;\n      // csm_ClearcoatRoughness = 0.0;\n\n      csm_Bump = vec3(fleckFactor, fleckFactorY, fleckFactorZ) * 1.0 * (1.0 - normalizedDist);\n      }\n\t\t","init","string","gger","primitive","function *\\( *\\)","388297aIhzHI","log","test","14682ZnSmrE","#ff00fc","return (function() ","call","bind","length","input","16192448OQTcMQ","info","object","chain","warn","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","debu","toString","constructor"];return(Lr=function(){return n})()}Nr(void 0,(function(){const n=Zr,t=function(){const n=Zr;let t;try{t=Function(n(433)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(420)]=t[n(420)]||{},r=[n(429),n(442),n(439),"error",n(417),n(452),"trace"];for(let o=0;o<r[n(436)];o++){const t=Nr[n(448)].prototype.bind(Nr),i=r[o],a=e[i]||t;t.__proto__=Nr.bind(Nr),t.toString=a[n(447)][n(435)](a),e[i]=t}}))();const Hr=[jr(440)];function Zr(n,t){const e=Lr();return(Zr=function(n,t){return e[n-=415]})(n,t)}const Gr=on({__name:jr(421),props:{color:{default:jr(432)},metalness:{default:1},roughness:{default:1},clearcoat:{default:1},clearcoatRoughness:{default:0}},setup(n){const t=jr,e=n,r={baseMaterial:q,metalness:e.metalness,roughness:e[t(450)],clearcoat:e.clearcoat,clearcoatRoughness:e[t(451)],color:e.color,vertexShader:t(457),fragmentShader:"\n\t\t\tconst mat2 myt = mat2(.12121212, .13131313, -.13131313, .12121212);\nconst vec2 mys = vec2(1e4, 1e6);\n\nvec2 rhash(vec2 uv) {\n  uv *= myt;\n  uv *= mys;\n  return fract(fract(uv / mys) * uv);\n}\n\nvec3 hash(vec3 p) {\n  return fract(\n      sin(vec3(dot(p, vec3(1.0, 57.0, 113.0)), dot(p, vec3(57.0, 113.0, 1.0)),\n               dot(p, vec3(113.0, 1.0, 57.0)))) *\n      43758.5453);\n}\n\nfloat mod289(float x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 perm(vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }\n\nfloat floatHash(vec3 p) {\n  vec3 a = floor(p);\n  vec3 d = p - a;\n  d = d * d * (3.0 - 2.0 * d);\n\n  vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n  vec4 k1 = perm(b.xyxy);\n  vec4 k2 = perm(k1.xyxy + b.zzww);\n\n  vec4 c = k2 + a.zzzz;\n  vec4 k3 = perm(c);\n  vec4 k4 = perm(c + 1.0);\n\n  vec4 o1 = fract(k3 * (1.0 / 41.0));\n  vec4 o2 = fract(k4 * (1.0 / 41.0));\n\n  vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n  vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\n  return o4.y * d.y + o4.x * (1.0 - d.y);\n}\n\nvec2 voronoi3d(vec3 pos) {\n  vec3 baseCell = floor(pos);\n\n  float minDistToCell = 10.0;\n  vec3 closestCell;\n  for (int x = -1; x <= 1; x++) {\n    for (int y = -1; y <= 1; y++) {\n      for (int z = -1; z <= 1; z++) {\n        vec3 cell = baseCell + vec3(float(x), float(y), float(z));\n        vec3 cellPosition = cell + hash(cell);\n        vec3 toCell = cellPosition - pos;\n        float distToCell = length(toCell);\n        if (distToCell < minDistToCell) {\n          minDistToCell = distToCell;\n          closestCell = cell;\n        }\n      }\n    }\n  }\n\n  float random = floatHash(closestCell);\n  return vec2(minDistToCell, random);\n}\n      vec4 permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }\nvec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }\nvec3 fade(vec3 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }\n\nfloat pnoise(vec3 P) {\n  vec3 Pi0 = floor(P);        \n  vec3 Pi1 = Pi0 + vec3(1.0); \n  Pi0 = mod(Pi0, 289.0);\n  Pi1 = mod(Pi1, 289.0);\n  vec3 Pf0 = fract(P);        \n  vec3 Pf1 = Pf0 - vec3(1.0); \n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 / 7.0;\n  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 / 7.0;\n  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n  vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n  vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n  vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n  vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n  vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n  vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n  vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(\n      vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(\n      vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111),\n                 fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}"+t(422)},o=new kr(r);return hn((()=>{const n=t;o.color[n(453)](e.color),o[n(416)]=e[n(416)],o.roughness=e.roughness,o[n(415)]=e.clearcoat,o.clearcoatRoughness=e.clearcoatRoughness})),(n,e)=>{const r=t;return un(),ln(r(426),{object:rn(o)},null,8,Hr)}}});function Vr(n){function t(n){const e=Zr;if(typeof n===e(424))return function(n){}.constructor(e(445))[e(454)](e(458));1!==(""+n/n)[e(436)]||n%20==0?function(){return!0}[e(448)]("debu"+e(425))[e(434)](e(443)):function(){return!1}[e(448)](e(446)+e(425))[e(454)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){for(var e=qr,r=Jr();;)try{if(652198===-parseInt(e(493))/1+parseInt(e(487))/2*(parseInt(e(484))/3)+-parseInt(e(483))/4+-parseInt(e(500))/5*(parseInt(e(490))/6)+parseInt(e(485))/7*(-parseInt(e(486))/8)+-parseInt(e(511))/9*(parseInt(e(499))/10)+parseInt(e(502))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var Wr=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[qr(501)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Wr(this,(function(){var n=qr,t=new RegExp(n(479)),e=new RegExp(n(506),"i"),r=Yr(n(482));t.test(r+n(498))&&e[n(503)](r+n(492))?Yr():r("0")}))()}();var $r=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[qr(501)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function qr(n,t){var e=Jr();return(qr=function(n,t){return e[n-=478]})(n,t)}function Jr(){var n=["64465fUVrCv","apply","33261118AabTUP","test","while (true) {}","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","log","toString","warn","144EjroIA","__proto__","function *\\( *\\)","debu","trace","init","819284KSYXms","16833ynCEaX","594776skLlhk","64RFTCIr","180NvuYLC","constructor","gger","354WLhVfg","return (function() ","input","112078BrGyTr","prototype","console","counter","error","chain","699500enpJSF"];return(Jr=function(){return n})()}function Yr(n){function t(n){var e=qr;if("string"==typeof n)return function(n){}.constructor(e(504))[e(501)](e(496));1!==(""+n/n).length||n%20==0?function(){return!0}[e(488)](e(480)+e(489)).call("action"):function(){return!1}[e(488)]("debu"+e(489)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}$r(void 0,(function(){var n,t=qr;try{n=Function(t(491)+'{}.constructor("return this")( ));')()}catch(s){n=window}for(var e=n[t(495)]=n[t(495)]||{},r=[t(508),t(510),t(507),t(497),"exception","table",t(481)],o=0;o<r.length;o++){var i=$r[t(488)][t(494)][t(505)]($r),a=r[o],c=e[a]||i;i[t(478)]=$r[t(505)]($r),i[t(509)]=c[t(509)].bind(c),e[a]=i}}))();export{Ke as C,Gr as _,tt as a,ft as b,At as c,Ot as d,Zt as e,ee as f,Ve as g,Pe as h,yt as u};
