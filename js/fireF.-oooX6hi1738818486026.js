var t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d=Object.defineProperty,g=(t,e,s)=>(((t,e,s)=>{e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as w}from"./pagesShow.vue_vue_type_script_setup_true_lang.Y9qQy12V1738818486026.js";import{_ as S,V as y,b as v,M as x,c as I,X as P,e as A,ar as T,an as b,T as F,aX as E}from"./three.WgQSjl1J1738818486026.js";import{m as z,e as R}from"./@tresjs.ZGxFoQtw1738818486026.js";import{d as O,b as V,a2 as C,o as q,f as M,g as N,j as _}from"./@vue.NRI7TcgI1738818486026.js";import"./three-custom-shader-material.GL6LOUMf1738818486026.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";const U=ut;!function(t,e){const s=ut,n=tt();for(;;)try{if(780635===parseInt(s(735))/1+parseInt(s(596))/2+-parseInt(s(733))/3*(-parseInt(s(716))/4)+-parseInt(s(553))/5+parseInt(s(756))/6+parseInt(s(513))/7+parseInt(s(710))/8*(-parseInt(s(625))/9))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const B=class{constructor(t){this[U(743)]=t}};t=U(469),e=U(569),g(B,t,new B(U(469))),g(B,e,new B(U(569)));let D=B;class j{constructor(){this[U(774)]()}[U(774)](){const t=U;this.progressType=D.Time,this.lifetime=1,this.age=0,this[t(769)]=new(S[t(436)]),this[t(435)]=new(S[t(606)]),this[t(762)]=new(S[t(606)]),this.acceleration=new(S[t(606)]),this[t(506)]=new(S[t(606)]),this[t(492)]=0,this[t(681)]=0,this[t(720)]=new y,this[t(472)]=new(S[t(587)]),this.alpha=1,this[t(598)]=new y,this[t(744)]=new(S[t(587)]),this.initialAlpha=1}[U(444)](t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d){const g=U;this.progressType=t,this[g(665)]=e,this[g(564)]=s,this[g(769)][g(519)](n),this.position[g(519)](i),this[g(762)][g(519)](r),this[g(425)][g(519)](a),this[g(506)].copy(o),this[g(492)]=c,this.rotationalSpeed=h,this.size=l,this[g(472)][g(519)](u),this[g(694)]=p,this.initialSize[g(519)](f),this[g(744)][g(519)](m),this[g(523)]=d}[U(738)](t){const e=U;t[e(444)](this[e(819)],this.lifetime,this[e(564)],this.sequenceElement,this.position,this.velocity,this[e(425)],this[e(506)],this[e(492)],this[e(681)],this[e(720)],this.color,this.alpha,this[e(598)],this[e(744)],this[e(523)])}[U(519)](t){const e=U;this[e(444)](t[e(819)],t.lifetime,t.age,t[e(769)],t.position,t[e(762)],t[e(425)],t[e(506)],t[e(492)],t.rotationalSpeed,t[e(720)],t.color,t.alpha,t.initialSize,t.initialColor,t.initialAlpha)}}class X{constructor(){g(this,s,function(){const t=U,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=ut,e=new RegExp(t(642)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=qt(t(774));e[t(551)](n+t(544))&&s[t(551)](n+t(705))?qt():n("0")}))()}();const s=new v;return function(e=new(S[t(480)]),n=null){const i=t,r=e.min,a=e.max;for(let t=0;t<this[i(460)];t++){const e=this[i(539)](t);let o=e[i(435)];n&&(s[i(519)](o),s.applyMatrix4(n),o=s);const c=Math[i(441)](e[i(720)].x,e[i(720)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,f=o.z-c,m=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=f),(0==t||o.z>a.z)&&(a.z=m)}return e}}()),g(this,n,function(){const t=U,e=new v,s=new(S[t(606)]),n=new v;return function(i=new(S[t(808)]),r=null){const a=t;let o=0;for(let t=0;t<this[a(460)];t++){const i=this[a(539)](t);let c=i.position;r&&(n[a(519)](c),n.applyMatrix4(r),c=n);const h=Math.max(i[a(720)].x,i[a(720)].y);if(0==t)e[a(519)](c),o=h;else{s[a(519)](c)[a(517)](e);const t=s.length()+h;if(t>o){const n=(t-o)/2;s.normalize().multiplyScalar(n),e[a(858)](s),o+=n}}}return i.center[a(519)](e),i[a(450)]=o,i}}());const t=U;this.particleCount=0,this.activeParticleCount=0,this[t(770)]=[]}[U(774)](t){this[U(776)](t)}setParticleCount(t){const e=U;this[e(731)]!=t&&(this[e(634)](),this[e(841)](t)),this[e(731)]=t}[U(700)](t){this[U(460)]=t}allocate(t){const e=U;this.particleStates=[],this.particleCount=t;for(let s=0;s<t;s++)this[e(770)][s]=new j}[U(634)](){}[U(723)](){return this[U(731)]}[U(836)](){}[U(673)](t,e){const s=U;if(t>=this[s(731)])throw new Error(s(790));if(e>=this[s(731)])throw new Error(s(852));const n=this.particleStates[t],i=this[s(770)][e];n[s(738)](i)}setState(t,e){const s=U;if(t>=this.particleCount)throw new Error(s(699));return this[s(770)][t][s(519)](e)}[U(539)](t){const e=U;if(t>=this.particleCount)throw new Error(e(826));return this.particleStates[t]}}s=U(514),n=U(764);class W{constructor(t,e,s=0){this[U(839)]=t,this.length=e,this.id=s}}class Y{constructor(){const t=U;this[t(827)]={},this[t(663)]=[]}[U(866)](t,e,s){const n=U;if(this.hasID(s))throw new Error(n(511));const i=new W(t,e,s);return this[n(827)][s]=i,this[n(663)][n(408)](s),i}getSequence(t){const e=U;if(!this.hasID(t))throw new Error(e(586));return this[e(827)][t]}getSequenceIDs(){return this[U(663)]}[U(622)](t){return!!this.sequences[t]}}class J{constructor(){}initializeState(t){const e=U;t[e(744)][e(591)](1,1,1),t[e(598)][e(591)](1,1),t.initialAlpha=1,t.progressType=D[e(469)],t[e(665)]=0,t[e(564)]=0,t[e(769)][e(591)](0,0,0,0),t[e(435)][e(591)](0,0,0),t[e(762)][e(591)](0,0,0),t[e(425)][e(591)](0,0,0),t.normal[e(591)](0,0,1),t[e(492)]=0,t.rotationalSpeed=0,t[e(720)][e(519)](t.initialSize),t.color[e(519)](t.initialColor),t[e(694)]=1}}class L extends J{constructor(){super()}[U(515)](t){super[U(515)](t)}}class G{constructor(){}[U(798)](){}}class k extends G{constructor(){const t=U;super(),this[t(557)]=new(S[t(606)]),this[t(424)]=new(S[t(606)]),this[t(706)]=new(S[t(606)]),this[t(690)]=new(S[t(606)])}updateState(t,e){const s=U;return super[s(798)](t,e),this[s(706)].copy(t[s(425)]),this[s(424)][s(519)](this[s(706)]),this[s(424)][s(768)](e),t[s(762)][s(858)](this.timeScaledAcceleration),this.stateVelocity[s(519)](t[s(762)]),this[s(557)][s(519)](this[s(690)]),this[s(557)][s(768)](e),t.position[s(858)](this[s(557)]),t[s(564)]=t[s(564)]+e,t[s(492)]=t[s(492)]+e*t[s(681)],!0}}class H{static clamp(t,e,s){const n=U;return Math.min(Math[n(441)](t,e),s)}static currentTime(){return performance.now()/1e3}}class Z{constructor(){this[U(862)]=[]}[U(402)](t){const e=U;this[e(862)][e(408)](t)}[U(713)](t,e){const s=U;for(const n of this[s(862)])n.update(t,e)}[U(796)](t){const e=U;if(t>=this[e(862)][e(806)])throw new Error(e(428));return this[e(862)][t]}}const $=class{constructor(t){this[U(743)]=t}};i=U(451),r=U(829),a=U(730),o=U(732),g($,i,new $(U(451))),g($,r,new $(U(829))),g($,a,new $(U(730))),g($,o,new $("Done"));let Q=$;class K{constructor(t,e){g(this,c,function(){const t=new x;return function(){const e=ut;let s=null;this[e(638)]&&(s=t,s.copy(this.owner.matrixWorld).invert()),this.particleSystemRenderer.calculatingBoundingSphereFromBox()?(this[e(770)].computeBoundingBox(this[e(546)],s),this[e(626)][e(644)](this[e(546)])):(this.particleStates.computeBoundingSphere(this[e(565)],s),this.particleSystemRenderer[e(637)](this[e(565)]))}}());const s=U;this.owner=t,this[s(481)][s(676)]=!1,this.visible=!0,this.particleSystemRenderer=e,this[s(843)]=!1,this[s(684)]=0,this.activeParticleCount=0,this[s(623)]=!0,this[s(594)]=!1,this[s(494)]=null,this[s(597)]=new Z,this[s(655)]=[],this[s(471)]=[],this[s(770)]=null,this[s(855)]=Q[s(451)],this.particleSequences=new Y,this[s(502)]=null,this.transformInitialDirectionInWorldSpace=!0,this.boundingBox=new(S[s(480)]),this.boundingSphere=new(S[s(808)])}[U(774)](t){const e=U;if(this[e(843)])throw new Error(e(777));this[e(684)]=t,this[e(626)]?(this[e(626)][e(794)](this.owner),this[e(626)][e(774)](this[e(684)],this[e(623)]),this.particleSystemRenderer[e(510)](this[e(623)]),this[e(770)]=this[e(626)].getParticleStateArray()):(this[e(770)]=new X,this[e(770)][e(774)](this[e(684)])),this[e(604)](new L),this[e(585)](new k),this[e(843)]=!0}[U(445)](){return this.visible}[U(530)](t){return this.visible=t}[U(724)](t){this[U(502)]=t}update(t,e){const s=U;if(this[s(855)]==Q[s(829)]){if(this[s(481)][s(741)](!0),t=null==t||null==t?H.currentTime():t,e=null==e||null==e?t-this[s(752)]:e,this[s(594)]&&this[s(855)]==Q.Running){const t=this[s(494)].update(e);t>0&&this[s(725)](t),this[s(739)](e),this[s(502)]&&this[s(502)](this[s(460)]),this[s(547)]()}this[s(597)][s(713)](t,e),this[s(752)]=t}}[U(423)](t,e){const s=U;if(this[s(445)]()&&this[s(626)]){const n=t.autoClear;t[s(636)]=!1,this.owner[s(676)]=!0,this[s(481)].matrixWorldNeedsUpdate=!0,this.particleSystemRenderer[s(423)](this[s(481)],t,e),this.owner.visible=!1,t[s(636)]=n}}[U(839)](){const t=U;this[t(855)]!=Q.NotStarted&&this[t(855)]!=Q[t(730)]||(this[t(855)]=Q[t(829)],this[t(582)]=H[t(554)](),this[t(752)]=this[t(582)])}pause(){const t=U;this[t(855)]==Q.Running&&(this.systemState=Q[t(730)])}[U(608)](){}[U(859)](){return this[U(855)]}[U(473)](t){const e=U;return this[e(494)]=t,this[e(494)].maximumActiveParticles=this.maximumActiveParticles,this[e(594)]=!0,this[e(494)]}[U(402)](t){const e=U;this[e(597)][e(402)](t)}[U(796)](t){const e=U;return this.componentContainer[e(796)](t)}[U(604)](t){return this[U(655)].push(t),t}[U(853)](){const t=U;return this[t(655)][t(806)]}getParticleStateInitializer(t){const e=U;if(t>=this.particleStateInitializers.length)throw new Error(e(558));return this.particleStateInitializers[t]}[U(585)](t){const e=U;return this.particleStateOperators[e(408)](t),t}getParticleStateOperatorCount(){return this[U(471)].length}[U(791)](t){const e=U;if(t>=this.particleStateOperators.length)throw new Error(e(538));return this.particleStateOperators[t]}[U(438)](){return this[U(684)]}getActiveParticleCount(){return this[U(460)]}[U(570)](t){const e=U;if(t>=this[e(460)])throw new Error(e(485));return this[e(770)][e(539)](t)}[U(751)](){return this[U(770)]}[U(560)](){return this[U(626)]}[U(563)](){return this.simulateInWorldSpace}[U(510)](t){const e=U;this[e(623)]=t,this.particleSystemRenderer&&this[e(626)].setSimulateInWorldSpace(this[e(623)])}[U(508)](t){this.transformInitialDirectionInWorldSpace=t}[U(610)](t,e,s=0){const n=U;this[n(758)][n(866)](t,e,s)}getParticleSequences(){return this[U(758)]}getEmitter(){return this.particleEmitter}activateParticles(t){const e=U;if(this[e(855)]==Q[e(829)]){const s=H[e(728)](this[e(460)]+t,0,this[e(684)]);for(let t=this.activeParticleCount;t<s;t++)this[e(693)](t);this[e(460)]=s,this[e(770)].setActiveParticleCount(this[e(460)])}}[(c=U(547),U(693))](t){const e=U;if(this[e(855)]==Q.Running){const s=this[e(770)][e(539)](t);s[e(564)]=0;for(let t=0;t<this[e(655)][e(806)];t++){this[e(655)][t][e(515)](s)}if(this[e(623)]){s.position[e(589)](this[e(481)][e(869)]);const t=s[e(762)][e(806)]();if(this.transformInitialDirectionInWorldSpace){s[e(762)][e(653)](this[e(481)][e(869)]).multiplyScalar(t);const n=s[e(425)].length();s[e(425)][e(653)](this[e(481)][e(869)])[e(768)](n)}}this[e(770)][e(836)](t)}}[U(739)](t){const e=U;if(this[e(855)]==Q[e(829)]){let s=0;for(;s<this.activeParticleCount;){this[e(656)](s,t)?s++:(s<this[e(460)]-1&&this[e(824)](this[e(460)]-1,s),this.activeParticleCount--)}this[e(770)][e(700)](this[e(460)])}}advanceActiveParticle(t,e){const s=U;if(this[s(855)]==Q[s(829)]){const n=this[s(770)][s(539)](t);for(let t=0;t<this[s(471)][s(806)];t++){const i=this[s(471)][t][s(798)](n,e),r=n.lifetime;if(!i||0!=r&&n[s(564)]>=r)return!1}return this[s(770)][s(836)](t),!0}return!1}[U(824)](t,e){const s=U;this[s(770)][s(673)](t,e),this[s(770)][s(836)](e)}static[U(459)](t,e,s){const n=U,i=(t,e,s)=>{const n=ut;e(t);for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];typeof s===n(528)&&i(s,e)}};i(t,(t=>{const s=ut;t[s(746)]&&(t[s(746)]=e.parseTypeString(t[s(746)]))}));const r=t[n(465)],a=t[n(623)],o=t.renderer,c=o[n(746)][n(459)](o[n(788)]),h=new(S[n(501)]),l=new K(h,c,s);l.init(r),l[n(510)](a);const u=t[n(410)],p=u[n(746)][n(459)](u[n(788)]);if(l[n(473)](p),t[n(827)])for(const f of t[n(827)])l.addParticleSequence(f[n(839)],f[n(806)],f.id);if(t[n(748)])for(const f of t[n(748)])l[n(604)](f[n(746)].fromJSON(l,f.params));if(t[n(704)])for(const f of t[n(704)]){const t=l.addParticleStateOperator(f[n(746)][n(459)](l,f[n(788)]));f[n(607)]&&t[n(602)](f[n(607)])}return[l,h]}[U(527)](t){const e=U,s=this[e(560)](),n=this[e(449)](),i=this[e(680)](),r=i[e(453)]()[e(678)]((t=>{const s=e,n=i.getSequence(t);return{id:t,start:n[s(839)],length:n[s(806)]}})),a=[],o=this.getParticleStateInitializerCount();for(let l=0;l<o;l++){const s=this.getParticleStateInitializer(l);s[e(667)]!==L&&a[e(408)]({type:t[e(509)](s[e(667)]),params:s[e(527)](t)})}const c=[],h=this[e(427)]();for(let l=0;l<h;l++){const s=this[e(791)](l);if(s[e(667)]!==k){const n=s[e(527)](t),i=n[e(788)]||n,r=n[e(788)]?n[e(607)]:null,a={type:t[e(509)](s[e(667)]),params:i};r&&(a[e(607)]=r),c[e(408)](a)}}return{maxParticleCount:this[e(438)](),simulateInWorldSpace:this[e(563)](),renderer:{type:t[e(509)](s.constructor),params:s[e(527)]()},emitter:{type:t.getTypePath(n[e(667)]),params:n[e(527)]()},sequences:r,initializers:a,operators:c}}}function tt(){const t=["  \n #include <logdepthbuf_pars_vertex> \n","InstancedBufferGeometry","random","void main() { \n","lastIntensityAdjuster","rotation","FragmentVars","particleEmitter","initialColors","alphas","atlas","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","uniformOffset","geometry","Object3D","onUpdateCallback","setUsage","calculateBoundingSphereFromBox","       upperSide = upperSideStep.x + upperSideStep.y;\n","normal","updateMeshBounds","setTransformInitialDirectionInWorldSpace","getTypePath","setSimulateInWorldSpace","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","basePositions","4423125TLALzn","computeBoundingBox","initializeState","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","sub","frustumCulled","copy","normalizeDirection","speedRange","activeCount","initialAlpha","PointLight","normalize","offset","toJSON","object","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","setVisibile","       upperSide = baseUV.y; \n","speedOffset","splice","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","join","varying float vSequenceElementT; \n","min",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"getState","info","load","default","lastIntensityFlickerTime","chain","   vec2 uv2; \n","boundingBox","updateBounds","emitCount","___photonsTypeID","far","test","emissionMinimum","3981325zkcZfH","currentTime","velocities","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","timeScaledVelocity",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"now","getParticleSystemRenderer","       viewPosition = viewMatrix * particlePosition;\n","getParticleStateArray","getSimulateInWorldSpace","age","boundingSphere","distance","uniform sampler2D atlasTexture;\n","   const vec2 dRight = vec2(1.0, -1.0);\n","Sequence","getParticleState","uniformRange","Normal","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","attribute float alpha;\n","offsetZ","return (function() ","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","positions","jsonTypeNames","   gl_FragColor.a *= vFragAlpha; \n","randomGenerator","startTime","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","#include <common> \n","addParticleStateOperator","ParticleSequenceGroup::getSequence -> Invalid ID.","Color","emissionMaximum","applyMatrix4","varying float vSequenceElementT;\n","set","directionGenerator","const int MAX_ATLAS_FRAME_SETS = 16; \n","emitterInitialized","particleSystems","1736960QqPYQH","componentContainer","initialSize","   float atlasFrameWidth = atlasFrames.z; \n","offsetTheta","   int sequenceLength = int(sequenceElement.w);\n","addElementsFromParameters","   const vec2 down = vec2(0.0, -1.0);\n","addParticleStateInitializer","NormalBlending","Vector3","elements","stop","tValues","addParticleSequence","sizes","parent","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","prototype","outType","scaleX","action","sequenceElements","particlePosition","   float upperSide; \n","relativeToInitialValue","hasID","simulateInWorldSpace","       float uRightV = rotVecStep.z; \n","26191791EpmBPs","particleSystemRenderer","} \n","offsetY","    \n  #include <logdepthbuf_fragment> \n","emissionDuration","apply","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","setXYZ","dispose","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","autoClear","setBoundingSphere","transformInitialDirectionInWorldSpace","checkAndAddTypeName","toString","void main()\n","function *\\( *\\)","   float atlasFrameX = atlasFrames.x; \n","setBoundingBox","uniforms","blending","varying vec2 vUV2;\n","keys","TextureLoader","setXY","light","   }  else { \n","transformDirection","JSONTypeStore::getType() -> namespace does not exist","particleStateInitializers","advanceActiveParticle","       float dRightV = rotVecStep.w - rotVecStep.z; \n","decay","v4v","   int sequenceStart = int(sequenceElement.z);\n","framesets","positionAdjuster","ids","   vFragAlpha = alpha; \n","lifetime","   int sequenceNumber = int(sequenceElement.y);\n","constructor","getTypeID","OneMinusSrcAlphaFactor","interpolationElements","BufferGeometry","getElement","copyState","initialAlphas","offsetX","visible","Shader","map","baseUVs","getParticleSequences","rotationalSpeed","renderOrder","elementTypeID","maximumActiveParticles","timeActive","   int firstSequenceElement = int(sequenceElementF); \n","floor","varying float vFragAlpha;\n","offsetPhi","stateVelocity","getInterpolatedElement","addElement","activateParticle","alpha","initialSizes","scaleZ","interpolator","range",'ParticleStateArray::setState() -> "index" is out of range.',"setActiveParticleCount","intensity","addTypeToNamespace","needsUpdate","operators","input","stateAcceleration","Vector2","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","       rightSide = step(2.0, customIndex); \n","8mOXMye","addElementsFromElementClassAndParameters","instanceCount","update","VertexVars","rotations","88508HxSUCd","ages","JSONTypeStore::getType() -> typeName does not exist",'ContinuousArray::getTValue() -> "index" is out of bounds.',"size","uniformsNeedUpdate","shadow","getParticleCount","onUpdate","activateParticles","scaleY","gger","clamp","texture","Paused","particleCount","Done","177NcJJTp","instanced","1102863tACtJN","Additive","   float sequenceElementF = sequenceElement.x;\n","copyTo","advanceActiveParticles","cameraNear","updateWorldMatrix","getElementCount","name","initialColor","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","type","getPositions","initializers","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","accelerations","getParticleStates","lastUpdateTime","emissionRate","varying vec3 vFragColor;\n","toArray","3470328IlcgKs","rangeTheta","particleSequences","getGeometry","center","internalUpdate","velocity","attribute vec2 baseUV;\n","computeBoundingSphere","       rightSide = baseUV.x; \n","uniform vec2 uvOffset;\n","rangePhi","multiplyScalar","sequenceElement","particleStates","loadJSONParameter","bind","mapSize","init","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","setParticleCount","ParticleSystem::init() -> trying to intialize more than once.","indexOf","generateForElement","SrcAlphaFactor","DynamicDrawUsage","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","source","   float atlasFrameHeight = atlasFrames.w; \n","setAttribute","   float uvXOffset = atlasFrameWidth * rightSide; \n","frameSets","params","   \n  #include <logdepthbuf_vertex> \n",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"getParticleStateOperator","   if (instanced != 1) { \n","getType","setOwner","setIntensity","getComponent","stateObject","updateState","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","customIndex","getSizes","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","setParticleSequences","remove","attribute vec4 sequenceElement;\n","length","startupTime","Sphere","   const vec2 uRight = vec2(1.0, 1.0);\n","       rotVec = position.xy; \n ","attribute float rotation;\n","__proto__","getVertexShader","JSONTypeStore::addTypeToNamespace() -> typeName already exists","attribute vec4 particlePosition;\n","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","outTypeID","   const vec2 dLeft = vec2(-1.0, -1.0);\n","progressType","getSequence","   vFragColor = color; \n","console","getColors","copyParticleInArray","getTexture",'ParticleStateArray::getState() -> "index" is out of range.',"sequences","element","Running","   int nRowYTile = int(SNOverHS);\n","interpolateAtlasFrames","rotationalSpeeds","getInterpolatedValue","#include <common>","loop","flushParticleStateToBuffers","tempUp","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","start","  \n #include <logdepthbuf_pars_fragment> \n","allocate","Mesh","initialized","createMaterial","getInterpolationValuesForTValue","counter","   const vec2 left = vec2(-1.0, 0.0);\n","customIndexes","generator",'Atlas::getFrameSet -> "index" is out of range.',"camera",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"getParticleStateInitializerCount","AdditiveBlending","systemState","error","speedGenerator","add","getSystemState","BufferAttribute","attribute vec3 color;\n","components","addElements","while (true) {}","getParameterJSON","addSequence","getFrameSetCount","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","matrixWorld","   const vec2 up = vec2(0.0, 1.0);\n","lifetimes","castShadow","lastPositionAdjuster","addComponent","speed","data","getRotations","addType","height","push","particleStateArray","emitter","   } \n","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","call","upperIndex","sin","ShaderMaterial","generate","localT","typeIDGen","   float uvYOffset = atlasFrameHeight * upperSide; \n","jsonTypes","   vec4 color2 = color1; \n","render","timeScaledAcceleration","acceleration","substr","getParticleStateOperatorCount",'ComponentContainer::getComponent() -> "index" is out of range.',"addFrameSet","getTexturePath","getSequenceElements","emissionRelativeStartTime","lastPositionFlickerTime","setDrawRange","position","Vector4","fromArray","getMaximumActiveParticles","normals","updateEmitCount","max","intensityFlux","material","setAll","getVisible","clone","offsetRadius","   const vec2 right = vec2(1.0, 0.0);\n","getEmitter","radius","NotStarted","nextIntensityAdjuster","getSequenceIDs","   vec2 uv1; \n","reverse","setX","width","texturePath","fromJSON","activeParticleCount","interpolateFrames","rangeRadius","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n",'ContinuousArray::getElement() -> "index" is out of bounds.',"maxParticleCount","getFrameSet","mesh","hasOwnProperty","Time","verticesPerParticle","particleStateOperators","color","setEmitter",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"colors","attribute vec2 size;\n","bias","getTypeNames","tValue","Box3","owner","namespace","lowerIndex","cos",'ParticleSystem::getParticleState() -> "index" is out of range.',"Default"];return(tt=function(){return t})()}class et{constructor(){const t=U;this.particleSystems=[],this[t(807)]=performance[t(559)]()/1e3,this[t(752)]=this[t(807)],this.componentContainer=new Z}update(){const t=U,e=H.currentTime(),s=e-this.lastUpdateTime;for(const n of this[t(595)])n[t(713)](e,s);this[t(597)][t(713)](e,s),this[t(752)]=e}render(t,e){const s=U;for(const n of this[s(595)])n.render(t,e)}addParticleSystem(t){this[U(595)].push(t)}[U(402)](t){const e=U;this.componentContainer[e(402)](t)}[U(796)](t){const e=U;return this[e(597)][e(796)](t)}}class st{constructor(){const t=U;this[t(843)]=!1,this[t(731)]=0,this[t(481)]=null,this[t(623)]=!1}[U(510)](t){this[U(623)]=t}getParticleStateArray(){}[U(794)](t){this[U(481)]=t}init(t){const e=U;if(this[e(731)]=t,!this.initialized)return this[e(843)]=!0,!0;throw new Error("Renderer::init() -> trying to intialize more than once.")}[U(423)](){}}class nt extends X{constructor(){const t=U;super(),this[t(500)]=null,this.progressTypes=null,this[t(871)]=null,this[t(717)]=null,this[t(618)]=null,this[t(578)]=null,this[t(555)]=null,this[t(750)]=null,this[t(439)]=null,this[t(715)]=null,this.rotationalSpeeds=null,this[t(611)]=null,this[t(475)]=null,this[t(695)]=null,this[t(495)]=null,this[t(734)]=!1,this[t(470)]=6}[U(774)](t,e=!1){const s=U;this[s(734)]=e,this.instanced?this[s(470)]=1:this[s(470)]=6,super.init(t),this[s(841)](t)}[U(776)](t){super[U(776)](t)}[U(700)](t){const e=U;super[e(700)](t),t>0?this[e(734)]?this[e(500)].instanceCount=t:this[e(500)].setDrawRange(0,this.verticesPerParticle*t):this.instanced?this[e(500)][e(712)]=0:this[e(500)][e(434)](0,0)}flushParticleStateToBuffers(t){const e=U;if(t>=this[e(731)])throw new Error(e(474));const s=this.getState(t),n=t*this[e(470)];for(let i=0;i<this[e(470)];i++)this[e(871)][e(456)](n+i,s[e(665)]),this[e(871)].needsUpdate=!0,this[e(717)].setX(n+i,s[e(564)]),this[e(717)][e(703)]=!0,this[e(618)].setXYZW(n+i,s[e(769)].x,s[e(769)].y,s[e(769)].z,s.sequenceElement.w),this.sequenceElements.needsUpdate=!0,this[e(578)][e(633)](n+i,s[e(435)].x,s[e(435)].y,s[e(435)].z),this[e(578)][e(703)]=!0,this[e(555)][e(633)](n+i,s.velocity.x,s[e(762)].y,s[e(762)].z),this.velocities[e(703)]=!0,this.accelerations.setXYZ(n+i,s.acceleration.x,s.acceleration.y,s[e(425)].z),this[e(750)][e(703)]=!0,this[e(439)][e(633)](n+i,s.normal.x,s[e(506)].y,s[e(506)].z),this[e(439)].needsUpdate=!0,this[e(715)][e(456)](n+i,s[e(492)]),this[e(715)][e(703)]=!0,this.rotationalSpeeds[e(456)](n+i,s[e(681)]),this[e(832)][e(703)]=!0,this[e(611)][e(650)](n+i,s.size.x,s[e(720)].y),this[e(611)][e(703)]=!0,this[e(475)][e(633)](n+i,s[e(472)].r,s[e(472)].g,s.color.b),this[e(475)][e(703)]=!0,this[e(496)][e(456)](n+i,s[e(694)]),this[e(496)][e(703)]=!0,this[e(695)].setXY(n+i,s[e(598)].x,s[e(598)].y),this[e(695)].needsUpdate=!0,this[e(674)][e(456)](n+i,s[e(523)]),this[e(674)][e(703)]=!0}[U(673)](t,e){const s=U;super[s(673)](t,e),this[s(836)](e)}setState(t,e){const s=U;if(t>=this[s(731)])throw new Error('ParticleStateAttributeArray::setState() -> "index" is out of range.');super.setState(t,e),this[s(836)](t)}[U(747)](){return this[U(578)]}[U(801)](){return this.sizes}[U(405)](){return this[U(715)]}[U(431)](){return this[U(618)]}[U(823)](){return this[U(475)]}[U(759)](){return this[U(500)]}[U(841)](t){const e=U;super.allocate(t);const s=(t,e)=>{const s=ut;return this[s(734)]?new F(t,e):new(S[s(860)])(t,e)},n=this[e(470)]*this[e(731)];if(this[e(734)]){const t=new(S[e(671)]),s=new Float32Array(18);this[e(512)]=new(S[e(860)])(s,3),t[e(785)](e(435),this[e(512)]),this[e(512)][e(703)]=!0,this[e(512)][e(633)](0,-1,1,0),this[e(512)][e(633)](1,-1,-1,0),this.basePositions[e(633)](2,1,1,0),this.basePositions[e(633)](3,-1,-1,0),this[e(512)][e(633)](4,1,-1,0),this[e(512)][e(633)](5,1,1,0);const n=new Float32Array(12);this[e(679)]=new(S[e(860)])(n,2),t[e(785)]("baseUV",this.baseUVs),this[e(679)][e(703)]=!0,this[e(679)][e(650)](0,0,1),this[e(679)][e(650)](1,0,0),this[e(679)][e(650)](2,1,1),this.baseUVs[e(650)](3,0,0),this[e(679)][e(650)](4,1,0),this.baseUVs[e(650)](5,1,1);const i=new Float32Array(6);this[e(848)]=new I(i,1),t[e(785)](e(800),this[e(848)]),this[e(848)][e(703)]=!0,this[e(848)][e(456)](0,0),this[e(848)][e(456)](1,1),this[e(848)].setX(2,3),this[e(848)][e(456)](3,1),this[e(848)][e(456)](4,2),this.customIndexes[e(456)](5,3),this[e(500)]=(new(S[e(488)]))[e(519)](t),this.geometry[e(712)]=0}else{this[e(500)]=new(S[e(671)]);const t=new Float32Array(n);this[e(848)]=new(S[e(860)])(t,1),this.geometry.setAttribute(e(800),this[e(848)]),this[e(848)][e(703)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this.verticesPerParticle;this[e(848)][e(456)](t,0),this[e(848)][e(456)](t+1,1),this[e(848)].setX(t+2,3),this[e(848)][e(456)](t+3,1),this[e(848)][e(456)](t+4,2),this.customIndexes[e(456)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),f=new Float32Array(2*n),m=new Float32Array(3*n),d=new Float32Array(n),g=new Float32Array(2*n),w=new Float32Array(3*n),y=new Float32Array(n);this[e(578)]=s(o,3),this[e(578)][e(503)](S[e(781)]),this.geometry.setAttribute(e(619),this[e(578)]),this[e(871)]=s(i,1),this[e(871)][e(503)](S[e(781)]),this[e(500)][e(785)](e(665),this.lifetimes),this[e(717)]=s(r,1),this[e(717)][e(503)](P),this[e(500)][e(785)]("age",this[e(717)]),this[e(618)]=s(a,4),this[e(618)].setUsage(S[e(781)]),this[e(500)][e(785)]("sequenceElement",this[e(618)]),this.velocities=s(c,3),this[e(555)][e(503)](S[e(781)]),this.geometry[e(785)](e(762),this[e(555)]),this[e(750)]=s(h,3),this[e(750)][e(503)](S[e(781)]),this[e(500)].setAttribute(e(425),this[e(750)]),this[e(439)]=s(l,3),this[e(439)][e(503)](S[e(781)]),this[e(500)][e(785)](e(506),this[e(439)]),this[e(715)]=s(u,1),this[e(715)].setUsage(S[e(781)]),this[e(500)].setAttribute(e(492),this.rotations),this[e(832)]=s(p,1),this.rotationalSpeeds[e(503)](S[e(781)]),this[e(500)][e(785)](e(681),this.rotationalSpeeds),this[e(611)]=s(f,2),this[e(611)][e(503)](S[e(781)]),this.geometry[e(785)](e(720),this[e(611)]),this[e(475)]=s(m,3),this[e(475)][e(503)](S[e(781)]),this[e(500)][e(785)](e(472),this[e(475)]),this[e(496)]=s(d,1),this[e(496)][e(503)](S[e(781)]),this.geometry.setAttribute(e(694),this[e(496)]),this[e(695)]=s(g,2),this.initialSizes[e(503)](S[e(781)]),this[e(500)].setAttribute("initialSize",this[e(695)]),this[e(495)]=s(w,3),this.initialColors.setUsage(S[e(781)]),this[e(500)][e(785)](e(744),this[e(495)]),this.initialAlphas=s(y,1),this[e(674)].setUsage(P),this.geometry[e(785)](e(523),this[e(674)])}[U(634)](){const t=U;super.dispose(),this.geometry&&(this[t(500)][t(634)](),this[t(500)]=null)}}class it{constructor(t,e,s,n,i){const r=U;this.length=t,this.x=e,this.y=s,this.width=n,this[r(407)]=i}}class rt{constructor(t,e){const s=U;this[s(729)]=t,this[s(458)]=e,this[s(787)]=[]}getTexture(){return this[U(729)]}[U(430)](){return this[U(458)]}[U(867)](){const t=U;return this.frameSets[t(806)]}addFrameSet(t,e,s,n,i){this.frameSets.push(new it(t,e,s,n,i))}[U(466)](t){const e=U;if(t>=this[e(787)][e(806)])throw new Error(e(850));return this[e(787)][t]}}const at=class t extends st{constructor(t,e,s=!1,n=S[U(605)],i=!0,r){const a=U;super(),g(this,h,function(){const t=U,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[ut(631)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=ut;let s;try{s=Function(t(576)+'{}.constructor("return this")( ));')()}catch(r){s=window}const n=s[t(822)]=s[t(822)]||{},i=["log","warn",t(540),t(856),"exception","table","trace"];for(let a=0;a<i.length;a++){const s=e.constructor[t(614)][t(772)](e),r=i[a],o=n[r]||s;s[t(812)]=e.bind(e),s[t(640)]=o[t(640)][t(772)](o),n[r]=s}}))();const s=new(S[t(606)]);return function(){const e=t,n=this.particleStateArray[e(759)]();if(this[e(504)]){n.boundingBox||(n[e(546)]=new(S[e(480)])),n[e(546)].copy(this[e(546)]),!n.boundingSphere&&(n.boundingSphere=new(S[e(808)])),s.x=(this.boundingBox[e(537)].x+this[e(546)][e(441)].x)/2,s.y=(this[e(546)][e(537)].y+this[e(546)][e(441)].y)/2,s.z=(this.boundingBox.min.z+this.boundingBox.max.z)/2;const t=this.boundingBox[e(441)].x-s.x,i=this.boundingBox[e(441)].y-s.y,r=this[e(546)].max.z-s.z,a=Math.max(Math.max(t,i),r);n[e(565)][e(760)][e(519)](s),n[e(565)].radius=Math.sqrt(2*a*a)}else n[e(565)]||(n.boundingSphere=new(S[e(808)])),n[e(565)][e(519)](this.boundingSphere)}}()),this.instanced=t,this.particleStateArray=null,this[a(443)]=null,this[a(467)]=null,this.atlas=e,this[a(831)]=s,this[a(646)]=n,this.boundingBox=new(S[a(480)]),this[a(565)]=new A,this.calculateBoundingSphereFromBox=i,this[a(682)]=r}[U(794)](t){super[U(794)](t)}[U(562)](){return this.particleStateArray}setSimulateInWorldSpace(t){const e=U;super[e(510)](t),this[e(443)]&&(this[e(443)][e(645)][e(623)].value=t?1:0,this[e(443)][e(721)]=!0)}calculatingBoundingSphereFromBox(){return this[U(504)]}[U(644)](t){const e=U;this[e(546)][e(519)](t),this[e(467)]&&this[e(507)]()}[U(637)](t){const e=U;this.boundingSphere.copy(t),this[e(467)]&&this[e(507)]()}[U(423)](t,e,s){e.render(t,s)}[(h=U(507),U(774))](t){const e=U;super[e(774)](t)&&(this.particleStateArray=new nt,this.particleStateArray[e(774)](t,this[e(734)]),this[e(443)]=this[e(844)](null,null,null,!0,!1),this.material[e(646)]=this[e(646)],this[e(467)]=new(S[e(842)])(this[e(409)][e(759)](),this[e(443)]),this.mesh[e(518)]=!0,void 0!==this[e(682)]&&(this[e(467)][e(682)]=this.renderOrder),this[e(507)](),this[e(481)][e(858)](this[e(467)]))}[U(634)](){const t=U;this[t(409)][t(634)]()}[U(844)](e,s,n,i,r){const a=U,o=[...Array(16)[a(648)]()][a(678)]((t=>new(S[a(436)])));if(this[a(497)])for(let t=0;t<this[a(497)][a(867)]();t++){const e=this.atlas[a(466)](t);o[t]=new T(e.x,e.y,e[a(457)],e.height)}const c=this.atlas?this[a(497)][a(825)]():null,h=this.interpolateAtlasFrames,l=this.simulateInWorldSpace,u=this[a(734)]?1:0,p={atlasFrameSet:{type:a(659),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(S[a(707)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object.assign(n,p),e=e||t[a(677)][a(813)](r),s=s||t.Shader.getFragmentShader(i,r),new(S[a(416)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:S[a(605)],blendDstAlpha:S[a(669)],blendSrcAlpha:S[a(780)],depthTest:!0,depthWrite:!1})}static[(l=U(677),U(459))](e){const s=U,n=e[s(497)],i=(new(S[s(649)]))[s(541)](n.texturePath),r=new rt(i,n[s(458)]),a=n[s(661)];for(const t of a)r[s(429)](t[s(806)],t.x,t.y,t[s(457)],t[s(407)]);const o=new t(e[s(734)],r,n[s(461)]);return e[s(646)]==s(736)?o[s(646)]=S[s(854)]:o[s(646)]=S[s(605)],o}[U(527)](t){const e=U;t=t||(t=>{const e=ut;if(t[e(458)])return t.texturePath;const s=t.getTexture()[e(783)];if(s){const t=s[e(404)];if(t){const s=t.baseURI,n=t.currentSrc;return n[e(778)](s)>=0?n[e(426)](s[e(806)],n.length-s[e(806)]):n}}});const s=[];for(let i=0;i<this.atlas[e(867)]();i++){const t=this[e(497)][e(466)](i);s[e(408)](t)}let n=e(572);this[e(443)][e(646)]===S[e(854)]&&(n=e(736));return{instanced:this[e(734)],blending:n,atlas:{interpolateFrames:this[e(831)],texturePath:t(this[e(497)]),framesets:s}}}};g(at,l,{get VertexVars(){const t=U;return[t(593),t(556),"uniform int interpolateAtlasFrames; \n","uniform int simulateInWorldSpace; \n","uniform int instanced; \n",t(763),"attribute float customIndex;\n",t(815),t(811),t(476),t(805),t(861),t(574),"varying vec2 vUV1;\n","varying vec2 vUV2;\n",t(754),t(688),t(536)].join("\n")},get FragmentVars(){const t=U;return["uniform int interpolateAtlasFrames; \n",t(567),t(766),"varying vec2 vUV1;\n",t(647),t(754),t(688),t(590)][t(535)]("\n")},getVertexShader(t){const e=U;let s=[e(834),this[e(714)]][e(535)]("\n");return t&&(s+=e(487)),s+=[e(534),e(599),"   float atlasFrameHeight = atlasFrames.w; \n",e(643),"   float atlasFrameY = atlasFrames.y; \n",e(632),e(577),e(635),"   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n",e(583),e(498),e(830),"   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n",e(775),e(708),"   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n",e(802),e(627),e(641),"{\n",e(448),e(870),e(847),e(603),e(809),"   const vec2 uLeft = vec2(-1.0, 1.0);\n",e(818),e(568),"   vec4 viewPosition; \n","   if (simulateInWorldSpace == 1) { \n",e(561),"   } else { \n",e(412),e(411),e(737),e(666),e(660),e(601),e(613),e(454),e(545),e(799),e(686),"   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n",e(745),e(838),e(782),e(411),e(599),e(784),"   float rotMag = rotation; \n",e(516),"   float rightSide; \n",e(620),e(792),e(709),"       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n",e(505),"   }  else { \n",e(765),e(531),e(411),e(786),e(420),"   vec2 rotVec; \n",e(792),e(816),"       float uLeftV = rotVecStep.x; \n",e(868),e(624),e(657),e(463),e(652),e(810),e(411),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n",e(749),"   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",e(821),e(664)][e(535)]("\n"),t&&(s+=e(789)),s+="} \n",s},getFragmentShader(t,e){const s=U;let n=s(584)+this[s(493)]+"\n";return e&&(n+=s(840)),n+=s(490),e&&(n+=s(629)),n+=t?["   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vec4 color2 = color1; \n",s(529),s(573),s(580)][s(535)]("\n"):["   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n",s(422),s(529),s(573),s(580)].join("\n"),n+="}\n",n}});let ot=at;class ct{constructor(){const t=U;this[t(432)]=0,this[t(630)]=0,this[t(548)]=0,this[t(564)]=0,this[t(685)]=0,this[t(522)]=0,this[t(684)]=0}[U(713)](t){return this[U(761)](t),0}internalUpdate(t){const e=U;return this.age+=t,this[e(685)]=Math[e(441)](this.age-this.emissionRelativeStartTime,0),this[e(564)]>=this[e(432)]&&(0==this[e(630)]||this[e(685)]<=emissionDuration)}[U(440)](t){this.emitCount+=t}}class ht extends ct{constructor(){const t=U;super(),this[t(552)]=0,this[t(588)]=0}}class lt extends ht{constructor(t=0){const e=U;super(),this[e(753)]=t}[U(713)](t){const e=U;if(this[e(761)](t)){const t=this[e(753)]*this.timeActive-this.emitCount;if(t>=1){const s=Math.floor(t);return this[e(440)](s),s}}return 0}static[U(459)](t){const e=U,s=new lt;return s.emissionRate=t[e(753)]||0,s}toJSON(){return{emissionRate:this[U(753)]}}}function ut(t,e){const s=tt();return(ut=function(t,e){return s[t-=402]})(t,e)}const pt=class t{constructor(t){this[U(743)]=t}static[(u=U(486),p=U(606),f=U(436),m=U(587),U(668))](e){const s=U;let n=t.Default;return e===S[s(707)]?n=t[s(707)]:e===S[s(606)]?n=t[s(606)]:e===T?n=t[s(436)]:e===S[s(587)]&&(n=t[s(587)]),n}static[U(771)](t,e){const s=U;switch(e){case S[s(707)]:return(new y)[s(437)](t);case S[s(606)]:return(new(S[s(606)]))[s(437)](t);case S[s(436)]:return(new(S[s(436)])).fromArray(t);case S[s(587)]:return(new(S[s(587)])).fromArray(t)}return t}};g(pt,u,new pt("Default")),g(pt,"Vector2",new pt(U(707))),g(pt,p,new pt(U(606))),g(pt,f,new pt(U(436))),g(pt,m,new pt(U(587)));let ft=pt;class mt{constructor(t){const e=U;this[e(615)]=t,this[e(817)]=ft.getTypeID(t)}}class dt extends mt{constructor(t,e,s,n,i,r){const a=U;super(t),this[a(698)]=e,this[a(526)]=s,this.uniformRange=n,this[a(499)]=i,this[a(525)]=r}generate(t){const e=U,s=Math.random()*this[e(571)];switch(this[e(817)]){case ft.Default:t=Math.random()*this[e(698)]+this[e(526)],this[e(525)]&&(t=t<0?-1:1);break;case ft.Vector2:t[e(591)](this.generateForElement(s,"x"),this[e(779)](s,"y"));break;case ft[e(606)]:t[e(591)](this[e(779)](s,"x"),this[e(779)](s,"y"),this.generateForElement(s,"z"));break;case ft[e(436)]:t[e(591)](this[e(779)](s,"x"),this[e(779)](s,"y"),this[e(779)](s,"z"),this[e(779)](s,"w"))}return this.normalize&&t[e(525)](),t}[U(779)](t,e){const s=U;return t+Math.random()*this.range[e]+this[s(526)][e]+this[s(499)]}[U(446)](){const t=U;return new dt(this.outType,this[t(698)],this[t(526)],this[t(571)],this[t(499)],this[t(525)])}static getParameterJSON(t){const e=U;return t instanceof S[e(707)]||t instanceof v||t instanceof T||t instanceof S[e(587)]?t.toArray():t}static[U(459)](t){const e=U;return new dt(t[e(746)],ft[e(771)](t[e(698)],t[e(746)]),ft[e(771)](t.offset,t[e(746)]),t.uniformRange||0,t[e(499)]||0,t[e(525)])}[U(527)](t){const e=U,s={range:dt[e(865)](this[e(698)]),offset:dt[e(865)](this.offset),uniformRange:this.uniformRange,uniformOffset:this[e(499)]},n=t[e(509)](this[e(698)].constructor);return null!=n&&(s[e(746)]=n),{type:t.getTypePath(dt),params:s}}}class gt extends J{constructor(t,e,s,n,i){const r=U;super(),this[r(698)]=t,this.offset=e,this[r(571)]=s,this.uniformOffset=n,this[r(525)]=i,this[r(849)]=new dt(0,this[r(698)],this[r(526)],this[r(571)],this[r(499)],this[r(525)])}[U(515)](t){const e=U;t[e(665)]=this[e(849)][e(417)]()}static[U(459)](t,e){const s=U;return new gt(e[s(698)],e[s(526)],e[s(571)],e[s(499)],e[s(525)])}[U(527)](){const t=U;return{range:this.range,offset:this[t(526)],uniformRange:this.uniformRange,uniformOffset:this[t(499)],normalize:this[t(525)]}}}class wt extends J{constructor(t){const e=U;super(),this[e(849)]=t[e(446)]()}[U(515)](t){const e=U;t.rotation=this[e(849)][e(417)](t[e(492)])}static[U(459)](t,e){const s=U,n=e[s(849)][s(746)].fromJSON(e[s(849)][s(788)]);return new wt(n)}[U(527)](t){const e=U;return{generator:this.generator[e(527)](t)}}}class St extends J{constructor(t,e,s,n,i){const r=U;super(),this.range=t,this[r(526)]=e,this.uniformRange=s,this[r(499)]=n,this[r(525)]=i,this.generator=new dt(0,this[r(698)],this[r(526)],this[r(571)],this[r(499)],this[r(525)])}[U(515)](t){const e=U;t[e(681)]=this[e(849)].generate()}static[U(459)](t,e){const s=U;return new St(e[s(698)],e[s(526)],e.uniformRange,e.uniformOffset,e[s(525)])}toJSON(){const t=U;return{range:this[t(698)],offset:this[t(526)],uniformRange:this[t(571)],uniformOffset:this[t(499)],normalize:this.normalize}}}class yt extends J{constructor(t,e){super(),this.randomGenerator=new dt(v,t,e,0,0,!1)}[U(515)](t){const e=U;this.randomGenerator[e(417)](t[e(435)])}static[U(459)](t,e){const s=U;return new yt((new(S[s(606)]))[s(437)](e[s(698)]),(new v).fromArray(e[s(526)]))}[U(527)](){const t=U;return{range:this[t(581)][t(698)][t(755)](),offset:this[t(581)].offset.toArray()}}}class vt extends J{constructor(t){const e=U;super(),this[e(849)]=t[e(446)]()}[U(515)](t){const e=U;this[e(849)].generate(t.size),t.initialSize[e(519)](t.size)}static fromJSON(t,e){const s=U,n=e[s(849)].type.fromJSON(e[s(849)][s(788)]);return new vt(n)}[U(527)](t){const e=U;return{generator:this.generator[e(527)](t)}}}class xt extends J{constructor(t,e,s,n,i=!0){const r=U;super(),this.directionGenerator=new dt(v,t,e,0,0,!0),this[r(857)]=new dt(0,s,n,0,0,!1),this[r(520)]=i}[U(515)](t){const e=U;this[e(592)][e(417)](t.velocity),this[e(520)]&&t[e(762)][e(525)](),t[e(762)][e(768)](this[e(857)][e(417)]())}static[U(459)](t,e){const s=U;return new xt((new v)[s(437)](e[s(698)]),(new(S[s(606)])).fromArray(e.offset),e[s(521)],e[s(532)])}[U(527)](){const t=U;return{range:this[t(592)].range[t(755)](),offset:this[t(592)][t(526)][t(755)](),speedRange:this.speedGenerator[t(698)],speedOffset:this[t(857)][t(526)]}}}class It extends J{constructor(t,e=!1){const s=U;super(),this[s(803)](t),this[s(455)]=e}[U(803)](t){this[U(758)]=t}[U(515)](t){const e=U,s=this[e(758)][e(453)](),n=s.length*Math[e(489)](),i=s[Math[e(687)](n)],r=this.particleSequences[e(820)](i),a=t.sequenceElement;this.reverse?a.x=r[e(806)]-1:a.x=r[e(839)],a.y=r.id,a.z=r[e(839)],a.w=r[e(806)],t[e(819)]=D[e(569)]}static[U(459)](t,e){const s=U;return new It(t[s(680)](),e[s(455)])}[U(527)](){return{reverse:this[U(455)]}}}class Pt extends G{constructor(t,e,s=!1,n=!1){const i=U;super(),this[i(758)]=t,this.speed=e,this[i(835)]=s,this[i(455)]=n}updateState(t,e){const s=U,n=t[s(769)],i=this[s(758)][s(820)](n.y),r=e/this[s(403)];if(this[s(455)]){if(n.x-=r,n.x<i[s(839)]&&(n.x=i[s(839)]+i[s(806)],!this[s(835)]))return!1}else if(n.x+=r,n.x>=i[s(839)]+i.length&&(n.x=i[s(839)],!this.loop))return!1;return!0}static[U(459)](t,e){const s=U;return new Pt(t[s(680)](),e.speed,e[s(835)],e.reverse)}toJSON(){const t=U;return{speed:this[t(403)],loop:this[t(835)],reverse:this[t(455)]}}}class At{constructor(t,e){g(this,"getInterpolatorForTypeID",function(){const t=U,e={lowerIndex:0,upperIndex:0,localT:0},s=new y,n=new(S[t(606)]),i=new(S[t(436)]),r=new(S[t(587)]),a=s=>(n,i,r,a)=>{const o=t;At[o(845)](r,n,e),s.copy(i[e[o(414)]])[o(768)](e[o(418)]),a[o(519)](i[e[o(483)]])[o(768)](1-e[o(418)])[o(858)](s)};return function(o){const c=t;switch(o){case ft[c(486)]:return(t,s,n)=>{const i=c;return At[i(845)](n,t,e),(1-e[i(418)])*s[e[i(483)]]+e.localT*s[e.upperIndex]};case ft[c(707)]:return a(s);case ft.Vector3:return a(n);case ft[c(436)]:return a(i);case ft[c(587)]:return a(r)}}}());const s=U;this[s(607)]=[],this[s(609)]=[],this.elementTypeID=ft[s(668)](t),this[s(697)]=e||this.getInterpolatorForTypeID(this[s(683)])}*[Symbol.iterator](){const t=U;let e=0;for(;e<this[t(742)]();)yield{element:this[t(607)][e],tValue:this[t(609)][e]},e++}getElementCount(){const t=U;return this[t(607)][t(806)]}[U(672)](t){const e=U;if(t>=this[e(742)]())throw new Error(e(464));return this[e(607)][t]}getTValue(t){const e=U;if(t>=this.getElementCount())throw new Error(e(719));return this[e(609)][t]}[U(692)](t,e){const s=U;this.elements[s(408)](t),this[s(609)][s(408)](e)}getInterpolatedElement(t,e){const s=U;return this[s(697)](t,this[s(607)],this[s(609)],e)}static getInterpolationValuesForTValue(t,e,s){const n=U,i=t[n(806)];if(0===i)return s.lowerIndex=-1,s.upperIndex=-1,void(s[n(418)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(483)]=H[n(728)](a,0,i-1),s[n(414)]=H.clamp(o,0,i-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}class Tt extends G{constructor(t,e=!1){const s=U;super(),this[s(621)]=e,this.interpolationElements=new At(t)}[U(692)](t,e){const s=U;this.interpolationElements[s(692)](t,e)}addElements(t){const e=U;for(const s of t)this.interpolationElements[e(692)](s[0],s[1])}[U(711)](t,e){const s=U;for(const n of e){const[...e]=n[0];this[s(670)][s(692)](new t(...e),n[1])}}[U(833)](t,e){const s=U;let n=0;switch(t.progressType){case D.Time:n=0!=t[s(665)]?t[s(564)]/t[s(665)]:t[s(564)];break;case D.Sequence:n=t[s(769)].x/t[s(769)].w}return this[s(670)][s(691)](n,e)}}class bt extends Tt{constructor(t=!1){super(0,t)}[U(602)](t){super[U(863)](t)}updateState(t){const e=U;return this[e(621)]?t.alpha=t[e(523)]*this[e(833)](t,t[e(694)]):t.alpha=this.getInterpolatedValue(t,t[e(694)]),!0}static[U(459)](t,e){return new bt(e.relativeToInitialValue)}toJSON(){const t=U;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(670)]][t(678)]((e=>[e[t(828)],e[t(479)]]))}}}class Ft extends Tt{constructor(t=!1){super(S[U(707)],t),g(this,"updateState",function(){const t=U,e=new(S[t(707)]);return function(s){const n=t;return this.getInterpolatedValue(s,e),this[n(621)]?s[n(720)][n(591)](s[n(598)].x*e.x,s[n(598)].y*e.y):s[n(720)][n(519)](e),!0}}())}[U(602)](t){const e=U;super.addElementsFromElementClassAndParameters(S[e(707)],t)}static fromJSON(t,e){return new Ft(e[U(621)])}[U(527)](){const t=U;return{params:{relativeToInitialValue:this[t(621)]},elements:[...this.interpolationElements][t(678)]((e=>[e.element[t(755)](),e[t(479)]]))}}}class Et extends Tt{constructor(t=!1){super(S[U(587)],t),g(this,"updateState",function(){const t=U,e=new(S[t(587)]);return function(s){const n=t;return this[n(833)](s,e),this.relativeToInitialValue?s[n(472)].setRGB(s[n(744)].r*e.r,s[n(744)].g*e.g,s[n(744)].b*e.b):s.color[n(519)](e),!0}}())}[U(602)](t){const e=U;super[e(711)](S[e(587)],t)}static[U(459)](t,e){return new Et(e[U(621)])}[U(527)](){const t=U;return{params:{relativeToInitialValue:this[t(621)]},elements:[...this[t(670)]][t(678)]((e=>[e[t(828)][t(755)](),e.tValue]))}}}class zt extends G{constructor(t){const e=U;super(),this[e(849)]=t[e(446)]()}[U(602)](t){const e=U;super[e(711)](THREE[e(606)],t)}[U(798)](t){const e=U;return this[e(849)][e(417)](t[e(425)]),!0}static[U(459)](t,e){const s=U,n=e.generator[s(746)][s(459)](e[s(849)][s(788)]);return new zt(n)}[U(527)](t){const e=U;return{generator:this.generator[e(527)](t)}}}class Rt extends mt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=U;super(S[p(606)]),this[p(757)]=t,this.offsetTheta=e,this[p(767)]=s,this.offsetPhi=n,this[p(462)]=i,this.offsetRadius=r,this.scaleX=a,this[p(726)]=o,this[p(696)]=c,this[p(675)]=h,this[p(628)]=l,this[p(575)]=u,this[p(837)]=(new v)[p(591)](0,1,0)}[U(417)](t){const e=U;this[e(837)].set(0,1,0);const s=Math[e(489)]()*this[e(757)]+this[e(600)],n=Math[e(489)]()*this.rangePhi+this.offsetPhi,i=Math[e(484)](s),r=Math.sin(s),a=Math[e(484)](n),o=Math[e(415)](n);t[e(591)](i,0,-r),t.multiplyScalar(a),this[e(837)].multiplyScalar(o),t[e(858)](this.tempUp),t[e(525)]();const c=Math[e(489)]()*this[e(462)]+this.offsetRadius;t[e(768)](c),t.x*=this[e(616)],t.y*=this.scaleY,t.z*=this[e(696)],t.x+=this[e(675)],t.y+=this[e(628)],t.z+=this.offsetZ}clone(){const t=U;return new Rt(this.rangeTheta,this[t(600)],this[t(767)],this[t(689)],this[t(462)],this[t(447)],this.scaleX,this[t(726)],this[t(696)],this[t(675)],this[t(628)],this[t(575)])}static[U(459)](t){const e=U;return new Rt(t[e(757)],t.offsetTheta,t[e(767)],t[e(689)],t[e(462)],t.offsetRadius,t[e(616)],t[e(726)],t.scaleZ,t.offsetX,t[e(628)],t[e(575)])}toJSON(t){const e=U;return{type:t.getTypePath(Rt),params:{rangeTheta:this[e(757)],offsetTheta:this.offsetTheta,rangePhi:this.rangePhi,offsetPhi:this[e(689)],rangeRadius:this[e(462)],offsetRadius:this[e(447)],scaleX:this[e(616)],scaleY:this[e(726)],scaleZ:this[e(696)],offsetX:this[e(675)],offsetY:this[e(628)],offsetZ:this[e(575)]}}}}class Ot{constructor(){}}class Vt extends Ot{constructor(t,e,s,n,i,r,a=void 0){const o=U;super(),this[o(481)]=null,this[o(651)]=null,this[o(752)]=performance.now()/1e3,this[o(543)]=this[o(752)],this[o(433)]=this[o(752)],this[o(491)]=1,this[o(452)]=1,this[o(873)]=new v,this[o(662)]=new v,this[o(701)]=1,this[o(442)]=2,this[o(612)]=t,this[o(774)](t,e,s,n,i,r,a)}[U(774)](t,e,s,n,i,r,a=void 0){const o=U;this[o(481)]=new b,t.add(this[o(481)]),n=n||new(S[o(587)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(651)]=new(S[o(524)])(16777215,2,0,1),this.light[o(472)][o(519)](n),this[o(651)][o(566)]=i,this[o(651)][o(658)]=r,this[o(651)][o(872)]=c,c&&(this[o(651)][o(722)][o(773)][o(457)]=a[o(773)]||512,this[o(651)][o(722)][o(773)].height=a[o(773)]||512,this.light[o(722)][o(851)].near=a[o(740)]||.5,this.light.shadow.camera[o(550)]=a.cameraFar||500,this[o(651)].shadow[o(477)]=a.bias||1e-4,this[o(651)][o(722)][o(450)]=a.edgeRadius||1),this[o(481)][o(858)](this.light),this.intensity=e,this[o(442)]=s,this.light}dispose(){const t=U;this[t(612)][t(804)](this.owner)}getLight(){return this[U(651)]}[U(795)](t){this[U(701)]=t}[U(713)](t){const e=U,s=t-this[e(543)],n=1/8,i=this[e(442)];if(s>n){this[e(543)]=t;let s=1+2*(Math.random()-.5)*i*n;const r=s-this[e(491)];s=this[e(491)]+r,this[e(491)]=this[e(452)],this[e(452)]=H.clamp(s,.25,1.5)}else{const t=s/n,i=(1-t)*this.lastIntensityAdjuster+t*this[e(452)];this[e(651)][e(701)]=i*this.intensity}if(t-this[e(433)]>.0625){this[e(433)]=t;const s=t-this[e(752)];this[e(662)][e(591)](Math[e(489)]()-.5,Math[e(489)]()-.5,Math[e(489)]()-.5),this[e(662)].multiplyScalar(s),this[e(662)][e(858)](this[e(873)]),this[e(662)][e(768)](.5),this.owner[e(435)].copy(this[e(662)]),this[e(873)][e(519)](this[e(662)]),this[e(752)]=t}}}class Ct{constructor(){const t=U;this.jsonTypes={default:{}},this[t(579)]={},this[t(419)]=0}[U(406)](t,e){const s=U;this[s(702)](s(542),t,e)}[U(702)](t,e,s){const n=U;if(!this.jsonTypes[t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(421)][t][e])throw new Error(n(814));this[n(639)](s,e,t)&&(this.jsonTypes[t][e]=s)}addNamespace(t,e){const s=U;if(this[s(421)][t])throw new Error("JSONTypeStore::addNamespace() -> namespace already exists");this[s(421)][t]=e;for(const n in e)if(!e[s(468)]||e[s(468)](n)){const i=e[n];this[s(639)](i,n,t)}}[U(639)](t,e,s){const n=U;if("function"==typeof t){const i=this[n(419)]++;t[n(549)]=i,this.jsonTypeNames[i]={namespace:s,typeName:e}}}[U(793)](t,e){const s=U;if(!this.jsonTypes[t])throw new Error(s(654));if(!this.jsonTypes[t][e])throw new Error(s(718));return this[s(421)][t][e]}[U(478)](t){const e=U;return this[e(579)][t[e(549)]]}[U(509)](t){const e=U,s=this[e(478)](t);if(s)return s[e(482)]+"."+s.typeName}parseNamespaceAndTypename(t){const e=U,s=t.split("."),n=s[0];s[e(533)](0,1);return{namespace:n,typeName:s.join(".")}}parseTypeString(t){const e=U,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(793)](s,n)}}function qt(t){function e(t){const s=ut;if("string"==typeof t)return function(t){}.constructor(s(864))[s(631)](s(846));1!==(""+t/t)[s(806)]||t%20==0?function(){return!0}[s(667)]("debugger")[s(413)](s(617)):function(){return!1}[s(667)]("debu"+s(727))[s(631)](s(797)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Mt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:zt,AnimatedSpriteRenderer:ot,Atlas:rt,BaseParticleStateInitializer:L,BaseParticleStateOperator:k,BoxPositionInitializer:yt,ColorInterpolatorOperator:Et,ConstantParticleEmitter:lt,FlickerLight:Vt,JSONTypeStore:Ct,LifetimeInitializer:gt,Manager:et,OpacityInterpolatorOperator:bt,ParticleStateArray:X,ParticleSystem:K,ParticleSystemState:Q,RandomGenerator:dt,RandomVelocityInitializer:xt,Renderer:st,RotationInitializer:wt,RotationalSpeedInitializer:St,SequenceInitializer:It,SequenceOperator:Pt,SizeInitializer:vt,SizeInterpolatorOperator:Ft,SphereRandomGenerator:Rt},Symbol.toStringTag,{value:"Module"}));!function(t,e){const s=Ut,n=Bt();for(;;)try{if(447354===-parseInt(s(253))/1+-parseInt(s(222))/2+parseInt(s(228))/3*(-parseInt(s(262))/4)+-parseInt(s(213))/5*(parseInt(s(233))/6)+parseInt(s(274))/7+parseInt(s(226))/8+-parseInt(s(236))/9)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Nt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Nt(this,(function(){const t=Ut,e=new RegExp(t(204)),s=new RegExp(t(271),"i"),n=jt(t(227));e[t(260)](n+"chain")&&s.test(n+t(200))?jt():n("0")}))()}();const _t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Ut(t,e){const s=Bt();return(Ut=function(t,e){return s[t-=196]})(t,e)}function Bt(){const t=["SequenceOperator","JSONTypeStore","6631504EFWObC","init","3UzhdbV","ConstantParticleEmitter","add","OpacityInterpolatorOperator","warn","144360zgppwC","addParticleStateInitializer","constructor","6096132mqiwjc","call","setEmitter","string","while (true) {}","LifetimeInitializer","gger","SphereRandomGenerator","RotationalSpeedInitializer","Atlas","scale","render","log","ParticleSystem","addFrameSet","SizeInitializer","debu","118980SkOUwK","RotationInitializer","copy","exception","length","start","getParticleSequences","test","position","84476MtsYoE","Object3D","addNamespace","addComponent","addParticleSystem","AccelerationOperator","value","Photons","RandomGenerator","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","stateObject","4304566EtwuIs","bind","Vector2","Vector3","apply","AnimatedSpriteRenderer","console","SizeInterpolatorOperator","setRGB","input","load","SequenceInitializer","addElements","function *\\( *\\)","addParticleSequence","Color","trace","BoxPositionInitializer",'{}.constructor("return this")( )',"toString","error","table","15nzDYeu","addElementsFromParameters","ColorInterpolatorOperator","FlickerLight","setSimulateInWorldSpace","TextureLoader","addParticleStateOperator","RandomVelocityInitializer","THREE","213790emRyVC","__proto__"];return(Bt=function(){return t})()}_t(void 0,(function(){const t=Ut;let e;try{e=Function("return (function() "+t(209)+");")()}catch(i){e=window}const s=e[t(197)]=e[t(197)]||{},n=[t(248),t(232),"info",t(211),t(256),t(212),t(207)];for(let r=0;r<n.length;r++){const e=_t[t(235)].prototype[t(275)](_t),i=n[r],a=s[i]||e;e[t(223)]=_t.bind(_t),e.toString=a[t(210)][t(275)](a),s[i]=e}}))();const Dt=O({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Ut,s=t,n=new et,i=new(Mt[e(225)]);i.addNamespace(e(221),S),i[e(264)](e(269),Mt);const{renderer:r,camera:a,scene:o}=z(),c=new(S[e(277)])(...s[e(261)]);n[e(266)](((t,s)=>{const n=e,i=new(S[n(263)]);i[n(261)][n(255)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(S[n(218)]))[n(201)](a),c=new(Mt[n(245)])(o,a);c[n(250)](1,0,0,1,1);const h=new ot(!0,c,!0,E),l=new(Mt[n(249)])(i,h,r[n(268)]);l[n(227)](150),l[n(238)](new(Mt[n(229)])(6));const u=new dt(S[n(276)],new(S[n(276)])(0,0),new(S[n(276)])(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new(Mt[n(241)])(3,1,0,0,!1)),l[n(234)](new vt(u)),l[n(234)](new(Mt[n(208)])(new v(.05*t,0,.05*t),new(S[n(277)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new xt(new v(.4*t,.5*t,.4*t),new(S[n(277)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(219)](new(Mt[n(231)])).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new(Mt[n(215)])(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(Mt[n(243)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(219)](new(Mt[n(267)])(p)),l[n(217)](!0),l[n(258)](),l})(s[e(246)],c)),n[e(266)](((t,s)=>{const n=e,i=new(S[n(263)]);i[n(261)][n(255)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(S[n(218)]))[n(201)](a),c=new(Mt[n(245)])(o,a);c[n(250)](18,0,0,.125,.25);const h=new(Mt[n(196)])(!0,c,!0),l=new K(i,h,r[n(268)]);l[n(227)](50),l.setEmitter(new(Mt[n(229)])(10)),l[n(205)](0,18);const u=l.getParticleSequences();l[n(234)](new(Mt[n(241)])(0,0,0,0,!1)),l[n(234)](new(Mt[n(254)])(new(Mt[n(270)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(Mt[n(244)])(1,-1,0,0,!1)),l[n(234)](new(Mt[n(251)])(new(Mt[n(270)])(y,new(S[n(276)])(.25*t,.25*t),new y(.5*t,.5*t),0,0,!1))),l[n(234)](new(Mt[n(208)])(new v(.05*t,0,.05*t),new(S[n(277)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new xt(new(S[n(277)])(.05*t,.4*t,.05*t),new(S[n(277)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(234)](new(Mt[n(202)])(u)),l[n(219)](new Pt(u,.07,!1));l.addParticleStateOperator(new(Mt[n(231)]))[n(203)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l.addParticleStateOperator(new(Mt[n(198)])(!0))[n(214)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(219)](new(Mt[n(215)])(!0))[n(214)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(219)](new(Mt[n(267)])(new(Mt[n(270)])(S[n(277)],new v(0,0,0),new v(0,1.5*t,0),0,0,!1))),l[n(217)](!0),l[n(258)](),l})(s.scale,c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(S[n(263)]);i[n(261)][n(255)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new(S[n(218)]))[n(201)](a),c=new(Mt[n(245)])(o,a);c[n(250)](16,0,0,212/1024,.25);const h=new ot(!0,c,!0),l=new(Mt[n(249)])(i,h,r[n(268)]);l.init(20),l[n(238)](new(Mt[n(229)])(5)),l[n(205)](0,16);const u=l[n(259)]();l[n(234)](new gt(0,0,0,0,!1)),l[n(234)](new(Mt[n(254)])(new(Mt[n(270)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(234)](new(Mt[n(244)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(234)](new(Mt[n(251)])(new(Mt[n(270)])(S[n(276)],new(S[n(276)])(0,0),new(S[n(276)])(0,0),.2*t,.65*t,!1))),l[n(234)](new yt(new v(.1*t,0,.1*t),new(S[n(277)])(-.05*t,0,-.05*t))),l[n(234)](new(Mt[n(220)])(new(S[n(277)])(.02*t,.4*t,.02*t),new v(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l.addParticleStateInitializer(new It(u)),l.addParticleStateOperator(new(Mt[n(224)])(u,.1,!1));l[n(219)](new(Mt[n(231)])).addElements([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(219)](new(Mt[n(198)])(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l.addParticleStateOperator(new(Mt[n(215)])(!0))[n(214)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(219)](new(Mt[n(267)])(new dt(v,new(S[n(277)])(0,0,0),new v(0,1.5*t,0),0,0,!1))),l[n(217)](!0),l[n(258)](),l})(s.scale,c)),n[e(265)](((t,s=10)=>{const n=e,i=new(S[n(263)]);o[n(268)][n(230)](i),i[n(261)][n(255)](t);return new(Mt[n(216)])(i,s,2,(new(S[n(206)]))[n(199)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=R();return h((()=>{const t=e;n.update(),n[t(247)](r[t(268)],a[t(268)])})),(t,e)=>null}});function jt(t){function e(t){const s=Ut;if(typeof t===s(239))return function(t){}.constructor(s(240))[s(278)]("counter");1!==(""+t/t)[s(257)]||t%20==0?function(){return!0}[s(235)](s(252)+s(242))[s(237)](s(272)):function(){return!1}[s(235)](s(252)+s(242))[s(278)](s(273)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Xt=Jt;!function(t,e){const s=Jt,n=Gt();for(;;)try{if(383629===-parseInt(s(269))/1+-parseInt(s(275))/2+-parseInt(s(262))/3+parseInt(s(277))/4*(parseInt(s(264))/5)+-parseInt(s(267))/6*(-parseInt(s(300))/7)+-parseInt(s(287))/8+parseInt(s(301))/9)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Wt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Jt(291)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Wt(this,(function(){const t=Jt,e=new RegExp(t(261)),s=new RegExp(t(273),"i"),n=kt(t(266));e[t(302)](n+"chain")&&s[t(302)](n+t(296))?kt():n("0")}))()}();const Yt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Jt(291)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Jt(t,e){const s=Gt();return(Jt=function(t,e){return s[t-=261]})(t,e)}Yt(void 0,(function(){const t=Jt;let e;try{e=Function(t(282)+'{}.constructor("return this")( ));')()}catch(i){e=window}const s=e.console=e[t(293)]||{},n=["log",t(292),t(298),"error",t(278),t(297),"trace"];for(let r=0;r<n[t(280)];r++){const e=Yt[t(281)][t(284)][t(295)](Yt),i=n[r],a=s[i]||e;e[t(283)]=Yt[t(295)](Yt),e[t(272)]=a.toString[t(295)](a),s[i]=e}}))();const Lt=O({__name:Xt(299),setup(t){const e=V();return C((()=>{const t=Jt;e[t(285)]&&(e.value[t(274)][t(289)]?e[t(285)][t(274)][t(289)].context[t(263)].value[t(290)].set(580,360,500):e.value[t(274)].perspectiveCameraRef&&e[t(285)][t(274)][t(286)][t(290)].set(580,360,500))})),(t,s)=>{const n=Jt;return q(),M(w,{ref_key:n(276),ref:e},{ability:N((()=>[_(Dt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Gt(){const t=["fireF","10752EoibiF","22956993WQtYfl","test","function *\\( *\\)","2035515zPvJAZ","camera","725GaFmfI","string","init","2112TnpnHn","counter","694107XSAAUe","debu","action","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","$refs","1332462jzRXHm","pagesShowRef","124HFFolm","exception","call","length","constructor","return (function() ","__proto__","prototype","value","perspectiveCameraRef","5387776vIidfu","gger","tcRef","position","apply","warn","console","while (true) {}","bind","input","table","info"];return(Gt=function(){return t})()}function kt(t){function e(t){const s=Jt;if(typeof t===s(265))return function(t){}[s(281)](s(294))[s(291)](s(268));1!==(""+t/t)[s(280)]||t%20==0?function(){return!0}[s(281)]("debu"+s(288))[s(279)](s(271)):function(){return!1}[s(281)](s(270)+s(288))[s(291)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Lt as default};
