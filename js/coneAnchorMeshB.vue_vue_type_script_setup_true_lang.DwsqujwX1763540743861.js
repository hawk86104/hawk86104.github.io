import{_ as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{u as t,o as r}from"./index.Crdf3MNx1763540743861.js";import{d as o,a8 as a,w as s,a as l,H as n,o as i,J as p,u as d}from"./@vue.Co_gxueH1763540743861.js";import{az as h}from"./three.rXKzP9fQ1763540743861.js";const c=["rotateX"],f=["object"],u=["args"],m=["color","depthTest","map"],g=o({__name:"coneAnchorMeshB",props:{anchorColor:{default:"#b0ffff"},rotateSpeed:{default:.05},depthTest:{type:Boolean,default:!0},floorSize:{default:12},floorColor:{default:"#b0ffff"},floorSpeed:{default:.6}},async setup(o){let g,T;const y=o,{scene:C}=([g,T]=a(()=>t("./plugins/digitalCity/model/coneAnchorB.glb")),g=await g,T(),g),w=C?.clone(),S=w.children[0].material.clone();S.color.set(y.anchorColor),S.metalness=0,S.roughness=.5,S.transparent=!0,S.opacity=1,S.depthTest=y.depthTest,w.children[0].renderOrder=0,w.children[0].material=S;const j=([g,T]=a(()=>r("./plugins/digitalCity/image/waveCircle.png")),g=await g,T(),g),{width:M,height:b}=j.image;j.wrapS=j.wrapT=h,j.repeat.set(1/(M/b),1),s(()=>[y.anchorColor,y.depthTest],([e,t])=>{S.color.set(e),S.depthTest=t});const _=l(null),{onRender:v}=e();let G=0;return v(()=>{_.value?.children[0].rotateZ(y.rotateSpeed),j&&(G+=y.floorSpeed,j.offset.x=Math.floor(G)/(j.image.width/j.image.height))}),(e,t)=>(i(),n("TresGroup",null,[p("TresGroup",{rotateX:-Math.PI/2,ref_key:"coneGroup",ref:_},[p("primitive",{object:d(w)},null,8,f),p("TresMesh",null,[p("TresCircleGeometry",{args:[e.floorSize,32]},null,8,u),p("TresMeshStandardMaterial",{color:e.floorColor,metalness:0,roughness:.6,transparent:"",opacity:.8,depthTest:y.depthTest,depthWrite:!1,map:d(j)},null,8,m)])],8,c)]))}});export{g as _};
