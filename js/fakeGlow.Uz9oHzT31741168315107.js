import{o as n,J as t}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{l as o,a_ as e,C as r,aX as i,a0 as a,_ as s}from"./three.FxqAALWt1741168315107.js";import{P as l}from"./tweakpane.yDiyAAkA1741168315107.js";import{d as c,r as u,a2 as f,e as p,o as g,f as d,g as m,N as v,j as w,u as h,al as y}from"./@vue.NRI7TcgI1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";function b(){var n=["1908hIvwzA","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1002asXUBH","opacity","log","#00d5ff","side","table","call","while (true) {}","15722HmWkEs","debu","fragmentShader","glowSharpness","constructor","glowColor","console","apply","exception","905705yAALtI","1538460UQBsNr","error","string","5466090FJAbrq","bind","counter","357688SeMWab","uniforms","69098NIJQwi","toString","falloff","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","4CimjaO","blending","test","warn","function *\\( *\\)","2178qSugpi","depthTest","stateObject",'{}.constructor("return this")( )',"__proto__","action","info","chain","input","trace","length","glowInternalRadius","blendMode","gger","vertexShader","prototype"];return(b=function(){return n})()}!function(n,t){for(var o=x,e=b();;)try{if(258059===parseInt(o(285))/1*(parseInt(o(289))/2)+parseInt(o(294))/3*(parseInt(o(257))/4)+-parseInt(o(276))/5+-parseInt(o(259))/6*(-parseInt(o(267))/7)+-parseInt(o(283))/8+parseInt(o(277))/9+-parseInt(o(280))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(274)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){I(this,(function(){var n=x,t=new RegExp(n(293)),o=new RegExp(n(258),"i"),e=S("init");t[n(291)](e+n(301))&&o[n(291)](e+n(302))?S():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(274)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function x(n,t){var o=b();return(x=function(n,t){return o[n-=254]})(n,t)}j(void 0,(function(){var n,t=x;try{n=Function("return (function() "+t(297)+");")()}catch(l){n=window}for(var o=n[t(273)]=n[t(273)]||{},e=[t(261),t(292),t(300),t(278),t(275),t(264),t(303)],r=0;r<e[t(304)];r++){var i=j[t(271)][t(256)][t(281)](j),a=e[r],s=o[a]||i;i[t(298)]=j.bind(j),i[t(286)]=s[t(286)][t(281)](s),o[a]=i}}))();const _=class extends o{constructor(n={}){var t=x;super(),this[t(255)]=t(288),this[t(269)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this[t(284)]={opacity:new e(void 0!==n[t(260)]?n[t(260)]:1),glowInternalRadius:new e(void 0!==n[t(305)]?n[t(305)]:6),glowSharpness:new e(void 0!==n.glowSharpness?n[t(270)]:.5),falloff:new e(void 0!==n[t(287)]?n.falloff:.1),glowColor:new e(void 0!==n[t(272)]?new r(n[t(272)]):new r(t(262)))},this.setValues(n),this.depthTest=void 0!==n.depthTest&&n[t(295)],this[t(290)]=void 0!==n[t(306)]?n[t(306)]:i,this.transparent=!0,this[t(263)]=void 0!==n[t(263)]?n.side:a}};function S(n){function t(n){var o=x;if(typeof n===o(279))return function(n){}.constructor(o(266))[o(274)](o(282));1!==(""+n/n)[o(304)]||n%20==0?function(){return!0}[o(271)](o(268)+o(254))[o(265)](o(299)):function(){return!1}.constructor("debu"+o(254))[o(274)](o(296)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const T=R;!function(n,t){const o=R,e=M();for(;;)try{if(170951===parseInt(o(299))/1+-parseInt(o(320))/2+-parseInt(o(309))/3+parseInt(o(306))/4+-parseInt(o(302))/5+parseInt(o(318))/6*(-parseInt(o(330))/7)+-parseInt(o(298))/8*(-parseInt(o(279))/9))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(300)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function R(n,t){const o=M();return(R=function(n,t){return o[n-=273]})(n,t)}!function(){P(this,(function(){const n=R,t=new RegExp(n(295)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=A(n(290));t[n(275)](e+n(288))&&o[n(275)](e+"input")?A():e("0")}))()}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(300)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();k(void 0,(function(){const n=R;let t;try{t=Function(n(289)+n(331)+");")()}catch(r){t=window}const o=t[n(321)]=t[n(321)]||{},e=[n(336),"warn",n(283),n(296),n(286),"table",n(337)];for(let i=0;i<e[n(315)];i++){const t=k[n(277)][n(280)][n(284)](k),r=e[i],a=o[r]||t;t[n(292)]=k[n(284)](k),t[n(287)]=a.toString.bind(a),o[r]=t}}))();const C={position:[0,6,0]},z=[T(323)];function M(){const n=["FrontSide","611678DMjCgP","console","blue","object","call","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","neg-z.jpg","Color","while (true) {}","opacity","58709mgjTKY",'{}.constructor("return this")( )',"addBinding","TresPerspectiveCamera","glowSharpness","value","log","trace","pos-y.jpg","BackSide","test","清晰度","constructor","#a058c1","6462RaHTRv","prototype","fakeGlow","primitive","info","bind","TresGroup","exception","toString","chain","return (function() ","init","falloff","__proto__","glowInternalRadius","内半径","function *\\( *\\)","error","TorusKnotGeometry","5656cJMSsb","272241xITeif","apply","side","1661845KtjqeY","glowColor","gger","stateObject","1261976oQBbYb","counter","neg-y.jpg","757962xtdJQw","action","材质面","TresAmbientLight","uniforms","TresDirectionalLight","length","Mesh","debu","24PwalmU"];return(M=function(){return n})()}const N=c({__name:T(281),setup(o){const e=T,r=new l({title:"辉光参数",expanded:!0}),i=u({glowColor:e(278),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(319)],depthTest:!1}),c=new _,b=new(s[e(316)])(new(s[e(297)])(4,3.8,128,128),c);return r[e(332)](i,e(303),{label:"颜色"}),r[e(332)](i,"falloff",{label:"衰减",min:0,max:10,step:.1}),r[e(332)](i,e(293),{label:e(294),min:-5,max:5,step:.1}),r.addBinding(i,e(334),{label:e(276),min:0,max:10,step:.1}),r[e(332)](i,e(329),{label:"透明",min:0,max:1,step:.1}),r.addBinding(i,e(301),{label:e(311),options:{FrontSide:s[e(319)],BackSide:s[e(274)],DoubleSide:a}}),f((()=>{const n=e;c[n(313)].falloff[n(335)]=i[n(291)],c[n(313)][n(303)][n(335)]=new(s[n(327)])(i[n(303)]),c[n(313)][n(293)].value=i.glowInternalRadius,c[n(313)].glowSharpness[n(335)]=i.glowSharpness,c[n(313)][n(329)][n(335)]=i.opacity,c[n(301)]=i[n(301)]})),(o,r)=>{const i=e,a=p("TresCanvas");return g(),d(a,{"window-size":""},{default:m((()=>[r[1]||(r[1]=v(i(333),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=v(i(312),{intensity:1.5},null,-1)),r[3]||(r[3]=v(i(314),{position:[100,100,60],intensity:20},null,-1)),w(h(n),{autoRotate:""}),r[4]||(r[4]=v("TresGridHelper",{args:[20,10]},null,-1)),v(i(285),C,[r[0]||(r[0]=v("TresMesh",null,[v("TresTorusKnotGeometry",{args:[4,.5,128,128]}),v("TresMeshPhysicalMaterial",{color:i(322),roughness:.2,clearcoat:1})],-1)),v(i(282),{object:h(b)},null,8,z)]),(g(),d(y,null,{default:m((()=>[w(h(t),{files:["pos-x.jpg","neg-x.jpg",i(273),i(308),"pos-z.jpg",i(326)],path:i(325)})])),_:1}))])),_:1})}}});function A(n){function t(n){const o=R;if("string"==typeof n)return function(n){}[o(277)](o(328))[o(300)](o(307));1!==(""+n/n).length||n%20==0?function(){return!0}[o(277)](o(317)+"gger")[o(324)](o(310)):function(){return!1}[o(277)](o(317)+o(304))[o(300)](o(305)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{N as default};
