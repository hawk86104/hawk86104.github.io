import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.0qL_P2CE1735517803200.js";import{_ as s}from"./index.otSyV7vL1735517803200.js";import{a8 as i,_ as c,a as u,B as a,cz as l}from"./three.-uH5I3Xp1735517803200.js";import{P as p}from"./tweakpane.yHWGBmom1735517803200.js";import{I as f,C as m,N as d,c as g,d as h,a as y}from"./three-mesh-bvh.UZOzt2Ld1735517803200.js";import{d as w,a6 as j,b,a3 as v,o as I,D as _,J as x,u as M,F as T,r as A,e as S,j as C,g as z,m as k,f as O,al as Z}from"./@vue.-THQH3GC1735517803200.js";import"./@vueuse.oT9wchAS1735517803200.js";import"./index.1YrcshdI1735517803200.js";import"./@fesjs.2Oz5LDgh1735517803200.js";import"./vue-router.alj9m51K1735517803200.js";import"./lodash-es.kYt-_xTG1735517803200.js";import"./@qlin.yHhFDldE1735517803200.js";import"./pinia.7wRRlR_11735517803200.js";import"./vue-demi.C4xddsk91735517803200.js";import"./@floating-ui.BPbuo5Gx1735517803200.js";import"./@juggle.7yjBMqoW1735517803200.js";import"./chalk.sAH7iSuz1735517803200.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1735517803200.js";import"./@iconify.3mYF4lU71735517803200.js";import"./dompurify.rQUea5mq1735517803200.js";import"./utils.AAKvIya21735517803200.js";import"./default.vue_vue_type_script_setup_true_lang.ybnL1i891735517803200.js";import"./three-mesh-ui.module.W0r6-EoW1735517803200.js";function B(t,n){const e=F();return(B=function(t,n){return e[t-=179]})(t,n)}!function(t,n){const e=B,r=F();for(;;)try{if(367593===parseInt(e(215))/1+-parseInt(e(204))/2+-parseInt(e(216))/3+-parseInt(e(220))/4+-parseInt(e(221))/5*(-parseInt(e(186))/6)+parseInt(e(219))/7*(parseInt(e(179))/8)+-parseInt(e(192))/9*(-parseInt(e(184))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(205)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(){const t=["clientX","return (function() ","804910DOJQKO","touch","1130178aFJvHs","action","counter","debu","toString","table","18NHCUFn","setFromCamera","test","intersectObject","length","addEventListener","pointermove","bind","chain","pointerup","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","841678HmqCzE","apply","prototype","stateObject","input","init","clientY","function *\\( *\\)","pointerdown","pointerType","innerHeight","362298wJmPYW","109731ZtPLwX","innerWidth","gger","11837KNywqx","2394180sIGWWu","5nVykLl","firstHitOnly","value","3368YQHXJg","console","trace"];return(F=function(){return t})()}!function(){E(this,(function(){const t=B,n=new RegExp(t(211)),e=new RegExp(t(203),"i"),r=R(t(209));n[t(194)](r+t(200))&&e[t(194)](r+t(208))?R():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(205)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();H(void 0,(function(){const t=B;let n;try{n=Function(t(183)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(180)]||{},r=["log","warn","info","error","exception",t(191),t(181)];for(let s=0;s<r.length;s++){const n=H[t(202)][t(206)][t(199)](H),o=r[s],i=e[o]||n;n.__proto__=H.bind(H),n[t(190)]=i.toString[t(199)](i),e[o]=n}}))();function R(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(202)]("while (true) {}").apply(e(188));1!==(""+t/t)[e(196)]||t%20==0?function(){return!0}[e(202)](e(189)+e(218)).call(e(187)):function(){return!1}[e(202)](e(189)+"gger").apply(e(207)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=W;!function(t,n){const e=W,r=P();for(;;)try{if(437007===parseInt(e(518))/1*(-parseInt(e(517))/2)+parseInt(e(516))/3*(-parseInt(e(567))/4)+parseInt(e(523))/5*(-parseInt(e(521))/6)+parseInt(e(585))/7+parseInt(e(534))/8*(parseInt(e(525))/9)+-parseInt(e(542))/10*(-parseInt(e(592))/11)+parseInt(e(554))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=W,n=new RegExp(t(543)),e=new RegExp(t(581),"i"),r=D(t(544));n[t(545)](r+"chain")&&e.test(r+"input")?D():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(524)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=P();return(W=function(t,n){return e[t-=500]})(t,n)}J(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function("return (function() "+t(575)+");")()}catch(e){n=window}return n}(),e=n[t(560)]=n[t(560)]||{},r=["log",t(576),"info",t(512),t(514),t(507),t(555)];for(let o=0;o<r[t(511)];o++){const n=J[t(540)].prototype[t(515)](J),s=r[o],i=e[s]||n;n.__proto__=J[t(515)](J),n[t(584)]=i.toString.bind(i),e[s]=n}}))();const q=[U(504),U(561)],L=[U(504)],V=w({__name:"model",props:{controls:{}},async setup(r){const o=U;let s,w;const A=r;(()=>{const t=W;c[t(547)].prototype.computeBoundsTree=g,a[t(565)][t(513)]=h,c[t(551)][t(565)][t(537)]=y})();const S=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),C=new(c[o(522)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),z=new Uint8Array(3*S.attributes[o(583)][o(591)]);z[o(571)](255);const k=new u(z,3,!0);k[o(558)](c[o(586)]),S.setAttribute(o(579),k);const O=b(null),Z=b(null),E=b(!1),F=b(-1),H=b(.2),R=new(c[o(532)]),{camera:Y,raycaster:J}=t(),V=15/255,D=78/255,P=85/255;let X=null;v((()=>{const t=o;O.value&&(console[t(548)](t(529),O[t(550)]),O[t(550)].geometry[t(538)](),X=S[t(593)],((t,n,e,r,o,s)=>{const c=B;window[c(197)](c(198),(e=>{const r=c;t.x=e[r(182)]/window[r(217)]*2-1,t.y=-e[r(210)]/window[r(214)]*2+1,n[r(223)]=!0})),window.addEventListener(c(212),(u=>{const a=c;t.x=u.clientX/window.innerWidth*2-1,t.y=-u[a(210)]/window.innerHeight*2+1,r[a(223)]=u.button;const l=new i;l[a(193)](t,e[a(223)]),l[a(222)]=!0;const p=l[a(195)](o[a(223)],!0);n[a(223)]=!0,s.enabled=0===p[a(196)]}),!0),window[c(197)](c(201),(t=>{const e=c;r[e(223)]=-1,t[e(213)]===e(185)&&(n.value=!1)}),!0)})(R,E,Y,F,O,A.controls[t(528)]))}));const{onLoop:K}=n();K((()=>{const t=o,n=S.index;if(Z[t(550)])if(A[t(526)][t(528)].active||!E.value)Z.value[t(562)]=!1;else{Z.value[t(519)][t(557)](H[t(550)]),J[t(550)].setFromCamera(R,Y[t(550)]),J.value[t(510)]=!0;const e=J.value.intersectObject(O[t(550)],!0);if(e[t(511)]){Z[t(550)].position[t(564)](e[0].point),A[t(526)].instance[t(570)]=!1,Z[t(550)].visible=!0;const r=new(c[t(520)]);r.copy(O[t(550)].matrixWorld)[t(572)]();const o=new(c[t(569)]);o[t(506)][t(564)](Z[t(550)][t(583)])[t(502)](r),o.radius=100*H.value;const s=[],i=new(c[t(577)]);if(null==X||X[t(588)]({intersectsBounds:n=>{const e=t,r=o[e(546)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i[e(568)](0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o[e(505)](i))return f;return m}return r?f:d},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(566)](o)){const t=3*e;s[i(535)](t,t+1,t+2)}return!1}}),0===F[t(550)]||2===F[t(550)]){let e=1,r=1,o=1;0===F[t(550)]&&(e=V,r=D,o=P);for(let i=0,c=s[t(511)];i<c;i++){const c=n[t(578)](s[i]);k[t(574)](c,e),k.setY(c,r),k[t(501)](c,o)}k[t(582)]=!0}}else Z[t(550)][t(562)]=!1,A[t(526)][t(528)][t(570)]=!0}}));const $=(new p)[o(531)]({title:o(589),label:o(527)}),Q=new(c[o(547)]);return $.on(o(549),(()=>{const t=o,n=[],e=[];for(let o=0;o<k[t(591)];o++)k[t(578)](o)===V&&k.getY(o)===D&&k.getZ(o)===P&&(n[t(535)](S.attributes[t(583)][t(578)](o),S[t(539)][t(583)][t(503)](o),S[t(539)][t(583)][t(573)](o)),e[t(535)](S[t(539)][t(536)][t(578)](o),S[t(539)][t(536)][t(503)](o),S.attributes.normal.getZ(o)));const r=new Float32Array(n);Q[t(563)](t(583),new(c[t(508)])(r,3)),Q.setAttribute(t(536),new(c[t(508)])(r,3))})),(t,n)=>{const e=o;return I(),_(T,null,[x("TresMesh",{ref_key:"targetMesh",ref:O,geometry:M(S),scale:.005,material:M(C)},null,8,q),x(e(553),{ref_key:e(590),ref:Z,visible:!1},n[0]||(n[0]=[x(e(533),{args:[1,40,40]},null,-1),x("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(553),{geometry:M(Q),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x("TresMeshStandardMaterial",{color:e(559),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,L)],64)}}});function D(t){function n(t){const e=W;if(typeof t===e(580))return function(t){}[e(540)](e(552))[e(524)](e(541));1!==(""+t/t)[e(511)]||t%20==0?function(){return!0}[e(540)](e(500)+e(530))[e(556)](e(587)):function(){return!1}.constructor(e(500)+e(530))[e(524)](e(509)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function P(){const t=["getZ","setX",'{}.constructor("return this")( )',"warn","Vector3","getX","color","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","needsUpdate","position","toString","1455503UFMCjj","DynamicDrawUsage","action","shapecast","点击按钮","brushMesh","count","1367421zIPfMT","boundsTree","debu","setZ","applyMatrix4","getY","geometry","containsPoint","center","table","BufferAttribute","stateObject","firstHitOnly","length","error","disposeBoundsTree","exception","bind","225YvwSZh","4njqNRW","71486AzKeIp","scale","Matrix4","6PHdodH","MeshStandardMaterial","4354755OSKWEn","apply","4163463mDYuBV","controls","生成模型","instance","targetMesh.value init","gger","addButton","Vector2","TresSphereGeometry","8icLsth","push","normal","raycast","computeBoundsTree","attributes","constructor","counter","70AHnssV","function *\\( *\\)","init","test","intersectsBox","BufferGeometry","log","click","value","Mesh","while (true) {}","TresMesh","2650404lxmbeS","trace","call","setScalar","setUsage","#023249","console","material","visible","setAttribute","copy","prototype","intersectsSphere","16568AgHtKK","set","Sphere","enabled","fill","invert"];return(P=function(){return t})()}const X=Q;!function(t,n){const e=Q,r=tt();for(;;)try{if(977329===-parseInt(e(181))/1+parseInt(e(206))/2*(-parseInt(e(215))/3)+parseInt(e(200))/4+-parseInt(e(182))/5*(parseInt(e(212))/6)+-parseInt(e(216))/7*(parseInt(e(179))/8)+parseInt(e(183))/9*(parseInt(e(187))/10)+parseInt(e(188))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(189)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=Q,n=new RegExp(t(203)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=G("init");n[t(193)](r+t(196))&&e[t(193)](r+t(213))?G():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(t,n){const e=tt();return(Q=function(t,n){return e[t-=171]})(t,n)}$(void 0,(function(){const t=Q;let n;try{n=Function(t(198)+t(192)+");")()}catch(o){n=window}const e=n.console=n[t(195)]||{},r=["log",t(199),t(177),t(210),t(205),t(214),t(172)];for(let s=0;s<r[t(211)];s++){const n=$.constructor[t(178)][t(184)]($),o=r[s],i=e[o]||n;n[t(186)]=$.bind($),n[t(201)]=i.toString[t(184)](i),e[o]=n}}))();const N=w({__name:X(208),setup(t){const n=A({clearColor:"#999999",antialias:!0}),e=A({autoRotate:!1}),i=b(null);return(t,c)=>{const u=Q,a=S(u(209));return I(),_(T,null,[C(M(s)),C(a,k(n,{"window-size":""}),{default:z((()=>[c[0]||(c[0]=x("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),C(M(r),k({ref_key:u(175),ref:i},e),null,16),c[1]||(c[1]=x("TresAmbientLight",{intensity:1},null,-1)),(I(),O(Z,null,{default:z((()=>[C(V,{controls:i.value},null,8,[u(204)])])),_:1})),(I(),O(Z,null,{default:z((()=>[C(M(o),{background:!1,files:[u(185),u(171),u(176),"neg-y.jpg",u(194),u(217)],path:u(173)})])),_:1}))])),_:1},16)],64)}}});function G(t){function n(t){const e=Q;if(typeof t===e(207))return function(t){}.constructor(e(202))[e(189)](e(191));1!==(""+t/t)[e(211)]||t%20==0?function(){return!0}[e(190)]("debu"+e(174))[e(180)]("action"):function(){return!1}[e(190)](e(197)+e(174)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function tt(){const t=["30410919cfonrv","apply","constructor","counter",'{}.constructor("return this")( )',"test","pos-z.jpg","console","chain","debu","return (function() ","warn","3801632YCeutZ","toString","while (true) {}","function *\\( *\\)","controls","exception","34446xLxEfQ","string","collectTriangles","TresCanvas","error","length","4638MnhEVV","input","table","132MApCqr","1205078YnpBkT","neg-z.jpg","neg-x.jpg","trace","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","gger","controlsRef","pos-y.jpg","info","prototype","72dmWiFF","call","412167OUfpjl","5455QDsdUt","928125SJOvix","bind","pos-x.jpg","__proto__","80SJIJsC"];return(tt=function(){return t})()}export{N as default};
