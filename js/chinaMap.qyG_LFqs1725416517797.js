import{$ as t,d as e}from"./@tresjs.5lh7VmqZ1725416517797.js";import{l as n}from"./utils.CfHZ88O81725416517797.js";import{ay as r,B as o,q as s,cM as a}from"./three.VTQVqxMx1725416517797.js";import{c as i,d as c,a as u}from"./three-mesh-bvh.wPvA9dFk1725416517797.js";import{m as l}from"./d3-geo.Vj6_5KAI1725416517797.js";import{a5 as p,b as f,a2 as d,o as m,E as h,F as y,W as j,L as b,d as g,r as v,e as w,f as E,g as T,j as _,u as x,aj as I,ak as M,al as k,m as B}from"./@vue._6MD2XyK1725416517797.js";import"./tweakpane.yHWGBmom1725416517797.js";import"./@vueuse.L-salR9N1725416517797.js";import"./@fesjs.ILazvsHx1725416517797.js";import"./vue-router.oJSnFzhA1725416517797.js";import"./lodash-es.kYt-_xTG1725416517797.js";import"./@qlin.yHhFDldE1725416517797.js";import"./pinia.QjdSMCYS1725416517797.js";import"./@floating-ui.BPbuo5Gx1725416517797.js";import"./@juggle.7yjBMqoW1725416517797.js";import"./d3-array.AhNJy1f41725416517797.js";const L=["properties","renderOrder"],q=["args"],C=b("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),z={__name:"chinaMapMesh",async setup(e){let g,v;o.prototype.computeBoundsTree=i,o.prototype.disposeBoundsTree=c,s.prototype.raycast=u;const w=l().center([104,37.5]).translate([0,0]),E=([g,v]=p((()=>n("./plugins/simpleGIS/json/china.json","features"))),g=await g,v(),g),T={depth:10,bevelEnabled:!1},_=[];E.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[r,o]=w(e[t]);0===t&&n.moveTo(r,-o),n.lineTo(r,-o)}_.push({shape:n,properties:t.properties})}))}))}));const x=new r({color:"#3480C4",linewidth:1,linecap:"round"}),I=f();d((()=>{I.value&&I.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,x];t.material=e}))}));let M=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),M=t})();const k=t=>{t.object.material[0].color.set(16711680),M.innerText=t.object.properties.name,M.style.visibility="visible"},B=t=>{t.eventObject.material[0].color.set(3010559),M.style.visibility="hidden"},z=t=>{M.style.left="".concat(t.clientX+6,"px"),M.style.top="".concat(t.clientY+6,"px")},{onLoop:P}=t();return P((()=>{})),(t,e)=>(m(),h("TresGroup",{ref_key:"tgRef",ref:I},[(m(),h(y,null,j(_,((t,e)=>b("TresMesh",{key:"".concat(e),properties:t.properties,renderOrder:e,onPointerEnter:k,onPointerLeave:B,onPointerMove:z},[b("TresExtrudeGeometry",{args:[t.shape,T]},null,8,q),C],40,L))),64))],512))}},P=Z;!function(t,e){const n=Z,r=O();for(;;)try{if(756710===parseInt(n(479))/1*(parseInt(n(471))/2)+parseInt(n(484))/3+-parseInt(n(477))/4+parseInt(n(466))/5*(parseInt(n(481))/6)+-parseInt(n(474))/7+-parseInt(n(457))/8*(parseInt(n(470))/9)+parseInt(n(476))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[Z(473)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function O(){const t=["1876536lKZjlY","constructor","counter","return (function() ","debu","#201919","string","log","1218296BqEkYL","init","action","function *\\( *\\)","toString","console","input","stateObject","while (true) {}","5QrqyVM","trace","test","table","63Eztblm","5764qLrJIX","TresPerspectiveCamera","apply","5629484LPmxyY","exception","10697830dhDaQU","2816404fhrBue","call","242TqRsvQ","length","5629758CFHfto","gger","__proto__"];return(O=function(){return t})()}!function(){F(this,(function(){const t=Z,e=new RegExp(t(460)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=G(t(458));e[t(468)](r+"chain")&&n.test(r+t(463))?G():r("0")}))()}();const R=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[Z(473)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();R(void 0,(function(){const t=Z,e=function(){const t=Z;let e;try{e=Function(t(487)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(462)]=e[t(462)]||{},r=[t(456),"warn","info","error",t(475),t(469),t(467)];for(let o=0;o<r[t(480)];o++){const e=R.constructor.prototype.bind(R),s=r[o],a=n[s]||e;e[t(483)]=R.bind(R),e[t(461)]=a.toString.bind(a),n[s]=e}}))();const S=b(P(472),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1),Y=g({__name:"chinaMap",setup(n){const r=v({clearColor:P(454)}),o=v({enableDamping:!0,dampingFactor:.05}),{onLoop:s}=t();return s((()=>{})),d((()=>{})),(t,n)=>{const s=w("TresCanvas");return m(),E(s,B(r,{"window-size":""}),{default:T((()=>[S,_(x(e),I(M(o)),null,16),(m(),E(k,null,{default:T((()=>[_(z)])),_:1}))])),_:1},16)}}});function Z(t,e){const n=O();return(Z=function(t,e){return n[t-=453]})(t,e)}function G(t){function e(t){const n=Z;if(typeof t===n(455))return function(t){}[n(485)](n(465))[n(473)](n(486));1!==(""+t/t)[n(480)]||t%20==0?function(){return!0}.constructor("debu"+n(482))[n(478)](n(459)):function(){return!1}.constructor(n(453)+n(482))[n(473)](n(464)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{Y as default};
