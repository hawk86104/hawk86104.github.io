import{bT as t,_ as n,U as o,au as r,C as e}from"./three.3esZ7Hzr1726652192279.js";import{z as a}from"./@tresjs.UGbbWZf51726652192279.js";import{d as c,b as i,a4 as s,w as u,o as f,E as l,L as p,aj as h,ak as d}from"./@vue.JNsx1iN61726652192279.js";!function(t,n){const o=w,r=b();for(;;)try{if(718813===-parseInt(o(306))/1*(-parseInt(o(304))/2)+parseInt(o(301))/3+-parseInt(o(337))/4+-parseInt(o(317))/5+parseInt(o(294))/6*(parseInt(o(302))/7)+parseInt(o(305))/8+-parseInt(o(320))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=w,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=x(t(332));n[t(300)](r+t(307))&&o[t(300)](r+t(299))?x():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[w(324)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(334)+t(308)+");")()}catch(o){n=window}return n}(),o=n[t(327)]=n[t(327)]||{},r=["log","warn",t(291),t(312),t(326),t(289),t(329)];for(let e=0;e<r[t(318)];e++){const n=m[t(330)][t(310)].bind(m),a=r[e],c=o[a]||n;n.__proto__=m.bind(m),n[t(292)]=c.toString[t(316)](c),o[a]=n}}))();const v=()=>{const o=w;return o(321)+t[o(325)]+o(309)+t[o(331)]+o(309)+t[o(297)]+o(328)+n[o(296)][o(323)]+o(295)+n[o(296)][o(315)]+o(295)+t.begin_vertex+o(295)+t[o(290)]+o(295)+n[o(296)][o(303)]+"\n          "+n[o(296)][o(319)]+o(333)};function w(t,n){const o=b();return(w=function(t,n){return o[t-=288]})(t,n)}const _=()=>{const t=w;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[t(296)][t(325)]+t(288)+n[t(296)][t(298)]+t(288)+n[t(296)][t(331)]+t(288)+n[t(296)].lights_pars_begin+t(288)+n[t(296)][t(314)]+"\n\t "+n[t(296)].shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function x(t){function n(t){const o=w;if(typeof t===o(293))return function(t){}[o(330)]("while (true) {}").apply("counter");1!==(""+t/t)[o(318)]||t%20==0?function(){return!0}[o(330)]("debu"+o(335))[o(336)](o(311)):function(){return!1}[o(330)](o(313)+"gger")[o(324)](o(322)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function b(){const t=["2530410GcBVam","length","shadowmap_vertex","2435148jvWzBH","\n       varying vec2 vUv;\n\t\t\t \t","stateObject","beginnormal_vertex","apply","common","exception","console","\n       void main() {\n\t\t\t\t\t","trace","constructor","bsdfs","init","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","return (function() ","gger","call","3903852AyhmAT","\n\t ","table","project_vertex","info","toString","string","259596AAmEPx","\n          ","ShaderChunk","shadowmap_pars_vertex","packing","input","test","2667789OBKbOx","147WSNHqD","worldpos_vertex","26XqBgpL","1056944ouhyeK","41651hnhMxO","chain",'{}.constructor("return this")( )',"\n      \t","prototype","action","error","debu","shadowmap_pars_fragment","defaultnormal_vertex","bind"];return(b=function(){return t})()}const y=I;!function(t,n){const o=I,r=M();for(;;)try{if(828804===parseInt(o(233))/1+-parseInt(o(234))/2+-parseInt(o(207))/3*(parseInt(o(245))/4)+parseInt(o(242))/5+parseInt(o(210))/6*(parseInt(o(209))/7)+parseInt(o(221))/8+-parseInt(o(204))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(229)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function I(t,n){const o=M();return(I=function(t,n){return o[t-=203]})(t,n)}!function(){S(this,(function(){const t=I,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=z(t(230));n[t(224)](r+"chain")&&o[t(224)](r+t(235))?z():r("0")}))()}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(229)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();C(void 0,(function(){const t=I,n=function(){const t=I;let n;try{n=Function(t(240)+t(203)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(223)]||{},r=[t(208),"warn","info",t(251),"exception",t(227),t(231)];for(let e=0;e<r[t(220)];e++){const n=C[t(244)][t(247)][t(213)](C),a=r[e],c=o[a]||n;n[t(218)]=C.bind(C),n.toString=c.toString.bind(c),o[a]=n}}))();const j=["rotation-x"],T=["args"];function M(){const t=["console","test","#990","wrapS","table","call","apply","init","trace","tmRef","1405067tLDvrM","3140954YoTfjF","input","color","merge","edge","fEdge","return (function() ","action","5060lvsGXv","size","constructor","24lAPhTQ","shadowColor","prototype","gger","debu","stateObject","error","TresPlaneGeometry",'{}.constructor("return this")( )',"13909851RieePn","whiteFloorMesh","wrapT","152691RfOcHP","log","7MyhWFi","7432098ySsPFw","value","uShadowColor","bind","Color","TresShaderMaterial","RepeatWrapping","uniforms","__proto__","uColor","length","12843520zmunMK","DoubleSide"];return(M=function(){return t})()}const E=c({__name:y(205),props:{size:{default:[20,20]},color:{default:y(225)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(t){const c=y;let g,m;const w=t,x=i(),{map:b}=([g,m]=s((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);b[c(226)]=b[c(206)]=n[c(216)];const S={uniforms:o[c(237)]([r.lights,{uTexture:{type:"t",value:b},uColor:{value:new(n[c(214)])(w[c(236)])},uShadowColor:{value:new e(w[c(246)])},fEdge:{type:"f",value:w[c(238)]}}]),side:n[c(222)],vertexShader:v(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>w[c(238)]),(t=>{const n=c;S[n(217)][n(239)][n(211)]=t})),u((()=>w[c(236)]),(t=>{const o=c;S[o(217)][o(219)][o(211)]=new(n[o(214)])(w[o(236)])})),u((()=>w[c(246)]),(t=>{const o=c;S[o(217)][o(212)][o(211)]=new(n[o(214)])(w[o(246)])})),(t,n)=>{const o=c;return f(),l("TresMesh",{ref_key:o(232),ref:x,"rotation-x":-Math.PI/2},[p(o(252),{args:w[o(243)]},null,8,T),p(o(215),h(d(S)),null,16)],8,j)}}});function z(t){function n(t){const o=I;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply("counter");1!==(""+t/t)[o(220)]||t%20==0?function(){return!0}[o(244)](o(249)+o(248))[o(228)](o(241)):function(){return!1}[o(244)](o(249)+o(248))[o(229)](o(250)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
