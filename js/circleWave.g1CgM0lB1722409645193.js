import{$ as n,N as t,d as e}from"./@tresjs.qmCJ68Vp1722409645193.js";import{P as o}from"./tweakpane.yHWGBmom1722409645193.js";import{_ as r}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.L-WtQKek1722409645193.js";import{a6 as a,a0 as c,Z as s}from"./three.6E5muTWJ1722409645193.js";import{d as i,b as u,a4 as l,r as f,a1 as p,o as v,D as d,J as m,aj as g,ak as h,e as w,f as k,g as y,j as S,u as _,al as x,m as I}from"./@vue.9bHx4gg21722409645193.js";import"./@vueuse.NFOCyQQL1722409645193.js";import"./all.three.GEVYdC2c1722409645193.js";import"./oimophysics.x0jH7fze1722409645193.js";function b(n,t){const e=M();return(b=function(n,t){return e[n-=124]})(n,t)}const C=b;!function(n,t){const e=b,o=M();for(;;)try{if(392424===parseInt(e(124))/1+-parseInt(e(150))/2*(parseInt(e(160))/3)+parseInt(e(126))/4+-parseInt(e(155))/5+parseInt(e(149))/6+parseInt(e(176))/7+-parseInt(e(125))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[b(140)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){T(this,(function(){const n=b,t=new RegExp(n(168)),e=new RegExp(n(156),"i"),o=W(n(164));t[n(130)](o+"chain")&&e[n(130)](o+n(134))?W():o("0")}))()}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function M(){const n=["console","input","info",'{}.constructor("return this")( )',"constructor","value","bind","apply","AdditiveBlending","table","wrapS","debu","length","wrapT","TresPlaneGeometry","TresMesh","4289070oAooTu","2fnSaeG","call","Color","rotation-x","counter","112520yXXLsi","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","material","uScanColorDark","RepeatWrapping","262365akvNnU","scale","action","string","init","#000000","uScanColor","uniforms","function *\\( *\\)","gger","color","trace","tmRef","while (true) {}","colorDark","\n#define uScanOrigin vec3(0.,0.,0.)\n#define uScanWaveRatio1 3.2\n#define uScanWaveRatio2 2.8\n\nuniform float uTime;\nuniform sampler2D uScanTex;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nuniform vec3 uScanColor;\nuniform vec3 uScanColorDark;\n\nfloat circleWave(vec3 p,vec3 origin,float distRatio){\n    float t=uTime;\n    float dist=distance(p,origin)*distRatio;\n    float radialMove=fract(dist-t);\n    float fadeOutMask=1.-smoothstep(1.,3.,dist);\n    radialMove*=fadeOutMask;\n    float cutInitialMask=1.-step(t,dist);\n    radialMove*=cutInitialMask;\n    return radialMove;\n}\n\nvec3 getScanColor(vec3 worldPos,vec2 uv,vec3 col){\n    // mask\n    float scanMask=texture(uScanTex,uv).r;\n    // waves\n    float cw=circleWave(worldPos,uScanOrigin,uScanWaveRatio1);\n    float cw2=circleWave(worldPos,uScanOrigin,uScanWaveRatio2);\n    // scan\n    float mask1=smoothstep(.3,0.,1.-cw);\n    mask1*=(1.+scanMask*.7);\n    \n    float mask2=smoothstep(.07,0.,1.-cw2)*.8;\n    mask1+=mask2;\n    \n    float mask3=smoothstep(.09,0.,1.-cw)*1.5;\n    mask1+=mask3;\n\n    // color\n    vec3 scanCol=mix(uScanColorDark,uScanColor,mask1);\n    col=mix(col,scanCol,mask1);\n    \n    return col;\n\t\t// return vec3(cw);\n\t\t// return vec3(scanMask);\n\t\t// return worldPos;\n\t\t// return vec3(mask1);\n\t\t// return scanCol;\n}\n\nvoid main()\n{\n    vec3 col=vec3(0.);\n    col=getScanColor(vPosition,vUv*10.0,col);\n    gl_FragColor=vec4(col,1.);\n}\n","483868EcNYBa","prototype","411536zlxFjM","10987784zOEtsZ","2721404dINZDT","shaderCircleWave","log","#ffffff","test","__proto__","toString"];return(M=function(){return n})()}j(void 0,(function(){const n=b;let t;try{t=Function("return (function() "+n(136)+");")()}catch(r){t=window}const e=t[n(133)]=t[n(133)]||{},o=[n(128),"warn",n(135),"error","exception",n(142),n(171)];for(let a=0;a<o[n(145)];a++){const t=j[n(137)][n(177)].bind(j),r=o[a],c=e[r]||t;t[n(131)]=j[n(139)](j),t[n(132)]=c[n(132)].bind(c),e[r]=t}}))();const D=[C(153),C(161)],P=m(C(147),{args:[1,1]},null,-1),R=i({__name:C(127),props:{color:{default:C(129)},colorDark:{default:C(165)},speed:{default:1},scale:{default:2}},async setup(e){const o=C;let r,i;const w=e,k=u(),{onLoop:y}=n();y((({delta:n})=>{const t=b;k[t(138)]&&(k[t(138)][t(157)][t(167)].uTime[t(138)]+=n*w.speed)}));const S=([r,i]=l((()=>t(["./plugins/floor/image/scan.png"]))),r=await r,i(),r);S[o(143)]=a[o(159)],S[o(146)]=c;const _=f({side:s,transparent:!0,blending:a[o(141)],flatShading:!0,depthTest:!1,uniforms:{uTime:{type:"f",value:0},uScanTex:{type:"t",value:S},uScanColor:{type:"v3",value:new(a[o(152)])(w[o(170)])},uScanColorDark:{type:"v3",value:new(a[o(152)])(w[o(174)])}},vertexShader:"\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main(){\n\tvUv=uv;\n\tvPosition=position;\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}\n",fragmentShader:o(175)});return p((()=>{const n=o;k[n(138)]&&(k[n(138)][n(157)][n(167)][n(166)][n(138)]=new(a[n(152)])(w[n(170)]),k[n(138)][n(157)][n(167)][n(158)][n(138)]=new(a[n(152)])(w[n(174)]))})),(n,t)=>{const e=o;return v(),d(e(148),{ref_key:e(172),ref:k,"rotation-x":-Math.PI/2,scale:n[e(161)]},[P,m("TresShaderMaterial",g(h(_)),null,16)],8,D)}}});function W(n){function t(n){const e=b;if(typeof n===e(163))return function(n){}[e(137)](e(173))[e(140)](e(154));1!==(""+n/n).length||n%20==0?function(){return!0}[e(137)](e(144)+e(169))[e(151)](e(162)):function(){return!1}[e(137)](e(144)+e(169))[e(140)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const U=L;!function(n,t){const e=L,o=O();for(;;)try{if(963126===parseInt(e(228))/1*(-parseInt(e(202))/2)+-parseInt(e(218))/3+-parseInt(e(208))/4+-parseInt(e(229))/5+parseInt(e(205))/6*(-parseInt(e(196))/7)+parseInt(e(200))/8+-parseInt(e(227))/9*(-parseInt(e(215))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[L(195)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){z(this,(function(){const n=L,t=new RegExp(n(204)),e=new RegExp(n(230),"i"),o=N(n(193));t[n(231)](o+n(212))&&e.test(o+n(222))?N():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[L(195)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function O(){const n=["circleWave","chain","圈颜色","addBinding","530AYsSNH","exception","gger","4168959vvcURn","length","info","#201919","input","__proto__","TresAmbientLight","constructor","colorDark","766359cfzUUZ","68587KrDejp","6667120vHkLiX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","toString","string","TresCanvas","init","TresPerspectiveCamera","apply","4750823qWHWGq","bind","log","debu","9967552LIvTDo","call","2YSxiac","#ffffff","function *\\( *\\)","12yleLvc","shaderCircleWave地面","table","2587116eycFlu","action","error"];return(O=function(){return n})()}A(void 0,(function(){const n=L;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t.console=t.console||{},o=[n(198),"warn",n(220),n(210),n(216),n(207),"trace"];for(let a=0;a<o[n(219)];a++){const t=A[n(225)].prototype[n(197)](A),r=o[a],c=e[r]||t;t[n(223)]=A[n(197)](A),t[n(190)]=c[n(190)][n(197)](c),e[r]=t}}))();const Z=m(U(194),{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1),E=m(U(224),{intensity:6},null,-1);function L(n,t){const e=O();return(L=function(n,t){return e[n-=190]})(n,t)}const F=i({__name:U(211),setup(n){const t=U,a=f({reflectivity:.1,showGridHelper:!1,scale:1}),c=f({color:t(203),colorDark:"#000000",speed:1,scale:2}),s=new o({title:t(206),expanded:!0});return s[t(214)](c,"color",{label:t(213)}),s[t(214)](c,t(226),{label:"圈渐变色"}),s.addBinding(c,"speed",{label:"速度",min:.1,max:5,step:.1}),s[t(214)](c,"scale",{label:"大小",min:.1,max:10,step:.1}),(n,o)=>{const s=t,i=w(s(192));return v(),k(i,{clearColor:s(221),"window-size":""},{default:y((()=>[Z,S(_(e),{enableDamping:""}),E,(v(),k(x,null,{default:y((()=>[S(R,g(h(c)),null,16)])),_:1})),(v(),k(x,null,{default:y((()=>[S(r,I({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function N(n){function t(n){const e=L;if(typeof n===e(191))return function(n){}[e(225)]("while (true) {}")[e(195)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(225)](e(199)+e(217))[e(201)](e(209)):function(){return!1}[e(225)]("debu"+e(217))[e(195)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{F as default};
