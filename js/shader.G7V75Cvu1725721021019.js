import{$ as n,p as t,d as e,S as o,N as r}from"./@tresjs.bIWdfO9a1725721021019.js";import{a6 as i,x as s,aK as a,cb as c}from"./three.a9V66irq1725721021019.js";import{P as u}from"./tweakpane.yHWGBmom1725721021019.js";import{L as l}from"./three-subdivide.PMITJiZp1725721021019.js";import{d as f,b as p,a2 as d,w as m,o as h,E as g,L as v,aj as y,ak as b,a5 as w,r as I,e as M,f as _,g as x,j as S,u as T,m as j}from"./@vue._6MD2XyK1725721021019.js";import"./@vueuse.Ex-1AOlz1725721021019.js";function B(n,t){const e=z();return(B=function(n,t){return e[n-=159]})(n,t)}const V=B;!function(n,t){const e=B,o=z();for(;;)try{if(123965===-parseInt(e(185))/1*(-parseInt(e(180))/2)+parseInt(e(198))/3*(parseInt(e(223))/4)+-parseInt(e(181))/5*(-parseInt(e(224))/6)+-parseInt(e(197))/7*(-parseInt(e(164))/8)+-parseInt(e(182))/9*(parseInt(e(189))/10)+-parseInt(e(220))/11*(-parseInt(e(216))/12)+parseInt(e(170))/13*(-parseInt(e(196))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=B,t=new RegExp(n(219)),e=new RegExp(n(175),"i"),o=E(n(221));t[n(203)](o+n(192))&&e[n(203)](o+n(201))?E():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[B(207)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=B,t=function(){const n=B;let t;try{t=Function(n(161)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(178)]=t[n(178)]||{},o=[n(214),n(166),"info","error","exception",n(172),n(165)];for(let r=0;r<o.length;r++){const t=A[n(202)][n(173)][n(187)](A),i=o[r],s=e[i]||t;t[n(169)]=A[n(187)](A),t[n(205)]=s[n(205)][n(187)](s),e[i]=t}}))();const C=[V(186)];function z(){const n=["chain","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","gger","blending","154PtiMIu","14OyJqxk","24dMaenx","action","material","input","constructor","test","position","toString","Color","apply","subVectors","AdditiveBlending","while (true) {}","string","srcMesh","counter","log","Vector3","4164IYvgll","FrontSide","side","function *\\( *\\)","4323Jwfmke","init","stateObject","113584ZWWXJh","6WcmXCL","TSGref","uniforms","return (function() ","color","length","679336ohHjli","trace","warn","geometry","copy","__proto__","773058LUbBCG","glowColor","table","prototype","shineShader","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","viewVector","TresShaderMaterial","console","clone","1038KNOPtW","450890yAYVmN","77562VEvabw","debu","#ffff00","414Bixjnz","scale","bind","value","70DZoJVZ","subdivision","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            "];return(z=function(){return n})()}const Z=f({__name:V(174),props:{srcMesh:{},scale:{default:1.2},color:{default:V(184)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[V(217)]},blending:{default:i[V(209)]}},setup(e){const o=V,r=e,s=p(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(206)])(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(191),fragmentShader:o(193),side:r[o(218)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(195)]};d((()=>{const n=o;if(r[n(212)]&&!s.value[n(167)].attributes[n(204)]){let t=r[n(212)].geometry[n(179)]();r[n(190)]&&(t=l.modify(t,2)),s.value.geometry=t,s[n(188)][n(204)][n(168)](r[n(212)][n(204)])}r[n(162)]&&(a[n(160)][n(171)][n(188)]=new(i[n(206)])(r[n(162)])),r.c&&(a[n(160)].c[n(188)]=r.c),r.p&&(a[n(160)].p[n(188)]=r.p)})),m((()=>r[o(190)]),(n=>{const t=o;let e=r[t(212)][t(167)].clone();n&&(e=l.modify(e,2)),s[t(188)].geometry=e})),m((()=>r.side),(n=>{const t=o;s[t(188)][t(200)].side=n})),m((()=>r.blending),(n=>{const t=o;s.value[t(200)].blending=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=o;u[n(188)]&&s[n(188)]&&(a.uniforms[n(176)][n(188)]=(new(i[n(215)]))[n(208)](u.value[n(204)],s[n(188)].position))})),(n,t)=>{const e=o;return h(),g("TresMesh",{ref_key:e(159),ref:s,scale:r[e(186)]},[v(e(177),y(b(a)),null,16)],8,C)}}});function E(n){function t(n){const e=B;if(typeof n===e(211))return function(n){}.constructor(e(210)).apply(e(213));1!==(""+n/n)[e(163)]||n%20==0?function(){return!0}[e(202)](e(183)+e(194)).call(e(199)):function(){return!1}.constructor(e(183)+e(194))[e(207)](e(222)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=X;!function(n,t){const e=X,o=F();for(;;)try{if(318101===parseInt(e(536))/1+-parseInt(e(546))/2+-parseInt(e(537))/3+-parseInt(e(513))/4*(parseInt(e(502))/5)+parseInt(e(533))/6+parseInt(e(524))/7*(-parseInt(e(545))/8)+parseInt(e(532))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(535)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(){const n=["stateObject","srcMesh","TresCanvas","176oHzfpn","AdditiveBlending","FrontSide","bind","#222","TresMesh","init","error","counter","subdivision","TresGridHelper","4428599EFVoJf","debu","map","call","addBinding","DoubleSide","TresMeshRefB","TresMeshRefA","13045293qXaoZV","18570tjroHT","trace","apply","540794Hcmpdg","1409535USHrVW","console","BackSide","string","blending","function *\\( *\\)","exception","value","8oMXhrS","1036846JRJvhV","toString","color","info","length","TresMeshBasicMaterial",'{}.constructor("return this")( )',"warn","边缘处理","TresSphereGeometry","gger","test","6175EwiSHZ","constructor","shader","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","action","#00dfff"];return(F=function(){return n})()}!function(){R(this,(function(){const n=X,t=new RegExp(n(542)),e=new RegExp(n(506),"i"),o=q(n(519));t[n(501)](o+"chain")&&e[n(501)](o+"input")?q():o("0")}))()}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(535)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();H(void 0,(function(){const n=X,t=function(){const n=X;let t;try{t=Function(n(505)+n(496)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(538)]||{},o=["log",n(497),n(493),n(520),n(543),n(507),n(534)];for(let r=0;r<o[n(494)];r++){const t=H.constructor.prototype[n(516)](H),i=o[r],s=e[i]||t;t.__proto__=H[n(516)](H),t[n(547)]=s[n(547)][n(516)](s),e[i]=t}}))();const J=v("TresPerspectiveCamera",{position:[5,5,5]},null,-1),L=v("TresAmbientLight",{intensity:1},null,-1),W=v(N(523),{args:[10,10]},null,-1),G=v(N(499),{args:[1,32,16]},null,-1),P=[N(526)],$=[N(526)],O=[v("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),v(N(495),{color:"#0ff"},null,-1)];function X(n,t){const e=F();return(X=function(n,t){return e[n-=493]})(n,t)}const D=f({__name:N(504),async setup(n){const t=N;let l,f;const d={clearColor:t(517)},m=p(),g=p(),y=p(),b=([l,f]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),l=await l,f(),l),B=I({scale:1.6,color:t(509),subdivision:!0,c:1.1,p:1.4,side:s,blending:a}),V=new u({title:"参数",expanded:!0});return V[t(528)](B,t(548),{label:"颜色"}),V[t(528)](B,"scale",{label:"大小",min:1,max:3,step:.2}),V[t(528)](B,t(522),{label:t(498)}),V[t(528)](B,"c",{label:"c",min:0,max:2,step:.1}),V[t(528)](B,"p",{label:"p",min:0,max:8,step:.2}),V.addBinding(B,"side",{options:{FrontSide:i[t(515)],BackSide:i[t(539)],DoubleSide:i[t(529)]}}),V[t(528)](B,t(541),{options:{AdditiveBlending:i[t(514)],NormalBlending:c}}),(n,r)=>{const i=t,s=M(i(512));return h(),_(s,j(d,{"window-size":""}),{default:x((()=>[J,L,S(T(e)),W,v("TresMesh",{ref_key:i(531),ref:m,position:[-2,1,0]},[G,v("TresMeshBasicMaterial",{map:T(b)[0]},null,8,P)],512),S(Z,j({srcMesh:m.value},B),null,16,["srcMesh"]),S(T(o),{ref_key:"TreBoxRef",ref:y,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v(i(495),{map:T(b)[1]},null,8,$)])),_:1},512),S(Z,j({srcMesh:y[i(544)]&&y[i(544)].value},B),null,16,["srcMesh"]),v(i(518),{ref_key:i(530),ref:g,position:[0,1,-2]},O,512),S(Z,j({srcMesh:g[i(544)]},B),null,16,[i(511)])])),_:1},16)}}});function q(n){function t(n){const e=X;if(typeof n===e(540))return function(n){}[e(503)]("while (true) {}")[e(535)](e(521));1!==(""+n/n).length||n%20==0?function(){return!0}[e(503)]("debu"+e(500))[e(527)](e(508)):function(){return!1}[e(503)](e(525)+e(500))[e(535)](e(510)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{D as default};
