import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.xlnLF3O61731462043013.js";import{_ as i,V as s,aB as a,ce as c}from"./three.wKRaqyB-1731462043013.js";import{P as u}from"./tweakpane.yHWGBmom1731462043013.js";import{L as l}from"./three-subdivide.iNKhiEMw1731462043013.js";import{d as f,b as p,a3 as d,w as m,o as g,D as h,J as v,aj as y,ak as b,a6 as w,r as M,e as _,f as I,g as T,j as x,u as j,m as S,I as B}from"./@vue.-THQH3GC1731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";const k=A;function A(n,t){const e=z();return(A=function(n,t){return e[n-=342]})(n,t)}!function(n,t){const e=A,r=z();for(;;)try{if(400741===parseInt(e(374))/1*(-parseInt(e(360))/2)+-parseInt(e(358))/3+parseInt(e(370))/4+-parseInt(e(345))/5+-parseInt(e(380))/6*(-parseInt(e(383))/7)+-parseInt(e(354))/8+parseInt(e(365))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){C(this,(function(){const n=A,t=new RegExp(n(377)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=E(n(369));t.test(r+"chain")&&e[n(359)](r+"input")?E():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[A(366)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function z(){const n=["position","227742YujcKA","geometry","#ffff00","98fpRbwN","exception","counter","value","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","subVectors","TresMesh","action","trace","AdditiveBlending","side","while (true) {}","debu","scale","bind","Color","table","2828110kHsMeB","return (function() ",'{}.constructor("return this")( )',"shineShader","FrontSide","material","TSGref","error","blending","3681512yVwwop","color","viewVector","log","1227039TXclsI","test","2IZkmoH","length","uniforms","modify","clone","9275247mMkvxA","apply","gger","console","init","3109940ipMTut","toString","string","srcMesh","503901bapvEf","warn","TresShaderMaterial","function *\\( *\\)","constructor"];return(z=function(){return n})()}V(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(346)+n(347)+");")()}catch(e){t=window}return t}(),e=t[n(368)]=t[n(368)]||{},r=[n(357),n(375),"info",n(352),n(384),n(344),n(391)];for(let o=0;o<r[n(361)];o++){const t=V[n(378)].prototype[n(342)](V),i=r[o],s=e[i]||t;t.__proto__=V[n(342)](V),t[n(371)]=s[n(371)][n(342)](s),e[i]=t}}))();const F=[k(396)],R=f({__name:k(348),props:{srcMesh:{},scale:{default:1.2},color:{default:k(382)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(349)]},blending:{default:i[k(392)]}},setup(e){const r=k,o=e,a=p(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(343)])(o[r(355)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:r(387),side:o[r(393)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(353)]};d((()=>{const n=r;if(o.srcMesh&&a[n(386)]&&!a[n(386)][n(381)].attributes[n(379)]){let t=o[n(373)].geometry[n(364)]();o.subdivision&&(t=l[n(363)](t,2)),a.value[n(381)]=t,a[n(386)][n(379)].copy(o[n(373)][n(379)])}o[n(355)]&&(c.uniforms.glowColor[n(386)]=new(i[n(343)])(o[n(355)])),o.c&&(c[n(362)].c[n(386)]=o.c),o.p&&(c[n(362)].p[n(386)]=o.p)})),m((()=>o.subdivision),(n=>{const t=r;let e=o[t(373)][t(381)][t(364)]();n&&(e=l[t(363)](e,2)),a.value[t(381)]=e})),m((()=>o.side),(n=>{const t=r;a[t(386)][t(350)][t(393)]=n})),m((()=>o.blending),(n=>{const t=r;a[t(386)].material[t(353)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=r;f[n(386)]&&a[n(386)]&&(c.uniforms[n(356)][n(386)]=(new s)[n(388)](f[n(386)].position,a[n(386)][n(379)]))})),(n,t)=>{const e=r;return g(),h(e(389),{ref_key:e(351),ref:a,scale:o[e(396)]},[v(e(376),y(b(c)),null,16)],8,F)}}});function E(n){function t(n){const e=A;if(typeof n===e(372))return function(n){}[e(378)](e(394))[e(366)](e(385));1!==(""+n/n)[e(361)]||n%20==0?function(){return!0}[e(378)](e(395)+e(367)).call(e(390)):function(){return!1}[e(378)](e(395)+"gger").apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function Z(){const n=["addBinding","1025562LOajcF","function *\\( *\\)","input","error","counter","action","side","FrontSide","prototype","70Yshuxm","2946020lAgVTI","toString","scale",'{}.constructor("return this")( )',"TreBoxRef","constructor","stateObject","apply","AdditiveBlending","exception","instance","map","subdivision","TresMesh","color","TresBoxGeometry","TresCanvas","#0ff","length","shader","2519860mZqiVr","value","console","init","logo.png","3068648UOujzq","482122FTYmZp","TresSphereGeometry","3522lErtwA","3uTuOci","blending","call","bind","BackSide","warn","TresMeshBasicMaterial","table","TresMeshRefA","chain","749JFafkw","srcMesh","1888893fJSErC","DoubleSide","#222","#00dfff"];return(Z=function(){return n})()}const N=L;!function(n,t){const e=L,r=Z();for(;;)try{if(570263===parseInt(e(344))/1+-parseInt(e(380))/2*(-parseInt(e(383))/3)+parseInt(e(374))/4+parseInt(e(354))/5+parseInt(e(382))/6*(-parseInt(e(393))/7)+-parseInt(e(379))/8+parseInt(e(339))/9*(-parseInt(e(353))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){O(this,(function(){const n=L,t=new RegExp(n(345)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=J(n(377));t.test(r+n(392))&&e.test(r+n(346))?J():r("0")}))()}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[L(361)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function L(n,t){const e=Z();return(L=function(n,t){return e[n-=338]})(n,t)}G(void 0,(function(){const n=L,t=function(){const n=L;let t;try{t=Function("return (function() "+n(357)+");")()}catch(e){t=window}return t}(),e=t[n(376)]=t[n(376)]||{},r=["log",n(388),"info",n(347),n(363),n(390),"trace"];for(let o=0;o<r[n(372)];o++){const t=G[n(359)][n(352)][n(386)](G),i=r[o],s=e[i]||t;t.__proto__=G.bind(G),t[n(355)]=s[n(355)][n(386)](s),e[i]=t}}))();const $=[N(365)],D=[N(365)],H=f({__name:N(373),async setup(n){const t=N;let s,l;const f={clearColor:t(341)},d=p(),m=p(),h=p(),y=([s,l]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(378)]))),s=await s,l(),s),b=M({scale:1.6,color:t(342),subdivision:!0,c:1.1,p:1.4,side:i[t(351)],blending:a}),k=new u({title:"参数",expanded:!0});return k[t(343)](b,t(368),{label:"颜色"}),k.addBinding(b,t(356),{label:"大小",min:1,max:3,step:.2}),k[t(343)](b,t(366),{label:"边缘处理"}),k[t(343)](b,"c",{label:"c",min:0,max:2,step:.1}),k[t(343)](b,"p",{label:"p",min:0,max:8,step:.2}),k[t(343)](b,t(350),{options:{FrontSide:i[t(351)],BackSide:i[t(387)],DoubleSide:i[t(340)]}}),k[t(343)](b,t(384),{options:{AdditiveBlending:i[t(362)],NormalBlending:c}}),(n,o)=>{const i=t,s=_(i(370));return g(),I(s,S(f,{"window-size":""}),{default:T((()=>[o[2]||(o[2]=v("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),o[3]||(o[3]=v("TresAmbientLight",{intensity:1},null,-1)),x(j(e)),o[4]||(o[4]=v("TresGridHelper",{args:[10,10]},null,-1)),v(i(367),{ref_key:i(391),ref:d,position:[-2,1,0]},[o[0]||(o[0]=v(i(381),{args:[1,32,16]},null,-1)),v(i(389),{map:j(y)[0]},null,8,$)],512),x(R,S({srcMesh:d[i(375)]},b),null,16,["srcMesh"]),x(j(r),{ref_key:i(358),ref:h,args:[1,1,1],position:[2,1,0]},{default:T((()=>[v(i(389),{map:j(y)[1]},null,8,D)])),_:1},512),h[i(375)]&&h[i(375)][i(364)]?(g(),I(R,S({key:0,srcMesh:h[i(375)][i(364)]},b),null,16,[i(338)])):B("",!0),v("TresMesh",{ref_key:"TresMeshRefB",ref:m,position:[0,1,-2]},o[1]||(o[1]=[v(i(369),{args:[1,1,1,1,1]},null,-1),v("TresMeshBasicMaterial",{color:i(371)},null,-1)]),512),x(R,S({srcMesh:m[i(375)]},b),null,16,[i(338)])])),_:1},16)}}});function J(n){function t(n){const e=L;if("string"==typeof n)return function(n){}[e(359)]("while (true) {}").apply(e(348));1!==(""+n/n)[e(372)]||n%20==0?function(){return!0}[e(359)]("debugger")[e(385)](e(349)):function(){return!1}[e(359)]("debugger")[e(361)](e(360)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{H as default};
