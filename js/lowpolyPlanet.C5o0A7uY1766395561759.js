import{_ as t,K as e,H as o}from"./@tresjs.BAA1xUmy1766395561759.js";import{$ as a,A as s}from"./three.F31Lz30M1766395561759.js";import{_ as n}from"./default.vue_vue_type_script_setup_true_lang.CAtQgJ3a1766395561759.js";import"./shapeConfigurator.vue_vue_type_style_index_1_scoped_abbf0cc1_lang.BYqEDbJP1766395561759.js";import"./Resource.BvxQFOEE1766395561759.js";import{u as r}from"./index.CXi3Eo_71766395561759.js";import"./three-custom-shader-material.CeYMC0bX1766395561759.js";import{d as i,ac as l,w as p,G as u,o as d,ae as c,u as m,F as h,I as j,h as g,W as _,t as f,g as y,e as M,b,ah as w,m as v}from"./@vue.BxPWGdWw1766395561759.js";import"./postprocessing.DuhH-bFK1766395561759.js";import"./@vueuse.KwrREqpH1766395561759.js";import"./@fesjs.BPcJ-D-i1766395561759.js";import"./vue-router.dsrDlQkd1766395561759.js";import"./lodash-es.DWe8oqPO1766395561759.js";import"./pinia.CWQndD0s1766395561759.js";import"./@qlin.y-0Z8WnK1766395561759.js";import"./@babel.BPq7uOAK1766395561759.js";import"./@floating-ui.Bhq4ibgf1766395561759.js";import"./@juggle.Vc7cP4_P1766395561759.js";import"./object-hash.Dv6AILmT1766395561759.js";import"./@amap.fjyZdsU91766395561759.js";import"./jszip.Zzi2WZWj1766395561759.js";import"./three-stdlib.CkaNLsGO1766395561759.js";import"./useLoader.VuwfYjb91766395561759.js";const S=["object"],x=i({__name:"airplane",props:{planet:{}},async setup(e){let o,a;const s=e,{scene:n}=([o,a]=l(()=>r("./plugins/earthSample/model/lowpolyPlanet/airplane.gltf")),o=await o,a(),o),i=n;i.rotation.set(0,Math.PI,0),n.traverse(t=>{t.isMesh&&(t.castShadow=!0)}),i.updateMatrixWorld();const{onBeforeRender:h}=t();p(()=>s.planet,t=>{if(!t)return;t.geometry.computeBoundingSphere();const e=Math.abs(1|t.geometry.boundingSphere?.radius);i.position.set(e,0,0),i.lookAt(t.position)});let j=0;return h(({delta:t})=>{if(!i||!s.planet)return;const e=Math.abs(s.planet.geometry.boundingSphere.radius)+.5;j+=.2*t;const o=e*Math.cos(j),a=e*Math.sin(j);i.position.x=o,i.position.z=a,i.rotation.z=-Math.PI/2,i.rotation.y=-j,i.updateMatrixWorld()}),(t,e)=>(d(),u("primitive",{object:c(m(i))},null,8,S))}}),P=["object"],z=i({__name:"cloud",props:{planet:{}},async setup(e){let o,a;const s=e,{scene:n}=([o,a]=l(()=>r("./plugins/earthSample/model/lowpolyPlanet/cloud.gltf")),o=await o,a(),o),i=n.children[0];function h(t,e){const o=Math.random()*(e-t)+t;return Math.random()<.5?-o:o}i.castShadow=!0,i.position.set(h(-8,8),h(.5,1),h(-8,8));const j=h(.5,1);i.scale.set(j,j,j),i.updateMatrixWorld(),p(()=>s.planet,t=>{t&&(i.lookAt(t.position),i.updateMatrixWorld())});const{onBeforeRender:g}=t();let _=h(-1,1)*Math.PI;const f=Math.random()/10;return g(({delta:t})=>{if(!i)return;const e=Math.abs(s.planet.geometry.boundingSphere.radius-.5);_+=t*f;const o=e*Math.cos(_),a=e*Math.sin(_);i.position.x=o,i.position.z=a,i.rotation.y=-_,i.lookAt(s.planet.position),i.updateMatrixWorld()}),(t,e)=>(d(),u("primitive",{object:c(m(n)),"cast-shadow":""},null,8,P))}}),L=["object"],W=i({__name:"planet",async setup(e){let o,a;const{nodes:s}=([o,a]=l(()=>r("./plugins/earthSample/model/lowpolyPlanet/planet.gltf")),o=await o,a(),o),n=s.Planet,i=s.Icosphere;n.traverse(t=>{t.isMesh&&(t.receiveShadow=!0)});const{onBeforeRender:p}=t();return p(({delta:t})=>{n&&(n.rotation.y+=.04*t,n.rotation.z+=.02*t,n.rotation.x+=.05*t,n.updateMatrixWorld())}),(t,e)=>(d(),u(h,null,[j("primitive",{object:c(m(n))},null,8,L),g(x,{planet:c(m(i))},null,8,["planet"]),(d(),u(h,null,_([1,2,3,4,5,6,7,8,9],t=>g(z,{key:t,planet:c(m(i))},null,8,["planet"])),64))],64))}}),A=i({__name:"lowpolyPlanet",setup(t){const r={clearColor:"#11101B",shadows:!0,alpha:!1,outputColorSpace:s,shadowMapType:a,useLegacyLights:!0},i=f(0),l=({delta:t})=>{i.value+=.02*t};return(t,a)=>{const s=y("TresCanvas");return d(),u(h,null,[g(n),g(s,v(r,{"window-size":"",onLoop:l}),{default:M(()=>[a[0]||(a[0]=j("TresPerspectiveCamera",{position:[0,1,5],fov:75,near:.1,far:1e3},null,-1)),g(m(e)),a[1]||(a[1]=j("TresAmbientLight",{color:"#484068",intensity:1},null,-1)),(d(),b(w,null,{default:M(()=>[g(W)]),_:1})),g(m(o),{rotation:[0,i.value,0],radius:50,depth:50,count:5e3,size:.3,"size-attenuation":!0},null,8,["rotation"]),a[2]||(a[2]=j("TresPointLight",{color:"#1BFFEF",position:[0,0,-8],intensity:80,"cast-shadow":""},null,-1)),a[3]||(a[3]=j("TresDirectionalLight",{position:[0,2,4],intensity:3,"cast-shadow":"","shadow-mapSize-width":2048,"shadow-mapSize-height":2048},null,-1))]),_:1},16)],64)}}});export{A as default};
