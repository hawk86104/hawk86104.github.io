import{_ as t,cl as e,a as i,X as n,bI as s,as as r,C as o,V as a,k as c,m as h,h as u}from"./three._P_a_E_Z1730886807320.js";const l=f;function f(t,e){const i=m();return(f=function(t,e){return i[t-=145]})(t,e)}!function(t,e){const i=f,n=m();for(;;)try{if(699452===parseInt(i(438))/1+-parseInt(i(553))/2*(-parseInt(i(325))/3)+-parseInt(i(514))/4*(parseInt(i(297))/5)+parseInt(i(402))/6+parseInt(i(454))/7*(parseInt(i(447))/8)+parseInt(i(157))/9+-parseInt(i(585))/10)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(400)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){p(this,(function(){const t=f,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(592),"i"),n=v(t(560));e[t(300)](n+t(388))&&i[t(300)](n+t(488))?v():n("0")}))()}();const d=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function m(){const t=["updateCounts","branchAvoidanceFunctions","trace","AdditiveBlending","    vec3 value = vec3( 0.0 );","      vec3 axis = unpackRotationAxis( rotation.x );","   }","getFromPool","    #endif","    vec3 force = vec3( 0.0 );","float when_ge(float x, float y) {","vec3 getAcceleration( in float age ) {","       float c = cos( -vAngle );","    return value;","attribute vec3 rotationCenter;","_assignAngleValue","           unpackColor( color.y ),","_assignParamsValue","particles, can support only","setVec3","TypedArray is already of size:","attributes","        float wiggleAmount = positionInTime * getWiggle();","    gl_PointSize = pointSizePerspective;","activationIndex","chain","textureLoop","_assignForceValue","action","roundToNearestMultiple","string","   return modelViewMatrix * vec4( position, 1.0 );","BufferGeometry","sin","resetFlags","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","clamp","apply","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","4256934RrFLRU","randomVector3OnSphere","varyings","   c *= vec3( 2.0 );","Points","warn","distribution","        pos.y += wiggleCos;","paramFetchingFunctions","releaseIntoPool","        float framesX = textureAnimation.x;","_distribution","fog_fragment","number","transparent","abs","      vec3 center = rotationCenter;","common","lerpTypeAgnostic","direction","_angleSpread","    force *= drag;","SPE.Group: maxParticleCount exceeded. Requesting","lerp","    return 1.0 - abs( sign( x - y ) );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","removeEmitter","attribute vec4 size;","   c.g = g / PACKED_COLOR_DIVISOR;","SHOULD_WIGGLE_PARTICLES","randomFloat","_radius","_spreadClamp","        float columnNorm = column / framesX;","   return velocity * age;","typeSizeMap","714442jsDOhF","_assignValue","activeParticleCount","axis","alive","needsUpdate","mesh","call","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","4376XJQVMr","colorize","_axisSpread","position","set","while (true) {}","setVec4Components","15113eVnELA","deltaTime","updateMap","type","_ensureTypedArray","drag","setAttribute","shrink","   vec3 c = vec3( 0.0 );","uniform float runTime;","Vector4","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","debu","_spread","bufferUpdateRanges","_resetBufferRanges","return (function() ","    float fIndex = 0.0;","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","randomVector3OnDisc","dispose","max","float getMaxAge() {","float when_eq( float x, float y ) {","addPool","disable","SPE.Group pool ran out.","SPHERE","rotation","varying vec4 vColor;","fog","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","fragment","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","input","setNumber","Color","           unpackColor( color.w )","_createNewWhenPoolEmpty","group","POSITIVE_INFINITY","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","           unpackColor( color.x ),","size","maxAge","componentSize","amd","   c.r = r / PACKED_COLOR_DIVISOR;","    highp float maxAge = getMaxAge();","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","arrayValuesAreEqual","floatOverLifetime","usage","#define PACKED_COLOR_DIVISOR 255.0","_updateUniforms","maxParticleCount","        pos = getRotation( pos, positionInTime );","tick","Argument is not instanceof SPE.Emitter:","_calculatePPSValue","11044WQAqeZ","attributeKeys","geometry","logdepthbuf_pars_vertex","      float angle = 0.0;","attributeEnd","resetDynamic","_radiusScale","    vColor = vec4( c, o );","       float s = sin(angle);","vec3 getVelocity( in float age ) {","function","reset","uniform float scale;","counter","       );","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","      rotationMatrix = getRotationMatrix( axis, angle );","setUpdateRange","join","   c.b = b / PACKED_COLOR_DIVISOR;","Emitter","      vec3 translated;","_applyAttributesToGeometry","attributeCount","    #ifdef SHOULD_WIGGLE_PARTICLES","fog_pars_vertex","    varying vec4 vSpriteSheet;","       vec3 c = vec3(1.0);","_updateAttributeUpdateRange","sqrt","    #ifdef COLORIZE","forceFetchingFunctions","unshift","activationEnd","        vSpriteSheet.y = 1.0 / framesY;","grow","uniforms","   return acceleration.xyz * age;","2XRBbGj","uniform vec4 textureAnimation;","float getAlive() {","      mat4 rotationMatrix;","log","table","uniform float deltaTime;","init","setFromArray","ensureArrayInstanceOf","attribute vec4 acceleration;","    float pointSizePerspective = pointSize * perspective;","emitterIDs","_updateDefines","#endif","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","acceleration","    }","prototype","opacity","fog_vertex","scale","#ifdef SHOULD_ROTATE_TEXTURE","_poolCreationSettings","_triggerSingleEmitter","    #ifdef SHOULD_ROTATE_TEXTURE","color","randomVector3","           positionInTime,","attribute vec4 angle;","   return params.z;","      }","28033350XABikg","boolean","setMat3","Will not resize.","textureFrameCount","   float b = mod( hex, PACKED_COLOR_SIZE );","duration","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","enable","   return c;","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","angleSpread","texture","NUMBER","ensureArrayTypedArg","resetUpdateRange","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","random","_setAttributeOffset","_onRemove","ensureInstanceOf","    #else","vec4 getPosition( in float age ) {","error","distributions","particleCount","_center","        vSpriteSheet.x = 1.0 / framesX;","DISC","_attributesNeedRefresh","alphaTest","920619QpgDEv","static","OBJECT","copy","_resetParticle","SHOULD_ROTATE_TEXTURE","generateUUID","_axis","void main() {","        float framesY = textureAnimation.y;","rotationCenter","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","valueOverLifetimeLength","exports","MathUtils","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","_decrementParticleCount","shaders","    #ifdef SHOULD_CALCULATE_SPRITE","dynamicBuffer","attributeOffset","_assignRotationValue","info","       fIndex = float( i );","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","Vector2","Texture","isArray","TypedArrayConstructor","float when_lt(float x, float y) {","array","ShaderChunk","    highp float value = 0.0;","age","ShaderAttribute","_incrementParticleCount","getPool","axisSpread","    vec3 vel = getVelocity( age );","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","DynamicDrawUsage","   c -= vec3( 1.0 );","NEGATIVE_INFINITY","_assignColorValue","emitters","attribute vec4 opacity;","       float c = cos(angle);","frames","randomise","toString","    force += accel * age;","Vector3","types","   return params.w;","#ifdef SHOULD_ROTATE_PARTICLES","vec3 unpackColor( in float hex ) {","unpackRotationAxis","setVec2Components","min","count","particlesPerSecond","normalize","float when_le(float x, float y) {","updateFlags","TypedArrayHelper","clone","        float loopCount = textureAnimation.w;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","        pos.z += wiggleSin;","Emitter does not exist in this group. Will not remove.","bufferAttribute","textureFrames","elements","subarray","getHex","    #ifdef ALPHATEST","bind","setVec3Components","offset","_assignAbsLifetimeValue","stateObject","multiplyScalar","rotationFunctions","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","splice","BOOLEAN","velocity","    pos += force;","typedArray","value","   return params.y;","       vec3 c = isAlive * getColorOverLifetime(","depthTest","        float columnNorm = vSpriteSheet.z;","object","LINE","setMat4","indexOf","_setBufferUpdateRanges","console","triggerPoolEmitter","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","vec3 unpackRotationAxis( in float hex ) {","remove","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","params","       float x = gl_PointCoord.x - 0.5;","        float row = floor( (frameNumber - column) / framesX );","angle","randomColorAsHex","cos","hasOwnProperty","push","getLength","_createGetterSetters","SHOULD_ROTATE_PARTICLES","blending","    vec3 pos = vec3( position );","arrayType","wiggle","       float oc = 1.0 - c;","getComponentValueAtIndex","round","ensureValueOverLifetimeCompliance","undefined","length","_value","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","REVISION","        float perspective = scale / length( mvPosition.xyz );","utils","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","           return pos;","paramsArray","    #ifdef SHOULD_ROTATE_PARTICLES","`emitter` argument must be instance of SPE.Emitter. Was provided with:","flagUpdate","    return min(a + b, 1.0);","    return a * b;","905ZEHifd","setSize","Emitter already exists in this group. Will not add again.","test","   return params.x;","_rotationCenter","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","randomVector3OnLine","setVec2","isStatic","BOX","radius","Group","uuid","_attributesNeedDynamicReset","       axis = normalize(axis);","attribute vec4 rotation;","forceUpdateAll","Invalid argument types, or argument types do not match:","updateMax","Emitter does not belong to a group, cannot remove.","indexOffset","defines","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","  return 1.0 - when_lt(x, y);","_checkParticleAges","SHOULD_CALCULATE_SPRITE","depthWrite","3885999jyNjsf","    highp float isAlive = when_gt( alive, 0.0 );","    #ifdef HAS_PERSPECTIVE","spread","material","       float s = sin( -vAngle );","shaderChunks","colorOverLifetime","ensureTypedArg","gger","fixedTimeStep","getValueAtIndex","randomDirectionVector3OnDisc","addEmitter","activeMultiplier","    gl_Position = projectionMatrix * mvPosition;","bufferUpdateKeys","hasPerspective","distributionClamp","    float shouldApplyValue = 0.0;","updateRange","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","setColor","    return max(sign(x - y), 0.0);","interpolateArray","attribute vec3 velocity;","        float wiggleSin = isAlive * sin( wiggleAmount );","_createBufferAttribute","       float y = 1.0 - gl_PointCoord.y - 0.5;","Emitter already belongs to another group. Will not add to requested group.","loop","_assignPositionValue","#define PACKED_COLOR_SIZE 256.0","_pool","    vec3 accel = getAcceleration( age );","constructor","updateMin","       if ( vColor.w < float(ALPHATEST) ) discard;"];return(m=function(){return t})()}d(void 0,(function(){const t=f,e=function(){const t=f;let e;try{e=Function(t(470)+'{}.constructor("return this")( ));')()}catch(i){e=window}return e}(),i=e[t(256)]=e.console||{},n=[t(557),t(407),t(179),t(149),"exception",t(558),t(365)];for(let s=0;s<n.length;s++){const e=d[t(360)][t(571)][t(233)](d),r=n[s],o=i[r]||e;e.__proto__=d[t(233)](d),e[t(206)]=o[t(206)].bind(o),i[r]=e}}))();const g={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===l(525)&&define[l(500)]?define("spe",g):typeof exports!==l(281)&&"undefined"!=typeof module&&(module[l(170)]=g),g.TypedArrayHelper=function(t,e,i,n){const s=l;this[s(499)]=i||1,this[s(497)]=e||1,this[s(185)]=t||Float32Array,this[s(187)]=new t(e*this[s(499)]),this[s(318)]=n||0},g[l(221)][l(360)]=g[l(221)],g[l(221)][l(571)][l(298)]=function(t,e){const i=l,n=this[i(187)][i(282)];return!e&&(t*=this[i(499)]),t<n?this[i(461)](t):t>n?this[i(550)](t):void console[i(179)](i(383),t+".",i(588))},g[l(221)][l(571)].shrink=function(t){const e=l;return this[e(187)]=this.array[e(230)](0,t),this[e(497)]=t,this},g[l(221)].prototype[l(550)]=function(t){const e=l,i=this[e(187)],n=new(this[e(185)])(t);return n.set(i),this[e(187)]=n,this[e(497)]=t,this},g[l(221)].prototype[l(241)]=function(t,e){const i=l;t*=this.componentSize,e*=this[i(499)];const n=[],s=this[i(187)],r=s[i(282)];for(let o=0;o<r;++o)(o<t||o>=e)&&n.push(s[o]);return this[i(561)](0,n),this},g[l(221)][l(571)].setFromArray=function(t,e){const i=l,n=t+e[i(282)];return n>this[i(187)][i(282)]?this[i(550)](n):n<this[i(187)][i(282)]&&this[i(461)](n),this[i(187)][i(451)](e,this[i(318)]+t),this},g[l(221)][l(571)][l(305)]=function(t,e){return this.setVec2Components(t,e.x,e.y)},g[l(221)][l(571)][l(214)]=function(t,e,i){const n=l,s=this[n(187)],r=this[n(318)]+t*this[n(499)];return s[r]=e,s[r+1]=i,this},g[l(221)][l(571)].setVec3=function(t,e){return this[l(234)](t,e.x,e.y,e.z)},g.TypedArrayHelper[l(571)][l(234)]=function(t,e,i,n){const s=l,r=this[s(187)],o=this.indexOffset+t*this[s(499)];return r[o]=e,r[o+1]=i,r[o+2]=n,this},g[l(221)][l(571)].setVec4=function(t,e){return this[l(453)](t,e.x,e.y,e.z,e.w)},g[l(221)][l(571)][l(453)]=function(t,e,i,n,s){const r=l,o=this[r(187)],a=this[r(318)]+t*this[r(499)];return o[a]=e,o[a+1]=i,o[a+2]=n,o[a+3]=s,this},g.TypedArrayHelper[l(571)][l(587)]=function(t,e){const i=l;return this[i(561)](this[i(318)]+t*this.componentSize,e.elements)},g.TypedArrayHelper[l(571)][l(253)]=function(t,e){const i=l;return this.setFromArray(this[i(318)]+t*this[i(499)],e[i(229)])},g[l(221)][l(571)][l(347)]=function(t,e){return this[l(234)](t,e.r,e.g,e.b)},g[l(221)][l(571)][l(489)]=function(t,e){const i=l;return this[i(187)][this[i(318)]+t*this[i(499)]]=e,this},g.TypedArrayHelper[l(571)][l(336)]=function(t){const e=l;return this[e(187)][this[e(318)]+t]},g.TypedArrayHelper[l(571)][l(278)]=function(t){const e=l;return this[e(187)][e(230)](this.indexOffset+t*this[e(499)])},g[l(191)]=function(t,e,i){const n=l,s=g[n(191)][n(437)];this[n(457)]=typeof t===n(393)&&s[n(268)](t)?t:"f",this[n(499)]=s[this[n(457)]],this[n(275)]=i||Float32Array,this[n(245)]=null,this.bufferAttribute=null,this[n(176)]=!!e,this[n(361)]=0,this[n(316)]=0},g[l(191)][l(360)]=g.ShaderAttribute,g.ShaderAttribute.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},g.ShaderAttribute[l(571)].setUpdateRange=function(t,e){const i=l;this[i(361)]=Math.min(t*this.componentSize,this[i(361)]*this[i(499)]),this.updateMax=Math[i(475)](e*this[i(499)],this[i(316)]*this[i(499)])},g[l(191)][l(571)][l(294)]=function(){const t=l,e=this[t(227)],i=e[t(345)];i[t(235)]=this.updateMin,i.count=Math.min(this[t(316)]-this[t(361)]+this[t(499)],this[t(245)][t(187)][t(282)]),e.needsUpdate=!0},g[l(191)].prototype.resetUpdateRange=function(){const t=l;this.updateMin=0,this[t(316)]=0},g.ShaderAttribute[l(571)][l(520)]=function(){const i=l;this.bufferAttribute[i(506)]=this[i(176)]?t[i(197)]:e},g[l(191)][l(571)].splice=function(t,e){const i=l;this[i(245)].splice(t,e),this[i(314)]()},g[l(191)][l(571)].forceUpdateAll=function(){const t=l;this[t(227)][t(187)]=this.typedArray.array,this.bufferAttribute[t(345)].offset=0,this[t(227)][t(345)][t(216)]=-1,this.bufferAttribute[t(506)]=e,this[t(227)][t(443)]=!0},g.ShaderAttribute.prototype[l(458)]=function(t){const e=l;null!==this[e(245)]&&this.typedArray[e(497)]===t*this[e(499)]||(null!==this[e(245)]&&this[e(245)][e(497)]!==t?this.typedArray[e(298)](t):null===this[e(245)]&&(this[e(245)]=new(g[e(221)])(this.arrayType,t,this[e(499)])))},g[l(191)].prototype._createBufferAttribute=function(s){const r=l;if(this[r(458)](s),null!==this[r(227)])return this[r(227)][r(187)]=this[r(245)][r(187)],parseFloat(t[r(285)])>=81&&(this[r(227)][r(216)]=this[r(227)][r(187)].length/this[r(227)].itemSize),void(this[r(227)].needsUpdate=!0);this.bufferAttribute=new i(this.typedArray.array,this[r(499)]),this[r(227)].usage=this[r(176)]?n:e},g[l(191)][l(571)][l(270)]=function(){const t=l;return null===this[t(245)]?0:this[t(245)][t(187)][t(282)]},g.shaderChunks={defines:[l(357),l(507)][l(533)]("\n"),uniforms:[l(559),l(463),"uniform sampler2D tex;",l(554),l(527)].join("\n"),attributes:[l(563),l(350),l(313),l(377),"attribute vec4 params;",l(429),l(582),"attribute vec4 color;",l(202)][l(533)]("\n"),varyings:[l(483),l(575),"    varying float vAngle;",l(567),"#ifdef SHOULD_CALCULATE_SPRITE",l(541),l(567)].join("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {",l(348),"}",l(186),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",l(477),l(426),"}",l(373),l(321),"}",l(219),"  return 1.0 - when_gt(x, y);","}","float and(float a, float b) {",l(296),"}","float or(float a, float b) {",l(295),"}"][l(533)]("\n"),unpackColor:[l(212),l(462),l(261),l(427),l(590),"   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;",l(594),"}"][l(533)]("\n"),unpackRotationAxis:[l(259),l(462),l(261),l(427),"   float b = mod( hex, PACKED_COLOR_SIZE );",l(501),l(430),l(534),l(405),l(198),"   return c;","}"][l(533)]("\n"),floatOverLifetime:[l(401),l(189),l(196),l(471),l(344),l(168),"",l(595),l(180),"       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );",l(224),l(570),"",l(376),"}"][l(533)]("\n"),colorOverLifetime:[l(346),l(367),l(601),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",l(472),l(376),"}"][l(533)]("\n"),paramFetchingFunctions:[l(555),l(301),"}","float getAge() {",l(247),"}",l(476),l(583),"}","float getWiggle() {",l(210),"}"][l(533)]("\n"),forceFetchingFunctions:[l(148),l(394),"}",l(524),l(436),"}",l(374),l(552),"}"][l(533)]("\n"),rotationFunctions:[l(211),l(240),l(312),l(523),l(203),l(277),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",l(446),l(303),"                   0.0,                                0.0,                                0.0,                                1.0);",l(369),"",l(465),"      if( rotation.y == 0.0 ) {",l(290),l(584),"",l(368),l(418),l(536),l(556),l(518),l(289),l(288),"      translated = rotationCenter - pos;",l(531),l(258),l(369),l(567)].join("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","",l(578),l(263),l(353),l(375),l(330),l(181),l(371),"",l(175),"        float framesX = vSpriteSheet.x;","        float framesY = vSpriteSheet.y;",l(250),"        float rowNorm = vSpriteSheet.w;",l(284),l(398),l(371),"","    vec4 rotatedTexture = texture2D( tex, vUv );"][l(533)]("\n")},g.shaders={vertex:[g[l(331)][l(319)],g.shaderChunks.uniforms,g[l(331)].attributes,g[l(331)][l(404)],t[l(188)][l(419)],t[l(188)][l(517)],t[l(188)][l(540)],g[l(331)][l(364)],g[l(331)].unpackColor,g[l(331)][l(213)],g[l(331)][l(505)],g[l(331)][l(332)],g.shaderChunks[l(410)],g[l(331)][l(546)],g.shaderChunks[l(239)],l(165),"    highp float age = getAge();","    highp float alive = getAlive();",l(502),"    highp float positionInTime = (age / maxAge);",l(326),"    #ifdef SHOULD_WIGGLE_PARTICLES",l(385),l(351),"        float wiggleCos = isAlive * cos( wiggleAmount );",l(371),l(195),l(359),l(372),l(274),l(602),"    force += vel;",l(423),l(207),l(244),l(539),"        pos.x += wiggleSin;",l(409),l(225),"    #endif",l(292),l(510),l(371),l(320),"    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;",l(327),l(286),l(147),"        float perspective = 1.0;",l(371),l(564),l(545),l(248),l(581),l(496),l(379),"           unpackColor( color.z ),",l(491),l(529),"    #else",l(542),l(371),l(172),l(522),"    #ifdef SHOULD_ROTATE_TEXTURE",l(495),"    #endif",l(175),l(412),l(166),l(223),"        float totalFrames = textureAnimation.z;",l(487),"        float column = floor(mod( frameNumber, framesX ));",l(264),l(435),"        float rowNorm = row / framesY;",l(153),l(549),"        vSpriteSheet.z = columnNorm;","        vSpriteSheet.w = rowNorm;","    #endif",l(386),l(340),s.logdepthbuf_vertex,s[l(573)],"}"][l(533)]("\n"),fragment:[g[l(331)][l(551)],t[l(188)][l(419)],s.fog_pars_fragment,t[l(188)].logdepthbuf_pars_fragment,g.shaderChunks[l(404)],g[l(331)][l(364)],l(165),"    vec3 outgoingLight = vColor.xyz;","    ",l(232),l(362),l(371),g.shaderChunks.rotateTexture,s.logdepthbuf_fragment,l(568),l(530),s[l(414)],"}"][l(533)]("\n")},g[l(287)]={types:{BOOLEAN:l(586),STRING:l(393),NUMBER:"number",OBJECT:l(251)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=l;if(Array[n(184)](t)){for(let s=t[n(282)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(333)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=l;if(Array[n(184)](t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[n(146)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=l;e=e||3,i=i||3,!1===Array[n(184)](t[n(283)])&&(t[n(283)]=[t[n(283)]]),!1===Array[n(184)](t[n(467)])&&(t._spread=[t[n(467)]]);const s=this[n(399)](t._value[n(282)],e,i),r=this[n(399)](t[n(467)][n(282)],e,i),o=Math[n(475)](s,r);t[n(283)][n(282)]!==o&&(t[n(283)]=this[n(349)](t[n(283)],o)),t._spread[n(282)]!==o&&(t._spread=this[n(349)](t[n(467)],o))},interpolateArray(t,e){const i=l,n=t[i(282)],s=[typeof t[0].clone===i(525)?t[0][i(222)]():t[0]],r=(n-1)/(e-1);for(let o=1;o<e-1;++o){const e=o*r,n=Math.floor(e),a=Math.ceil(e),c=e-n;s[o]=this[i(420)](t[n],t[a],c)}return s[i(269)]("function"==typeof t[n-1][i(222)]?t[n-1].clone():t[n-1]),s},clamp:(t,e,i)=>Math[l(475)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[l(603)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=l;let a,c=this[s(209)];return typeof e===c[s(598)]&&typeof i===c[s(598)]?e+(i-e)*n:e instanceof t[s(182)]&&i instanceof t[s(182)]?(a=e[s(222)](),a.x=this[s(425)](e.x,i.x,n),a.y=this[s(425)](e.y,i.y,n),a):e instanceof t[s(208)]&&i instanceof t[s(208)]?(a=e.clone(),a.x=this[s(425)](e.x,i.x,n),a.y=this[s(425)](e.y,i.y,n),a.z=this[s(425)](e.z,i.z,n),a):e instanceof r&&i instanceof r?(a=e[s(222)](),a.x=this[s(425)](e.x,i.x,n),a.y=this[s(425)](e.y,i.y,n),a.z=this[s(425)](e.z,i.z,n),a.w=this[s(425)](e.w,i.w,n),a):e instanceof o&&i instanceof t[s(490)]?(a=e[s(222)](),a.r=this[s(425)](e.r,i.r,n),a.g=this[s(425)](e.g,i.g,n),a.b=this[s(425)](e.b,i.b,n),a):void console.warn(s(315),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){let i=0;return 0===e?t:(i=Math[l(417)](t)%e,0===i?t:t<0?-(Math.abs(t)-i):t+e-i)},arrayValuesAreEqual(t){const e=l;for(let i=0;i<t[e(282)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[l(603)]()-.5),randomVector3(t,e,i,n,s){const r=l;let o=i.x+(Math.random()*n.x-.5*n.x),a=i.y+(Math[r(603)]()*n.y-.5*n.y),c=i.z+(Math.random()*n.z-.5*n.z);s&&(o=.5*-s.x+this[r(392)](o,s.x),a=.5*-s.y+this[r(392)](a,s.y),c=.5*-s.z+this.roundToNearestMultiple(c,s.z)),t[r(245)][r(234)](e,o,a,c)},randomColor(t,e,i,n){const s=l;let r=i.r+Math.random()*n.x,o=i.g+Math[s(603)]()*n.y,a=i.b+Math[s(603)]()*n.z;r=this[s(399)](r,0,1),o=this[s(399)](o,0,1),a=this[s(399)](a,0,1),t[s(245)][s(234)](e,r,o,a)},randomColorAsHex:function(){const e=l,i=new(t[e(490)]);return function(t,n,s,r){const o=e,a=s[o(282)],c=[];for(let e=0;e<a;++e){const t=r[e];i[o(160)](s[e]),i.r+=Math[o(603)]()*t.x-.5*t.x,i.g+=Math[o(603)]()*t.y-.5*t.y,i.b+=Math[o(603)]()*t.z-.5*t.z,i.r=this[o(399)](i.r,0,1),i.g=this.clamp(i.g,0,1),i.b=this[o(399)](i.b,0,1),c.push(i[o(231)]())}t[o(245)][o(453)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=l,r=i.clone();r[s(425)](n,Math[s(603)]()),t[s(245)][s(234)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,s,r,o,a){const c=l;let h=2*Math[c(603)]()-1,u=6.2832*Math.random(),f=Math[c(544)](1-h*h),p=this.randomFloat(n,s),d=0,m=0,g=0;o&&(p=Math[c(279)](p/o)*o),d=f*Math.cos(u)*p,m=f*Math[c(396)](u)*p,g=h*p,d*=r.x,m*=r.y,g*=r.z,d+=i.x,m+=i.y,g+=i.z,t[c(245)][c(234)](e,d,m,g)},seededRandom(t){const e=1e4*Math[l(396)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,r,o){const a=l;let c=6.2832*Math[a(603)](),h=Math[a(417)](this[a(432)](n,s)),u=0,f=0,p=0;o&&(h=Math[a(279)](h/o)*o),u=Math[a(267)](c)*h,f=Math.sin(c)*h,u*=r.x,f*=r.y,u+=i.x,f+=i.y,p+=i.z,t[a(245)][a(234)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=l,i=new(t[e(208)]);return function(t,n,s,r,o,a,c,h){const u=e;i[u(160)](a),i.x-=s,i.y-=r,i.z-=o,i.normalize()[u(238)](-this.randomFloat(c,h)),t.typedArray[u(234)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new a;return function(e,i,n,s,r,o,a,c){const h=f;t.copy(o),t.x-=n,t.y-=s,t.z-=r,t[h(218)]()[h(238)](-this[h(432)](a,c)),e.typedArray[h(234)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=l,i=new a,n=new(t[e(208)]),s=new(t[e(490)]),r=new(t[e(208)])(1,1,1);return function(t,o){const a=e;return i.copy(t)[a(218)](),n[a(160)](o)[a(218)](),i.x+=.5*-o.x+Math[a(603)]()*o.x,i.y+=.5*-o.y+Math.random()*o.y,i.z+=.5*-o.z+Math.random()*o.z,i[a(218)]().add(r)[a(238)](.5),s.setRGB(i.x,i.y,i.z),s.getHex()}}()},g.Group=function(e){const i=l,n=g.utils,s=n[i(209)];(e=n[i(333)](e,s[i(159)],{}))[i(597)]=n[i(333)](e[i(597)],s[i(159)],{}),this[i(310)]=t[i(171)].generateUUID(),this[i(335)]=n[i(333)](e.fixedTimeStep,s[i(598)],.016),this[i(597)]=n[i(146)](e[i(597)][i(246)],t[i(183)],null),this[i(228)]=n[i(146)](e[i(597)][i(204)],t[i(182)],new c(1,1)),this[i(589)]=n.ensureTypedArg(e[i(597)].frameCount,s.NUMBER,this[i(228)].x*this[i(228)].y),this[i(389)]=n.ensureTypedArg(e.texture[i(355)],s[i(598)],1),this[i(228)].max(new(t[i(182)])(1,1)),this[i(342)]=n[i(333)](e[i(342)],s[i(242)],!0),this[i(448)]=n[i(333)](e[i(448)],s[i(242)],!0),this[i(509)]=n[i(333)](e[i(509)],s[i(598)],null),this.blending=n[i(333)](e[i(273)],s.NUMBER,t[i(366)]),this[i(416)]=n[i(333)](e[i(416)],s[i(242)],!0),this[i(156)]=parseFloat(n[i(333)](e[i(156)],s[i(598)],0)),this[i(324)]=n.ensureTypedArg(e[i(324)],s[i(242)],!1),this[i(249)]=n[i(333)](e.depthTest,s.BOOLEAN,!0),this[i(484)]=n.ensureTypedArg(e[i(484)],s.BOOLEAN,!0),this[i(574)]=n[i(333)](e.scale,s[i(598)],300),this.emitters=[],this[i(565)]=[],this[i(358)]=[],this[i(576)]=null,this[i(492)]=0,this[i(155)]=!1,this[i(311)]=!1,this[i(151)]=0,this[i(551)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(t[i(464)])(this.textureFrames.x,this[i(228)].y,this[i(589)],Math.max(Math[i(417)](this[i(389)]),1))},fogColor:{type:"c",value:this[i(484)]?new(t[i(490)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(574)]}},this.defines={HAS_PERSPECTIVE:this[i(342)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:g[i(169)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(228)].x>1||this[i(228)].y>1},this[i(384)]={position:new(g[i(191)])("v3",!0),acceleration:new(g[i(191)])("v4",!0),velocity:new g.ShaderAttribute("v3",!0),rotation:new(g[i(191)])("v4",!0),rotationCenter:new g.ShaderAttribute("v3",!0),params:new g.ShaderAttribute("v4",!0),size:new(g[i(191)])("v4",!0),angle:new g.ShaderAttribute("v4",!0),color:new(g[i(191)])("v4",!0),opacity:new(g[i(191)])("v4",!0)},this[i(515)]=Object.keys(this[i(384)]),this[i(538)]=this[i(515)][i(282)],this.material=new h({uniforms:this[i(551)],vertexShader:g[i(174)].vertex,fragmentShader:g.shaders[i(486)],blending:this.blending,transparent:this[i(416)],alphaTest:this[i(156)],depthWrite:this.depthWrite,depthTest:this.depthTest,defines:this.defines,fog:this[i(484)]}),this[i(516)]=new(t[i(395)]),this[i(444)]=new(t[i(406)])(this[i(516)],this.material),null===this[i(509)]&&console[i(407)](i(503))},g[l(309)][l(360)]=g[l(309)],g[l(309)].prototype[l(566)]=function(){const t=l;let e,i=this[t(201)],n=i.length-1,s=this[t(319)];for(;n>=0;--n)e=i[n],!s[t(323)]&&(s[t(162)]=s[t(162)]||!!Math[t(475)](Math[t(475)][t(400)](null,e[t(265)][t(246)]),Math[t(475)][t(400)](null,e[t(265)][t(328)]))),s[t(272)]=s[t(272)]||!!Math[t(475)](e[t(482)][t(265)],e[t(482)][t(596)]),s[t(431)]=s.SHOULD_WIGGLE_PARTICLES||!!Math[t(475)](e.wiggle.value,e[t(276)][t(328)]);this[t(329)][t(443)]=!0},g[l(309)][l(571)][l(537)]=function(){const t=l;let e,i,n=this[t(384)],s=this.geometry,r=s[t(384)];for(const o in n)n[t(268)](o)&&(e=n[o],i=r[o],i?i[t(187)]=e[t(245)][t(187)]:s[t(460)](o,e[t(227)]),e[t(227)].needsUpdate=!0);this[t(516)].setDrawRange(0,this[t(151)])},g[l(309)].prototype[l(338)]=function(t){const e=l;if(t instanceof g[e(535)]==!1)return void console[e(149)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(565)][e(254)](t.uuid)>-1)return void console[e(149)](e(299));if(null!==t[e(493)])return void console.error(e(354));const i=this[e(384)],n=this[e(151)],s=n+t[e(151)];this.particleCount=s,null!==this[e(509)]&&this[e(151)]>this[e(509)]&&console[e(407)](e(424),this[e(151)],e(381),this[e(509)]),t[e(513)](t[e(498)][e(283)]+t[e(498)][e(467)]),t._setBufferUpdateRanges(this.attributeKeys),t._setAttributeOffset(n),t[e(493)]=this,t.attributes=this[e(384)];for(const r in i)i[e(268)](r)&&i[r][e(352)](null!==this[e(509)]?this[e(509)]:this.particleCount);for(let r=n;r<s;++r)t[e(356)](r),t[e(390)](r,e(243)),t[e(390)](r,e(569)),t[e(236)](r,e(572)),t[e(236)](r,"size"),t[e(378)](r),t[e(178)](r),t._assignParamsValue(r),t[e(200)](r);return this._applyAttributesToGeometry(),this[e(201)][e(269)](t),this[e(565)][e(269)](t.uuid),this[e(566)](t),this[e(329)][e(443)]=!0,this[e(516)][e(443)]=!0,this[e(155)]=!0,this},g[l(309)].prototype[l(428)]=function(t){const e=l,i=this[e(565)][e(254)](t.uuid);if(t instanceof g.Emitter==!1)return void console[e(149)](e(293),t);if(-1===i)return void console[e(149)](e(226));const n=t.attributeOffset,s=n+t.particleCount,r=this[e(384)][e(262)].typedArray;for(let o=n;o<s;++o)r[e(187)][4*o]=0,r[e(187)][4*o+1]=0;this[e(201)][e(241)](i,1),this[e(565)].splice(i,1);for(const o in this[e(384)])this[e(384)].hasOwnProperty(o)&&this[e(384)][o][e(241)](n,s);this[e(151)]-=t[e(151)],t[e(145)](),this._attributesNeedRefresh=!0},g.Group[l(571)][l(370)]=function(){const t=l,e=this[t(358)],i=this[t(492)];if(e.length)return e.pop();if(i){const e=new(g[t(535)])(this._poolCreationSettings);return this[t(338)](e),e}return null},g[l(309)][l(571)].releaseIntoPool=function(t){const e=l;if(t instanceof g[e(535)]!=!1)return t[e(526)](),this._pool[e(547)](t),this;console[e(149)](e(512),t)},g[l(309)][l(571)][l(193)]=function(){return this[l(358)]},g.Group[l(571)][l(478)]=function(t,e,i){const n=l;let s;this[n(576)]=e,this[n(492)]=!!i;for(let r=0;r<t;++r)s=Array[n(184)](e)?new(g[n(535)])(e[r]):new(g[n(535)])(e),this[n(338)](s),this[n(411)](s);return this},g[l(309)][l(571)]._triggerSingleEmitter=function(t){const e=l,i=this[e(370)](),n=this;if(null!==i)return t instanceof a&&(i.position.value[e(160)](t),i.position[e(246)]=i[e(450)][e(246)]),i.enable(),setTimeout((()=>{const t=e;i[t(479)](),n[t(411)](i)}),1e3*Math[e(475)](i.duration,i[e(498)][e(246)]+i[e(498)][e(328)])),this;console[e(557)](e(480))},g[l(309)][l(571)][l(257)]=function(t,e){const i=l;if(typeof t===i(415)&&t>1)for(let n=0;n<t;++n)this[i(577)](e);else this[i(577)](e);return this},g.Group.prototype[l(508)]=function(t){const e=l;this.uniforms.runTime[e(246)]+=t,this[e(551)][e(455)][e(246)]=t},g[l(309)].prototype[l(469)]=function(){const t=l;let e=this.attributeKeys,i=this[t(538)]-1,n=this[t(384)];for(;i>=0;--i)n[e[i]][t(600)]()},g[l(309)][l(571)]._updateBuffers=function(t){const e=l;let i,n,s,r=this[e(515)],o=this[e(538)]-1,a=this[e(384)],c=t[e(468)];for(;o>=0;--o)i=r[o],n=c[i],s=a[i],s[e(532)](n.min,n[e(475)]),s[e(294)]()},g[l(309)][l(571)].tick=function(t){const e=l;var i=this.emitters,n=i[e(282)],s=t||this.fixedTimeStep,r=this[e(515)],o=this[e(384)];if(this[e(508)](s),this[e(469)](),0!==n||!1!==this[e(155)]||!1!==this[e(311)]){for(var a,c=0;c<n;++c)(a=i[c]).tick(s),this._updateBuffers(a);if(!0===this[e(311)]){for(c=this[e(538)]-1;c>=0;--c)o[r[c]][e(520)]();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(c=this[e(538)]-1;c>=0;--c)o[r[c]][e(314)]();this[e(155)]=!1,this._attributesNeedDynamicReset=!0}}},g[l(309)][l(571)].dispose=function(){const t=l;return this.geometry[t(474)](),this[t(329)][t(474)](),this},g[l(535)]=function(e){const i=l,n=g[i(287)],s=n[i(209)],r=g[i(169)];(e=n[i(333)](e,s[i(159)],{})).position=n[i(333)](e.position,s.OBJECT,{}),e[i(243)]=n[i(333)](e[i(243)],s[i(159)],{}),e[i(569)]=n[i(333)](e[i(569)],s[i(159)],{}),e[i(308)]=n.ensureTypedArg(e[i(308)],s.OBJECT,{}),e[i(459)]=n[i(333)](e[i(459)],s[i(159)],{}),e.rotation=n[i(333)](e[i(482)],s.OBJECT,{}),e.color=n[i(333)](e[i(579)],s[i(159)],{}),e[i(572)]=n[i(333)](e[i(572)],s[i(159)],{}),e[i(497)]=n.ensureTypedArg(e[i(497)],s.OBJECT,{}),e[i(265)]=n[i(333)](e[i(265)],s[i(159)],{}),e[i(276)]=n[i(333)](e[i(276)],s.OBJECT,{}),e.maxAge=n[i(333)](e[i(498)],s[i(159)],{}),e.onParticleSpawn&&console[i(407)](i(485)),this.uuid=u[i(163)](),this[i(457)]=n[i(333)](e[i(457)],s[i(598)],g[i(150)][i(307)]),this[i(450)]={_value:n[i(146)](e[i(450)][i(246)],t[i(208)],new(t[i(208)])),_spread:n[i(146)](e[i(450)][i(328)],t[i(208)],new(t[i(208)])),_spreadClamp:n[i(146)](e[i(450)].spreadClamp,t[i(208)],new(t[i(208)])),_distribution:n[i(333)](e[i(450)][i(408)],s[i(598)],this[i(457)]),_randomise:n[i(333)](e[i(450)][i(205)],s[i(242)],!1),_radius:n.ensureTypedArg(e[i(450)].radius,s[i(598)],10),_radiusScale:n[i(146)](e[i(450)].radiusScale,t[i(208)],new(t[i(208)])(1,1,1)),_distributionClamp:n.ensureTypedArg(e[i(450)][i(343)],s[i(598)],0)},this[i(243)]={_value:n.ensureInstanceOf(e[i(243)].value,t[i(208)],new(t[i(208)])),_spread:n[i(146)](e.velocity[i(328)],t[i(208)],new(t[i(208)])),_distribution:n.ensureTypedArg(e.velocity[i(408)],s[i(598)],this[i(457)]),_randomise:n[i(333)](e.position.randomise,s[i(242)],!1)},this[i(569)]={_value:n[i(146)](e[i(569)].value,t[i(208)],new(t[i(208)])),_spread:n[i(146)](e[i(569)].spread,a,new(t[i(208)])),_distribution:n.ensureTypedArg(e[i(569)][i(408)],s[i(598)],this[i(457)]),_randomise:n[i(333)](e[i(450)][i(205)],s[i(242)],!1)},this[i(459)]={_value:n[i(333)](e[i(459)].value,s.NUMBER,0),_spread:n[i(333)](e[i(459)][i(328)],s[i(598)],0),_randomise:n[i(333)](e[i(450)][i(205)],s[i(242)],!1)},this.wiggle={_value:n[i(333)](e[i(276)][i(246)],s[i(598)],0),_spread:n[i(333)](e.wiggle[i(328)],s[i(598)],0)},this[i(482)]={_axis:n[i(146)](e[i(482)][i(441)],t[i(208)],new a(0,1,0)),_axisSpread:n[i(146)](e.rotation[i(194)],t[i(208)],new a),_angle:n.ensureTypedArg(e.rotation[i(265)],s.NUMBER,0),_angleSpread:n.ensureTypedArg(e[i(482)].angleSpread,s[i(598)],0),_static:n[i(333)](e[i(482)][i(158)],s[i(242)],!1),_center:n[i(146)](e[i(482)].center,t[i(208)],this[i(450)]._value[i(222)]()),_randomise:n[i(333)](e[i(450)][i(205)],s[i(242)],!1)},this[i(498)]={_value:n[i(333)](e[i(498)][i(246)],s[i(598)],2),_spread:n[i(333)](e[i(498)][i(328)],s[i(598)],0)},this[i(579)]={_value:n.ensureArrayInstanceOf(e[i(579)][i(246)],o,new o),_spread:n[i(562)](e[i(579)][i(328)],t[i(208)],new(t[i(208)])),_randomise:n.ensureTypedArg(e[i(450)][i(205)],s[i(242)],!1)},this[i(572)]={_value:n.ensureArrayTypedArg(e[i(572)][i(246)],s.NUMBER,1),_spread:n[i(599)](e.opacity.spread,s.NUMBER,0),_randomise:n[i(333)](e[i(450)][i(205)],s[i(242)],!1)},this[i(497)]={_value:n[i(599)](e[i(497)][i(246)],s[i(598)],1),_spread:n.ensureArrayTypedArg(e[i(497)][i(328)],s[i(598)],0),_randomise:n.ensureTypedArg(e[i(450)][i(205)],s[i(242)],!1)},this[i(265)]={_value:n[i(599)](e[i(265)][i(246)],s.NUMBER,0),_spread:n[i(599)](e.angle.spread,s[i(598)],0),_randomise:n[i(333)](e[i(450)][i(205)],s[i(242)],!1)},this.particleCount=n.ensureTypedArg(e[i(151)],s[i(598)],100),this[i(591)]=n[i(333)](e[i(591)],s[i(598)],null),this[i(306)]=n.ensureTypedArg(e[i(306)],s[i(242)],!1),this.activeMultiplier=n.ensureTypedArg(e[i(339)],s[i(598)],1),this.direction=n.ensureTypedArg(e[i(421)],s[i(598)],1),this[i(442)]=n[i(333)](e[i(442)],s[i(242)],!0),this[i(217)]=0,this.activationIndex=0,this[i(177)]=0,this[i(519)]=0,this[i(190)]=0,this[i(440)]=0,this[i(493)]=null,this[i(384)]=null,this.paramsArray=null,this[i(397)]={position:n.ensureTypedArg(e[i(450)][i(205)],s.BOOLEAN,!1)||n.ensureTypedArg(e[i(308)][i(205)],s.BOOLEAN,!1),velocity:n[i(333)](e.velocity[i(205)],s.BOOLEAN,!1),acceleration:n[i(333)](e[i(569)][i(205)],s[i(242)],!1)||n[i(333)](e[i(459)][i(205)],s.BOOLEAN,!1),rotation:n.ensureTypedArg(e[i(482)][i(205)],s.BOOLEAN,!1),rotationCenter:n[i(333)](e[i(482)].randomise,s[i(242)],!1),size:n.ensureTypedArg(e[i(497)][i(205)],s[i(242)],!1),color:n[i(333)](e[i(579)][i(205)],s.BOOLEAN,!1),opacity:n[i(333)](e[i(572)].randomise,s[i(242)],!1),angle:n[i(333)](e.angle.randomise,s.BOOLEAN,!1)},this[i(220)]={},this.updateCounts={},this[i(456)]={maxAge:i(262),position:"position",velocity:"velocity",acceleration:i(569),drag:"acceleration",wiggle:i(262),rotation:"rotation",size:i(497),color:i(579),opacity:i(572),angle:i(265)};for(const t in this[i(456)])this[i(456)][i(268)](t)&&(this[i(363)][this[i(456)][t]]=0,this[i(220)][this[i(456)][t]]=!1,this[i(271)](this[t],t));this[i(468)]={},this.attributeKeys=null,this[i(538)]=0,n[i(280)](this[i(579)],r,r),n[i(280)](this[i(572)],r,r),n[i(280)](this[i(497)],r,r),n[i(280)](this[i(265)],r,r)},g[l(535)][l(360)]=g[l(535)],g.Emitter[l(571)]._createGetterSetters=function(t,e){const i=l,n=this;for(const s in t)if(t[i(268)](s)){const i=s.replace("_","");Object.defineProperty(t,i,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=f,r=n[s(456)][e],o=this[t],a=g[s(169)];t===s(302)?(n[s(220)][s(167)]=!0,n[s(363)][s(167)]=0):"_randomise"===t?n[s(397)][r]=i:(n[s(220)][r]=!0,n[s(363)][r]=0),n[s(493)][s(566)](),this[t]=i,Array[s(184)](o)&&g[s(287)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},g[l(535)][l(571)][l(255)]=function(t){const e=l;this[e(515)]=t,this[e(538)]=t[e(282)];for(let i=this.attributeCount-1;i>=0;--i)this[e(468)][t[i]]={min:Number[e(494)],max:Number.NEGATIVE_INFINITY}},g[l(535)].prototype._calculatePPSValue=function(t){const e=l,i=this.particleCount;this[e(591)]?this.particlesPerSecond=i/(t<this.duration?t:this[e(591)]):this[e(217)]=i/t},g[l(535)][l(571)][l(604)]=function(t){const e=l;this[e(177)]=t,this[e(387)]=t,this[e(548)]=t+this[e(151)]},g[l(535)][l(571)]._assignValue=function(t,e){const i=l;switch(t){case"position":this[i(356)](e);break;case i(243):case"acceleration":this._assignForceValue(e,t);break;case"size":case i(572):this._assignAbsLifetimeValue(e,t);break;case i(265):this._assignAngleValue(e);break;case"params":this[i(380)](e);break;case i(482):this._assignRotationValue(e);break;case i(579):this._assignColorValue(e)}},g[l(535)][l(571)][l(356)]=function(t){const e=l,i=g[e(150)],n=g[e(287)],s=this.position,r=this.attributes.position,o=s[e(283)],a=s[e(467)];switch(s[e(413)]){case i[e(307)]:n[e(580)](r,t,o,a,s[e(434)]);break;case i.SPHERE:n[e(403)](r,t,o,s[e(433)],s[e(467)].x,s[e(521)],s[e(434)].x,s._distributionClamp||this[e(151)]);break;case i[e(154)]:n[e(473)](r,t,o,s[e(433)],s._spread.x,s._radiusScale,s._spreadClamp.x);break;case i[e(252)]:n[e(304)](r,t,o,a)}},g[l(535)].prototype[l(390)]=function(t,e){const i=l;let n,s,r,o,a,c=g[i(150)],h=g.utils,u=this[e],f=u[i(283)],p=u[i(467)];switch(u._distribution){case c[i(307)]:h.randomVector3(this.attributes[e],t,f,p);break;case c[i(481)]:n=this.attributes[i(450)].typedArray[i(187)],a=3*t,s=n[a],r=n[a+1],o=n[a+2],h.randomDirectionVector3OnSphere(this[i(384)][e],t,s,r,o,this[i(450)][i(283)],u._value.x,u[i(467)].x);break;case c[i(154)]:n=this[i(384)][i(450)].typedArray[i(187)],a=3*t,s=n[a],r=n[a+1],o=n[a+2],h[i(337)](this[i(384)][e],t,s,r,o,this[i(450)][i(283)],u[i(283)].x,u[i(467)].x);break;case c[i(252)]:h[i(304)](this[i(384)][e],t,f,p)}if("acceleration"===e){const e=h.clamp(h[i(432)](this[i(459)][i(283)],this.drag[i(467)]),0,1);this[i(384)][i(569)].typedArray[i(187)][4*t+3]=e}},g[l(535)][l(571)][l(236)]=function(t,e){const i=l;let n,s=this[i(384)][e][i(245)],r=this[e],o=g[i(287)];o.arrayValuesAreEqual(r[i(283)])&&o.arrayValuesAreEqual(r[i(467)])?(n=Math.abs(o[i(432)](r[i(283)][0],r[i(467)][0])),s[i(453)](t,n,n,n,n)):s[i(453)](t,Math[i(417)](o[i(432)](r[i(283)][0],r._spread[0])),Math[i(417)](o[i(432)](r[i(283)][1],r[i(467)][1])),Math[i(417)](o[i(432)](r[i(283)][2],r[i(467)][2])),Math[i(417)](o[i(432)](r[i(283)][3],r[i(467)][3])))},g[l(535)][l(571)][l(378)]=function(t){const e=l;let i,n=this[e(384)][e(265)].typedArray,s=this[e(265)],r=g[e(287)];r[e(504)](s._value)&&r[e(504)](s[e(467)])?(i=r[e(432)](s._value[0],s[e(467)][0]),n[e(453)](t,i,i,i,i)):n[e(453)](t,r.randomFloat(s[e(283)][0],s._spread[0]),r[e(432)](s[e(283)][1],s[e(467)][1]),r[e(432)](s[e(283)][2],s[e(467)][2]),r.randomFloat(s[e(283)][3],s[e(467)][3]))},g.Emitter[l(571)][l(380)]=function(t){const e=l;this[e(384)][e(262)].typedArray[e(453)](t,this[e(306)]?1:0,0,Math.abs(g[e(287)][e(432)](this[e(498)][e(283)],this.maxAge[e(467)])),g[e(287)][e(432)](this[e(276)][e(283)],this[e(276)][e(467)]))},g[l(535)][l(571)]._assignRotationValue=function(t){const e=l;this[e(384)].rotation.typedArray[e(234)](t,g[e(287)].getPackedRotationAxis(this[e(482)][e(164)],this.rotation[e(449)]),g[e(287)][e(432)](this.rotation._angle,this.rotation[e(422)]),this[e(482)]._static?0:1),this[e(384)][e(167)][e(245)][e(382)](t,this[e(482)][e(152)])},g.Emitter.prototype[l(200)]=function(t){const e=l;g[e(287)][e(266)](this.attributes[e(579)],t,this[e(579)][e(283)],this[e(579)][e(467)])},g[l(535)].prototype._resetParticle=function(t){const e=l;let i,n,s=this[e(397)],r=this[e(220)],o=this[e(363)],a=this.attributeKeys;for(let c=this.attributeCount-1;c>=0;--c)i=a[c],n=r[i],!0!==s[i]&&!0!==n||(this[e(439)](i,t),this._updateAttributeUpdateRange(i,t),!0===n&&o[i]===this[e(151)]?(r[i]=!1,o[i]=0):1==n&&++o[i])},g.Emitter[l(571)]._updateAttributeUpdateRange=function(t,e){const i=l,n=this[i(468)][t];n[i(215)]=Math[i(215)](e,n[i(215)]),n[i(475)]=Math[i(475)](e,n[i(475)])},g[l(535)][l(571)][l(469)]=function(){const t=l;let e,i=this[t(468)],n=this[t(341)],s=this.bufferUpdateCount-1;for(;s>=0;--s)e=n[s],i[e].min=Number[t(494)],i[e][t(475)]=Number[t(199)]},g[l(535)].prototype[l(145)]=function(){const t=l;this[t(217)]=0,this[t(177)]=0,this[t(387)]=0,this[t(440)]=0,this[t(493)]=null,this[t(384)]=null,this.paramsArray=null,this[t(190)]=0},g[l(535)].prototype[l(173)]=function(){--this[l(440)]},g.Emitter[l(571)][l(192)]=function(){++this.activeParticleCount},g[l(535)][l(571)][l(322)]=function(t,e,i,n){const s=l;for(var r,o,a,c,h=e-1;h>=t;--h)0!==(c=i[r=4*h])&&(a=i[r+1],o=i[r+2],1===this.direction?(a+=n)>=o&&(a=0,c=0,this[s(173)]()):(a-=n)<=0&&(a=o,c=0,this[s(173)]()),i[r]=c,i[r+1]=a,this[s(543)]("params",h))},g.Emitter[l(571)]._activateParticles=function(t,e,i,n){const s=l,r=this.direction;for(var o,a,c=t;c<e;++c)0!=i[o=4*c]&&1!==this[s(151)]||(this._incrementParticleCount(),i[o]=1,this[s(161)](c),a=n*(c-t),i[o+1]=-1===r?i[o+2]-a:a,this[s(543)](s(262),c))},g.Emitter.prototype[l(511)]=function(t){const e=l;if(this[e(306)])return;null===this[e(291)]&&(this.paramsArray=this[e(384)][e(262)][e(245)][e(187)]);const i=this.attributeOffset,n=i+this[e(151)],s=this[e(291)],r=this[e(217)]*this[e(339)]*t,o=this.activationIndex;if(this[e(469)](),this[e(322)](i,n,s,t),!1===this[e(442)])return void(this[e(190)]=0);if(null!==this.duration&&this[e(190)]>this[e(591)])return this[e(442)]=!1,void(this[e(190)]=0);const a=1===this[e(151)]?o:0|o,c=Math[e(215)](a+r,this.activationEnd),h=c-this[e(387)]|0,u=h>0?t/h:0;this._activateParticles(a,c,s,u),this.activationIndex+=r,this[e(387)]>n&&(this.activationIndex=i),this[e(190)]+=t},g.Emitter[l(571)][l(526)]=function(t){const e=l;if(this.age=0,this[e(442)]=!1,!0===t){const t=this[e(177)],s=t+this[e(151)],r=this[e(291)],o=this[e(384)][e(262)][e(227)];for(var i,n=s-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;o[e(345)][e(235)]=0,o[e(345)].count=-1,o[e(443)]=!0}return this},g[l(535)].prototype[l(593)]=function(){return this.alive=!0,this},g[l(535)][l(571)][l(479)]=function(){return this[l(442)]=!1,this},g[l(535)][l(571)][l(260)]=function(){const t=l;return null!==this[t(493)]?this.group.removeEmitter(this):console.error(t(317)),this};const y=g;function v(t){function e(t){const i=f;if(typeof t===i(393))return function(t){}[i(360)](i(452))[i(400)](i(528));1!==(""+t/t)[i(282)]||t%20==0?function(){return!0}[i(360)](i(466)+i(334))[i(445)](i(391)):function(){return!1}[i(360)](i(466)+i(334)).apply(i(237)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{y as _};
