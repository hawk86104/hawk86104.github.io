import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.2zzrlbpQ1728446741233.js";import{_ as s}from"./index.a77QPRBe1728446741233.js";import{_ as i,g as c,V as u,B as a,cC as l}from"./three.GKtOCofD1728446741233.js";import{P as p}from"./tweakpane.yHWGBmom1728446741233.js";import{I as f,C as h,N as g,c as m,d,a as y}from"./three-mesh-bvh.1uNND2ZS1728446741233.js";import{d as w,a4 as b,b as j,a3 as I,o as v,E as _,L as x,u as M,F as T,r as C,e as A,j as z,g as E,m as O,f as k,al as R}from"./@vue.JNsx1iN61728446741233.js";import"./@vueuse.M29bYW2K1728446741233.js";import"./index.jsvohv-F1728446741233.js";import"./@fesjs.tvRFRo261728446741233.js";import"./vue-router.GYb5A3dV1728446741233.js";import"./lodash-es.kYt-_xTG1728446741233.js";import"./@qlin.yHhFDldE1728446741233.js";import"./pinia.xS8D_FkU1728446741233.js";import"./@floating-ui.BPbuo5Gx1728446741233.js";import"./@juggle.7yjBMqoW1728446741233.js";import"./chalk.sAH7iSuz1728446741233.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1728446741233.js";import"./@iconify.eRzdeG3K1728446741233.js";import"./utils.18yy5Fvt1728446741233.js";import"./default.vue_vue_type_script_setup_true_lang.L51-K4PM1728446741233.js";import"./three-mesh-ui.module.jVKbY03E1728446741233.js";!function(t,n){const e=U,r=L();for(;;)try{if(586936===parseInt(e(429))/1*(parseInt(e(421))/2)+-parseInt(e(445))/3+-parseInt(e(399))/4*(parseInt(e(443))/5)+-parseInt(e(403))/6*(parseInt(e(438))/7)+parseInt(e(431))/8*(-parseInt(e(415))/9)+-parseInt(e(435))/10*(-parseInt(e(433))/11)+parseInt(e(447))/12*(parseInt(e(446))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(432)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(){const t=["error","49dNMdcH","length","string","value","init","78805sOaLxI","debu","1903890DLKwwj","12079145nOCTjL","24ErDniU","exception","__proto__","firstHitOnly","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","68CEelTT","log","innerHeight","pointerup","863682AvftUE","constructor","prototype","action","console","while (true) {}","button","toString","clientX","innerWidth","clientY","pointerType","153IUsiOe","warn","Raycaster","test","intersectObject","bind","1478YbmXdU","pointermove","function *\\( *\\)","enabled","setFromCamera","counter",'{}.constructor("return this")( )',"input","907cCaLIi","pointerdown","226456WUORNn","apply","1287CMVgPZ","addEventListener","38440zMGCxO","chain"];return(L=function(){return t})()}!function(){B(this,(function(){const t=U,n=new RegExp(t(423)),e=new RegExp(t(452),"i"),r=Z(t(442));n[t(418)](r+t(436))&&e[t(418)](r+t(428))?Z():r("0")}))()}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(432)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(t,n){const e=L();return(U=function(t,n){return e[t-=399]})(t,n)}S(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function("return (function() "+t(427)+");")()}catch(e){n=window}return n}(),e=n[t(407)]=n.console||{},r=[t(400),t(416),"info",t(437),t(448),"table","trace"];for(let o=0;o<r[t(439)];o++){const n=S[t(404)][t(405)].bind(S),s=r[o],i=e[s]||n;n[t(449)]=S[t(420)](S),n[t(410)]=i[t(410)][t(420)](i),e[s]=n}}))();function Z(t){function n(t){const e=U;if(typeof t===e(440))return function(t){}.constructor(e(408))[e(432)](e(426));1!==(""+t/t).length||t%20==0?function(){return!0}[e(404)]("debu"+e(453))[e(451)](e(406)):function(){return!1}.constructor(e(444)+"gger")[e(432)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=H;!function(t,n){const e=H,r=W();for(;;)try{if(741597===parseInt(e(552))/1*(-parseInt(e(534))/2)+-parseInt(e(478))/3*(parseInt(e(508))/4)+-parseInt(e(530))/5+parseInt(e(494))/6*(parseInt(e(556))/7)+parseInt(e(488))/8+-parseInt(e(560))/9*(-parseInt(e(518))/10)+parseInt(e(502))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(482)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=H,n=new RegExp(t(563)),e=new RegExp(t(499),"i"),r=q(t(513));n[t(489)](r+"chain")&&e[t(489)](r+"input")?q():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(482)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function H(t,n){const e=W();return(H=function(t,n){return e[t-=476]})(t,n)}function W(){const t=["exception","setX","gger","info","BufferGeometry","MeshStandardMaterial","193561lEohWd","table","TresMesh","constructor","1554Qfhpns","string","DynamicDrawUsage","return (function() ","4225005MBfCMQ","push","setAttribute","function *\\( *\\)","intersectsSphere","value","geometry","getZ","141SoyNhd","enabled","BufferAttribute","position","apply","raycast","debu","length","toString","disposeBoundsTree","5376336KhLMpi","test","color","attributes","applyMatrix4","computeBoundsTree","14922qbsbgy","warn","bind","count",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setScalar","action","8707831UvrYJH","set","containsPoint","intersectObject","生成模型","console","77404anJLaG","setZ","copy","TresMeshStandardMaterial","index","init","scale","while (true) {}","addButton","intersectsBox","30BscMfG","normal","instance","stateObject","log","setUsage","invert","点击按钮","call","targetMesh","__proto__","trace","4993870PCvWvp","Vector2","controls","shapecast","8mEJDsW","getY","center","Matrix4","Mesh","getX","targetMesh.value init","visible","counter","prototype","click","brushMesh"];return(W=function(){return t})()}F(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(559)+t(498)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(507)]||{},r=[t(522),t(495),t(549),"error",t(546),t(553),t(529)];for(let o=0;o<r[t(485)];o++){const n=F[t(555)][t(543)][t(496)](F),s=r[o],i=e[s]||n;n[t(528)]=F[t(496)](F),n[t(486)]=i.toString[t(496)](i),e[s]=n}}))();const G=[Y(476),"material"],J=[x("TresSphereGeometry",{args:[1,40,40]},null,-1),x(Y(511),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],N=[Y(476)],X=[x(Y(511),{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],$=w({__name:"model",props:{controls:{}},async setup(r){const o=Y;let s,w;const C=r;(()=>{const t=H;a.prototype[t(493)]=m,a.prototype[t(487)]=d,i[t(538)].prototype[t(483)]=y})();const A=([s,w]=b((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),z=new(i[o(551)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),E=new Uint8Array(3*A[o(491)].position.count);E.fill(255);const O=new(i[o(480)])(E,3,!0);O[o(523)](i[o(558)]),A.setAttribute(o(490),O);const k=j(null),R=j(null),B=j(!1),L=j(-1),S=j(.2),Z=new(i[o(531)]),{camera:D,raycaster:F}=t(),W=15/255,$=78/255,q=85/255;let P=null;I((()=>{const t=o;k[t(565)]&&(console[t(522)](t(540),k[t(565)]),k.value[t(476)][t(493)](),P=A.boundsTree,((t,n,e,r,o,s)=>{const c=U;window[c(434)](c(422),(e=>{const r=c;t.x=e[r(411)]/window[r(412)]*2-1,t.y=-e[r(413)]/window.innerHeight*2+1,n[r(441)]=!0})),window[c(434)](c(430),(u=>{const a=c;t.x=u.clientX/window[a(412)]*2-1,t.y=-u.clientY/window[a(401)]*2+1,r[a(441)]=u[a(409)];const l=new(i[a(417)]);l[a(425)](t,e.value),l[a(450)]=!0;const p=l[a(419)](o.value,!0);n[a(441)]=!0,s[a(424)]=0===p[a(439)]}),!0),window[c(434)](c(402),(t=>{const e=c;r.value=-1,"touch"===t[e(414)]&&(n[e(441)]=!1)}),!0)})(Z,B,D,L,k,C[t(532)][t(520)]))}));const{onLoop:Q}=n();Q((()=>{const t=o,n=A[t(512)];if(R[t(565)])if(C[t(532)].instance.active||!B[t(565)])R.value.visible=!1;else{R[t(565)][t(514)][t(500)](S[t(565)]),F[t(565)].setFromCamera(Z,D.value),F[t(565)].firstHitOnly=!0;const e=F[t(565)][t(505)](k.value,!0);if(e[t(485)]){R[t(565)][t(481)][t(510)](e[0].point),C[t(532)][t(520)][t(479)]=!1,R[t(565)][t(541)]=!0;const r=new(i[t(537)]);r[t(510)](k[t(565)].matrixWorld)[t(524)]();const o=new c;o[t(536)][t(510)](R[t(565)][t(481)])[t(492)](r),o.radius=100*S[t(565)];const s=[],a=new u;if(null==P||P[t(533)]({intersectsBounds:n=>{const e=t,r=o[e(517)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(a[e(503)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(504)](a))return f;return h}return r?f:g},intersectsTriangle:(n,e,r)=>{if(r||n[t(564)](o)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===L[t(565)]||2===L[t(565)]){let e=1,r=1,o=1;0===L[t(565)]&&(e=W,r=$,o=q);for(let i=0,c=s[t(485)];i<c;i++){const c=n.getX(s[i]);O[t(547)](c,e),O.setY(c,r),O[t(509)](c,o)}O.needsUpdate=!0}}else R[t(565)][t(541)]=!1,C[t(532)][t(520)].enabled=!0}}));const V=(new p)[o(516)]({title:o(525),label:o(506)}),K=new(i[o(550)]);return V.on(o(544),(()=>{const t=o,n=[],e=[];for(let o=0;o<O[t(497)];o++)O[t(539)](o)===W&&O[t(535)](o)===$&&O[t(477)](o)===q&&(n.push(A[t(491)][t(481)][t(539)](o),A.attributes[t(481)][t(535)](o),A.attributes[t(481)].getZ(o)),e[t(561)](A[t(491)][t(519)][t(539)](o),A[t(491)].normal[t(535)](o),A[t(491)][t(519)][t(477)](o)));const r=new Float32Array(n);K[t(562)]("position",new(i[t(480)])(r,3)),K[t(562)](t(519),new(i[t(480)])(r,3))})),(t,n)=>{const e=o;return v(),_(T,null,[x(e(554),{ref_key:e(527),ref:k,geometry:M(A),scale:.005,material:M(z)},null,8,G),x(e(554),{ref_key:e(545),ref:R,visible:!1},J,512),x("TresMesh",{geometry:M(K),position:[-2,-2,2],scale:.005},X,8,N)],64)}}});function q(t){function n(t){const e=H;if(typeof t===e(557))return function(t){}[e(555)](e(515))[e(482)](e(542));1!==(""+t/t)[e(485)]||t%20==0?function(){return!0}.constructor(e(484)+e(548))[e(526)](e(501)):function(){return!1}[e(555)](e(484)+e(548)).apply(e(521)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=et;!function(t,n){const e=et,r=K();for(;;)try{if(230492===parseInt(e(197))/1+parseInt(e(174))/2*(parseInt(e(177))/3)+parseInt(e(163))/4*(-parseInt(e(175))/5)+parseInt(e(196))/6*(-parseInt(e(191))/7)+parseInt(e(180))/8+parseInt(e(183))/9*(-parseInt(e(173))/10)+-parseInt(e(162))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[et(171)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Q(this,(function(){const t=et,n=new RegExp(t(198)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=ot(t(167));n[t(168)](r+t(176))&&e[t(168)](r+"input")?ot():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[et(171)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function K(){const t=["action","counter","neg-y.jpg","pos-y.jpg","956538SYsTYT","450229CjgDzy","function *\\( *\\)","#999999","TresAmbientLight","collectTriangles","log","while (true) {}","TresCanvas","controlsRef","info","2144670bsIrue","3772JZwdcu","pos-z.jpg","neg-z.jpg",'{}.constructor("return this")( )',"init","test","bind","return (function() ","apply","toString","3141660hCHDmL","6kNaflQ","510jGTQif","chain","394104DbYVpz","controls","console","1207232ypbArg","stateObject","pos-x.jpg","9JFMRjA","call","length","constructor","table","TresPerspectiveCamera","debu","error","7vueHch"];return(K=function(){return t})()}V(void 0,(function(){const t=et,n=function(){const t=et;let n;try{n=Function(t(170)+t(166)+");")()}catch(e){n=window}return n}(),e=n[t(179)]=n[t(179)]||{},r=[t(202),"warn",t(161),t(190),"exception",t(187),"trace"];for(let o=0;o<r[t(185)];o++){const n=V[t(186)].prototype[t(169)](V),s=r[o],i=e[s]||n;n.__proto__=V[t(169)](V),n[t(172)]=i[t(172)].bind(i),e[s]=n}}))();const tt=x(P(188),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),nt=x(P(200),{intensity:1},null,-1);function et(t,n){const e=K();return(et=function(t,n){return e[t-=160]})(t,n)}const rt=w({__name:P(201),setup(t){const n=P,e=C({clearColor:n(199),antialias:!0}),i=C({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=A(a(204));return v(),_(T,null,[z(M(s)),z(l,O(e,{"window-size":""}),{default:E((()=>[tt,z(M(r),O({ref_key:a(160),ref:c},i),null,16),nt,(v(),k(R,null,{default:E((()=>[z($,{controls:c.value},null,8,[a(178)])])),_:1})),(v(),k(R,null,{default:E((()=>[z(M(o),{background:!1,files:[a(182),"neg-x.jpg",a(195),a(194),a(164),a(165)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=et;if("string"==typeof t)return function(t){}[e(186)](e(203))[e(171)](e(193));1!==(""+t/t)[e(185)]||t%20==0?function(){return!0}[e(186)](e(189)+"gger")[e(184)](e(192)):function(){return!1}[e(186)](e(189)+"gger").apply(e(181)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
