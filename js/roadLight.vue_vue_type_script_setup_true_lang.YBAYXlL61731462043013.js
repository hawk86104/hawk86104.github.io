import{e as t,b as n}from"./@tresjs.xlnLF3O61731462043013.js";import{a3 as o,V as e,cl as r,C as s,K as a}from"./three.wKRaqyB-1731462043013.js";import{l as i}from"./utils.cFc4kGHg1731462043013.js";import{d as c,b as u,a6 as f,a3 as p,o as l,D as d,F as h,V as g,u as m,J as y}from"./@vue.-THQH3GC1731462043013.js";const b=k;!function(t,n){const o=k,e=x();for(;;)try{if(354401===parseInt(o(364))/1+parseInt(o(352))/2+parseInt(o(338))/3*(-parseInt(o(319))/4)+-parseInt(o(349))/5+-parseInt(o(322))/6+-parseInt(o(350))/7*(parseInt(o(345))/8)+parseInt(o(357))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const w=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){w(this,(function(){const t=k,n=new RegExp(t(361)),o=new RegExp(t(340),"i"),e=A(t(312));n[t(354)](e+"chain")&&o[t(354)](e+t(318))?A():e("0")}))()}();const _=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[k(323)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();_(void 0,(function(){const t=k;let n;try{n=Function("return (function() "+t(333)+");")()}catch(r){n=window}const o=n[t(346)]=n[t(346)]||{},e=[t(310),t(351),"info",t(360),"exception",t(325),t(327)];for(let s=0;s<e[t(315)];s++){const n=_[t(317)][t(355)][t(311)](_),r=e[s],a=o[r]||n;n.__proto__=_.bind(_),n[t(342)]=a[t(342)].bind(a),o[r]=n}}))();const I=["position","rotation-y",b(359)],T={renderOrder:3e3},j=[b(358)],v=[b(320),b(344),"color"];function x(){const t=["80667QBNZrt","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","toString","offset","side","44024kJAAgi","console","speed","value","503200JmLHrS","455spxEUF","warn","1274836Nqswjq","random","test","prototype","geoJson","3934170bVhXhh","args","scale","error","function *\\( *\\)","repeat","tgRef","534646QmtgZu","while (true) {}","log","bind","init","TresMeshBasicMaterial","action","length","gger","constructor","input","60ChkbTs","map","radius","2358738vnvTgb","apply","position","table","TresTubeGeometry","trace","TresGroup","color","needsUpdate","wrapT","wrapS",'{}.constructor("return this")( )',"#ffff00","set","coordinates","tmbmRef"];return(x=function(){return t})()}function k(t,n){const o=x();return(k=function(t,n){return o[t-=309]})(t,n)}const J=c({__name:"roadLight",props:{geoJson:{},color:{default:b(334)},position:{default:[1837.0641427711184,30,-457.0929823910632]},radius:{default:2},rotationY:{default:-.3866683251512052},scale:{default:1.5083171193254858},speed:{default:1}},async setup(c){const w=b;let _,x;const k=c,J=u(),A=u(),{map:E}=([_,x]=f((()=>n({map:"./plugins/digitalCity/image/line.png"}))),_=await _,x(),_);E[w(330)]=!0,E[w(332)]=E[w(331)]=o,E[w(362)][w(335)](1,1);const M=([_,x]=f((()=>i(k[w(356)]))),_=await _,x(),_),R=[-31.258949,0,-121.465782];let Z=[];for(var C=0;C<M[w(315)];C++){const t=M[C],n=[];t.geometry[w(336)].forEach((t=>{n.push(new e(6e4*(t[1]+R[0]),R[1],6e4*(t[0]+R[2])))})),Z.push(new r(n))}p((()=>{const t=w;k[t(329)]&&A[t(348)]&&(A[t(348)][t(329)]=new s(k[t(329)]))}));const{onLoop:F}=t();return F((({delta:t})=>{const n=w;E[n(343)].x-=Math[n(353)]()/20*k[n(347)]})),(t,n)=>{const o=w;return l(),d(o(328),{ref_key:o(363),ref:J,position:k[o(324)],"rotation-y":k.rotationY,scale:k[o(359)]},[(l(!0),d(h,null,g(m(Z),(t=>{const n=o;return l(),d("TresMesh",T,[y(n(326),{args:[t,64,k[n(321)],20,!1]},null,8,j),y(n(313),{ref_for:!0,ref_key:n(337),ref:A,map:m(E),side:m(a),transparent:!0,color:k.color},null,8,v)])})),256))],8,I)}}});function A(t){function n(t){const o=k;if(typeof t===o(341))return function(t){}[o(317)](o(309))[o(323)]("counter");1!==(""+t/t)[o(315)]||t%20==0?function(){return!0}[o(317)](o(339)+o(316)).call(o(314)):function(){return!1}[o(317)]("debu"+o(316)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{J as _};
