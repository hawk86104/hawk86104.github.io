import{a6 as t,cy as n,C as e,V as o,ad as r}from"./three.5MXJ6W7w1723189171640.js";import{P as s}from"./tweakpane.yHWGBmom1723189171640.js";import{_ as i}from"./@tweenjs.l4oyssFo1723189171640.js";import{p as a,$ as c}from"./@tresjs.LTwFwASm1723189171640.js";import{P as p,b as u,c as l,M as m,T as f,a as g,d}from"./index.FPrDBIGd1723189171640.js";import{d as h,a1 as j,w as b,o as w,D as x,u as y,X as v,r as I,e as _,j as z,g as C,f as M,al as k,m as B,F as S}from"./@vue.Q1VpS3901723189171640.js";import{_ as R}from"./raycasterEvent.QdJGmv9p1723189171640.js";import{a as A}from"./utils.4f9aGuHp1723189171640.js";import"./@vueuse.oQlm8k6P1723189171640.js";import"./@mapbox.RxVbFk4t1723189171640.js";import"./@amap.Lu-L8G0q1723189171640.js";import"./three-mesh-bvh.DYOnGaSM1723189171640.js";import"./three-custom-shader-material.XueWmqLp1723189171640.js";import"./object-hash.jMAsrj6h1723189171640.js";import"./jszip.WwTqi4J91723189171640.js";import"./glsl-tokenizer.lazMVlew1723189171640.js";import"./glsl-token-string.HJw4RHIk1723189171640.js";import"./glsl-token-functions.95Du-VYb1723189171640.js";import"./@fesjs.92jMy6FJ1723189171640.js";import"./vue-router.frQYH8jd1723189171640.js";import"./lodash-es.nFpJXAf-1723189171640.js";import"./@qlin.yHhFDldE1723189171640.js";import"./pinia.iN3nUGv81723189171640.js";import"./@floating-ui.BPbuo5Gx1723189171640.js";import"./@juggle.7yjBMqoW1723189171640.js";import"./http.iRkOqjf11723189171640.js";import"./axios.FVFoCDiv1723189171640.js";import"./color.egmf73wy1723189171640.js";import"./color-string.kCotOnrR1723189171640.js";import"./color-name.nB610l091723189171640.js";import"./simple-swizzle.6N6vAhnf1723189171640.js";import"./is-arrayish.bG5C6UyN1723189171640.js";import"./color-convert.SHbD7xyn1723189171640.js";import"./lodash.9H9wiU7Z1723189171640.js";import"./naive-ui.3NhTc3Oj1723189171640.js";import"./css-render.qf_MO5MI1723189171640.js";import"./@emotion.ZD_ZYAgY1723189171640.js";import"./@css-render.aE7TWOmx1723189171640.js";import"./seemly.SjiSeX2v1723189171640.js";import"./vooks.SEfbPST11723189171640.js";import"./evtd.DtfwxtIl1723189171640.js";import"./vueuc.gNGaMRnN1723189171640.js";import"./vdirs.HqtemqUs1723189171640.js";import"./treemate.dcEdf2le1723189171640.js";import"./date-fns.v72_2kls1723189171640.js";import"./date-fns-tz.HG8CxlBt1723189171640.js";import"./async-validator.-YBkpS4I1723189171640.js";import"./utils.ty42eHJj1723189171640.js";import"./d3-geo.PR799fE11723189171640.js";import"./d3-array.AhNJy1f41723189171640.js";const P=E;!function(t,n){const e=E,o=Z();for(;;)try{if(293546===-parseInt(e(134))/1+-parseInt(e(138))/2*(parseInt(e(129))/3)+-parseInt(e(131))/4*(-parseInt(e(119))/5)+-parseInt(e(165))/6*(parseInt(e(114))/7)+-parseInt(e(111))/8*(parseInt(e(126))/9)+parseInt(e(140))/10+parseInt(e(148))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(153)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["while (true) {}","rotation","render","13584gNOCMl","monochrome","function *\\( *\\)","879312spTRkL","far","test","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","enableDamping","127640HhLAfo","showTileNo","bbox","gger","flatShading","genContrast","domElement","1503EjIawP","genSaturation","counter","3pVmzEk","constructor","4aUTAzV","update","filter","226858DVfNQP","opposite","init","isMonochrome","818302lGKcdA","position","1738690jrdyNJ","#fff","Color","set","value","provider","warn","target","12532740AAJpcP","camera",'{}.constructor("return this")( )',"toString","exception","apply","return (function() ","mapCenter","useWorker","lookAt","position0","primitive","input","dampingFactor","log","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6tsWtbA","debu","trace","showBoundingBox","call","genBright","table","source","action","__proto__","console","length","error","bind","PerspectiveCamera"];return(Z=function(){return t})()}!function(){T(this,(function(){const t=E,n=new RegExp(t(113)),e=new RegExp(t(164),"i"),o=H(t(136));n[t(116)](o+"chain")&&e[t(116)](o+t(160))?H():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=Z();return(E=function(t,n){return e[t-=101]})(t,n)}D(void 0,(function(){const t=E;let n;try{n=Function(t(154)+t(150)+");")()}catch(r){n=window}const e=n[t(103)]=n[t(103)]||{},o=[t(162),t(146),"info",t(105),t(152),t(171),t(167)];for(let s=0;s<o.length;s++){const n=D[t(130)].prototype[t(106)](D),r=o[s],i=e[r]||n;n[t(102)]=D[t(106)](D),n[t(151)]=i[t(151)].bind(i),e[r]=n}}))();const V=["object",P(109)],L=h({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:P(141)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(o,{expose:r}){const s=P,d=o,{renderer:h,scene:v}=a();(new p).coordType=u;const I=new l;I[s(172)]=s(117),I.coordType=u;const _=new m;_[s(172)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",_[s(120)]=!1,_[s(156)]=!0;const z=new f(I,_);if(z[s(168)]=!1,z.wireframe=!1,z[s(123)]=!1,z.useStandardMaterial=!1,z[s(133)]={opposite:d[s(135)],monochrome:d[s(137)]?{r:.299,g:.587,b:.114}:null,genBright:d[s(170)],genContrast:d.genContrast,genSaturation:d.genSaturation},d[s(112)]){let n=new(t[s(142)])(d[s(112)]);z[s(133)]&&(z[s(133)].monochrome={r:n.r,g:n.g,b:n.b})}const C=new g;C[s(145)]=z,C[s(121)]=d[s(121)],C.maxZoom=d.maxZoom;const M=new(t[s(107)])(60,window.innerWidth/window.innerHeight,1,1e8);M.up=new(t[s(163)])(0,1,0),M[s(139)][s(143)](d[s(155)][0],d.mapCenter[2],-d[s(155)][1]),M[s(157)](new(t[s(163)])(M[s(139)].x,0,M[s(139)].z-2e3)),C[s(149)]=M;let k=null;j((()=>{const e=s;if(h[e(144)]&&!k&&(k=new n(M,h[e(144)][e(125)]),k[e(118)]=!0,k[e(161)]=.05,k.minDistance=600,k[e(158)][e(143)](M[e(139)].x,M[e(139)].y,M[e(139)].z),k[e(147)][e(143)](M[e(139)].x,0,M.position.z-2e3)),d[e(170)]&&z.filter&&(z[e(133)][e(170)]=d[e(170)]),d[e(124)]&&z[e(133)]&&(z[e(133)][e(124)]=d.genContrast),d[e(127)]&&z[e(133)]&&(z.filter[e(127)]=d[e(127)]),d[e(137)]&&d[e(112)]&&z[e(133)]){let n=new(t[e(142)])(d[e(112)]);z[e(133)][e(112)]={r:n.r,g:n.g,b:n.b}}})),b((()=>d.opposite),(t=>{const n=s;z[n(133)]&&(z.filter[n(135)]=t)})),b((()=>d[s(137)]),(t=>{const n=s;let o=new e(d[n(112)]);z.filter&&(z[n(133)][n(112)]=t?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:B}=c();return B((()=>{const t=s;if(h.value){i[t(132)](),k&&k.update(),C[t(132)]();const n=50*Math.abs(M[t(139)].y);M[t(115)]=n+5e3,M.updateProjectionMatrix(),k[t(147)].y=0,h[t(144)][t(110)](v[t(144)],M)}})),r({camera:M,map:C,orbitControl:k}),(t,n)=>{const e=s;return w(),x(e(159),{object:y(C),rotation:[-Math.PI/2,0,0]},null,8,V)}}});function H(t){function n(t){const e=E;if("string"==typeof t)return function(t){}.constructor(e(108)).apply(e(128));1!==(""+t/t)[e(104)]||t%20==0?function(){return!0}[e(130)](e(166)+e(122))[e(169)](e(101)):function(){return!1}[e(130)](e(166)+e(122)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=K;!function(t,n){const e=K,o=Q();for(;;)try{if(986605===parseInt(e(129))/1*(-parseInt(e(140))/2)+parseInt(e(132))/3+-parseInt(e(135))/4+-parseInt(e(116))/5+parseInt(e(134))/6*(-parseInt(e(128))/7)+parseInt(e(133))/8+parseInt(e(114))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(145)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(t,n){const e=Q();return(K=function(t,n){return e[t-=102]})(t,n)}!function(){F(this,(function(){const t=K,n=new RegExp(t(119)),e=new RegExp(t(147),"i"),o=G(t(113));n[t(136)](o+"chain")&&e[t(136)](o+t(149))?G():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(145)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["单色滤镜","genSaturation","滤镜颜色","value","list","1645HDeYMQ","7382LPiaRt","#4688b5","table","619290bsJGqx","279992BRVskr","5394bDevix","1446012ImyodK","test","奥体中心","error","饱和度","514HKVSwe","call","genBright",'{}.constructor("return this")( )',"trace","apply","addBlade","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","input","牛首山","camera","tileMapMeshRef","bind","while (true) {}","opposite","debu","console","info","tileMap","orbitControl","constructor","length","toString","addBinding","对比度","nss","highp","log","init","45006741cyfVgD","stateObject","8928155ZHcxQk","SRGBColorSpace","change","function *\\( *\\)","counter","gger","prototype"];return(Q=function(){return t})()}N(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(148)+t(143)+");")()}catch(e){n=window}return n}(),e=n[t(157)]=n[t(157)]||{},o=[t(112),"warn",t(102),t(138),"exception",t(131),t(144)];for(let r=0;r<o[t(106)];r++){const n=N[t(105)][t(122)][t(153)](N),s=o[r],i=e[s]||n;n.__proto__=N[t(153)](N),n[t(107)]=i.toString[t(153)](i),e[s]=n}}))();const W=h({__name:$(103),setup(n){const e=$,i=d(118.779958,32.017136),a=[i[0],i[1],5e3],c=v(),p=I({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(130),mapCenter:a}),u=new s({title:"参数"});u[e(108)](p,e(155),{label:"反色"}),u[e(108)](p,e(142),{label:"高亮",min:.1,max:3,step:.1}),u[e(108)](p,"genContrast",{label:e(109),min:.1,max:3,step:.1}),u.addBinding(p,e(124),{label:e(139),min:.1,max:3,step:.1}),u.addBinding(p,"isMonochrome",{label:e(123)}),u[e(108)](p,"monochrome",{label:e(125)});const l={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};u[e(146)]({view:e(127),label:"飞去",options:[{text:e(137),value:"at"},{text:"新街口",value:"xjk"},{text:e(150),value:e(110)}],value:"at"}).on(e(118),(t=>{const n=e,r=new o(l[t[n(126)]][0],2e3,-l[t[n(126)]][1]);A(c[n(126)][n(151)],r,c[n(126)][n(104)],[0,-300],4e3)}));const m=I({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[e(117)],toneMapping:r,precision:e(111)});return setTimeout((()=>{const t=e,n=l.at,r=new o(n[0],1600,-n[1]);A(c[t(126)][t(151)],r,c[t(126)][t(104)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=_("TresCanvas");return w(),x(S,null,[z(r,B(m,{"window-size":""}),{default:C((()=>[(w(),M(k,null,{default:C((()=>[z(L,B(p,{ref_key:o(152),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),z(R,{tileMapRef:c[o(126)]},null,8,["tileMapRef"])],64)}}});function G(t){function n(t){const e=K;if("string"==typeof t)return function(t){}[e(105)](e(154))[e(145)](e(120));1!==(""+t/t).length||t%20==0?function(){return!0}[e(105)](e(156)+e(121))[e(141)]("action"):function(){return!1}.constructor("debu"+e(121))[e(145)](e(115)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{W as default};
