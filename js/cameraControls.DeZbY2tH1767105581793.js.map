{"version":3,"file":"cameraControls.DeZbY2tH1767105581793.js","sources":["../../src/plugins/basic/pages/controls/cameraControls.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { reactive, shallowRef } from 'vue'\nimport { Pane } from 'tweakpane'\nimport { CameraControls } from '@tresjs/cientos'\nimport { MathUtils, BasicShadowMap, SRGBColorSpace, NoToneMapping } from 'three'\n\nconst gl = {\n  clearColor: '#82DBC5',\n  shadows: true,\n  alpha: false,\n  shadowMapType: BasicShadowMap,\n  outputColorSpace: SRGBColorSpace,\n  toneMapping: NoToneMapping,\n}\n\nconst controlsState = reactive({\n  distance: 5,\n  minDistance: 1,\n  maxDistance: 100,\n  // 是否启用无限缩放 注意需要 搭配 minDistance一起用 并且 minDistance不能为0\n  infinityDolly: true,\n})\n\nconst controlsRef = shallowRef()\nconst boxMeshRef = shallowRef()\n\nconst pane = new Pane()\n\nconst distanceFolder = pane.addFolder({ title: '距离参数' })\ndistanceFolder.addBinding(controlsState, 'distance', {\n  label: '设置距离',\n  step: 0.01,\n  min: 0.1,\n  max: 100,\n})\ndistanceFolder.addBinding(controlsState, 'minDistance', {\n  label: '最小距离',\n  step: 0.01,\n  min: 0,\n  max: 10,\n})\ndistanceFolder.addBinding(controlsState, 'maxDistance', {\n  label: '最大距离',\n  step: 0.01,\n  min: 0,\n  max: 100,\n})\n\n// Basic example from https://yomotsu.github.io/camera-controls/examples/basic.html\nconst dollyFolder = pane.addFolder({ title: '远近' })\ndollyFolder.addButton({ title: '(+1)' }).on('click', () => {\n  controlsRef?.value?.instance?.dolly(1, true)\n})\ndollyFolder.addButton({ title: '(-1)' }).on('click', () => {\n  controlsRef?.value?.instance?.dolly(-1, true)\n})\n\nconst rotateFolder = pane.addFolder({ title: '旋转' })\nrotateFolder.addButton({ title: 'Rotate theta 45°' }).on('click', () => {\n  controlsRef?.value?.instance?.rotate(45 * MathUtils.DEG2RAD, 0, true)\n})\nrotateFolder.addButton({ title: 'Rotate theta -90°' }).on('click', () => {\n  controlsRef?.value?.instance?.rotate(-90 * MathUtils.DEG2RAD, 0, true)\n})\nrotateFolder.addButton({ title: 'Rotate theta 360°' }).on('click', () => {\n  controlsRef?.value?.instance?.rotate(360 * MathUtils.DEG2RAD, 0, true)\n})\nrotateFolder.addButton({ title: 'Rotate phi 20°' }).on('click', () => {\n  controlsRef?.value?.instance?.rotate(0, 20 * MathUtils.DEG2RAD, true)\n})\n\nconst moveFolder = pane.addFolder({ title: '移动' })\nmoveFolder.addButton({ title: '对焦到 box of the mesh' }).on('click', () => {\n  controlsRef?.value?.instance?.fitToBox(boxMeshRef.value, true)\n})\n\n\nfunction onChange() {\n  console.log('change')\n}\n\nfunction onStart() {\n  console.log('start')\n}\n\nfunction onEnd() {\n  console.log('end')\n}\n</script>\n\n<template>\n  <TresCanvas v-bind=\"gl\" window-size>\n    <TresPerspectiveCamera :position=\"[5, 5, 5]\" />\n    <CameraControls v-bind=\"controlsState\" ref=\"controlsRef\" make-default @change=\"onChange\" @start=\"onStart\"\n      @end=\"onEnd\"\n/>\n    <TresGridHelper :position=\"[0, -1, 0]\" />\n    <TresMesh ref=\"boxMeshRef\">\n      <TresBoxGeometry :args=\"[2, 2, 2]\" />\n      <TresMeshBasicMaterial color=\"orange\" wireframe />\n    </TresMesh>\n    <TresAmbientLight :intensity=\"1\" />\n  </TresCanvas>\n</template>\n"],"names":["CameraControls"],"mappings":"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"}