import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.Q4_KYO2a1739444016646.js";import{_ as i,C as s,b as a,ck as c}from"./three.W6GmiHfn1739444016646.js";import{P as u}from"./tweakpane.yDiyAAkA1739444016646.js";import{L as l}from"./three-subdivide.7mz3AYiY1739444016646.js";import{d as f,b as p,a2 as d,w as g,o as m,H as h,N as v,aj as y,ak as b,a3 as w,r as _,e as M,f as I,g as T,j,u as x,m as B,M as S}from"./@vue.NRI7TcgI1739444016646.js";import"./@vueuse.6yH4xZkk1739444016646.js";const k=z;!function(n,t){const e=z,o=P();for(;;)try{if(110058===parseInt(e(312))/1*(-parseInt(e(276))/2)+parseInt(e(300))/3+parseInt(e(288))/4+-parseInt(e(301))/5+parseInt(e(269))/6+-parseInt(e(293))/7*(parseInt(e(271))/8)+-parseInt(e(267))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(284)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(n,t){const e=P();return(z=function(n,t){return e[n-=266]})(n,t)}!function(){C(this,(function(){const n=z,t=new RegExp(n(296)),e=new RegExp(n(316),"i"),o=R("init");t[n(311)](o+n(283))&&e.test(o+"input")?R():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(284)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=z;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(319)]=t[n(319)]||{},o=[n(279),n(315),"info",n(314),n(273),n(321),"trace"];for(let i=0;i<o[n(313)];i++){const t=A[n(299)][n(295)][n(266)](A),r=o[i],s=e[r]||t;t[n(307)]=A[n(266)](A),t[n(274)]=s.toString.bind(s),e[r]=t}}))();const N=[k(286)];function P(){const n=["gger","#ffff00","__proto__","Color","position","srcMesh","test","44089uEZovn","length","error","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","modify","color","console","uniforms","table","value","bind","78651nyCuTB","glowColor","1070178QPcEno","blending","248cYrqmY","FrontSide","exception","toString","TresMesh","2auOXwf","shineShader","AdditiveBlending","log","call","subdivision","attributes","chain","apply","viewVector","scale","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","393412CJratg","TSGref","stateObject","TresShaderMaterial","side","17759ojzuDB","subVectors","prototype","function *\\( *\\)","while (true) {}","action","constructor","460215OyhvPX","942940OBWMIi","geometry","clone","string"];return(P=function(){return n})()}const E=f({__name:k(277),props:{srcMesh:{},scale:{default:1.2},color:{default:k(306)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(272)]},blending:{default:i[k(278)]}},setup(e){const o=k,r=e,c=p(),u={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(308)])(r[o(318)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(287),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(292)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(270)]};d((()=>{const n=o;if(r.srcMesh&&c[n(322)]&&!c[n(322)][n(302)][n(282)][n(309)]){let t=r.srcMesh[n(302)][n(303)]();r.subdivision&&(t=l[n(317)](t,2)),c.value[n(302)]=t,c[n(322)][n(309)].copy(r[n(310)][n(309)])}r.color&&(u[n(320)][n(268)][n(322)]=new s(r.color)),r.c&&(u.uniforms.c.value=r.c),r.p&&(u[n(320)].p[n(322)]=r.p)})),g((()=>r[o(281)]),(n=>{const t=o;let e=r[t(310)].geometry[t(303)]();n&&(e=l.modify(e,2)),c[t(322)][t(302)]=e})),g((()=>r.side),(n=>{const t=o;c.value.material[t(292)]=n})),g((()=>r.blending),(n=>{c[o(322)].material.blending=n}));const{onLoop:f}=n(),{camera:w}=t();return f((()=>{const n=o;w[n(322)]&&c.value&&(u[n(320)][n(285)].value=(new a)[n(294)](w[n(322)][n(309)],c[n(322)].position))})),(n,t)=>{const e=o;return m(),h(e(275),{ref_key:e(289),ref:c,scale:r[e(286)]},[v(e(291),y(b(u)),null,16)],8,N)}}});function R(n){function t(n){const e=z;if(typeof n===e(304))return function(n){}.constructor(e(297))[e(284)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(299)]("debu"+e(305))[e(280)](e(298)):function(){return!1}[e(299)]("debu"+e(305))[e(284)](e(290)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=D;function D(n,t){const e=J();return(D=function(n,t){return e[n-=197]})(n,t)}!function(n,t){const e=D,o=J();for(;;)try{if(791789===parseInt(e(239))/1*(parseInt(e(206))/2)+parseInt(e(236))/3*(-parseInt(e(202))/4)+parseInt(e(218))/5*(-parseInt(e(234))/6)+-parseInt(e(207))/7*(-parseInt(e(222))/8)+parseInt(e(224))/9*(parseInt(e(209))/10)+parseInt(e(252))/11*(-parseInt(e(215))/12)+-parseInt(e(237))/13)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[D(247)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=D,t=new RegExp(n(214)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W("init");t[n(199)](o+"chain")&&e.test(o+n(248))?W():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[D(247)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();L(void 0,(function(){const n=D;let t;try{t=Function(n(231)+n(245)+");")()}catch(r){t=window}const e=t[n(198)]=t.console||{},o=["log",n(254),"info",n(229),"exception","table",n(256)];for(let i=0;i<o[n(211)];i++){const t=L[n(205)][n(253)][n(197)](L),r=o[i],s=e[r]||t;t.__proto__=L[n(197)](L),t.toString=s[n(238)].bind(s),e[r]=t}}))();const Z=[V(221)],G=[V(221)];function J(){const n=["TresBoxGeometry","bind","console","test","debu","stateObject","904vBJcDf","addBinding","#0ff","constructor","1007626KEJjWn","1204TkLeXi","#00dfff","20vpUVqT","while (true) {}","length","TresCanvas","TresMesh","function *\\( *\\)","12oNBjau","FrontSide","BackSide","1126005uJpZjP","logo.png","subdivision","map","36688NTKpUx","TresMeshBasicMaterial","6243939LjvaVt","srcMesh","string","边缘处理","counter","error","TresMeshRefA","return (function() ","value","TresPerspectiveCamera","18CTPPNp","scale","4737wzRDJH","21058128yWnaau","toString","3GlersQ","DoubleSide","instance","#222","color","blending",'{}.constructor("return this")( )',"TreBoxRef","apply","input","shader","TresSphereGeometry","AdditiveBlending","2680381zLDNkP","prototype","warn","gger","trace","TresMeshRefB","TresGridHelper"];return(J=function(){return n})()}const O=f({__name:V(249),async setup(n){const t=V;let s,a;const l={clearColor:t(242)},f=p(),d=p(),g=p(),h=([s,a]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(219)]))),s=await s,a(),s),y=_({scale:1.6,color:t(208),subdivision:!0,c:1.1,p:1.4,side:i[t(216)],blending:i[t(251)]}),b=new u({title:"参数",expanded:!0});return b[t(203)](y,t(243),{label:"颜色"}),b[t(203)](y,t(235),{label:"大小",min:1,max:3,step:.2}),b[t(203)](y,t(220),{label:t(227)}),b[t(203)](y,"c",{label:"c",min:0,max:2,step:.1}),b.addBinding(y,"p",{label:"p",min:0,max:8,step:.2}),b[t(203)](y,"side",{options:{FrontSide:i[t(216)],BackSide:i[t(217)],DoubleSide:i[t(240)]}}),b[t(203)](y,t(244),{options:{AdditiveBlending:i[t(251)],NormalBlending:c}}),(n,r)=>{const i=t,s=M(i(212));return m(),I(s,B(l,{"window-size":""}),{default:T((()=>[r[2]||(r[2]=v(i(233),{position:[5,5,5]},null,-1)),r[3]||(r[3]=v("TresAmbientLight",{intensity:1},null,-1)),j(x(e)),r[4]||(r[4]=v(i(258),{args:[10,10]},null,-1)),v("TresMesh",{ref_key:i(230),ref:f,position:[-2,1,0]},[r[0]||(r[0]=v(i(250),{args:[1,32,16]},null,-1)),v(i(223),{map:x(h)[0]},null,8,Z)],512),j(E,B({srcMesh:f[i(232)]},y),null,16,[i(225)]),j(x(o),{ref_key:i(246),ref:g,args:[1,1,1],position:[2,1,0]},{default:T((()=>[v("TresMeshBasicMaterial",{map:x(h)[1]},null,8,G)])),_:1},512),g.value&&g[i(232)][i(241)]?(m(),I(E,B({key:0,srcMesh:g[i(232)][i(241)]},y),null,16,[i(225)])):S("",!0),v(i(213),{ref_key:i(257),ref:d,position:[0,1,-2]},r[1]||(r[1]=[v(i(259),{args:[1,1,1,1,1]},null,-1),v(i(223),{color:i(204)},null,-1)]),512),j(E,B({srcMesh:d[i(232)]},y),null,16,[i(225)])])),_:1},16)}}});function W(n){function t(n){const e=D;if(typeof n===e(226))return function(n){}[e(205)](e(210)).apply(e(228));1!==(""+n/n).length||n%20==0?function(){return!0}[e(205)](e(200)+e(255)).call("action"):function(){return!1}[e(205)]("debu"+e(255)).apply(e(201)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{O as default};
