import{z as t,p as n,Y as e}from"./@tresjs.QjD7q5YC1729821967160.js";import{_ as r,a0 as o,V as i}from"./three.x4oqFJNT1729821967160.js";import{_ as c}from"./three-tile.rGySB-KI1729821967160.js";import{_ as a,a as s}from"./informationDiv.3q0lfW131729821967160.js";import{d as u,a4 as p,w as l,o as f,E as m,L as h,u as g,r as d,b as y,f as I,g as w,j as b,m as _,al as x,F as j,e as v,aj as S,ak as z}from"./@vue.JNsx1iN61729821967160.js";import{P as T}from"./tweakpane.yHWGBmom1729821967160.js";import"./@vueuse.HMG_JnUD1729821967160.js";import"./@fesjs.RBYJGevJ1729821967160.js";import"./vue-router.x5Kg4cip1729821967160.js";import"./lodash-es.kYt-_xTG1729821967160.js";import"./@qlin.yHhFDldE1729821967160.js";import"./pinia.hn32Nk6P1729821967160.js";import"./@floating-ui.BPbuo5Gx1729821967160.js";import"./@juggle.7yjBMqoW1729821967160.js";function k(t,n){const e=A();return(k=function(t,n){return e[t-=169]})(t,n)}const M=k;!function(t,n){const e=k,r=A();for(;;)try{if(338523===parseInt(e(225))/1+parseInt(e(210))/2+-parseInt(e(186))/3*(-parseInt(e(209))/4)+parseInt(e(216))/5+parseInt(e(183))/6*(parseInt(e(172))/7)+parseInt(e(175))/8+-parseInt(e(214))/9*(parseInt(e(217))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function A(){const t=["function *\\( *\\)","constructor","call","log","matrix","apply","#include <displacementmap_vertex>","radraImgShow","replace","map","TresGroup","debu","height","Vector3","gger","push","table","704KZcaOp","727290AthTrP","counter","exception","action","2250BMTPgO","material","1309590MQfaHm","62440gRtvCM","uniform sampler2D map;\n\t","opacity","init","return (function() ","TresPlaneGeometry","bind","error","671811QokcZC","stateObject","TresMesh","chain","133PzrHyY","toString","while (true) {}","738992HYsKou","test","needsUpdate","40.png","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","string",'{}.constructor("return this")( )',"console","107070HrzmVZ","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2910iuDYib","Texture","scaleImg","MeshPhongMaterial","onBeforeCompile","warn"];return(A=function(){return t})()}!function(){E(this,(function(){const t=k,n=new RegExp(t(192)),e=new RegExp(t(185),"i"),r=C(t(220));n[t(176)](r+t(171))&&e[t(176)](r+"input")?C():r("0")}))()}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[k(197)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();P(void 0,(function(){const t=k;let n;try{n=Function(t(221)+t(181)+");")()}catch(o){n=window}const e=n[t(182)]=n[t(182)]||{},r=["log",t(191),"info",t(224),t(212),t(208),"trace"];for(let i=0;i<r.length;i++){const n=P[t(193)].prototype[t(223)](P),o=r[i],c=e[o]||n;n.__proto__=P[t(223)](P),n[t(173)]=c.toString.bind(c),e[o]=n}}))();const B=["position"],Z=["scale",M(215),"rotateX","position-y"],D=[h(M(222),{args:[1,1,529,420]},null,-1)],L=u({__name:M(199),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=M;let i,c;const s=n,u=new(r[e(189)])({displacementMap:new(r[e(187)]),transparent:!0,side:o,opacity:s[e(219)],displacementScale:.5,displacementBias:0});u[e(190)]=t=>{const n=e;t.vertexShader=n(218)+t.vertexShader,t.vertexShader=t.vertexShader[n(200)](n(198),n(179))};const d=s[e(201)].geo2pos(new(r[e(205)])(105,34,0));d.applyMatrix4(s[e(201)][e(196)]);const y=a[e(188)](s.map,{x:67,y:11},{x:140,y:57},s[e(204)]),I=[];for(let t=0;t<9;t++)I[e(207)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(178));let w=0;const b=([i,c]=p((()=>t(I))),i=await i,c(),i);u[e(201)]=b[w],l((()=>[s.color,s[e(219)]]),(([t,n])=>{u[e(219)]=n}));let _=null,x=!1;return x?(clearInterval(_),_=null,x=!1):(_=setInterval((()=>{const t=k;w=w<I[t(184)]-1?w+1:0,u.map=b[w],u[t(177)]=!0,console[t(195)](w)}),1e3),x=!0),(t,n)=>{const r=e;return f(),m(r(202),{position:[...g(d)]},[h(r(170),{scale:[g(y).x,g(y).y,t[r(204)]],material:g(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},D,8,Z)],8,B)}}});function C(t){function n(t){const e=k;if(typeof t===e(180))return function(t){}.constructor(e(174)).apply(e(211));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(203)+e(206))[e(194)](e(213)):function(){return!1}[e(193)](e(203)+e(206)).apply(e(169)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=Q;function Q(t,n){const e=O();return(Q=function(t,n){return e[t-=422]})(t,n)}!function(t,n){const e=Q,r=O();for(;;)try{if(236187===-parseInt(e(434))/1+-parseInt(e(451))/2+-parseInt(e(423))/3*(parseInt(e(459))/4)+parseInt(e(464))/5+parseInt(e(466))/6*(-parseInt(e(450))/7)+-parseInt(e(433))/8+parseInt(e(475))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(444)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){R(this,(function(){const t=Q,n=new RegExp(t(461)),e=new RegExp(t(460),"i"),r=K(t(481));n.test(r+t(431))&&e[t(474)](r+"input")?K():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();V(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(440)+t(449)+");")()}catch(e){n=window}return n}(),e=n[t(428)]=n[t(428)]||{},r=["log",t(427),t(457),t(467),"exception",t(445),t(478)];for(let o=0;o<r.length;o++){const n=V[t(458)][t(471)].bind(V),i=r[o],c=e[i]||n;n.__proto__=V[t(477)](V),n[t(439)]=c[t(439)][t(477)](c),e[i]=n}}))();const H=[F(480)];function O(){const t=["table","透明度","mapbox.satellite","terrain-rgb",'{}.constructor("return this")( )',"21MgrwCB","880128pyXZeK","geo2pos","showLocation","Vector3","value","length","info","constructor","60VnLJNk","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","string","copy","1881900EdXbVG","addBinding","882774WSYeoq","error","TresDirectionalLight","domElement","TileMap","prototype","image","counter","test","11422161tiQNpP","opacity","bind","trace","mapbox.terrain-rgb","object","init","height","call","90276aaXaAE","tdLight","map","rotateX","warn","console","gger","debu","chain","while (true) {}","592744edcVAE","2398jrQkbA","primitive","localToWorld","controlsEvents","position","toString","return (function() ","MapBoxSource","target","plugin","apply"];return(O=function(){return t})()}const X="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",G=u({__name:"mapBoxShow3",setup(t){const e=F,o=d({height:200,opacity:1}),s=new T({title:"参数"});s[e(465)](o,e(482),{label:"高度",min:10,max:300,step:1}),s.addBinding(o,e(476),{label:e(446),min:0,max:1,step:.1});const u=new(c[e(443)][e(441)])({token:X,dataType:e(472),style:e(447)}),p=new(c[e(443)][e(441)])({token:X,dataType:e(448),style:e(479),maxLevel:15}),v=new(c[e(470)])({imgSource:u,demSource:p,lon0:90,minLevel:2,maxLevel:20});v[e(426)](-Math.PI/2);const S=new i(105,34,0),z=new(r[e(454)])(110,0,1e4),k=v[e(436)](v.geo2pos(S)),M=v.localToWorld(v[e(452)](z)),E=y(),{camera:A,controls:P,scene:B,renderer:Z}=n();return A[e(455)]&&A[e(455)][e(438)][e(463)](M),l((()=>P[e(455)]),(t=>{const n=e;t&&(t.target[n(463)](k),a[n(437)](t,A[n(455)],B[n(455)]))})),l((()=>E[e(455)]),(t=>{const n=e;t&&t[n(442)].position[n(463)](k)})),a[e(453)](A[e(455)],Z[e(455)][e(469)],v),(t,n)=>{const r=e;return f(),m(j,null,[h(r(468),{ref_key:r(424),ref:E,position:[0,2e3,1e3],intensity:1},null,512),h(r(435),{object:g(v)},null,8,H),(f(),I(x,null,{default:w((()=>[b(L,_({map:g(v)},o),null,16,[r(425)])])),_:1}))],64)}}});function K(t){function n(t){const e=Q;if(typeof t===e(462))return function(t){}[e(458)](e(432))[e(444)](e(473));1!==(""+t/t)[e(456)]||t%20==0?function(){return!0}[e(458)](e(430)+"gger")[e(422)]("action"):function(){return!1}[e(458)](e(430)+e(429))[e(444)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=J;!function(t,n){const e=J,r=N();for(;;)try{if(876159===-parseInt(e(403))/1*(-parseInt(e(433))/2)+parseInt(e(425))/3+-parseInt(e(407))/4*(-parseInt(e(419))/5)+parseInt(e(401))/6+-parseInt(e(439))/7*(parseInt(e(442))/8)+parseInt(e(429))/9*(-parseInt(e(412))/10)+-parseInt(e(413))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(436)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=J,n=new RegExp(t(428)),e=new RegExp(t(408),"i"),r=nt(t(410));n[t(414)](r+"chain")&&e[t(414)](r+t(416))?nt():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(436)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(t,n){const e=N();return(J=function(t,n){return e[t-=400]})(t,n)}function N(){const t=["exception","2072152DVcBom","highp","stateObject","warn","9524994eBviCZ","radraImg","1kOAdHS","#dbf0ff","prototype","log","6812hXkcof","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresCanvas","init","toString","13210rQCzKE","30218749KaVztz","test","action","input","TresAmbientLight","bind","4885QmpiLn","constructor","table","gger","call","length","642363xkpPdR",'{}.constructor("return this")( )',"return (function() ","function *\\( *\\)","513enmKFg","console","debu","counter","2020442tZuzGm","string","info","apply","trace","__proto__","21JEJUJF","TresPerspectiveCamera"];return(N=function(){return t})()}$(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(427)+t(426)+");")()}catch(e){n=window}return n}(),e=n[t(430)]=n.console||{},r=[t(406),t(400),t(435),"error",t(441),t(421),t(437)];for(let o=0;o<r[t(424)];o++){const n=$[t(420)][t(405)][t(418)]($),i=r[o],c=e[i]||n;n[t(438)]=$[t(418)]($),n[t(411)]=c[t(411)][t(418)](c),e[i]=n}}))();const U=h(W(440),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),q=h(W(417),{intensity:1},null,-1),tt=u({__name:W(402),setup(t){const n=W,r=d({clearColor:n(404),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(443)}),o=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const c=v(n(409));return f(),m(j,null,[b(c,_(r,{"window-size":""}),{default:w((()=>[U,b(g(e),S(z(o)),null,16),q,b(G)])),_:1},16),b(s)],64)}}});function nt(t){function n(t){const e=J;if(typeof t===e(434))return function(t){}.constructor("while (true) {}")[e(436)](e(432));1!==(""+t/t)[e(424)]||t%20==0?function(){return!0}.constructor(e(431)+"gger")[e(423)](e(415)):function(){return!1}[e(420)](e(431)+e(422))[e(436)](e(444)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
