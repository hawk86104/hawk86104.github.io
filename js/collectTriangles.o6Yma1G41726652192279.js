import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.UGbbWZf51726652192279.js";import{_ as s}from"./index.8gygOd_W1726652192279.js";import{_ as i,a as c,cC as u}from"./three.3esZ7Hzr1726652192279.js";import{P as a}from"./tweakpane.yHWGBmom1726652192279.js";import{I as l,C as p,N as f,c as g,d as h,a as m}from"./three-mesh-bvh.z6NGMxhR1726652192279.js";import{d,a4 as y,b as w,a3 as b,o as j,E as v,L as _,u as I,F as x,r as T,e as A,j as M,g as k,m as z,f as R,al as B}from"./@vue.JNsx1iN61726652192279.js";import"./@vueuse.OdTlFP151726652192279.js";import"./index.ZrFKnAiE1726652192279.js";import"./@fesjs.SPWJBM2r1726652192279.js";import"./vue-router.xtoXuUHZ1726652192279.js";import"./lodash-es.kYt-_xTG1726652192279.js";import"./@qlin.yHhFDldE1726652192279.js";import"./pinia.wYsVO5dS1726652192279.js";import"./@floating-ui.BPbuo5Gx1726652192279.js";import"./@juggle.7yjBMqoW1726652192279.js";import"./chalk.sAH7iSuz1726652192279.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1726652192279.js";import"./@iconify.eRzdeG3K1726652192279.js";import"./utils.r1OYpnPH1726652192279.js";import"./default.vue_vue_type_script_setup_true_lang._-XSoyhn1726652192279.js";import"./three-mesh-ui.module.VVMXR9CV1726652192279.js";!function(t,n){const e=U,r=C();for(;;)try{if(509488===parseInt(e(195))/1+parseInt(e(211))/2*(-parseInt(e(188))/3)+-parseInt(e(192))/4+-parseInt(e(191))/5+parseInt(e(212))/6*(parseInt(e(204))/7)+parseInt(e(189))/8+parseInt(e(187))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function C(){const t=["setFromCamera","__proto__","intersectObject","counter","constructor","Raycaster","gger","action","apply","14497569IxMgIp","131793osgrjK","298048GGXUQC","innerHeight","3999120bZKrOT","4014452FgYKkT","error","return (function() ","681744buwTuy","innerWidth","warn","table","toString","firstHitOnly","bind","info","log","7hrBwJS","touch","clientY","button","console","chain","exception","36zbQShJ","4643052eDYXUm","pointerup","debu","test","string","trace","length","enabled","function *\\( *\\)","addEventListener","call","pointerdown","while (true) {}","value","clientX"];return(C=function(){return t})()}!function(){S(this,(function(){const t=U,n=new RegExp(t(220)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Z("init");n[t(215)](r+t(209))&&e.test(r+"input")?Z():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(186)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(t,n){const e=C();return(U=function(t,n){return e[t-=183]})(t,n)}O(void 0,(function(){const t=U;let n;try{n=Function(t(194)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(208)]=n[t(208)]||{},r=[t(203),t(197),t(202),t(193),t(210),t(198),t(217)];for(let s=0;s<r.length;s++){const n=O[t(231)].prototype[t(201)](O),o=r[s],i=e[o]||n;n[t(228)]=O.bind(O),n[t(199)]=i[t(199)][t(201)](i),e[o]=n}}))();function Z(t){function n(t){const e=U;if(typeof t===e(216))return function(t){}[e(231)](e(224))[e(186)](e(230));1!==(""+t/t).length||t%20==0?function(){return!0}[e(231)](e(214)+"gger")[e(222)](e(185)):function(){return!1}.constructor(e(214)+e(184))[e(186)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function E(){const t=["stateObject","call","setX","targetMesh.value init","boundsTree","intersectsBox","1923940JFigbM","computeBoundsTree","length","controls","position","27638puKVuK","attributes","生成模型","while (true) {}","setFromCamera","trace","#023249","matrixWorld","geometry","test","5384160uACUdE","__proto__","63kZyylW","click","prototype","14682TRwnKq","constructor","init","addButton","BufferAttribute","185742qrLmLo","gger","fill","log","color","Vector3","debu","normal","active","getX","console","disposeBoundsTree","center","BufferGeometry","scale","invert","TresSphereGeometry","radius","raycast","setZ","TresMesh","140XchvmN","firstHitOnly","visible","getY","targetMesh","point","intersectsSphere","value","containsPoint","copy","点击按钮","Sphere","Mesh","596172xdRGUd","exception","Matrix4","getZ","setUsage","info","return (function() ","17682yHuPdW","DynamicDrawUsage","toString","material","counter","chain","setScalar","model","setY","200zJAWcA","MeshStandardMaterial","TresMeshStandardMaterial","setAttribute","needsUpdate","apply","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","instance","bind","brushMesh","Vector2"];return(E=function(){return t})()}const W=J;!function(t,n){const e=J,r=E();for(;;)try{if(336614===parseInt(e(348))/1+parseInt(e(294))/2+-parseInt(e(355))/3*(parseInt(e(364))/4)+-parseInt(e(289))/5+parseInt(e(309))/6*(parseInt(e(306))/7)+parseInt(e(304))/8+-parseInt(e(314))/9*(parseInt(e(335))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(t,n){const e=E();return(J=function(t,n){return e[t-=281]})(t,n)}!function(){F(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(371),"i"),r=P(t(311));n[t(303)](r+t(360))&&e[t(303)](r+"input")?P():r("0")}))()}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(369)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();L(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(354)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(324)]||{},r=["log",t(370),t(353),"error",t(349),"table",t(299)];for(let o=0;o<r[t(291)];o++){const n=L[t(310)][t(308)][t(374)](L),s=r[o],i=e[s]||n;n[t(305)]=L[t(374)](L),n[t(357)]=i[t(357)][t(374)](i),e[s]=n}}))();const X=[W(302),W(358)],G=[_(W(330),{args:[1,40,40]},null,-1),_(W(366),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],K=[W(302)],Y=[_(W(366),{color:W(300),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],q=d({__name:W(362),props:{controls:{}},async setup(r){const o=W;let s,d;const T=r;(()=>{const t=J;i[t(327)].prototype.computeBoundsTree=g,i[t(327)][t(308)][t(325)]=h,i[t(347)].prototype[t(332)]=m})();const A=([s,d]=y((()=>e(u,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,d(),s),M=new(i[o(365)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*A[o(295)].position.count);k[o(316)](255);const z=new(i[o(313)])(k,3,!0);z[o(352)](i[o(356)]),A.setAttribute(o(318),z);const R=w(null),B=w(null),S=w(!1),C=w(-1),O=w(.2),Z=new(i[o(282)]),{camera:E,raycaster:F}=t(),L=15/255,q=78/255,P=85/255;let $=null;b((()=>{const t=o;R[t(342)]&&(console[t(317)](t(286),R.value),R.value.geometry[t(290)](),$=A[t(287)],((t,n,e,r,o,s)=>{const c=U;window.addEventListener("pointermove",(e=>{const r=U;t.x=e[r(226)]/window.innerWidth*2-1,t.y=-e[r(206)]/window.innerHeight*2+1,n.value=!0})),window[c(221)](c(223),(u=>{const a=c;t.x=u[a(226)]/window[a(196)]*2-1,t.y=-u.clientY/window[a(190)]*2+1,r[a(225)]=u[a(207)];const l=new(i[a(183)]);l[a(227)](t,e[a(225)]),l[a(200)]=!0;const p=l[a(229)](o[a(225)],!0);n.value=!0,s[a(219)]=0===p[a(218)]}),!0),window.addEventListener(c(213),(t=>{const e=c;r[e(225)]=-1,t.pointerType===e(205)&&(n.value=!1)}),!0)})(Z,S,E,C,R,T[t(292)][t(373)]))}));const{onLoop:H}=n();H((()=>{const t=o,n=A.index;if(B.value)if(T[t(292)].instance[t(322)]||!S[t(342)])B[t(342)][t(337)]=!1;else{B[t(342)][t(328)][t(361)](O[t(342)]),F.value[t(298)](Z,E.value),F[t(342)][t(336)]=!0;const e=F[t(342)].intersectObject(R[t(342)],!0);if(e[t(291)]){B.value[t(293)][t(344)](e[0][t(340)]),T[t(292)][t(373)].enabled=!1,B[t(342)][t(337)]=!0;const r=new(i[t(350)]);r.copy(R[t(342)][t(301)])[t(329)]();const o=new(i[t(346)]);o[t(326)][t(344)](B.value[t(293)]).applyMatrix4(r),o[t(331)]=100*O[t(342)];const s=[],c=new(i[t(319)]);if(null==$||$.shapecast({intersectsBounds:n=>{const e=t,r=o[e(288)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(372)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(343)](c))return l;return p}return r?l:f},intersectsTriangle:(n,e,r)=>{if(r||n[t(341)](o)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===C[t(342)]||2===C[t(342)]){let e=1,r=1,o=1;0===C.value&&(e=L,r=q,o=P);for(let i=0,c=s.length;i<c;i++){const c=n[t(323)](s[i]);z[t(285)](c,e),z[t(363)](c,r),z[t(333)](c,o)}z[t(368)]=!0}}else B[t(342)][t(337)]=!1,T[t(292)][t(373)].enabled=!0}}));const N=(new a)[o(312)]({title:o(345),label:o(296)}),D=new(i[o(327)]);return N.on(o(307),(()=>{const t=o,n=[],e=[];for(let o=0;o<z.count;o++)z[t(323)](o)===L&&z[t(338)](o)===q&&z.getZ(o)===P&&(n.push(A[t(295)][t(293)].getX(o),A[t(295)][t(293)][t(338)](o),A[t(295)][t(293)][t(351)](o)),e.push(A[t(295)][t(321)].getX(o),A[t(295)][t(321)][t(338)](o),A[t(295)][t(321)][t(351)](o)));const r=new Float32Array(n);D.setAttribute(t(293),new c(r,3)),D[t(367)](t(321),new(i[t(313)])(r,3))})),(t,n)=>{const e=o;return j(),v(x,null,[_(e(334),{ref_key:e(339),ref:R,geometry:I(A),scale:.005,material:I(M)},null,8,X),_(e(334),{ref_key:e(281),ref:B,visible:!1},G,512),_("TresMesh",{geometry:I(D),position:[-2,-2,2],scale:.005},Y,8,K)],64)}}});function P(t){function n(t){const e=J;if("string"==typeof t)return function(t){}[e(310)](e(297)).apply(e(359));1!==(""+t/t)[e(291)]||t%20==0?function(){return!0}[e(310)](e(320)+e(315))[e(284)]("action"):function(){return!1}[e(310)]("debugger").apply(e(283)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function $(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","chain","call","warn","info","console","138UNJBKg","log",'{}.constructor("return this")( )',"20UAJgte","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","pos-z.jpg","constructor","TresAmbientLight","init","neg-x.jpg","while (true) {}","exception","2327229PGcQSG","#999999","string","gger","294444WlwtBO","14222zyaWkm","TresCanvas","80UOLvBn","trace","bind","apply","__proto__","3676387ROcDTJ","9764664rqFWMR","7919114NxKSyc","prototype","1929sWTJTP","6036XhGZnc","TresPerspectiveCamera","stateObject","function *\\( *\\)","action","toString","error","debu"];return($=function(){return t})()}const H=Q;!function(t,n){const e=Q,r=$();for(;;)try{if(680489===parseInt(e(344))/1*(-parseInt(e(361))/2)+-parseInt(e(372))/3*(-parseInt(e(329))/4)+-parseInt(e(363))/5*(-parseInt(e(360))/6)+-parseInt(e(370))/7+parseInt(e(369))/8+parseInt(e(356))/9*(-parseInt(e(347))/10)+parseInt(e(368))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(366)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){N(this,(function(){const t=Q,n=new RegExp(t(332)),e=new RegExp(t(337),"i"),r=et(t(352));n.test(r+t(339))&&e[t(338)](r+"input")?et():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(366)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(t,n){const e=$();return(Q=function(t,n){return e[t-=329]})(t,n)}D(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function("return (function() "+t(346)+");")()}catch(e){n=window}return n}(),e=n[t(343)]=n[t(343)]||{},r=[t(345),t(341),t(342),t(335),t(355),"table",t(364)];for(let o=0;o<r.length;o++){const n=D[t(350)][t(371)][t(365)](D),s=r[o],i=e[s]||n;n[t(367)]=D[t(365)](D),n[t(334)]=i[t(334)][t(365)](i),e[s]=n}}))();const V=_(H(330),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=_(H(351),{intensity:1},null,-1),nt=d({__name:"collectTriangles",setup(t){const n=H,e=T({clearColor:n(357),antialias:!0}),i=T({autoRotate:!1}),c=w(null);return(t,u)=>{const a=n,l=A(a(362));return j(),v(x,null,[M(I(s)),M(l,z(e,{"window-size":""}),{default:k((()=>[V,M(I(r),z({ref_key:"controlsRef",ref:c},i),null,16),tt,(j(),R(B,null,{default:k((()=>[M(q,{controls:c.value},null,8,["controls"])])),_:1})),(j(),R(B,null,{default:k((()=>[M(I(o),{background:!1,files:["pos-x.jpg",a(353),"pos-y.jpg","neg-y.jpg",a(349),"neg-z.jpg"],path:a(348)})])),_:1}))])),_:1},16)],64)}}});function et(t){function n(t){const e=Q;if(typeof t===e(358))return function(t){}[e(350)](e(354))[e(366)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(336)+e(359))[e(340)](e(333)):function(){return!1}[e(350)]("debu"+e(359))[e(366)](e(331)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{nt as default};
