import{_ as t}from"./three.aWgA1gea1733214749102.js";import{m as n}from"./@tresjs.lftldzUe1733214749102.js";import{d as e,P as a}from"./@pmndrs.EXEjBNTl1733214749102.js";import{d as o,b as r,w as s,a3 as i,o as c,D as u,J as l,aj as p,ak as f}from"./@vue.-THQH3GC1733214749102.js";const h=d;function d(t,n){const e=w();return(d=function(t,n){return e[t-=473]})(t,n)}!function(t,n){const e=d,a=w();for(;;)try{if(202377===-parseInt(e(533))/1+parseInt(e(525))/2*(-parseInt(e(488))/3)+parseInt(e(505))/4+parseInt(e(549))/5*(-parseInt(e(524))/6)+parseInt(e(520))/7+parseInt(e(501))/8*(-parseInt(e(513))/9)+parseInt(e(517))/10)break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const m=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,a}}();function w(){const t=["set","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","width","intensity","near","clear","ambient","lightPosition","color","console","progressiveLightMap2","size","shadow","shadows plm update","opacity","toString","height","205050MxELPw","random","chain","update","prepare","alphaTest","call","DirectionalLight","warn","position","counter","right","prototype","2108840GmUdJo","exception","TresMesh","camera","1325848LEodgZ","sin","apply","string","while (true) {}","far","info","blendWindow","9mimMoK","radius",'{}.constructor("return this")( )',"randFloatSpread","5176770NWhbSX","Group","amount","1257907TswxaT","bottom","constructor","cos","745566CGvbzq","4YqVQPP","bias","TresSoftShadowMaterial","trace","length","gger","TresPlaneGeometry","mapSize","301897JNOAgm","Vector3","shadows render end","add","#000000","configure","frames","children","abs","action","table","rotate-x","blend","debu","accumulativeShadowsCom","value","5CQyKfC","finish","return (function() ","material","input","function *\\( *\\)","top","bind","MathUtils","shadows render start","test"];return(w=function(){return t})()}!function(){m(this,(function(){const t=d,n=new RegExp(t(554)),e=new RegExp(t(561),"i"),a=y("init");n[t(559)](a+t(490))&&e[t(559)](a+t(553))?y():a("0")}))()}();const g=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[d(507)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();g(void 0,(function(){const t=d;let n;try{n=Function(t(551)+t(515)+");")()}catch(o){n=window}const e=n[t(480)]=n[t(480)]||{},a=[t(562),t(496),t(511),"error",t(502),t(543),t(528)];for(let r=0;r<a[t(529)];r++){const n=g[t(522)][t(500)][t(556)](g),o=a[r],s=e[o]||n;n.__proto__=g.bind(g),n[t(486)]=s.toString[t(556)](s),e[o]=n}}))();const b=[h(544)],M=o({__name:h(547),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(537)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(o){const d=h,m=o;let w=r();const{extend:g,scene:M,renderer:y,camera:x}=n();g({SoftShadowMaterial:e});const I={position:(new(t[d(534)]))[d(560)](m[d(478)].x,m.lightPosition.y,m.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},P=new a(y[d(548)],M[d(548)],I[d(532)]),S={map:P[d(481)].texture,transparent:!0,depthWrite:!1,toneMapped:!0,blend:m[d(545)],alphaTest:m[d(493)],opacity:m[d(485)],color:m[d(479)]},z=new(t[d(518)]);for(let n=0;n<I[d(519)];n++){const n=new(t[d(495)])(16777215,I[d(474)]/I.amount);n.castShadow=!0,n[d(483)].bias=I[d(526)],n[d(483)].camera[d(475)]=I[d(475)],n[d(483)][d(504)][d(510)]=I[d(510)],n[d(483)][d(504)][d(499)]=I[d(482)]/2,n[d(483)].camera.left=-I[d(482)]/2,n[d(483)].camera[d(555)]=I[d(482)]/2,n.shadow.camera[d(521)]=-I[d(482)]/2,n[d(483)][d(532)][d(473)]=I.mapSize,n.shadow[d(532)][d(487)]=I[d(532)],z[d(536)](n)}const T=()=>{const n=d,e=I[n(497)][n(529)]();for(let a=0;a<z[n(540)][n(529)];a++){const o=z[n(540)][a];if(Math[n(489)]()>m[n(477)])o.position[n(560)](I[n(497)].x+t[n(557)][n(516)](I.radius),I[n(497)].y+t[n(557)][n(516)](I.radius),I[n(497)].z+t[n(557)][n(516)](I[n(514)]));else{let t=Math.acos(2*Math.random()-1)-Math.PI/2,a=2*Math.PI*Math[n(489)]();o[n(497)][n(560)](Math[n(523)](t)*Math[n(523)](a)*e,Math[n(541)](Math[n(523)](t)*Math.sin(a)*e),Math[n(506)](t)*e)}}},_=(t=1)=>{const n=d;M.value[n(536)](z),P[n(492)]();for(let e=0;e<t;e++)T(),P[n(491)](x[n(548)],m[n(512)]),console[n(562)](n(484),e);M.value.remove(z),P[n(550)]()};s((()=>w[d(548)]),(t=>{const n=d;t&&(P[n(538)](t),P[n(476)](),console[n(562)](n(558)),_(m[n(539)]),console[n(562)](n(535)))}));const v=()=>{const t=d;P[t(476)](),_(m[t(539)])};return i((()=>{const t=d;w[t(548)]&&(m[t(485)]&&(w[t(548)][t(552)].opacity=m[t(485)]),m.alphaTest&&(w[t(548)][t(552)].alphaTest=m.alphaTest),m[t(479)]&&w[t(548)].material[t(479)].set(m[t(479)]),m[t(545)]&&(w[t(548)].material[t(545)]=m[t(545)]))})),s((()=>m[d(478)]),(t=>{const n=d;t&&(console[n(562)](m[n(478)]),I.position[n(560)](t.x,t.y,t.z),v())}),{deep:!0}),s((()=>[m[d(539)],m[d(512)],m[d(477)]]),(()=>{v()})),(t,n)=>{const e=d;return c(),u(e(503),{"receive-shadow":"",ref_key:"gPlane",ref:w,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=l(e(531),{args:[1,1]},null,-1)),l(e(527),p(f(S)),null,16)],8,b)}}});function y(t){function n(t){const e=d;if(typeof t===e(508))return function(t){}[e(522)](e(509))[e(507)](e(498));1!==(""+t/t)[e(529)]||t%20==0?function(){return!0}[e(522)]("debugger")[e(494)](e(542)):function(){return!1}[e(522)](e(546)+e(530))[e(507)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
