var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,o=(t,o)=>{for(var a in o||(o={}))n.call(o,a)&&i(t,a,o[a]);if(e)for(var a of e(o))r.call(o,a)&&i(t,a,o[a]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.ZKvR8GT61734492426993.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.ccUiRlDO1734492426993.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.uRMaWgid1734492426993.js";import{k as a,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,V as v,M as m}from"./three.-W-Avfc61734492426993.js";import{m as h,e as w}from"./@tresjs.WiFlZbqU1734492426993.js";import{u as g}from"./index.GoKrQvrO1734492426993.js";import{F as d,C as y}from"./three-stdlib.JXmeYOx_1734492426993.js";import{d as S}from"./@vue.-THQH3GC1734492426993.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.5xJfj9Ef1734492426993.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.lZil-L1T1734492426993.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.tc-Hu1OP1734492426993.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.65ISCpqJ1734492426993.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.8IXPc8DG1734492426993.js";const P=z;!function(t,e){const n=z,r=I();for(;;)try{if(273824===parseInt(n(370))/1*(parseInt(n(381))/2)+-parseInt(n(388))/3+parseInt(n(391))/4+-parseInt(n(385))/5+parseInt(n(374))/6+parseInt(n(400))/7*(parseInt(n(372))/8)+-parseInt(n(383))/9*(parseInt(n(398))/10))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const _=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[z(373)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function z(t,e){const n=I();return(z=function(t,e){return n[t-=367]})(t,e)}!function(){_(this,(function(){const t=z,e=new RegExp(t(399)),n=new RegExp(t(389),"i"),r=A(t(380));e.test(r+t(395))&&n[t(401)](r+t(375))?A():r("0")}))()}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[z(373)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function I(){const t=["length","prototype","log","chain","debu",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"7460UVTeam","function *\\( *\\)","102956ZVqKSR","test","action","gger","bind","1094gIrwOU","info","288YgRQTd","apply","2859216JrbpGD","input","error","call","string","toString","init","502AycIGF","console","7011GNYeUw",'{}.constructor("return this")( )',"1750410eoFCtl","counter","constructor","1158231AvmyYq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","1241996PwPnxP"];return(I=function(){return t})()}b(void 0,(function(){const t=z,e=function(){const t=z;let e;try{e=Function("return (function() "+t(384)+");")()}catch(n){e=window}return e}(),n=e[t(382)]=e.console||{},r=[t(394),"warn",t(371),t(376),"exception","table",t(390)];for(let i=0;i<r.length;i++){const e=b.constructor[t(393)].bind(b),o=r[i],a=n[o]||e;e.__proto__=b[t(369)](b),e[t(379)]=a.toString.bind(a),n[o]=e}}))();const M=P(397);function A(t){function e(t){const n=z;if(typeof t===n(378))return function(t){}.constructor("while (true) {}")[n(373)](n(386));1!==(""+t/t)[n(392)]||t%20==0?function(){return!0}.constructor(n(396)+n(368))[n(377)](n(367)):function(){return!1}[n(387)](n(396)+"gger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const E=T;!function(t,e){const n=T,r=O();for(;;)try{if(876851===-parseInt(n(215))/1*(-parseInt(n(220))/2)+parseInt(n(230))/3*(-parseInt(n(222))/4)+parseInt(n(206))/5+-parseInt(n(243))/6*(parseInt(n(209))/7)+-parseInt(n(242))/8+-parseInt(n(238))/9+parseInt(n(236))/10)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const L=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[T(225)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){L(this,(function(){const t=T,e=new RegExp(t(223)),n=new RegExp(t(240),"i"),r=V(t(213));e[t(234)](r+t(211))&&n[t(234)](r+t(245))?V():r("0")}))()}();const U=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[T(225)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function D(t){const e=T,n=o({},t);return e(212)in t&&(n.defines=o({},t.defines)),e(216)in t&&(n[e(216)]=s.clone(t.uniforms)),n}function T(t,e){const n=O();return(T=function(t,e){return n[t-=206]})(t,e)}U(void 0,(function(){const t=T;let e;try{e=Function(t(237)+t(208)+");")()}catch(i){e=window}const n=e.console=e[t(239)]||{},r=["log",t(231),t(232),t(226),t(233),t(244),t(229)];for(let o=0;o<r[t(227)];o++){const e=U.constructor.prototype[t(218)](U),i=r[o],a=n[i]||e;e[t(210)]=U[t(218)](U),e.toString=a[t(207)][t(218)](a),n[i]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new a},parentMapSize:{value:new a},parentLevel:{value:0}},vertexShader:E(241),fragmentShader:E(214)+M+E(235)};function V(t){function e(t){const n=T;if("string"==typeof t)return function(t){}[n(247)](n(219)).apply(n(221));1!==(""+t/t)[n(227)]||t%20==0?function(){return!0}[n(247)](n(224)+"gger").call(n(246)):function(){return!1}[n(247)]("debu"+n(217))[n(225)](n(228)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function O(){const t=["function *\\( *\\)","debu","apply","error","length","stateObject","trace","54pRypyz","warn","info","exception","test","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","39020840pkrbvD","return (function() ","10950975yzwfFp","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","10311024XSXVNV","34074cwoaUs","table","input","action","constructor","4630265NNmuFr","toString",'{}.constructor("return this")( )',"14YCWJuB","__proto__","chain","defines","init","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","24421oIXaMH","uniforms","gger","bind","while (true) {}","14LHyIlw","counter","356716RAthMQ"];return(O=function(){return t})()}function R(){const t=["defines","trace","length","76642tdyAxt","debu","getClearAlpha","setRenderTarget","2011388WLeFUu","init","minFilter","clear","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","info","198NhDnIa","floor","test",'{}.constructor("return this")( )',"function *\\( *\\)","_mipQuad","set","setClearColor","57PsqWSr","action","toString","X_IS_EVEN","texture","map","Y_IS_EVEN","8uvDCav","string","setViewOffset","originalMapSize","381367QNEmPh","autoClear","__proto__","getClearColor","apply","setSize","fragmentShader","width","isWebGLRenderTarget","height","_swapTarget","uniforms","constructor","render","value","prototype","forEach","return (function() ","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","image","_mipMaterials","while (true) {}","type","32739TdNsqn","error","dispose","1407920VNsHWc","input","stateObject","_copyQuad","call","bind","3641346zFlhuN","console","table","setClearAlpha","counter","52130HfoULh","camera","getRenderTarget","material"];return(R=function(){return t})()}!function(t,e){const n=N,r=R();for(;;)try{if(478899===-parseInt(n(202))/1+-parseInt(n(149))/2*(-parseInt(n(168))/3)+parseInt(n(153))/4+-parseInt(n(205))/5+-parseInt(n(211))/6+parseInt(n(179))/7*(parseInt(n(175))/8)+parseInt(n(160))/9*(parseInt(n(216))/10))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const k=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[N(183)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){k(this,(function(){const t=N,e=new RegExp(t(164)),n=new RegExp(t(157),"i"),r=F(t(154));e[t(162)](r+"chain")&&n.test(r+t(206))?F():r("0")}))()}();const H=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[N(183)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function N(t,e){const n=R();return(N=function(t,e){return n[t-=144]})(t,e)}H(void 0,(function(){const t=N,e=function(){const t=N;let e;try{e=Function(t(196)+t(163)+");")()}catch(n){e=window}return e}(),n=e[t(212)]=e.console||{},r=[t(158),"warn",t(159),t(203),"exception",t(213),t(147)];for(let i=0;i<r[t(148)];i++){const e=H.constructor[t(194)][t(210)](H),o=r[i],a=n[o]||e;e[t(181)]=H[t(210)](H),e.toString=a[t(170)][t(210)](a),n[o]=e}}))();const W=new l;class C{constructor(t){const e=N;!t&&(t=e(197));const n=D(j);n[e(185)]=n[e(185)].replace(/<mipmap_logic>/g,t);const r=new Array(4);r[0]=new c(D(n)),r[0].defines[e(171)]=0,r[0].defines[e(174)]=0,r[1]=new c(D(n)),r[1][e(146)][e(171)]=1,r[1].defines[e(174)]=0,r[2]=new c(D(n)),r[2].defines[e(171)]=0,r[2][e(146)][e(174)]=1,r[3]=new c(D(n)),r[3].defines[e(171)]=1,r[3][e(146)][e(174)]=1;const i=new u;i[e(172)][e(155)]=p,i.texture.magFilter=p,this[e(189)]=i,this._copyQuad=new d(new c(y)),this._mipQuad=new d(null),this[e(199)]=r}update(t,e,n,r=!1){const i=N;t[i(187)]&&(t=t[i(172)]);const a=n[i(180)],s=n[i(151)](),l=n[i(144)]();n[i(182)](W);const c=this._copyQuad,u=this[i(165)],p=this._swapTarget,x=this[i(199)];let v,m;r?(v=f.floorPowerOfTwo(t[i(198)][i(186)]),m=f.floorPowerOfTwo(t[i(198)].height)):(v=Math[i(161)](t.image.width),m=Math[i(161)](t.image[i(188)]));const h=Math[i(161)](1.5*v),w=Math.floor(m);e[i(184)](h,w),p.texture[i(201)]!==e.texture[i(201)]?(p.dispose(),p.copy(e),p[i(172)][i(198)]=o({},p.texture[i(198)])):p.setSize(h,w),n[i(180)]=!1,n[i(167)](0),n[i(214)](),c[i(145)][i(190)].tDiffuse.value=t,c[i(217)][i(177)](v,m,0,0,h,w),n[i(152)](e),n[i(156)](),c[i(192)](n),n[i(152)](p),n[i(156)](),c[i(192)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[i(190)].map[i(193)]=p.texture,t[i(190)].parentLevel[i(193)]=y,t[i(190)].parentMapSize[i(193)][i(166)](g,d),t[i(190)][i(178)][i(193)][i(166)](v,m),u[i(145)]=t,g=Math[i(161)](g/2),d=Math[i(161)](d/2);const r=w-2*d;n.setRenderTarget(e),u[i(217)][i(177)](g,d,-v,-r,h,w),u[i(192)](n),n[i(152)](p),t[i(190)][i(173)][i(193)]=e[i(172)],u[i(192)](n),y++}return n[i(152)](l),n[i(214)](s),n.setClearColor(W),n.autoClear=a,y+1}dispose(){const t=N;this[t(189)][t(204)](),this[t(165)].dispose(),this[t(208)][t(204)](),this[t(199)][t(195)]((e=>e[t(204)]()))}}function F(t){function e(t){const n=N;if(typeof t===n(176))return function(t){}.constructor(n(200)).apply(n(215));1!==(""+t/t)[n(148)]||t%20==0?function(){return!0}[n(191)]("debugger")[n(209)](n(169)):function(){return!1}.constructor(n(150)+"gger")[n(183)](n(207)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){const n=Z,r=Y();for(;;)try{if(944490===-parseInt(n(501))/1*(parseInt(n(461))/2)+-parseInt(n(500))/3*(-parseInt(n(519))/4)+parseInt(n(478))/5*(-parseInt(n(473))/6)+-parseInt(n(465))/7+parseInt(n(458))/8*(-parseInt(n(512))/9)+parseInt(n(526))/10*(-parseInt(n(516))/11)+-parseInt(n(507))/12*(-parseInt(n(504))/13))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const Q=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[Z(514)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function Z(t,e){const n=Y();return(Z=function(t,e){return n[t-=458]})(t,e)}!function(){Q(this,(function(){const t=Z,e=new RegExp(t(517)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=X(t(521));e[t(462)](r+t(496))&&n[t(462)](r+"input")?X():r("0")}))()}();const G=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function Y(){const t=["copy","trace","depth","Quaternion","while (true) {}","state","reflect","bind","gger","ignoreObjects","debu","info","clone","matrixWorldInverse","PerspectiveCamera","chain","matrixWorld","log","Plane","3PUfhPk","45979WAwzbR","constructor","__proto__","56346082WYTgFy","setRenderTarget","position","12GqJjPy","update","Vector4","value","resolution","37629brVunP","parent","apply","error","858847ZrfduN","function *\\( *\\)","sub","6916396rGJqzt","Vector3","init","forEach","prototype","projectPoint","stateObject","210yuHxjF","getRenderTarget","sign","set","return (function() ","multiplyScalar","lookAt","applyMatrix4","console","Matrix4","counter","visible","160JBfyTQ","multiply","warn","64jMzgpr","test","elements","length","7022764RBuzUy","action","add","buffers","negate","exception","normal","UnsignedByteType","2763318nfkHgH","texture","projectionMatrix","toString","table","10pGAxah","applyQuaternion","getWorldPosition"];return(Y=function(){return t})()}G(void 0,(function(){const t=Z;let e;try{e=Function(t(530)+'{}.constructor("return this")( ));')()}catch(i){e=window}const n=e.console=e[t(534)]||{},r=[t(498),t(460),t(492),t(515),t(470),t(477),t(482)];for(let o=0;o<r.length;o++){const e=G[t(502)][t(523)][t(488)](G),i=r[o],a=n[i]||e;e[t(503)]=G[t(488)](G),e[t(476)]=a.toString.bind(a),n[i]=e}}))();const $=S({__name:"reflectorMipMap",props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Z,r=t,i=new(x[n(499)]),o=new(x[n(535)]),a=new(x[n(495)]),s=new C,l=g({width:r.resolution,height:r[n(511)],settings:{type:x[n(472)]}}),c=g({width:r[n(511)],height:r[n(511)],settings:{type:x[n(472)]}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:d}=w();return d((()=>{const t=n;(()=>{const t=n;if(!u.value)return;i[t(529)](new v(0,1,0),0),i[t(533)](r[t(513)][t(497)]),a[t(481)](u[t(510)]);const e=new(x[t(520)])(0,0,1)[t(493)]()[t(469)](),s=u[t(510)][t(480)](new v);e.reflect(i.normal);const c=new v;i[t(524)](s,c);const h=c[t(493)]();h[t(518)](s),h.add(c),a[t(506)][t(481)](h);const w=new(x[t(520)])(0,0,-1);w.applyQuaternion(u[t(510)].getWorldQuaternion(new(x[t(484)]))),w[t(467)](s);const g=new(x[t(520)]);r[t(513)][t(480)](g),g[t(518)](w),g[t(487)](i[t(471)])[t(469)](),g[t(467)](r.parent[t(480)](new(x[t(520)]))),a.up[t(529)](0,1,0),a[t(479)](u[t(510)].getWorldQuaternion(new(x[t(484)]))),a.up[t(487)](i[t(471)]),a[t(532)](g),a.updateMatrixWorld();const d=new m;d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(a[t(475)]),d[t(459)](a[t(494)]),o[t(481)](d),i[t(533)](a.matrixWorldInverse);const y=new(x[t(509)])(i[t(471)].x,i[t(471)].y,i.normal.z,i.constant),S=a[t(475)],P=new(x[t(509)]);P.x=(Math[t(528)](y.x)+S[t(463)][8])/S[t(463)][0],P.y=(Math.sign(y.y)+S.elements[9])/S.elements[5],P.z=-1,P.w=(1+S[t(463)][10])/S[t(463)][14],y[t(531)](2/y.dot(P)),S[t(463)][2]=y.x,S.elements[6]=y.y,S.elements[10]=y.z+1,S[t(463)][14]=y.w;const _=p[t(510)][t(527)]();p[t(510)][t(505)](l.value),p[t(510)][t(486)][t(468)][t(483)].setMask(!0),!1===p.value.autoClear&&p[t(510)].clear(),r.ignoreObjects[t(522)]((e=>e[t(537)]=!1)),p[t(510)].render(f[t(510)],a),r[t(490)][t(522)]((t=>t.visible=!0)),p[t(510)][t(505)](_)})(),l[t(510)]&&c[t(510)]&&p[t(510)]&&s[t(508)](l.value[t(474)],c[t(510)],p[t(510)])})),e({matrix:o,renderTarget:c}),(t,e)=>null}});function X(t){function e(t){const n=Z;if("string"==typeof t)return function(t){}[n(502)](n(485))[n(514)](n(536));1!==(""+t/t)[n(464)]||t%20==0?function(){return!0}.constructor(n(491)+n(489)).call(n(466)):function(){return!1}[n(502)](n(491)+n(489)).apply(n(525)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=J,r=K();;)try{if(481871===-parseInt(n(235))/1+parseInt(n(240))/2+parseInt(n(253))/3+-parseInt(n(242))/4*(parseInt(n(251))/5)+parseInt(n(234))/6*(-parseInt(n(231))/7)+parseInt(n(233))/8+parseInt(n(220))/9*(parseInt(n(230))/10))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var q=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){q(this,(function(){var t=J,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(224),"i"),r=tt("init");e.test(r+"chain")&&n[t(241)](r+t(252))?tt():r("0")}))()}();var B=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[J(228)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function J(t,e){var n=K();return(J=function(t,e){return n[t-=220]})(t,e)}function K(){var t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","call","console","apply","gger","3290VvWioI","1169hRfPzx","info","5376136ggOMrH","14478SjyIiq","486275SezUkc","exception","while (true) {}","debu","constructor","447240LlsKix","test","4652LrnHhH","bind","length","toString","__proto__","action","table","prototype","string","670soqrZU","input","511179iGSTXH","trace",'{}.constructor("return this")( )',"12609ulqSku","counter","stateObject","return (function() "];return(K=function(){return t})()}function tt(t){function e(t){var n=J;if(typeof t===n(250))return function(t){}.constructor(n(237))[n(228)](n(221));1!==(""+t/t)[n(244)]||t%20==0?function(){return!0}.constructor(n(238)+n(229))[n(226)](n(247)):function(){return!1}.constructor(n(238)+n(229))[n(228)](n(222)),e(++t)}try{if(t)return e;e(0)}catch(n){}}B(void 0,(function(){var t,e=J;try{t=Function(e(223)+e(255)+");")()}catch(l){t=window}for(var n=t[e(227)]=t.console||{},r=["log","warn",e(232),e(225),e(236),e(248),e(254)],i=0;i<r[e(244)];i++){var o=B[e(239)][e(249)].bind(B),a=r[i],s=n[a]||o;o[e(246)]=B[e(243)](B),o[e(245)]=s.toString[e(243)](s),n[a]=o}}))();export{$ as _};
