import{a as t,U as n}from"./@tresjs.0qL_P2CE1735517803200.js";import{P as e}from"./tweakpane.yHWGBmom1735517803200.js";import{Y as o,_ as r,m as a,a as s,ak as i,al as u}from"./three.-uH5I3Xp1735517803200.js";import{_ as c}from"./heatmap.js-fix.x3i-Ei-21735517803200.js";import{d as l,a6 as p,a3 as f,o as d,D as h,u as m,r as g,e as v,f as y,g as w,J as b,j as x,al as _,aj as I,ak as j,m as C}from"./@vue.-THQH3GC1735517803200.js";import"./@vueuse.oT9wchAS1735517803200.js";import"./@amap.BJG0QnpR1735517803200.js";const S=M;!function(t,n){const e=M,o=k();for(;;)try{if(153943===parseInt(e(553))/1+parseInt(e(514))/2*(-parseInt(e(497))/3)+parseInt(e(550))/4*(parseInt(e(532))/5)+-parseInt(e(529))/6*(-parseInt(e(556))/7)+-parseInt(e(505))/8+parseInt(e(482))/9*(parseInt(e(528))/10)+parseInt(e(519))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(546)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["block","40px","DoubleSide","console","_renderer","6IeiHYd","geometry","display","getZ","position","stateObject","left","debu","2279440mUwLiP","needsUpdate","heatmapClickCom","gger","count","bind","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","show2dCanvas","style","172708xwtIVK","trace","toString","absolute","deleteAttribute","3160421mMmGEi","0.8","test","layerY","mesh_0","init","setAttribute","counter","while (true) {}","1990WMYWVR","12KUvONa","attributes","none","70UuYncG","body","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","radius","error","boundingBox","heatmap-canvas","set","appendChild","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","return (function() ","apply","canvas","chain","push","15992EzNjuR","createElement","warn","150393iwlcAt","call","scale","250383fSSsWY","1px solid #5384ff","primitive","info","action","2097kbHpui",'{}.constructor("return this")( )',"onclick","prototype","addData","__proto__","getX","length","object","function *\\( *\\)"];return(k=function(){return t})()}!function(){A(this,(function(){const t=M,n=new RegExp(t(491)),e=new RegExp(t(543),"i"),o=D(t(524));n.test(o+t(548))&&e[t(521)](o+"input")?D():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(546)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(t,n){const e=k();return(M=function(t,n){return e[t-=480]})(t,n)}z(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function(t(545)+t(483)+");")()}catch(e){n=window}return n}(),e=n[t(495)]=n[t(495)]||{},o=["log",t(552),t(480),t(537),"exception",t(542),t(515)];for(let r=0;r<o[t(489)];r++){const n=z[t(544)][t(485)][t(510)](z),a=o[r],s=e[a]||n;n[t(487)]=z[t(510)](z),n.toString=s[t(516)][t(510)](s),e[a]=n}}))();const U=[S(490)],Y=l({__name:S(507),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=S;let i,u;const l=n,{nodes:g}=([i,u]=p((()=>t(e(535),{draco:!0,decoderPath:"./draco/"}))),i=await i,u(),i);g[e(523)][e(501)][e(540)](-5088.96,-3.08,39374.7),g[e(523)][e(555)].setScalar(.01);let v=null,y=null,w=null;y=new o((()=>{const t=e;return w=document[t(551)](t(539)),w[t(513)].position=t(517),w[t(513)].top=t(493),w[t(513)][t(503)]="0",document[t(533)][t(541)](w),v=c.create({container:w,width:256,height:256,blur:t(520),radius:l[t(536)]}),v[t(496)][t(547)][t(513)].border=t(557),v[t(496)][t(547)][t(484)]=function(n){const e=t;v[e(486)]({x:n.layerX,y:n[e(522)],value:1,radius:l[e(536)]}),v.setDataMax(1),y&&(y[e(506)]=!0)},v})()[e(496)][e(547)]);const b={vertexShader:e(534),fragmentShader:e(511),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(494)]},x=new a(b);g[e(523)].material=x;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:r}=t[n(538)];t[n(518)]("uv");const a=o.x-r.x,i=o.z-r.z,u=[];for(let e=0;e<t.attributes.position[n(509)];e++)u.push((t[n(530)].position[n(488)](e)-r.x)/a),u[n(549)]((t[n(530)][n(501)][n(500)](e)-r.z)/i);const c=new Float32Array(u);t[n(525)]("uv",new s(c,2))})(g[e(523)][e(498)]),f((()=>{const t=e;w[t(513)][t(499)]=""+(l[t(512)]?t(492):t(531))})),(t,n)=>{const o=e;return d(),h(o(558),{object:m(g).mesh_0},null,8,U)}}});function D(t){function n(t){const e=M;if("string"==typeof t)return function(t){}[e(544)](e(527))[e(546)](e(526));1!==(""+t/t)[e(489)]||t%20==0?function(){return!0}[e(544)](e(504)+"gger")[e(554)](e(481)):function(){return!1}[e(544)](e(504)+e(508))[e(546)](e(502)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=T,o=B();for(;;)try{if(944022===-parseInt(e(355))/1*(parseInt(e(367))/2)+-parseInt(e(356))/3+-parseInt(e(362))/4+parseInt(e(374))/5*(-parseInt(e(366))/6)+-parseInt(e(353))/7+parseInt(e(331))/8+parseInt(e(348))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(354)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=T,n=new RegExp(t(364)),e=new RegExp(t(338),"i"),o=L(t(352));n[t(360)](o+t(373))&&e[t(360)](o+t(343))?L():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(354)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=B();return(T=function(t,n){return e[t-=327]})(t,n)}function B(){const t=["length","function *\\( *\\)","debu","6AbJYJA","2DgOZgN","while (true) {}",'{}.constructor("return this")( )',"action","bind","console","chain","3706715YdrvFy","toString","exception","addBinding","TresCanvas","7973240naXwPs","显示二维图","stateObject","gger","TresGridHelper","info","radius","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","show2dCanvas","__proto__","warn","counter","input","#ffffff","TresDirectionalLight","error","addButton","58428198YpojVL","constructor","#030311","TresPerspectiveCamera","init","12268354YlaqzU","apply","1337543TTLNMm","5509362ytjEAt","call","string","return (function() ","test","点击左侧蓝色画框","3506772tvHCCK"];return(B=function(){return t})()}R(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(359)+t(369)+");")()}catch(e){n=window}return n}(),e=n[t(372)]=n.console||{},o=["log",t(341),t(336),t(346),t(328),"table","trace"];for(let r=0;r<o[t(363)];r++){const n=R[t(349)].prototype.bind(R),a=o[r],s=e[a]||n;n[t(340)]=R[t(371)](R),n[t(327)]=s.toString[t(371)](s),e[a]=n}}))();const O=l({__name:"heatmapClick",setup(t){const o=T,r={clearColor:o(350),shadows:!0,alpha:!0,outputColorSpace:i,shadowMapType:u,useLegacyLights:!0,antialias:!0},a=g({show2dCanvas:!0,radius:20}),s=new e({title:"参数",expanded:!0});return s.addBinding(a,o(339),{label:o(332)}),s[o(329)](a,o(337),{label:"圆圈的大小",min:.1,max:30,step:.1}),s[o(347)]({title:o(361)}),(t,e)=>{const s=o,i=v(s(330));return d(),y(i,C(r,{"window-size":""}),{default:w((()=>[e[0]||(e[0]=b(s(351),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),x(m(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b(s(345),{position:[5,10,7.5],color:s(344),intensity:5},null,-1)),e[2]||(e[2]=b(s(335),{args:[50,25]},null,-1)),(d(),y(_,null,{default:w((()=>[x(Y,I(j(a)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=T;if(typeof t===e(358))return function(t){}[e(349)](e(368)).apply(e(342));1!==(""+t/t)[e(363)]||t%20==0?function(){return!0}.constructor("debu"+e(334))[e(357)](e(370)):function(){return!1}[e(349)](e(365)+e(334))[e(354)](e(333)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
