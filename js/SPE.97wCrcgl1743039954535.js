import{_ as t,cB as e,bR as i,b as n,a as s,V as o,a$ as r,B as a,d as c,C as h}from"./three.XuMWWlrU1743039954535.js";const u=p;!function(t,e){const i=p,n=g();for(;;)try{if(759278===parseInt(i(525))/1+-parseInt(i(468))/2+-parseInt(i(520))/3+parseInt(i(514))/4+parseInt(i(483))/5+-parseInt(i(657))/6+parseInt(i(503))/7)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[p(478)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){l(this,(function(){const t=p,e=new RegExp(t(784)),i=new RegExp(t(706),"i"),n=y("init");e[t(488)](n+t(719))&&i[t(488)](n+"input")?y():n("0")}))()}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function p(t,e){const i=g();return p=function(t,e){return i[t-=417]},p(t,e)}f(void 0,(function(){const t=p,e=function(){const t=p;let e;try{e=Function(t(435)+t(755)+");")()}catch(i){e=window}return e}(),i=e.console=e[t(432)]||{},n=[t(463),t(615),t(498),t(818),t(546),"table","trace"];for(let s=0;s<n[t(457)];s++){const e=f[t(542)].prototype[t(716)](f),o=n[s],r=i[o]||e;e[t(792)]=f[t(716)](f),e[t(617)]=r[t(617)][t(716)](r),i[o]=e}}))();const d={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===u(490)&&define[u(511)]?define(u(804),d):typeof exports!==u(634)&&"undefined"!=typeof module&&(module[u(444)]=d),d[u(788)]=function(t,e,i,n){const s=u;this[s(561)]=i||1,this.size=e||1,this[s(680)]=t||Float32Array,this.array=new t(e*this.componentSize),this[s(678)]=n||0},d.TypedArrayHelper[u(542)]=d.TypedArrayHelper,d[u(788)][u(661)][u(853)]=function(t,e){const i=u,n=this[i(603)][i(457)];return!e&&(t*=this[i(561)]),t<n?this[i(797)](t):t>n?this[i(519)](t):void console[i(498)]("TypedArray is already of size:",t+".",i(495))},d[u(788)][u(661)][u(797)]=function(t){const e=u;return this.array=this[e(603)][e(663)](0,t),this[e(535)]=t,this},d[u(788)][u(661)][u(519)]=function(t){const e=u,i=this.array,n=new this.TypedArrayConstructor(t);return n.set(i),this[e(603)]=n,this.size=t,this},d.TypedArrayHelper[u(661)][u(839)]=function(t,e){const i=u;t*=this.componentSize,e*=this[i(561)];const n=[],s=this.array,o=s.length;for(let r=0;r<o;++r)(r<t||r>=e)&&n.push(s[r]);return this[i(506)](0,n),this},d[u(788)][u(661)][u(506)]=function(t,e){const i=u,n=t+e[i(457)];return n>this[i(603)][i(457)]?this[i(519)](n):n<this.array[i(457)]&&this[i(797)](n),this[i(603)][i(565)](e,this[i(678)]+t),this},d.TypedArrayHelper.prototype[u(736)]=function(t,e){return this[u(623)](t,e.x,e.y)},d[u(788)][u(661)][u(623)]=function(t,e,i){const n=u,s=this[n(603)],o=this[n(678)]+t*this.componentSize;return s[o]=e,s[o+1]=i,this},d[u(788)].prototype[u(662)]=function(t,e){return this[u(675)](t,e.x,e.y,e.z)},d[u(788)][u(661)].setVec3Components=function(t,e,i,n){const s=u,o=this[s(603)],r=this.indexOffset+t*this[s(561)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},d[u(788)].prototype[u(502)]=function(t,e){return this[u(690)](t,e.x,e.y,e.z,e.w)},d.TypedArrayHelper[u(661)][u(690)]=function(t,e,i,n,s){const o=u,r=this[o(603)],a=this[o(678)]+t*this[o(561)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},d[u(788)][u(661)][u(845)]=function(t,e){const i=u;return this.setFromArray(this[i(678)]+t*this.componentSize,e.elements)},d[u(788)][u(661)].setMat4=function(t,e){const i=u;return this[i(506)](this.indexOffset+t*this[i(561)],e.elements)},d.TypedArrayHelper[u(661)].setColor=function(t,e){return this[u(675)](t,e.r,e.g,e.b)},d[u(788)].prototype[u(816)]=function(t,e){const i=u;return this[i(603)][this.indexOffset+t*this[i(561)]]=e,this},d.TypedArrayHelper.prototype[u(613)]=function(t){const e=u;return this[e(603)][this[e(678)]+t]},d[u(788)][u(661)][u(782)]=function(t){const e=u;return this[e(603)].subarray(this[e(678)]+t*this.componentSize)},d.ShaderAttribute=function(t,e,i){const n=u,s=d[n(650)][n(493)];this[n(582)]=typeof t===n(659)&&s.hasOwnProperty(t)?t:"f",this.componentSize=s[this.type],this[n(453)]=i||Float32Array,this[n(466)]=null,this[n(648)]=null,this[n(769)]=!!e,this[n(518)]=0,this.updateMax=0},d[u(650)].constructor=d[u(650)],d.ShaderAttribute[u(493)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},d[u(650)][u(661)].setUpdateRange=function(t,e){const i=u;this.updateMin=Math[i(722)](t*this[i(561)],this[i(518)]*this[i(561)]),this[i(737)]=Math[i(851)](e*this[i(561)],this[i(737)]*this[i(561)])},d[u(650)].prototype[u(554)]=function(){const t=u,e=this[t(648)];!e[t(718)]&&(e[t(718)]={});const i=e[t(718)];i.offset=this[t(518)],i[t(750)]=Math[t(722)](this.updateMax-this[t(518)]+this[t(561)],this[t(466)][t(603)][t(457)]),e[t(501)]=!0},d[u(650)][u(661)][u(534)]=function(){const t=u;this[t(518)]=0,this[t(737)]=0},d[u(650)][u(661)][u(610)]=function(){const e=u;this.bufferAttribute[e(685)]=this[e(769)]?t[e(494)]:t[e(475)]},d[u(650)][u(661)][u(839)]=function(t,e){const i=u;this[i(466)].splice(t,e),this[i(834)]()},d[u(650)].prototype[u(834)]=function(){const t=u;this.bufferAttribute[t(603)]=this[t(466)][t(603)],this[t(648)].updateRange[t(508)]=0,this[t(648)].updateRange[t(750)]=-1,this[t(648)][t(685)]=e,this[t(648)].needsUpdate=!0},d[u(650)][u(661)][u(513)]=function(t){const e=u;null!==this[e(466)]&&this[e(466)][e(535)]===t*this[e(561)]||(null!==this[e(466)]&&this[e(466)].size!==t?this[e(466)].setSize(t):null===this.typedArray&&(this.typedArray=new(d[e(788)])(this[e(453)],t,this[e(561)])))},d.ShaderAttribute[u(661)]._createBufferAttribute=function(e){const i=u;if(this[i(513)](e),null!==this[i(648)])return this[i(648)][i(603)]=this[i(466)][i(603)],parseFloat(t[i(616)])>=81&&(this[i(648)][i(750)]=this[i(648)].array[i(457)]/this.bufferAttribute[i(652)]),void(this[i(648)][i(501)]=!0);this[i(648)]=new(t[i(731)])(this[i(466)].array,this[i(561)]),this[i(648)][i(685)]=this[i(769)]?t[i(494)]:t[i(475)]},d[u(650)][u(661)][u(693)]=function(){const t=u;return null===this[t(466)]?0:this[t(466)][t(603)].length},d[u(458)]={defines:[u(665),"#define PACKED_COLOR_DIVISOR 255.0"][u(704)]("\n"),uniforms:["uniform float deltaTime;","uniform float runTime;",u(442),u(608),u(643)].join("\n"),attributes:[u(717),"attribute vec3 velocity;",u(815),"attribute vec3 rotationCenter;",u(805),u(440),u(673),"attribute vec4 color;",u(500)].join("\n"),varyings:[u(549),u(679),u(614),"#endif",u(460),u(780),u(841)].join("\n"),branchAvoidanceFunctions:[u(480),"    return max(sign(x - y), 0.0);","}",u(713),u(701),"}",u(426),u(749),"}","float when_ge(float x, float y) {",u(835),"}",u(636),"  return 1.0 - when_gt(x, y);","}",u(449),u(712),"}","float or(float a, float b) {",u(824),"}"][u(704)]("\n"),unpackColor:[u(621),u(733),u(573),u(541),u(570),"   c.r = r / PACKED_COLOR_DIVISOR;",u(743),u(764),u(605),"}"][u(704)]("\n"),unpackRotationAxis:[u(825),u(733),u(573),u(541),"   float b = mod( hex, PACKED_COLOR_SIZE );",u(847),u(743),"   c.b = b / PACKED_COLOR_DIVISOR;","   c *= vec3( 2.0 );",u(772),u(605),"}"][u(704)]("\n"),floatOverLifetime:[u(699),"    highp float value = 0.0;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    float fIndex = 0.0;",u(840),u(596),"","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {",u(595),u(509),u(837),u(734),"","    return value;","}"][u(704)]("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );",u(551),u(586),u(807),u(759),"}"][u(704)]("\n"),paramFetchingFunctions:[u(479),u(705),"}",u(654),u(587),"}",u(653),u(532),"}",u(799),u(602),"}"].join("\n"),forceFetchingFunctions:[u(521),u(425),"}","vec3 getVelocity( in float age ) {","   return velocity * age;","}",u(763),"   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:[u(692),"   mat4 getRotationMatrix( in vec3 axis, in float angle) {","       axis = normalize(axis);",u(645),u(684),u(625),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",u(583),u(779),u(832),u(420),"",u(642),"      if( rotation.y == 0.0 ) {",u(850),u(423),"",u(553),"      vec3 center = rotationCenter;",u(499),u(778),u(512),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );",u(800),u(817),"      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }",u(841)][u(704)]("\n"),rotateTexture:[u(504),"",u(630),u(710),"       float y = 1.0 - gl_PointCoord.y - 0.5;",u(469),"       float s = sin( -vAngle );","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );",u(695),"","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = vSpriteSheet.x;",u(461),u(523),u(510),u(612),u(803),u(695),"","    vec4 rotatedTexture = texture2D( tex, vUv );"].join("\n")},d[u(647)]={vertex:[d.shaderChunks[u(536)],d.shaderChunks[u(569)],d[u(458)].attributes,d[u(458)][u(619)],i[u(808)],t[u(622)].logdepthbuf_pars_vertex,t[u(622)][u(429)],d[u(458)][u(588)],d[u(458)].unpackColor,d[u(458)][u(471)],d[u(458)][u(738)],d[u(458)].colorOverLifetime,d.shaderChunks.paramFetchingFunctions,d[u(458)][u(428)],d[u(458)].rotationFunctions,u(730),u(516),u(606),u(486),u(833),u(447),u(798),u(762),u(639),"        float wiggleCos = isAlive * cos( wiggleAmount );","    #endif","    vec3 vel = getVelocity( age );","    vec3 accel = getAcceleration( age );",u(790),u(484),u(528),u(776),u(846),"    force += accel * age;","    pos += force;",u(798),u(599),u(547),u(465),u(695),u(668),"        pos = getRotation( pos, positionInTime );",u(695),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",u(757),u(417),"        float perspective = scale / length( mvPosition.xyz );",u(830),u(445),u(695),u(672),u(543),u(810),u(791),u(660),u(768),u(758),u(843),u(578),"    #else",u(687),u(695),u(454),u(823),u(630),u(674),u(695),u(593),"        float framesX = textureAnimation.x;",u(556),"        float loopCount = textureAnimation.w;",u(589),u(419),u(632),u(708),"        float columnNorm = column / framesX;","        float rowNorm = row / framesY;",u(806),u(751),u(537),u(781),u(695),u(489),"    gl_Position = projectionMatrix * mvPosition;",t[u(622)][u(544)],t[u(622)][u(552)],"}"][u(704)]("\n"),fragment:[d.shaderChunks[u(569)],t[u(622)].common,t[u(622)][u(746)],i.logdepthbuf_pars_fragment,d[u(458)][u(619)],d[u(458)][u(588)],u(730),u(441),"    ","    #ifdef ALPHATEST","       if ( vColor.w < float(ALPHATEST) ) discard;","    #endif",d.shaderChunks.rotateTexture,i[u(527)],"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",u(761),t[u(622)][u(714)],"}"][u(704)]("\n")},d[u(667)]={types:{BOOLEAN:u(539),STRING:"string",NUMBER:u(691),OBJECT:u(563)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=u;if(Array[n(656)](t)){for(let s=t[n(457)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(472)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){if(Array[u(656)](t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=u;e=e||3,i=i||3,!1===Array[n(656)](t[n(801)])&&(t[n(801)]=[t[n(801)]]),!1===Array.isArray(t[n(655)])&&(t[n(655)]=[t[n(655)]]);const s=this[n(434)](t[n(801)][n(457)],e,i),o=this[n(434)](t[n(655)][n(457)],e,i),r=Math[n(851)](s,o);t[n(801)].length!==r&&(t[n(801)]=this[n(474)](t[n(801)],r)),t._spread[n(457)]!==r&&(t[n(655)]=this.interpolateArray(t._spread,r))},interpolateArray(t,e){const i=u,n=t[i(457)],s=[typeof t[0][i(470)]===i(490)?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(592)](e),a=Math[i(857)](e),c=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return s[i(559)]("function"==typeof t[n-1][i(470)]?t[n-1][i(470)]():t[n-1]),s},clamp(t,e,i){const n=u;return Math[n(851)](e,Math[n(722)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[u(456)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,s){const o=u;let r,a=this[o(492)];return typeof e===a[o(618)]&&typeof i===a[o(618)]?e+(i-e)*s:e instanceof t[o(640)]&&i instanceof t[o(640)]?(r=e[o(470)](),r.x=this.lerp(e.x,i.x,s),r.y=this.lerp(e.y,i.y,s),r):e instanceof t[o(462)]&&i instanceof n?(r=e.clone(),r.x=this[o(848)](e.x,i.x,s),r.y=this[o(848)](e.y,i.y,s),r.z=this[o(848)](e.z,i.z,s),r):e instanceof t[o(437)]&&i instanceof t[o(437)]?(r=e[o(470)](),r.x=this[o(848)](e.x,i.x,s),r.y=this[o(848)](e.y,i.y,s),r.z=this[o(848)](e.z,i.z,s),r.w=this[o(848)](e.w,i.w,s),r):e instanceof t[o(760)]&&i instanceof t[o(760)]?(r=e[o(470)](),r.r=this[o(848)](e.r,i.r,s),r.g=this[o(848)](e.g,i.g,s),r.b=this.lerp(e.b,i.b,s),r):void console[o(615)]("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=u;let n=0;return 0===e?t:(n=Math[i(700)](t)%e,0===n?t:t<0?-(Math[i(700)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=u;for(let i=0;i<t[e(457)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,s){const o=u;let r=i.x+(Math[o(456)]()*n.x-.5*n.x),a=i.y+(Math[o(456)]()*n.y-.5*n.y),c=i.z+(Math.random()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(744)](r,s.x),a=.5*-s.y+this[o(744)](a,s.y),c=.5*-s.z+this[o(744)](c,s.z)),t.typedArray[o(675)](e,r,a,c)},randomColor(t,e,i,n){const s=u;let o=i.r+Math[s(456)]()*n.x,r=i.g+Math[s(456)]()*n.y,a=i.b+Math[s(456)]()*n.z;o=this[s(434)](o,0,1),r=this.clamp(r,0,1),a=this[s(434)](a,0,1),t[s(466)][s(675)](e,o,r,a)},randomColorAsHex:function(){const e=u,i=new(t[e(760)]);return function(t,n,s,o){const r=e,a=s[r(457)],c=[];for(let e=0;e<a;++e){const t=o[e];i[r(783)](s[e]),i.r+=Math[r(456)]()*t.x-.5*t.x,i.g+=Math[r(456)]()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[r(434)](i.g,0,1),i.b=this[r(434)](i.b,0,1),c[r(559)](i[r(789)]())}t[r(466)].setVec4Components(n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=u,o=i[s(470)]();o[s(848)](n,Math.random()),t[s(466)].setVec3Components(e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=u;let h=2*Math[c(456)]()-1,l=6.2832*Math[c(456)](),f=Math[c(838)](1-h*h),p=this[c(451)](n,s),d=0,m=0,g=0;r&&(p=Math.round(p/r)*r),d=f*Math[c(683)](l)*p,m=f*Math[c(767)](l)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(466)][c(675)](e,d,m,g)},seededRandom(t){const e=1e4*Math[u(767)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=u;let c=6.2832*Math[a(456)](),h=Math.abs(this[a(451)](n,s)),l=0,f=0,p=0;r&&(h=Math.round(h/r)*r),l=Math[a(683)](c)*h,f=Math[a(767)](c)*h,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t.typedArray[a(675)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=u,i=new(t[e(462)]);return function(t,n,s,o,r,a,c,h){const u=e;i[u(783)](a),i.x-=s,i.y-=o,i.z-=r,i[u(638)]()[u(558)](-this.randomFloat(c,h)),t[u(466)][u(675)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new n;return function(e,i,n,s,o,r,a,c){const h=p;t[h(783)](r),t.x-=n,t.y-=s,t.z-=o,t.normalize()[h(558)](-this[h(451)](a,c)),e[h(466)].setVec3Components(i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=u,i=new(t[e(462)]),n=new(t[e(462)]),s=new(t[e(760)]),o=new(t[e(462)])(1,1,1);return function(t,r){const a=e;return i[a(783)](t)[a(638)](),n[a(783)](r)[a(638)](),i.x+=.5*-r.x+Math.random()*r.x,i.y+=.5*-r.y+Math[a(456)]()*r.y,i.z+=.5*-r.z+Math[a(456)]()*r.z,i[a(638)]()[a(497)](o)[a(558)](.5),s[a(707)](i.x,i.y,i.z),s[a(789)]()}}()},d.Group=function(e){const i=u,n=d.utils,h=n.types;(e=n[i(472)](e,h.OBJECT,{})).texture=n[i(472)](e[i(572)],h[i(438)],{}),this.uuid=s[i(827)](),this[i(646)]=n[i(472)](e[i(646)],h[i(618)],.016),this[i(572)]=n[i(496)](e.texture.value,t[i(635)],null),this.textureFrames=n[i(496)](e[i(572)][i(727)],o,new(t[i(640)])(1,1)),this[i(765)]=n[i(472)](e[i(572)].frameCount,h[i(618)],this[i(566)].x*this[i(566)].y),this[i(842)]=n[i(472)](e[i(572)][i(677)],h[i(618)],1),this.textureFrames.max(new o(1,1)),this[i(756)]=n[i(472)](e[i(756)],h[i(564)],!0),this[i(433)]=n[i(472)](e[i(433)],h[i(564)],!0),this[i(557)]=n[i(472)](e[i(557)],h.NUMBER,null),this[i(485)]=n.ensureTypedArg(e.blending,h[i(618)],r),this[i(524)]=n[i(472)](e[i(524)],h[i(564)],!0),this[i(576)]=parseFloat(n[i(472)](e[i(576)],h[i(618)],0)),this.depthWrite=n[i(472)](e[i(529)],h[i(564)],!1),this[i(721)]=n[i(472)](e[i(721)],h[i(564)],!0),this[i(711)]=n[i(472)](e[i(711)],h[i(564)],!0),this.scale=n[i(472)](e[i(649)],h[i(618)],300),this[i(682)]=[],this.emitterIDs=[],this[i(747)]=[],this[i(464)]=null,this[i(641)]=0,this[i(591)]=!1,this._attributesNeedDynamicReset=!1,this.particleCount=0,this.uniforms={tex:{type:"t",value:this[i(572)]},textureAnimation:{type:"v4",value:new(t[i(437)])(this[i(566)].x,this[i(566)].y,this[i(765)],Math[i(851)](Math.abs(this[i(842)]),1))},fogColor:{type:"c",value:this[i(711)]?new(t[i(760)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(649)]}},this[i(536)]={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this[i(433)],VALUE_OVER_LIFETIME_LENGTH:d[i(822)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(566)].x>1||this[i(566)].y>1},this[i(793)]={position:new(d[i(650)])("v3",!0),acceleration:new(d[i(650)])("v4",!0),velocity:new(d[i(650)])("v3",!0),rotation:new(d[i(650)])("v4",!0),rotationCenter:new d.ShaderAttribute("v3",!0),params:new d.ShaderAttribute("v4",!0),size:new(d[i(650)])("v4",!0),angle:new(d[i(650)])("v4",!0),color:new(d[i(650)])("v4",!0),opacity:new(d[i(650)])("v4",!0)},this[i(422)]=Object[i(811)](this[i(793)]),this[i(726)]=this[i(422)][i(457)],this[i(669)]=new(t[i(831)])({uniforms:this[i(569)],vertexShader:d[i(647)][i(720)],fragmentShader:d.shaders.fragment,blending:this[i(485)],transparent:this.transparent,alphaTest:this[i(576)],depthWrite:this[i(529)],depthTest:this[i(721)],defines:this[i(536)],fog:this.fog}),this[i(740)]=new a,this[i(459)]=new c(this[i(740)],this[i(669)]),null===this[i(557)]&&console[i(615)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},d.Group[u(542)]=d[u(715)],d[u(715)][u(661)][u(775)]=function(){const t=u;let e,i=this[t(682)],n=i[t(457)]-1,s=this.defines;for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s[t(568)]=s[t(568)]||!!Math.max(Math[t(851)][t(478)](null,e.angle[t(446)]),Math[t(851)][t(478)](null,e[t(590)][t(575)]))),s[t(538)]=s[t(538)]||!!Math[t(851)](e[t(633)].angle,e.rotation[t(598)]),s[t(481)]=s[t(481)]||!!Math[t(851)](e[t(548)].value,e[t(548)].spread);this.material.needsUpdate=!0},d.Group[u(661)][u(545)]=function(){const t=u;let e,i,n=this[t(793)],s=this[t(740)],o=s[t(793)];for(const r in n)n[t(476)](r)&&(e=n[r],i=o[r],i?i[t(603)]=e.typedArray[t(603)]:s[t(741)](r,e[t(648)]),e[t(648)].needsUpdate=!0);this[t(740)][t(819)](0,this[t(507)])},d.Group[u(661)].addEmitter=function(t){const e=u;if(t instanceof d[e(477)]==!1)return void console[e(818)](e(796),t);if(this[e(473)].indexOf(t[e(418)])>-1)return void console.error("Emitter already exists in this group. Will not add again.");if(null!==t[e(774)])return void console[e(818)]("Emitter already belongs to another group. Will not add to requested group.");const i=this.attributes,n=this[e(507)],s=n+t[e(507)];this[e(507)]=s,null!==this[e(557)]&&this[e(507)]>this[e(557)]&&console[e(615)](e(651),this[e(507)],"particles, can support only",this[e(557)]),t[e(836)](t[e(854)][e(801)]+t[e(854)][e(655)]),t._setBufferUpdateRanges(this[e(422)]),t._setAttributeOffset(n),t[e(774)]=this,t[e(793)]=this.attributes;for(const o in i)i[e(476)](o)&&i[o][e(852)](null!==this.maxParticleCount?this[e(557)]:this[e(507)]);for(let o=n;o<s;++o)t._assignPositionValue(o),t[e(752)](o,e(482)),t._assignForceValue(o,"acceleration"),t[e(735)](o,"opacity"),t._assignAbsLifetimeValue(o,e(535)),t._assignAngleValue(o),t[e(574)](o),t[e(452)](o),t[e(594)](o);return this._applyAttributesToGeometry(),this[e(682)][e(559)](t),this[e(473)][e(559)](t[e(418)]),this[e(775)](t),this[e(669)][e(501)]=!0,this.geometry.needsUpdate=!0,this._attributesNeedRefresh=!0,this},d[u(715)][u(661)].removeEmitter=function(t){const e=u,i=this[e(473)].indexOf(t[e(418)]);if(t instanceof d[e(477)]==!1)return void console[e(818)](e(796),t);if(-1===i)return void console[e(818)](e(455));const n=t[e(607)],s=n+t[e(507)],o=this[e(793)][e(601)][e(466)];for(let r=n;r<s;++r)o[e(603)][4*r]=0,o[e(603)][4*r+1]=0;this.emitters[e(839)](i,1),this[e(473)][e(839)](i,1);for(const r in this[e(793)])this.attributes[e(476)](r)&&this[e(793)][r][e(839)](n,s);this[e(507)]-=t.particleCount,t[e(702)](),this._attributesNeedRefresh=!0},d[u(715)].prototype[u(522)]=function(){const t=u,e=this[t(747)],i=this[t(641)];if(e[t(457)])return e[t(658)]();if(i){const e=new(d[t(477)])(this[t(464)]);return this[t(540)](e),e}return null},d.Group.prototype.releaseIntoPool=function(t){const e=u;if(t instanceof d[e(477)]!=!1)return t.reset(),this[e(747)][e(631)](t),this;console[e(818)](e(826),t)},d.Group[u(661)][u(688)]=function(){return this._pool},d.Group.prototype[u(533)]=function(t,e,i){const n=u;let s;this[n(464)]=e,this[n(641)]=!!i;for(let o=0;o<t;++o)s=Array.isArray(e)?new d.Emitter(e[o]):new(d[n(477)])(e),this[n(540)](s),this.releaseIntoPool(s);return this},d[u(715)][u(661)]._triggerSingleEmitter=function(e){const i=u,n=this[i(522)](),s=this;if(null!==n)return e instanceof t[i(462)]&&(n[i(620)][i(446)].copy(e),n[i(620)][i(446)]=n[i(620)][i(446)]),n[i(443)](),setTimeout((()=>{n[i(487)](),s.releaseIntoPool(n)}),1e3*Math[i(851)](n[i(666)],n[i(854)][i(446)]+n[i(854)][i(575)])),this;console[i(463)](i(794))},d[u(715)].prototype.triggerPoolEmitter=function(t,e){const i=u;if(typeof t===i(691)&&t>1)for(let n=0;n<t;++n)this[i(786)](e);else this[i(786)](e);return this},d[u(715)].prototype._updateUniforms=function(t){const e=u;this[e(569)][e(856)][e(446)]+=t,this[e(569)][e(448)][e(446)]=t},d[u(715)][u(661)]._resetBufferRanges=function(){const t=u;let e=this[t(422)],i=this.attributeCount-1,n=this.attributes;for(;i>=0;--i)n[e[i]][t(534)]()},d.Group.prototype._updateBuffers=function(t){const e=u;let i,n,s,o=this[e(422)],r=this.attributeCount-1,a=this[e(793)],c=t[e(609)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s.setUpdateRange(n[e(722)],n[e(851)]),s[e(554)]()},d[u(715)][u(661)].tick=function(t){const e=u;var i=this.emitters,n=i[e(457)],s=t||this[e(646)],o=this[e(422)],r=this[e(793)];if(this._updateUniforms(s),this._resetBufferRanges(),0!==n||!1!==this[e(591)]||!1!==this[e(748)]){for(var a,c=0;c<n;++c)(a=i[c])[e(664)](s),this[e(555)](a);if(!0===this[e(748)]){for(c=this.attributeCount-1;c>=0;--c)r[o[c]][e(610)]();this[e(748)]=!1}if(!0===this[e(591)]){for(c=this[e(726)]-1;c>=0;--c)r[o[c]][e(834)]();this[e(591)]=!1,this._attributesNeedDynamicReset=!0}}},d[u(715)][u(661)][u(828)]=function(){const t=u;return this[t(740)][t(828)](),this[t(669)][t(828)](),this},d[u(477)]=function(e){const i=u,o=d[i(667)],r=o[i(492)],a=d.valueOverLifetimeLength;(e=o[i(472)](e,r[i(438)],{}))[i(620)]=o[i(472)](e[i(620)],r[i(438)],{}),e[i(482)]=o[i(472)](e[i(482)],r[i(438)],{}),e[i(697)]=o[i(472)](e[i(697)],r[i(438)],{}),e[i(600)]=o[i(472)](e[i(600)],r[i(438)],{}),e[i(753)]=o[i(472)](e[i(753)],r[i(438)],{}),e[i(633)]=o[i(472)](e[i(633)],r[i(438)],{}),e[i(725)]=o[i(472)](e[i(725)],r.OBJECT,{}),e[i(597)]=o[i(472)](e[i(597)],r[i(438)],{}),e[i(535)]=o[i(472)](e.size,r.OBJECT,{}),e[i(590)]=o[i(472)](e[i(590)],r[i(438)],{}),e[i(548)]=o[i(472)](e[i(548)],r[i(438)],{}),e[i(854)]=o[i(472)](e[i(854)],r.OBJECT,{}),e[i(560)]&&console[i(615)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this[i(418)]=s[i(827)](),this.type=o[i(472)](e.type,r[i(618)],d[i(676)].BOX),this.position={_value:o[i(496)](e[i(620)][i(446)],n,new(t[i(462)])),_spread:o[i(496)](e[i(620)].spread,n,new(t[i(462)])),_spreadClamp:o.ensureInstanceOf(e[i(620)][i(739)],t[i(462)],new(t[i(462)])),_distribution:o[i(472)](e[i(620)][i(777)],r[i(618)],this[i(582)]),_randomise:o[i(472)](e[i(620)][i(723)],r[i(564)],!1),_radius:o[i(472)](e[i(620)].radius,r[i(618)],10),_radiusScale:o[i(496)](e[i(620)][i(728)],t[i(462)],new(t[i(462)])(1,1,1)),_distributionClamp:o[i(472)](e.position.distributionClamp,r.NUMBER,0)},this.velocity={_value:o[i(496)](e[i(482)].value,t[i(462)],new(t[i(462)])),_spread:o[i(496)](e[i(482)].spread,n,new(t[i(462)])),_distribution:o[i(472)](e[i(482)][i(777)],r[i(618)],this.type),_randomise:o[i(472)](e[i(620)][i(723)],r.BOOLEAN,!1)},this[i(697)]={_value:o[i(496)](e[i(697)].value,t[i(462)],new(t[i(462)])),_spread:o[i(496)](e.acceleration[i(575)],n,new(t[i(462)])),_distribution:o[i(472)](e[i(697)][i(777)],r.NUMBER,this[i(582)]),_randomise:o[i(472)](e[i(620)][i(723)],r[i(564)],!1)},this[i(753)]={_value:o[i(472)](e[i(753)][i(446)],r[i(618)],0),_spread:o.ensureTypedArg(e[i(753)][i(575)],r[i(618)],0),_randomise:o[i(472)](e[i(620)][i(723)],r[i(564)],!1)},this[i(548)]={_value:o[i(472)](e[i(548)][i(446)],r[i(618)],0),_spread:o[i(472)](e[i(548)].spread,r[i(618)],0)},this[i(633)]={_axis:o.ensureInstanceOf(e[i(633)].axis,t[i(462)],new(t[i(462)])(0,1,0)),_axisSpread:o[i(496)](e.rotation[i(766)],n,new(t[i(462)])),_angle:o[i(472)](e.rotation[i(590)],r[i(618)],0),_angleSpread:o[i(472)](e[i(633)].angleSpread,r[i(618)],0),_static:o.ensureTypedArg(e[i(633)][i(530)],r[i(564)],!1),_center:o.ensureInstanceOf(e[i(633)][i(550)],t[i(462)],this[i(620)]._value[i(470)]()),_randomise:o[i(472)](e[i(620)].randomise,r[i(564)],!1)},this.maxAge={_value:o[i(472)](e[i(854)].value,r[i(618)],2),_spread:o[i(472)](e[i(854)][i(575)],r[i(618)],0)},this[i(725)]={_value:o[i(431)](e.color[i(446)],t[i(760)],new h),_spread:o[i(431)](e[i(725)].spread,t[i(462)],new n),_randomise:o.ensureTypedArg(e[i(620)][i(723)],r[i(564)],!1)},this[i(597)]={_value:o[i(809)](e.opacity[i(446)],r[i(618)],1),_spread:o[i(809)](e[i(597)].spread,r[i(618)],0),_randomise:o[i(472)](e[i(620)][i(723)],r.BOOLEAN,!1)},this.size={_value:o[i(809)](e[i(535)][i(446)],r[i(618)],1),_spread:o.ensureArrayTypedArg(e.size[i(575)],r[i(618)],0),_randomise:o[i(472)](e[i(620)][i(723)],r[i(564)],!1)},this[i(590)]={_value:o[i(809)](e[i(590)][i(446)],r[i(618)],0),_spread:o[i(809)](e[i(590)][i(575)],r.NUMBER,0),_randomise:o[i(472)](e[i(620)][i(723)],r[i(564)],!1)},this[i(507)]=o[i(472)](e[i(507)],r[i(618)],100),this[i(666)]=o[i(472)](e[i(666)],r[i(618)],null),this[i(624)]=o.ensureTypedArg(e[i(624)],r[i(564)],!1),this[i(689)]=o[i(472)](e[i(689)],r[i(618)],1),this.direction=o[i(472)](e[i(436)],r.NUMBER,1),this[i(795)]=o[i(472)](e.alive,r[i(564)],!0),this[i(531)]=0,this[i(829)]=0,this[i(607)]=0,this[i(430)]=0,this[i(671)]=0,this[i(439)]=0,this[i(774)]=null,this.attributes=null,this[i(771)]=null,this[i(670)]={position:o[i(472)](e[i(620)][i(723)],r.BOOLEAN,!1)||o[i(472)](e[i(600)][i(723)],r[i(564)],!1),velocity:o.ensureTypedArg(e[i(482)][i(723)],r.BOOLEAN,!1),acceleration:o[i(472)](e[i(697)][i(723)],r[i(564)],!1)||o[i(472)](e[i(753)].randomise,r[i(564)],!1),rotation:o.ensureTypedArg(e[i(633)][i(723)],r.BOOLEAN,!1),rotationCenter:o[i(472)](e[i(633)].randomise,r[i(564)],!1),size:o.ensureTypedArg(e[i(535)][i(723)],r[i(564)],!1),color:o[i(472)](e[i(725)].randomise,r[i(564)],!1),opacity:o.ensureTypedArg(e[i(597)][i(723)],r[i(564)],!1),angle:o[i(472)](e[i(590)].randomise,r.BOOLEAN,!1)},this.updateFlags={},this.updateCounts={},this[i(526)]={maxAge:i(601),position:"position",velocity:i(482),acceleration:i(697),drag:i(697),wiggle:i(601),rotation:i(633),size:"size",color:i(725),opacity:i(597),angle:"angle"};for(const t in this.updateMap)this.updateMap[i(476)](t)&&(this[i(820)][this[i(526)][t]]=0,this[i(421)][this[i(526)][t]]=!1,this[i(427)](this[t],t));this[i(609)]={},this.attributeKeys=null,this[i(726)]=0,o[i(467)](this[i(725)],a,a),o[i(467)](this.opacity,a,a),o.ensureValueOverLifetimeCompliance(this[i(535)],a,a),o.ensureValueOverLifetimeCompliance(this.angle,a,a)},d[u(477)].constructor=d[u(477)],d.Emitter[u(661)]._createGetterSetters=function(t,e){const i=u,n=this;for(const s in t)if(t[i(476)](s)){const o=s[i(696)]("_","");Object[i(581)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=p,o=n.updateMap[e],r=this[t],a=d.valueOverLifetimeLength;t===s(844)?(n[s(421)][s(517)]=!0,n[s(820)][s(517)]=0):t===s(773)?n.resetFlags[o]=i:(n[s(421)][o]=!0,n[s(820)][o]=0),n[s(774)][s(775)](),this[t]=i,Array[s(656)](r)&&d[s(667)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},d.Emitter.prototype[u(567)]=function(t){const e=u;this[e(422)]=t,this.attributeCount=t[e(457)];for(let i=this[e(726)]-1;i>=0;--i)this[e(609)][t[i]]={min:Number[e(694)],max:Number.NEGATIVE_INFINITY}},d[u(477)][u(661)][u(836)]=function(t){const e=u,i=this.particleCount;this[e(666)]?this[e(531)]=i/(t<this[e(666)]?t:this[e(666)]):this[e(531)]=i/t},d.Emitter[u(661)][u(770)]=function(t){const e=u;this.attributeOffset=t,this[e(829)]=t,this[e(571)]=t+this[e(507)]},d.Emitter.prototype[u(686)]=function(t,e){const i=u;switch(t){case i(620):this[i(709)](e);break;case i(482):case i(697):this[i(752)](e,t);break;case i(535):case i(597):this._assignAbsLifetimeValue(e,t);break;case i(590):this[i(637)](e);break;case i(601):this[i(452)](e);break;case i(633):this[i(574)](e);break;case i(725):this[i(594)](e)}},d.Emitter[u(661)]._assignPositionValue=function(t){const e=u,i=d.distributions,n=d[e(667)],s=this[e(620)],o=this[e(793)][e(620)],r=s[e(801)],a=s._spread;switch(s[e(813)]){case i[e(742)]:n[e(562)](o,t,r,a,s[e(814)]);break;case i.SPHERE:n[e(611)](o,t,r,s[e(644)],s._spread.x,s[e(802)],s[e(814)].x,s[e(626)]||this.particleCount);break;case i.DISC:n.randomVector3OnDisc(o,t,r,s._radius,s._spread.x,s[e(802)],s[e(814)].x);break;case i[e(491)]:n[e(729)](o,t,r,a)}},d[u(477)][u(661)][u(752)]=function(t,e){const i=u;let n,s,o,r,a,c=d[i(676)],h=d.utils,l=this[e],f=l._value,p=l[i(655)];switch(l[i(813)]){case c.BOX:h.randomVector3(this[i(793)][e],t,f,p);break;case c[i(855)]:n=this[i(793)][i(620)][i(466)][i(603)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(681)](this[i(793)][e],t,s,o,r,this[i(620)][i(801)],l[i(801)].x,l[i(655)].x);break;case c.DISC:n=this[i(793)][i(620)].typedArray[i(603)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h.randomDirectionVector3OnDisc(this[i(793)][e],t,s,o,r,this.position[i(801)],l[i(801)].x,l[i(655)].x);break;case c[i(491)]:h[i(729)](this[i(793)][e],t,f,p)}if(e===i(697)){const e=h[i(434)](h[i(451)](this[i(753)][i(801)],this[i(753)][i(655)]),0,1);this[i(793)].acceleration.typedArray[i(603)][4*t+3]=e}},d[u(477)][u(661)][u(735)]=function(t,e){const i=u;let n,s=this[i(793)][e][i(466)],o=this[e],r=d[i(667)];r[i(450)](o[i(801)])&&r[i(450)](o[i(655)])?(n=Math[i(700)](r.randomFloat(o._value[0],o[i(655)][0])),s[i(690)](t,n,n,n,n)):s[i(690)](t,Math.abs(r[i(451)](o[i(801)][0],o[i(655)][0])),Math.abs(r.randomFloat(o._value[1],o._spread[1])),Math[i(700)](r.randomFloat(o._value[2],o[i(655)][2])),Math.abs(r[i(451)](o[i(801)][3],o[i(655)][3])))},d[u(477)][u(661)][u(637)]=function(t){const e=u;let i,n=this[e(793)][e(590)].typedArray,s=this[e(590)],o=d[e(667)];o[e(450)](s[e(801)])&&o[e(450)](s._spread)?(i=o[e(451)](s[e(801)][0],s._spread[0]),n[e(690)](t,i,i,i,i)):n.setVec4Components(t,o[e(451)](s[e(801)][0],s[e(655)][0]),o[e(451)](s[e(801)][1],s[e(655)][1]),o.randomFloat(s[e(801)][2],s[e(655)][2]),o[e(451)](s[e(801)][3],s._spread[3]))},d[u(477)][u(661)]._assignParamsValue=function(t){const e=u;this[e(793)].params[e(466)][e(690)](t,this[e(624)]?1:0,0,Math[e(700)](d[e(667)].randomFloat(this[e(854)][e(801)],this.maxAge[e(655)])),d[e(667)][e(451)](this[e(548)][e(801)],this.wiggle._spread))},d[u(477)].prototype[u(574)]=function(t){const e=u;this[e(793)][e(633)][e(466)][e(675)](t,d.utils[e(787)](this.rotation._axis,this[e(633)]._axisSpread),d[e(667)][e(451)](this[e(633)][e(754)],this.rotation[e(628)]),this[e(633)]._static?0:1),this[e(793)][e(517)][e(466)][e(662)](t,this.rotation[e(812)])},d[u(477)].prototype[u(594)]=function(t){const e=u;d[e(667)].randomColorAsHex(this[e(793)].color,t,this[e(725)][e(801)],this[e(725)]._spread)},d[u(477)][u(661)][u(505)]=function(t){const e=u;let i,n,s=this.resetFlags,o=this[e(421)],r=this.updateCounts,a=this[e(422)];for(let c=this.attributeCount-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(686)](i,t),this._updateAttributeUpdateRange(i,t),!0===n&&r[i]===this[e(507)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},d[u(477)][u(661)][u(745)]=function(t,e){const i=u,n=this[i(609)][t];n.min=Math[i(722)](e,n[i(722)]),n[i(851)]=Math[i(851)](e,n[i(851)])},d[u(477)][u(661)][u(629)]=function(){const t=u;let e,i=this[t(609)],n=this[t(585)],s=this[t(579)]-1;for(;s>=0;--s)e=n[s],i[e][t(722)]=Number.POSITIVE_INFINITY,i[e][t(851)]=Number[t(698)]},d[u(477)][u(661)][u(702)]=function(){const t=u;this[t(531)]=0,this.attributeOffset=0,this[t(829)]=0,this[t(439)]=0,this[t(774)]=null,this[t(793)]=null,this[t(771)]=null,this.age=0},d[u(477)].prototype[u(580)]=function(){--this.activeParticleCount},d[u(477)][u(661)][u(849)]=function(){++this[u(439)]},d[u(477)][u(661)][u(627)]=function(t,e,i,n){const s=u;for(var o,r,a,c,h=e-1;h>=t;--h)0!==(c=i[o=4*h])&&(a=i[o+1],r=i[o+2],1===this[s(436)]?(a+=n)>=r&&(a=0,c=0,this[s(580)]()):(a-=n)<=0&&(a=r,c=0,this[s(580)]()),i[o]=c,i[o+1]=a,this._updateAttributeUpdateRange(s(601),h))},d[u(477)][u(661)][u(577)]=function(t,e,i,n){const s=u,o=this[s(436)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(507)]||(this[s(849)](),i[r]=1,this[s(505)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(745)](s(601),c))},d[u(477)].prototype[u(664)]=function(t){const e=u;if(this[e(624)])return;null===this[e(771)]&&(this[e(771)]=this[e(793)][e(601)][e(466)].array);const i=this.attributeOffset,n=i+this[e(507)],s=this[e(771)],o=this[e(531)]*this[e(689)]*t,r=this[e(829)];if(this[e(629)](),this[e(627)](i,n,s,t),!1===this[e(795)])return void(this[e(671)]=0);if(null!==this[e(666)]&&this[e(671)]>this[e(666)])return this[e(795)]=!1,void(this.age=0);const a=1===this[e(507)]?r:0|r,c=Math.min(a+o,this[e(571)]),h=c-this.activationIndex|0,l=h>0?t/h:0;this._activateParticles(a,c,s,l),this[e(829)]+=o,this.activationIndex>n&&(this[e(829)]=i),this[e(671)]+=t},d.Emitter[u(661)][u(424)]=function(t){const e=u;if(this[e(671)]=0,this.alive=!1,!0===t){const t=this[e(607)],s=t+this[e(507)],o=this[e(771)],r=this[e(793)][e(601)].bufferAttribute;for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange.offset=0,r[e(718)].count=-1,r[e(501)]=!0}return this},d[u(477)][u(661)][u(443)]=function(){return this[u(795)]=!0,this},d[u(477)][u(661)][u(487)]=function(){return this.alive=!1,this},d.Emitter[u(661)][u(785)]=function(){const t=u;return null!==this[t(774)]?this[t(774)][t(732)](this):console[t(818)]("Emitter does not belong to a group, cannot remove."),this};const m=d;function g(){const t=["ShaderAttribute","SPE.Group: maxParticleCount exceeded. Requesting","itemSize","float getMaxAge() {","float getAge() {","_spread","isArray","2618094JSykWf","pop","string","           unpackColor( color.x ),","prototype","setVec3","subarray","tick","#define PACKED_COLOR_SIZE 256.0","duration","utils","    #ifdef SHOULD_ROTATE_PARTICLES","material","resetFlags","age","    float pointSizePerspective = pointSize * perspective;","attribute vec4 angle;","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","setVec3Components","distributions","loop","indexOffset","#ifdef SHOULD_ROTATE_TEXTURE","TypedArrayConstructor","randomDirectionVector3OnSphere","emitters","cos","       float c = cos(angle);","usage","_assignValue","       vec3 c = vec3(1.0);","getPool","activeMultiplier","setVec4Components","number","#ifdef SHOULD_ROTATE_PARTICLES","getLength","POSITIVE_INFINITY","    #endif","replace","acceleration","NEGATIVE_INFINITY","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","abs","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","_onRemove","call","join","   return params.x;","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setRGB","        float row = floor( (frameNumber - column) / framesX );","_assignPositionValue","       float x = gl_PointCoord.x - 0.5;","fog","    return a * b;","float when_lt(float x, float y) {","fog_fragment","Group","bind","attribute vec4 acceleration;","updateRange","chain","vertex","depthTest","min","randomise","stateObject","color","attributeCount","frames","radiusScale","randomVector3OnLine","void main() {","BufferAttribute","removeEmitter","   vec3 c = vec3( 0.0 );","    }","_assignAbsLifetimeValue","setVec2","updateMax","floatOverLifetime","spreadClamp","geometry","setAttribute","BOX","   c.g = g / PACKED_COLOR_DIVISOR;","roundToNearestMultiple","_updateAttributeUpdateRange","fog_pars_fragment","_pool","_attributesNeedDynamicReset","    return 1.0 - abs( sign( x - y ) );","count","        vSpriteSheet.y = 1.0 / framesY;","_assignForceValue","drag","_angle",'{}.constructor("return this")( )',"hasPerspective","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","           unpackColor( color.z ),","    return value;","Color","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","        float wiggleAmount = positionInTime * getWiggle();","vec3 getAcceleration( in float age ) {","   c.b = b / PACKED_COLOR_DIVISOR;","textureFrameCount","axisSpread","sin","           unpackColor( color.y ),","dynamicBuffer","_setAttributeOffset","paramsArray","   c -= vec3( 1.0 );","_randomise","group","_updateDefines","    force += vel;","distribution","      mat4 rotationMatrix;","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","    varying vec4 vSpriteSheet;","        vSpriteSheet.w = rowNorm;","getComponentValueAtIndex","copy","function *\\( *\\)","remove","_triggerSingleEmitter","getPackedRotationAxis","TypedArrayHelper","getHex","    vec3 force = vec3( 0.0 );","           positionInTime,","__proto__","attributes","SPE.Group pool ran out.","alive","`emitter` argument must be instance of SPE.Emitter. Was provided with:","shrink","    #ifdef SHOULD_WIGGLE_PARTICLES","float getWiggle() {","      translated = rotationCenter - pos;","_value","_radiusScale","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","spe","attribute vec4 params;","        vSpriteSheet.x = 1.0 / framesX;","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","common","ensureArrayTypedArg","       vec3 c = isAlive * getColorOverLifetime(","keys","_center","_distribution","_spreadClamp","attribute vec4 rotation;","setNumber","      rotationMatrix = getRotationMatrix( axis, angle );","error","setDrawRange","updateCounts","debu","valueOverLifetimeLength","    vColor = vec4( c, o );","    return min(a + b, 1.0);","vec3 unpackRotationAxis( in float hex ) {","Argument is not instanceof SPE.Emitter:","generateUUID","dispose","activationIndex","    #else","ShaderMaterial","                   0.0,                                0.0,                                0.0,                                1.0);","    highp float positionInTime = (age / maxAge);","forceUpdateAll","  return 1.0 - when_lt(x, y);","_calculatePPSValue","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","sqrt","splice","    float shouldApplyValue = 0.0;","#endif","textureLoop","           unpackColor( color.w )","_rotationCenter","setMat3","    force *= drag;","   c.r = r / PACKED_COLOR_DIVISOR;","lerp","_incrementParticleCount","           return pos;","max","_createBufferAttribute","setSize","maxAge","SPHERE","runTime","ceil","    #ifdef HAS_PERSPECTIVE","uuid","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","   }","updateFlags","attributeKeys","      }","reset","   return modelViewMatrix * vec4( position, 1.0 );","float when_eq( float x, float y ) {","_createGetterSetters","forceFetchingFunctions","fog_pars_vertex","attributeEnd","ensureArrayInstanceOf","console","colorize","clamp","return (function() ","direction","Vector4","OBJECT","activeParticleCount","attribute vec4 size;","    vec3 outgoingLight = vColor.xyz;","uniform sampler2D tex;","enable","exports","        float perspective = 1.0;","value","    highp float isAlive = when_gt( alive, 0.0 );","deltaTime","float and(float a, float b) {","arrayValuesAreEqual","randomFloat","_assignParamsValue","arrayType","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","Emitter does not exist in this group. Will not remove.","random","length","shaderChunks","mesh","#ifdef SHOULD_CALCULATE_SPRITE","        float framesY = vSpriteSheet.y;","Vector3","log","_poolCreationSettings","        pos.z += wiggleSin;","typedArray","ensureValueOverLifetimeCompliance","429986juXdgM","       float c = cos( -vAngle );","clone","unpackRotationAxis","ensureTypedArg","emitterIDs","interpolateArray","StaticDrawUsage","hasOwnProperty","Emitter","apply","float getAlive() {","float when_gt(float x, float y) {","SHOULD_WIGGLE_PARTICLES","velocity","690295mRtLpp","    vec3 pos = vec3( position );","blending","    highp float maxAge = getMaxAge();","disable","test","    gl_PointSize = pointSizePerspective;","function","LINE","types","typeSizeMap","DynamicDrawUsage","Will not resize.","ensureInstanceOf","add","info","      vec3 translated;","attribute vec4 opacity;","needsUpdate","setVec4","1085364RocEzg","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","_resetParticle","setFromArray","particleCount","offset","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","        float rowNorm = vSpriteSheet.w;","amd","      float angle = 0.0;","_ensureTypedArray","3012708HpGDpk","action","    highp float age = getAge();","rotationCenter","updateMin","grow","693255JACeLQ","vec4 getPosition( in float age ) {","getFromPool","        float columnNorm = vSpriteSheet.z;","transparent","595417trBeTX","updateMap","logdepthbuf_fragment","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","depthWrite","static","particlesPerSecond","   return params.z;","addPool","resetUpdateRange","size","defines","        vSpriteSheet.z = columnNorm;","SHOULD_ROTATE_PARTICLES","boolean","addEmitter","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","constructor","    #ifdef COLORIZE","logdepthbuf_vertex","_applyAttributesToGeometry","exception","        pos.y += wiggleCos;","wiggle","varying vec4 vColor;","center","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","fog_vertex","      vec3 axis = unpackRotationAxis( rotation.x );","flagUpdate","_updateBuffers","        float framesY = textureAnimation.y;","maxParticleCount","multiplyScalar","push","onParticleSpawn","componentSize","randomVector3","object","BOOLEAN","set","textureFrames","_setBufferUpdateRanges","SHOULD_ROTATE_TEXTURE","uniforms","   float b = mod( hex, PACKED_COLOR_SIZE );","activationEnd","texture","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","_assignRotationValue","spread","alphaTest","_activateParticles","       );","bufferUpdateCount","_decrementParticleCount","defineProperty","type","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","gger","bufferUpdateKeys","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","   return params.y;","branchAvoidanceFunctions","        float totalFrames = textureAnimation.z;","angle","_attributesNeedRefresh","floor","    #ifdef SHOULD_CALCULATE_SPRITE","_assignColorValue","       fIndex = float( i );","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","opacity","angleSpread","        pos.x += wiggleSin;","radius","params","   return params.w;","array","while (true) {}","   return c;","    highp float alive = getAlive();","attributeOffset","uniform vec4 textureAnimation;","bufferUpdateRanges","resetDynamic","randomVector3OnSphere","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","getValueAtIndex","    varying float vAngle;","warn","REVISION","toString","NUMBER","varyings","position","vec3 unpackColor( in float hex ) {","ShaderChunk","setVec2Components","isStatic","       float oc = 1.0 - c;","_distributionClamp","_checkParticleAges","_angleSpread","_resetBufferRanges","    #ifdef SHOULD_ROTATE_TEXTURE","unshift","        float column = floor(mod( frameNumber, framesX ));","rotation","undefined","Texture","float when_le(float x, float y) {","_assignAngleValue","normalize","        float wiggleSin = isAlive * sin( wiggleAmount );","Vector2","_createNewWhenPoolEmpty","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","uniform float scale;","_radius","       float s = sin(angle);","fixedTimeStep","shaders","bufferAttribute","scale"];return(g=function(){return t})()}function y(t){function e(t){const i=p;if(typeof t===i(659))return function(t){}.constructor(i(604))[i(478)]("counter");1!==(""+t/t)[i(457)]||t%20==0?function(){return!0}.constructor(i(821)+"gger")[i(703)](i(515)):function(){return!1}[i(542)]("debu"+i(584)).apply(i(724)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
