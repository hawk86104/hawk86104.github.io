import{_ as t,bO as n,bV as r,C as o}from"./three.FyUEtfsR1741658416045.js";import{a as e}from"./@tresjs.W3PFJhMo1741658416045.js";import{d as a,b as s,a3 as c,w as u,o as i,H as f,N as l,aj as p,ak as d}from"./@vue.NRI7TcgI1741658416045.js";function h(){const t=["stateObject","common","lights_pars_begin","43629454HLCJrt","345494KMcBJp","table","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","debu","constructor","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","190631qhyprB","action","counter","bsdfs","510310bvzzqn","225UZcIZk","length","gger","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n       varying vec2 vUv;\n\t\t\t \t","test","bind","warn","__proto__","2532092UdrtsD","\n       void main() {\n\t\t\t\t\t","info","toString","call","\n          ","project_vertex","ShaderChunk","apply","input","console","6868585sfAAdf","init","6GbZlyS","shadowmap_pars_fragment","function *\\( *\\)","shadowmask_pars_fragment","shadowmap_pars_vertex",'{}.constructor("return this")( )',"beginnormal_vertex","\n\t ","2367638sybNaN","prototype","3QTdQzo","\n      \t","32ppdwhY"];return(h=function(){return t})()}!function(t,n){const r=_,o=h();for(;;)try{if(736582===parseInt(r(526))/1+parseInt(r(517))/2*(parseInt(r(519))/3)+parseInt(r(548))/4+parseInt(r(507))/5*(parseInt(r(509))/6)+-parseInt(r(534))/7*(parseInt(r(521))/8)+parseInt(r(539))/9*(parseInt(r(538))/10)+-parseInt(r(525))/11)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[_(504)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=_,n=new RegExp(t(511)),r=new RegExp(t(533),"i"),o=b(t(508));n[t(544)](o+t(532))&&r[t(544)](o+t(505))?b():o("0")}))()}();const m=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[_(504)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=_,n=function(){const t=_;let n;try{n=Function("return (function() "+t(514)+");")()}catch(r){n=window}return n}(),r=n[t(506)]=n[t(506)]||{},o=["log",t(546),t(498),"error","exception",t(527),"trace"];for(let e=0;e<o[t(540)];e++){const n=m.constructor[t(518)][t(545)](m),a=o[e],s=r[a]||n;n[t(547)]=m[t(545)](m),n.toString=s[t(499)].bind(s),r[a]=n}}))();const v=()=>{const r=_;return r(543)+t[r(503)].common+"\n      \t"+n[r(537)]+r(520)+t[r(503)][r(513)]+r(549)+t[r(503)][r(515)]+r(501)+n.defaultnormal_vertex+r(501)+t[r(503)].begin_vertex+r(501)+n[r(502)]+r(501)+t[r(503)].worldpos_vertex+r(501)+n.shadowmap_vertex+r(529)},w=()=>{const n=_;return n(542)+t[n(503)][n(523)]+"\n\t "+t[n(503)].packing+"\n\t "+t[n(503)].bsdfs+n(516)+t[n(503)][n(524)]+n(516)+t[n(503)][n(510)]+n(516)+t[n(503)][n(512)]+n(528)};function _(t,n){const r=h();return(_=function(t,n){return r[t-=498]})(t,n)}function b(t){function n(t){const r=_;if("string"==typeof t)return function(t){}[r(531)]("while (true) {}").apply(r(536));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(530)+r(541))[r(500)](r(535)):function(){return!1}[r(531)]("debu"+r(541))[r(504)](r(522)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const x=S;!function(t,n){const r=S,o=I();for(;;)try{if(768621===-parseInt(r(335))/1+parseInt(r(367))/2+parseInt(r(338))/3*(parseInt(r(363))/4)+-parseInt(r(345))/5+parseInt(r(377))/6+-parseInt(r(360))/7+parseInt(r(337))/8*(parseInt(r(365))/9))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const y=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[S(349)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function I(){const t=["72LTgTlm","48345UDZhJd","gger","lights","constructor","color","return (function() ","log","3905370cZGmZd","length","size","warn","apply","uniforms","test","args","function *\\( *\\)","DoubleSide","call","Color","#990","tmRef","debu","8310890xNIFVs","bind","while (true) {}","76XjtJaP","UniformsUtils","3421035kNgxsy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","133612TWxuTT","shadowColor","input","RepeatWrapping","value","toString","init","wrapT","edge","rotation-x","1311834VBriTs",'{}.constructor("return this")( )',"TresShaderMaterial","stateObject","table","info","error","exception","counter","TresMesh","#999","1275700JPqzww","console"];return(I=function(){return t})()}function S(t,n){const r=I();return(S=function(t,n){return r[t-=332]})(t,n)}!function(){y(this,(function(){const t=S,n=new RegExp(t(353)),r=new RegExp(t(366),"i"),o=z(t(373));n[t(351)](o+"chain")&&r[t(351)](o+t(369))?z():o("0")}))()}();const T=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(343)+t(378)+");")()}catch(r){n=window}return n}(),r=n[t(336)]=n[t(336)]||{},o=[t(344),t(348),t(382),t(383),t(384),t(381),"trace"];for(let e=0;e<o[t(346)];e++){const n=T[t(341)].prototype[t(361)](T),a=o[e],s=r[a]||n;n.__proto__=T.bind(T),n[t(372)]=s.toString[t(361)](s),r[a]=n}}))();const C=[x(376)],j=[x(352)],k=a({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:x(357)},shadowColor:{default:x(334)},edge:{default:.35}},async setup(n){const a=x;let h,g;const m=n,_=s(),{map:b}=([h,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,g(),h);b.wrapS=b[a(374)]=t[a(370)];const y={uniforms:t[a(364)].merge([r[a(340)],{uTexture:{type:"t",value:b},uColor:{value:new(t[a(356)])(m[a(342)])},uShadowColor:{value:new o(m[a(368)])},fEdge:{type:"f",value:m.edge}}]),side:t[a(354)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return u((()=>m[a(375)]),(t=>{const n=a;y[n(350)].fEdge[n(371)]=t})),u((()=>m[a(342)]),(n=>{const r=a;y[r(350)].uColor[r(371)]=new(t[r(356)])(m[r(342)])})),u((()=>m[a(368)]),(n=>{const r=a;y[r(350)].uShadowColor[r(371)]=new(t[r(356)])(m[r(368)])})),(t,n)=>{const r=a;return i(),f(r(333),{ref_key:r(358),ref:_,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:m[r(347)]},null,8,j),l(r(379),p(d(y)),null,16)],8,C)}}});function z(t){function n(t){const r=S;if("string"==typeof t)return function(t){}[r(341)](r(362))[r(349)](r(332));1!==(""+t/t)[r(346)]||t%20==0?function(){return!0}.constructor(r(359)+r(339))[r(355)]("action"):function(){return!1}[r(341)]("debugger")[r(349)](r(380)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{k as _};
