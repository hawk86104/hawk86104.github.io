var t,e,s,n,i,r,a,o,c,h,l,u,p,f,m=Object.defineProperty,d=(t,e,s)=>(((t,e,s)=>{e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as w}from"./pagesShow.vue_vue_type_script_setup_true_lang.Jt6kAW7U1742205305014.js";import{_ as g,b as S,C as y,e as v,B as x,c as P,X as I,v as A,cA as F,V as T,ar as b,an as z,T as E,a2 as R}from"./three.LxxvsMJG1742205305014.js";import{m as C,e as O}from"./@tresjs.nk0nhZ9a1742205305014.js";import{d as V,b as q,a2 as M,o as N,f as _,g as B,j as U}from"./@vue.NRI7TcgI1742205305014.js";import"./three-custom-shader-material.8lD1n5aS1742205305014.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1742205305014.js";import"./postprocessing.lrLv6HE21742205305014.js";import"./@vueuse.w6JAmAgA1742205305014.js";const j=Ot;!function(t,e){const s=Ot,n=it();for(;;)try{if(518791===parseInt(s(366))/1*(-parseInt(s(815))/2)+-parseInt(s(539))/3+-parseInt(s(400))/4*(parseInt(s(669))/5)+parseInt(s(746))/6+parseInt(s(644))/7*(parseInt(s(462))/8)+parseInt(s(706))/9+-parseInt(s(790))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const X=class{constructor(t){this[j(654)]=t}};t=j(538),d(X,t,new X(j(538))),d(X,"Sequence",new X(j(801)));let D=X;class Y{constructor(){this[j(486)]()}init(){const t=j;this.progressType=D[t(538)],this[t(473)]=1,this[t(585)]=0,this.sequenceElement=new(g[t(467)]),this[t(591)]=new(g[t(645)]),this[t(565)]=new S,this.acceleration=new S,this[t(579)]=new(g[t(645)]),this.rotation=0,this[t(584)]=0,this.size=new(g[t(533)]),this[t(677)]=new(g[t(342)]),this[t(744)]=1,this[t(541)]=new(g[t(533)]),this[t(573)]=new y,this.initialAlpha=1}[j(792)](t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d){const w=j;this[w(683)]=t,this[w(473)]=e,this[w(585)]=s,this.sequenceElement[w(373)](n),this[w(591)][w(373)](i),this[w(565)].copy(r),this[w(783)].copy(a),this.normal[w(373)](o),this[w(397)]=c,this[w(584)]=h,this.size=l,this.color[w(373)](u),this.alpha=p,this.initialSize[w(373)](f),this[w(573)].copy(m),this[w(682)]=d}[j(403)](t){const e=j;t[e(792)](this[e(683)],this[e(473)],this[e(585)],this[e(350)],this.position,this.velocity,this[e(783)],this.normal,this[e(397)],this[e(584)],this[e(479)],this[e(677)],this[e(744)],this[e(541)],this[e(573)],this[e(682)])}[j(373)](t){const e=j;this[e(792)](t[e(683)],t[e(473)],t[e(585)],t[e(350)],t.position,t[e(565)],t[e(783)],t[e(579)],t[e(397)],t.rotationalSpeed,t[e(479)],t[e(677)],t[e(744)],t.initialSize,t[e(573)],t[e(682)])}}class W{constructor(){d(this,e,function(){const t=j,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Ot(671)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=Ot,e=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Nt(t(486));e[t(391)](n+t(651))&&s.test(n+"input")?Nt():n("0")}))()}();const s=new(g[t(645)]);return function(e=new(g[t(802)]),n=null){const i=t,r=e[i(444)],a=e[i(586)];for(let t=0;t<this.activeParticleCount;t++){const e=this.getState(t);let o=e[i(591)];n&&(s[i(373)](o),s[i(693)](n),o=s);const c=Math.max(e[i(479)].x,e[i(479)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,f=o.z-c,m=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=f),(0==t||o.z>a.z)&&(a.z=m)}return e}}()),d(this,s,function(){const t=j,e=new S,s=new(g[t(645)]),n=new(g[t(645)]);return function(i=new v,r=null){const a=t;let o=0;for(let t=0;t<this[a(575)];t++){const i=this[a(440)](t);let c=i[a(591)];r&&(n[a(373)](c),n[a(693)](r),c=n);const h=Math[a(586)](i.size.x,i[a(479)].y);if(0==t)e[a(373)](c),o=h;else{s[a(373)](c)[a(537)](e);const t=s[a(457)]()+h;if(t>o){const n=(t-o)/2;s[a(696)]()[a(734)](n),e[a(470)](s),o+=n}}}return i[a(674)][a(373)](e),i[a(656)]=o,i}}());const t=j;this[t(729)]=0,this[t(575)]=0,this[t(705)]=[]}[j(486)](t){this.setParticleCount(t)}setParticleCount(t){const e=j;this[e(729)]!=t&&(this[e(496)](),this[e(525)](t)),this[e(729)]=t}[j(446)](t){this[j(575)]=t}[j(525)](t){const e=j;this[e(705)]=[],this[e(729)]=t;for(let s=0;s<t;s++)this[e(705)][s]=new Y}[j(496)](){}getParticleCount(){return this[j(729)]}flushParticleStateToBuffers(){}copyState(t,e){const s=j;if(t>=this.particleCount)throw new Error(s(495));if(e>=this[s(729)])throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const n=this[s(705)][t],i=this[s(705)][e];n.copyTo(i)}[j(352)](t,e){const s=j;if(t>=this[s(729)])throw new Error(s(779));return this[s(705)][t][s(373)](e)}[j(440)](t){const e=j;if(t>=this.particleCount)throw new Error(e(695));return this[e(705)][t]}}e=j(793),s=j(777);class L{constructor(t,e,s=0){const n=j;this.start=t,this[n(457)]=e,this.id=s}}class G{constructor(){const t=j;this[t(704)]={},this[t(529)]=[]}addSequence(t,e,s){const n=j;if(this[n(461)](s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const i=new L(t,e,s);return this[n(704)][s]=i,this[n(529)][n(771)](s),i}[j(483)](t){const e=j;if(!this.hasID(t))throw new Error(e(407));return this[e(704)][t]}[j(497)](){return this[j(529)]}[j(461)](t){return!!this.sequences[t]}}class J{constructor(){}initializeState(t){const e=j;t[e(573)].set(1,1,1),t.initialSize[e(346)](1,1),t[e(682)]=1,t[e(683)]=D[e(538)],t.lifetime=0,t[e(585)]=0,t.sequenceElement[e(346)](0,0,0,0),t.position[e(346)](0,0,0),t[e(565)].set(0,0,0),t[e(783)][e(346)](0,0,0),t[e(579)][e(346)](0,0,1),t[e(397)]=0,t.rotationalSpeed=0,t[e(479)][e(373)](t[e(541)]),t[e(677)][e(373)](t.initialColor),t[e(744)]=1}}class k extends J{constructor(){super()}[j(649)](t){super[j(649)](t)}}class Z{constructor(){}[j(488)](){}}class H extends Z{constructor(){const t=j;super(),this[t(603)]=new(g[t(645)]),this[t(716)]=new(g[t(645)]),this[t(491)]=new(g[t(645)]),this.stateVelocity=new(g[t(645)])}[j(488)](t,e){const s=j;return super.updateState(t,e),this[s(491)].copy(t[s(783)]),this[s(716)][s(373)](this[s(491)]),this.timeScaledAcceleration[s(734)](e),t[s(565)][s(470)](this[s(716)]),this.stateVelocity[s(373)](t.velocity),this.timeScaledVelocity[s(373)](this.stateVelocity),this.timeScaledVelocity[s(734)](e),t[s(591)][s(470)](this[s(603)]),t[s(585)]=t[s(585)]+e,t.rotation=t[s(397)]+e*t.rotationalSpeed,!0}}class ${static clamp(t,e,s){const n=j;return Math[n(444)](Math[n(586)](t,e),s)}static[j(515)](){return performance[j(412)]()/1e3}}class K{constructor(){this[j(676)]=[]}[j(784)](t){this[j(676)].push(t)}[j(385)](t,e){const s=j;for(const n of this.components)n[s(385)](t,e)}[j(664)](t){const e=j;if(t>=this[e(676)].length)throw new Error('ComponentContainer::getComponent() -> "index" is out of range.');return this[e(676)][t]}}const Q=class{constructor(t){this.name=t}};n=j(364),i=j(563),r=j(672),a=j(434),d(Q,n,new Q("NotStarted")),d(Q,i,new Q(j(563))),d(Q,r,new Q(j(672))),d(Q,a,new Q(j(434)));let tt=Q;class et{constructor(t,e){d(this,o,function(){const t=j,e=new(g[t(460)]);return function(){const s=t;let n=null;this[s(673)]&&(n=e,n.copy(this[s(521)][s(553)])[s(398)]()),this[s(593)][s(778)]()?(this[s(705)].computeBoundingBox(this[s(799)],n),this.particleSystemRenderer[s(558)](this[s(799)])):(this[s(705)][s(777)](this[s(715)],n),this[s(593)][s(605)](this[s(715)]))}}());const s=j;this[s(521)]=t,this[s(521)][s(451)]=!1,this[s(451)]=!0,this[s(593)]=e,this[s(617)]=!1,this.maximumActiveParticles=0,this.activeParticleCount=0,this[s(395)]=!0,this.emitterInitialized=!1,this[s(459)]=null,this[s(387)]=new K,this.particleStateInitializers=[],this.particleStateOperators=[],this[s(705)]=null,this[s(748)]=tt[s(364)],this[s(623)]=new G,this.onUpdateCallback=null,this[s(673)]=!0,this[s(799)]=new(g[s(802)]),this[s(715)]=new(g[s(386)])}[j(486)](t){const e=j;if(this[e(617)])throw new Error(e(630));this[e(668)]=t,this[e(593)]?(this.particleSystemRenderer.setOwner(this[e(521)]),this.particleSystemRenderer[e(486)](this[e(668)],this.simulateInWorldSpace),this[e(593)][e(680)](this.simulateInWorldSpace),this[e(705)]=this[e(593)][e(544)]()):(this.particleStates=new W,this[e(705)][e(486)](this.maximumActiveParticles)),this.addParticleStateInitializer(new k),this.addParticleStateOperator(new H),this[e(617)]=!0}[j(598)](){return this.visible}setVisibile(t){return this.visible=t}[j(370)](t){this[j(800)]=t}[j(385)](t,e){const s=j;if(this[s(748)]==tt.Running){if(this[s(521)].updateWorldMatrix(!0),t=null==t||null==t?$[s(515)]():t,e=null==e||null==e?t-this[s(642)]:e,this[s(725)]&&this[s(748)]==tt[s(563)]){const t=this[s(459)].update(e);t>0&&this[s(752)](t),this[s(569)](e),this[s(800)]&&this[s(800)](this[s(575)]),this[s(711)]()}this.componentContainer[s(385)](t,e),this[s(642)]=t}}[j(770)](t,e){const s=j;if(this.getVisible()&&this.particleSystemRenderer){const n=t.autoClear;t[s(396)]=!1,this[s(521)][s(451)]=!0,this.owner[s(694)]=!0,this[s(593)][s(770)](this[s(521)],t,e),this[s(521)][s(451)]=!1,t.autoClear=n}}[j(484)](){const t=j;this[t(748)]!=tt[t(364)]&&this[t(748)]!=tt[t(672)]||(this.systemState=tt[t(563)],this[t(740)]=$.currentTime(),this[t(642)]=this[t(740)])}[j(476)](){const t=j;this.systemState==tt[t(563)]&&(this[t(748)]=tt.Paused)}[j(490)](){}getSystemState(){return this[j(748)]}[j(597)](t){const e=j;return this[e(459)]=t,this[e(459)][e(668)]=this[e(668)],this[e(725)]=!0,this[e(459)]}addComponent(t){const e=j;this.componentContainer[e(784)](t)}getComponent(t){const e=j;return this[e(387)][e(664)](t)}addParticleStateInitializer(t){const e=j;return this[e(432)][e(771)](t),t}[j(812)](){const t=j;return this[t(432)][t(457)]}getParticleStateInitializer(t){const e=j;if(t>=this[e(432)][e(457)])throw new Error(e(550));return this[e(432)][t]}addParticleStateOperator(t){return this[j(471)].push(t),t}[j(348)](){const t=j;return this[t(471)][t(457)]}[j(416)](t){const e=j;if(t>=this.particleStateOperators[e(457)])throw new Error(e(530));return this[e(471)][t]}getMaximumActiveParticles(){return this[j(668)]}[j(731)](){return this[j(575)]}[j(365)](t){const e=j;if(t>=this[e(575)])throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this[e(705)][e(440)](t)}[j(556)](){return this.particleStates}[j(798)](){return this[j(593)]}[j(666)](){return this.simulateInWorldSpace}[j(680)](t){const e=j;this[e(395)]=t,this[e(593)]&&this[e(593)][e(680)](this[e(395)])}[j(355)](t){this[j(673)]=t}addParticleSequence(t,e,s=0){const n=j;this.particleSequences[n(633)](t,e,s)}[j(577)](){return this[j(623)]}getEmitter(){return this[j(459)]}[(o=j(711),j(752))](t){const e=j;if(this.systemState==tt[e(563)]){const s=$.clamp(this[e(575)]+t,0,this.maximumActiveParticles);for(let t=this.activeParticleCount;t<s;t++)this[e(675)](t);this.activeParticleCount=s,this[e(705)][e(446)](this[e(575)])}}activateParticle(t){const e=j;if(this[e(748)]==tt[e(563)]){const s=this[e(705)][e(440)](t);s.age=0;for(let t=0;t<this[e(432)].length;t++){this[e(432)][t][e(649)](s)}if(this.simulateInWorldSpace){s[e(591)][e(693)](this[e(521)][e(553)]);const t=s[e(565)][e(457)]();if(this[e(673)]){s[e(565)][e(393)](this.owner[e(553)]).multiplyScalar(t);const n=s.acceleration.length();s[e(783)][e(393)](this[e(521)][e(553)]).multiplyScalar(n)}}this[e(705)][e(759)](t)}}[j(569)](t){const e=j;if(this[e(748)]==tt[e(563)]){let s=0;for(;s<this[e(575)];){this[e(698)](s,t)?s++:(s<this[e(575)]-1&&this.copyParticleInArray(this[e(575)]-1,s),this[e(575)]--)}this[e(705)][e(446)](this[e(575)])}}advanceActiveParticle(t,e){const s=j;if(this[s(748)]==tt.Running){const n=this.particleStates[s(440)](t);for(let t=0;t<this[s(471)][s(457)];t++){const i=this[s(471)][t][s(488)](n,e),r=n[s(473)];if(!i||0!=r&&n[s(585)]>=r)return!1}return this.particleStates.flushParticleStateToBuffers(t),!0}return!1}[j(430)](t,e){const s=j;this[s(705)][s(426)](t,e),this.particleStates[s(759)](e)}static[j(564)](t,e,s){const n=j,i=(t,e,s)=>{const n=Ot;e(t);for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];typeof s===n(754)&&i(s,e)}};i(t,(t=>{const s=Ot;t[s(560)]&&(t[s(560)]=e[s(634)](t[s(560)]))}));const r=t[n(354)],a=t[n(395)],o=t[n(769)],c=o.type.fromJSON(o[n(722)]),h=new(g[n(562)]),l=new et(h,c,s);l[n(486)](r),l[n(680)](a);const u=t[n(362)],p=u[n(560)][n(564)](u[n(722)]);if(l[n(597)](p),t.sequences)for(const f of t[n(704)])l[n(685)](f.start,f[n(457)],f.id);if(t.initializers)for(const f of t[n(371)])l[n(568)](f.type[n(564)](l,f[n(722)]));if(t[n(747)])for(const f of t[n(747)]){const t=l[n(689)](f[n(560)][n(564)](l,f[n(722)]));f[n(741)]&&t.addElementsFromParameters(f[n(741)])}return[l,h]}[j(590)](t){const e=j,s=this[e(798)](),n=this[e(359)](),i=this.getParticleSequences(),r=i.getSequenceIDs()[e(707)]((t=>{const s=i[e(483)](t);return{id:t,start:s.start,length:s.length}})),a=[],o=this[e(812)]();for(let l=0;l<o;l++){const s=this.getParticleStateInitializer(l);s[e(606)]!==k&&a.push({type:t[e(338)](s[e(606)]),params:s[e(590)](t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this[e(416)](l);if(s[e(606)]!==H){const n=s.toJSON(t),i=n[e(722)]||n,r=n[e(722)]?n[e(741)]:null,a={type:t[e(338)](s[e(606)]),params:i};r&&(a[e(741)]=r),c[e(771)](a)}}return{maxParticleCount:this.getMaximumActiveParticles(),simulateInWorldSpace:this[e(666)](),renderer:{type:t[e(338)](s[e(606)]),params:s[e(590)]()},emitter:{type:t[e(338)](n.constructor),params:n[e(590)]()},sequences:r,initializers:a,operators:c}}}class st{constructor(){const t=j;this[t(576)]=[],this[t(572)]=performance[t(412)]()/1e3,this[t(642)]=this[t(572)],this.componentContainer=new K}[j(385)](){const t=j,e=$.currentTime(),s=e-this[t(642)];for(const n of this[t(576)])n[t(385)](e,s);this[t(387)][t(385)](e,s),this[t(642)]=e}[j(770)](t,e){const s=j;for(const n of this[s(576)])n[s(770)](t,e)}[j(344)](t){const e=j;this[e(576)][e(771)](t)}[j(784)](t){this[j(387)].addComponent(t)}[j(664)](t){const e=j;return this.componentContainer[e(664)](t)}}class nt{constructor(){const t=j;this[t(617)]=!1,this[t(729)]=0,this[t(521)]=null,this[t(395)]=!1}[j(680)](t){this[j(395)]=t}getParticleStateArray(){}[j(733)](t){this.owner=t}[j(486)](t){const e=j;if(this.particleCount=t,!this[e(617)])return this[e(617)]=!0,!0;throw new Error(e(678))}[j(770)](){}}function it(){const t=["#include <common>","maximumActiveParticles","15HIjTCM","OneMinusSrcAlphaFactor","apply","Paused","transformInitialDirectionInWorldSpace","center","activateParticle","components","color","Renderer::init() -> trying to intialize more than once.","offsetY","setSimulateInWorldSpace","iterator","initialAlpha","progressType","cos","addParticleSequence","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","far","generator","addParticleStateOperator","   const vec2 dLeft = vec2(-1.0, -1.0);\n","PointLight","uniformsNeedUpdate","applyMatrix4","matrixWorldNeedsUpdate",'ParticleStateArray::getState() -> "index" is out of range.',"normalize","getTValue","advanceActiveParticle","   int nRowYTile = int(SNOverHS);\n","height","getVertexShader","    \n  #include <logdepthbuf_fragment> \n","  \n #include <logdepthbuf_pars_fragment> \n","sequences","particleStates","7956144OmjhyJ","map","varying vec2 vUV1;\n","blending","generate","updateBounds","mapSize","source","   } else { \n","boundingSphere","timeScaledAcceleration","cameraNear","   float rotMag = rotation; \n","attribute vec3 color;\n","setParticleSequences","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","params","action","speedGenerator","emitterInitialized","Mesh","void main() { \n","emissionRelativeStartTime","particleCount","Default","getActiveParticleCount","   float atlasFrameX = atlasFrames.x; \n","setOwner","multiplyScalar","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","setAttribute","AdditiveBlending","varying float vSequenceElementT; \n","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","startTime","elements","varying float vFragAlpha;\n","light","alpha","splice","2730678TtwZlB","operators","systemState","value","baseUV","   if (instanced != 1) { \n","activateParticles","uniformOffset","object","getInterpolatedValue","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","createMaterial","offsetRadius","flushParticleStateToBuffers","getInterpolatedElement","lastIntensityFlickerTime","counter","updateEmitCount","tValue","loadJSONParameter","instanceCount","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","addTypeToNamespace","renderer","render","push","       viewPosition = viewMatrix * particlePosition;\n","fromArray","intensityFlux","addElement","varying vec3 vFragColor;\n","computeBoundingSphere","calculatingBoundingSphereFromBox",'ParticleStateArray::setState() -> "index" is out of range.',"DynamicDrawUsage","speed","   const vec2 down = vec2(0.0, -1.0);\n","acceleration","addComponent","bind","       rightSide = step(2.0, customIndex); \n","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","getSizes","getElementCount","2550410uRYPZe","data","setAll","computeBoundingBox","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","rangeRadius","setX","uniformRange","getParticleSystemRenderer","boundingBox","onUpdateCallback","Sequence","Box3","addType","reverse","basePositions","tValues","setDrawRange","getElement","warn","addElementsFromElementClassAndParameters","getFrameSet","getParticleStateInitializerCount","getColors","   float atlasFrameHeight = atlasFrames.w; \n","4KbUnkL","emissionDuration","particleStateArray","   int firstSequenceElement = int(sequenceElementF); \n","positions","edgeRadius","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","getTypePath","alphas","renderOrder","   float atlasFrameWidth = atlasFrames.z; \n","Color","namespace","addParticleSystem","void main()\n","set","       rotVec = position.xy; \n ","getParticleStateOperatorCount","upperIndex","sequenceElement","getTexture","setState","emissionMinimum","maxParticleCount","setTransformInitialDirectionInWorldSpace","addNamespace","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","jsonTypes","getEmitter","uniform int instanced; \n","Shader","emitter","___photonsTypeID","NotStarted","getParticleState","120748EnSqWp","nextIntensityAdjuster","jsonTypeNames","element","onUpdate","initializers","setRGB","copy","interpolationElements","getFragmentShader","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","width","rotationalSpeeds","needsUpdate","addElements","} \n","random","BufferGeometry","Normal","update","Sphere","componentContainer","mesh","lastIntensityAdjuster","while (true) {}","test","frustumCulled","transformDirection","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","simulateInWorldSpace","autoClear","rotation","invert","customIndexes","1234628shvMml","lastPositionFlickerTime","getFrameSetCount","copyTo","Additive","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","   float uvXOffset = atlasFrameWidth * rightSide; \n","ParticleSequenceGroup::getSequence -> Invalid ID.","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","timeActive","outTypeID","getLight","now","attribute vec2 size;\n","setXYZW","attribute vec2 baseUV;\n","getParticleStateOperator","interpolateAtlasFrames","setXYZ","   vec2 uv2; \n","emissionMaximum","addFrameSet","varying vec2 vUV2;\n","range","cameraFar","setUsage","copyState","interpolator","info","initialColors","copyParticleInArray","   const vec2 uRight = vec2(1.0, 1.0);\n","particleStateInitializers","atlas","Done","scaleY","attribute vec4 particlePosition;\n","parseNamespaceAndTypename","attribute float alpha;\n","return (function() ","getState","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","attribute float rotation;\n","parent","min","lifetimes","setActiveParticleCount","gger","lowerIndex","bias","   vec4 color2 = color1; \n","visible","generateForElement","offsetZ","positionAdjuster","lastPositionAdjuster","updateMeshBounds","length","decay","particleEmitter","Matrix4","hasID","6947768mthgnq","verticesPerParticle","VertexVars","elementTypeID","   } \n","Vector4","tempUp","customIndex","add","particleStateOperators","scaleZ","lifetime","calculateBoundingSphereFromBox","getInterpolatorForTypeID","pause","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","hasOwnProperty","size","getType","  \n #include <logdepthbuf_pars_vertex> \n","call","getSequence","start","velocities","init","rangeTheta","updateState","getParameterJSON","stop","stateAcceleration","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","error","outType",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"dispose","getSequenceIDs","offset","getPositions","sequenceElements","   int sequenceStart = int(sequenceElement.z);\n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","addElementsFromParameters","loop","   const vec2 up = vec2(0.0, 1.0);\n","sin","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","getTypeID","       upperSide = upperSideStep.x + upperSideStep.y;\n","camera","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","emissionRate","table",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"currentTime","sqrt","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","prototype","uniform int simulateInWorldSpace; \n","typeIDGen","owner","JSONTypeStore::addTypeToNamespace() -> typeName already exists","ages","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","allocate","console","toString","   float uvYOffset = atlasFrameHeight * upperSide; \n","ids",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"initialAlphas","material","Vector2","uniform int interpolateAtlasFrames; \n","v4v","InstancedBufferGeometry","sub","Time","798903RQdYXs","remove","initialSize","texturePath","log","getParticleStateArray","colors","accelerations","setXY","floor","activeCount",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"ShaderMaterial","join","matrixWorld","sizes","offsetX","getParticleStates","localT","setBoundingBox","progressTypes","type","   const vec2 uLeft = vec2(-1.0, 1.0);\n","Object3D","Running","fromJSON","velocity","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","normals","addParticleStateInitializer","advanceActiveParticles","internalUpdate",'Atlas::getFrameSet -> "index" is out of range.',"startupTime","initialColor","indexOf","activeParticleCount","particleSystems","getParticleSequences","__proto__","normal",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"substr","relativeToInitialValue","emitCount","rotationalSpeed","age","max","clone","const int MAX_ATLAS_FRAME_SETS = 16; \n","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","toJSON","position","exception","particleSystemRenderer","       rightSide = baseUV.x; \n","directionGenerator","getRotations","setEmitter","getVisible","trace","geometry","   }  else { \n","speedOffset","timeScaledVelocity","instanced","setBoundingSphere","constructor","offsetTheta","baseUVs","toArray","getTexturePath","texture","setParticleCount","near","BufferAttribute","   gl_FragColor.a *= vFragAlpha; \n","default","initialized","getInterpolationValuesForTValue","   const vec2 left = vec2(-1.0, 0.0);\n","rangePhi","offsetPhi","initialSizes","particleSequences","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","getTypeNames","randomGenerator","baseURI","normalizeDirection","checkAndAddTypeName","ParticleSystem::init() -> trying to intialize more than once.","   vFragColor = color; \n","debu","addSequence","parseTypeString","TextureLoader","currentSrc","       float dRightV = rotVecStep.w - rotVecStep.z; \n","   float upperSide; \n","split","scaleX","frameSets","lastUpdateTime","castShadow","7NiQGow","Vector3","shadow","intensity","framesets","initializeState","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","chain","getGeometry","   vFragAlpha = alpha; \n","name","   \n  #include <logdepthbuf_vertex> \n","radius","JSONTypeStore::getType() -> namespace does not exist","   vec2 rotVec; \n","rotations","clamp","   int sequenceLength = int(sequenceElement.w);\n","NormalBlending","   vec4 viewPosition; \n","getComponent","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","getSimulateInWorldSpace"];return(it=function(){return t})()}class rt extends W{constructor(){const t=j;super(),this.geometry=null,this[t(559)]=null,this[t(445)]=null,this[t(523)]=null,this.sequenceElements=null,this[t(819)]=null,this.velocities=null,this[t(546)]=null,this[t(567)]=null,this[t(659)]=null,this[t(378)]=null,this.sizes=null,this[t(545)]=null,this[t(622)]=null,this[t(429)]=null,this[t(604)]=!1,this[t(463)]=6}[j(486)](t,e=!1){const s=j;this[s(604)]=e,this[s(604)]?this.verticesPerParticle=1:this.verticesPerParticle=6,super[s(486)](t),this[s(525)](t)}setParticleCount(t){super[j(612)](t)}[j(446)](t){const e=j;super[e(446)](t),t>0?this[e(604)]?this.geometry.instanceCount=t:this[e(600)].setDrawRange(0,this.verticesPerParticle*t):this[e(604)]?this.geometry[e(766)]=0:this.geometry[e(807)](0,0)}flushParticleStateToBuffers(t){const e=j;if(t>=this[e(729)])throw new Error(e(580));const s=this[e(440)](t),n=t*this[e(463)];for(let i=0;i<this[e(463)];i++)this[e(445)][e(796)](n+i,s[e(473)]),this.lifetimes.needsUpdate=!0,this[e(523)][e(796)](n+i,s[e(585)]),this[e(523)][e(379)]=!0,this.sequenceElements[e(414)](n+i,s[e(350)].x,s[e(350)].y,s.sequenceElement.z,s[e(350)].w),this[e(500)][e(379)]=!0,this[e(819)][e(418)](n+i,s[e(591)].x,s[e(591)].y,s.position.z),this[e(819)][e(379)]=!0,this[e(485)][e(418)](n+i,s[e(565)].x,s[e(565)].y,s[e(565)].z),this.velocities.needsUpdate=!0,this[e(546)][e(418)](n+i,s[e(783)].x,s[e(783)].y,s[e(783)].z),this[e(546)][e(379)]=!0,this[e(567)][e(418)](n+i,s[e(579)].x,s[e(579)].y,s[e(579)].z),this.normals[e(379)]=!0,this[e(659)][e(796)](n+i,s.rotation),this[e(659)].needsUpdate=!0,this.rotationalSpeeds[e(796)](n+i,s[e(584)]),this[e(378)][e(379)]=!0,this.sizes[e(547)](n+i,s[e(479)].x,s[e(479)].y),this[e(554)][e(379)]=!0,this[e(545)][e(418)](n+i,s[e(677)].r,s[e(677)].g,s[e(677)].b),this[e(545)][e(379)]=!0,this.alphas[e(796)](n+i,s[e(744)]),this[e(339)][e(379)]=!0,this[e(622)].setXY(n+i,s[e(541)].x,s[e(541)].y),this[e(622)][e(379)]=!0,this.initialAlphas.setX(n+i,s.initialAlpha),this[e(531)][e(379)]=!0}copyState(t,e){const s=j;super[s(426)](t,e),this[s(759)](e)}[j(352)](t,e){const s=j;if(t>=this.particleCount)throw new Error(s(514));super[s(352)](t,e),this[s(759)](t)}[j(499)](){return this[j(819)]}[j(788)](){return this[j(554)]}[j(596)](){return this[j(659)]}getSequenceElements(){return this[j(500)]}[j(813)](){return this[j(545)]}[j(652)](){return this[j(600)]}allocate(t){const e=j;super[e(525)](t);const s=(t,s)=>{const n=e;return this[n(604)]?new E(t,s):new(g[n(614)])(t,s)},n=this[e(463)]*this.particleCount;if(this[e(604)]){const t=new x,s=new Float32Array(18);this[e(805)]=new(g[e(614)])(s,3),t[e(736)](e(591),this[e(805)]),this[e(805)].needsUpdate=!0,this[e(805)][e(418)](0,-1,1,0),this[e(805)][e(418)](1,-1,-1,0),this.basePositions[e(418)](2,1,1,0),this.basePositions[e(418)](3,-1,-1,0),this[e(805)].setXYZ(4,1,-1,0),this[e(805)][e(418)](5,1,1,0);const n=new Float32Array(12);this.baseUVs=new P(n,2),t.setAttribute(e(750),this[e(608)]),this[e(608)].needsUpdate=!0,this[e(608)][e(547)](0,0,1),this.baseUVs[e(547)](1,0,0),this[e(608)][e(547)](2,1,1),this[e(608)][e(547)](3,0,0),this[e(608)][e(547)](4,1,0),this.baseUVs[e(547)](5,1,1);const i=new Float32Array(6);this.customIndexes=new P(i,1),t[e(736)](e(469),this[e(399)]),this[e(399)].needsUpdate=!0,this.customIndexes.setX(0,0),this[e(399)][e(796)](1,1),this.customIndexes.setX(2,3),this[e(399)][e(796)](3,1),this[e(399)][e(796)](4,2),this[e(399)][e(796)](5,3),this.geometry=(new(g[e(536)])).copy(t),this[e(600)].instanceCount=0}else{this.geometry=new(g[e(383)]);const t=new Float32Array(n);this[e(399)]=new(g[e(614)])(t,1),this[e(600)].setAttribute(e(469),this[e(399)]),this[e(399)][e(379)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this.verticesPerParticle;this.customIndexes.setX(t,0),this.customIndexes[e(796)](t+1,1),this.customIndexes[e(796)](t+2,3),this[e(399)].setX(t+3,1),this[e(399)][e(796)](t+4,2),this[e(399)][e(796)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),f=new Float32Array(2*n),m=new Float32Array(3*n),d=new Float32Array(n),w=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(819)]=s(o,3),this[e(819)][e(425)](g[e(780)]),this[e(600)][e(736)]("particlePosition",this[e(819)]),this[e(445)]=s(i,1),this[e(445)][e(425)](g[e(780)]),this[e(600)].setAttribute(e(473),this[e(445)]),this[e(523)]=s(r,1),this[e(523)][e(425)](I),this.geometry.setAttribute("age",this[e(523)]),this.sequenceElements=s(a,4),this[e(500)][e(425)](g[e(780)]),this[e(600)].setAttribute(e(350),this[e(500)]),this[e(485)]=s(c,3),this[e(485)][e(425)](g[e(780)]),this.geometry[e(736)](e(565),this[e(485)]),this.accelerations=s(h,3),this[e(546)].setUsage(I),this[e(600)][e(736)](e(783),this.accelerations),this.normals=s(l,3),this[e(567)][e(425)](g[e(780)]),this[e(600)].setAttribute(e(579),this[e(567)]),this.rotations=s(u,1),this[e(659)][e(425)](g[e(780)]),this[e(600)].setAttribute(e(397),this.rotations),this.rotationalSpeeds=s(p,1),this.rotationalSpeeds[e(425)](g[e(780)]),this[e(600)].setAttribute(e(584),this[e(378)]),this.sizes=s(f,2),this[e(554)][e(425)](g[e(780)]),this[e(600)].setAttribute(e(479),this[e(554)]),this[e(545)]=s(m,3),this[e(545)][e(425)](g[e(780)]),this[e(600)][e(736)](e(677),this[e(545)]),this[e(339)]=s(d,1),this.alphas.setUsage(g[e(780)]),this[e(600)][e(736)]("alpha",this[e(339)]),this.initialSizes=s(w,2),this.initialSizes[e(425)](g[e(780)]),this[e(600)][e(736)](e(541),this[e(622)]),this[e(429)]=s(S,3),this.initialColors[e(425)](g[e(780)]),this.geometry[e(736)](e(573),this[e(429)]),this[e(531)]=s(y,1),this[e(531)][e(425)](I),this[e(600)].setAttribute(e(682),this.initialAlphas)}[j(496)](){const t=j;super.dispose(),this[t(600)]&&(this[t(600)][t(496)](),this.geometry=null)}}class at{constructor(t,e,s,n,i){const r=j;this[r(457)]=t,this.x=e,this.y=s,this[r(377)]=n,this.height=i}}class ot{constructor(t,e){const s=j;this[s(611)]=t,this[s(542)]=e,this[s(641)]=[]}[j(351)](){return this[j(611)]}[j(610)](){return this[j(542)]}[j(402)](){return this.frameSets.length}[j(421)](t,e,s,n,i){this.frameSets.push(new at(t,e,s,n,i))}[j(811)](t){const e=j;if(t>=this[e(641)][e(457)])throw new Error(e(571));return this.frameSets[t]}}const ct=class t extends nt{constructor(t,e,s=!1,n=g[j(662)],i=!0,r){const a=j;super(),d(this,"updateMeshBounds",function(){const t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Ot(671)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();t(this,(function(){const e=Ot,s=function(){const t=Ot;let e;try{e=Function(t(439)+'{}.constructor("return this")( ));')()}catch(s){e=window}return e}(),n=s[e(526)]=s[e(526)]||{},i=[e(543),e(809),e(428),e(493),e(592),e(513),e(599)];for(let r=0;r<i[e(457)];r++){const s=t[e(606)][e(518)].bind(t),a=i[r],o=n[a]||s;s[e(578)]=t[e(785)](t),s[e(527)]=o[e(527)].bind(o),n[a]=s}}))();const e=new S;return function(){const t=Ot,s=this[t(817)][t(652)]();if(this.calculateBoundingSphereFromBox){s.boundingBox||(s[t(799)]=new(g[t(802)])),s[t(799)][t(373)](this[t(799)]),!s[t(715)]&&(s[t(715)]=new(g[t(386)])),e.x=(this[t(799)][t(444)].x+this.boundingBox[t(586)].x)/2,e.y=(this.boundingBox[t(444)].y+this.boundingBox.max.y)/2,e.z=(this[t(799)][t(444)].z+this[t(799)][t(586)].z)/2;const n=this[t(799)][t(586)].x-e.x,i=this[t(799)][t(586)].y-e.y,r=this.boundingBox[t(586)].z-e.z,a=Math.max(Math.max(n,i),r);s[t(715)][t(674)][t(373)](e),s[t(715)][t(656)]=Math[t(516)](2*a*a)}else s[t(715)]||(s[t(715)]=new(g[t(386)])),s[t(715)][t(373)](this[t(715)])}}()),this.instanced=t,this[a(817)]=null,this[a(532)]=null,this.mesh=null,this.atlas=e,this.interpolateAtlasFrames=s,this.blending=n,this.boundingBox=new(g[a(802)]),this[a(715)]=new(g[a(386)]),this.calculateBoundingSphereFromBox=i,this.renderOrder=r}[j(733)](t){super[j(733)](t)}[j(544)](){return this.particleStateArray}[j(680)](t){const e=j;super[e(680)](t),this.material&&(this[e(532)].uniforms[e(395)][e(749)]=t?1:0,this[e(532)][e(692)]=!0)}[j(778)](){return this[j(474)]}[j(558)](t){const e=j;this.boundingBox.copy(t),this[e(388)]&&this.updateMeshBounds()}[j(605)](t){const e=j;this[e(715)][e(373)](t),this[e(388)]&&this[e(456)]()}[j(770)](t,e,s){e[j(770)](t,s)}init(t){const e=j;super[e(486)](t)&&(this[e(817)]=new rt,this[e(817)].init(t,this[e(604)]),this[e(532)]=this.createMaterial(null,null,null,!0,!1),this[e(532)][e(709)]=this[e(709)],this[e(388)]=new(g[e(726)])(this[e(817)].getGeometry(),this[e(532)]),this[e(388)][e(392)]=!0,void 0!==this[e(340)]&&(this[e(388)][e(340)]=this[e(340)]),this[e(456)](),this[e(521)][e(470)](this[e(388)]))}[j(496)](){const t=j;this[t(817)][t(496)]()}[j(757)](e,s,n,i,r){const a=j,o=[...Array(16).keys()].map((t=>new(g[a(467)])));if(this.atlas)for(let t=0;t<this[a(433)][a(402)]();t++){const e=this.atlas[a(811)](t);o[t]=new(g[a(467)])(e.x,e.y,e[a(377)],e[a(700)])}const c=this[a(433)]?this[a(433)][a(351)]():null,h=this[a(417)],l=this[a(395)],u=this[a(604)]?1:0,p={atlasFrameSet:{type:a(535),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(g[a(533)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object.assign(n,p),e=e||t[a(361)][a(701)](r),s=s||t[a(361)][a(375)](i,r),new(g[a(551)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:g[a(662)],blendDstAlpha:g[a(670)],blendSrcAlpha:A,depthTest:!0,depthWrite:!1})}static[(c=j(361),j(564))](e){const s=j,n=e.atlas,i=(new(g[s(635)])).load(n[s(542)]),r=new ot(i,n.texturePath),a=n[s(648)];for(const t of a)r[s(421)](t.length,t.x,t.y,t[s(377)],t.height);const o=new t(e[s(604)],r,n.interpolateFrames);return e[s(709)]==s(404)?o[s(709)]=g[s(737)]:o[s(709)]=F,o}[j(590)](t){const e=j;t=t||(t=>{const e=Ot;if(t[e(542)])return t[e(542)];const s=t[e(351)]()[e(713)];if(s){const t=s[e(791)];if(t){const s=t[e(627)],n=t[e(636)];return n[e(574)](s)>=0?n[e(581)](s.length,n[e(457)]-s[e(457)]):n}}});const s=[];for(let i=0;i<this[e(433)][e(402)]();i++){const t=this[e(433)].getFrameSet(i);s[e(771)](t)}let n=e(384);this.material[e(709)]===g[e(737)]&&(n="Additive");return{instanced:this[e(604)],blending:n,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this[e(433)]),framesets:s}}}};d(ct,c,{get VertexVars(){const t=j;return[t(588),t(405),t(534),t(519),t(360),t(415),"attribute float customIndex;\n",t(436),t(442),t(413),"attribute vec4 sequenceElement;\n",t(719),t(438),t(708),t(422),t(776),t(742),t(738)][t(552)]("\n")},get FragmentVars(){const t=j;return["uniform int interpolateAtlasFrames; \n","uniform sampler2D atlasTexture;\n","uniform vec2 uvOffset;\n","varying vec2 vUV1;\n","varying vec2 vUV2;\n",t(776),"varying float vFragAlpha;\n","varying float vSequenceElementT;\n"][t(552)]("\n")},getVertexShader(t){const e=j;let s=[e(667),this[e(464)]].join("\n");return t&&(s+=e(481)),s+=[e(665),"   float atlasFrameWidth = atlasFrames.z; \n",e(814),e(732),"   float atlasFrameY = atlasFrames.y; \n",e(492),e(686),e(794),"   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n",e(517),e(566),e(699),e(502),e(441),e(477),e(507),e(787),e(511),e(381),e(345),"{\n","   const vec2 right = vec2(1.0, 0.0);\n",e(505),e(619),e(782),e(431),e(561),e(690),"   const vec2 dRight = vec2(1.0, -1.0);\n",e(663),"   if (simulateInWorldSpace == 1) { \n",e(772),e(714),"       viewPosition = viewMatrix * modelMatrix * particlePosition;\n",e(466),"   float sequenceElementF = sequenceElement.x;\n","   int sequenceNumber = int(sequenceElement.y);\n",e(501),e(661),"   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","   vec2 uv1; \n",e(419),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",e(818),e(524),e(376),e(357),e(756),e(466),e(341),"   float atlasFrameHeight = atlasFrames.w; \n",e(718),"   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","   float rightSide; \n",e(638),"   if (instanced != 1) { \n",e(786),e(337),e(509),e(601),e(594),"       upperSide = baseUV.y; \n",e(466),e(406),e(528),e(658),e(751),e(589),"       float uLeftV = rotVecStep.x; \n",e(624),"       float uRightV = rotVecStep.z; \n",e(637),e(735),e(601),e(347),e(466),e(394),"   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",e(631),e(653)].join("\n"),t&&(s+=e(655)),s+=e(381),s},getFragmentShader(t,e){const s=j;let n="#include <common> \n"+this.FragmentVars+"\n";return e&&(n+=s(703)),n+=s(727),e&&(n+=s(702)),n+=t?[s(739),"   vec4 color2 = color1; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(767),"   gl_FragColor.a *= vFragAlpha; \n"][s(552)]("\n"):[s(650),s(450),s(408),s(767),s(615)][s(552)]("\n"),n+="}\n",n}});let ht=ct;class lt{constructor(){const t=j;this.emissionRelativeStartTime=0,this.emissionDuration=0,this.emitCount=0,this[t(585)]=0,this.timeActive=0,this[t(549)]=0,this.maximumActiveParticles=0}[j(385)](t){return this[j(570)](t),0}[j(570)](t){const e=j;return this[e(585)]+=t,this[e(409)]=Math[e(586)](this[e(585)]-this[e(728)],0),this.age>=this[e(728)]&&(0==this[e(816)]||this[e(409)]<=emissionDuration)}[j(763)](t){this.emitCount+=t}}class ut extends lt{constructor(){const t=j;super(),this[t(353)]=0,this[t(420)]=0}}class pt extends ut{constructor(t=0){const e=j;super(),this[e(512)]=t}[j(385)](t){const e=j;if(this[e(570)](t)){const t=this[e(512)]*this.timeActive-this[e(583)];if(t>=1){const s=Math[e(548)](t);return this.updateEmitCount(s),s}}return 0}static[j(564)](t){const e=j,s=new pt;return s[e(512)]=t[e(512)]||0,s}[j(590)](){return{emissionRate:this[j(512)]}}}const ft=class t{constructor(t){this[j(654)]=t}static[(h=j(730),l=j(645),j(508))](e){const s=j;let n=t[s(730)];return e===T?n=t[s(533)]:e===g[s(645)]?n=t.Vector3:e===g[s(467)]?n=t[s(467)]:e===g[s(342)]&&(n=t[s(342)]),n}static[j(765)](t,e){const s=j;switch(e){case g[s(533)]:return(new(g[s(533)])).fromArray(t);case g[s(645)]:return(new(g[s(645)]))[s(773)](t);case g[s(467)]:return(new b).fromArray(t);case g[s(342)]:return(new(g[s(342)]))[s(773)](t)}return t}};d(ft,h,new ft(j(730))),d(ft,"Vector2",new ft("Vector2")),d(ft,l,new ft("Vector3")),d(ft,"Vector4",new ft(j(467))),d(ft,"Color",new ft(j(342)));let mt=ft;class dt{constructor(t){const e=j;this.outType=t,this[e(410)]=mt[e(508)](t)}}class wt extends dt{constructor(t,e,s,n,i,r){const a=j;super(t),this[a(423)]=e,this[a(498)]=s,this.uniformRange=n,this[a(753)]=i,this[a(696)]=r}[j(710)](t){const e=j,s=Math[e(382)]()*this[e(797)];switch(this.outTypeID){case mt[e(730)]:t=Math[e(382)]()*this[e(423)]+this.offset,this[e(696)]&&(t=t<0?-1:1);break;case mt[e(533)]:t[e(346)](this[e(452)](s,"x"),this.generateForElement(s,"y"));break;case mt[e(645)]:t.set(this.generateForElement(s,"x"),this.generateForElement(s,"y"),this[e(452)](s,"z"));break;case mt[e(467)]:t.set(this[e(452)](s,"x"),this[e(452)](s,"y"),this[e(452)](s,"z"),this[e(452)](s,"w"))}return this[e(696)]&&t[e(696)](),t}[j(452)](t,e){const s=j;return t+Math[s(382)]()*this[s(423)][e]+this[s(498)][e]+this[s(753)]}clone(){const t=j;return new wt(this[t(494)],this.range,this[t(498)],this[t(797)],this.uniformOffset,this[t(696)])}static[j(489)](t){const e=j;return t instanceof g[e(533)]||t instanceof g[e(645)]||t instanceof g[e(467)]||t instanceof g[e(342)]?t[e(609)]():t}static fromJSON(t){const e=j;return new wt(t[e(560)],mt[e(765)](t[e(423)],t[e(560)]),mt[e(765)](t[e(498)],t.type),t[e(797)]||0,t[e(753)]||0,t[e(696)])}[j(590)](t){const e=j,s={range:wt[e(489)](this[e(423)]),offset:wt[e(489)](this[e(498)]),uniformRange:this.uniformRange,uniformOffset:this.uniformOffset},n=t.getTypePath(this[e(423)][e(606)]);return null!=n&&(s[e(560)]=n),{type:t[e(338)](wt),params:s}}}class gt extends J{constructor(t,e,s,n,i){const r=j;super(),this[r(423)]=t,this.offset=e,this[r(797)]=s,this[r(753)]=n,this.normalize=i,this.generator=new wt(0,this.range,this[r(498)],this[r(797)],this.uniformOffset,this.normalize)}[j(649)](t){const e=j;t[e(473)]=this.generator[e(710)]()}static[j(564)](t,e){const s=j;return new gt(e[s(423)],e[s(498)],e.uniformRange,e[s(753)],e.normalize)}[j(590)](){const t=j;return{range:this[t(423)],offset:this[t(498)],uniformRange:this[t(797)],uniformOffset:this.uniformOffset,normalize:this[t(696)]}}}class St extends J{constructor(t){const e=j;super(),this[e(688)]=t[e(587)]()}[j(649)](t){const e=j;t[e(397)]=this[e(688)].generate(t.rotation)}static[j(564)](t,e){const s=j,n=e[s(688)].type[s(564)](e.generator[s(722)]);return new St(n)}toJSON(t){return{generator:this.generator.toJSON(t)}}}class yt extends J{constructor(t,e,s,n,i){const r=j;super(),this[r(423)]=t,this[r(498)]=e,this.uniformRange=s,this[r(753)]=n,this[r(696)]=i,this[r(688)]=new wt(0,this[r(423)],this[r(498)],this[r(797)],this[r(753)],this[r(696)])}[j(649)](t){const e=j;t.rotationalSpeed=this[e(688)][e(710)]()}static fromJSON(t,e){const s=j;return new yt(e[s(423)],e.offset,e.uniformRange,e.uniformOffset,e[s(696)])}[j(590)](){const t=j;return{range:this[t(423)],offset:this[t(498)],uniformRange:this[t(797)],uniformOffset:this[t(753)],normalize:this.normalize}}}class vt extends J{constructor(t,e){const s=j;super(),this[s(626)]=new wt(S,t,e,0,0,!1)}[j(649)](t){const e=j;this.randomGenerator[e(710)](t[e(591)])}static[j(564)](t,e){const s=j;return new vt((new(g[s(645)]))[s(773)](e.range),(new(g[s(645)]))[s(773)](e[s(498)]))}[j(590)](){const t=j;return{range:this[t(626)][t(423)].toArray(),offset:this[t(626)][t(498)][t(609)]()}}}class xt extends J{constructor(t){const e=j;super(),this[e(688)]=t[e(587)]()}[j(649)](t){const e=j;this[e(688)][e(710)](t[e(479)]),t[e(541)].copy(t[e(479)])}static[j(564)](t,e){const s=j,n=e[s(688)].type[s(564)](e[s(688)][s(722)]);return new xt(n)}[j(590)](t){const e=j;return{generator:this.generator[e(590)](t)}}}class Pt extends J{constructor(t,e,s,n,i=!0){const r=j;super(),this[r(595)]=new wt(g[r(645)],t,e,0,0,!0),this[r(724)]=new wt(0,s,n,0,0,!1),this[r(628)]=i}[j(649)](t){const e=j;this[e(595)][e(710)](t[e(565)]),this[e(628)]&&t.velocity[e(696)](),t[e(565)][e(734)](this.speedGenerator[e(710)]())}static[j(564)](t,e){const s=j;return new Pt((new(g[s(645)])).fromArray(e[s(423)]),(new S)[s(773)](e[s(498)]),e.speedRange,e[s(602)])}[j(590)](){const t=j;return{range:this.directionGenerator[t(423)][t(609)](),offset:this[t(595)].offset[t(609)](),speedRange:this[t(724)].range,speedOffset:this[t(724)][t(498)]}}}class It extends J{constructor(t,e=!1){const s=j;super(),this.setParticleSequences(t),this[s(804)]=e}[j(720)](t){this.particleSequences=t}[j(649)](t){const e=j,s=this[e(623)][e(497)](),n=s[e(457)]*Math[e(382)](),i=s[Math.floor(n)],r=this[e(623)][e(483)](i),a=t[e(350)];this.reverse?a.x=r[e(457)]-1:a.x=r[e(484)],a.y=r.id,a.z=r[e(484)],a.w=r[e(457)],t[e(683)]=D[e(801)]}static[j(564)](t,e){const s=j;return new It(t[s(577)](),e[s(804)])}[j(590)](){return{reverse:this[j(804)]}}}class At extends Z{constructor(t,e,s=!1,n=!1){const i=j;super(),this[i(623)]=t,this[i(781)]=e,this[i(504)]=s,this.reverse=n}[j(488)](t,e){const s=j,n=t[s(350)],i=this[s(623)][s(483)](n.y),r=e/this.speed;if(this.reverse){if(n.x-=r,n.x<i[s(484)]&&(n.x=i.start+i[s(457)],!this[s(504)]))return!1}else if(n.x+=r,n.x>=i[s(484)]+i[s(457)]&&(n.x=i[s(484)],!this[s(504)]))return!1;return!0}static[j(564)](t,e){const s=j;return new At(t[s(577)](),e.speed,e[s(504)],e.reverse)}[j(590)](){const t=j;return{speed:this[t(781)],loop:this.loop,reverse:this[t(804)]}}}class Ft{constructor(t,e){d(this,u,function(){const t=j,e={lowerIndex:0,upperIndex:0,localT:0},s=new(g[t(533)]),n=new(g[t(645)]),i=new(g[t(467)]),r=new y,a=s=>(n,i,r,a)=>{const o=t;Ft[o(618)](r,n,e),s[o(373)](i[e[o(349)]])[o(734)](e[o(557)]),a[o(373)](i[e[o(448)]])[o(734)](1-e[o(557)])[o(470)](s)};return function(o){const c=t;switch(o){case mt.Default:return(t,s,n)=>{const i=Ot;return Ft[i(618)](n,t,e),(1-e[i(557)])*s[e[i(448)]]+e.localT*s[e[i(349)]]};case mt[c(533)]:return a(s);case mt[c(645)]:return a(n);case mt[c(467)]:return a(i);case mt.Color:return a(r)}}}());const s=j;this[s(741)]=[],this[s(806)]=[],this.elementTypeID=mt.getTypeID(t),e?this[s(427)]=e:this.interpolator=this.getInterpolatorForTypeID(this[s(465)])}*[Symbol[j(681)]](){const t=j;let e=0;for(;e<this[t(789)]();)yield{element:this[t(741)][e],tValue:this[t(806)][e]},e++}[j(789)](){const t=j;return this[t(741)][t(457)]}[j(808)](t){if(t>=this[j(789)]())throw new Error('ContinuousArray::getElement() -> "index" is out of bounds.');return this.elements[t]}[j(697)](t){if(t>=this[j(789)]())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this.tValues[t]}addElement(t,e){const s=j;this[s(741)].push(t),this[s(806)].push(e)}[j(760)](t,e){const s=j;return this.interpolator(t,this[s(741)],this[s(806)],e)}static[(u=j(475),j(618))](t,e,s){const n=j,i=t.length;if(0===i)return s[n(448)]=-1,s[n(349)]=-1,void(s[n(557)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(448)]=$.clamp(a,0,i-1),s[n(349)]=$[n(660)](o,0,i-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}class Tt extends Z{constructor(t,e=!1){const s=j;super(),this[s(582)]=e,this[s(374)]=new Ft(t)}[j(775)](t,e){this[j(374)].addElement(t,e)}[j(380)](t){const e=j;for(const s of t)this.interpolationElements[e(775)](s[0],s[1])}[j(810)](t,e){const s=j;for(const n of e){const[...e]=n[0];this[s(374)].addElement(new t(...e),n[1])}}[j(755)](t,e){const s=j;let n=0;switch(t[s(683)]){case D[s(538)]:n=0!=t.lifetime?t.age/t.lifetime:t[s(585)];break;case D[s(801)]:n=t[s(350)].x/t[s(350)].w}return this[s(374)].getInterpolatedElement(n,e)}}class bt extends Tt{constructor(t=!1){super(0,t)}addElementsFromParameters(t){super[j(380)](t)}[j(488)](t){const e=j;return this[e(582)]?t.alpha=t[e(682)]*this[e(755)](t,t[e(744)]):t[e(744)]=this[e(755)](t,t[e(744)]),!0}static[j(564)](t,e){return new bt(e[j(582)])}[j(590)](){const t=j;return{params:{relativeToInitialValue:this[t(582)]},elements:[...this[t(374)]][t(707)]((e=>[e[t(369)],e[t(764)]]))}}}class zt extends Tt{constructor(t=!1){super(T,t),d(this,p,function(){const t=j,e=new(g[t(533)]);return function(s){const n=t;return this[n(755)](s,e),this[n(582)]?s[n(479)][n(346)](s[n(541)].x*e.x,s.initialSize.y*e.y):s.size.copy(e),!0}}())}[j(503)](t){const e=j;super[e(810)](g[e(533)],t)}static fromJSON(t,e){return new zt(e[j(582)])}[(p=j(488),j(590))](){const t=j;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(374)]].map((e=>[e.element.toArray(),e[t(764)]]))}}}class Et extends Tt{constructor(t=!1){super(y,t),d(this,f,function(){const t=new y;return function(e){const s=Ot;return this.getInterpolatedValue(e,t),this[s(582)]?e[s(677)][s(372)](e[s(573)].r*t.r,e.initialColor.g*t.g,e.initialColor.b*t.b):e.color[s(373)](t),!0}}())}[j(503)](t){const e=j;super[e(810)](g[e(342)],t)}static[(f=j(488),j(564))](t,e){return new Et(e[j(582)])}toJSON(){const t=j;return{params:{relativeToInitialValue:this[t(582)]},elements:[...this[t(374)]][t(707)]((e=>[e[t(369)].toArray(),e.tValue]))}}}class Rt extends Z{constructor(t){const e=j;super(),this[e(688)]=t[e(587)]()}[j(503)](t){super[j(810)](THREE.Vector3,t)}[j(488)](t){const e=j;return this[e(688)][e(710)](t[e(783)]),!0}static[j(564)](t,e){const s=j,n=e.generator[s(560)].fromJSON(e[s(688)][s(722)]);return new Rt(n)}toJSON(t){return{generator:this[j(688)].toJSON(t)}}}class Ct extends dt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=j;super(g[p(645)]),this[p(487)]=t,this[p(607)]=e,this.rangePhi=s,this[p(621)]=n,this[p(795)]=i,this[p(758)]=r,this[p(640)]=a,this.scaleY=o,this.scaleZ=c,this[p(555)]=h,this[p(679)]=l,this[p(453)]=u,this[p(468)]=(new(g[p(645)]))[p(346)](0,1,0)}[j(710)](t){const e=j;this[e(468)][e(346)](0,1,0);const s=Math[e(382)]()*this.rangeTheta+this[e(607)],n=Math.random()*this[e(620)]+this[e(621)],i=Math.cos(s),r=Math[e(506)](s),a=Math[e(684)](n),o=Math.sin(n);t[e(346)](i,0,-r),t[e(734)](a),this[e(468)][e(734)](o),t[e(470)](this.tempUp),t[e(696)]();const c=Math[e(382)]()*this[e(795)]+this[e(758)];t[e(734)](c),t.x*=this[e(640)],t.y*=this.scaleY,t.z*=this[e(472)],t.x+=this.offsetX,t.y+=this.offsetY,t.z+=this.offsetZ}[j(587)](){const t=j;return new Ct(this[t(487)],this.offsetTheta,this[t(620)],this.offsetPhi,this[t(795)],this.offsetRadius,this.scaleX,this[t(435)],this[t(472)],this.offsetX,this.offsetY,this[t(453)])}static[j(564)](t){const e=j;return new Ct(t.rangeTheta,t[e(607)],t.rangePhi,t[e(621)],t.rangeRadius,t[e(758)],t.scaleX,t[e(435)],t[e(472)],t.offsetX,t.offsetY,t[e(453)])}[j(590)](t){const e=j;return{type:t.getTypePath(Ct),params:{rangeTheta:this[e(487)],offsetTheta:this.offsetTheta,rangePhi:this[e(620)],offsetPhi:this[e(621)],rangeRadius:this[e(795)],offsetRadius:this[e(758)],scaleX:this[e(640)],scaleY:this[e(435)],scaleZ:this[e(472)],offsetX:this[e(555)],offsetY:this[e(679)],offsetZ:this[e(453)]}}}}function Ot(t,e){const s=it();return(Ot=function(t,e){return s[t-=336]})(t,e)}class Vt{constructor(){}}class qt extends Vt{constructor(t,e,s,n,i,r,a=void 0){const o=j;super(),this.owner=null,this[o(743)]=null,this.lastUpdateTime=performance.now()/1e3,this[o(761)]=this.lastUpdateTime,this.lastPositionFlickerTime=this[o(642)],this.lastIntensityAdjuster=1,this[o(367)]=1,this[o(455)]=new(g[o(645)]),this[o(454)]=new(g[o(645)]),this.intensity=1,this[o(774)]=2,this[o(443)]=t,this[o(486)](t,e,s,n,i,r,a)}[j(486)](t,e,s,n,i,r,a=void 0){const o=j;this[o(521)]=new z,t.add(this[o(521)]),n=n||new(g[o(342)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(743)]=new(g[o(691)])(16777215,2,0,1),this[o(743)].color[o(373)](n),this[o(743)].distance=i,this.light[o(458)]=r,this[o(743)][o(643)]=c,c&&(this.light[o(646)][o(712)][o(377)]=a[o(712)]||512,this[o(743)][o(646)][o(712)][o(700)]=a[o(712)]||512,this[o(743)][o(646)][o(510)][o(613)]=a[o(717)]||.5,this[o(743)][o(646)][o(510)][o(687)]=a[o(424)]||500,this[o(743)][o(646)][o(449)]=a.bias||1e-4,this.light[o(646)][o(656)]=a[o(336)]||1),this[o(521)][o(470)](this.light),this[o(647)]=e,this[o(774)]=s,this[o(743)]}dispose(){const t=j;this.parent[t(540)](this[t(521)])}[j(411)](){return this.light}setIntensity(t){this[j(647)]=t}[j(385)](t){const e=j,s=t-this[e(761)],n=1/8,i=this.intensityFlux;if(s>n){this.lastIntensityFlickerTime=t;let s=1+2*(Math[e(382)]()-.5)*i*n;const r=s-this[e(389)];s=this[e(389)]+r,this[e(389)]=this[e(367)],this[e(367)]=$[e(660)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(389)]+t*this.nextIntensityAdjuster;this[e(743)].intensity=i*this[e(647)]}if(t-this[e(401)]>.0625){this[e(401)]=t;const s=t-this[e(642)];this[e(454)].set(Math[e(382)]()-.5,Math[e(382)]()-.5,Math[e(382)]()-.5),this[e(454)].multiplyScalar(s),this[e(454)][e(470)](this[e(455)]),this.positionAdjuster.multiplyScalar(.5),this[e(521)][e(591)][e(373)](this[e(454)]),this.lastPositionAdjuster[e(373)](this[e(454)]),this[e(642)]=t}}}class Mt{constructor(){const t=j;this[t(358)]={default:{}},this[t(368)]={},this[t(520)]=0}[j(803)](t,e){const s=j;this[s(768)](s(616),t,e)}[j(768)](t,e,s){const n=j;if(!this[n(358)][t])throw new Error(n(721));if(this[n(358)][t][e])throw new Error(n(522));this[n(629)](s,e,t)&&(this.jsonTypes[t][e]=s)}[j(356)](t,e){const s=j;if(this.jsonTypes[t])throw new Error("JSONTypeStore::addNamespace() -> namespace already exists");this[s(358)][t]=e;for(const n in e)if(!e[s(478)]||e[s(478)](n)){const i=e[n];this[s(629)](i,n,t)}}checkAndAddTypeName(t,e,s){const n=j;if("function"==typeof t){const i=this[n(520)]++;t[n(363)]=i,this[n(368)][i]={namespace:s,typeName:e}}}[j(480)](t,e){const s=j;if(!this[s(358)][t])throw new Error(s(657));if(!this.jsonTypes[t][e])throw new Error("JSONTypeStore::getType() -> typeName does not exist");return this[s(358)][t][e]}[j(625)](t){const e=j;return this.jsonTypeNames[t[e(363)]]}[j(338)](t){const e=j,s=this.getTypeNames(t);if(s)return s[e(343)]+"."+s.typeName}parseNamespaceAndTypename(t){const e=j,s=t[e(639)]("."),n=s[0];s[e(745)](0,1);return{namespace:n,typeName:s.join(".")}}parseTypeString(t){const e=j,{namespace:s,typeName:n}=this[e(437)](t);return this[e(480)](s,n)}}function Nt(t){function e(t){const s=Ot;if("string"==typeof t)return function(t){}.constructor(s(390))[s(671)](s(762));1!==(""+t/t).length||t%20==0?function(){return!0}[s(606)](s(632)+s(447))[s(482)](s(723)):function(){return!1}[s(606)](s(632)+"gger")[s(671)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}const _t=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Rt,AnimatedSpriteRenderer:ht,Atlas:ot,BaseParticleStateInitializer:k,BaseParticleStateOperator:H,BoxPositionInitializer:vt,ColorInterpolatorOperator:Et,ConstantParticleEmitter:pt,FlickerLight:qt,JSONTypeStore:Mt,LifetimeInitializer:gt,Manager:st,OpacityInterpolatorOperator:bt,ParticleStateArray:W,ParticleSystem:et,ParticleSystemState:tt,RandomGenerator:wt,RandomVelocityInitializer:Pt,Renderer:nt,RotationInitializer:St,RotationalSpeedInitializer:yt,SequenceInitializer:It,SequenceOperator:At,SizeInitializer:xt,SizeInterpolatorOperator:zt,SphereRandomGenerator:Ct},Symbol.toStringTag,{value:"Module"})),Bt=Yt;!function(t,e){const s=Yt,n=Xt();for(;;)try{if(716859===-parseInt(s(498))/1*(-parseInt(s(517))/2)+-parseInt(s(561))/3+-parseInt(s(548))/4*(parseInt(s(542))/5)+parseInt(s(484))/6*(-parseInt(s(532))/7)+-parseInt(s(559))/8+parseInt(s(556))/9+parseInt(s(490))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Ut=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Yt(515)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Ut(this,(function(){const t=Yt,e=new RegExp(t(560)),s=new RegExp(t(482),"i"),n=Wt(t(505));e.test(n+"chain")&&s.test(n+t(499))?Wt():n("0")}))()}();const jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Yt(515)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Xt(){const t=["log","AdditiveBlending","stateObject","copy","SizeInterpolatorOperator","SphereRandomGenerator","toString","AccelerationOperator","597338WNBzoN","position","counter","addParticleStateOperator","RotationalSpeedInitializer","addElements","Vector2","Color","addNamespace","setRGB","1684505XSlwoU","scale","debu","value","add","addFrameSet","12PTRmcW","setSimulateInWorldSpace","Vector3","fireF","Atlas","load","ParticleSystem","THREE","5755302JoARRo","SequenceOperator","addComponent","9016032qKvAkq","function *\\( *\\)","1071930OgrpCg","prototype","addParticleSequence","ColorInterpolatorOperator","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addElementsFromParameters","60vEkBXG","getParticleSequences","trace","ConstantParticleEmitter","start","call","29282750KTCBRQ","gger","console","SequenceInitializer","AnimatedSpriteRenderer","Manager","length","Object3D","6297VaLdLA","input","addParticleSystem","table","action","RandomVelocityInitializer","return (function() ","init","LifetimeInitializer","addParticleStateInitializer","error","OpacityInterpolatorOperator","TextureLoader","RandomGenerator","RotationInitializer","constructor","render","apply","bind","158HsTTGu","SizeInitializer","info","setEmitter","BoxPositionInitializer","JSONTypeStore",'{}.constructor("return this")( )'];return(Xt=function(){return t})()}jt(void 0,(function(){const t=Yt;let e;try{e=Function(t(504)+t(523)+");")()}catch(i){e=window}const s=e[t(492)]=e[t(492)]||{},n=[t(524),"warn",t(519),t(508),"exception",t(501),t(486)];for(let r=0;r<n[t(496)];r++){const e=jt[t(513)][t(479)][t(516)](jt),i=n[r],a=s[i]||e;e.__proto__=jt[t(516)](jt),e.toString=a[t(530)].bind(a),s[i]=e}}))();const Dt=V({__name:Bt(551),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Bt,s=t,n=new(_t[e(495)]),i=new(_t[e(522)]);i[e(540)](e(555),g),i[e(540)]("Photons",_t);const{renderer:r,camera:a,scene:o}=C(),c=new(g[e(550)])(...s[e(533)]);n[e(500)](((t,s)=>{const n=e,i=new(g[n(497)]);i[n(533)][n(527)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(g[n(510)]))[n(553)](a),c=new(_t[n(552)])(o,a);c[n(547)](1,0,0,1,1);const h=new(_t[n(494)])(!0,c,!0,g[n(525)]),l=new et(i,h,r[n(545)]);l[n(505)](150),l.setEmitter(new(_t[n(487)])(6));const u=new wt(g[n(538)],new(g[n(538)])(0,0),new(g[n(538)])(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new(_t[n(506)])(3,1,0,0,!1)),l.addParticleStateInitializer(new(_t[n(518)])(u)),l[n(507)](new(_t[n(521)])(new(g[n(550)])(.05*t,0,.05*t),new(g[n(550)])(-.025*t,0,-.025*t))),l[n(507)](new(_t[n(503)])(new S(.4*t,.5*t,.4*t),new(g[n(550)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(535)](new(_t[n(509)]))[n(537)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(535)](new(_t[n(481)])(!0))[n(483)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(_t[n(529)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(_t[n(531)])(p)),l[n(549)](!0),l[n(488)](),l})(s[e(543)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(g[n(497)]);i[n(533)][n(527)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(g[n(510)]))[n(553)](a),c=new ot(o,a);c.addFrameSet(18,0,0,.125,.25);const h=new(_t[n(494)])(!0,c,!0),l=new et(i,h,r[n(545)]);l[n(505)](50),l[n(520)](new(_t[n(487)])(10)),l[n(480)](0,18);const u=l[n(485)]();l[n(507)](new(_t[n(506)])(0,0,0,0,!1)),l[n(507)](new(_t[n(512)])(new wt(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new yt(1,-1,0,0,!1)),l[n(507)](new(_t[n(518)])(new(_t[n(511)])(g[n(538)],new(g[n(538)])(.25*t,.25*t),new(g[n(538)])(.5*t,.5*t),0,0,!1))),l[n(507)](new(_t[n(521)])(new(g[n(550)])(.05*t,0,.05*t),new S(-.025*t,0,-.025*t))),l[n(507)](new(_t[n(503)])(new(g[n(550)])(.05*t,.4*t,.05*t),new(g[n(550)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l.addParticleStateInitializer(new(_t[n(493)])(u)),l[n(535)](new At(u,.07,!1));l[n(535)](new(_t[n(509)]))[n(537)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(535)](new(_t[n(528)])(!0))[n(483)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(535)](new Et(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(535)](new(_t[n(531)])(new wt(g[n(550)],new(g[n(550)])(0,0,0),new(g[n(550)])(0,1.5*t,0),0,0,!1))),l[n(549)](!0),l[n(488)](),l})(s[e(543)],c)),n[e(500)](((t,s)=>{const n=e,i=new(g[n(497)]);i[n(533)][n(527)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new R).load(a),c=new(_t[n(552)])(o,a);c[n(547)](16,0,0,212/1024,.25);const h=new ht(!0,c,!0),l=new(_t[n(554)])(i,h,r[n(545)]);l[n(505)](20),l.setEmitter(new pt(5)),l[n(480)](0,16);const u=l[n(485)]();l.addParticleStateInitializer(new(_t[n(506)])(0,0,0,0,!1)),l[n(507)](new(_t[n(512)])(new(_t[n(511)])(0,Math.PI,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(_t[n(536)])(Math.PI/2,-Math.PI/4,0,0,!1)),l.addParticleStateInitializer(new(_t[n(518)])(new wt(g[n(538)],new(g[n(538)])(0,0),new(g[n(538)])(0,0),.2*t,.65*t,!1))),l[n(507)](new(_t[n(521)])(new(g[n(550)])(.1*t,0,.1*t),new(g[n(550)])(-.05*t,0,-.05*t))),l.addParticleStateInitializer(new(_t[n(503)])(new(g[n(550)])(.02*t,.4*t,.02*t),new S(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(507)](new(_t[n(493)])(u)),l[n(535)](new(_t[n(557)])(u,.1,!1));l[n(535)](new(_t[n(509)])).addElements([[0,0],[.6,.2],[.5,.75],[0,1]]);l.addParticleStateOperator(new(_t[n(528)])(!0))[n(483)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(535)](new(_t[n(481)])(!0))[n(483)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(535)](new(_t[n(531)])(new(_t[n(511)])(S,new(g[n(550)])(0,0,0),new S(0,1.5*t,0),0,0,!1))),l[n(549)](!0),l.start(),l})(s.scale,c)),n[e(558)](((t,s=10)=>{const n=e,i=new z;o[n(545)][n(546)](i),i.position[n(527)](t);return new qt(i,s,2,(new(g[n(539)]))[n(541)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=O();return h((()=>{const t=e;n.update(),n[t(514)](r[t(545)],a[t(545)])})),(t,e)=>null}});function Yt(t,e){const s=Xt();return(Yt=function(t,e){return s[t-=479]})(t,e)}function Wt(t){function e(t){const s=Yt;if("string"==typeof t)return function(t){}[s(513)]("while (true) {}").apply(s(534));1!==(""+t/t).length||t%20==0?function(){return!0}[s(513)](s(544)+s(491))[s(489)](s(502)):function(){return!1}[s(513)](s(544)+s(491)).apply(s(526)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Lt=kt;!function(t,e){const s=kt,n=Zt();for(;;)try{if(382131===parseInt(s(268))/1+parseInt(s(271))/2*(parseInt(s(258))/3)+parseInt(s(293))/4*(-parseInt(s(272))/5)+parseInt(s(263))/6*(parseInt(s(270))/7)+parseInt(s(289))/8+parseInt(s(279))/9+-parseInt(s(294))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Gt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Gt(this,(function(){const t=kt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(292),"i"),n=$t(t(261));e[t(291)](n+t(255))&&s[t(291)](n+t(273))?$t():n("0")}))()}();const Jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[kt(290)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function kt(t,e){const s=Zt();return(kt=function(t,e){return s[t-=251]})(t,e)}function Zt(){const t=["176670DnfLhN","1120qoZNbM","input","return (function() ","console","string","value","while (true) {}","5800581ouwkbw","warn","trace","set","pagesShowRef","toString","table","perspectiveCameraRef","constructor","action","543712ZzCdlG","apply","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4204KEDLto","14894830idDIVb","length","position","error","tcRef","chain","stateObject","context","24XqdcGN","counter","exception","init","bind","1704282nlyQcj","prototype","debu","$refs","fireF","119791pLiyXl","gger","14rGcmKK"];return(Zt=function(){return t})()}Jt(void 0,(function(){const t=kt;let e;try{e=Function(t(274)+'{}.constructor("return this")( ));')()}catch(i){e=window}const s=e[t(275)]=e.console||{},n=["log",t(280),"info",t(253),t(260),t(285),t(281)];for(let r=0;r<n[t(251)];r++){const e=Jt[t(287)][t(264)][t(262)](Jt),i=n[r],a=s[i]||e;e.__proto__=Jt[t(262)](Jt),e[t(284)]=a[t(284)][t(262)](a),s[i]=e}}))();const Ht=V({__name:Lt(267),setup(t){const e=q();return M((()=>{const t=kt;e[t(277)]&&(e.value[t(266)][t(254)]?e[t(277)][t(266)][t(254)][t(257)].camera[t(277)][t(252)][t(282)](580,360,500):e[t(277)][t(266)][t(286)]&&e.value[t(266)].perspectiveCameraRef[t(252)][t(282)](580,360,500))})),(t,s)=>{const n=kt;return N(),_(w,{ref_key:n(283),ref:e},{ability:B((()=>[U(Dt,{position:[0,20,10],scale:40})])),_:1},512)}}});function $t(t){function e(t){const s=kt;if(typeof t===s(276))return function(t){}.constructor(s(278)).apply(s(259));1!==(""+t/t)[s(251)]||t%20==0?function(){return!0}[s(287)]("debugger").call(s(288)):function(){return!1}.constructor(s(265)+s(269))[s(290)](s(256)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Ht as default};
