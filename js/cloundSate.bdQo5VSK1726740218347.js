import{z as n,p as t,Y as e}from"./@tresjs.C5O8roW51726740218347.js";import{_ as o,V as r}from"./three.MbBECAu81726740218347.js";import{_ as i,n as c}from"./three-tile.rGySB-KI1726740218347.js";import{_ as s,s as a,a as u}from"./informationDiv.8NNrRaEl1726740218347.js";import{d as p,a4 as l,w as f,o as m,E as g,L as h,u as d,r as y,b as I,f as _,g as S,j as b,m as w,al as x,F as j,e as v,aj as M,ak as D}from"./@vue.JNsx1iN61726740218347.js";import{P as T}from"./tweakpane.yHWGBmom1726740218347.js";import"./@vueuse.18lbrd2F1726740218347.js";import"./@fesjs.Dr_-7VFL1726740218347.js";import"./vue-router.PDZMxRoR1726740218347.js";import"./lodash-es.kYt-_xTG1726740218347.js";import"./@qlin.yHhFDldE1726740218347.js";import"./pinia.WcGzyH851726740218347.js";import"./@floating-ui.BPbuo5Gx1726740218347.js";import"./@juggle.7yjBMqoW1726740218347.js";function F(n,t){const e=z();return(F=function(n,t){return e[n-=109]})(n,t)}function z(){const n=["rotateX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1461097DhNEBb","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","call","cloundSateShow","44632IMhazU","chain","1276115lQUxrg","562887MOdRYZ","action","TresPlaneGeometry","1141218pSVCjW","stateObject","trace","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","position-y","TresGroup","material","opacity","fragmentShader","replace","458kQnnNQ","length","debu","6elNxco","counter","color","applyMatrix4","warn","onBeforeCompile","vertexShader","setStyle","input","geo2pos","return (function() ","Color","info","matrix","map","apply","DoubleSide","gger","error","Texture","uniform sampler2D map;\n\t\t","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );","height","600pCYfQz","Vector3","20IymzUE","position","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","test","toString","189LuiSuP","6JMOJVk","constructor","24AOqMWg","needsUpdate","init","console","function *\\( *\\)","log","MeshPhongMaterial","\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","651892jhcnMY","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png","TresMesh","#include <displacementmap_vertex>","bind","string"];return(z=function(){return n})()}const E=F;!function(n,t){const e=F,o=z();for(;;)try{if(261887===-parseInt(e(145))/1*(parseInt(e(119))/2)+-parseInt(e(153))/3*(-parseInt(e(163))/4)+parseInt(e(177))/5*(parseInt(e(122))/6)+-parseInt(e(152))/7*(parseInt(e(175))/8)+parseInt(e(109))/9*(-parseInt(e(147))/10)+parseInt(e(171))/11*(parseInt(e(155))/12)+-parseInt(e(178))/13)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){G(this,(function(){const n=F,t=new RegExp(n(159)),e=new RegExp(n(170),"i"),o=R(n(157));t[n(150)](o+n(176))&&e[n(150)](o+n(130))?R():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(137)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=F;let t;try{t=Function(n(132)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(158)]=t[n(158)]||{},o=[n(160),n(126),n(134),n(140),"exception","table",n(111)];for(let i=0;i<o[n(120)];i++){const t=A[n(154)].prototype[n(167)](A),r=o[i],c=e[r]||t;t.__proto__=A[n(167)](A),t[n(151)]=c[n(151)][n(167)](c),e[r]=t}}))();const B=[E(148)],L=["scale",E(115),E(169),E(113)],k=[h(E(180),{args:[1,1,529,420]},null,-1)],C=p({__name:E(174),props:{map:{},height:{default:100},color:{default:"#cccccc"},opacity:{default:.6}},async setup(t){const e=E;let i,c;const s=t,a=new(o[e(161)])({displacementMap:new(o[e(141)]),transparent:!0,side:o[e(138)],opacity:s[e(116)],color:new(o[e(133)])(s[e(124)])});a[e(127)]=n=>{const t=e;n[t(128)]=t(142)+n[t(128)],n.vertexShader=n.vertexShader[t(118)](t(166),t(143)),n[t(117)]=n[t(117)][t(118)]("#include <alphamap_fragment>",t(162))};const u=s.map[e(131)](new(o[e(146)])(105,34,0));u[e(125)](s.map[e(135)]);const p=((n,t)=>{const i=e,c=s[i(136)][i(131)](new(o[i(146)])(n.x,n.y)),a=s[i(136)][i(131)](new r(t.x,t.y));return new r(a.x-c.x,a.y-c.y,s[i(144)])})({x:67,y:11},{x:140,y:57}),y=[e(172),e(164),e(112),e(149)];let I=0;const _=([i,c]=l((()=>n(y))),i=await i,c(),i);a.map=_[I],f((()=>[s[e(124)],s[e(116)]]),(([n,t])=>{const o=e;a[o(124)][o(129)](n),a.opacity=t}));let S=null,b=!1;return b?(clearInterval(S),S=null,b=!1):(S=setInterval((()=>{const n=F;I=I<y.length-1?I+1:0,a[n(136)]=_[I],a[n(156)]=!0,console[n(160)](I)}),1e3),b=!0),(n,t)=>{const o=e;return m(),g(o(114),{position:[...d(u)]},[h(o(165),{scale:[d(p).x,d(p).y,n[o(144)]],material:d(a),rotateX:-Math.PI/2,renderOrder:9999,"position-y":n[o(144)]/5},k,8,L)],8,B)}}});function R(n){function t(n){const e=F;if(typeof n===e(168))return function(n){}[e(154)]("while (true) {}")[e(137)](e(123));1!==(""+n/n)[e(120)]||n%20==0?function(){return!0}[e(154)](e(121)+e(139))[e(173)](e(179)):function(){return!1}[e(154)](e(121)+"gger")[e(137)](e(110)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=W;function V(){const n=["MapBoxSource","localToWorld","error","bind","prototype","function *\\( *\\)","4TCZJfs","mapbox.terrain-rgb","call","console","38RvTVPC","#cccccc","rotateX","opacity","debu","52239LctxqK","mapBoxShow2","TresDirectionalLight","15280749QUyYUx","__proto__","controlsEvents","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","target",'{}.constructor("return this")( )',"height","position","while (true) {}","gger","object","value","11626880gEdDIy","domElement","return (function() ","透明度","map","string","addBinding","stateObject","TileMap","3232536phtZBc","test","10YzYmPJ","primitive","21kuQHXg","pk.eyJ1IjoidG9tYWNoIiwiYSI6ImNrbnR6d3psMzA4YWgydnBzeGhrNW1mdDgifQ.zq6mWEop1OTBrQ24R0SdlA","3219250VQVIfA","tdLight","copy","apply","log","848646BlioTe","constructor","Vector3","plugin","table","geo2pos","26587231SdMKAL","length"];return(V=function(){return n})()}!function(n,t){const e=W,o=V();for(;;)try{if(979445===parseInt(e(157))/1*(-parseInt(e(152))/2)+parseInt(e(134))/3+parseInt(e(148))/4*(parseInt(e(129))/5)+-parseInt(e(182))/6*(parseInt(e(127))/7)+-parseInt(e(173))/8+parseInt(e(160))/9+parseInt(e(184))/10*(parseInt(e(140))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function W(n,t){const e=V();return(W=function(n,t){return e[n-=126]})(n,t)}!function(){q(this,(function(){const n=W,t=new RegExp(n(147)),e=new RegExp(n(163),"i"),o=Z("init");t[n(183)](o+"chain")&&e[n(183)](o+"input")?Z():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();N(void 0,(function(){const n=W,t=function(){const n=W;let t;try{t=Function(n(175)+n(166)+");")()}catch(e){t=window}return t}(),e=t[n(151)]=t[n(151)]||{},o=[n(133),"warn","info",n(144),"exception",n(138),"trace"];for(let r=0;r<o.length;r++){const t=N[n(135)][n(146)].bind(N),i=o[r],c=e[i]||t;t[n(161)]=N[n(145)](N),t.toString=c[n(164)].bind(c),e[i]=t}}))();const P=[O(171)],Y=O(128),Q=p({__name:O(158),setup(n){const e=O,u=y({height:500,color:e(153),opacity:.6}),p=new T({title:"参数"});p.addBinding(u,"color",{label:"颜色"}),p.addBinding(u,e(167),{label:"高度",min:10,max:5e3,step:10}),p[e(179)](u,e(155),{label:e(176),min:0,max:1,step:.1});const l=new(i[e(137)][e(142)])({token:Y,dataType:"terrain-rgb",style:e(149),maxLevel:15}),v=new(i[e(181)])({imgSource:[new c.GDSource({style:"6"}),new(i[e(137)].GDSource)({style:"8"})],demSource:l,lon0:90,minLevel:2,maxLevel:20});v[e(154)](-Math.PI/2);const M=new r(105,34,0),D=new(o[e(136)])(110,0,1e4),F=v[e(143)](v[e(139)](M)),z=v.localToWorld(v.geo2pos(D)),E=I(),{camera:G,controls:A,scene:B,renderer:L}=t();return G[e(172)]&&G.value.position[e(131)](z),f((()=>A[e(172)]),(n=>{const t=e;n&&(n.target[t(131)](F),s[t(162)](n,G[t(172)],B[t(172)]))})),f((()=>E.value),(n=>{const t=e;n&&n[t(165)][t(168)][t(131)](F)})),a(G[e(172)],L.value[e(174)],v),(n,t)=>{const o=e;return m(),g(j,null,[h(o(159),{ref_key:o(130),ref:E,position:[0,2e3,1e3],intensity:1},null,512),h(o(126),{object:d(v)},null,8,P),(m(),_(x,null,{default:S((()=>[b(C,w({map:d(v)},u),null,16,[o(177)])])),_:1}))],64)}}});function Z(n){function t(n){const e=W;if(typeof n===e(178))return function(n){}[e(135)](e(169))[e(132)]("counter");1!==(""+n/n)[e(141)]||n%20==0?function(){return!0}[e(135)](e(156)+e(170))[e(150)]("action"):function(){return!1}[e(135)](e(156)+e(170))[e(132)](e(180)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const U=nn;!function(n,t){const e=nn,o=$();for(;;)try{if(284074===parseInt(e(399))/1+parseInt(e(414))/2*(-parseInt(e(397))/3)+parseInt(e(393))/4*(parseInt(e(417))/5)+-parseInt(e(390))/6+-parseInt(e(424))/7+parseInt(e(430))/8+parseInt(e(427))/9*(parseInt(e(403))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[nn(396)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){J(this,(function(){const n=nn,t=new RegExp(n(405)),e=new RegExp(n(391),"i"),o=en(n(411));t[n(422)](o+n(401))&&e[n(422)](o+n(407))?en():o("0")}))()}();const X=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function $(){const n=["call","gger","apply","5613CxiyyL","info","315353kgibyD","warn","chain","log","70sbKVzi","highp","function *\\( *\\)","TresAmbientLight","input","cloundSate","table","bind","init","__proto__","counter","462CirGpb","string","length","10rqOFps","error","prototype","console","stateObject","test","while (true) {}","3779811TIdqnX","constructor","exception","750429doYIJo","trace","TresCanvas","3909352ZGphQF","TresPerspectiveCamera","2976450wqtMue","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","729268qfySXG"];return($=function(){return n})()}X(void 0,(function(){const n=nn;let t;try{t=Function(n(392)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(420)]=t[n(420)]||{},o=[n(402),n(400),n(398),n(418),n(426),n(409),n(428)];for(let i=0;i<o[n(416)];i++){const t=X[n(425)][n(419)].bind(X),r=o[i],c=e[r]||t;t[n(412)]=X[n(410)](X),t.toString=c.toString.bind(c),e[r]=t}}))();const H=h(U(431),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),K=h(U(406),{intensity:1},null,-1);function nn(n,t){const e=$();return(nn=function(n,t){return e[n-=390]})(n,t)}const tn=p({__name:U(408),setup(n){const t=U,o=y({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:t(404)}),r=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(n,i)=>{const c=v(t(429));return m(),g(j,null,[b(c,w(o,{"window-size":""}),{default:S((()=>[H,b(d(e),M(D(r)),null,16),K,b(Q)])),_:1},16),b(u)],64)}}});function en(n){function t(n){const e=nn;if(typeof n===e(415))return function(n){}[e(425)](e(423))[e(396)](e(413));1!==(""+n/n)[e(416)]||n%20==0?function(){return!0}[e(425)]("debu"+e(395))[e(394)]("action"):function(){return!1}[e(425)]("debu"+e(395))[e(396)](e(421)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{tn as default};
