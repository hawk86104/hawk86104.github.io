import{p as t,$ as n,W as e,d as r}from"./@tresjs.GO-cpSrO1723718122052.js";import{_ as o}from"./index._MzDSYsW1723718122052.js";import{a as s}from"./index.Zx65DVuD1723718122052.js";import{a6 as i,j as c,g as a,a as u,cA as l}from"./three.eXhPIzTa1723718122052.js";import{P as p}from"./tweakpane.yHWGBmom1723718122052.js";import{I as f,C as m,N as h,c as g,d,a as y}from"./three-mesh-bvh.WfZkfET01723718122052.js";import{d as j,a4 as w,b,a1 as v,o as I,D as _,J as x,u as M,F as T,r as A,e as z,j as O,g as C,m as k,f as R,al as S}from"./@vue.Q1VpS3901723718122052.js";import"./@vueuse.z522fCYR1723718122052.js";import"./index.ODjM4U391723718122052.js";import"./@fesjs.KgfPPsKU1723718122052.js";import"./vue-router.U0DG8FfS1723718122052.js";import"./lodash-es.nFpJXAf-1723718122052.js";import"./@qlin.yHhFDldE1723718122052.js";import"./pinia.p23gk2AF1723718122052.js";import"./@floating-ui.BPbuo5Gx1723718122052.js";import"./@juggle.7yjBMqoW1723718122052.js";import"./chalk.sAH7iSuz1723718122052.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1723718122052.js";import"./@iconify.9PoCakEb1723718122052.js";import"./utils.fbJwqm681723718122052.js";import"./default.vue_vue_type_script_setup_true_lang.ABK6YuE51723718122052.js";import"./three-mesh-ui.module.iFTgiil91723718122052.js";import"./three-stdlib.3hvj_pKp1723718122052.js";import"./@pmndrs.s9IQpSZs1723718122052.js";import"./object-hash.-AaPYX971723718122052.js";import"./@amap.r0EhX7fK1723718122052.js";import"./jszip.t8h7C5WV1723718122052.js";!function(t,n){const e=Y,r=B();for(;;)try{if(761995===-parseInt(e(194))/1*(parseInt(e(171))/2)+-parseInt(e(188))/3*(-parseInt(e(174))/4)+-parseInt(e(201))/5*(-parseInt(e(192))/6)+-parseInt(e(176))/7*(-parseInt(e(190))/8)+-parseInt(e(158))/9+parseInt(e(185))/10+parseInt(e(183))/11*(-parseInt(e(161))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(165)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=Y,n=new RegExp(t(203)),e=new RegExp(t(189),"i"),r=E("init");n[t(207)](r+t(200))&&e[t(207)](r+t(205))?E():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(165)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();U(void 0,(function(){const t=Y;let n;try{n=Function(t(198)+t(187)+");")()}catch(o){n=window}const e=n[t(181)]=n[t(181)]||{},r=[t(202),t(179),t(196),t(170),t(193),"table",t(197)];for(let s=0;s<r[t(173)];s++){const n=U[t(163)].prototype[t(184)](U),o=r[s],i=e[o]||n;n[t(204)]=U.bind(U),n[t(157)]=i[t(157)][t(184)](i),e[o]=n}}))();function Y(t,n){const e=B();return(Y=function(t,n){return e[t-=157]})(t,n)}function B(){const t=["function *\\( *\\)","__proto__","input","addEventListener","test","pointerdown","call","toString","5893209KTvDal","action","innerWidth","12vxjjHl","enabled","constructor","button","apply","clientY","string","clientX","counter","error","59102CbLrzx","gger","length","16180ntutpc","innerHeight","7PXTvai","stateObject","value","warn","pointerup","console","touch","21195273sPGJeu","bind","8186050VAVBxY","firstHitOnly",'{}.constructor("return this")( )',"867LKrlWf","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6727352VxTXDm","Raycaster","7877922CRpoml","exception","27TTWLvT","debu","info","trace","return (function() ","setFromCamera","chain","5nqxuUc","log"];return(B=function(){return t})()}function E(t){function n(t){const e=Y;if(typeof t===e(167))return function(t){}.constructor("while (true) {}")[e(165)](e(169));1!==(""+t/t)[e(173)]||t%20==0?function(){return!0}[e(163)](e(195)+e(172))[e(209)](e(159)):function(){return!1}.constructor(e(195)+e(172))[e(165)](e(177)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=X;!function(t,n){const e=X,r=L();for(;;)try{if(466274===parseInt(e(208))/1+-parseInt(e(270))/2+-parseInt(e(209))/3*(parseInt(e(277))/4)+parseInt(e(264))/5*(-parseInt(e(221))/6)+-parseInt(e(207))/7*(parseInt(e(200))/8)+-parseInt(e(192))/9*(-parseInt(e(271))/10)+parseInt(e(276))/11*(parseInt(e(245))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(){const t=["targetMesh","computeBoundsTree","__proto__","intersectsSphere","getX","102016DLRzlA","intersectObject","enabled","DynamicDrawUsage","Matrix4","init","normal","28bDHMai","689483GOwSHe","96891tPaGBS","visible","point","生成模型","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","BufferGeometry","input","setUsage","setX","TresSphereGeometry","call","6QvUMHO","getZ","copy","Vector3","scale","targetMesh.value init","TresMesh","material","getY","MeshStandardMaterial","warn","BufferAttribute","TresMeshStandardMaterial","toString","action","applyMatrix4","setY","index","fill","value","firstHitOnly","boundsTree","counter","controls","12ozYNZc","attributes","addButton","function *\\( *\\)","radius","geometry",'{}.constructor("return this")( )',"gger","color","constructor","setZ","trace","exception","count","prototype","active","setScalar","push","position","4197995NhMZbL","setAttribute","table","model","debu","log","1700090TuMPJZ","77260AMCSCk","disposeBoundsTree","containsPoint","Mesh","set","17685173wGtMaY","104UJFYix","test","raycast","bind","console","873MuWWNw","string","matrixWorld"];return(L=function(){return t})()}!function(){H(this,(function(){const t=X,n=new RegExp(t(248)),e=new RegExp(t(213),"i"),r=q(t(205));n[t(278)](r+"chain")&&e[t(278)](r+t(216))?q():r("0")}))()}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function X(t,n){const e=L();return(X=function(t,n){return e[t-=191]})(t,n)}P(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function("return (function() "+t(251)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(191)]||{},r=[t(269),t(231),"info","error",t(257),t(266),t(256)];for(let o=0;o<r.length;o++){const n=P.constructor.prototype.bind(P),s=r[o],i=e[s]||n;n[t(197)]=P[t(280)](P),n[t(234)]=i.toString[t(280)](i),e[s]=n}}))();const F=["geometry",G(228)],W=[x(G(219),{args:[1,40,40]},null,-1),x(G(233),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],D=[G(250)],J=[x("TresMeshStandardMaterial",{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],$=j({__name:G(267),props:{controls:{}},async setup(r){const o=G;let s,j;const A=r;(()=>{const t=X;i[t(215)][t(259)][t(196)]=g,i[t(215)][t(259)][t(272)]=d,i[t(274)][t(259)][t(279)]=y})();const z=([s,j]=w((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,j(),s),O=new(i[o(230)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),C=new Uint8Array(3*z.attributes[o(263)][o(258)]);C[o(239)](255);const k=new(i[o(232)])(C,3,!0);k[o(217)](i[o(203)]),z[o(265)](o(253),k);const R=b(null),S=b(null),Z=b(!1),U=b(-1),B=b(.2),E=new c,{camera:H,raycaster:L}=t(),P=15/255,$=78/255,q=85/255;let N=null;v((()=>{const t=o;R[t(240)]&&(console[t(269)](t(226),R[t(240)]),R[t(240)][t(250)][t(196)](),N=z[t(242)],((t,n,e,r,o,s)=>{const c=Y;window[c(206)]("pointermove",(e=>{const r=c;t.x=e[r(168)]/window[r(160)]*2-1,t.y=-e[r(166)]/window[r(175)]*2+1,n[r(178)]=!0})),window[c(206)](c(208),(a=>{const u=c;t.x=a[u(168)]/window[u(160)]*2-1,t.y=-a[u(166)]/window[u(175)]*2+1,r[u(178)]=a[u(164)];const l=new(i[u(191)]);l[u(199)](t,e.value),l[u(186)]=!0;const p=l.intersectObject(o[u(178)],!0);n[u(178)]=!0,s[u(162)]=0===p[u(173)]}),!0),window[c(206)](c(180),(t=>{const e=c;r[e(178)]=-1,t.pointerType===e(182)&&(n[e(178)]=!1)}),!0)})(E,Z,H,U,R,A[t(244)][t(240)]))}));const{onLoop:Q}=n();Q((()=>{const t=o,n=z[t(238)];if(S[t(240)])if(A.controls[t(240)][t(260)]||!Z[t(240)])S.value[t(210)]=!1;else{S[t(240)][t(225)][t(261)](B.value),L[t(240)].setFromCamera(E,H.value),L.value[t(241)]=!0;const e=L[t(240)][t(201)](R[t(240)],!0);if(e[t(214)]){S[t(240)][t(263)][t(223)](e[0][t(211)]),A[t(244)][t(240)][t(202)]=!1,S[t(240)].visible=!0;const r=new(i[t(204)]);r[t(223)](R.value[t(194)]).invert();const o=new a;o.center[t(223)](S[t(240)][t(263)])[t(236)](r),o[t(249)]=100*B[t(240)];const s=[],c=new(i[t(224)]);if(null==N||N.shapecast({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(275)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(273)](c))return f;return m}return r?f:h},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(198)](o)){const t=3*e;s[i(262)](t,t+1,t+2)}return!1}}),0===U.value||2===U[t(240)]){let e=1,r=1,o=1;0===U[t(240)]&&(e=P,r=$,o=q);for(let i=0,c=s[t(214)];i<c;i++){const c=n[t(199)](s[i]);k[t(218)](c,e),k[t(237)](c,r),k[t(255)](c,o)}k.needsUpdate=!0}}else S[t(240)][t(210)]=!1,A[t(244)][t(240)][t(202)]=!0}}));const V=(new p)[o(247)]({title:"点击按钮",label:o(212)}),K=new(i[o(215)]);return V.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<k.count;o++)k[t(199)](o)===P&&k.getY(o)===$&&k[t(222)](o)===q&&(n[t(262)](z[t(246)][t(263)][t(199)](o),z[t(246)][t(263)][t(229)](o),z[t(246)][t(263)][t(222)](o)),e.push(z[t(246)].normal[t(199)](o),z[t(246)][t(206)][t(229)](o),z[t(246)][t(206)][t(222)](o)));const r=new Float32Array(n);K[t(265)]("position",new u(r,3)),K[t(265)]("normal",new(i[t(232)])(r,3))})),(t,n)=>{const e=o;return I(),_(T,null,[x(e(227),{ref_key:e(195),ref:R,geometry:M(z),scale:.005,material:M(O)},null,8,F),x("TresMesh",{ref_key:"brushMesh",ref:S,visible:!1},W,512),x("TresMesh",{geometry:M(K),position:[-2,-2,2],scale:.005},J,8,D)],64)}}});function q(t){function n(t){const e=X;if(typeof t===e(193))return function(t){}[e(254)]("while (true) {}").apply(e(243));1!==(""+t/t).length||t%20==0?function(){return!0}[e(254)](e(268)+e(252))[e(220)](e(235)):function(){return!1}[e(254)](e(268)+e(252)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=V;function Q(){const t=["debu","console","387JXGQaR","pos-z.jpg","24Pjyygy",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","50281MGAMcj","243235mZAgCG","while (true) {}","TresAmbientLight","208ufOjQl","action","value","neg-y.jpg","call","string","return (function() ","pos-x.jpg","warn","4581aJOyNf","#999999","17746OYcWgM","1067456xgUnQU","info","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","apply","prototype","gger","toString","11UOPYxL","60qvgEXt","bind","test","neg-z.jpg","1914154KtEOyT","neg-x.jpg","stateObject","1860oUHcQt","function *\\( *\\)","6140Hvuqnx","length","counter","input","constructor","table","controls"];return(Q=function(){return t})()}function V(t,n){const e=Q();return(V=function(t,n){return e[t-=239]})(t,n)}!function(t,n){const e=V,r=Q();for(;;)try{if(161576===-parseInt(e(277))/1*(-parseInt(e(269))/2)+-parseInt(e(249))/3*(-parseInt(e(240))/4)+-parseInt(e(255))/5*(-parseInt(e(251))/6)+-parseInt(e(254))/7*(parseInt(e(258))/8)+parseInt(e(267))/9*(parseInt(e(285))/10)+parseInt(e(282))/11+-parseInt(e(278))/12*(parseInt(e(270))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(273)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=V,n=new RegExp(t(239)),e=new RegExp(t(253),"i"),r=ot("init");n.test(r+"chain")&&e[t(280)](r+t(243))?ot():r("0")}))()}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(273)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();tt(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(264)+t(252)+");")()}catch(e){n=window}return n}(),e=n[t(248)]=n[t(248)]||{},r=["log",t(266),t(271),"error","exception",t(245),"trace"];for(let o=0;o<r.length;o++){const n=tt[t(244)][t(274)].bind(tt),s=r[o],i=e[s]||n;n.__proto__=tt[t(279)](tt),n[t(276)]=i[t(276)].bind(i),e[s]=n}}))();const nt=x("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),et=x(N(257),{intensity:1},null,-1),rt=j({__name:"collectTriangles",setup(t){const n=N,e=A({clearColor:n(268),antialias:!0}),i=A({autoRotate:!1}),c=b(null);return(t,a)=>{const u=n,l=z("TresCanvas");return I(),_(T,null,[O(M(o)),O(l,k(e,{"window-size":""}),{default:C((()=>[nt,O(M(r),k({ref_key:"controlsRef",ref:c},i),null,16),et,(I(),R(S,null,{default:C((()=>[O($,{controls:c[u(260)]},null,8,[u(246)])])),_:1})),(I(),R(S,null,{default:C((()=>[O(M(s),{background:!1,files:[u(265),u(283),"pos-y.jpg",u(261),u(250),u(281)],path:u(272)})])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=V;if(typeof t===e(263))return function(t){}[e(244)](e(256))[e(273)](e(242));1!==(""+t/t)[e(241)]||t%20==0?function(){return!0}[e(244)](e(247)+e(275))[e(262)](e(259)):function(){return!1}[e(244)](e(247)+e(275)).apply(e(284)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
