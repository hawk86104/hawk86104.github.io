var t,e,s,n,i,r,a,o,c,h,l,u,p,f,m=Object.defineProperty,d=(t,e,s)=>(((t,e,s)=>{e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as w}from"./pagesShow.vue_vue_type_script_setup_true_lang.5K_nrXAQ1742436572432.js";import{_ as g,b as S,C as y,M as v,B as x,X as I,a2 as P,aX as A,ar as z,V as T,an as b}from"./three.RUAk_tvU1742436572432.js";import{m as F,e as E}from"./@tresjs.Uh9iM8du1742436572432.js";import{d as R,b as O,a2 as q,o as C,f as V,g as M,j as N}from"./@vue.deO5D3Lf1742436572432.js";import"./three-custom-shader-material.BcjKDN_X1742436572432.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1742436572432.js";import"./postprocessing.5QD_59xS1742436572432.js";import"./@vueuse.F4UpVCIS1742436572432.js";const _=tt;!function(t,e){const s=tt,n=Mt();for(;;)try{if(930378===-parseInt(s(379))/1*(-parseInt(s(489))/2)+parseInt(s(484))/3*(parseInt(s(653))/4)+parseInt(s(632))/5+-parseInt(s(834))/6+-parseInt(s(572))/7+parseInt(s(471))/8+-parseInt(s(847))/9*(-parseInt(s(853))/10))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const B=class{constructor(t){this.name=t}};t=_(696),e=_(526),d(B,t,new B("Time")),d(B,e,new B("Sequence"));let U=B;class X{constructor(){this[_(573)]()}[_(573)](){const t=_;this[t(759)]=U[t(696)],this[t(690)]=1,this[t(368)]=0,this[t(396)]=new(g[t(491)]),this[t(639)]=new(g[t(497)]),this[t(689)]=new S,this[t(529)]=new(g[t(497)]),this[t(451)]=new(g[t(497)]),this.rotation=0,this.rotationalSpeed=0,this.size=new(g[t(616)]),this.color=new(g[t(739)]),this[t(419)]=1,this.initialSize=new(g[t(616)]),this[t(552)]=new y,this.initialAlpha=1}[_(477)](t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d){const w=_;this.progressType=t,this[w(690)]=e,this[w(368)]=s,this.sequenceElement[w(429)](n),this[w(639)][w(429)](i),this.velocity[w(429)](r),this.acceleration[w(429)](a),this.normal[w(429)](o),this[w(841)]=c,this[w(742)]=h,this[w(646)]=l,this[w(746)].copy(u),this[w(419)]=p,this[w(467)][w(429)](f),this[w(552)][w(429)](m),this.initialAlpha=d}[_(765)](t){const e=_;t[e(477)](this.progressType,this[e(690)],this.age,this.sequenceElement,this[e(639)],this[e(689)],this[e(529)],this.normal,this[e(841)],this[e(742)],this.size,this[e(746)],this[e(419)],this[e(467)],this[e(552)],this[e(788)])}copy(t){const e=_;this[e(477)](t[e(759)],t[e(690)],t[e(368)],t[e(396)],t[e(639)],t[e(689)],t[e(529)],t[e(451)],t[e(841)],t[e(742)],t[e(646)],t[e(746)],t[e(419)],t.initialSize,t[e(552)],t[e(788)])}}class j{constructor(){d(this,s,function(){const t=_,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[tt(796)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=tt;let s;try{s=Function(t(787)+t(585)+");")()}catch(r){s=window}const n=s[t(792)]=s[t(792)]||{},i=["log",t(453),t(776),t(506),t(516),t(793),t(698)];for(let a=0;a<i[t(737)];a++){const s=e[t(531)][t(582)][t(702)](e),r=i[a],o=n[r]||s;s[t(535)]=e[t(702)](e),s[t(661)]=o[t(661)].bind(o),n[r]=s}}))();const s=new(g[t(497)]);return function(e=new(g[t(575)]),n=null){const i=t,r=e[i(539)],a=e[i(825)];for(let t=0;t<this[i(720)];t++){const e=this.getState(t);let o=e[i(639)];n&&(s[i(429)](o),s.applyMatrix4(n),o=s);const c=Math.max(e[i(646)].x,e[i(646)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,f=o.z-c,m=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=f),(0==t||o.z>a.z)&&(a.z=m)}return e}}()),d(this,n,function(){const t=_,e=new(g[t(497)]),s=new S,n=new(g[t(497)]);return function(i=new(g[t(643)]),r=null){const a=t;let o=0;for(let t=0;t<this[a(720)];t++){const i=this.getState(t);let c=i[a(639)];r&&(n[a(429)](c),n[a(669)](r),c=n);const h=Math[a(825)](i[a(646)].x,i[a(646)].y);if(0==t)e[a(429)](c),o=h;else{s[a(429)](c)[a(800)](e);const t=s[a(737)]()+h;if(t>o){const n=(t-o)/2;s.normalize()[a(583)](n),e[a(558)](s),o+=n}}}return i.center.copy(e),i[a(824)]=o,i}}());const t=_;this.particleCount=0,this[t(720)]=0,this.particleStates=[]}init(t){this[_(470)](t)}setParticleCount(t){const e=_;this[e(681)]!=t&&(this[e(666)](),this[e(783)](t)),this[e(681)]=t}setActiveParticleCount(t){this[_(720)]=t}[_(783)](t){const e=_;this[e(480)]=[],this.particleCount=t;for(let s=0;s<t;s++)this[e(480)][s]=new X}dispose(){}getParticleCount(){return this[_(681)]}[_(828)](){}[_(713)](t,e){const s=_;if(t>=this[s(681)])throw new Error('ParticleStateArray::copyState() -> "srcIndex" is out of range.');if(e>=this[s(681)])throw new Error(s(714));const n=this[s(480)][t],i=this.particleStates[e];n[s(765)](i)}[_(745)](t,e){const s=_;if(t>=this.particleCount)throw new Error(s(540));return this[s(480)][t].copy(e)}[_(538)](t){const e=_;if(t>=this[e(681)])throw new Error(e(601));return this[e(480)][t]}}s=_(482),n=_(727);class D{constructor(t,e,s=0){this.start=t,this.length=e,this.id=s}}class W{constructor(){const t=_;this.sequences={},this[t(749)]=[]}[_(553)](t,e,s){const n=_;if(this[n(637)](s))throw new Error(n(388));const i=new D(t,e,s);return this.sequences[s]=i,this.ids[n(446)](s),i}[_(738)](t){const e=_;if(!this[e(637)](t))throw new Error(e(402));return this.sequences[t]}[_(571)](){return this.ids}[_(637)](t){return!!this.sequences[t]}}class Y{constructor(){}[_(770)](t){const e=_;t[e(552)].set(1,1,1),t[e(467)].set(1,1),t[e(788)]=1,t[e(759)]=U[e(696)],t[e(690)]=0,t[e(368)]=0,t.sequenceElement[e(756)](0,0,0,0),t.position[e(756)](0,0,0),t[e(689)][e(756)](0,0,0),t[e(529)][e(756)](0,0,0),t.normal[e(756)](0,0,1),t[e(841)]=0,t[e(742)]=0,t[e(646)][e(429)](t[e(467)]),t[e(746)][e(429)](t[e(552)]),t[e(419)]=1}}class J extends Y{constructor(){super()}[_(770)](t){super.initializeState(t)}}class Z{constructor(){}updateState(){}}class k extends Z{constructor(){const t=_;super(),this.timeScaledVelocity=new(g[t(497)]),this[t(813)]=new(g[t(497)]),this[t(789)]=new(g[t(497)]),this[t(367)]=new(g[t(497)])}[_(528)](t,e){const s=_;return super[s(528)](t,e),this[s(789)][s(429)](t[s(529)]),this[s(813)].copy(this[s(789)]),this[s(813)].multiplyScalar(e),t[s(689)][s(558)](this[s(813)]),this[s(367)][s(429)](t.velocity),this.timeScaledVelocity[s(429)](this[s(367)]),this[s(409)][s(583)](e),t[s(639)][s(558)](this[s(409)]),t[s(368)]=t.age+e,t[s(841)]=t[s(841)]+e*t.rotationalSpeed,!0}}class G{static clamp(t,e,s){return Math[_(539)](Math.max(t,e),s)}static[_(732)](){return performance[_(593)]()/1e3}}class L{constructor(){this[_(487)]=[]}addComponent(t){const e=_;this.components[e(446)](t)}update(t,e){for(const s of this.components)s.update(t,e)}[_(797)](t){const e=_;if(t>=this[e(487)][e(737)])throw new Error('ComponentContainer::getComponent() -> "index" is out of range.');return this[e(487)][t]}}const H=class{constructor(t){this[_(584)]=t}};i=_(581),r=_(508),a=_(712),d(H,i,new H(_(581))),d(H,r,new H(_(508))),d(H,a,new H(_(712))),d(H,"Done",new H(_(676)));let $=H;class Q{constructor(t,e){d(this,o,function(){const t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[tt(796)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){t(this,(function(){const t=tt,e=new RegExp(t(683)),s=new RegExp(t(578),"i"),n=Vt("init");e[t(550)](n+t(699))&&s.test(n+"input")?Vt():n("0")}))()}();const e=new v;return function(){const t=tt;let s=null;this[t(439)]&&(s=e,s[t(429)](this[t(631)][t(415)]).invert()),this[t(706)].calculatingBoundingSphereFromBox()?(this[t(480)].computeBoundingBox(this[t(387)],s),this[t(706)].setBoundingBox(this[t(387)])):(this[t(480)][t(727)](this[t(832)],s),this[t(706)].setBoundingSphere(this[t(832)]))}}());const s=_;this[s(631)]=t,this.owner.visible=!1,this[s(591)]=!0,this[s(706)]=e,this[s(422)]=!1,this[s(791)]=0,this[s(720)]=0,this[s(839)]=!0,this[s(454)]=!1,this[s(677)]=null,this[s(459)]=new L,this.particleStateInitializers=[],this.particleStateOperators=[],this.particleStates=null,this[s(723)]=$[s(581)],this[s(781)]=new W,this[s(613)]=null,this.transformInitialDirectionInWorldSpace=!0,this[s(387)]=new(g[s(575)]),this[s(832)]=new(g[s(643)])}[_(573)](t){const e=_;if(this[e(422)])throw new Error(e(372));this[e(791)]=t,this[e(706)]?(this[e(706)][e(785)](this[e(631)]),this[e(706)][e(573)](this.maximumActiveParticles,this[e(839)]),this[e(706)][e(753)](this[e(839)]),this[e(480)]=this.particleSystemRenderer.getParticleStateArray()):(this[e(480)]=new j,this[e(480)].init(this[e(791)])),this[e(375)](new J),this.addParticleStateOperator(new k),this[e(422)]=!0}[_(843)](){return this[_(591)]}[_(778)](t){return this[_(591)]=t}[_(670)](t){this.onUpdateCallback=t}[_(594)](t,e){const s=_;if(this[s(723)]==$[s(508)]){if(this[s(631)].updateWorldMatrix(!0),t=null==t||null==t?G[s(732)]():t,e=null==e||null==e?t-this[s(496)]:e,this[s(454)]&&this.systemState==$[s(508)]){const t=this[s(677)][s(594)](e);t>0&&this[s(469)](t),this[s(564)](e),this.onUpdateCallback&&this.onUpdateCallback(this[s(720)]),this[s(493)]()}this[s(459)][s(594)](t,e),this[s(496)]=t}}[_(563)](t,e){const s=_;if(this[s(843)]()&&this[s(706)]){const n=t.autoClear;t[s(648)]=!1,this[s(631)].visible=!0,this.owner[s(407)]=!0,this[s(706)][s(563)](this[s(631)],t,e),this[s(631)].visible=!1,t[s(648)]=n}}[_(707)](){const t=_;this[t(723)]!=$[t(581)]&&this.systemState!=$.Paused||(this[t(723)]=$.Running,this[t(804)]=G[t(732)](),this.lastUpdateTime=this[t(804)])}[_(658)](){const t=_;this[t(723)]==$[t(508)]&&(this[t(723)]=$.Paused)}stop(){}[_(377)](){return this[_(723)]}setEmitter(t){const e=_;return this[e(677)]=t,this.particleEmitter[e(791)]=this[e(791)],this[e(454)]=!0,this[e(677)]}addComponent(t){const e=_;this.componentContainer[e(456)](t)}getComponent(t){return this[_(459)].getComponent(t)}[_(375)](t){const e=_;return this[e(371)][e(446)](t),t}[_(502)](){const t=_;return this[t(371)][t(737)]}getParticleStateInitializer(t){const e=_;if(t>=this[e(371)][e(737)])throw new Error(e(628));return this[e(371)][t]}[_(597)](t){const e=_;return this[e(466)][e(446)](t),t}[_(846)](){return this.particleStateOperators.length}[_(840)](t){const e=_;if(t>=this[e(466)][e(737)])throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this.particleStateOperators[t]}[_(842)](){return this[_(791)]}[_(627)](){return this[_(720)]}[_(599)](t){const e=_;if(t>=this[e(720)])throw new Error(e(779));return this[e(480)].getState(t)}[_(814)](){return this[_(480)]}[_(403)](){return this[_(706)]}getSimulateInWorldSpace(){return this[_(839)]}setSimulateInWorldSpace(t){const e=_;this[e(839)]=t,this[e(706)]&&this[e(706)][e(753)](this[e(839)])}[_(383)](t){this[_(439)]=t}[_(810)](t,e,s=0){this[_(781)].addSequence(t,e,s)}getParticleSequences(){return this.particleSequences}[_(622)](){return this[_(677)]}[(o=_(493),_(469))](t){const e=_;if(this[e(723)]==$.Running){const s=G.clamp(this[e(720)]+t,0,this[e(791)]);for(let t=this[e(720)];t<s;t++)this[e(635)](t);this[e(720)]=s,this[e(480)][e(449)](this.activeParticleCount)}}[_(635)](t){const e=_;if(this[e(723)]==$[e(508)]){const s=this.particleStates[e(538)](t);s[e(368)]=0;for(let t=0;t<this.particleStateInitializers[e(737)];t++){this[e(371)][t].initializeState(s)}if(this[e(839)]){s[e(639)][e(669)](this.owner[e(415)]);const t=s[e(689)].length();if(this[e(439)]){s[e(689)].transformDirection(this.owner[e(415)])[e(583)](t);const n=s.acceleration.length();s.acceleration[e(709)](this[e(631)].matrixWorld)[e(583)](n)}}this[e(480)][e(828)](t)}}advanceActiveParticles(t){const e=_;if(this[e(723)]==$[e(508)]){let s=0;for(;s<this[e(720)];){this.advanceActiveParticle(s,t)?s++:(s<this.activeParticleCount-1&&this[e(764)](this[e(720)]-1,s),this[e(720)]--)}this[e(480)][e(449)](this[e(720)])}}[_(771)](t,e){const s=_;if(this[s(723)]==$.Running){const n=this[s(480)][s(538)](t);for(let t=0;t<this[s(466)][s(737)];t++){const i=this[s(466)][t][s(528)](n,e),r=n[s(690)];if(!i||0!=r&&n[s(368)]>=r)return!1}return this.particleStates[s(828)](t),!0}return!1}[_(764)](t,e){const s=_;this[s(480)][s(713)](t,e),this[s(480)][s(828)](e)}static[_(619)](t,e,s){const n=_,i=(t,e,s)=>{const n=tt;e(t);for(const r in t)if(t[n(852)](r)){const s=t[r];"object"==typeof s&&i(s,e)}};i(t,(t=>{const s=tt;t.type&&(t[s(567)]=e[s(542)](t[s(567)]))}));const r=t[n(663)],a=t.simulateInWorldSpace,o=t[n(786)],c=o.type.fromJSON(o[n(423)]),h=new(g[n(607)]),l=new Q(h,c,s);l[n(573)](r),l.setSimulateInWorldSpace(a);const u=t.emitter,p=u[n(567)][n(619)](u[n(423)]);if(l[n(425)](p),t.sequences)for(const f of t[n(405)])l[n(810)](f[n(707)],f.length,f.id);if(t[n(596)])for(const f of t[n(596)])l[n(375)](f[n(567)].fromJSON(l,f[n(423)]));if(t[n(455)])for(const f of t[n(455)]){const t=l[n(597)](f[n(567)][n(619)](l,f[n(423)]));f.elements&&t[n(782)](f[n(733)])}return[l,h]}[_(750)](t){const e=_,s=this.getParticleSystemRenderer(),n=this[e(622)](),i=this.getParticleSequences(),r=i[e(571)]().map((t=>{const s=e,n=i[s(738)](t);return{id:t,start:n[s(707)],length:n.length}})),a=[],o=this.getParticleStateInitializerCount();for(let l=0;l<o;l++){const s=this[e(679)](l);s[e(531)]!==J&&a[e(446)]({type:t[e(536)](s.constructor),params:s.toJSON(t)})}const c=[],h=this[e(846)]();for(let l=0;l<h;l++){const s=this[e(840)](l);if(s[e(531)]!==k){const n=s.toJSON(t),i=n.params||n,r=n[e(423)]?n[e(733)]:null,a={type:t.getTypePath(s[e(531)]),params:i};r&&(a[e(733)]=r),c[e(446)](a)}}return{maxParticleCount:this.getMaximumActiveParticles(),simulateInWorldSpace:this[e(481)](),renderer:{type:t[e(536)](s[e(531)]),params:s[e(750)]()},emitter:{type:t.getTypePath(n.constructor),params:n[e(750)]()},sequences:r,initializers:a,operators:c}}}class K{constructor(){const t=_;this[t(664)]=[],this[t(441)]=performance.now()/1e3,this[t(496)]=this.startupTime,this[t(459)]=new L}update(){const t=_,e=G[t(732)](),s=e-this.lastUpdateTime;for(const n of this[t(664)])n[t(594)](e,s);this[t(459)][t(594)](e,s),this[t(496)]=e}[_(563)](t,e){const s=_;for(const n of this.particleSystems)n[s(563)](t,e)}[_(728)](t){const e=_;this[e(664)][e(446)](t)}[_(456)](t){this[_(459)].addComponent(t)}[_(797)](t){const e=_;return this[e(459)][e(797)](t)}}function tt(t,e){const s=Mt();return(tt=function(t,e){return s[t-=366]})(t,e)}class et{constructor(){const t=_;this.initialized=!1,this.particleCount=0,this[t(631)]=null,this.simulateInWorldSpace=!1}[_(753)](t){this.simulateInWorldSpace=t}[_(435)](){}[_(785)](t){this.owner=t}[_(573)](t){const e=_;if(this[e(681)]=t,!this[e(422)])return this[e(422)]=!0,!0;throw new Error("Renderer::init() -> trying to intialize more than once.")}render(){}}class st extends j{constructor(){const t=_;super(),this.geometry=null,this[t(374)]=null,this.lifetimes=null,this[t(386)]=null,this.sequenceElements=null,this[t(494)]=null,this.velocities=null,this[t(835)]=null,this[t(686)]=null,this[t(595)]=null,this[t(784)]=null,this[t(421)]=null,this[t(758)]=null,this[t(448)]=null,this[t(521)]=null,this[t(811)]=!1,this[t(741)]=6}init(t,e=!1){const s=_;this[s(811)]=e,this.instanced?this[s(741)]=1:this.verticesPerParticle=6,super[s(573)](t),this.allocate(t)}setParticleCount(t){super[_(470)](t)}[_(449)](t){const e=_;super[e(449)](t),t>0?this[e(811)]?this[e(767)][e(611)]=t:this.geometry.setDrawRange(0,this[e(741)]*t):this.instanced?this.geometry.instanceCount=0:this.geometry.setDrawRange(0,0)}[_(828)](t){const e=_;if(t>=this[e(681)])throw new Error(e(821));const s=this.getState(t),n=t*this[e(741)];for(let i=0;i<this[e(741)];i++)this[e(807)][e(656)](n+i,s[e(690)]),this[e(807)][e(501)]=!0,this[e(386)][e(656)](n+i,s.age),this[e(386)].needsUpdate=!0,this[e(687)][e(806)](n+i,s[e(396)].x,s[e(396)].y,s[e(396)].z,s.sequenceElement.w),this[e(687)][e(501)]=!0,this[e(494)].setXYZ(n+i,s[e(639)].x,s.position.y,s[e(639)].z),this[e(494)][e(501)]=!0,this[e(816)].setXYZ(n+i,s[e(689)].x,s[e(689)].y,s[e(689)].z),this[e(816)].needsUpdate=!0,this.accelerations[e(510)](n+i,s[e(529)].x,s[e(529)].y,s[e(529)].z),this[e(835)][e(501)]=!0,this.normals[e(510)](n+i,s[e(451)].x,s.normal.y,s.normal.z),this.normals[e(501)]=!0,this.rotations[e(656)](n+i,s[e(841)]),this.rotations[e(501)]=!0,this[e(784)].setX(n+i,s[e(742)]),this[e(784)][e(501)]=!0,this[e(421)][e(406)](n+i,s[e(646)].x,s[e(646)].y),this.sizes.needsUpdate=!0,this[e(758)].setXYZ(n+i,s.color.r,s[e(746)].g,s[e(746)].b),this.colors[e(501)]=!0,this[e(674)].setX(n+i,s[e(419)]),this.alphas[e(501)]=!0,this[e(448)][e(406)](n+i,s[e(467)].x,s[e(467)].y),this[e(448)][e(501)]=!0,this[e(736)][e(656)](n+i,s.initialAlpha),this[e(736)][e(501)]=!0}copyState(t,e){const s=_;super[s(713)](t,e),this[s(828)](e)}[_(745)](t,e){const s=_;if(t>=this[s(681)])throw new Error(s(651));super[s(745)](t,e),this[s(828)](t)}[_(587)](){return this.positions}getSizes(){return this[_(421)]}getRotations(){return this[_(595)]}[_(655)](){return this[_(687)]}[_(644)](){return this[_(758)]}getGeometry(){return this[_(767)]}[_(783)](t){const e=_;super[e(783)](t);const s=(t,s)=>{const n=e;return this.instanced?new(g[n(498)])(t,s):new(g[n(576)])(t,s)},n=this.verticesPerParticle*this[e(681)];if(this.instanced){const t=new x,s=new Float32Array(18);this[e(410)]=new(g[e(576)])(s,3),t[e(486)](e(639),this[e(410)]),this[e(410)].needsUpdate=!0,this[e(410)][e(510)](0,-1,1,0),this[e(410)].setXYZ(1,-1,-1,0),this[e(410)][e(510)](2,1,1,0),this.basePositions[e(510)](3,-1,-1,0),this[e(410)].setXYZ(4,1,-1,0),this[e(410)][e(510)](5,1,1,0);const n=new Float32Array(12);this[e(394)]=new(g[e(576)])(n,2),t[e(486)](e(504),this[e(394)]),this[e(394)].needsUpdate=!0,this[e(394)][e(406)](0,0,1),this[e(394)].setXY(1,0,0),this[e(394)][e(406)](2,1,1),this[e(394)][e(406)](3,0,0),this[e(394)][e(406)](4,1,0),this[e(394)].setXY(5,1,1);const i=new Float32Array(6);this[e(548)]=new(g[e(576)])(i,1),t.setAttribute(e(744),this[e(548)]),this[e(548)][e(501)]=!0,this[e(548)][e(656)](0,0),this[e(548)][e(656)](1,1),this[e(548)].setX(2,3),this[e(548)].setX(3,1),this[e(548)][e(656)](4,2),this[e(548)][e(656)](5,3),this[e(767)]=(new(g[e(688)]))[e(429)](t),this[e(767)][e(611)]=0}else{this[e(767)]=new x;const t=new Float32Array(n);this[e(548)]=new(g[e(576)])(t,1),this[e(767)][e(486)](e(744),this[e(548)]),this[e(548)][e(501)]=!0;for(let s=0;s<this[e(681)];s++){const t=s*this[e(741)];this[e(548)].setX(t,0),this[e(548)][e(656)](t+1,1),this[e(548)][e(656)](t+2,3),this[e(548)][e(656)](t+3,1),this[e(548)][e(656)](t+4,2),this.customIndexes.setX(t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),f=new Float32Array(2*n),m=new Float32Array(3*n),d=new Float32Array(n),w=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(494)]=s(o,3),this.positions[e(719)](g[e(768)]),this[e(767)][e(486)](e(743),this[e(494)]),this[e(807)]=s(i,1),this[e(807)][e(719)](g[e(768)]),this.geometry.setAttribute(e(690),this[e(807)]),this[e(386)]=s(r,1),this[e(386)][e(719)](g[e(768)]),this[e(767)].setAttribute(e(368),this[e(386)]),this.sequenceElements=s(a,4),this[e(687)].setUsage(I),this[e(767)][e(486)](e(396),this[e(687)]),this.velocities=s(c,3),this[e(816)][e(719)](g[e(768)]),this[e(767)][e(486)]("velocity",this[e(816)]),this[e(835)]=s(h,3),this[e(835)].setUsage(g[e(768)]),this.geometry.setAttribute("acceleration",this[e(835)]),this[e(686)]=s(l,3),this.normals[e(719)](g[e(768)]),this.geometry[e(486)]("normal",this[e(686)]),this.rotations=s(u,1),this[e(595)][e(719)](g[e(768)]),this[e(767)][e(486)](e(841),this[e(595)]),this[e(784)]=s(p,1),this[e(784)][e(719)](g[e(768)]),this[e(767)][e(486)]("rotationalSpeed",this[e(784)]),this[e(421)]=s(f,2),this[e(421)].setUsage(g[e(768)]),this[e(767)].setAttribute(e(646),this.sizes),this[e(758)]=s(m,3),this[e(758)].setUsage(g[e(768)]),this[e(767)][e(486)](e(746),this[e(758)]),this[e(674)]=s(d,1),this[e(674)][e(719)](I),this[e(767)][e(486)]("alpha",this.alphas),this[e(448)]=s(w,2),this[e(448)][e(719)](g[e(768)]),this[e(767)][e(486)](e(467),this[e(448)]),this.initialColors=s(S,3),this.initialColors[e(719)](g[e(768)]),this.geometry[e(486)](e(552),this.initialColors),this[e(736)]=s(y,1),this.initialAlphas.setUsage(g[e(768)]),this[e(767)].setAttribute(e(788),this[e(736)])}[_(666)](){const t=_;super[t(666)](),this[t(767)]&&(this[t(767)][t(666)](),this[t(767)]=null)}}class nt{constructor(t,e,s,n,i){const r=_;this[r(737)]=t,this.x=e,this.y=s,this[r(620)]=n,this.height=i}}class it{constructor(t,e){const s=_;this[s(703)]=t,this[s(547)]=e,this[s(773)]=[]}[_(524)](){return this[_(703)]}[_(603)](){return this[_(547)]}[_(762)](){const t=_;return this[t(773)][t(737)]}[_(726)](t,e,s,n,i){const r=_;this[r(773)][r(446)](new nt(t,e,s,n,i))}[_(659)](t){const e=_;if(t>=this.frameSets.length)throw new Error(e(384));return this[e(773)][t]}}const rt=class t extends et{constructor(t,e,s=!1,n=g[_(697)],i=!0,r){const a=_;super(),d(this,"updateMeshBounds",function(){const t=_,e=new(g[t(497)]);return function(){const s=t,n=this[s(392)][s(395)]();if(this[s(831)]){n[s(387)]||(n[s(387)]=new(g[s(575)])),n[s(387)].copy(this[s(387)]),!n[s(832)]&&(n[s(832)]=new(g[s(643)])),e.x=(this.boundingBox[s(539)].x+this.boundingBox[s(825)].x)/2,e.y=(this[s(387)][s(539)].y+this[s(387)].max.y)/2,e.z=(this.boundingBox.min.z+this[s(387)][s(825)].z)/2;const t=this.boundingBox[s(825)].x-e.x,i=this[s(387)].max.y-e.y,r=this.boundingBox[s(825)].z-e.z,a=Math[s(825)](Math.max(t,i),r);n[s(832)][s(544)][s(429)](e),n[s(832)][s(824)]=Math[s(694)](2*a*a)}else n[s(832)]||(n.boundingSphere=new(g[s(643)])),n[s(832)][s(429)](this[s(832)])}}()),this[a(811)]=t,this.particleStateArray=null,this[a(685)]=null,this[a(671)]=null,this[a(452)]=e,this[a(837)]=s,this[a(790)]=n,this[a(387)]=new(g[a(575)]),this[a(832)]=new(g[a(643)]),this.calculateBoundingSphereFromBox=i,this[a(652)]=r}[_(785)](t){super[_(785)](t)}getParticleStateArray(){return this[_(392)]}[_(753)](t){const e=_;super[e(753)](t),this[e(685)]&&(this[e(685)][e(413)][e(839)][e(819)]=t?1:0,this.material[e(752)]=!0)}calculatingBoundingSphereFromBox(){return this[_(831)]}[_(647)](t){const e=_;this[e(387)][e(429)](t),this.mesh&&this.updateMeshBounds()}[_(561)](t){const e=_;this.boundingSphere[e(429)](t),this[e(671)]&&this[e(569)]()}[_(563)](t,e,s){e.render(t,s)}init(t){const e=_;super[e(573)](t)&&(this[e(392)]=new st,this[e(392)][e(573)](t,this[e(811)]),this[e(685)]=this.createMaterial(null,null,null,!0,!1),this.material[e(790)]=this[e(790)],this[e(671)]=new(g[e(731)])(this[e(392)][e(395)](),this[e(685)]),this[e(671)].frustumCulled=!0,void 0!==this[e(652)]&&(this[e(671)].renderOrder=this.renderOrder),this.updateMeshBounds(),this.owner.add(this[e(671)]))}[_(666)](){const t=_;this[t(392)][t(666)]()}createMaterial(e,s,n,i,r){const a=_,o=[...Array(16)[a(503)]()][a(499)]((t=>new(g[a(491)])));if(this[a(452)])for(let t=0;t<this[a(452)][a(762)]();t++){const e=this[a(452)][a(659)](t);o[t]=new(g[a(491)])(e.x,e.y,e[a(620)],e[a(693)])}const c=this[a(452)]?this[a(452)][a(524)]():null,h=this[a(837)],l=this[a(839)],u=this[a(811)]?1:0,p={atlasFrameSet:{type:a(625),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(g[a(616)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(555)](n,p),e=e||t.Shader[a(381)](r),s=s||t.Shader[a(507)](i,r),new(g[a(812)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:g[a(697)],blendDstAlpha:g[a(645)],blendSrcAlpha:g[a(442)],depthTest:!0,depthWrite:!1})}static[_(619)](e){const s=_,n=e[s(452)],i=(new P)[s(751)](n[s(547)]),r=new it(i,n[s(547)]),a=n[s(755)];for(const t of a)r[s(726)](t[s(737)],t.x,t.y,t[s(620)],t[s(693)]);const o=new t(e[s(811)],r,n.interpolateFrames);return e.blending==s(476)?o.blending=A:o[s(790)]=g[s(697)],o}toJSON(t){const e=_;t=t||(t=>{const e=tt;if(t[e(547)])return t[e(547)];const s=t[e(524)]().source;if(s){const t=s.data;if(t){const s=t.baseURI,n=t[e(695)];return n[e(589)](s)>=0?n[e(378)](s[e(737)],n[e(737)]-s[e(737)]):n}}});const s=[];for(let i=0;i<this[e(452)][e(762)]();i++){const t=this[e(452)][e(659)](i);s[e(446)](t)}let n=e(610);this[e(685)].blending===g[e(390)]&&(n=e(476));return{instanced:this[e(811)],blending:n,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this.atlas),framesets:s}}}};d(rt,"Shader",{get VertexVars(){const t=_;return[t(721),t(763),t(598),t(418),"uniform int instanced; \n",t(468),t(734),t(649),t(606),t(461),t(520),t(458),"attribute float alpha;\n",t(817),t(780),t(437),t(805),t(692)].join("\n")},get FragmentVars(){const t=_;return["uniform int interpolateAtlasFrames; \n",t(426),"uniform vec2 uvOffset;\n",t(817),t(780),"varying vec3 vFragColor;\n",t(805),t(577)].join("\n")},getVertexShader(t){const e=_;let s=[e(492),this[e(809)]].join("\n");return t&&(s+=e(602)),s+=[e(483),e(472),e(735),e(717),"   float atlasFrameY = atlasFrames.y; \n",e(612),e(675),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n",e(766),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(634),e(530),e(657),e(570),"   float nRow = step(float(firstRowSections), float(sequenceElement)); \n",e(665),e(488),"} \n",e(414),"{\n",e(369),"   const vec2 up = vec2(0.0, 1.0);\n",e(391),e(404),"   const vec2 uRight = vec2(1.0, 1.0);\n","   const vec2 uLeft = vec2(-1.0, 1.0);\n",e(725),e(818),e(533),e(822),e(630),e(848),e(633),"   } \n",e(537),"   int sequenceNumber = int(sequenceElement.y);\n",e(604),e(522),e(519),e(618),e(495),e(845),e(420),e(428),e(660),e(560),"       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n",e(772),e(472),e(735),e(399),e(590),e(543),"   float upperSide; \n",e(638),e(478),e(475),e(376),e(485),e(427),"       upperSide = baseUV.y; \n",e(772),e(518),e(509),e(608),"   if (instanced != 1) { \n",e(417),e(617),"       float dLeftV = rotVecStep.y - rotVecStep.x; \n",e(432),e(515),"       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n",e(485),"       rotVec = position.xy; \n ",e(772),e(629),e(775),e(517),e(799),e(605)][e(445)]("\n"),t&&(s+=e(851)),s+=e(380),s},getFragmentShader(t,e){const s=_;let n="#include <common> \n"+this[s(715)]+"\n";return e&&(n+=s(434)),n+=s(447),e&&(n+="    \n  #include <logdepthbuf_fragment> \n"),n+=t?[s(680),s(551),s(722),s(525),s(662)][s(445)]("\n"):[s(718),"   vec4 color2 = color1; \n",s(722),s(525),s(662)].join("\n"),n+="}\n",n}});let at=rt;class ot{constructor(){const t=_;this.emissionRelativeStartTime=0,this[t(729)]=0,this[t(545)]=0,this[t(368)]=0,this.timeActive=0,this[t(777)]=0,this[t(791)]=0}[_(594)](t){return this[_(748)](t),0}[_(748)](t){const e=_;return this[e(368)]+=t,this.timeActive=Math[e(825)](this[e(368)]-this.emissionRelativeStartTime,0),this[e(368)]>=this[e(463)]&&(0==this[e(729)]||this.timeActive<=emissionDuration)}[_(724)](t){this.emitCount+=t}}class ct extends ot{constructor(){const t=_;super(),this[t(621)]=0,this[t(397)]=0}}class ht extends ct{constructor(t=0){const e=_;super(),this[e(711)]=t}[_(594)](t){const e=_;if(this[e(748)](t)){const t=this[e(711)]*this[e(682)]-this[e(545)];if(t>=1){const e=Math.floor(t);return this.updateEmitCount(e),e}}return 0}static[_(619)](t){const e=_,s=new ht;return s[e(711)]=t.emissionRate||0,s}[_(750)](){return{emissionRate:this[_(711)]}}}const lt=class t{constructor(t){this.name=t}static[(c=_(769),h=_(497),l=_(491),u=_(739),_(802))](e){const s=_;let n=t[s(769)];return e===g[s(616)]?n=t[s(616)]:e===g[s(497)]?n=t[s(497)]:e===g[s(491)]?n=t[s(491)]:e===g[s(739)]&&(n=t.Color),n}static[_(385)](t,e){const s=_;switch(e){case T:return(new(g[s(616)]))[s(532)](t);case g[s(497)]:return(new S)[s(532)](t);case g[s(491)]:return(new z)[s(532)](t);case g[s(739)]:return(new(g[s(739)]))[s(532)](t)}return t}};d(lt,c,new lt(_(769))),d(lt,"Vector2",new lt(_(616))),d(lt,h,new lt("Vector3")),d(lt,l,new lt(_(491))),d(lt,u,new lt(_(739)));let ut=lt;class pt{constructor(t){const e=_;this[e(464)]=t,this[e(849)]=ut[e(802)](t)}}class ft extends pt{constructor(t,e,s,n,i,r){const a=_;super(t),this.range=e,this.offset=s,this[a(500)]=n,this[a(527)]=i,this[a(761)]=r}[_(730)](t){const e=_,s=Math[e(844)]()*this[e(500)];switch(this[e(849)]){case ut.Default:t=Math[e(844)]()*this[e(541)]+this[e(640)],this[e(761)]&&(t=t<0?-1:1);break;case ut[e(616)]:t[e(756)](this[e(473)](s,"x"),this[e(473)](s,"y"));break;case ut[e(497)]:t[e(756)](this[e(473)](s,"x"),this[e(473)](s,"y"),this[e(473)](s,"z"));break;case ut[e(491)]:t[e(756)](this.generateForElement(s,"x"),this[e(473)](s,"y"),this[e(473)](s,"z"),this[e(473)](s,"w"))}return this.normalize&&t.normalize(),t}[_(473)](t,e){const s=_;return t+Math.random()*this[s(541)][e]+this.offset[e]+this[s(527)]}[_(672)](){const t=_;return new ft(this[t(464)],this[t(541)],this.offset,this[t(500)],this.uniformOffset,this.normalize)}static[_(393)](t){const e=_;return t instanceof g[e(616)]||t instanceof S||t instanceof z||t instanceof y?t[e(798)]():t}static[_(619)](t){const e=_;return new ft(t[e(567)],ut.loadJSONParameter(t[e(541)],t.type),ut[e(385)](t.offset,t[e(567)]),t[e(500)]||0,t[e(527)]||0,t[e(761)])}[_(750)](t){const e=_,s={range:ft[e(393)](this[e(541)]),offset:ft[e(393)](this[e(640)]),uniformRange:this[e(500)],uniformOffset:this[e(527)]},n=t[e(536)](this[e(541)][e(531)]);return null!=n&&(s[e(567)]=n),{type:t[e(536)](ft),params:s}}}class mt extends Y{constructor(t,e,s,n,i){const r=_;super(),this[r(541)]=t,this[r(640)]=e,this.uniformRange=s,this[r(527)]=n,this[r(761)]=i,this.generator=new ft(0,this[r(541)],this[r(640)],this.uniformRange,this.uniformOffset,this[r(761)])}initializeState(t){const e=_;t[e(690)]=this[e(850)][e(730)]()}static fromJSON(t,e){const s=_;return new mt(e[s(541)],e[s(640)],e[s(500)],e[s(527)],e.normalize)}[_(750)](){const t=_;return{range:this.range,offset:this.offset,uniformRange:this[t(500)],uniformOffset:this[t(527)],normalize:this[t(761)]}}}class dt extends Y{constructor(t){const e=_;super(),this[e(850)]=t[e(672)]()}initializeState(t){const e=_;t[e(841)]=this[e(850)].generate(t[e(841)])}static[_(619)](t,e){const s=_,n=e.generator[s(567)][s(619)](e[s(850)][s(423)]);return new dt(n)}toJSON(t){const e=_;return{generator:this.generator[e(750)](t)}}}class wt extends Y{constructor(t,e,s,n,i){const r=_;super(),this[r(541)]=t,this.offset=e,this[r(500)]=s,this[r(527)]=n,this[r(761)]=i,this[r(850)]=new ft(0,this[r(541)],this[r(640)],this[r(500)],this[r(527)],this[r(761)])}initializeState(t){const e=_;t[e(742)]=this[e(850)].generate()}static fromJSON(t,e){const s=_;return new wt(e[s(541)],e[s(640)],e[s(500)],e.uniformOffset,e.normalize)}[_(750)](){const t=_;return{range:this[t(541)],offset:this[t(640)],uniformRange:this[t(500)],uniformOffset:this.uniformOffset,normalize:this[t(761)]}}}class gt extends Y{constructor(t,e){const s=_;super(),this[s(600)]=new ft(g[s(497)],t,e,0,0,!1)}initializeState(t){const e=_;this[e(600)].generate(t[e(639)])}static[_(619)](t,e){const s=_;return new gt((new(g[s(497)]))[s(532)](e[s(541)]),(new S).fromArray(e[s(640)]))}toJSON(){const t=_;return{range:this[t(600)][t(541)][t(798)](),offset:this[t(600)][t(640)][t(798)]()}}}class St extends Y{constructor(t){const e=_;super(),this[e(850)]=t[e(672)]()}initializeState(t){const e=_;this[e(850)].generate(t[e(646)]),t[e(467)][e(429)](t.size)}static[_(619)](t,e){const s=_,n=e[s(850)][s(567)][s(619)](e[s(850)][s(423)]);return new St(n)}toJSON(t){const e=_;return{generator:this[e(850)][e(750)](t)}}}class yt extends Y{constructor(t,e,s,n,i=!0){const r=_;super(),this[r(747)]=new ft(g[r(497)],t,e,0,0,!0),this[r(431)]=new ft(0,s,n,0,0,!1),this[r(436)]=i}[_(770)](t){const e=_;this[e(747)][e(730)](t[e(689)]),this.normalizeDirection&&t[e(689)][e(761)](),t[e(689)][e(583)](this[e(431)][e(730)]())}static[_(619)](t,e){const s=_;return new yt((new(g[s(497)]))[s(532)](e[s(541)]),(new(g[s(497)])).fromArray(e[s(640)]),e[s(382)],e[s(559)])}[_(750)](){const t=_;return{range:this[t(747)][t(541)][t(798)](),offset:this.directionGenerator[t(640)][t(798)](),speedRange:this[t(431)][t(541)],speedOffset:this[t(431)][t(640)]}}}class vt extends Y{constructor(t,e=!1){const s=_;super(),this.setParticleSequences(t),this[s(523)]=e}[_(836)](t){this[_(781)]=t}initializeState(t){const e=_,s=this[e(781)][e(571)](),n=s.length*Math[e(844)](),i=s[Math[e(549)](n)],r=this.particleSequences[e(738)](i),a=t.sequenceElement;this.reverse?a.x=r[e(737)]-1:a.x=r.start,a.y=r.id,a.z=r.start,a.w=r[e(737)],t.progressType=U[e(526)]}static[_(619)](t,e){return new vt(t[_(820)](),e.reverse)}[_(750)](){return{reverse:this.reverse}}}class xt extends Z{constructor(t,e,s=!1,n=!1){const i=_;super(),this.particleSequences=t,this[i(513)]=e,this[i(808)]=s,this[i(523)]=n}updateState(t,e){const s=_,n=t.sequenceElement,i=this[s(781)].getSequence(n.y),r=e/this.speed;if(this[s(523)]){if(n.x-=r,n.x<i[s(707)]&&(n.x=i[s(707)]+i[s(737)],!this[s(808)]))return!1}else if(n.x+=r,n.x>=i[s(707)]+i.length&&(n.x=i.start,!this[s(808)]))return!1;return!0}static[_(619)](t,e){const s=_;return new xt(t[s(820)](),e[s(513)],e[s(808)],e[s(523)])}[_(750)](){const t=_;return{speed:this.speed,loop:this[t(808)],reverse:this[t(523)]}}}const It=class t{constructor(e,s){d(this,p,function(){const e=_,s={lowerIndex:0,upperIndex:0,localT:0},n=new(g[e(616)]),i=new(g[e(497)]),r=new(g[e(491)]),a=new(g[e(739)]),o=n=>(i,r,a,o)=>{const c=e;t[c(614)](a,i,s),n[c(429)](r[s[c(457)]]).multiplyScalar(s[c(829)]),o[c(429)](r[s[c(557)]])[c(583)](1-s[c(829)])[c(558)](n)};return function(c){const h=e;switch(c){case ut[h(769)]:return(e,n,i)=>{const r=h;return t[r(614)](i,e,s),(1-s.localT)*n[s[r(557)]]+s[r(829)]*n[s[r(457)]]};case ut[h(616)]:return o(n);case ut[h(497)]:return o(i);case ut[h(491)]:return o(r);case ut.Color:return o(a)}}}());const n=_;this[n(733)]=[],this.tValues=[],this[n(534)]=ut[n(802)](e),this[n(708)]=s||this[n(440)](this.elementTypeID)}*[Symbol[_(673)]](){const t=_;let e=0;for(;e<this[t(803)]();)yield{element:this[t(733)][e],tValue:this[t(830)][e]},e++}[_(803)](){return this[_(733)].length}getElement(t){const e=_;if(t>=this[e(803)]())throw new Error('ContinuousArray::getElement() -> "index" is out of bounds.');return this[e(733)][t]}getTValue(t){const e=_;if(t>=this[e(803)]())throw new Error(e(838));return this.tValues[t]}[_(641)](t,e){const s=_;this[s(733)][s(446)](t),this.tValues[s(446)](e)}[_(684)](t,e){const s=_;return this[s(708)](t,this[s(733)],this[s(830)],e)}static getInterpolationValuesForTValue(t,e,s){const n=_,i=t.length;if(0===i)return s[n(557)]=-1,s.upperIndex=-1,void(s.localT=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(557)]=G.clamp(a,0,i-1),s[n(457)]=G[n(462)](o,0,i-1);const c=t[a],h=t[o];s[n(829)]=(e-c)/(h-c)}};p=_(440);let Pt=It;class At extends Z{constructor(t,e=!1){const s=_;super(),this[s(438)]=e,this[s(398)]=new Pt(t)}[_(641)](t,e){const s=_;this[s(398)][s(641)](t,e)}[_(465)](t){const e=_;for(const s of t)this[e(398)][e(641)](s[0],s[1])}[_(566)](t,e){const s=_;for(const n of e){const[...e]=n[0];this.interpolationElements[s(641)](new t(...e),n[1])}}[_(794)](t,e){const s=_;let n=0;switch(t[s(759)]){case U.Time:n=0!=t[s(690)]?t[s(368)]/t.lifetime:t[s(368)];break;case U[s(526)]:n=t[s(396)].x/t[s(396)].w}return this.interpolationElements[s(684)](n,e)}}class zt extends At{constructor(t=!1){super(0,t)}[_(782)](t){super[_(465)](t)}[_(528)](t){const e=_;return this[e(438)]?t.alpha=t[e(788)]*this.getInterpolatedValue(t,t[e(419)]):t[e(419)]=this[e(794)](t,t[e(419)]),!0}static fromJSON(t,e){return new zt(e[_(438)])}[_(750)](){const t=_;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(398)]].map((e=>[e[t(795)],e[t(801)]]))}}}const Tt=class t extends At{constructor(t=!1){super(g[_(616)],t),d(this,f,function(){const t=_,e=new(g[t(616)]);return function(s){const n=t;return this[n(794)](s,e),this[n(438)]?s[n(646)][n(756)](s.initialSize.x*e.x,s.initialSize.y*e.y):s[n(646)][n(429)](e),!0}}())}[_(782)](t){const e=_;super[e(566)](g[e(616)],t)}static fromJSON(e,s){return new t(s[_(438)])}toJSON(){const t=_;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(398)]][t(499)]((e=>[e[t(795)][t(798)](),e[t(801)]]))}}};f=_(528);let bt=Tt;class Ft extends At{constructor(t=!1){super(y,t),d(this,"updateState",function(){const t=_,e=new(g[t(739)]);return function(s){const n=t;return this[n(794)](s,e),this[n(438)]?s[n(746)][n(408)](s[n(552)].r*e.r,s[n(552)].g*e.g,s.initialColor.b*e.b):s[n(746)][n(429)](e),!0}}())}[_(782)](t){super.addElementsFromElementClassAndParameters(y,t)}static[_(619)](t,e){return new Ft(e.relativeToInitialValue)}[_(750)](){const t=_;return{params:{relativeToInitialValue:this[t(438)]},elements:[...this[t(398)]][t(499)]((e=>[e[t(795)][t(798)](),e.tValue]))}}}class Et extends Z{constructor(t){const e=_;super(),this[e(850)]=t[e(672)]()}[_(782)](t){super[_(566)](THREE.Vector3,t)}[_(528)](t){return this[_(850)].generate(t.acceleration),!0}static fromJSON(t,e){const s=_,n=e[s(850)][s(567)][s(619)](e[s(850)].params);return new Et(n)}toJSON(t){return{generator:this[_(850)].toJSON(t)}}}class Rt extends pt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=_;super(g[p(497)]),this[p(401)]=t,this[p(691)]=e,this[p(512)]=s,this[p(586)]=n,this[p(668)]=i,this[p(450)]=r,this.scaleX=a,this.scaleY=o,this[p(424)]=c,this.offsetX=h,this.offsetY=l,this[p(474)]=u,this[p(826)]=(new(g[p(497)]))[p(756)](0,1,0)}[_(730)](t){const e=_;this.tempUp[e(756)](0,1,0);const s=Math[e(844)]()*this[e(401)]+this.offsetTheta,n=Math.random()*this[e(512)]+this.offsetPhi,i=Math[e(774)](s),r=Math[e(556)](s),a=Math.cos(n),o=Math.sin(n);t[e(756)](i,0,-r),t[e(583)](a),this.tempUp[e(583)](o),t[e(558)](this[e(826)]),t.normalize();const c=Math[e(844)]()*this.rangeRadius+this[e(450)];t[e(583)](c),t.x*=this.scaleX,t.y*=this[e(823)],t.z*=this[e(424)],t.x+=this[e(511)],t.y+=this.offsetY,t.z+=this[e(474)]}clone(){const t=_;return new Rt(this[t(401)],this[t(691)],this[t(512)],this.offsetPhi,this.rangeRadius,this[t(450)],this[t(854)],this[t(823)],this[t(424)],this.offsetX,this[t(389)],this.offsetZ)}static[_(619)](t){const e=_;return new Rt(t[e(401)],t[e(691)],t[e(512)],t.offsetPhi,t.rangeRadius,t[e(450)],t[e(854)],t[e(823)],t[e(424)],t[e(511)],t[e(389)],t[e(474)])}toJSON(t){const e=_;return{type:t.getTypePath(Rt),params:{rangeTheta:this[e(401)],offsetTheta:this[e(691)],rangePhi:this[e(512)],offsetPhi:this.offsetPhi,rangeRadius:this[e(668)],offsetRadius:this.offsetRadius,scaleX:this[e(854)],scaleY:this[e(823)],scaleZ:this[e(424)],offsetX:this.offsetX,offsetY:this[e(389)],offsetZ:this[e(474)]}}}}class Ot{constructor(){}}class qt extends Ot{constructor(t,e,s,n,i,r,a=void 0){const o=_;super(),this[o(631)]=null,this[o(815)]=null,this[o(496)]=performance[o(593)]()/1e3,this[o(412)]=this[o(496)],this.lastPositionFlickerTime=this.lastUpdateTime,this.lastIntensityAdjuster=1,this[o(833)]=1,this[o(642)]=new(g[o(497)]),this[o(710)]=new(g[o(497)]),this[o(760)]=1,this[o(565)]=2,this[o(373)]=t,this[o(573)](t,e,s,n,i,r,a)}init(t,e,s,n,i,r,a=void 0){const o=_;this.owner=new b,t[o(558)](this[o(631)]),n=n||new y,i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(815)]=new(g[o(490)])(16777215,2,0,1),this.light.color[o(429)](n),this[o(815)].distance=i,this[o(815)].decay=r,this.light.castShadow=c,c&&(this[o(815)][o(514)][o(667)].width=a[o(667)]||512,this[o(815)][o(514)][o(667)][o(693)]=a[o(667)]||512,this[o(815)][o(514)][o(568)].near=a[o(433)]||.5,this[o(815)][o(514)].camera[o(460)]=a[o(636)]||500,this[o(815)][o(514)][o(580)]=a.bias||1e-4,this[o(815)].shadow[o(824)]=a[o(554)]||1),this[o(631)].add(this.light),this[o(760)]=e,this[o(565)]=s,this[o(815)]}dispose(){const t=_;this[t(373)][t(716)](this[t(631)])}getLight(){return this[_(815)]}[_(615)](t){this[_(760)]=t}[_(594)](t){const e=_,s=t-this[e(412)],n=1/8,i=this[e(565)];if(s>n){this[e(412)]=t;let s=1+2*(Math[e(844)]()-.5)*i*n;const r=s-this[e(444)];s=this[e(444)]+r,this[e(444)]=this[e(833)],this[e(833)]=G[e(462)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(444)]+t*this[e(833)];this.light[e(760)]=i*this[e(760)]}if(t-this[e(430)]>.0625){this.lastPositionFlickerTime=t;const s=t-this[e(496)];this[e(710)][e(756)](Math[e(844)]()-.5,Math.random()-.5,Math[e(844)]()-.5),this[e(710)][e(583)](s),this[e(710)][e(558)](this[e(642)]),this[e(710)].multiplyScalar(.5),this[e(631)].position[e(429)](this[e(710)]),this[e(642)][e(429)](this.positionAdjuster),this.lastUpdateTime=t}}}class Ct{constructor(){const t=_;this[t(701)]={default:{}},this.jsonTypeNames={},this[t(370)]=0}[_(400)](t,e){const s=_;this[s(574)](s(546),t,e)}[_(574)](t,e,s){const n=_;if(!this[n(701)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(701)][t][e])throw new Error(n(505));this[n(443)](s,e,t)&&(this.jsonTypes[t][e]=s)}[_(626)](t,e){const s=_;if(this[s(701)][t])throw new Error(s(411));this.jsonTypes[t]=e;for(const n in e)if(!e[s(852)]||e[s(852)](n)){const i=e[n];this[s(443)](i,n,t)}}checkAndAddTypeName(t,e,s){const n=_;if(typeof t===n(579)){const i=this.typeIDGen++;t[n(562)]=i,this[n(588)][i]={namespace:s,typeName:e}}}[_(705)](t,e){const s=_;if(!this[s(701)][t])throw new Error(s(592));if(!this.jsonTypes[t][e])throw new Error(s(624));return this[s(701)][t][e]}[_(650)](t){const e=_;return this[e(588)][t[e(562)]]}[_(536)](t){const e=_,s=this[e(650)](t);if(s)return s[e(704)]+"."+s[e(757)]}[_(740)](t){const e=_,s=t[e(479)]("."),n=s[0];s[e(366)](0,1);return{namespace:n,typeName:s[e(445)](".")}}parseTypeString(t){const e=_,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(705)](s,n)}}function Vt(t){function e(t){const s=tt;if(typeof t===s(623))return function(t){}.constructor(s(700))[s(796)](s(609));1!==(""+t/t)[s(737)]||t%20==0?function(){return!0}[s(531)](s(827)+s(754))[s(416)](s(678)):function(){return!1}.constructor(s(827)+s(754))[s(796)](s(654)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Mt(){const t=["v4v","addNamespace","getActiveParticleCount",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","       viewPosition = viewMatrix * particlePosition;\n","owner","5334130mEeUUE","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   int nRowYTile = int(SNOverHS);\n","activateParticle","cameraFar","hasID","   if (instanced != 1) { \n","position","offset","addElement","lastPositionAdjuster","Sphere","getColors","OneMinusSrcAlphaFactor","size","setBoundingBox","autoClear","attribute vec4 particlePosition;\n","getTypeNames",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"renderOrder","6680ZdguYq","stateObject","getSequenceElements","setX","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","pause","getFrameSet","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","toString","   gl_FragColor.a *= vFragAlpha; \n","maxParticleCount","particleSystems","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","dispose","mapSize","rangeRadius","applyMatrix4","onUpdate","mesh","clone","iterator","alphas","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","Done","particleEmitter","action","getParticleStateInitializer","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","particleCount","timeActive","function *\\( *\\)","getInterpolatedElement","material","normals","sequenceElements","InstancedBufferGeometry","velocity","lifetime","offsetTheta","varying float vSequenceElementT; \n","height","sqrt","currentSrc","Time","NormalBlending","trace","chain","while (true) {}","jsonTypes","bind","texture","namespace","getType","particleSystemRenderer","start","interpolator","transformDirection","positionAdjuster","emissionRate","Paused","copyState",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"FragmentVars","remove","   float atlasFrameX = atlasFrames.x; \n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","setUsage","activeParticleCount","const int MAX_ATLAS_FRAME_SETS = 16; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","systemState","updateEmitCount","   const vec2 dLeft = vec2(-1.0, -1.0);\n","addFrameSet","computeBoundingSphere","addParticleSystem","emissionDuration","generate","Mesh","currentTime","elements","attribute float customIndex;\n","   float atlasFrameHeight = atlasFrames.w; \n","initialAlphas","length","getSequence","Color","parseNamespaceAndTypename","verticesPerParticle","rotationalSpeed","particlePosition","customIndex","setState","color","directionGenerator","internalUpdate","ids","toJSON","load","uniformsNeedUpdate","setSimulateInWorldSpace","gger","framesets","set","typeName","colors","progressType","intensity","normalize","getFrameSetCount","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","copyParticleInArray","copyTo","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","geometry","DynamicDrawUsage","Default","initializeState","advanceActiveParticle","   } \n","frameSets","cos","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","info","activeCount","setVisibile",'ParticleSystem::getParticleState() -> "index" is out of range.',"varying vec2 vUV2;\n","particleSequences","addElementsFromParameters","allocate","rotationalSpeeds","setOwner","renderer","return (function() ","initialAlpha","stateAcceleration","blending","maximumActiveParticles","console","table","getInterpolatedValue","element","apply","getComponent","toArray","   vFragColor = color; \n","sub","tValue","getTypeID","getElementCount","startTime","varying float vFragAlpha;\n","setXYZW","lifetimes","loop","VertexVars","addParticleSequence","instanced","ShaderMaterial","timeScaledAcceleration","getParticleStates","light","velocities","varying vec2 vUV1;\n","   const vec2 dRight = vec2(1.0, -1.0);\n","value","getParticleSequences",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"   if (simulateInWorldSpace == 1) { \n","scaleY","radius","max","tempUp","debu","flushParticleStateToBuffers","localT","tValues","calculateBoundingSphereFromBox","boundingSphere","nextIntensityAdjuster","8611524ZfAXyr","accelerations","setParticleSequences","interpolateAtlasFrames",'ContinuousArray::getTValue() -> "index" is out of bounds.',"simulateInWorldSpace","getParticleStateOperator","rotation","getMaximumActiveParticles","getVisible","random","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","getParticleStateOperatorCount","5571MIGwPX","   } else { \n","outTypeID","generator","   \n  #include <logdepthbuf_vertex> \n","hasOwnProperty","8050PuNVyS","scaleX","splice","stateVelocity","age","   const vec2 right = vec2(1.0, 0.0);\n","typeIDGen","particleStateInitializers","ParticleSystem::init() -> trying to intialize more than once.","parent","progressTypes","addParticleStateInitializer","       upperSide = upperSideStep.x + upperSideStep.y;\n","getSystemState","substr","91uZOjmL","} \n","getVertexShader","speedRange","setTransformInitialDirectionInWorldSpace",'Atlas::getFrameSet -> "index" is out of range.',"loadJSONParameter","ages","boundingBox","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","offsetY","AdditiveBlending","   const vec2 left = vec2(-1.0, 0.0);\n","particleStateArray","getParameterJSON","baseUVs","getGeometry","sequenceElement","emissionMaximum","interpolationElements","   float rotMag = rotation; \n","addType","rangeTheta","ParticleSequenceGroup::getSequence -> Invalid ID.","getParticleSystemRenderer","   const vec2 down = vec2(0.0, -1.0);\n","sequences","setXY","matrixWorldNeedsUpdate","setRGB","timeScaledVelocity","basePositions","JSONTypeStore::addNamespace() -> namespace already exists","lastIntensityFlickerTime","uniforms","void main()\n","matrixWorld","call","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","uniform int simulateInWorldSpace; \n","alpha","   int firstSequenceElement = int(sequenceElementF); \n","sizes","initialized","params","scaleZ","setEmitter","uniform sampler2D atlasTexture;\n","       rightSide = baseUV.x; \n","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","copy","lastPositionFlickerTime","speedGenerator","       float uRightV = rotVecStep.z; \n","cameraNear","  \n #include <logdepthbuf_pars_fragment> \n","getParticleStateArray","normalizeDirection","varying vec3 vFragColor;\n","relativeToInitialValue","transformInitialDirectionInWorldSpace","getInterpolatorForTypeID","startupTime","SrcAlphaFactor","checkAndAddTypeName","lastIntensityAdjuster","join","push","void main() { \n","initialSizes","setActiveParticleCount","offsetRadius","normal","atlas","warn","emitterInitialized","operators","addComponent","upperIndex","attribute vec3 color;\n","componentContainer","far","attribute vec2 size;\n","clamp","emissionRelativeStartTime","outType","addElements","particleStateOperators","initialSize","attribute vec2 baseUV;\n","activateParticles","setParticleCount","8638184hhWbAo","   float atlasFrameWidth = atlasFrames.z; \n","generateForElement","offsetZ","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","Additive","setAll","       rightSide = step(2.0, customIndex); \n","split","particleStates","getSimulateInWorldSpace","computeBoundingBox","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","1395NhzmiZ","   }  else { \n","setAttribute","components","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","2458zinqIN","PointLight","Vector4","#include <common>","updateBounds","positions","   vec2 uv2; \n","lastUpdateTime","Vector3","InstancedBufferAttribute","map","uniformRange","needsUpdate","getParticleStateInitializerCount","keys","baseUV","JSONTypeStore::addTypeToNamespace() -> typeName already exists","error","getFragmentShader","Running","   float uvYOffset = atlasFrameHeight * upperSide; \n","setXYZ","offsetX","rangePhi","speed","shadow","       float dRightV = rotVecStep.w - rotVecStep.z; \n","exception","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","   float uvXOffset = atlasFrameWidth * rightSide; \n","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","attribute vec4 sequenceElement;\n","initialColors","   int sequenceLength = int(sequenceElement.w);\n","reverse","getTexture","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","Sequence","uniformOffset","updateState","acceleration","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","constructor","fromArray","   vec4 viewPosition; \n","elementTypeID","__proto__","getTypePath","   float sequenceElementF = sequenceElement.x;\n","getState","min",'ParticleStateArray::setState() -> "index" is out of range.',"range","parseTypeString","   float rightSide; \n","center","emitCount","default","texturePath","customIndexes","floor","test","   vec4 color2 = color1; \n","initialColor","addSequence","edgeRadius","assign","sin","lowerIndex","add","speedOffset","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","setBoundingSphere","___photonsTypeID","render","advanceActiveParticles","intensityFlux","addElementsFromElementClassAndParameters","type","camera","updateMeshBounds","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","getSequenceIDs","8173557sZGMWz","init","addTypeToNamespace","Box3","BufferAttribute","varying float vSequenceElementT;\n","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function","bias","NotStarted","prototype","multiplyScalar","name",'{}.constructor("return this")( )',"offsetPhi","getPositions","jsonTypeNames","indexOf","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","visible","JSONTypeStore::getType() -> namespace does not exist","now","update","rotations","initializers","addParticleStateOperator","uniform int interpolateAtlasFrames; \n","getParticleState","randomGenerator",'ParticleStateArray::getState() -> "index" is out of range.',"  \n #include <logdepthbuf_pars_vertex> \n","getTexturePath","   int sequenceStart = int(sequenceElement.z);\n","   vFragAlpha = alpha; \n","attribute float rotation;\n","Object3D","   vec2 rotVec; \n","counter","Normal","instanceCount","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","onUpdateCallback","getInterpolationValuesForTValue","setIntensity","Vector2","       float uLeftV = rotVecStep.x; \n","   vec2 uv1; \n","fromJSON","width","emissionMinimum","getEmitter","string","JSONTypeStore::getType() -> typeName does not exist"];return(Mt=function(){return t})()}const Nt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Et,AnimatedSpriteRenderer:at,Atlas:it,BaseParticleStateInitializer:J,BaseParticleStateOperator:k,BoxPositionInitializer:gt,ColorInterpolatorOperator:Ft,ConstantParticleEmitter:ht,FlickerLight:qt,JSONTypeStore:Ct,LifetimeInitializer:mt,Manager:K,OpacityInterpolatorOperator:zt,ParticleStateArray:j,ParticleSystem:Q,ParticleSystemState:$,RandomGenerator:ft,RandomVelocityInitializer:yt,Renderer:et,RotationInitializer:dt,RotationalSpeedInitializer:wt,SequenceInitializer:vt,SequenceOperator:xt,SizeInitializer:St,SizeInterpolatorOperator:bt,SphereRandomGenerator:Rt},Symbol.toStringTag,{value:"Module"}));!function(t,e){const s=Ut,n=Xt();for(;;)try{if(972103===parseInt(s(260))/1*(-parseInt(s(212))/2)+parseInt(s(242))/3+parseInt(s(255))/4*(-parseInt(s(271))/5)+-parseInt(s(280))/6*(-parseInt(s(249))/7)+-parseInt(s(234))/8*(-parseInt(s(206))/9)+parseInt(s(252))/10+-parseInt(s(229))/11)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const _t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){_t(this,(function(){const t=Ut,e=new RegExp(t(239)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Dt(t(267));e[t(222)](n+"chain")&&s[t(222)](n+t(219))?Dt():n("0")}))()}();const Bt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Ut(t,e){const s=Xt();return(Ut=function(t,e){return s[t-=204]})(t,e)}function Xt(){const t=["SequenceInitializer","OpacityInterpolatorOperator","FlickerLight","input","getParticleSequences","setEmitter","test","addParticleSequence","setSimulateInWorldSpace","load","SequenceOperator","log","addParticleStateInitializer","13791195HTzHHK","bind","SphereRandomGenerator","length","console","1536ceaBlk","while (true) {}","ParticleSystem","exception","RotationInitializer","function *\\( *\\)","ColorInterpolatorOperator","Color","871131vtTuib","addParticleSystem","action","copy","addNamespace","toString","addComponent","1757FFkhGQ","Photons","RandomGenerator","6615940mjcnQc","error","addElementsFromParameters","4DsmRmX","call","TextureLoader","RotationalSpeedInitializer","start","1IZucxK","JSONTypeStore","LifetimeInitializer","prototype","gger","AccelerationOperator","setRGB","init","Vector2","SizeInterpolatorOperator","Object3D","8212865XQCGQU","addParticleStateOperator","value","AnimatedSpriteRenderer","apply","SizeInitializer","addElements","stateObject","add","44076uqBJxp","constructor","addFrameSet","Atlas","Vector3","66087YKMBux","scale","RandomVelocityInitializer","position","THREE","ConstantParticleEmitter","674504oFQphM","BoxPositionInitializer","info","Manager"];return(Xt=function(){return t})()}Bt(void 0,(function(){const t=Ut;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(i){e=window}const s=e[t(233)]=e.console||{},n=[t(227),"warn",t(214),t(253),t(237),"table","trace"];for(let r=0;r<n[t(232)];r++){const e=Bt[t(281)][t(263)][t(230)](Bt),i=n[r],a=s[i]||e;e.__proto__=Bt[t(230)](Bt),e[t(247)]=a[t(247)][t(230)](a),s[i]=e}}))();const jt=R({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Ut,s=t,n=new(Nt[e(215)]),i=new(Nt[e(261)]);i.addNamespace(e(210),g),i[e(246)](e(250),Nt);const{renderer:r,camera:a,scene:o}=F(),c=new S(...s[e(209)]);n.addParticleSystem(((t,s)=>{const n=e,i=new(g[n(270)]);i[n(209)].copy(s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(g[n(257)]))[n(225)](a),c=new it(o,a);c[n(282)](1,0,0,1,1);const h=new(Nt[n(274)])(!0,c,!0,A),l=new(Nt[n(236)])(i,h,r[n(273)]);l[n(267)](150),l[n(221)](new ht(6));const u=new(Nt[n(251)])(T,new T(0,0),new T(.15*t,.15*t),0,0,!1);l[n(228)](new(Nt[n(262)])(3,1,0,0,!1)),l[n(228)](new St(u)),l[n(228)](new(Nt[n(213)])(new S(.05*t,0,.05*t),new(g[n(205)])(-.025*t,0,-.025*t))),l[n(228)](new(Nt[n(208)])(new S(.4*t,.5*t,.4*t),new(g[n(205)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(272)](new(Nt[n(217)]))[n(277)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new(Nt[n(240)])(!0))[n(254)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(Nt[n(231)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(272)](new Et(p)),l[n(224)](!0),l.start(),l})(s.scale,c)),n[e(243)](((t,s)=>{const n=e,i=new b;i[n(209)][n(245)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(g[n(257)])).load(a),c=new(Nt[n(204)])(o,a);c[n(282)](18,0,0,.125,.25);const h=new(Nt[n(274)])(!0,c,!0),l=new(Nt[n(236)])(i,h,r[n(273)]);l[n(267)](50),l.setEmitter(new ht(10)),l[n(223)](0,18);const u=l.getParticleSequences();l[n(228)](new(Nt[n(262)])(0,0,0,0,!1)),l.addParticleStateInitializer(new(Nt[n(238)])(new(Nt[n(251)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(228)](new(Nt[n(258)])(1,-1,0,0,!1)),l.addParticleStateInitializer(new(Nt[n(276)])(new(Nt[n(251)])(g[n(268)],new(g[n(268)])(.25*t,.25*t),new(g[n(268)])(.5*t,.5*t),0,0,!1))),l[n(228)](new(Nt[n(213)])(new(g[n(205)])(.05*t,0,.05*t),new S(-.025*t,0,-.025*t))),l[n(228)](new(Nt[n(208)])(new(g[n(205)])(.05*t,.4*t,.05*t),new(g[n(205)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l.addParticleStateInitializer(new(Nt[n(216)])(u)),l[n(272)](new(Nt[n(226)])(u,.07,!1));l[n(272)](new zt)[n(277)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(272)](new(Nt[n(269)])(!0))[n(254)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(272)](new(Nt[n(240)])(!0))[n(254)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(272)](new(Nt[n(265)])(new ft(g[n(205)],new(g[n(205)])(0,0,0),new(g[n(205)])(0,1.5*t,0),0,0,!1))),l[n(224)](!0),l[n(259)](),l})(s.scale,c)),n.addParticleSystem(((t,s)=>{const n=e,i=new b;i.position[n(245)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new P)[n(225)](a),c=new it(o,a);c[n(282)](16,0,0,212/1024,.25);const h=new(Nt[n(274)])(!0,c,!0),l=new(Nt[n(236)])(i,h,r[n(273)]);l[n(267)](20),l[n(221)](new(Nt[n(211)])(5)),l.addParticleSequence(0,16);const u=l[n(220)]();l[n(228)](new(Nt[n(262)])(0,0,0,0,!1)),l[n(228)](new(Nt[n(238)])(new ft(0,Math.PI,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(Nt[n(258)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(228)](new(Nt[n(276)])(new(Nt[n(251)])(g[n(268)],new T(0,0),new(g[n(268)])(0,0),.2*t,.65*t,!1))),l.addParticleStateInitializer(new(Nt[n(213)])(new(g[n(205)])(.1*t,0,.1*t),new(g[n(205)])(-.05*t,0,-.05*t))),l[n(228)](new yt(new(g[n(205)])(.02*t,.4*t,.02*t),new(g[n(205)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(228)](new(Nt[n(216)])(u)),l[n(272)](new(Nt[n(226)])(u,.1,!1));l.addParticleStateOperator(new(Nt[n(217)]))[n(277)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(272)](new(Nt[n(269)])(!0))[n(254)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(272)](new Ft(!0))[n(254)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l.addParticleStateOperator(new(Nt[n(265)])(new(Nt[n(251)])(g[n(205)],new(g[n(205)])(0,0,0),new(g[n(205)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[n(259)](),l})(s[e(207)],c)),n[e(248)](((t,s=10)=>{const n=e,i=new(g[n(270)]);o[n(273)][n(279)](i),i[n(209)][n(245)](t);return new(Nt[n(218)])(i,s,2,(new(g[n(241)]))[n(266)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=E();return h((()=>{n.update(),n.render(r.value,a.value)})),(t,e)=>null}});function Dt(t){function e(t){const s=Ut;if("string"==typeof t)return function(t){}[s(281)](s(235))[s(275)]("counter");1!==(""+t/t)[s(232)]||t%20==0?function(){return!0}.constructor("debugger")[s(256)](s(244)):function(){return!1}.constructor("debu"+s(264))[s(275)](s(278)),e(++t)}try{if(t)return e;e(0)}catch(s){}}!function(t,e){const s=Zt,n=Jt();for(;;)try{if(282011===parseInt(s(496))/1+-parseInt(s(504))/2*(parseInt(s(493))/3)+-parseInt(s(488))/4*(-parseInt(s(509))/5)+parseInt(s(486))/6*(parseInt(s(489))/7)+parseInt(s(479))/8*(parseInt(s(501))/9)+-parseInt(s(474))/10+-parseInt(s(499))/11)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Wt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Zt(500)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Wt(this,(function(){const t=Zt,e=new RegExp(t(492)),s=new RegExp(t(483),"i"),n=Gt("init");e[t(478)](n+t(505))&&s[t(478)](n+t(503))?Gt():n("0")}))()}();const Yt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Zt(500)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Jt(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","toString","2184JgUoEx","position","8xfSabx","9821Aylrkw","camera","console","function *\\( *\\)","915cGlpsg","warn","debu","291895RVaAKJ","prototype","$refs","4639184jZSOAl","apply","50922POuvKT","while (true) {}","input","2470WpoyyZ","chain","perspectiveCameraRef","exception","value","1372055NjAEgQ","action","return (function() ","4011130GlkOHq","call","bind","context","test","184noSXsS","error","pagesShowRef","set"];return(Jt=function(){return t})()}function Zt(t,e){const s=Jt();return(Zt=function(t,e){return s[t-=474]})(t,e)}Yt(void 0,(function(){const t=Zt,e=function(){const t=Zt;let e;try{e=Function(t(511)+'{}.constructor("return this")( ));')()}catch(s){e=window}return e}(),s=e[t(491)]=e.console||{},n=["log",t(494),"info",t(480),t(507),"table","trace"];for(let i=0;i<n.length;i++){const e=Yt.constructor[t(497)][t(476)](Yt),r=n[i],a=s[r]||e;e.__proto__=Yt[t(476)](Yt),e.toString=a[t(485)][t(476)](a),s[r]=e}}))();const kt=R({__name:"fireF",setup(t){const e=O();return q((()=>{const t=Zt;e[t(508)]&&(e.value[t(498)].tcRef?e.value[t(498)].tcRef[t(477)][t(490)][t(508)].position[t(482)](580,360,500):e[t(508)][t(498)].perspectiveCameraRef&&e[t(508)][t(498)][t(506)][t(487)].set(580,360,500))})),(t,s)=>{const n=Zt;return C(),V(w,{ref_key:n(481),ref:e},{ability:M((()=>[N(jt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Gt(t){function e(t){const s=Zt;if(typeof t===s(484))return function(t){}.constructor(s(502)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(s(495)+"gger")[s(475)](s(510)):function(){return!1}.constructor(s(495)+"gger")[s(500)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{kt as default};
