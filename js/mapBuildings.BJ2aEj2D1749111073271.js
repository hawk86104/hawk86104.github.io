import{z as o}from"./three-custom-shader-material.CSemEkuG1749111073271.js";import"./HeightCorrection.Bq98L9tL1749111073271.js";import"./three-tile.tYAgvHmB1749111073271.js";import"./@tweenjs.CL1bcu711749111073271.js";/* empty css                                                                                    */import"./utils.Gl6fR71N1749111073271.js";import{l as e,U as t,P as r,M as n,T as i,a,r as s}from"./raycasterEvent.DLBLWJRY1749111073271.js";import"./index.CgwxwE-21749111073271.js";import{_ as u,a as c}from"./radraB.vue_vue_type_script_setup_true_lang.DPjHyv-J1749111073271.js";import{_ as l}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.DgQcckmR1749111073271.js";import{_ as p}from"./fireA.vue_vue_type_script_setup_true_lang.CmdQ5YAs1749111073271.js";import{_ as d}from"./fireB.vue_vue_type_script_setup_true_lang.CPEelI971749111073271.js";import{_ as f}from"./smokeA.vue_vue_type_script_setup_true_lang.CuoURaw71749111073271.js";import{_ as m}from"./precipitation.vue_vue_type_script_setup_true_lang.ngjta92c1749111073271.js";import{_ as W}from"./cloudMesh.vue_vue_type_script_setup_true_lang.CoEnD7ku1749111073271.js";import{_ as g}from"./rippleMesh.vue_vue_type_script_setup_true_lang.CDq1C7li1749111073271.js";import{e as h,b as v,m as _}from"./@tresjs.D5XVXE0C1749111073271.js";import{ae as x,V as C,cD as w,a4 as y,g as j,S,M as P,Q as k,cx as b,cy as M,cz as O,cA as Q,ab as R,C as T,bc as B,cS as z,ap as G,as as L,c7 as J,q as I}from"./three.B8H7tP0r1749111073271.js";import{l as q}from"./utils.BH5EvUtA1749111073271.js";import{d as H,a3 as A,G as Z,o as K,F,W as D,I as V,u as N,b as E,a2 as X,j as Y,e as U,f as $,am as oo,v as eo,r as to,h as ro,m as no}from"./@vue.Mugdq9o81749111073271.js";import{T as io}from"./3d-tiles-renderer.CGiz06IF1749111073271.js";import"./axios.hua2XSmw1749111073271.js";import"./axios.DLTVXJci1749111073271.js";import"./pinia.pLtK9Sf_1749111073271.js";import"./@fesjs.HpbjsMAs1749111073271.js";import"./vue-router.ttOgDZer1749111073271.js";import"./lodash-es.C7pWAXPe1749111073271.js";import"./@qlin.q6OWdsQV1749111073271.js";import"./@babel.BPq7uOAK1749111073271.js";import"./@floating-ui.BFjFSAYt1749111073271.js";import"./@juggle.CcBCnTIR1749111073271.js";import"./color.r7OVe6cI1749111073271.js";import"./@amap.CGUF9xH41749111073271.js";import"./color-string.BIpoW8yl1749111073271.js";import"./color-name.BQ5IbGbl1749111073271.js";import"./simple-swizzle.C0KKF-LL1749111073271.js";import"./is-arrayish.CLsR9Wfx1749111073271.js";import"./color-convert.qHFq7G1B1749111073271.js";import"./lodash.DTzc0FP21749111073271.js";import"./d3-geo.DN01SwhI1749111073271.js";import"./d3-array.DtK5BhF11749111073271.js";import"./@mapbox.B8uYRbGC1749111073271.js";import"./three-mesh-bvh.DJZtjPOF1749111073271.js";import"./index.pQzpmr5P1749111073271.js";import"./object-hash.DIsB37YY1749111073271.js";import"./jszip.DZIF7m9a1749111073271.js";import"./SPE.JSEIjpXf1749111073271.js";import"./postprocessing.CFk4752N1749111073271.js";import"./@vueuse.BjDsO4x01749111073271.js";const ao={renderOrder:3e3},so=["args"],uo=["map","side","color"],co=H({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(o){let t,r;const n=o,{map:i}=([t,r]=A((()=>v({map:"./plugins/digitalCity/image/line.png"}))),t=await t,r(),t);i.needsUpdate=!0,i.wrapS=i.wrapT=x,i.repeat.set(1,1);const a=([t,r]=A((()=>q(n.geoJson))),t=await t,r(),t);let s=[];for(var u=0;u<a.length;u++){const o=a[u],t=[];o.geometry.coordinates.forEach((o=>{const r=e(o[0],o[1],50);t.push(new C(r[0],0,-r[1]))}));let r=n.color;r="primary"===o.properties.highway?"#7eff10":"tertiary"===o.properties.highway?"#0eeeee":"secondary"===o.properties.highway?"#ffffff":"#ff0ffe",s.push({cr3:new w(t),color:r})}const{onLoop:c}=h();return c((()=>{i.offset.x-=Math.random()/20*n.speed})),(o,e)=>(K(),Z("TresGroup",null,[(K(!0),Z(F,null,D(N(s),(o=>(K(),Z("TresMesh",ao,[V("TresTubeGeometry",{args:[o.cr3,64,n.radius,20,!1]},null,8,so),V("TresMeshBasicMaterial",{map:N(i),side:N(y),transparent:!0,color:o.color},null,8,uo)])))),256))]))}}),lo=o=>{o.onLoadTileSet=e=>{const t=new j,r=new S,n=new P;let i=null,a=0;o.getOrientedBounds(t,n)?(i=(new C).setFromMatrixPosition(n),a=i.length()):o.getBoundingSphere(r)&&(i=r.center.clone(),a=i.length());const s=i?.normalize(),u=((o,e)=>{const t=new k,r=(new C).crossVectors(o,e);return t.x=r.x,t.y=r.y,t.z=r.z,t.w=1+o.clone().dot(e),t.normalize(),t})(s,new C(0,1,0));o.group.quaternion.x=u.x,o.group.quaternion.y=u.y,o.group.quaternion.z=u.z,o.group.quaternion.w=u.w,o.group.position.z=-a}},po=["object","rotation"],fo=H({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(e){const t=e,r=E(0),n=new io("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");n.errorTarget=2,n.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{if(e.isMesh){(e=>{const{geometry:n}=e;n.computeBoundingBox(),n.computeBoundingSphere();const{max:i,min:a}=n.boundingBox,s=new o({baseMaterial:new B,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new T(t.bulidingsColor)},uOpacity:{value:t.opacity},uLightColor:{value:new T("#ffffff")},uTopColor:{value:new T(t.topColor)},uTime:r,uGradient:{value:t.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:R});e.material.dispose(),e.material=s})(e),e.receiveShadow=!1,e.castShadow=!1;const n=new b(e.geometry.clone());let i=(new M).fromEdgesGeometry(n),a=new O({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const s=new Q(i,a);s.applyMatrix4(e.matrix.clone()),e.parent.add(s)}}));const i=new j,a=new S;n.getBoundingBox(i)?(i.getCenter(n.group.position),n.group.position.multiplyScalar(-1)):n.getBoundingSphere(a)&&(n.group.position.copy(a.center),n.group.position.multiplyScalar(-1))})),lo(n);const{renderer:i,sizes:a}=_();X((()=>{a.width.value&&(n.setCamera(t.camera),n.setResolutionFromRenderer(t.camera,i.value))}));const{onBeforeLoop:s}=h();return s((({delta:o})=>{r.value+=2*o,t.camera&&a.width.value&&(t.camera.updateMatrixWorld(),n.update())})),(o,e)=>(K(),Z("TresGroup",null,[V("primitive",{object:N(n).group,rotation:[-Math.PI/2,0,0]},null,8,po)]))}}),mo=["object","rotation"],Wo=H({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(o,{expose:e}){const s=o,{renderer:u,scene:c}=_(),l=new r;l.coordType=t;const p=new n;p.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",p.showTileNo=!1,p.useWorker=!0;const d=new i(l,p);d.showBoundingBox=!1,d.wireframe=!1,d.flatShading=!1,d.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let f=new T("#4688b5");d.filter.monochrome={r:f.r,g:f.g,b:f.b};const m=new a;m.provider=d,m.bbox=s.bbox,m.maxZoom=s.maxZoom,s.camera.up=new C(0,1,0),s.camera.position.set(s.mapCenter[0],s.mapCenter[2],2e3-s.mapCenter[1]),s.camera.lookAt(new C(s.camera.position.x,0,s.camera.position.z-3e3)),m.camera=s.camera;let W=null;X((()=>{u.value&&(W=new z(s.camera,u.value.domElement),W.enableDamping=!0,W.dampingFactor=.05,W.minDistance=600,W.position0.set(s.camera.position.x,s.camera.position.y,s.camera.position.z),W.target.set(s.camera.position.x,0,s.camera.position.z-2e3))}));const{onLoop:g}=h();return g((()=>{if(u.value){const o=50*Math.abs(s.camera.position.y);s.camera.far=o+5e3,s.camera.updateProjectionMatrix(),W&&(W.update(),W.target.y=0),m.update(),u.value.render(c.value,s.camera)}})),e({camera:s.camera,map:m}),(o,e)=>(K(),Z("primitive",{object:N(m),rotation:[-Math.PI/2,0,0]},null,8,mo))}});!function(){function o(o,e,t,r,n){return xo(n-997,e)}function e(o,e,t,r,n){return xo(t-232,o)}var t=Co();function r(o,e,t,r,n){return xo(e-643,n)}function n(o,e,t,r,n){return xo(o-254,t)}for(;;)try{if(487963===-parseInt(o(0,"%#s9",0,0,1463))/1+-parseInt(o(0,"fPIj",0,0,1522))/2*(-parseInt(e("sK50",0,721))/3)+parseInt(e("Cy36",0,738))/4*(-parseInt(r(0,1162,0,0,"j!Bh"))/5)+parseInt(n(778,0,"sK50"))/6+parseInt(n(764,0,"e$&7"))/7*(-parseInt(r(0,1114,0,0,"^@(t"))/8)+parseInt(r(0,1175,0,0,"(^Jq"))/9*(parseInt(n(772,0,"mmu$"))/10)+parseInt(xo(-404- -913,"tLkh"))/11)break;t.push(t.shift())}catch(i){t.push(t.shift())}}();var go,ho=(go=!0,function(o,e){function t(o,e,t,r,n){return xo(r-981,n)}function r(o,e,t,r,n){return xo(e-175,r)}if(t(0,0,0,1473,"(^Jq")===r(0,677,0,"rVwL")){var n=go?function(){function n(o,e,t,n,i){return r(0,o- -985,0,t)}function i(o,e,r,n,i){return t(0,0,0,r- -1373,i)}function a(o,e,r,n,i){return t(0,0,0,o- -1212,r)}function s(o,e,t,n,i){return r(0,n- -823,0,t)}function u(o,e,t,n,i){return r(0,n- -420,0,i)}if("ZGJGT"!==n(-342,0,"^@(t")){var c;try{c=_0x3d0e5f(u(0,0,0,298,"0WXK")+'{}.constructor("return this")( ));')()}catch(v){c=_0x452e02}for(var l=c[u(0,0,0,266,"Weu&")]=c[n(-341,0,"(^Jq")]||{},p=["log",i(0,0,109,0,"^ff9"),u(0,0,0,232,"N4^v"),a(248,0,"F@e@"),u(0,0,0,282,"%XC)"),a(290,0,"A6n9"),n(-306,0,"(^Jq")],d=0;d<p[n(-298,0,"ZHor")];d++){var f=_0x9ce487[u(0,0,0,242,"jK7L")][a(305,0,"tLkh")].bind(_0x122b1f),m=p[d],W=l[m]||f;f[a(249,0,"rVwL")]=_0x25deaa[s(0,0,"[Iob",-145)](_0x2e9b49),f[n(-312,0,"sK50")]=W[i(0,0,93,0,"(^Jq")][n(-320,0,"Cy36")](W),l[m]=f}}else if(e){if(a(269,0,"5zdv")===a(300,0,"8%cG")){var g=e[s(0,0,"Qwr%",-155)](o,arguments);return e=null,g}if(_0x47828f){var h=_0x357616[s(0,0,"*Iw@",-141)](_0x37f4e3,arguments);return _0x4e58bd=null,h}}}:function(){};return go=!1,n}var i=_0x3a36d7(r(0,714,0,"e$&7")+t(0,0,0,1516,"a4C@")+");");_0x5505b5=i()})(void 0,(function(){function o(o,e,t,r,n){return xo(n- -827,t)}return ho.toString().search("(((.+)+)+)+$").toString()[o(0,0,"sK50",0,-301)](ho).search(o(0,0,"y@e[",0,-355))}));ho();var vo,_o=(vo=!0,function(o,e){function t(o,e,t,r,n){return xo(e-164,o)}if("wMJuK"===t("Qtr#",642)){var r=vo?function(){function r(o,e,r,n,i){return t(o,r-463)}function n(o,e,r,n,i){return t(r,i-366)}function i(o,e,r,n,i){return t(r,e- -301)}if(r("5zdv",0,1115)===n(0,0,"%#s9",0,1025)){var a=_0xd25a56?function(){if(_0x4b7451){var o=_0x4f4b9e[(e="[Iob",r=271,t(e,r-135- -541))](_0x2c0841,arguments);return _0x3051fe=null,o}var e,r}:function(){};return _0x461a5a=!1,a}if(e){if(n(0,0,"j!Bh",0,1050)!==r("5zdv",0,1164)){var s=e[r("jK7L",0,1124)](o,arguments);return e=null,s}return _0x1e8daa.toString()[i(0,346,"jK7L")]((u=2,c="F@e@",t(c,u- -704))).toString().constructor(_0xcb7022)[n(0,0,"#1#2",0,1045)](i(0,330,"!KEG"))}var u,c}:function(){};return vo=!1,r}_0x1e2c2a=_0x33c9e8});function xo(o,e){var t=Co();return xo=function(e,r){var n=t[e-=465];if(void 0===xo.yKfBnk){var i=function(o){for(var e,t,r="",n="",a=r+i,s=0,u=0;t=o.charAt(u++);~t&&(e=s%4?64*e+t:t,s++%4)?r+=a.charCodeAt(u+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var c=0,l=r.length;c<l;c++)n+="%"+("00"+r.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(n)};xo.wNZCWr=function(o,e){var t,r,n=[],a=0,s="";for(o=i(o),r=0;r<256;r++)n[r]=r;for(r=0;r<256;r++)a=(a+n[r]+e.charCodeAt(r%e.length))%256,t=n[r],n[r]=n[a],n[a]=t;r=0,a=0;for(var u=0;u<o.length;u++)a=(a+n[r=(r+1)%256])%256,t=n[r],n[r]=n[a],n[a]=t,s+=String.fromCharCode(o.charCodeAt(u)^n[(n[r]+n[a])%256]);return s},o=arguments,xo.yKfBnk=!0}var a=e+t[0],s=o[a];if(s)n=s;else{if(void 0===xo.VzhyYY){var u=function(o){this.llJHPM=o,this.QafAOi=[1,0,0],this.BAaTTl=function(){return"newState"},this.ltmSXl="\\w+ *\\(\\) *{\\w+ *",this.DSGIdH="['|\"].+['|\"];? *}"};u.prototype.lkfxsD=function(){var o=new RegExp(this.ltmSXl+this.DSGIdH).test(this.BAaTTl.toString())?--this.QafAOi[1]:--this.QafAOi[0];return this.KocJmd(o)},u.prototype.KocJmd=function(o){return Boolean(~o)?this.vcZIKH(this.llJHPM):o},u.prototype.vcZIKH=function(o){for(var e=0,t=this.QafAOi.length;e<t;e++)this.QafAOi.push(Math.round(Math.random())),t=this.QafAOi.length;return o(this.QafAOi[0])},new u(xo).lkfxsD(),xo.VzhyYY=!0}n=xo.wNZCWr(n,r),o[a]=n}return n},xo(o,e)}function Co(){var o=["E2FcQ1b4uvm","WOeFo1zooG","W5qZBJ1c","E2FcQ1bJt0n4W4hcImk7","WOtdLCoeW5y/WRW","EhFdSCk0WQ8","WRJdJY1Zc8kgl2ZcULJcOq","nb7dTJilbwrG","W5xdVdiaW7/cPSoIfaFdT3Xs","WPtcSvvsWOu","ANbuW5RdVG","WPVdLColW4mOWRW","wmkQWQNdRSkQWQa6W6iQhei","i8o1W7uYD8kYxKXrWQpdRCodWP8","W6e1rmkXWRDDW6eNW6a","CCkQWQHZmCo0g3vuWP3dIq","EeddTSk7WQZcJSo4WOPn","WPz+W6WllHxdQSo+WPC","trPHW6VcRmkEWP7cSG","e8kWzCkQW4HNWPe/WO0","qrpdRSkbna","W6/dQSkJBmoLWPhdVc5dlXa","FSoLW4ldI8oglSotpWhdNSkPWP4","jmkgwCoDW7hdS0BcMCokvhddOG","afCBW5dcS8kbWQZcOSkPWRJcRmkZWOpcOSkVsduHW44jp3dcHb7dTHi5WOtcUw3cQ8kZ","WOucWPL2imk7rfRcSa","WOnLWPXjWRG","mG/dJMddJq","otSFjgJdVw3dV8oiWP/cMdtdG2FcNCkvlbrX","y8oRWRNdKgWdrre","WOtcQMLaWQldUSop","BLxcHY3cG1tcLSk3j8oMWPldNa","W4HQW6JcQeeEBu3cNtruW6xcSfFdUmoRsCkKW5a","W4hdJwVcMW","qG7dQaqBjavoBrjdW4O","zCkIWOZcGSoke8kAW7RdJSkiW71v","tCodWQddO0O","WR3cT8o7jSkZWONdIW","dCkEkGm6WQjYW6aQkmoqWR5n","jCkWWO/dT2ySxc8","q8kWWRddS8kYW4v/WRHKBr7dRa","oCkXWPxcKCks","BePnW4CDiSkOwmopF3fVW5y","WPpcQLrhWR/dV8oeiG","WQTfWRvaWQ8","FCkUW5VcIq","zSkRW7tcUxS","iW/dNwZdMG","sCoGhmkCWQZcT2hcL8og","cu9bW4BcRSkbW7/dVSk9WRJcOCkKWPJcUCoObg9TWPO","rGZdRWaEiWHdCtvJW6O","WQj2WRm9wYi","oSoRW5BdGG","WQRcT8ogiCkUWOZdGcm","EeRdP8kXWQ4","WRj8WRW8tdHFCCovvIa","WPnWWQPcWQq","iCo3W7CZDSokagvfWQRdJa","WPPDWQxdNa","lqGrWOfaySoHCSoB","WPJcSmo0mSks","z8kbd3P5","tXddK8kfnmkOW7O","kwRcPgfK","cCoXW7BcUq","WRbJWQiJqq","zSkQWPv0n8oVahe","WRz1WQLOWOj/bSowua","WOrgWOPTWOi","vCoMi8ka","umoxdCkjWO0","W5CQCdu","WQRcQSo0nSk5","l8k5WPNcMq","W40gWRhdI8oVWO9gW5m","paOoWPLw","W7uCW4GM","W4XbW4uYF8o6cexcNCoGcSoaWOi","FgLzyY7cPc7cLmoLWRZcMJ4"];return(Co=function(){return o})()}_o(void 0,(function(){function o(o,e,t,r,n){return xo(n-266,t)}function e(o,e,t,r,n){return xo(n-667,t)}var t;function r(o,e,t,r,n){return xo(o-942,n)}try{t=Function(s("a4C@",-369,-369,-340,-348)+'{}.constructor("return this")( ));')()}catch(f){if(o(0,0,"5zdv",0,742)===r(1458,0,0,0,"%XC)")){var n=_0x3352e8?function(){if(_0x267c60){var o=_0x3cd702.apply(_0x42cc00,arguments);return _0x5480fe=null,o}}:function(){};return _0x5d6851=!1,n}t=window}var i=t[s("j!Bh",-249,-298,-280)]=t[s("8%cG",-301,-313,-327)]||{};function a(o,e,t,r,n){return xo(t-183,r)}function s(o,e,t,r,n){return xo(r- -821,o)}for(var u=["log",a(0,0,667,"!KEG"),"info",e(0,0,"%XC)",0,1153),"exception",s("(7Rf",0,0,-348),r(1480,0,0,0,"F@e@")],c=0;c<u[r(1464,0,0,0,"#1#2")];c++){var l=_o[o(0,0,"Weu&",0,780)][a(0,0,674,"*Iw@")][r(1438,0,0,0,"y@e[")](_o),p=u[c],d=i[p]||l;l.__proto__=_o[e(0,0,"(7Rf",0,1172)](_o),l.toString=d[s("^@(t",0,0,-281)][r(1407,0,0,0,"Lvod")](d),i[p]=l}}))();const wo=H({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(o){const t=e(113.9456,22.5385,50),r=e(113.9498,22.5364,50);return(o,e)=>(K(),Z(F,null,[Y(N(u),{color:"#00c0ff",radius:300,size:300,position:[o.cPosition[0],8,-o.cPosition[1]]},null,8,["position"]),(K(),U(oo,null,{default:$((()=>[Y(N(l),{position:[o.cPosition[0],8,-o.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),Y(N(c),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(K(),U(oo,null,{default:$((()=>[Y(N(l),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(K(),U(oo,null,{default:$((()=>[Y(N(p),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[o.cPosition[0]+280,1,120-o.cPosition[1]]},null,8,["position"])])),_:1})),(K(),U(oo,null,{default:$((()=>[Y(N(d),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(K(),U(oo,null,{default:$((()=>[Y(N(f),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(K(),U(oo,null,{default:$((()=>[Y(N(m),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[o.cPosition[0],300,-o.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(K(),U(oo,null,{default:$((()=>[Y(N(W),{cPosition:[o.cPosition[0],600,-o.cPosition[1]]},null,8,["cPosition"])])),_:1})),Y(N(g),{"position-y":6,positionSrc:[{x:N(t)[0],y:-N(t)[1]},{x:N(t)[0],y:-N(r)[1]},{x:N(r)[0],y:-N(r)[1]},{x:N(r)[0],y:-N(t)[1]},{x:N(t)[0],y:-N(t)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(K(),U(oo,null,{default:$((()=>[Y(N(co),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),yo=H({__name:"mapBuildings",setup(o){const t=e(113.942639739199,22.53171672540276,50),r=eo(),n=to({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:J,outputColorSpace:L,toneMapping:G}),i=[t[0],t[1],1700],a=new I(60,window.innerWidth/window.innerHeight,1,1e8);return(o,e)=>{const u=ro("TresCanvas");return K(),Z(F,null,[Y(u,no(n,{"window-size":""}),{default:$((()=>[e[0]||(e[0]=V("TresAmbientLight",{color:"#ffffff"},null,-1)),e[1]||(e[1]=V("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),Y(N(fo),{position:[N(t)[0],1,228-N(t)[1]],camera:N(a)},null,8,["position","camera"]),(K(),U(oo,null,{default:$((()=>[Y(N(Wo),{ref_key:"tileMapBuildingsMeshRef",ref:r,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:N(a)},null,8,["camera"])])),_:1})),(K(),U(oo,null,{default:$((()=>[Y(wo,{cPosition:N(t)},null,8,["cPosition"])])),_:1})),e[2]||(e[2]=V("TresGridHelper",{args:[1e4,10]},null,-1)),e[3]||(e[3]=V("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),Y(s,{tileMapRef:r.value},null,8,["tileMapRef"])],64)}}});export{yo as default};
