import{a6 as t,h as n}from"./three.0IuNGJsA1725236486446.js";import{p as e}from"./@tresjs.DDzpLB7Q1725236486446.js";import{d as o,P as a}from"./@pmndrs.wB6eVnfc1725236486446.js";import{d as r,b as s,w as i,a1 as c,o as u,D as l,J as f,aj as p,ak as d}from"./@vue.9bHx4gg21725236486446.js";const h=y;!function(t,n){const e=y,o=M();for(;;)try{if(461497===-parseInt(e(381))/1+-parseInt(e(462))/2*(parseInt(e(401))/3)+-parseInt(e(430))/4*(-parseInt(e(442))/5)+parseInt(e(426))/6+-parseInt(e(448))/7*(-parseInt(e(392))/8)+-parseInt(e(382))/9*(parseInt(e(453))/10)+parseInt(e(377))/11)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[y(424)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=y,n=new RegExp(t(419)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=I(t(431));n[t(416)](o+t(380))&&e[t(416)](o+t(459))?I():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[y(424)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=y;let n;try{n=Function(t(397)+t(374)+");")()}catch(a){n=window}const e=n.console=n[t(456)]||{},o=[t(458),t(450),t(463),"error",t(393),t(433),"trace"];for(let r=0;r<o.length;r++){const n=g.constructor[t(415)].bind(g),a=o[r],s=e[a]||n;n[t(434)]=g[t(455)](g),n[t(385)]=s[t(385)][t(455)](s),e[a]=n}}))();const w=[h(405)],b=f(h(403),{args:[1,1]},null,-1);function y(t,n){const e=M();return(y=function(t,n){return e[t-=374]})(t,n)}function M(){const t=["height","call","14pfufmN","castShadow","warn","lightPosition","remove","6110wLkKYn","set","bind","console","prepare","log","input","color","children","136KQCJvv","info",'{}.constructor("return this")( )',"random","while (true) {}","5798056kSiQfR","amount","radius","chain","511130qsEEej","11817wFmDxz","Vector3","bias","toString","mapSize","sin","configure","texture","gger","DirectionalLight","2214496xOxgrb","exception","action","shadow","#000000","return (function() ","update","acos","width","8121olqegZ","size","TresPlaneGeometry","far","rotate-x","blend","bottom","shadows plm update","cos","value","right","left","shadows render end","Group","prototype","test","opacity","alphaTest","function *\\( *\\)","accumulativeShadowsCom","randFloatSpread","TresMesh","top","apply","length","4589346JRgKXE","near","gPlane","blendWindow","76yfyqLP","init","constructor","table","__proto__","progressiveLightMap2","ambient","debu","position","MathUtils","camera","material","29825aTiSJd","frames","finish","add"];return(M=function(){return t})()}const x=r({__name:h(420),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(396)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=h,g=r;let y=s();const{extend:M,scene:x,renderer:I,camera:v}=e();M({SoftShadowMaterial:o});const z={position:(new(t[m(383)]))[m(454)](g.lightPosition.x,g[m(451)].y,g[m(451)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},S=new a(I.value,x[m(410)],z[m(386)]),P={map:S[m(435)][m(389)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g.blend,alphaTest:g[m(418)],opacity:g.opacity,color:g.color},_=new(t[m(414)]);for(let n=0;n<z[m(378)];n++){const n=new(t[m(391)])(16777215,z.intensity/z.amount);n[m(449)]=!0,n[m(395)].bias=z[m(384)],n.shadow[m(440)][m(427)]=z[m(427)],n[m(395)][m(440)][m(404)]=z[m(404)],n[m(395)].camera[m(411)]=z[m(402)]/2,n[m(395)].camera[m(412)]=-z.size/2,n[m(395)][m(440)][m(423)]=z[m(402)]/2,n[m(395)][m(440)][m(407)]=-z[m(402)]/2,n[m(395)][m(386)][m(400)]=z[m(386)],n[m(395)][m(386)][m(446)]=z[m(386)],_[m(445)](n)}const j=()=>{const e=m,o=z.position[e(425)]();for(let a=0;a<_[e(461)].length;a++){const r=_[e(461)][a];if(Math[e(375)]()>g[e(436)])r[e(438)].set(z[e(438)].x+n[e(421)](z[e(379)]),z[e(438)].y+t[e(439)][e(421)](z[e(379)]),z.position.z+t[e(439)][e(421)](z[e(379)]));else{let t=Math[e(399)](2*Math.random()-1)-Math.PI/2,n=2*Math.PI*Math.random();r[e(438)].set(Math[e(409)](t)*Math[e(409)](n)*o,Math.abs(Math[e(409)](t)*Math[e(387)](n)*o),Math[e(387)](t)*o)}}},T=(t=1)=>{const n=m;x[n(410)][n(445)](_),S[n(457)]();for(let e=0;e<t;e++)j(),S[n(398)](v.value,g[n(429)]),console[n(458)](n(408),e);x.value[n(452)](_),S[n(444)]()};i((()=>y[m(410)]),(t=>{const n=m;t&&(S[n(388)](t),S.clear(),console[n(458)]("shadows render start"),T(g[n(443)]),console.log(n(413)))}));const k=()=>{S.clear(),T(g.frames)};return c((()=>{const t=m;y.value&&(g[t(417)]&&(y[t(410)][t(441)][t(417)]=g[t(417)]),g[t(418)]&&(y[t(410)][t(441)][t(418)]=g[t(418)]),g[t(460)]&&y[t(410)].material[t(460)].set(g.color),g.blend&&(y[t(410)][t(441)][t(406)]=g[t(406)]))})),i((()=>g[m(451)]),(t=>{const n=m;t&&(console[n(458)](g[n(451)]),z[n(438)].set(t.x,t.y,t.z),k())}),{deep:!0}),i((()=>[g.frames,g[m(429)],g[m(436)]]),(()=>{k()})),(t,n)=>{const e=m;return u(),l(e(422),{"receive-shadow":"",ref_key:e(428),ref:y,scale:10,"rotate-x":-Math.PI/2},[b,f("TresSoftShadowMaterial",p(d(P)),null,16)],8,w)}}});function I(t){function n(t){const e=y;if("string"==typeof t)return function(t){}[e(432)](e(376))[e(424)]("counter");1!==(""+t/t)[e(425)]||t%20==0?function(){return!0}[e(432)](e(437)+"gger")[e(447)](e(394)):function(){return!1}.constructor("debu"+e(390))[e(424)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
