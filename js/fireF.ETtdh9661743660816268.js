import{_ as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.YKMl6SIC1743660816268.js";import{T as e,b as s,V as i,h as n,a8 as r,e as a,n as o,t as c,a7 as h,c as l,au as u,ad as d,a$ as p,C as m}from"./three.2wx8FU0g1743660816268.js";import{m as f,e as S}from"./@tresjs.zc7faK4J1743660816268.js";import{d as w,b as g,a2 as y,o as v,f as x,g as P,j as I}from"./@vue.B5PFBfKs1743660816268.js";import"./three-custom-shader-material.uMc5A1EX1743660816268.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";const F=nt;!function(t,e){const s=nt,i=ct();for(;;)try{if(910576===parseInt(s(840))/1+parseInt(s(536))/2*(parseInt(s(678))/3)+-parseInt(s(415))/4+parseInt(s(394))/5+parseInt(s(853))/6*(-parseInt(s(733))/7)+-parseInt(s(508))/8+-parseInt(s(509))/9*(parseInt(s(706))/10))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();class A{static[F(608)]=new A(F(608));static[F(639)]=new A(F(639));constructor(t){this[F(727)]=t}}class E{constructor(){this.init()}init(){const t=F;this[t(441)]=A[t(608)],this.lifetime=1,this.age=0,this[t(433)]=new(e[t(646)]),this[t(708)]=new s,this[t(703)]=new(e[t(667)]),this[t(444)]=new(e[t(667)]),this[t(523)]=new(e[t(667)]),this[t(592)]=0,this[t(820)]=0,this.size=new(e[t(611)]),this.color=new(e[t(460)]),this[t(663)]=1,this[t(825)]=new i,this[t(527)]=new(e[t(460)]),this[t(451)]=1}setAll(t,e,s,i,n,r,a,o,c,h,l,u,d,p,m,f){const S=F;this[S(441)]=t,this.lifetime=e,this[S(384)]=s,this[S(433)][S(811)](i),this.position[S(811)](n),this.velocity[S(811)](r),this[S(444)][S(811)](a),this[S(523)].copy(o),this[S(592)]=c,this.rotationalSpeed=h,this[S(619)]=l,this[S(674)][S(811)](u),this[S(663)]=d,this[S(825)].copy(p),this[S(527)].copy(m),this[S(451)]=f}[F(546)](t){const e=F;t[e(784)](this[e(441)],this.lifetime,this[e(384)],this[e(433)],this[e(708)],this[e(703)],this[e(444)],this[e(523)],this.rotation,this.rotationalSpeed,this[e(619)],this[e(674)],this.alpha,this[e(825)],this[e(527)],this[e(451)])}copy(t){const e=F;this.setAll(t[e(441)],t.lifetime,t[e(384)],t.sequenceElement,t.position,t[e(703)],t[e(444)],t.normal,t.rotation,t[e(820)],t[e(619)],t[e(674)],t[e(663)],t[e(825)],t[e(527)],t[e(451)])}}class z{constructor(){const t=F;this[t(826)]=0,this.activeParticleCount=0,this[t(817)]=[]}[F(402)](t){this[F(544)](t)}[F(544)](t){const e=F;this[e(826)]!=t&&(this[e(736)](),this[e(662)](t)),this.particleCount=t}setActiveParticleCount(t){this.activeParticleCount=t}[F(662)](t){const e=F;this[e(817)]=[],this[e(826)]=t;for(let s=0;s<t;s++)this[e(817)][s]=new E}[F(736)](){}[F(781)](){return this.particleCount}flushParticleStateToBuffers(){}[F(776)](t,e){const s=F;if(t>=this.particleCount)throw new Error(s(530));if(e>=this.particleCount)throw new Error(s(751));const i=this.particleStates[t],n=this.particleStates[e];i[s(546)](n)}[F(741)](t,e){const s=F;if(t>=this[s(826)])throw new Error('ParticleStateArray::setState() -> "index" is out of range.');return this[s(817)][t][s(811)](e)}getState(t){const e=F;if(t>=this[e(826)])throw new Error(e(426));return this[e(817)][t]}computeBoundingBox=function(){const t=F,s=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[nt(408)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();s(this,(function(){const t=nt,e=function(){const t=nt;let e;try{e=Function(t(428)+t(864)+");")()}catch(s){e=window}return e}(),i=e[t(855)]=e[t(855)]||{},n=[t(514),t(821),t(510),t(589),t(809),t(643),t(405)];for(let r=0;r<n[t(551)];r++){const e=s.constructor[t(475)][t(834)](s),a=n[r],o=i[a]||e;e.__proto__=s[t(834)](s),e[t(777)]=o.toString[t(834)](o),i[a]=e}}))();const i=new(e[t(667)]);return function(s=new(e[t(763)]),n=null){const r=t,a=s[r(602)],o=s[r(464)];for(let t=0;t<this[r(573)];t++){const e=this.getState(t);let s=e[r(708)];n&&(i[r(811)](s),i[r(810)](n),s=i);const c=Math[r(464)](e[r(619)].x,e[r(619)].y),h=s.x-c,l=s.x+c,u=s.y-c,d=s.y+c,p=s.z-c,m=s.z+c;(0==t||s.x<a.x)&&(a.x=h),(0==t||s.x>o.x)&&(o.x=l),(0==t||s.y<a.y)&&(a.y=u),(0==t||s.y>o.y)&&(o.y=d),(0==t||s.z<a.z)&&(a.z=p),(0==t||s.z>o.z)&&(o.z=m)}return s}}();[F(449)]=function(){const t=F,i=new(e[t(667)]),n=new s,r=new(e[t(667)]);return function(s=new(e[t(412)]),a=null){const o=t;let c=0;for(let t=0;t<this.activeParticleCount;t++){const e=this.getState(t);let s=e[o(708)];a&&(r.copy(s),r[o(810)](a),s=r);const h=Math[o(464)](e[o(619)].x,e[o(619)].y);if(0==t)i[o(811)](s),c=h;else{n[o(811)](s)[o(843)](i);const t=n.length()+h;if(t>c){const e=(t-c)/2;n.normalize()[o(490)](e),i[o(791)](n),c+=e}}}return s[o(407)][o(811)](i),s[o(635)]=c,s}}()}class T{constructor(t,e,s=0){const i=F;this[i(437)]=t,this[i(551)]=e,this.id=s}}class b{constructor(){const t=F;this[t(804)]={},this[t(636)]=[]}[F(803)](t,e,s){const i=F;if(this[i(472)](s))throw new Error(i(599));const n=new T(t,e,s);return this[i(804)][s]=n,this[i(636)][i(621)](s),n}[F(697)](t){const e=F;if(!this[e(472)](t))throw new Error(e(506));return this.sequences[t]}getSequenceIDs(){return this.ids}[F(472)](t){return!!this[F(804)][t]}}class R{constructor(){}initializeState(t){const e=F;t[e(527)].set(1,1,1),t[e(825)][e(632)](1,1),t.initialAlpha=1,t.progressType=A[e(608)],t.lifetime=0,t[e(384)]=0,t[e(433)][e(632)](0,0,0,0),t[e(708)][e(632)](0,0,0),t[e(703)][e(632)](0,0,0),t.acceleration[e(632)](0,0,0),t.normal[e(632)](0,0,1),t[e(592)]=0,t.rotationalSpeed=0,t[e(619)][e(811)](t.initialSize),t.color[e(811)](t[e(527)]),t[e(663)]=1}}class O extends R{constructor(){super()}[F(471)](t){super[F(471)](t)}}class C{constructor(){}[F(738)](){}}class V extends C{constructor(){const t=F;super(),this[t(597)]=new(e[t(667)]),this.timeScaledAcceleration=new(e[t(667)]),this[t(866)]=new(e[t(667)]),this[t(512)]=new(e[t(667)])}[F(738)](t,e){const s=F;return super[s(738)](t,e),this.stateAcceleration[s(811)](t[s(444)]),this[s(516)][s(811)](this[s(866)]),this[s(516)].multiplyScalar(e),t[s(703)].add(this.timeScaledAcceleration),this[s(512)].copy(t.velocity),this[s(597)][s(811)](this[s(512)]),this[s(597)][s(490)](e),t[s(708)][s(791)](this[s(597)]),t[s(384)]=t[s(384)]+e,t[s(592)]=t.rotation+e*t[s(820)],!0}}class q{static clamp(t,e,s){return Math[F(602)](Math.max(t,e),s)}static[F(392)](){return performance[F(846)]()/1e3}}class M{constructor(){this[F(594)]=[]}[F(414)](t){const e=F;this[e(594)][e(621)](t)}[F(637)](t,e){const s=F;for(const i of this[s(594)])i[s(637)](t,e)}getComponent(t){const e=F;if(t>=this[e(594)].length)throw new Error(e(783));return this.components[t]}}class N{static[F(759)]=new N(F(759));static[F(650)]=new N("Running");static Paused=new N(F(787));static[F(724)]=new N(F(724));constructor(t){this.name=t}}class U{constructor(t,s){const i=F;this.owner=t,this.owner[i(483)]=!1,this[i(483)]=!0,this.particleSystemRenderer=s,this[i(625)]=!1,this[i(861)]=0,this[i(573)]=0,this.simulateInWorldSpace=!0,this.emitterInitialized=!1,this.particleEmitter=null,this.componentContainer=new M,this[i(723)]=[],this[i(666)]=[],this[i(817)]=null,this.systemState=N[i(759)],this[i(411)]=new b,this[i(771)]=null,this.transformInitialDirectionInWorldSpace=!0,this.boundingBox=new n,this[i(466)]=new(e[i(412)])}init(t){const e=F;if(this[e(625)])throw new Error("ParticleSystem::init() -> trying to intialize more than once.");this[e(861)]=t,this[e(470)]?(this[e(470)][e(823)](this[e(503)]),this.particleSystemRenderer[e(402)](this[e(861)],this.simulateInWorldSpace),this[e(470)].setSimulateInWorldSpace(this[e(717)]),this[e(817)]=this.particleSystemRenderer[e(769)]()):(this[e(817)]=new z,this.particleStates.init(this[e(861)])),this.addParticleStateInitializer(new O),this[e(463)](new V),this[e(625)]=!0}[F(699)](){return this.visible}setVisibile(t){return this[F(483)]=t}[F(721)](t){this.onUpdateCallback=t}update(t,e){const s=F;if(this[s(671)]==N.Running){if(this[s(503)].updateWorldMatrix(!0),t=null==t||null==t?q[s(392)]():t,e=null==e||null==e?t-this[s(390)]:e,this[s(442)]&&this[s(671)]==N[s(650)]){const t=this[s(507)][s(637)](e);t>0&&this.activateParticles(t),this[s(665)](e),this[s(771)]&&this[s(771)](this[s(573)]),this.updateBounds()}this[s(604)][s(637)](t,e),this.lastUpdateTime=t}}[F(549)](t,e){const s=F;if(this[s(699)]()&&this[s(470)]){const i=t[s(766)];t[s(766)]=!1,this[s(503)][s(483)]=!0,this[s(503)][s(584)]=!0,this[s(470)][s(549)](this.owner,t,e),this[s(503)].visible=!1,t.autoClear=i}}[F(437)](){const t=F;this.systemState!=N[t(759)]&&this[t(671)]!=N[t(787)]||(this.systemState=N[t(650)],this[t(469)]=q[t(392)](),this[t(390)]=this[t(469)])}[F(393)](){const t=F;this[t(671)]==N[t(650)]&&(this[t(671)]=N[t(787)])}[F(829)](){}[F(749)](){return this[F(671)]}[F(860)](t){const e=F;return this[e(507)]=t,this[e(507)][e(861)]=this[e(861)],this[e(442)]=!0,this[e(507)]}[F(414)](t){this[F(604)].addComponent(t)}getComponent(t){return this[F(604)].getComponent(t)}[F(452)](t){const e=F;return this[e(723)][e(621)](t),t}[F(419)](){const t=F;return this[t(723)][t(551)]}[F(505)](t){if(t>=this.particleStateInitializers.length)throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this.particleStateInitializers[t]}addParticleStateOperator(t){const e=F;return this.particleStateOperators[e(621)](t),t}[F(679)](){const t=F;return this[t(666)][t(551)]}getParticleStateOperator(t){const e=F;if(t>=this.particleStateOperators[e(551)])throw new Error(e(567));return this[e(666)][t]}getMaximumActiveParticles(){return this[F(861)]}[F(806)](){return this[F(573)]}getParticleState(t){const e=F;if(t>=this[e(573)])throw new Error(e(624));return this[e(817)][e(386)](t)}getParticleStates(){return this[F(817)]}[F(557)](){return this[F(470)]}[F(745)](){return this.simulateInWorldSpace}[F(456)](t){const e=F;this[e(717)]=t,this.particleSystemRenderer&&this[e(470)][e(456)](this.simulateInWorldSpace)}setTransformInitialDirectionInWorldSpace(t){this[F(547)]=t}addParticleSequence(t,e,s=0){this[F(411)].addSequence(t,e,s)}[F(446)](){return this[F(411)]}getEmitter(){return this[F(507)]}updateBounds=function(){const t=F,s=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[nt(408)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){s(this,(function(){const t=nt,e=new RegExp(t(705)),s=new RegExp(t(795),"i"),i=St("init");e[t(830)](i+t(869))&&s[t(830)](i+t(587))?St():i("0")}))()}();const i=new(e[t(765)]);return function(){const e=t;let s=null;this[e(547)]&&(s=i,s.copy(this[e(503)][e(400)])[e(838)]()),this.particleSystemRenderer.calculatingBoundingSphereFromBox()?(this[e(817)].computeBoundingBox(this.boundingBox,s),this[e(470)][e(752)](this[e(729)])):(this[e(817)][e(449)](this.boundingSphere,s),this.particleSystemRenderer[e(399)](this[e(466)]))}}();[F(739)](t){const e=F;if(this[e(671)]==N.Running){const s=q[e(641)](this[e(573)]+t,0,this[e(861)]);for(let t=this[e(573)];t<s;t++)this[e(421)](t);this[e(573)]=s,this[e(817)].setActiveParticleCount(this[e(573)])}}[F(421)](t){const e=F;if(this[e(671)]==N[e(650)]){const s=this[e(817)].getState(t);s.age=0;for(let t=0;t<this[e(723)][e(551)];t++){this[e(723)][t][e(471)](s)}if(this.simulateInWorldSpace){s.position[e(810)](this[e(503)][e(400)]);const t=s[e(703)][e(551)]();if(this.transformInitialDirectionInWorldSpace){s.velocity.transformDirection(this[e(503)][e(400)])[e(490)](t);const i=s[e(444)][e(551)]();s[e(444)][e(813)](this[e(503)][e(400)])[e(490)](i)}}this[e(817)][e(764)](t)}}advanceActiveParticles(t){const e=F;if(this[e(671)]==N[e(650)]){let s=0;for(;s<this[e(573)];){this[e(424)](s,t)?s++:(s<this.activeParticleCount-1&&this.copyParticleInArray(this[e(573)]-1,s),this[e(573)]--)}this[e(817)].setActiveParticleCount(this[e(573)])}}[F(424)](t,e){const s=F;if(this[s(671)]==N[s(650)]){const i=this[s(817)][s(386)](t);for(let t=0;t<this.particleStateOperators[s(551)];t++){const n=this.particleStateOperators[t][s(738)](i,e),r=i.lifetime;if(!n||0!=r&&i[s(384)]>=r)return!1}return this.particleStates[s(764)](t),!0}return!1}[F(616)](t,e){const s=F;this[s(817)][s(776)](t,e),this[s(817)][s(764)](e)}static[F(609)](t,s,i){const n=F,r=(t,e,s)=>{const i=nt;e(t);for(const n in t)if(t[i(618)](n)){const s=t[n];typeof s===i(692)&&r(s,e)}};r(t,(t=>{const e=nt;t[e(418)]&&(t[e(418)]=s[e(711)](t[e(418)]))}));const a=t[n(583)],o=t.simulateInWorldSpace,c=t[n(622)],h=c[n(418)][n(609)](c[n(554)]),l=new(e[n(425)]),u=new U(l,h,i);u[n(402)](a),u.setSimulateInWorldSpace(o);const d=t.emitter,p=d[n(418)][n(609)](d.params);if(u[n(860)](p),t[n(804)])for(const e of t[n(804)])u[n(385)](e[n(437)],e[n(551)],e.id);if(t[n(700)])for(const e of t[n(700)])u[n(452)](e[n(418)][n(609)](u,e[n(554)]));if(t.operators)for(const e of t[n(850)]){const t=u[n(463)](e.type[n(609)](u,e.params));e.elements&&t.addElementsFromParameters(e[n(627)])}return[u,l]}[F(524)](t){const e=F,s=this[e(557)](),i=this.getEmitter(),n=this.getParticleSequences(),r=n[e(689)]()[e(798)]((t=>{const s=e,i=n[s(697)](t);return{id:t,start:i[s(437)],length:i[s(551)]}})),a=[],o=this[e(419)]();for(let l=0;l<o;l++){const s=this[e(505)](l);s[e(746)]!==O&&a.push({type:t[e(748)](s[e(746)]),params:s[e(524)](t)})}const c=[],h=this[e(679)]();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s.constructor!==V){const i=s.toJSON(t),n=i.params||i,r=i.params?i[e(627)]:null,a={type:t[e(748)](s[e(746)]),params:n};r&&(a[e(627)]=r),c[e(621)](a)}}return{maxParticleCount:this[e(538)](),simulateInWorldSpace:this[e(745)](),renderer:{type:t[e(748)](s[e(746)]),params:s[e(524)]()},emitter:{type:t[e(748)](i.constructor),params:i.toJSON()},sequences:r,initializers:a,operators:c}}}class B{constructor(){const t=F;this.particleSystems=[],this[t(542)]=performance[t(846)]()/1e3,this[t(390)]=this[t(542)],this[t(604)]=new M}[F(637)](){const t=F,e=q[t(392)](),s=e-this[t(390)];for(const i of this.particleSystems)i[t(637)](e,s);this[t(604)][t(637)](e,s),this.lastUpdateTime=e}[F(549)](t,e){const s=F;for(const i of this[s(685)])i[s(549)](t,e)}addParticleSystem(t){this[F(685)].push(t)}addComponent(t){this.componentContainer.addComponent(t)}getComponent(t){const e=F;return this[e(604)][e(767)](t)}}class _{constructor(){const t=F;this[t(625)]=!1,this[t(826)]=0,this.owner=null,this.simulateInWorldSpace=!1}setSimulateInWorldSpace(t){this.simulateInWorldSpace=t}getParticleStateArray(){}[F(823)](t){this[F(503)]=t}[F(402)](t){const e=F;if(this[e(826)]=t,!this[e(625)])return this.initialized=!0,!0;throw new Error(e(695))}[F(549)](){}}class W extends z{constructor(){const t=F;super(),this.geometry=null,this[t(675)]=null,this[t(786)]=null,this[t(696)]=null,this[t(654)]=null,this[t(550)]=null,this[t(681)]=null,this[t(615)]=null,this.normals=null,this[t(552)]=null,this.rotationalSpeeds=null,this[t(839)]=null,this[t(753)]=null,this[t(438)]=null,this.initialColors=null,this.instanced=!1,this[t(835)]=6}[F(402)](t,e=!1){const s=F;this[s(837)]=e,this[s(837)]?this[s(835)]=1:this[s(835)]=6,super[s(402)](t),this[s(662)](t)}setParticleCount(t){super.setParticleCount(t)}setActiveParticleCount(t){const e=F;super[e(743)](t),t>0?this[e(837)]?this[e(661)][e(467)]=t:this[e(661)][e(491)](0,this[e(835)]*t):this.instanced?this[e(661)][e(467)]=0:this[e(661)].setDrawRange(0,0)}[F(764)](t){const e=F;if(t>=this[e(826)])throw new Error(e(691));const s=this[e(386)](t),i=t*this[e(835)];for(let n=0;n<this.verticesPerParticle;n++)this[e(786)][e(800)](i+n,s[e(782)]),this[e(786)][e(531)]=!0,this[e(696)][e(800)](i+n,s[e(384)]),this[e(696)][e(531)]=!0,this[e(654)][e(443)](i+n,s[e(433)].x,s[e(433)].y,s[e(433)].z,s.sequenceElement.w),this[e(654)][e(531)]=!0,this[e(550)][e(436)](i+n,s[e(708)].x,s[e(708)].y,s.position.z),this[e(550)][e(531)]=!0,this[e(681)].setXYZ(i+n,s[e(703)].x,s[e(703)].y,s.velocity.z),this.velocities.needsUpdate=!0,this[e(615)][e(436)](i+n,s[e(444)].x,s.acceleration.y,s.acceleration.z),this[e(615)].needsUpdate=!0,this[e(403)][e(436)](i+n,s[e(523)].x,s[e(523)].y,s[e(523)].z),this[e(403)][e(531)]=!0,this[e(552)].setX(i+n,s[e(592)]),this[e(552)][e(531)]=!0,this[e(496)][e(800)](i+n,s[e(820)]),this[e(496)].needsUpdate=!0,this[e(839)][e(389)](i+n,s[e(619)].x,s.size.y),this[e(839)][e(531)]=!0,this[e(753)].setXYZ(i+n,s[e(674)].r,s[e(674)].g,s[e(674)].b),this[e(753)][e(531)]=!0,this[e(388)][e(800)](i+n,s.alpha),this.alphas[e(531)]=!0,this[e(438)][e(389)](i+n,s[e(825)].x,s[e(825)].y),this[e(438)][e(531)]=!0,this.initialAlphas[e(800)](i+n,s.initialAlpha),this[e(406)].needsUpdate=!0}[F(776)](t,e){const s=F;super[s(776)](t,e),this[s(764)](e)}[F(741)](t,e){const s=F;if(t>=this[s(826)])throw new Error(s(455));super.setState(t,e),this.flushParticleStateToBuffers(t)}[F(540)](){return this.positions}[F(409)](){return this[F(839)]}getRotations(){return this.rotations}[F(581)](){return this[F(654)]}getColors(){return this[F(753)]}[F(712)](){return this[F(661)]}allocate(t){const s=F;super.allocate(t);const i=(t,e)=>this[nt(837)]?new h(t,e):new l(t,e),n=this[s(835)]*this[s(826)];if(this[s(837)]){const t=new(e[s(482)]),i=new Float32Array(18);this[s(420)]=new(e[s(655)])(i,3),t[s(652)]("position",this[s(420)]),this.basePositions.needsUpdate=!0,this[s(420)][s(436)](0,-1,1,0),this[s(420)].setXYZ(1,-1,-1,0),this.basePositions[s(436)](2,1,1,0),this[s(420)].setXYZ(3,-1,-1,0),this[s(420)][s(436)](4,1,-1,0),this[s(420)][s(436)](5,1,1,0);const n=new Float32Array(12);this[s(672)]=new(e[s(655)])(n,2),t[s(652)](s(734),this.baseUVs),this[s(672)][s(531)]=!0,this[s(672)][s(389)](0,0,1),this[s(672)].setXY(1,0,0),this[s(672)][s(389)](2,1,1),this.baseUVs[s(389)](3,0,0),this.baseUVs[s(389)](4,1,0),this.baseUVs[s(389)](5,1,1);const r=new Float32Array(6);this[s(857)]=new(e[s(655)])(r,1),t[s(652)](s(479),this[s(857)]),this[s(857)][s(531)]=!0,this.customIndexes[s(800)](0,0),this[s(857)][s(800)](1,1),this[s(857)][s(800)](2,3),this[s(857)].setX(3,1),this[s(857)][s(800)](4,2),this.customIndexes.setX(5,3),this[s(661)]=(new(e[s(732)]))[s(811)](t),this[s(661)][s(467)]=0}else{this[s(661)]=new(e[s(482)]);const t=new Float32Array(n);this[s(857)]=new(e[s(655)])(t,1),this[s(661)].setAttribute(s(479),this[s(857)]),this[s(857)][s(531)]=!0;for(let e=0;e<this[s(826)];e++){const t=e*this[s(835)];this.customIndexes.setX(t,0),this.customIndexes[s(800)](t+1,1),this[s(857)].setX(t+2,3),this[s(857)][s(800)](t+3,1),this.customIndexes[s(800)](t+4,2),this[s(857)].setX(t+5,3)}}const a=new Float32Array(n),o=new Float32Array(n),c=new Float32Array(4*n),u=new Float32Array(3*n),d=new Float32Array(3*n),p=new Float32Array(3*n),m=new Float32Array(3*n),f=new Float32Array(n),S=new Float32Array(n),w=new Float32Array(2*n),g=new Float32Array(3*n),y=new Float32Array(n),v=new Float32Array(2*n),x=new Float32Array(3*n),P=new Float32Array(n);this[s(550)]=i(u,3),this[s(550)][s(831)](e[s(694)]),this[s(661)].setAttribute(s(701),this[s(550)]),this[s(786)]=i(a,1),this.lifetimes.setUsage(e[s(694)]),this[s(661)].setAttribute(s(782),this.lifetimes),this.ages=i(o,1),this.ages[s(831)](e[s(694)]),this.geometry[s(652)]("age",this[s(696)]),this.sequenceElements=i(c,4),this[s(654)][s(831)](e[s(694)]),this[s(661)][s(652)](s(433),this.sequenceElements),this[s(681)]=i(d,3),this.velocities.setUsage(e[s(694)]),this[s(661)][s(652)](s(703),this.velocities),this[s(615)]=i(p,3),this.accelerations[s(831)](r),this.geometry[s(652)](s(444),this[s(615)]),this[s(403)]=i(m,3),this.normals.setUsage(e[s(694)]),this[s(661)][s(652)]("normal",this[s(403)]),this.rotations=i(f,1),this[s(552)][s(831)](e[s(694)]),this[s(661)][s(652)](s(592),this[s(552)]),this[s(496)]=i(S,1),this[s(496)][s(831)](e[s(694)]),this[s(661)][s(652)](s(820),this[s(496)]),this[s(839)]=i(w,2),this[s(839)][s(831)](e[s(694)]),this[s(661)][s(652)](s(619),this[s(839)]),this[s(753)]=i(g,3),this[s(753)].setUsage(e[s(694)]),this.geometry[s(652)](s(674),this.colors),this[s(388)]=i(y,1),this.alphas.setUsage(r),this.geometry[s(652)](s(663),this[s(388)]),this[s(438)]=i(v,2),this[s(438)][s(831)](e[s(694)]),this[s(661)].setAttribute(s(825),this[s(438)]),this[s(607)]=i(x,3),this[s(607)].setUsage(r),this.geometry[s(652)](s(527),this[s(607)]),this[s(406)]=i(P,1),this.initialAlphas[s(831)](e[s(694)]),this.geometry.setAttribute(s(451),this.initialAlphas)}[F(736)](){const t=F;super[t(736)](),this[t(661)]&&(this[t(661)].dispose(),this[t(661)]=null)}}class X{constructor(t,e,s,i,n){const r=F;this[r(551)]=t,this.x=e,this.y=s,this[r(535)]=i,this[r(716)]=n}}class D{constructor(t,e){const s=F;this[s(396)]=t,this[s(543)]=e,this.frameSets=[]}[F(750)](){return this[F(396)]}[F(492)](){return this.texturePath}[F(548)](){const t=F;return this[t(755)][t(551)]}[F(687)](t,e,s,i,n){const r=F;this[r(755)][r(621)](new X(t,e,s,i,n))}getFrameSet(t){const e=F;if(t>=this.frameSets[e(551)])throw new Error(e(395));return this[e(755)][t]}}class j extends _{constructor(t,s,i=!1,r=e[F(805)],a=!0,o){const c=F;super(),this[c(837)]=t,this[c(410)]=null,this[c(558)]=null,this[c(744)]=null,this[c(494)]=s,this[c(677)]=i,this[c(762)]=r,this[c(729)]=new n,this[c(466)]=new(e[c(412)]),this[c(495)]=a,this[c(740)]=o}setOwner(t){super[F(823)](t)}[F(769)](){return this.particleStateArray}[F(456)](t){const e=F;super[e(456)](t),this[e(558)]&&(this[e(558)][e(435)].simulateInWorldSpace[e(833)]=t?1:0,this.material[e(450)]=!0)}[F(614)](){return this[F(495)]}setBoundingBox(t){const e=F;this.boundingBox[e(811)](t),this.mesh&&this[e(775)]()}[F(399)](t){const e=F;this[e(466)][e(811)](t),this[e(744)]&&this.updateMeshBounds()}render(t,e,s){e[F(549)](t,s)}[F(775)]=function(){const t=F,s=new(e[t(667)]);return function(){const i=t,r=this[i(410)][i(712)]();if(this[i(495)]){r[i(729)]||(r[i(729)]=new n),r[i(729)][i(811)](this[i(729)]),!r[i(466)]&&(r[i(466)]=new a),s.x=(this[i(729)][i(602)].x+this[i(729)][i(464)].x)/2,s.y=(this[i(729)][i(602)].y+this[i(729)][i(464)].y)/2,s.z=(this.boundingBox[i(602)].z+this[i(729)][i(464)].z)/2;const t=this.boundingBox[i(464)].x-s.x,e=this[i(729)].max.y-s.y,o=this[i(729)][i(464)].z-s.z,c=Math[i(464)](Math.max(t,e),o);r.boundingSphere[i(407)].copy(s),r[i(466)][i(635)]=Math[i(779)](2*c*c)}else r[i(466)]||(r.boundingSphere=new(e[i(412)])),r[i(466)][i(811)](this.boundingSphere)}}();[F(402)](t){const s=F;super[s(402)](t)&&(this[s(410)]=new W,this.particleStateArray[s(402)](t,this.instanced),this.material=this[s(439)](null,null,null,!0,!1),this.material.blending=this[s(762)],this[s(744)]=new(e[s(648)])(this[s(410)][s(712)](),this[s(558)]),this.mesh[s(383)]=!0,void 0!==this[s(740)]&&(this[s(744)][s(740)]=this[s(740)]),this[s(775)](),this[s(503)][s(791)](this.mesh))}[F(736)](){const t=F;this.particleStateArray[t(736)]()}[F(439)](t,s,i,n,r){const a=F,c=[...Array(16)[a(413)]()][a(798)]((t=>new(e[a(646)])));if(this.atlas)for(let o=0;o<this[a(494)][a(548)]();o++){const t=this[a(494)][a(670)](o);c[o]=new(e[a(646)])(t.x,t.y,t[a(535)],t[a(716)])}const h=this.atlas?this[a(494)][a(750)]():null,l=this[a(677)],u=this.simulateInWorldSpace,d=this[a(837)]?1:0,p={atlasFrameSet:{type:"v4v",value:c},atlasTexture:{type:"t",value:h},interpolateAtlasFrames:{value:l},uvOffset:{type:"v2",value:new(e[a(611)])},simulateInWorldSpace:{value:u},instanced:{value:d}};return i=i||{},Object[a(780)](i,p),t=t||j[a(601)][a(545)](r),s=s||j[a(601)].getFragmentShader(n,r),new o({uniforms:i,vertexShader:t,fragmentShader:s,transparent:!0,alphaTest:1,blending:e[a(805)],blendDstAlpha:e[a(645)],blendSrcAlpha:e[a(431)],depthTest:!0,depthWrite:!1})}static[F(601)]={get VertexVars(){const t=F;return[t(493),t(718),t(474),"uniform int simulateInWorldSpace; \n",t(564),"attribute vec2 baseUV;\n",t(819),t(458),"attribute float rotation;\n","attribute vec2 size;\n",t(454),"attribute vec3 color;\n",t(580),t(792),"varying vec2 vUV2;\n","varying vec3 vFragColor;\n",t(555),t(628)][t(851)]("\n")},get FragmentVars(){const t=F;return[t(474),"uniform sampler2D atlasTexture;\n",t(629),t(792),t(756),t(682),t(555),t(796)][t(851)]("\n")},getVertexShader(t){const e=F;let s=[e(600),this[e(487)]][e(851)]("\n");return t&&(s+=e(578)),s+=[e(515),e(772),e(404),e(613),e(477),e(617),e(489),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(845),e(824),e(476),e(432),"   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n",e(722),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",e(683),e(684),e(630),"} \n",e(598),"{\n","   const vec2 right = vec2(1.0, 0.0);\n","   const vec2 up = vec2(0.0, 1.0);\n",e(603),e(577),e(841),e(504),e(445),e(541),e(664),e(673),e(427),e(640),e(788),e(726),e(867),e(612),e(497),"   int sequenceLength = int(sequenceElement.w);\n","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n",e(560),e(559),e(397),e(669),e(488),"   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n",e(485),"       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n",e(726),"   float atlasFrameWidth = atlasFrames.z; \n",e(404),e(593),"   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n",e(854),e(633),e(807),e(430),"       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","       upperSide = upperSideStep.x + upperSideStep.y;\n",e(478),e(862),"       upperSide = baseUV.y; \n",e(726),e(526),"   float uvYOffset = atlasFrameHeight * upperSide; \n",e(688),e(807),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(387),e(774),e(799),e(852),e(656),"   }  else { \n",e(565),e(726),e(642),e(398),e(836),"   vFragColor = color; \n",e(693)][e(851)]("\n"),t&&(s+=e(461)),s+="} \n",s},getFragmentShader(t,e){const s=F;let i=s(462)+this.FragmentVars+"\n";return e&&(i+="  \n #include <logdepthbuf_pars_fragment> \n"),i+=s(572),e&&(i+=s(737)),i+=t?[s(698),s(793),s(725),s(785),s(773)][s(851)]("\n"):[s(382),s(793),"   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(785),s(773)][s(851)]("\n"),i+="}\n",i}};static[F(609)](t){const s=F,i=t[s(494)],n=(new(e[s(517)]))[s(529)](i[s(543)]),r=new D(n,i[s(543)]),a=i[s(709)];for(const e of a)r[s(687)](e.length,e.x,e.y,e[s(535)],e.height);const o=new j(t[s(837)],r,i[s(511)]);return"Additive"==t[s(762)]?o[s(762)]=e[s(533)]:o[s(762)]=e[s(805)],o}[F(524)](t){const s=F;t=t||(t=>{const e=nt;if(t[e(543)])return t[e(543)];const s=t[e(750)]()[e(647)];if(s){const t=s[e(704)];if(t){const s=t[e(468)],i=t.currentSrc;return i.indexOf(s)>=0?i[e(719)](s[e(551)],i[e(551)]-s[e(551)]):i}}});const i=[];for(let e=0;e<this.atlas.getFrameSetCount();e++){const t=this[s(494)].getFrameSet(e);i.push(t)}let n="Normal";this.material.blending===e[s(533)]&&(n=s(634));return{instanced:this[s(837)],blending:n,atlas:{interpolateFrames:this[s(677)],texturePath:t(this.atlas),framesets:i}}}}class Y{constructor(){const t=F;this[t(715)]=0,this[t(863)]=0,this[t(525)]=0,this[t(384)]=0,this[t(676)]=0,this[t(702)]=0,this[t(861)]=0}update(t){return this[F(757)](t),0}[F(757)](t){const e=F;return this.age+=t,this[e(676)]=Math[e(464)](this[e(384)]-this[e(715)],0),this[e(384)]>=this[e(715)]&&(0==this.emissionDuration||this[e(676)]<=emissionDuration)}updateEmitCount(t){this[F(525)]+=t}}class J extends Y{constructor(){const t=F;super(),this[t(481)]=0,this.emissionMaximum=0}}class L extends J{constructor(t=0){const e=F;super(),this[e(480)]=t}[F(637)](t){const e=F;if(this[e(757)](t)){const t=this.emissionRate*this[e(676)]-this.emitCount;if(t>=1){const s=Math.floor(t);return this[e(553)](s),s}}return 0}static fromJSON(t){const e=F,s=new L;return s[e(480)]=t[e(480)]||0,s}toJSON(){return{emissionRate:this[F(480)]}}}class G{static[F(707)]=new G("Default");static[F(611)]=new G(F(611));static Vector3=new G(F(667));static[F(646)]=new G(F(646));static[F(460)]=new G(F(460));constructor(t){this[F(727)]=t}static[F(585)](t){const s=F;let i=G[s(707)];return t===e[s(611)]?i=G[s(611)]:t===e[s(667)]?i=G[s(667)]:t===e[s(646)]?i=G[s(646)]:t===e[s(460)]&&(i=G[s(460)]),i}static[F(714)](t,s){const i=F;switch(s){case e[i(611)]:return(new(e[i(611)]))[i(638)](t);case e[i(667)]:return(new(e[i(667)]))[i(638)](t);case e[i(646)]:return(new(e[i(646)])).fromArray(t);case e[i(460)]:return(new(e[i(460)])).fromArray(t)}return t}}class Z{constructor(t){const e=F;this[e(586)]=t,this.outTypeID=G[e(585)](t)}}class k extends Z{constructor(t,e,s,i,n,r){const a=F;super(t),this[a(561)]=e,this[a(620)]=s,this[a(812)]=i,this[a(459)]=n,this[a(794)]=r}[F(742)](t){const e=F,s=Math[e(521)]()*this.uniformRange;switch(this[e(858)]){case G[e(707)]:t=Math[e(521)]()*this[e(561)]+this[e(620)],this[e(794)]&&(t=t<0?-1:1);break;case G[e(611)]:t[e(632)](this[e(518)](s,"x"),this.generateForElement(s,"y"));break;case G[e(667)]:t[e(632)](this[e(518)](s,"x"),this.generateForElement(s,"y"),this.generateForElement(s,"z"));break;case G.Vector4:t[e(632)](this[e(518)](s,"x"),this[e(518)](s,"y"),this[e(518)](s,"z"),this[e(518)](s,"w"))}return this[e(794)]&&t.normalize(),t}[F(518)](t,e){const s=F;return t+Math.random()*this.range[e]+this[s(620)][e]+this[s(459)]}clone(){const t=F;return new k(this[t(586)],this[t(561)],this[t(620)],this[t(812)],this.uniformOffset,this[t(794)])}static[F(582)](t){const s=F;return t instanceof e[s(611)]||t instanceof e[s(667)]||t instanceof c||t instanceof e[s(460)]?t[s(588)]():t}static fromJSON(t){const e=F;return new k(t.type,G.loadJSONParameter(t[e(561)],t[e(418)]),G.loadJSONParameter(t[e(620)],t[e(418)]),t.uniformRange||0,t[e(459)]||0,t[e(794)])}[F(524)](t){const e=F,s={range:k[e(582)](this[e(561)]),offset:k[e(582)](this.offset),uniformRange:this[e(812)],uniformOffset:this[e(459)]},i=t[e(748)](this[e(561)][e(746)]);return null!=i&&(s[e(418)]=i),{type:t[e(748)](k),params:s}}}class H extends R{constructor(t,e,s,i,n){const r=F;super(),this[r(561)]=t,this[r(620)]=e,this.uniformRange=s,this[r(459)]=i,this[r(794)]=n,this[r(447)]=new k(0,this[r(561)],this[r(620)],this[r(812)],this[r(459)],this[r(794)])}initializeState(t){const e=F;t[e(782)]=this[e(447)][e(742)]()}static fromJSON(t,e){const s=F;return new H(e.range,e[s(620)],e.uniformRange,e[s(459)],e.normalize)}[F(524)](){const t=F;return{range:this.range,offset:this[t(620)],uniformRange:this.uniformRange,uniformOffset:this.uniformOffset,normalize:this[t(794)]}}}class $ extends R{constructor(t){const e=F;super(),this.generator=t[e(828)]()}[F(471)](t){const e=F;t[e(592)]=this[e(447)][e(742)](t[e(592)])}static fromJSON(t,e){const s=F,i=e[s(447)][s(418)][s(609)](e.generator[s(554)]);return new $(i)}[F(524)](t){const e=F;return{generator:this[e(447)][e(524)](t)}}}class K extends R{constructor(t,e,s,i,n){const r=F;super(),this[r(561)]=t,this[r(620)]=e,this[r(812)]=s,this[r(459)]=i,this[r(794)]=n,this[r(447)]=new k(0,this.range,this[r(620)],this[r(812)],this[r(459)],this.normalize)}initializeState(t){const e=F;t.rotationalSpeed=this[e(447)][e(742)]()}static[F(609)](t,e){const s=F;return new K(e[s(561)],e.offset,e[s(812)],e[s(459)],e[s(794)])}[F(524)](){const t=F;return{range:this.range,offset:this[t(620)],uniformRange:this.uniformRange,uniformOffset:this.uniformOffset,normalize:this[t(794)]}}}class Q extends R{constructor(t,s){const i=F;super(),this.randomGenerator=new k(e[i(667)],t,s,0,0,!1)}[F(471)](t){const e=F;this[e(761)][e(742)](t[e(708)])}static[F(609)](t,i){const n=F;return new Q((new s)[n(638)](i[n(561)]),(new(e[n(667)]))[n(638)](i[n(620)]))}[F(524)](){const t=F;return{range:this.randomGenerator[t(561)][t(588)](),offset:this[t(761)][t(620)][t(588)]()}}}class tt extends R{constructor(t){const e=F;super(),this.generator=t[e(828)]()}[F(471)](t){const e=F;this[e(447)][e(742)](t.size),t[e(825)][e(811)](t[e(619)])}static[F(609)](t,e){const s=F,i=e[s(447)][s(418)][s(609)](e[s(447)].params);return new tt(i)}[F(524)](t){const e=F;return{generator:this[e(447)][e(524)](t)}}}class et extends R{constructor(t,s,i,n,r=!0){const a=F;super(),this[a(760)]=new k(e[a(667)],t,s,0,0,!0),this[a(865)]=new k(0,i,n,0,0,!1),this[a(659)]=r}initializeState(t){const e=F;this[e(760)].generate(t[e(703)]),this[e(659)]&&t[e(703)].normalize(),t[e(703)][e(490)](this[e(865)][e(742)]())}static[F(609)](t,i){const n=F;return new et((new(e[n(667)]))[n(638)](i[n(561)]),(new s)[n(638)](i[n(620)]),i[n(429)],i[n(534)])}[F(524)](){const t=F;return{range:this[t(760)][t(561)][t(588)](),offset:this[t(760)][t(620)][t(588)](),speedRange:this[t(865)].range,speedOffset:this[t(865)][t(620)]}}}class st extends R{constructor(t,e=!1){const s=F;super(),this[s(856)](t),this.reverse=e}[F(856)](t){this[F(411)]=t}[F(471)](t){const e=F,s=this.particleSequences.getSequenceIDs(),i=s.length*Math[e(521)](),n=s[Math[e(649)](i)],r=this.particleSequences.getSequence(n),a=t[e(433)];this[e(814)]?a.x=r[e(551)]-1:a.x=r[e(437)],a.y=r.id,a.z=r[e(437)],a.w=r[e(551)],t[e(441)]=A[e(639)]}static[F(609)](t,e){return new st(t[F(446)](),e.reverse)}toJSON(){return{reverse:this[F(814)]}}}class it extends C{constructor(t,e,s=!1,i=!1){const n=F;super(),this.particleSequences=t,this[n(532)]=e,this[n(731)]=s,this[n(814)]=i}updateState(t,e){const s=F,i=t.sequenceElement,n=this[s(411)][s(697)](i.y),r=e/this[s(532)];if(this[s(814)]){if(i.x-=r,i.x<n[s(437)]&&(i.x=n[s(437)]+n.length,!this[s(731)]))return!1}else if(i.x+=r,i.x>=n[s(437)]+n[s(551)]&&(i.x=n[s(437)],!this[s(731)]))return!1;return!0}static[F(609)](t,e){const s=F;return new it(t.getParticleSequences(),e[s(532)],e[s(731)],e[s(814)])}toJSON(){const t=F;return{speed:this[t(532)],loop:this[t(731)],reverse:this.reverse}}}function nt(t,e){const s=ct();return(nt=function(t,e){return s[t-=382]})(t,e)}class rt{constructor(t,e){const s=F;this[s(627)]=[],this[s(571)]=[],this[s(484)]=G[s(585)](t),e?this.interpolator=e:this[s(801)]=this.getInterpolatorForTypeID(this[s(484)])}*[Symbol[F(522)]](){const t=F;let e=0;for(;e<this[t(563)]();)yield{element:this[t(627)][e],tValue:this.tValues[e]},e++}[F(563)](){const t=F;return this.elements[t(551)]}[F(590)](t){const e=F;if(t>=this[e(563)]())throw new Error(e(653));return this[e(627)][t]}[F(790)](t){const e=F;if(t>=this[e(563)]())throw new Error(e(747));return this[e(571)][t]}[F(391)](t,e){const s=F;this[s(627)][s(621)](t),this[s(571)][s(621)](e)}[F(465)](t,e){const s=F;return this[s(801)](t,this[s(627)],this[s(571)],e)}getInterpolatorForTypeID=function(){const t=F,s={lowerIndex:0,upperIndex:0,localT:0},i=new(e[t(611)]),n=new(e[t(667)]),r=new(e[t(646)]),a=new(e[t(460)]),o=e=>(i,n,r,a)=>{const o=t;rt[o(556)](r,i,s),e.copy(n[s[o(680)]])[o(490)](s[o(623)]),a.copy(n[s[o(486)]])[o(490)](1-s[o(623)])[o(791)](e)};return function(e){const c=t;switch(e){case G[c(707)]:return(t,e,i)=>{const n=c;return rt[n(556)](i,t,s),(1-s[n(623)])*e[s[n(486)]]+s.localT*e[s[n(680)]]};case G.Vector2:return o(i);case G[c(667)]:return o(n);case G[c(646)]:return o(r);case G.Color:return o(a)}}}();static getInterpolationValuesForTValue(t,e,s){const i=F,n=t.length;if(0===n)return s.lowerIndex=-1,s[i(680)]=-1,void(s[i(623)]=-1);let r=0,a=-1,o=0;for(let l=0;l<n&&(r=t[l],!(r>e));l++)a++,o++;s[i(486)]=q[i(641)](a,0,n-1),s[i(680)]=q[i(641)](o,0,n-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}class at extends C{constructor(t,e=!1){const s=F;super(),this[s(859)]=e,this[s(778)]=new rt(t)}addElement(t,e){const s=F;this[s(778)][s(391)](t,e)}[F(832)](t){const e=F;for(const s of t)this[e(778)][e(391)](s[0],s[1])}addElementsFromElementClassAndParameters(t,e){for(const s of e){const[...e]=s[0];this.interpolationElements.addElement(new t(...e),s[1])}}[F(710)](t,e){const s=F;let i=0;switch(t.progressType){case A[s(608)]:i=0!=t.lifetime?t[s(384)]/t[s(782)]:t[s(384)];break;case A[s(639)]:i=t.sequenceElement.x/t[s(433)].w}return this[s(778)].getInterpolatedElement(i,e)}}class ot extends at{constructor(t=!1){super(0,t)}[F(595)](t){super.addElements(t)}[F(738)](t){const e=F;return this[e(859)]?t.alpha=t[e(451)]*this[e(710)](t,t[e(663)]):t.alpha=this[e(710)](t,t.alpha),!0}static[F(609)](t,e){return new ot(e[F(859)])}[F(524)](){const t=F;return{params:{relativeToInitialValue:this[t(859)]},elements:[...this[t(778)]][t(798)]((e=>[e[t(610)],e[t(848)]]))}}}function ct(){const t=["getGeometry","rangePhi","loadJSONParameter","emissionRelativeStartTime","height","simulateInWorldSpace","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","substr","castShadow","onUpdate","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","particleStateInitializers","Done","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","   } \n","name","getTypeNames","boundingBox","while (true) {}","loop","InstancedBufferGeometry","7LVcsWz","baseUV","JSONTypeStore::addTypeToNamespace() -> typeName already exists","dispose","    \n  #include <logdepthbuf_fragment> \n","updateState","activateParticles","renderOrder","setState","generate","setActiveParticleCount","mesh","getSimulateInWorldSpace","constructor",'ContinuousArray::getTValue() -> "index" is out of bounds.',"getTypePath","getSystemState","getTexture",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"setBoundingBox","colors","setIntensity","frameSets","varying vec2 vUV2;\n","internalUpdate","counter","NotStarted","directionGenerator","randomGenerator","blending","Box3","flushParticleStateToBuffers","Matrix4","autoClear","getComponent","offsetY","getParticleStateArray","tempUp","onUpdateCallback","   float atlasFrameWidth = atlasFrames.z; \n","   gl_FragColor.a *= vFragAlpha; \n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","updateMeshBounds","copyState","toString","interpolationElements","sqrt","assign","getParticleCount","lifetime",'ComponentContainer::getComponent() -> "index" is out of range.',"setAll","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","lifetimes","Paused","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","getLight","getTValue","add","varying vec2 vUV1;\n","   vec4 color2 = color1; \n","normalize","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","varying float vSequenceElementT;\n","addElementsFromElementClassAndParameters","map","       float uRightV = rotVecStep.z; \n","setX","interpolator","checkAndAddTypeName","addSequence","sequences","NormalBlending","getActiveParticleCount","   if (instanced != 1) { \n","JSONTypeStore::addNamespace() -> namespace already exists","exception","applyMatrix4","copy","uniformRange","transformDirection","reverse","typeName","rangeTheta","particleStates","positionAdjuster","attribute float customIndex;\n","rotationalSpeed","warn","intensityFlux","setOwner","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","initialSize","particleCount","lastIntensityFlickerTime","clone","stop","test","setUsage","addElements","value","bind","verticesPerParticle","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","instanced","invert","sizes","577674yyrFwr","   const vec2 uRight = vec2(1.0, 1.0);\n","JSONTypeStore::getType() -> typeName does not exist","sub","PointLight","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","now","decay","tValue","shadow","operators","join","       float dRightV = rotVecStep.w - rotVecStep.z; \n","4195320gZPBKB","   float rightSide; \n","console","setParticleSequences","customIndexes","outTypeID","relativeToInitialValue","setEmitter","maximumActiveParticles","       rightSide = baseUV.x; \n","emissionDuration",'{}.constructor("return this")( )',"speedGenerator","stateAcceleration","   float sequenceElementF = sequenceElement.x;\n","___photonsTypeID","chain","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","frustumCulled","age","addParticleSequence","getState","       float uLeftV = rotVecStep.x; \n","alphas","setXY","lastUpdateTime","addElement","currentTime","pause","8935610rCfXtu",'Atlas::getFrameSet -> "index" is out of range.',"texture","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","setBoundingSphere","matrixWorld","getType","init","normals","   float atlasFrameHeight = atlasFrames.w; \n","trace","initialAlphas","center","apply","getSizes","particleStateArray","particleSequences","Sphere","keys","addComponent","2694312UGrCAj","offsetTheta","scaleZ","type","getParticleStateInitializerCount","basePositions","activateParticle","lastPositionFlickerTime","parent","advanceActiveParticle","Object3D",'ParticleStateArray::getState() -> "index" is out of range.',"       viewPosition = viewMatrix * particlePosition;\n","return (function() ","speedRange","       rightSide = step(2.0, customIndex); \n","SrcAlphaFactor","   int nRowYTile = int(SNOverHS);\n","sequenceElement","cos","uniforms","setXYZ","start","initialSizes","createMaterial","near","progressType","emitterInitialized","setXYZW","acceleration","   const vec2 dLeft = vec2(-1.0, -1.0);\n","getParticleSequences","generator","namespace","computeBoundingSphere","uniformsNeedUpdate","initialAlpha","addParticleStateInitializer","function","attribute vec4 sequenceElement;\n",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"setSimulateInWorldSpace","remove","attribute vec4 particlePosition;\n","uniformOffset","Color","   \n  #include <logdepthbuf_vertex> \n","#include <common> \n","addParticleStateOperator","max","getInterpolatedElement","boundingSphere","instanceCount","baseURI","startTime","particleSystemRenderer","initializeState","hasID","call","uniform int interpolateAtlasFrames; \n","prototype","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","   float atlasFrameY = atlasFrames.y; \n","   }  else { \n","customIndex","emissionRate","emissionMinimum","BufferGeometry","visible","elementTypeID","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","lowerIndex","VertexVars","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","multiplyScalar","setDrawRange","getTexturePath","const int MAX_ATLAS_FRAME_SETS = 16; \n","atlas","calculateBoundingSphereFromBox","rotationalSpeeds","   int sequenceStart = int(sequenceElement.z);\n","lastIntensityAdjuster","jsonTypes","far","addTypeToNamespace","split","owner","   const vec2 uLeft = vec2(-1.0, 1.0);\n","getParticleStateInitializer","ParticleSequenceGroup::getSequence -> Invalid ID.","particleEmitter","7516784VwGKEd","9oFDMZr","info","interpolateFrames","stateVelocity","offsetX","log","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","timeScaledAcceleration","TextureLoader","generateForElement","edgeRadius","intensity","random","iterator","normal","toJSON","emitCount","   float uvXOffset = atlasFrameWidth * rightSide; \n","initialColor","action","load",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"needsUpdate","speed","AdditiveBlending","speedOffset","width","2npwSSs","bias","getMaximumActiveParticles","parseNamespaceAndTypename","getPositions","   const vec2 dRight = vec2(1.0, -1.0);\n","startupTime","texturePath","setParticleCount","getVertexShader","copyTo","transformInitialDirectionInWorldSpace","getFrameSetCount","render","positions","length","rotations","updateEmitCount","params","varying float vFragAlpha;\n","getInterpolationValuesForTValue","getParticleSystemRenderer","material","   vec2 uv2; \n","   vec2 uv1; \n","range","jsonTypeNames","getElementCount","uniform int instanced; \n","       rotVec = position.xy; \n ","offsetZ",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"debu","camera","addType","tValues","void main() { \n","activeParticleCount","scaleX","default","stateObject","   const vec2 down = vec2(0.0, -1.0);\n","  \n #include <logdepthbuf_pars_vertex> \n","JSONTypeStore::getType() -> namespace does not exist","attribute float alpha;\n","getSequenceElements","getParameterJSON","maxParticleCount","matrixWorldNeedsUpdate","getTypeID","outType","input","toArray","error","getElement","mapSize","rotation","   float rotMag = rotation; \n","components","addElementsFromParameters","string","timeScaledVelocity","void main()\n","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","#include <common>","Shader","min","   const vec2 left = vec2(-1.0, 0.0);\n","componentContainer","scaleY","typeIDGen","initialColors","Time","fromJSON","element","Vector2","   int sequenceNumber = int(sequenceElement.y);\n","   float atlasFrameX = atlasFrames.x; \n","calculatingBoundingSphereFromBox","accelerations","copyParticleInArray","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","hasOwnProperty","size","offset","push","renderer","localT",'ParticleSystem::getParticleState() -> "index" is out of range.',"initialized","offsetRadius","elements","varying float vSequenceElementT; \n","uniform vec2 uvOffset;\n","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","gger","set","   float upperSide; \n","Additive","radius","ids","update","fromArray","Sequence","   } else { \n","clamp","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","table","light","OneMinusSrcAlphaFactor","Vector4","source","Mesh","floor","Running","sin","setAttribute",'ContinuousArray::getElement() -> "index" is out of bounds.',"sequenceElements","BufferAttribute","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","offsetPhi","addNamespace","normalizeDirection","splice","geometry","allocate","alpha","   vec4 viewPosition; \n","advanceActiveParticles","particleStateOperators","Vector3","nextIntensityAdjuster","   int firstSequenceElement = int(sequenceElementF); \n","getFrameSet","systemState","baseUVs","   if (simulateInWorldSpace == 1) { \n","color","progressTypes","timeActive","interpolateAtlasFrames","4562121oJjlDI","getParticleStateOperatorCount","upperIndex","velocities","varying vec3 vFragColor;\n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","particleSystems","rangeRadius","addFrameSet","   vec2 rotVec; \n","getSequenceIDs","lastPositionAdjuster",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"object","   vFragAlpha = alpha; \n","DynamicDrawUsage","Renderer::init() -> trying to intialize more than once.","ages","getSequence","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","getVisible","initializers","particlePosition","activeCount","velocity","data","function *\\( *\\)","6625310WXXWiS","Default","position","framesets","getInterpolatedValue","parseTypeString"];return(ct=function(){return t})()}class ht extends at{constructor(t=!1){super(i,t)}[F(595)](t){super[F(797)](i,t)}[F(738)]=function(){const t=F,s=new(e[t(611)]);return function(e){const i=t;return this[i(710)](e,s),this[i(859)]?e[i(619)][i(632)](e.initialSize.x*s.x,e.initialSize.y*s.y):e.size[i(811)](s),!0}}();static[F(609)](t,e){return new ht(e[F(859)])}[F(524)](){const t=F;return{params:{relativeToInitialValue:this[t(859)]},elements:[...this.interpolationElements][t(798)]((e=>[e.element[t(588)](),e.tValue]))}}}class lt extends at{constructor(t=!1){super(e[F(460)],t)}[F(595)](t){const s=F;super[s(797)](e[s(460)],t)}[F(738)]=function(){const t=F,s=new(e[t(460)]);return function(e){const i=t;return this.getInterpolatedValue(e,s),this.relativeToInitialValue?e[i(674)].setRGB(e[i(527)].r*s.r,e[i(527)].g*s.g,e[i(527)].b*s.b):e[i(674)].copy(s),!0}}();static[F(609)](t,e){return new lt(e[F(859)])}[F(524)](){const t=F;return{params:{relativeToInitialValue:this[t(859)]},elements:[...this.interpolationElements][t(798)]((e=>[e.element[t(588)](),e.tValue]))}}}class ut extends C{constructor(t){const e=F;super(),this[e(447)]=t[e(828)]()}[F(595)](t){const e=F;super[e(797)](THREE[e(667)],t)}updateState(t){const e=F;return this[e(447)][e(742)](t.acceleration),!0}static[F(609)](t,e){const s=F,i=e[s(447)][s(418)][s(609)](e[s(447)][s(554)]);return new ut(i)}[F(524)](t){return{generator:this.generator.toJSON(t)}}}class dt extends Z{constructor(t,i,n,r,a,o,c,h,l,u,d,p){const m=F;super(s),this.rangeTheta=t,this[m(416)]=i,this.rangePhi=n,this[m(657)]=r,this[m(686)]=a,this[m(626)]=o,this[m(574)]=c,this[m(605)]=h,this[m(417)]=l,this.offsetX=u,this[m(768)]=d,this[m(566)]=p,this[m(770)]=(new(e[m(667)]))[m(632)](0,1,0)}[F(742)](t){const e=F;this.tempUp.set(0,1,0);const s=Math[e(521)]()*this.rangeTheta+this[e(416)],i=Math.random()*this[e(713)]+this[e(657)],n=Math[e(434)](s),r=Math[e(651)](s),a=Math[e(434)](i),o=Math[e(651)](i);t[e(632)](n,0,-r),t[e(490)](a),this[e(770)].multiplyScalar(o),t.add(this.tempUp),t[e(794)]();const c=Math[e(521)]()*this[e(686)]+this.offsetRadius;t[e(490)](c),t.x*=this.scaleX,t.y*=this[e(605)],t.z*=this[e(417)],t.x+=this[e(513)],t.y+=this[e(768)],t.z+=this[e(566)]}[F(828)](){const t=F;return new dt(this[t(816)],this[t(416)],this[t(713)],this[t(657)],this.rangeRadius,this.offsetRadius,this[t(574)],this[t(605)],this[t(417)],this[t(513)],this[t(768)],this[t(566)])}static[F(609)](t){const e=F;return new dt(t[e(816)],t[e(416)],t[e(713)],t[e(657)],t[e(686)],t.offsetRadius,t[e(574)],t.scaleY,t.scaleZ,t[e(513)],t.offsetY,t[e(566)])}toJSON(t){const e=F;return{type:t[e(748)](dt),params:{rangeTheta:this[e(816)],offsetTheta:this[e(416)],rangePhi:this[e(713)],offsetPhi:this[e(657)],rangeRadius:this.rangeRadius,offsetRadius:this[e(626)],scaleX:this.scaleX,scaleY:this.scaleY,scaleZ:this.scaleZ,offsetX:this[e(513)],offsetY:this.offsetY,offsetZ:this[e(566)]}}}}class pt{constructor(){}}class mt extends pt{constructor(t,s,i,n,r,a,o=void 0){const c=F;super(),this[c(503)]=null,this.light=null,this[c(390)]=performance[c(846)]()/1e3,this[c(827)]=this[c(390)],this.lastPositionFlickerTime=this.lastUpdateTime,this[c(498)]=1,this.nextIntensityAdjuster=1,this[c(690)]=new(e[c(667)]),this[c(818)]=new(e[c(667)]),this[c(520)]=1,this[c(822)]=2,this.parent=t,this.init(t,s,i,n,r,a,o)}[F(402)](t,s,i,n,r,a,o=void 0){const c=F;this[c(503)]=new(e[c(425)]),t[c(791)](this[c(503)]),n=n||new(e[c(460)]),r=r||0,null!=a&&null!=a||(a=2);const h=!!o;return this[c(644)]=new(e[c(844)])(16777215,2,0,1),this[c(644)][c(674)][c(811)](n),this[c(644)].distance=r,this[c(644)][c(847)]=a,this[c(644)][c(720)]=h,h&&(this[c(644)].shadow[c(591)].width=o[c(591)]||512,this[c(644)][c(849)].mapSize[c(716)]=o.mapSize||512,this[c(644)][c(849)][c(569)][c(440)]=o.cameraNear||.5,this.light.shadow[c(569)][c(500)]=o.cameraFar||500,this[c(644)].shadow.bias=o[c(537)]||1e-4,this[c(644)][c(849)][c(635)]=o[c(519)]||1),this.owner[c(791)](this[c(644)]),this[c(520)]=s,this[c(822)]=i,this[c(644)]}[F(736)](){const t=F;this[t(423)][t(457)](this.owner)}[F(789)](){return this.light}[F(754)](t){this[F(520)]=t}[F(637)](t){const e=F,s=t-this[e(827)],i=1/8,n=this[e(822)];if(s>i){this[e(827)]=t;let s=1+2*(Math[e(521)]()-.5)*n*i;const r=s-this[e(498)];s=this[e(498)]+r,this[e(498)]=this[e(668)],this[e(668)]=q[e(641)](s,.25,1.5)}else{const t=s/i,n=(1-t)*this[e(498)]+t*this[e(668)];this[e(644)][e(520)]=n*this.intensity}if(t-this[e(422)]>.0625){this[e(422)]=t;const s=t-this[e(390)];this[e(818)][e(632)](Math[e(521)]()-.5,Math[e(521)]()-.5,Math[e(521)]()-.5),this[e(818)][e(490)](s),this[e(818)].add(this.lastPositionAdjuster),this[e(818)][e(490)](.5),this[e(503)][e(708)][e(811)](this.positionAdjuster),this[e(690)][e(811)](this[e(818)]),this[e(390)]=t}}}class ft{constructor(){const t=F;this.jsonTypes={default:{}},this[t(562)]={},this[t(606)]=0}[F(570)](t,e){const s=F;this[s(501)](s(575),t,e)}[F(501)](t,e,s){const i=F;if(!this[i(499)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[i(499)][t][e])throw new Error(i(735));this[i(802)](s,e,t)&&(this[i(499)][t][e]=s)}[F(658)](t,e){const s=F;if(this[s(499)][t])throw new Error(s(808));this[s(499)][t]=e;for(const i in e)if(!e[s(618)]||e.hasOwnProperty(i)){const n=e[i];this[s(802)](n,i,t)}}[F(802)](t,e,s){const i=F;if(typeof t===i(453)){const n=this[i(606)]++;t[i(868)]=n,this[i(562)][n]={namespace:s,typeName:e}}}[F(401)](t,e){const s=F;if(!this[s(499)][t])throw new Error(s(579));if(!this[s(499)][t][e])throw new Error(s(842));return this[s(499)][t][e]}[F(728)](t){const e=F;return this[e(562)][t[e(868)]]}[F(748)](t){const e=F,s=this[e(728)](t);if(s)return s[e(448)]+"."+s[e(815)]}[F(539)](t){const e=F,s=t[e(502)]("."),i=s[0];s[e(660)](0,1);return{namespace:i,typeName:s.join(".")}}[F(711)](t){const e=F,{namespace:s,typeName:i}=this.parseNamespaceAndTypename(t);return this[e(401)](s,i)}}function St(t){function e(t){const s=nt;if(typeof t===s(596))return function(t){}.constructor(s(730))[s(408)](s(758));1!==(""+t/t)[s(551)]||t%20==0?function(){return!0}.constructor("debu"+s(631))[s(473)](s(528)):function(){return!1}[s(746)](s(568)+s(631))[s(408)](s(576)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const wt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:ut,AnimatedSpriteRenderer:j,Atlas:D,BaseParticleStateInitializer:O,BaseParticleStateOperator:V,BoxPositionInitializer:Q,ColorInterpolatorOperator:lt,ConstantParticleEmitter:L,FlickerLight:mt,JSONTypeStore:ft,LifetimeInitializer:H,Manager:B,OpacityInterpolatorOperator:ot,ParticleStateArray:z,ParticleSystem:U,ParticleSystemState:N,RandomGenerator:k,RandomVelocityInitializer:et,Renderer:_,RotationInitializer:$,RotationalSpeedInitializer:K,SequenceInitializer:st,SequenceOperator:it,SizeInitializer:tt,SizeInterpolatorOperator:ht,SphereRandomGenerator:dt},Symbol.toStringTag,{value:"Module"})),gt=w({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const n=t,r=new B,a=new ft;a.addNamespace("THREE",e),a.addNamespace("Photons",wt);const{renderer:o,camera:c,scene:h}=f(),l=new s(...n.position);r.addParticleSystem(((t,e)=>{const n=new u;n.position.copy(e);const r="./plugins/digitalCity/image/fireF/ember.png",a=(new d).load(r),c=new D(a,r);c.addFrameSet(1,0,0,1,1);const h=new j(!0,c,!0,p),l=new U(n,h,o.value);l.init(150),l.setEmitter(new L(6));const m=new k(i,new i(0,0),new i(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new H(3,1,0,0,!1)),l.addParticleStateInitializer(new tt(m)),l.addParticleStateInitializer(new Q(new s(.05*t,0,.05*t),new s(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new et(new s(.4*t,.5*t,.4*t),new s(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l.addParticleStateOperator(new ot).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new lt(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const f=new dt(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new ut(f)),l.setSimulateInWorldSpace(!0),l.start(),l})(n.scale,l)),r.addParticleSystem(((t,e)=>{const n=new u;n.position.copy(e);const r="./plugins/digitalCity/image/fireF/base_flame.png",a=(new d).load(r),c=new D(a,r);c.addFrameSet(18,0,0,.125,.25);const h=new j(!0,c,!0),l=new U(n,h,o.value);l.init(50),l.setEmitter(new L(10)),l.addParticleSequence(0,18);const p=l.getParticleSequences();l.addParticleStateInitializer(new H(0,0,0,0,!1)),l.addParticleStateInitializer(new $(new k(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new K(1,-1,0,0,!1)),l.addParticleStateInitializer(new tt(new k(i,new i(.25*t,.25*t),new i(.5*t,.5*t),0,0,!1))),l.addParticleStateInitializer(new Q(new s(.05*t,0,.05*t),new s(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new et(new s(.05*t,.4*t,.05*t),new s(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l.addParticleStateInitializer(new st(p)),l.addParticleStateOperator(new it(p,.07,!1));l.addParticleStateOperator(new ot).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);l.addParticleStateOperator(new ht(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l.addParticleStateOperator(new lt(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l.addParticleStateOperator(new ut(new k(s,new s(0,0,0),new s(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l.start(),l})(n.scale,l)),r.addParticleSystem(((t,e)=>{const n=new u;n.position.copy(e);const r="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new d).load(r),c=new D(a,r);c.addFrameSet(16,0,0,212/1024,.25);const h=new j(!0,c,!0),l=new U(n,h,o.value);l.init(20),l.setEmitter(new L(5)),l.addParticleSequence(0,16);const p=l.getParticleSequences();l.addParticleStateInitializer(new H(0,0,0,0,!1)),l.addParticleStateInitializer(new $(new k(0,Math.PI,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new K(Math.PI/2,-Math.PI/4,0,0,!1)),l.addParticleStateInitializer(new tt(new k(i,new i(0,0),new i(0,0),.2*t,.65*t,!1))),l.addParticleStateInitializer(new Q(new s(.1*t,0,.1*t),new s(-.05*t,0,-.05*t))),l.addParticleStateInitializer(new et(new s(.02*t,.4*t,.02*t),new s(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l.addParticleStateInitializer(new st(p)),l.addParticleStateOperator(new it(p,.1,!1));l.addParticleStateOperator(new ot).addElements([[0,0],[.6,.2],[.5,.75],[0,1]]);l.addParticleStateOperator(new ht(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l.addParticleStateOperator(new lt(!0)).addElementsFromParameters([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l.addParticleStateOperator(new ut(new k(s,new s(0,0,0),new s(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l.start(),l})(n.scale,l)),r.addComponent(((t,e=10)=>{const s=new u;h.value.add(s),s.position.copy(t);return new mt(s,e,2,(new m).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(l,100));const{onBeforeLoop:w}=S();return w((()=>{r.update(),r.render(o.value,c.value)})),(t,e)=>null}}),yt=w({__name:"fireF",setup(e){const s=g();return y((()=>{s.value&&(s.value.$refs.tcRef?s.value.$refs.tcRef.context.camera.value.position.set(580,360,500):s.value.$refs.perspectiveCameraRef&&s.value.$refs.perspectiveCameraRef.position.set(580,360,500))})),(e,i)=>(v(),x(t,{ref_key:"pagesShowRef",ref:s},{ability:P((()=>[I(gt,{position:[0,20,10],scale:40})])),_:1},512))}});export{yt as default};
