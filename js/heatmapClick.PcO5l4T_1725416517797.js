import{a as t,d as n}from"./@tresjs.5lh7VmqZ1725416517797.js";import{P as e}from"./tweakpane.yHWGBmom1725416517797.js";import{T as o,a6 as r,ab as a,ac as s}from"./three.VTQVqxMx1725416517797.js";import{_ as i}from"./heatmap.js-fix.QXeWacWK1725416517797.js";import{d as c,a5 as u,a2 as l,o as p,E as f,u as d,r as h,e as m,f as g,g as v,j as y,al as b,aj as w,ak as I,m as x,L as _}from"./@vue._6MD2XyK1725416517797.js";import"./@vueuse.L-salR9N1725416517797.js";import"./@amap.LUDXTi4z1725416517797.js";const j=z;!function(t,n){const e=z,o=A();for(;;)try{if(594115===-parseInt(e(433))/1+parseInt(e(420))/2+parseInt(e(443))/3+parseInt(e(419))/4+parseInt(e(429))/5*(parseInt(e(463))/6)+-parseInt(e(422))/7*(-parseInt(e(479))/8)+-parseInt(e(461))/9*(parseInt(e(445))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=T("init");n.test(o+t(472))&&e[t(438)](o+t(425))?T():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(412)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(t,n){const e=A();return(z=function(t,n){return e[t-=412]})(t,n)}S(void 0,(function(){const t=z;let n;try{n=Function(t(431)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(413)]=n[t(413)]||{},o=["log",t(451),"info",t(442),t(462),"table",t(421)];for(let a=0;a<o[t(454)];a++){const n=S[t(434)][t(459)][t(466)](S),r=o[a],s=e[r]||n;n.__proto__=S.bind(S),n.toString=s.toString[t(466)](s),e[r]=n}}))();const k=["object"];function A(){const t=["ShaderMaterial","4757464HTewcu","push","absolute","apply","console","heatmapClickCom","appendChild","count","stateObject","0.8","58504ZVeIBI","1753170CrSxXD","trace","7FnoIKY","none","canvas","input","40px","onclick","DoubleSide","685480JBUbza","debu","return (function() ","setDataMax","1177303HZcMig","constructor","getX","radius","deleteAttribute","test","set","while (true) {}","createElement","error","3467064EAQons","show2dCanvas","340vzLLsg","1px solid #5384ff","heatmap-canvas","setScalar","boundingBox","BufferAttribute","warn","left","style","length","getZ","./draco/","string","gger","prototype","needsUpdate","375498mmezIC","exception","24uaAyVu","material","_renderer","bind","position","attributes","top","mesh_0","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","chain","call","counter","addData","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb"];return(A=function(){return t})()}const M=c({__name:j(414),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(477),{draco:!0,decoderPath:e(456)}))),a=await a,s(),a);h[e(470)][e(467)][e(439)](-5088.96,-3.08,39374.7),h.mesh_0.scale[e(448)](.01);let m=null,g=null,v=null;g=new o((()=>{const t=e;return v=document[t(441)](t(447)),v[t(453)][t(467)]=t(481),v[t(453)][t(469)]=t(426),v.style[t(452)]="0",document.body[t(415)](v),m=i.create({container:v,width:256,height:256,blur:t(418),radius:c[t(436)]}),m[t(465)].canvas.style.border=t(446),m[t(465)][t(424)][t(427)]=function(n){const e=t;m[e(475)]({x:n.layerX,y:n.layerY,value:1,radius:c[e(436)]}),m[e(432)](1),g&&(g[e(460)]=!0)},m})()[e(465)][e(424)]);const y={vertexShader:e(471),fragmentShader:e(476),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(428)]},b=new(r[e(478)])(y);h[e(470)][e(464)]=b;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:a}=t[n(449)];t[n(437)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t.attributes[n(467)][n(416)];e++)c[n(480)]((t[n(468)][n(467)][n(435)](e)-a.x)/s),c[n(480)]((t[n(468)].position[n(455)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(r[n(450)])(u,2))})(h[e(470)].geometry),l((()=>{const t=e;v[t(453)].display=""+(c[t(444)]?"block":t(423))})),(t,n)=>{const o=e;return p(),f("primitive",{object:d(h)[o(470)]},null,8,k)}}});function T(t){function n(t){const e=z;if(typeof t===e(457))return function(t){}[e(434)](e(440))[e(412)](e(474));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(430)+e(458))[e(473)]("action"):function(){return!1}[e(434)](e(430)+"gger")[e(412)](e(417)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function B(){const t=["length","12sSUUEe","test","apply","console","radius","1665ImZkTW","TresGridHelper","点击左侧蓝色画框","stateObject","while (true) {}","6TyfmRf","gger","圆圈的大小","table","constructor","TresPerspectiveCamera","addBinding","1090884qfrtNd","return (function() ","trace","5683713uVrDYC","962msxXIr","error","9oIRbXL","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","26964069XeLaqX","addButton","#030311","function *\\( *\\)",'{}.constructor("return this")( )',"warn","debu","prototype","1248VzRjXm","call","string","heatmapClick","info","toString","show2dCanvas","init","action","4128335YwqcYC","5678650zMiFNj","counter","bind","41544DSInXt"];return(B=function(){return t})()}const D=E;!function(t,n){const e=E,o=B();for(;;)try{if(653696===parseInt(e(502))/1*(-parseInt(e(514))/2)+-parseInt(e(504))/3*(parseInt(e(546))/4)+parseInt(e(523))/5*(parseInt(e(539))/6)+-parseInt(e(501))/7+parseInt(e(527))/8*(-parseInt(e(534))/9)+parseInt(e(524))/10+parseInt(e(506))/11*(parseInt(e(529))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(531)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=E,n=new RegExp(t(509)),e=new RegExp(t(505),"i"),o=V(t(521));n[t(530)](o+"chain")&&e[t(530)](o+"input")?V():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(531)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=B();return(E=function(t,n){return e[t-=500]})(t,n)}X(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(547)+t(510)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(532)]||{},o=["log",t(511),t(518),t(503),"exception",t(542),t(500)];for(let r=0;r<o[t(528)];r++){const n=X.constructor[t(513)][t(526)](X),a=o[r],s=e[a]||n;n.__proto__=X.bind(X),n.toString=s[t(519)][t(526)](s),e[a]=n}}))();const L=_(D(544),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),U=_("TresDirectionalLight",{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1),Z=_(D(535),{args:[50,25]},null,-1),F=c({__name:D(517),setup(t){const o=D,r={clearColor:o(508),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(545)](i,o(520),{label:"显示二维图"}),c[o(545)](i,o(533),{label:o(541),min:.1,max:30,step:.1}),c[o(507)]({title:o(536)}),(t,e)=>{const o=m("TresCanvas");return p(),g(o,x(r,{"window-size":""}),{default:v((()=>[L,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),U,Z,(p(),g(b,null,{default:v((()=>[y(M,w(I(i)),null,16)])),_:1}))])),_:1},16)}}});function V(t){function n(t){const e=E;if(typeof t===e(516))return function(t){}[e(543)](e(538)).apply(e(525));1!==(""+t/t)[e(528)]||t%20==0?function(){return!0}[e(543)](e(512)+e(540))[e(515)](e(522)):function(){return!1}[e(543)](e(512)+e(540))[e(531)](e(537)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
