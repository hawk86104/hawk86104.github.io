var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,a=(t,a)=>{for(var i in a||(a={}))e.call(a,i)&&o(t,i,a[i]);if(n)for(var i of n(a))r.call(a,i)&&o(t,i,a[i]);return t};import{U as i,c as s}from"./@tresjs.lftldzUe1733214749102.js";import{u,a as c,_ as l}from"./colorList.QFGfHosv1733214749102.js";import{_ as f,aF as p,cX as d}from"./three.aWgA1gea1733214749102.js";import{z as m}from"./three-custom-shader-material.uIcenEYv1733214749102.js";import{P as h}from"./tweakpane.yHWGBmom1733214749102.js";import{d as y,b as g,a as x,r as b,w,o as _,D as v,J as I,u as j,j as A,g as z,x as S,F as R,V as D,f as E,H as V,I as M,m as L}from"./@vue.-THQH3GC1733214749102.js";import{z as T,x as k,a6 as F,a7 as O,a8 as C,N as P,a9 as Z,aa as H,t as B,$ as U,ab as $,v as q,_ as W}from"./@fesjs.Of4PiCSw1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";import"./pinia.YZvRaeWc1733214749102.js";import"./vue-demi.C4xddsk91733214749102.js";import"./vue-router.lCq72hq_1733214749102.js";import"./lodash-es.kYt-_xTG1733214749102.js";import"./@qlin.yHhFDldE1733214749102.js";import"./@floating-ui.BPbuo5Gx1733214749102.js";import"./@juggle.7yjBMqoW1733214749102.js";const X=G;!function(t,n){const e=G,r=rt();for(;;)try{if(411905===-parseInt(e(254))/1+parseInt(e(229))/2+-parseInt(e(279))/3*(-parseInt(e(275))/4)+parseInt(e(256))/5*(parseInt(e(195))/6)+-parseInt(e(266))/7*(-parseInt(e(255))/8)+-parseInt(e(281))/9*(parseInt(e(276))/10)+-parseInt(e(253))/11*(parseInt(e(212))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(277)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=G,n=new RegExp(t(246)),e=new RegExp(t(218),"i"),r=at(t(244));n.test(r+"chain")&&e[t(262)](r+t(222))?at():r("0")}))()}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(277)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(t,n){const e=rt();return(G=function(t,n){return e[t-=193]})(t,n)}N(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(210)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(228)]=n[t(228)]||{},r=[t(269),t(224),t(252),t(273),"exception",t(232),t(199)];for(let o=0;o<r.length;o++){const n=N.constructor[t(271)][t(216)](N),a=r[o],i=e[a]||n;n[t(213)]=N[t(216)](N),n[t(270)]=i[t(270)][t(216)](i),e[a]=n}}))();const Q=[X(237),X(204)],J=[X(237)],K=[X(274)],tt=[X(274)],nt=[X(274)],et=[X(274)];function rt(){const t=["mesh","while (true) {}","xLength","visible","y剖面","matrix","material","LineBasicMaterial","upperThreshold","return (function() ","primitive","12HQgLWa","__proto__","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","debu","bind","NormalBlending","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresGroup","floor","scene","input","windowLow","warn","uniforms","repaintAllSlices","z剖面","console","305034NVhIRz","Matrix4","index","table","windowHigh","lowerThreshold","zLength","RASDimensions","scale","y轴缩放","x轴缩放","repaint","extractSlice","xExtent","EdgesGeometry","init","yExtent","function *\\( *\\)","z轴缩放","call","addBinding","max","string","info","11874104JlvdnH","68088tWKKtw","93624eZilCA","5zqPXGC","min","LineSegments","invert","stateObject","yLength","test","selectDataType","updateTransferFunction","byteArray","161sXVZBM","title","DoubleSide","log","toString","prototype","colorsStops","error","object","16FVxcgY","2635130Emohux","apply","eTexture","584940CkUIXQ","gger","9ydrhVb","inverseMatrix","value","x剖面","3728184jTrdti","computeMinMax","zExtent","change","trace","constructor"];return(rt=function(){return t})()}const ot=y({__name:X(221),setup(t){const n=X,e=g(-1),r=g(-1),o=g(.6),i=x((()=>{const t=G;return!(e[t(193)]<=.01&&e[t(193)]>=-.01)&&(!(r[t(193)]<=.01&&r[t(193)]>=-.01)&&!(o.value<=.01&&o[t(193)]>=-.01))})),s=u(),l=c(),y=(t=>{const n=G,e=new d(l[n(242)],l[n(245)],l[n(197)],l.dataType[l[n(263)]][n(267)],l.byteArray);e.spacing=[1,1,1],e[n(236)]=[Math[n(220)](e[n(203)]),Math[n(220)](e[n(261)]),Math[n(220)](e[n(235)])],e[n(206)]=new(f[n(230)]),e[n(282)]=new(f[n(230)]),e[n(282)].copy(e[n(206)])[n(259)]();const r=e[n(196)](),o=r[0],a=r[1];return e[n(223)]=o,e.windowHigh=a,e[n(234)]=o,e[n(209)]=a,e})(l[n(265)]),A=new(f[n(258)])(new(f[n(243)])(new p(y[n(203)],y[n(261)],y[n(235)])),new(f[n(208)])({color:6710886})),z=b({x:Math[n(220)](y[n(236)][0]/2),y:Math[n(220)](y[n(236)][1]/2),z:Math.floor(y.RASDimensions[2]/4)});y[n(233)]=136;const S=y[n(241)]("x",z.x),R=y[n(241)]("y",z.y),D=y[n(241)]("z",z.z),E={vertexShader:n(214),fragmentShader:"\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ",uniforms:{eTexture:{value:s[n(264)]()}},silent:!0,flatShading:!0,side:f[n(268)],transparent:!0,depthTest:!0,depthWrite:!1,blending:f[n(217)]};S.mesh[n(207)]=new m(a({baseMaterial:S.mesh[n(207)]},E)),R[n(201)][n(207)]=new m(a({baseMaterial:R.mesh[n(207)]},E)),D[n(201)].material=new m(a({baseMaterial:D[n(201)][n(207)]},E));const V=new h;return V[n(249)](e,n(193),{label:n(239),min:-2,max:2,step:.01}),V[n(249)](r,n(193),{label:n(238),min:-2,max:2,step:.01}),V[n(249)](o,n(193),{label:n(247),min:-2,max:2,step:.01}),V[n(249)](z,"x",{label:n(194),min:0,max:y.RASDimensions[0],step:1}),V[n(249)](z,"y",{label:n(205),min:0,max:y[n(236)][1],step:1}),V[n(249)](z,"z",{label:n(227),min:0,max:y.RASDimensions[2],step:1}),V[n(249)](y,n(234),{label:n(234),min:y[n(257)],max:y[n(250)],step:1}).on(n(198),(()=>{y[n(226)]()})),V[n(249)](y,n(209),{label:n(209),min:y[n(257)],max:y[n(250)],step:1}).on(n(198),(()=>{y.repaintAllSlices()})),V.addBinding(y,n(223),{label:"windowLow",min:y.min,max:y[n(250)],step:1}).on(n(198),(()=>{y[n(226)]()})),V.addBinding(y,n(233),{label:n(233),min:y.min,max:y[n(250)],step:1}).on(n(198),(()=>{y[n(226)]()})),w((()=>z),(t=>{const e=n;S[e(231)]=t.x,S[e(240)][e(248)](S),R[e(231)]=t.y,R.repaint.call(R),D[e(231)]=t.z,D[e(240)][e(248)](D)}),{deep:!0}),w((()=>s[n(272)]),(()=>{const t=n;S.mesh[t(207)][t(225)][t(278)][t(193)]=s.updateTransferFunction(),R[t(201)][t(207)].uniforms[t(278)][t(193)]=s[t(264)](),D.mesh[t(207)][t(225)][t(278)][t(193)]=s[t(264)]()}),{deep:!0,immediate:!0}),(t,a)=>{const s=n;return _(),v(s(219),{scale:[e.value,r[s(193)],o.value],visible:i.value},[I(s(219),{scale:[1/j(y).xLength,1/j(y).xLength*j(y)[s(203)]/j(y)[s(261)],1/j(y).xLength*j(y)[s(203)]/j(y)[s(235)]]},[I(s(211),{object:j(S).mesh,renderOrder:1},null,8,K),I(s(211),{object:j(R)[s(201)],renderOrder:2},null,8,tt),I(s(211),{object:j(D)[s(201)],renderOrder:3},null,8,nt),I(s(211),{object:j(A)},null,8,et)],8,J)],8,Q)}}});function at(t){function n(t){const e=G;if(typeof t===e(251))return function(t){}.constructor(e(202)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(200)]("debu"+e(280)).call("action"):function(){return!1}[e(200)](e(215)+e(280)).apply(e(260)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const it=ct;!function(t,n){const e=ct,r=pt();for(;;)try{if(619905===-parseInt(e(162))/1+parseInt(e(217))/2*(-parseInt(e(175))/3)+parseInt(e(196))/4+-parseInt(e(177))/5*(parseInt(e(204))/6)+parseInt(e(173))/7+parseInt(e(210))/8+parseInt(e(226))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const st=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ct(182)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){st(this,(function(){const t=ct,n=new RegExp(t(171)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=ft(t(205));n[t(185)](r+t(186))&&e[t(185)](r+t(206))?ft():r("0")}))()}();const ut=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function ct(t,n){const e=pt();return(ct=function(t,n){return e[t-=162]})(t,n)}ut(void 0,(function(){const t=ct,n=function(){const t=ct;let n;try{n=Function(t(211)+t(172)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(198)]||{},r=["log",t(225),t(194),"error","exception","table",t(219)];for(let o=0;o<r.length;o++){const n=ut.constructor[t(209)][t(164)](ut),a=r[o],i=e[a]||n;n[t(214)]=ut[t(164)](ut),n[t(167)]=i[t(167)].bind(i),e[a]=n}}))();const lt={key:0,class:it(216)};function ft(t){function n(t){const e=ct;if("string"==typeof t)return function(t){}[e(174)]("while (true) {}")[e(182)](e(207));1!==(""+t/t)[e(168)]||t%20==0?function(){return!0}.constructor(e(227)+e(176))[e(189)](e(163)):function(){return!1}.constructor(e(227)+e(176))[e(182)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function pt(){const t=["2.4em","card-wrapper","286cRyVle","请正确选择rawData文件","trace","title","selectDataType","div","setArrayBuffer","演示参考头部👨‍🦲RawData数据,下载 : ","warn","2821923dwHPte","debu","552534WSRHbE","action","bind"," 面剖体数据","onload","toString","length","2.8em","yExtent","function *\\( *\\)",'{}.constructor("return this")( )',"8622747RMqjSD","constructor","21129lFoNes","gger","215nHXZVd","fileList","xExtent","10px auto -3px","文件类型必须为:'image/x-panasonic-raw'","apply","[change] param:","head_256x256x109_uint8.raw","test","chain","11px","请正确输入数值","call","zExtent","value"," y轴长度： ","modelValue","info","warning","841940cVsgYZ","log","console","image/x-panasonic-raw"," x轴长度： ","300px","removeFile","target","73302AFAalY","init","input","counter","dataType","prototype","7592528rahgkP","return (function() ","raw"," z轴长度： ","__proto__"];return(pt=function(){return t})()}const dt=W(y({__name:"importRawUI",setup(t){const n=it,e=c();e[n(179)]=256,e[n(170)]=256,e[n(190)]=109;const r=g(null),o=g([]),a=t=>{const e=n;console[e(197)](e(183),t)},i=()=>{var t;const e=n;o[e(191)][e(168)]>1&&(null==(t=r[e(191)])||t[e(202)](o[e(191)][0]))},s=()=>{const t=n;if(1!=o[t(191)][t(168)])return q[t(195)](t(218)),!1;if(e[t(179)]<=0||e[t(170)]<=0||e[t(190)]<=0)return q.warning(t(188)),!1;if(o[t(191)][0][t(212)].type!==t(199))return q[t(195)](t(181)),!1;const r=new FileReader;return r[t(166)]=function(n){const r=t,o=n[r(203)].result;e[r(223)](o)},r.readAsArrayBuffer(o.value[0][t(212)]),!0};return(t,u)=>{const c=n;return j(e).byteArray?M("",!0):(_(),v(c(222),lt,[A(j($),{header:"读取Raw原始数据"},{default:z((()=>[u[10]||(u[10]=I("div",{style:{"margin-bottom":c(187)}},[S(c(224)),I("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},c(184))],-1)),A(j(T),{style:{"min-height":c(169)}},{default:z((()=>[A(j(k),{span:6,style:{"line-height":c(215)}},{default:z((()=>u[5]||(u[5]=[S(c(200))]))),_:1}),A(j(k),{span:18},{default:z((()=>[A(j(F),{precision:0,modelValue:j(e)[c(179)],"onUpdate:modelValue":u[0]||(u[0]=t=>j(e)[c(179)]=t),autofocus:""},null,8,[c(193)])])),_:1})])),_:1}),A(j(T),{style:{"min-height":c(169)}},{default:z((()=>[A(j(k),{span:6,style:{"line-height":c(215)}},{default:z((()=>u[6]||(u[6]=[S(c(192))]))),_:1}),A(j(k),{span:18},{default:z((()=>[A(j(F),{precision:0,modelValue:j(e).yExtent,"onUpdate:modelValue":u[1]||(u[1]=t=>j(e).yExtent=t),autofocus:""},null,8,[c(193)])])),_:1})])),_:1}),A(j(T),{style:{"min-height":"2.8em"}},{default:z((()=>[A(j(k),{span:6,style:{"line-height":c(215)}},{default:z((()=>u[7]||(u[7]=[S(c(213))]))),_:1}),A(j(k),{span:18},{default:z((()=>[A(j(F),{precision:0,modelValue:j(e).zExtent,"onUpdate:modelValue":u[2]||(u[2]=t=>j(e).zExtent=t),autofocus:""},null,8,[c(193)])])),_:1})])),_:1}),A(j(O),{modelValue:j(e)[c(221)],"onUpdate:modelValue":u[3]||(u[3]=t=>j(e)[c(221)]=t),style:{"margin-bottom":"10px"}},{default:z((()=>[(_(!0),v(R,null,D(j(e)[c(208)],((t,n)=>{const e=c;return _(),E(j(C),{key:n,value:n},{default:z((()=>[A(j(P),{style:{"max-width":e(201)}},{default:z((()=>[S(V(t[e(220)]),1)])),_:2},1024)])),_:2},1032,[e(191)])})),128))])),_:1},8,[c(193)]),A(j(Z),{ref_key:"uploadRef",ref:r,fileList:o.value,"onUpdate:fileList":u[4]||(u[4]=t=>o[c(191)]=t),onChange:a,httpRequest:i},{default:z((()=>[A(j(H),null,{default:z((()=>u[8]||(u[8]=[S(" 点击或者拖拽rawData文件到此区域 ")]))),_:1})])),_:1},8,[c(178)]),A(j(B),{style:{display:"block",margin:c(180)},onClick:s},{icon:z((()=>[A(j(U))])),default:z((()=>[u[9]||(u[9]=S(c(165)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]),mt=xt;function ht(){const t=["132162AkcoXY","187194nFnsMD","error","gger","rgba(0, 0, 0, 0)","stateObject","test","apply","chain","600408fnjvhf","while (true) {}","8643904FCdfHS","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","exception","170CPrehY","prototype","init","rawDataSurfaceSection","#201919","2199968ODcNGI","TresPerspectiveCamera","toString","trace","byteArray","bind","string","length","__proto__","debu","27068eqeQnp","constructor","function *\\( *\\)","table","917574VYCWpW"];return(ht=function(){return t})()}!function(t,n){const e=xt,r=ht();for(;;)try{if(838864===parseInt(e(440))/1+-parseInt(e(462))/2+parseInt(e(441))/3+parseInt(e(436))/4*(-parseInt(e(457))/5)+parseInt(e(450))/6+parseInt(e(442))/7+parseInt(e(452))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const yt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[xt(448)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){yt(this,(function(){const t=xt,n=new RegExp(t(438)),e=new RegExp(t(454),"i"),r=wt(t(459));n.test(r+t(449))&&e[t(447)](r+"input")?wt():r("0")}))()}();const gt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function xt(t,n){const e=ht();return(xt=function(t,n){return e[t-=435]})(t,n)}gt(void 0,(function(){const t=xt,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n.console=n.console||{},r=["log","warn",t(453),t(443),t(456),t(439),t(465)];for(let o=0;o<r[t(469)];o++){const n=gt[t(437)][t(458)][t(467)](gt),a=r[o],i=e[a]||n;n[t(470)]=gt.bind(gt),n.toString=i[t(464)].bind(i),e[a]=n}}))();const bt=y({__name:mt(460),setup(t){const n=mt,e=b({clearColor:n(461),antialias:!0}),r=c();return(t,o)=>{const a=n;return _(),v(R,null,[j(r)[a(466)]?(_(),E(l,{key:0,curColorList:[[a(445),0],["rgb(0, 255, 255)",.4],["rgb(255, 0, 0)",1]]})):M("",!0),A(j(s),L(e,{"window-size":""}),{default:z((()=>[o[0]||(o[0]=I(a(463),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),A(j(i)),j(r).byteArray?(_(),E(ot,{key:0})):M("",!0)])),_:1},16),A(dt)],64)}}});function wt(t){function n(t){const e=xt;if(typeof t===e(468))return function(t){}[e(437)](e(451))[e(448)]("counter");1!==(""+t/t)[e(469)]||t%20==0?function(){return!0}[e(437)](e(435)+e(444))[e(455)]("action"):function(){return!1}[e(437)]("debu"+e(444))[e(448)](e(446)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{bt as default};
