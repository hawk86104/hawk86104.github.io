import"./@fesjs.uDzWZsaX1758259351508.js";import{e,k as t,a}from"./@tresjs.CywMBpUh1758259351508.js";import"./Resource.DDopQ4j61758259351508.js";/* empty css                                                                             */import{_ as o}from"./randomLoading.vue_vue_type_script_setup_true_lang.BVkzOk_B1758259351508.js";import"./three-mesh-ui.module.t9YwAzlx1758259351508.js";import"./global.DmBaWnKd1758259351508.js";/* empty css                                                              */import{_ as i}from"./component.vue_vue_type_script_setup_true_lang.N11Twhfv1758259351508.js";import{_ as s}from"./vanilla.esm.5.5.0.BLQsTmw31758259351508.js";import{d as r,b as n,s as l,G as m,o as p,I as d,L as u,e as c,f as g,j as y,u as f,F as _,W as h,a5 as b,aa as j,r as x,a7 as v,a8 as B,h as w}from"./@vue.pEDXJ_3Z1758259351508.js";import{_ as k}from"./index.vue_vue_type_script_setup_true_lang.DJEY7Gz91758259351508.js";import{g as T,V as M,S,au as z,bV as P,aa as I,_ as C,Y as D}from"./three.CtgP63ME1758259351508.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang.CV7E_8631758259351508.js";import{_ as L}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.Ba0Cm4ys1758259351508.js";import{P as O}from"./tweakpane.C0HtAJSg1758259351508.js";import"./vue-router.BT0ZZbwZ1758259351508.js";import"./lodash-es.C7pWAXPe1758259351508.js";import"./pinia.C_K98KJs1758259351508.js";import"./@qlin.q6OWdsQV1758259351508.js";import"./@babel.BPq7uOAK1758259351508.js";import"./@floating-ui.BFjFSAYt1758259351508.js";import"./@juggle.CcBCnTIR1758259351508.js";import"./postprocessing.DJgHFhS91758259351508.js";import"./@vueuse.C5HLo59K1758259351508.js";import"./starLoading.DFPZIqgM1758259351508.js";import"./utils.BQV0fxbj1758259351508.js";import"./cssLoaders.CQpM9kUP1758259351508.js";import"./bubbleLoading.DePR09OY1758259351508.js";import"./yangyangLoading.Dr1o3-z41758259351508.js";import"./color.BPoHtV0H1758259351508.js";import"./@amap.CGUF9xH41758259351508.js";import"./color-string.P-yvt9W21758259351508.js";import"./color-name.BQ5IbGbl1758259351508.js";import"./simple-swizzle.Xn8N6iLa1758259351508.js";import"./is-arrayish.CLsR9Wfx1758259351508.js";import"./color-convert.Btfsg-JE1758259351508.js";import"./lodash.Bo0I6nx61758259351508.js";import"./three-stdlib.CnBqg7GS1758259351508.js";import"./object-hash.XWOgmMan1758259351508.js";import"./jszip.uB4RcRU81758259351508.js";import"./index.BKjFmS5v1758259351508.js";import"./@pmndrs.shiVPEDo1758259351508.js";const A=r({__name:"index",props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(e){const t=e,a=n(null),o=n(null),i=n(null);return l((()=>{if(!o.value)return;if(!i.value)return;o.value.matrixWorld.identity();const e=(new T).setFromObject(i.value,t.precise),a=new M,s=new S,r=e.max.x-e.min.x,n=e.max.y-e.min.y,l=e.max.z-e.min.z;e.getCenter(a),e.getBoundingSphere(s);const m=t.top?n/2:t.bottom?-n/2:0,p=t.left?-r/2:t.right?r/2:0,d=t.front?l/2:t.back?-l/2:0;o.value.position.set(t.disable||t.disableX?0:-a.x+p,t.disable||t.disableY?0:-a.y+m,t.disable||t.disableZ?0:-a.z+d)})),(e,t)=>(p(),m("TresGroup",{ref_key:"gref",ref:a},[d("TresGroup",{ref_key:"outer",ref:o},[d("TresGroup",{ref_key:"inner",ref:i},[u(e.$slots,"default")],512)],512)],512))}}),F=["rotation"],R=["rotation-x"],W=r({__name:"env",setup(t){const a=n(null),{onLoop:o}=e();o((({delta:e})=>{a.value&&(a.value.rotation.z+=e)}));const r=[2,-2,2,-4,2,-5,2,-9];return(e,t)=>(p(),c(b,null,{default:g((()=>[y(f(i),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:g((()=>[y(f(s),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),y(f(s),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),d("TresGroup",{rotation:[Math.PI/2,1,0]},[(p(),m(_,null,h(r,((e,t)=>y(f(s),{key:t,intensity:1,rotation:[Math.PI/4,0,0],position:[e,4,4*t],scale:[4,1,1]},null,8,["rotation","position"]))),64))],8,F),y(f(s),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),y(f(s),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),y(f(s),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),d("TresGroup",{ref_key:"refgroup",ref:a,"rotation-x":Math.PI/2},[y(f(s),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,R)])),_:1},8,["path"])])),_:1}))}}),Y={position:[0,-.5,0],rotation:[0,-.75,0]},X=["geometry","material"],Z=["geometry","material"],K=["geometry","material"],V=["geometry","material"],q=["geometry","material"],E=["geometry","material"],J=["geometry","material"],U=["geometry"],$=["geometry","material"],H=["geometry","material"],N=r({__name:"models",async setup(e){let a,o;const i=new z({transparent:!0,opacity:1,color:"black",roughness:0,side:I,blending:P,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:s,materials:r}=([a,o]=j((()=>t("https://opensource.cdn.icegl.cn/model/eCommerce/glass-transformed.glb",{draco:!0,decoderPath:"./draco/"}))),a=await a,o(),a),n={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},l=x({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),u=new O;u.hidden=!0,u.addBinding(l,"color",{label:"颜色"}),u.addBinding(l,"roughness",{label:"roughness",min:0,max:1,step:.01}),u.addBinding(l,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),u.addBinding(l,"attenuationColor",{label:"attenuationColor"}),u.addBinding(l,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),u.addBinding(l,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),u.addBinding(l,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),u.addBinding(l,"distortion",{label:"distortion",min:0,max:10,step:.01}),u.addBinding(l,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),u.addBinding(l,"backside",{label:"backside"}),u.addBinding(l,"thickness",{label:"thickness",min:0,max:4,step:.01}),u.addBinding(l,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const c=x({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),_=new O({title:"参数"});return _.hidden=!0,_.addBinding(c,"color",{label:"颜色"}),_.addBinding(c,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),_.addBinding(c,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),_.addBinding(c,"far",{label:"可视距离",min:0,max:30,step:1}),_.addBinding(c,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),_.addBinding(c,"intensity",{label:"强度",min:0,max:1,step:.01}),_.addBinding(c,"causticsOnly",{label:"只显示投射"}),_.addBinding(c,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(e,t)=>(p(),m("TresGroup",Y,[d("TresMesh",{geometry:f(s).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:f(r).FruitCakeSlice_u1_v1},null,8,X),d("TresMesh",{geometry:f(s).straw_1.geometry,castShadow:"",material:f(r).straw_2},null,8,Z),d("TresMesh",{geometry:f(s).straw_2.geometry,castShadow:"",material:f(r).straw_1},null,8,K),d("TresMesh",{geometry:f(s).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:f(r).straw_2},null,8,V),d("TresMesh",{geometry:f(s).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:f(r).straw_1},null,8,q),y(f(A),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:g((()=>[d("TresMesh",{geometry:f(s).flowers.geometry,castShadow:"",material:f(r)["draifrawer_u1_v1.001"],scale:1.2},null,8,E)])),_:1}),d("TresMesh",{castShadow:"",geometry:f(s).fork.geometry,material:f(r).ForkAndKnivesSet001_1K,"material-color":"#999"},null,8,J),y(f(G),v(B(c)),{default:g((()=>[d("TresMesh",{castShadow:"",receiveShadow:"",geometry:f(s).glass.geometry},[y(f(k),v(B(l)),null,16)],8,U)])),_:1},16),d("TresMesh",{geometry:f(s).glass_back.geometry,material:f(i),scale:[.95,1,.95]},null,8,$),d("TresMesh",{geometry:f(s).glass_inner.geometry,material:f(i)},null,8,H),y(f(L),v(B(n)),null,16)]))}}),Q=r({__name:"arrangement",setup(e){const t={clearColor:"#fffffff",windowSize:!0,toneMapping:D,toneMappingExposure:.8,shadows:!0,outputColorSpace:C};return(e,i)=>{const s=w("TresCanvas");return p(),m(_,null,[y(f(o)),y(s,v(B(t)),{default:g((()=>[i[0]||(i[0]=d("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),y(f(a),{enableDamping:""}),(p(),c(b,null,{default:g((()=>[y(N)])),_:1})),y(W)])),_:1},16)],64)}}});export{Q as default};
