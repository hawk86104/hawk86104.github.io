import{P as t}from"./tweakpane.yDiyAAkA1740621336114.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.8rpFpTwf1740621336114.js";import{_ as r}from"./heatmap.js-fix.L17pz1Zt1740621336114.js";import{a as i,_ as c,c2 as s,M as u,r as a,B as p,a0 as f}from"./three.sXv6UbbL1740621336114.js";import{r as l}from"./utils.HPQMEn2J1740621336114.js";import{d as h}from"./pinia.va49Nygd1740621336114.js";import{b as d,d as m,a2 as g,o as y,H as v,N as I,u as w,F as _,q as b,W as j,P as x,R as E,L as M,O as Z,a3 as P,r as R,j as z,g as D,m as L}from"./@vue.NRI7TcgI1740621336114.js";import{c as A,d as F,a as O}from"./three-mesh-bvh.C_z0wpFH1740621336114.js";import{_ as S}from"./@fesjs.LqZjJP5K1740621336114.js";import"./@tresjs.Td0X-dew1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";import"./three-custom-shader-material.zFJQzgaY1740621336114.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1740621336114.js";import"./@amap.xyvkHt4K1740621336114.js";import"./vue-router.42s9Lhcm1740621336114.js";import"./lodash-es.pklfUAS51740621336114.js";import"./@qlin.yHhFDldE1740621336114.js";import"./@floating-ui.BPbuo5Gx1740621336114.js";import"./@juggle.7yjBMqoW1740621336114.js";!function(t,n){const e=H,o=T();for(;;)try{if(957885===parseInt(e(233))/1*(parseInt(e(180))/2)+-parseInt(e(186))/3+parseInt(e(209))/4*(-parseInt(e(200))/5)+-parseInt(e(223))/6*(-parseInt(e(197))/7)+-parseInt(e(191))/8*(parseInt(e(208))/9)+-parseInt(e(196))/10*(-parseInt(e(178))/11)+-parseInt(e(221))/12*(-parseInt(e(217))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(193)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(){const t=["error","rgb(255,0,0)","call","style","getValueAt","action","1843487MLgFXQ","counter","top","height","appendChild","while (true) {}","3971ZDFmTz","return (function() ","2aKisip","createElement","function *\\( *\\)","console","debu","warn","3001431zicTkl","exception","width","test","_config","419472zYaZNj","input","apply","yellow","constructor","8850oiNXBm","7BMdfdq","left","none","1727870ZhINmZ",'{}.constructor("return this")( )',"table","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","randInt","setData","heatmap-canvas","90iHqRrh","8NDFrdx","rgb(0,0,255)","prototype","toString","trace","gger","stateObject","length","490464ZOCvQV","create","__proto__","position","48YtrqYZ","body","5159796qwBCkl","absolute","string","chain"];return(T=function(){return t})()}!function(){B(this,(function(){const t=H,n=new RegExp(t(182)),e=new RegExp(t(204),"i"),o=$("init");n.test(o+t(226))&&e[t(189)](o+t(192))?$():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(193)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=T();return(H=function(t,n){return e[t-=173]})(t,n)}k(void 0,(function(){const t=H;let n;try{n=Function(t(179)+t(201)+");")()}catch(r){n=window}const e=n[t(183)]=n.console||{},o=["log",t(185),"info",t(227),t(187),t(202),t(213)];for(let i=0;i<o[t(216)];i++){const n=k[t(195)][t(211)][t(203)](k),r=o[i],c=e[r]||n;n[t(219)]=k[t(203)](k),n.toString=c[t(212)][t(203)](c),e[r]=n}}))();const Y=(t,n)=>t[H(231)](n)+-10;function $(t){function n(t){const e=H;if(typeof t===e(225))return function(t){}[e(195)](e(177)).apply(e(173));1!==(""+t/t)[e(216)]||t%20==0?function(){return!0}[e(195)]("debugger")[e(229)](e(232)):function(){return!1}[e(195)](e(184)+e(214)).apply(e(215)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=N,o=V();for(;;)try{if(726030===-parseInt(e(357))/1*(-parseInt(e(379))/2)+-parseInt(e(360))/3*(parseInt(e(371))/4)+parseInt(e(383))/5+-parseInt(e(364))/6*(parseInt(e(366))/7)+-parseInt(e(362))/8+parseInt(e(374))/9*(parseInt(e(378))/10)+parseInt(e(385))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(361)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(){const t=["1rYLhKj","stateObject","debu","15ZiYELH","apply","6943704hIGEzh","__proto__","18MgHKbL","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2611329ewudVP","function *\\( *\\)","counter","console","test","1026772gFNzYF","gger","length","9HEKPkH","value","bind","chain","11135030cYOIMO","1292554EjXLhf","string","error","warn","4022460TTntal","toString","15755597xzxDAt","log","return (function() ",'{}.constructor("return this")( )',"constructor","prototype"];return(V=function(){return t})()}function N(t,n){const e=V();return(N=function(t,n){return e[t-=352]})(t,n)}!function(){C(this,(function(){const t=N,n=new RegExp(t(367)),e=new RegExp(t(365),"i"),o=U("init");n.test(o+t(377))&&e[t(370)](o+"input")?U():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(361)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=N,n=function(){const t=N;let n;try{n=Function(t(353)+t(354)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(369)]||{},o=[t(352),t(382),"info",t(381),"exception","table","trace"];for(let r=0;r<o[t(373)];r++){const n=X[t(355)][t(356)][t(376)](X),i=o[r],c=e[i]||n;n[t(363)]=X[t(376)](X),n[t(384)]=c[t(384)][t(376)](c),e[i]=n}}))();const q=h("buildingsHeatmap",(()=>{const t=d(!1),n=d(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[N(375)]=n},setTemperature:function(t){n[N(375)]=t}}}));function U(t){function n(t){const e=N;if(typeof t===e(380))return function(t){}[e(355)]("while (true) {}")[e(361)](e(368));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(359)+e(372)).call("action"):function(){return!1}[e(355)](e(359)+e(372))[e(361)](e(358)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=nt;!function(t,n){const e=nt,o=tt();for(;;)try{if(449976===parseInt(e(562))/1+-parseInt(e(560))/2*(-parseInt(e(524))/3)+-parseInt(e(501))/4+parseInt(e(516))/5+parseInt(e(557))/6+parseInt(e(559))/7*(-parseInt(e(514))/8)+-parseInt(e(534))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[nt(548)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=nt,n=new RegExp(t(500)),e=new RegExp(t(530),"i"),o=ot(t(549));n.test(o+t(531))&&e[t(523)](o+t(532))?ot():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[nt(548)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=nt;let n;try{n=Function("return (function() "+t(499)+");")()}catch(r){n=window}const e=n[t(521)]=n[t(521)]||{},o=[t(506),t(528),"info","error",t(511),t(520),t(512)];for(let i=0;i<o.length;i++){const n=G[t(503)][t(526)].bind(G),r=o[i],c=e[r]||n;n[t(535)]=G[t(543)](G),n.toString=c[t(550)][t(543)](c),e[r]=n}}))();const Q=["object",K(510)],J=[K(556)];function tt(){const t=["children","value",'{}.constructor("return this")( )',"function *\\( *\\)","1513672DuvYrh","call","constructor","gger","primitive","log","action","Mesh","counter","rotation-x","exception","trace","land","20920gdWrer","opacity","409255RfJBxi","setShowDiv","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","geometry","table","console","stateObject","test","157725PRLhad","buildingsHeatmap","prototype","matrix","warn","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","input","normal","4924116fIpgny","__proto__","computeBoundsTree","setTemperature","length","applyMatrix4","ShaderMaterial","model","city","bind","_renderer","raycast","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","BufferGeometry","apply","init","toString","_config","数值：","Texture","$patch","clone","object","4441218wICPxL","makeRotationX","434LvRAGr","4CDcPLk","attributes","610444WUERQA","debu","mergeGeometries","height"];return(tt=function(){return t})()}function nt(t,n){const e=tt();return(nt=function(t,n){return e[t-=499]})(t,n)}const et=m({__name:K(525),props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=nt;p.prototype.computeBoundsTree=A,c[t(547)][t(526)].disposeBoundsTree=F,c[t(508)][t(526)][t(545)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=H,i=document[o(181)](o(207));return i[o(230)][o(220)]=o(224),!e&&(i.style.display=o(199)),i[o(230)][o(174)]="0",i[o(230)][o(198)]="0",document[o(222)][o(176)](i),r[o(218)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(210),.55:"rgb(0,255,0)",.85:o(194),1:o(228)}})})();((t,n)=>{const e=H;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(205)](1,t._config[e(188)]),y:i.randInt(1,t[e(190)][e(175)]),value:i.randInt(-10,36)}),o++}t[e(206)]({max:36,min:-10,data:n})})(o);const h=new(c[n(553)])(o[n(544)].canvas);h.needsUpdate=!0;const d=e[n(541)][n(542)][n(555)]();delete d[n(519)][n(561)].normal,delete d[n(519)][n(561)].uv;const m=d.geometry[n(555)]().applyMatrix4(d[n(527)]),b=e[n(541)][n(513)].clone();delete b[n(519)][n(561)][n(533)];const j=b[n(519)].clone()[n(539)](b[n(527)]),x=s[n(564)]([m,j]);x[n(539)]((new u)[n(558)](Math.PI/2)),l(x),x[n(536)]();const E=(t=>{const o=n;return new(c[o(540)])({vertexShader:o(518),fragmentShader:o(546),uniforms:{uOpacity:{value:e[o(515)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:f})})(h),M=new a(x,E);g((()=>{const t=n;e[t(515)]&&(E.uniforms.uOpacity[t(567)]=e[t(515)])}));const Z=q(),P=t=>{const e=n;if(t){const n={x:t.uv.x*o._config.width,y:(1-t.uv.y)*o[e(551)][e(565)]};console[e(506)](e(552),t),console[e(506)]("数值———：",Y(o,n)),Z[e(537)](Y(o,n))}},R=t=>{t&&Z[n(554)]({showDiv:!0})},z=t=>{t&&Z[n(517)](!1)};return(t,o)=>{const r=n;return y(),v(_,null,[I(r(505),{object:w(M),"rotation-x":-Math.PI/2,onPointerMove:P,onPointerEnter:R,onPointerLeave:z},null,40,Q),I(r(505),{object:e[r(541)][r(541)][r(566)][0][r(555)]()},null,8,J)],64)}}});function ot(t){function n(t){const e=nt;if("string"==typeof t)return function(t){}[e(503)](e(529))[e(548)](e(509));1!==(""+t/t)[e(538)]||t%20==0?function(){return!0}[e(503)](e(563)+e(504))[e(502)](e(507)):function(){return!1}.constructor(e(563)+e(504))[e(548)](e(522)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=S({__name:"dataDiv",setup(t){const n=q(),e=d({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),j((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>x((y(),v("div",{class:"title",style:Z(e.value)},"温度："+M(w(n).temperature)+"℃ ",5)),[[E,w(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),it=ut;!function(t,n){const e=ut,o=at();for(;;)try{if(966783===parseInt(e(326))/1+parseInt(e(340))/2+parseInt(e(349))/3*(parseInt(e(314))/4)+parseInt(e(333))/5+-parseInt(e(338))/6+parseInt(e(324))/7+-parseInt(e(329))/8*(parseInt(e(335))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(331)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ct(this,(function(){const t=ut,n=new RegExp(t(310)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ft(t(330));n[t(325)](o+t(337))&&e[t(325)](o+t(339))?ft():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(331)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(t,n){const e=at();return(ut=function(t,n){return e[t-=310]})(t,n)}function at(){const t=["value","table","trace","toString","stateObject","string","11187988HiNzYs","test","1575317TosFEV","heatmap2","length","64cjPXDs","init","apply","constructor","5340080OMpPZC","info","4667679PZXHcp","warn","chain","8953080kKILtn","input","1453600EyVdpf","gger","console","return (function() ","debu","exception","bind","opacity","action","33FBwyQr","function *\\( *\\)","call","#000","builds","596216uHPZds","log",'{}.constructor("return this")( )',"error"];return(at=function(){return t})()}st(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(343)+t(316)+");")()}catch(e){n=window}return n}(),e=n[t(342)]=n[t(342)]||{},o=[t(315),t(336),t(334),t(317),t(345),t(319),t(320)];for(let r=0;r<o[t(328)];r++){const n=st.constructor.prototype[t(346)](st),i=o[r],c=e[i]||n;n.__proto__=st[t(346)](st),n[t(321)]=c[t(321)][t(346)](c),e[i]=n}}))();const pt=m({__name:it(327),async setup(r){const i=it;let c,s;const u=d(!1),a=([c,s]=P((()=>o())),c=await c,s(),c);u[i(318)]=!0;const p=R({width:1,color:i(312),opacity:1,show:!0}),f=R({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(f,i(347),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return y(),v(_,null,[z(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[z(et,L({model:w(a)},f),null,16,["model"]),z(n,L(p,{builds:w(a).city}),null,16,[r(313)])])),_:1}),z(rt)],64)}}});function ft(t){function n(t){const e=ut;if(typeof t===e(323))return function(t){}[e(332)]("while (true) {}")[e(331)]("counter");1!==(""+t/t)[e(328)]||t%20==0?function(){return!0}[e(332)](e(344)+e(341))[e(311)](e(348)):function(){return!1}[e(332)]("debu"+e(341))[e(331)](e(322)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
