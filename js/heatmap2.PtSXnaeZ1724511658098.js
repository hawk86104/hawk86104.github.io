import{P as t}from"./tweakpane.yHWGBmom1724511658098.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.tCxCSvuq1724511658098.js";import{_ as r}from"./heatmap.js-fix.FDoAq5UH1724511658098.js";import{h as i,a6 as s,cl as c,M as u,q as a,Z as p}from"./three.6cxCQsIj1724511658098.js";import{r as f}from"./utils.TdEcs-mE1724511658098.js";import{d as l}from"./pinia.NmL3PGxA1724511658098.js";import{b as h,d,a1 as m,o as g,D as y,J as v,u as I,F as w,q as b,U as _,N as j,P as x,H as S,L as k,a4 as O,r as M,j as R,g as z,m as A}from"./@vue.Q1VpS3901724511658098.js";import{c as D,d as E,a as F}from"./three-mesh-bvh.ePC05_bs1724511658098.js";import{_ as P}from"./@fesjs.OLRUJJVs1724511658098.js";import"./@tresjs.6SjGVF2a1724511658098.js";import"./@vueuse.rsVLbIR91724511658098.js";import"./three-custom-shader-material.hzuMkh_s1724511658098.js";import"./object-hash.Ic9VzAZ81724511658098.js";import"./@amap.T3VNXNvb1724511658098.js";import"./jszip.GTkatbFy1724511658098.js";import"./glsl-tokenizer.iUIReWhC1724511658098.js";import"./glsl-token-string._w0o_gSI1724511658098.js";import"./glsl-token-functions.OlCnqPaR1724511658098.js";import"./vue-router.LcUeGvdC1724511658098.js";import"./lodash-es.nFpJXAf-1724511658098.js";import"./@qlin.yHhFDldE1724511658098.js";import"./@floating-ui.BPbuo5Gx1724511658098.js";import"./@juggle.7yjBMqoW1724511658098.js";function Z(){const t=["5WwkzJn","_config","init","rgb(0,255,0)","113443tFfBUT","appendChild","apply","top","170blQgIa","bind","__proto__","left","width","create","warn",'{}.constructor("return this")( )',"error","2EoIfnM","672665Qfaauc","constructor","893233FLwdTF","prototype","info","24Pomldo","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","exception","test","2155002hZWIHC","body","3434640mePzvs","debu","position","yellow","function *\\( *\\)","return (function() ","console","randInt","rgb(255,0,0)","style","length","2238624OqFtVv","none","41997pHqFCM","setData","counter","absolute","while (true) {}"];return(Z=function(){return t})()}!function(t,n){const e=U,o=Z();for(;;)try{if(443381===parseInt(e(329))/1*(parseInt(e(342))/2)+-parseInt(e(320))/3+-parseInt(e(307))/4+parseInt(e(325))/5*(parseInt(e(305))/6)+-parseInt(e(294))/7*(parseInt(e(299))/8)+-parseInt(e(318))/9+parseInt(e(333))/10*(parseInt(e(296))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=U,n=new RegExp(t(311)),e=new RegExp(t(301),"i"),o=Y(t(327));n[t(304)](o+t(300))&&e[t(304)](o+"input")?Y():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(331)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=U;let n;try{n=Function(t(312)+t(340)+");")()}catch(r){n=window}const e=n[t(313)]=n[t(313)]||{},o=[t(302),t(339),t(298),t(341),t(303),"table","trace"];for(let i=0;i<o.length;i++){const n=B[t(295)][t(297)][t(334)](B),r=o[i],s=e[r]||n;n[t(335)]=B.bind(B),n.toString=s.toString[t(334)](s),e[r]=n}}))();const T=(t,n)=>t.getValueAt(n)+-10;function U(t,n){const e=Z();return(U=function(t,n){return e[t-=294]})(t,n)}function Y(t){function n(t){const e=U;if("string"==typeof t)return function(t){}[e(295)](e(324))[e(331)](e(322));1!==(""+t/t)[e(317)]||t%20==0?function(){return!0}[e(295)](e(308)+"gger").call("action"):function(){return!1}.constructor(e(308)+"gger")[e(331)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=H;!function(t,n){const e=H,o=V();for(;;)try{if(867143===-parseInt(e(303))/1*(parseInt(e(295))/2)+parseInt(e(274))/3*(parseInt(e(299))/4)+-parseInt(e(281))/5*(-parseInt(e(279))/6)+-parseInt(e(284))/7*(-parseInt(e(308))/8)+parseInt(e(292))/9*(-parseInt(e(286))/10)+-parseInt(e(273))/11*(-parseInt(e(309))/12)+-parseInt(e(280))/13*(-parseInt(e(305))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=V();return(H=function(t,n){return e[t-=272]})(t,n)}!function(){C(this,(function(){const t=H,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(297),"i"),o=W("init");n[t(277)](o+"chain")&&e[t(277)](o+t(287))?W():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(283)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(300)]=n[t(300)]||{},o=[t(307),"warn",t(301),t(304),t(288),"table",t(290)];for(let r=0;r<o[t(275)];r++){const n=L[t(272)][t(289)][t(291)](L),i=o[r],s=e[i]||n;n.__proto__=L[t(291)](L),n[t(285)]=s.toString[t(291)](s),e[i]=n}}))();const Q=l($(282),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[H(302)]=n},setTemperature:function(t){n.value=t}}}));function V(){const t=["336021nqqgjC","toString","170skbWmz","input","exception","prototype","trace","bind","645444iiLuij","apply","action","74OGQYHe","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","285464hjQmOs","console","info","value","41507SBIccl","error","36638cDawYw","counter","log","184cYOSZD","9096hdmDqY","constructor","9669vOOXde","54abChta","length","debu","test","string","27282iPkXYQ","1846OPhiRg","215RkKhaY","buildingsHeatmap","return (function() "];return(V=function(){return t})()}function W(t){function n(t){const e=H;if(typeof t===e(278))return function(t){}[e(272)]("while (true) {}").apply(e(306));1!==(""+t/t)[e(275)]||t%20==0?function(){return!0}[e(272)](e(276)+e(298))[e(296)](e(294)):function(){return!1}[e(272)](e(276)+"gger")[e(293)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=G;!function(t,n){const e=G,o=nt();for(;;)try{if(598634===parseInt(e(138))/1+parseInt(e(195))/2+parseInt(e(162))/3+-parseInt(e(163))/4+parseInt(e(196))/5+parseInt(e(140))/6*(parseInt(e(202))/7)+-parseInt(e(189))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(168)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=G,n=new RegExp(t(158)),e=new RegExp(t(144),"i"),o=ot(t(137));n.test(o+t(179))&&e[t(145)](o+t(177))?ot():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(168)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(t,n){const e=nt();return(G=function(t,n){return e[t-=135]})(t,n)}X(void 0,(function(){const t=G;let n;try{n=Function(t(159)+t(180)+");")()}catch(r){n=window}const e=n[t(143)]=n[t(143)]||{},o=[t(192),t(182),"info",t(199),"exception","table",t(174)];for(let i=0;i<o.length;i++){const n=X[t(190)][t(160)][t(157)](X),r=o[i],s=e[r]||n;n[t(172)]=X[t(157)](X),n[t(173)]=s[t(173)][t(157)](s),e[r]=n}}))();const N=["object",K(181)],tt=[K(166)];function nt(){const t=["__proto__","toString","trace","call","matrix","input","Mesh","chain",'{}.constructor("return this")( )',"rotation-x","warn","width","children","gger","setTemperature","height","_config","13921368kvPYcj","constructor","buildingsHeatmap","log","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","applyMatrix4","1149342FNSbgK","3838265sYAiVf","clone","attributes","error","computeBoundsTree","needsUpdate","7JqIqlu","数值———：","model","geometry","init","582749KVRZng","opacity","4527822sJUxcw","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","stateObject","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","normal","makeRotationX","BufferGeometry","uniforms","disposeBoundsTree","value","city","primitive","debu","land","$patch","bind","function *\\( *\\)","return (function() ","prototype","Texture","1576008jOAaiU","3464964CkTvzR","_renderer","while (true) {}","object","uOpacity","apply","action","ShaderMaterial","canvas"];return(nt=function(){return t})()}const et=d({__name:K(191),props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=G;s[t(148)][t(160)][t(200)]=D,s[t(148)][t(160)][t(150)]=E,s[t(178)][t(160)].raycast=F})();const e=t,o=((t=250,n=250,e=!0)=>{const o=U,i=document.createElement("heatmap-canvas");return i[o(316)][o(309)]=o(323),!e&&(i[o(316)].display=o(319)),i[o(316)][o(332)]="0",i.style[o(336)]="0",document[o(306)][o(330)](i),r[o(338)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(328),.85:o(310),1:o(315)}})})();((t,n)=>{const e=U;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i.randInt(1,t[e(326)][e(337)]),y:i.randInt(1,t[e(326)].height),value:i[e(314)](-10,36)}),o++}t[e(321)]({max:36,min:-10,data:n})})(o);const l=new(s[n(161)])(o[n(164)][n(171)]);l[n(201)]=!0;const h=e[n(135)][n(152)].clone();delete h.geometry[n(198)][n(146)],delete h[n(136)][n(198)].uv;const d=h[n(136)][n(197)]()[n(194)](h[n(176)]),b=e[n(135)][n(155)][n(197)]();delete b.geometry[n(198)][n(146)];const _=b[n(136)][n(197)]()[n(194)](b.matrix),j=c([d,_]);j[n(194)]((new u)[n(147)](Math.PI/2)),f(j),j[n(200)]();const x=(t=>{const o=n;return new(s[o(170)])({vertexShader:o(141),fragmentShader:o(193),uniforms:{uOpacity:{value:e[o(139)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:p})})(l),S=new a(j,x);m((()=>{const t=n;e[t(139)]&&(x[t(149)][t(167)][t(151)]=e[t(139)])}));const k=Q(),O=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(183)],y:(1-t.uv.y)*o[e(188)][e(187)]};console[e(192)]("数值：",t),console[e(192)](e(203),T(o,n)),k[e(186)](T(o,n))}},M=t=>{t&&k[n(156)]({showDiv:!0})},R=t=>{t&&k.setShowDiv(!1)};return(t,o)=>{const r=n;return g(),y(w,null,[v(r(153),{object:I(S),"rotation-x":-Math.PI/2,onPointerMove:O,onPointerEnter:M,onPointerLeave:R},null,40,N),v(r(153),{object:e[r(135)][r(135)][r(184)][0][r(197)]()},null,8,tt)],64)}}});function ot(t){function n(t){const e=G;if("string"==typeof t)return function(t){}[e(190)](e(165))[e(168)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(190)](e(154)+"gger")[e(175)](e(169)):function(){return!1}[e(190)](e(154)+e(185))[e(168)](e(142)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=P({__name:"dataDiv",setup(t){const n=Q(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),y("div",{class:"title",style:k(e.value)},"温度："+S(I(n).temperature)+"℃ ",5)),[[x,I(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),it=at;function st(){const t=["trace","log","透明度","__proto__","value","table","7269975mKIKBx","4OmFkPi","apply","while (true) {}","3527139dxLBoS","312070pQeQUI","stateObject","debu","#000","city","constructor","opacity","action","warn","toString","57060sSdkAW","length","model","10930160yOxHdS","bind","prototype","input","string",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","2894drSghV","gger","builds","test","console","12472908uxAwDF","addBinding","heatmap2","call","function *\\( *\\)","499CdaeEd","exception","18SMhABy","error"];return(st=function(){return t})()}!function(t,n){const e=at,o=st();for(;;)try{if(912249===-parseInt(e(341))/1*(-parseInt(e(331))/2)+-parseInt(e(355))/3*(-parseInt(e(352))/4)+-parseInt(e(351))/5+-parseInt(e(320))/6+parseInt(e(336))/7+-parseInt(e(323))/8+-parseInt(e(343))/9*(-parseInt(e(356))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ct(this,(function(){const t=at,n=new RegExp(t(340)),e=new RegExp(t(329),"i"),o=ft("init");n[t(334)](o+"chain")&&e.test(o+t(326))?ft():o("0")}))()}();const ut=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(353)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function at(t,n){const e=st();return(at=function(t,n){return e[t-=314]})(t,n)}ut(void 0,(function(){const t=at;let n;try{n=Function("return (function() "+t(328)+");")()}catch(r){n=window}const e=n[t(335)]=n[t(335)]||{},o=[t(346),t(318),t(330),t(344),t(342),t(350),t(345)];for(let i=0;i<o[t(321)];i++){const n=ut[t(315)][t(325)][t(324)](ut),r=o[i],s=e[r]||n;n[t(348)]=ut[t(324)](ut),n[t(319)]=s[t(319)][t(324)](s),e[r]=n}}))();const pt=d({__name:it(338),async setup(r){const i=it;let s,c;const u=h(!1),a=([s,c]=O((()=>o())),s=await s,c(),s);u[i(349)]=!0;const p=M({width:1,color:i(359),opacity:1,show:!0}),f=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(337)](f,i(316),{label:i(347),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(w,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[R(et,A({model:I(a)},f),null,16,[r(322)]),R(n,A(p,{builds:I(a)[r(314)]}),null,16,[r(333)])])),_:1}),R(rt)],64)}}});function ft(t){function n(t){const e=at;if(typeof t===e(327))return function(t){}.constructor(e(354)).apply("counter");1!==(""+t/t)[e(321)]||t%20==0?function(){return!0}[e(315)](e(358)+e(332))[e(339)](e(317)):function(){return!1}[e(315)](e(358)+"gger")[e(353)](e(357)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
