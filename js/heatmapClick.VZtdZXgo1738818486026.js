import{D as t,o as n}from"./@tresjs.ZGxFoQtw1738818486026.js";import{P as e}from"./tweakpane.yDiyAAkA1738818486026.js";import{_ as o,c as r,ak as a,al as s}from"./three.WgQSjl1J1738818486026.js";import{_ as i}from"./heatmap.js-fix.DPVvGxy11738818486026.js";import{d as c,a3 as u,a2 as l,o as p,H as f,u as d,r as h,e as m,f as g,g as v,N as y,j as b,al as w,aj as x,ak as _,m as j}from"./@vue.NRI7TcgI1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";import"./@amap.E-EiiwM61738818486026.js";const I=S;!function(t,n){const e=S,o=k();for(;;)try{if(628581===parseInt(e(179))/1*(parseInt(e(219))/2)+-parseInt(e(197))/3+-parseInt(e(169))/4+parseInt(e(178))/5*(-parseInt(e(193))/6)+-parseInt(e(213))/7+parseInt(e(161))/8+parseInt(e(222))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(196)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["length","material","debu","setAttribute","Texture","_renderer","22405vmskkp","1gQHLiG","show2dCanvas","counter","position","computeBoundingBox","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","input","block","prototype","string","create","left","layerY","bind","294CqpjBt","needsUpdate","0.8","apply","1295361CrGWCR","scale","constructor","onclick","trace","40px","log","exception","radius","DoubleSide","warn","none","style","while (true) {}","getZ","primitive","5210023qMFUuR","ShaderMaterial","setScalar","console","push","error","2037546cBUvMg","gger","getX","13877667TDzXWH","object","chain","attributes","canvas","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","count","display","addData","action","mesh_0","layerX","geometry","5493856fuYtEV","set","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","./draco/","heatmap-canvas","call","4892968cfmeiX","toString","top"];return(k=function(){return t})()}!function(){C(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(164),"i"),o=z("init");n.test(o+t(224))&&e[t(165)](o+t(185))?z():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(196)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=S;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(216)]=n.console||{},o=[t(203),t(207),"info",t(218),t(204),"table",t(201)];for(let a=0;a<o.length;a++){const n=M[t(199)][t(187)][t(192)](M),r=o[a],s=e[r]||n;n.__proto__=M[t(192)](M),n[t(170)]=s[t(170)][t(192)](s),e[r]=n}}))();const R=[I(223)];function S(t,n){const e=k();return(S=function(t,n){return e[t-=155]})(t,n)}const B=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(184),{draco:!0,decoderPath:e(166)}))),a=await a,s(),a);h[e(158)][e(182)][e(162)](-5088.96,-3.08,39374.7),h[e(158)][e(198)][e(215)](.01);let m=null,g=null,v=null;g=new(o[e(176)])((()=>{const t=e;return v=document.createElement(t(167)),v[t(209)][t(182)]="absolute",v[t(209)][t(171)]=t(202),v[t(209)][t(190)]="0",document.body.appendChild(v),m=i[t(189)]({container:v,width:256,height:256,blur:t(195),radius:c[t(205)]}),m[t(177)][t(226)][t(209)].border="1px solid #5384ff",m[t(177)].canvas[t(200)]=function(n){const e=t;m[e(156)]({x:n[e(159)],y:n[e(191)],value:1,radius:c.radius}),m.setDataMax(1),g&&(g[e(194)]=!0)},m})()[e(177)][e(226)]);const y={vertexShader:e(227),fragmentShader:e(163),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(206)]},b=new(o[e(214)])(y);h.mesh_0[e(173)]=b;return(t=>{const n=e;t[n(183)]();const{max:o,min:a}=t.boundingBox;t.deleteAttribute("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(225)][n(182)][n(228)];e++)c.push((t.attributes[n(182)][n(221)](e)-a.x)/s),c[n(217)]((t.attributes[n(182)][n(211)](e)-a.z)/i);const u=new Float32Array(c);t[n(175)]("uv",new r(u,2))})(h[e(158)][e(160)]),l((()=>{const t=e;v[t(209)][t(155)]=""+(c[t(180)]?t(186):t(208))})),(t,n)=>{const o=e;return p(),f(o(212),{object:d(h).mesh_0},null,8,R)}}});function z(t){function n(t){const e=S;if(typeof t===e(188))return function(t){}.constructor(e(210))[e(196)](e(181));1!==(""+t/t)[e(172)]||t%20==0?function(){return!0}[e(199)](e(174)+e(220))[e(168)](e(157)):function(){return!1}[e(199)](e(174)+e(220))[e(196)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=P,o=T();for(;;)try{if(262026===parseInt(e(485))/1*(-parseInt(e(497))/2)+parseInt(e(480))/3+-parseInt(e(491))/4+parseInt(e(494))/5+-parseInt(e(502))/6+parseInt(e(499))/7*(-parseInt(e(483))/8)+parseInt(e(466))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(468)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=P,n=new RegExp(t(495)),e=new RegExp(t(474),"i"),o=U(t(472));n[t(477)](o+t(486))&&e.test(o+"input")?U():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=T();return(P=function(t,n){return e[t-=464]})(t,n)}function T(){const t=["1393650DMlcPb","length","table","while (true) {}","6712173fdWOSE","#030311","apply","TresGridHelper","TresDirectionalLight","TresPerspectiveCamera","init","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","string","test","addButton","点击左侧蓝色画框","1195104PxfyNp","console","gger","32PpBiSZ","action","1PIAVmR","chain","TresCanvas","toString","constructor","show2dCanvas","738164jwhRbQ","call","log","823850FkQohH","function *\\( *\\)","debu","842066oqjlmv","bind","365855lcARtr","addBinding","info"];return(T=function(){return t})()}D(void 0,(function(){const t=P,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(481)]=n[t(481)]||{},o=[t(493),"warn",t(501),"error","exception",t(464),"trace"];for(let r=0;r<o[t(503)];r++){const n=D.constructor[t(473)][t(498)](D),a=o[r],s=e[a]||n;n[t(475)]=D[t(498)](D),n[t(488)]=s[t(488)].bind(s),e[a]=n}}))();const E=c({__name:"heatmapClick",setup(t){const o=P,r={clearColor:o(467),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,o(490),{label:"显示二维图"}),c[o(500)](i,"radius",{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(478)]({title:o(479)}),(t,e)=>{const a=o,s=m(a(487));return p(),g(s,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(471),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(a(470),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=y(a(469),{args:[50,25]},null,-1)),(p(),g(w,null,{default:v((()=>[b(B,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function U(t){function n(t){const e=P;if(typeof t===e(476))return function(t){}[e(489)](e(465))[e(468)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(489)](e(496)+e(482))[e(492)](e(484)):function(){return!1}[e(489)](e(496)+e(482)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{E as default};
