import{a as t,m as n,o as e}from"./@tresjs.xCsT8yve1742895693222.js";import{_ as o,b as r}from"./three.DqHgeVY11742895693222.js";import{_ as c,h as s}from"./three-tile.xSrRRm461742895693222.js";import{_ as i,s as a,c as u}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.QAZ_iYlw1742895693222.js";import{d as p,a3 as l,w as f,o as m,H as h,N as g,u as _,r as d,b as I,f as y,g as S,j as b,m as w,al as j,F as x,e as v,aj as F,ak as D}from"./@vue.C4dqouNn1742895693222.js";import{P as M}from"./tweakpane.ivGeiIdz1742895693222.js";import{_ as T}from"./informationDiv.ZMj1q1CN1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";import"./@fesjs.C15FMxIg1742895693222.js";import"./vue-router.0ovIAQEA1742895693222.js";import"./lodash-es.p1wj6C0b1742895693222.js";import"./@qlin.o0hjOMCg1742895693222.js";import"./pinia.JZN5hDyR1742895693222.js";import"./@floating-ui.HzHndBae1742895693222.js";import"./@juggle.4EyLec-41742895693222.js";const E=A;!function(t,n){const e=A,o=z();for(;;)try{if(772344===-parseInt(e(160))/1*(-parseInt(e(181))/2)+parseInt(e(199))/3*(-parseInt(e(136))/4)+parseInt(e(162))/5+parseInt(e(131))/6*(-parseInt(e(174))/7)+parseInt(e(195))/8*(parseInt(e(152))/9)+parseInt(e(193))/10*(parseInt(e(166))/11)+-parseInt(e(197))/12*(parseInt(e(132))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(200)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=A,n=new RegExp(t(142)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=C("init");n.test(o+t(176))&&e[t(194)](o+t(165))?C():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(200)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=z();return A=function(t,n){return e[t-=127]},A(t,n)}k(void 0,(function(){const t=A;let n;try{n=Function(t(144)+t(183)+");")()}catch(r){n=window}const e=n.console=n[t(179)]||{},o=[t(171),t(128),t(168),t(158),t(137),"table",t(184)];for(let c=0;c<o[t(173)];c++){const n=k.constructor[t(175)][t(180)](k),r=o[c],s=e[r]||n;n[t(140)]=k[t(180)](k),n[t(150)]=s[t(150)].bind(s),e[r]=n}}))();const B=[E(196)],L=[E(159),E(189),E(134),E(163)],O=p({__name:E(154),props:{map:{},height:{default:100},color:{default:E(155)},opacity:{default:.6}},async setup(n){const e=E;let c,s;const a=n,u=new(o[e(148)])({displacementMap:new(o[e(170)]),transparent:!0,side:o[e(147)],opacity:a[e(157)],color:new(o[e(156)])(a[e(127)])});u[e(129)]=t=>{const n=e;t.vertexShader=n(186)+t[n(130)],t[n(130)]=t[n(130)].replace("#include <displacementmap_vertex>",n(169)),t[n(139)]=t.fragmentShader.replace(n(145),n(185))};const p=a[e(143)].geo2pos(new r(105,34,0));p.applyMatrix4(a[e(143)][e(198)]);const d=i[e(188)](a[e(143)],{x:67,y:11},{x:140,y:57},a[e(149)]),I=["https://opensource.cdn.icegl.cn"+e(146),e(151)+e(178),e(151)+e(138),e(151)+e(172)];let y=0;const S=([c,s]=l((()=>t(I))),c=await c,s(),c);u[e(143)]=S[y],f((()=>[a[e(127)],a[e(157)]]),(([t,n])=>{const o=e;u[o(127)][o(135)](t),u[o(157)]=n}));let b=null,w=!1;return w?(clearInterval(b),b=null,w=!1):(b=setInterval((()=>{const t=A;y=y<I[t(173)]-1?y+1:0,u[t(143)]=S[y],u[t(182)]=!0,console.log(y)}),1e3),w=!0),(t,n)=>{const o=e;return m(),h(o(153),{position:[..._(p)]},[g("TresMesh",{scale:[_(d).x,_(d).y,t[o(149)]],material:_(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(149)]/5},n[0]||(n[0]=[g("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,L)],8,B)}}});function z(){const t=["return (function() ","#include <alphamap_fragment>","/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","DoubleSide","MeshPhongMaterial","height","toString","https://opensource.cdn.icegl.cn","657FqJkMz","TresGroup","cloundSateShow","#cccccc","Color","opacity","error","scale","3cJhFOl","string","707170xPFqHC","position-y","while (true) {}","input","11308XcAufo","gger","info","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );","Texture","log","/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","length","7HjLBxc","prototype","chain","constructor","/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png","console","bind","219850cMposG","needsUpdate",'{}.constructor("return this")( )',"trace","\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","uniform sampler2D map;\n\t\t","counter","scaleImg","material","resource.cos","debu","call","13890UmepSP","test","97544LTnpcT","position","5465784jZjjOi","matrix","6HENCUx","apply","color","warn","onBeforeCompile","vertexShader","4377936qKOasw","26XLSsYZ","stateObject","rotateX","setStyle","752452tpbFiV","exception","/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","fragmentShader","__proto__","action","function *\\( *\\)","map"];return(z=function(){return t})()}function C(t){function n(t){const e=A;if(typeof t===e(161))return function(t){}[e(177)](e(164))[e(200)](e(187));1!==(""+t/t)[e(173)]||t%20==0?function(){return!0}[e(177)]("debu"+e(167))[e(192)](e(141)):function(){return!1}[e(177)](e(191)+"gger")[e(200)](e(133)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=R;function Z(){const t=["function *\\( *\\)","action","toString","mapbox.terrain-rgb","copy","stateObject","MapBoxSource","length","91kglZRh","log","1114342QIGoZS","constructor","619356QImkyL","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","1560376tGhOBf","trace","console","150JqqjZW","color","localToWorld","exception","19380QLsnJV","TresDirectionalLight","gger","63TgUiBw","196qpBAnE","test","plugin",'{}.constructor("return this")( )',"Vector3","TileMap","mapBoxShow2","透明度","value","2690025NVHTUN","target","apply","rotateX","prototype","position","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","GDSource","opacity","geo2pos","init","map","error","#cccccc","warn","538563unFQgU","domElement","table","275275OZysjp","addBinding","bind","primitive","tdLight","debu"];return(Z=function(){return t})()}!function(t,n){const e=R,o=Z();for(;;)try{if(753223===-parseInt(e(467))/1+parseInt(e(486))/2+parseInt(e(452))/3+parseInt(e(502))/4*(parseInt(e(498))/5)+-parseInt(e(488))/6*(parseInt(e(484))/7)+-parseInt(e(491))/8*(-parseInt(e(501))/9)+-parseInt(e(494))/10*(parseInt(e(470))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(454)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=R,n=new RegExp(t(476)),e=new RegExp(t(489),"i"),o=q(t(462));n[t(503)](o+"chain")&&e[t(503)](o+"input")?q():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(454)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(t,n){const e=Z();return R=function(t,n){return e[t-=448]},R(t,n)}P(void 0,(function(){const t=R;let n;try{n=Function("return (function() "+t(505)+");")()}catch(r){n=window}const e=n[t(493)]=n.console||{},o=[t(485),t(466),t(490),t(464),t(497),t(469),t(492)];for(let c=0;c<o[t(483)];c++){const n=P.constructor[t(456)].bind(P),r=o[c],s=e[r]||n;n.__proto__=P[t(472)](P),n[t(478)]=s[t(478)][t(472)](s),e[r]=n}}))();const U=["object"],V=H(458),W=p({__name:H(449),setup(t){const e=H,i=d({height:500,color:e(465),opacity:.6}),p=new M({title:"参数"});p[e(471)](i,e(495),{label:"颜色"}),p[e(471)](i,"height",{label:"高度",min:10,max:5e3,step:10}),p[e(471)](i,e(460),{label:e(450),min:0,max:1,step:.1});const l=new(c[e(504)][e(482)])({token:V,dataType:"terrain-rgb",style:e(479),maxLevel:15}),v=new(c[e(448)])({imgSource:[new(s[e(459)])({style:"6"}),new(c[e(504)].GDSource)({style:"8"})],demSource:l,lon0:90,minLevel:2,maxLevel:20});v[e(455)](-Math.PI/2);const F=new(o[e(506)])(105,34,0),D=new r(110,0,1e4),T=v[e(496)](v[e(461)](F)),E=v[e(496)](v.geo2pos(D)),G=I(),{camera:k,controls:A,scene:B,renderer:L}=n();return k[e(451)]&&k[e(451)][e(457)][e(480)](E),f((()=>A.value),(t=>{const n=e;t&&(t[n(453)][n(480)](T),u(t,k[n(451)],B.value))})),f((()=>G[e(451)]),(t=>{const n=e;t&&t[n(453)][n(457)].copy(T)})),a(k[e(451)],L[e(451)][e(468)],v),(t,n)=>{const o=e;return m(),h(x,null,[g(o(499),{ref_key:o(474),ref:G,position:[0,2e3,1e3],intensity:1},null,512),g(o(473),{object:_(v)},null,8,U),(m(),y(j,null,{default:S((()=>[b(O,w({map:_(v)},i),null,16,[o(463)])])),_:1}))],64)}}});function q(t){function n(t){const e=R;if("string"==typeof t)return function(t){}[e(487)]("while (true) {}")[e(454)]("counter");1!==(""+t/t)[e(483)]||t%20==0?function(){return!0}.constructor("debu"+e(500)).call(e(477)):function(){return!1}.constructor(e(475)+"gger")[e(454)](e(481)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=K;!function(t,n){const e=K,o=X();for(;;)try{if(608529===-parseInt(e(431))/1*(parseInt(e(423))/2)+parseInt(e(421))/3+parseInt(e(413))/4+-parseInt(e(428))/5+parseInt(e(412))/6+-parseInt(e(418))/7+parseInt(e(442))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(408)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Q(this,(function(){const t=K,n=new RegExp(t(432)),e=new RegExp(t(430),"i"),o=tt(t(435));n[t(424)](o+"chain")&&e[t(424)](o+t(429))?tt():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["test","gger","exception","TresCanvas","3268670UlSHnv","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6arFphO","function *\\( *\\)","toString","TresAmbientLight","init","error","prototype","highp","#dbf0ff","debu","log","10227512uPOoEu","cloundSate","trace","counter","return (function() ","apply","bind","stateObject","length","261012JKKhhu","714940jfCwlp","call","TresPerspectiveCamera","string","while (true) {}","4549839IECVJB","__proto__","constructor","1738530sVWUgp","console","55982SkbgTI"];return(X=function(){return t})()}function K(t,n){const e=X();return K=function(t,n){return e[t-=406]},K(t,n)}$(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(407)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(422)]=n[t(422)]||{},o=[t(441),"warn","info",t(436),t(426),"table",t(444)];for(let r=0;r<o.length;r++){const n=$.constructor[t(437)][t(409)]($),c=o[r],s=e[c]||n;n[t(419)]=$[t(409)]($),n[t(433)]=s[t(433)][t(409)](s),e[c]=n}}))();const Y=p({__name:J(443),setup(t){const n=J,o=d({clearColor:n(439),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(438)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const s=n,i=v(s(427));return m(),h(x,null,[b(i,w(o,{"window-size":""}),{default:S((()=>[c[0]||(c[0]=g(s(415),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(_(e),F(D(r)),null,16),c[1]||(c[1]=g(s(434),{intensity:1},null,-1)),b(W)])),_:1},16),b(T)],64)}}});function tt(t){function n(t){const e=K;if(typeof t===e(416))return function(t){}.constructor(e(417))[e(408)](e(406));1!==(""+t/t)[e(411)]||t%20==0?function(){return!0}[e(420)](e(440)+e(425))[e(414)]("action"):function(){return!1}.constructor(e(440)+e(425))[e(408)](e(410)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
