import{P as t}from"./tweakpane.yHWGBmom1730886807320.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.PyrSVCQ11730886807320.js";import{_ as r}from"./heatmap.js-fix.8QrYO4OR1730886807320.js";import{h as i,Y as c,bX as s,M as u,_ as a,B as p,m as f}from"./three._P_a_E_Z1730886807320.js";import{r as l}from"./utils.LYsUcLmI1730886807320.js";import{d as h}from"./pinia.ZAQpp9No1730886807320.js";import{b as d,d as m,a3 as g,o as v,D as y,J as b,u as w,F as I,q as _,U as j,N as x,P as M,H as z,L as E,a6 as A,r as D,j as S,g as R,m as Z}from"./@vue.-THQH3GC1730886807320.js";import{c as L,d as P,a as T}from"./three-mesh-bvh.2CmIl65_1730886807320.js";import{_ as F}from"./@fesjs.rCnyFuNL1730886807320.js";import"./@tresjs.iUmyNPdW1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./three-custom-shader-material.-r7dCNA-1730886807320.js";import"./@amap.T-fZ7qS81730886807320.js";import"./vue-demi.C4xddsk91730886807320.js";import"./vue-router.QnjVwwup1730886807320.js";import"./lodash-es.kYt-_xTG1730886807320.js";import"./@qlin.yHhFDldE1730886807320.js";import"./@floating-ui.BPbuo5Gx1730886807320.js";import"./@juggle.7yjBMqoW1730886807320.js";!function(t,n){const e=B,o=k();for(;;)try{if(222513===parseInt(e(412))/1+-parseInt(e(424))/2*(-parseInt(e(427))/3)+-parseInt(e(405))/4+parseInt(e(414))/5+parseInt(e(419))/6+parseInt(e(444))/7+-parseInt(e(439))/8*(parseInt(e(455))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Q(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(404),"i"),o=$(t(434));n[t(408)](o+"chain")&&e[t(408)](o+t(436))?$():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(416)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["394534Grhjet","_config","counter","error","exception","warn","trace","width","bind","toString","rgb(0,0,255)","99evUZfS","height","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","169024uKuvpi","setData","absolute","test",'{}.constructor("return this")( )',"randInt","console","50413sQaUmw","appendChild","16695TwbEnv","createElement","apply","yellow","table","2381418JZATLr","getValueAt","create","display","info","191462JWpnJk","length","log","9QDQzsz","debu","rgb(0,255,0)","style","push","heatmap-canvas","gger","init","constructor","input","return (function() ","body","385048QADfcs","stateObject","call","rgb(255,0,0)","prototype"];return(k=function(){return t})()}O(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(437)+t(409)+");")()}catch(e){n=window}return n}(),e=n[t(411)]=n[t(411)]||{},o=[t(426),t(449),t(423),t(447),t(448),t(418),t(450)];for(let r=0;r<o.length;r++){const n=O[t(435)][t(443)][t(452)](O),i=o[r],c=e[i]||n;n.__proto__=O[t(452)](O),n[t(453)]=c.toString[t(452)](c),e[i]=n}}))();function B(t,n){const e=k();return(B=function(t,n){return e[t-=404]})(t,n)}const U=(t,n)=>t[B(420)](n)+-10;function $(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(435)]("while (true) {}")[e(416)](e(446));1!==(""+t/t)[e(425)]||t%20==0?function(){return!0}[e(435)]("debu"+e(433))[e(441)]("action"):function(){return!1}.constructor(e(428)+"gger")[e(416)](e(440)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function X(){const t=["test","constructor","log","__proto__","info","1659108GIaerQ","chain","toString","debu","11984iPCOyL","trace","warn","counter",'{}.constructor("return this")( )',"prototype","while (true) {}","bind","init","value","input","length","1816555QdqpuL","table","1075432QKTWiH","apply","call","function *\\( *\\)","551278kboTpA","action","gger","exception","console","856586qxKfxI","1717794MLWobi","77vxFzLQ"];return(X=function(){return t})()}!function(t,n){const e=V,o=X();for(;;)try{if(278791===parseInt(e(144))/1+-parseInt(e(149))/2+parseInt(e(157))/3+parseInt(e(140))/4+-parseInt(e(173))/5+-parseInt(e(150))/6+-parseInt(e(151))/7*(parseInt(e(161))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(141)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=V,n=new RegExp(t(143)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=q(t(169));n[t(152)](o+t(158))&&e[t(152)](o+t(171))?q():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(141)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=X();return(V=function(t,n){return e[t-=140]})(t,n)}J(void 0,(function(){const t=V;let n;try{n=Function("return (function() "+t(165)+");")()}catch(r){n=window}const e=n[t(148)]=n[t(148)]||{},o=[t(154),t(163),t(156),"error",t(147),t(174),t(162)];for(let i=0;i<o[t(172)];i++){const n=J[t(153)][t(166)][t(168)](J),r=o[i],c=e[r]||n;n[t(155)]=J[t(168)](J),n[t(159)]=c[t(159)][t(168)](c),e[r]=n}}))();const W=h("buildingsHeatmap",(()=>{const t=d(!1),n=d(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[V(170)]=t}}}));function q(t){function n(t){const e=V;if("string"==typeof t)return function(t){}[e(153)](e(167))[e(141)](e(164));1!==(""+t/t).length||t%20==0?function(){return!0}[e(153)](e(160)+e(146))[e(142)](e(145)):function(){return!1}[e(153)]("debu"+e(146)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=N;!function(t,n){const e=N,o=nt();for(;;)try{if(230936===-parseInt(e(281))/1+parseInt(e(253))/2*(parseInt(e(265))/3)+-parseInt(e(254))/4*(-parseInt(e(245))/5)+parseInt(e(217))/6*(parseInt(e(225))/7)+-parseInt(e(260))/8+parseInt(e(271))/9*(-parseInt(e(247))/10)+parseInt(e(234))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=N,n=new RegExp(t(222)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ot(t(226));n.test(o+"chain")&&e[t(282)](o+"input")?ot():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(t,n){const e=nt();return(N=function(t,n){return e[t-=216]})(t,n)}K(void 0,(function(){const t=N;let n;try{n=Function(t(274)+t(221)+");")()}catch(r){n=window}const e=n[t(242)]=n[t(242)]||{},o=["log",t(223),t(269),"error",t(267),t(273),t(218)];for(let i=0;i<o[t(266)];i++){const n=K[t(240)][t(251)][t(248)](K),r=o[i],c=e[r]||n;n.__proto__=K.bind(K),n.toString=c[t(220)][t(248)](c),e[r]=n}}))();const Y=["object",C(280)],tt=["object"];function nt(){const t=["clone","toString",'{}.constructor("return this")( )',"function *\\( *\\)","warn","BufferGeometry","14LDlMei","init","applyMatrix4","setShowDiv","uOpacity","makeRotationX","gger","disposeBoundsTree","model","3962244gPlNOy","DoubleSide","_config","computeBoundsTree","normal","string","constructor","height","console","value","call","837515JfqlXM","$patch","1210bIaFlA","bind","matrix","raycast","prototype","counter","92632wrbMXV","4deXzuz","buildingsHeatmap","stateObject","setTemperature","while (true) {}","数值———：","317312zFeGAY","primitive","needsUpdate","mergeGeometries","geometry","15nRbdzg","length","exception","apply","info","Mesh","23238RdpMop","canvas","table","return (function() ","log","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","attributes","debu","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","rotation-x","236999yaVPvL","test","opacity","182202HTEzZh","trace"];return(nt=function(){return t})()}const et=m({__name:C(255),props:{model:{},opacity:{default:1}},setup(t){const n=C;(()=>{const t=N;p[t(251)][t(237)]=L,a[t(224)].prototype[t(232)]=P,a[t(270)][t(251)][t(250)]=T})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document[o(415)](o(432));return i[o(430)].position=o(407),!e&&(i[o(430)][o(422)]="none"),i[o(430)].top="0",i[o(430)].left="0",document[o(438)][o(413)](i),r[o(421)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(454),.55:o(429),.85:o(417),1:o(442)}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n[e(431)]({x:i[e(410)](1,t._config[e(451)]),y:i.randInt(1,t[e(445)][e(456)]),value:i.randInt(-10,36)}),o++}t[e(406)]({max:36,min:-10,data:n})})(o);const h=new c(o._renderer[n(272)]);h[n(262)]=!0;const d=e[n(233)].city[n(219)]();delete d.geometry[n(277)][n(238)],delete d[n(264)][n(277)].uv;const m=d.geometry[n(219)]()[n(227)](d[n(249)]),_=e[n(233)].land[n(219)]();delete _[n(264)][n(277)][n(238)];const j=_[n(264)].clone()[n(227)](_.matrix),x=s[n(263)]([m,j]);x[n(227)]((new u)[n(230)](Math.PI/2)),l(x),x.computeBoundsTree();const M=(t=>{const o=n;return new f({vertexShader:o(276),fragmentShader:o(279),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a[o(235)]})})(h),z=new(a[n(270)])(x,M);g((()=>{const t=n;e[t(216)]&&(M.uniforms[t(229)][t(243)]=e[t(216)])}));const E=W(),A=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(236)].width,y:(1-t.uv.y)*o._config[e(241)]};console[e(275)]("数值：",t),console[e(275)](e(259),U(o,n)),E[e(257)](U(o,n))}},D=t=>{t&&E[n(246)]({showDiv:!0})},S=t=>{t&&E[n(228)](!1)};return(t,o)=>{const r=n;return v(),y(I,null,[b(r(261),{object:w(z),"rotation-x":-Math.PI/2,onPointerMove:A,onPointerEnter:D,onPointerLeave:S},null,40,Y),b(r(261),{object:e.model[r(233)].children[0].clone()},null,8,tt)],64)}}});function ot(t){function n(t){const e=N;if(typeof t===e(239))return function(t){}[e(240)](e(258))[e(268)](e(252));1!==(""+t/t)[e(266)]||t%20==0?function(){return!0}.constructor(e(278)+e(231))[e(244)]("action"):function(){return!1}[e(240)](e(278)+e(231))[e(268)](e(256)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=F({__name:"dataDiv",setup(t){const n=W(),e=d({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return _((()=>{window.addEventListener("mousemove",o)})),j((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>x((v(),y("div",{class:"title",style:E(e.value)},"温度："+z(w(n).temperature)+"℃ ",5)),[[M,w(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),it=at;!function(t,n){const e=at,o=ut();for(;;)try{if(540745===-parseInt(e(446))/1+-parseInt(e(471))/2*(-parseInt(e(456))/3)+parseInt(e(458))/4*(-parseInt(e(437))/5)+parseInt(e(464))/6*(parseInt(e(452))/7)+-parseInt(e(467))/8+-parseInt(e(461))/9+-parseInt(e(473))/10*(-parseInt(e(476))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ct(this,(function(){const t=at,n=new RegExp(t(466)),e=new RegExp(t(475),"i"),o=ft(t(438));n[t(462)](o+"chain")&&e[t(462)](o+"input")?ft():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2758294jKWleE","gger","55BRZQCh","init","addBinding","#000","console","bind","toString","info","model","604418NlnNJK","exception","heatmap2",'{}.constructor("return this")( )',"counter","apply","7UkbZmQ","while (true) {}","log","trace","685563wFXtfg","opacity","379256ngfWAg","__proto__","stateObject","2616210MVjQag","test","debu","3125706nBzClS","string","function *\\( *\\)","2213576LDtGYp","length","warn","value","2RIlEIF","constructor","80oShTlM","return (function() "];return(ut=function(){return t})()}function at(t,n){const e=ut();return(at=function(t,n){return e[t-=437]})(t,n)}st(void 0,(function(){const t=at,n=function(){const t=at;let n;try{n=Function(t(474)+t(449)+");")()}catch(e){n=window}return n}(),e=n[t(441)]=n[t(441)]||{},o=[t(454),t(469),t(444),"error",t(447),"table",t(455)];for(let r=0;r<o[t(468)];r++){const n=st[t(472)].prototype[t(442)](st),i=o[r],c=e[i]||n;n[t(459)]=st.bind(st),n[t(443)]=c[t(443)][t(442)](c),e[i]=n}}))();const pt=m({__name:it(448),async setup(r){const i=it;let c,s;const u=d(!1),a=([c,s]=A((()=>o())),c=await c,s(),c);u[i(470)]=!0;const p=D({width:1,color:i(440),opacity:1,show:!0}),f=D({opacity:.9});return new t({title:"参数",expanded:!0})[i(439)](f,i(457),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return v(),y(I,null,[S(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[S(et,Z({model:w(a)},f),null,16,[r(445)]),S(n,Z(p,{builds:w(a).city}),null,16,["builds"])])),_:1}),S(rt)],64)}}});function ft(t){function n(t){const e=at;if(typeof t===e(465))return function(t){}.constructor(e(453))[e(451)](e(450));1!==(""+t/t).length||t%20==0?function(){return!0}[e(472)](e(463)+e(477)).call("action"):function(){return!1}.constructor(e(463)+e(477))[e(451)](e(460)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
