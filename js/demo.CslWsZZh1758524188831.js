import{aE as e,am as t,_ as i,N as a,co as s}from"./three.CC50Wz7a1758524188831.js";import{q as o,e as l,T as n,m as r,O as u,b as p,a as c,H as m}from"./@tresjs.BL1sBIDK1758524188831.js";import"./OimoPhysicsBuffer.CcBMdMc41758524188831.js";import{_ as f}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.0p0XW2Cf1758524188831.js";import{_ as d}from"./vanilla.esm.5.5.0.UWCjMdOF1758524188831.js";import"./PackedMipMapGenerator.7JJE-1Hp1758524188831.js";import{i as h}from"./Resource.DxdCIUkg1758524188831.js";import"./@fesjs.C0vFiD6Z1758524188831.js";/* empty css                                                                             */import{l as g}from"./yangyangLoading.cPq95vdS1758524188831.js";import"./three-mesh-ui.module.CE9rtod61758524188831.js";import"./global.B9GyzW9k1758524188831.js";/* empty css                                                              */import{d as v,G as _,o as y,F as M,e as j,f as b,j as P,u as I,m as T,I as w,a7 as x,a8 as L,a5 as H,r as S,J as D,b as R,aa as B,H as F}from"./@vue.pEDXJ_3Z1758524188831.js";import{d as z}from"./pinia.DVrvLNCY1758524188831.js";import{_ as G}from"./component.vue_vue_type_script_setup_true_lang.N3tb-8MG1758524188831.js";import"./postprocessing.DYlQqnRh1758524188831.js";import"./@vueuse.C-O_6is-1758524188831.js";import"./oimophysics.BBtHVm4j1758524188831.js";import"./dither.glsl.tNAdkJUa1758524188831.js";import"./Reflector.hbefUijb1758524188831.js";import"./vite-plugin-qiankun.B06WoCqG1758524188831.js";import"./object-hash.COWhg4aZ1758524188831.js";import"./@amap.CGUF9xH41758524188831.js";import"./jszip.BzP0QdiD1758524188831.js";import"./three-stdlib.CYvtwvCB1758524188831.js";import"./vue-router.DFx_OtVs1758524188831.js";import"./lodash-es.C7pWAXPe1758524188831.js";import"./@qlin.q6OWdsQV1758524188831.js";import"./@babel.BPq7uOAK1758524188831.js";import"./@floating-ui.BFjFSAYt1758524188831.js";import"./@juggle.CcBCnTIR1758524188831.js";import"./utils.PgMvYI3o1758524188831.js";import"./color.D9QGz8GJ1758524188831.js";import"./color-string.BDbH6wEP1758524188831.js";import"./color-name.BQ5IbGbl1758524188831.js";import"./simple-swizzle.Bkblhu7y1758524188831.js";import"./is-arrayish.CLsR9Wfx1758524188831.js";import"./color-convert.P-wMblBM1758524188831.js";import"./lodash.iw1WOawC1758524188831.js";const k=v({__name:"livingRoomInfo",props:{title:{default:"客厅"},temperature:{default:"26.2"},humidity:{default:"31"}},setup(e){const t={height:.1,curveSegments:5,bevelEnabled:!0,bevelThickness:.065,bevelSize:.032,bevelOffset:.02,bevelSegments:6},i={color:"#ffffff",metalness:.6,roughness:0,reflectivity:0};return(a,s)=>(y(),_(M,null,[(y(),j(H,null,{default:b((()=>[P(I(o),T({text:e.title,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[-2.2,.2,1]},t,{"cast-shadow":"",size:.5,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1})),(y(),j(H,null,{default:b((()=>[P(I(o),T({text:`${e.temperature} ℃ `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[-1.2,.2,1]},t,{"cast-shadow":"",size:.3,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1})),(y(),j(H,null,{default:b((()=>[P(I(o),T({text:`${e.humidity} % `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[-.6,.2,.8]},t,{"cast-shadow":"",size:.3,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1}))],64))}}),U=v({__name:"bedRoomA",props:{title:{default:"主卧"},temperature:{default:"16.2"},humidity:{default:"22"}},setup(e){const t={height:.1,curveSegments:5,bevelEnabled:!0,bevelThickness:.065,bevelSize:.032,bevelOffset:.02,bevelSegments:6},i={color:"#ffffff",metalness:.6,roughness:0,reflectivity:0};return(a,s)=>(y(),_(M,null,[(y(),j(H,null,{default:b((()=>[P(I(o),T({text:e.title,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[2.56,.6,5.5]},t,{"cast-shadow":"",size:.5,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1})),(y(),j(H,null,{default:b((()=>[P(I(o),T({text:`${e.temperature} ℃ `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[1.881,.2,2.865]},t,{"cast-shadow":"",size:.26,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1})),(y(),j(H,null,{default:b((()=>[P(I(o),T({text:`${e.humidity} % `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[2.56,.2,2.865]},t,{"cast-shadow":"",size:.3,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1}))],64))}}),C=v({__name:"bedRoomB",props:{title:{default:"次卧"},temperature:{default:"28.6"},humidity:{default:"18"}},setup(e){const t={height:.1,curveSegments:5,bevelEnabled:!0,bevelThickness:.065,bevelSize:.032,bevelOffset:.02,bevelSegments:6},i={color:"#ffffff",metalness:.6,roughness:0,reflectivity:0};return(a,s)=>(y(),_(M,null,[(y(),j(H,null,{default:b((()=>[P(I(o),T({text:e.title,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[3.92,.99,-2.499]},t,{"cast-shadow":"",size:.5,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1})),(y(),j(H,null,{default:b((()=>[P(I(o),T({text:`${e.temperature} ℃ `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[1.8,.2,-2.499]},t,{"cast-shadow":"",size:.28,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1})),(y(),j(H,null,{default:b((()=>[P(I(o),T({text:`${e.humidity} % `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[2.36,.2,-2.499]},t,{"cast-shadow":"",size:.3,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:b((()=>[w("TresMeshPhysicalMaterial",x(L(i)),null,16)])),_:1},16,["text","rotation"])])),_:1}))],64))}}),A=z("hasw",(()=>({lights:S({living:!0,bedA:!0,bedB:!0}),tv:S({switch:!0,live:""}),infors:S({living:{temp:16,hum:30},bedA:{temp:16,hum:30},bedB:{temp:16,hum:30}})}))),Z=["object"],E=v({__name:"rooms",setup(t){const i=A(),{scene:a,nodes:s}=h.getItem("rooms"),o=new e({color:"#707070"});o.reflectivity=6,o.ior=1.2,o.roughness=1,o.metalness=0,o.transparent=!0,o.opacity=.88,Object.values(s).forEach((e=>{e.material=o}));const{onLoop:n}=l();return n((()=>{})),(e,t)=>(y(),_("TresGroup",null,[w("primitive",{object:I(a),scale:1,position:[-8.832,-2.036,2.174],rotation:[0,0,0]},null,8,Z),P(k,{temperature:I(i).infors.living.temp,humidity:I(i).infors.living.hum},null,8,["temperature","humidity"]),P(U),P(C)]))}}),O=["visible"],$=["visible"],q=["visible"],N=v({__name:"lights",setup(e){const t=A(),i={wrapperClass:"illustrate2",as:"div",sprite:!0,transform:!0,distanceFactor:3,center:!0},a=t.lights,s=e=>{a[e]=!a[e]};return(e,t)=>(y(),_(M,null,[t[9]||(t[9]=w("TresAmbientLight",{intensity:.06},null,-1)),P(I(n),T(i,{position:[-2.1,1.739,2.88]}),{default:b((()=>[t[4]||(t[4]=w("div",{class:"cStyle1 pos-relative text-white"},null,-1)),w("div",{class:D(["parallelogram",{off:!I(a).living}])},[w("span",{onClick:t[0]||(t[0]=e=>s("living"))},"💡 客厅灯"),t[3]||(t[3]=w("div",{class:"contentDiv"},"点击开关",-1))],2)])),_:1},16),P(I(n),T(i,{position:[3.445,1.93,4.281]}),{default:b((()=>[t[6]||(t[6]=w("div",{class:"cStyle1 cRight pos-relative text-white"},null,-1)),w("div",{class:D(["parallelogram cRight bedA",{off:!I(a).bedA}])},[w("span",{onClick:t[1]||(t[1]=e=>s("bedA"))},"💡 主卧灯"),t[5]||(t[5]=w("div",{class:"contentDiv"},"点击开关",-1))],2)])),_:1},16),P(I(n),T(i,{position:[3.912,1.532,-2.41]}),{default:b((()=>[t[8]||(t[8]=w("div",{class:"cStyle1 cRight pos-relative text-white"},null,-1)),w("div",{class:D(["parallelogram cRight bedB",{off:!I(a).bedB}])},[w("span",{onClick:t[2]||(t[2]=e=>s("bedB"))},"💡 次卧灯"),t[7]||(t[7]=w("div",{class:"contentDiv"},"点击开关",-1))],2)])),_:1},16),w("TresPointLight",{color:"#D485FF",visible:I(a).living,position:[-2.1,1.739,2.88],intensity:9.54,distance:5.378,decay:0},null,8,O),w("TresPointLight",{color:"#FFEE99",visible:I(a).bedA,position:[3.445,1.93,4.281],intensity:10,distance:3.478,decay:0},null,8,$),w("TresPointLight",{color:"#ffa66b",visible:I(a).bedB,position:[3.912,1.532,-2.41],intensity:11,distance:4.12,decay:.52},null,8,q)],64))}}),J=v({__name:"env",setup(e){const{scene:t}=r();return t.value.backgroundBlurriness=1,(e,t)=>(y(),j(I(G),{resolution:512,background:!0},{default:b((()=>[P(I(d),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,2],scale:[1,1,1],color:"#333333"},null,8,["rotation-y"]),P(I(d),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,-4],scale:[1,1,1],color:"#222222"},null,8,["rotation-y"]),P(I(d),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,-2],scale:[1,1,1],color:"#333333"},null,8,["rotation-y"]),P(I(d),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,0],scale:[1,1,1],color:"#222222"},null,8,["rotation-y"]),P(I(d),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,2],scale:[1,1,1],color:"#333333"},null,8,["rotation-y"]),P(I(d),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,3],scale:[1,1,1],color:"#222222"},null,8,["rotation-y"]),P(I(d),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,6],scale:[1,1,1],color:"#333333"},null,8,["rotation-y"])])),_:1}))}}),V=["visible","rotation"],X=["map"],Y=v({__name:"tv",async setup(e){let a,s;const o=A().tv,r=R(null);if(o.live){const e=new t;e.setCrossOrigin("anonymous"),r.value=e.load(o.live,(()=>{console.log("Texture loaded")}),void 0,(async e=>{console.error("Error loading texture:",e),o.live="",r.value=await u("./plugins/freeDigitalHome/video/xiaomi.mp4",{loop:!0})}))}else r.value=([a,s]=B((()=>u("./plugins/freeDigitalHome/video/xiaomi.mp4",{loop:!0}))),a=await a,s(),a);r.value.colorSpace=i;const c=()=>{o.switch=!o.switch},m={wrapperClass:"illustrate2",as:"div",sprite:!0,transform:!0,distanceFactor:3,center:!0},{onLoop:f}=l();let d=0;return f((({elapsed:e})=>{const t=Math.floor(10*e);var i;t!==d&&(t%10==0&&(d=t,o.live&&(i=r,p([o.live]).then((e=>{i.value.image=e.image,i.needsUpdate=!0})))))})),(e,t)=>(y(),_(M,null,[w("TresMesh",{visible:!I(o).switch,position:[.58,1.526,4.67],rotation:[0,-Math.PI/2,0],renderOrder:9999},[t[0]||(t[0]=w("TresPlaneGeometry",{args:[1.36,.77]},null,-1)),w("TresMeshBasicMaterial",{map:r.value},null,8,X)],8,V),P(I(n),T(m,{position:[.58,1.526,4.67]}),{default:b((()=>[t[2]||(t[2]=w("div",{class:"cStyle1 pos-relative text-white"},null,-1)),w("div",{class:D(["parallelogram tv",{off:I(o).switch}])},[w("span",{onClick:c},"📺 电视"),t[1]||(t[1]=w("div",{class:"contentDiv"},"点击开关",-1))],2)])),_:1},16)],64))}}),K=v({__name:"demo",setup(e){const t=S({clearColor:"#000000",shadows:!1,alpha:!1,shadowMapType:s,outputColorSpace:i,toneMapping:a}),o={reflectivity:8,showGridHelper:!1,scale:6.6,mapUrl:"./plugins/freeDigitalHome/image/waterdudv.jpg"},l=S({enableDamping:!0,dampingFactor:.05,enableZoom:!0,autoRotateSpeed:2});return h.loadResources([{functionName:"GLTFLoader",url:"./plugins/freeDigitalHome/models/floor_plan.glb",resourceID:"rooms"}]),(e,i)=>(y(),_(M,null,[P(I(g),{useResourceManager:""}),P(I(m),T(t,{"window-size":""}),{default:b((()=>[i[0]||(i[0]=w("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),P(I(c),x(L(l)),null,16),P(N),I(h).hasAllFinished.value?(y(),j(E,{key:0})):F("",!0),(y(),j(H,null,{default:b((()=>[P(Y)])),_:1})),(y(),j(H,null,{default:b((()=>[P(I(f),x(L(o)),null,16)])),_:1})),(y(),j(H,null,{default:b((()=>[P(J)])),_:1}))])),_:1},16)],64))}});export{K as default};
