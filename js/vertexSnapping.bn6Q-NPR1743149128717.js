import{_ as t,ap as n}from"./three.hBhj0ayh1743149128717.js";import{D as o,o as i,f as e}from"./@tresjs.GCV-1VTd1743149128717.js";import{a as r,b as s}from"./index.PmOAufZy1743149128717.js";import{P as u}from"./tweakpane.ivGeiIdz1743149128717.js";import{d as c,$ as a,w as p,o as l,H as f,a3 as m,u as g,r as d,f as h,g as v,N as I,j as S,al as y,m as x}from"./@vue.L-brCdZe1743149128717.js";import"./postprocessing.JYKQQ2FM1743149128717.js";import"./@vueuse.K3OHOx4F1743149128717.js";import"./three-stdlib.WxcFbdsf1743149128717.js";import"./@pmndrs.ln9AfXsI1743149128717.js";import"./object-hash.7UG-M_Ap1743149128717.js";import"./@amap.vd0D2A1W1743149128717.js";import"./jszip.i7DSFoEV1743149128717.js";const b=R;function _(){const t=["function *\\( *\\)","init","call","exception","length","52qvxDrf","stateObject","while (true) {}","console","counter","primitive","5756470JZlMvL","apply","replace","gger","debu","log","__proto__","210LvgvHv","table",'{}.constructor("return this")( )',"#include <project_vertex>","9gPxiTn","#include <common>","info","131170WuypyH","prototype","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","uSnappingResolution","com","5054616fGXQDt","1394862fHueYO","443468yMgcdq","vertexShader","1460605AUsPTc","value","14DXMUnD","string","error","onBeforeCompile","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","input","test","MeshStandardMaterial","bind","constructor","srcMaterial"];return(_=function(){return t})()}!function(t,n){const o=R,i=_();for(;;)try{if(611241===parseInt(o(362))/1+-parseInt(o(321))/2+parseInt(o(355))/3*(parseInt(o(342))/4)+parseInt(o(323))/5+-parseInt(o(320))/6*(-parseInt(o(325))/7)+-parseInt(o(367))/8+parseInt(o(359))/9*(parseInt(o(348))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const w=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){w(this,(function(){const t=R,n=new RegExp(t(337)),o=new RegExp(t(329),"i"),i=E(t(338));n[t(332)](i+"chain")&&o.test(i+t(331))?E():i("0")}))()}();const P=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[R(349)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function R(t,n){const o=_();return R=function(t,n){return o[t-=320]},R(t,n)}P(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function("return (function() "+t(357)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(345)]||{},i=[t(353),"warn",t(361),t(327),t(340),t(356),"trace"];for(let e=0;e<i.length;e++){const n=P[t(335)][t(363)][t(334)](P),r=i[e],s=o[r]||n;n[t(354)]=P[t(334)](P),n[t(330)]=s[t(330)][t(334)](s),o[r]=n}}))();const j=["object"],M=c({__name:b(366),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[b(333)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=b,o=t,i=a(o[n(365)]);return o[n(336)][n(328)]=t=>{const o=n;t.uniforms[o(365)]=i,t.vertexShader=t[o(322)].replace(o(360),o(364)),t[o(322)]=t[o(322)][o(350)](o(358),"\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t")},p((()=>o.uSnappingResolution),(t=>{i[n(324)]=t})),(t,o)=>{const i=n;return l(),f(i(347),{object:t[i(336)]},null,8,j)}}});function E(t){function n(t){const o=R;if(typeof t===o(326))return function(t){}.constructor(o(344))[o(349)](o(346));1!==(""+t/t)[o(341)]||t%20==0?function(){return!0}[o(335)](o(352)+o(351))[o(339)]("action"):function(){return!1}[o(335)](o(352)+o(351)).apply(o(343)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=T,i=A();for(;;)try{if(676533===parseInt(o(268))/1*(-parseInt(o(246))/2)+-parseInt(o(235))/3+-parseInt(o(237))/4*(-parseInt(o(247))/5)+-parseInt(o(260))/6+parseInt(o(231))/7*(-parseInt(o(259))/8)+-parseInt(o(256))/9+parseInt(o(234))/10)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const C=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[T(230)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function T(t,n){const o=A();return T=function(t,n){return o[t-=224]},T(t,n)}!function(){C(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(261),"i"),i=N(t(258));n[t(249)](i+t(242))&&o[t(249)](i+t(243))?N():i("0")}))()}();const z=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[T(230)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function A(){const t=["24215dmzExw","while (true) {}","test","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","vertexShader",'{}.constructor("return this")( )',"warn","trace","counter","1010844aokXCn","__proto__","init","77848UCMExX","5919882ZJpVMW","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uSnappingResolution","#include <project_vertex>","exception","table","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","log","22LRXlSr","error","uniforms","toString","call","length","action","#include <common>","apply","112lpyUCg","debu","constructor","25307400FBELLh","2780841gAIMuL","bind","668SitsaQ","stateObject","gger","replace","prototype","chain","input","console","return (function() ","43762ZsrxaB"];return(A=function(){return t})()}function N(t){function n(t){const o=T;if("string"==typeof t)return function(t){}[o(233)](o(248))[o(230)](o(255));1!==(""+t/t)[o(227)]||t%20==0?function(){return!0}[o(233)](o(232)+o(239))[o(226)](o(228)):function(){return!1}.constructor(o(232)+o(239))[o(230)](o(238)),n(++t)}try{if(t)return n;n(0)}catch(o){}}z(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(245)+t(252)+");")()}catch(o){n=window}return n}(),o=n[t(244)]=n[t(244)]||{},i=[t(267),t(253),"info",t(269),t(264),t(265),t(254)];for(let e=0;e<i[t(227)];e++){const n=z[t(233)][t(241)][t(236)](z),r=i[e],s=o[r]||n;n[t(257)]=z[t(236)](z),n[t(225)]=s[t(225)][t(236)](s),o[r]=n}}))();const Z=B;!function(t,n){const o=B,i=O();for(;;)try{if(877074===parseInt(o(329))/1*(-parseInt(o(341))/2)+-parseInt(o(334))/3*(-parseInt(o(347))/4)+parseInt(o(315))/5*(parseInt(o(325))/6)+-parseInt(o(328))/7+parseInt(o(332))/8*(parseInt(o(326))/9)+-parseInt(o(322))/10+parseInt(o(353))/11)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const L=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[B(343)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){L(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=$(t(351));n[t(335)](i+t(319))&&o[t(335)](i+t(314))?$():i("0")}))()}();const k=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[B(343)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function B(t,n){const o=O();return B=function(t,n){return o[t-=309]},B(t,n)}k(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(333)+t(331)+");")()}catch(o){n=window}return n}(),o=n[t(324)]=n[t(324)]||{},i=[t(323),t(310),t(321),t(330),t(320),"table",t(309)];for(let e=0;e<i[t(346)];e++){const n=k[t(345)][t(348)][t(349)](k),r=i[e],s=o[r]||n;n[t(350)]=k[t(349)](k),n.toString=s.toString.bind(s),o[r]=n}}))();const F=[Z(312)];function O(){const t=["value","/model/industry4/MRBike.glb","resource.cos","32402AaYwPi","forEach","apply","values","constructor","length","8HQehoc","prototype","bind","__proto__","init","gger","12050258lBhXKO","trace","warn","string","object","primitive","input","3654265jhUTrg","counter","model","stateObject","chain","exception","info","13792290GvqTVN","log","console","6cLKdsj","1032147oxxFuk","push","8043847CCjcbS","64wWTJak","error",'{}.constructor("return this")( )',"88cKZbGe","return (function() ","2031666gwLHgu","test","while (true) {}","uSnappingResolution"];return(O=function(){return t})()}const U=c({__name:Z(317),props:{uSnappingResolution:{default:6}},async setup(t){const n=Z;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o("https://opensource.cdn.icegl.cn"+n(339),{draco:!0,decoderPath:"./draco/"}))),i=await i,e(),i),c=[];return Object[n(344)](u).forEach((t=>{c[n(327)](function(t,n=6){const o={value:n};return t.onBeforeCompile=t=>{const n=T;t[n(224)][n(262)]=o,t[n(251)]=t[n(251)].replace(n(229),n(266)),t[n(251)]=t[n(251)][n(240)](n(263),n(250))},o}(t,r.uSnappingResolution))})),p((()=>r[n(337)]),(t=>{const o=n;c[o(342)]((n=>{n[o(338)]=t}))})),(t,o)=>{const i=n;return l(),f(i(313),{object:g(s),scale:5,position:[0,-2,0]},null,8,F)}}});function $(t){function n(t){const o=B;if(typeof t===o(311))return function(t){}.constructor(o(336))[o(343)](o(316));1!==(""+t/t)[o(346)]||t%20==0?function(){return!0}[o(345)]("debu"+o(352)).call("action"):function(){return!1}.constructor("debu"+o(352))[o(343)](o(318)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function G(t,n){const o=X();return G=function(t,n){return o[t-=455]},G(t,n)}const H=G;!function(t,n){const o=G,i=X();for(;;)try{if(118277===parseInt(o(486))/1*(-parseInt(o(481))/2)+-parseInt(o(489))/3*(-parseInt(o(471))/4)+-parseInt(o(466))/5+parseInt(o(506))/6*(-parseInt(o(507))/7)+parseInt(o(480))/8*(parseInt(o(493))/9)+-parseInt(o(472))/10+-parseInt(o(473))/11*(-parseInt(o(491))/12))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const q=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[G(483)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){const t=G,n=new RegExp(t(492)),o=new RegExp(t(485),"i"),i=Q("init");n[t(477)](i+t(463))&&o[t(477)](i+"input")?Q():i("0")}))()}();const D=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[G(483)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();D(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(508)+t(502)+");")()}catch(o){n=window}return n}(),o=n[t(494)]=n[t(494)]||{},i=[t(498),t(455),t(460),t(468),t(469),t(458),"trace"];for(let e=0;e<i[t(457)];e++){const n=D[t(459)].prototype[t(456)](D),r=i[e],s=o[r]||n;n[t(490)]=D.bind(D),n.toString=s[t(474)][t(456)](s),o[r]=n}}))();const K={position:[5,.9,-5],name:H(465)};function X(){const t=["console","stateObject","counter","自行车模型-分辨率","log","uSnappingResolution","call","addBinding",'{}.constructor("return this")( )',"while (true) {}","debu","rotation-y","23802KFhIgU","273OqfevN","return (function() ","warn","bind","length","table","constructor","info","cube","TresCylinderGeometry","chain","TresPerspectiveCamera","torus","1132870qsxblp","string","error","exception","rotation-x","28jiOuOz","45960KPcJyn","108383CCFMNN","toString","TresMesh","gger","test","modelSnappingResolution","action","1312NruJFx","274niHuFC","TresMeshStandardMaterial","apply","TresAmbientLight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1484AztLsL","TresDirectionalLight","TresTorusKnotGeometry","68817MEBFvC","__proto__","564NjhmzE","function *\\( *\\)","4599chNZtq"];return(X=function(){return t})()}const J=c({__name:"vertexSnapping",setup(t){const o=H,c=d({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=d({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p.addBinding(a,o(499),{label:"圆环扭结-分辨率",min:0,max:20,step:.01}),p[o(501)](a,o(478),{label:o(497),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(g(e),x(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(464),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(g(i)),n[2]||(n[2]=I(u(484),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(487),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I("TresMesh",{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(461)},[I(u(462),{args:[1.5,1.5,2]}),I(u(482),{color:16737826,roughness:0,metalness:0})],-1)),I(u(475),K,[n[0]||(n[0]=I(u(488),{args:[1,.35,100,32]},null,-1)),S(M,{uSnappingResolution:a[u(499)]},null,8,[u(499)])]),(l(),h(y,null,{default:v((()=>[S(U,{uSnappingResolution:a.modelSnappingResolution},null,8,["uSnappingResolution"])])),_:1})),(l(),h(y,null,{default:v((()=>[S(g(r),{resolution:256,blur:1,background:""},{default:v((()=>[S(g(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(470)]),S(g(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(470)]),S(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(505)]),S(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(505)])])),_:1})])),_:1}))])),_:1},16)}}});function Q(t){function n(t){const o=G;if(typeof t===o(467))return function(t){}.constructor(o(503))[o(483)](o(496));1!==(""+t/t)[o(457)]||t%20==0?function(){return!0}[o(459)](o(504)+o(476))[o(500)](o(479)):function(){return!1}.constructor("debu"+o(476))[o(483)](o(495)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{J as default};
