{"version":3,"file":"googleMapsExample.9pPT0ktJ1767105581793.js","sources":["../../src/plugins/simpleGIS/components/googleMaps.vue","../../src/plugins/simpleGIS/pages/googleMapsExample.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2025-03-25 09:49:51\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-29 12:39:34\n-->\n<template>\n\t<TresGroup>\n\t\t\t<primitive :object=\"tiles.group\" />\n\t</TresGroup>\n</template>\n\n<script setup lang=\"ts\">\nimport { useTres, useLoop } from '@tresjs/core'\nimport { CameraTransitionManager, TilesRenderer, GlobeControls } from '3d-tiles-renderer'\nimport {\n\tTilesFadePlugin,\n\tUpdateOnChangePlugin,\n\tTileCompressionPlugin,\n\tUnloadTilesPlugin,\n\tGLTFExtensionsPlugin,\n\tCesiumIonAuthPlugin,\n} from '3d-tiles-renderer/plugins'\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js'\n\nconst assetId = '2275207'\nconst accessToken =\n\t'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhM2RlZDE0YS03NWNlLTQ2ZmItODFmZi0zMDQyZGMxZjdjNzQiLCJpZCI6NDYzMzQsImlhdCI6MTYxNjA1MjY2Nn0.3BRsxy7UmJgW0LemXo6cMsD7xwe7YvUDITeQ3RLxOHI'\n\nconst { camera, renderer, sizes, scene } = useTres() as any\n\nlet transition = null as any\nlet tiles = null as unknown as TilesRenderer\nlet globeControls = null as any\n\nfunction reinstantiateTiles() {\n\ttiles = new TilesRenderer()\n\ttiles.registerPlugin(\n\t\t\tnew CesiumIonAuthPlugin({\n\t\t\t\t\tapiToken: accessToken,\n\t\t\t\t\tassetId: assetId,\n\t\t\t\t\tautoRefreshToken: true,\n\t\t\t}),\n\t)\n\ttiles.registerPlugin(new TileCompressionPlugin())\n\ttiles.registerPlugin(new UpdateOnChangePlugin())\n\ttiles.registerPlugin(new UnloadTilesPlugin())\n\ttiles.registerPlugin(new TilesFadePlugin())\n\ttiles.registerPlugin(\n\t\t\tnew GLTFExtensionsPlugin({\n\t\t\t\t\tdracoLoader: new DRACOLoader().setDecoderPath('./draco/'),\n\t\t\t}),\n\t)\n\ttiles.group.rotation.x = -Math.PI / 2\n}\n\nreinstantiateTiles()\n\ntiles.setCamera(camera.value)\ntiles.setResolutionFromRenderer(camera.value, renderer)\ntransition = new CameraTransitionManager(camera.value, undefined)\ntransition.perspectiveCamera.position.set(-3960140, 3689031, -3364162)\ntransition.perspectiveCamera.lookAt(0, 0, 0)\ntransition.autoSync = false\ntransition.orthographicPositionalZoom = false\nglobeControls = new GlobeControls(scene.value, transition.camera, renderer.domElement, undefined)\nglobeControls.enableDamping = true\nglobeControls.setScene(tiles.group)\n\nconst { onBeforeRender } = useLoop()\nonBeforeRender(() => {\n\tif (camera.value && sizes.width.value && tiles) {\n\t\t\tglobeControls.enabled = !transition.animating\n\t\t\tglobeControls.update()\n\t\t\ttransition.update()\n\n\t\t\tconst camerac = transition.camera\n\t\t\ttiles.setResolutionFromRenderer(camerac, renderer)\n\t\t\ttiles.setCamera(camerac)\n\n\t\t\tcamerac.updateMatrixWorld()\n\t\t\ttiles.update()\n\t}\n})\n</script>\n","<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2025-03-25 09:47:00\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-29 12:36:48\n-->\n<template>\n    <TresCanvas clearColor=\"#201919\" window-size antialias>\n        <TresPerspectiveCamera :position=\"[4800000, 2570000, 14720000]\" :fov=\"60\" :near=\"1\" :far=\"160000000\" />\n        <googleMaps />\n    </TresCanvas>\n    <h1 class=\"text-center text-white w-full absolute\">若没加载成功，请自行梯子</h1>\n</template>\n\n<script setup lang=\"ts\">\nimport googleMaps from '../components/googleMaps.vue'\n</script>\n"],"names":["useTres","TilesRenderer","CesiumIonAuthPlugin","TileCompressionPlugin","UpdateOnChangePlugin","UnloadTilesPlugin","TilesFadePlugin","GLTFExtensionsPlugin","CameraTransitionManager","GlobeControls","useLoop","_createElementBlock","_createElementVNode","googleMaps"],"mappings":";;;;;;;;;;AA2BA,KAAA,CAAM,OAAA,GAAU,CAAA,OAAA,CAAA;AAChB,KAAA,CAAM,WAAA,GACL,CAAA,oCAAA,CAAA,mGAAA,CAAA,2CAAA,CAAA;;;;AAED,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,CAAA,CAAE,MAAA,CAAA,CAAQ,QAAA,CAAA,CAAU,KAAA,CAAA,CAAO,KAAA,CAAA,IAAUA,EAAA,CAAA,CAAQ;AAEnD,CAAA,CAAA,CAAA,CAAA,GAAA,CAAI,UAAA,CAAA,CAAA,CAAa,IAAA;AACjB,CAAA,CAAA,CAAA,CAAA,GAAA,CAAI,KAAA,CAAA,CAAA,CAAQ,IAAA;AACZ,CAAA,CAAA,CAAA,CAAA,GAAA,CAAI,aAAA,CAAA,CAAA,CAAgB,IAAA;AAEpB,CAAA,CAAA,CAAA,CAAA,QAAA,CAAS,kBAAA,CAAA,CAAA,CAAqB;AAC7B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA,CAAA,CAAQ,GAAA,CAAIC,EAAA,CAAA,CAAc;AAC1B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,cAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACJ,GAAA,CAAIC,EAAA,CAAoB;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACtB,QAAA,EAAU,WAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACV,OAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACA,gBAAA,CAAA,CAAkB;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACnB;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACH;AACA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,cAAA,CAAe,GAAA,CAAIC,EAAA,EAAuB,CAAA;AAChD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,cAAA,CAAe,GAAA,CAAIC,EAAA,EAAsB,CAAA;AAC/C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,cAAA,CAAe,GAAA,CAAIC,EAAA,EAAmB,CAAA;AAC5C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,cAAA,CAAe,GAAA,CAAIC,EAAA,EAAiB,CAAA;AAC1C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,cAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACJ,GAAA,CAAIC,EAAA,CAAqB;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACvB,WAAA,EAAa,GAAA,CAAI,WAAA,EAAY,CAAE,eAAe,CAAA,CAAA,CAAA,KAAA,CAAA,CAAU;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACzD;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACH;AACA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,KAAA,CAAM,QAAA,CAAS,CAAA,CAAA,CAAA,CAAI,CAAC,KAAK,EAAA,GAAK,CAAA;AAAA,CAAA,CAAA,CAAA,CACrC;AAEA,CAAA,CAAA,CAAA,CAAA,kBAAA,CAAA,CAAmB;AAEnB,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,SAAA,CAAU,OAAO,KAAK,CAAA;AAC5B,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,yBAAA,CAA0B,MAAA,CAAO,KAAA,CAAA,CAAO,QAAQ,CAAA;AACtD,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,CAAa,GAAA,CAAIC,EAAA,CAAwB,MAAA,CAAO,KAAA,CAAA,CAAO,IAAA,CAAA,CAAS,CAAA;AAChE,CAAA,CAAA,CAAA,CAAA,UAAA,CAAW,iBAAA,CAAkB,QAAA,CAAS,GAAA,CAAI,CAAA,OAAA,CAAA,CAAU,SAAS,QAAQ,CAAA;AACrE,CAAA,CAAA,CAAA,CAAA,UAAA,CAAW,iBAAA,CAAkB,MAAA,CAAO,CAAA,CAAA,CAAG,CAAA,CAAA,CAAG,CAAC,CAAA;AAC3C,CAAA,CAAA,CAAA,CAAA,UAAA,CAAW,QAAA,CAAA,CAAA,CAAW,KAAA;AACtB,CAAA,CAAA,CAAA,CAAA,UAAA,CAAW,0BAAA,CAAA,CAAA,CAA6B,KAAA;AACxC,CAAA,CAAA,CAAA,CAAA,aAAA,CAAA,CAAA,CAAgB,GAAA,CAAIC,GAAc,KAAA,CAAM,KAAA,CAAA,CAAO,WAAW,MAAA,CAAA,CAAQ,QAAA,CAAS,YAAY,MAAS,CAAA;AAChG,CAAA,CAAA,CAAA,CAAA,aAAA,CAAc,aAAA,CAAA,CAAA,CAAgB,IAAA;AAC9B,CAAA,CAAA,CAAA,CAAA,aAAA,CAAc,QAAA,CAAS,MAAM,KAAK,CAAA;AAElC,CAAA,CAAA,CAAA,CAAA,MAAM,CAAA,CAAE,cAAA,CAAA,CAAe,CAAA,CAAA,CAAIC,EAAA,CAAA,CAAQ;AACnC,CAAA,CAAA,CAAA,CAAA,cAAA,CAAe,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM;AACpB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAI,MAAA,CAAO,KAAA,CAAA,CAAA,CAAA,CAAS,KAAA,CAAM,KAAA,CAAM,SAAS,KAAA,CAAA,CAAO;AAC9C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,aAAA,CAAc,OAAA,GAAU,CAAC,UAAA,CAAW,SAAA;AACpC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,aAAA,CAAc,MAAA,CAAA,CAAO;AACrB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAW,MAAA,CAAA,CAAO;AAElB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,UAAU,UAAA,CAAW,MAAA;AAC3B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,yBAAA,CAA0B,SAAS,QAAQ,CAAA;AACjD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,UAAU,OAAO,CAAA;AAEvB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAQ,iBAAA,CAAA,CAAkB;AAC1B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM,MAAA,CAAA,CAAO;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACf;AAAA,CAAA,CAAA,CAAA,CACD,CAAC,CAAA;;6BA5EAC,qBAAA,CAEY,CAAA,SAAA,CAAA,CAAA,CAAA,IAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CADVC,mBAAAA,CAAAA,EAAmC,CAAA,SAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAvB,MAAA,CAAA,CAAQ,MAAA,CAAA,KAAA,CAAA,CAAM;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;QCDzB,aAGa,qBAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAHD,UAAA,EAAW,CAAA,CAAA,MAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAY,SAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;4BACzC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAuG;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,2BAAvG,oBAAuG,uBAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAA/E,QAAA,EAAU,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,MAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAA+B,GAAA,EAAK,EAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAK,IAAA,EAAM,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAI,GAAA,CAAA,CAAK;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAC1F,aAAcC,SAAAA,CAAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;;;QAElB,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,mBAAA,CAAoE,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAhE,KAAA,CAAA,CAAM,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAyC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAY,CAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;"}