import{d as t,a2 as n,w as o,H as i,o as e}from"./@vue.Co_gxueH1763540743861.js";import{u as s}from"./three.rXKzP9fQ1763540743861.js";const a=["object"],r=t({__name:"com",props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new s({color:65280,roughness:.5,metalness:.5})}},setup(t){const s=t,r=n(s.uSnappingResolution);return s.srcMaterial.onBeforeCompile=t=>{t.uniforms.uSnappingResolution=r,t.vertexShader=t.vertexShader.replace("#include <common>","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t"),t.vertexShader=t.vertexShader.replace("#include <project_vertex>","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t")},o(()=>s.uSnappingResolution,t=>{r.value=t}),(t,n)=>(e(),i("primitive",{object:t.srcMaterial},null,8,a))}});export{r as _};
