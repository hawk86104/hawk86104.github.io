import{_ as t,h as n}from"./three.HQIWXjA-1732680436779.js";import{m as e}from"./@tresjs.ozxSQdlw1732680436779.js";import{d as o,P as a}from"./@pmndrs.XoFR5LkZ1732680436779.js";import{d as r,b as s,w as i,a3 as c,o as u,D as l,J as p,aj as f,ak as h}from"./@vue.u2cBPEWn1732680436779.js";function d(t,n){const e=b();return(d=function(t,n){return e[t-=232]})(t,n)}const m=d;!function(t,n){const e=d,o=b();for(;;)try{if(386461===parseInt(e(286))/1*(-parseInt(e(288))/2)+-parseInt(e(277))/3*(-parseInt(e(238))/4)+-parseInt(e(298))/5*(-parseInt(e(249))/6)+parseInt(e(234))/7*(parseInt(e(254))/8)+parseInt(e(237))/9*(-parseInt(e(312))/10)+parseInt(e(313))/11*(parseInt(e(285))/12)+parseInt(e(290))/13)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){w(this,(function(){const t=d,n=new RegExp(t(273)),e=new RegExp(t(241),"i"),o=I(t(235));n[t(283)](o+"chain")&&e[t(283)](o+t(287))?I():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(284)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=d,n=function(){const t=d;let n;try{n=Function("return (function() "+t(321)+");")()}catch(e){n=window}return n}(),e=n[t(252)]=n[t(252)]||{},o=["log",t(270),"info",t(319),t(278),t(310),t(322)];for(let a=0;a<o.length;a++){const n=g[t(247)][t(258)][t(309)](g),r=o[a],s=e[r]||n;n[t(268)]=g[t(309)](g),n[t(260)]=s[t(260)][t(309)](s),e[r]=n}}))();const M=[m(289)];function b(){const t=["length","#000000","1760eLNCTe","Vector3","color","material","random","size","shadows plm update","abs","left","set","action","bind","table","accumulativeShadowsCom","71270tnlbaU","11krGFUi","finish","frames","prepare","castShadow","radius","error","height",'{}.constructor("return this")( )',"trace","add","ambient","log","9975esSIep","init","progressiveLightMap2","531LenQau","212YOPdVg","DirectionalLight","camera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","MathUtils","amount","shadow","randFloatSpread","width","constructor","Group","4566utZoFR","value","TresPlaneGeometry","console","debu","600EyQmZX","near","far","configure","prototype","gPlane","toString","shadows render end","update","mapSize","clear","cos","gger","bias","__proto__","TresSoftShadowMaterial","warn","remove","sin","function *\\( *\\)","children","lightPosition","right","141OUIkem","exception","top","stateObject","alphaTest","position","test","apply","4447680krGNWW","17909utIFAX","input","10wYmBML","rotate-x","1932073ZYOMUC","blendWindow","TresMesh","blend","opacity","texture"];return(b=function(){return t})()}const y=r({__name:m(311),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(297)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const d=m,w=r;let g=s();const{extend:b,scene:y,renderer:I,camera:x}=e();b({SoftShadowMaterial:o});const z={position:(new(t[d(299)]))[d(307)](w[d(275)].x,w[d(275)].y,w[d(275)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},S=new a(I[d(250)],y[d(250)],z[d(263)]),_={map:S[d(236)][d(295)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[d(293)],alphaTest:w[d(281)],opacity:w[d(294)],color:w[d(300)]},v=new(t[d(248)]);for(let n=0;n<z[d(243)];n++){const n=new(t[d(239)])(16777215,z.intensity/z.amount);n[d(317)]=!0,n[d(244)][d(267)]=z[d(267)],n[d(244)].camera[d(255)]=z[d(255)],n.shadow[d(240)][d(256)]=z.far,n[d(244)][d(240)][d(276)]=z[d(303)]/2,n[d(244)][d(240)][d(306)]=-z[d(303)]/2,n.shadow[d(240)][d(279)]=z.size/2,n[d(244)][d(240)].bottom=-z[d(303)]/2,n[d(244)].mapSize[d(246)]=z[d(263)],n[d(244)][d(263)][d(320)]=z[d(263)],v[d(323)](n)}const P=()=>{const e=d,o=z[e(282)][e(296)]();for(let a=0;a<v[e(274)][e(296)];a++){const r=v.children[a];if(Math.random()>w.ambient)r[e(282)][e(307)](z.position.x+t[e(242)][e(245)](z[e(318)]),z[e(282)].y+n[e(245)](z[e(318)]),z[e(282)].z+t[e(242)][e(245)](z[e(318)]));else{let t=Math.acos(2*Math[e(302)]()-1)-Math.PI/2,n=2*Math.PI*Math.random();r[e(282)][e(307)](Math[e(265)](t)*Math.cos(n)*o,Math[e(305)](Math[e(265)](t)*Math[e(272)](n)*o),Math.sin(t)*o)}}},j=(t=1)=>{const n=d;y.value[n(323)](v),S[n(316)]();for(let e=0;e<t;e++)P(),S[n(262)](x[n(250)],w[n(291)]),console[n(233)](n(304),e);y.value[n(271)](v),S[n(314)]()};i((()=>g[d(250)]),(t=>{const n=d;t&&(S[n(257)](t),S[n(264)](),console.log("shadows render start"),j(w[n(315)]),console[n(233)](n(261)))}));const T=()=>{S[d(264)](),j(w.frames)};return c((()=>{const t=d;g[t(250)]&&(w[t(294)]&&(g[t(250)][t(301)][t(294)]=w[t(294)]),w[t(281)]&&(g[t(250)][t(301)][t(281)]=w[t(281)]),w[t(300)]&&g.value[t(301)][t(300)].set(w.color),w.blend&&(g[t(250)].material[t(293)]=w[t(293)]))})),i((()=>w[d(275)]),(t=>{const n=d;t&&(console[n(233)](w[n(275)]),z.position.set(t.x,t.y,t.z),T())}),{deep:!0}),i((()=>[w[d(315)],w[d(291)],w[d(232)]]),(()=>{T()})),(t,n)=>{const e=d;return u(),l(e(292),{"receive-shadow":"",ref_key:e(259),ref:g,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=p(e(251),{args:[1,1]},null,-1)),p(e(269),f(h(_)),null,16)],8,M)}}});function I(t){function n(t){const e=d;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(284)]("counter");1!==(""+t/t)[e(296)]||t%20==0?function(){return!0}[e(247)](e(253)+e(266)).call(e(308)):function(){return!1}[e(247)](e(253)+e(266)).apply(e(280)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as _};
