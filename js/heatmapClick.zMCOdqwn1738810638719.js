import{D as t,o as n}from"./@tresjs.8axf5yqM1738810638719.js";import{P as e}from"./tweakpane.yDiyAAkA1738810638719.js";import{_ as o,ak as r,al as a}from"./three.6w8Allze1738810638719.js";import{_ as s}from"./heatmap.js-fix.S5cb3XA51738810638719.js";import{d as i,a3 as c,a2 as u,o as l,H as p,u as f,r as d,e as h,f as m,g,N as v,j as y,al as b,aj as w,ak as x,m as _}from"./@vue.NRI7TcgI1738810638719.js";import"./@vueuse.hJpps2zM1738810638719.js";import"./@amap.OmDF_WNh1738810638719.js";const I=k;!function(t,n){const e=k,o=A();for(;;)try{if(971486===parseInt(e(172))/1+-parseInt(e(187))/2*(-parseInt(e(230))/3)+-parseInt(e(164))/4*(parseInt(e(204))/5)+parseInt(e(194))/6+parseInt(e(190))/7+parseInt(e(185))/8+-parseInt(e(192))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(178)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=k,n=new RegExp(t(197)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z(t(181));n.test(o+t(231))&&e.test(o+"input")?z():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(203)+t(217)+");")()}catch(e){n=window}return n}(),e=n[t(174)]=n[t(174)]||{},o=[t(162),t(170),t(165),t(206),t(167),t(222),t(182)];for(let r=0;r<o[t(212)];r++){const n=C.constructor.prototype[t(183)](C),a=o[r],s=e[a]||n;n[t(191)]=C.bind(C),n[t(184)]=s.toString.bind(s),e[a]=n}}))();const B=["object"];function A(){const t=["_renderer","counter","0.8","table","onclick","scale","while (true) {}","canvas","./draco/","constructor","addData","5793DuVCnR","chain","needsUpdate","ShaderMaterial","DoubleSide","log","setScalar","3508oADuoU","info","1px solid #5384ff","exception","BufferAttribute","geometry","warn","absolute","1344180pevaYo","createElement","console","primitive","show2dCanvas","boundingBox","apply","radius","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","init","trace","bind","toString","9888744ivwJsK","attributes","848jhxtXy","set","top","4597404qlQdNb","__proto__","31968054xXtFYK","style","4379556oOLlON","computeBoundingBox","appendChild","function *\\( *\\)","40px","mesh_0","layerX","heatmapClickCom","layerY","return (function() ","1495WtxIEw","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","error","left","stateObject","getZ","push","position","length","action","Texture","getX","debu",'{}.constructor("return this")( )',"gger"];return(A=function(){return t})()}const S=i({__name:I(201),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(227)}))),r=await r,a(),r);d[e(199)][e(211)][e(188)](-5088.96,-3.08,39374.7),d.mesh_0[e(224)][e(163)](.01);let h=null,m=null,g=null;m=new(o[e(214)])((()=>{const t=e;return g=document[t(173)]("heatmap-canvas"),g[t(193)][t(211)]=t(171),g[t(193)][t(189)]=t(198),g[t(193)][t(207)]="0",document.body[t(196)](g),h=s.create({container:g,width:256,height:256,blur:t(221),radius:i[t(179)]}),h[t(219)][t(226)].style.border=t(166),h[t(219)][t(226)][t(223)]=function(n){const e=t;h[e(229)]({x:n[e(200)],y:n[e(202)],value:1,radius:i[e(179)]}),h.setDataMax(1),m&&(m[e(159)]=!0)},h})()[e(219)][e(226)]);const v={vertexShader:e(180),fragmentShader:e(205),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(161)]},y=new(o[e(160)])(v);d[e(199)].material=y;return(t=>{const n=e;t[n(195)]();const{max:r,min:a}=t[n(177)];t.deleteAttribute("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(186)][n(211)].count;e++)c[n(210)]((t.attributes.position[n(215)](e)-a.x)/s),c[n(210)]((t[n(186)][n(211)][n(209)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(168)])(u,2))})(d[e(199)][e(169)]),u((()=>{const t=e;g.style.display=i[t(176)]?"block":"none"})),(t,n)=>{const o=e;return l(),p(o(175),{object:f(d)[o(199)]},null,8,B)}}});function k(t,n){const e=A();return(k=function(t,n){return e[t-=159]})(t,n)}function z(t){function n(t){const e=k;if("string"==typeof t)return function(t){}[e(228)](e(225))[e(178)](e(220));1!==(""+t/t).length||t%20==0?function(){return!0}[e(228)](e(216)+e(218)).call(e(213)):function(){return!1}[e(228)](e(216)+e(218))[e(178)](e(208)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function D(t,n){const e=M();return(D=function(t,n){return e[t-=467]})(t,n)}const O=D;!function(t,n){const e=D,o=M();for(;;)try{if(745301===parseInt(e(488))/1*(-parseInt(e(468))/2)+parseInt(e(502))/3+parseInt(e(515))/4*(parseInt(e(492))/5)+parseInt(e(473))/6*(-parseInt(e(517))/7)+-parseInt(e(469))/8*(-parseInt(e(477))/9)+parseInt(e(501))/10*(-parseInt(e(506))/11)+parseInt(e(500))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=D,n=new RegExp(t(493)),e=new RegExp(t(504),"i"),o=P(t(487));n[t(510)](o+t(482))&&e[t(510)](o+"input")?P():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(){const t=["error","exception","radius","gger","info","9578880IGOTEb","405540ACLInG","2159559FtPaRZ","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","341Gjysdv","TresCanvas","console","apply","test","#030311","show2dCanvas","bind","TresPerspectiveCamera","11552qfBWlX","while (true) {}","7NlXgan","显示二维图","34178zpWqhq","800BhqpBP","table","addBinding","prototype","6611442EJJeWg","warn","action","constructor","61956dHCNsT",'{}.constructor("return this")( )',"counter","debu","stateObject","chain","__proto__","toString","length","heatmapClick","init","23HOPNpX","TresDirectionalLight","#ffffff","圆圈的大小","2235oQjeoB","function *\\( *\\)","TresGridHelper"];return(M=function(){return t})()}E(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function("return (function() "+t(478)+");")()}catch(e){n=window}return n}(),e=n[t(508)]=n[t(508)]||{},o=["log",t(474),t(499),t(495),t(496),t(470),t(505)];for(let r=0;r<o[t(485)];r++){const n=E.constructor[t(472)][t(513)](E),a=o[r],s=e[a]||n;n[t(483)]=E[t(513)](E),n[t(484)]=s[t(484)].bind(s),e[a]=n}}))();const R=i({__name:O(486),setup(t){const o=O,s={clearColor:o(511),shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,o(512),{label:o(467)}),c[o(471)](i,o(497),{label:o(491),min:.1,max:30,step:.1}),c.addButton({title:"点击左侧蓝色画框"}),(t,e)=>{const r=o,a=h(r(507));return l(),m(a,_(s,{"window-size":""}),{default:g((()=>[e[0]||(e[0]=v(r(514),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),y(f(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v(r(489),{position:[5,10,7.5],color:r(490),intensity:5},null,-1)),e[2]||(e[2]=v(r(494),{args:[50,25]},null,-1)),(l(),m(b,null,{default:g((()=>[y(S,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function P(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(476)](e(516)).apply(e(479));1!==(""+t/t)[e(485)]||t%20==0?function(){return!0}[e(476)](e(480)+e(498))[e(503)](e(475)):function(){return!1}.constructor(e(480)+e(498)).apply(e(481)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
