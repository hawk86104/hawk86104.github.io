import{e as n,m as t,o as e}from"./@tresjs.8axf5yqM1738810638719.js";import{_ as o,a as r,N as i,B as s,p as a,c5 as c,c3 as l,c4 as u,cf as f}from"./three.6w8Allze1738810638719.js";import{d as p,o as v,H as g,N as d,u as m,F as h,w as b,j as y,z as x,e as w,g as _,aj as I,ak as T}from"./@vue.NRI7TcgI1738810638719.js";import{_ as U}from"./@fesjs.5sDv5KaN1738810638719.js";import"./@vueuse.hJpps2zM1738810638719.js";import"./vue-router.bGXYs4Br1738810638719.js";import"./lodash-es.pklfUAS51738810638719.js";import"./@qlin.yHhFDldE1738810638719.js";import"./pinia.a31yeUkM1738810638719.js";import"./@floating-ui.BPbuo5Gx1738810638719.js";import"./@juggle.7yjBMqoW1738810638719.js";var S="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const j=N;!function(n,t){const e=N,o=A();for(;;)try{if(823240===parseInt(e(513))/1*(-parseInt(e(517))/2)+parseInt(e(509))/3*(-parseInt(e(490))/4)+parseInt(e(522))/5*(parseInt(e(551))/6)+-parseInt(e(488))/7*(-parseInt(e(520))/8)+parseInt(e(482))/9*(-parseInt(e(505))/10)+-parseInt(e(553))/11*(parseInt(e(546))/12)+parseInt(e(508))/13)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(487)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){z(this,(function(){const n=N,t=new RegExp(n(557)),e=new RegExp(n(539),"i"),o=E(n(544));t[n(531)](o+n(494))&&e.test(o+n(507))?E():o("0")}))()}();const D=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(487)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function N(n,t){const e=A();return(N=function(n,t){return e[n-=481]})(n,t)}D(void 0,(function(){const n=N,t=function(){const n=N;let t;try{t=Function(n(545)+n(560)+");")()}catch(e){t=window}return t}(),e=t[n(483)]=t.console||{},o=["log",n(495),n(498),n(528),n(558),n(543),n(504)];for(let r=0;r<o.length;r++){const t=D[n(563)][n(535)][n(542)](D),i=o[r],s=e[i]||t;t[n(492)]=D[n(542)](D),t.toString=s[n(493)][n(542)](s),e[i]=t}}))();const B=[j(549),j(562)],C=[j(562)],M=["rotateX"],k=100,F=p({__name:j(529),props:{globalUniforms:{}},setup(t){const e=j,s=t,a=[],c=[],l=new(o[e(499)])(1,36,18),u=(new(o[e(532)]))[e(503)](l);u[e(511)]=k;const f=[];for(let n=0;n<k;n++){let n=o[e(533)].randFloatSpread(49),t=r[e(530)](49),i=o[e(533)].randFloat(.0625,.125),s=o[e(533)][e(536)](1,3);f.push(n,t,i),c[e(548)](new(o[e(489)])(n,t,s,o[e(533)][e(536)](1,2))),a[e(548)](new(o[e(489)])(n,t,i,s))}u[e(550)](e(556),new(o[e(512)])(new Float32Array(f),3));const p=new(o[e(561)])({color:16720418,onBeforeCompile:n=>{const t=e;n[t(534)].noiseTex=s.globalUniforms[t(524)],n[t(497)]=(t(538)+n[t(497)]+"\n    ")[t(527)](t(564),"#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ")}}),b={luces:{value:a}},y=new i({color:2363940,onBeforeCompile:n=>{const t=e;n.uniforms[t(552)]=b[t(552)],n[t(534)].globalBloom=s[t(555)][t(519)],n.uniforms[t(510)]=s[t(555)][t(524)],n.vertexShader=(t(540)+n[t(497)]+t(496))[t(527)](t(564),t(514)),n.fragmentShader=(t(481)+k+t(502)+n[t(486)]+"\n    ")[t(527)]("#include <fog_fragment>",t(547)+k+t(526)).replace(t(523),t(484))}}),{onLoop:x}=n();return x((({elapsed:n})=>{const t=e;for(let e=0;e<k;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(515)](n*o.w*(e%3+1))*Math[t(554)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(500)].instData[t(506)](e,r)}u[t(500)][t(556)][t(559)]=!0})),(n,t)=>{const o=e;return v(),g(h,null,[d("TresMesh",{geometry:m(u),material:m(p)},null,8,B),d(o(516),{material:m(y)},[d("TresPlaneGeometry",{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,M)],8,C)],64)}}});function A(){const n=["attributes","counter","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","copy","trace","10wPrDAp","setY","input","38662156pRQdrX","10503UgjfCL","noiseTex","instanceCount","InstancedBufferAttribute","956pNWbJp","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","sin","TresMesh","1524VNOUqy","length","globalBloom","856TbKATo","string","1442700xkHOzk","#include <dithering_fragment>","noise","stateObject","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","replace","error","lucesPlane","randFloatSpread","test","InstancedBufferGeometry","MathUtils","uniforms","prototype","randFloat","debu","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","while (true) {}","bind","table","init","return (function() ","1904508WociMX","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","push","geometry","setAttribute","6NhYmsg","luces","11jTJzgR","cos","globalUniforms","instData","function *\\( *\\)","exception","needsUpdate",'{}.constructor("return this")( )',"MeshBasicMaterial","material","constructor","#include <begin_vertex>","\n      uniform vec4 luces[","11619171cIaqSK","console","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","gger","fragmentShader","apply","69265hquWhY","Vector4","1508WInqII","action","__proto__","toString","chain","warn","\n    ","vertexShader","info","SphereGeometry"];return(A=function(){return n})()}function E(n){function t(n){const e=N;if(typeof n===e(521))return function(n){}[e(563)](e(541))[e(487)](e(501));1!==(""+n/n)[e(518)]||n%20==0?function(){return!0}[e(563)]("debu"+e(485)).call(e(491)):function(){return!1}[e(563)](e(537)+e(485))[e(487)](e(525)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const P=q;!function(n,t){const e=q,o=Z();for(;;)try{if(993521===parseInt(e(513))/1*(parseInt(e(511))/2)+-parseInt(e(501))/3*(-parseInt(e(494))/4)+-parseInt(e(467))/5+-parseInt(e(499))/6+-parseInt(e(473))/7+-parseInt(e(479))/8+parseInt(e(514))/9*(parseInt(e(480))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(477)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){R(this,(function(){const n=q,t=new RegExp(n(488)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W(n(509));t[n(478)](o+n(504))&&e[n(478)](o+"input")?W():o("0")}))()}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(477)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function q(n,t){const e=Z();return(q=function(n,t){return e[n-=464]})(n,t)}G(void 0,(function(){const n=q,t=function(){const n=q;let t;try{t=Function(n(508)+n(505)+");")()}catch(e){t=window}return t}(),e=t[n(491)]=t[n(491)]||{},o=[n(481),"warn",n(464),n(465),n(496),n(489),"trace"];for(let r=0;r<o[n(495)];r++){const t=G[n(512)][n(500)][n(503)](G),i=o[r],s=e[i]||t;t[n(498)]=G[n(503)](G),t.toString=s[n(483)].bind(s),e[i]=t}}))();const O=[P(475)];function Z(){const n=["chain",'{}.constructor("return this")( )',"debu","#include <dithering_fragment>","return (function() ","init","gger","14184wErXMT","constructor","2xXtpvq","34085511LLYpnF","info","error","defines","5774260fFCcaI","TresMesh","fragmentShader","portal","TresPlaneGeometry","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","5379640hznZzF","counter","material","while (true) {}","apply","test","7106224yGhGUs","10fxiGFK","log","action","toString","\n    ","MeshBasicMaterial","replace","globalUniforms","function *\\( *\\)","table","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","console","uniforms","globalBloom","2610788PhOufw","length","exception","call","__proto__","3893934HnfJfT","prototype","3DMknRG","stateObject","bind"];return(Z=function(){return n})()}const J=p({__name:P(470),props:{globalUniforms:{}},setup(n){const t=P,e=n,r=new(o[t(485)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const o=t;n[o(492)].time=e.globalUniforms.time,n[o(492)].globalBloom=e[o(487)][o(493)],n.fragmentShader=(o(490)+S+"\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "+n[o(469)]+o(484))[o(486)]("vec4 diffuseColor = vec4( diffuse, opacity );","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ")[o(486)](o(507),o(472))}});return r[t(466)]={USE_UV:""},(n,e)=>{const o=t;return v(),g(o(468),{material:m(r),position:[0,3.75,-12]},e[0]||(e[0]=[d(o(471),{args:[5,5]},null,-1)]),8,O)}}});function W(n){function t(n){const e=q;if("string"==typeof n)return function(n){}[e(512)](e(476)).apply(e(474));1!==(""+n/n)[e(495)]||n%20==0?function(){return!0}.constructor("debu"+e(510))[e(497)](e(482)):function(){return!1}[e(512)](e(506)+e(510)).apply(e(502)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function L(){const n=["3203645DWKiov","setAttribute","randFloatSpread","call","TresLineSegments","544PKukbI","info","exception","LineBasicMaterial","MathUtils","counter",'{}.constructor("return this")( )',"globalUniforms","232477vtNAcu","gEnds","chain","prototype","drops","time","warn","bind","material","gger","trace","vertexShader","constructor","console","init","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","3381444qxAXJM","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","test","string","while (true) {}","debu","fragmentShader","stateObject","\n    ","position","replace","randFloat","2122185bfWOoq","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","push","3264720HJTcjI","log","apply","return (function() ","length","1088280bcjWYG","819862PGtypj","noise","Float32BufferAttribute","action"];return(L=function(){return n})()}const $=V;!function(n,t){const e=V,o=L();for(;;)try{if(428469===parseInt(e(464))/1+parseInt(e(463))/2+-parseInt(e(454))/3+parseInt(e(442))/4+parseInt(e(468))/5+parseInt(e(458))/6+parseInt(e(481))/7*(-parseInt(e(473))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(460)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){H(this,(function(){const n=V,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(456),"i"),o=Q(n(495));t[n(444)](o+n(483))&&e[n(444)](o+"input")?Q():o("0")}))()}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(460)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();K(void 0,(function(){const n=V,t=function(){const n=V;let t;try{t=Function(n(461)+n(479)+");")()}catch(e){t=window}return t}(),e=t[n(494)]=t[n(494)]||{},o=[n(459),n(487),n(474),"error",n(475),"table",n(491)];for(let r=0;r<o[n(462)];r++){const t=K.constructor[n(484)].bind(K),i=o[r],s=e[i]||t;t.__proto__=K[n(488)](K),t.toString=s.toString.bind(s),e[i]=t}}))();const X=[$(489),"geometry"];function V(n,t){const e=L();return(V=function(n,t){return e[n-=442]})(n,t)}const Y=p({__name:$(485),props:{globalUniforms:{}},setup(n){const t=$,e=n,r=[],i=[];for(let s=0;s<2e4;s++){const n=o[t(477)][t(470)](35),e=o[t(477)][t(453)](-5,10),s=o[t(477)][t(470)](35),a=o[t(477)][t(453)](.25,.5);r.push(n,e,s,n,e,s),i[t(457)](0,a,1,a)}const a=new s;a.setAttribute(t(451),new(o[t(466)])(r,3)),a[t(469)](t(482),new(o[t(466)])(i,2));const c=new(o[t(476)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const o=t;n.uniforms[o(486)]=e[o(480)][o(486)],n[o(455)].noiseTex=e.globalUniforms[o(465)],n[o(455)].globalBloom=e[o(480)].globalBloom,n[o(492)]=(o(496)+n[o(492)]+"\n    ")[o(452)]("#include <begin_vertex>","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[o(448)]=("\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      "+S+"\n      "+n.fragmentShader+o(450))[o(452)]("vec4 diffuseColor = vec4( diffuse, opacity );",o(443))}});return(n,e)=>{const o=t;return v(),g(o(472),{material:m(c),geometry:m(a)},null,8,X)}}});function Q(n){function t(n){const e=V;if(typeof n===e(445))return function(n){}[e(493)](e(446))[e(460)](e(478));1!==(""+n/n)[e(462)]||n%20==0?function(){return!0}.constructor(e(447)+"gger")[e(471)](e(467)):function(){return!1}.constructor(e(447)+e(490)).apply(e(449)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=on,o=en();for(;;)try{if(818072===-parseInt(e(281))/1*(parseInt(e(317))/2)+-parseInt(e(279))/3+-parseInt(e(269))/4*(-parseInt(e(302))/5)+-parseInt(e(274))/6*(-parseInt(e(333))/7)+parseInt(e(305))/8*(parseInt(e(301))/9)+parseInt(e(334))/10+parseInt(e(320))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const nn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){nn(this,(function(){const n=on,t=new RegExp(n(324)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=sn(n(329));t[n(306)](o+n(307))&&e[n(306)](o+"input")?sn():o("0")}))()}();const tn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function en(){const n=["Vector2","trace","baseTexture","set","6JwPqzJ","prototype","time","addPass","fog","4813884FgcFsR","Color","761MqIeOG","debu","Fog",'{}.constructor("return this")( )',"MeshBasicMaterial","background","uniforms","return (function() ","width","target","log","call","apply","needsSwap","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","setRenderTarget","toString","color","length","texture","1584rkrkwg","5GmhjRr","ShaderMaterial","fragmentShader","1168aNTlkU","test","chain","WebGLRenderTarget","Camera","near","bind","console","\n      ","constructor","info","string","2492Jvrfug","action","vec4 diffuseColor = vec4( diffuse, opacity );","12775257DjkcUN","PlaneGeometry","renderTarget2","Mesh","function *\\( *\\)","globalBloom","render","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","error","init","value","noise","gger","1138837uCEPko","14232300vzYzpC","add","__proto__","2391608JMKllb"];return(en=function(){return n})()}function on(n,t){const e=en();return(on=function(n,t){return e[n-=268]})(n,t)}tn(void 0,(function(){const n=on;let t;try{t=Function(n(288)+n(284)+");")()}catch(r){t=window}const e=t[n(312)]=t.console||{},o=[n(291),"warn",n(315),n(328),"exception","table",n(271)];for(let i=0;i<o[n(299)];i++){const t=tn.constructor[n(275)][n(311)](tn),r=o[i],s=e[r]||t;t[n(268)]=tn[n(311)](tn),t[n(297)]=s[n(297)][n(311)](s),e[r]=t}}))();const rn=p({__name:"fboRender",setup(e){const r=on,i={time:{value:0},globalBloom:{value:0},noise:{value:null}},s=new(o[r(308)])(512,512),p=new a,d=new(o[r(309)]),m=new(o[r(321)])(2,2),x=new(o[r(285)])({onBeforeCompile:n=>{const t=r;n[t(287)][t(276)]=i[t(276)],n[t(304)]=("\n      uniform float time;\n      "+S+t(313)+n.fragmentShader+"\n    ").replace(t(319),"\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ")}});x.defines={USE_UV:""};const w=new(o[r(323)])(m,x);p[r(335)](w),i[r(331)][r(330)]=s[r(300)];const{camera:_,renderer:I,scene:T,sizes:U,controls:j}=t();b((()=>j[r(330)]),(n=>{const t=r;null==n||n[t(290)][t(273)](0,2,0),!T.value.background&&(T[t(330)][t(286)]=new(o[t(280)])(6706534))}));const z=new c(I.value),D=new c(I.value),N=new l(T.value,_[r(330)]),B=new u(new(o[r(270)])(U[r(289)][r(330)],U.height[r(330)]),1.2,.5,0);z.renderToScreen=!1,z[r(277)](N),z[r(277)](B);const C=new f(new(o[r(303)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:z[r(322)][r(300)]}},vertexShader:r(295),fragmentShader:r(327),defines:{}}),r(272));C[r(294)]=!0,D[r(277)](N),D[r(277)](C),T[r(330)][r(278)]=new(o[r(283)])(6706534,1,25);const{onLoop:M}=n();return M((({elapsed:n})=>{var t,e;const o=r;i.time[o(330)]=n,I[o(330)]&&(I.value[o(296)](s),I[o(330)][o(326)](p,d),I.value[o(296)](null),i[o(325)].value=1.2,T[o(330)][o(278)][o(298)].set(0),T[o(330)].fog[o(310)]=15,null==(t=T[o(330)][o(286)])||t[o(273)](0),z.render(),i[o(325)][o(330)]=0,T[o(330)][o(278)][o(298)][o(273)](6706534),T[o(330)].fog[o(310)]=10,null==(e=T[o(330)].background)||e.set(6706534),D[o(326)]())})),(n,t)=>(v(),g(h,null,[y(F,{globalUniforms:i}),y(J,{globalUniforms:i}),y(Y,{globalUniforms:i})],64))}});function sn(n){function t(n){const e=on;if(typeof n===e(316))return function(n){}[e(314)]("while (true) {}")[e(293)]("counter");1!==(""+n/n)[e(299)]||n%20==0?function(){return!0}.constructor(e(282)+e(332))[e(292)](e(318)):function(){return!1}[e(314)](e(282)+e(332))[e(293)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const an={class:"text"};const cn=U({},[["render",function(n,t){return v(),g("div",an,t[0]||(t[0]=[d("span",{class:"retro noselect"},[d("span",{style:{color:"#eae"}},"光"),x("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),ln=vn;!function(n,t){const e=vn,o=pn();for(;;)try{if(834491===parseInt(e(422))/1+parseInt(e(399))/2+-parseInt(e(402))/3+parseInt(e(425))/4+parseInt(e(426))/5*(parseInt(e(417))/6)+parseInt(e(412))/7*(parseInt(e(400))/8)+-parseInt(e(424))/9*(parseInt(e(418))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const un=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(394)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){un(this,(function(){const n=vn,t=new RegExp(n(390)),e=new RegExp(n(407),"i"),o=dn(n(393));t[n(395)](o+n(391))&&e.test(o+n(401))?dn():o("0")}))()}();const fn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function pn(){const n=["log","string","159907ihrjxa","console","32168727MqcCUr","1525204AzewdW","15eqExgC","bind","warn","table","while (true) {}","trace","function *\\( *\\)","chain","info","init","apply","test","manual","return (function() ","length","2961516bkjebC","16JRATKd","input","905394ciNgfZ","TresPerspectiveCamera","prototype","__proto__","DEG2RAD","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","TresDirectionalLight","toString","debu","4593946eXJbgm","gger","call","counter","lightNoise","2752140KzdhOl","10OQqqyr","action"];return(pn=function(){return n})()}function vn(n,t){const e=pn();return(vn=function(n,t){return e[n-=387]})(n,t)}fn(void 0,(function(){const n=vn,t=function(){const n=vn;let t;try{t=Function(n(397)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(423)]=t[n(423)]||{},o=[n(420),n(428),n(392),"error","exception",n(387),n(389)];for(let r=0;r<o.length;r++){const t=fn[n(408)][n(404)][n(427)](fn),i=o[r],s=e[i]||t;t[n(405)]=fn[n(427)](fn),t[n(410)]=s[n(410)][n(427)](s),e[i]=t}}))();const gn=p({__name:ln(416),setup(n){const t=ln,o={windowSize:!0,antialias:!0,renderMode:t(396)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*r[t(406)],maxPolarAngle:90*r[t(406)],makeDefault:!0};return(n,r)=>{const s=t,a=w("TresCanvas");return v(),g(h,null,[y(cn),y(a,I(T(o)),{default:_((()=>[r[0]||(r[0]=d(s(403),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),y(m(e),I(T(i)),null,16),r[1]||(r[1]=d("TresAmbientLight",{intensity:.5},null,-1)),r[2]||(r[2]=d(s(409),{position:[0,3,-12],intensity:1},null,-1)),y(rn)])),_:1},16)],64)}}});function dn(n){function t(n){const e=vn;if(typeof n===e(421))return function(n){}[e(408)](e(388)).apply(e(415));1!==(""+n/n)[e(398)]||n%20==0?function(){return!0}[e(408)](e(411)+e(413))[e(414)](e(419)):function(){return!1}[e(408)](e(411)+e(413)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{gn as default};
