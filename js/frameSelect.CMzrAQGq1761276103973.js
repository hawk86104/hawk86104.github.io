import{N as e,F as t,K as s}from"./@tresjs.B_KjVy0E1761276103973.js";import{di as a,dj as n,o}from"./three.Bhn4-0ry1761276103973.js";import{d as l,q as i,a3 as c,G as r,H as u,u as m,o as d,r as f,g as v,b as p,e as h,I as g,h as j,a9 as w,aa as b,ap as _,m as P}from"./@vue.CKlgtJke1761276103973.js";import"./postprocessing.CeTFUAN_1761276103973.js";import"./@vueuse.wtfleElW1761276103973.js";const L=["object"],T=l({__name:"frameSelect",setup(s){const{state:l}=e("https://opensource.cdn.icegl.cn/model/operationTool/湖中小亭/湖中小亭.gltf"),{camera:f,renderer:v,scene:p,sizes:h,controls:g}=t(),j=new a(f.value,p.value),w=new n(v,"selectBox");let b=function(e){console.log(g.value);for(const t of j.collection)t instanceof o&&t.material.emissive.set(0);j.collection.length=0,j.startPoint.set(e.clientX/h.width.value*2-1,-e.clientY/h.height.value*2+1,.5)},_=function(e){if(w.isDown){j.endPoint.set(e.clientX/h.width.value*2-1,-e.clientY/h.height.value*2+1,.5);const t=j.select();console.log("allSelected",t);for(let e=0;e<t.length;e++){const s=t[e];s instanceof o&&s.material.emissive.set(16252928)}}},P=function(e){const t=j.select();j.endPoint.set(e.clientX/h.width.value*2-1,-e.clientY/h.height.value*2+1,.5);for(let s=0;s<t.length;s++){const e=t[s];e instanceof o&&e.material.emissive.set(0)}};return i(()=>{document.addEventListener("mousedown",b,!1),document.addEventListener("mousemove",_,!1),document.addEventListener("mouseup",P,!1)}),c(()=>{}),(e,t)=>m(l)?(d(),r("primitive",{key:0,object:m(l)?.scene},null,8,L)):u("",!0)}}),C=l({__name:"frameSelect",setup(e){const t=f({alpha:!0,antialias:!0}),a=f({enableDamping:!1,enableZoom:!1,autoRotate:!1,enablePan:!1,enableRotate:!1,makeDefault:!0});return(e,n)=>{const o=v("TresCanvas");return d(),p(o,P({clearColor:"#201919","window-size":""},t),{default:h(()=>[n[0]||(n[0]=g("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,10,-28]},null,-1)),n[1]||(n[1]=g("TresAmbientLight",{intensity:1},null,-1)),j(m(s),w(b(a)),null,16),(d(),p(_,null,{default:h(()=>[j(T)]),_:1}))]),_:1},16)}}});export{C as default};
