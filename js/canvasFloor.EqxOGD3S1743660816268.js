import{P as t}from"./tweakpane.ivGeiIdz1743660816268.js";import{e,o as s}from"./@tresjs.zc7faK4J1743660816268.js";import{d as n,j as i,_ as o,r,w as a,o as c,H as l,N as h,aj as u,ak as p,e as f,f as d,g,u as y}from"./@vue.B5PFBfKs1743660816268.js";import{bV as x,ae as m,ab as w,a$ as b,C as T}from"./three.2wx8FU0g1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";const v=D;!function(t,e){const s=D,n=_();for(;;)try{if(643832===parseInt(s(449))/1*(-parseInt(s(409))/2)+-parseInt(s(441))/3*(-parseInt(s(392))/4)+-parseInt(s(388))/5+-parseInt(s(422))/6+parseInt(s(395))/7+parseInt(s(426))/8*(parseInt(s(446))/9)+-parseInt(s(391))/10*(parseInt(s(450))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const M=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[D(417)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){M(this,(function(){const t=D,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(432),"i"),n=Z(t(427));e[t(430)](n+t(389))&&s[t(430)](n+t(434))?Z():n("0")}))()}();const j=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[D(417)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function I(t,e){return Math[D(393)]()*(e-t)+t}function _(){const t=["life","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","changeTarget","input","constructor","updateDist","while (true) {}","globalCompositeOperation","angle","sin","6933lvZFZV","hsla(0, 0%, 10%, 0.1)","updateAngle","hsla(","console","9igRQcy","hue",", 0%, 80%, ","171429NXiPQw","344465eMVSXw","speed","path","step","atan2","2696770DBtAjc","chain","push","110BvITgx","1928nUxBke","random","beginPath","4003944gsfmyC","rspeed","prototype","action","gger","sqrt","__proto__","cos","trace",'{}.constructor("return this")( )',"shift","target","save","splice","6YvcgzN","bind","strokeStyle","toString","stateObject","call","draw","fillStyle","apply","counter","log","lineWidth","floor","2871558htcSTq","length","translate","string","6677096eCRJOn","init","info","dist","test"];return(_=function(){return t})()}function k(t,e){const s=D;return Math[s(421)](t+Math[s(393)]()*(e-t+1))}j(void 0,(function(){const t=D;let e;try{e=Function("return (function() "+t(404)+");")()}catch(i){e=window}const s=e[t(445)]=e[t(445)]||{},n=[t(419),"warn",t(428),"error","exception","table",t(403)];for(let o=0;o<n[t(423)];o++){const e=j[t(435)][t(397)].bind(j),i=n[o],r=s[i]||e;e[t(401)]=j[t(410)](j),e[t(412)]=r[t(412)][t(410)](r),s[i]=e}}))();let C=0,R=0,S=null;let B=0;const P=[];let z=10;class A{constructor(){const t=D;this[t(452)]=[],this[t(396)]=I(1,2),this.count=k(10,30),this.x=C/2+1,this.y=R/2+1,this[t(406)]={x:C/2,y:R/2},this[t(429)]=0,this[t(439)]=0,this[t(447)]=B/5,this.life=1,this[t(443)](),this[t(436)]()}[v(386)](t){const e=v;this[e(451)]=this[e(396)]*z,this.x+=Math[e(402)](this.angle)*this[e(451)],this.y+=Math[e(440)](this.angle)*this[e(451)],this.updateDist(),this[e(429)]<this[e(451)]&&(this.x=this[e(406)].x,this.y=this[e(406)].y,this[e(433)]()),this[e(452)][e(390)]({x:this.x,y:this.y}),this[e(452)].length>this.count&&this[e(452)][e(405)](),this.life-=.001,this[e(431)]<=0&&(this.path=null,P[e(408)](t,1))}[v(436)](){const t=v,e=this.target.x-this.x,s=this[t(406)].y-this.y;this.dist=Math[t(400)](e*e+s*s)}[v(443)](){const t=v,e=this[t(406)].x-this.x,s=this[t(406)].y-this.y;this.angle=Math[t(387)](s,e)}[v(433)](){const t=v;switch(k(0,3)){case 0:this.target.y=this.y-30;break;case 1:this[t(406)].x=this.x+30;break;case 2:this[t(406)].y=this.y+30;break;case 3:this[t(406)].x=this.x-30}this[t(443)]()}[v(415)](){const t=v;S[t(394)]();const e=I(0,10);for(let n=0,i=this.path[t(423)];n<i;n++)S[0===n?"moveTo":"lineTo"](this[t(452)][n].x+I(-e,e),this[t(452)][n].y+I(-e,e));let s=this[t(447)];s=30,S[t(411)]=t(444)+I(0,30)+t(448)+this.life/3+")",S[t(420)]=I(.1,2),S.stroke()}}function D(t,e){const s=_();return D=function(t,e){return s[t-=386]},D(t,e)}const N=()=>{B%10==0&&P[v(390)](new A),function(){let t=P[v(423)];for(;t--;)P[t].step(t)}(),function(){const t=v;S[t(438)]="destination-out",S[t(416)]=t(442),S.fillRect(0,0,C,R),S[t(438)]="lighter"}(),function(){const t=v;S[t(407)](),S[t(424)](C/2,R/2),S[t(424)](-C/2,-R/2);let e=P[t(423)];for(;e--;)P[e][t(415)](e);S.restore()}(),B++};function Z(t){function e(t){const s=D;if(typeof t===s(425))return function(t){}[s(435)](s(437))[s(417)](s(418));1!==(""+t/t)[s(423)]||t%20==0?function(){return!0}[s(435)]("debugger")[s(414)](s(398)):function(){return!1}[s(435)]("debu"+s(399))[s(417)](s(413)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const E=["rotation-x"],F=["args"],G=n({__name:"lightningPattern",props:{size:{default:[10,10]},color:{default:"#fff"},opacity:{default:.95},textureRepeat:{default:[1,1]},speed:{default:10}},setup(t){const s=t,n=i("canvas",{width:1024,height:768,style:{backgroundColor:"green"}});o(n,document.createElement("div")),((t,e,s,n)=>{const i=v;C=t,R=e,S=s,B=0,z=n;for(let o=0;o<10;o++)P[i(390)](new A)})(1024,768,n.el.getContext("2d"),s.speed);const f=new x(n.el);f.wrapS=m,f.wrapT=m,f.repeat.set(s.textureRepeat[0],s.textureRepeat[1]);const d=r({color:s.color,map:f,side:w,transparent:!0,opacity:s.opacity,blending:b,flatShading:!0,depthTest:!0});a((()=>s.color),(t=>{d.color=new T(t)})),a((()=>s.opacity),(t=>{d.opacity=t})),a((()=>s.speed),(t=>{var e;e=s.speed,z=e}));const{onLoop:g}=e();return g((()=>{N(),f.needsUpdate=!0})),(t,e)=>(c(),l("TresMesh",{"rotation-x":-Math.PI/2},[h("TresPlaneGeometry",{args:s.size},null,8,F),h("TresMeshStandardMaterial",u(p(d)),null,16)],8,E))}}),H=n({__name:"canvasFloor",setup(e){const n=r({color:"#1a79fe",opacity:.95,speed:10}),o=new t({title:"canvas地面",expanded:!0});return o.addBinding(n,"color",{label:"颜色"}),o.addBinding(n,"opacity",{label:"透明度",min:0,max:1,step:.01}),o.addBinding(n,"speed",{label:"速度",min:0,max:20,step:1}),(t,e)=>{const o=f("TresCanvas");return c(),d(o,{clearColor:"#000000","window-size":""},{default:g((()=>[e[0]||(e[0]=h("TresPerspectiveCamera",{position:[15,20,0],fov:45,near:.1,far:1e4},null,-1)),i(y(s),{enableDamping:"","auto-rotate":""}),e[1]||(e[1]=h("TresAmbientLight",{intensity:6},null,-1)),e[2]||(e[2]=h("TresDirectionalLight",{position:[0,8,0],intensity:1,color:"#fff"},null,-1)),e[3]||(e[3]=h("TresMesh",{position:[0,1,0]},[h("TresBoxGeometry",{args:[1,1,1]}),h("TresMeshNormalMaterial")],-1)),i(G,u(p(n)),null,16),e[4]||(e[4]=h("TresAxesHelper",{args:[10],position:[0,0,0]},null,-1)),e[5]||(e[5]=h("TresGridHelper",{args:[10,10],position:[0,0,0]},null,-1))])),_:1})}}});export{H as default};
