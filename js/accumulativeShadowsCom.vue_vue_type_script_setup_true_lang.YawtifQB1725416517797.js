import{V as t,c as n,aT as e,h as a,a6 as o}from"./three.VTQVqxMx1725416517797.js";import{p as r}from"./@tresjs.5lh7VmqZ1725416517797.js";import{d as s,P as i}from"./@pmndrs.3SP8A_bt1725416517797.js";import{d as c,b as u,w as l,a2 as p,o as f,E as d,L as h,aj as m,ak as g}from"./@vue._6MD2XyK1725416517797.js";const w=S;!function(t,n){const e=S,a=P();for(;;)try{if(547776===parseInt(e(422))/1+parseInt(e(353))/2*(parseInt(e(370))/3)+-parseInt(e(378))/4+-parseInt(e(349))/5*(-parseInt(e(388))/6)+parseInt(e(375))/7+parseInt(e(417))/8+parseInt(e(383))/9*(-parseInt(e(367))/10))break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const y=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[S(405)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();!function(){y(this,(function(){const t=S,n=new RegExp(t(369)),e=new RegExp(t(336),"i"),a=I(t(416));n[t(373)](a+t(420))&&e[t(373)](a+t(364))?I():a("0")}))()}();const M=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,a}}();M(void 0,(function(){const t=S;let n;try{n=Function(t(347)+t(359)+");")()}catch(o){n=window}const e=n[t(415)]=n[t(415)]||{},a=[t(397),"warn",t(408),t(393),t(340),t(385),t(362)];for(let r=0;r<a[t(350)];r++){const n=M[t(409)][t(371)][t(357)](M),o=a[r],s=e[o]||n;n.__proto__=M[t(357)](M),n.toString=s[t(421)][t(357)](s),e[o]=n}}))();const b=[w(374)],x=h(w(356),{args:[1,1]},null,-1),z=c({__name:w(344),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:w(414)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(c){const y=w,M=c;let z=u();const{extend:I,scene:S,renderer:P,camera:v}=r();I({SoftShadowMaterial:s});const _={position:(new t)[y(386)](M.lightPosition.x,M[y(418)].y,M.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},j=new i(P[y(376)],S[y(376)],_[y(361)]),T={map:j[y(358)][y(360)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:M[y(402)],alphaTest:M[y(395)],opacity:M.opacity,color:M[y(341)]},W=new n;for(let t=0;t<_[y(354)];t++){const t=new e(16777215,_[y(387)]/_.amount);t.castShadow=!0,t[y(407)][y(413)]=_[y(413)],t[y(407)].camera[y(339)]=_.near,t[y(407)][y(372)][y(412)]=_[y(412)],t.shadow.camera[y(401)]=_[y(400)]/2,t[y(407)][y(372)].left=-_[y(400)]/2,t[y(407)].camera.top=_[y(400)]/2,t[y(407)][y(372)][y(398)]=-_[y(400)]/2,t[y(407)][y(361)][y(404)]=_.mapSize,t[y(407)].mapSize[y(335)]=_[y(361)],W.add(t)}const k=()=>{const t=y,n=_.position[t(350)]();for(let e=0;e<W[t(346)][t(350)];e++){const r=W[t(346)][e];if(Math[t(381)]()>M[t(365)])r[t(343)][t(386)](_[t(343)].x+a[t(355)](_[t(384)]),_[t(343)].y+a.randFloatSpread(_.radius),_[t(343)].z+o[t(410)].randFloatSpread(_[t(384)]));else{let e=Math[t(392)](2*Math.random()-1)-Math.PI/2,a=2*Math.PI*Math[t(381)]();r[t(343)][t(386)](Math[t(377)](e)*Math[t(377)](a)*n,Math[t(390)](Math[t(377)](e)*Math.sin(a)*n),Math[t(403)](e)*n)}}},E=(t=1)=>{const n=y;S.value[n(379)](W),j[n(366)]();for(let e=0;e<t;e++)k(),j[n(338)](v[n(376)],M[n(337)]),console[n(397)](n(380),e);S[n(376)][n(363)](W),j[n(406)]()};l((()=>z[y(376)]),(t=>{const n=y;t&&(j[n(394)](t),j[n(391)](),console[n(397)](n(382)),E(M.frames),console.log(n(352)))}));const F=()=>{const t=y;j[t(391)](),E(M[t(351)])};return p((()=>{const t=y;z.value&&(M.opacity&&(z[t(376)][t(396)][t(411)]=M[t(411)]),M[t(395)]&&(z[t(376)].material[t(395)]=M[t(395)]),M[t(341)]&&z[t(376)][t(396)][t(341)][t(386)](M[t(341)]),M[t(402)]&&(z[t(376)][t(396)][t(402)]=M.blend))})),l((()=>M[y(418)]),(t=>{const n=y;t&&(console.log(M[n(418)]),_.position[n(386)](t.x,t.y,t.z),F())}),{deep:!0}),l((()=>[M[y(351)],M.blendWindow,M[y(365)]]),(()=>{F()})),(t,n)=>{const e=y;return f(),d(e(348),{"receive-shadow":"",ref_key:e(399),ref:z,scale:10,"rotate-x":-Math.PI/2},[x,h("TresSoftShadowMaterial",m(g(T)),null,16)],8,b)}}});function I(t){function n(t){const e=S;if(typeof t===e(389))return function(t){}[e(409)]("while (true) {}")[e(405)]("counter");1!==(""+t/t)[e(350)]||t%20==0?function(){return!0}[e(409)](e(345)+e(368))[e(419)]("action"):function(){return!1}[e(409)](e(345)+"gger")[e(405)](e(342)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function S(t,n){const e=P();return(S=function(t,n){return e[t-=335]})(t,n)}function P(){const t=["test","rotate-x","1638077qIWzVY","value","cos","1177324cztOMr","add","shadows plm update","random","shadows render start","288UhJfoL","radius","table","set","intensity","78wxBBfQ","string","abs","clear","acos","error","configure","alphaTest","material","log","bottom","gPlane","size","right","blend","sin","width","apply","finish","shadow","info","constructor","MathUtils","opacity","far","bias","#000000","console","init","8674064TWjNvc","lightPosition","call","chain","toString","869347JgyQEP","height","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","blendWindow","update","near","exception","color","stateObject","position","accumulativeShadowsCom","debu","children","return (function() ","TresMesh","314870kTHPiA","length","frames","shadows render end","55902zWmRig","amount","randFloatSpread","TresPlaneGeometry","bind","progressiveLightMap2",'{}.constructor("return this")( )',"texture","mapSize","trace","remove","input","ambient","prepare","912140BoxxuK","gger","function *\\( *\\)","81sJmVxQ","prototype","camera"];return(P=function(){return t})()}export{z as _};
