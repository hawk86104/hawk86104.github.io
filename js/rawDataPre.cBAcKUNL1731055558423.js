import{U as t,c as n}from"./@tresjs.KsuCtVXf1731055558423.js";import{u as e,a as r,_ as a}from"./rawData.Y581EeLM1731055558423.js";import{z as o,x as s,a5 as i,a6 as u,a7 as c,N as l,a8 as p,a9 as f,t as d,$ as m,aa as g,v as y,_ as h}from"./@fesjs.yotB665w1731055558423.js";import{d as w,b as x,u as b,o as _,D as v,j as I,g as j,J as T,x as k,F as V,V as E,f as R,H as A,I as B,a as D,w as S,aj as L,ak as z,r as U,m as C}from"./@vue.u2cBPEWn1731055558423.js";import{_ as F,cV as G,n as M}from"./three.3b9CEYeV1731055558423.js";import{r as O,a as Z}from"./rawData.rFVqmQ6Q1731055558423.js";import{P}from"./tweakpane.yHWGBmom1731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";import"./pinia.c8BQk2fm1731055558423.js";import"./vue-demi.C4xddsk91731055558423.js";import"./vue-router.IFFB8cPj1731055558423.js";import"./lodash-es.guXTxyfJ1731055558423.js";import"./@qlin.yHhFDldE1731055558423.js";import"./@floating-ui.BPbuo5Gx1731055558423.js";import"./@juggle.7yjBMqoW1731055558423.js";const N=K;!function(t,n){const e=K,r=H();for(;;)try{if(958314===-parseInt(e(329))/1*(parseInt(e(304))/2)+parseInt(e(355))/3*(-parseInt(e(292))/4)+parseInt(e(288))/5*(-parseInt(e(311))/6)+-parseInt(e(285))/7*(-parseInt(e(327))/8)+parseInt(e(333))/9+parseInt(e(299))/10+-parseInt(e(319))/11)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){$(this,(function(){const t=K,n=new RegExp(t(303)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Y("init");n[t(298)](r+t(316))&&e[t(298)](r+t(293))?Y():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(345)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function H(){const t=["toString","setArrayBuffer","title","请正确输入数值","438424JFLIUa"," x轴长度： ","17UoosMc","dataType","value"," 预览体数据","15071346cygwZW"," 演示参考龙虾🦞RawData数据,下载 : ","call","warn","300px","readAsArrayBuffer","raw","type","11px","warning","image/x-panasonic-raw","return (function() ","apply","10px auto -3px","onload","log","while (true) {}","请正确选择rawData文件","fileList"," 点击或者拖拽rawData文件到此区域 ","读取Raw原始数据","modelValue","12BGPERN","counter","zExtent","189wTdTHN","block","uploadRef","55sSYjAq","prototype","2.8em","debu","217924DEaKBf","input","constructor","string","yExtent","[change] param:","test","15609160POMtQP","gger","console","xExtent","function *\\( *\\)","134698lpOLtP","importRawUI","__proto__","info","result","length","2.4em","292566mylZUd","div","target","error","table","chain","trace","selectDataType","20434139LkgPeD","removeFile","bind"," y轴长度： "];return(H=function(){return t})()}function K(t,n){const e=H();return(K=function(t,n){return e[t-=283]})(t,n)}q(void 0,(function(){const t=K;let n;try{n=Function(t(344)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n[t(301)]=n[t(301)]||{},r=[t(348),t(336),t(307),t(314),"exception",t(315),t(317)];for(let o=0;o<r[t(309)];o++){const n=q.constructor[t(289)].bind(q),a=r[o],s=e[a]||n;n[t(306)]=q[t(321)](q),n[t(323)]=s[t(323)][t(321)](s),e[a]=n}}))();const J={key:0,class:"card-wrapper"};function Y(t){function n(t){const e=K;if(typeof t===e(295))return function(t){}.constructor(e(349))[e(345)](e(283));1!==(""+t/t)[e(309)]||t%20==0?function(){return!0}[e(294)](e(291)+e(300))[e(335)]("action"):function(){return!1}[e(294)](e(291)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=h(w({__name:N(305),setup(t){const n=N,r=e();r.xExtent=301,r[n(296)]=324,r[n(284)]=56;const a=x(null),h=x([]),w=t=>{const e=n;console.log(e(297),t)},D=()=>{var t;const e=n;h.value[e(309)]>1&&(null==(t=a.value)||t[e(320)](h.value[0]))},S=()=>{const t=n;if(1!=h[t(331)][t(309)])return y[t(342)](t(350)),!1;if(r[t(302)]<=0||r[t(296)]<=0||r[t(284)]<=0)return y[t(342)](t(326)),!1;if(h[t(331)][0].raw[t(340)]!==t(343))return y.warning("文件类型必须为:'image/x-panasonic-raw'"),!1;const e=new FileReader;return e[t(347)]=function(n){const e=t,a=n[e(313)][e(308)];r[e(324)](a)},e[t(338)](h[t(331)][0][t(339)]),!0};return(t,e)=>{const y=n;return b(r).byteArray?B("",!0):(_(),v(y(312),J,[I(b(g),{header:y(353)},{default:j((()=>[e[10]||(e[10]=T("div",{style:{"margin-bottom":y(341)}},[k(y(334)),T("a",{href:"./plugins/tvtVolumeRendering/rawData/lobster_301x324x56_uint8.raw"},"lobster_301x324x56_uint8.raw")],-1)),I(b(o),{style:{"min-height":y(290)}},{default:j((()=>[I(b(s),{span:6,style:{"line-height":y(310)}},{default:j((()=>e[5]||(e[5]=[k(y(328))]))),_:1}),I(b(s),{span:18},{default:j((()=>[I(b(i),{precision:0,modelValue:b(r)[y(302)],"onUpdate:modelValue":e[0]||(e[0]=t=>b(r)[y(302)]=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),I(b(o),{style:{"min-height":y(290)}},{default:j((()=>[I(b(s),{span:6,style:{"line-height":"2.4em"}},{default:j((()=>e[6]||(e[6]=[k(y(322))]))),_:1}),I(b(s),{span:18},{default:j((()=>[I(b(i),{precision:0,modelValue:b(r)[y(296)],"onUpdate:modelValue":e[1]||(e[1]=t=>b(r)[y(296)]=t),autofocus:""},null,8,[y(354)])])),_:1})])),_:1}),I(b(o),{style:{"min-height":y(290)}},{default:j((()=>[I(b(s),{span:6,style:{"line-height":y(310)}},{default:j((()=>e[7]||(e[7]=[k(" z轴长度： ")]))),_:1}),I(b(s),{span:18},{default:j((()=>[I(b(i),{precision:0,modelValue:b(r)[y(284)],"onUpdate:modelValue":e[2]||(e[2]=t=>b(r)[y(284)]=t),autofocus:""},null,8,[y(354)])])),_:1})])),_:1}),I(b(u),{modelValue:b(r)[y(318)],"onUpdate:modelValue":e[3]||(e[3]=t=>b(r)[y(318)]=t),style:{"margin-bottom":"10px"}},{default:j((()=>[(_(!0),v(V,null,E(b(r)[y(330)],((t,n)=>{const e=y;return _(),R(b(c),{key:n,value:n},{default:j((()=>[I(b(l),{style:{"max-width":e(337)}},{default:j((()=>[k(A(t[e(325)]),1)])),_:2},1024)])),_:2},1032,[e(331)])})),128))])),_:1},8,["modelValue"]),I(b(p),{ref_key:y(287),ref:a,fileList:h[y(331)],"onUpdate:fileList":e[4]||(e[4]=t=>h[y(331)]=t),onChange:w,httpRequest:D},{default:j((()=>[I(b(f),null,{default:j((()=>e[8]||(e[8]=[k(y(352))]))),_:1})])),_:1},8,[y(351)]),I(b(d),{style:{display:y(286),margin:y(346)},onClick:S},{icon:j((()=>[I(b(m))])),default:j((()=>[e[9]||(e[9]=k(y(332)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-306b37f6"]]),Q=nt;!function(t,n){const e=nt,r=at();for(;;)try{if(793294===-parseInt(e(415))/1+-parseInt(e(425))/2*(parseInt(e(411))/3)+parseInt(e(420))/4*(-parseInt(e(432))/5)+-parseInt(e(406))/6+parseInt(e(436))/7+parseInt(e(396))/8+-parseInt(e(394))/9*(-parseInt(e(431))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(388)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){X(this,(function(){const t=nt,n=new RegExp(t(399)),e=new RegExp(t(404),"i"),r=st(t(368));n[t(401)](r+"chain")&&e.test(r+t(418))?st():r("0")}))()}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function nt(t,n){const e=at();return(nt=function(t,n){return e[t-=356]})(t,n)}tt(void 0,(function(){const t=nt;let n;try{n=Function(t(362)+t(379)+");")()}catch(a){n=window}const e=n[t(395)]=n.console||{},r=["log",t(433),"info","error",t(392),t(357),t(413)];for(let o=0;o<r[t(414)];o++){const n=tt[t(429)].prototype[t(410)](tt),a=r[o],s=e[a]||n;n[t(400)]=tt[t(410)](tt),n.toString=s[t(384)][t(410)](s),e[a]=n}}))();const et=["scale",Q(365)],rt=[Q(356)];function at(){const t=["debu","28IGZXej","addBlade","primitive","LineBasicMaterial","constructor","scene","10cDvoHf","110Letoyi","warn","magFilter","stateObject","4093418KrGogY","object","table","invertColor","call","yExtent","体绘制的阈值","return (function() ","zExtent","alphaScale","visible","LinearFilter","LineSegments","init","ClampToEdgeWrapping","addBinding","list","maximumIntensity","gger","BackSide","Data3DTexture","wrapR","TresBoxGeometry","type",'{}.constructor("return this")( )',"byteArray","value","threshold","updateTransferFunction","toString","action","BoxGeometry","uniforms","apply","samplingRate","needsUpdate","z轴缩放","exception","emissionAbsorption","33860907HVijfG","console","4479832oGrMGq","y轴缩放","TresGroup","function *\\( *\\)","__proto__","test","显示边框","change","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","透明度","5590266kOzKyC","format","composeType","EdgesGeometry","bind","329907cGOkgk","colorsStops","trace","length","628437ieMLLo","TresMesh","是否反色","input","dispose","184376YnhJLN","colorTexture","xExtent","wrapT"];return(at=function(){return t})()}const ot=w({__name:Q(430),setup(t){const n=Q,a=e(),o=r(),s=new(F[n(367)])(new(F[n(409)])(new(F[n(386)])(1,1,1)),new(F[n(428)])({color:10066329})),i=x(1),u=x(a[n(360)]/a[n(422)]),c=x(a[n(363)]/a[n(422)]),l=D((()=>{const t=n;return!(i[t(381)]<=.01&&i[t(381)]>=-.01)&&(!(u.value<=.01&&u[t(381)]>=-.01)&&!(c[t(381)]<=.01&&c[t(381)]>=-.01))})),p=new(F[n(375)])(a[n(380)],a[n(422)],a.yExtent,a[n(363)]);p[n(407)]=G,p[n(378)]=a.getThreeType(),p.minFilter=F[n(366)],p[n(434)]=M,p.wrapS=F[n(369)],p[n(423)]=F[n(369)],p[n(376)]=F[n(369)],p[n(390)]=!0;const f={uniforms:{dataTexture:{value:p},colorTexture:{value:o[n(383)]()},samplingRate:{value:1},threshold:{value:.5},alphaScale:{value:1},invertColor:{value:!0},composeType:{value:3}},vertexShader:O,fragmentShader:Z,side:F[n(374)],transparent:!0},d=x(!0),m=new P;return m[n(370)](i,"value",{label:"x轴缩放",min:-2,max:2,step:.01}),m[n(370)](u,"value",{label:n(397),min:-2,max:2,step:.01}),m[n(370)](c,"value",{label:n(391),min:-2,max:2,step:.01}),m[n(426)]({view:n(371),label:"模式",options:[{text:n(372),value:1},{text:"thresholding",value:2},{text:n(393),value:3}],value:f[n(387)].composeType.value}).on(n(403),(t=>{const e=n;f[e(387)][e(408)][e(381)]=t[e(381)]})),m[n(370)](f[n(387)][n(389)],n(381),{label:"体积采样率",min:0,max:4,step:.01}),m.addBinding(f[n(387)][n(382)],n(381),{label:n(361),min:0,max:1,step:.01}),m.addBinding(f[n(387)][n(364)],n(381),{label:n(405),min:0,max:1,step:.01}),m.addBinding(f[n(387)][n(358)],"value",{label:n(417)}),m[n(370)](d,n(381),{label:n(402)}),m.addButton({title:"清空体数据",label:"点击"}).on("click",(()=>{const t=n;a[t(380)]=null,m[t(419)]()})),S((()=>o[n(412)]),(()=>{const t=n;f.uniforms[t(421)][t(381)]=o[t(383)]()}),{deep:!0,immediate:!0}),(t,e)=>{const r=n;return _(),v(r(398),null,[T(r(416),{scale:[i.value,u[r(381)],c[r(381)]],visible:l[r(381)]},[e[0]||(e[0]=T(r(377),{args:[1,1,1]},null,-1)),T("TresShaderMaterial",L(z(f)),null,16),d[r(381)]?(_(),v(r(427),{key:0,object:b(s)},null,8,rt)):B("",!0)],8,et)])}}});function st(t){function n(t){const e=nt;if("string"==typeof t)return function(t){}[e(429)]("while (true) {}")[e(388)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(429)]("debu"+e(373))[e(359)](e(385)):function(){return!1}[e(429)](e(424)+e(373))[e(388)](e(435)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const it=ut;function ut(t,n){const e=pt();return(ut=function(t,n){return e[t-=137]})(t,n)}!function(t,n){const e=ut,r=pt();for(;;)try{if(112197===-parseInt(e(159))/1*(-parseInt(e(147))/2)+parseInt(e(170))/3*(parseInt(e(164))/4)+-parseInt(e(173))/5+-parseInt(e(151))/6+-parseInt(e(175))/7*(parseInt(e(141))/8)+-parseInt(e(176))/9+parseInt(e(149))/10)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const ct=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ut(165)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ct(this,(function(){const t=ut,n=new RegExp(t(154)),e=new RegExp(t(158),"i"),r=dt("init");n[t(148)](r+t(161))&&e[t(148)](r+t(174))?dt():r("0")}))()}();const lt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ut(165)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function pt(){const t=["#201919","4yyVoWQ","test","3868500owfugH","length","997542gncYem","debu","rawDataPre","function *\\( *\\)","prototype","string","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","35168BAjVUR","rgba(255, 0, 0, 1)","chain","__proto__","counter","3836MyxDVK","apply","info","trace","exception","log","483lUmBMu","rgba(242, 242, 0, 0)","constructor","103690cSbfNi","input","205611mAvmFN","1489752VKpNOr","console","action","bind","warn","table","TresPerspectiveCamera","while (true) {}","stateObject","return (function() ","40MCJOCq","rgba(102, 0, 250, 1)","toString","byteArray","rgba(242, 242, 0, 0.2)"];return(pt=function(){return t})()}lt(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(140)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(177)]||{},r=[t(169),t(180),t(166),"error",t(168),t(181),t(167)];for(let a=0;a<r[t(150)];a++){const n=lt[t(172)][t(155)][t(179)](lt),o=r[a],s=e[o]||n;n[t(162)]=lt[t(179)](lt),n.toString=s[t(143)].bind(s),e[o]=n}}))();const ft=w({__name:it(153),setup(r){const o=it,s=U({clearColor:o(146),antialias:!0}),i=e();return(e,r)=>{const u=o;return _(),v(V,null,[b(i).byteArray?(_(),R(a,{key:0,curColorList:[[u(142),.587],[u(160),.7],["rgba(242, 242, 0, 0.99)",.84],[u(145),.88],[u(171),1]]})):B("",!0),I(b(n),C(s,{"window-size":""}),{default:j((()=>[r[0]||(r[0]=T(u(137),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),I(b(t)),b(i)[u(144)]?(_(),R(ot,{key:0})):B("",!0)])),_:1},16),I(W)],64)}}});function dt(t){function n(t){const e=ut;if(typeof t===e(156))return function(t){}[e(172)](e(138)).apply(e(163));1!==(""+t/t)[e(150)]||t%20==0?function(){return!0}.constructor("debu"+e(157)).call(e(178)):function(){return!1}[e(172)](e(152)+e(157))[e(165)](e(139)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ft as default};
