import{_ as t,bO as n,a3 as o,U as r,a0 as e,C as a}from"./three.N4lg2KsY1742297875262.js";import{a as s}from"./@tresjs.oW7bfow21742297875262.js";import{d as c,b as u,a3 as i,w as f,o as l,H as p,N as h,aj as d,ak as g}from"./@vue.NRI7TcgI1742297875262.js";!function(t,n){const o=v,r=_();for(;;)try{if(282699===parseInt(o(419))/1+parseInt(o(445))/2+-parseInt(o(408))/3*(-parseInt(o(417))/4)+parseInt(o(447))/5*(-parseInt(o(440))/6)+parseInt(o(425))/7+-parseInt(o(404))/8+parseInt(o(421))/9*(parseInt(o(433))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(429)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(t,n){const o=_();return(v=function(t,n){return o[t-=399]})(t,n)}!function(){m(this,(function(){const t=v,n=new RegExp(t(437)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=y("init");n[t(409)](r+t(411))&&o[t(409)](r+t(413))?y():r("0")}))()}();const w=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function _(){const t=["gger","input","console","worldpos_vertex","prototype","1772SnrQKE","project_vertex","284470TjRPmM","counter","57321ETwnXU","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\n          ","defaultnormal_vertex","1043105ptEAgm","common","info","\n       varying vec2 vUv;\n\t\t\t \t","apply",'{}.constructor("return this")( )',"length","bind","1090bQavfI","log","__proto__","shadowmap_pars_fragment","function *\\( *\\)","constructor","table","966aEzbJK","\n\t ","debu","beginnormal_vertex","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","39470cjJFCQ","shadowmap_vertex","17440cuqKaq","exception","trace","toString","ShaderChunk","stateObject","action","3959944FLCwmD","string","error","shadowmap_pars_vertex","1299DSBVqU","test","\n      \t","chain"];return(_=function(){return t})()}w(void 0,(function(){const t=v;let n;try{n=Function("return (function() "+t(430)+");")()}catch(e){n=window}const o=n[t(414)]=n.console||{},r=[t(434),"warn",t(427),t(406),t(448),t(439),t(399)];for(let a=0;a<r[t(431)];a++){const n=w.constructor[t(416)].bind(w),e=r[a],s=o[e]||n;n[t(435)]=w[t(432)](w),n[t(400)]=s[t(400)][t(432)](s),o[e]=n}}))();const b=()=>{const o=v;return o(428)+t[o(401)][o(426)]+o(410)+t[o(401)].bsdfs+o(410)+t[o(401)][o(407)]+"\n       void main() {\n\t\t\t\t\t"+t[o(401)][o(443)]+o(423)+t[o(401)][o(424)]+"\n          "+t[o(401)].begin_vertex+o(423)+n[o(418)]+o(423)+n[o(415)]+"\n          "+t[o(401)][o(446)]+o(422)},x=()=>{const o=v;return o(444)+n[o(426)]+"\n\t "+t[o(401)].packing+"\n\t "+t[o(401)].bsdfs+o(441)+t[o(401)].lights_pars_begin+"\n\t "+t[o(401)][o(436)]+o(441)+n.shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function y(t){function n(t){const o=v;if(typeof t===o(405))return function(t){}.constructor("while (true) {}")[o(429)](o(420));1!==(""+t/t)[o(431)]||t%20==0?function(){return!0}[o(438)](o(442)+o(412)).call(o(403)):function(){return!1}[o(438)](o(442)+o(412))[o(429)](o(402)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const I=C;function C(t,n){const o=M();return(C=function(t,n){return o[t-=254]})(t,n)}!function(t,n){const o=C,r=M();for(;;)try{if(284357===parseInt(o(282))/1+-parseInt(o(285))/2+-parseInt(o(278))/3+parseInt(o(284))/4+parseInt(o(279))/5*(-parseInt(o(275))/6)+-parseInt(o(268))/7+parseInt(o(277))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(276)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=C,n=new RegExp(t(287)),o=new RegExp(t(274),"i"),r=k(t(286));n[t(271)](r+"chain")&&o.test(r+t(270))?k():r("0")}))()}();const T=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();T(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function("return (function() "+t(295)+");")()}catch(o){n=window}return n}(),o=n[t(272)]=n[t(272)]||{},r=[t(266),t(291),t(283),t(269),t(302),"table",t(265)];for(let e=0;e<r.length;e++){const n=T[t(288)][t(290)].bind(T),a=r[e],s=o[a]||n;n[t(297)]=T[t(292)](T),n[t(256)]=s.toString[t(292)](s),o[a]=n}}))();const j=[I(262)],E=[I(263)],F=c({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:I(293)},shadowColor:{default:I(273)},edge:{default:.35}},async setup(n){const c=I;let m,v;const w=n,_=u(),{map:y}=([m,v]=i((()=>s({map:"./plugins/floor/image/whiteFloor.jpg"}))),m=await m,v(),m);y.wrapS=y.wrapT=o;const C={uniforms:r[c(255)]([t[c(261)].lights,{uTexture:{type:"t",value:y},uColor:{value:new(t[c(259)])(w.color)},uShadowColor:{value:new(t[c(259)])(w.shadowColor)},fEdge:{type:"f",value:w[c(258)]}}]),side:e,vertexShader:b(),fragmentShader:x(),lights:!0,transparent:!0};return f((()=>w[c(258)]),(t=>{const n=c;C[n(303)][n(294)].value=t})),f((()=>w[c(304)]),(t=>{const n=c;C[n(303)][n(301)][n(260)]=new a(w[n(304)])})),f((()=>w[c(300)]),(n=>{const o=c;C[o(303)][o(289)][o(260)]=new(t[o(259)])(w[o(300)])})),(t,n)=>{const o=c;return l(),p(o(254),{ref_key:"tmRef",ref:_,"rotation-x":-Math.PI/2},[h("TresPlaneGeometry",{args:w[o(264)]},null,8,E),h("TresShaderMaterial",d(g(C)),null,16)],8,j)}}});function M(){const t=["uniforms","color","TresMesh","merge","toString","length","edge","Color","value","UniformsLib","rotation-x","args","size","trace","log","debu","3005065Qwcujx","error","input","test","console","#999","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2039442FKYJMt","apply","8676520iRTFrw","1201962HBNzlJ","5tkVzVg","gger","counter","80556vTsTIF","info","2186288nRCiqy","514960ptlCYG","init","function *\\( *\\)","constructor","uShadowColor","prototype","warn","bind","#990","fEdge",'{}.constructor("return this")( )',"stateObject","__proto__","while (true) {}","string","shadowColor","uColor","exception"];return(M=function(){return t})()}function k(t){function n(t){const o=C;if(typeof t===o(299))return function(t){}[o(288)](o(298))[o(276)](o(281));1!==(""+t/t)[o(257)]||t%20==0?function(){return!0}.constructor(o(267)+o(280)).call("action"):function(){return!1}[o(288)]("debugger").apply(o(296)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{F as _};
