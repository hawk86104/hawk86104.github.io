import"./@fesjs.Gs8eM-sM1724983368286.js";import{_ as n}from"./jszip.VoLYwi951724983368286.js";import{F as t}from"./file-saver.l0ZFLaNc1724983368286.js";import{a6 as e,aJ as s}from"./three.p-9BQwc31724983368286.js";const o=a;!function(n,t){const e=a,s=m();for(;;)try{if(946344===parseInt(e(493))/1+parseInt(e(462))/2+-parseInt(e(445))/3+parseInt(e(494))/4*(-parseInt(e(446))/5)+parseInt(e(451))/6*(parseInt(e(465))/7)+parseInt(e(442))/8+-parseInt(e(485))/9)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let n=!0;return function(t,e){const s=n?function(){if(e){const n=e[a(529)](t,arguments);return e=null,n}}:function(){};return n=!1,s}}();function a(n,t){const e=m();return(a=function(n,t){return e[n-=441]})(n,t)}!function(){r(this,(function(){const n=a,t=new RegExp(n(490)),e=new RegExp(n(456),"i"),s=b(n(455));t[n(501)](s+n(479))&&e[n(501)](s+n(532))?b():s("0")}))()}();const i=function(){let n=!0;return function(t,e){const s=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,s}}();async function c(n){const t=o,s=new(e[t(531)]);return new Promise(((e,o)=>{const r=t;s[r(444)](n,(n=>e(JSON[r(534)](n))),void 0,(n=>o(n)))}))}async function u(n){const t=o,s=new(e[t(531)]);return new Promise(((e,r)=>{const a=t;s[a(525)]("blob"),s[a(444)](n,(t=>{const s=a,i=new FileReader;i[s(511)]=()=>{const t=s,r=function(n){const t=o,e=n.split(".")[t(507)]()[t(503)]();return{jpg:"image/jpeg",jpeg:"image/jpeg",png:t(470),gif:t(464),bmp:t(537),webp:t(509)}[e]||t(516)}(n),a=i[t(487)][t(461)](",")[1];e(t(508)+r+";base64,"+a)},i[s(496)]=n=>{r(n)},i[s(520)](t)}),void 0,(n=>r(n)))}))}i(void 0,(function(){const n=a;let t;try{t=Function(n(498)+n(523)+");")()}catch(o){t=window}const e=t[n(513)]=t[n(513)]||{},s=[n(535),n(484),n(449),n(526),"exception","table",n(497)];for(let r=0;r<s[n(469)];r++){const t=i[n(538)][n(441)][n(500)](i),o=s[r],a=e[o]||t;t[n(533)]=i[n(500)](i),t[n(528)]=a[n(528)][n(500)](a),e[o]=t}}))(),e[o(506)][o(447)]=!0;const p=t=>{const e=o,r=new s;return r.setResponseType(e(514)),new Promise(((s,o)=>{const a=e;r[a(444)](t,(async t=>{const e=a;s(await n[e(474)](t))}),void 0,(n=>o(n)))}))},f=n=>{const t=o,e=n[t(460)](0,15),s=t(530),r=t(515),a=t(480),i=t(466),c=t(518),u=t(517);return"data:image/jpeg;base64,"[t(502)](e)||s[t(502)](e)?t(459):r[t(502)](e)||a[t(502)](e)?t(510):"data:image/gif;base64,"[t(502)](e)||i[t(502)](e)?"GIF":c[t(502)](e||u[t(502)](e))?"WEBP":"Unknown"},l=e=>{const s=o,r=[];e[s(492)][s(524)]&&e[s(492)].geometries.forEach((n=>{const t=s;"BufferGeometry"===n.type&&(r[t(486)]({uuid:n[t(472)],data:n.data}),n[t(452)]=t(454)+n[t(472)]+".json")}));const a=[];e.scene[s(448)]&&e[s(492)][s(448)].forEach((n=>{const t=s;n.url&&(a.push({uuid:n[t(472)],url:n[t(522)]}),n.url[t(473)]?n.url=t(495)+n.uuid+"."+n[t(522)][t(473)]+t(521):n[t(522)]="url:images/"+n[t(472)]+"."+f(n.url))}));const i=new n;if(r[s(469)]){const n=i.folder(s(524));r[s(477)]((t=>{const e=s;n.file(t[e(472)]+e(521),JSON[e(488)](t[e(452)]))}))}if(a[s(469)]){const n=i[s(481)](s(448));a[s(477)]((t=>{const e=s;t.url[e(473)]?n.file(t[e(472)]+"."+t[e(522)][e(473)]+e(521),JSON[e(488)](t[e(522)])):n[e(450)](t.uuid+"."+f(t[e(522)]),t[e(522)][e(461)](e(504))[e(507)](),{base64:!0})}))}const c=JSON[s(488)](e);return i[s(450)](s(457),c),i[s(468)]({type:s(514)}).then((n=>{const e=s;t.saveAs(n,e(491))}))},g=(n,t,e)=>{const s=o;n[s(524)]<=0&&n[s(448)]<=0&&e(t)},d=(t,e)=>{const s=o;let r=null;return n[s(474)](t)[s(489)]((n=>{const t=s;n.files[t(457)]?n.files["app.json"][t(458)](t(478))[t(489)]((s=>{var a,i;const c=t;r=JSON[c(534)](s);const u=(n=>{var t,e;const s=o,r={geometries:0,images:0};return null==(t=n[s(492)].geometries)||t.forEach((n=>{const t=s;n[t(452)][t(502)](t(453))&&r[t(524)]++})),null==(e=n[s(492)][s(448)])||e[s(477)]((n=>{const t=s;n[t(522)][t(502)](t(453))&&r[t(448)]++})),r})(r);g(u,r,e),null==(a=r[c(492)][c(524)])||a[c(477)]((t=>{const s=c;t[s(452)][s(502)](s(453))&&n.files[t.data[s(527)](4)][s(458)]("string")[s(489)]((n=>{const o=s;t.data=JSON[o(534)](n),u[o(524)]--,g(u,r,e)}))})),null==(i=r[c(492)][c(448)])||i[c(477)]((t=>{const s=c;if(t[s(522)][s(502)](s(453))){const o=t[s(522)][s(527)](4);o[s(536)](".json")?n[s(463)][o][s(458)](s(478))[s(489)]((n=>{const o=s;t[o(522)]=JSON.parse(n),u[o(448)]--,g(u,r,e)})):n[s(463)][o][s(458)]("base64").then((n=>{const a=s,i=o[a(461)]("."),c=i[i[a(469)]-1][a(512)]();t[a(522)]="data:image/"+c+a(504)+n,u[a(448)]--,g(u,r,e)}))}}))})):console[t(526)](t(443))}),(n=>{const e=s;console[e(526)](t[e(476)]+": "+n[e(505)])})),r};function m(){const n=["JPEG","substring","split","3403536mtUvTO","files","image/gif","7AHHfGQ","data:image/GIF;base64,","debu","generateAsync","length","image/png","gger","uuid","type","loadAsync","action","name","forEach","string","chain","data:image/PNG;base64,","folder","stateObject","call","warn","15362775tEQGFx","push","result","stringify","then","function *\\( *\\)","config.zip","scene","1891048oYKjdo","1156eQEIAb","url:images/","onerror","trace","return (function() ","counter","bind","test","startsWith","toLowerCase",";base64,","message","Cache","pop","data:","image/webp","PNG","onloadend","toUpperCase","console","blob","data:image/png;base64,","application/octet-stream","data:image/WEBP;base64,","data:image/webp;base64,","while (true) {}","readAsDataURL",".json","url",'{}.constructor("return this")( )',"geometries","setResponseType","error","slice","toString","apply","data:image/JPEG;base64,","FileLoader","input","__proto__","parse","log","endsWith","image/bmp","constructor","prototype","8667432NlWCIO","非标准文件：不存在 app.json","load","4498605xydgFR","19580IIHCMP","enabled","images","info","file","3649998NyzDVR","data","url:","url:geometries/","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","app.json","async"];return(m=function(){return n})()}function b(n){function t(n){const e=a;if(typeof n===e(478))return function(n){}[e(538)](e(519))[e(529)](e(499));1!==(""+n/n)[e(469)]||n%20==0?function(){return!0}[e(538)]("debu"+e(471))[e(483)](e(475)):function(){return!1}.constructor(e(467)+e(471))[e(529)](e(482)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{p as a,u as b,l as e,f as g,d as i,c as l};
