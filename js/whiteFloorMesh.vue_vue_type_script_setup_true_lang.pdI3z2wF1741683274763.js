import{_ as t,bO as n,U as r,a0 as o,C as e}from"./three.3wvNjL8W1741683274763.js";import{a}from"./@tresjs.tqalU7S21741683274763.js";import{d as s,b as c,a3 as u,w as i,o as f,H as l,N as p,aj as d,ak as h}from"./@vue.NRI7TcgI1741683274763.js";!function(t,n){const r=v,o=w();for(;;)try{if(475485===-parseInt(r(389))/1+parseInt(r(408))/2*(parseInt(r(441))/3)+-parseInt(r(393))/4+parseInt(r(386))/5*(-parseInt(r(439))/6)+parseInt(r(402))/7*(-parseInt(r(415))/8)+parseInt(r(436))/9*(-parseInt(r(405))/10)+-parseInt(r(411))/11*(-parseInt(r(440))/12))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[v(423)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=v,n=new RegExp(t(424)),r=new RegExp(t(426),"i"),o=b(t(392));n[t(404)](o+t(421))&&r[t(404)](o+t(396))?b():o("0")}))()}();const m=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[v(423)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function v(t,n){const r=w();return(v=function(t,n){return r[t-=385]})(t,n)}function w(){const t=["360zdTMVZ","bsdfs","__proto__","36OFWLsK","12ifhWSh","638298oesrGJ","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","194305DymNUz","ShaderChunk","begin_vertex","246772znYmOn","shadowmap_pars_fragment","trace","init","318132NLjXZr","lights_pars_begin","call","input","length","\n       void main() {\n\t\t\t\t\t","constructor","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\n       varying vec2 vUv;\n\t\t\t \t","2175061jkvCat","packing","test","111070bdzJuf","return (function() ","gger","2ysmWWX","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","error","17349123dDssBJ","beginnormal_vertex","project_vertex","log","8yaflvT","worldpos_vertex",'{}.constructor("return this")( )',"common","action","counter","chain","console","apply","function *\\( *\\)","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","stateObject","debu","shadowmask_pars_fragment","\n\t ","string","toString","\n          ","defaultnormal_vertex"];return(w=function(){return t})()}m(void 0,(function(){const t=v;let n;try{n=Function(t(406)+t(417)+");")()}catch(e){n=window}const r=n.console=n[t(422)]||{},o=[t(414),t(427),"info",t(410),t(425),"table",t(391)];for(let a=0;a<o[t(397)];a++){const n=m.constructor.prototype.bind(m),e=o[a],s=r[e]||n;n[t(438)]=m.bind(m),n.toString=s[t(433)].bind(s),r[e]=n}}))();const _=()=>{const n=v;return n(401)+t[n(387)][n(418)]+"\n      \t"+t[n(387)][n(437)]+"\n      \t"+t[n(387)].shadowmap_pars_vertex+n(398)+t[n(387)][n(412)]+n(434)+t[n(387)][n(435)]+n(434)+t[n(387)][n(388)]+n(434)+t[n(387)][n(413)]+"\n          "+t[n(387)][n(416)]+n(434)+t[n(387)].shadowmap_vertex+n(400)},I=()=>{const r=v;return r(385)+t[r(387)][r(418)]+r(431)+n[r(403)]+r(431)+t[r(387)].bsdfs+"\n\t "+t[r(387)][r(394)]+"\n\t "+n[r(390)]+r(431)+t[r(387)][r(430)]+r(409)};function b(t){function n(t){const r=v;if(typeof t===r(432))return function(t){}[r(399)]("while (true) {}")[r(423)](r(420));1!==(""+t/t)[r(397)]||t%20==0?function(){return!0}[r(399)](r(429)+r(407))[r(395)](r(419)):function(){return!1}[r(399)](r(429)+r(407))[r(423)](r(428)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const x=y;function y(t,n){const r=S();return(y=function(t,n){return r[t-=387]})(t,n)}!function(t,n){const r=y,o=S();for(;;)try{if(871304===-parseInt(r(403))/1+parseInt(r(422))/2+-parseInt(r(399))/3+-parseInt(r(430))/4*(-parseInt(r(412))/5)+-parseInt(r(442))/6*(-parseInt(r(420))/7)+parseInt(r(425))/8*(parseInt(r(428))/9)+parseInt(r(413))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[y(390)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function S(){const t=["80KTfrcu","839080IfIsuX","test","call","stateObject","RepeatWrapping","uShadowColor","trace","35milAOZ","uColor","192486TILazZ","toString","wrapT","216tePXCd","whiteFloorMesh","function *\\( *\\)","486567YRSTyj","merge","129468WGFHav","action","bind","table","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","size","args","#990","length","string","1681836JdnFCa","Color","input","uniforms","wrapS","debu","rotation-x","apply","console","chain","TresMesh","__proto__","exception","edge","value","UniformsLib","2927673UacdJT","TresPlaneGeometry","tmRef","prototype","1712059XDLAsO","#999","color","shadowColor","gger","TresShaderMaterial","info","log","constructor"];return(S=function(){return t})()}!function(){C(this,(function(){const t=y,n=new RegExp(t(427)),r=new RegExp(t(435),"i"),o=M("init");n[t(414)](o+t(392))&&r[t(414)](o+t(444))?M():o("0")}))()}();const T=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[y(390)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=y,n=function(){const t=y;let n;try{n=Function(t(434)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(391)]=n[t(391)]||{},o=[t(410),"warn",t(409),"error",t(395),t(433),t(419)];for(let e=0;e<o[t(440)];e++){const n=T[t(411)][t(402)][t(432)](T),a=o[e],s=r[a]||n;n[t(394)]=T[t(432)](T),n[t(423)]=s[t(423)][t(432)](s),r[a]=n}}))();const j=[x(389)],z=[x(438)],k=s({__name:x(426),props:{size:{default:[20,20]},color:{default:x(439)},shadowColor:{default:x(404)},edge:{default:.35}},async setup(n){const s=x;let g,m;const v=n,w=c(),{map:b}=([g,m]=u((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);b[s(387)]=b[s(424)]=t[s(417)];const y={uniforms:r[s(429)]([t[s(398)].lights,{uTexture:{type:"t",value:b},uColor:{value:new(t[s(443)])(v[s(405)])},uShadowColor:{value:new(t[s(443)])(v.shadowColor)},fEdge:{type:"f",value:v[s(396)]}}]),side:o,vertexShader:_(),fragmentShader:I(),lights:!0,transparent:!0};return i((()=>v.edge),(t=>{y[s(445)].fEdge.value=t})),i((()=>v.color),(n=>{const r=s;y[r(445)][r(421)][r(397)]=new(t[r(443)])(v[r(405)])})),i((()=>v[s(406)]),(t=>{const n=s;y[n(445)][n(418)].value=new e(v[n(406)])})),(t,n)=>{const r=s;return f(),l(r(393),{ref_key:r(401),ref:w,"rotation-x":-Math.PI/2},[p(r(400),{args:v[r(437)]},null,8,z),p(r(408),d(h(y)),null,16)],8,j)}}});function M(t){function n(t){const r=y;if(typeof t===r(441))return function(t){}[r(411)](r(436)).apply("counter");1!==(""+t/t)[r(440)]||t%20==0?function(){return!0}[r(411)]("debu"+r(407))[r(415)](r(431)):function(){return!1}.constructor(r(388)+r(407))[r(390)](r(416)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{k as _};
