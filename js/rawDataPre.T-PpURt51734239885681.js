import{U as t,c as n}from"./@tresjs.qWeugQU61734239885681.js";import{a as e,u as r,_ as o}from"./colorList.ofbf-njd1734239885681.js";import{z as a,x as s,a6 as i,a7 as u,a8 as c,N as l,a9 as f,aa as p,t as d,$ as m,ab as h,v as g,_ as y}from"./@fesjs.1fC4qdx91734239885681.js";import{d as x,b,u as w,o as _,D as v,j as I,g as j,J as R,x as E,F as T,V as k,f as A,H as B,I as F,a as z,w as S,aj as V,ak as U,r as L,m as O}from"./@vue.-THQH3GC1734239885681.js";import{_ as D,d4 as q,bg as C}from"./three.NPKhDGTA1734239885681.js";import{r as G,a as Z}from"./rawData.sjiB-Y091734239885681.js";import{P as $}from"./tweakpane.yHWGBmom1734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";import"./pinia.XvNnwauR1734239885681.js";import"./vue-demi.C4xddsk91734239885681.js";import"./vue-router.KCZH8FnA1734239885681.js";import"./lodash-es.kYt-_xTG1734239885681.js";import"./@qlin.yHhFDldE1734239885681.js";import"./@floating-ui.BPbuo5Gx1734239885681.js";import"./@juggle.7yjBMqoW1734239885681.js";const J=N;!function(t,n){const e=N,r=W();for(;;)try{if(447959===parseInt(e(350))/1+parseInt(e(333))/2*(parseInt(e(358))/3)+-parseInt(e(313))/4+parseInt(e(312))/5*(parseInt(e(335))/6)+parseInt(e(370))/7+-parseInt(e(316))/8*(parseInt(e(348))/9)+-parseInt(e(314))/10*(parseInt(e(366))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(347)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=N,n=new RegExp(t(352)),e=new RegExp(t(365),"i"),r=P(t(374));n[t(356)](r+t(329))&&e.test(r+"input")?P():r("0")}))()}();const M=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(347)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(t,n){const e=W();return(N=function(t,n){return e[t-=311]})(t,n)}M(void 0,(function(){const t=N,n=function(){const t=N;let n;try{n=Function(t(346)+t(339)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},r=["log",t(353),"info","error",t(377),t(330),t(328)];for(let o=0;o<r.length;o++){const n=M.constructor[t(317)][t(364)](M),a=r[o],s=e[a]||n;n.__proto__=M[t(364)](M),n.toString=s[t(373)][t(364)](s),e[a]=n}}))();const Q={key:0,class:J(375)};function P(t){function n(t){const e=N;if("string"==typeof t)return function(t){}.constructor(e(367))[e(347)](e(359));1!==(""+t/t)[e(311)]||t%20==0?function(){return!0}[e(363)](e(369)+e(324)).call(e(332)):function(){return!1}.constructor(e(369)+e(324))[e(347)](e(331)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function W(){const t=["952402dJGFip","while (true) {}","2.8em","debu","3034591Dblzdl","image/x-panasonic-raw","removeFile","toString","init","card-wrapper","block","exception","11px","length","1243860hfxqIO","536420YNBGEN","110jXhmFd","10px","136fRJlab","prototype","onload","[change] param:","uploadRef","raw"," 预览体数据","2.4em","gger","yExtent"," y轴长度： "," 点击或者拖拽rawData文件到此区域 ","trace","chain","table","stateObject","action","130RRKlnn"," 演示参考龙虾🦞RawData数据,下载 : ","12qANObI","zExtent","value","selectDataType",'{}.constructor("return this")( )',"dataType","xExtent","文件类型必须为:'image/x-panasonic-raw'","setArrayBuffer","log","div","return (function() ","apply","102537EwpnvC","300px","761535tiaBkB"," x轴长度： ","function *\\( *\\)","warn","modelValue","warning","test","10px auto -3px","1641qEoOft","counter","readAsArrayBuffer","result","title","constructor","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(W=function(){return t})()}const X=y(x({__name:"importRawUI",setup(t){const n=J,r=e();r.xExtent=301,r[n(325)]=324,r[n(336)]=56;const o=b(null),y=b([]),x=t=>{const e=n;console[e(344)](e(319),t)},z=()=>{var t;const e=n;y[e(337)][e(311)]>1&&(null==(t=o[e(337)])||t[e(372)](y[e(337)][0]))},S=()=>{const t=n;if(1!=y[t(337)][t(311)])return g[t(355)]("请正确选择rawData文件"),!1;if(r[t(341)]<=0||r[t(325)]<=0||r.zExtent<=0)return g.warning("请正确输入数值"),!1;if(y.value[0].raw.type!==t(371))return g.warning(t(342)),!1;const e=new FileReader;return e[t(318)]=function(n){const e=t,o=n.target[e(361)];r[e(343)](o)},e[t(360)](y[t(337)][0][t(321)]),!0};return(t,e)=>{const g=n;return w(r).byteArray?F("",!0):(_(),v(g(345),Q,[I(w(h),{header:"读取Raw原始数据"},{default:j((()=>[e[10]||(e[10]=R(g(345),{style:{"margin-bottom":g(378)}},[E(g(334)),R("a",{href:"./plugins/tvtVolumeRendering/rawData/lobster_301x324x56_uint8.raw"},"lobster_301x324x56_uint8.raw")],-1)),I(w(a),{style:{"min-height":g(368)}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":g(323)}},{default:j((()=>e[5]||(e[5]=[E(g(351))]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(i),{precision:0,modelValue:w(r)[g(341)],"onUpdate:modelValue":e[0]||(e[0]=t=>w(r)[g(341)]=t),autofocus:""},null,8,[g(354)])])),_:1})])),_:1}),I(w(a),{style:{"min-height":g(368)}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":g(323)}},{default:j((()=>e[6]||(e[6]=[E(g(326))]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(i),{precision:0,modelValue:w(r)[g(325)],"onUpdate:modelValue":e[1]||(e[1]=t=>w(r).yExtent=t),autofocus:""},null,8,[g(354)])])),_:1})])),_:1}),I(w(a),{style:{"min-height":g(368)}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":g(323)}},{default:j((()=>e[7]||(e[7]=[E(" z轴长度： ")]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(i),{precision:0,modelValue:w(r)[g(336)],"onUpdate:modelValue":e[2]||(e[2]=t=>w(r)[g(336)]=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),I(w(u),{modelValue:w(r)[g(338)],"onUpdate:modelValue":e[3]||(e[3]=t=>w(r)[g(338)]=t),style:{"margin-bottom":g(315)}},{default:j((()=>[(_(!0),v(T,null,k(w(r)[g(340)],((t,n)=>{const e=g;return _(),A(w(c),{key:n,value:n},{default:j((()=>[I(w(l),{style:{"max-width":e(349)}},{default:j((()=>[E(B(t[e(362)]),1)])),_:2},1024)])),_:2},1032,["value"])})),128))])),_:1},8,[g(354)]),I(w(f),{ref_key:g(320),ref:o,fileList:y.value,"onUpdate:fileList":e[4]||(e[4]=t=>y[g(337)]=t),onChange:x,httpRequest:z},{default:j((()=>[I(w(p),null,{default:j((()=>e[8]||(e[8]=[E(g(327))]))),_:1})])),_:1},8,["fileList"]),I(w(d),{style:{display:g(376),margin:g(357)},onClick:S},{icon:j((()=>[I(w(m))])),default:j((()=>[e[9]||(e[9]=E(g(322)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-306b37f6"]]),H=nt;!function(t,n){const e=nt,r=ot();for(;;)try{if(552056===-parseInt(e(331))/1+-parseInt(e(397))/2*(-parseInt(e(353))/3)+-parseInt(e(340))/4*(parseInt(e(380))/5)+-parseInt(e(334))/6+parseInt(e(350))/7*(parseInt(e(324))/8)+-parseInt(e(368))/9+parseInt(e(344))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=nt,n=new RegExp(t(374)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=st(t(341));n[t(343)](r+t(393))&&e[t(343)](r+"input")?st():r("0")}))()}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function nt(t,n){const e=ot();return(nt=function(t,n){return e[t-=323]})(t,n)}tt(void 0,(function(){const t=nt,n=function(){const t=nt;let n;try{n=Function(t(361)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(388)]=n.console||{},r=["log","warn","info",t(335),t(363),t(326),t(345)];for(let o=0;o<r[t(348)];o++){const n=tt[t(392)][t(349)][t(357)](tt),a=r[o],s=e[a]||n;n[t(327)]=tt[t(357)](tt),n.toString=s[t(384)][t(357)](s),e[a]=n}}))();const et=[H(382),H(395)],rt=[H(359)];function ot(){const t=["function *\\( *\\)","addBinding","体积采样率","RedFormat","emissionAbsorption","maximumIntensity","362915mFsOcT","gger","scale","清空体数据","toString","BoxGeometry","显示边框","TresShaderMaterial","console","magFilter","TresBoxGeometry","y轴缩放","constructor","chain","stateObject","visible","LinearFilter","2ATRXRf","addBlade","体绘制的阈值","string","needsUpdate","4474072aetjUq","ClampToEdgeWrapping","table","__proto__","LineBasicMaterial","yExtent","xExtent","809060cKOOIQ","change","uniforms","176814rdlrRI","error","getThreeType","是否反色","debu","alphaScale","40IaaOqL","init","LineSegments","test","23305410xkZmwO","trace","format","value","length","prototype","7duQpRF","z轴缩放","透明度","83451zXfYhL","wrapS","x轴缩放","composeType","bind","TresMesh","object","apply","return (function() ","while (true) {}","exception","minFilter","counter","byteArray","EdgesGeometry","7210818qBUiBA","samplingRate","click","updateTransferFunction","BackSide","zExtent"];return(ot=function(){return t})()}const at=x({__name:"scene",setup(t){const n=H,o=e(),a=r(),s=new(D[n(342)])(new(D[n(367)])(new(D[n(385)])(1,1,1)),new(D[n(328)])({color:10066329})),i=b(1),u=b(o[n(329)]/o[n(330)]),c=b(o[n(373)]/o[n(330)]),l=z((()=>{const t=n;return!(i[t(347)]<=.01&&i[t(347)]>=-.01)&&(!(u[t(347)]<=.01&&u.value>=-.01)&&!(c[t(347)]<=.01&&c[t(347)]>=-.01))})),f=new q(o[n(366)],o[n(330)],o[n(329)],o[n(373)]);f[n(346)]=D[n(377)],f.type=o[n(336)](),f[n(364)]=D[n(396)],f[n(389)]=D[n(396)],f[n(354)]=C,f.wrapT=D[n(325)],f.wrapR=D[n(325)],f[n(323)]=!0;const p={uniforms:{dataTexture:{value:f},colorTexture:{value:a.updateTransferFunction()},samplingRate:{value:1},threshold:{value:.5},alphaScale:{value:1},invertColor:{value:!0},composeType:{value:3}},vertexShader:G,fragmentShader:Z,side:D[n(372)],transparent:!0},d=b(!0),m=new $;return m[n(375)](i,n(347),{label:n(355),min:-2,max:2,step:.01}),m[n(375)](u,n(347),{label:n(391),min:-2,max:2,step:.01}),m[n(375)](c,n(347),{label:n(351),min:-2,max:2,step:.01}),m[n(398)]({view:"list",label:"模式",options:[{text:n(379),value:1},{text:"thresholding",value:2},{text:n(378),value:3}],value:p[n(333)][n(356)][n(347)]}).on(n(332),(t=>{const e=n;p.uniforms[e(356)][e(347)]=t[e(347)]})),m.addBinding(p.uniforms[n(369)],"value",{label:n(376),min:0,max:4,step:.01}),m[n(375)](p[n(333)].threshold,n(347),{label:n(399),min:0,max:1,step:.01}),m[n(375)](p[n(333)][n(339)],n(347),{label:n(352),min:0,max:1,step:.01}),m[n(375)](p[n(333)].invertColor,n(347),{label:n(337)}),m[n(375)](d,n(347),{label:n(386)}),m.addButton({title:n(383),label:"点击"}).on(n(370),(()=>{o.byteArray=null,m.dispose()})),S((()=>a.colorsStops),(()=>{const t=n;p.uniforms.colorTexture[t(347)]=a[t(371)]()}),{deep:!0,immediate:!0}),(t,e)=>{const r=n;return _(),v("TresGroup",null,[R(r(358),{scale:[i[r(347)],u[r(347)],c[r(347)]],visible:l[r(347)]},[e[0]||(e[0]=R(r(390),{args:[1,1,1]},null,-1)),R(r(387),V(U(p)),null,16),d[r(347)]?(_(),v("primitive",{key:0,object:w(s)},null,8,rt)):F("",!0)],8,et)])}}});function st(t){function n(t){const e=nt;if(typeof t===e(400))return function(t){}[e(392)](e(362)).apply(e(365));1!==(""+t/t)[e(348)]||t%20==0?function(){return!0}.constructor(e(338)+e(381)).call("action"):function(){return!1}[e(392)](e(338)+e(381))[e(360)](e(394)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=lt,r=ct();for(;;)try{if(425084===-parseInt(e(526))/1+-parseInt(e(498))/2*(parseInt(e(492))/3)+parseInt(e(500))/4+parseInt(e(505))/5+-parseInt(e(504))/6+-parseInt(e(525))/7+parseInt(e(527))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const it=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[lt(513)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){it(this,(function(){const t=lt,n=new RegExp(t(509)),e=new RegExp(t(512),"i"),r=pt(t(497));n[t(528)](r+"chain")&&e[t(528)](r+t(493))?pt():r("0")}))()}();const ut=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[lt(513)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function ct(){const t=["3909675tIRQux","rgba(242, 242, 0, 0.2)","counter","info","function *\\( *\\)","constructor","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply",'{}.constructor("return this")( )',"#201919","console","table","rgba(102, 0, 250, 1)","bind","toString","length","byteArray","error","exception","3466785iByEZD","567109faKgML","5143208pkRgsV","test","TresPerspectiveCamera","call","rgba(242, 242, 0, 0)","stateObject","debu","string","log","while (true) {}","90otRAJB","input","__proto__","rgba(242, 242, 0, 0.99)","return (function() ","init","7476uWfUKp","trace","1984988xjRUHx","gger","warn","rgba(255, 0, 0, 1)","1928970GQwhGl"];return(ct=function(){return t})()}function lt(t,n){const e=ct();return(lt=function(t,n){return e[t-=487]})(t,n)}ut(void 0,(function(){const t=lt,n=function(){const t=lt;let n;try{n=Function(t(496)+t(514)+");")()}catch(e){n=window}return n}(),e=n[t(516)]=n[t(516)]||{},r=[t(490),t(502),t(508),t(523),t(524),t(517),t(499)];for(let o=0;o<r[t(521)];o++){const n=ut[t(510)][t(511)][t(519)](ut),a=r[o],s=e[a]||n;n[t(494)]=ut.bind(ut),n[t(520)]=s[t(520)][t(519)](s),e[a]=n}}))();const ft=x({__name:"rawDataPre",setup(r){const a=lt,s=L({clearColor:a(515),antialias:!0}),i=e();return(e,r)=>{const u=a;return _(),v(T,null,[w(i)[u(522)]?(_(),A(o,{key:0,curColorList:[[u(518),.587],[u(503),.7],[u(495),.84],[u(506),.88],[u(531),1]]})):F("",!0),I(w(n),O(s,{"window-size":""}),{default:j((()=>[r[0]||(r[0]=R(u(529),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),I(w(t)),w(i)[u(522)]?(_(),A(at,{key:0})):F("",!0)])),_:1},16),I(X)],64)}}});function pt(t){function n(t){const e=lt;if(typeof t===e(489))return function(t){}[e(510)](e(491))[e(513)](e(507));1!==(""+t/t)[e(521)]||t%20==0?function(){return!0}[e(510)]("debu"+e(501))[e(530)]("action"):function(){return!1}[e(510)](e(488)+e(501))[e(513)](e(487)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ft as default};
