import{_ as t,bT as n,a3 as o,C as r}from"./three.ZddO3ejJ1726800306729.js";import{z as e}from"./@tresjs.pv1MNfNv1726800306729.js";import{d as a,b as s,a4 as c,w as u,o as i,E as f,L as l,aj as p,ak as h}from"./@vue.bvMz0l_u1726800306729.js";!function(t,n){const o=v,r=_();for(;;)try{if(467955===parseInt(o(412))/1+-parseInt(o(407))/2+-parseInt(o(385))/3+parseInt(o(384))/4*(parseInt(o(377))/5)+-parseInt(o(417))/6*(-parseInt(o(402))/7)+-parseInt(o(397))/8+parseInt(o(388))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(410)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=v,n=new RegExp(t(426)),o=new RegExp(t(379),"i"),r=b("init");n[t(422)](r+t(391))&&o[t(422)](r+t(423))?b():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(410)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(403)+t(395)+");")()}catch(o){n=window}return n}(),o=n[t(394)]=n[t(394)]||{},r=["log",t(409),t(427),t(382),t(413),t(378),t(396)];for(let e=0;e<r.length;e++){const n=g[t(387)].prototype[t(425)](g),a=r[e],s=o[a]||n;n[t(428)]=g[t(425)](g),n[t(416)]=s[t(416)][t(425)](s),o[a]=n}}))();const m=()=>{const o=v;return o(405)+t[o(393)][o(414)]+o(406)+t[o(393)][o(408)]+"\n      \t"+n.shadowmap_pars_vertex+o(398)+n[o(375)]+"\n          "+t[o(393)][o(418)]+o(389)+t[o(393)][o(401)]+o(389)+t[o(393)][o(419)]+o(389)+t[o(393)].worldpos_vertex+o(389)+n[o(420)]+o(392)};function v(t,n){const o=_();return(v=function(t,n){return o[t-=375]})(t,n)}const w=()=>{const o=v;return o(400)+t[o(393)].common+"\n\t "+t[o(393)][o(380)]+o(376)+t[o(393)].bsdfs+"\n\t "+n[o(424)]+"\n\t "+t[o(393)][o(415)]+o(376)+n[o(404)]+o(421)};function _(){const t=["defaultnormal_vertex","project_vertex","shadowmap_vertex","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","test","input","lights_pars_begin","bind","function *\\( *\\)","info","__proto__","beginnormal_vertex","\n\t ","5xZYeRt","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","packing","string","error","action","143984eUaJxE","1291218parioW","counter","constructor","10184688ONkXaH","\n          ","length","chain","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","ShaderChunk","console",'{}.constructor("return this")( )',"trace","6773152DEFokQ","\n       void main() {\n\t\t\t\t\t","debu","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","begin_vertex","7WGkskm","return (function() ","shadowmask_pars_fragment","\n       varying vec2 vUv;\n\t\t\t \t","\n      \t","1594704TNKenT","bsdfs","warn","apply","stateObject","925482sCqtpf","exception","common","shadowmap_pars_fragment","toString","2695482XDnaDN"];return(_=function(){return t})()}function b(t){function n(t){const o=v;if(typeof t===o(381))return function(t){}[o(387)]("while (true) {}")[o(410)](o(386));1!==(""+t/t)[o(390)]||t%20==0?function(){return!0}.constructor("debugger").call(o(383)):function(){return!1}[o(387)](o(399)+"gger")[o(410)](o(411)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=j;!function(t,n){const o=j,r=T();for(;;)try{if(181543===-parseInt(o(182))/1*(parseInt(o(192))/2)+-parseInt(o(200))/3+parseInt(o(198))/4+-parseInt(o(173))/5+parseInt(o(168))/6*(parseInt(o(196))/7)+parseInt(o(155))/8*(parseInt(o(169))/9)+parseInt(o(154))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(183)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=j,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=k(t(161));n[t(175)](r+t(181))&&o[t(175)](r+t(177))?k():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(183)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=j;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(189)]=n[t(189)]||{},r=["log",t(165),t(153),t(201),t(171),t(199),t(166)];for(let a=0;a<r[t(202)];a++){const n=y.constructor[t(180)][t(174)](y),e=r[a],s=o[e]||n;n[t(184)]=y.bind(y),n[t(204)]=s[t(204)][t(174)](s),o[e]=n}}))();const C=[x(156)],S=[x(178)];function T(){const t=["#999","prototype","chain","40102eAIpSD","apply","__proto__","value","TresShaderMaterial","uColor","Color","console","action","size","16KTqteb","constructor","TresMesh","wrapS","1519vjaKzp","whiteFloorMesh","738348WwKJEp","table","449778uhBTcu","error","length","UniformsLib","toString","stateObject","uniforms","wrapT","counter","DoubleSide","info","1094360ePYovP","752CEJyeG","rotation-x","string","edge","debu","while (true) {}","init","shadowColor","merge","#990","warn","trace","color","8820IWpVVc","21753LsJZno","gger","exception","fEdge","939630bKVoCl","bind","test","UniformsUtils","input","args"];return(T=function(){return t})()}const E=a({__name:x(197),props:{size:{default:[20,20]},color:{default:x(164)},shadowColor:{default:x(179)},edge:{default:.35}},async setup(n){const a=x;let d,g;const v=n,_=s(),{map:b}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);b[a(195)]=b[a(150)]=o;const I={uniforms:t[a(176)][a(163)]([t[a(203)].lights,{uTexture:{type:"t",value:b},uColor:{value:new(t[a(188)])(v[a(167)])},uShadowColor:{value:new(t[a(188)])(v[a(162)])},fEdge:{type:"f",value:v[a(158)]}}]),side:t[a(152)],vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return u((()=>v[a(158)]),(t=>{const n=a;I.uniforms[n(172)][n(185)]=t})),u((()=>v[a(167)]),(n=>{const o=a;I.uniforms[o(187)][o(185)]=new(t[o(188)])(v[o(167)])})),u((()=>v.shadowColor),(t=>{const n=a;I[n(149)].uShadowColor[n(185)]=new r(v[n(162)])})),(t,n)=>{const o=a;return i(),f(o(194),{ref_key:"tmRef",ref:_,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:v[o(191)]},null,8,S),l(o(186),p(h(I)),null,16)],8,C)}}});function j(t,n){const o=T();return(j=function(t,n){return o[t-=148]})(t,n)}function k(t){function n(t){const o=j;if(typeof t===o(157))return function(t){}[o(193)](o(160))[o(183)](o(151));1!==(""+t/t)[o(202)]||t%20==0?function(){return!0}[o(193)]("debu"+o(170)).call(o(190)):function(){return!1}[o(193)](o(159)+o(170)).apply(o(148)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
