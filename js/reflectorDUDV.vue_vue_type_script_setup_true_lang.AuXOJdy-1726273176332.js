import{b$ as t,a3 as n,s as e,t as r}from"./three.874nNzAX1726273176332.js";import{z as o}from"./@tresjs.BFyWuCYn1726273176332.js";import{R as s,b as i}from"./all.three.9jnNjfTG1726273176332.js";import{d as c,a4 as a,a3 as u,w as f,o as l,E as p,L as d,u as h}from"./@vue.JNsx1iN61726273176332.js";const b=y;!function(t,n){const e=y,r=v();for(;;)try{if(705333===parseInt(e(503))/1+-parseInt(e(502))/2+parseInt(e(462))/3+-parseInt(e(449))/4+-parseInt(e(467))/5*(-parseInt(e(468))/6)+parseInt(e(448))/7+parseInt(e(459))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function v(){const t=["repeat","table","counter","stateObject","debu","tReflectBlur","tReflect","renderTarget","info","update","function *\\( *\\)","onBeforeRender","object","trace","toString","exception","return (function() ","uReflectivity","while (true) {}","length","warn","error","textureMatrixUniform","2434692MyskfY","917870UxshRG","wrapT","value","uMatrix","uniforms","visible","2847278pGOBeU","2701196BnXMvF","size","console","string","constructor","action","wrapS","init","apply","add","2623520JCqotH","primitive","bind","2639883ZKWSOV","gger","__proto__","set","log","5OYYhbv","392718LHscsT","chain","renderTargetUniform","scale","reflectorDUDV","isMesh","call","reflectivity","forEach","ignoreObjects","showGridHelper"];return(v=function(){return t})()}!function(){m(this,(function(){const t=y,n=new RegExp(t(489)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_(t(456));n.test(r+t(469))&&e.test(r+"input")?_():r("0")}))()}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function y(t,n){const e=v();return(y=function(t,n){return e[t-=446]})(t,n)}w(void 0,(function(){const t=y;let n;try{n=Function(t(495)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(451)]=n[t(451)]||{},r=[t(466),t(499),t(487),t(500),t(494),t(480),t(492)];for(let s=0;s<r[t(498)];s++){const n=w.constructor.prototype.bind(w),o=r[s],i=e[o]||n;n[t(464)]=w.bind(w),n[t(493)]=i[t(493)][t(461)](i),e[o]=n}}))();const g=[b(471)],j=[b(491)],x=[b(491)],I=c({__name:b(472),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:m}){const v=b;let w,y;const I=c,_=new s,R=new t(I[v(450)][0]-.5,I.size[1]);R.visible=I[v(478)];const{map:z}=([w,y]=a((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),w=await w,y(),w);z[v(455)]=n,z[v(504)]=n,z[v(479)][v(465)](6,3);const M=new i({map:z,reflectivity:I[v(475)]});M[v(446)][v(485)]={value:_[v(486)].texture},M[v(446)][v(484)]=_[v(470)],M[v(446)][v(506)]=_[v(501)];const O=new e(new r(I.size[0],I[v(450)][1]),M);return O.rotation.x=-Math.PI/2,O[v(458)](_),O[v(490)]=(t,n,e)=>{const r=v;O[r(447)]=!1,I[r(477)][r(476)]((t=>{const n=r;t[n(473)]&&(t.visible=!1),t[n(505)]&&t[n(505)][n(473)]&&(t[n(505)][n(447)]=!1)})),_[r(488)](t,n,e),I[r(477)][r(476)]((t=>{const n=r;t[n(473)]&&(t.visible=!0),t[n(505)]&&t.value[n(473)]&&(t[n(505)].visible=!0)})),O[r(447)]=!0},u((()=>{const t=v;I[t(475)]&&(M.uniforms[t(496)][t(505)]=I[t(475)])})),f((()=>I[v(478)]),(t=>{R[v(447)]=t})),m({reflector:_}),(t,n)=>{const e=v;return l(),p("TresGroup",{scale:I.scale},[d(e(460),{object:h(O),"position-y":-.01},null,8,j),d(e(460),{object:h(R)},null,8,x)],8,g)}}});function _(t){function n(t){const e=y;if(typeof t===e(452))return function(t){}[e(453)](e(497))[e(457)](e(481));1!==(""+t/t)[e(498)]||t%20==0?function(){return!0}[e(453)](e(483)+e(463))[e(474)](e(454)):function(){return!1}.constructor(e(483)+e(463))[e(457)](e(482)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
