import{_ as t,bO as n}from"./three.FxqAALWt1741168315107.js";import{a as o}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{d as r,b as e,a3 as a,w as s,o as c,H as u,N as i,aj as l,ak as f}from"./@vue.NRI7TcgI1741168315107.js";function p(t,n){const o=d();return(p=function(t,n){return o[t-=375]})(t,n)}!function(t,n){const o=p,r=d();for(;;)try{if(980088===parseInt(o(410))/1+-parseInt(o(392))/2+-parseInt(o(414))/3*(parseInt(o(388))/4)+-parseInt(o(380))/5*(-parseInt(o(400))/6)+-parseInt(o(386))/7+-parseInt(o(425))/8*(-parseInt(o(403))/9)+-parseInt(o(385))/10*(parseInt(o(408))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function d(){const t=["\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n          ","defaultnormal_vertex","7499866AzWzHI","while (true) {}","1554509AmNltS","shadowmask_pars_fragment","\n\t ","error","1101hdpklK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","beginnormal_vertex","worldpos_vertex","debu","stateObject","warn","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","gger","shadowmap_vertex","toString","2936104LDTtcS","shadowmap_pars_fragment","action","prototype","table","test","begin_vertex","function *\\( *\\)","\n       void main() {\n\t\t\t\t\t","10DsZiDd","exception","\n      \t","\n       varying vec2 vUv;\n\t\t\t \t","init","10JVSulS","3568586psVSAD","constructor","292QtoBkH","apply","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","length","3228632jJSYqP","common","bind","project_vertex","bsdfs","ShaderChunk","call","trace","4572792CsKtxp","lights_pars_begin","packing","18wvpxWM","counter"];return(d=function(){return t})()}!function(){h(this,(function(){const t=p,n=new RegExp(t(378)),o=new RegExp(t(415),"i"),r=v(t(384));n[t(376)](r+"chain")&&o[t(376)](r+"input")?v():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=p,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n.console=n.console||{},r=["log",t(420),"info",t(413),t(381),t(375),t(399)];for(let e=0;e<r[t(391)];e++){const n=g[t(387)][t(428)][t(394)](g),a=r[e],s=o[a]||n;n.__proto__=g[t(394)](g),n[t(424)]=s[t(424)][t(394)](s),o[a]=n}}))();const m=()=>{const o=p;return o(383)+t[o(397)][o(393)]+o(382)+t[o(397)][o(396)]+o(382)+n.shadowmap_pars_vertex+o(379)+t[o(397)][o(416)]+o(406)+t[o(397)][o(407)]+o(406)+t[o(397)][o(377)]+o(406)+n[o(395)]+o(406)+t[o(397)][o(417)]+o(406)+t[o(397)][o(423)]+o(421)},w=()=>{const o=p;return o(405)+t[o(397)][o(393)]+o(412)+n[o(402)]+"\n\t "+t[o(397)][o(396)]+o(412)+n[o(401)]+o(412)+n[o(426)]+o(412)+t[o(397)][o(411)]+o(390)};function v(t){function n(t){const o=p;if("string"==typeof t)return function(t){}[o(387)](o(409))[o(389)](o(404));1!==(""+t/t)[o(391)]||t%20==0?function(){return!0}[o(387)]("debu"+o(422))[o(398)](o(427)):function(){return!1}[o(387)](o(418)+o(422)).apply(o(419)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function _(){const t=["1688124rtRNXl","table","TresShaderMaterial","debu","UniformsLib","exception","UniformsUtils","tmRef","chain","info","length","shadowColor","call","bind","347820DpaOhp","6919810CnEbqm","input","Color","string","toString","uColor","error","init","args","value","gger","color","2738092dhfbeK","edge",'{}.constructor("return this")( )',"15717624kGsHwo","lights","whiteFloorMesh","size","uShadowColor","wrapT","apply","#990","rotation-x","DoubleSide","uniforms","counter","3GhnIwd","action","warn","fEdge","1549268RRdPgG","TresPlaneGeometry","1218538YRlAgJ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","log","while (true) {}","RepeatWrapping","prototype","__proto__","test"];return(_=function(){return t})()}const x=j;!function(t,n){const o=j,r=_();for(;;)try{if(913337===parseInt(o(427))/1+-parseInt(o(404))/2*(-parseInt(o(398))/3)+-parseInt(o(440))/4+-parseInt(o(428))/5+parseInt(o(413))/6+-parseInt(o(402))/7+parseInt(o(443))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(449)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=j,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(405),"i"),r=k(t(435));n[t(412)](r+t(421))&&o.test(r+t(429))?k():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(449)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=j;let n;try{n=Function(t(406)+t(442)+");")()}catch(e){n=window}const o=n.console=n.console||{},r=[t(407),t(400),t(422),t(434),t(418),t(414),"trace"];for(let a=0;a<r[t(423)];a++){const n=y.constructor[t(410)].bind(y),e=r[a],s=o[e]||n;n[t(411)]=y[t(426)](y),n[t(432)]=s[t(432)][t(426)](s),o[e]=n}}))();const I=[x(451)],S=[x(436)],C=r({__name:x(445),props:{size:{default:[20,20]},color:{default:x(450)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const r=x;let p,h;const d=n,g=e(),{map:v}=([p,h]=a((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,h(),p);v.wrapS=v[r(448)]=t[r(409)];const _={uniforms:t[r(419)].merge([t[r(417)][r(444)],{uTexture:{type:"t",value:v},uColor:{value:new(t[r(430)])(d[r(439)])},uShadowColor:{value:new(t[r(430)])(d.shadowColor)},fEdge:{type:"f",value:d[r(441)]}}]),side:t[r(452)],vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return s((()=>d[r(441)]),(t=>{const n=r;_[n(453)][n(401)][n(437)]=t})),s((()=>d[r(439)]),(n=>{const o=r;_[o(453)][o(433)][o(437)]=new(t[o(430)])(d[o(439)])})),s((()=>d.shadowColor),(n=>{const o=r;_[o(453)][o(447)][o(437)]=new(t[o(430)])(d[o(424)])})),(t,n)=>{const o=r;return c(),u("TresMesh",{ref_key:o(420),ref:g,"rotation-x":-Math.PI/2},[i(o(403),{args:d[o(446)]},null,8,S),i(o(415),l(f(_)),null,16)],8,I)}}});function j(t,n){const o=_();return(j=function(t,n){return o[t-=397]})(t,n)}function k(t){function n(t){const o=j;if(typeof t===o(431))return function(t){}.constructor(o(408))[o(449)](o(397));1!==(""+t/t)[o(423)]||t%20==0?function(){return!0}.constructor(o(416)+"gger")[o(425)](o(399)):function(){return!1}.constructor("debu"+o(438))[o(449)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{C as _};
