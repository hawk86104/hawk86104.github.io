var n=Object.defineProperty,t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,e,r)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i=(n,i)=>{for(var s in i||(i={}))e.call(i,s)&&o(n,s,i[s]);if(t)for(var s of t(i))r.call(i,s)&&o(n,s,i[s]);return n};import{$ as s,d as c}from"./@tresjs.zzLYikgQ1723608367756.js";import{C as a,a6 as u}from"./three.X8FgZbPT1723608367756.js";import{d as l,w as f,o as p,D as d,J as g,aj as v,ak as m,r as h,e as y,f as b,g as w,j as x,u as I,m as _}from"./@vue.Q1VpS3901723608367756.js";import{P as T}from"./tweakpane.yHWGBmom1723608367756.js";import"./@vueuse.QL9lULrD1723608367756.js";const j=E;!function(n,t){const e=E,r=U();for(;;)try{if(147349===parseInt(e(154))/1*(parseInt(e(147))/2)+parseInt(e(185))/3*(-parseInt(e(179))/4)+-parseInt(e(171))/5+-parseInt(e(156))/6+-parseInt(e(178))/7*(-parseInt(e(148))/8)+parseInt(e(153))/9+-parseInt(e(187))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(145)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){A(this,(function(){const n=E,t=new RegExp(n(151)),e=new RegExp(n(159),"i"),r=z(n(160));t[n(174)](r+"chain")&&e[n(174)](r+n(144))?z():r("0")}))()}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();C(void 0,(function(){const n=E;let t;try{t=Function(n(167)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t.console=t.console||{},r=["log",n(141),"info",n(162),n(165),n(170),n(143)];for(let i=0;i<r[n(149)];i++){const t=C[n(169)][n(182)][n(183)](C),o=r[i],s=e[o]||t;t[n(186)]=C[n(183)](C),t[n(142)]=s[n(142)][n(183)](s),e[o]=t}}))();const S=["rotation-x"],k=g(j(157),{args:[10,10]},null,-1);function E(n,t){const e=U();return(E=function(n,t){return e[n-=140]})(n,t)}function U(){const n=["bind","backgroundColor","3YmTtfy","__proto__","1613660PAsSVA","TresMesh","warn","toString","trace","input","apply","#fff","319274xdqDXV","32OYfTCP","length","action","function *\\( *\\)","Color","2517354cxXyED","1PRfFVq","while (true) {}","73008EkZlWD","TresPlaneGeometry","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","speed","error","color","uniforms","exception","counter","return (function() ","brightness","constructor","table","145515BPwHxJ","call","time","test","gger","tilingCaustics","DoubleSide","151004AMXkXZ","702580mEsAUb","debu","string","prototype"];return(U=function(){return n})()}const P=l({__name:j(176),props:{speed:{default:.478},backgroundColor:{},color:{default:"#fff"},flowSpeed:{default:{x:.01,y:.01}},brightness:{default:1.5}},setup(n){const t=j,e=n,r={uniforms:{resolution:{type:"v2",value:{x:1,y:1}},backgroundColor:{type:"c",value:new a(e[t(163)])},color:{type:"c",value:new(u[t(152)])(t(146))},speed:{type:"f",value:e[t(161)]},flowSpeed:{type:"v2",value:e.flowSpeed},brightness:{type:"f",value:e[t(168)]},time:{type:"f",value:.1}},vertexShader:"// Examples of variables passed from vertex to fragment shader\nvarying vec2 vUv;\n\nvoid main(){\n\t// To pass variables to the fragment shader, you assign them here in the\n\t// main function. Traditionally you name the varying with vAttributeName\n\tvUv=uv;\n\t\n\t// This sets the position of the vertex in 3d space. The correct math is\n\t// provided below to take into account camera and object data.\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}",fragmentShader:"#define TAU 6.28318530718\n#define MAX_ITER 5\n\nuniform vec2 resolution;\nuniform vec3 backgroundColor;\nuniform vec3 color;\nuniform float speed;\nuniform vec2 flowSpeed;\nuniform float brightness;\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main(){\n\tvec2 uv=(vUv.xy+(time*flowSpeed))*resolution;\n\t\n\tvec2 p=mod(uv*TAU,TAU)-250.;\n\tvec2 i=vec2(p);\n\t\n\tfloat c=1.;\n\tfloat inten=.005;\n\t\n\tfor(int n=0;n<MAX_ITER;n++){\n\t\tfloat t=time*speed*(1.-(3.5/float(n+1)));\n\t\ti=p+vec2(cos(t-i.x)+sin(t+i.y),sin(t-i.y)+cos(t+i.x));\n\t\tc+=1./length(vec2(p.x/(sin(i.x+t)/inten),p.y/(cos(i.y+t)/inten)));\n\t}\n\t\n\tc/=float(MAX_ITER);\n\tc=1.17-pow(c,brightness);\n\t\n\tvec3 rgb=vec3(pow(abs(c),8.));\n\t\n\tgl_FragColor=vec4(rgb*color+backgroundColor,length(rgb)+.1);\n}",side:u[t(177)],transparent:!0,depthWrite:!1,depthTest:!0},{onLoop:o}=s();return o((({delta:n})=>{const e=t;r[e(164)][e(173)].value+=n})),f((()=>e),(()=>{const n=t;r[n(164)][n(161)].value=e[n(161)],r[n(164)].brightness[n(158)]=e[n(168)],r.uniforms[n(184)][n(158)]=new(u[n(152)])(e.color)}),{deep:!0}),(n,e)=>{const o=t;return p(),d(o(140),{"rotation-x":-Math.PI/2,"position-y":1},[k,g("TresShaderMaterial",v(m(r)),null,16)],8,S)}}});function z(n){function t(n){const e=E;if(typeof n===e(181))return function(n){}.constructor(e(155))[e(145)](e(166));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(180)+e(175))[e(172)](e(150)):function(){return!1}[e(169)](e(180)+"gger")[e(145)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=B;!function(n,t){const e=B,r=Z();for(;;)try{if(379011===parseInt(e(412))/1*(-parseInt(e(415))/2)+-parseInt(e(409))/3*(-parseInt(e(413))/4)+-parseInt(e(419))/5*(-parseInt(e(426))/6)+parseInt(e(420))/7*(parseInt(e(396))/8)+-parseInt(e(423))/9*(-parseInt(e(430))/10)+parseInt(e(402))/11*(parseInt(e(417))/12)+-parseInt(e(407))/13*(parseInt(e(428))/14))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[B(418)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){R(this,(function(){const n=B,t=new RegExp(n(432)),e=new RegExp(n(399),"i"),r=$("init");t[n(411)](r+"chain")&&e[n(411)](r+n(429))?$():r("0")}))()}();const M=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function B(n,t){const e=Z();return(B=function(n,t){return e[n-=392]})(n,t)}M(void 0,(function(){const n=B,t=function(){const n=B;let t;try{t=Function(n(400)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(416)]=t[n(416)]||{},r=[n(425),n(410),n(437),"error","exception",n(401),n(398)];for(let o=0;o<r[n(414)];o++){const t=M[n(424)].prototype[n(395)](M),i=r[o],s=e[i]||t;t[n(404)]=M[n(395)](M),t.toString=s[n(433)].bind(s),e[i]=t}}))();const D=g("TresPerspectiveCamera",{position:[10,10,10]},null,-1),V=g(O(422),{intensity:1},null,-1),X=g("TresGridHelper",{args:[10,10]},null,-1);function Z(){const n=["return (function() ","table","622138RFOmUa","speed","__proto__","addBinding","brightness","13UBURIE","#fff","87foIGzE","warn","test","1SUVBVr","64268zwCQtj","length","443918ixwxVY","console","12ecZfrD","apply","72595kOzvzC","7NKBjiz","stateObject","TresAmbientLight","9ldgKie","constructor","log","126gyfDJY","gger","13049848bDgUyV","input","899930cCWzTQ","string","function *\\( *\\)","toString","color","action","debu","info","流动速度","#222","inline","tilingCaustics","bind","4925672gNEAiJ","call","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(Z=function(){return n})()}const F=l({__name:O(394),setup(n){const t=O,e={clearColor:t(392)},r=h({color:t(408),speed:.1,brightness:1.5,flowSpeed:{x:.01,y:.01}}),o=new T({title:"参数",expanded:!0});return o.addBinding(r,t(434),{label:"颜色"}),o.addBinding(r,t(403),{label:"速度",min:.1,max:1,step:.1}),o.addBinding(r,t(406),{label:"亮度",min:.1,max:2,step:.1}),o[t(405)](r,"flowSpeed",{label:t(438),picker:t(393),expanded:!0,x:{min:.01,step:.02,max:.6,inverted:!0},y:{min:.01,step:.02,max:.6,inverted:!0}}),(n,t)=>{const o=y("TresCanvas");return p(),b(o,_(e,{"window-size":""}),{default:w((()=>[D,V,x(I(c)),X,x(P,v(m(i({},r))),null,16)])),_:1},16)}}});function $(n){function t(n){const e=B;if(typeof n===e(431))return function(n){}.constructor("while (true) {}").apply("counter");1!==(""+n/n)[e(414)]||n%20==0?function(){return!0}[e(424)](e(436)+"gger")[e(397)](e(435)):function(){return!1}[e(424)](e(436)+e(427)).apply(e(421)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{F as default};
