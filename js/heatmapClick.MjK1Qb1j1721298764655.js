import{a as t,d as n}from"./@tresjs.iXEJQd7J1721298764655.js";import{P as e}from"./tweakpane.yHWGBmom1721298764655.js";import{a6 as o,ab as r,ac as a}from"./three.0bBjBDi41721298764655.js";import{_ as s}from"./heatmap.js-fix.kKNY85lA1721298764655.js";import{d as i,a4 as c,a1 as u,o as l,D as p,u as f,r as d,e as h,f as m,g,j as v,al as y,aj as b,ak as x,m as w,J as I}from"./@vue.Q1VpS3901721298764655.js";import"./@vueuse.hS-CVzal1721298764655.js";import"./@amap.x_Go35DX1721298764655.js";const _=z;!function(t,n){const e=z,o=k();for(;;)try{if(628235===-parseInt(e(244))/1*(parseInt(e(236))/2)+parseInt(e(204))/3+parseInt(e(247))/4+parseInt(e(211))/5+-parseInt(e(234))/6*(parseInt(e(226))/7)+-parseInt(e(175))/8*(-parseInt(e(178))/9)+parseInt(e(243))/10*(-parseInt(e(203))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(217)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(210),"i"),o=B(t(172));n[t(201)](o+"chain")&&e[t(201)](o+"input")?B():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=z;let n;try{n=Function(t(213)+t(174)+");")()}catch(r){n=window}const e=n[t(216)]=n[t(216)]||{},o=["log",t(173),"info",t(202),t(194),t(198),"trace"];for(let a=0;a<o.length;a++){const n=C[t(232)][t(199)][t(239)](C),r=o[a],s=e[r]||n;n[t(170)]=C[t(239)](C),n[t(207)]=s[t(207)][t(239)](s),e[r]=n}}))();const L=[_(177)];function z(t,n){const e=k();return(z=function(t,n){return e[t-=170]})(t,n)}const A=i({__name:_(240),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=_;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(221)}))),r=await r,a(),r);d[e(245)][e(220)][e(200)](-5088.96,-3.08,39374.7),d[e(245)].scale[e(219)](.01);let h=null,m=null,g=null;m=new(o[e(212)])((()=>{const t=e;return g=document[t(214)](t(228)),g[t(192)][t(220)]=t(183),g[t(192)][t(218)]=t(182),g[t(192)][t(246)]="0",document[t(186)][t(238)](g),h=s[t(189)]({container:g,width:256,height:256,blur:t(229),radius:i[t(225)]}),h._renderer[t(227)][t(192)].border=t(208),h[t(195)][t(227)][t(190)]=function(n){const e=t;h.addData({x:n.layerX,y:n[e(223)],value:1,radius:i[e(225)]}),h[e(206)](1),m&&(m[e(180)]=!0)},h})()._renderer.canvas);const v={vertexShader:e(187),fragmentShader:e(235),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(222)]},y=new(o[e(197)])(v);d[e(245)][e(191)]=y;return(t=>{const n=e;t[n(215)]();const{max:r,min:a}=t[n(171)];t[n(176)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(237)].position[n(230)];e++)c[n(241)]((t[n(237)][n(220)][n(196)](e)-a.x)/s),c[n(241)]((t[n(237)].position[n(193)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(242)])(u,2))})(d[e(245)][e(224)]),u((()=>{const t=e;g[t(192)][t(233)]=i.show2dCanvas?"block":"none"})),(t,n)=>{const o=e;return l(),p(o(209),{object:f(d).mesh_0},null,8,L)}}});function B(t){function n(t){const e=z;if(typeof t===e(205))return function(t){}.constructor("while (true) {}").apply(e(184));1!==(""+t/t)[e(231)]||t%20==0?function(){return!0}.constructor(e(181)+e(179))[e(188)]("action"):function(){return!1}.constructor(e(181)+e(179))[e(217)](e(185)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function k(){const t=["left","1691408LaWVcj","__proto__","boundingBox","init","warn",'{}.constructor("return this")( )',"2227184DPSlqv","deleteAttribute","object","9KoCHeZ","gger","needsUpdate","debu","40px","absolute","counter","stateObject","body","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","call","create","onclick","material","style","getZ","exception","_renderer","getX","ShaderMaterial","table","prototype","set","test","error","6898353gRLWCe","2286090miXBzL","string","setDataMax","toString","1px solid #5384ff","primitive","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5000800gvKjOO","Texture","return (function() ","createElement","computeBoundingBox","console","apply","top","setScalar","position","./draco/","DoubleSide","layerY","geometry","radius","7652582vleCKg","canvas","heatmap-canvas","0.8","count","length","constructor","display","6kQWYsE","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","14opfYtZ","attributes","appendChild","bind","heatmapClickCom","push","BufferAttribute","10yLDuYl","16408XWEjAx","mesh_0"];return(k=function(){return t})()}function D(){const t=["chain","bind","TresDirectionalLight","50LAxyBf","log","init","1836000hLynYL","heatmapClick","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","圆圈的大小","1003519BeiXrx","return (function() ","length","TresPerspectiveCamera","console","点击左侧蓝色画框","1714036wWHKLd","28634436NFRiRt","table","radius","while (true) {}","string","TresGridHelper","show2dCanvas","190030izXDeT","gger","TresCanvas","toString","1bMuxIu","显示二维图","trace","addBinding","exception","#030311","test","stateObject","1398448KIJAoz","__proto__","9lCxmIt","7mQaLRX","3001026TBLgHN","debu","48KOTgfj","#ffffff","apply","info"];return(D=function(){return t})()}const R=M;!function(t,n){const e=M,o=D();for(;;)try{if(591747===-parseInt(e(342))/1*(parseInt(e(330))/2)+-parseInt(e(319))/3+parseInt(e(356))/4*(parseInt(e(338))/5)+parseInt(e(354))/6*(-parseInt(e(353))/7)+-parseInt(e(350))/8*(-parseInt(e(352))/9)+parseInt(e(316))/10*(-parseInt(e(324))/11)+parseInt(e(331))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(358)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=M,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(321),"i"),o=K(t(318));n.test(o+t(360))&&e[t(348)](o+"input")?K():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(358)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(t,n){const e=D();return(M=function(t,n){return e[t-=314]})(t,n)}T(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function(t(325)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(328)]=n[t(328)]||{},o=[t(317),"warn",t(359),"error",t(346),t(332),t(344)];for(let r=0;r<o[t(326)];r++){const n=T[t(322)].prototype[t(314)](T),a=o[r],s=e[a]||n;n[t(351)]=T.bind(T),n[t(341)]=s[t(341)][t(314)](s),e[a]=n}}))();const O=I(R(327),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),E=I(R(315),{position:[5,10,7.5],color:R(357),intensity:5},null,-1),X=I(R(336),{args:[50,25]},null,-1),Z=i({__name:R(320),setup(t){const o=R,s={clearColor:o(347),shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(345)](i,o(337),{label:o(343)}),c[o(345)](i,o(333),{label:o(323),min:.1,max:30,step:.1}),c.addButton({title:o(329)}),(t,e)=>{const r=h(o(340));return l(),m(r,w(s,{"window-size":""}),{default:g((()=>[O,v(f(n),{autoRotate:!1,autoRotateSpeed:2}),E,X,(l(),m(y,null,{default:g((()=>[v(A,b(x(i)),null,16)])),_:1}))])),_:1},16)}}});function K(t){function n(t){const e=M;if(typeof t===e(335))return function(t){}[e(322)](e(334))[e(358)]("counter");1!==(""+t/t)[e(326)]||t%20==0?function(){return!0}[e(322)](e(355)+"gger").call("action"):function(){return!1}[e(322)](e(355)+e(339)).apply(e(349)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
