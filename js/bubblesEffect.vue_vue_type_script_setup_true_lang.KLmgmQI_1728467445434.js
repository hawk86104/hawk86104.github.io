import{_ as n,C as t,bX as e,cq as o,aN as i,h as r,ab as a}from"./three.5octV-9b1728467445434.js";import{p as s,U as l,z as u}from"./@tresjs.ED4ePb8T1728467445434.js";import{d as c,b as f,a4 as p,a3 as m,o as b,E as g,L as v,aj as d,ak as y,u as h}from"./@vue.JNsx1iN61728467445434.js";function w(n,t){const e=C();return(w=function(n,t){return e[n-=140]})(n,t)}const _=w;!function(n,t){const e=w,o=C();for(;;)try{if(105243===parseInt(e(173))/1*(-parseInt(e(180))/2)+-parseInt(e(159))/3*(parseInt(e(190))/4)+-parseInt(e(172))/5+parseInt(e(153))/6*(-parseInt(e(150))/7)+parseInt(e(146))/8+-parseInt(e(145))/9+parseInt(e(149))/10)break;o.push(o.shift())}catch(i){o.push(o.shift())}}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[w(193)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){x(this,(function(){const n=w,t=new RegExp(n(194)),e=new RegExp(n(186),"i"),o=T(n(156));t[n(177)](o+n(171))&&e.test(o+n(148))?T():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[w(193)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();z(void 0,(function(){const n=w;let t;try{t=Function("return (function() "+n(151)+");")()}catch(i){t=window}const e=t[n(178)]=t[n(178)]||{},o=[n(187),n(162),n(197),n(170),n(176),n(174),n(179)];for(let r=0;r<o.length;r++){const t=z[n(154)][n(163)][n(195)](z),i=o[r],a=e[i]||t;t[n(152)]=z.bind(z),t[n(157)]=a[n(157)].bind(a),e[i]=t}}))();const P=v(_(168),null,null,-1),S=c({__name:_(191),props:{model:{},color:{default:"#84ccff"},opacity:{default:1}},async setup(o){const i=_;let r,a;const c=o,h=f(),w=[];c[i(196)][i(169)]((t=>{const e=i;t instanceof n[e(192)]&&(t[e(189)].verticesNeedUpdate=!0,w.push(t[e(189)]))}));const x=([r,a]=p((()=>u({map:"./plugins/medical/image/brainXRayLight.png"}))),r=await r,a(),r),z={uniforms:{c:{type:"f",value:1.11},p:{type:"f",value:1},glowColor:{type:"c",value:new t(c[i(144)])},lightningTexture:{type:"t",value:x[i(188)]},offsetY:{type:"f",value:.1},uTime:{type:"f",value:0},uOpacity:{type:"f",value:c[i(182)]}},vertexShader:"uniform float c;\nuniform float p;\nuniform float uTime;\nvarying float intensity;\nvarying vec2 vUv;\nvoid main(){\n    vUv=uv;\n    vec3 vNormal=normalize(normalMatrix*normal);\n    intensity=pow(c-abs(dot(vNormal,vec3(0,0,1))),p);\n    gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}",fragmentShader:"uniform vec3 glowColor;\nuniform sampler2D lightningTexture;\nvarying float intensity;\nvarying vec2 vUv;\nuniform float offsetY;\nuniform float uTime;\nuniform float uOpacity;\n\nvoid main(){\n  vec2 uv=vUv;\n  uv.y+=offsetY;\n  vec3 glow=glowColor*intensity;\n  vec3 color=vec3(step(.1,uv.y)-step(.2,uv.y))-vec3(texture2D(lightningTexture,uv));\n  float alpha=clamp(cos(uTime*3.),.5,1.);\n  gl_FragColor=vec4(glow+color,alpha*uOpacity);\n}",side:n[i(185)],blending:n[i(161)],depthWrite:!1};z[i(198)][i(165)][i(184)]=Math[i(199)](5);const{camera:S}=s(),{onLoop:T}=l();return T((({delta:n})=>{const t=i;S[t(184)].position&&h[t(184)]&&(z.uniforms[t(147)][t(184)]+=n)})),m((()=>{const t=i;h[t(184)]&&(h[t(184)][t(189)][t(140)](),h[t(184)][t(189)]=e[t(167)](w)),c[t(144)]&&(z[t(198)][t(158)].value=new(n[t(175)])(c[t(144)])),c[t(182)]&&(z[t(198)][t(183)][t(184)]=c.opacity)})),(n,t)=>{const e=i;return b(),g(e(141),{ref_key:"TresMeshRef",ref:h},[P,v(e(160),d(y(z)),null,16)],512)}}});function T(n){function t(n){const e=w;if("string"==typeof n)return function(n){}[e(154)](e(155))[e(193)](e(181));1!==(""+n/n)[e(142)]||n%20==0?function(){return!0}[e(154)](e(164)+e(143)).call("action"):function(){return!1}.constructor("debu"+e(143))[e(193)](e(166)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function C(){const n=["uniforms","sin","dispose","TresMesh","length","gger","color","1063584HMvXEG","730968QQOfSq","uTime","input","6260220OJyHgU","850283pCVThd",'{}.constructor("return this")( )',"__proto__","6vmiuEB","constructor","while (true) {}","init","toString","glowColor","308304PeEKte","TresShaderMaterial","AdditiveBlending","warn","prototype","debu","offsetY","stateObject","mergeGeometries","TresBufferGeometry","traverse","error","chain","258765VmObai","6064pxFWvM","table","Color","exception","test","console","trace","38lVEOCH","counter","opacity","uOpacity","value","DoubleSide","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","map","geometry","8SFMfPJ","xRayEffect","Mesh","apply","function *\\( *\\)","bind","model","info"];return(C=function(){return n})()}function M(){const n=["4EfjuZb","error","1752363xvamWv",'{}.constructor("return this")( )',"TresBufferGeometry","semantic","model","position","uTime","setAttribute","uOpacity","89886EnGfPr","name","table","value","color","size","process","opacity","Mesh","TresMeshRef","traverse","uSlowTime","toString","Color","init","bubblesEffect","action","BufferGeometryRef","length","push","test","function *\\( *\\)","#FFF","MathUtils","array","input","computeBoundingSphere","TresShaderMaterial","293659gpDCLf","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","brainstem","205SfqDMG","exception","debu","TresPoints","constructor","6434365ZgvJoj","randFloat","180JNsAqb","randInt","log","8AExgoe","afective","bind","apply","gger","material","Float32BufferAttribute","DoubleSide","12962367KPtkiw","868580dgdUGU","ShaderMaterial","map","bridge","console","21312siczqE","uniforms","attributes","counter","includes"];return(M=function(){return n})()}const I=E;!function(n,t){const e=E,o=M();for(;;)try{if(468524===-parseInt(e(190))/1*(parseInt(e(151))/2)+parseInt(e(129))/3*(-parseInt(e(146))/4)+parseInt(e(194))/5*(-parseInt(e(162))/6)+parseInt(e(127))/7+parseInt(e(132))/8*(-parseInt(e(153))/9)+parseInt(e(141))/10+parseInt(e(140))/11)break;o.push(o.shift())}catch(i){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(135)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=E,t=new RegExp(n(183)),e=new RegExp(n(192),"i"),o=B(n(176));t[n(182)](o+"chain")&&e[n(182)](o+n(187))?B():o("0")}))()}();const U=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(135)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(n,t){const e=M();return(E=function(n,t){return e[n-=125]})(n,t)}U(void 0,(function(){const n=E;let t;try{t=Function(n(191)+n(154)+");")()}catch(i){t=window}const e=t.console=t[n(145)]||{},o=[n(131),"warn","info",n(152),n(195),n(164),"trace"];for(let r=0;r<o[n(180)];r++){const t=U.constructor.prototype[n(134)](U),i=o[r],a=e[i]||t;t.__proto__=U[n(134)](U),t[n(174)]=a[n(174)].bind(a),e[i]=t}}))();const j=c({__name:I(177),props:{model:{},color:{default:I(184)},opacity:{default:1}},setup(t){const e=I,s=t,u=[e(133),e(156),"episodic",e(168),"amigdala",e(193),e(144),"cerebellum","analitic"],c={};s[e(157)][e(172)]((t=>{const i=e;t instanceof n[i(170)]&&u[i(143)]((n=>{const e=i;if(t[e(163)][e(150)](n)){if(c[n]){const e=[c[n],t.geometry];return c[n]=o(e),c}return c[n]=t.geometry}return[]}))}));const p=f(),w=new(n[e(142)])({uniforms:{glowColor:{type:"c",value:new(n[e(175)])(s[e(166)])},uTime:{type:"f",value:0},uSlowTime:{type:"f",value:0},uBubblesUp:{type:"f",value:1},uOpacity:{type:"f",value:s[e(169)]}},vertexShader:"uniform float p;\nuniform float uTime;\nuniform float uSlowTime;\nuniform float uBubblesUp;\nvarying float intensity;\nattribute vec2 aDelayDuration;\nattribute float size;\nattribute vec4 bubbles;\nvarying float alpha;\n\nfloat easeExpoInOut(float p){\n    return((p*=2.)<1.)?.5*pow(2.,10.*(p-1.)):.5*(2.-pow(2.,-10.*(p-1.)));\n}\n\nvoid main()\n{\n    intensity=.9;\n    vec4 mvPosition=modelViewMatrix*vec4(position,1.);\n    gl_PointSize=size*(300./-mvPosition.z);\n    float m=mod(size,sin(uSlowTime*.12+size));\n    \n    alpha=step(.5,abs(m));\n    if(m>.5&&m<.7){\n        gl_PointSize=.9*size;\n    }\n    if(m>.8){\n        gl_PointSize=.9*size;\n    }\n    \n    gl_Position=projectionMatrix*mvPosition;\n    \n    if(bubbles.w>0.&&bubbles.w<2.&&bubbles.x!=0.&&bubbles.y!=0.){\n        gl_PointSize=size+15.;\n        alpha=clamp(abs(sin(uTime-bubbles.y)),.3,1.);\n        \n        float tProgress=smoothstep(0.,aDelayDuration.x,uBubblesUp);\n        vec3 tranlated=mix(position,bubbles.xyz,tProgress);\n        vec4 bPosition=modelViewMatrix*vec4(tranlated,1.);\n        \n        gl_PointSize=uBubblesUp*gl_PointSize;\n        gl_Position+=projectionMatrix*bPosition;\n        alpha=5.;\n    }\n    \n    if(bubbles.w==2.){\n        alpha=clamp(abs(sin(uTime-bubbles.y)),.3,.6);\n        gl_PointSize=size+60.;\n        \n        gl_PointSize=uBubblesUp*gl_PointSize;\n        float normalized=clamp(uBubblesUp,0.,2.)*2.;\n        vec3 tranlated=mix(position,bubbles.xyz,normalized);\n        vec4 bPosition=modelViewMatrix*vec4(tranlated,1.);\n        gl_Position+=projectionMatrix*bPosition;\n    }\n    if(bubbles.w==3.){\n        alpha=clamp(abs(sin(uTime-bubbles.y)),.3,1.);\n        gl_PointSize=size+90.;\n        \n        gl_PointSize=uBubblesUp*gl_PointSize;\n        float normalized=clamp(uBubblesUp,0.,2.)*2.;\n        vec3 tranlated=mix(position,bubbles.xyz,normalized);\n        vec4 bPosition=modelViewMatrix*vec4(tranlated,1.);\n        gl_Position+=projectionMatrix*bPosition;\n    }\n}",fragmentShader:"precision mediump float;\nuniform vec3 glowColor;\nvarying float intensity;\nvarying float alpha;\nuniform float uOpacity;\nvoid main() {\n  float distanceToCenter = distance(gl_PointCoord, vec2(.5));\n  float pct = 1. - smoothstep(0., .5, distanceToCenter);\n  vec3 color = vec3(1.) * gl_FragColor.rgb;\n  vec3 glow = glowColor * intensity;\n  gl_FragColor = vec4(glow, clamp(alpha, 0., 1.));\n  gl_FragColor = vec4(glow, pct * gl_FragColor.a);\n  gl_FragColor = vec4(gl_FragColor.rgb, gl_FragColor.a * uOpacity);\n  // gl_FragColor=vec4(1.,1.,0.,1.);\n}",blending:i,side:n[e(139)],depthTest:!1,vertexColors:!1,transparent:!0});m((()=>{p[e(165)]&&(()=>{const t=e,o=[],i=[],s=[],l=[];for(let e=0;e<2e4-3*u[t(180)];e+=1){const a=n[t(185)].randInt(0,u[t(180)]-1),f=u[a],p=c[f][t(148)][t(158)][t(186)][3*e+0]||0,m=c[f][t(148)].position.array[3*e+1]||0,b=c[f][t(148)][t(158)][t(186)][3*e+2]||0;if(i[t(181)](p,m,b),o[e]=n[t(185)][t(128)](10,20),e%100==0){const n=r[t(130)](100,250)+m;l.push(p,n,b,1)}else l[t(181)](p,m,b,0);s[2*e+0]=r[t(128)](.5,1.5),s[2*e+1]=2.5}p[t(165)][t(160)]("aDelayDuration",new a(s,2)),p[t(165)].setAttribute("bubbles",new a(l,4)),p[t(165)][t(160)](t(158),new(n[t(138)])(i,3)),p[t(165)][t(160)]("color",new a([],3)),p.value[t(160)](t(167),new a(o,1)),p[t(165)][t(188)]()})()}));const _=f(),{onLoop:x}=l();return x((({delta:t})=>{const o=e;_[o(165)]&&(_[o(165)][o(137)].uniforms[o(159)][o(165)]+=.05,_.value[o(137)][o(147)][o(173)][o(165)]+=1/400),s[o(166)]&&(w[o(147)].glowColor.value=new(n[o(175)])(s[o(166)])),s[o(169)]&&(w[o(147)][o(161)].value=s[o(169)])})),(n,t)=>{const o=e;return b(),g(o(125),{ref_key:o(171),ref:_},[v(o(155),{ref_key:o(179),ref:p},null,512),v(o(189),d(y(h(w))),null,16)],512)}}});function B(n){function t(n){const e=E;if("string"==typeof n)return function(n){}[e(126)]("while (true) {}")[e(135)](e(149));1!==(""+n/n)[e(180)]||n%20==0?function(){return!0}.constructor(e(196)+e(136)).call(e(178)):function(){return!1}[e(126)]("debu"+e(136)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{S as _,j as a};
