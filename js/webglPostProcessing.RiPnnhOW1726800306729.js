import{i as t}from"./ice-utils.-xzYnWwf1726800306729.js";import{c as n,_ as e,m as o,s as r}from"./gl-matrix.EID00hSp1726800306729.js";import{P as i}from"./tweakpane.yHWGBmom1726800306729.js";import{d as a,r as c,q as s,o as u,E as f,L as l,u as m}from"./@vue.bvMz0l_u1726800306729.js";const _="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",x="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}";function d(t,n){const e=R();return(d=function(t,n){return e[t-=345]})(t,n)}const p=d;!function(t,n){const e=d,o=R();for(;;)try{if(581864===parseInt(e(443))/1+-parseInt(e(377))/2*(parseInt(e(350))/3)+parseInt(e(397))/4*(-parseInt(e(358))/5)+parseInt(e(408))/6+-parseInt(e(430))/7*(parseInt(e(369))/8)+parseInt(e(402))/9+-parseInt(e(366))/10*(parseInt(e(347))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(419)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=d,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=y("init");n.test(o+t(368))&&e[t(401)](o+t(375))?y():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=d;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(378)]=n[t(378)]||{},o=[t(393),t(389),t(352),t(444),"exception","table","trace"];for(let i=0;i<o[t(416)];i++){const n=E[t(387)].prototype[t(422)](E),r=o[i],a=e[r]||n;n[t(417)]=E[t(422)](E),n.toString=a[t(421)][t(422)](a),e[r]=n}}))();const A={id:p(392)},T=[p(380)];function R(){const t=["drawElements","TEXTURE_WRAP_S","TEXTURE_MIN_FILTER","getElementById","470771EOHewp","error","create","color","change","clear","158015LEUcUw","height","bindFramebuffer","258bgLYDU","offset_left_bottom","info","offset_left_top","webglPostProcessing","img","stateObject","是否后处理","5SNLwsy","slider","#canvaswebgl","gger","BYTES_PER_ELEMENT","innerWidth","getContext","COLOR_ATTACHMENT0","470JLqqnl","createFramebuffer","chain","136848AKhRhr","inline","querySelector","vertexAttribPointer","ELEMENT_ARRAY_BUFFER","bufferData","input","ONE_MINUS_SRC_ALPHA","112BYtzme","console","string","src","createTexture","TEXTURE_2D","NEAREST","canvas","addBinding","texParameteri","constructor","translate","warn","bindBuffer","uProjection","canvaswebgl","log","clearColor","RGBA","uModel","2526580UHILPV","offset_right_top","uniformMatrix4fv","bindTexture","test","4602303zoisCW","value","call","webgl","uniform1f","offset_right_bottom","6802320wvVFuW","width","blendFunc","FRAMEBUFFER","innerHeight","ARRAY_BUFFER","COLOR_BUFFER_BIT","UNSIGNED_BYTE","length","__proto__","uView","apply","CLAMP_TO_EDGE","toString","bind","getUniformLocation","texImage2D","lookAt","TRIANGLES","useProgram","addBlade","mat4","91rwackw","enableVertexAttribArray","debu","BLEND","logo-texture","framebufferTexture2D","ortho","FLOAT","none"];return(R=function(){return t})()}const b=a({__name:p(354),setup(a){const d=p;let g,E,R,b,y,h,v,w,F,C,P,I,U;const L=1,B=.71,D=.76,S=new i({title:"参数"}),M=c({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});S[d(428)]({view:d(359),label:"颜色",min:0,max:1,value:.5}).on(d(345),(t=>{const n=d;k(),E[n(406)](I,t[n(403)])}));let N=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);S[d(385)](M,"hidden",{label:d(357)}),S[d(385)](M,d(398),{picker:"inline",x:{min:0,max:1},y:{min:0,max:1}}).on(d(345),(t=>{const n=d;N[0]=M.offset_right_top.x,N[1]=M[n(398)].y,k()})),S[d(385)](M,d(407),{picker:d(370),x:{min:-1,max:1},y:{min:-1,max:1}}).on(d(345),(t=>{const n=d;N[5]=M.offset_right_bottom.x,N[6]=M[n(407)].y,k()})),S[d(385)](M,d(351),{picker:d(370),x:{min:-1,max:1},y:{min:-1,max:1}}).on(d(345),(t=>{const n=d;N[10]=M.offset_left_bottom.x,N[11]=M[n(351)].y,k()})),S[d(385)](M,d(353),{picker:d(370),x:{min:-1,max:1},y:{min:-1,max:1}}).on(d(345),(t=>{const n=d;N[15]=M.offset_left_top.x,N[16]=M[n(353)].y,k()})),s((()=>{O()}));const O=function(){const n=d;g=document[n(371)](n(360)),g[n(409)]=window[n(363)],g.height=window[n(412)],E=g[n(364)](n(405)),E&&(function(){const n=d,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);b=H(e,o),R=t(E,_,x),F=E[n(423)](R,n(391)),C=E[n(423)](R,n(418)),P=E[n(423)](R,n(396)),U=G(document[n(442)]("logo-texture"))}(),k(),E.enable(E[n(433)]),E[n(410)](E.SRC_ALPHA,E[n(376)]),Y())};function Y(){const t=d;E[t(349)](E[t(411)],v),E[t(394)](L,B,D,1),E[t(346)](E[t(414)]),function(){const t=d;E[t(427)](R),E[t(390)](E.ARRAY_BUFFER,b);const r=n();e[t(429)][t(436)](r,0,g[t(409)],g.height,0,.1,100),E.uniformMatrix4fv(F,!1,r);const i=o[t(445)]();e[t(429)][t(425)](i,[0,0,1],[0,0,0],[0,1,0]),E.uniformMatrix4fv(C,!1,i),j(U,600,600),j(U,400,400)}(),E[t(349)](E[t(411)],null),M.hidden&&(E.clear(E[t(414)]),E.clearColor(0,0,1,1),E[t(390)](E[t(413)],y),E[t(427)](h),E.bindTexture(E[t(382)],w)),E[t(439)](E[t(426)],6,E[t(415)],0),requestAnimationFrame(Y)}function j(t,n,o){const i=d;let a=e[i(429)][i(445)]();e[i(429)][i(388)](a,a,[n,o,0]),r(a,a,[250,250,0]),E[i(399)](P,!1,a),E[i(400)](E[i(382)],t),E[i(439)](E[i(426)],6,E.UNSIGNED_BYTE,0)}function k(){const n=d,e=new Uint8Array([0,1,2,0,2,3]);y=H(N,e),h=t(E,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),I=E.getUniformLocation(h,"mixParam"),E[n(423)](h,n(446)),function(){const t=d;w=G(g),v=E[t(367)](),E[t(349)](E.FRAMEBUFFER,v),E[t(435)](E[t(411)],E[t(365)],E[t(382)],w,0),E[t(349)](E[t(411)],null)}()}function G(t){const n=d,e=E[n(381)]();return E[n(400)](E.TEXTURE_2D,e),t instanceof HTMLImageElement?E[n(424)](E.TEXTURE_2D,0,E[n(395)],E[n(395)],E[n(415)],t):E[n(424)](E[n(382)],0,E[n(395)],t.width,t[n(348)],0,E[n(395)],E[n(415)],null),E[n(386)](E[n(382)],E[n(441)],E[n(383)]),E[n(386)](E[n(382)],E.TEXTURE_MAG_FILTER,E[n(383)]),E.texParameteri(E[n(382)],E[n(440)],E[n(420)]),E[n(386)](E[n(382)],E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),e}function H(t,n){const e=d,o=E.createBuffer();E[e(390)](E[e(413)],o),E[e(374)](E[e(413)],t,E.STATIC_DRAW);const r=3*Float32Array[e(362)]+2*Float32Array[e(362)];E[e(372)](0,3,E[e(437)],!1,r,0),E[e(431)](0),E[e(372)](1,2,E[e(437)],!1,r,3*Float32Array[e(362)]),E[e(431)](1);const i=E.createBuffer();return E[e(390)](E[e(373)],i),E.bufferData(E[e(373)],n,E.STATIC_DRAW),E.bindBuffer(E.ARRAY_BUFFER,null),o}return(t,n)=>{const e=d;return u(),f(e(384),A,[l(e(355),{id:e(434),src:m("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(438)}},null,8,T)])}}});function y(t){function n(t){const e=d;if(typeof t===e(379))return function(t){}[e(387)]("while (true) {}").apply("counter");1!==(""+t/t)[e(416)]||t%20==0?function(){return!0}.constructor(e(432)+e(361))[e(404)]("action"):function(){return!1}[e(387)](e(432)+e(361))[e(419)](e(356)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{b as default};
