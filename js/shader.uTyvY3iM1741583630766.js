import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.ZmhvXhx31741583630766.js";import{_ as i,aX as s,y as a,a0 as c}from"./three.sQDbNBks1741583630766.js";import{P as u}from"./tweakpane.yDiyAAkA1741583630766.js";import{L as l}from"./three-subdivide.uW8UjeuD1741583630766.js";import{d as f,b as p,a2 as d,w as g,o as m,H as h,N as v,aj as y,ak as w,a3 as b,r as I,e as _,f as M,g as x,j as T,u as S,m as j,M as k}from"./@vue.NRI7TcgI1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";const B=C;!function(n,t){const e=C,r=z();for(;;)try{if(250124===-parseInt(e(132))/1+parseInt(e(145))/2*(-parseInt(e(125))/3)+-parseInt(e(159))/4*(-parseInt(e(116))/5)+parseInt(e(106))/6*(parseInt(e(138))/7)+parseInt(e(161))/8*(parseInt(e(155))/9)+parseInt(e(115))/10+-parseInt(e(104))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(107)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(n,t){const e=z();return(C=function(n,t){return e[n-=101]})(n,t)}!function(){A(this,(function(){const n=C,t=new RegExp(n(147)),e=new RegExp(n(120),"i"),r=G(n(135));t[n(123)](r+"chain")&&e[n(123)](r+n(129))?G():r("0")}))()}();const F=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(107)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function z(){const n=["Color","input","glowColor","material","443811KenmtX","position","uniforms","init","blending","counter","23891hznywt","console","length","TresShaderMaterial","action","modify","__proto__","2duCuTI","TSGref","function *\\( *\\)","value","geometry","exception","shineShader","error","#ffff00","bind","3851154UySiBj","while (true) {}","Vector3","warn","1827880sXqTHW","attributes","8dlZAxw","FrontSide","srcMesh","debu","info","2338974FcMEGa","viewVector","54xKkwrO","apply",'{}.constructor("return this")( )',"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","constructor","subVectors","copy","call","clone","4883850YPmRkM","5spQwTf","scale","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","color","test","table","1492227qtpORh","toString","gger"];return(z=function(){return n})()}F(void 0,(function(){const n=C;let t;try{t=Function(n(121)+n(108)+");")()}catch(o){t=window}const e=t[n(139)]=t[n(139)]||{},r=["log",n(158),n(103),n(152),n(150),n(124),"trace"];for(let i=0;i<r[n(140)];i++){const t=F[n(110)][n(119)].bind(F),o=r[i],s=e[o]||t;t[n(144)]=F[n(154)](F),t.toString=s[n(126)][n(154)](s),e[o]=t}}))();const R=[B(117)],V=f({__name:B(151),props:{srcMesh:{},scale:{default:1.2},color:{default:B(153)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(162)]},blending:{default:s}},setup(e){const r=B,o=e,s=p(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(128)])(o[r(122)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(109),fragmentShader:r(118),side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(136)]};d((()=>{const n=r;if(o.srcMesh&&s[n(148)]&&!s[n(148)][n(149)][n(160)][n(133)]){let t=o[n(101)].geometry.clone();o.subdivision&&(t=l[n(143)](t,2)),s[n(148)].geometry=t,s[n(148)].position[n(112)](o[n(101)][n(133)])}o[n(122)]&&(a[n(134)][n(130)][n(148)]=new(i[n(128)])(o.color)),o.c&&(a[n(134)].c[n(148)]=o.c),o.p&&(a[n(134)].p[n(148)]=o.p)})),g((()=>o.subdivision),(n=>{const t=r;let e=o.srcMesh[t(149)][t(114)]();n&&(e=l[t(143)](e,2)),s.value.geometry=e})),g((()=>o.side),(n=>{const t=r;s[t(148)][t(131)].side=n})),g((()=>o[r(136)]),(n=>{const t=r;s.value[t(131)].blending=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=r;u[n(148)]&&s.value&&(a.uniforms[n(105)][n(148)]=(new(i[n(157)]))[n(111)](u[n(148)][n(133)],s[n(148)].position))})),(n,t)=>{const e=r;return m(),h("TresMesh",{ref_key:e(146),ref:s,scale:o[e(117)]},[v(e(141),y(w(a)),null,16)],8,R)}}});function G(n){function t(n){const e=C;if("string"==typeof n)return function(n){}[e(110)](e(156))[e(107)](e(137));1!==(""+n/n)[e(140)]||n%20==0?function(){return!0}[e(110)]("debugger")[e(113)](e(142)):function(){return!1}.constructor(e(102)+e(127)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=K;!function(n,t){const e=K,r=H();for(;;)try{if(371314===parseInt(e(243))/1*(parseInt(e(293))/2)+-parseInt(e(254))/3+-parseInt(e(289))/4+-parseInt(e(276))/5+parseInt(e(258))/6*(-parseInt(e(286))/7)+parseInt(e(270))/8*(-parseInt(e(301))/9)+-parseInt(e(277))/10*(-parseInt(e(298))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[K(272)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Z(this,(function(){const n=K,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=q("init");t[n(256)](r+n(280))&&e[n(256)](r+n(250))?q():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[K(272)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();E(void 0,(function(){const n=K,t=function(){const n=K;let t;try{t=Function(n(244)+n(273)+");")()}catch(e){t=window}return t}(),e=t[n(300)]=t[n(300)]||{},r=[n(246),n(283),n(268),n(284),n(302),n(265),"trace"];for(let o=0;o<r[n(275)];o++){const t=E[n(303)].prototype.bind(E),i=r[o],s=e[i]||t;t[n(248)]=E[n(278)](E),t[n(267)]=s[n(267)][n(278)](s),e[i]=t}}))();const P=[N(255)],X=[N(255)];function H(){const n=["82335XvigJx","TresMeshRefB","console","5197995dcquDL","exception","constructor","13412HFFyyk","return (function() ","action","log","TresMeshRefA","__proto__","TresAmbientLight","input","TresCanvas","FrontSide","BackSide","2213646gDJPtI","map","test","logo.png","31092wGtoyZ","color","call","TresBoxGeometry","TresGridHelper","gger","#0ff","table","TresPerspectiveCamera","toString","info","srcMesh","8uKVJnM","TresSphereGeometry","apply",'{}.constructor("return this")( )',"value","length","1035585PdrDeW","3510gcZpgv","bind","addBinding","chain","边缘处理","AdditiveBlending","warn","error","NormalBlending","917SIXGXH","debu","#00dfff","2954148VFqTnW","TreBoxRef","TresMeshBasicMaterial","subdivision","102lOfbKK","TresMesh","#222","side","blending"];return(H=function(){return n})()}function K(n,t){const e=H();return(K=function(n,t){return e[n-=243]})(n,t)}const O=f({__name:"shader",async setup(n){const t=N;let s,l;const f={clearColor:t(295)},d=p(),g=p(),h=p(),y=([s,l]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(257)]))),s=await s,l(),s),w=I({scale:1.6,color:t(288),subdivision:!0,c:1.1,p:1.4,side:i[t(252)],blending:i[t(282)]}),B=new u({title:"参数",expanded:!0});return B[t(279)](w,t(259),{label:"颜色"}),B[t(279)](w,"scale",{label:"大小",min:1,max:3,step:.2}),B[t(279)](w,t(292),{label:t(281)}),B[t(279)](w,"c",{label:"c",min:0,max:2,step:.1}),B[t(279)](w,"p",{label:"p",min:0,max:8,step:.2}),B.addBinding(w,t(296),{options:{FrontSide:a,BackSide:i[t(253)],DoubleSide:c}}),B.addBinding(w,t(297),{options:{AdditiveBlending:i[t(282)],NormalBlending:i[t(285)]}}),(n,o)=>{const i=t,s=_(i(251));return m(),M(s,j(f,{"window-size":""}),{default:x((()=>[o[2]||(o[2]=v(i(266),{position:[5,5,5]},null,-1)),o[3]||(o[3]=v(i(249),{intensity:1},null,-1)),T(S(e)),o[4]||(o[4]=v(i(262),{args:[10,10]},null,-1)),v(i(294),{ref_key:i(247),ref:d,position:[-2,1,0]},[o[0]||(o[0]=v(i(271),{args:[1,32,16]},null,-1)),v(i(291),{map:S(y)[0]},null,8,P)],512),T(V,j({srcMesh:d.value},w),null,16,[i(269)]),T(S(r),{ref_key:i(290),ref:h,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v(i(291),{map:S(y)[1]},null,8,X)])),_:1},512),h[i(274)]&&h[i(274)].instance?(m(),M(V,j({key:0,srcMesh:h[i(274)].instance},w),null,16,[i(269)])):k("",!0),v("TresMesh",{ref_key:i(299),ref:g,position:[0,1,-2]},o[1]||(o[1]=[v(i(261),{args:[1,1,1,1,1]},null,-1),v(i(291),{color:i(264)},null,-1)]),512),T(V,j({srcMesh:g[i(274)]},w),null,16,[i(269)])])),_:1},16)}}});function q(n){function t(n){const e=K;if("string"==typeof n)return function(n){}[e(303)]("while (true) {}")[e(272)]("counter");1!==(""+n/n)[e(275)]||n%20==0?function(){return!0}.constructor(e(287)+e(263))[e(260)](e(245)):function(){return!1}[e(303)](e(287)+"gger")[e(272)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{O as default};
