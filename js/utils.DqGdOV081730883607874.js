import{a as t,B as n,s as e,c5 as o,C as r,k as s,a0 as i}from"./three.fIUcjaNz1730883607874.js";import{w as c}from"./@fesjs.DQmvwjPe1730883607874.js";import{a}from"./@tresjs.C3WO4ZW41730883607874.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.yJpBh0Yi1730883607874.js";!function(t,n){const e=x,o=h();for(;;)try{if(790925===parseInt(e(131))/1+parseInt(e(137))/2+-parseInt(e(154))/3*(parseInt(e(178))/4)+parseInt(e(201))/5*(parseInt(e(194))/6)+parseInt(e(191))/7+-parseInt(e(148))/8+parseInt(e(130))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[x(152)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=x,n=new RegExp(t(170)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=_(t(187));n[t(175)](o+t(179))&&e[t(175)](o+"input")?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[x(152)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function h(){const t=["config","min","push","getY","test","position","divideScalar","936QKKUHu","chain","center","error","uniforms","#fff","string","getSize","catch","init","constructor","prototype","warn","3564316bPHEIM","debu","Box3","161610rsFVqh","length","add","expandByObject","__proto__","getX","bind","20MhGLqk","transparent","setAttribute","sub","gger","geometry","6517170JLePmg","862192XLwBUw","then","max","table","while (true) {}","copy","2525998lIhRRy","children","call","deleteAttribute","value","getCenter","forEach","computeBoundingBox","computeBoundsTree","clone","count","11422960wzLMRv","attributes","info",'{}.constructor("return this")( )',"apply","console","15993rDUllK","counter","side","action","trace","raycast","negate","log","random","get","set","return (function() ","boundingBox","toString","setY","material","function *\\( *\\)"];return(h=function(){return t})()}m(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(165)+t(151)+");")()}catch(e){n=window}return n}(),e=n[t(153)]=n.console||{},o=[t(161),t(190),t(150),t(181),"exception",t(134),t(158)];for(let r=0;r<o[t(195)];r++){const n=m[t(188)][t(189)].bind(m),s=o[r],i=e[s]||n;n[t(198)]=m[t(200)](m),n[t(167)]=i[t(167)][t(200)](i),e[s]=n}}))();const g=(n,e=!1)=>{const o=x;n[o(144)]();const{max:r,min:s}=n.boundingBox;n[o(140)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(149)].position[o(147)];t++)e?(a[o(173)]((n[o(149)].position[o(199)](t)-(s.x+r.x)/2)/i),a.push((n[o(149)].position[o(174)](t)-(s.y+r.y)/2)/c)):(a.push((n[o(149)][o(176)][o(199)](t)-s.x)/i),a[o(173)]((n.attributes.position[o(174)](t)-s.y)/c));const u=new Float32Array(a);n[o(203)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=x;c(t,{},{method:r(163),mergeRequest:!0})[r(132)]((t=>{n&&e(t[n]),e(t.features)}))[r(186)]((t=>{console.error(t),o(t)}))})),w=t=>{const n=x,e=(new(THREE[n(193)])).setFromObject(t),o=new THREE.Vector3;e[n(142)](o),t[n(138)][n(143)]((t=>{const e=n;t.position[e(204)](o)})),t[n(176)][n(136)](o[n(160)]())},y=()=>{const t=x;n[t(189)].computeBoundsTree=u,n[t(189)].disposeBoundsTree=f,e[t(189)][t(159)]=p},b=async t=>{const n=x,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(129)][n(146)]();g(c),c[n(145)]();const u=new o(c,{color:new r(n(183)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(202)]=!0,u[n(169)].depthWrite=!0,u[n(169)].depthTest=!0,u[n(169)][n(156)]=i,u.material.uniforms[n(171)][n(141)].w=20,u[n(169)][n(182)].reflectivity[n(141)]=.46,u};function x(t,n){const e=h();return(x=function(t,n){return e[t-=129]})(t,n)}function j(t){const n=x,e=[];for(let r=0;r<t[n(195)];r++)e[n(173)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(195)];r++)o[n(196)](e[r]);o[n(177)](e[n(195)]);for(let r=0;r<e[n(195)];r++)e[r].sub(o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=x;if(typeof t===e(184))return function(t){}[e(188)](e(135))[e(152)](e(155));1!==(""+t/t)[e(195)]||t%20==0?function(){return!0}.constructor("debugger")[e(139)](e(157)):function(){return!1}[e(188)](e(192)+e(205))[e(152)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,y as i,d as l,g as r,b as s};
