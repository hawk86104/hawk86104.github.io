import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.bPQUVjCO1725721021019.js";import{B as i,V as s,cm as n,ay as e,N as r,h as o,ae as a,Y as h,q as c,a6 as u}from"./three.a9V66irq1725721021019.js";import{$ as l,D as d,j as p}from"./@tresjs.bIWdfO9a1725721021019.js";import{c as m}from"./simplex-noise.MycypUyu1725721021019.js";import{d as f,a2 as g,o as y,E as b,u as x,r as S,j as v,g as w,m as P,F as I}from"./@vue._6MD2XyK1725721021019.js";import"./index.q8IkReLn1725721021019.js";import{_}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.UKPi4bc_1725721021019.js";import"./three-custom-shader-material.gg2LVNSQ1725721021019.js";import"./object-hash.xtAmzdrT1725721021019.js";import"./@amap.9EMhYPgf1725721021019.js";import"./jszip.NwxLGTBs1725721021019.js";import"./glsl-tokenizer._ewZtuPE1725721021019.js";import"./glsl-token-string.3i-LTnSg1725721021019.js";import"./glsl-token-functions.Tl-bwbDs1725721021019.js";import"./tweakpane.yHWGBmom1725721021019.js";import"./@vueuse.Ex-1AOlz1725721021019.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.0XZ5az_21725721021019.js";import"./all.three.zkQuGYKz1725721021019.js";import"./oimophysics.x0jH7fze1725721021019.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.wuzluwkX1725721021019.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.531mB2eW1725721021019.js";import"./index.HwcLpeBY1725721021019.js";import"./three-stdlib.-DW5PGsS1725721021019.js";import"./@pmndrs._LoKiQ331725721021019.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.9nnNjEsU1725721021019.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.m6d7KCy21725721021019.js";const M=T;function T(t,i){const s=R();return(T=function(t,i){return s[t-=403]})(t,i)}!function(t,i){const s=T,n=R();for(;;)try{if(550965===parseInt(s(448))/1+parseInt(s(493))/2*(parseInt(s(494))/3)+parseInt(s(550))/4*(-parseInt(s(412))/5)+-parseInt(s(407))/6+-parseInt(s(544))/7+-parseInt(s(482))/8+-parseInt(s(469))/9*(-parseInt(s(510))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const j=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){j(this,(function(){const t=T,i=new RegExp("function *\\( *\\)"),s=new RegExp(t(438),"i"),n=C(t(535));i[t(434)](n+t(553))&&s[t(434)](n+t(549))?C():n("0")}))()}();const A=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[T(516)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function R(){const t=["roughness","propagationTimeFactor","test","maxRaySegments","lerp","add","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","currentUVCoordinate","uvs","currentIndex","forwardsFill","endPropagationTime","vertices","createSegment","iteration","call","673212buyIss","RAY_UNBORN","warn","RAY_EXTINGUISHED","simplexY","timeFraction","radius1","seed","SIN30DEG","isStatic","beginVanishingTime","RAY_PROPAGATING","multiplyScalar","table","vPos","noiseSeed","set","gger","forwards","lerpVectors","constructor","36NPjMtW","setSeed","pow","ceil","count","push","state","simplexZ","crossVectors","stateObject","RAY_INITIALIZED","getSeed","currentSubray","3820680BesjOU","string","setIndex","subrayPeriod","normalize","currentSegmentIndex","subVectors","array","visible","isEternal","deathTime","12962GDZXPX","318ZfTOwe","destOffset","exception","subrayProbability","usage","linPos1","random","generateUVs","newPos","isInitialSegment","cos","clone","console","sin","sourceOffset","return (function() ","2599110PdqpGX","error","simplexX","log","currentCoordinate","fraction0","apply","updateMesh","down","radius0Factor","max","timeScale","min","createTriangleVerticesWithoutUVs","ramification","sub","radius0","indices","fillMesh","createRandomGenerator","initSubray","up0","linPos0","subrayCylinderPosition","fractalRayRecursive","init","maxSubrayRecursion","currentSegmentCallback","middleLinPos","toString","onSubrayCreation","currentCreateTriangleVertices","position","drawRange","2807126jeEdpL","uvsAttribute","maxIterations","length","currentSeed","input","3604POrvaK","index","recursion","chain","RAY_STEADY","positionVariationFactor","fraction1","birthTime","randomGenerator","bind","middlePos","COS30DEG","subrays","rayParameters","maxSubrays","createMesh","getNewSegment","createPrismFaces","positionAttribute","needsUpdate","createDefaultSubrayCreationCallbacks","pos0","createPrism","3491658JQhOuC","vanishingTimeFactor","subrayDutyCycle","RAY_VANISHING","radius1Factor","2155yPaQnw","recursionProbability","raySegments","up1","minRadius","seedGenerator","currentVertex","copy","fractalRay","floor","straightness","update","side","copyParameters","__proto__","time","pos1","onDecideSubrayCreation","createSubray","numSubrays"];return(R=function(){return t})()}A(void 0,(function(){const t=T;let i;try{i=Function(t(509)+'{}.constructor("return this")( ));')()}catch(e){i=window}const s=i[t(506)]=i[t(506)]||{},n=[t(513),t(450),"info",t(511),t(496),t(461),"trace"];for(let r=0;r<n[t(547)];r++){const i=A[t(468)].prototype.bind(A),e=n[r],o=s[e]||i;i[t(426)]=A[t(559)](A),i[t(539)]=o[t(539)].bind(o),s[e]=i}}))();class V extends i{constructor(t={}){const i=T;super(),this.isLightningStrike=!0,this.type="LightningStrike",this[i(535)](V.copyParameters(t,t)),this[i(565)]()}static[M(529)](){const t=M,i=2053,s=[];for(let e=0;e<i;e++)s[t(474)](Math[t(500)]());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(548)]];return n[e(548)]=(n.currentSeed+1)%i,r},getSeed:function(){return n.currentSeed/i},setSeed:function(s){const e=t;n.currentSeed=Math[e(421)](s*i)%i}};return n}static[M(425)](t={},i={}){const n=M,e=function(s){return i===t?s:s.clone()};return t[n(508)]=void 0!==i[n(508)]?e(i[n(508)]):new s(0,100,0),t.destOffset=void 0!==i.destOffset?e(i.destOffset):new s(0,0,0),t[n(521)]=void 0!==i[n(521)]?i[n(521)]:1,t[n(432)]=void 0!==i[n(432)]?i[n(432)]:.9,t.straightness=void 0!==i.straightness?i.straightness:.7,t[n(531)]=void 0!==i[n(531)]?e(i.up0):new s(0,0,1),t[n(415)]=void 0!==i.up1?e(i[n(415)]):new s(0,0,1),t.radius0=void 0!==i[n(526)]?i[n(526)]:1,t[n(454)]=void 0!==i[n(454)]?i.radius1:1,t[n(519)]=void 0!==i.radius0Factor?i.radius0Factor:.5,t.radius1Factor=void 0!==i[n(411)]?i[n(411)]:.2,t[n(416)]=void 0!==i[n(416)]?i[n(416)]:.2,t[n(491)]=void 0!==i.isEternal?i[n(491)]:void 0===i[n(557)]||void 0===i.deathTime,t[n(557)]=i[n(557)],t[n(492)]=i[n(492)],t[n(433)]=void 0!==i[n(433)]?i.propagationTimeFactor:.1,t.vanishingTimeFactor=void 0!==i[n(408)]?i[n(408)]:.9,t.subrayPeriod=void 0!==i.subrayPeriod?i[n(485)]:4,t[n(409)]=void 0!==i[n(409)]?i[n(409)]:.6,t[n(546)]=void 0!==i[n(546)]?i.maxIterations:9,t.isStatic=void 0!==i.isStatic&&i[n(457)],t[n(524)]=void 0!==i[n(524)]?i[n(524)]:5,t[n(536)]=void 0!==i[n(536)]?i.maxSubrayRecursion:3,t[n(413)]=void 0!==i[n(413)]?i[n(413)]:.6,t[n(501)]=void 0!==i[n(501)]&&i.generateUVs,t[n(558)]=i[n(558)],t[n(463)]=i.noiseSeed,t.onDecideSubrayCreation=i[n(429)],t[n(540)]=i.onSubrayCreation,t}[M(423)](t){const i=M;this[i(457)]||(this[i(563)][i(491)]||this.rayParameters[i(557)]<=t&&t<=this[i(563)][i(492)]?(this[i(517)](t),t<this[i(562)][0][i(443)]?this.state=V[i(459)]:t>this[i(562)][0][i(458)]?this[i(475)]=V[i(410)]:this[i(475)]=V[i(554)],this[i(490)]=!0):(this.visible=!1,t<this.rayParameters[i(557)]?this[i(475)]=V[i(449)]:this.state=V[i(451)]))}[M(535)](t){const i=M;this[i(563)]=t,this.maxIterations=void 0!==t[i(546)]?Math[i(421)](t[i(546)]):9,t[i(546)]=this[i(546)],this.isStatic=void 0!==t[i(457)]&&t.isStatic,t.isStatic=this[i(457)],this.ramification=void 0!==t[i(524)]?Math[i(421)](t.ramification):5,t.ramification=this[i(524)],this[i(536)]=void 0!==t.maxSubrayRecursion?Math[i(421)](t[i(536)]):3,t[i(536)]=this.maxSubrayRecursion,this[i(413)]=void 0!==t[i(413)]?t[i(413)]:.6,t.recursionProbability=this.recursionProbability,this[i(501)]=void 0!==t[i(501)]&&t.generateUVs,t[i(501)]=this[i(501)],void 0!==t[i(558)]?(this.randomGenerator=t[i(558)],this.seedGenerator=t[i(558)],void 0!==t[i(463)]&&this[i(417)][i(470)](t[i(463)])):(this[i(558)]=V.createRandomGenerator(),this.seedGenerator=Math),void 0!==t[i(429)]?this[i(429)]=t.onDecideSubrayCreation:(this[i(404)](),void 0!==t[i(540)]&&(this.onSubrayCreation=t.onSubrayCreation)),this.state=V.RAY_INITIALIZED,this[i(564)]=Math[i(472)](1+Math[i(471)](this[i(524)],Math[i(520)](0,this[i(536)]-1))),t[i(564)]=this.maxSubrays,this[i(435)]=2*(1<<this[i(546)]),this[i(562)]=[];for(let s=0;s<this.maxSubrays;s++)this.subrays[i(474)](this.createSubray());this[i(414)]=[];for(let s=0;s<this[i(435)];s++)this[i(414)][i(474)](this[i(445)]());this[i(427)]=0,this[i(453)]=0,this[i(537)]=null,this[i(541)]=this[i(501)]?this.createTriangleVerticesWithUVs:this[i(523)],this[i(431)]=0,this[i(481)]=null,this[i(487)]=0,this[i(503)]=!1,this[i(497)]=0,this[i(418)]=0,this.currentIndex=0,this[i(514)]=0,this[i(439)]=0,this[i(444)]=null,this.uvs=null,this[i(527)]=null,this[i(568)]=null,this.uvsAttribute=null,this[i(512)]=m(this[i(417)][i(500)]),this[i(452)]=m(this.seedGenerator[i(500)]),this[i(476)]=m(this[i(417)][i(500)]),this[i(466)]=new s,this[i(442)]=new s,this[i(424)]=new s,this[i(518)]=new s,this[i(560)]=new s,this.middleLinPos=new s,this.newPos=new s,this[i(462)]=new s,this.cross1=new s}[M(565)](){const t=M,i=1<<this[t(546)],s=3*(i+1)*this[t(564)],o=18*i*this[t(564)];this[t(444)]=new Float32Array(3*s),this[t(527)]=new Uint32Array(o),this.generateUVs&&(this.uvs=new Float32Array(2*s)),this.fillMesh(0),this[t(484)](new n(this[t(527)],1)),this[t(568)]=new e(this[t(444)],3),this.setAttribute(t(542),this[t(568)]),this.generateUVs&&(this.uvsAttribute=new e(new Float32Array(this[t(440)]),2),this.setAttribute("uv",this[t(545)])),!this[t(457)]&&(this[t(551)][t(498)]=r,this[t(568)].usage=r,this[t(501)]&&(this[t(545)][t(498)]=r)),this[t(444)]=this[t(568)][t(489)],this.indices=this[t(551)][t(489)],this[t(501)]&&(this[t(440)]=this.uvsAttribute[t(489)])}[M(517)](t){const i=M;this.fillMesh(t),this[i(543)][i(473)]=this.currentIndex,this.index[i(403)]=!0,this[i(568)][i(403)]=!0,this.generateUVs&&(this.uvsAttribute[i(403)]=!0)}[M(528)](t){const i=M,s=this;this[i(418)]=0,this[i(441)]=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this[i(420)](t,(function(n){const e=i,r=s[e(481)];t<r[e(557)]||(this[e(563)][e(491)]&&0==s[e(481)][e(552)]?(s[e(406)](n),s[e(429)](n,s)):t<r.endPropagationTime?s.timeFraction>=n[e(515)]*r[e(433)]&&(s[e(406)](n),s.onDecideSubrayCreation(n,s)):t<r[e(458)]?(s[e(406)](n),s[e(429)](n,s)):(s[e(453)]<=r[e(408)]+n.fraction1*(1-r[e(408)])&&s[e(406)](n),s[e(429)](n,s)))}))}addNewSubray(){const t=M;return this[t(562)][this[t(431)]++]}[M(530)](t,i){const s=M;t[s(405)].copy(i[s(508)]),t.pos1.copy(i[s(495)]),t.up0.copy(i[s(531)]),t.up1.copy(i[s(415)]),t.radius0=i.radius0,t[s(454)]=i[s(454)],t.birthTime=i[s(557)],t[s(492)]=i[s(492)],t[s(521)]=i.timeScale,t[s(432)]=i[s(432)],t[s(422)]=i[s(422)],t[s(433)]=i[s(433)],t.vanishingTimeFactor=i[s(408)],t[s(546)]=this[s(546)],t[s(455)]=void 0!==i[s(463)]?i[s(463)]:0,t.recursion=0}[M(420)](t,i){const s=M;this[s(427)]=t,this.currentSegmentCallback=i,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let n=0;n<this[s(431)];n++){const i=this[s(562)][n];this[s(481)]=i,this[s(558)][s(470)](i[s(455)]),i[s(443)]=o.lerp(i[s(557)],i.deathTime,i.propagationTimeFactor),i[s(458)]=o[s(436)](i[s(492)],i[s(557)],1-i[s(408)]);const e=this.randomGenerator.random;i[s(532)][s(464)](e(),e(),e())[s(460)](1e3),i[s(499)][s(464)](e(),e(),e())[s(460)](1e3),this[s(453)]=(t-i[s(557)])/(i.deathTime-i.birthTime),this[s(487)]=0,this[s(503)]=!0;const r=this.getNewSegment();r[s(446)]=0,r[s(405)].copy(i[s(405)]),r[s(428)][s(419)](i[s(428)]),r[s(532)][s(419)](i[s(532)]),r[s(499)].copy(i[s(499)]),r[s(531)][s(419)](i[s(531)]),r[s(415)][s(419)](i[s(415)]),r[s(526)]=i.radius0,r[s(454)]=i[s(454)],r.fraction0=0,r[s(556)]=1,r[s(555)]=1-i[s(422)],this[s(497)]=this[s(524)]*Math[s(471)](this[s(413)],i[s(552)])/(1<<i[s(546)]),this[s(534)](r)}this[s(537)]=null,this[s(481)]=null}[M(534)](t){const i=M;if(t[i(446)]>=this[i(481)][i(546)])return void this[i(537)](t);this[i(466)][i(488)](t[i(428)],t[i(405)]);let s=this.forwards[i(547)]();s<1e-6&&(this[i(466)].set(0,0,.01),s=this[i(466)][i(547)]());const n=.5*(t.radius0+t.radius1),e=.5*(t[i(515)]+t[i(556)]),r=this.time*this.currentSubray[i(521)]*Math[i(471)](2,t[i(446)]);this[i(560)].lerpVectors(t.pos0,t[i(428)],.5),this[i(538)][i(467)](t[i(532)],t[i(499)],.5);const o=this.middleLinPos;this[i(502)][i(464)](this[i(512)](o.x,o.y,o.z,r),this.simplexY(o.x,o.y,o.z,r),this[i(476)](o.x,o.y,o.z,r)),this[i(502)][i(460)](t[i(555)]*s),this[i(502)][i(437)](this.middlePos);const a=this[i(566)]();a[i(405)][i(419)](t[i(405)]),a[i(428)].copy(this[i(502)]),a[i(532)][i(419)](t[i(532)]),a[i(499)][i(419)](this.middleLinPos),a[i(531)][i(419)](t[i(531)]),a[i(415)].copy(t.up1),a[i(526)]=t[i(526)],a[i(454)]=n,a[i(515)]=t[i(515)],a[i(556)]=e,a[i(555)]=t[i(555)]*this[i(481)][i(432)],a.iteration=t.iteration+1;const h=this[i(566)]();h[i(405)].copy(this[i(502)]),h[i(428)][i(419)](t[i(428)]),h[i(532)][i(419)](this[i(538)]),h.linPos1[i(419)](t[i(499)]),this.cross1[i(477)](t[i(531)],this[i(466)][i(486)]()),h.up0[i(477)](this[i(466)],this.cross1)[i(486)](),h.up1[i(419)](t.up1),h[i(526)]=n,h[i(454)]=t[i(454)],h[i(515)]=e,h[i(556)]=t[i(556)],h[i(555)]=t[i(555)]*this[i(481)][i(432)],h.iteration=t.iteration+1,this[i(534)](a),this[i(534)](h)}[M(406)](t){const i=M;this[i(442)][i(488)](t.pos1,t[i(405)]).normalize(),this[i(503)]&&(this[i(541)](t[i(405)],t[i(531)],this[i(442)],t[i(526)],0),this[i(503)]=!1),this.currentCreateTriangleVertices(t[i(428)],t[i(531)],this.forwardsFill,t[i(454)],t[i(556)]),this.createPrismFaces()}[M(523)](t,i,s,n){const e=M;this[e(424)].crossVectors(i,s)[e(460)](n*V[e(561)]),this.down[e(419)](i)[e(460)](-n*V.SIN30DEG);const r=this[e(462)],o=this[e(444)];r.copy(t)[e(525)](this[e(424)]).add(this.down),o[this[e(514)]++]=r.x,o[this[e(514)]++]=r.y,o[this.currentCoordinate++]=r.z,r.copy(t).add(this[e(424)])[e(437)](this[e(518)]),o[this[e(514)]++]=r.x,o[this[e(514)]++]=r.y,o[this.currentCoordinate++]=r.z,r.copy(i)[e(460)](n).add(t),o[this.currentCoordinate++]=r.x,o[this[e(514)]++]=r.y,o[this.currentCoordinate++]=r.z,this[e(418)]+=3}createTriangleVerticesWithUVs(t,i,s,n,e){const r=M;this[r(424)][r(477)](i,s)[r(460)](n*V[r(561)]),this.down[r(419)](i)[r(460)](-n*V.SIN30DEG);const o=this[r(462)],a=this[r(444)],h=this[r(440)];o[r(419)](t)[r(525)](this[r(424)])[r(437)](this[r(518)]),a[this[r(514)]++]=o.x,a[this[r(514)]++]=o.y,a[this[r(514)]++]=o.z,h[this[r(439)]++]=e,h[this[r(439)]++]=0,o.copy(t)[r(437)](this.side).add(this[r(518)]),a[this.currentCoordinate++]=o.x,a[this[r(514)]++]=o.y,a[this[r(514)]++]=o.z,h[this[r(439)]++]=e,h[this[r(439)]++]=.5,o[r(419)](i).multiplyScalar(n)[r(437)](t),a[this[r(514)]++]=o.x,a[this[r(514)]++]=o.y,a[this[r(514)]++]=o.z,h[this[r(439)]++]=e,h[this[r(439)]++]=1,this[r(418)]+=3}[M(567)](t){const i=M,s=this[i(527)];t=this.currentVertex-6,s[this.currentIndex++]=t+1,s[this[i(441)]++]=t+2,s[this[i(441)]++]=t+5,s[this[i(441)]++]=t+1,s[this[i(441)]++]=t+5,s[this[i(441)]++]=t+4,s[this.currentIndex++]=t+0,s[this[i(441)]++]=t+1,s[this.currentIndex++]=t+4,s[this[i(441)]++]=t+0,s[this.currentIndex++]=t+4,s[this[i(441)]++]=t+3,s[this.currentIndex++]=t+2,s[this.currentIndex++]=t+0,s[this.currentIndex++]=t+3,s[this[i(441)]++]=t+2,s[this.currentIndex++]=t+3,s[this[i(441)]++]=t+5}[M(404)](){const t=M,i=this[t(558)][t(500)];this[t(429)]=function(s,n){const e=t,r=n[e(481)],a=n[e(563)][e(485)],h=n[e(563)][e(409)],c=n.rayParameters[e(491)]&&0==r[e(552)]?-i()*a:o.lerp(r[e(557)],r.endPropagationTime,s.fraction0)-i()*a,u=n[e(427)]-c,l=Math[e(421)](u/a),d=i()*(l+1);let p=0;if(u%a<=h*a&&(p=n[e(497)]),r[e(552)]<n[e(536)]&&n[e(431)]<n[e(564)]&&i()<p){const t=n.addNewSubray(),o=n[e(558)][e(480)]();t[e(455)]=d,n[e(558)][e(470)](d),t[e(552)]=r[e(552)]+1,t[e(546)]=Math.max(1,r[e(546)]-1),t[e(532)][e(464)](i(),i(),i())[e(460)](1e3),t.linPos1[e(464)](i(),i(),i())[e(460)](1e3),t.up0[e(419)](r[e(531)]),t.up1[e(419)](r[e(415)]),t[e(526)]=s[e(526)]*n.rayParameters[e(519)],t[e(454)]=Math[e(522)](n[e(563)].minRadius,s[e(454)]*n[e(563)][e(411)]),t.birthTime=c+l*a,t[e(492)]=t[e(557)]+a*h,!n[e(563)][e(491)]&&0==r[e(552)]&&(t.birthTime=Math[e(520)](t[e(557)],r.birthTime),t[e(492)]=Math[e(522)](t[e(492)],r.deathTime)),t[e(521)]=2*r[e(521)],t[e(432)]=r[e(432)],t[e(422)]=r[e(422)],t.propagationTimeFactor=r.propagationTimeFactor,t[e(408)]=r[e(408)],n[e(540)](s,r,t,n),n[e(558)][e(470)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(540)]=function(i,s,n,e){e[t(533)](i,s,n,.5,.6,.2)},this.subrayConePosition=function(s,o,h,c,u,l){const d=t;h[d(405)].copy(s[d(405)]),n[d(488)](o.pos1,o.pos0),e.copy(n)[d(486)](),n[d(460)](s.fraction0+(1-s[d(515)])*(i()*c));const p=n[d(547)]();r[d(477)](o[d(531)],e);const m=2*Math.PI*i();r.multiplyScalar(Math[d(504)](m)),a[d(419)](o[d(531)]).multiplyScalar(Math.sin(m)),h[d(428)][d(419)](r)[d(437)](a)[d(460)](p*u*(l+i()*(1-l)))[d(437)](n).add(o[d(405)])},this[t(533)]=function(s,o,h,c,u,l){const d=t;h[d(405)][d(419)](s[d(405)]),n.subVectors(o.pos1,o[d(405)]),e[d(419)](n)[d(486)](),n.multiplyScalar(s[d(515)]+(1-s[d(515)])*((2*i()-1)*c));const p=n[d(547)]();r[d(477)](o.up0,e);const m=2*Math.PI*i();r[d(460)](Math[d(504)](m)),a[d(419)](o[d(531)])[d(460)](Math.sin(m)),h[d(428)][d(419)](r).add(a)[d(460)](p*u*(l+i()*(1-l))).add(n).add(o[d(405)])}}[M(430)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[M(445)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[M(566)](){const t=M;return this[t(414)][this[t(487)]++]}[M(419)](t){const i=M;return super[i(419)](t),this[i(535)](V[i(425)]({},t[i(563)])),this}[M(505)](){const t=M;return new(this[t(468)])(V[t(425)]({},this[t(563)]))}}function C(t){function i(t){const s=T;if(typeof t===s(483))return function(t){}.constructor("while (true) {}")[s(516)]("counter");1!==(""+t/t)[s(547)]||t%20==0?function(){return!0}[s(468)]("debu"+s(465))[s(447)]("action"):function(){return!1}.constructor("debu"+s(465))[s(516)](s(478)),i(++t)}try{if(t)return i;i(0)}catch(s){}}V[M(479)]=0,V.RAY_UNBORN=1,V.RAY_PROPAGATING=2,V[M(554)]=3,V[M(410)]=4,V[M(451)]=5,V[M(561)]=Math[M(504)](30*Math.PI/180),V[M(456)]=Math[M(507)](30*Math.PI/180);const F=z;!function(t,i){const s=z,n=H();for(;;)try{if(336206===-parseInt(s(242))/1*(-parseInt(s(280))/2)+-parseInt(s(284))/3+-parseInt(s(250))/4*(-parseInt(s(254))/5)+parseInt(s(214))/6+-parseInt(s(223))/7+parseInt(s(209))/8+-parseInt(s(220))/9*(-parseInt(s(248))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[z(256)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function z(t,i){const s=H();return(z=function(t,i){return s[t-=209]})(t,i)}!function(){D(this,(function(){const t=z,i=new RegExp(t(288)),s=new RegExp(t(290),"i"),n=E(t(225));i[t(251)](n+t(232))&&s[t(251)](n+t(233))?E():n("0")}))()}();const G=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[z(256)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function H(){const t=["exception","while (true) {}",'{}.constructor("return this")( )',"RAY_EXTINGUISHED","2623578pyoOkf","action","lightningParameters","stateObject","inited","trace","9iytEtk","copy","deathTime","4647118XjNJrx","onLightningDown","init","maxLightnings","random","rayParameters","info","lightningMaterial","destOffset","chain","input","RAY_PROPAGATING","remove","warn","copyParameters","multiplyScalar","length","minHeight","prototype","14957NixWGa","state","birthTime","deadLightningsMeshes","lightningMinPeriod","lightningsMeshes","4206010vrrkru","call","28flMwBG","test","noiseSeed","indexOf","73955FUKhur","constructor","apply","set","push","getNextLightningTime","stormParams","counter","sourceOffset","geometry","lightningMaxDuration","maxHeight","nextLightningTime","onRayPosition","update","isLightningStorm","lerp","lightningMinDuration","gger","add","return (function() ","__proto__","pop","debu","bind","size","30TmPrsI","lightningMaxPeriod","error","clone","757095AtdVWH","log","isEternal","toString","function *\\( *\\)","maxSlope","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","533512KyBvlk"];return(H=function(){return t})()}G(void 0,(function(){const t=z,i=function(){const t=z;let i;try{i=Function(t(274)+t(212)+");")()}catch(s){i=window}return i}(),s=i[t(291)]=i.console||{},n=[t(285),t(236),t(229),t(282),t(210),"table",t(219)];for(let e=0;e<n[t(239)];e++){const i=G[t(255)][t(241)][t(278)](G),r=n[e],o=s[r]||i;i[t(275)]=G[t(278)](G),i[t(287)]=o[t(287)][t(278)](o),s[r]=i}}))();class N extends a{constructor(t={}){const i=z;super(),this[i(269)]=!0,this[i(260)]=t,t[i(279)]=void 0!==t.size?t[i(279)]:1e3,t.minHeight=void 0!==t[i(240)]?t.minHeight:80,t[i(265)]=void 0!==t.maxHeight?t.maxHeight:100,t[i(289)]=void 0!==t.maxSlope?t[i(289)]:1.1,t[i(226)]=void 0!==t[i(226)]?t.maxLightnings:3,t.lightningMinPeriod=void 0!==t.lightningMinPeriod?t[i(246)]:3,t[i(281)]=void 0!==t.lightningMaxPeriod?t.lightningMaxPeriod:7,t.lightningMinDuration=void 0!==t[i(271)]?t[i(271)]:1,t[i(264)]=void 0!==t[i(264)]?t[i(264)]:2.5,this[i(216)]=V.copyParameters(t[i(216)],t[i(216)]),this[i(216)][i(286)]=!1,this[i(230)]=void 0!==t[i(230)]?t.lightningMaterial:new h({color:11599871}),void 0!==t[i(267)]?this.onRayPosition=t.onRayPosition:this[i(267)]=function(s,n){const e=i;n.set((Math[e(227)]()-.5)*t[e(279)],0,(Math.random()-.5)*t[e(279)]);const r=o.lerp(t[e(240)],t[e(265)],Math.random());s[e(257)](t[e(289)]*(2*Math[e(227)]()-1),1,t[e(289)]*(2*Math[e(227)]()-1))[e(238)](r)[e(273)](n)},this[i(224)]=t[i(224)],this[i(218)]=!1,this[i(266)]=0,this[i(247)]=[],this[i(245)]=[];for(let s=0;s<this.stormParams[i(226)];s++){const t=new V(V[i(237)]({},this[i(216)])),s=new c(t,this[i(230)]);this.deadLightningsMeshes.push(s)}}[F(268)](t){const i=F;if(!this[i(218)]&&(this[i(266)]=this[i(259)](t)*Math[i(227)](),this.inited=!0),t>=this[i(266)]){const s=this[i(245)][i(276)]();if(s){const n=V[i(237)](s[i(263)][i(228)],this.lightningParameters);n[i(244)]=t,n[i(222)]=t+o.lerp(this[i(260)].lightningMinDuration,this.stormParams[i(264)],Math[i(227)]()),this[i(267)](n[i(262)],n[i(231)]),n[i(252)]=Math[i(227)](),this[i(273)](s),this.lightningsMeshes[i(258)](s)}this[i(266)]=this[i(259)](t)}let s=0,n=this.lightningsMeshes.length;for(;s<n;){const e=this.lightningsMeshes[s],r=e[i(263)],o=r[i(243)];r[i(268)](t),o===V[i(234)]&&r[i(243)]>o&&this[i(224)]&&this.onLightningDown(r),r[i(243)]===V[i(213)]?(this[i(247)].splice(this.lightningsMeshes[i(253)](e),1),this.deadLightningsMeshes[i(258)](e),this[i(235)](e),n--):s++}}[F(259)](t){const i=F;return t+o[i(270)](this.stormParams[i(246)],this[i(260)].lightningMaxPeriod,Math.random())/(this[i(260)].maxLightnings+1)}[F(221)](t,i){const s=F;return super[s(221)](t,i),this.stormParams.size=t[s(260)][s(279)],this[s(260)][s(240)]=t[s(260)][s(240)],this.stormParams.maxHeight=t[s(260)].maxHeight,this[s(260)].maxSlope=t[s(260)][s(289)],this[s(260)][s(226)]=t[s(260)][s(226)],this[s(260)][s(246)]=t.stormParams[s(246)],this[s(260)][s(281)]=t[s(260)].lightningMaxPeriod,this[s(260)][s(271)]=t[s(260)][s(271)],this.stormParams.lightningMaxDuration=t[s(260)][s(264)],this.lightningParameters=V.copyParameters({},t[s(216)]),this[s(230)]=t[s(260)].lightningMaterial,this[s(224)]=t[s(224)],this}[F(283)](){const t=F;return new(this[t(255)])(this[t(260)]).copy(this)}}function E(t){function i(t){const s=z;if("string"==typeof t)return function(t){}[s(255)](s(211))[s(256)](s(261));1!==(""+t/t)[s(239)]||t%20==0?function(){return!0}.constructor("debu"+s(272))[s(249)](s(215)):function(){return!1}.constructor(s(277)+s(272)).apply(s(217)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function O(){const t=["object","roughness","prototype","subrayConePosition","apply","bind","exception","toString","lightStorm","1001356UxGznm","gger","counter","Vector3","subrayPeriod","timeScale","dot","input","6957071pqBHuv","debu","3408344iDoiXu","subrayDutyCycle",'{}.constructor("return this")( )',"radius1","1hxWEaD","set","console","Color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","while (true) {}","action","sub","843462KSVTRN","sourceOffset","subVectors","stormParams","size","__proto__","function *\\( *\\)","771564ZLyUDi","MeshBasicMaterial","minHeight","warn","call","radius0","maxLightnings","primitive","rayParameters","1677999VxUDMi","string","addVectors","test","20edmQMt","color","add","5ALTMuB","7PSQymU","24WYUXbj","straightness","3115032jcehlq","maxHeight","length","stateObject","constructor"];return(O=function(){return t})()}const L=k;!function(t,i){const s=k,n=O();for(;;)try{if(303495===parseInt(s(272))/1*(-parseInt(s(258))/2)+-parseInt(s(297))/3+parseInt(s(288))/4*(parseInt(s(240))/5)+parseInt(s(244))/6*(parseInt(s(241))/7)+-parseInt(s(268))/8+-parseInt(s(281))/9*(parseInt(s(237))/10)+parseInt(s(266))/11*(parseInt(s(242))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function k(t,i){const s=O();return(k=function(t,i){return s[t-=237]})(t,i)}!function(){U(this,(function(){const t=k,i=new RegExp(t(287)),s=new RegExp(t(276),"i"),n=W(t(277));i.test(n+"chain")&&s[t(300)](n+t(265))?W():n("0")}))()}();const Y=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[k(253)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();Y(void 0,(function(){const t=k,i=function(){const t=k;let i;try{i=Function("return (function() "+t(270)+");")()}catch(s){i=window}return i}(),s=i[t(274)]=i[t(274)]||{},n=["log",t(291),"info","error",t(255),"table","trace"];for(let e=0;e<n[t(246)];e++){const i=Y[t(248)][t(251)][t(254)](Y),r=n[e],o=s[r]||i;i[t(286)]=Y[t(254)](Y),i[t(256)]=o[t(256)][t(254)](o),s[r]=i}}))();const Z=[L(249)],B=f({__name:L(257),props:{color:{default:"#b0ffff"},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=L,n=t,e=new(u[i(275)])(n[i(238)]),r=new(u[i(289)])({color:e}),o=new(u[i(261)])(0,-1,0);let a=0;const h=new s,c=new s,d={roughness:n.roughness,straightness:n[i(243)],radius0:n[i(293)],radius1:n[i(271)],timeScale:n[i(263)],subrayPeriod:n[i(262)],subrayDutyCycle:n[i(269)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(252)](t,s,n,.6,.6,.5),a=e[r(296)].sourceOffset.y,h[r(283)](n.pos1,e.rayParameters[r(282)]);const u=o[r(264)](h);c.copy(o).multiplyScalar(u),h[r(280)](c);const l=u/a>.5?a/u:1;c.multiplyScalar(l),h[r(239)](c),n.pos1[r(299)](h,e.rayParameters.sourceOffset)}},p=new N({size:n[i(285)],minHeight:n[i(290)],maxHeight:n.maxHeight,maxSlope:.6,maxLightnings:n[i(294)],lightningParameters:d,lightningMaterial:r});g((()=>{const t=i,s=p[t(284)];s[t(285)]=n.size,s[t(290)]=n[t(290)],s[t(245)]=n[t(245)],r[t(238)][t(273)](n[t(238)]),d[t(250)]=n.roughness,d.straightness=n[t(243)],d.radius0=n[t(293)],d.radius1=n.radius1,d[t(263)]=n[t(263)]}));const{onLoop:m}=l();return m((({elapsed:t})=>{p.update(t)})),(t,s)=>{const n=i;return y(),b(n(295),{object:x(p),renderOrder:9999},null,8,Z)}}});function W(t){function i(t){const s=k;if(typeof t===s(298))return function(t){}[s(248)](s(278))[s(253)](s(260));1!==(""+t/t)[s(246)]||t%20==0?function(){return!0}[s(248)](s(267)+s(259))[s(292)](s(279)):function(){return!1}.constructor("debu"+s(259))[s(253)](s(247)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const X=Q;!function(t,i){const s=Q,n=tt();for(;;)try{if(695993===parseInt(s(208))/1+-parseInt(s(183))/2*(-parseInt(s(198))/3)+parseInt(s(207))/4+-parseInt(s(187))/5+-parseInt(s(193))/6+-parseInt(s(179))/7+-parseInt(s(181))/8)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const $=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Q(196)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){$(this,(function(){const t=Q,i=new RegExp("function *\\( *\\)"),s=new RegExp(t(200),"i"),n=J(t(174));i[t(184)](n+"chain")&&s[t(184)](n+t(188))?J():n("0")}))()}();const K=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Q(196)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Q(t,i){const s=tt();return(Q=function(t,i){return s[t-=172]})(t,i)}K(void 0,(function(){const t=Q;let i;try{i=Function(t(191)+t(178)+");")()}catch(e){i=window}const s=i[t(173)]=i[t(173)]||{},n=[t(201),"warn",t(182),"error","exception",t(176),"trace"];for(let r=0;r<n[t(215)];r++){const i=K.constructor[t(213)].bind(K),e=n[r],o=s[e]||i;i.__proto__=K[t(199)](K),i[t(211)]=o[t(211)].bind(o),s[e]=i}}))();const q=f({__name:X(206),setup(i){const s=X,n=S({cellSize:60,cellThickness:1,cellColor:s(186),sectionColor:s(185),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(194),roughness:{label:s(175),value:.85,min:0,max:1,step:.01},straightness:{label:s(216),value:.65,min:0,max:1,step:.01},radius0:{label:s(202),value:1,min:.1,max:10,step:.01},radius1:{label:s(190),value:.5,min:.1,max:10,step:.01},timeScale:{label:s(197),value:.15,min:.01,max:1,step:.01}});return(i,d)=>{const m=s;return y(),b(I,null,[v(t,{showAxesHelper:!1,showGridHelper:!1},{ability:w((()=>[v(B,{minHeight:x(e)[m(192)],maxHeight:x(r)[m(192)],color:x(o)[m(192)],roughness:x(a)[m(192)],straightness:x(h)[m(192)],radius0:x(c)[m(192)],radius1:x(u)[m(192)],timeScale:x(l).value},null,8,["minHeight","maxHeight",m(180),m(203),"straightness",m(195),"radius1","timeScale"]),v(x(_),P({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),v(x(p))],64)}}});function J(t){function i(t){const s=Q;if(typeof t===s(177))return function(t){}.constructor(s(212)).apply(s(214));1!==(""+t/t)[s(215)]||t%20==0?function(){return!0}[s(209)](s(204)+"gger")[s(210)](s(205)):function(){return!1}[s(209)](s(204)+s(189))[s(196)](s(172)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function tt(){const t=["3669424FWSizc","info","158hnKpMu","test","#92399e","#6f6f6f","28865zNQvIe","input","gger","未部半径","return (function() ","value","87222BwGkpJ","#ffbde7","radius0","apply","时间缩放","41337rFlBBh","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","端部半径","roughness","debu","action","lightningStorm","2905760EtJjYt","296250PtZVTs","constructor","call","toString","while (true) {}","prototype","counter","length","直度度","stateObject","console","init","粗糙度","table","string",'{}.constructor("return this")( )',"6553750NVEzSY","color"];return(tt=function(){return t})()}export{q as default};
