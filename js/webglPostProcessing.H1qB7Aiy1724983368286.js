import{i as n}from"./ice-utils.SOPaoSmQ1724983368286.js";import{m as t,_ as e}from"./gl-matrix.zmd4RUW31724983368286.js";import{P as o}from"./tweakpane.yHWGBmom1724983368286.js";import{d as r,r as i,q as a,o as c,D as s,J as u,u as f}from"./@vue.Q1VpS3901724983368286.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",_=T;!function(n,t){const e=T,o=E();for(;;)try{if(342903===-parseInt(e(244))/1+-parseInt(e(243))/2*(-parseInt(e(197))/3)+-parseInt(e(246))/4+-parseInt(e(257))/5*(-parseInt(e(232))/6)+-parseInt(e(167))/7*(-parseInt(e(185))/8)+parseInt(e(184))/9*(-parseInt(e(241))/10)+-parseInt(e(235))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const d=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[T(212)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){d(this,(function(){const n=T,t=new RegExp(n(227)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=A("init");t[n(222)](o+"chain")&&e[n(222)](o+"input")?A():o("0")}))()}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[T(212)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(){const n=["scale","uView","exception","TRIANGLES","3051435uexpRE",'{}.constructor("return this")( )',"ELEMENT_ARRAY_BUFFER","return (function() ","change","height","bindBuffer","none","bindTexture","width","ONE_MINUS_SRC_ALPHA","canvas","gger","973847RecUeD","#canvaswebgl","counter","UNSIGNED_BYTE","slider","COLOR_ATTACHMENT0","framebufferTexture2D","NEAREST","webgl","clear","createBuffer","addBlade","offset_right_bottom","TEXTURE_WRAP_T","bufferData","bindFramebuffer","canvaswebgl","491607voOhsL","24lyMiBz","translate","offset_left_bottom","length","mat4","create","hidden","prototype","console","value","是否后处理","offset_right_top","3666rmTszC","mixParam","offset_left_top","blendFunc","FRAMEBUFFER","getContext","BYTES_PER_ELEMENT","ortho","SRC_ALPHA","TEXTURE_2D","logo-texture","texImage2D","inline","bind","call","apply","while (true) {}","STATIC_DRAW","uniformMatrix4fv","action","innerWidth","getUniformLocation","debu","webglPostProcessing","stateObject","test","RGBA","constructor","color","toString","function *\\( *\\)","TEXTURE_MAG_FILTER","addBinding","enableVertexAttribArray","COLOR_BUFFER_BIT","6PKJfSR","FLOAT","CLAMP_TO_EDGE","6011324DHWPcy","error","innerHeight","texParameteri","enable","warn","10ouxEYo","createTexture","1094BeEQNc","370158tmQhWa","createFramebuffer","1527664gnRhKz","TEXTURE_WRAP_S","ARRAY_BUFFER","vertexAttribPointer","clearColor","drawElements","uniform1f"];return(E=function(){return n})()}x(void 0,(function(){const n=T;let t;try{t=Function(n(157)+n(258)+");")()}catch(r){t=window}const e=t[n(193)]=t.console||{},o=["log",n(240),"info",n(236),n(255),"table","trace"];for(let i=0;i<o[n(188)];i++){const t=x[n(224)][n(192)][n(210)](x),r=o[i],a=e[r]||t;t.__proto__=x[n(210)](x),t[n(226)]=a[n(226)][n(210)](a),e[r]=t}}))();const g={id:_(183)},p=["src"];function T(n,t){const e=E();return(T=function(n,t){return e[n-=156]})(n,t)}const R=r({__name:_(220),setup(r){const d=_;let x,E,T,R,A,b,y,v,h,F,P,w,B;const C=1,U=.71,D=.76,I=new o({title:"参数"}),L=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});I[d(178)]({view:d(171),label:"颜色",min:0,max:1,value:.5}).on(d(158),(n=>{const t=d;X(),E[t(252)](w,n[t(194)])}));let M=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);I.addBinding(L,"hidden",{label:d(195)}),I.addBinding(L,d(196),{picker:d(209),x:{min:0,max:1},y:{min:0,max:1}}).on("change",(n=>{const t=d;M[0]=L[t(196)].x,M[1]=L[t(196)].y,X()})),I[d(229)](L,d(179),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(n=>{const t=d;M[5]=L.offset_right_bottom.x,M[6]=L[t(179)].y,X()})),I.addBinding(L,d(187),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(d(158),(n=>{const t=d;M[10]=L.offset_left_bottom.x,M[11]=L[t(187)].y,X()})),I[d(229)](L,d(199),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(d(158),(n=>{M[15]=L.offset_left_top.x,M[16]=L.offset_left_top.y,X()})),a((()=>{S()}));const S=function(){const t=d;x=document.querySelector(t(168)),x[t(163)]=window[t(217)],x.height=window[t(237)],E=x[t(202)](t(175)),E&&(function(){const t=d,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);R=j(e,o),T=n(E,l,m),h=E[t(218)](T,"uProjection"),F=E[t(218)](T,t(254)),P=E[t(218)](T,"uModel"),B=Y(document.getElementById("logo-texture"))}(),X(),E[t(239)](E.BLEND),E[t(200)](E[t(205)],E[t(164)]),N())};function N(){const n=d;E[n(182)](E[n(201)],y),E[n(250)](C,U,D,1),E[n(176)](E[n(231)]),function(){const n=d;E.useProgram(T),E[n(160)](E[n(248)],R);const o=t[n(190)]();e[n(189)][n(204)](o,0,x[n(163)],x[n(159)],0,.1,100),E.uniformMatrix4fv(h,!1,o);const r=e[n(189)][n(190)]();e[n(189)].lookAt(r,[0,0,1],[0,0,0],[0,1,0]),E.uniformMatrix4fv(F,!1,r),O(B,600,600),O(B,400,400)}(),E[n(182)](E[n(201)],null),L[n(191)]&&(E[n(176)](E[n(231)]),E[n(250)](0,0,1,1),E.bindBuffer(E.ARRAY_BUFFER,A),E.useProgram(b),E.bindTexture(E.TEXTURE_2D,v)),E.drawElements(E[n(256)],6,E[n(170)],0),requestAnimationFrame(N)}function O(n,o,r){const i=d;let a=t[i(190)]();t[i(186)](a,a,[o,r,0]),e[i(189)][i(253)](a,a,[250,250,0]),E[i(215)](P,!1,a),E[i(162)](E[i(206)],n),E[i(251)](E[i(256)],6,E[i(170)],0)}function X(){const t=d,e=new Uint8Array([0,1,2,0,2,3]);A=j(M,e),b=n(E,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),w=E[t(218)](b,t(198)),E.getUniformLocation(b,t(225)),function(){const n=d;v=Y(x),y=E[n(245)](),E.bindFramebuffer(E[n(201)],y),E[n(173)](E[n(201)],E[n(172)],E[n(206)],v,0),E[n(182)](E.FRAMEBUFFER,null)}()}function Y(n){const t=d,e=E[t(242)]();return E[t(162)](E.TEXTURE_2D,e),n instanceof HTMLImageElement?E.texImage2D(E[t(206)],0,E.RGBA,E[t(223)],E[t(170)],n):E[t(208)](E[t(206)],0,E[t(223)],n.width,n[t(159)],0,E[t(223)],E[t(170)],null),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E[t(174)]),E[t(238)](E.TEXTURE_2D,E[t(228)],E[t(174)]),E[t(238)](E.TEXTURE_2D,E[t(247)],E[t(234)]),E[t(238)](E[t(206)],E[t(180)],E.CLAMP_TO_EDGE),e}function j(n,t){const e=d,o=E[e(177)]();E[e(160)](E[e(248)],o),E[e(181)](E.ARRAY_BUFFER,n,E[e(214)]);const r=3*Float32Array[e(203)]+2*Float32Array[e(203)];E.vertexAttribPointer(0,3,E.FLOAT,!1,r,0),E[e(230)](0),E[e(249)](1,2,E[e(233)],!1,r,3*Float32Array.BYTES_PER_ELEMENT),E[e(230)](1);const i=E.createBuffer();return E[e(160)](E.ELEMENT_ARRAY_BUFFER,i),E[e(181)](E[e(156)],t,E[e(214)]),E[e(160)](E[e(248)],null),o}return(n,t)=>{const e=d;return c(),s(e(165),g,[u("img",{id:e(207),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(161)}},null,8,p)])}}});function A(n){function t(n){const e=T;if("string"==typeof n)return function(n){}.constructor(e(213))[e(212)](e(169));1!==(""+n/n)[e(188)]||n%20==0?function(){return!0}[e(224)](e(219)+e(166))[e(211)](e(216)):function(){return!1}[e(224)](e(219)+e(166)).apply(e(221)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{R as default};
