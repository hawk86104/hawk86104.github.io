import{_ as n,bU as t,a as e,a6 as o,aj as r,ak as i,Y as s,m as a,c9 as c,c7 as l,c8 as u,V as f,cn as p}from"./three.0CcRceKb1742896998262.js";import{e as v,m as d,o as m}from"./@tresjs.KzbsBNvc1742896998262.js";import{d as g,o as h,H as b,N as y,u as x,F as w,w as _,j as I,z as T,e as U,g as S,aj as D,ak as j}from"./@vue.L-brCdZe1742896998262.js";import{_ as z}from"./@fesjs.ATKJ6WD31742896998262.js";import"./postprocessing.JNDZZkh81742896998262.js";import"./@vueuse.AtktgvWs1742896998262.js";import"./vue-router.Nr9hetwf1742896998262.js";import"./lodash-es.pklfUAS51742896998262.js";import"./@qlin.o0hjOMCg1742896998262.js";import"./pinia.c7Udjcar1742896998262.js";import"./@floating-ui.HzHndBae1742896998262.js";import"./@juggle.4EyLec-41742896998262.js";var N="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const C=M;!function(n,t){const e=M,o=A();for(;;)try{if(767224===-parseInt(e(442))/1*(parseInt(e(443))/2)+-parseInt(e(435))/3*(-parseInt(e(466))/4)+-parseInt(e(457))/5+-parseInt(e(458))/6*(parseInt(e(425))/7)+-parseInt(e(456))/8+-parseInt(e(477))/9*(parseInt(e(482))/10)+-parseInt(e(472))/11*(-parseInt(e(433))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[M(420)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){B(this,(function(){const n=M,t=new RegExp(n(445)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Z(n(461));t[n(464)](o+n(423))&&e[n(464)](o+n(437))?Z():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[M(420)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function M(n,t){const e=A();return M=function(n,t){return e[n-=415]},M(n,t)}function A(){const n=["664257NXTjON","2ZxHvvf","console","function *\\( *\\)","table","toString","noise","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","constructor","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","string","gger","sin","call","3058296sRgXyM","708610CBwoSp","629058YrZfeX","return (function() ","MathUtils","init","SphereGeometry","setAttribute","test","bind","2261180EbXOnJ","InstancedBufferAttribute","cos","#include <dithering_fragment>","length","log","4620ktqJnI","MeshBasicMaterial","TresPlaneGeometry","\n    ","#include <fog_fragment>","109539GcCMmZ","randFloatSpread","rotateX","instData","instanceCount","230uattzY","while (true) {}","warn","replace","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","globalBloom","#include <begin_vertex>","globalUniforms","push","copy","exception","noiseTex","apply","uniforms","Vector4","chain",'{}.constructor("return this")( )',"28uxKqlZ","fragmentShader","needsUpdate","stateObject","randFloat","setY","debu","luces","59700mnRjEA","material","3DzYfzu","lucesPlane","input","action","vertexShader","counter","TresMesh"];return(A=function(){return n})()}E(void 0,(function(){const n=M;let t;try{t=Function(n(459)+n(424)+");")()}catch(r){t=window}const e=t[n(444)]=t.console||{},o=[n(471),n(484),"info","error",n(418),n(446),"trace"];for(let i=0;i<o[n(470)];i++){const t=E[n(450)].prototype[n(465)](E),r=o[i],s=e[r]||t;t.__proto__=E.bind(E),t.toString=s[n(447)][n(465)](s),e[r]=t}}))();const R=["geometry","material"],k=[C(434)],P=[C(479)],F=100,G=g({__name:C(436),props:{globalUniforms:{}},setup(r){const i=C,s=r,a=[],c=[],l=new(n[i(462)])(1,36,18),u=(new t)[i(417)](l);u[i(481)]=F;const f=[];for(let t=0;t<F;t++){let t=n[i(460)][i(478)](49),o=n[i(460)].randFloatSpread(49),r=n[i(460)][i(429)](.0625,.125),s=e[i(429)](1,3);f[i(416)](t,o,r),c[i(416)](new(n[i(422)])(t,o,s,n[i(460)][i(429)](1,2))),a[i(416)](new(n[i(422)])(t,o,r,s))}u[i(463)](i(480),new(n[i(467)])(new Float32Array(f),3));const p=new(n[i(473)])({color:16720418,onBeforeCompile:n=>{const t=i;n[t(421)][t(419)]=s.globalUniforms[t(448)],n[t(439)]=("\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      "+n[t(439)]+"\n    ")[t(485)](t(488),t(449))}}),d={luces:{value:a}},m=new o({color:2363940,onBeforeCompile:n=>{const t=i;n[t(421)][t(432)]=d.luces,n[t(421)][t(487)]=s[t(415)][t(487)],n.uniforms.noiseTex=s[t(415)][t(448)],n[t(439)]=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      "+n[t(439)]+"\n    ")[t(485)](t(488),"#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      "),n[t(426)]=("\n      uniform vec4 luces["+F+t(486)+n.fragmentShader+t(475))[t(485)](t(476),t(451)+F+"; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ").replace(t(469),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:g}=v();return g((({elapsed:n})=>{const t=i;for(let e=0;e<F;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(454)](n*o.w*(e%3+1))*Math[t(468)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u.attributes[t(480)][t(430)](e,r)}u.attributes[t(480)][t(427)]=!0})),(n,t)=>{const e=i;return h(),b(w,null,[y(e(441),{geometry:x(u),material:x(p)},null,8,R),y(e(441),{material:x(m)},[y(e(474),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,P)],8,k)],64)}}});function Z(n){function t(n){const e=M;if(typeof n===e(452))return function(n){}.constructor(e(483))[e(420)](e(440));1!==(""+n/n)[e(470)]||n%20==0?function(){return!0}[e(450)](e(431)+e(453))[e(455)](e(438)):function(){return!1}[e(450)](e(431)+"gger").apply(e(428)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const X=O;!function(n,t){const e=O,o=J();for(;;)try{if(979987===-parseInt(e(491))/1*(parseInt(e(486))/2)+parseInt(e(457))/3*(-parseInt(e(505))/4)+parseInt(e(458))/5*(-parseInt(e(497))/6)+parseInt(e(481))/7*(parseInt(e(468))/8)+-parseInt(e(490))/9+parseInt(e(495))/10*(-parseInt(e(482))/11)+parseInt(e(467))/12*(parseInt(e(498))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(509)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){H(this,(function(){const n=O,t=new RegExp(n(492)),e=new RegExp(n(461),"i"),o=K(n(484));t[n(483)](o+n(476))&&e.test(o+"input")?K():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(509)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function O(n,t){const e=J();return O=function(n,t){return e[n-=456]},O(n,t)}L(void 0,(function(){const n=O,t=function(){const n=O;let t;try{t=Function(n(463)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(504)]=t[n(504)]||{},o=[n(508),n(473),n(502),n(479),"exception","table",n(466)];for(let r=0;r<o[n(489)];r++){const t=L.constructor[n(465)].bind(L),i=o[r],s=e[i]||t;t[n(501)]=L[n(469)](L),t.toString=s[n(510)][n(469)](s),e[i]=t}}))();const Y=[X(480)],$=g({__name:"portal",props:{globalUniforms:{}},setup(t){const e=X,o=t,r=new(n[e(499)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(475)][t(474)]=o[t(503)][t(474)],n[t(475)][t(500)]=o[t(503)][t(500)],n[t(496)]=(t(494)+N+t(460)+n[t(496)]+t(506))[t(462)](t(472),t(493))[t(462)](t(488),t(470))}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return h(),b(o(464),{material:x(r),position:[0,3.75,-12]},t[0]||(t[0]=[y(o(507),{args:[5,5]},null,-1)]),8,Y)}}});function K(n){function t(n){const e=O;if(typeof n===e(471))return function(n){}.constructor(e(459)).apply(e(477));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(485)+e(478))[e(487)](e(511)):function(){return!1}[e(456)](e(485)+e(478))[e(509)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function J(){const n=["uniforms","chain","counter","gger","error","material","7GfttEJ","33zTynQX","test","init","debu","10XBOJTQ","call","#include <dithering_fragment>","length","10712979ntUfJP","391097bhbHsL","function *\\( *\\)","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","5869450ORlaaw","fragmentShader","6MeGKzp","1781TbVEIX","MeshBasicMaterial","globalBloom","__proto__","info","globalUniforms","console","4inKWZh","\n    ","TresPlaneGeometry","log","apply","toString","action","constructor","2858322utMIGn","7096885PqDHAA","while (true) {}","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","replace","return (function() ","TresMesh","prototype","trace","703596hprXMf","1808544YylwlZ","bind","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","string","vec4 diffuseColor = vec4( diffuse, opacity );","warn","time"];return(J=function(){return n})()}const V=tn;!function(n,t){const e=tn,o=nn();for(;;)try{if(305980===parseInt(e(280))/1*(-parseInt(e(267))/2)+parseInt(e(270))/3*(parseInt(e(289))/4)+-parseInt(e(297))/5*(parseInt(e(251))/6)+-parseInt(e(279))/7+parseInt(e(242))/8*(-parseInt(e(283))/9)+parseInt(e(248))/10+parseInt(e(274))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){W(this,(function(){const n=tn,t=new RegExp(n(252)),e=new RegExp(n(298),"i"),o=on(n(273));t[n(278)](o+n(284))&&e.test(o+n(268))?on():o("0")}))()}();const q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[tn(241)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();q(void 0,(function(){const n=tn,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),e=t[n(247)]=t.console||{},o=[n(302),n(266),n(275),n(295),n(272),n(292),n(256)];for(let r=0;r<o[n(246)];r++){const t=q.constructor.prototype.bind(q),i=o[r],s=e[i]||t;t.__proto__=q[n(281)](q),t[n(293)]=s[n(293)][n(281)](s),e[i]=t}}))();const Q=["material",V(264)];function nn(){const n=["BufferGeometry","string","trace","vec4 diffuseColor = vec4( diffuse, opacity );","setAttribute","\n    ","vertexShader","Float32BufferAttribute","MathUtils","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","geometry","randFloat","warn","97572nypQJn","input","noise","9141xeUNMd","noiseTex","exception","init","22828773nYtkoj","info","constructor","globalBloom","test","2053205EAShHr","12GRpJRx","bind","uniforms","72153mCbnIV","chain","gEnds","fragmentShader","replace","gger","124mhCAGG","globalUniforms","position","table","toString","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","error","#include <begin_vertex>","7445SgHAaO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","\n      ","stateObject","log","apply","536mdzIXN","push","call","TresLineSegments","length","console","985290viWMNt","while (true) {}","counter","2202kIsooY","function *\\( *\\)","time"];return(nn=function(){return n})()}function tn(n,t){const e=nn();return tn=function(n,t){return e[n-=241]},tn(n,t)}const en=g({__name:"drops",props:{globalUniforms:{}},setup(t){const e=V,o=t,s=[],a=[];for(let r=0;r<2e4;r++){const t=n[e(262)].randFloatSpread(35),o=n[e(262)].randFloat(-5,10),r=n[e(262)].randFloatSpread(35),i=n[e(262)][e(265)](.25,.5);s[e(243)](t,o,r,t,o,r),a[e(243)](0,i,1,i)}const c=new(n[e(254)]);c[e(258)](e(291),new r(s,3)),c[e(258)](e(285),new(n[e(261)])(a,2));const l=new i({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(282)][t(253)]=o[t(290)][t(253)],n[t(282)][t(271)]=o.globalUniforms[t(269)],n[t(282)].globalBloom=o[t(290)][t(277)],n.vertexShader=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      "+n[t(260)]+t(259))[t(287)](t(296),"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(286)]=(t(294)+N+t(300)+n[t(286)]+"\n    ")[t(287)](t(257),t(263))}});return(n,t)=>{const o=e;return h(),b(o(245),{material:x(l),geometry:x(c)},null,8,Q)}}});function on(n){function t(n){const e=tn;if(typeof n===e(255))return function(n){}.constructor(e(249)).apply(e(250));1!==(""+n/n)[e(246)]||n%20==0?function(){return!0}[e(276)](e(299)+e(288))[e(244)]("action"):function(){return!1}[e(276)](e(299)+e(288))[e(241)](e(301)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=cn,o=an();for(;;)try{if(380716===parseInt(e(366))/1*(parseInt(e(404))/2)+parseInt(e(362))/3*(-parseInt(e(373))/4)+-parseInt(e(393))/5*(parseInt(e(402))/6)+-parseInt(e(380))/7+-parseInt(e(423))/8+parseInt(e(415))/9*(-parseInt(e(399))/10)+parseInt(e(360))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){rn(this,(function(){const n=cn,t=new RegExp(n(410)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=un("init");t[n(365)](o+n(390))&&e[n(365)](o+n(405))?un():o("0")}))()}();const sn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[cn(358)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function an(){const n=["Camera","counter","Color","action","time","868444YStDLC","error","value","MeshBasicMaterial","setRenderTarget","width","trace","4883690aXLBWj","defines","call","ShaderMaterial","background","gger","set","renderToScreen","uniforms","target","chain","height","while (true) {}","865KRYRyH","prototype","fragmentShader","globalBloom","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","texture","10txyjQp","table","toString","9534kLTnNf","add","2SiZihG","input","fog","\n      ","addPass","length","function *\\( *\\)","constructor","renderTarget2","exception","Mesh","3252222uSrRuL","render","color","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","Fog","__proto__","warn","near","1122392fAjiNX","noise","baseTexture","debu","WebGLRenderTarget","vec4 diffuseColor = vec4( diffuse, opacity );","apply","string","20828984mImwMR","needsSwap","9SCbMPW","bind","\n      uniform float time;\n      ","test","612729bAUmCS","info"];return(an=function(){return n})()}function cn(n,t){const e=an();return cn=function(n,t){return e[n-=357]},cn(n,t)}sn(void 0,(function(){const n=cn;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t.console=t.console||{},o=["log",n(421),n(367),n(374),n(413),n(400),n(379)];for(let i=0;i<o[n(409)];i++){const t=sn[n(411)][n(394)][n(363)](sn),r=o[i],s=e[r]||t;t[n(420)]=sn[n(363)](sn),t[n(401)]=s[n(401)][n(363)](s),e[r]=t}}))();const ln=g({__name:"fboRender",setup(t){const e=cn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(427)])(512,512),i=new s,m=new(n[e(368)]),g=new a(2,2),y=new(n[e(376)])({onBeforeCompile:n=>{const t=e;n[t(388)][t(372)]=o[t(372)],n[t(395)]=(t(364)+N+t(407)+n[t(395)]+"\n    ").replace(t(357),t(397))}});y[e(381)]={USE_UV:""};const x=new(n[e(414)])(g,y);i[e(403)](x),o[e(424)][e(375)]=r[e(398)];const{camera:T,renderer:U,scene:S,sizes:D,controls:j}=d();_((()=>j[e(375)]),(t=>{const o=e;t?.[o(389)][o(386)](0,2,0),!S[o(375)].background&&(S.value[o(384)]=new(n[o(370)])(6706534))}));const z=new c(U.value),C=new c(U[e(375)]),B=new l(S[e(375)],T[e(375)]),E=new u(new f(D[e(378)][e(375)],D[e(391)][e(375)]),1.2,.5,0);z[e(387)]=!1,z.addPass(B),z[e(408)](E);const M=new p(new(n[e(383)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:z[e(412)][e(398)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:e(418),defines:{}}),e(425));M[e(361)]=!0,C.addPass(B),C[e(408)](M),S[e(375)][e(406)]=new(n[e(419)])(6706534,1,25);const{onLoop:A}=v();return A((({elapsed:n})=>{const t=e;o[t(372)].value=n,U[t(375)]&&(U[t(375)][t(377)](r),U[t(375)][t(416)](i,m),U[t(375)].setRenderTarget(null),o[t(396)].value=1.2,S[t(375)][t(406)].color.set(0),S.value[t(406)][t(422)]=15,S.value[t(384)]?.[t(386)](0),z[t(416)](),o[t(396)][t(375)]=0,S[t(375)][t(406)][t(417)][t(386)](6706534),S.value[t(406)][t(422)]=10,S[t(375)][t(384)]?.[t(386)](6706534),C[t(416)]())})),(n,t)=>(h(),b(w,null,[I(G,{globalUniforms:o}),I($,{globalUniforms:o}),I(en,{globalUniforms:o})],64))}});function un(n){function t(n){const e=cn;if(typeof n===e(359))return function(n){}[e(411)](e(392))[e(358)](e(369));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(426)+e(385))[e(382)](e(371)):function(){return!1}[e(411)](e(426)+e(385)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const fn={class:"text"};const pn=z({},[["render",function(n,t){return h(),b("div",fn,t[0]||(t[0]=[y("span",{class:"retro noselect"},[y("span",{style:{color:"#eae"}},"光"),T("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);!function(n,t){const e=gn,o=mn();for(;;)try{if(352674===-parseInt(e(163))/1*(parseInt(e(159))/2)+-parseInt(e(147))/3+-parseInt(e(140))/4+-parseInt(e(127))/5+-parseInt(e(156))/6+parseInt(e(148))/7*(-parseInt(e(129))/8)+parseInt(e(131))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[gn(151)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){vn(this,(function(){const n=gn,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=bn(n(154));t.test(o+n(153))&&e[n(152)](o+n(133))?bn():o("0")}))()}();const dn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function mn(){const n=["chain","init","while (true) {}","1478418Okpqkk","error","manual","10EYDdTD","TresDirectionalLight","string","MathUtils","82223rLTjKa","console","DEG2RAD","960280RmzvEb","__proto__","69848qNiyse","constructor","18048582KlnTGG","log","input","info","exception","stateObject","TresPerspectiveCamera","table","gger","994312rKcQGH","length","return (function() ","TresCanvas",'{}.constructor("return this")( )',"warn","debu","144522yMCBzl","406DACBKl","TresAmbientLight","bind","apply","test"];return(mn=function(){return n})()}function gn(n,t){const e=mn();return gn=function(n,t){return e[n-=127]},gn(n,t)}dn(void 0,(function(){const n=gn;let t;try{t=Function(n(142)+n(144)+");")()}catch(r){t=window}const e=t[n(164)]=t[n(164)]||{},o=[n(132),n(145),n(134),n(157),n(135),n(138),"trace"];for(let i=0;i<o[n(141)];i++){const t=dn[n(130)].prototype.bind(dn),r=o[i],s=e[r]||t;t[n(128)]=dn[n(150)](dn),t.toString=s.toString.bind(s),e[r]=t}}))();const hn=g({__name:"lightNoise",setup(t){const e=gn,o={windowSize:!0,antialias:!0,renderMode:e(158)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[e(162)].DEG2RAD,maxPolarAngle:90*n[e(162)][e(165)],makeDefault:!0};return(n,t)=>{const i=e,s=U(i(143));return h(),b(w,null,[I(pn),I(s,D(j(o)),{default:S((()=>[t[0]||(t[0]=y(i(137),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),I(x(m),D(j(r)),null,16),t[1]||(t[1]=y(i(149),{intensity:.5},null,-1)),t[2]||(t[2]=y(i(160),{position:[0,3,-12],intensity:1},null,-1)),I(ln)])),_:1},16)],64)}}});function bn(n){function t(n){const e=gn;if(typeof n===e(161))return function(n){}.constructor(e(155))[e(151)]("counter");1!==(""+n/n)[e(141)]||n%20==0?function(){return!0}[e(130)](e(146)+e(139)).call("action"):function(){return!1}[e(130)]("debugger")[e(151)](e(136)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{hn as default};
