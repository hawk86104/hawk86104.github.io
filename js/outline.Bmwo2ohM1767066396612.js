import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{F as t,N as o,a as s,K as n}from"./@tresjs.B1f7s3pS1767066396612.js";import{P as a}from"./tweakpane.CqZAnw7f1767066396612.js";import{O as r}from"./@pmndrs.Dko8Ps5C1767066396612.js";import{m as i,al as l}from"./three.BD1hRFgo1767066396612.js";const{defineComponent:c}=await e("vue"),{unref:p,openBlock:u,createElementBlock:d}=await e("vue"),f=["object"],m=await e("three"),{onMounted:h,watchEffect:g}=await e("vue"),w=c({__name:"outlineCom",props:{color:{default:"#ffffff"},thickness:{default:.1},screenspace:{type:Boolean,default:!1}},setup(e){const o=e,{renderer:s}=t(),n=r({color:new m.Color(o.color),thickness:o.thickness,screenspace:o.screenspace,gl:s});return h(()=>{n.generate()}),g(()=>{n.updateProps({color:new m.Color(o.color),thickness:o.thickness,screenspace:o.screenspace})}),(e,t)=>(u(),d("primitive",{object:p(n).group},null,8,f))}}),{defineComponent:k}=await e("vue"),{unref:y,createElementVNode:b,createVNode:v,openBlock:B,createElementBlock:M,createCommentVNode:T}=await e("vue"),C=["object"],j=["geometry"],{watch:_}=await e("vue"),x=await e("three"),E=k({__name:"outlineModel",props:{color:{default:"#ffffff"},thickness:{default:.1},screenspace:{type:Boolean,default:!1}},setup(e){const{state:t}=o("./plugins/basic/htmls/model/model.gltf",{draco:!0,decoderPath:"./draco/"});function s(e){const t=[];e.traverse(e=>{if(e.isMesh&&e.geometry.isBufferGeometry&&e.geometry.attributes.position.count<1e5){const o=e.geometry.clone(),s=new x.Matrix4;s.copy(e.matrixWorld),o.applyMatrix4(s),o.isBufferGeometry&&(Object.keys(o.attributes).forEach(e=>{"position"!==e&&o.deleteAttribute(e)}),t.push(function(e,t=.1){return(new l).modify(e,Math.floor(e.attributes.position.count*t))}(o,.1)))}});return i(t)}let n=null;return _(()=>t.value,e=>{e.scene&&(n=s(e.scene))}),(e,o)=>y(t)?(B(),M("primitive",{key:0,object:y(t)?.scene,scale:1,position:[3,-1,-3]},[b("TresMesh",{geometry:y(n)},[o[0]||(o[0]=b("TresMeshBasicMaterial",{color:"#000000",transparent:"",opacity:0},null,-1)),v(w,{thickness:e.thickness,screenspace:e.screenspace,color:e.color},null,8,["thickness","screenspace","color"])],8,j)],8,C)):T("",!0)}}),{defineComponent:P}=await e("vue"),{createElementVNode:N,unref:S,normalizeProps:V,guardReactiveProps:G,createVNode:z,Suspense:A,withCtx:K,openBlock:D,createBlock:F,mergeProps:L}=await e("vue"),O={position:[0,.9,0],name:"torus"},R={position:[-2.5,.5,2.5],"receive-shadow":"","cast-shadow":"",name:"cube"},{ACESFilmicToneMapping:W}=await e("three"),{reactive:q}=await e("vue"),H=P({__name:"outline",setup(e){const t=q({alpha:!0,toneMapping:W,windowSize:!0,clearColor:"#000000"}),o=q({enableDamping:!0,autoRotate:!1}),r=q({color:"#ff00ae",thickness:.1,screenspace:!1}),i=new a;i.addBinding(r,"color",{label:"颜色"}),i.addBinding(r,"thickness",{label:"thickness",min:0,max:2,step:.01}),i.addBinding(r,"screenspace",{label:"space"});const l=q({color:"#ffffff",thickness:.026,screenspace:!1});return i.addBinding(l,"color",{label:"模型边框颜色"}),i.addBinding(l,"thickness",{label:"模型边框粗细",min:0,max:.2,step:.001}),i.addBinding(l,"screenspace",{label:"模型边框类型"}),(e,a)=>(D(),F(S(s),L(t,{"window-size":""}),{default:K(()=>[a[4]||(a[4]=N("TresPerspectiveCamera",{position:[10,10,10],fov:45,near:1,far:1e3},null,-1)),z(S(n),V(G(o)),null,16),a[5]||(a[5]=N("TresAmbientLight",{intensity:.5},null,-1)),a[6]||(a[6]=N("TresDirectionalLight",{position:[15,15,15],intensity:1},null,-1)),N("TresMesh",O,[a[0]||(a[0]=N("TresTorusKnotGeometry",{args:[1,.35,100,32]},null,-1)),a[1]||(a[1]=N("TresMeshStandardMaterial",{color:"#ff33ff",roughness:.3,metalness:.5},null,-1)),z(w,V(G(r)),null,16)]),N("TresMesh",R,[a[2]||(a[2]=N("TresCylinderGeometry",{args:[1.5,1.5,2]},null,-1)),a[3]||(a[3]=N("TresMeshStandardMaterial",{color:3407871,roughness:0,metalness:0},null,-1)),z(w)]),(D(),F(A,null,{default:K(()=>[z(E,V(G(l)),null,16)]),_:1}))]),_:1},16))}});export{H as default};
