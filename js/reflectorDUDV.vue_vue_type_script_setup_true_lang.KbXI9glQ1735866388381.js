import{c8 as t,a3 as e,s as n,t as r}from"./three.Rja0AEnA1735866388381.js";import{b as o}from"./@tresjs.FlKhQDQ71735866388381.js";import{R as s,b as i}from"./all.three.XOVNFju71735866388381.js";import{d as c,a4 as a,a1 as u,w as f,o as l,D as p,J as d,u as h}from"./@vue.yG49nQHr1735866388381.js";const m=v;function w(){const t=["trace","renderTarget","add","update","texture","counter","call","toString","5115080YNPPVx","debu","mapUrl","object","gger","ignoreObjects","forEach","onBeforeRender","22IwzYuA","value","primitive","visible","2324472UhxqmU","uMatrix","3999681krfGXd","action","isMesh","textureMatrixUniform","uniforms","set",'{}.constructor("return this")( )',"9brCiAz","1146836lhZtIx","scale","apply","tReflect","reflectivity","tReflectBlur","rotation","wrapS","6bCcbRU","while (true) {}","exception","info","input","size","function *\\( *\\)","test","log","3220055gawhRR","wrapT","init","uReflectivity","bind","stateObject","constructor","showGridHelper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5244530SOgnUF","4490aHdYCM","277xSGeDV","length","console","repeat"];return(w=function(){return t})()}!function(t,e){const n=v,r=w();for(;;)try{if(370014===parseInt(n(507))/1*(-parseInt(n(506))/2)+parseInt(n(487))/3*(parseInt(n(479))/4)+parseInt(n(496))/5+-parseInt(n(469))/6+parseInt(n(471))/7+parseInt(n(457))/8*(parseInt(n(478))/9)+-parseInt(n(505))/10*(parseInt(n(465))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(481)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=v,e=new RegExp(t(493)),n=new RegExp(t(504),"i"),r=R(t(498));e.test(r+"chain")&&n[t(494)](r+t(491))?R():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function v(t,e){const n=w();return(v=function(t,e){return n[t-=448]})(t,e)}g(void 0,(function(){const t=v;let e;try{e=Function("return (function() "+t(477)+");")()}catch(o){e=window}const n=e.console=e[t(509)]||{},r=[t(495),"warn",t(490),"error",t(489),"table",t(449)];for(let s=0;s<r[t(508)];s++){const e=g[t(502)].prototype[t(500)](g),o=r[s],i=n[o]||e;e.__proto__=g[t(500)](g),e[t(456)]=i.toString[t(500)](i),n[o]=e}}))();const y=[m(480)],x=[m(460)],I=["object"],j=c({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const b=m;let g,v;const j=c,R=new s,U=new t(j.size[0]-.5,j[b(492)][1]);U[b(468)]=j[b(503)];const{map:_}=([g,v]=a((()=>o({map:j[b(459)]}))),g=await g,v(),g);_[b(486)]=e,_[b(497)]=e,_[b(448)][b(476)](6,3);const z=new i({map:_,reflectivity:j[b(483)]});z[b(475)][b(482)]={value:R[b(450)][b(453)]},z.uniforms[b(484)]=R.renderTargetUniform,z[b(475)][b(470)]=R[b(474)];const G=new n(new r(j[b(492)][0],j[b(492)][1]),z);return G[b(485)].x=-Math.PI/2,G[b(451)](R),G[b(464)]=(t,e,n)=>{const r=b;G[r(468)]=!1,j[r(462)][r(463)]((t=>{const e=r;t[e(473)]&&(t[e(468)]=!1),t.value&&t[e(466)][e(473)]&&(t[e(466)][e(468)]=!1)})),R[r(452)](t,e,n),j[r(462)].forEach((t=>{const e=r;t[e(473)]&&(t[e(468)]=!0),t.value&&t[e(466)][e(473)]&&(t[e(466)].visible=!0)})),G[r(468)]=!0},u((()=>{const t=b;j[t(483)]&&(z[t(475)][t(499)][t(466)]=j[t(483)])})),f((()=>j.showGridHelper),(t=>{U[b(468)]=t})),w({reflector:R}),(t,e)=>{const n=b;return l(),p("TresGroup",{scale:j.scale},[d(n(467),{object:h(G),"position-y":-.01},null,8,x),d("primitive",{object:h(U)},null,8,I)],8,y)}}});function R(t){function e(t){const n=v;if("string"==typeof t)return function(t){}[n(502)](n(488)).apply(n(454));1!==(""+t/t)[n(508)]||t%20==0?function(){return!0}[n(502)](n(458)+n(461))[n(455)](n(472)):function(){return!1}[n(502)](n(458)+n(461))[n(481)](n(501)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{j as _};
