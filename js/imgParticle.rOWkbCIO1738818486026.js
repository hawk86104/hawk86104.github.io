import{a as t,o as n}from"./@tresjs.ZGxFoQtw1738818486026.js";import"./index.3Q6a4p7v1738818486026.js";import{P as o}from"./tweakpane.yDiyAAkA1738818486026.js";import{_ as e}from"./three.WgQSjl1J1738818486026.js";import{d as r,a3 as s,w as i,o as u,H as c,N as a,u as l,aj as p,ak as f,r as m,e as _,f as d,g as v,j as h,al as g,m as C}from"./@vue.NRI7TcgI1738818486026.js";import{_ as y}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.jxYzR0JC1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.BloZioTm1738818486026.js";import"./all.three.w-Cc8HG21738818486026.js";import"./oimophysics.x0jH7fze1738818486026.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.22j6u6rm1738818486026.js";import"./index.Mut38q0v1738818486026.js";import"./three-stdlib.9mw3NDon1738818486026.js";import"./@pmndrs.rZbwRp5K1738818486026.js";import"./object-hash.ZlXR4dyw1738818486026.js";import"./@amap.E-EiiwM61738818486026.js";import"./jszip.8di41imu1738818486026.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.hqHnabz21738818486026.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.JwxyH3nB1738818486026.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.WZYidSc01738818486026.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.GhkPKVVr1738818486026.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.zZ9i_81t1738818486026.js";const j=I;!function(t,n){const o=I,e=x();for(;;)try{if(249882===parseInt(o(263))/1+parseInt(o(292))/2*(-parseInt(o(275))/3)+parseInt(o(282))/4*(parseInt(o(316))/5)+-parseInt(o(291))/6+parseInt(o(272))/7*(parseInt(o(299))/8)+-parseInt(o(262))/9+parseInt(o(265))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const w=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[I(278)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){w(this,(function(){const t=I,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(306),"i"),e=F(t(261));n[t(302)](e+t(297))&&o[t(302)](e+t(266))?F():e("0")}))()}();const b=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[I(278)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function I(t,n){const o=x();return(I=function(t,n){return o[t-=261]})(t,n)}b(void 0,(function(){const t=I,n=function(){const t=I;let n;try{n=Function("return (function() "+t(270)+");")()}catch(o){n=window}return n}(),o=n[t(305)]=n.console||{},e=[t(276),t(284),t(309),t(281),t(318),t(301),"trace"];for(let r=0;r<e.length;r++){const n=b[t(286)][t(296)][t(304)](b),s=e[r],i=o[s]||n;n[t(311)]=b[t(304)](b),n[t(264)]=i[t(264)].bind(i),o[s]=n}}))();const P={position:[-8,10,-2],scale:.02},z=["position","color_list"];function x(){const t=["value","getContext","error","256844sJhMfU","AdditiveBlending","warn","createElement","constructor","push","stateObject","Color","TresPoints","989802zcMhEy","658GlrueR","set","debu","string","prototype","chain","data","784vUKUuV","canvas","table","test","TresBufferGeometry","bind","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","useCustomColor","while (true) {}","info","random","__proto__","zPos","image","#ff0000","gger","5jmONQy","call","exception","init","2221749MyQuBS","186201VZdtyF","toString","3724200PSGBtr","input","uniforms","width","TresShaderMaterial",'{}.constructor("return this")( )',"customColor","29050oCCvHq","counter","height","3354LyxNHV","log","\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}","apply"];return(x=function(){return t})()}const M=r({__name:"imgParticleMesh",props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:j(314)}},async setup(n){const o=j;let r,m;const _=n,d=([r,m]=s((()=>t(["./logo.png"]))),r=await r,m(),r),v=document[o(285)](o(300)),h=d[o(313)].width,g=d[o(313)][o(274)];v[o(268)]=h,v[o(274)]=g;const C=v[o(280)]("2d");null==C||C.drawImage(d[o(313)],0,0);const y=null==C?void 0:C.getImageData(0,0,h,g)[o(298)],w=[],b=[];if(y)for(let t=0;t<g;t++)for(let n=0;n<h;n++){const e=4*(t*h+n);if(y[e+3]>0){const r=y[e]/255,s=y[e+1]/255,i=y[e+2]/255,u=100*Math[o(310)]();w.push(n,-t,u),b[o(287)](r,s,i)}}const I=new Float32Array(w),x=new Float32Array(b),M={uniforms:{zPos:{value:_.zPos},useCustomColor:{value:_.useCustomColor},customColor:{value:new(e[o(289)])(_[o(271)])}},vertexShader:o(277),fragmentShader:"\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}",transparent:!0,depthTest:!1,blending:e[o(283)]};return i((()=>[_[o(312)],_[o(307)],_[o(271)]]),(([t,n,e])=>{const r=o;M.uniforms[r(312)][r(279)]=t,M[r(267)][r(307)][r(279)]=n,M.uniforms[r(271)].value[r(293)](e)})),(t,n)=>{const e=o;return u(),c(e(290),P,[a(e(303),{position:[l(I),3],color_list:[l(x),3]},null,8,z),a(e(269),p(f(M)),null,16)])}}});function F(t){function n(t){const o=I;if(typeof t===o(295))return function(t){}[o(286)](o(308))[o(278)](o(273));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(294)+o(315))[o(317)]("action"):function(){return!1}[o(286)]("debu"+o(315))[o(278)](o(288)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const A=S;function S(t,n){const o=R();return(S=function(t,n){return o[t-=289]})(t,n)}!function(t,n){const o=S,e=R();for(;;)try{if(781984===-parseInt(o(320))/1*(-parseInt(o(325))/2)+parseInt(o(305))/3+-parseInt(o(309))/4+parseInt(o(293))/5+parseInt(o(294))/6*(-parseInt(o(328))/7)+-parseInt(o(306))/8*(-parseInt(o(321))/9)+-parseInt(o(296))/10*(parseInt(o(308))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const B=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[S(326)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){B(this,(function(){const t=S,n=new RegExp(t(299)),o=new RegExp(t(314),"i"),e=T(t(298));n[t(331)](e+t(291))&&o[t(331)](e+"input")?T():e("0")}))()}();const E=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[S(326)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function R(){const t=["2345388sEYMCb","24UUhuGa","counter","11cYQLKe","228184fZsEtR","addBinding","exception","#ff0000","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","call","console","TresAmbientLight","useCustomColor","33bNoXea","4290426FFeFBG","imgParticle","自定义颜色","zPos","49622iIRQVu","apply","TresPerspectiveCamera","217rbYuhp","info","toString","test","customColor","使用自定义颜色","chain","debu","3649780qBMuvr","91656JwwxPt","trace","24480710MmuldJ",'{}.constructor("return this")( )',"init","function *\\( *\\)","action","constructor","bind","length","gger"];return(R=function(){return t})()}E(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(313)+t(297)+");")()}catch(o){n=window}return n}(),o=n[t(317)]=n[t(317)]||{},e=["log","warn",t(329),"error",t(311),t(315),t(295)];for(let r=0;r<e.length;r++){const n=E[t(301)].prototype.bind(E),s=e[r],i=o[s]||n;n.__proto__=E.bind(E),n[t(330)]=i[t(330)][t(302)](i),o[s]=n}}))();const G=r({__name:A(322),setup(t){const e=A,r={clearColor:"#050505",antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=m({zPos:1,useCustomColor:!1,customColor:e(312)}),c=new o({title:"参数"});return c[e(310)](i,e(324),{label:"厚度",min:.5,max:10,step:.5}),c[e(310)](i,e(319),{label:e(290)}),c.addBinding(i,e(289),{label:e(323)}),(t,o)=>{const c=e,m=_("TresCanvas");return u(),d(m,C(r,{"window-size":""}),{default:v((()=>[o[0]||(o[0]=a(c(327),{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),h(l(n)),o[1]||(o[1]=a(c(318),{intensity:.5},null,-1)),(u(),d(g,null,{default:v((()=>[h(M,p(f(i)),null,16)])),_:1})),(u(),d(g,null,{default:v((()=>[h(l(y),C({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function T(t){function n(t){const o=S;if("string"==typeof t)return function(t){}[o(301)]("while (true) {}")[o(326)](o(307));1!==(""+t/t)[o(303)]||t%20==0?function(){return!0}[o(301)](o(292)+o(304))[o(316)](o(300)):function(){return!1}[o(301)](o(292)+o(304))[o(326)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{G as default};
