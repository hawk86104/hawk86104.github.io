import{$ as t,aA as n,Y as o}from"./three.CcAUWIwc1753233172036.js";import{e,g as r,a as c,H as i}from"./@tresjs.C_lUIoBy1753233172036.js";import{_ as W}from"./index.CVbqg47l1753233172036.js";import{d as a,b as d,w as s,G as f,o as u,I as l,j as m,u as h,r as v,e as k,f as p,a7 as x,a8 as C,a5 as g,m as S}from"./@vue.DwSifnVs1753233172036.js";import{_ as P}from"./component.vue_vue_type_script_setup_true_lang.RteFC_hK1753233172036.js";import"./postprocessing.BWGCgD611753233172036.js";import"./@vueuse.35KRNqxK1753233172036.js";import"./object-hash.DT0jHclY1753233172036.js";import"./@amap.CGUF9xH41753233172036.js";import"./jszip.7lf2gDRg1753233172036.js";import"./three-stdlib.BjAotcYA1753233172036.js";!function(){function t(t,n,o,e,r){return y(n- -368,e)}var n=N();function o(t,n,o,e,r){return y(r- -41,o)}function e(t,n,o,e,r){return y(r- -452,n)}for(;;)try{if(641796===parseInt(o(0,0,"if#4",0,138))/1*(parseInt(e(0,"f@^V",0,0,-291))/2)+parseInt(e(0,"d@Ck",0,0,-284))/3*(-parseInt(t(0,-166,0,"xW)Q"))/4)+-parseInt(t(0,-224,0,"d@Ck"))/5+-parseInt(t(0,-181,0,"if#4"))/6+parseInt(t(0,-227,0,"Q81]"))/7*(parseInt(o(0,0,"NoG%",0,125))/8)+parseInt(e(0,"y*xv",0,0,-276))/9+parseInt(o(0,0,"f@^V",0,107))/10)break;n.push(n.shift())}catch(r){n.push(n.shift())}}();var b,O=(b=!0,function(t,n){function o(t,n,o,e,r){return y(t-547,n)}function e(t,n,o,e,r){return y(t-158,n)}if("WzjLR"!==o(751,"oLdY"))return _0xb4f61f[e(347,"AQ8n")]()[e(309,"8d!s")]("(((.+)+)+)+$")[e(300,"b*vA")]().constructor(_0x39d495)[e(293,"u83O")]("(((.+)+)+)+$");var r=b?function(){function r(t,n,o,r,c){return e(c- -738,o)}function c(t,n,e,r,c){return o(e- -872,c)}if("JhYvj"===c(0,0,-180,0,"dA2v"))_0xae8e1f=_0x3ee686('return (function() {}.constructor("return this")( ));')();else if(n){if(r(0,0,"b*vA",0,-425)!==r(0,0,"!VxR",0,-433)){var i=n[c(0,0,-120,0,"p4BY")](t,arguments);return n=null,i}if(_0x2718b0){var W=_0x50bdcd[(a="oWMl",d=-705,y(d- -2- -860,a))](_0x288b39,arguments);return _0x17e3ee=null,W}}var a,d}:function(){};return b=!1,r})(void 0,(function(){function t(t,n,o,e,r){return y(t-740,e)}return O[t(926,0,0,"d@Ck")]().search((e=957,r="Qm(z",y(e-804,r)))[t(903,0,0,"if#4")]()[t(879,0,0,"HKKU")](O)[(n=-624,o="AQ8n",y(n- -806,o))](y(582-391,"Hp#S"));var n,o,e,r}));O();var R,G=(R=!0,function(t,n){function o(t,n,o,e,r){return y(o- -670,t)}if("mywhB"!==o("71Ht",0,-473)){var e=R?function(){function e(t,n,e,r,c){return o(t,0,e-894)}function r(t,n,e,r,c){return o(e,0,r-359)}if(e("n0[7",0,395)!==e("dA2v",0,408)){var c=_0x5e80be?function(){if(_0x12c8f3){var t=_0x2e5406[(n=1064,o="R31n",e(o,0,n-704))](_0x22fbd7,arguments);return _0x56b1d4=null,t}var n,o}:function(){};return _0x1831ff=!1,c}if(n){if(r(0,0,"GP@i",-111)===o("p4BY",0,-487)){var i=n[(a="8p#f",d=-740,o(a,0,d- -250))](t,arguments);return n=null,i}if(_0x27f138){var W=_0x2f4b39[r(0,0,"fqJf",-133)](_0x5e5cc1,arguments);return _0x145e1e=null,W}}var a,d}:function(){};return R=!1,e}var r=_0xe7cc3c[o("if#4",0,-500)](_0x2f8a7d,arguments);return _0x1e796a=null,r});function y(t,n){var o=N();return y=function(n,e){var r=o[n-=135];if(void 0===y.FzNseG){var c=function(t){for(var n,o,e="",r="",i=e+c,W=0,a=0;o=t.charAt(a++);~o&&(n=W%4?64*n+o:o,W++%4)?e+=i.charCodeAt(a+10)-10!=0?String.fromCharCode(255&n>>(-2*W&6)):W:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,s=e.length;d<s;d++)r+="%"+("00"+e.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(r)};y.UfeRAc=function(t,n){var o,e,r=[],i=0,W="";for(t=c(t),e=0;e<256;e++)r[e]=e;for(e=0;e<256;e++)i=(i+r[e]+n.charCodeAt(e%n.length))%256,o=r[e],r[e]=r[i],r[i]=o;e=0,i=0;for(var a=0;a<t.length;a++)i=(i+r[e=(e+1)%256])%256,o=r[e],r[e]=r[i],r[i]=o,W+=String.fromCharCode(t.charCodeAt(a)^r[(r[e]+r[i])%256]);return W},t=arguments,y.FzNseG=!0}var i=n+o[0],W=t[i];if(W)r=W;else{if(void 0===y.gsIvcT){var a=function(t){this.UPitrp=t,this.WfZehV=[1,0,0],this.DCKCoy=function(){return"newState"},this.fgyUGN="\\w+ *\\(\\) *{\\w+ *",this.XyETdO="['|\"].+['|\"];? *}"};a.prototype.iZypuO=function(){var t=new RegExp(this.fgyUGN+this.XyETdO).test(this.DCKCoy.toString())?--this.WfZehV[1]:--this.WfZehV[0];return this.EbRfMO(t)},a.prototype.EbRfMO=function(t){return Boolean(~t)?this.HVgaqQ(this.UPitrp):t},a.prototype.HVgaqQ=function(t){for(var n=0,o=this.WfZehV.length;n<o;n++)this.WfZehV.push(Math.round(Math.random())),o=this.WfZehV.length;return t(this.WfZehV[0])},new a(y).iZypuO(),y.gsIvcT=!0}r=y.UfeRAc(r,e),t[i]=r}return r},y(t,n)}function N(){var t=["n8okW4xcJx59","W7nrW4uifSkLW6FcP8oSeGhdHbmU","qh3dUtFcIgJdMeLNWOBcHuS","u8kUWRJcUW","E2DHa8og","WPWtDmktW54","WQmrWODCwa","j8knWQpdIKa3t8ksla","iCkAWQ7dNf8VqW","bSoeW6JdL8oa","sh/dLu8LWQNcIKBdVZjPWPW","WR/dN8kjFXj8WOmS","BeBcJJ3dSxHiW6m","l8oyF8kwaa","W5u9Av4","WRWYW5/cVufBz8oDWPimWPm","f0HyWRZdPmote1/dNw7cJmoqcmoYWO3cOSkjlgNcISolkmkFqSoDW5vraL3dJhqh","WPK+gmofr8kfW6u","jHhcNa58W63cHepdLq","EvNcRsxdUG","wmklWRvqW6K","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","EKdcSY0","ctZcGWH8W63cKMZdRW","FejEnW","jSkAWQFdGtzKWQudxCkVvsrSqG","xCkOWRe","WP9AWOxdKN8","lxpcJtJdJefY","WQ4RW7dcQLi","W5GAjmoXvmkUWO/dHCoiqSogWPmsWPpcShpdLmkRWQ8","WPBdMgBcIhJcTq","jmkwqSkEW50","ydZcM8oVsa","ufVcQ8oLf0GfWP9hW6mxWRW","W54qa8oWvmkPW4hcIG","lbJdRhhcTImqW4FdTmokvMfY","BLLFj8odlqxdSYO","WPhdKLtcJMNcTmo9lW","pCk/qCk1W68","p3NdVCo5ACoWhulcR8kZWPqi","WRS7W5tcV0iAm8ovWRyKWPdcQmo9","W6tdJxFcUmksqIi","cmkhySorlq","W6fSiSkCea","WR/dKCk4zWu","hSoJsSk8cW","WQZdL3pdOdJdVfb1wq","jCoFW5tcK2q","n8kYWQZdH1q","mmkGWR7dLbC","WOFdNSogrshcKcPLWRWZqSkjWPK","W6ZdLWL/W5bTDCoSW6VdTCkGWOeK","sConWPP5WO4","mmkHxSkAW4a","z8kcWR3cT8oTu8ogWRqSqG","eG/dS8kKqHa","WPldUhpdVI4","WQNcL38/WRq","FCoyWP5gWQGBWQSuW6tcRSoB","W5q7AuNcHrxdHcpcJmkvW74","oGVcGSoAB8k+WPe","WRSTCbGIW4iYWPrQW5O","AKrJj8oEmbldPa","W6eigSoK","WP9nzmk0h8oYWPRcMSoMtComWRO0","qsJcLCoOrG","WQZcQL8iWOm","x8ktrctdTG","sN/dMeGJWQ/dM3/dKYnoWOvC","W5xdKum5u18","zJ/cTmoe"];return(N=function(){return t})()}G(void 0,(function(){var t=function(){function t(t,n,o,e,r){return y(n- -803,o)}function n(t,n,o,e,r){return y(n-358,r)}function o(t,n,o,e,r){return y(r-920,o)}function e(t,n,o,e,r){return y(e-725,o)}if(e(0,0,"sM#c",885)!==e(0,0,")vMv",926)){var r;try{if(o(0,0,"to8x",0,1066)!==e(0,0,"71Ht",889)){var c=_0x1ac3aa.constructor[o(0,0,"f@^V",0,1094)][o(0,0,"b*vA",0,1095)](_0x4880b8),i=_0x3776ec[_0x388920],W=_0x37c648[i]||c;c[t(0,-605,"R31n")]=_0x53b566[n(0,501,0,0,"QNFE")](_0x885c91),c.toString=W[n(0,547,0,0,"AQ8n")][o(0,0,"o*$6",0,1074)](W),_0xc05054[i]=c}else r=Function("return (function() "+o(0,0,"BwWr",0,1087)+");")()}catch(d){if("BgFnd"===e(0,0,"to8x",862)){var a=_0x176c7d?function(){if(_0x33d400){var n=_0x490a9b[(o=-194,e="8d!s",t(0,o-410,e))](_0x555d9e,arguments);return _0x4913e4=null,n}var o,e}:function(){};return _0x5d7e63=!1,a}r=window}return r}_0x2d7dd0=_0xdcc0b8}();function n(t,n,o,e,r){return y(o- -91,t)}function o(t,n,o,e,r){return y(n- -787,e)}var e=t[r(161,"D6Pg",149)]=t[n("GP@i",0,68)]||{};function r(t,n,o,e,r){return y(o- -44,n)}function c(t,n,o,e,r){return y(o- -565,t)}for(var i,W,a=[r(0,"o*$6",133),"warn",c("dA2v",0,-415),r(0,"S5rj",150),c("GP@i",0,-407),n("L@Uy",0,105),o(0,-592,0,"fZV@")],d=0;d<a[c("qas4",0,-416)];d++){if(n("p4BY",0,99)===o(0,-631,0,"Xt9D")){var s;try{s=_0x5ae04b(n("d@Ck",0,90)+'{}.constructor("return this")( ));')()}catch(m){s=_0x16f150}return s}var f=G[n("oLdY",0,47)][r(0,"b*vA",144)][n("if#4",0,82)](G),u=a[d],l=e[u]||f;f[r(0,"f@^V",125)]=G.bind(G),f[r(0,"L@Uy",118)]=l.toString[(i=-749,W="HKKU",y(i- -914,W))](l),e[u]=f}}))();const M=y(-282- -454,"GP@i");const I=a({__name:"instancedMeshCom",setup(o){const c=d(null),i={vertex:`\n    uniform float uTime;\n\t\tvarying vec3 vPosition;\n\t\t${M}\n    vec3 displace(vec3 point) {\n      vec3 instancePosition = (instanceMatrix * vec4(point, 1.)).xyz;\n      return instancePosition + (normal * noise((instancePosition * 3.) + uTime) * 0.8);\n    }  \n\n    vec3 orthogonal(vec3 v) {\n      return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)\n      : vec3(0.0, -v.z, v.y));\n    }\n\n    vec3 recalcNormals(vec3 newPos) {\n      float offset = 0.001;\n      vec3 tangent = orthogonal(normal);\n      vec3 bitangent = normalize(cross(normal, tangent));\n      vec3 neighbour1 = position + tangent * offset;\n      vec3 neighbour2 = position + bitangent * offset;\n\n      vec3 displacedNeighbour1 = displace(neighbour1);\n      vec3 displacedNeighbour2 = displace(neighbour2);\n\n      vec3 displacedTangent = displacedNeighbour1 - newPos;\n      vec3 displacedBitangent = displacedNeighbour2 - newPos;\n\n      return normalize(cross(displacedTangent, displacedBitangent));\n    }\n\n    void main() {\n\t\t\tvPosition = position;\n      vec3 p = displace(position);\n      csm_PositionRaw = projectionMatrix * modelViewMatrix * instanceMatrix * vec4(p, 1.);\n      csm_Normal = recalcNormals(p);\n    }\n    `,fragment:"\n\t\tvarying vec3 vPosition;\n\t\t// 函数将 HSL 转换为 RGB\n\t\tvec3 hsl2rgb(float h, float s, float l) {\n\t\t\t\tfloat c = (1.0 - abs(2.0 * l - 1.0)) * s;\n\t\t\t\tfloat x = c * (1.0 - abs(mod(h * 6.0, 2.0) - 1.0));\n\t\t\t\tfloat m = l - c / 2.0;\n\t\t\t\tvec3 rgb;\n\t\t\t\tif (0.0 <= h && h < 1.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, x, 0.0);\n\t\t\t\t} else if (1.0 / 6.0 <= h && h < 2.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, c, 0.0);\n\t\t\t\t} else if (2.0 / 6.0 <= h && h < 3.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, c, x);\n\t\t\t\t} else if (3.0 / 6.0 <= h && h < 4.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, x, c);\n\t\t\t\t} else if (4.0 / 6.0 <= h && h < 5.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, 0.0, c);\n\t\t\t\t} else if (5.0 / 6.0 <= h && h < 6.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, 0.0, x);\n\t\t\t\t} else {\n\t\t\t\t\t\trgb = vec3(0.0, 0.0, 0.0);\n\t\t\t\t}\n\t\t\t\trgb += vec3(m);\n\t\t\t\treturn rgb;\n\t\t}\n    void main() {\n      // csm_DiffuseColor = vec4(1.,1.,1.,1.);\n\t\t\tfloat h = mod(vPosition.x + vPosition.y + vPosition.z, 1.0); // 色相 H: [0, 1)\n\t\t\tfloat s = 0.9; // 饱和度 S: 固定为 0.8\n\t\t\tfloat l = 0.4; // 亮度 L: 固定为 0.5\n\t\t\tvec3 rgb = hsl2rgb(h, s, l);\n\t\t\tcsm_DiffuseColor = vec4(rgb,1.);\n    }\n    "},W={uTime:{value:0}},a=new t,{onLoop:v}=e();return v((({elapsed:t})=>{W.uTime.value=t})),s((()=>c.value),(t=>{if(t){let n=0;for(let o=0;o<88;o++)a.position.set(Math.random(),Math.random(),Math.random()),a.rotation.set(Math.random(),Math.random(),Math.random()),a.position.multiplyScalar(10),a.position.x-=5,a.position.y-=5,a.position.z-=5,a.updateMatrix(),t.setMatrixAt(n++,a.matrix);t.instanceMatrix.needsUpdate=!0}})),(t,o)=>(u(),f("TresInstancedMesh",{ref_key:"tmRef",ref:c,args:[null,null,88]},[o[0]||(o[0]=l("TresSphereGeometry",{args:[1,64,64]},null,-1)),m(h(r),{baseMaterial:n,vertexShader:i.vertex,fragmentShader:i.fragment,uniforms:W,transparent:""},null,8,["baseMaterial","vertexShader","fragmentShader"])],512))}}),q=a({__name:"instancedMeshCustomShaderMaterial",setup(t){const n=v({alpha:!0,toneMapping:o,windowSize:!0,clearColor:"#000000"}),e=v({enableDamping:!0});return(t,o)=>(u(),k(h(i),S(n,{"window-size":""}),{default:p((()=>[o[0]||(o[0]=l("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:1,far:1e3},null,-1)),m(h(c),x(C(e)),null,16),o[1]||(o[1]=l("TresAmbientLight",{intensity:.5},null,-1)),o[2]||(o[2]=l("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1)),(u(),k(g,null,{default:p((()=>[m(h(P),{intensity:16,resolution:256,background:"",blur:.6},{default:p((()=>[m(h(W),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),m(h(W),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),m(h(W),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["rotation-y"]),m(h(W),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["rotation-y"])])),_:1})])),_:1})),m(I)])),_:1},16))}});export{q as default};
