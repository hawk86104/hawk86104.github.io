import{bR as t,a6 as n}from"./three.VTQVqxMx1725416517797.js";import{N as o}from"./@tresjs.5lh7VmqZ1725416517797.js";import{d as r,b as e,a5 as a,w as s,o as c,E as i,L as u,aj as f,ak as l}from"./@vue._6MD2XyK1725416517797.js";!function(t,n){const o=h,r=g();for(;;)try{if(331540===parseInt(o(261))/1+parseInt(o(273))/2+parseInt(o(274))/3*(parseInt(o(298))/4)+-parseInt(o(257))/5*(-parseInt(o(249))/6)+parseInt(o(265))/7+-parseInt(o(275))/8+-parseInt(o(269))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const p=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[h(266)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){p(this,(function(){const t=h,n=new RegExp(t(280)),o=new RegExp(t(276),"i"),r=w("init");n.test(r+t(251))&&o.test(r+t(279))?w():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[h(266)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function h(t,n){const o=g();return(h=function(t,n){return o[t-=249]})(t,n)}function g(){const t=["call","error","\n      \t","gger","prototype","table","counter","\n          ","8HyACsN","30KPlrDd","constructor","chain","length","bind","toString","project_vertex","shadowmap_vertex","605825alUoLq","string","worldpos_vertex","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","52313vbsQLV","warn","__proto__","while (true) {}","3829CzWFCG","apply","defaultnormal_vertex","exception","9508104lBWJQD","packing","shadowmap_pars_fragment","ShaderChunk","1154962mkkHJm","733659tXohrC","2698208YlImId","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","shadowmask_pars_fragment","input","function *\\( *\\)",'{}.constructor("return this")( )',"\n       varying vec2 vUv;\n\t\t\t \t","begin_vertex","lights_pars_begin","beginnormal_vertex","shadowmap_pars_vertex","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n\t ","return (function() "];return(g=function(){return t})()}d(void 0,(function(){const t=h;let n;try{n=Function(t(289)+t(281)+");")()}catch(e){n=window}const o=n.console=n.console||{},r=["log",t(262),"info",t(291),t(268),t(295),"trace"];for(let a=0;a<r[t(252)];a++){const n=d[t(250)][t(294)].bind(d),e=r[a],s=o[e]||n;n[t(263)]=d[t(253)](d),n[t(254)]=s.toString[t(253)](s),o[e]=n}}))();const m=()=>{const o=h;return o(282)+t.common+o(292)+t.bsdfs+"\n      \t"+n[o(272)][o(286)]+"\n       void main() {\n\t\t\t\t\t"+n[o(272)][o(285)]+o(297)+n[o(272)][o(267)]+o(297)+n[o(272)][o(283)]+o(297)+n[o(272)][o(255)]+o(297)+n[o(272)][o(259)]+o(297)+t[o(256)]+o(277)},v=()=>{const o=h;return o(287)+n[o(272)].common+o(288)+t[o(270)]+o(288)+t.bsdfs+o(288)+n[o(272)][o(284)]+o(288)+n[o(272)][o(271)]+o(288)+n[o(272)][o(278)]+o(260)};function w(t){function n(t){const o=h;if(typeof t===o(258))return function(t){}[o(250)](o(264))[o(266)](o(296));1!==(""+t/t)[o(252)]||t%20==0?function(){return!0}[o(250)]("debu"+o(293))[o(290)]("action"):function(){return!1}[o(250)]("debu"+o(293))[o(266)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const _=S;function b(){const t=["uColor","trace","RepeatWrapping","2892440OTnbvP","whiteFloorMesh","info","args","table","return (function() ","call","2818143YFzoXz","#990","995015RofuWL","string","action","wrapT","function *\\( *\\)","color","uniforms","shadowColor","counter","__proto__","1025413qqCbHK","toString","DoubleSide","bind","merge","warn","TresShaderMaterial","apply","25841280fpnOUa","log","316500QSzRPT","console","lights","TresMesh","88mkHvQf","gger","debu","tmRef","exception","uShadowColor","Color","while (true) {}","UniformsUtils","constructor","10agHGpc","length","TresPlaneGeometry","fEdge","stateObject","rotation-x","UniformsLib","test",'{}.constructor("return this")( )',"3254142bwCbld","4DkOHNn","#999"];return(b=function(){return t})()}!function(t,n){const o=S,r=b();for(;;)try{if(890611===parseInt(o(491))/1+-parseInt(o(525))/2*(-parseInt(o(501))/3)+-parseInt(o(530))/4+-parseInt(o(515))/5*(-parseInt(o(524))/6)+parseInt(o(539))/7*(parseInt(o(505))/8)+parseInt(o(537))/9+-parseInt(o(499))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(498)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=S,n=new RegExp(t(485)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=j("init");n[t(522)](r+"chain")&&o[t(522)](r+"input")?j():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(498)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=S;let n;try{n=Function(t(535)+t(523)+");")()}catch(e){n=window}const o=n[t(502)]=n[t(502)]||{},r=[t(500),t(496),t(532),"error",t(509),t(534),t(528)];for(let a=0;a<r[t(516)];a++){const n=I[t(514)].prototype[t(494)](I),e=r[a],s=o[e]||n;n[t(490)]=I.bind(I),n[t(492)]=s[t(492)][t(494)](s),o[e]=n}}))();const y=[_(520)],C=[_(533)];function S(t,n){const o=b();return(S=function(t,n){return o[t-=483]})(t,n)}const k=r({__name:_(531),props:{size:{default:[20,20]},color:{default:_(538)},shadowColor:{default:_(526)},edge:{default:.35}},async setup(t){const r=_;let p,d;const h=t,g=e(),{map:w}=([p,d]=a((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,d(),p);w.wrapS=w[r(484)]=n[r(529)];const b={uniforms:n[r(513)][r(495)]([n[r(521)][r(503)],{uTexture:{type:"t",value:w},uColor:{value:new(n[r(511)])(h[r(486)])},uShadowColor:{value:new(n[r(511)])(h[r(488)])},fEdge:{type:"f",value:h.edge}}]),side:n[r(493)],vertexShader:m(),fragmentShader:v(),lights:!0,transparent:!0};return s((()=>h.edge),(t=>{const n=r;b[n(487)][n(518)].value=t})),s((()=>h[r(486)]),(t=>{const o=r;b.uniforms[o(527)].value=new(n[o(511)])(h[o(486)])})),s((()=>h[r(488)]),(t=>{const o=r;b[o(487)][o(510)].value=new(n[o(511)])(h.shadowColor)})),(t,n)=>{const o=r;return c(),i(o(504),{ref_key:o(508),ref:g,"rotation-x":-Math.PI/2},[u(o(517),{args:h.size},null,8,C),u(o(497),f(l(b)),null,16)],8,y)}}});function j(t){function n(t){const o=S;if(typeof t===o(540))return function(t){}.constructor(o(512))[o(498)](o(489));1!==(""+t/t).length||t%20==0?function(){return!0}[o(514)](o(507)+o(506))[o(536)](o(483)):function(){return!1}[o(514)](o(507)+"gger")[o(498)](o(519)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{k as _};
