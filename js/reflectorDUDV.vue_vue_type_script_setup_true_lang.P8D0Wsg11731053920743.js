import{c0 as t,a3 as e,s as n,t as r}from"./three.eGpwEcxC1731053920743.js";import{b as o}from"./@tresjs.hJVQLtpa1731053920743.js";import{R as s,b as i}from"./all.three.3qiEup3I1731053920743.js";import{d as c,a6 as a,a3 as u,w as f,o as l,D as p,J as d,u as h}from"./@vue.u2cBPEWn1731053920743.js";function m(t,e){const n=y();return(m=function(t,e){return n[t-=454]})(t,e)}const g=m;!function(t,e){const n=m,r=y();for(;;)try{if(652422===-parseInt(n(513))/1*(parseInt(n(501))/2)+parseInt(n(468))/3*(parseInt(n(487))/4)+parseInt(n(503))/5+parseInt(n(506))/6*(parseInt(n(476))/7)+parseInt(n(478))/8*(parseInt(n(465))/9)+parseInt(n(500))/10+-parseInt(n(497))/11*(parseInt(n(489))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[m(484)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function y(){const t=["apply","prototype","renderTargetUniform","284rXYDEr","rotation","180gnFzKh","repeat","reflectorDUDV","counter","renderTarget","reflectivity","test","console","813769QXrPuS","string","trace","10120330xmYBOb","530722NXfTeX","onBeforeRender","2016420iotJGW","length","gger","6fOKpdO","add","showGridHelper","primitive","wrapS","debu","toString","3Jldlug","bind","scale","exception","warn","constructor","uReflectivity","call","value","TresGroup","__proto__","input","tReflect","size","9Xsowjo","log","object","9564rbGXLI","uniforms","visible","update","set","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","isMesh","956669pJhHPc","function *\\( *\\)","6238864yKHssn","info","wrapT","ignoreObjects","uMatrix","while (true) {}"];return(y=function(){return t})()}!function(){w(this,(function(){const t=m,e=new RegExp(t(477)),n=new RegExp(t(474),"i"),r=_("init");e[t(495)](r+"chain")&&n.test(r+t(462))?_():r("0")}))()}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[m(484)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();b(void 0,(function(){const t=m,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e[t(496)]=e[t(496)]||{},r=[t(466),t(455),t(479),"error",t(454),t(473),t(499)];for(let o=0;o<r.length;o++){const e=b[t(456)][t(485)][t(514)](b),s=r[o],i=n[s]||e;e[t(461)]=b[t(514)](b),e.toString=i[t(512)][t(514)](i),n[s]=e}}))();const v=[g(515)],j=[g(467)],I=[g(467)],x=c({__name:g(491),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:m}){const w=g;let y,b;const x=c,_=new s,z=new t(x[w(464)][0]-.5,x.size[1]);z[w(470)]=x[w(508)];const{map:O}=([y,b]=a((()=>o({map:x.mapUrl}))),y=await y,b(),y);O[w(510)]=e,O[w(480)]=e,O[w(490)][w(472)](6,3);const R=new i({map:O,reflectivity:x.reflectivity});R[w(469)][w(463)]={value:_[w(493)].texture},R[w(469)].tReflectBlur=_[w(486)],R[w(469)][w(482)]=_.textureMatrixUniform;const X=new n(new r(x[w(464)][0],x.size[1]),R);return X[w(488)].x=-Math.PI/2,X[w(507)](_),X[w(502)]=(t,e,n)=>{const r=w;X[r(470)]=!1,x[r(481)].forEach((t=>{const e=r;t[e(475)]&&(t[e(470)]=!1),t[e(459)]&&t[e(459)][e(475)]&&(t[e(459)][e(470)]=!1)})),_[r(471)](t,e,n),x.ignoreObjects.forEach((t=>{const e=r;t[e(475)]&&(t[e(470)]=!0),t.value&&t[e(459)][e(475)]&&(t[e(459)][e(470)]=!0)})),X[r(470)]=!0},u((()=>{const t=w;x[t(494)]&&(R[t(469)][t(457)][t(459)]=x.reflectivity)})),f((()=>x[w(508)]),(t=>{z[w(470)]=t})),m({reflector:_}),(t,e)=>{const n=w;return l(),p(n(460),{scale:x.scale},[d("primitive",{object:h(X),"position-y":-.01},null,8,j),d(n(509),{object:h(z)},null,8,I)],8,v)}}});function _(t){function e(t){const n=m;if(typeof t===n(498))return function(t){}[n(456)](n(483)).apply(n(492));1!==(""+t/t)[n(504)]||t%20==0?function(){return!0}[n(456)](n(511)+n(505))[n(458)]("action"):function(){return!1}[n(456)](n(511)+n(505))[n(484)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
