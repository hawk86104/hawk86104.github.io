import{_ as t,bI as n,C as o}from"./three._P_a_E_Z1730886807320.js";import{b as r}from"./@tresjs.iUmyNPdW1730886807320.js";import{d as e,b as s,a6 as a,w as c,o as i,D as u,J as f,aj as l,ak as p}from"./@vue.-THQH3GC1730886807320.js";function h(){const t=["bsdfs","project_vertex","warn","1302235gLgVQp","return (function() ","action","8506KLsaUW","while (true) {}","counter","13993eiQHfX","9BvUZkl","trace","length","2008xWCbsc","12jUhJDb","shadowmap_pars_fragment","bind","ShaderChunk","\n          ","\n\t ","beginnormal_vertex","\n       void main() {\n\t\t\t\t\t","console","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","879miWZfT","shadowmask_pars_fragment","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","1703400HCavNk","input","gger","debu","356455urjyga","call","common","toString","table","3375670bjOYOG","shadowmap_vertex","test","78PvdyvW","worldpos_vertex","constructor","__proto__","log","stateObject","lights_pars_begin","6492NTzgQU","\n      \t","prototype","defaultnormal_vertex","function *\\( *\\)","\n       varying vec2 vUv;\n\t\t\t \t","packing","apply"];return(h=function(){return t})()}!function(t,n){const o=m,r=h();for(;;)try{if(299035===-parseInt(o(448))/1*(parseInt(o(469))/2)+parseInt(o(433))/3*(parseInt(o(455))/4)+-parseInt(o(466))/5+parseInt(o(436))/6+-parseInt(o(418))/7*(-parseInt(o(422))/8)+parseInt(o(419))/9*(-parseInt(o(445))/10)+-parseInt(o(440))/11*(parseInt(o(423))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp(t(459)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_("init");n[t(447)](r+"chain")&&o.test(r+t(437))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(462)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=h();return(m=function(t,n){return o[t-=417]})(t,n)}g(void 0,(function(){const t=m;let n;try{n=Function(t(467)+'{}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(431)]=n.console||{},r=[t(452),t(465),"info","error","exception",t(444),t(420)];for(let s=0;s<r[t(421)];s++){const n=g[t(450)][t(457)][t(425)](g),e=r[s],a=o[e]||n;n[t(451)]=g[t(425)](g),n[t(443)]=a.toString[t(425)](a),o[e]=n}}))();const v=()=>{const n=m;return n(460)+t[n(426)][n(442)]+n(456)+t[n(426)].bsdfs+n(456)+t[n(426)].shadowmap_pars_vertex+n(430)+t[n(426)][n(429)]+n(427)+t[n(426)][n(458)]+n(427)+t[n(426)].begin_vertex+n(427)+t[n(426)][n(464)]+n(427)+t[n(426)][n(449)]+n(427)+t[n(426)][n(446)]+n(435)},w=()=>{const o=m;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[o(442)]+"\n\t "+t[o(426)][o(461)]+o(428)+t[o(426)][o(463)]+o(428)+t[o(426)][o(454)]+o(428)+t[o(426)][o(424)]+o(428)+n[o(434)]+o(432)};function _(t){function n(t){const o=m;if("string"==typeof t)return function(t){}.constructor(o(470))[o(462)](o(417));1!==(""+t/t)[o(421)]||t%20==0?function(){return!0}[o(450)](o(439)+o(438))[o(441)](o(468)):function(){return!1}.constructor("debu"+o(438))[o(462)](o(453)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=C;!function(t,n){const o=C,r=k();for(;;)try{if(504642===parseInt(o(458))/1+-parseInt(o(450))/2+-parseInt(o(483))/3*(-parseInt(o(432))/4)+parseInt(o(452))/5+parseInt(o(439))/6+parseInt(o(456))/7+-parseInt(o(470))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(453)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=C,n=new RegExp(t(449)),o=new RegExp(t(482),"i"),r=T(t(466));n[t(441)](r+t(455))&&o[t(441)](r+"input")?T():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(453)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=C;let n;try{n=Function(t(479)+t(445)+");")()}catch(e){n=window}const o=n.console=n.console||{},r=[t(457),t(481),"info",t(442),"exception",t(444),t(431)];for(let s=0;s<r[t(459)];s++){const n=y.constructor[t(473)][t(465)](y),e=r[s],a=o[e]||n;n[t(480)]=y[t(465)](y),n[t(436)]=a.toString.bind(a),o[e]=n}}))();const I=[b(430)],S=[b(437)];function C(t,n){const o=k();return(C=function(t,n){return o[t-=428]})(t,n)}const j=e({__name:b(467),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:b(447)},edge:{default:.35}},async setup(n){const e=b;let h,d;const g=n,m=s(),{map:_}=([h,d]=a((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(440)]=_[e(461)]=t[e(472)];const x={uniforms:t[e(438)][e(446)]([t[e(428)][e(471)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(434)])(g[e(443)])},uShadowColor:{value:new o(g[e(469)])},fEdge:{type:"f",value:g[e(474)]}}]),side:t[e(454)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>g[e(474)]),(t=>{const n=e;x[n(475)][n(464)][n(462)]=t})),c((()=>g[e(443)]),(t=>{const n=e;x[n(475)].uColor[n(462)]=new o(g[n(443)])})),c((()=>g[e(469)]),(n=>{const o=e;x.uniforms.uShadowColor.value=new(t[o(434)])(g.shadowColor)})),(t,n)=>{const o=e;return i(),u("TresMesh",{ref_key:o(468),ref:m,"rotation-x":-Math.PI/2},[f(o(448),{args:g[o(433)]},null,8,S),f("TresShaderMaterial",l(p(x)),null,16)],8,I)}}});function k(){const t=["UniformsLib","action","rotation-x","trace","4NbfAdk","size","Color","while (true) {}","toString","args","UniformsUtils","5744790RJcEPW","wrapS","test","error","color","table",'{}.constructor("return this")( )',"merge","#999","TresPlaneGeometry","function *\\( *\\)","1862562uLHSFr","string","4124710cOYDyN","apply","DoubleSide","chain","5491836zTIsfn","log","958060yGaoAp","length","constructor","wrapT","value","gger","fEdge","bind","init","whiteFloorMesh","tmRef","shadowColor","20054088lkIhBJ","lights","RepeatWrapping","prototype","edge","uniforms","call","counter","debu","return (function() ","__proto__","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1253007FWrABl","stateObject"];return(k=function(){return t})()}function T(t){function n(t){const o=C;if(typeof t===o(451))return function(t){}[o(460)](o(435))[o(453)](o(477));1!==(""+t/t).length||t%20==0?function(){return!0}[o(460)](o(478)+o(463))[o(476)](o(429)):function(){return!1}[o(460)](o(478)+o(463))[o(453)](o(484)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
