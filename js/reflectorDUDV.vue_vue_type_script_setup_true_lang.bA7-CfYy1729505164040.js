import{b$ as t,a3 as n,s as e,t as r}from"./three.YREzp-_G1729505164040.js";import{z as o}from"./@tresjs.IsKybBdF1729505164040.js";import{R as s,b as i}from"./all.three.FTr54iDs1729505164040.js";import{d as c,a4 as a,a3 as u,w as f,o as l,E as p,L as d,u as h}from"./@vue.JNsx1iN61729505164040.js";const g=y;!function(t,n){const e=y,r=x();for(;;)try{if(614656===parseInt(e(170))/1+parseInt(e(200))/2+parseInt(e(178))/3+parseInt(e(167))/4*(parseInt(e(203))/5)+parseInt(e(207))/6+parseInt(e(204))/7+-parseInt(e(192))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(188),"i"),r=I(t(213));n[t(183)](r+"chain")&&e[t(183)](r+t(164))?I():r("0")}))()}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[y(205)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function y(t,n){const e=x();return(y=function(t,n){return e[t-=162]})(t,n)}w(void 0,(function(){const t=y,n=function(){const t=y;let n;try{n=Function("return (function() "+t(174)+");")()}catch(e){n=window}return n}(),e=n[t(198)]=n[t(198)]||{},r=["log","warn",t(163),"error","exception",t(184),t(165)];for(let o=0;o<r[t(191)];o++){const n=w[t(179)][t(175)][t(173)](w),s=r[o],i=e[s]||n;n.__proto__=w.bind(w),n[t(209)]=i[t(209)][t(173)](i),e[s]=n}}))();const b=[g(211)],j=[g(171)],v=[g(171)];function x(){const t=["tReflectBlur","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","add","length","28664512ykigQt","isMesh","string","renderTarget","wrapT","ignoreObjects","console","counter","1133608lsooYD","reflectivity","forEach","85dSzzpy","5902904wyhRIb","apply","uniforms","5319282kqlrxo","debu","toString","showGridHelper","scale","visible","init","onBeforeRender","info","input","trace","set","52252TwaTpJ","value","while (true) {}","1056424gnoSgx","object","rotation","bind",'{}.constructor("return this")( )',"prototype","primitive","reflectorDUDV","1867806ZHdwKF","constructor","update","texture","TresGroup","test","table","size"];return(x=function(){return t})()}const z=c({__name:g(177),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:m}){const w=g;let y,x;const z=c,I=new s,_=new t(z[w(185)][0]-.5,z.size[1]);_[w(212)]=z[w(210)];const{map:R}=([y,x]=a((()=>o({map:z.mapUrl}))),y=await y,x(),y);R.wrapS=n,R[w(196)]=n,R.repeat[w(166)](6,3);const M=new i({map:R,reflectivity:z[w(201)]});M.uniforms.tReflect={value:I[w(195)][w(181)]},M[w(206)][w(186)]=I.renderTargetUniform,M.uniforms.uMatrix=I.textureMatrixUniform;const T=new e(new r(z.size[0],z.size[1]),M);return T[w(172)].x=-Math.PI/2,T[w(190)](I),T[w(162)]=(t,n,e)=>{const r=w;T[r(212)]=!1,z.ignoreObjects[r(202)]((t=>{const n=r;t[n(193)]&&(t[n(212)]=!1),t.value&&t[n(168)].isMesh&&(t.value[n(212)]=!1)})),I[r(180)](t,n,e),z[r(197)].forEach((t=>{const n=r;t[n(193)]&&(t[n(212)]=!0),t[n(168)]&&t[n(168)].isMesh&&(t[n(168)][n(212)]=!0)})),T[r(212)]=!0},u((()=>{const t=w;z[t(201)]&&(M[t(206)].uReflectivity[t(168)]=z[t(201)])})),f((()=>z[w(210)]),(t=>{_[w(212)]=t})),m({reflector:I}),(t,n)=>{const e=w;return l(),p(e(182),{scale:z[e(211)]},[d(e(176),{object:h(T),"position-y":-.01},null,8,j),d(e(176),{object:h(_)},null,8,v)],8,b)}}});function I(t){function n(t){const e=y;if(typeof t===e(194))return function(t){}[e(179)](e(169))[e(205)](e(199));1!==(""+t/t)[e(191)]||t%20==0?function(){return!0}.constructor(e(208)+"gger")[e(187)]("action"):function(){return!1}[e(179)]("debugger").apply(e(189)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{z as _};
