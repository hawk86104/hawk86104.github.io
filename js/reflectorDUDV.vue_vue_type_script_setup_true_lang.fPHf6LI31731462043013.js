import{c1 as t,a3 as n,s as e,t as r}from"./three.wKRaqyB-1731462043013.js";import{b as o}from"./@tresjs.xlnLF3O61731462043013.js";import{R as s,b as c}from"./all.three.JSbXmeVa1731462043013.js";import{d as i,a6 as a,a3 as u,w as f,o as l,D as p,J as d,u as m}from"./@vue.-THQH3GC1731462043013.js";const h=I;!function(t,n){const e=I,r=x();for(;;)try{if(786667===-parseInt(e(446))/1*(parseInt(e(447))/2)+parseInt(e(455))/3+parseInt(e(457))/4*(parseInt(e(465))/5)+parseInt(e(459))/6*(-parseInt(e(491))/7)+-parseInt(e(486))/8+-parseInt(e(453))/9+parseInt(e(462))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=I,n=new RegExp(t(488)),e=new RegExp(t(498),"i"),r=R(t(487));n[t(500)](r+"chain")&&e[t(500)](r+"input")?R():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[I(490)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=I;let n;try{n=Function("return (function() "+t(475)+");")()}catch(o){n=window}const e=n[t(473)]=n[t(473)]||{},r=[t(458),t(496),t(489),"error",t(477),t(493),"trace"];for(let s=0;s<r.length;s++){const n=g[t(445)][t(502)][t(472)](g),o=r[s],c=e[o]||n;n.__proto__=g.bind(g),n.toString=c[t(503)][t(472)](c),e[o]=n}}))();const w=[h(451)],y=[h(482)],j=["object"],v=i({__name:h(501),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:b}){const g=h;let v,I;const x=i,R=new s,_=new t(x[g(464)][0]-.5,x[g(464)][1]);_[g(480)]=x[g(495)];const{map:M}=([v,I]=a((()=>o({map:x[g(474)]}))),v=await v,I(),v);M[g(468)]=n,M.wrapT=n,M[g(492)][g(467)](6,3);const U=new c({map:M,reflectivity:x[g(469)]});U[g(450)][g(449)]={value:R[g(470)].texture},U.uniforms[g(456)]=R[g(471)],U[g(450)].uMatrix=R[g(484)];const z=new e(new r(x[g(464)][0],x.size[1]),U);return z.rotation.x=-Math.PI/2,z[g(479)](R),z[g(499)]=(t,n,e)=>{const r=g;z[r(480)]=!1,x[r(463)][r(497)]((t=>{const n=r;t.isMesh&&(t[n(480)]=!1),t[n(466)]&&t[n(466)][n(481)]&&(t[n(466)][n(480)]=!1)})),R[r(460)](t,n,e),x[r(463)][r(497)]((t=>{const n=r;t[n(481)]&&(t.visible=!0),t[n(466)]&&t[n(466)][n(481)]&&(t[n(466)][n(480)]=!0)})),z[r(480)]=!0},u((()=>{const t=g;x[t(469)]&&(U.uniforms.uReflectivity[t(466)]=x[t(469)])})),f((()=>x[g(495)]),(t=>{_.visible=t})),b({reflector:R}),(t,n)=>{const e=g;return l(),p(e(476),{scale:x.scale},[d(e(444),{object:m(z),"position-y":-.01},null,8,y),d(e(444),{object:m(_)},null,8,j)],8,w)}}});function I(t,n){const e=x();return(I=function(t,n){return e[t-=444]})(t,n)}function x(){const t=["932859MXVcjY","action","4696950UNnzjf","tReflectBlur","12FncmeL","log","75330FdFlmr","update","gger","8974080XhyFWt","ignoreObjects","size","1431370QyHnZW","value","set","wrapS","reflectivity","renderTarget","renderTargetUniform","bind","console","mapUrl",'{}.constructor("return this")( )',"TresGroup","exception","counter","add","visible","isMesh","object","debu","textureMatrixUniform","string","4820656paUczR","init","function *\\( *\\)","info","apply","189YPLbRf","repeat","table","while (true) {}","showGridHelper","warn","forEach","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","onBeforeRender","test","reflectorDUDV","prototype","toString","primitive","constructor","2547QMGdGU","1170bodNoM","stateObject","tReflect","uniforms","scale","call"];return(x=function(){return t})()}function R(t){function n(t){const e=I;if(typeof t===e(485))return function(t){}[e(445)](e(494))[e(490)](e(478));1!==(""+t/t).length||t%20==0?function(){return!0}[e(445)](e(483)+"gger")[e(452)](e(454)):function(){return!1}.constructor(e(483)+e(461))[e(490)](e(448)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{v as _};
