import{a3 as t,C as n,k as r,t as e,s as o,c1 as i}from"./three.x4oqFJNT1729821967160.js";import{p as s,z as c}from"./@tresjs.QjD7q5YC1729821967160.js";import{R as a,a as u}from"./all.three.x-72c36p1729821967160.js";import{d as f,a4 as l,a3 as p,w as m,o as h,E as d,L as g,u as w}from"./@vue.JNsx1iN61729821967160.js";function y(){const t=["action","exception","uMirror","mirror","debu","counter","apply","add","uColor","reflectivity","mixStrength","wrapT","primitive","3952521RNutdt","7904183kTvhzv","uMatrix","visible","708cCMNCr","call","uniforms","value","235642whJGgL","string","constructor","3307950lpOrOh","TresGroup","console","name","showGridHelper","info","9645yAAGQq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","2QdrsKz","error","textureMatrixUniform","chain","toString","log","gger","8aJSpjf","#ffffff","input","position","trace","bind","color","length","object","1784DmOcVB","test","20SCUOvj","update","warn","1501638gMpTyv","init","reflectorShaderMesh","fog","prototype","scale","uMixStrength","468433iRATAY"];return(y=function(){return t})()}const S=j;!function(t,n){const r=j,e=y();for(;;)try{if(736171===parseInt(r(466))/1*(-parseInt(r(438))/2)+parseInt(r(459))/3+parseInt(r(454))/4*(-parseInt(r(435))/5)+parseInt(r(429))/6+-parseInt(r(419))/7*(parseInt(r(445))/8)+-parseInt(r(480))/9*(-parseInt(r(456))/10)+parseInt(r(426))/11*(parseInt(r(422))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[j(473)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function j(t,n){const r=y();return(j=function(t,n){return r[t-=419]})(t,n)}!function(){_(this,(function(){const t=j,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(436),"i"),e=R(t(460));n[t(455)](e+t(441))&&r[t(455)](e+t(447))?R():e("0")}))()}();const v=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[j(473)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();v(void 0,(function(){const t=j;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(431)]=n[t(431)]||{},e=[t(443),t(458),t(434),t(439),t(468),t(437),t(449)];for(let i=0;i<e[t(452)];i++){const n=v.constructor[t(463)].bind(v),o=e[i],s=r[o]||n;n.__proto__=v[t(450)](v),n[t(442)]=s.toString.bind(s),r[o]=n}}))();const x=[S(448),"scale"],b=[S(453)],I=[S(453)],M=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:S(446)},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const y=S;let _,j;const v=f,{scene:M}=s(),R=([_,j]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),_=await _,j(),_);R[0].wrapS=t,R[0][y(478)]=t,R[1].wrapS=t,R[1].wrapT=t;const T=new a,A=new u({reflectivity:v[y(476)],mirror:v.mirror,mixStrength:v.mixStrength,color:new n(v[y(451)]),map:R[0],normalMap:R[1],normalScale:new r(5,5),fog:M[y(462)],dithering:!0});A.uniforms.tReflect=T.renderTargetUniform,A[y(424)][y(420)]=T[y(440)];const G=new e(10,10),z=new o(G,A);z[y(432)]=y(461),z[y(448)].y=-.01,z.rotation.x=-Math.PI/2,z[y(474)](T),z.onBeforeRender=(t,n,r)=>{const e=y;z.visible=!1,T[e(457)](t,n,r),z[e(421)]=!0};const C=new i(9.5,10);return C[y(421)]=v[y(433)],p((()=>{const t=y;v[t(476)]&&(A.uniforms.uReflectivity[t(425)]=v[t(476)]),v[t(470)]&&(A[t(424)][t(469)][t(425)]=v[t(470)]),v[t(477)]&&(A.uniforms[t(465)][t(425)]=v.mixStrength),v[t(451)]&&(A[t(424)][t(475)][t(425)]=new n(v[t(451)]))})),m((()=>v.showGridHelper),(t=>{C[y(421)]=t})),(t,n)=>{const r=y;return h(),d(r(430),{position:v[r(448)],scale:v[r(464)]},[g(r(479),{object:w(z)},null,8,b),g(r(479),{object:w(C)},null,8,I)],8,x)}}});function R(t){function n(t){const r=j;if(typeof t===r(427))return function(t){}[r(428)]("while (true) {}")[r(473)](r(472));1!==(""+t/t)[r(452)]||t%20==0?function(){return!0}.constructor(r(471)+r(444))[r(423)](r(467)):function(){return!1}.constructor(r(471)+r(444))[r(473)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
