import{a as t,B as n,s as e,c6 as o,C as r,k as s,a0 as c}from"./three.lAfZYOpc1736493808390.js";import{w as i}from"./@fesjs.JLOwLS8V1736493808390.js";import{b as a}from"./@tresjs.g7tJPOCI1736493808390.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.aKnXVado1736493808390.js";!function(t,n){const e=b,o=m();for(;;)try{if(915248===parseInt(e(454))/1+-parseInt(e(400))/2+parseInt(e(427))/3*(parseInt(e(391))/4)+parseInt(e(425))/5*(parseInt(e(422))/6)+-parseInt(e(417))/7+-parseInt(e(434))/8+parseInt(e(383))/9*(parseInt(e(395))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(459)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(394),"i"),o=I(t(451));n[t(418)](o+t(396))&&e[t(418)](o+t(389))?I():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(459)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=b;let n;try{n=Function("return (function() "+t(463)+");")()}catch(r){n=window}const e=n[t(423)]=n[t(423)]||{},o=[t(457),"warn",t(414),t(445),t(455),t(386),t(397)];for(let s=0;s<o[t(446)];s++){const n=g[t(438)][t(413)][t(426)](g),r=o[s],c=e[r]||n;n.__proto__=g.bind(g),n[t(449)]=c[t(449)].bind(c),e[r]=n}}))();const h=(n,e=!1)=>{const o=b;n.computeBoundingBox();const{max:r,min:s}=n[o(439)];n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(444)].position.count;t++)e?(a[o(410)]((n.attributes[o(453)][o(448)](t)-(s.x+r.x)/2)/c),a[o(410)]((n[o(444)][o(453)][o(415)](t)-(s.y+r.y)/2)/i)):(a.push((n.attributes[o(453)].getX(t)-s.x)/c),a[o(410)]((n[o(444)][o(453)][o(415)](t)-s.y)/i));const u=new Float32Array(a);n[o(430)]("uv",new t(u,2))};function m(){const t=["get","uniforms","Vector3","constructor","boundingBox","value","material","count","raycast","attributes","error","length","divideScalar","getX","toString","stateObject","init","while (true) {}","position","418967CUIQcr","exception","applyMatrix4","log","setFromObject","apply","children","getCenter","string",'{}.constructor("return this")( )',"4062501bHvyLa","depthWrite","config","table","computeBoundingBox","transparent","input","counter","4356952yLSBiL","geometry","expandByObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","20WRohko","chain","trace","getSize","catch","2657878KDjrIe","center","forEach","disposeBoundsTree","negate","call","random","computeBoundsTree","debu","add","push","Box3","reflectivity","prototype","info","getY","#fff","4985092BElEcG","test","max","setY","gger","294rvqpXf","console","min","104745egFGHI","bind","3OlvtLc","set","copy","setAttribute","action","sub","clone","3849128SYuSum"];return(m=function(){return t})()}const d=(t,n)=>new Promise(((e,o)=>{const r=b;i(t,{},{method:r(435),mergeRequest:!0,responseType:"json"}).then((t=>{n&&e(t[n]),e(t.features)}))[r(399)]((t=>{console.error(t),o(t)}))})),y=t=>{const n=b,e=(new(THREE[n(411)]))[n(458)](t),o=new(THREE[n(437)]);e[n(461)](o),t[n(460)][n(402)]((t=>{const e=n;t[e(453)][e(432)](o)})),t[n(453)][n(429)](o.negate())},w=()=>{const t=b;n.prototype[t(407)]=u,n[t(413)][t(403)]=p,e.prototype[t(443)]=f},x=async t=>{const n=b,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(392)][n(433)]();h(i),i[n(407)]();const u=new o(i,{color:new r(n(416)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(441)][n(388)]=!0,u.material[n(384)]=!0,u[n(441)].depthTest=!0,u[n(441)].side=c,u[n(441)][n(436)][n(385)][n(440)].w=20,u[n(441)][n(436)][n(412)][n(440)]=.46,u};function b(t,n){const e=m();return(b=function(t,n){return e[t-=383]})(t,n)}function j(t){const n=b,e=[];for(let r=0;r<t[n(446)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(409)](e[r]);o[n(447)](e.length);for(let r=0;r<e[n(446)];r++)e[r][n(432)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=b;if(typeof t===e(462))return function(t){}[e(438)](e(452)).apply(e(390));1!==(""+t/t)[e(446)]||t%20==0?function(){return!0}[e(438)](e(408)+e(421))[e(405)](e(431)):function(){return!1}[e(438)](e(408)+e(421))[e(459)](e(450)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,w as i,d as l,h as r,x as s};
