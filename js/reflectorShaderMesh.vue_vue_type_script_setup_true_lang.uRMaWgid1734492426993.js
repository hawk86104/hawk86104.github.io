import{a3 as t,C as n,k as e,t as r,s as o,c7 as i}from"./three.-W-Avfc61734492426993.js";import{m as s,b as c}from"./@tresjs.WiFlZbqU1734492426993.js";import{R as a,a as u}from"./all.three.-35MVhE11734492426993.js";import{d as l,a6 as f,a3 as p,w as m,o as h,D as d,J as w,u as g}from"./@vue.-THQH3GC1734492426993.js";const b=v;function v(t,n){const e=S();return(v=function(t,n){return e[t-=374]})(t,n)}!function(t,n){const e=v,r=S();for(;;)try{if(962081===parseInt(e(423))/1*(-parseInt(e(409))/2)+parseInt(e(382))/3+-parseInt(e(404))/4+-parseInt(e(410))/5+-parseInt(e(407))/6+parseInt(e(412))/7*(parseInt(e(425))/8)+parseInt(e(428))/9*(parseInt(e(406))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=v,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(429),"i"),r=R(t(394));n.test(r+"chain")&&e[t(397)](r+t(419))?R():r("0")}))()}();const _=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(426)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();_(void 0,(function(){const t=v;let n;try{n=Function(t(414)+t(403)+");")()}catch(o){n=window}const e=n.console=n[t(416)]||{},r=["log","warn","info",t(418),t(396),t(389),"trace"];for(let i=0;i<r[t(388)];i++){const n=_[t(386)][t(391)][t(417)](_),o=r[i],s=e[o]||n;n.__proto__=_[t(417)](_),n[t(430)]=s[t(430)][t(417)](s),e[o]=n}}))();const x=[b(399),b(422)],j=[b(379)],I=["object"];function S(){const t=["uMixStrength","visible","2800239XWyqWh","uReflectivity","uColor","action","constructor","value","length","table","uMirror","prototype","wrapT","gger","init","debu","exception","test","textureMatrixUniform","position","mirror","update","#ffffff",'{}.constructor("return this")( )',"2888040dIiexJ","counter","10qMvxBn","1081368GOWAPw","stateObject","441026fLeXKK","8765305kVbRKG","rotation","7KBCWLv","wrapS","return (function() ","reflectivity","console","bind","error","input","call","reflectorShaderMesh","scale","1PXqURG","showGridHelper","2762264WBcWzR","apply","add","23032773bQVDzl","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","renderTargetUniform","primitive","mixStrength","string","color","while (true) {}","uniforms","object"];return(S=function(){return t})()}const M=l({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:b(402)},position:{default:[0,-1,0]},scale:{default:1}},async setup(l){const v=b;let y,_;const S=l,{scene:M}=s(),R=([y,_]=f((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),y=await y,_(),y);R[0].wrapS=t,R[0][v(392)]=t,R[1][v(413)]=t,R[1][v(392)]=t;const G=new a,W=new u({reflectivity:S[v(415)],mirror:S[v(400)],mixStrength:S[v(374)],color:new n(S[v(376)]),map:R[0],normalMap:R[1],normalScale:new e(5,5),fog:M.fog,dithering:!0});W.uniforms.tReflect=G[v(431)],W.uniforms.uMatrix=G[v(398)];const B=new r(10,10),z=new o(B,W);z.name=v(421),z[v(399)].y=-.01,z[v(411)].x=-Math.PI/2,z[v(427)](G),z.onBeforeRender=(t,n,e)=>{const r=v;z.visible=!1,G[r(401)](t,n,e),z[r(381)]=!0};const K=new i(9.5,10);return K.visible=S[v(424)],p((()=>{const t=v;S[t(415)]&&(W[t(378)][t(383)].value=S[t(415)]),S.mirror&&(W[t(378)][t(390)][t(387)]=S[t(400)]),S[t(374)]&&(W[t(378)][t(380)].value=S[t(374)]),S[t(376)]&&(W[t(378)][t(384)].value=new n(S.color))})),m((()=>S.showGridHelper),(t=>{K.visible=t})),(t,n)=>{const e=v;return h(),d("TresGroup",{position:S[e(399)],scale:S.scale},[w("primitive",{object:g(z)},null,8,j),w(e(432),{object:g(K)},null,8,I)],8,x)}}});function R(t){function n(t){const e=v;if(typeof t===e(375))return function(t){}[e(386)](e(377))[e(426)](e(405));1!==(""+t/t)[e(388)]||t%20==0?function(){return!0}[e(386)](e(395)+"gger")[e(420)](e(385)):function(){return!1}.constructor("debu"+e(393))[e(426)](e(408)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
