import{_ as t,bT as n,a3 as o,C as r}from"./three.0W5n8UBO1729820105274.js";import{z as e}from"./@tresjs.S6PXiQcG1729820105274.js";import{d as a,b as s,a4 as c,w as u,o as i,E as f,L as l,aj as p,ak as h}from"./@vue.bvMz0l_u1729820105274.js";!function(t,n){const o=v,r=m();for(;;)try{if(668034===-parseInt(o(246))/1*(parseInt(o(255))/2)+-parseInt(o(240))/3+parseInt(o(214))/4*(-parseInt(o(268))/5)+-parseInt(o(221))/6*(parseInt(o(239))/7)+-parseInt(o(262))/8+parseInt(o(243))/9*(-parseInt(o(215))/10)+-parseInt(o(218))/11*(-parseInt(o(270))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=v,n=new RegExp(t(245)),o=new RegExp(t(224),"i"),r=x(t(222));n[t(259)](r+t(257))&&o[t(259)](r+t(267))?x():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(220)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(){const t=["\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\n\t ","input","897950WwdtDL","debu","1409532keNbxh","console","20GYhQPX","3540970gtjwjv","\n       varying vec2 vUv;\n\t\t\t \t","__proto__","451bUlbLi","shadowmap_pars_vertex","apply","12juJBRJ","init","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","return (function() ","lights_pars_begin","bsdfs","gger","packing","stateObject","bind","beginnormal_vertex",'{}.constructor("return this")( )',"exception","warn","\n       void main() {\n\t\t\t\t\t","\n          ","2217803mETLyO","3350583JWGurN","action","defaultnormal_vertex","9VhwWsX","counter","function *\\( *\\)","395015LhDOsn","ShaderChunk","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","length","shadowmap_vertex","common","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","error","prototype","4fPHaXb","constructor","chain","project_vertex","test","call","shadowmap_pars_fragment","2842168OmUMax","\n      \t","toString"];return(m=function(){return t})()}function v(t,n){const o=m();return(v=function(t,n){return o[t-=214]})(t,n)}g(void 0,(function(){const t=v;let n;try{n=Function(t(226)+t(234)+");")()}catch(e){n=window}const o=n[t(271)]=n.console||{},r=["log",t(236),t(225),t(253),t(235),t(223),"trace"];for(let a=0;a<r[t(249)];a++){const n=g[t(256)][t(254)][t(232)](g),e=r[a],s=o[e]||n;n[t(217)]=g.bind(g),n[t(264)]=s[t(264)][t(232)](s),o[e]=n}}))();const w=()=>{const o=v;return o(216)+t[o(247)].common+o(263)+t[o(247)].bsdfs+"\n      \t"+t[o(247)][o(219)]+o(237)+t[o(247)][o(233)]+"\n          "+t[o(247)][o(242)]+o(238)+n.begin_vertex+o(238)+n[o(258)]+o(238)+t[o(247)].worldpos_vertex+o(238)+t[o(247)][o(250)]+o(265)},_=()=>{const o=v;return o(248)+t[o(247)][o(251)]+o(266)+n[o(230)]+o(266)+t[o(247)][o(228)]+"\n\t "+t[o(247)][o(227)]+o(266)+t[o(247)][o(261)]+o(266)+t[o(247)].shadowmask_pars_fragment+o(252)};function x(t){function n(t){const o=v;if("string"==typeof t)return function(t){}[o(256)]("while (true) {}")[o(220)](o(244));1!==(""+t/t).length||t%20==0?function(){return!0}[o(256)](o(269)+o(229))[o(260)](o(241)):function(){return!1}[o(256)](o(269)+o(229))[o(220)](o(231)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=k;!function(t,n){const o=k,r=y();for(;;)try{if(797471===parseInt(o(260))/1*(-parseInt(o(256))/2)+-parseInt(o(248))/3+parseInt(o(278))/4*(-parseInt(o(262))/5)+parseInt(o(252))/6+parseInt(o(263))/7*(parseInt(o(276))/8)+parseInt(o(277))/9*(parseInt(o(301))/10)+parseInt(o(300))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function y(){const t=["12exZPfy","tmRef","log","wrapS","prototype","edge","TresShaderMaterial","while (true) {}","size","uShadowColor","apply","Color","table","UniformsLib","debu",'{}.constructor("return this")( )',"counter","length","info","whiteFloorMesh","toString","__proto__","6693863EzszRK","62120cBdGmR","rotation-x","value","fEdge","3579876GZCKKk","UniformsUtils","constructor","string","9003384RjLDaG","gger","uniforms","shadowColor","16546IFYGwI","call","test","DoubleSide","140DhFSnX","TresPlaneGeometry","191595PjWyGm","5474861NgZsRk","input","merge","return (function() ","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","console","function *\\( *\\)","uColor","init","stateObject","color","8qDrvWA","540QjYGKM"];return(y=function(){return t})()}!function(){I(this,(function(){const t=k,n=new RegExp(t(271)),o=new RegExp(t(268),"i"),r=T(t(273));n[t(258)](r+"chain")&&o[t(258)](r+t(264))?T():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[k(288)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(266)+t(293)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(270)]||{},r=[t(280),t(269),t(296),"error","exception",t(290),"trace"];for(let e=0;e<r.length;e++){const n=S[t(250)][t(282)][t(267)](S),a=r[e],s=o[a]||n;n[t(299)]=S[t(267)](S),n.toString=s[t(298)][t(267)](s),o[a]=n}}))();const j=[b(302)],C=["args"];function k(t,n){const o=y();return(k=function(t,n){return o[t-=248]})(t,n)}const E=a({__name:b(297),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const a=b;let d,g;const m=n,v=s(),{map:x}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x[a(281)]=x.wrapT=o;const I={uniforms:t[a(249)][a(265)]([t[a(291)].lights,{uTexture:{type:"t",value:x},uColor:{value:new r(m.color)},uShadowColor:{value:new(t[a(289)])(m[a(255)])},fEdge:{type:"f",value:m[a(283)]}}]),side:t[a(259)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>m[a(283)]),(t=>{const n=a;I.uniforms[n(304)][n(303)]=t})),u((()=>m[a(275)]),(n=>{const o=a;I[o(254)][o(272)].value=new(t[o(289)])(m[o(275)])})),u((()=>m[a(255)]),(n=>{const o=a;I.uniforms[o(287)].value=new(t[o(289)])(m[o(255)])})),(t,n)=>{const o=a;return i(),f("TresMesh",{ref_key:o(279),ref:v,"rotation-x":-Math.PI/2},[l(o(261),{args:m[o(286)]},null,8,C),l(o(284),p(h(I)),null,16)],8,j)}}});function T(t){function n(t){const o=k;if(typeof t===o(251))return function(t){}.constructor(o(285))[o(288)](o(294));1!==(""+t/t)[o(295)]||t%20==0?function(){return!0}[o(250)](o(292)+"gger")[o(257)]("action"):function(){return!1}[o(250)](o(292)+o(253))[o(288)](o(274)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
