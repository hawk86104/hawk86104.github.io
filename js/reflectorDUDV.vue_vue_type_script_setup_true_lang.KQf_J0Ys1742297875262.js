import{cb as t,a3 as n,r as e,s as r}from"./three.N4lg2KsY1742297875262.js";import{a as o}from"./@tresjs.oW7bfow21742297875262.js";import{R as s,b as i}from"./all.three.lRmYuXHz1742297875262.js";import{d as c,a3 as a,a2 as u,w as f,o as l,H as p,N as d,u as m}from"./@vue.NRI7TcgI1742297875262.js";const h=I;!function(t,n){const e=I,r=g();for(;;)try{if(286686===parseInt(e(225))/1*(parseInt(e(226))/2)+-parseInt(e(236))/3*(-parseInt(e(243))/4)+-parseInt(e(263))/5+-parseInt(e(231))/6+parseInt(e(275))/7+-parseInt(e(223))/8*(-parseInt(e(232))/9)+-parseInt(e(233))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[I(247)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(){const t=["67874WUbaLR","2GQTWVe","isMesh","set","counter","table","2741316XEyrbA","5148027AAXmVi","5516300XvJpQP","info","reflectivity","105bMnvPl","toString","wrapT","__proto__","bind","prototype","ignoreObjects","64772PCvemL","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","onBeforeRender","scale","apply","uniforms","input","function *\\( *\\)","renderTargetUniform","console","TresGroup","visible","length","error","textureMatrixUniform","stateObject","showGridHelper","texture","mapUrl","call","691630kiYjSb","string","repeat","init","object","size","while (true) {}","update","value","wrapS","primitive","constructor","1588272NTqrRc","test","return (function() ","debu","tReflect","trace","add","gger","8cVCWTq","tReflectBlur"];return(g=function(){return t})()}!function(){b(this,(function(){const t=I,n=new RegExp(t(250)),e=new RegExp(t(244),"i"),r=R(t(266));n[t(276)](r+"chain")&&e[t(276)](r+t(249))?R():r("0")}))()}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[I(247)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();w(void 0,(function(){const t=I,n=function(){const t=I;let n;try{n=Function(t(277)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(252)]=n[t(252)]||{},r=["log","warn",t(234),t(256),"exception",t(230),t(220)];for(let o=0;o<r[t(255)];o++){const n=w[t(274)][t(241)][t(240)](w),s=r[o],i=e[s]||n;n[t(239)]=w.bind(w),n[t(237)]=i[t(237)][t(240)](i),e[s]=n}}))();const v=[h(246)],y=["object"],j=[h(267)];function I(t,n){const e=g();return(I=function(t,n){return e[t-=220]})(t,n)}const x=c({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:b}){const g=h;let w,I;const x=c,R=new s,_=new t(x[g(268)][0]-.5,x[g(268)][1]);_[g(254)]=x[g(259)];const{map:T}=([w,I]=a((()=>o({map:x[g(261)]}))),w=await w,I(),w);T[g(272)]=n,T[g(238)]=n,T[g(265)][g(228)](6,3);const M=new i({map:T,reflectivity:x.reflectivity});M[g(248)][g(279)]={value:R.renderTarget[g(260)]},M.uniforms[g(224)]=R[g(251)],M[g(248)].uMatrix=R[g(257)];const U=new e(new r(x[g(268)][0],x.size[1]),M);return U.rotation.x=-Math.PI/2,U[g(221)](R),U[g(245)]=(t,n,e)=>{const r=g;U[r(254)]=!1,x[r(242)].forEach((t=>{const n=r;t[n(227)]&&(t.visible=!1),t[n(271)]&&t[n(271)][n(227)]&&(t.value[n(254)]=!1)})),R[r(270)](t,n,e),x[r(242)].forEach((t=>{const n=r;t.isMesh&&(t[n(254)]=!0),t[n(271)]&&t[n(271)][n(227)]&&(t[n(271)][n(254)]=!0)})),U[r(254)]=!0},u((()=>{const t=g;x[t(235)]&&(M.uniforms.uReflectivity[t(271)]=x[t(235)])})),f((()=>x[g(259)]),(t=>{_[g(254)]=t})),b({reflector:R}),(t,n)=>{const e=g;return l(),p(e(253),{scale:x[e(246)]},[d(e(273),{object:m(U),"position-y":-.01},null,8,y),d(e(273),{object:m(_)},null,8,j)],8,v)}}});function R(t){function n(t){const e=I;if(typeof t===e(264))return function(t){}[e(274)](e(269))[e(247)](e(229));1!==(""+t/t).length||t%20==0?function(){return!0}[e(274)]("debu"+e(222))[e(262)]("action"):function(){return!1}[e(274)](e(278)+"gger")[e(247)](e(258)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
