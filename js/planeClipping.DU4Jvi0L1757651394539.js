import{m as e,k as a,a as s}from"./@tresjs.DIdO2Yiu1757651394539.js";import{_ as t}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.Bfz2qsZE1757651394539.js";import"./@fesjs.Bp6K4IrA1757651394539.js";import"./Resource.KHds72Cg1757651394539.js";/* empty css                                                                             */import{_ as o}from"./randomLoading.vue_vue_type_script_setup_true_lang.vk5r7CeE1757651394539.js";import"./three-mesh-ui.module.DvGiv1gQ1757651394539.js";/* empty css                                                              */import{h as r,V as i}from"./three.CMHPKQCP1757651394539.js";import{_ as n}from"./cloudPoints.vue_vue_type_script_setup_true_lang.5Gf3O-xP1757651394539.js";import{P as l}from"./tweakpane.C0HtAJSg1757651394539.js";import{d as m,aa as c,G as p,o as u,F as d,I as _,j as f,u as j,r as g,v,a2 as h,h as b,f as w,e as y,a5 as C,a7 as S,a8 as L}from"./@vue.pEDXJ_3Z1757651394539.js";import"./postprocessing.BgyKo9Ns1757651394539.js";import"./@vueuse.nD2ilM161757651394539.js";import"./vue-router.Dbyy8kqJ1757651394539.js";import"./lodash-es.C7pWAXPe1757651394539.js";import"./pinia.ByleU3mk1757651394539.js";import"./@qlin.q6OWdsQV1757651394539.js";import"./@babel.BPq7uOAK1757651394539.js";import"./@floating-ui.BFjFSAYt1757651394539.js";import"./@juggle.CcBCnTIR1757651394539.js";import"./starLoading.zOas0Fgx1757651394539.js";import"./utils.D-hA6rPX1757651394539.js";import"./cssLoaders.CZt9nZC81757651394539.js";import"./bubbleLoading.BHr0qewa1757651394539.js";import"./yangyangLoading.W2s5pDEd1757651394539.js";const k=["object"],P=m({__name:"planeClipping",async setup(s){let t,o;const{renderer:m}=e();m.value.localClippingEnabled=!0;const{nodes:g}=([t,o]=c((()=>a("https://opensource.cdn.icegl.cn/model/industry4/plane/scene.gltf",{draco:!0,decoderPath:"./draco/"}))),t=await t,o(),t);console.log(g);g.Sketchfab_model.getObjectByName("Floor").removeFromParent();const v=g.Sketchfab_model.getObjectByName("Cube006_Avion_0");v.castShadow=!0;const h=[new r(new i(1,0,0),0),new r(new i(0,0,-1),0)];v.material.clipIntersection=!0,v.material.clippingPlanes=h;const b=g.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");b.material.clipIntersection=!0,b.material.clippingPlanes=h;const w=g.Sketchfab_model.getObjectByName("CS_Black_0"),y=new l({title:"裁剪参数",expanded:!0});return y.addBinding(h[0],"constant",{label:"x",min:-200,max:200,step:1}),y.addBinding(h[1],"constant",{label:"y",min:-200,max:250,step:1}),(e,a)=>(u(),p(d,null,[_("primitive",{object:j(g).Sketchfab_model},null,8,k),f(n,{isRemoveSrc:"",model:j(w),color:"#fff"},null,8,["model"])],64))}}),x=m({__name:"planeClipping",setup(e){const a=g({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),r=v();return h((()=>{r.value&&(r.value.shadow.mapSize.set(1e3,1e3),r.value.shadow.camera.near=.1,r.value.shadow.camera.far=5e3,r.value.shadow.camera.top=200,r.value.shadow.camera.right=200,r.value.shadow.camera.left=-200,r.value.shadow.camera.bottom=-200,r.value.shadow.radius=10)})),(e,i)=>{const n=b("TresCanvas");return u(),p(d,null,[f(j(o)),f(n,{clearColor:"#333",shadows:"","window-size":""},{default:w((()=>[i[0]||(i[0]=_("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1)),f(j(s)),i[1]||(i[1]=_("TresAmbientLight",{color:"#ffffff",intensity:"1"},null,-1)),_("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:r,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(u(),y(C,null,{default:w((()=>[f(P)])),_:1})),f(t,S(L(a)),null,16)])),_:1})],64)}}});export{x as default};
