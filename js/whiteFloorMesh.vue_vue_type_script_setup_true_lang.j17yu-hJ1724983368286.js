import{a6 as t,bR as n,U as o}from"./three.p-9BQwc31724983368286.js";import{N as r}from"./@tresjs.OrqGCbtj1724983368286.js";import{d as e,b as a,a4 as s,w as c,o as u,D as i,J as f,aj as l,ak as p}from"./@vue.Q1VpS3901724983368286.js";function h(){const t=["action","7118808qBsEpJ","18pRCkGD","bind","input","60452XILlnB",'{}.constructor("return this")( )',"log","bsdfs","function *\\( *\\)","toString","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","1640872zWAJtx","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","exception","common","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","4829346fAWUJJ","defaultnormal_vertex","\n          ","shadowmap_vertex","stateObject","3066210kfnASv","4253193tkLves","init","lights_pars_begin","begin_vertex","shadowmap_pars_vertex","927393INoAFl","gger","constructor","beginnormal_vertex","return (function() ","apply","\n       void main() {\n\t\t\t\t\t","ShaderChunk","debu","prototype","201XSoYnk","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\t ","packing","table","test","while (true) {}","call","shadowmap_pars_fragment","length","warn","\n      \t"];return(h=function(){return t})()}!function(t,n){const o=g,r=h();for(;;)try{if(659584===-parseInt(o(236))/1+parseInt(o(271))/2+parseInt(o(246))/3*(parseInt(o(264))/4)+-parseInt(o(281))/5+-parseInt(o(276))/6+-parseInt(o(282))/7+-parseInt(o(260))/8*(-parseInt(o(261))/9))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(241)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(t,n){const o=h();return(g=function(t,n){return o[t-=235]})(t,n)}!function(){d(this,(function(){const t=g,n=new RegExp(t(268)),o=new RegExp(t(248),"i"),r=_(t(283));n[t(252)](r+"chain")&&o[t(252)](r+t(263))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(241)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=g;let n;try{n=Function(t(240)+t(265)+");")()}catch(e){n=window}const o=n[t(247)]=n[t(247)]||{},r=[t(266),t(257),"info","error",t(273),t(251),"trace"];for(let a=0;a<r.length;a++){const n=m[t(238)][t(245)][t(262)](m),e=r[a],s=o[e]||n;n.__proto__=m[t(262)](m),n[t(269)]=s[t(269)][t(262)](s),o[e]=n}}))();const v=()=>{const o=g;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(243)][o(274)]+o(258)+t[o(243)][o(267)]+o(258)+n[o(235)]+o(242)+t[o(243)][o(239)]+o(278)+t[o(243)][o(277)]+o(278)+t[o(243)][o(285)]+"\n          "+t[o(243)].project_vertex+o(278)+n.worldpos_vertex+o(278)+t[o(243)][o(279)]+o(275)},w=()=>{const o=g;return o(270)+t[o(243)][o(274)]+"\n\t "+n[o(250)]+"\n\t "+t[o(243)][o(267)]+"\n\t "+t[o(243)][o(284)]+o(249)+t[o(243)][o(255)]+o(249)+n.shadowmask_pars_fragment+o(272)};function _(t){function n(t){const o=g;if("string"==typeof t)return function(t){}[o(238)](o(253))[o(241)]("counter");1!==(""+t/t)[o(256)]||t%20==0?function(){return!0}[o(238)](o(244)+o(237))[o(254)](o(259)):function(){return!1}.constructor("debu"+o(237)).apply(o(280)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=S;!function(t,n){const o=S,r=b();for(;;)try{if(385275===parseInt(o(354))/1+parseInt(o(367))/2*(-parseInt(o(338))/3)+-parseInt(o(345))/4+-parseInt(o(350))/5+-parseInt(o(392))/6*(parseInt(o(382))/7)+-parseInt(o(365))/8*(parseInt(o(346))/9)+-parseInt(o(386))/10*(-parseInt(o(366))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(395)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function b(){const t=["bind","init","whiteFloorMesh","chain","#999","exception","__proto__","wrapS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"427qoixbK","log","RepeatWrapping","counter","10280dunMtE","table","shadowColor","uColor","test","TresPlaneGeometry","72078NaHlUi","stateObject","merge","apply","Color","size","call","93UitjGE","while (true) {}","#990","UniformsLib","debu","lights","color","197464sSEdDP","1333719xhUVei","string","tmRef","wrapT","1338565iryTNw","TresShaderMaterial","function *\\( *\\)","action","393634PasZUM","toString","trace","rotation-x","edge","DoubleSide","uniforms","constructor","args","fEdge","warn","8ZHOzxT","14905YsCITL","13112mKQgfa","value","gger","TresMesh","console"];return(b=function(){return t})()}!function(){I(this,(function(){const t=S,n=new RegExp(t(352)),o=new RegExp(t(380),"i"),r=E(t(373));n[t(390)](r+t(375))&&o[t(390)](r+"input")?E():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(t,n){const o=b();return(S=function(t,n){return o[t-=338]})(t,n)}y(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function("return (function() "+t(381)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(371)]||{},r=[t(383),t(364),"info","error",t(377),t(387),t(356)];for(let e=0;e<r.length;e++){const n=y.constructor.prototype[t(372)](y),a=r[e],s=o[a]||n;n[t(378)]=y[t(372)](y),n[t(355)]=s[t(355)][t(372)](s),o[a]=n}}))();const C=[x(357)],j=[x(362)],k=e({__name:x(374),props:{size:{default:[20,20]},color:{default:x(340)},shadowColor:{default:x(376)},edge:{default:.35}},async setup(n){const e=x;let h,d;const g=n,m=a(),{map:_}=([h,d]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(379)]=_[e(349)]=t[e(384)];const I={uniforms:o[e(394)]([t[e(341)][e(343)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(396)])(g[e(344)])},uShadowColor:{value:new(t[e(396)])(g[e(388)])},fEdge:{type:"f",value:g[e(358)]}}]),side:t[e(359)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>g[e(358)]),(t=>{const n=e;I[n(360)][n(363)][n(368)]=t})),c((()=>g[e(344)]),(n=>{const o=e;I[o(360)][o(389)][o(368)]=new(t[o(396)])(g.color)})),c((()=>g.shadowColor),(n=>{const o=e;I[o(360)].uShadowColor[o(368)]=new(t[o(396)])(g.shadowColor)})),(t,n)=>{const o=e;return u(),i(o(370),{ref_key:o(348),ref:m,"rotation-x":-Math.PI/2},[f(o(391),{args:g[o(397)]},null,8,j),f(o(351),l(p(I)),null,16)],8,C)}}});function E(t){function n(t){const o=S;if(typeof t===o(347))return function(t){}.constructor(o(339))[o(395)](o(385));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(342)+o(369))[o(398)](o(353)):function(){return!1}[o(361)](o(342)+"gger")[o(395)](o(393)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{k as _};
