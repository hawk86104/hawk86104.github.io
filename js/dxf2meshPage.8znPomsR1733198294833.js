import{k as t}from"./@tresjs.sklxXn0u1733198294833.js";import{cw as n,_ as e,k as o,aP as s,ac as r,bU as i,ak as c,am as a,aF as u,$ as p,s as l}from"./three.8iJMi2lU1733198294833.js";import{P as f}from"./tweakpane.yHWGBmom1733198294833.js";import{a as d}from"./index.8Rx_x_Ij1733198294833.js";import"./index.VnJC1qLV1733198294833.js";import{_ as g}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.Iz_9ONM61733198294833.js";import{d as m,r as h,X as _,s as w,q as v,e as x,o as y,D as j,j as b,g as I,J as k,u as S,m as B,f as M,al as F,I as T}from"./@vue.-THQH3GC1733198294833.js";import{_ as A}from"./@fesjs.X1U4uwri1733198294833.js";import"./@vueuse.N_fQXUYA1733198294833.js";import"./three-stdlib.IR1PgtX51733198294833.js";import"./@pmndrs.D5ZkFGQo1733198294833.js";import"./object-hash.GOIeDp-W1733198294833.js";import"./@amap.DgFRMjnW1733198294833.js";import"./jszip.eQOVOH091733198294833.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang._VAWZGSx1733198294833.js";import"./all.three.F4gaiqjm1733198294833.js";import"./oimophysics.x0jH7fze1733198294833.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.7Zke6a8I1733198294833.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.4JUlVHcB1733198294833.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.YVfDahJh1733198294833.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.VrIohuzf1733198294833.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.da2uWVIH1733198294833.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.T5OoQH_41733198294833.js";import"./vue-router.H2Xo87u11733198294833.js";import"./lodash-es.kYt-_xTG1733198294833.js";import"./@qlin.yHhFDldE1733198294833.js";import"./pinia.ZJJJwhVu1733198294833.js";import"./vue-demi.C4xddsk91733198294833.js";import"./@floating-ui.BPbuo5Gx1733198294833.js";import"./@juggle.7yjBMqoW1733198294833.js";function z(t,n){const e=R();return(z=function(t,n){return e[t-=274]})(t,n)}!function(t,n){const e=z,o=R();for(;;)try{if(628363===-parseInt(e(330))/1*(-parseInt(e(333))/2)+-parseInt(e(303))/3+parseInt(e(313))/4+parseInt(e(280))/5*(-parseInt(e(338))/6)+parseInt(e(322))/7+-parseInt(e(308))/8+parseInt(e(340))/9*(parseInt(e(286))/10))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(279)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(277),"i"),o=P("init");n.test(o+t(316))&&e[t(327)](o+t(329))?P():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(279)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(317)+t(318)+");")()}catch(e){n=window}return n}(),e=n[t(294)]=n[t(294)]||{},o=[t(281),t(332),t(339),t(324),t(299),t(334),"trace"];for(let s=0;s<o[t(311)];s++){const n=D[t(274)].prototype[t(292)](D),r=o[s],i=e[r]||n;n[t(290)]=D[t(292)](D),n.toString=i[t(336)][t(292)](i),e[r]=n}}))();class E{constructor(t){this[z(288)]=t}drawImportSpecialBoard(t,i,c){const a=z,u=(new n).parse(i),p=new(e[a(319)]);u[a(305)][a(335)](((t,n)=>{const e=a;t[e(283)](!0)[e(335)](((t,o)=>{const s=e;0===n&&0===o?p.copy(t):p[s(309)][s(276)](t)}))}));const l=new(e[a(295)])(p,{depth:18,bevelEnabled:!1});l[a(296)]();const f=l.boundingBox[a(343)](new(e[a(314)]))[a(342)]();l.translate(f.x,f.y,f.z),l[a(296)]();const d=l[a(312)][a(315)],g=l[a(312)][a(331)],m=new o(0-g.x,0-g.y),h=new o(d.x-g.x,d.y-g.y);l[a(337)].uv=new(e[a(278)])(new Float32Array(2*l[a(337)][a(300)][a(293)]),2);for(let n=0;n<l[a(337)].position[a(293)];n++){const t=l[a(337)].position[a(275)](n),e=l[a(337)][a(300)][a(328)](n);l[a(337)].uv[a(304)](n,(t+m.x)/h.x,(e+m.y)/h.y)}const _=new(e[a(298)])({map:null}),w=new(e[a(302)])(l,_);w[a(341)]=new s({map:null,color:a(282),roughness:1,metalness:.1,envMapIntensity:2.5}),w[a(321)]=!0,w[a(285)]=!0,w[a(300)].x=c,w.position.y=250;const v=new r({color:0}),x=new(e[a(291)])(w[a(320)],1),y=new(e[a(325)])(x,v);y[a(284)]=1,y[a(300)][a(306)](w[a(300)]),y[a(326)][a(306)](w[a(326)]),w[a(323)]=y,t[a(307)](w,w[a(323)])}}function P(t){function n(t){const e=z;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(279)](e(287));1!==(""+t/t)[e(311)]||t%20==0?function(){return!0}[e(274)](e(297)+e(289))[e(310)]("action"):function(){return!1}[e(274)](e(297)+"gger")[e(279)](e(301)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function R(){const t=["add","557272JYmacE","holes","call","length","boundingBox","2576700LdsQSI","Vector3","max","chain","return (function() ",'{}.constructor("return this")( )',"Shape","geometry","receiveShadow","3845198HIFEdd","mBoundingBox","error","LineSegments","rotation","test","getY","input","47781lQZSkI","min","warn","22HAodZJ","table","forEach","toString","attributes","6JPuvgP","info","9SsKGwL","material","negate","getCenter","constructor","getX","push","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","BufferAttribute","apply","2813915dQhfwW","log","#AFAFAD","toShapes","renderOrder","castShadow","2999600qctpyr","counter","name","gger","__proto__","EdgesGeometry","bind","count","console","ExtrudeGeometry","computeBoundingBox","debu","MeshBasicMaterial","exception","position","stateObject","Mesh","2274705ScnJRr","setXY","paths","copy"];return(R=function(){return t})()}const G=J;!function(t,n){const e=J,o=q();for(;;)try{if(140088===-parseInt(e(353))/1*(-parseInt(e(326))/2)+parseInt(e(355))/3*(-parseInt(e(317))/4)+parseInt(e(368))/5+parseInt(e(378))/6+-parseInt(e(393))/7*(parseInt(e(362))/8)+parseInt(e(354))/9*(parseInt(e(333))/10)+parseInt(e(385))/11)break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(347)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(313),"i"),o=Z(t(365));n[t(344)](o+t(380))&&e[t(344)](o+t(348))?Z():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(){const t=["appendChild","10000","neg-x.jpg","open","170UXMTGL","#svg-display svg","pos-x.jpg","while (true) {}","text/javascript","then","constructor","onload","下载测试文件2","1000","action","test","http://www.inkscape.org/namespaces/inkscape","src","apply","input","children","TresCanvas","console","neg-z.jpg","1HIbnLJ","41481XSgGjO","90372qtouvp","bind","dialogVisible","type","warn","debu","counter","31288ElklmM","plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","TresGroup","init","dialogDiv","#776A8F","468870OpmBPq","addButton"," 时出错","dxfFileInput","blue","outerHTML","加载脚本时出错","#627179","neg-y.jpg","#ffffff","1092102vpwOMp","_blank","chain","head","error","xMidYMid meet","addFolder","1506879brrDcn","file","TresPerspectiveCamera","table","div","svg-display","main-svg","#82DBC5","406fpyPNz","导入dxf","pos-y.jpg","TresDirectionalLight","return (function() ","dxf2svg","toString","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","length","groupRef","#3a78a2","gger","dxf2meshPage","drawImportSpecialBoard","TresMeshBasicMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","fileInput","trace","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","32QFaNVO","add",'{}.constructor("return this")( )',"prototype","value","call","TresBoxGeometry","info","button","233570ODrMtW","script","click"];return(q=function(){return t})()}X(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(397)+t(319)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(351)]||{},o=["log",t(359),t(324),t(382),"exception",t(388),t(315)];for(let s=0;s<o.length;s++){const n=X.constructor[t(320)][t(356)](X),r=o[s],i=e[r]||n;n.__proto__=X[t(356)](X),n.toString=i[t(399)][t(356)](i),e[r]=n}}))();const O={key:0,class:G(366)},V={class:"footBtn"};function J(t,n){const e=q();return(J=function(t,n){return e[t-=310]})(t,n)}function Z(t){function n(t){const e=J;if("string"==typeof t)return function(t){}[e(339)](e(336))[e(347)](e(361));1!==(""+t/t).length||t%20==0?function(){return!0}[e(339)](e(360)+e(404))[e(322)](e(343)):function(){return!1}.constructor(e(360)+e(404))[e(347)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=A(m({__name:G(310),setup(n){const e=G,o=h({dialogVisible:!1}),s={clearColor:e(392),shadows:!0,alpha:!1,shadowMapType:i,outputColorSpace:c,toneMapping:a},r=h({cellSize:60,cellThickness:1.1,cellColor:e(375),sectionColor:e(403),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let m=0;const A=_(),z=_(),C=new f;C.addButton({title:"下载测试文件1"}).on(e(328),(()=>{const t=e;window[t(332)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(379))})),C[e(369)]({title:e(341)}).on(e(328),(()=>{window[e(332)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf","_blank")}));const D=C[e(384)]({title:"远近"});function P(){const t=e,n=z[t(321)];o[t(357)]=!1;const s=document.querySelector(t(334));if(s){const e=s[t(373)];let o=new E;m+=1200,o[t(311)](n,e,m)}}function R(t){return new Promise(((n,e)=>{const o=J,s=document.createElement(o(327));s[o(346)]=t,s[o(358)]=o(337),s[o(340)]=()=>n(),s.onerror=()=>e(new Error("加载脚本 "+t+o(370))),document[o(381)][o(329)](s)}))}return D[e(369)]({title:e(394)}).on(e(328),(()=>{const t=e;o[t(357)]=!0,w((()=>{const n=t;window.localFileReader[n(365)]()}))})),D[e(369)]({title:"初始化"}).on("click",(()=>{!function(){const t=e,n=new u(500,500,18),o=new p({color:t(372)}),s=new l(n,o),r=z.value;for(;r[t(349)][t(401)]>0;){const n=r[t(349)][0];r.remove(n)}r[t(318)](s)}()})),v((()=>{!function(){const t=e;R(t(400)).then((()=>R(t(316))))[t(338)]((()=>R("plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js")))[t(338)]((()=>R(t(363))))[t(338)]((()=>R("plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js"))).then((()=>R("plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js"))).catch((n=>console[t(382)](t(374),n)))}()})),(n,i)=>{const c=e,a=x(c(350));return y(),j(c(389),null,[b(a,B(s,{"window-size":""}),{default:I((()=>[i[2]||(i[2]=k(c(387),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),b(S(t),{"make-default":""}),i[3]||(i[3]=k("TresGridHelper",{position:[0,-1,0],size:c(342),divisions:c(330)},null,-1)),k(c(364),{ref_key:c(402),ref:z,position:[2,250,0]},[k("TresMesh",{ref_key:"boxMeshRef",ref:A},i[1]||(i[1]=[k(c(323),{args:[500,500,18]},null,-1),k(c(312),{color:c(372)},null,-1)]),512)],512),i[4]||(i[4]=k("TresAmbientLight",{color:c(377),intensity:1},null,-1)),i[5]||(i[5]=k(c(396),{color:c(377),position:[300,300,250],intensity:6},null,-1)),b(S(g),B({args:[3,3]},r,{position:[0,-.5,0]}),null,16),(y(),M(F,null,{default:I((()=>[b(S(d),{files:[c(335),c(331),c(395),c(376),"pos-z.jpg",c(352)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16),o.dialogVisible?(y(),j(c(389),O,[i[6]||(i[6]=k(c(389),{id:c(390),class:"assembly",style:{}},[k("svg",{id:c(391),xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg","xmlns:inkscape":c(345),version:"1.1",preserveAspectRatio:c(383)},[k("g",{id:c(398),class:"pen1","stroke-width":"6",fill:c(367),transform:"translate(50, 50)"})])],-1)),i[7]||(i[7]=k(c(389),{class:c(314)},[k(c(348),{id:c(371),type:c(386)})],-1)),k(c(389),V,[k(c(325),{onClick:i[0]||(i[0]=t=>o[c(357)]=!1)},"取消"),k(c(325),{onClick:P},"确定")])])):T("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{$ as default};
