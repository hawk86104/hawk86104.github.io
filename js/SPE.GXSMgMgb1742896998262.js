import{_ as t,c as e,a8 as i,bR as n,b as s,C as o,V as r,n as a,B as c,d as h}from"./three.0CcRceKb1742896998262.js";const l=f;!function(t,e){const i=f,n=g();for(;;)try{if(356060===-parseInt(i(333))/1*(-parseInt(i(608))/2)+parseInt(i(260))/3+parseInt(i(473))/4+parseInt(i(510))/5+-parseInt(i(334))/6*(parseInt(i(398))/7)+-parseInt(i(282))/8+-parseInt(i(623))/9)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(427)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function f(t,e){const i=g();return f=function(t,e){return i[t-=191]},f(t,e)}!function(){u(this,(function(){const t=f,e=new RegExp("function *\\( *\\)"),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=y(t(330));e[t(255)](n+"chain")&&i[t(255)](n+"input")?y():n("0")}))()}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(427)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();p(void 0,(function(){const t=f;let e;try{e=Function(t(580)+t(226)+");")()}catch(s){e=window}const i=e[t(371)]=e[t(371)]||{},n=[t(508),"warn",t(566),"error",t(643),t(263),t(235)];for(let o=0;o<n[t(247)];o++){const e=p.constructor[t(270)][t(404)](p),s=n[o],r=i[s]||e;e[t(241)]=p.bind(p),e[t(547)]=r[t(547)][t(404)](r),i[s]=e}}))();const d={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};"function"==typeof define&&define[l(320)]?define(l(419),d):typeof exports!==l(445)&&typeof module!==l(445)&&(module[l(229)]=d),d[l(360)]=function(t,e,i,n){const s=l;this[s(607)]=i||1,this[s(455)]=e||1,this[s(232)]=t||Float32Array,this[s(338)]=new t(e*this[s(607)]),this.indexOffset=n||0},d[l(360)][l(442)]=d[l(360)],d[l(360)][l(270)][l(495)]=function(t,e){const i=l,n=this[i(338)][i(247)];return!e&&(t*=this[i(607)]),t<n?this[i(214)](t):t>n?this[i(293)](t):void console[i(566)](i(578),t+".",i(630))},d[l(360)][l(270)][l(214)]=function(t){const e=l;return this[e(338)]=this[e(338)].subarray(0,t),this[e(455)]=t,this},d[l(360)].prototype[l(293)]=function(t){const e=l,i=this[e(338)],n=new(this[e(232)])(t);return n[e(298)](i),this[e(338)]=n,this[e(455)]=t,this},d[l(360)][l(270)][l(191)]=function(t,e){const i=l;t*=this.componentSize,e*=this.componentSize;const n=[],s=this[i(338)],o=s.length;for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(573)](s[r]);return this[i(507)](0,n),this},d[l(360)][l(270)].setFromArray=function(t,e){const i=l,n=t+e.length;return n>this.array[i(247)]?this[i(293)](n):n<this[i(338)].length&&this[i(214)](n),this[i(338)][i(298)](e,this[i(304)]+t),this},d[l(360)][l(270)][l(475)]=function(t,e){return this[l(549)](t,e.x,e.y)},d[l(360)][l(270)].setVec2Components=function(t,e,i){const n=l,s=this[n(338)],o=this.indexOffset+t*this[n(607)];return s[o]=e,s[o+1]=i,this},d[l(360)].prototype[l(302)]=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},d[l(360)][l(270)].setVec3Components=function(t,e,i,n){const s=l,o=this.array,r=this[s(304)]+t*this[s(607)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},d[l(360)][l(270)].setVec4=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},d[l(360)].prototype[l(353)]=function(t,e,i,n,s){const o=l,r=this[o(338)],a=this.indexOffset+t*this[o(607)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},d.TypedArrayHelper.prototype[l(275)]=function(t,e){const i=l;return this.setFromArray(this[i(304)]+t*this[i(607)],e[i(534)])},d[l(360)].prototype[l(399)]=function(t,e){const i=l;return this[i(507)](this.indexOffset+t*this[i(607)],e[i(534)])},d[l(360)].prototype[l(412)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},d[l(360)][l(270)].setNumber=function(t,e){const i=l;return this[i(338)][this[i(304)]+t*this[i(607)]]=e,this},d[l(360)][l(270)][l(562)]=function(t){const e=l;return this[e(338)][this[e(304)]+t]},d[l(360)].prototype[l(401)]=function(t){const e=l;return this[e(338)][e(234)](this[e(304)]+t*this[e(607)])},d.ShaderAttribute=function(t,e,i){const n=l,s=d.ShaderAttribute[n(277)];this[n(544)]=typeof t===n(602)&&s.hasOwnProperty(t)?t:"f",this[n(607)]=s[this[n(544)]],this.arrayType=i||Float32Array,this.typedArray=null,this.bufferAttribute=null,this.dynamicBuffer=!!e,this.updateMin=0,this[n(447)]=0},d[l(369)][l(442)]=d[l(369)],d.ShaderAttribute.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},d[l(369)][l(270)][l(367)]=function(t,e){const i=l;this[i(598)]=Math[i(341)](t*this.componentSize,this.updateMin*this[i(607)]),this[i(447)]=Math[i(627)](e*this[i(607)],this[i(447)]*this[i(607)])},d[l(369)][l(270)][l(433)]=function(){const t=l,e=this[t(305)];!e[t(403)]&&(e[t(403)]={});const i=e[t(403)];i[t(284)]=this.updateMin,i[t(632)]=Math.min(this[t(447)]-this[t(598)]+this.componentSize,this[t(351)][t(338)][t(247)]),e.needsUpdate=!0},d[l(369)][l(270)][l(283)]=function(){const t=l;this[t(598)]=0,this[t(447)]=0},d[l(369)][l(270)][l(538)]=function(){const e=l;this.bufferAttribute.usage=this[e(362)]?t[e(597)]:t[e(374)]},d[l(369)][l(270)][l(191)]=function(t,e){const i=l;this[i(351)][i(191)](t,e),this[i(596)]()},d[l(369)].prototype[l(596)]=function(){const e=l;this[e(305)][e(338)]=this.typedArray[e(338)],this[e(305)][e(403)].offset=0,this.bufferAttribute[e(403)][e(632)]=-1,this.bufferAttribute.usage=t[e(374)],this[e(305)].needsUpdate=!0},d.ShaderAttribute[l(270)][l(375)]=function(t){const e=l;null!==this[e(351)]&&this[e(351)][e(455)]===t*this.componentSize||(null!==this.typedArray&&this[e(351)][e(455)]!==t?this[e(351)][e(495)](t):null===this[e(351)]&&(this[e(351)]=new d.TypedArrayHelper(this[e(223)],t,this[e(607)])))},d[l(369)][l(270)][l(209)]=function(n){const s=l;if(this[s(375)](n),null!==this[s(305)])return this[s(305)].array=this[s(351)][s(338)],parseFloat(t[s(513)])>=81&&(this.bufferAttribute.count=this[s(305)][s(338)][s(247)]/this[s(305)].itemSize),void(this[s(305)][s(339)]=!0);this[s(305)]=new e(this[s(351)].array,this[s(607)]),this[s(305)].usage=this[s(362)]?i:t[s(374)]},d[l(369)][l(270)][l(518)]=function(){const t=l;return null===this[t(351)]?0:this.typedArray[t(338)][t(247)]},d.shaderChunks={defines:[l(250),l(422)].join("\n"),uniforms:["uniform float deltaTime;",l(257),"uniform sampler2D tex;",l(591),l(622)][l(204)]("\n"),attributes:[l(435),"attribute vec3 velocity;","attribute vec4 rotation;",l(446),l(368),"attribute vec4 size;",l(522),l(196),l(563)].join("\n"),varyings:[l(240),l(273),l(265),l(386),l(276),l(217),l(386)][l(204)]("\n"),branchAvoidanceFunctions:[l(568),l(509),"}",l(326),l(347),"}","float when_eq( float x, float y ) {",l(555),"}",l(567),l(203),"}",l(417),"  return 1.0 - when_gt(x, y);","}",l(499),l(590),"}",l(391),l(641),"}"][l(204)]("\n"),unpackColor:[l(438),"   vec3 c = vec3( 0.0 );",l(579),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",l(456),l(233),l(264),l(212),l(225),"}"].join("\n"),unpackRotationAxis:[l(543),"   vec3 c = vec3( 0.0 );",l(579),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",l(456),"   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;",l(212),l(340),l(621),l(225),"}"][l(204)]("\n"),floatOverLifetime:[l(634),"    highp float value = 0.0;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    float fIndex = 0.0;",l(307),l(482),"",l(346),l(370),l(383),"       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    }","",l(454),"}"].join("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {",l(524),"    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );",l(454),"}"][l(204)]("\n"),paramFetchingFunctions:[l(459),"   return params.x;","}",l(343),l(405),"}","float getMaxAge() {","   return params.z;","}",l(466),l(468),"}"][l(204)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",l(501),"}",l(494),l(245),"}",l(476),l(206),"}"][l(204)]("\n"),rotationFunctions:[l(385),l(574),l(322),l(439),l(542),"       float oc = 1.0 - c;","","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",l(279),l(481),l(249),"",l(356),l(610),l(222),"      }","",l(387),l(390),l(575),l(599),l(306),l(327),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );",l(552),"      rotationMatrix = getRotationMatrix( axis, angle );",l(292),l(249),l(386)].join("\n"),rotateTexture:[l(583),"",l(207),l(558),"       float y = 1.0 - gl_PointCoord.y - 0.5;",l(332),l(585),l(570),l(381),"",l(363),l(345),l(410),"        float columnNorm = vSpriteSheet.z;",l(620),l(539),"        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","    #endif","",l(504)][l(204)]("\n")},d[l(491)]={vertex:[d[l(373)][l(274)],d.shaderChunks[l(565)],d[l(373)][l(593)],d[l(373)].varyings,t[l(421)][l(441)],t[l(421)].logdepthbuf_pars_vertex,n[l(280)],d[l(373)][l(426)],d[l(373)][l(342)],d.shaderChunks[l(613)],d[l(373)][l(382)],d.shaderChunks[l(595)],d[l(373)].paramFetchingFunctions,d[l(373)][l(325)],d[l(373)][l(463)],l(564),l(545),"    highp float alive = getAlive();",l(532),l(425),l(423),l(198),l(619),l(295),"        float wiggleCos = isAlive * cos( wiggleAmount );","    #endif","    vec3 vel = getVelocity( age );",l(355),"    vec3 force = vec3( 0.0 );",l(443),l(408),l(239),l(472),"    force += accel * age;","    pos += force;",l(198),l(388),"        pos.y += wiggleCos;",l(416),l(381),l(195),l(477),l(381),l(377),l(393),"    #ifdef HAS_PERSPECTIVE",l(428),l(469),l(554),l(381),l(317),l(586),l(577),l(243),"           unpackColor( color.x ),","           unpackColor( color.y ),",l(431),l(221),l(464),"    #else",l(199),l(381),l(379),"    vColor = vec4( c, o );","    #ifdef SHOULD_ROTATE_TEXTURE",l(290),"    #endif",l(363),l(397),l(420),l(395),"        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",l(530),"        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;","        float rowNorm = row / framesY;",l(432),l(266),"        vSpriteSheet.z = columnNorm;","        vSpriteSheet.w = rowNorm;","    #endif",l(236),"    gl_Position = projectionMatrix * mvPosition;",t[l(421)][l(407)],n.fog_vertex,"}"][l(204)]("\n"),fragment:[d[l(373)][l(565)],t[l(421)][l(441)],t[l(421)][l(485)],t[l(421)][l(220)],d.shaderChunks[l(460)],d[l(373)].branchAvoidanceFunctions,l(564),l(352),"    ",l(615),l(505),l(381),d[l(373)][l(313)],t[l(421)][l(424)],"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",l(271),t[l(421)][l(486)],"}"][l(204)]("\n")},d[l(528)]={types:{BOOLEAN:"boolean",STRING:l(602),NUMBER:l(449),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=l;if(Array.isArray(t)){for(let s=t[n(247)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=l;if(Array[n(483)](t)){for(let s=t[n(247)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(392)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=l;e=e||3,i=i||3,!1===Array.isArray(t[n(631)])&&(t[n(631)]=[t[n(631)]]),!1===Array[n(483)](t[n(269)])&&(t[n(269)]=[t[n(269)]]);const s=this.clamp(t._value[n(247)],e,i),o=this[n(517)](t[n(269)][n(247)],e,i),r=Math[n(627)](s,o);t[n(631)][n(247)]!==r&&(t[n(631)]=this[n(587)](t._value,r)),t[n(269)][n(247)]!==r&&(t[n(269)]=this[n(587)](t[n(269)],r))},interpolateArray(t,e){const i=l,n=t[i(247)],s=["function"==typeof t[0][i(336)]?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(497)](e),a=Math[i(617)](e),c=e-n;s[r]=this[i(523)](t[n],t[a],c)}return s.push(typeof t[n-1][i(336)]===i(413)?t[n-1][i(336)]():t[n-1]),s},clamp(t,e,i){const n=l;return Math[n(627)](e,Math[n(341)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const r=l;let a,c=this[r(297)];return typeof e===c[r(308)]&&typeof i===c.NUMBER?e+(i-e)*n:e instanceof t[r(612)]&&i instanceof t[r(612)]?(a=e[r(336)](),a.x=this[r(484)](e.x,i.x,n),a.y=this[r(484)](e.y,i.y,n),a):e instanceof t[r(503)]&&i instanceof s?(a=e.clone(),a.x=this.lerp(e.x,i.x,n),a.y=this[r(484)](e.y,i.y,n),a.z=this[r(484)](e.z,i.z,n),a):e instanceof t[r(588)]&&i instanceof t[r(588)]?(a=e.clone(),a.x=this.lerp(e.x,i.x,n),a.y=this[r(484)](e.y,i.y,n),a.z=this[r(484)](e.z,i.z,n),a.w=this[r(484)](e.w,i.w,n),a):e instanceof t[r(465)]&&i instanceof o?(a=e[r(336)](),a.r=this[r(484)](e.r,i.r,n),a.g=this.lerp(e.g,i.g,n),a.b=this[r(484)](e.b,i.b,n),a):void console[r(361)](r(328),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=l;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(490)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=l;for(let i=0;i<t[e(247)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,s){const o=l;let r=i.x+(Math[o(525)]()*n.x-.5*n.x),a=i.y+(Math.random()*n.y-.5*n.y),c=i.z+(Math[o(525)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(618)](r,s.x),a=.5*-s.y+this.roundToNearestMultiple(a,s.y),c=.5*-s.z+this[o(618)](c,s.z)),t[o(351)][o(603)](e,r,a,c)},randomColor(t,e,i,n){const s=l;let o=i.r+Math[s(525)]()*n.x,r=i.g+Math.random()*n.y,a=i.b+Math[s(525)]()*n.z;o=this[s(517)](o,0,1),r=this[s(517)](r,0,1),a=this[s(517)](a,0,1),t[s(351)][s(603)](e,o,r,a)},randomColorAsHex:function(){const e=l,i=new(t[e(465)]);return function(t,n,s,o){const r=e,a=s[r(247)],c=[];for(let e=0;e<a;++e){const t=o[e];i[r(493)](s[e]),i.r+=Math[r(525)]()*t.x-.5*t.x,i.g+=Math[r(525)]()*t.y-.5*t.y,i.b+=Math[r(525)]()*t.z-.5*t.z,i.r=this[r(517)](i.r,0,1),i.g=this[r(517)](i.g,0,1),i.b=this.clamp(i.b,0,1),c[r(573)](i[r(262)]())}t[r(351)].setVec4Components(n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=l,o=i[s(336)]();o[s(484)](n,Math[s(525)]()),t.typedArray[s(603)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=l;let h=2*Math[c(525)]()-1,u=6.2832*Math.random(),f=Math[c(600)](1-h*h),p=this[c(529)](n,s),d=0,m=0,g=0;r&&(p=Math[c(533)](p/r)*r),d=f*Math[c(194)](u)*p,m=f*Math[c(384)](u)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(351)][c(603)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=l;let c=6.2832*Math[a(525)](),h=Math[a(490)](this.randomFloat(n,s)),u=0,f=0,p=0;r&&(h=Math[a(533)](h/r)*r),u=Math[a(194)](c)*h,f=Math[a(384)](c)*h,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[a(351)][a(603)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=l,i=new(t[e(503)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(493)](a),i.x-=s,i.y-=o,i.z-=r,i.normalize()[l(540)](-this[l(529)](c,h)),t[l(351)][l(603)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new s;return function(e,i,n,s,o,r,a,c){const h=f;t[h(493)](r),t.x-=n,t.y-=s,t.z-=o,t.normalize()[h(540)](-this.randomFloat(a,c)),e.typedArray[h(603)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=l,i=new(t[e(503)]),n=new(t[e(503)]),s=new(t[e(465)]),o=new(t[e(503)])(1,1,1);return function(t,r){const a=e;return i.copy(t).normalize(),n.copy(r)[a(210)](),i.x+=.5*-r.x+Math[a(525)]()*r.x,i.y+=.5*-r.y+Math[a(525)]()*r.y,i.z+=.5*-r.z+Math[a(525)]()*r.z,i[a(210)]()[a(638)](o).multiplyScalar(.5),s[a(364)](i.x,i.y,i.z),s[a(262)]()}}()},d[l(626)]=function(e){const i=l,n=d[i(528)],s=n[i(297)];(e=n[i(354)](e,s[i(376)],{}))[i(633)]=n[i(354)](e[i(633)],s.OBJECT,{}),this[i(378)]=t[i(519)].generateUUID(),this[i(394)]=n[i(354)](e.fixedTimeStep,s[i(308)],.016),this[i(633)]=n[i(392)](e[i(633)][i(213)],t[i(496)],null),this[i(296)]=n[i(392)](e[i(633)][i(492)],t[i(612)],new(t[i(612)])(1,1)),this[i(300)]=n.ensureTypedArg(e.texture.frameCount,s[i(308)],this[i(296)].x*this[i(296)].y),this[i(258)]=n.ensureTypedArg(e.texture[i(550)],s[i(308)],1),this[i(296)][i(627)](new r(1,1)),this.hasPerspective=n[i(354)](e[i(396)],s.BOOLEAN,!0),this[i(520)]=n[i(354)](e[i(520)],s.BOOLEAN,!0),this[i(561)]=n.ensureTypedArg(e[i(561)],s[i(308)],null),this[i(642)]=n[i(354)](e[i(642)],s.NUMBER,t[i(640)]),this[i(228)]=n[i(354)](e.transparent,s[i(628)],!0),this.alphaTest=parseFloat(n[i(354)](e[i(502)],s[i(308)],0)),this[i(291)]=n[i(354)](e[i(291)],s.BOOLEAN,!1),this.depthTest=n[i(354)](e[i(248)],s.BOOLEAN,!0),this[i(400)]=n[i(354)](e.fog,s[i(628)],!0),this[i(344)]=n[i(354)](e.scale,s.NUMBER,300),this[i(246)]=[],this[i(409)]=[],this._pool=[],this._poolCreationSettings=null,this[i(572)]=0,this[i(436)]=!1,this[i(553)]=!1,this.particleCount=0,this[i(565)]={tex:{type:"t",value:this[i(633)]},textureAnimation:{type:"v4",value:new(t[i(588)])(this[i(296)].x,this[i(296)].y,this[i(300)],Math[i(627)](Math[i(490)](this.textureLoop),1))},fogColor:{type:"c",value:this[i(400)]?new(t[i(465)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(344)]}},this[i(274)]={HAS_PERSPECTIVE:this[i(396)],COLORIZE:this[i(520)],VALUE_OVER_LIFETIME_LENGTH:d[i(337)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(296)].x>1||this[i(296)].y>1},this[i(593)]={position:new(d[i(369)])("v3",!0),acceleration:new(d[i(369)])("v4",!0),velocity:new(d[i(369)])("v3",!0),rotation:new(d[i(369)])("v4",!0),rotationCenter:new(d[i(369)])("v3",!0),params:new(d[i(369)])("v4",!0),size:new(d[i(369)])("v4",!0),angle:new d.ShaderAttribute("v4",!0),color:new(d[i(369)])("v4",!0),opacity:new(d[i(369)])("v4",!0)},this[i(531)]=Object[i(309)](this[i(593)]),this[i(559)]=this.attributeKeys[i(247)],this[i(479)]=new a({uniforms:this[i(565)],vertexShader:d.shaders[i(526)],fragmentShader:d[i(491)][i(498)],blending:this[i(642)],transparent:this[i(228)],alphaTest:this.alphaTest,depthWrite:this.depthWrite,depthTest:this[i(248)],defines:this.defines,fog:this[i(400)]}),this[i(478)]=new c,this[i(254)]=new h(this.geometry,this[i(479)]),null===this[i(561)]&&console[i(361)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},d[l(626)][l(442)]=d[l(626)],d[l(626)][l(270)][l(639)]=function(){const t=l;let e,i=this[t(246)],n=i[t(247)]-1,s=this[t(274)];for(;n>=0;--n)e=i[n],!s[t(301)]&&(s.SHOULD_ROTATE_TEXTURE=s.SHOULD_ROTATE_TEXTURE||!!Math[t(627)](Math[t(627)][t(427)](null,e[t(331)][t(213)]),Math[t(627)][t(427)](null,e[t(331)][t(434)]))),s[t(310)]=s[t(310)]||!!Math.max(e[t(557)][t(331)],e[t(557)][t(548)]),s[t(259)]=s[t(259)]||!!Math.max(e.wiggle.value,e.wiggle[t(434)]);this[t(479)][t(339)]=!0},d[l(626)][l(270)]._applyAttributesToGeometry=function(){const t=l;let e,i,n=this[t(593)],s=this[t(478)],o=s[t(593)];for(const r in n)n[t(218)](r)&&(e=n[r],i=o[r],i?i[t(338)]=e[t(351)][t(338)]:s[t(604)](r,e.bufferAttribute),e[t(305)][t(339)]=!0);this.geometry[t(358)](0,this[t(584)])},d.Group.prototype[l(625)]=function(t){const e=l;if(t instanceof d[e(318)]==!1)return void console[e(536)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(409)][e(289)](t[e(378)])>-1)return void console[e(536)](e(589));if(null!==t[e(192)])return void console[e(536)](e(303));const i=this[e(593)],n=this[e(584)],s=n+t[e(584)];this[e(584)]=s,null!==this[e(561)]&&this[e(584)]>this[e(561)]&&console[e(361)](e(606),this[e(584)],e(500),this.maxParticleCount),t._calculatePPSValue(t.maxAge[e(631)]+t[e(215)][e(269)]),t[e(551)](this.attributeKeys),t._setAttributeOffset(n),t[e(192)]=this,t[e(593)]=this.attributes;for(const o in i)i.hasOwnProperty(o)&&i[o][e(209)](null!==this.maxParticleCount?this[e(561)]:this[e(584)]);for(let o=n;o<s;++o)t[e(471)](o),t[e(350)](o,"velocity"),t[e(350)](o,"acceleration"),t[e(359)](o,"opacity"),t[e(359)](o,"size"),t[e(415)](o),t[e(406)](o),t._assignParamsValue(o),t._assignColorValue(o);return this[e(365)](),this[e(246)][e(573)](t),this[e(409)][e(573)](t[e(378)]),this[e(639)](t),this[e(479)][e(339)]=!0,this.geometry[e(339)]=!0,this[e(436)]=!0,this},d[l(626)][l(270)][l(287)]=function(t){const e=l,i=this[e(409)][e(289)](t[e(378)]);if(t instanceof d.Emitter==!1)return void console[e(536)](e(311),t);if(-1===i)return void console[e(536)](e(272));const n=t[e(349)],s=n+t[e(584)],o=this[e(593)].params.typedArray;for(let r=n;r<s;++r)o[e(338)][4*r]=0,o.array[4*r+1]=0;this[e(246)][e(191)](i,1),this[e(409)].splice(i,1);for(const r in this.attributes)this[e(593)].hasOwnProperty(r)&&this.attributes[r][e(191)](n,s);this.particleCount-=t[e(584)],t[e(440)](),this._attributesNeedRefresh=!0},d.Group[l(270)][l(511)]=function(){const t=l,e=this[t(462)],i=this[t(572)];if(e.length)return e[t(535)]();if(i){const e=new(d[t(318)])(this._poolCreationSettings);return this.addEmitter(e),e}return null},d.Group[l(270)][l(515)]=function(t){const e=l;if(t instanceof d[e(318)]!=!1)return t[e(614)](),this._pool.unshift(t),this;console[e(536)](e(227),t)},d[l(626)][l(270)][l(219)]=function(){return this[l(462)]},d[l(626)][l(270)][l(211)]=function(t,e,i){const n=l;let s;this[n(514)]=e,this[n(572)]=!!i;for(let o=0;o<t;++o)s=Array.isArray(e)?new(d[n(318)])(e[o]):new d.Emitter(e),this[n(625)](s),this.releaseIntoPool(s);return this},d[l(626)].prototype[l(285)]=function(e){const i=l,n=this[i(511)](),s=this;if(null!==n)return e instanceof t[i(503)]&&(n[i(323)][i(213)][i(493)](e),n.position[i(213)]=n[i(323)][i(213)]),n[i(571)](),setTimeout((()=>{const t=i;n.disable(),s[t(515)](n)}),1e3*Math.max(n[i(624)],n.maxAge[i(213)]+n[i(215)][i(434)])),this;console[i(508)](i(467))},d[l(626)].prototype[l(480)]=function(t,e){const i=l;if(typeof t===i(449)&&t>1)for(let n=0;n<t;++n)this[i(285)](e);else this[i(285)](e);return this},d[l(626)][l(270)][l(281)]=function(t){const e=l;this[e(565)][e(267)][e(213)]+=t,this[e(565)][e(319)][e(213)]=t},d[l(626)].prototype._resetBufferRanges=function(){const t=l;let e=this[t(531)],i=this[t(559)]-1,n=this[t(593)];for(;i>=0;--i)n[e[i]][t(283)]()},d[l(626)][l(270)][l(251)]=function(t){const e=l;let i,n,s,o=this.attributeKeys,r=this[e(559)]-1,a=this.attributes,c=t.bufferUpdateRanges;for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(367)](n.min,n.max),s.flagUpdate()},d[l(626)][l(270)][l(312)]=function(t){const e=l;var i=this[e(246)],n=i[e(247)],s=t||this.fixedTimeStep,o=this[e(531)],r=this[e(593)];if(this._updateUniforms(s),this[e(582)](),0!==n||!1!==this[e(436)]||!1!==this[e(553)]){for(var a,c=0;c<n;++c)(a=i[c])[e(312)](s),this[e(251)](a);if(!0===this[e(553)]){for(c=this.attributeCount-1;c>=0;--c)r[o[c]][e(538)]();this[e(553)]=!1}if(!0===this[e(436)]){for(c=this[e(559)]-1;c>=0;--c)r[o[c]][e(596)]();this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!0}}},d[l(626)].prototype[l(372)]=function(){const t=l;return this[t(478)][t(372)](),this.material[t(372)](),this},d.Emitter=function(e){const i=l,n=d[i(528)],r=n[i(297)],a=d.valueOverLifetimeLength;(e=n[i(354)](e,r[i(376)],{}))[i(323)]=n.ensureTypedArg(e.position,r[i(376)],{}),e[i(357)]=n.ensureTypedArg(e[i(357)],r[i(376)],{}),e[i(253)]=n[i(354)](e[i(253)],r[i(376)],{}),e[i(516)]=n[i(354)](e[i(516)],r[i(376)],{}),e.drag=n[i(354)](e.drag,r[i(376)],{}),e[i(557)]=n[i(354)](e[i(557)],r[i(376)],{}),e[i(380)]=n[i(354)](e[i(380)],r[i(376)],{}),e[i(444)]=n[i(354)](e[i(444)],r.OBJECT,{}),e[i(455)]=n.ensureTypedArg(e[i(455)],r[i(376)],{}),e[i(331)]=n[i(354)](e[i(331)],r.OBJECT,{}),e[i(611)]=n[i(354)](e[i(611)],r[i(376)],{}),e[i(215)]=n[i(354)](e[i(215)],r[i(376)],{}),e[i(560)]&&console[i(361)](i(594)),this[i(378)]=t[i(519)][i(230)](),this[i(544)]=n.ensureTypedArg(e.type,r[i(308)],d[i(315)][i(411)]),this[i(323)]={_value:n.ensureInstanceOf(e.position[i(213)],s,new(t[i(503)])),_spread:n[i(392)](e[i(323)].spread,t[i(503)],new(t[i(503)])),_spreadClamp:n.ensureInstanceOf(e[i(323)][i(470)],t[i(503)],new(t[i(503)])),_distribution:n[i(354)](e.position[i(193)],r[i(308)],this.type),_randomise:n[i(354)](e[i(323)][i(242)],r[i(628)],!1),_radius:n.ensureTypedArg(e.position[i(516)],r[i(308)],10),_radiusScale:n[i(392)](e.position[i(461)],t[i(503)],new s(1,1,1)),_distributionClamp:n[i(354)](e[i(323)][i(581)],r[i(308)],0)},this[i(357)]={_value:n.ensureInstanceOf(e[i(357)][i(213)],t[i(503)],new s),_spread:n.ensureInstanceOf(e[i(357)].spread,t[i(503)],new(t[i(503)])),_distribution:n[i(354)](e[i(357)].distribution,r[i(308)],this[i(544)]),_randomise:n[i(354)](e.position.randomise,r.BOOLEAN,!1)},this[i(253)]={_value:n[i(392)](e.acceleration[i(213)],t[i(503)],new(t[i(503)])),_spread:n.ensureInstanceOf(e[i(253)][i(434)],t[i(503)],new(t[i(503)])),_distribution:n[i(354)](e[i(253)].distribution,r[i(308)],this.type),_randomise:n[i(354)](e[i(323)][i(242)],r.BOOLEAN,!1)},this[i(629)]={_value:n[i(354)](e[i(629)].value,r[i(308)],0),_spread:n.ensureTypedArg(e[i(629)][i(434)],r[i(308)],0),_randomise:n[i(354)](e.position[i(242)],r[i(628)],!1)},this[i(611)]={_value:n[i(354)](e.wiggle[i(213)],r[i(308)],0),_spread:n[i(354)](e[i(611)].spread,r[i(308)],0)},this[i(557)]={_axis:n[i(392)](e[i(557)][i(592)],t[i(503)],new(t[i(503)])(0,1,0)),_axisSpread:n[i(392)](e[i(557)].axisSpread,t[i(503)],new s),_angle:n[i(354)](e[i(557)][i(331)],r[i(308)],0),_angleSpread:n[i(354)](e[i(557)][i(548)],r[i(308)],0),_static:n[i(354)](e[i(557)][i(389)],r.BOOLEAN,!1),_center:n[i(392)](e.rotation[i(294)],t[i(503)],this[i(323)][i(631)][i(336)]()),_randomise:n[i(354)](e[i(323)][i(242)],r[i(628)],!1)},this[i(215)]={_value:n.ensureTypedArg(e.maxAge[i(213)],r[i(308)],2),_spread:n[i(354)](e.maxAge[i(434)],r[i(308)],0)},this[i(380)]={_value:n.ensureArrayInstanceOf(e[i(380)].value,o,new(t[i(465)])),_spread:n[i(366)](e[i(380)][i(434)],t[i(503)],new(t[i(503)])),_randomise:n[i(354)](e.position.randomise,r.BOOLEAN,!1)},this[i(444)]={_value:n.ensureArrayTypedArg(e[i(444)][i(213)],r[i(308)],1),_spread:n[i(237)](e[i(444)][i(434)],r[i(308)],0),_randomise:n[i(354)](e[i(323)][i(242)],r[i(628)],!1)},this[i(455)]={_value:n.ensureArrayTypedArg(e.size.value,r.NUMBER,1),_spread:n[i(237)](e[i(455)][i(434)],r.NUMBER,0),_randomise:n.ensureTypedArg(e[i(323)][i(242)],r.BOOLEAN,!1)},this.angle={_value:n.ensureArrayTypedArg(e[i(331)].value,r.NUMBER,0),_spread:n[i(237)](e[i(331)][i(434)],r[i(308)],0),_randomise:n[i(354)](e[i(323)][i(242)],r[i(628)],!1)},this[i(584)]=n[i(354)](e.particleCount,r[i(308)],100),this[i(624)]=n[i(354)](e.duration,r[i(308)],null),this.isStatic=n[i(354)](e[i(256)],r.BOOLEAN,!1),this[i(451)]=n[i(354)](e[i(451)],r[i(308)],1),this[i(601)]=n.ensureTypedArg(e[i(601)],r[i(308)],1),this.alive=n[i(354)](e.alive,r[i(628)],!0),this[i(489)]=0,this[i(286)]=0,this.attributeOffset=0,this[i(527)]=0,this[i(205)]=0,this[i(299)]=0,this[i(192)]=null,this[i(593)]=null,this[i(244)]=null,this.resetFlags={position:n[i(354)](e[i(323)][i(242)],r[i(628)],!1)||n[i(354)](e[i(516)][i(242)],r[i(628)],!1),velocity:n[i(354)](e[i(357)][i(242)],r[i(628)],!1),acceleration:n[i(354)](e[i(253)][i(242)],r[i(628)],!1)||n[i(354)](e[i(629)][i(242)],r[i(628)],!1),rotation:n[i(354)](e.rotation.randomise,r.BOOLEAN,!1),rotationCenter:n.ensureTypedArg(e[i(557)][i(242)],r[i(628)],!1),size:n[i(354)](e[i(455)][i(242)],r[i(628)],!1),color:n[i(354)](e.color[i(242)],r.BOOLEAN,!1),opacity:n[i(354)](e[i(444)].randomise,r[i(628)],!1),angle:n[i(354)](e[i(331)].randomise,r[i(628)],!1)},this[i(429)]={},this.updateCounts={},this[i(437)]={maxAge:i(224),position:i(323),velocity:"velocity",acceleration:i(253),drag:i(253),wiggle:"params",rotation:i(557),size:i(455),color:i(380),opacity:i(444),angle:i(331)};for(const t in this.updateMap)this[i(437)].hasOwnProperty(t)&&(this[i(576)][this.updateMap[t]]=0,this[i(429)][this[i(437)][t]]=!1,this._createGetterSetters(this[t],t));this[i(202)]={},this[i(531)]=null,this[i(559)]=0,n[i(208)](this.color,a,a),n.ensureValueOverLifetimeCompliance(this.opacity,a,a),n[i(208)](this[i(455)],a,a),n[i(208)](this[i(331)],a,a)},d.Emitter[l(442)]=d[l(318)],d.Emitter[l(270)][l(261)]=function(t,e){const i=l,n=this;for(const s in t)if(t[i(218)](s)){const o=s[i(512)]("_","");Object[i(487)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=f,o=n[s(437)][e],r=this[t],a=d[s(337)];t===s(448)?(n[s(429)].rotationCenter=!0,n[s(576)][s(231)]=0):t===s(457)?n[s(452)][o]=i:(n[s(429)][o]=!0,n[s(576)][o]=0),n[s(192)][s(639)](),this[t]=i,Array.isArray(r)&&d[s(528)][s(208)](n[e],a,a)}}(s)})}},d[l(318)][l(270)][l(551)]=function(t){const e=l;this[e(531)]=t,this[e(559)]=t[e(247)];for(let i=this[e(559)]-1;i>=0;--i)this[e(202)][t[i]]={min:Number[e(546)],max:Number[e(201)]}},d[l(318)][l(270)][l(197)]=function(t){const e=l,i=this[e(584)];this[e(624)]?this[e(489)]=i/(t<this[e(624)]?t:this[e(624)]):this[e(489)]=i/t},d.Emitter[l(270)][l(506)]=function(t){const e=l;this[e(349)]=t,this[e(286)]=t,this[e(316)]=t+this[e(584)]},d[l(318)].prototype[l(278)]=function(t,e){const i=l;switch(t){case i(323):this[i(471)](e);break;case"velocity":case"acceleration":this._assignForceValue(e,t);break;case i(455):case"opacity":this._assignAbsLifetimeValue(e,t);break;case"angle":this[i(415)](e);break;case i(224):this[i(252)](e);break;case i(557):this[i(406)](e);break;case i(380):this._assignColorValue(e)}},d.Emitter[l(270)]._assignPositionValue=function(t){const e=l,i=d.distributions,n=d[e(528)],s=this.position,o=this[e(593)].position,r=s[e(631)],a=s[e(269)];switch(s._distribution){case i.BOX:n.randomVector3(o,t,r,a,s[e(268)]);break;case i.SPHERE:n.randomVector3OnSphere(o,t,r,s[e(216)],s[e(269)].x,s[e(329)],s[e(268)].x,s[e(200)]||this[e(584)]);break;case i[e(474)]:n[e(450)](o,t,r,s[e(216)],s[e(269)].x,s[e(329)],s._spreadClamp.x);break;case i[e(616)]:n.randomVector3OnLine(o,t,r,a)}},d[l(318)][l(270)][l(350)]=function(t,e){const i=l;let n,s,o,r,a,c=d[i(315)],h=d.utils,u=this[e],f=u[i(631)],p=u[i(269)];switch(u._distribution){case c[i(411)]:h.randomVector3(this.attributes[e],t,f,p);break;case c.SPHERE:n=this.attributes[i(323)][i(351)].array,a=3*t,s=n[a],o=n[a+1],r=n[a+2],h.randomDirectionVector3OnSphere(this[i(593)][e],t,s,o,r,this[i(323)][i(631)],u[i(631)].x,u[i(269)].x);break;case c[i(474)]:n=this[i(593)][i(323)].typedArray[i(338)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(636)](this[i(593)][e],t,s,o,r,this[i(323)][i(631)],u[i(631)].x,u[i(269)].x);break;case c[i(616)]:h[i(335)](this[i(593)][e],t,f,p)}if("acceleration"===e){const e=h[i(517)](h[i(529)](this[i(629)][i(631)],this.drag[i(269)]),0,1);this.attributes.acceleration[i(351)][i(338)][4*t+3]=e}},d[l(318)].prototype[l(359)]=function(t,e){const i=l;let n,s=this[i(593)][e][i(351)],o=this[e],r=d[i(528)];r[i(637)](o._value)&&r.arrayValuesAreEqual(o[i(269)])?(n=Math[i(490)](r[i(529)](o[i(631)][0],o[i(269)][0])),s[i(353)](t,n,n,n,n)):s[i(353)](t,Math[i(490)](r.randomFloat(o[i(631)][0],o[i(269)][0])),Math.abs(r[i(529)](o[i(631)][1],o._spread[1])),Math[i(490)](r[i(529)](o._value[2],o[i(269)][2])),Math[i(490)](r[i(529)](o._value[3],o[i(269)][3])))},d.Emitter[l(270)]._assignAngleValue=function(t){const e=l;let i,n=this[e(593)].angle[e(351)],s=this.angle,o=d[e(528)];o[e(637)](s._value)&&o[e(637)](s[e(269)])?(i=o[e(529)](s[e(631)][0],s[e(269)][0]),n.setVec4Components(t,i,i,i,i)):n[e(353)](t,o[e(529)](s[e(631)][0],s[e(269)][0]),o[e(529)](s[e(631)][1],s[e(269)][1]),o.randomFloat(s[e(631)][2],s[e(269)][2]),o.randomFloat(s[e(631)][3],s._spread[3]))},d[l(318)][l(270)]._assignParamsValue=function(t){const e=l;this[e(593)][e(224)].typedArray[e(353)](t,this[e(256)]?1:0,0,Math[e(490)](d.utils[e(529)](this.maxAge[e(631)],this.maxAge[e(269)])),d.utils[e(529)](this.wiggle[e(631)],this[e(611)][e(269)]))},d.Emitter[l(270)][l(406)]=function(t){const e=l;this.attributes[e(557)][e(351)][e(603)](t,d[e(528)][e(348)](this.rotation[e(521)],this[e(557)][e(238)]),d.utils[e(529)](this[e(557)][e(605)],this[e(557)][e(453)]),this[e(557)][e(458)]?0:1),this[e(593)][e(231)][e(351)][e(302)](t,this[e(557)][e(321)])},d[l(318)].prototype._assignColorValue=function(t){const e=l;d[e(528)].randomColorAsHex(this[e(593)][e(380)],t,this[e(380)][e(631)],this[e(380)][e(269)])},d[l(318)][l(270)]._resetParticle=function(t){const e=l;let i,n,s=this.resetFlags,o=this.updateFlags,r=this.updateCounts,a=this.attributeKeys;for(let c=this[e(559)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(278)](i,t),this[e(414)](i,t),!0===n&&r[i]===this[e(584)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},d[l(318)].prototype._updateAttributeUpdateRange=function(t,e){const i=l,n=this.bufferUpdateRanges[t];n[i(341)]=Math[i(341)](e,n[i(341)]),n[i(627)]=Math[i(627)](e,n[i(627)])},d.Emitter[l(270)][l(582)]=function(){const t=l;let e,i=this.bufferUpdateRanges,n=this[t(314)],s=this[t(569)]-1;for(;s>=0;--s)e=n[s],i[e][t(341)]=Number[t(546)],i[e][t(627)]=Number.NEGATIVE_INFINITY},d[l(318)][l(270)][l(440)]=function(){const t=l;this[t(489)]=0,this[t(349)]=0,this.activationIndex=0,this[t(299)]=0,this.group=null,this[t(593)]=null,this[t(244)]=null,this.age=0},d[l(318)].prototype._decrementParticleCount=function(){--this[l(299)]},d.Emitter[l(270)][l(430)]=function(){++this[l(299)]},d[l(318)][l(270)][l(609)]=function(t,e,i,n){const s=l;for(var o,r,a,c,h=e-1;h>=t;--h)0!==(c=i[o=4*h])&&(a=i[o+1],r=i[o+2],1===this.direction?(a+=n)>=r&&(a=0,c=0,this._decrementParticleCount()):(a-=n)<=0&&(a=r,c=0,this[s(402)]()),i[o]=c,i[o+1]=a,this[s(414)](s(224),h))},d.Emitter[l(270)]._activateParticles=function(t,e,i,n){const s=l,o=this[s(601)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(584)]||(this[s(430)](),i[r]=1,this[s(288)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this._updateAttributeUpdateRange(s(224),c))},d[l(318)][l(270)][l(312)]=function(t){const e=l;if(this[e(256)])return;null===this[e(244)]&&(this.paramsArray=this[e(593)][e(224)][e(351)][e(338)]);const i=this[e(349)],n=i+this[e(584)],s=this[e(244)],o=this[e(489)]*this[e(451)]*t,r=this.activationIndex;if(this[e(582)](),this[e(609)](i,n,s,t),!1===this[e(324)])return void(this.age=0);if(null!==this[e(624)]&&this[e(205)]>this[e(624)])return this[e(324)]=!1,void(this.age=0);const a=1===this.particleCount?r:0|r,c=Math[e(341)](a+o,this[e(316)]),h=c-this.activationIndex|0,u=h>0?t/h:0;this._activateParticles(a,c,s,u),this[e(286)]+=o,this.activationIndex>n&&(this[e(286)]=i),this[e(205)]+=t},d[l(318)].prototype.reset=function(t){const e=l;if(this[e(205)]=0,this[e(324)]=!1,!0===t){const t=this[e(349)],s=t+this[e(584)],o=this[e(244)],r=this[e(593)][e(224)][e(305)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(403)].offset=0,r[e(403)].count=-1,r.needsUpdate=!0}return this},d[l(318)][l(270)][l(571)]=function(){return this[l(324)]=!0,this},d[l(318)][l(270)].disable=function(){return this.alive=!1,this},d[l(318)][l(270)].remove=function(){const t=l;return null!==this.group?this[t(192)][t(287)](this):console.error(t(488)),this};const m=d;function g(){const t=["REVISION","_poolCreationSettings","releaseIntoPool","radius","clamp","getLength","MathUtils","colorize","_axis","attribute vec4 angle;","lerpTypeAgnostic","    vec3 value = vec3( 0.0 );","random","vertex","attributeEnd","utils","randomFloat","        float column = floor(mod( frameNumber, framesX ));","attributeKeys","    highp float maxAge = getMaxAge();","round","elements","pop","error","call","resetDynamic","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","multiplyScalar","stateObject","       float c = cos(angle);","vec3 unpackRotationAxis( in float hex ) {","type","    highp float age = getAge();","POSITIVE_INFINITY","toString","angleSpread","setVec2Components","loop","_setBufferUpdateRanges","      translated = rotationCenter - pos;","_attributesNeedDynamicReset","        float perspective = 1.0;","    return 1.0 - abs( sign( x - y ) );","counter","rotation","       float x = gl_PointCoord.x - 0.5;","attributeCount","onParticleSpawn","maxParticleCount","getValueAtIndex","attribute vec4 opacity;","void main() {","uniforms","info","float when_ge(float x, float y) {","float when_gt(float x, float y) {","bufferUpdateCount","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","enable","_createNewWhenPoolEmpty","push","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","      vec3 translated;","updateCounts","       vec3 c = isAlive * getColorOverLifetime(","TypedArray is already of size:","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","return (function() ","distributionClamp","_resetBufferRanges","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","particleCount","       float s = sin( -vAngle );","    #ifdef COLORIZE","interpolateArray","Vector4","Emitter already exists in this group. Will not add again.","    return a * b;","uniform vec4 textureAnimation;","axis","attributes","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","colorOverLifetime","forceUpdateAll","DynamicDrawUsage","updateMin","      mat4 rotationMatrix;","sqrt","direction","string","setVec3Components","setAttribute","_angle","SPE.Group: maxParticleCount exceeded. Requesting","componentSize","401366kDxrSi","_checkParticleAges","      if( rotation.y == 0.0 ) {","wiggle","Vector2","unpackRotationAxis","reset","    #ifdef ALPHATEST","LINE","ceil","roundToNearestMultiple","        float wiggleAmount = positionInTime * getWiggle();","        float rowNorm = vSpriteSheet.w;","   c -= vec3( 1.0 );","uniform float scale;","4337676oNBiAX","duration","addEmitter","Group","max","BOOLEAN","drag","Will not resize.","_value","count","texture","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","while (true) {}","randomDirectionVector3OnDisc","arrayValuesAreEqual","add","_updateDefines","AdditiveBlending","    return min(a + b, 1.0);","blending","exception","splice","group","distribution","cos","    #ifdef SHOULD_ROTATE_PARTICLES","attribute vec4 color;","_calculatePPSValue","    #ifdef SHOULD_WIGGLE_PARTICLES","       vec3 c = vec3(1.0);","_distributionClamp","NEGATIVE_INFINITY","bufferUpdateRanges","  return 1.0 - when_lt(x, y);","join","age","   return acceleration.xyz * age;","    #ifdef SHOULD_ROTATE_TEXTURE","ensureValueOverLifetimeCompliance","_createBufferAttribute","normalize","addPool","   c.b = b / PACKED_COLOR_DIVISOR;","value","shrink","maxAge","_radius","    varying vec4 vSpriteSheet;","hasOwnProperty","getPool","logdepthbuf_pars_fragment","           unpackColor( color.w )","           return pos;","arrayType","params","   return c;",'{}.constructor("return this")( )',"Argument is not instanceof SPE.Emitter:","transparent","exports","generateUUID","rotationCenter","TypedArrayConstructor","   c.r = r / PACKED_COLOR_DIVISOR;","subarray","trace","    gl_PointSize = pointSizePerspective;","ensureArrayTypedArg","_axisSpread","    force += vel;","varying vec4 vColor;","__proto__","randomise","           positionInTime,","paramsArray","   return velocity * age;","emitters","length","depthTest","   }","#define PACKED_COLOR_SIZE 256.0","_updateBuffers","_assignParamsValue","acceleration","mesh","test","isStatic","uniform float runTime;","textureLoop","SHOULD_WIGGLE_PARTICLES","2044740TLFxQk","_createGetterSetters","getHex","table","   c.g = g / PACKED_COLOR_DIVISOR;","    varying float vAngle;","        vSpriteSheet.y = 1.0 / framesY;","runTime","_spreadClamp","_spread","prototype","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","Emitter does not exist in this group. Will not remove.","#ifdef SHOULD_ROTATE_TEXTURE","defines","setMat3","#ifdef SHOULD_CALCULATE_SPRITE","typeSizeMap","_assignValue","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","fog_pars_vertex","_updateUniforms","4984720OIDUwA","resetUpdateRange","offset","_triggerSingleEmitter","activationIndex","removeEmitter","_resetParticle","indexOf","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","depthWrite","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","grow","center","        float wiggleSin = isAlive * sin( wiggleAmount );","textureFrames","types","set","activeParticleCount","textureFrameCount","SHOULD_CALCULATE_SPRITE","setVec3","Emitter already belongs to another group. Will not add to requested group.","indexOffset","bufferAttribute","      float angle = 0.0;","    float shouldApplyValue = 0.0;","NUMBER","keys","SHOULD_ROTATE_PARTICLES","`emitter` argument must be instance of SPE.Emitter. Was provided with:","tick","rotateTexture","bufferUpdateKeys","distributions","activationEnd","    float pointSizePerspective = pointSize * perspective;","Emitter","deltaTime","amd","_center","       axis = normalize(axis);","position","alive","forceFetchingFunctions","float when_lt(float x, float y) {","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","Invalid argument types, or argument types do not match:","_radiusScale","init","angle","       float c = cos( -vAngle );","2MpAihE","1170IGkGUr","randomVector3OnLine","clone","valueOverLifetimeLength","array","needsUpdate","   c *= vec3( 2.0 );","min","unpackColor","float getAge() {","scale","        float framesX = vSpriteSheet.x;","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","getPackedRotationAxis","attributeOffset","_assignForceValue","typedArray","    vec3 outgoingLight = vColor.xyz;","setVec4Components","ensureTypedArg","    vec3 accel = getAcceleration( age );","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","velocity","setDrawRange","_assignAbsLifetimeValue","TypedArrayHelper","warn","dynamicBuffer","    #ifdef SHOULD_CALCULATE_SPRITE","setRGB","_applyAttributesToGeometry","ensureArrayInstanceOf","setUpdateRange","attribute vec4 params;","ShaderAttribute","       fIndex = float( i );","console","dispose","shaderChunks","StaticDrawUsage","_ensureTypedArray","OBJECT","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","uuid","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","color","    #endif","floatOverLifetime","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","sin","#ifdef SHOULD_ROTATE_PARTICLES","#endif","      vec3 axis = unpackRotationAxis( rotation.x );","        pos.x += wiggleSin;","static","      vec3 center = rotationCenter;","float or(float a, float b) {","ensureInstanceOf","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","fixedTimeStep","        float loopCount = textureAnimation.w;","hasPerspective","        float framesX = textureAnimation.x;","6265rRiAfO","setMat4","fog","getComponentValueAtIndex","_decrementParticleCount","updateRange","bind","   return params.y;","_assignRotationValue","logdepthbuf_vertex","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","emitterIDs","        float framesY = vSpriteSheet.y;","BOX","setColor","function","_updateAttributeUpdateRange","_assignAngleValue","        pos.z += wiggleSin;","float when_le(float x, float y) {","debu","spe","        float framesY = textureAnimation.y;","ShaderChunk","#define PACKED_COLOR_DIVISOR 255.0","    highp float isAlive = when_gt( alive, 0.0 );","logdepthbuf_fragment","    highp float positionInTime = (age / maxAge);","branchAvoidanceFunctions","apply","        float perspective = scale / length( mvPosition.xyz );","updateFlags","_incrementParticleCount","           unpackColor( color.z ),","        vSpriteSheet.x = 1.0 / framesX;","flagUpdate","spread","attribute vec4 acceleration;","_attributesNeedRefresh","updateMap","vec3 unpackColor( in float hex ) {","       float s = sin(angle);","_onRemove","common","constructor","    vec3 pos = vec3( position );","opacity","undefined","attribute vec3 rotationCenter;","updateMax","_rotationCenter","number","randomVector3OnDisc","activeMultiplier","resetFlags","_angleSpread","    return value;","size","   float b = mod( hex, PACKED_COLOR_SIZE );","_randomise","_static","float getAlive() {","varyings","radiusScale","_pool","rotationFunctions","       );","Color","float getWiggle() {","SPE.Group pool ran out.","   return params.w;","    #else","spreadClamp","_assignPositionValue","    force *= drag;","1567036zesoyo","DISC","setVec2","vec3 getAcceleration( in float age ) {","        pos = getRotation( pos, positionInTime );","geometry","material","triggerPoolEmitter","                   0.0,                                0.0,                                0.0,                                1.0);","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","isArray","lerp","fog_pars_fragment","fog_fragment","defineProperty","Emitter does not belong to a group, cannot remove.","particlesPerSecond","abs","shaders","frames","copy","vec3 getVelocity( in float age ) {","setSize","Texture","floor","fragment","float and(float a, float b) {","particles, can support only","   return modelViewMatrix * vec4( position, 1.0 );","alphaTest","Vector3","    vec4 rotatedTexture = texture2D( tex, vUv );","       if ( vColor.w < float(ALPHATEST) ) discard;","_setAttributeOffset","setFromArray","log","    return max(sign(x - y), 0.0);","804670puvpVk","getFromPool","replace"];return(g=function(){return t})()}function y(t){function e(t){const i=f;if("string"==typeof t)return function(t){}[i(442)](i(635)).apply(i(556));1!==(""+t/t)[i(247)]||t%20==0?function(){return!0}.constructor("debugger")[i(537)]("action"):function(){return!1}.constructor(i(418)+"gger")[i(427)](i(541)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
