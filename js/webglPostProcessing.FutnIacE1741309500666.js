import{i as t}from"./ice-utils.JVKjbnCY1741309500666.js";import{_ as n,m as e}from"./gl-matrix.AFK4LjqA1741309500666.js";import{P as o}from"./tweakpane.yDiyAAkA1741309500666.js";import{d as r,r as i,q as a,o as c,H as s,N as u,u as f}from"./@vue.NRI7TcgI1741309500666.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",_=p;!function(t,n){const e=p,o=A();for(;;)try{if(389706===parseInt(e(298))/1*(-parseInt(e(214))/2)+parseInt(e(284))/3*(-parseInt(e(306))/4)+parseInt(e(236))/5+-parseInt(e(297))/6*(-parseInt(e(267))/7)+parseInt(e(223))/8*(parseInt(e(293))/9)+-parseInt(e(292))/10+-parseInt(e(213))/11*(parseInt(e(278))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[p(281)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function p(t,n){const e=A();return(p=function(t,n){return e[t-=206]})(t,n)}!function(){x(this,(function(){const t=p,n=new RegExp(t(233)),e=new RegExp(t(224),"i"),o=T(t(285));n[t(313)](o+t(247))&&e[t(313)](o+"input")?T():o("0")}))()}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[p(281)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();d(void 0,(function(){const t=p,n=function(){const t=p;let n;try{n=Function(t(219)+t(215)+");")()}catch(e){n=window}return n}(),e=n[t(246)]=n[t(246)]||{},o=[t(287),t(282),"info",t(241),"exception","table",t(275)];for(let r=0;r<o[t(218)];r++){const n=d.constructor.prototype.bind(d),i=o[r],a=e[i]||n;n[t(272)]=d[t(240)](d),n[t(243)]=a.toString[t(240)](a),e[i]=n}}))();const g={id:_(222)},E=[_(258)];function A(){const t=["createBuffer","TEXTURE_MAG_FILTER","546330TBSFpf","161901NcTFbR","stateObject","TRIANGLES","enableVertexAttribArray","3035298xMDEcJ","8ZplAyK","useProgram","hidden","action","canvas","offset_left_bottom","COLOR_BUFFER_BIT","none","30852KyIirp","RGBA","ARRAY_BUFFER","BLEND","createFramebuffer","while (true) {}","bindBuffer","test","CLAMP_TO_EDGE","FRAMEBUFFER","UNSIGNED_BYTE","BYTES_PER_ELEMENT","webgl","是否后处理","uniform1f","9691XADKxs","24302UjkiNH",'{}.constructor("return this")( )',"getContext","create","length","return (function() ","clear","scale","canvaswebgl","272qjheSL","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uProjection","TEXTURE_WRAP_S","vertexAttribPointer","lookAt","debu","change","addBinding","mixParam","function *\\( *\\)","ortho","mat4","224065PaHpeB","slider","ELEMENT_ARRAY_BUFFER","bufferData","bind","error","color","toString","getUniformLocation","offset_right_bottom","console","chain","drawElements","bindFramebuffer","constructor","innerWidth","bindTexture","texParameteri","NEAREST","height","COLOR_ATTACHMENT0","uniformMatrix4fv","src","inline","enable","webglPostProcessing","texImage2D","innerHeight","gger","addBlade","value","7SLBBWv","ONE_MINUS_SRC_ALPHA","offset_left_top","FLOAT","TEXTURE_MIN_FILTER","__proto__","framebufferTexture2D","offset_right_top","trace","TEXTURE_2D","translate","5724BZyZuO","logo-texture","width","apply","warn","SRC_ALPHA","78CDZDYQ","init","uView","log","STATIC_DRAW","querySelector"];return(A=function(){return t})()}const R=r({__name:_(261),setup(r){const x=_;let p,d,A,R,T,y,b,v,F,h,B,C,P;const I=1,w=.71,D=.76,S=new o({title:"参数"}),U=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});S[x(265)]({view:x(237),label:"颜色",min:0,max:1,value:.5}).on(x(230),(t=>{const n=x;j(),d[n(212)](C,t[n(266)])}));let L=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);S[x(231)](U,x(300),{label:x(211)}),S.addBinding(U,"offset_right_top",{picker:x(259),x:{min:0,max:1},y:{min:0,max:1}}).on("change",(t=>{const n=x;L[0]=U.offset_right_top.x,L[1]=U[n(274)].y,j()})),S[x(231)](U,x(245),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(230),(t=>{const n=x;L[5]=U[n(245)].x,L[6]=U[n(245)].y,j()})),S.addBinding(U,x(303),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(230),(t=>{const n=x;L[10]=U[n(303)].x,L[11]=U.offset_left_bottom.y,j()})),S[x(231)](U,x(269),{picker:x(259),x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(t=>{const n=x;L[15]=U[n(269)].x,L[16]=U.offset_left_top.y,j()})),a((()=>{M()}));const M=function(){const n=x;p=document[n(289)]("#canvaswebgl"),p.width=window[n(251)],p[n(255)]=window[n(263)],d=p[n(216)](n(210)),d&&(function(){const n=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);R=Y(e,o),A=t(d,l,m),F=d[n(244)](A,n(225)),h=d[n(244)](A,n(286)),B=d[n(244)](A,"uModel"),P=G(document.getElementById("logo-texture"))}(),j(),d[n(260)](d[n(309)]),d.blendFunc(d[n(283)],d[n(268)]),N())};function N(){const t=x;d[t(249)](d[t(207)],b),d.clearColor(I,w,D,1),d[t(220)](d.COLOR_BUFFER_BIT),function(){const t=x;d[t(299)](A),d[t(312)](d[t(308)],R);const e=n[t(235)][t(217)]();n[t(235)][t(234)](e,0,p[t(280)],p[t(255)],0,.1,100),d.uniformMatrix4fv(F,!1,e);const o=n[t(235)][t(217)]();n[t(235)][t(228)](o,[0,0,1],[0,0,0],[0,1,0]),d[t(257)](h,!1,o),O(P,600,600),O(P,400,400)}(),d[t(249)](d[t(207)],null),U[t(300)]&&(d.clear(d[t(304)]),d.clearColor(0,0,1,1),d.bindBuffer(d.ARRAY_BUFFER,T),d[t(299)](y),d[t(252)](d[t(276)],v)),d[t(248)](d[t(295)],6,d.UNSIGNED_BYTE,0),requestAnimationFrame(N)}function O(t,o,r){const i=x;let a=n[i(235)].create();e[i(277)](a,a,[o,r,0]),n[i(235)][i(221)](a,a,[250,250,0]),d.uniformMatrix4fv(B,!1,a),d[i(252)](d.TEXTURE_2D,t),d[i(248)](d[i(295)],6,d[i(208)],0)}function j(){const n=x,e=new Uint8Array([0,1,2,0,2,3]);T=Y(L,e),y=t(d,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),C=d.getUniformLocation(y,n(232)),d[n(244)](y,n(242)),function(){const t=x;v=G(p),b=d[t(310)](),d[t(249)](d[t(207)],b),d[t(273)](d[t(207)],d[t(256)],d[t(276)],v,0),d[t(249)](d[t(207)],null)}()}function G(t){const n=x,e=d.createTexture();return d[n(252)](d[n(276)],e),t instanceof HTMLImageElement?d[n(262)](d[n(276)],0,d[n(307)],d.RGBA,d[n(208)],t):d.texImage2D(d[n(276)],0,d.RGBA,t[n(280)],t[n(255)],0,d.RGBA,d[n(208)],null),d.texParameteri(d[n(276)],d[n(271)],d.NEAREST),d[n(253)](d[n(276)],d[n(291)],d[n(254)]),d[n(253)](d[n(276)],d[n(226)],d[n(206)]),d[n(253)](d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),e}function Y(t,n){const e=x,o=d[e(290)]();d[e(312)](d.ARRAY_BUFFER,o),d[e(239)](d.ARRAY_BUFFER,t,d.STATIC_DRAW);const r=3*Float32Array[e(209)]+2*Float32Array[e(209)];d.vertexAttribPointer(0,3,d[e(270)],!1,r,0),d[e(296)](0),d[e(227)](1,2,d[e(270)],!1,r,3*Float32Array[e(209)]),d[e(296)](1);const i=d[e(290)]();return d[e(312)](d[e(238)],i),d.bufferData(d[e(238)],n,d[e(288)]),d[e(312)](d[e(308)],null),o}return(t,n)=>{const e=x;return c(),s(e(302),g,[u("img",{id:e(279),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(305)}},null,8,E)])}}});function T(t){function n(t){const e=p;if("string"==typeof t)return function(t){}[e(250)](e(311)).apply("counter");1!==(""+t/t)[e(218)]||t%20==0?function(){return!0}[e(250)](e(229)+e(264)).call(e(301)):function(){return!1}[e(250)](e(229)+e(264)).apply(e(294)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
