import{d as e,a as l,H as t,u as a,o as s,h as i,e as o,J as n,y as r,q as u,F as c,N as d,b as p,I as v,X as m,L as g,i as f,ah as h,G as b,s as w,w as A,P as y,R as k,v as C}from"./@vue.Co_gxueH1763540743861.js";import{a9 as x,Y as E,aa as P,ab as F,N as j,ac as z,$ as I,_ as Q,B as L,ad as R,ae as S,Z as _,af as M,b as B,G as D,H,ag as U,ah as q,ai as T,aj as K,ak as N,al as V,am as O}from"./@fesjs.BEMFm_yJ1763540743861.js";import{d as W,a as J}from"./utils.DNqecIFo1763540743861.js";import{F as X}from"./index.Crdf3MNx1763540743861.js";import{l as Y,a as Z}from"./initScript.DNQuCAzU1763540743861.js";import{B as G}from"./@vicons.DhSiG_AT1763540743861.js";import{u as $,b as ee}from"./vue-router.BxG8XxK11763540743861.js";import{i as le,S as te}from"./naive-ui.qjPOP62h1763540743861.js";import"./lodash-es.B7GkVYRo1763540743861.js";import"./@vueuse.CfFJ-iFV1763540743861.js";import"./pinia.CEQ6XgE61763540743861.js";import"./@qlin.y-0Z8WnK1763540743861.js";import"./@babel.BPq7uOAK1763540743861.js";import"./@floating-ui.Bhq4ibgf1763540743861.js";import"./@juggle.Vc7cP4_P1763540743861.js";import"./_virtual-empty-module.CfyHAoLP1763540743861.js";import"./three.rXKzP9fQ1763540743861.js";import"./@tresjs.BCHtwiaC1763540743861.js";import"./postprocessing.51l5tmA-1763540743861.js";import"./chalk.BHLFMujs1763540743861.js";/* empty css                                 */import"./iconify-icon.1JyQPtAK1763540743861.js";import"./@iconify.DDuAktjw1763540743861.js";import"./vite-plugin-qiankun.B06WoCqG1763540743861.js";import"./dompurify.C4MEnGDh1763540743861.js";import"./oimophysics.CfVKSiAm1763540743861.js";import"./three-stdlib.DJsODJ8R1763540743861.js";import"./@pmndrs.C5SFDEDA1763540743861.js";import"./object-hash.DlZNhpf61763540743861.js";import"./@amap.D8CfaEsq1763540743861.js";import"./crypto-js.CLP5yTup1763540743861.js";import"./tweakpane.CqZAnw7f1763540743861.js";import"./date-fns.eh-WGDI81763540743861.js";import"./@css-render.DtSd-BuN1763540743861.js";import"./css-render.Dlx27V_T1763540743861.js";import"./@emotion.DFFAhID71763540743861.js";import"./seemly.D2hUckm91763540743861.js";import"./vooks.CVMU_ROE1763540743861.js";import"./evtd.C4K_ichY1763540743861.js";import"./vueuc.CEvnhvIm1763540743861.js";import"./vdirs.DlTVi7SG1763540743861.js";import"./treemate.Qc8YxXqZ1763540743861.js";import"./date-fns-tz.CIz1xaH61763540743861.js";import"./async-validator.DJtlKCAR1763540743861.js";const ae={key:0},se={style:{width:"280px",height:"180px",display:"flex","justify-content":"center","align-items":"center"}},ie={class:"one-item-qrcode"},oe={class:"one-item-qrcode",style:{"border-left":"2px #a2a2a2 dashed"}},ne={key:1},re=e({__name:"oneImageQr",props:{onePreview:{default:{src:"",type:"",name:"",url:""}},onePlugin:{default:{}}},setup(e){const u=e,c=()=>{let e=u.onePreview.src;return e.startsWith("http")||(e="./"+e),e};let d=!0,p="https://oss.icegl.cn/#/plugins/",v="";u.onePreview.url?(p=u.onePreview.url,v=encodeURIComponent(function(e){let l=e.replace(/[\\\/:\*\?"<>\|]/g,"");return l.startsWith(".")&&(l="f"+l),l=l.replace(/[\x00-\x1F\x7F]/g,""),l.length>255&&(l=l.substring(0,255)),l}(p).slice(-16)),(u.onePreview.url.startsWith("https://www.icegl.cn/tvtstore/")||u.onePreview.url.startsWith("https://www.bilibili.com/"))&&(d=!1)):(u.onePlugin.pNode&&(p+=u.onePlugin.pNode+"/"),p+=u.onePlugin.name+"/",p+=u.onePreview.name+"/",v=encodeURIComponent((u.onePlugin.name+u.onePreview.name).slice(-16))),p=encodeURIComponent(p);let m=`https://www.icegl.cn/addons/tvt/mini/onePreview?urlPath=${p}`;m=encodeURIComponent(m);const g=l("https://www.icegl.cn/uploads/qrcode/b-"+v+".png"),f=l("https://www.icegl.cn/uploads/qrcode/m-"+v+".png"),h=e=>{fetch(`https://icegl.cn/addons/qrcode/index/show?text=${p}&logo=1&labelalignment=center&foreground=%23333333&background=%23ffffff&size=180&padding=1&logosize=30&errorcorrection=quartile&imgName=b-${v}`).then(e=>{e.text().then(e=>{g.value=e}).catch(e=>{console.error("Error fetching volume data:",e)})})},b=e=>{fetch(`https://icegl.cn/addons/qrcode/index/show?text=${m}&logo=1&labelalignment=center&foreground=%2300367b&background=%23ffffff&size=160&padding=1&logosize=30&errorcorrection=quartile&imgName=m-${v}`).then(e=>{e.text().then(e=>{f.value=e}).catch(e=>{console.error("Error fetching volume data:",e)})})},w=e=>document.querySelector("#right-page-list-id");return(e,l)=>a(d)?(s(),t("div",ae,[i(a(x),{mode:"popover",offset:-208,placement:"bottom",getContainer:w,disabled:"PC"!==a(W)()},{content:o(()=>[n("div",se,[n("div",ie,[i(a(E),{src:g.value,onError:h},{placeholder:o(()=>[...l[0]||(l[0]=[n("div",{class:"image-slot"},[n("div",{class:"image-slot"},[r("生成中"),n("span",{class:"dot"},"...")])],-1)])]),_:1},8,["src"]),l[1]||(l[1]=n("span",null,"H5移动端",-1))]),n("div",oe,[l[3]||(l[3]=n("span",null,"微信小程序",-1)),i(a(E),{src:f.value,onError:b},{placeholder:o(()=>[...l[2]||(l[2]=[n("div",{class:"image-slot"},[n("div",{class:"image-slot"},[r("生成中"),n("span",{class:"dot"},"...")])],-1)])]),_:1},8,["src"])])])]),default:o(()=>[i(a(E),{class:"w-full max-h-70 h-14em",fit:"contain",src:c(),lazy:""},null,8,["src"])]),_:1},8,["disabled"])])):(s(),t("div",ne,[i(a(E),{class:"w-full max-h-70 h-14em",fit:"contain",src:c(),lazy:""},null,8,["src"])]))}}),ue={style:{"text-decoration":"none",color:"black"}},ce=["innerHTML"],de={class:"flex flex-wrap flex-justify-start content-start mt-6 pl-6"},pe=["onClick"],ve={key:0,controls:"",class:"w-full max-h-70 h-14em"},me=["src"],ge={key:2,class:"w-full h-48 text-3 text-left mb-2",style:{"background-color":"rgb(55 56 61)",overflow:"hidden","border-radius":"10px"}},fe=["innerHTML"],he=["onClick"],be={href:"https://oss.icegl.cn/p/zone3Deditor/#/plugins/zone3Deditor/index",target:"_blank",class:"absolute bottom-11 right--3 no-underline z-99999"},we={class:"flex items-center gap-1 px-1 py-1 rounded-1 cursor-pointer text-xs font-medium text-blue shadow-lg bg-white/100 backdrop-blur-md border border-white/30 transition-all hover:bg-white/50"},Ae=Q(e({__name:"cardList",props:{onePlugin:{}},setup(e){const l=e,{menuSetup:f}=X();u(async()=>{await Y(),await Z()});const h=$(),b=(e,l)=>{uni.getEnv?uni.getEnv(t=>{if(t.miniprogram){const t=l?"https://oss.icegl.cn"+e:e;uni.navigateTo({url:"/pages/debugDemo/onePreview/onePreview?urlPath="+t})}else window.open(e,"_blank")}):window.open(e,"_blank")},w=(e,l,t=!1)=>{if(l.url)return b(l.url,!1);let a=`/plugins/${e.name}/${l.name}`;if(e.pNode&&(a=`/plugins/${e.pNode}/${e.name}/${l.name}`),t)return a="https://oss.icegl.cn/#"+a,b(a,!1);let s=h.resolve({path:a});return b(s.href,!0)},A=(e,l)=>f.value&&f.value[e.name]&&f.value[e.name][l]?"editor"===f.value[e.name][l].taglist?"":f.value[e.name][l].taglist_text:"",y=(e,l)=>f.value&&f.value[e.name]&&f.value[e.name][l]?f.value[e.name][l].taglist:"",k=(e,l)=>!!(f.value&&f.value[e.name]&&f.value[e.name][l])&&"editor"===f.value[e.name][l].taglist;return(e,u)=>(s(),t(c,null,[i(a(P),{titlePlacement:"left"},{default:o(()=>[r(d(e.onePlugin.title+" - "+e.onePlugin.name),1)]),_:1}),i(a(F),{vertical:""},{default:o(()=>[n("span",ue,[l.onePlugin.author?(s(),p(a(j),{key:0,class:"mt-[-24px] position-absolute right-[12px]",onClick:u[0]||(u[0]=l=>{return t=e.onePlugin.website,void window.open(t,"_blank");var t}),style:{color:"#0f1222",cursor:"pointer"},size:"small"},{default:o(()=>[i(a(z),{class:"position-relative top-[2px]"}),r(" 作者： "+d(l.onePlugin.author),1)]),_:1})):v("",!0)]),n("div",{class:"p-2 ml-13",style:{},innerHTML:l.onePlugin.intro},null,8,ce)]),_:1}),n("div",de,[(s(!0),t(c,null,m(e.onePlugin.preview,(r,m)=>(s(),t("div",{class:g(["w-80 mr-10 mb-10 relative",{"overflow-hidden":!k(l.onePlugin,r.name)}]),key:m},[e.onePlugin.waitForGit||r.waitForGit?(s(),t(c,{key:0},[A(l.onePlugin,r.name)?(s(),t("div",{key:0,class:g(["tag-sheared",y(l.onePlugin,r.name)])},d(A(l.onePlugin,r.name)),3)):v("",!0),i(a(I),{header:r.title,shadow:"hover"},{default:o(()=>[u[1]||(u[1]=n("div",{class:"w-full h-48 text-5 line-height-1.5em text-left mb-2 text-#5384ff",style:{"background-color":"rgb(55 56 61)",overflow:"hidden","border-radius":"10px"}},[n("div",{class:"p-2"},"官网已经更新样例功能，请git 更新代码!")],-1)),n("div",{class:"cursor-pointer text-right",style:{"margin-top":"6px","margin-bottom":"-8px"},onClick:e=>w(l.onePlugin,r,!0)}," 点击web端演示 ",8,pe)]),_:2},1032,["header"])],64)):(s(),t(c,{key:1},[A(l.onePlugin,r.name)?(s(),t("div",{key:0,class:g(["tag-sheared",y(l.onePlugin,r.name)])},d(A(l.onePlugin,r.name)),3)):v("",!0),i(a(I),{header:r.title,shadow:"hover"},{default:o(()=>["video"===r.type?(s(),t("video",ve,[n("source",{src:a("./")+r.src,type:"video/mp4",autoplay:"true",loop:"true"},null,8,me)])):"img"===r.type?(s(),p(re,{key:1,onePreview:r,onePlugin:e.onePlugin},null,8,["onePreview","onePlugin"])):"text"===r.type?(s(),t("div",ge,[n("div",{class:"p-2",style:{color:"white"},innerHTML:r.src},null,8,fe)])):v("",!0),n("div",{class:"cursor-pointer text-right",style:{"margin-top":"6px","margin-bottom":"-8px"},onClick:e=>w(l.onePlugin,r)}," 点击web端演示 ",8,he)]),_:2},1032,["header"]),k(l.onePlugin,r.name)?(s(),p(a(te),{key:1,trigger:"hover"},{trigger:o(()=>[n("a",be,[n("div",we,[i(a(le),{size:"16",class:"text-blue-500"},{default:o(()=>[i(a(G))]),_:1}),u[2]||(u[2]=n("span",null,"编辑器",-1))])])]),default:o(()=>[u[3]||(u[3]=n("span",null,"此组件已规范封装，供给于场景编辑器中，灵活使用，点击跳转直接编辑，导出源码包",-1))]),_:1})):v("",!0)],64))],2))),128))])],64))}}),[["__scopeId","data-v-86840064"]]),ye={class:"filterFixed"},ke=Q(e({__name:"filterComFixed",setup(e){const l=f("filterFixedInputValue"),n=f("menuSetupFilter");return(e,u)=>(s(),t("div",ye,[i(a(L),{modelValue:a(l),"onUpdate:modelValue":u[0]||(u[0]=e=>b(l)?l.value=e:null),class:"FInput-input",placeholder:"筛选关键字，如：城市",clearable:""},{prepend:o(()=>[...u[2]||(u[2]=[r(" 检索 ",-1)])]),suffix:o(()=>[i(a(R))]),_:1},8,["modelValue"]),i(a(S),{modelValue:a(n),"onUpdate:modelValue":u[1]||(u[1]=e=>b(n)?n.value=e:null)},{default:o(()=>[i(a(_),{value:"hot"},{default:o(()=>[...u[3]||(u[3]=[r(" 热 ",-1)])]),_:1}),i(a(_),{value:"new"},{default:o(()=>[...u[4]||(u[4]=[r(" 新 ",-1)])]),_:1}),i(a(_),{value:"recommend"},{default:o(()=>[...u[5]||(u[5]=[r(" 荐 ",-1)])]),_:1}),i(a(_),{value:"editor"},{default:o(()=>[...u[6]||(u[6]=[r(" 编辑器 ",-1)])]),_:1})]),_:1},8,["modelValue"]),u[7]||(u[7]=h('<a target="_black" href="https://gitee.com/ice-gl/icegl-three-vue-tres" data-v-43126133><img src="https://gitee.com/ice-gl/icegl-three-vue-tres/badge/star.svg?theme=dark" alt="gitee-starts" data-v-43126133></a><a href="https://github.com/hawk86104/three-vue-tres" target="_blank" data-v-43126133><img src="https://img.shields.io/github/stars/hawk86104/three-vue-tres" data-v-43126133></a><a href="https://github.com/hawk86104/three-vue-tres" target="_blank" data-v-43126133><img alt="GitHub last commit" src="https://img.shields.io/github/last-commit/hawk86104/three-vue-tres" data-v-43126133></a><a href="https://github.com/hawk86104/three-vue-tres" target="_blank" data-v-43126133><img src="https://img.shields.io/github/license/hawk86104/three-vue-tres" data-v-43126133></a><a target="_black" href="https://space.bilibili.com/410503457" data-v-43126133><img alt="bilibili" src="https://img.shields.io/badge/dynamic/json?url=https://api.bilibili.com/x/relation/stat?vmid=410503457&amp;query=data.follower&amp;color=282c34&amp;label=冰哥B站&amp;labelColor=FE7398&amp;logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAD7ElEQVR4nO2dW9WrMBCFK6ESkFAJSKiESqgEHCABCZWAhEpAAhL2ecik5dDc%2FpXLBDLfWnlqy0xmJ5BMQnq5CIIgCIIgCIIgCIIgCEIBAHQAemYfrgCunD6wAKAHsEKxALgx+bCQD8%2FS9tmgVqeDr1lLigDgZvDhXso+K9TyTBQRwRJ8AHjntl0Flh5QRAQK%2FmKxPeayWx2OXpBNBKiHvi34b7T2MC4pAvW6twR%2FRwkRKPizBN8CgEcuESj4Lwm+BwBjahEk+H8EwJRKhOaCDzW8e1JLfkUUH1NgmR3XmHffHR1l+72BSs8d7w8U+JDAnZERQMcV+CtUi7dNqFqibB4J7vtrq7xKCuAasbTMXCL4T+5aVk6+2xHUrWdhruAR6HIJcOeu2UHI8zyAe2ytWfEdWz9PVvQ8YAmIQ5dDAB9LFsMVAv8oMO2zAGrC5WNIarRiAuKR9jYEd9pY08aa6uUzIHGRdkgKd8pY0yc1WjEBAqypDYoAG0QAZkQAZkQAZkQAZk4vANQenjsSzS3I%2FwcSbXU5jQBUkRtdf4Rar90v8kSv3+I3ffCCSpk8I%2Fw+lgDkdI%2Fv2rEp2CaiWm1AsDQLlDAD+dlFXLMeAaCSeLZdaSFE5VUQNot38cKuEeBgAsSuG0flVZBmEanbXfNQAsS0fgBYIn2fIu3%2FBBMHEyBmDXlFfA8IzeHb+Ems4WAChKykrVA9ZfsQTL57jXzRg4A5wC%2FA8N4ADiZAZwm2XjW75Qh2KOTfA0p4kygPw28OJcCVgn3nDnYo2EwEYRgGH0qAMyICMCMCMCMCMCMCMCMCMCMCfP3qwHDOQ4AAUekTk8FaBRihJnZdYbvtCGC7LvmkM63GjVDINPFrQgCq5ETXfmMzI90FXzPvfqt7x4rEu%2FZaEcCUxFvgz2zO+BUn6UkoaEEAsptiMSX5e8FoRYCN7cVgb4Vq7U%2FH50Pq4JNP7Qiw8UFnJwcK+tXy+Wj6PLEvPgHSHv5UgwA1IQIwwyFAyLJin9RoxYgAzAQIkPwNmf26busC+OIx5TDqo5nDT+F%2FSS%2F9CYzwb+No49zNy2evkYv0LywGGAXUvp6eSneycqOic0w20k7CNgKE7jJunSGLACTCxF27ylmQc98T5MQUH49swd+I0HPXslLKnT0N+wnkrTKi9JZL%2FL9i1SorMmdeQ4TQQ7OFMxIMzGD45w8nUL1im7efENZLJpgPSw0pfz0cdt4U3230Td%2FTvx2R6d2FrHhEWLkq5PELOMsRPHCPnAZGv1xJteL7jbJiaW3sB2nDvPC%2FosSYvjRQz4cJ6n7KO3rYQL7M+L6nVtfDVRAEQRAEQRAEQRAEIZ5%2FSAXmdfXaoQsAAAAASUVORK5CYII%3D&amp;cacheSeconds=3600" data-v-43126133></a><a target="_black" href="https://space.bilibili.com/384558900" data-v-43126133><img alt="bilibili" src="https://img.shields.io/badge/dynamic/json?url=https://api.bilibili.com/x/relation/stat?vmid=384558900&amp;query=data.follower&amp;color=282c34&amp;label=地虎B站&amp;labelColor=FE7398&amp;logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAD7ElEQVR4nO2dW9WrMBCFK6ESkFAJSKiESqgEHCABCZWAhEpAAhL2ecik5dDc%2FpXLBDLfWnlqy0xmJ5BMQnq5CIIgCIIgCIIgCIIgCEIBAHQAemYfrgCunD6wAKAHsEKxALgx+bCQD8%2FS9tmgVqeDr1lLigDgZvDhXso+K9TyTBQRwRJ8AHjntl0Flh5QRAQK%2FmKxPeayWx2OXpBNBKiHvi34b7T2MC4pAvW6twR%2FRwkRKPizBN8CgEcuESj4Lwm+BwBjahEk+H8EwJRKhOaCDzW8e1JLfkUUH1NgmR3XmHffHR1l+72BSs8d7w8U+JDAnZERQMcV+CtUi7dNqFqibB4J7vtrq7xKCuAasbTMXCL4T+5aVk6+2xHUrWdhruAR6HIJcOeu2UHI8zyAe2ytWfEdWz9PVvQ8YAmIQ5dDAB9LFsMVAv8oMO2zAGrC5WNIarRiAuKR9jYEd9pY08aa6uUzIHGRdkgKd8pY0yc1WjEBAqypDYoAG0QAZkQAZkQAZkQAZk4vANQenjsSzS3I%2FwcSbXU5jQBUkRtdf4Rar90v8kSv3+I3ffCCSpk8I%2Fw+lgDkdI%2Fv2rEp2CaiWm1AsDQLlDAD+dlFXLMeAaCSeLZdaSFE5VUQNot38cKuEeBgAsSuG0flVZBmEanbXfNQAsS0fgBYIn2fIu3%2FBBMHEyBmDXlFfA8IzeHb+Ems4WAChKykrVA9ZfsQTL57jXzRg4A5wC%2FA8N4ADiZAZwm2XjW75Qh2KOTfA0p4kygPw28OJcCVgn3nDnYo2EwEYRgGH0qAMyICMCMCMCMCMCMCMCMCMCMCfP3qwHDOQ4AAUekTk8FaBRihJnZdYbvtCGC7LvmkM63GjVDINPFrQgCq5ETXfmMzI90FXzPvfqt7x4rEu%2FZaEcCUxFvgz2zO+BUn6UkoaEEAsptiMSX5e8FoRYCN7cVgb4Vq7U%2FH50Pq4JNP7Qiw8UFnJwcK+tXy+Wj6PLEvPgHSHv5UgwA1IQIwwyFAyLJin9RoxYgAzAQIkPwNmf26busC+OIx5TDqo5nDT+F%2FSS%2F9CYzwb+No49zNy2evkYv0LywGGAXUvp6eSneycqOic0w20k7CNgKE7jJunSGLACTCxF27ylmQc98T5MQUH49swd+I0HPXslLKnT0N+wnkrTKi9JZL%2FL9i1SorMmdeQ4TQQ7OFMxIMzGD45w8nUL1im7efENZLJpgPSw0pfz0cdt4U3230Td%2FTvx2R6d2FrHhEWLkq5PELOMsRPHCPnAZGv1xJteL7jbJiaW3sB2nDvPC%2FosSYvjRQz4cJ6n7KO3rYQL7M+L6nVtfDVRAEQRAEQRAEQRAEIZ5%2FSAXmdfXaoQsAAAAASUVORK5CYII%3D&amp;cacheSeconds=3600" data-v-43126133></a>',6))]))}}),[["__scopeId","data-v-43126133"]]),Ce={class:"absolute menuSelf"},xe={class:"flex h-full w-full"},Ee={style:{"background-color":"#0f1222"}},Pe={class:"flex absolute",style:{left:"1px","flex-direction":"column",top:"10px"}},Fe={class:"flex absolute badge-group"},je={class:"left-m-text"},ze={class:"flex absolute",style:{left:"1px","flex-direction":"column",top:"10px"}},Ie={class:"flex absolute badge-group"},Qe={class:"left-m-text"},Le={class:"flex absolute badge-group"},Re={class:"flex absolute badge-group"},Se={class:"flex absolute",style:{top:"3px",right:"30px"}},_e={class:"left-m-text"},Me={class:"flex absolute badge-group"},Be={class:"flex absolute badge-group"},De={class:"flex absolute",style:{top:"3px",right:"30px"}},He={class:"left-m-text"},Ue=Q(e({__name:"preview",setup(e){const f=window.layoutConfig.menus,h=e=>{if(console.log(e),e.value>=10){const l=Math.floor(e.value/10),t=e.value%10;window.location.assign(f[l].children[t].path)}else window.location.assign(f[e.value].path)},b=l([]),x=l({});x.value=J();const E=$(),P=e=>{"tvtPluginUrl"===e.value?window.open("https://www.icegl.cn/tvtstore","_blank"):"zoneEditorUrl"===e.value?window.open("https://www.icegl.cn/tvtstore/zone3Deditor","_blank"):(b.value[e.value]?.scrollIntoView({behavior:"smooth",block:"start"}),E.replace({hash:`#${e.value}`}))},F=ee();u(()=>{w(()=>{const e=F.hash,l=e.startsWith("#")?e.slice(1):e;l&&b.value[l]?.scrollIntoView({behavior:"smooth",block:"start"})})});const j=()=>{document.querySelector(".right-page-list")?.scrollTo({top:0,behavior:"smooth"})},z=l("");C("filterFixedInputValue",z);const I=(e,l)=>{if(!l)return R(S.value);const t={};for(const a in e)if(e.hasOwnProperty(a)){const s=e[a];if("object"==typeof s){if("basic"===a){const e=Object.values(I(s.child,l));e.length&&(t[a]={},Object.assign(t[a],s,{child:e}));continue}if(s.title&&s.title.toLocaleLowerCase().includes(l)||s.name&&s.name.toLocaleLowerCase().includes(l)){t[a]=s;continue}{const e=s.preview.filter(e=>e.name&&e.name.toLocaleLowerCase().includes(l)||e.title&&e.title.toLocaleLowerCase().includes(l));e.length>0&&(t[a]={...s,preview:e})}}}return t};let Q=l(x.value);A(z,e=>{Q.value=I(x.value,e.toLocaleLowerCase())});const{menuSetup:L}=X();function R(e){if(0===e.length)return x.value;const l={};return e.forEach(e=>{if(L.value)for(const t in L.value)if(L.value.hasOwnProperty(t))for(const a in L.value[t])if(L.value[t].hasOwnProperty(a)&&L.value[t][a].taglist===e&&x.value[t]?.preview){const e=x.value[t].preview.filter(e=>e.name===a);e&&(l[t]?l[t].preview=l[t].preview.concat(e):l[t]={...x.value[t],preview:e})}}),l}const S=l([]);C("menuSetupFilter",S),A(S,e=>{Q.value=R(e)});const _=e=>{const l={recommend:{show:!1,text:"荐"},new:{show:!1,text:"新"},hot:{show:!1,text:"热"},editor:{show:!1,text:"热"}};if(L.value&&L.value[e]){const t=L.value[e];for(const e in t)l[t[e].taglist].show=!0,"editor"===t[e].taglist&&(l[t[e].taglist].show=!1)}return l},Y=e=>void 0!==e.tvtstore?e.name.startsWith("zone")?"zoneEditor":"Tvtstore":"caseCenter",Z=()=>{const e={basic:0,case:0,tvtstore:0,zoneEditor:0};for(const l in Q.value)if(Q.value.hasOwnProperty(l))if("basic"===l)for(const t in Q.value[l].child)Q.value[l].child.hasOwnProperty(t)&&(e.basic+=Q.value[l].child[t].preview.length);else"Tvtstore"===Y(Q.value[l])?e.tvtstore+=Q.value[l].preview.length:"caseCenter"===Y(Q.value[l])?e.case+=Q.value[l].preview.length:"zoneEditor"===Y(Q.value[l])&&(e.zoneEditor+=Q.value[l].preview.length);return e},G=l(!1),le=()=>{G.value=!0};return(e,l)=>(s(),t(c,null,[n("div",Ce,[n("div",{class:"btn-just",onClick:le},[i(a(M))])]),i(a(U),{show:G.value,"onUpdate:show":l[0]||(l[0]=e=>G.value=e),placement:"top",title:"",onOk:l[1]||(l[1]=e=>G.value=!1)},{default:o(()=>[i(a(B),{mode:"vertical",collapsed:!1,inverted:"",onSelect:h},{default:o(()=>[(s(!0),t(c,null,m(a(f),(e,l)=>(s(),t(c,{key:l},[e.children?(s(),p(a(D),{key:0,value:l},{label:o(()=>[r(d(e.title),1)]),default:o(()=>[(s(!0),t(c,null,m(e.children,(e,t)=>(s(),p(a(H),{value:10*l+t},{label:o(()=>[r(d(e.title),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value"])):(s(),p(a(H),{key:1,value:l},{label:o(()=>[r(d(e.title),1)]),_:2},1032,["value"]))],64))),128))]),_:1})]),_:1},8,["show"]),n("div",xe,[n("div",Ee,[i(a(B),{mode:"vertical",expandTrigger:"click",defaultExpandAll:"PC"===a(W)(),collapsed:"PC"!==a(W)(),inverted:!0,onSelect:P},{default:o(()=>[i(a(D),{value:"1"},{icon:o(()=>[i(a(T))]),label:o(()=>[n("div",Pe,[i(a(q),{value:"AllFree",class:"tag-fbdge afree-tag",type:"success",size:"small"})]),l[2]||(l[2]=r(" 基础功能组件 ",-1)),i(a(q),{max:999,value:Z().basic,class:"count-fbdge big-cf",type:"primary",size:"small"},null,8,["value"])]),default:o(()=>[(s(!0),t(c,null,m(a(Q),(e,l)=>(s(),t(c,null,["basic"===l?(s(!0),t(c,{key:0},m(e.child,(e,l)=>(s(),p(a(H),{value:e.name},{label:o(()=>[n("div",Fe,[(s(!0),t(c,null,m(_(e.name),(e,l)=>(s(),t(c,null,[e.show?(s(),p(a(q),{key:0,value:e.text,class:"tag-fbdge",type:"primary",size:"small"},null,8,["value"])):v("",!0)],64))),256))]),n("span",je,d(e.title),1),i(a(q),{value:e.preview.length,class:"count-fbdge",type:"primary",size:"small"},null,8,["value"])]),_:2},1032,["value"]))),256)):v("",!0)],64))),256))]),_:1}),i(a(D),{value:"2"},{icon:o(()=>[i(a(K))]),label:o(()=>[n("div",ze,[i(a(q),{value:"AllFree",class:"tag-fbdge afree-tag",type:"success",size:"small"})]),l[3]||(l[3]=r(" 样例与组件 ",-1)),i(a(q),{max:999,value:Z().case,class:"count-fbdge big-cf",type:"primary",size:"small"},null,8,["value"])]),default:o(()=>[(s(!0),t(c,null,m(a(Q),(e,l)=>(s(),t(c,null,["basic"!==l&&"caseCenter"===Y(e)?(s(),p(a(H),{key:0,value:l},{label:o(()=>[n("div",Ie,[(s(!0),t(c,null,m(_(e.name),(e,l)=>(s(),t(c,null,[e.show?(s(),p(a(q),{key:0,value:e.text,class:"tag-fbdge",type:"primary",size:"small"},null,8,["value"])):v("",!0)],64))),256))]),n("span",Qe,d(e.title),1),i(a(q),{value:e.preview.length,class:"count-fbdge",type:"primary",size:"small"},null,8,["value"])]),_:2},1032,["value"])):v("",!0)],64))),256))]),_:1}),i(a(D),{value:"3"},{icon:o(()=>[i(a(N))]),label:o(()=>[l[4]||(l[4]=r("插件应用管理 ",-1)),i(a(q),{max:999,value:Z().tvtstore,class:"count-fbdge big-cf",type:"primary",size:"small"},null,8,["value"])]),default:o(()=>[i(a(H),{value:"tvtPluginUrl"},{label:o(()=>[n("div",Le,[i(a(q),{value:"tvtstore",class:"tag-fbdge",type:"danger",size:"small"})]),l[5]||(l[5]=n("span",{class:"left-m-text"},"插件应用市场",-1))]),_:1}),(s(!0),t(c,null,m(a(Q),(e,l)=>(s(),t(c,null,["basic"!==l&&"Tvtstore"===Y(e)?(s(),p(a(H),{key:0,value:l},{label:o(()=>[n("div",Re,["FREE"===e.tvtstore?(s(),p(a(q),{key:0,value:"free",class:"tag-fbdge afree-tag",type:"success",size:"small"})):v("",!0)]),n("div",Se,[i(a(q),{value:e.version,class:"tag-fbdge",type:"primary",size:"small"},null,8,["value"])]),n("span",_e,d(e.title),1),i(a(q),{value:e.preview.length,class:"count-fbdge",type:"primary",size:"small"},null,8,["value"])]),_:2},1032,["value"])):v("",!0)],64))),256))]),_:1}),i(a(D),{value:"4"},{icon:o(()=>[i(a(V))]),label:o(()=>[l[6]||(l[6]=r("区域场景编辑器 ",-1)),i(a(q),{max:999,value:Z().zoneEditor,class:"count-fbdge big-cf",type:"primary",size:"small"},null,8,["value"])]),default:o(()=>[i(a(H),{value:"zoneEditorUrl"},{label:o(()=>[n("div",Me,[i(a(q),{value:"zoneEditor",class:"tag-fbdge",type:"danger",size:"small"})]),l[7]||(l[7]=n("span",{class:"left-m-text"},"编辑器介绍",-1))]),_:1}),(s(!0),t(c,null,m(a(Q),(e,l)=>(s(),t(c,null,["basic"!==l&&"zoneEditor"===Y(e)?(s(),p(a(H),{key:0,value:l},{label:o(()=>[n("div",Be,["FREE"===e.tvtstore||"zone3Deditor"===e.name?(s(),p(a(q),{key:0,value:"free",class:"tag-fbdge afree-tag",type:"success",size:"small"})):v("",!0)]),n("div",De,[i(a(q),{value:e.version,class:"tag-fbdge",type:"primary",size:"small"},null,8,["value"])]),n("span",He,d(e.title),1),i(a(q),{value:e.preview.length,class:"count-fbdge",type:"primary",size:"small"},null,8,["value"])]),_:2},1032,["value"])):v("",!0)],64))),256))]),_:1})]),_:1},8,["defaultExpandAll","collapsed"])]),n("div",{id:"right-page-list-id",class:g(["overflow-scroll relative right-page-list",{"mt-10":"PC"===a(W)()}]),style:{height:"calc(100vh - 42px - 52px)",width:"100%"}},[y(i(ke,null,null,512),[[k,"PC"===a(W)()]]),(s(!0),t(c,null,m(a(Q),(e,l)=>(s(),t(c,{key:l},["basic"===l?(s(!0),t(c,{key:0},m(e.child,(e,l)=>(s(),t("div",{style:{"background-color":"#f1f1f2"},key:l,ref_for:!0,ref:l=>b.value[e.name]=l},[i(Ae,{onePlugin:e},null,8,["onePlugin"])]))),128)):v("",!0)],64))),128)),(s(!0),t(c,null,m(a(Q),(e,l)=>(s(),t(c,{key:l},["basic"!==l&&"caseCenter"===Y(e)?(s(),t("div",{key:0,style:{"background-color":"#f1f1f2"},ref_for:!0,ref:e=>b.value[l]=e},[i(Ae,{onePlugin:e},null,8,["onePlugin"])],512)):v("",!0)],64))),128)),(s(!0),t(c,null,m(a(Q),(e,l)=>(s(),t(c,{key:l},["basic"!==l&&"Tvtstore"===Y(e)?(s(),t("div",{key:0,style:{"background-color":"#f1f1f2"},ref_for:!0,ref:e=>b.value[l]=e},[i(Ae,{onePlugin:e},null,8,["onePlugin"])],512)):v("",!0)],64))),128)),(s(!0),t(c,null,m(a(Q),(e,l)=>(s(),t(c,{key:l},["basic"!==l&&"zoneEditor"===Y(e)?(s(),t("div",{key:0,style:{"background-color":"#f1f1f2"},ref_for:!0,ref:e=>b.value[l]=e},[i(Ae,{onePlugin:e},null,8,["onePlugin"])],512)):v("",!0)],64))),128)),i(a(O),{class:"toTop",onClick:j})],2)])],64))}}),[["__scopeId","data-v-100459df"]]);export{Ue as default};
