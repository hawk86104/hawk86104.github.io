import{a5 as t,bG as n,ak as r,C as o}from"./three.HHcT7YAr1718612273914.js";import{N as e}from"./@tresjs.W42D3qe_1718612273914.js";import{d as a,b as s,a3 as c,w as u,o as i,D as f,J as l,aj as p,ak as h}from"./@vue.CpOXM7bB1718612273914.js";!function(t,n){const r=v,o=g();for(;;)try{if(739377===-parseInt(r(488))/1*(parseInt(r(471))/2)+parseInt(r(452))/3+-parseInt(r(445))/4*(parseInt(r(483))/5)+parseInt(r(472))/6+parseInt(r(451))/7*(parseInt(r(469))/8)+-parseInt(r(436))/9*(parseInt(r(441))/10)+parseInt(r(450))/11)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[v(476)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function g(){const t=["__proto__","\n\t ","packing","exception","length","return (function() ","3378670KRdbwZ","\n       void main() {\n\t\t\t\t\t","trace","init","\n      \t","859xuziBl","worldpos_vertex","bind","stateObject","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","chain","while (true) {}","counter","common","45eGEQdj","console","table","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2671310CFsDNn","action","test","begin_vertex","8RgsMvw","constructor","function *\\( *\\)","debu","shadowmap_vertex","12469083OWnwBG","8234114MrMqlQ","2680944cazzKa","call","shadowmask_pars_fragment","ShaderChunk","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","\n          ","project_vertex","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","defaultnormal_vertex","prototype","info","log","lights_pars_begin","beginnormal_vertex","warn","gger","shadowmap_pars_fragment","8nNTDff","input","2498NvBpCS","7775328NPslTQ","shadowmap_pars_vertex","error",'{}.constructor("return this")( )',"apply"];return(g=function(){return t})()}function v(t,n){const r=g();return(v=function(t,n){return r[t-=430]})(t,n)}!function(){d(this,(function(){const t=v,n=new RegExp(t(447)),r=new RegExp(t(440),"i"),o=x(t(486));n[t(443)](o+t(432))&&r[t(443)](o+t(470))?x():o("0")}))()}();const m=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[v(476)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(482)+t(475)+");")()}catch(r){n=window}return n}(),r=n[t(437)]=n[t(437)]||{},o=[t(463),t(466),t(462),t(474),t(480),t(438),t(485)];for(let e=0;e<o.length;e++){const n=m[t(446)][t(461)][t(490)](m),a=o[e],s=r[a]||n;n[t(477)]=m[t(490)](m),n[t(439)]=s.toString[t(490)](s),r[a]=n}}))();const w=()=>{const r=v;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[r(455)][r(435)]+r(487)+n.bsdfs+r(487)+t[r(455)][r(473)]+r(484)+n[r(465)]+r(457)+t[r(455)][r(460)]+r(457)+n[r(444)]+r(457)+t[r(455)][r(458)]+r(457)+t[r(455)][r(489)]+"\n          "+t[r(455)][r(449)]+r(431)},_=()=>{const r=v;return r(459)+t[r(455)][r(435)]+"\n\t "+t[r(455)][r(479)]+r(478)+n.bsdfs+r(478)+n[r(464)]+r(478)+t[r(455)][r(468)]+r(478)+n[r(454)]+r(456)};function x(t){function n(t){const r=v;if("string"==typeof t)return function(t){}.constructor(r(433)).apply(r(434));1!==(""+t/t)[r(481)]||t%20==0?function(){return!0}[r(446)](r(448)+r(467))[r(453)](r(442)):function(){return!1}[r(446)](r(448)+r(467))[r(476)](r(430)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const I=j;!function(t,n){const r=j,o=M();for(;;)try{if(617238===parseInt(r(178))/1+parseInt(r(169))/2+parseInt(r(192))/3*(parseInt(r(214))/4)+-parseInt(r(219))/5+parseInt(r(213))/6*(-parseInt(r(180))/7)+-parseInt(r(182))/8*(-parseInt(r(211))/9)+parseInt(r(172))/10*(-parseInt(r(205))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const b=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[j(204)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=j,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=T(t(220));n[t(207)](o+t(187))&&r[t(207)](o+"input")?T():o("0")}))()}();const y=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[j(204)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();y(void 0,(function(){const t=j;let n;try{n=Function(t(184)+t(186)+");")()}catch(e){n=window}const r=n[t(202)]=n[t(202)]||{},o=["log","warn","info",t(201),t(209),t(188),"trace"];for(let a=0;a<o[t(191)];a++){const n=y[t(195)][t(212)][t(179)](y),e=o[a],s=r[e]||n;n.__proto__=y[t(179)](y),n[t(168)]=s[t(168)][t(179)](s),r[e]=n}}))();const S=[I(193)],C=[I(196)];function j(t,n){const r=M();return(j=function(t,n){return r[t-=168]})(t,n)}function M(){const t=["error","console","TresPlaneGeometry","apply","4129939RwUqPG","counter","test","color","exception","RepeatWrapping","207okSKvE","prototype","3684246oNrXpY","540676JpEaPC","stateObject","Color","merge","wrapS","2985985fjdqYR","init","#990","value","toString","894006MqWBWY","string","uniforms","20AKpxJM","debu","shadowColor","DoubleSide","size","while (true) {}","1057264CsrqDi","bind","14UFtwIU","tmRef","164392rqFlEN","#999","return (function() ","gger",'{}.constructor("return this")( )',"chain","table","action","edge","length","27TweftB","rotation-x","uColor","constructor","args","uShadowColor","UniformsUtils","wrapT","TresMesh"];return(M=function(){return t})()}const E=a({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:I(221)},shadowColor:{default:I(183)},edge:{default:.35}},async setup(n){const a=I;let d,g;const v=n,m=s(),{map:x}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x[a(218)]=x[a(199)]=t[a(210)];const b={uniforms:t[a(198)][a(217)]([r.lights,{uTexture:{type:"t",value:x},uColor:{value:new o(v[a(208)])},uShadowColor:{value:new o(v[a(174)])},fEdge:{type:"f",value:v[a(190)]}}]),side:t[a(175)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>v[a(190)]),(t=>{const n=a;b[n(171)].fEdge[n(222)]=t})),u((()=>v[a(208)]),(n=>{const r=a;b.uniforms[r(194)].value=new(t[r(216)])(v[r(208)])})),u((()=>v[a(174)]),(t=>{const n=a;b[n(171)][n(197)][n(222)]=new o(v[n(174)])})),(t,n)=>{const r=a;return i(),f(r(200),{ref_key:r(181),ref:m,"rotation-x":-Math.PI/2},[l(r(203),{args:v[r(176)]},null,8,C),l("TresShaderMaterial",p(h(b)),null,16)],8,S)}}});function T(t){function n(t){const r=j;if(typeof t===r(170))return function(t){}[r(195)](r(177))[r(204)](r(206));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(173)+r(185)).call(r(189)):function(){return!1}.constructor("debu"+r(185))[r(204)](r(215)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{E as _};
