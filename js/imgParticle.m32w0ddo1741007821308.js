import{a as t,o as n}from"./@tresjs.u6hJLBm41741007821308.js";import"./index.7rIW0qS81741007821308.js";import{P as o}from"./tweakpane.yDiyAAkA1741007821308.js";import{C as e,_ as r}from"./three.sBrYSCgq1741007821308.js";import{d as s,a3 as i,w as u,o as c,H as a,N as l,u as p,aj as f,ak as m,r as _,e as g,f as v,g as d,j as h,al as y,m as C}from"./@vue.NRI7TcgI1741007821308.js";import{_ as j}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.O0pogg8d1741007821308.js";import"./postprocessing.rsQjznIU1741007821308.js";import"./@vueuse.jd1Cg91M1741007821308.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.zZ28-0dF1741007821308.js";import"./all.three.VR_q9_2T1741007821308.js";import"./oimophysics.x0jH7fze1741007821308.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.KZHIOG6J1741007821308.js";import"./index.WJt0talp1741007821308.js";import"./three-stdlib.7G-ooWjg1741007821308.js";import"./@pmndrs.pRt0V6Fh1741007821308.js";import"./object-hash.W8rvIzEM1741007821308.js";import"./@amap.1goFCJT_1741007821308.js";import"./jszip.tXNnSWcU1741007821308.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.WvNheUB51741007821308.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.NROQEdkH1741007821308.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.SySKt1-U1741007821308.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.ffrKyDpX1741007821308.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.VuyKJkwz1741007821308.js";const w=S;function P(){const t=["getImageData","debu","3652523syeyMr","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2944615WhaBQQ","4736632hRbzMB","action","TresShaderMaterial","9620253ByHScg","uniforms","constructor","info","set","push","5199WpeDhy","1372BFiAbL","position","\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}","createElement","stateObject","return (function() ","customColor","console","prototype","exception","height","table","image","TresPoints","error","265578HcnPxJ","__proto__","log","#ff0000","2KaXIqq","counter","useCustomColor","warn","apply","width","imgParticleMesh","773569PZbmpS","AdditiveBlending","canvas","zPos","call","random","value","trace","getContext","bind","function *\\( *\\)","10qOCuVm","TresBufferGeometry","length","./logo.png","gger"];return(P=function(){return t})()}!function(t,n){const o=S,e=P();for(;;)try{if(689851===parseInt(o(280))/1*(parseInt(o(273))/2)+-parseInt(o(253))/3*(-parseInt(o(254))/4)+-parseInt(o(243))/5+-parseInt(o(269))/6+-parseInt(o(240))/7+-parseInt(o(244))/8+-parseInt(o(247))/9*(-parseInt(o(233))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const I=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[S(277)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){I(this,(function(){const t=S,n=new RegExp(t(232)),o=new RegExp(t(242),"i"),e=F("init");n.test(e+"chain")&&o.test(e+"input")?F():e("0")}))()}();const b=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[S(277)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();b(void 0,(function(){const t=S;let n;try{n=Function(t(259)+'{}.constructor("return this")( ));')()}catch(r){n=window}const o=n[t(261)]=n[t(261)]||{},e=[t(271),t(276),t(250),t(268),t(263),t(265),t(229)];for(let s=0;s<e[t(235)];s++){const n=b[t(249)][t(262)].bind(b),r=e[s],i=o[r]||n;n[t(270)]=b.bind(b),n.toString=i.toString[t(231)](i),o[r]=n}}))();const z={position:[-8,10,-2],scale:.02},x=[w(255),"color_list"];function S(t,n){const o=P();return(S=function(t,n){return o[t-=225]})(t,n)}const T=s({__name:w(279),props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:w(272)}},async setup(n){const o=w;let s,_;const g=n,v=([s,_]=i((()=>t([o(236)]))),s=await s,_(),s),d=document[o(257)](o(282)),h=v.image[o(278)],y=v[o(266)][o(264)];d[o(278)]=h,d[o(264)]=y;const C=d[o(230)]("2d");null==C||C.drawImage(v.image,0,0);const j=null==C?void 0:C[o(238)](0,0,h,y).data,P=[],I=[];if(j)for(let t=0;t<y;t++)for(let n=0;n<h;n++){const e=4*(t*h+n);if(j[e+3]>0){const r=j[e]/255,s=j[e+1]/255,i=j[e+2]/255,u=100*Math[o(227)]();P[o(252)](n,-t,u),I[o(252)](r,s,i)}}const b=new Float32Array(P),S=new Float32Array(I),T={uniforms:{zPos:{value:g.zPos},useCustomColor:{value:g[o(275)]},customColor:{value:new e(g[o(260)])}},vertexShader:"\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}",fragmentShader:o(256),transparent:!0,depthTest:!1,blending:r[o(281)]};return u((()=>[g[o(225)],g[o(275)],g[o(260)]]),(([t,n,e])=>{const r=o;T.uniforms.zPos[r(228)]=t,T[r(248)][r(275)][r(228)]=n,T.uniforms[r(260)].value[r(251)](e)})),(t,n)=>{const e=o;return c(),a(e(267),z,[l(e(234),{position:[p(b),3],color_list:[p(S),3]},null,8,x),l(e(246),f(m(T)),null,16)])}}});function F(t){function n(t){const o=S;if("string"==typeof t)return function(t){}.constructor(o(241)).apply(o(274));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(239)+o(237))[o(226)](o(245)):function(){return!1}.constructor(o(239)+o(237))[o(277)](o(258)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function M(){const t=["action","__proto__","string","使用自定义颜色","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger",'{}.constructor("return this")( )',"addBinding","TresAmbientLight","warn","error","return (function() ","371192WzDTeO","69732EZzdTQ","zPos","419331yEPLux","while (true) {}","8028349oTmxuI","40hwfShM","24745BTleCv","126wKNtrD","TresPerspectiveCamera","apply","length","useCustomColor","debu","bind","自定义颜色","trace","imgParticle","15vDNFmQ","#050505","50818dpJPFT","13AoZXHZ","169980hvzVKb","chain","customColor","constructor","110oqZuzV","TresCanvas","test","18tDPnuR","console"];return(M=function(){return t})()}const A=Z;!function(t,n){const o=Z,e=M();for(;;)try{if(593862===-parseInt(o(290))/1*(parseInt(o(281))/2)+-parseInt(o(279))/3*(parseInt(o(261))/4)+-parseInt(o(268))/5*(parseInt(o(269))/6)+parseInt(o(266))/7+parseInt(o(267))/8*(parseInt(o(262))/9)+-parseInt(o(287))/10*(-parseInt(o(264))/11)+-parseInt(o(283))/12*(-parseInt(o(282))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const B=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[Z(271)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){B(this,(function(){const t=Z,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(297),"i"),e=R("init");n[t(289)](e+t(284))&&o[t(289)](e+"input")?R():e("0")}))()}();const D=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[Z(271)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Z(t,n){const o=M();return(Z=function(t,n){return o[t-=257]})(t,n)}D(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(260)+t(299)+");")()}catch(o){n=window}return n}(),o=n[t(291)]=n[t(291)]||{},e=["log",t(258),"info",t(259),"exception","table",t(277)];for(let r=0;r<e.length;r++){const n=D[t(286)].prototype[t(275)](D),s=e[r],i=o[s]||n;n[t(293)]=D[t(275)](D),n.toString=i.toString[t(275)](i),o[s]=n}}))();const E=s({__name:A(278),setup(t){const e=A,r={clearColor:e(280),antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=_({zPos:1,useCustomColor:!1,customColor:"#ff0000"}),u=new o({title:"参数"});return u.addBinding(i,e(263),{label:"厚度",min:.5,max:10,step:.5}),u[e(300)](i,e(273),{label:e(295)}),u[e(300)](i,e(285),{label:e(276)}),(t,o)=>{const u=e,a=g(u(288));return c(),v(a,C(r,{"window-size":""}),{default:d((()=>[o[0]||(o[0]=l(u(270),{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),h(p(n)),o[1]||(o[1]=l(u(257),{intensity:.5},null,-1)),(c(),v(y,null,{default:d((()=>[h(T,f(m(i)),null,16)])),_:1})),(c(),v(y,null,{default:d((()=>[h(p(j),C({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function R(t){function n(t){const o=Z;if(typeof t===o(294))return function(t){}[o(286)](o(265)).apply(o(296));1!==(""+t/t)[o(272)]||t%20==0?function(){return!0}[o(286)](o(274)+o(298)).call(o(292)):function(){return!1}[o(286)](o(274)+o(298))[o(271)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as default};
