import{_ as n,C as t,ai as r}from"./three.FyUEtfsR1741658416045.js";import{o,J as e,f as i}from"./@tresjs.W3PFJhMo1741658416045.js";import{P as s}from"./tweakpane.yDiyAAkA1741658416045.js";import{d as c,a2 as u,o as a,H as l,N as f,aj as d,ak as v,r as g,f as p,g as h,j as m,u as C,al as x,m as y}from"./@vue.NRI7TcgI1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";const w=D;!function(n,t){const r=D,o=W();for(;;)try{if(300814===-parseInt(r(429))/1*(parseInt(r(453))/2)+-parseInt(r(437))/3+-parseInt(r(422))/4+-parseInt(r(445))/5+-parseInt(r(419))/6*(-parseInt(r(420))/7)+parseInt(r(455))/8*(-parseInt(r(438))/9)+parseInt(r(451))/10*(parseInt(r(428))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const b=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[D(459)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){b(this,(function(){const n=D,t=new RegExp(n(468)),r=new RegExp(n(427),"i"),o=j("init");t[n(454)](o+n(442))&&r[n(454)](o+n(472))?j():o("0")}))()}();const T=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[D(459)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function W(){const n=["gger","538HYlWjn","test","8crgkrL","bind","uGridThickness","TresMesh","apply","crossThickness","call","TresShaderMaterial","uCrossColor","#ffffff","uCrossThickness","gridFloor","counter","function *\\( *\\)","error","while (true) {}","uFloorColor","input","action","debu","uniforms","prototype","3043422aGPMmP","7NkGVuQ","rotate-x","163860kjysRz","DoubleSide","uCross","gridColor","Color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","22EDpaFw","137fRlTnW","floorColor","log","table","gridThickness","crossColor","console","info","540828Lrxmuj","2133EjHgYA","length","TresPlaneGeometry","set","chain","toString","uGridColor","1802080TaWiCj","stateObject","constructor","trace","value","__proto__","2061620gNlAOc"];return(W=function(){return n})()}T(void 0,(function(){const n=D,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),r=t[n(435)]=t[n(435)]||{},o=[n(431),"warn",n(436),n(469),"exception",n(432),n(448)];for(let e=0;e<o[n(439)];e++){const t=T[n(447)][n(418)][n(456)](T),i=o[e],s=r[i]||t;t[n(450)]=T[n(456)](T),t[n(443)]=s.toString[n(456)](s),r[i]=t}}))();const k=[w(421)];function D(n,t){const r=W();return(D=function(n,t){return r[n-=417]})(n,t)}const I=c({__name:w(466),props:{gridColor:{default:"#c4d6ff"},gridThickness:{default:.02},crossColor:{default:"#7a91df"},crossThickness:{default:.02},uCross:{default:.2},floorColor:{default:w(464)}},setup(r){const o=w,e=r,i={vertexShader:"varying vec2 vUv;\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:"uniform float uGridThickness;\nuniform vec3 uGridColor;\nuniform float uCrossScale;\nuniform float uCrossThickness;\nuniform float uCross;\nuniform vec3 uCrossColor;\nuniform vec3 uFloorColor;\n\nvarying vec2 vUv;\n\nfloat gridFloor(vec2 uv, vec2 lineWidth) {\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    vec2 targetWidth = invertLine ? 1.0 - lineWidth : lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    \n    \n    \n    \n    vec2 gridUV = abs(fract(uv) * 2.0 - 1.0);\n    gridUV = invertLine ? gridUV : 1.0 - gridUV;\n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    grid2 = invertLine ? 1.0 - grid2 : grid2;\n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nfloat crossFloor(vec2 uv, float scale, float thickness, float crossIntensity) {\n    vec2 lineWidth = vec2(thickness);\n\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    \n    vec2 targetWidth = lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    float cutOffX = abs(fract(uv.y) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n    float cutOffY = abs(fract(uv.x) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n\n    \n    \n    \n    \n    \n    \n    \n    float uvX = abs(fract(uv.x) * 2.0 - 1.0) + cutOffX;\n    float uvY = abs(fract(uv.y) * 2.0 - 1.0) + cutOffY;\n    vec2 gridUV = vec2(uvX, uvY);\n\n    \n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    \n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nvoid main()\n{\n    vec2 lineWidth = vec2(uGridThickness);\n    \n    vec2 uv = vUv * 20.0;\n\n    \n    float grid = gridFloor(uv, lineWidth);\n    \n    vec3 gridColor = mix(uFloorColor, uGridColor, vec3(grid));\n\n    \n    float crossUv = crossFloor(uv, uCrossScale, uCrossThickness, uCross);\n    \n    vec3 gridColor2 = mix(gridColor, uCrossColor, vec3(crossUv));\n    \n    vec3 color =  gridColor2;\n\n    gl_FragColor = vec4(color, 1.0);\n}",side:n[o(423)],transparent:!0,uniforms:{uFloorColor:{value:new(n[o(426)])(e[o(430)])},uGridThickness:{value:e[o(433)]},uGridColor:{value:new t(e[o(425)])},uCrossThickness:{value:e[o(460)]},uCross:{value:e[o(424)]},uCrossColor:{value:new t(e[o(434)])}}};return u((()=>{const n=o;i[n(417)][n(471)][n(449)][n(441)](e[n(430)]),i[n(417)][n(444)][n(449)].set(e[n(425)]),i[n(417)][n(463)][n(449)][n(441)](e[n(434)]),i.uniforms[n(457)][n(449)]=e.gridThickness,i[n(417)][n(465)][n(449)]=e[n(460)],i[n(417)][n(424)].value=e[n(424)]})),(n,t)=>{const r=o;return a(),l(r(458),{"rotate-x":-Math.PI/2},[t[0]||(t[0]=f(r(440),{args:[10,10,32,32]},null,-1)),f(r(462),d(v(i)),null,16)],8,k)}}});function j(n){function t(n){const r=D;if("string"==typeof n)return function(n){}[r(447)](r(470))[r(459)](r(467));1!==(""+n/n)[r(439)]||n%20==0?function(){return!0}[r(447)]("debu"+r(452))[r(461)](r(473)):function(){return!1}[r(447)](r(474)+"gger")[r(459)](r(446)),t(++n)}try{if(n)return t;t(0)}catch(r){}}const A=_;function _(n,t){const r=G();return(_=function(n,t){return r[n-=491]})(n,t)}!function(n,t){const r=_,o=G();for(;;)try{if(187054===parseInt(r(510))/1*(parseInt(r(496))/2)+parseInt(r(530))/3*(-parseInt(r(548))/4)+-parseInt(r(514))/5+-parseInt(r(532))/6*(-parseInt(r(533))/7)+-parseInt(r(546))/8+-parseInt(r(526))/9*(parseInt(r(495))/10)+parseInt(r(519))/11*(parseInt(r(515))/12))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[_(499)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=_,t=new RegExp(n(536)),r=new RegExp(n(509),"i"),o=Y("init");t[n(547)](o+n(513))&&r[n(547)](o+"input")?Y():o("0")}))()}();const S=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function G(){const n=["328956yphGAe","14sBDVTS","prototype","floorColor","function *\\( *\\)","crossThickness","gger","neg-z.jpg","log","info","网格厚度","gridColor","__proto__","return (function() ","995640ykPCYJ","test","28IMiseW","while (true) {}","十字厚度","pos-y.jpg","toString","#000000","TresTorusKnotGeometry","#ffffff","10hKUVZD","8166yQFSAS","neg-y.jpg","十字颜色","apply","#ef57ff","trace","stateObject","warn","call","addBinding","neg-x.jpg","constructor","十字大小","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8dBlqzi","pos-z.jpg","bind","chain","1102620PfepDC","2196eDVxvP","地板颜色","网格颜色","length","62755WxtaHb","gridFloor",'{}.constructor("return this")( )',"action","TresMesh","uCross","console","2804391biogfc","gridThickness","string","#ff33ff","146871xaegGD","TresDirectionalLight"];return(G=function(){return n})()}S(void 0,(function(){const n=_;let t;try{t=Function(n(545)+n(521)+");")()}catch(e){t=window}const r=t[n(525)]=t[n(525)]||{},o=[n(540),n(503),n(541),"error","exception","table",n(501)];for(let i=0;i<o[n(518)];i++){const t=S[n(507)][n(534)].bind(S),e=o[i],s=r[e]||t;t[n(544)]=S.bind(S),t[n(491)]=s.toString[n(512)](s),r[e]=t}}))();const U=c({__name:A(520),setup(n){const t=A,c=g({alpha:!0,toneMapping:r,windowSize:!0,clearColor:3355443}),u=g({enableDamping:!0,autoRotate:!1}),l=g({gridColor:t(494),crossColor:t(500),floorColor:t(492),gridThickness:.02,crossThickness:.03,uCross:.29}),w=new s;return w.addBinding(l,t(543),{label:t(517)}),w[t(505)](l,t(527),{label:t(542),min:.01,max:1,step:.01}),w[t(505)](l,"crossColor",{label:t(498)}),w.addBinding(l,t(537),{label:t(550),min:.01,max:1,step:.01}),w[t(505)](l,t(524),{label:t(508),min:.01,max:1,step:.01}),w[t(505)](l,t(535),{label:t(516)}),(n,r)=>{const s=t;return a(),p(C(i),y(c,{"window-size":""}),{default:h((()=>[r[0]||(r[0]=f("TresPerspectiveCamera",{position:[6,6,6],fov:45,near:.1,far:1e3},null,-1)),m(C(o),d(v(u)),null,16),r[1]||(r[1]=f("TresAmbientLight",{intensity:.5},null,-1)),r[2]||(r[2]=f(s(531),{position:[15,15,15],intensity:1},null,-1)),r[3]||(r[3]=f(s(523),{position:[0,.5,0],scale:.2},[f(s(493),{args:[1,.35,100,32]}),f("TresMeshStandardMaterial",{color:s(529),roughness:0,metalness:1})],-1)),m(I,d(v(l)),null,16),(a(),p(x,null,{default:h((()=>[m(C(e),{files:["pos-x.jpg",s(506),s(551),s(497),s(511),s(539)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)}}});function Y(n){function t(n){const r=_;if(typeof n===r(528))return function(n){}.constructor(r(549))[r(499)]("counter");1!==(""+n/n)[r(518)]||n%20==0?function(){return!0}[r(507)]("debu"+r(538))[r(504)](r(522)):function(){return!1}.constructor("debu"+r(538))[r(499)](r(502)),t(++n)}try{if(n)return t;t(0)}catch(r){}}export{U as default};
