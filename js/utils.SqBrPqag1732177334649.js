import"./@fesjs.jFXTKHIV1732177334649.js";import{_ as t}from"./jszip.LcW-vLxa1732177334649.js";import{F as n}from"./file-saver.Qc8sWQ5Z1732177334649.js";import{_ as e}from"./three.rV-MfnQb1732177334649.js";const s=p;!function(t,n){const e=p,s=m();for(;;)try{if(240708===parseInt(e(231))/1*(parseInt(e(203))/2)+parseInt(e(226))/3+parseInt(e(224))/4*(parseInt(e(168))/5)+-parseInt(e(259))/6*(parseInt(e(229))/7)+parseInt(e(209))/8*(-parseInt(e(250))/9)+parseInt(e(169))/10+parseInt(e(236))/11)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const o=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[p(228)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){o(this,(function(){const t=p,n=new RegExp(t(179)),e=new RegExp(t(221),"i"),s=d(t(235));n.test(s+"chain")&&e.test(s+t(199))?d():s("0")}))()}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[p(228)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function a(t){const n=s,o=new(e[n(256)]);return new Promise(((e,s)=>{o[n(213)](t,(t=>e(JSON.parse(t))),void 0,(t=>s(t)))}))}async function i(t){const n=s,o=new(e[n(256)]);return new Promise(((e,r)=>{const a=n;o[a(195)]("blob"),o[a(213)](t,(n=>{const o=a,i=new FileReader;i[o(216)]=()=>{const n=o,r=function(t){const n=s,e=t[n(222)](".").pop()[n(190)]();return{jpg:n(189),jpeg:"image/jpeg",png:n(257),gif:n(247),bmp:n(176),webp:"image/webp"}[e]||n(234)}(t),a=i[n(205)].split(",")[1];e(n(223)+r+n(196)+a)},i[o(215)]=t=>{r(t)},i[o(178)](n)}),void 0,(t=>r(t)))}))}r(void 0,(function(){const t=p;let n;try{n=Function(t(167)+t(248)+");")()}catch(o){n=window}const e=n.console=n.console||{},s=[t(252),t(210),t(171),"error",t(172),t(212),t(251)];for(let a=0;a<s[t(211)];a++){const n=r.constructor.prototype.bind(r),o=s[a],i=e[o]||n;n[t(185)]=r[t(200)](r),n.toString=i.toString[t(200)](i),e[o]=n}}))(),e[s(173)].enabled=!0;const c=n=>{const o=s,r=new(e[o(256)]);return r[o(195)](o(219)),new Promise(((e,s)=>{const a=o;r[a(213)](n,(async n=>{const s=a;e(await t[s(246)](n))}),void 0,(t=>s(t)))}))},u=t=>{const n=s,e=t.substring(0,15),o=n(198),r=n(255),a=n(183),i=n(242),c=n(214),u=n(188);return o[n(261)](e)||r.startsWith(e)?n(192):a.startsWith(e)||"data:image/PNG;base64,"[n(261)](e)?n(186):i.startsWith(e)||"data:image/GIF;base64,"[n(261)](e)?"GIF":c.startsWith(e||u[n(261)](e))?n(180):n(177)};function p(t,n){const e=m();return(p=function(t,n){return e[t-=166]})(t,n)}const l=e=>{const o=s,r=[];e[o(233)][o(194)]&&e.scene.geometries[o(202)]((t=>{const n=o;t[n(166)]===n(260)&&(r[n(220)]({uuid:t[n(208)],data:t[n(204)]}),t.data="url:geometries/"+t[n(208)]+n(241))}));const a=[];e.scene[o(238)]&&e[o(233)][o(238)][o(202)]((t=>{const n=o;t.url&&(a[n(220)]({uuid:t[n(208)],url:t[n(225)]}),t.url[n(166)]?t.url="url:images/"+t[n(208)]+"."+t[n(225)][n(166)]+n(241):t[n(225)]=n(187)+t[n(208)]+"."+u(t[n(225)]))}));const i=new t;if(r[o(211)]){const t=i[o(237)](o(194));r[o(202)]((n=>{const e=o;t[e(175)](n.uuid+".json",JSON[e(181)](n.data))}))}if(a[o(211)]){const t=i[o(237)]("images");a.forEach((n=>{const e=o;n.url[e(166)]?t[e(175)](n[e(208)]+"."+n[e(225)][e(166)]+e(241),JSON[e(181)](n[e(225)])):t[e(175)](n[e(208)]+"."+u(n[e(225)]),n[e(225)].split(e(196))[e(245)](),{base64:!0})}))}const c=JSON[o(181)](e);return i[o(175)](o(182),c),i[o(170)]({type:o(219)})[o(253)]((t=>{const e=o;n.saveAs(t,e(258))}))},f=(t,n,e)=>{const o=s;t[o(194)]<=0&&t[o(238)]<=0&&e(n)},g=(n,e)=>{const o=s;let r=null;return t[o(246)](n)[o(253)]((t=>{const n=o;t[n(249)]["app.json"]?t[n(249)][n(182)][n(191)](n(184))[n(253)]((o=>{var a,i;const c=n;r=JSON[c(239)](o);const u=(t=>{var n,e;const o=s,r={geometries:0,images:0};return null==(n=t.scene.geometries)||n[o(202)]((t=>{const n=o;t[n(204)][n(261)](n(217))&&r[n(194)]++})),null==(e=t.scene[o(238)])||e[o(202)]((t=>{const n=o;t.url[n(261)](n(217))&&r.images++})),r})(r);f(u,r,e),null==(a=r[c(233)][c(194)])||a[c(202)]((n=>{const s=c;n[s(204)].startsWith(s(217))&&t.files[n[s(204)][s(232)](4)][s(191)](s(184))[s(253)]((t=>{const o=s;n[o(204)]=JSON[o(239)](t),u[o(194)]--,f(u,r,e)}))})),null==(i=r.scene.images)||i.forEach((n=>{const s=c;if(n[s(225)][s(261)]("url:")){const o=n[s(225)].slice(4);o[s(244)](s(241))?t.files[o][s(191)](s(184))[s(253)]((t=>{const o=s;n[o(225)]=JSON[o(239)](t),u.images--,f(u,r,e)})):t[s(249)][o].async(s(207))[s(253)]((t=>{const a=s,i=o.split("."),c=i[i.length-1][a(174)]();n[a(225)]=a(193)+c+";base64,"+t,u[a(238)]--,f(u,r,e)}))}}))})):console[n(230)](n(218))}),(t=>{const e=o;console[e(230)](n[e(254)]+": "+t[e(197)])})),r};function m(){const t=["toUpperCase","file","image/bmp","Unknown","readAsDataURL","function *\\( *\\)","WEBP","stringify","app.json","data:image/png;base64,","string","__proto__","PNG","url:images/","data:image/WEBP;base64,","image/jpeg","toLowerCase","async","JPEG","data:image/","geometries","setResponseType",";base64,","message","data:image/jpeg;base64,","input","bind","constructor","forEach","4pGrfmM","data","result","debu","base64","uuid","16SaGuJx","warn","length","table","load","data:image/webp;base64,","onerror","onloadend","url:","非标准文件：不存在 app.json","blob","push","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","split","data:","28476XXPiDW","url","530133jROnRx","catch","apply","389011kucLsp","error","179220zPiLmz","slice","scene","application/octet-stream","init","901791Vhogfl","folder","images","parse","stateObject",".json","data:image/gif;base64,","gger","endsWith","pop","loadAsync","image/gif",'{}.constructor("return this")( )',"files","1904103tvYGQd","trace","log","then","name","data:image/JPEG;base64,","FileLoader","image/png","config.zip","36tGccNV","BufferGeometry","startsWith","counter","type","return (function() ","210mYButH","811500YyXtlJ","generateAsync","info","exception","Cache"];return(m=function(){return t})()}function d(t){function n(t){const e=p;if(typeof t===e(184))return function(t){}[e(201)]("while (true) {}").apply(e(262));1!==(""+t/t)[e(211)]||t%20==0?function(){return!0}[e(201)](e(206)+e(243)).call("action"):function(){return!1}[e(201)](e(206)+e(243))[e(228)](e(240)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{c as a,i as b,l as e,u as g,g as i,a as l};
