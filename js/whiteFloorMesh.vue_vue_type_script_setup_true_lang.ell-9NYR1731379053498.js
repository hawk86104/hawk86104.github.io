import{bI as t,_ as n}from"./three.bXjbKLxC1731379053498.js";import{b as r}from"./@tresjs.bLKO3xyw1731379053498.js";import{d as o,b as e,a6 as s,w as a,o as c,D as u,J as i,aj as f,ak as l}from"./@vue.-THQH3GC1731379053498.js";!function(t,n){const r=g,o=v();for(;;)try{if(523183===parseInt(r(344))/1+parseInt(r(334))/2+parseInt(r(365))/3*(-parseInt(r(369))/4)+parseInt(r(381))/5*(parseInt(r(348))/6)+parseInt(r(338))/7*(-parseInt(r(363))/8)+-parseInt(r(377))/9+-parseInt(r(351))/10*(-parseInt(r(379))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const p=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){p(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=w(t(350));n[t(371)](o+t(361))&&r[t(371)](o+t(364))?w():o("0")}))()}();const h=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[g(367)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function g(t,n){const r=v();return(g=function(t,n){return r[t-=334]})(t,n)}h(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(354)+t(374)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(385)]||{},o=[t(370),"warn",t(357),t(368),t(343),t(373),t(355)];for(let e=0;e<o.length;e++){const n=h.constructor.prototype[t(386)](h),s=o[e],a=r[s]||n;n[t(349)]=h[t(386)](h),n.toString=a[t(346)][t(386)](a),r[s]=n}}))();const d=()=>{const r=g;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[r(345)]+r(384)+n[r(376)][r(366)]+r(384)+n[r(376)].shadowmap_pars_vertex+r(341)+n[r(376)].beginnormal_vertex+r(336)+t[r(340)]+r(336)+n[r(376)][r(375)]+r(336)+n[r(376)][r(383)]+"\n          "+n[r(376)][r(359)]+"\n          "+n[r(376)][r(347)]+r(352)},m=()=>{const r=g;return r(378)+n[r(376)][r(345)]+"\n\t "+n[r(376)][r(335)]+r(380)+n[r(376)].bsdfs+r(380)+n[r(376)].lights_pars_begin+"\n\t "+t[r(358)]+r(380)+n[r(376)][r(360)]+r(342)};function v(){const t=["error","1950596LJNaxd","log","test","gger","table",'{}.constructor("return this")( )',"begin_vertex","ShaderChunk","5106303qqvOQk","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","11UbitDt","\n\t ","1325vWeXzW","while (true) {}","project_vertex","\n      \t","console","bind","length","1079648Jojsya","packing","\n          ","constructor","14fBDxMJ","debu","defaultnormal_vertex","\n       void main() {\n\t\t\t\t\t","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","exception","485337EDsruu","common","toString","shadowmap_vertex","11838nakRMs","__proto__","init","6409590sbFkvy","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","call","return (function() ","trace","counter","info","shadowmap_pars_fragment","worldpos_vertex","shadowmask_pars_fragment","chain","stateObject","2443064rlRbzn","input","3nFcTsU","bsdfs","apply"];return(v=function(){return t})()}function w(t){function n(t){const r=g;if("string"==typeof t)return function(t){}.constructor(r(382))[r(367)](r(356));1!==(""+t/t)[r(387)]||t%20==0?function(){return!0}[r(337)](r(339)+r(372))[r(353)]("action"):function(){return!1}.constructor(r(339)+"gger")[r(367)](r(362)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const _=y;!function(t,n){const r=y,o=I();for(;;)try{if(696590===-parseInt(r(212))/1+-parseInt(r(213))/2*(-parseInt(r(222))/3)+parseInt(r(224))/4*(parseInt(r(196))/5)+parseInt(r(217))/6+-parseInt(r(191))/7+-parseInt(r(202))/8*(-parseInt(r(241))/9)+-parseInt(r(225))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const b=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[y(230)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=y,n=new RegExp(t(242)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=j(t(194));n.test(o+t(240))&&r[t(195)](o+t(238))?j():o("0")}))()}();const x=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[y(230)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function y(t,n){const r=I();return(y=function(t,n){return r[t-=191]})(t,n)}function I(){const t=["uniforms","shadowColor","#990","UniformsLib","counter","13216azvuNe","action","wrapT","gger","lights","info","value","warn","UniformsUtils","trace","74512EPIPYb","1052446fnrNTc","error","whiteFloorMesh","toString","1528512tAsTXa","tmRef","length","RepeatWrapping","stateObject","3PVVYJG","prototype","2880156WHWFyY","7926060pfZyRy","DoubleSide","Color","TresPlaneGeometry","while (true) {}","apply","debu","bind","string","return (function() ","constructor","args","log","input","color","chain","1044sJAVZQ","function *\\( *\\)","rotation-x","wrapS","edge","902566FQtEIm","exception","console","init","test","5HFUDLS"];return(I=function(){return t})()}x(void 0,(function(){const t=y;let n;try{n=Function(t(234)+'{}.constructor("return this")( ));')()}catch(e){n=window}const r=n[t(193)]=n[t(193)]||{},o=[t(237),t(209),t(207),t(214),t(192),"table",t(211)];for(let s=0;s<o[t(219)];s++){const n=x[t(235)][t(223)][t(232)](x),e=o[s],a=r[e]||n;n.__proto__=x.bind(x),n[t(216)]=a.toString[t(232)](a),r[e]=n}}))();const S=[_(243)],C=[_(236)],T=o({__name:_(215),props:{size:{default:[20,20]},color:{default:_(199)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(t){const o=_;let p,h;const g=t,v=e(),{map:w}=([p,h]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,h(),p);w[o(244)]=w[o(204)]=n[o(220)];const b={uniforms:n[o(210)].merge([n[o(200)][o(206)],{uTexture:{type:"t",value:w},uColor:{value:new(n[o(227)])(g.color)},uShadowColor:{value:new(n[o(227)])(g[o(198)])},fEdge:{type:"f",value:g[o(245)]}}]),side:n[o(226)],vertexShader:d(),fragmentShader:m(),lights:!0,transparent:!0};return a((()=>g[o(245)]),(t=>{const n=o;b[n(197)].fEdge[n(208)]=t})),a((()=>g[o(239)]),(t=>{const r=o;b[r(197)].uColor[r(208)]=new(n[r(227)])(g.color)})),a((()=>g[o(198)]),(t=>{const r=o;b[r(197)].uShadowColor[r(208)]=new(n[r(227)])(g[r(198)])})),(t,n)=>{const r=o;return c(),u("TresMesh",{ref_key:r(218),ref:v,"rotation-x":-Math.PI/2},[i(r(228),{args:g.size},null,8,C),i("TresShaderMaterial",f(l(b)),null,16)],8,S)}}});function j(t){function n(t){const r=y;if(typeof t===r(233))return function(t){}.constructor(r(229)).apply(r(201));1!==(""+t/t)[r(219)]||t%20==0?function(){return!0}[r(235)](r(231)+"gger").call(r(203)):function(){return!1}.constructor(r(231)+r(205))[r(230)](r(221)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{T as _};
