import{b_ as t,a0 as e,q as n,r}from"./three.KG2-8r0_1725245456099.js";import{N as o}from"./@tresjs.j5vdYITq1725245456099.js";import{R as s,b as i}from"./all.three.SEgg-d4C1725245456099.js";import{d as c,a4 as a,a1 as u,w as f,o as l,D as p,J as d,u as h}from"./@vue.Q1VpS3901725245456099.js";const m=w;!function(t,e){const n=w,r=y();for(;;)try{if(891395===-parseInt(n(508))/1*(-parseInt(n(493))/2)+-parseInt(n(520))/3+-parseInt(n(517))/4*(-parseInt(n(501))/5)+-parseInt(n(495))/6+parseInt(n(480))/7+-parseInt(n(515))/8*(-parseInt(n(507))/9)+parseInt(n(523))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(504)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function w(t,e){const n=y();return(w=function(t,e){return n[t-=474]})(t,e)}function y(){const t=["reflectorDUDV","99QyyKay","1213yUNEjQ","tReflectBlur","primitive","string","gger","wrapS","set","915944FrKacs","input","334652mTYmDX","error","console","4779330KkZpqY","scale","constructor","25189750GoBGQI","toString","while (true) {}","repeat","debu","value","reflectivity","length","function *\\( *\\)","showGridHelper","return (function() ","ignoreObjects","uniforms","__proto__","test","renderTargetUniform","2431954zoZjys","visible","isMesh","rotation","info","size","chain","table","add","action","tReflect","prototype","init","58LaFkRD","uReflectivity","10560930xieiCq","TresGroup","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","forEach","5BHrGZU","texture","bind","apply","update"];return(y=function(){return t})()}!function(){b(this,(function(){const t=w,e=new RegExp(t(531)),n=new RegExp(t(498),"i"),r=_(t(492));e[t(478)](r+t(486))&&n[t(478)](r+t(516))?_():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(504)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=w;let e;try{e=Function(t(474)+'{}.constructor("return this")( ));')()}catch(o){e=window}const n=e[t(519)]=e.console||{},r=["log",t(497),t(484),t(518),t(499),t(487),"trace"];for(let s=0;s<r[t(530)];s++){const e=g.constructor[t(491)][t(503)](g),o=r[s],i=n[o]||e;e[t(477)]=g[t(503)](g),e[t(524)]=i[t(524)].bind(i),n[o]=e}}))();const j=["scale"],v=["object"],I=["object"],x=c({__name:m(506),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:b}){const w=m;let y,g;const x=c,_=new s,R=new t(x[w(485)][0]-.5,x[w(485)][1]);R[w(481)]=x.showGridHelper;const{map:G}=([y,g]=a((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),y=await y,g(),y);G[w(513)]=e,G.wrapT=e,G[w(526)][w(514)](6,3);const z=new i({map:G,reflectivity:x[w(529)]});z.uniforms[w(490)]={value:_.renderTarget[w(502)]},z[w(476)][w(509)]=_[w(479)],z.uniforms.uMatrix=_.textureMatrixUniform;const M=new n(new r(x.size[0],x[w(485)][1]),z);return M[w(483)].x=-Math.PI/2,M[w(488)](_),M.onBeforeRender=(t,e,n)=>{const r=w;M[r(481)]=!1,x[r(475)][r(500)]((t=>{const e=r;t.isMesh&&(t.visible=!1),t[e(528)]&&t.value.isMesh&&(t[e(528)].visible=!1)})),_[r(505)](t,e,n),x.ignoreObjects[r(500)]((t=>{const e=r;t[e(482)]&&(t.visible=!0),t[e(528)]&&t[e(528)][e(482)]&&(t[e(528)].visible=!0)})),M[r(481)]=!0},u((()=>{const t=w;x[t(529)]&&(z.uniforms[t(494)].value=x[t(529)])})),f((()=>x[w(532)]),(t=>{R[w(481)]=t})),b({reflector:_}),(t,e)=>{const n=w;return l(),p(n(496),{scale:x[n(521)]},[d(n(510),{object:h(M),"position-y":-.01},null,8,v),d(n(510),{object:h(R)},null,8,I)],8,j)}}});function _(t){function e(t){const n=w;if(typeof t===n(511))return function(t){}[n(522)](n(525)).apply("counter");1!==(""+t/t)[n(530)]||t%20==0?function(){return!0}[n(522)]("debu"+n(512)).call(n(489)):function(){return!1}[n(522)](n(527)+"gger")[n(504)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
