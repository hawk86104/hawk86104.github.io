import{P as t}from"./tweakpane.yDiyAAkA1742297875262.js";import{e as n,o as e}from"./@tresjs.oW7bfow21742297875262.js";import{d as o,j as r,_ as s,r as i,w as c,o as a,H as u,N as l,aj as f,ak as p,e as h,f as d,g,u as y}from"./@vue.NRI7TcgI1742297875262.js";import{bS as x,_ as I,a3 as m,a0 as w}from"./three.N4lg2KsY1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";const b=H;!function(t,n){const e=H,o=T();for(;;)try{if(969601===-parseInt(e(392))/1*(parseInt(e(357))/2)+parseInt(e(389))/3*(-parseInt(e(412))/4)+-parseInt(e(403))/5+-parseInt(e(411))/6+-parseInt(e(368))/7*(-parseInt(e(372))/8)+-parseInt(e(362))/9*(parseInt(e(402))/10)+parseInt(e(394))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(410)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){_(this,(function(){const t=H,n=new RegExp(t(366)),e=new RegExp(t(396),"i"),o=E("init");n[t(382)](o+t(408))&&e.test(o+t(416))?E():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(410)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(){const t=["changeTarget","stroke","test","floor","globalCompositeOperation","lineTo","trace","path","log","66oLTajq","prototype","random","5lVvdaX","splice","67199396kPYTRP",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","strokeStyle","push","warn","error","translate","150DCOaCI","9307860BlEcHP","updateDist","length","hue","step","chain","angle","apply","9702684LiNGRK","342948HEOeHD","while (true) {}","updateAngle","__proto__","input","info","toString","fillRect","count","destination-out","target","beginPath","hsla(","debu","console","gger","409296SkJcoM",", 0%, 80%, ","rspeed","string","stateObject","38169AnOrfX","speed","shift","dist","function *\\( *\\)","sin","28bRXePh","life","bind","counter","2624640MtVwJU","draw","lineWidth","exception","constructor","cos","fillStyle","restore"];return(T=function(){return t})()}function v(t,n){return Math.random()*(n-t)+t}function j(t,n){const e=H;return Math[e(383)](t+Math[e(391)]()*(n-t+1))}M(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function("return (function() "+t(395)+");")()}catch(e){n=window}return n}(),e=n[t(355)]=n[t(355)]||{},o=[t(388),t(399),t(417),t(400),t(375),"table",t(386)];for(let r=0;r<o[t(405)];r++){const n=M[t(376)][t(390)][t(370)](M),s=o[r],i=e[s]||n;n[t(415)]=M[t(370)](M),n.toString=i[t(418)][t(370)](i),e[s]=n}}))();let R=0,A=0,S=null;let k=0;const O=[];let P=10;class z{constructor(){const t=H;this[t(387)]=[],this[t(359)]=v(1,2),this[t(420)]=j(10,30),this.x=R/2+1,this.y=A/2+1,this.target={x:R/2,y:A/2},this.dist=0,this[t(409)]=0,this[t(406)]=k/5,this[t(369)]=1,this.updateAngle(),this[t(404)]()}[b(407)](t){const n=b;this[n(363)]=this.rspeed*P,this.x+=Math[n(377)](this.angle)*this[n(363)],this.y+=Math[n(367)](this[n(409)])*this[n(363)],this[n(404)](),this[n(365)]<this[n(363)]&&(this.x=this[n(422)].x,this.y=this[n(422)].y,this[n(380)]()),this[n(387)][n(398)]({x:this.x,y:this.y}),this[n(387)][n(405)]>this[n(420)]&&this[n(387)][n(364)](),this[n(369)]-=.001,this.life<=0&&(this[n(387)]=null,O[n(393)](t,1))}[b(404)](){const t=b,n=this.target.x-this.x,e=this[t(422)].y-this.y;this[t(365)]=Math.sqrt(n*n+e*e)}[b(414)](){const t=b,n=this[t(422)].x-this.x,e=this[t(422)].y-this.y;this.angle=Math.atan2(e,n)}[b(380)](){const t=b;switch(j(0,3)){case 0:this[t(422)].y=this.y-30;break;case 1:this[t(422)].x=this.x+30;break;case 2:this[t(422)].y=this.y+30;break;case 3:this[t(422)].x=this.x-30}this[t(414)]()}[b(373)](){const t=b;S[t(352)]();const n=v(0,10);for(let o=0,r=this[t(387)][t(405)];o<r;o++)S[0===o?"moveTo":t(385)](this[t(387)][o].x+v(-n,n),this[t(387)][o].y+v(-n,n));let e=this.hue;e=30,S[t(397)]=t(353)+v(0,30)+t(358)+this.life/3+")",S[t(374)]=v(.1,2),S[t(381)]()}}const C=()=>{k%10==0&&O.push(new z),function(){const t=b;let n=O.length;for(;n--;)O[n][t(407)](n)}(),function(){const t=b;S.globalCompositeOperation=t(421),S[t(378)]="hsla(0, 0%, 10%, 0.1)",S[t(419)](0,0,R,A),S[t(384)]="lighter"}(),function(){const t=b;S.save(),S.translate(R/2,A/2),S[t(401)](-R/2,-A/2);let n=O[t(405)];for(;n--;)O[n][t(373)](n);S[t(379)]()}(),k++};function H(t,n){const e=T();return(H=function(t,n){return e[t-=352]})(t,n)}function E(t){function n(t){const e=H;if(typeof t===e(360))return function(t){}.constructor(e(413)).apply(e(371));1!==(""+t/t).length||t%20==0?function(){return!0}[e(376)]("debu"+e(356)).call("action"):function(){return!1}.constructor(e(354)+e(356))[e(410)](e(361)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function N(){const t=["string","counter","4206lRLcHm","stateObject","11537289nyrrxv","rotation-x","77628PmvMiN","37518WFmJSe","opacity","RepeatWrapping","set","wrapS","toString","9350152joXInl","158CeaAQL","gger","color","lightningPattern","1105HjOFaP","speed","table","constructor","trace","createElement","textureRepeat","test","init","8mvcaKJ","TresPlaneGeometry","exception","length","green","error","Color","args","TresMeshStandardMaterial","chain","needsUpdate","while (true) {}","3436cNWUNO","13229150ZqdxsO","TresMesh","bind","size","info","4741FtUfpM","7997BDPJMG","log","debu","wrapT","AdditiveBlending","prototype","__proto__","action","apply","warn"];return(N=function(){return t})()}const B=G;!function(t,n){const e=G,o=N();for(;;)try{if(709681===-parseInt(e(400))/1*(parseInt(e(368))/2)+parseInt(e(356))/3*(parseInt(e(393))/4)+parseInt(e(372))/5*(-parseInt(e(361))/6)+-parseInt(e(367))/7*(-parseInt(e(381))/8)+-parseInt(e(358))/9+-parseInt(e(394))/10+parseInt(e(399))/11*(parseInt(e(360))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(352)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=G,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(t(380));n[t(379)](o+t(390))&&e[t(379)](o+"input")?$():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=G;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n.console||{},o=[t(401),t(353),t(398),t(386),t(383),t(374),t(376)];for(let s=0;s<o[t(384)];s++){const n=D[t(375)][t(405)][t(396)](D),r=o[s],i=e[r]||n;n[t(350)]=D[t(396)](D),n[t(366)]=i[t(366)].bind(i),e[r]=n}}))();const F=[B(359)],Z=[B(388)];function G(t,n){const e=N();return(G=function(t,n){return e[t-=350]})(t,n)}const J=o({__name:B(371),props:{size:{default:[10,10]},color:{default:"#fff"},opacity:{default:.95},textureRepeat:{default:[1,1]},speed:{default:10}},setup(t){const e=B,o=t,h=r("canvas",{width:1024,height:768,style:{backgroundColor:e(385)}});s(h,document[e(377)]("div")),((t,n,e,o)=>{R=t,A=n,S=e,k=0,P=o;for(let r=0;r<10;r++)O.push(new z)})(1024,768,h.el.getContext("2d"),o.speed);const d=new x(h.el);d[e(365)]=I[e(363)],d[e(403)]=m,d.repeat[e(364)](o[e(378)][0],o.textureRepeat[1]);const g=i({color:o[e(370)],map:d,side:w,transparent:!0,opacity:o[e(362)],blending:I[e(404)],flatShading:!0,depthTest:!0});c((()=>o[e(370)]),(t=>{const n=e;g.color=new(I[n(387)])(t)})),c((()=>o[e(362)]),(t=>{g[e(362)]=t})),c((()=>o.speed),(t=>{var n;n=o[e(373)],P=n}));const{onLoop:y}=n();return y((()=>{const t=e;C(),d[t(391)]=!0})),(t,n)=>{const r=e;return a(),u(r(395),{"rotation-x":-Math.PI/2},[l(r(382),{args:o[r(397)]},null,8,Z),l(r(389),f(p(g)),null,16)],8,F)}}});function $(t){function n(t){const e=G;if(typeof t===e(354))return function(t){}.constructor(e(392))[e(352)](e(355));1!==(""+t/t)[e(384)]||t%20==0?function(){return!0}[e(375)](e(402)+e(369)).call(e(351)):function(){return!1}.constructor("debu"+e(369))[e(352)](e(357)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=W,o=X();for(;;)try{if(352873===parseInt(e(413))/1*(parseInt(e(432))/2)+-parseInt(e(434))/3*(-parseInt(e(446))/4)+parseInt(e(421))/5+parseInt(e(418))/6*(-parseInt(e(450))/7)+parseInt(e(435))/8*(parseInt(e(447))/9)+-parseInt(e(414))/10+-parseInt(e(442))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(445)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=X();return(W=function(t,n){return e[t-=408]})(t,n)}!function(){U(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(453),"i"),o=Q(t(415));n[t(436)](o+"chain")&&e[t(436)](o+"input")?Q():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(445)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["gger","2270150BLquNo","stateObject","console","info","return (function() ","#000000","TresAmbientLight","color","canvas地面","bind","addBinding","2950pSdQKB","constructor","436983HtQtHM","913688sxeDtl","test","透明度","exception","speed","#fff","while (true) {}","9327868rHlNUy","TresMeshNormalMaterial","string","apply","4pxGaAR","36rOWjTi","counter","#1a79fe","1946VmdzeT","TresDirectionalLight","TresPerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","TresCanvas","length","TresBoxGeometry",'{}.constructor("return this")( )',"debu","action","373IxAnBw","3063250SfNOYx","init","toString","prototype","2148tMJozj","call"];return(X=function(){return t})()}q(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(425)+t(410)+");")()}catch(e){n=window}return n}(),e=n[t(423)]=n.console||{},o=["log",t(454),t(424),"error",t(438),"table","trace"];for(let r=0;r<o[t(408)];r++){const n=q[t(433)][t(417)][t(430)](q),s=o[r],i=e[s]||n;n.__proto__=q[t(430)](q),n[t(416)]=i.toString[t(430)](i),e[s]=n}}))();const K=o({__name:"canvasFloor",setup(n){const o=W,s=i({color:o(449),opacity:.95,speed:10}),c=new t({title:o(429),expanded:!0});return c[o(431)](s,o(428),{label:"颜色"}),c[o(431)](s,"opacity",{label:o(437),min:0,max:1,step:.01}),c[o(431)](s,o(439),{label:"速度",min:0,max:20,step:1}),(t,n)=>{const i=o,c=h(i(455));return a(),d(c,{clearColor:i(426),"window-size":""},{default:g((()=>[n[0]||(n[0]=l(i(452),{position:[15,20,0],fov:45,near:.1,far:1e4},null,-1)),r(y(e),{enableDamping:"","auto-rotate":""}),n[1]||(n[1]=l(i(427),{intensity:6},null,-1)),n[2]||(n[2]=l(i(451),{position:[0,8,0],intensity:1,color:i(440)},null,-1)),n[3]||(n[3]=l("TresMesh",{position:[0,1,0]},[l(i(409),{args:[1,1,1]}),l(i(443))],-1)),r(J,f(p(s)),null,16),n[4]||(n[4]=l("TresAxesHelper",{args:[10],position:[0,0,0]},null,-1)),n[5]||(n[5]=l("TresGridHelper",{args:[10,10],position:[0,0,0]},null,-1))])),_:1})}}});function Q(t){function n(t){const e=W;if(typeof t===e(444))return function(t){}.constructor(e(441))[e(445)](e(448));1!==(""+t/t)[e(408)]||t%20==0?function(){return!0}[e(433)](e(411)+e(420))[e(419)](e(412)):function(){return!1}[e(433)](e(411)+e(420))[e(445)](e(422)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
