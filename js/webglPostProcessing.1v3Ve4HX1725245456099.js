import{i as t}from"./ice-utils.mm8CnbSO1725245456099.js";import{_ as n}from"./gl-matrix.AFK4LjqA1725245456099.js";import{P as e}from"./tweakpane.yHWGBmom1725245456099.js";import{d as o,r,q as i,o as a,D as c,J as s,u}from"./@vue.Q1VpS3901725245456099.js";const f="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",l="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}";function m(t,n){const e=d();return(m=function(t,n){return e[t-=212]})(t,n)}const _=m;function d(){const t=["hidden","clear","trace","img","offset_right_bottom","2421760jaQRnt","TEXTURE_WRAP_S","scale","src","texImage2D","querySelector","TEXTURE_2D","debu","inline","TEXTURE_MAG_FILTER","1021742nOslss","prototype","chain","COLOR_ATTACHMENT0","value","function *\\( *\\)","576145IXtBdT","framebufferTexture2D","createBuffer","TRIANGLES","height","webglPostProcessing","while (true) {}","是否后处理","log","offset_left_top","blendFunc","addBinding","canvas","innerHeight","change","getContext","CLAMP_TO_EDGE","translate","bind","bindBuffer","texParameteri","lookAt","apply","innerWidth","drawElements","none","gger","counter","RGBA","#canvaswebgl","offset_left_bottom","352424uXxRvz","offset_right_top","BYTES_PER_ELEMENT","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","ARRAY_BUFFER","warn","bindFramebuffer","18050328HvPxIe","TEXTURE_WRAP_T","SRC_ALPHA","exception","1604412MUwqlO","COLOR_BUFFER_BIT","return (function() ","useProgram","create","70AXJKIT","getUniformLocation","action","color","UNSIGNED_BYTE","uniform1f","getElementById","vertexAttribPointer","enableVertexAttribArray","3kbqRDj","init","STATIC_DRAW","string","BLEND","uView","stateObject","addBlade","info","ELEMENT_ARRAY_BUFFER","bindTexture","bufferData","__proto__","console","80428dVPkRd","uniformMatrix4fv","canvaswebgl","mat4","width","constructor","FLOAT","slider","table","webgl","clearColor","logo-texture","toString","FRAMEBUFFER"];return(d=function(){return t})()}!function(t,n){const e=m,o=d();for(;;)try{if(293815===parseInt(e(241))/1+parseInt(e(235))/2+-parseInt(e(297))/3*(-parseInt(e(311))/4)+parseInt(e(225))/5+parseInt(e(283))/6+parseInt(e(288))/7*(parseInt(e(272))/8)+-parseInt(e(279))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(263)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){x(this,(function(){const t=m,n=new RegExp(t(240)),e=new RegExp(t(275),"i"),o=A(t(298));n.test(o+t(237))&&e.test(o+"input")?A():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(263)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=m;let n;try{n=Function(t(285)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(310)]=n.console||{},o=[t(249),t(277),t(305),"error",t(282),t(214),t(222)];for(let i=0;i<o.length;i++){const n=E[t(316)][t(236)][t(259)](E),r=o[i],a=e[r]||n;n[t(309)]=E[t(259)](E),n.toString=a[t(218)].bind(a),e[r]=n}}))();const g={id:_(313)},p=[_(228)],T=o({__name:_(246),setup(o){const m=_;let d,x,E,T,A,R,b,y,v,h,F,P,w;const C=1,I=.71,B=.76,U=new e({title:"参数"}),S=r({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});U[m(304)]({view:m(213),label:"颜色",min:0,max:1,value:.5}).on(m(255),(t=>{const n=m;O(),x[n(293)](P,t[n(239)])}));let D=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);U[m(252)](S,m(220),{label:m(248)}),U[m(252)](S,m(273),{picker:m(233),x:{min:0,max:1},y:{min:0,max:1}}).on(m(255),(t=>{const n=m;D[0]=S[n(273)].x,D[1]=S.offset_right_top.y,O()})),U[m(252)](S,m(224),{picker:m(233),x:{min:-1,max:1},y:{min:-1,max:1}}).on(m(255),(t=>{const n=m;D[5]=S[n(224)].x,D[6]=S[n(224)].y,O()})),U[m(252)](S,m(271),{picker:m(233),x:{min:-1,max:1},y:{min:-1,max:1}}).on(m(255),(t=>{const n=m;D[10]=S[n(271)].x,D[11]=S[n(271)].y,O()})),U.addBinding(S,"offset_left_top",{picker:m(233),x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(t=>{const n=m;D[15]=S.offset_left_top.x,D[16]=S[n(250)].y,O()})),i((()=>{L()}));const L=function(){const n=m;d=document[n(230)](n(270)),d.width=window[n(264)],d.height=window[n(254)],x=d[n(256)](n(215)),x&&(function(){const n=m,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);T=j(e,o),E=t(x,f,l),v=x[n(289)](E,"uProjection"),h=x[n(289)](E,n(302)),F=x.getUniformLocation(E,"uModel"),w=X(document[n(294)]("logo-texture"))}(),O(),x.enable(x[n(301)]),x[n(251)](x[n(281)],x.ONE_MINUS_SRC_ALPHA),M())};function M(){const t=m;x[t(278)](x[t(219)],b),x[t(216)](C,I,B,1),x.clear(x[t(284)]),function(){const t=m;x[t(286)](E),x[t(260)](x[t(276)],T);const e=n[t(314)].create();n[t(314)].ortho(e,0,d[t(315)],d[t(245)],0,.1,100),x[t(312)](v,!1,e);const o=n[t(314)][t(287)]();n[t(314)][t(262)](o,[0,0,1],[0,0,0],[0,1,0]),x.uniformMatrix4fv(h,!1,o),N(w,600,600),N(w,400,400)}(),x[t(278)](x.FRAMEBUFFER,null),S[t(220)]&&(x[t(221)](x[t(284)]),x[t(216)](0,0,1,1),x[t(260)](x[t(276)],A),x.useProgram(R),x[t(307)](x[t(231)],y)),x.drawElements(x[t(244)],6,x[t(292)],0),requestAnimationFrame(M)}function N(t,e,o){const r=m;let i=n[r(314)].create();n[r(314)][r(258)](i,i,[e,o,0]),n[r(314)][r(227)](i,i,[250,250,0]),x[r(312)](F,!1,i),x[r(307)](x.TEXTURE_2D,t),x[r(265)](x.TRIANGLES,6,x[r(292)],0)}function O(){const n=m,e=new Uint8Array([0,1,2,0,2,3]);A=j(D,e),R=t(x,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),P=x[n(289)](R,"mixParam"),x[n(289)](R,n(291)),function(){const t=m;y=X(d),b=x.createFramebuffer(),x.bindFramebuffer(x[t(219)],b),x[t(242)](x[t(219)],x[t(238)],x.TEXTURE_2D,y,0),x[t(278)](x[t(219)],null)}()}function X(t){const n=m,e=x.createTexture();return x[n(307)](x[n(231)],e),t instanceof HTMLImageElement?x[n(229)](x[n(231)],0,x[n(269)],x.RGBA,x.UNSIGNED_BYTE,t):x[n(229)](x.TEXTURE_2D,0,x[n(269)],t[n(315)],t.height,0,x.RGBA,x[n(292)],null),x[n(261)](x[n(231)],x.TEXTURE_MIN_FILTER,x.NEAREST),x[n(261)](x[n(231)],x[n(234)],x.NEAREST),x[n(261)](x[n(231)],x[n(226)],x[n(257)]),x[n(261)](x[n(231)],x[n(280)],x.CLAMP_TO_EDGE),e}function j(t,n){const e=m,o=x[e(243)]();x[e(260)](x.ARRAY_BUFFER,o),x[e(308)](x[e(276)],t,x[e(299)]);const r=3*Float32Array[e(274)]+2*Float32Array.BYTES_PER_ELEMENT;x[e(295)](0,3,x[e(212)],!1,r,0),x.enableVertexAttribArray(0),x[e(295)](1,2,x[e(212)],!1,r,3*Float32Array[e(274)]),x[e(296)](1);const i=x.createBuffer();return x[e(260)](x[e(306)],i),x[e(308)](x[e(306)],n,x[e(299)]),x[e(260)](x[e(276)],null),o}return(t,n)=>{const e=m;return a(),c(e(253),g,[s(e(223),{id:e(217),src:u("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(266)}},null,8,p)])}}});function A(t){function n(t){const e=m;if(typeof t===e(300))return function(t){}[e(316)](e(247))[e(263)](e(268));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(267)).call(e(290)):function(){return!1}[e(316)](e(232)+"gger")[e(263)](e(303)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{T as default};
