var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.N4e8HhDS1734746792122.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.lDhdz_P01734746792122.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.Z2xL5Chm1734746792122.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as v,V as x,as as m}from"./three.1FILWcBb1734746792122.js";import{m as w,e as h}from"./@tresjs.vA_UT8oy1734746792122.js";import{u as g}from"./index.5EJM2L-T1734746792122.js";import{F as y,C as d}from"./three-stdlib.1ZAvCJOA1734746792122.js";import{d as S}from"./@vue.-THQH3GC1734746792122.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.S-n0nLMk1734746792122.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.e0bu2hHg1734746792122.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.l6Fck9j-1734746792122.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.06nnfEks1734746792122.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.hzuf3Ma31734746792122.js";const _=b;function P(){const t=["function *\\( *\\)","action","2225889iaFTWU","438246RBmtEF","counter","test","length","return (function() ","info",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"gger","7wkVhrW","40KdrzqO","2569704oGFErL",'{}.constructor("return this")( )',"exception","prototype","__proto__","input","54610wyulll","init","348NkTqip","call","toString","debu","console","515718JIrROc","string","1251630OIXMCg","4474664fYFthY","bind","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","stateObject"];return(P=function(){return t})()}!function(t,e){const n=b,i=P();for(;;)try{if(393330===-parseInt(n(176))/1+parseInt(n(188))/2+parseInt(n(178))/3+-parseInt(n(198))/4+parseInt(n(169))/5*(-parseInt(n(171))/6)+parseInt(n(196))/7*(parseInt(n(179))/8)+parseInt(n(187))/9*(parseInt(n(197))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function b(t,e){const n=P();return(b=function(t,e){return n[t-=168]})(t,e)}!function(){z(this,(function(){const t=b,e=new RegExp(t(185)),n=new RegExp(t(182),"i"),i=M(t(170));e[t(190)](i+"chain")&&n[t(190)](i+t(168))?M():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();I(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(192)+t(199)+");")()}catch(n){e=window}return e}(),n=e[t(175)]=e[t(175)]||{},i=["log","warn",t(193),"error",t(200),"table","trace"];for(let r=0;r<i[t(191)];r++){const e=I[t(183)][t(201)][t(180)](I),a=i[r],o=n[a]||e;e[t(202)]=I.bind(I),e[t(173)]=o[t(173)].bind(o),n[a]=e}}))();const E=_(194);function M(t){function e(t){const n=b;if(typeof t===n(177))return function(t){}[n(183)](n(181)).apply(n(189));1!==(""+t/t).length||t%20==0?function(){return!0}[n(183)](n(174)+n(195))[n(172)](n(186)):function(){return!1}[n(183)]("debu"+n(195)).apply(n(184)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=L;!function(t,e){const n=L,i=U();for(;;)try{if(142476===parseInt(n(298))/1+parseInt(n(291))/2+parseInt(n(306))/3+parseInt(n(283))/4+-parseInt(n(284))/5+-parseInt(n(292))/6*(-parseInt(n(287))/7)+parseInt(n(285))/8*(-parseInt(n(303))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[L(297)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(t,e){const n=U();return(L=function(t,e){return n[t-=274]})(t,e)}function U(){const t=["817632NJqXma","constructor","clone",'{}.constructor("return this")( )',"counter","prototype","while (true) {}","table","trace","chain","uniforms","log","call","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","toString","length","235728lDHLJA","485715MTUAHr","16FzJdTd","defines","965461YWPdyD","warn","action","exception","264552TeRbTw","12TcXAwf","bind","stateObject","test","gger","apply","185255EJYQmE","debu","error","__proto__","input","3083553gfaBma","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","function *\\( *\\)"];return(U=function(){return t})()}!function(){D(this,(function(){const t=L,e=new RegExp(t(305)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=j("init");e.test(i+t(276))&&n[t(295)](i+t(302))?j():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[L(297)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(t){const e=L,n=a({},t);return e(286)in t&&(n[e(286)]=a({},t.defines)),e(277)in t&&(n[e(277)]=s[e(308)](t.uniforms)),n}T(void 0,(function(){const t=L,e=function(){const t=L;let e;try{e=Function("return (function() "+t(309)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},i=[t(278),t(288),"info",t(300),t(290),t(274),t(275)];for(let r=0;r<i[t(282)];r++){const e=T.constructor[t(311)].bind(T),a=i[r],o=n[a]||e;e[t(301)]=T[t(293)](T),e[t(281)]=o.toString[t(293)](o),n[a]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:A(304)+E+A(280)};function j(t){function e(t){const n=L;if("string"==typeof t)return function(t){}[n(307)](n(312))[n(297)](n(310));1!==(""+t/t)[n(282)]||t%20==0?function(){return!0}.constructor(n(299)+"gger")[n(279)](n(289)):function(){return!1}[n(307)](n(299)+n(296)).apply(n(294)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const R=N;function k(){const t=["setClearAlpha","getRenderTarget","5DpHOjQ","1148xcVGfq","replace","copy","_mipQuad","_swapTarget","floorPowerOfTwo","length","12320oOkmpd","render","Y_IS_EVEN","type","height","string","9198112FoRUlA","value","uniforms","autoClear","console","floor","debu","getClearAlpha","parentLevel","trace","getClearColor","2442096ydDmRB","originalMapSize","fragmentShader","prototype","54KtnaRX","test","material","setViewOffset","set","apply","clear","width","info","camera","26389FRMIgf","53mhMvyq","function *\\( *\\)","image","bind","10630YkubBE","map","log","update","dispose","texture","defines","while (true) {}","minFilter","parentMapSize","973749evOFMV","chain","exception","X_IS_EVEN","error","gger","toString","_mipMaterials","1014018PhyEYl",'{}.constructor("return this")( )',"init","call","setRenderTarget","counter","__proto__","constructor","_copyQuad","isWebGLRenderTarget","setClearColor","magFilter"];return(k=function(){return t})()}!function(t,e){const n=N,i=k();for(;;)try{if(759995===parseInt(n(367))/1*(-parseInt(n(404))/2)+parseInt(n(381))/3+-parseInt(n(428))/4+parseInt(n(403))/5*(-parseInt(n(389))/6)+-parseInt(n(417))/7+parseInt(n(411))/8*(parseInt(n(432))/9)+-parseInt(n(371))/10*(-parseInt(n(366))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(361)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){F(this,(function(){const t=N,e=new RegExp(t(368)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Y(t(391));e[t(357)](i+t(382))&&n[t(357)](i+"input")?Y():i("0")}))()}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(361)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(t,e){const n=k();return(N=function(t,e){return n[t-=357]})(t,e)}H(void 0,(function(){const t=N,e=function(){const t=N;let e;try{e=Function("return (function() "+t(390)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(421)]||{},i=[t(373),"warn",t(364),t(385),t(383),"table",t(426)];for(let r=0;r<i[t(410)];r++){const e=H.constructor[t(431)][t(370)](H),a=i[r],o=n[a]||e;e[t(395)]=H[t(370)](H),e[t(387)]=o[t(387)][t(370)](o),n[a]=e}}))();const W=new l;class C{constructor(t){const e=N;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=O(V);n[e(430)]=n[e(430)][e(405)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(O(n)),i[0][e(377)].X_IS_EVEN=0,i[0][e(377)][e(413)]=0,i[1]=new c(O(n)),i[1][e(377)][e(384)]=1,i[1][e(377)][e(413)]=0,i[2]=new c(O(n)),i[2][e(377)][e(384)]=0,i[2].defines.Y_IS_EVEN=1,i[3]=new c(O(n)),i[3][e(377)].X_IS_EVEN=1,i[3][e(377)][e(413)]=1;const r=new u;r[e(376)][e(379)]=p,r[e(376)][e(400)]=p,this._swapTarget=r,this[e(397)]=new y(new c(d)),this[e(407)]=new y(null),this[e(388)]=i}[R(374)](t,e,n,i=!1){const r=R;t[r(398)]&&(t=t[r(376)]);const o=n[r(420)],s=n[r(424)](),l=n[r(402)]();n[r(427)](W);const c=this[r(397)],u=this[r(407)],p=this[r(408)],v=this._mipMaterials;let x,m;i?(x=f[r(409)](t[r(369)][r(363)]),m=f[r(409)](t[r(369)][r(415)])):(x=Math[r(422)](t[r(369)][r(363)]),m=Math[r(422)](t[r(369)].height));const w=Math.floor(1.5*x),h=Math[r(422)](m);e.setSize(w,h),p[r(376)][r(414)]!==e[r(376)].type?(p[r(375)](),p[r(406)](e),p.texture[r(369)]=a({},p[r(376)].image)):p.setSize(w,h),n.autoClear=!1,n[r(399)](0),n[r(401)](),c.material[r(419)].tDiffuse[r(418)]=t,c.camera[r(359)](x,m,0,0,w,h),n[r(393)](e),n[r(362)](),c[r(412)](n),n[r(393)](p),n[r(362)](),c[r(412)](n);let g=x,y=m,d=0;for(;g>1&&y>1;){const t=v[(g%2==0?1:0)|(y%2==0?2:0)];t[r(419)][r(372)][r(418)]=p[r(376)],t[r(419)][r(425)][r(418)]=d,t[r(419)][r(380)][r(418)][r(360)](g,y),t[r(419)][r(429)].value[r(360)](x,m),u[r(358)]=t,g=Math[r(422)](g/2),y=Math[r(422)](y/2);const i=h-2*y;n[r(393)](e),u[r(365)].setViewOffset(g,y,-x,-i,w,h),u.render(n),n[r(393)](p),t[r(419)][r(372)][r(418)]=e[r(376)],u[r(412)](n),d++}return n.setRenderTarget(l),n[r(401)](s),n[r(399)](W),n[r(420)]=o,d+1}dispose(){const t=R;this[t(408)][t(375)](),this[t(407)][t(375)](),this[t(397)][t(375)](),this[t(388)].forEach((e=>e[t(375)]()))}}function Y(t){function e(t){const n=N;if(typeof t===n(416))return function(t){}[n(396)](n(378))[n(361)](n(394));1!==(""+t/t).length||t%20==0?function(){return!0}[n(396)](n(423)+n(386))[n(392)]("action"):function(){return!1}[n(396)](n(423)+"gger")[n(361)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const X=$;!function(t,e){const n=$,i=J();for(;;)try{if(900504===parseInt(n(472))/1+parseInt(n(504))/2*(parseInt(n(538))/3)+-parseInt(n(486))/4+-parseInt(n(507))/5+parseInt(n(499))/6*(-parseInt(n(545))/7)+-parseInt(n(525))/8*(-parseInt(n(473))/9)+-parseInt(n(497))/10*(-parseInt(n(527))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(){const t=["negate","Matrix4",'{}.constructor("return this")( )',"Vector3","bind","10BgdzmK","PerspectiveCamera","96xUtIfN","multiplyScalar","getRenderTarget","getWorldPosition","clone","104646EgZeZr","Plane","parent","5573795zHuDwK","projectPoint","test","setRenderTarget","state","init","projectionMatrix","visible","constant","while (true) {}","depth","constructor","__proto__","chain","prototype","counter","sub","ignoreObjects","15032tMIiQX","sign","10988659knbwDb","matrixWorldInverse","autoClear","resolution","lookAt","debu","normal","forEach","getWorldQuaternion","apply","length","21hmYnJc","value","info","warn","UnsignedByteType","copy","setMask","469826FNFhNJ","toString","error","1746289PvPhFR","1791IPRQWN","buffers","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","applyMatrix4","matrixWorld","elements","reflectorMipMap","reflect","add","function *\\( *\\)","applyQuaternion","1585156gDfRoe","Quaternion","render","set","call","dot"];return(J=function(){return t})()}function $(t,e){const n=J();return($=function(t,e){return n[t-=471]})(t,e)}!function(){Z(this,(function(){const t=$,e=new RegExp(t(484)),n=new RegExp(t(476),"i"),i=B(t(512));e[t(509)](i+t(520))&&n[t(509)](i+"input")?B():i("0")}))()}();const Q=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(536)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();Q(void 0,(function(){const t=$,e=function(){const t=$;let e;try{e=Function(t(475)+t(494)+");")()}catch(n){e=window}return e}(),n=e[t(477)]=e.console||{},i=["log",t(541),t(540),t(471),"exception","table","trace"];for(let r=0;r<i[t(537)];r++){const e=Q[t(518)][t(521)][t(496)](Q),a=i[r],o=n[a]||e;e[t(519)]=Q[t(496)](Q),e[t(546)]=o[t(546)][t(496)](o),n[a]=e}}))();const G=S({__name:X(481),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=X,i=t,r=new(v[n(505)]),a=new(v[n(493)]),o=new(v[n(498)]),s=new C,l=g({width:i[n(530)],height:i[n(530)],settings:{type:v[n(542)]}}),c=g({width:i[n(530)],height:i[n(530)],settings:{type:v[n(542)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:y}=h();return y((()=>{const t=n;(()=>{const t=n;if(!u.value)return;r.set(new(v[t(495)])(0,1,0),0),r[t(478)](i.parent[t(479)]),o[t(543)](u[t(539)]);const e=new(v[t(495)])(0,0,1)[t(503)]().negate(),s=u[t(539)][t(502)](new(v[t(495)]));e[t(482)](r[t(533)]);const c=new(v[t(495)]);r[t(508)](s,c);const w=c[t(503)]();w[t(523)](s),w[t(483)](c),o.position[t(543)](w);const h=new x(0,0,-1);h[t(485)](u.value[t(535)](new(v[t(487)]))),h[t(483)](s);const g=new(v[t(495)]);i[t(506)][t(502)](g),g.sub(h),g[t(482)](r[t(533)])[t(492)](),g[t(483)](i.parent[t(502)](new(v[t(495)]))),o.up[t(489)](0,1,0),o[t(485)](u.value[t(535)](new(v[t(487)]))),o.up[t(482)](r[t(533)]),o[t(531)](g),o.updateMatrixWorld();const y=new(v[t(493)]);y[t(489)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(o[t(513)]),y.multiply(o[t(528)]),a[t(543)](y),r[t(478)](o[t(528)]);const d=new m(r[t(533)].x,r[t(533)].y,r[t(533)].z,r[t(515)]),S=o[t(513)],_=new m;_.x=(Math[t(526)](d.x)+S[t(480)][8])/S[t(480)][0],_.y=(Math[t(526)](d.y)+S.elements[9])/S[t(480)][5],_.z=-1,_.w=(1+S[t(480)][10])/S[t(480)][14],d[t(500)](2/d[t(491)](_)),S[t(480)][2]=d.x,S[t(480)][6]=d.y,S[t(480)][10]=d.z+1,S[t(480)][14]=d.w;const P=p[t(539)][t(501)]();p.value[t(510)](l[t(539)]),p.value[t(511)][t(474)][t(517)][t(544)](!0),!1===p[t(539)][t(529)]&&p.value.clear(),i[t(524)][t(534)]((e=>e[t(514)]=!1)),p[t(539)][t(488)](f[t(539)],o),i[t(524)][t(534)]((t=>t.visible=!0)),p[t(539)][t(510)](P)})(),l[t(539)]&&c[t(539)]&&p.value&&s.update(l[t(539)].texture,c[t(539)],p[t(539)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=$;if("string"==typeof t)return function(t){}[n(518)](n(516))[n(536)](n(522));1!==(""+t/t).length||t%20==0?function(){return!0}[n(518)]("debugger")[n(490)]("action"):function(){return!1}[n(518)](n(532)+"gger")[n(536)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=et();;)try{if(763300===-parseInt(n(346))/1+-parseInt(n(325))/2*(parseInt(n(322))/3)+-parseInt(n(331))/4*(parseInt(n(320))/5)+-parseInt(n(342))/6+-parseInt(n(343))/7+-parseInt(n(354))/8*(parseInt(n(344))/9)+parseInt(n(351))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){K(this,(function(){var t=tt,e=new RegExp(t(328)),n=new RegExp(t(337),"i"),i=nt(t(350));e[t(341)](i+t(324))&&n[t(341)](i+t(347))?nt():i("0")}))()}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(335)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(t,e){var n=et();return(tt=function(t,e){return n[t-=320]})(t,e)}function et(){var t=["2049995JTteSP","bind","69bMaswe","error","chain","101028HwCVQA","console","__proto__","function *\\( *\\)","while (true) {}","length","4WHRJKE","warn","counter","info","apply","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","call","exception","test","3868290LdBtvU","8727908HTGuzP","36ySWgrS","gger","717185HyJEKH","input","stateObject","trace","init","59847250gJZAEI","return (function() ","prototype","2081720PgZYlS"];return(et=function(){return t})()}function nt(t){function e(t){var n=tt;if("string"==typeof t)return function(t){}[n(336)](n(329))[n(335)](n(333));1!==(""+t/t)[n(330)]||t%20==0?function(){return!0}[n(336)]("debu"+n(345))[n(339)]("action"):function(){return!1}[n(336)]("debugger")[n(335)](n(348)),e(++t)}try{if(t)return e;e(0)}catch(n){}}q(void 0,(function(){var t,e=tt;try{t=Function(e(352)+'{}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t[e(326)]=t[e(326)]||{},i=["log",e(332),e(334),e(323),e(340),"table",e(349)],r=0;r<i[e(330)];r++){var a=q[e(336)][e(353)][e(321)](q),o=i[r],s=n[o]||a;a[e(327)]=q[e(321)](q),a[e(338)]=s[e(338)][e(321)](s),n[o]=a}}))();export{G as _};
