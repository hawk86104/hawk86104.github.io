import{P as t}from"./tweakpane.yHWGBmom1736493808390.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.HJ8gP1ch1736493808390.js";import{_ as r}from"./heatmap.js-fix.1c6nFUMb1736493808390.js";import{h as i,Y as s,c2 as c,_ as u,s as a}from"./three.lAfZYOpc1736493808390.js";import{r as p}from"./utils.oZtHEYdk1736493808390.js";import{d as f}from"./pinia.HJbEB2CQ1736493808390.js";import{b as l,d as h,a1 as d,o as m,D as g,J as v,u as y,F as I,q as b,U as w,N as _,P as j,H as x,L as E,a4 as M,r as A,j as D,g as R,m as S}from"./@vue.-Mz_IXfk1736493808390.js";import{c as P,d as O,a as Z}from"./three-mesh-bvh.aKnXVado1736493808390.js";import{_ as z}from"./@fesjs.JLOwLS8V1736493808390.js";import"./@tresjs.g7tJPOCI1736493808390.js";import"./@vueuse.kU-N6GoC1736493808390.js";import"./three-custom-shader-material.eKT8KwaV1736493808390.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736493808390.js";import"./@amap.nSU5n3nL1736493808390.js";import"./vue-demi.C4xddsk91736493808390.js";import"./vue-router.orb3lCQB1736493808390.js";import"./lodash-es.guXTxyfJ1736493808390.js";import"./@qlin.yHhFDldE1736493808390.js";import"./@floating-ui.BPbuo5Gx1736493808390.js";import"./@juggle.7yjBMqoW1736493808390.js";function F(){const t=["height","toString","bind","body","log",'{}.constructor("return this")( )',"34480QeELpn","left","yellow","rgb(255,0,0)","top","878724fdNIgu","style","_config","action","absolute","473070yaDYuu","5182429celOHA","rgb(0,0,255)","chain","42933XvAOuJ","console","length","gger","228zbAVzp","apply","8fjdBJR","test","string","return (function() ","none","input","function *\\( *\\)","27MKnaww","51EtAHuR","error","constructor","__proto__","rgb(0,255,0)","appendChild","exception","debu","create","warn","19634EsRGjW","stateObject","120kcCFIW","while (true) {}","display","counter","table","randInt","call","22426944HPfgpW","getValueAt","setData","push"];return(F=function(){return t})()}!function(t,n){const e=W,o=F();for(;;)try{if(453780===parseInt(e(290))/1*(parseInt(e(300))/2)+-parseInt(e(333))/3*(parseInt(e(337))/4)+parseInt(e(319))/5*(-parseInt(e(302))/6)+-parseInt(e(330))/7*(parseInt(e(339))/8)+-parseInt(e(289))/9*(parseInt(e(329))/10)+-parseInt(e(324))/11+parseInt(e(309))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(338)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=W,n=new RegExp(t(288)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$("init");n.test(o+t(332))&&e[t(340)](o+t(287))?$():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(338)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();H(void 0,(function(){const t=W;let n;try{n=Function(t(285)+t(318)+");")()}catch(r){n=window}const e=n[t(334)]=n.console||{},o=[t(317),t(299),"info",t(291),t(296),t(306),"trace"];for(let i=0;i<o[t(335)];i++){const n=H[t(292)].prototype.bind(H),r=o[i],s=e[r]||n;n[t(293)]=H[t(315)](H),n[t(314)]=s[t(314)][t(315)](s),e[r]=n}}))();const G=(t,n)=>t[W(310)](n)+-10;function W(t,n){const e=F();return(W=function(t,n){return e[t-=285]})(t,n)}function $(t){function n(t){const e=W;if(typeof t===e(341))return function(t){}[e(292)](e(303))[e(338)](e(305));1!==(""+t/t)[e(335)]||t%20==0?function(){return!0}[e(292)](e(297)+e(336))[e(308)](e(327)):function(){return!1}[e(292)](e(297)+"gger")[e(338)](e(301)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const B=q;!function(t,n){const e=q,o=N();for(;;)try{if(820375===-parseInt(e(321))/1*(-parseInt(e(349))/2)+-parseInt(e(324))/3*(-parseInt(e(330))/4)+parseInt(e(320))/5*(-parseInt(e(338))/6)+parseInt(e(332))/7+parseInt(e(336))/8+parseInt(e(350))/9*(-parseInt(e(348))/10)+parseInt(e(344))/11*(-parseInt(e(343))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(334)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=q,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(326),"i"),o=U("init");n[t(325)](o+"chain")&&e[t(325)](o+"input")?U():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(334)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["counter","4766132BvviFC","call","apply","constructor","7038496EKbNSI","log","252GVudCM","info","stateObject","buildingsHeatmap","error","12crqWDb","7766429gSnWwW","warn","table","toString","260jIVDFs","18coNVKo","479943UnfmWJ","value","bind","gger","63905YQPJxg","77577JtsRhG","console","prototype","3572511ZVhQmA","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","length","trace","4JecEab"];return(N=function(){return t})()}J(void 0,(function(){const t=q;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(322)]=n[t(322)]||{},o=[t(337),t(345),t(339),t(342),"exception",t(346),t(329)];for(let i=0;i<o[t(328)];i++){const n=J[t(335)][t(323)][t(352)](J),r=o[i],s=e[r]||n;n.__proto__=J.bind(J),n[t(347)]=s[t(347)].bind(s),e[r]=n}}))();const T=f(B(341),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[q(351)]=n},setTemperature:function(t){n[q(351)]=t}}}));function q(t,n){const e=N();return(q=function(t,n){return e[t-=320]})(t,n)}function U(t){function n(t){const e=q;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(334)](e(331));1!==(""+t/t)[e(328)]||t%20==0?function(){return!0}[e(335)](e(327)+e(353))[e(333)]("action"):function(){return!1}.constructor(e(327)+"gger").apply(e(340)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=tt;!function(t,n){const e=tt,o=Q();for(;;)try{if(497018===-parseInt(e(385))/1*(-parseInt(e(409))/2)+-parseInt(e(381))/3*(-parseInt(e(423))/4)+parseInt(e(374))/5+parseInt(e(403))/6+parseInt(e(388))/7*(-parseInt(e(445))/8)+-parseInt(e(405))/9*(parseInt(e(396))/10)+-parseInt(e(408))/11*(-parseInt(e(418))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(379)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Y(this,(function(){const t=tt,n=new RegExp(t(410)),e=new RegExp(t(382),"i"),o=et("init");n.test(o+t(414))&&e[t(419)](o+t(435))?et():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(379)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=tt;let n;try{n=Function(t(443)+t(437)+");")()}catch(r){n=window}const e=n[t(432)]=n[t(432)]||{},o=[t(440),t(377),t(422),t(394),t(442),t(425),t(380)];for(let i=0;i<o.length;i++){const n=K[t(431)][t(448)][t(420)](K),r=o[i],s=e[r]||n;n[t(400)]=K[t(420)](K),n[t(427)]=s[t(427)][t(420)](s),e[r]=n}}))();const L=["object",V(398)],X=[V(428)];function Q(){const t=["__proto__","string","clone","46428DuAlyX","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","771867gTwfXL","Matrix4","disposeBoundsTree","1562nHhrfM","413926tbDuYa","function *\\( *\\)","width","Mesh","call","chain","children","gger","computeBoundsTree","41016REunKH","test","bind","debu","info","4SeFtcd","setTemperature","table","buildingsHeatmap","toString","object","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","land","constructor","console","stateObject","BufferGeometry","input","needsUpdate",'{}.constructor("return this")( )',"_config","applyMatrix4","log","attributes","exception","return (function() ","uOpacity","1462360rZkhfs","$patch","length","prototype","ShaderMaterial","action","normal","raycast","geometry","2128185vOAtiN","_renderer","model","warn","mergeGeometries","apply","trace","2444298RGXqKh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","height","数值：","3Cxatje","primitive","数值———：","35sNHBnu","matrix","setShowDiv","DoubleSide","city","makeRotationX","error","counter","110CZvmnK","while (true) {}","rotation-x","opacity"];return(Q=function(){return t})()}function tt(t,n){const e=Q();return(tt=function(t,n){return e[t-=371]})(t,n)}const nt=h({__name:V(426),props:{model:{},opacity:{default:1}},setup(t){const n=V;(()=>{const t=tt;u[t(434)][t(448)][t(417)]=P,u[t(434)][t(448)][t(407)]=O,a.prototype[t(372)]=Z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=W,i=document.createElement("heatmap-canvas");return i[o(325)].position=o(328),!e&&(i[o(325)][o(304)]=o(286)),i[o(325)][o(323)]="0",i[o(325)][o(320)]="0",document[o(316)][o(295)](i),r[o(298)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(331),.55:o(294),.85:o(321),1:o(322)}})})();((t,n)=>{const e=W;if(!n){let o=0;for(n=[];o<1e3;)n[e(312)]({x:i[e(307)](1,t[e(326)].width),y:i[e(307)](1,t[e(326)][e(313)]),value:i[e(307)](-10,36)}),o++}t[e(311)]({max:36,min:-10,data:n})})(o);const f=new s(o[n(375)].canvas);f[n(436)]=!0;const l=e[n(376)][n(392)][n(402)]();delete l[n(373)][n(441)][n(371)],delete l[n(373)].attributes.uv;const h=l.geometry.clone()[n(439)](l[n(389)]),b=e[n(376)][n(430)][n(402)]();delete b.geometry.attributes.normal;const w=b[n(373)][n(402)]()[n(439)](b[n(389)]),_=c[n(378)]([h,w]);_.applyMatrix4((new(u[n(406)]))[n(393)](Math.PI/2)),p(_),_[n(417)]();const j=(t=>{const o=n;return new(u[o(449)])({vertexShader:o(429),fragmentShader:o(404),uniforms:{uOpacity:{value:e[o(399)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(391)]})})(f),x=new(u[n(412)])(_,j);d((()=>{const t=n;e.opacity&&(j.uniforms[t(444)].value=e[t(399)])}));const E=T(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(438)][e(411)],y:(1-t.uv.y)*o[e(438)][e(383)]};console[e(440)](e(384),t),console[e(440)](e(387),G(o,n)),E[e(424)](G(o,n))}},A=t=>{t&&E[n(446)]({showDiv:!0})},D=t=>{t&&E[n(390)](!1)};return(t,o)=>{const r=n;return m(),g(I,null,[v(r(386),{object:y(x),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:A,onPointerLeave:D},null,40,L),v(r(386),{object:e[r(376)].model[r(415)][0][r(402)]()},null,8,X)],64)}}});function et(t){function n(t){const e=tt;if(typeof t===e(401))return function(t){}[e(431)](e(397))[e(379)](e(395));1!==(""+t/t)[e(447)]||t%20==0?function(){return!0}[e(431)]("debu"+e(416))[e(413)](e(450)):function(){return!1}[e(431)](e(421)+e(416))[e(379)](e(433)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=z({__name:"dataDiv",setup(t){const n=T(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:E(e.value)},"温度："+x(y(n).temperature)+"℃ ",5)),[[j,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=st;!function(t,n){const e=st,o=ut();for(;;)try{if(407147===-parseInt(e(320))/1+-parseInt(e(301))/2+parseInt(e(317))/3+parseInt(e(298))/4+-parseInt(e(302))/5*(-parseInt(e(309))/6)+parseInt(e(321))/7+-parseInt(e(304))/8*(-parseInt(e(324))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=ut();return(st=function(t,n){return e[t-=295]})(t,n)}!function(){it(this,(function(){const t=st,n=new RegExp(t(331)),e=new RegExp(t(308),"i"),o=pt(t(297));n[t(315)](o+t(305))&&e.test(o+t(300))?pt():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(306)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(){const t=["551176xujIcq","chain","apply","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1778286FusRNu","error","opacity","console","counter","addBinding","test","heatmap2","729054IkkdIy","gger","stateObject","580173qPiJxM","4955237lOucPh","city","warn","9PiiGTy","debu","length","return (function() ","model",'{}.constructor("return this")( )',"__proto__","function *\\( *\\)","bind","table","while (true) {}","init","236632TPizNf","trace","input","1368812YwPpvq","10AlvGGH","exception"];return(ut=function(){return t})()}ct(void 0,(function(){const t=st;let n;try{n=Function(t(327)+t(329)+");")()}catch(r){n=window}const e=n[t(312)]=n.console||{},o=["log",t(323),"info",t(310),t(303),t(295),t(299)];for(let i=0;i<o[t(326)];i++){const n=ct[t(307)].prototype[t(332)](ct),r=o[i],s=e[r]||n;n[t(330)]=ct[t(332)](ct),n.toString=s.toString[t(332)](s),e[r]=n}}))();const at=h({__name:rt(316),async setup(r){const i=rt;let s,c;const u=l(!1),a=([s,c]=M((()=>o())),s=await s,c(),s);u.value=!0;const p=A({width:1,color:"#000",opacity:1,show:!0}),f=A({opacity:.9});return new t({title:"参数",expanded:!0})[i(314)](f,i(311),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(I,null,[D(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[D(nt,S({model:y(a)},f),null,16,[r(328)]),D(n,S(p,{builds:y(a)[r(322)]}),null,16,["builds"])])),_:1}),D(ot)],64)}}});function pt(t){function n(t){const e=st;if("string"==typeof t)return function(t){}[e(307)](e(296))[e(306)](e(313));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(325)+e(318)).call("action"):function(){return!1}[e(307)](e(325)+e(318))[e(306)](e(319)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
