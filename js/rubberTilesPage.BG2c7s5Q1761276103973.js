import{P as e}from"./tweakpane.CqZAnw7f1761276103973.js";import{r as a,K as s}from"./@tresjs.B_KjVy0E1761276103973.js";import"./OimoPhysicsBuffer.BXemNmye1761276103973.js";import"./vite-plugin-qiankun.B06WoCqG1761276103973.js";import"./vanilla.esm.5.5.0.CRlEbOMK1761276103973.js";import"./Resource.CSaxGSPI1761276103973.js";import"./PackedMipMapGenerator.CqP5a0bT1761276103973.js";import{d as r,ac as t,w as l,G as o,o as n,I as i,u as p,r as m,g as u,b as c,e as d,h as g,ap as f,a9 as h,aa as j}from"./@vue.CKlgtJke1761276103973.js";import{as as b,aE as _,r as v,az as x,a6 as S}from"./three.Bhn4-0ry1761276103973.js";import"./postprocessing.CeTFUAN_1761276103973.js";import"./@vueuse.wtfleElW1761276103973.js";import"./oimophysics.CfVKSiAm1761276103973.js";import"./object-hash.1qNYTrnD1761276103973.js";import"./@amap.fjyZdsU91761276103973.js";import"./jszip.y_yjJ09m1761276103973.js";import"./three-stdlib.tb53t5ki1761276103973.js";const w=["rotateX","receiveShadow"],y=["color","map","normalMap","metalnessMap","roughnessMap","metalness","roughness","normalScale","side"],M=r({__name:"rubberTiles",props:{color:{default:"#FFFFFF"},repeat:{default:{x:1,y:1}},metalness:{default:1},roughness:{default:.66},normalScale:{default:1},receiveShadow:{type:Boolean,default:!1}},async setup(e){let s,r;const m=e,{textures:u}=([s,r]=t(()=>a(["./plugins/floor/image/rubber_tiles_diff_1k.jpg","./plugins/floor/image/rubber_tiles_nor_gl_1k.jpg","./plugins/floor/image/rubber_tiles_arm_1k.jpg"])),s=await s,r(),s);return l([u],([e])=>{if(e&&e.length)for(let a=0;a<e.length;a++)e[a].colorSpace=b,e[a].wrapS=_,e[a].wrapT=_,e[a].magFilter=v,e[a].minFilter=x,e[a].repeat.set(m.repeat.x,m.repeat.y)}),l(()=>m.repeat,e=>{for(let a=0;a<u.value.length;a++)u.value[a].repeat.set(e.x,e.y)},{deep:!0}),(e,a)=>(n(),o("TresGroup",null,[i("TresMesh",{rotateX:-Math.PI/2,receiveShadow:e.receiveShadow},[a[0]||(a[0]=i("TresPlaneGeometry",{args:[10,10]},null,-1)),i("TresMeshStandardMaterial",{color:m.color,map:p(u)[0],normalMap:p(u)[1],metalnessMap:p(u)[2],roughnessMap:p(u)[2],metalness:e.metalness,roughness:e.roughness,normalScale:e.normalScale,side:S},null,8,y)],8,w)]))}}),T=r({__name:"rubberTilesPage",setup(a){const r=m({color:"#cccccc",repeat:{x:3,y:3},metalness:1,roughness:.66,normalScale:2}),t=new e({expanded:!0});return t.addBinding(r,"color",{label:"颜色"}),t.addBinding(r,"repeat",{label:"贴图重复",x:{min:.1,max:10,step:.1},y:{min:.1,max:10,step:.1}}),t.addBinding(r,"metalness",{label:"金属度",min:0,max:1,step:.01}),t.addBinding(r,"roughness",{label:"粗糙度",min:0,max:1,step:.01}),t.addBinding(r,"normalScale",{label:"法线缩放",min:.1,max:30,step:.1}),(e,a)=>{const t=u("TresCanvas");return n(),c(t,{clearColor:"#000000","window-size":""},{default:d(()=>[a[0]||(a[0]=i("TresPerspectiveCamera",{position:[10,12,0],fov:45,near:.1,far:1e4},null,-1)),g(p(s),{enableDamping:""}),a[1]||(a[1]=i("TresAmbientLight",{intensity:1},null,-1)),a[2]||(a[2]=i("TresDirectionalLight",{position:[0,8,0],intensity:2,color:"#fff"},null,-1)),(n(),c(f,null,{default:d(()=>[g(p(M),h(j(r)),null,16)]),_:1})),a[3]||(a[3]=i("TresGridHelper",{args:[10,10],position:[0,-.8,0]},null,-1))]),_:1})}}});export{T as default};
