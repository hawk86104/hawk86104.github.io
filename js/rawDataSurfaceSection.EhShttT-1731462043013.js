var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,o=(t,o)=>{for(var s in o||(o={}))e.call(o,s)&&a(t,s,o[s]);if(n)for(var s of n(o))r.call(o,s)&&a(t,s,o[s]);return t};import{U as s,c as i}from"./@tresjs.xlnLF3O61731462043013.js";import{a as u,u as c,_ as l}from"./rawData.R1pkb-Rs1731462043013.js";import{_ as f,aF as p,a0 as m,cW as d,M as h}from"./three.wKRaqyB-1731462043013.js";import{z as y}from"./three-custom-shader-material.N2snw3Mo1731462043013.js";import{P as g}from"./tweakpane.yHWGBmom1731462043013.js";import{d as x,b,a as w,r as _,w as v,o as I,D as j,J as z,u as T,j as E,g as S,x as R,F as A,V as L,f as D,H as M,I as O,m as V}from"./@vue.-THQH3GC1731462043013.js";import{z as k,x as F,a5 as P,a6 as C,a7 as H,N as B,a8 as Q,a9 as Z,t as U,$ as W,aa as $,v as G,_ as N}from"./@fesjs.uG2EzMwn1731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";import"./pinia.TsQ0LDHQ1731462043013.js";import"./vue-demi.C4xddsk91731462043013.js";import"./vue-router.9VsVDPG11731462043013.js";import"./lodash-es.kYt-_xTG1731462043013.js";import"./@qlin.yHhFDldE1731462043013.js";import"./@floating-ui.BPbuo5Gx1731462043013.js";import"./@juggle.7yjBMqoW1731462043013.js";const q=Y;!function(t,n){const e=Y,r=J();for(;;)try{if(584326===-parseInt(e(146))/1*(-parseInt(e(136))/2)+-parseInt(e(195))/3+parseInt(e(151))/4+-parseInt(e(163))/5*(-parseInt(e(120))/6)+-parseInt(e(113))/7*(parseInt(e(143))/8)+-parseInt(e(161))/9*(-parseInt(e(171))/10)+-parseInt(e(127))/11*(parseInt(e(168))/12))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(197)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(133),"i"),r=it(t(121));n[t(198)](r+t(187))&&e.test(r+t(131))?it():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(){const t=["__proto__","material","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","x剖面","y剖面","upperThreshold","29144aqCdOS","length","LineSegments","40TQrRtR","while (true) {}","updateTransferFunction","invert","scene","3528312THvbNd","yLength","zExtent","max","change","debu","x轴缩放","LineBasicMaterial","visible","toString","369QFWiwC","string","5zOdhPJ","scale","constructor","console","xLength","24yXziPE","log","mesh","100710vHbSvh","object","exception","stateObject","call","return (function() ","RASDimensions","action","dataType","colorsStops","repaint","y轴缩放","z轴缩放","matrix","table","zLength","chain","windowLow","index","TresGroup","value",'{}.constructor("return this")( )',"windowHigh","eTexture","808458dycSTC","yExtent","apply","test","min","uniforms","1806TweHOQ","lowerThreshold","NormalBlending","counter","warn","bind","floor","5344410hIZYTx","init","addBinding","\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ","computeMinMax","primitive","inverseMatrix","4543759NGyVqR","z剖面","EdgesGeometry","extractSlice","input","title","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","repaintAllSlices","gger","21706TsqXTp"];return(J=function(){return t})()}function Y(t,n){const e=J();return(Y=function(t,n){return e[t-=112]})(t,n)}X(void 0,(function(){const t=Y;let n;try{n=Function(t(176)+t(192)+");")()}catch(a){n=window}const e=n[t(166)]=n.console||{},r=[t(169),t(117),"info","error",t(173),t(185),"trace"];for(let o=0;o<r[t(144)];o++){const n=X[t(165)].prototype[t(118)](X),a=r[o],s=e[a]||n;n[t(137)]=X[t(118)](X),n[t(160)]=s[t(160)].bind(s),e[a]=n}}))();const tt=["scale",q(159)],nt=[q(164)],et=[q(172)],rt=[q(172)],at=["object"],ot=[q(172)],st=x({__name:q(150),setup(t){const n=q,e=b(-1),r=b(-1),a=b(.6),s=w((()=>{const t=Y;return!(e[t(191)]<=.01&&e.value>=-.01)&&(!(r[t(191)]<=.01&&r[t(191)]>=-.01)&&!(a[t(191)]<=.01&&a.value>=-.01))})),i=u(),l=c(),x=(t=>{const n=Y,e=new d(l.xExtent,l[n(196)],l[n(153)],l[n(179)][l.selectDataType][n(132)],l.byteArray);e.spacing=[1,1,1],e[n(177)]=[Math[n(119)](e[n(167)]),Math[n(119)](e[n(152)]),Math.floor(e.zLength)],e.matrix=new h,e[n(126)]=new h,e.inverseMatrix.copy(e[n(184)])[n(149)]();const r=e[n(124)](),a=r[0],o=r[1];return e[n(188)]=a,e[n(193)]=o,e[n(114)]=a,e[n(142)]=o,e})(l.byteArray),E=new(f[n(145)])(new(f[n(129)])(new p(x[n(167)],x[n(152)],x[n(186)])),new(f[n(158)])({color:6710886})),S=_({x:Math.floor(x[n(177)][0]/2),y:Math.floor(x.RASDimensions[1]/2),z:Math.floor(x[n(177)][2]/4)});x.windowHigh=136;const R=x[n(130)]("x",S.x),A=x[n(130)]("y",S.y),L=x.extractSlice("z",S.z),D={vertexShader:n(139),fragmentShader:n(123),uniforms:{eTexture:{value:i[n(148)]()}},silent:!0,flatShading:!0,side:m,transparent:!0,depthTest:!0,depthWrite:!1,blending:f[n(115)]};R[n(170)][n(138)]=new y(o({baseMaterial:R.mesh[n(138)]},D)),A.mesh[n(138)]=new y(o({baseMaterial:A[n(170)][n(138)]},D)),L.mesh[n(138)]=new y(o({baseMaterial:L[n(170)][n(138)]},D));const M=new g;return M[n(122)](e,"value",{label:n(157),min:-2,max:2,step:.01}),M[n(122)](r,"value",{label:n(182),min:-2,max:2,step:.01}),M[n(122)](a,n(191),{label:n(183),min:-2,max:2,step:.01}),M[n(122)](S,"x",{label:n(140),min:0,max:x[n(177)][0],step:1}),M[n(122)](S,"y",{label:n(141),min:0,max:x.RASDimensions[1],step:1}),M[n(122)](S,"z",{label:n(128),min:0,max:x[n(177)][2],step:1}),M[n(122)](x,"lowerThreshold",{label:n(114),min:x[n(199)],max:x.max,step:1}).on(n(155),(()=>{x[n(134)]()})),M[n(122)](x,n(142),{label:n(142),min:x.min,max:x[n(154)],step:1}).on("change",(()=>{x[n(134)]()})),M.addBinding(x,n(188),{label:n(188),min:x[n(199)],max:x.max,step:1}).on(n(155),(()=>{x[n(134)]()})),M[n(122)](x,n(193),{label:n(193),min:x[n(199)],max:x[n(154)],step:1}).on(n(155),(()=>{x[n(134)]()})),v((()=>S),(t=>{const e=n;R[e(189)]=t.x,R.repaint[e(175)](R),A[e(189)]=t.y,A[e(181)][e(175)](A),L[e(189)]=t.z,L[e(181)][e(175)](L)}),{deep:!0}),v((()=>i[n(180)]),(()=>{const t=n;R.mesh[t(138)][t(112)][t(194)][t(191)]=i[t(148)](),A[t(170)][t(138)][t(112)].eTexture[t(191)]=i.updateTransferFunction(),L.mesh[t(138)][t(112)][t(194)][t(191)]=i.updateTransferFunction()}),{deep:!0,immediate:!0}),(t,o)=>{const i=n;return I(),j("TresGroup",{scale:[e[i(191)],r[i(191)],a.value],visible:s.value},[z(i(190),{scale:[1/T(x)[i(167)],1/T(x).xLength*T(x).xLength/T(x)[i(152)],1/T(x).xLength*T(x).xLength/T(x)[i(186)]]},[z(i(125),{object:T(R)[i(170)],renderOrder:1},null,8,et),z("primitive",{object:T(A)[i(170)],renderOrder:2},null,8,rt),z(i(125),{object:T(L)[i(170)],renderOrder:3},null,8,at),z("primitive",{object:T(E)},null,8,ot)],8,nt)],8,tt)}}});function it(t){function n(t){const e=Y;if(typeof t===e(162))return function(t){}[e(165)](e(147))[e(197)](e(116));1!==(""+t/t).length||t%20==0?function(){return!0}[e(165)](e(156)+e(135)).call(e(178)):function(){return!1}[e(165)](e(156)+e(135))[e(197)](e(174)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ut=lt;function ct(){const t=["trace","title","102MsQFPw","fileList","402250pWBELl","selectDataType","读取Raw原始数据","raw","error","prototype","onload","10px","apply","readAsArrayBuffer","请正确选择rawData文件"," y轴长度： ","value","init","dataType","2.4em","2607650JWSuZX","length","bind","18fossdv","info","setArrayBuffer","head_256x256x109_uint8.raw","8VdkQBD","2796489xWabjm","result","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"," 点击或者拖拽rawData文件到此区域 ","log","toString","yExtent","__proto__",'{}.constructor("return this")( )',"xExtent","gger","396452QHTKLR","1882460VZwffM","removeFile","input","constructor","11px","call","10px auto -3px","16252MaKhrR","debu","importRawUI","target","test","string","byteArray","stateObject","zExtent","760105MQKUbQ","warning"," 面剖体数据","function *\\( *\\)","image/x-panasonic-raw","console","300px","warn","block","uploadRef","chain","modelValue","请正确输入数值","演示参考头部👨‍🦲RawData数据,下载 : "];return(ct=function(){return t})()}function lt(t,n){const e=ct();return(lt=function(t,n){return e[t-=240]})(t,n)}!function(t,n){const e=lt,r=ct();for(;;)try{if(296834===-parseInt(e(295))/1+parseInt(e(268))/2*(parseInt(e(293))/3)+-parseInt(e(261))/4+parseInt(e(277))/5+-parseInt(e(244))/6*(-parseInt(e(260))/7)+parseInt(e(248))/8*(parseInt(e(249))/9)+parseInt(e(241))/10)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const ft=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[lt(303)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ft(this,(function(){const t=lt,n=new RegExp(t(280)),e=new RegExp(t(251),"i"),r=dt(t(308));n[t(272)](r+t(287))&&e[t(272)](r+t(263))?dt():r("0")}))()}();const pt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[lt(303)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();pt(void 0,(function(){const t=lt;let n;try{n=Function("return (function() "+t(257)+");")()}catch(a){n=window}const e=n[t(282)]=n[t(282)]||{},r=[t(253),t(284),t(245),t(299),"exception","table",t(291)];for(let o=0;o<r.length;o++){const n=pt[t(264)][t(300)][t(243)](pt),a=r[o],s=e[a]||n;n[t(256)]=pt[t(243)](pt),n.toString=s[t(254)][t(243)](s),e[a]=n}}))();const mt={key:0,class:"card-wrapper"};function dt(t){function n(t){const e=lt;if(typeof t===e(273))return function(t){}[e(264)]("while (true) {}")[e(303)]("counter");1!==(""+t/t)[e(242)]||t%20==0?function(){return!0}[e(264)](e(269)+e(259))[e(266)]("action"):function(){return!1}[e(264)](e(269)+e(259))[e(303)](e(275)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ht=N(x({__name:ut(270),setup(t){const n=ut,e=c();e[n(258)]=256,e[n(255)]=256,e.zExtent=109;const r=b(null),a=b([]),o=t=>{console.log("[change] param:",t)},s=()=>{var t;const e=n;a[e(307)][e(242)]>1&&(null==(t=r[e(307)])||t[e(262)](a[e(307)][0]))},i=()=>{const t=n;if(1!=a.value[t(242)])return G[t(278)](t(305)),!1;if(e[t(258)]<=0||e.yExtent<=0||e[t(276)]<=0)return G[t(278)](t(289)),!1;if(a[t(307)][0][t(298)].type!==t(281))return G[t(278)]("文件类型必须为:'image/x-panasonic-raw'"),!1;const r=new FileReader;return r[t(301)]=function(n){const r=t,a=n[r(271)][r(250)];e[r(246)](a)},r[t(304)](a[t(307)][0][t(298)]),!0};return(t,u)=>{const c=n;return T(e)[c(274)]?O("",!0):(I(),j("div",mt,[E(T($),{header:c(297)},{default:S((()=>[u[10]||(u[10]=z("div",{style:{"margin-bottom":c(265)}},[R(c(290)),z("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},c(247))],-1)),E(T(k),{style:{"min-height":"2.8em"}},{default:S((()=>[E(T(F),{span:6,style:{"line-height":c(240)}},{default:S((()=>u[5]||(u[5]=[R(" x轴长度： ")]))),_:1}),E(T(F),{span:18},{default:S((()=>[E(T(P),{precision:0,modelValue:T(e)[c(258)],"onUpdate:modelValue":u[0]||(u[0]=t=>T(e)[c(258)]=t),autofocus:""},null,8,[c(288)])])),_:1})])),_:1}),E(T(k),{style:{"min-height":"2.8em"}},{default:S((()=>[E(T(F),{span:6,style:{"line-height":c(240)}},{default:S((()=>u[6]||(u[6]=[R(c(306))]))),_:1}),E(T(F),{span:18},{default:S((()=>[E(T(P),{precision:0,modelValue:T(e).yExtent,"onUpdate:modelValue":u[1]||(u[1]=t=>T(e).yExtent=t),autofocus:""},null,8,[c(288)])])),_:1})])),_:1}),E(T(k),{style:{"min-height":"2.8em"}},{default:S((()=>[E(T(F),{span:6,style:{"line-height":c(240)}},{default:S((()=>u[7]||(u[7]=[R(" z轴长度： ")]))),_:1}),E(T(F),{span:18},{default:S((()=>[E(T(P),{precision:0,modelValue:T(e).zExtent,"onUpdate:modelValue":u[2]||(u[2]=t=>T(e).zExtent=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),E(T(C),{modelValue:T(e)[c(296)],"onUpdate:modelValue":u[3]||(u[3]=t=>T(e).selectDataType=t),style:{"margin-bottom":c(302)}},{default:S((()=>[(I(!0),j(A,null,L(T(e)[c(309)],((t,n)=>{const e=c;return I(),D(T(H),{key:n,value:n},{default:S((()=>[E(T(B),{style:{"max-width":e(283)}},{default:S((()=>[R(M(t[e(292)]),1)])),_:2},1024)])),_:2},1032,["value"])})),128))])),_:1},8,["modelValue"]),E(T(Q),{ref_key:c(286),ref:r,fileList:a[c(307)],"onUpdate:fileList":u[4]||(u[4]=t=>a[c(307)]=t),onChange:o,httpRequest:s},{default:S((()=>[E(T(Z),null,{default:S((()=>u[8]||(u[8]=[R(c(252))]))),_:1})])),_:1},8,[c(294)]),E(T(U),{style:{display:c(285),margin:c(267)},onClick:i},{icon:S((()=>[E(T(W))])),default:S((()=>[u[9]||(u[9]=R(c(279)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]),yt=xt;!function(t,n){const e=xt,r=wt();for(;;)try{if(887299===parseInt(e(382))/1*(parseInt(e(364))/2)+-parseInt(e(391))/3*(-parseInt(e(358))/4)+-parseInt(e(396))/5*(-parseInt(e(380))/6)+-parseInt(e(392))/7*(parseInt(e(377))/8)+parseInt(e(369))/9+parseInt(e(361))/10+-parseInt(e(371))/11)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const gt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[xt(372)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function xt(t,n){const e=wt();return(xt=function(t,n){return e[t-=353]})(t,n)}!function(){gt(this,(function(){const t=xt,n=new RegExp(t(381)),e=new RegExp(t(393),"i"),r=vt(t(368));n[t(366)](r+t(370))&&e[t(366)](r+t(390))?vt():r("0")}))()}();const bt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[xt(372)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function wt(){const t=["input","75822eDOvPu","7yswgPr","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","bind","5nHEEGN","TresPerspectiveCamera","log","warn","exception","action","8YOiHtc","counter","stateObject","14478640HlmYfW","table","length","4gjyLuz","rgba(0, 0, 0, 0)","test","gger","init","7550667POnBNC","chain","15295533kXALyp","apply","return (function() ","info","byteArray","#201919","5632008AIHyLh","error","while (true) {}","2508696QzcGhi","function *\\( *\\)","113156KWkrzO","trace","debu","rawDataSurfaceSection","rgb(255, 0, 0)","prototype","__proto__","toString"];return(wt=function(){return t})()}bt(void 0,(function(){const t=xt;let n;try{n=Function(t(373)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n.console=n.console||{},r=[t(354),t(355),t(374),t(378),t(356),t(362),t(383)];for(let o=0;o<r[t(363)];o++){const n=bt.constructor[t(387)].bind(bt),a=r[o],s=e[a]||n;n[t(388)]=bt[t(395)](bt),n.toString=s[t(389)].bind(s),e[a]=n}}))();const _t=x({__name:yt(385),setup(t){const n=yt,e=_({clearColor:n(376),antialias:!0}),r=c();return(t,a)=>{const o=n;return I(),j(A,null,[T(r)[o(375)]?(I(),D(l,{key:0,curColorList:[[o(365),0],["rgb(0, 255, 255)",.4],[o(386),1]]})):O("",!0),E(T(i),V(e,{"window-size":""}),{default:S((()=>[a[0]||(a[0]=z(o(353),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),E(T(s)),T(r).byteArray?(I(),D(st,{key:0})):O("",!0)])),_:1},16),E(ht)],64)}}});function vt(t){function n(t){const e=xt;if(typeof t===e(394))return function(t){}.constructor(e(379))[e(372)](e(359));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(384)+"gger").call(e(357)):function(){return!1}.constructor("debu"+e(367))[e(372)](e(360)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{_t as default};
