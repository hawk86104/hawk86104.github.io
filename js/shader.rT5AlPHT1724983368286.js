import{$ as n,p as t,d as e,S as r,N as o}from"./@tresjs.OrqGCbtj1724983368286.js";import{a6 as i,aN as s,V as a}from"./three.p-9BQwc31724983368286.js";import{P as c}from"./tweakpane.yHWGBmom1724983368286.js";import{L as u}from"./three-subdivide.m3BGpQ111724983368286.js";import{d as l,b as f,a1 as p,w as d,o as g,D as h,J as m,aj as v,ak as y,a4 as b,r as w,e as M,f as _,g as I,j as x,u as S,m as T}from"./@vue.Q1VpS3901724983368286.js";import"./@vueuse.n6I5WvfU1724983368286.js";const B=C;!function(n,t){const e=C,r=F();for(;;)try{if(368798===parseInt(e(332))/1*(-parseInt(e(373))/2)+-parseInt(e(354))/3+parseInt(e(355))/4+parseInt(e(344))/5*(-parseInt(e(360))/6)+parseInt(e(368))/7+parseInt(e(366))/8*(-parseInt(e(377))/9)+parseInt(e(339))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){k(this,(function(){const n=C,t=new RegExp(n(383)),e=new RegExp(n(380),"i"),r=N(n(336));t[n(386)](r+"chain")&&e[n(386)](r+"input")?N():r("0")}))()}();const j=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(333)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(n,t){const e=F();return(C=function(n,t){return e[n-=331]})(n,t)}j(void 0,(function(){const n=C;let t;try{t=Function(n(362)+n(334)+");")()}catch(o){t=window}const e=t.console=t.console||{},r=["log",n(331),n(350),n(371),"exception",n(341),n(358)];for(let i=0;i<r[n(385)];i++){const t=j[n(338)].prototype.bind(j),o=r[i],s=e[o]||t;t[n(375)]=j.bind(j),t.toString=s[n(361)][n(364)](s),e[o]=t}}))();const A=[B(369)],z=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(347)]},blending:{default:s}},setup(e){const r=B,o=e,s=f(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(374)])(o[r(359)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(382),fragmentShader:r(378),side:o[r(353)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(376)]};p((()=>{const n=r;if(o[n(365)]&&!s[n(345)][n(343)][n(357)][n(351)]){let t=o.srcMesh[n(343)][n(363)]();o[n(352)]&&(t=u[n(367)](t,2)),s[n(345)].geometry=t,s[n(345)][n(351)][n(372)](o.srcMesh[n(351)])}o.color&&(c[n(340)][n(337)].value=new(i[n(374)])(o[n(359)])),o.c&&(c[n(340)].c.value=o.c),o.p&&(c[n(340)].p.value=o.p)})),d((()=>o[r(352)]),(n=>{const t=r;let e=o[t(365)][t(343)].clone();n&&(e=u[t(367)](e,2)),s[t(345)][t(343)]=e})),d((()=>o.side),(n=>{const t=r;s[t(345)][t(356)][t(353)]=n})),d((()=>o.blending),(n=>{const t=r;s.value[t(356)][t(376)]=n}));const{onLoop:l}=n(),{camera:b}=t();return l((()=>{const n=r;b.value&&s[n(345)]&&(c[n(340)][n(349)][n(345)]=(new a)[n(381)](b[n(345)].position,s.value.position))})),(n,t)=>{const e=r;return g(),h(e(384),{ref_key:"TSGref",ref:s,scale:o[e(369)]},[m(e(335),v(y(c)),null,16)],8,A)}}});function F(){const n=["apply",'{}.constructor("return this")( )',"TresShaderMaterial","init","glowColor","constructor","12767140pZdRSi","uniforms","table","string","geometry","15qrJgAR","value","while (true) {}","FrontSide","action","viewVector","info","position","subdivision","side","869247IMcWOJ","45176EaHFkk","material","attributes","trace","color","1338294tPeGLu","toString","return (function() ","clone","bind","srcMesh","128536dGKKMM","modify","4976286PCxdwG","scale","debu","error","copy","46KBmgqC","Color","__proto__","blending","225rCFbUi","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","subVectors","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","function *\\( *\\)","TresMesh","length","test","warn","11719UaJrLn"];return(F=function(){return n})()}function N(n){function t(n){const e=C;if(typeof n===e(342))return function(n){}.constructor(e(346)).apply("counter");1!==(""+n/n)[e(385)]||n%20==0?function(){return!0}[e(338)]("debu"+e(379)).call(e(348)):function(){return!1}[e(338)](e(370)+e(379))[e(333)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function R(){const n=["toString","prototype","TreBoxRef","bind","length","blending","gger","DoubleSide","TresGridHelper","FrontSide","#0ff","shader","addBinding","value","function *\\( *\\)","exception","__proto__","apply","chain","497680iyqQPF","6186240lndovk","srcMesh","AdditiveBlending","constructor","边缘处理","#222","TresMeshRefA","console","6289632kcoVbm","#00dfff","init",'{}.constructor("return this")( )',"scale","subdivision","debu","TresPerspectiveCamera","175758Qftdlv","TresSphereGeometry","test","return (function() ","70377hybukU","error","map","NormalBlending","call","while (true) {}","color","16YLYdnd","TresMeshBasicMaterial","TresBoxGeometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","action","log","12PygXUY","1632148fGyzMD","1424985uuWQom","info","string","table","side","trace","input","logo.png","BackSide","22NJYjio","stateObject"];return(R=function(){return n})()}const G=L;!function(n,t){const e=L,r=R();for(;;)try{if(414853===parseInt(e(385))/1*(-parseInt(e(343))/2)+parseInt(e(334))/3+parseInt(e(399))/4*(parseInt(e(364))/5)+parseInt(e(381))/6+parseInt(e(333))/7*(parseInt(e(392))/8)+-parseInt(e(373))/9+parseInt(e(365))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){V(this,(function(){const n=L,t=new RegExp(n(359)),e=new RegExp(n(395),"i"),r=K(n(375));t[n(383)](r+n(363))&&e[n(383)](r+n(340))?K():r("0")}))()}();const P=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[L(362)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function L(n,t){const e=R();return(L=function(n,t){return e[n-=333]})(n,t)}P(void 0,(function(){const n=L,t=function(){const n=L;let t;try{t=Function(n(384)+n(376)+");")()}catch(e){t=window}return t}(),e=t[n(372)]=t[n(372)]||{},r=[n(398),"warn",n(335),n(386),n(360),n(337),n(339)];for(let o=0;o<r[n(349)];o++){const t=P[n(368)][n(346)].bind(P),i=r[o],s=e[i]||t;t[n(361)]=P.bind(P),t[n(345)]=s.toString[n(348)](s),e[i]=t}}))();const E=m(G(380),{position:[5,5,5]},null,-1),J=m("TresAmbientLight",{intensity:1},null,-1),Z=m(G(353),{args:[10,10]},null,-1),$=m(G(382),{args:[1,32,16]},null,-1),D=[G(387)],U=[G(387)],Y=[m(G(394),{args:[1,1,1,1,1]},null,-1),m("TresMeshBasicMaterial",{color:G(355)},null,-1)],q=l({__name:G(356),async setup(n){const t=G;let a,u;const l={clearColor:t(370)},p=f(),d=f(),h=f(),v=([a,u]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(341)]))),a=await a,u(),a),y=w({scale:1.6,color:t(374),subdivision:!0,c:1.1,p:1.4,side:i[t(354)],blending:s}),B=new c({title:"参数",expanded:!0});return B.addBinding(y,t(391),{label:"颜色"}),B.addBinding(y,t(377),{label:"大小",min:1,max:3,step:.2}),B[t(357)](y,t(378),{label:t(369)}),B[t(357)](y,"c",{label:"c",min:0,max:2,step:.1}),B[t(357)](y,"p",{label:"p",min:0,max:8,step:.2}),B[t(357)](y,t(338),{options:{FrontSide:i[t(354)],BackSide:i[t(342)],DoubleSide:i[t(352)]}}),B[t(357)](y,t(350),{options:{AdditiveBlending:i[t(367)],NormalBlending:i[t(388)]}}),(n,o)=>{const i=t,s=M("TresCanvas");return g(),_(s,T(l,{"window-size":""}),{default:I((()=>[E,J,x(S(e)),Z,m("TresMesh",{ref_key:i(371),ref:p,position:[-2,1,0]},[$,m(i(393),{map:S(v)[0]},null,8,D)],512),x(z,T({srcMesh:p[i(358)]},y),null,16,["srcMesh"]),x(S(r),{ref_key:i(347),ref:h,args:[1,1,1],position:[2,1,0]},{default:I((()=>[m("TresMeshBasicMaterial",{map:S(v)[1]},null,8,U)])),_:1},512),x(z,T({srcMesh:h.value&&h[i(358)][i(358)]},y),null,16,[i(366)]),m("TresMesh",{ref_key:"TresMeshRefB",ref:d,position:[0,1,-2]},Y,512),x(z,T({srcMesh:d.value},y),null,16,["srcMesh"])])),_:1},16)}}});function K(n){function t(n){const e=L;if(typeof n===e(336))return function(n){}[e(368)](e(390))[e(362)](e(396));1!==(""+n/n)[e(349)]||n%20==0?function(){return!0}[e(368)](e(379)+"gger")[e(389)](e(397)):function(){return!1}[e(368)](e(379)+e(351))[e(362)](e(344)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{q as default};
