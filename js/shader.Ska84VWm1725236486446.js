import{$ as n,p as t,d as e,S as r,N as o}from"./@tresjs.DDzpLB7Q1725236486446.js";import{a6 as i,aL as s,A as a}from"./three.0IuNGJsA1725236486446.js";import{P as c}from"./tweakpane.yHWGBmom1725236486446.js";import{L as u}from"./three-subdivide.SgAnYT621725236486446.js";import{d as l,b as f,a1 as p,w as d,o as m,D as g,J as h,aj as v,ak as y,a4 as w,r as b,e as M,f as _,g as x,j as I,u as S,m as T}from"./@vue.9bHx4gg21725236486446.js";import"./@vueuse.XXpXaOwX1725236486446.js";const j=B;function B(n,t){const e=F();return(B=function(n,t){return e[n-=148]})(n,t)}!function(n,t){const e=B,r=F();for(;;)try{if(826891===parseInt(e(172))/1+-parseInt(e(192))/2+parseInt(e(201))/3*(parseInt(e(205))/4)+parseInt(e(191))/5+parseInt(e(207))/6+parseInt(e(182))/7*(parseInt(e(152))/8)+-parseInt(e(189))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){A(this,(function(){const n=B,t=new RegExp(n(185)),e=new RegExp(n(155),"i"),r=z(n(169));t[n(196)](r+n(171))&&e[n(196)](r+n(165))?z():r("0")}))()}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[B(203)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();k(void 0,(function(){const n=B,t=function(){const n=B;let t;try{t=Function(n(199)+n(194)+");")()}catch(e){t=window}return t}(),e=t[n(164)]=t[n(164)]||{},r=[n(197),"warn",n(208),"error",n(181),n(209),n(154)];for(let o=0;o<r[n(149)];o++){const t=k[n(178)][n(156)][n(174)](k),i=r[o],s=e[i]||t;t[n(167)]=k[n(174)](k),t[n(195)]=s.toString[n(174)](s),e[i]=t}}))();const C=[j(202)];function F(){const n=["chain","988095veCAHi","side","bind","geometry","material","subdivision","constructor","value","debu","exception","49woFyGO","position","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","function *\\( *\\)","attributes","shineShader","counter","26397666imdcAF","uniforms","7609910gwfnxf","1878726FXUCBP","viewVector",'{}.constructor("return this")( )',"toString","test","log","modify","return (function() ","copy","75aLhOOV","scale","apply","color","215084MnJUIQ","TSGref","2729994yptcQS","info","table","Vector3","length","TresShaderMaterial","FrontSide","445688Ksrour","Color","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","clone","gger","string","TresMesh","subVectors","blending","console","input","call","__proto__","srcMesh","init","glowColor"];return(F=function(){return n})()}const R=l({__name:j(187),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(151)]},blending:{default:s}},setup(e){const r=j,o=e,s=f(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(153)])(o.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(157),fragmentShader:r(184),side:o[r(173)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(163)]};p((()=>{const n=r;if(o[n(168)]&&!s[n(179)].geometry[n(186)][n(183)]){let t=o.srcMesh.geometry.clone();o[n(177)]&&(t=u[n(198)](t,2)),s.value[n(175)]=t,s[n(179)][n(183)][n(200)](o[n(168)][n(183)])}o[n(204)]&&(a.uniforms[n(170)][n(179)]=new(i[n(153)])(o[n(204)])),o.c&&(a[n(190)].c[n(179)]=o.c),o.p&&(a.uniforms.p[n(179)]=o.p)})),d((()=>o[r(177)]),(n=>{const t=r;let e=o.srcMesh[t(175)][t(158)]();n&&(e=u.modify(e,2)),s.value[t(175)]=e})),d((()=>o.side),(n=>{const t=r;s.value.material[t(173)]=n})),d((()=>o[r(163)]),(n=>{const t=r;s[t(179)][t(176)][t(163)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=r;l[n(179)]&&s[n(179)]&&(a.uniforms[n(193)][n(179)]=(new(i[n(148)]))[n(162)](l[n(179)][n(183)],s[n(179)][n(183)]))})),(n,t)=>{const e=r;return m(),g(e(161),{ref_key:e(206),ref:s,scale:o[e(202)]},[h(e(150),v(y(a)),null,16)],8,C)}}});function z(n){function t(n){const e=B;if(typeof n===e(160))return function(n){}[e(178)]("while (true) {}")[e(203)](e(188));1!==(""+n/n)[e(149)]||n%20==0?function(){return!0}[e(178)](e(180)+"gger")[e(166)]("action"):function(){return!1}[e(178)](e(180)+e(159))[e(203)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=E;!function(n,t){const e=E,r=P();for(;;)try{if(974552===parseInt(e(451))/1*(parseInt(e(489))/2)+-parseInt(e(433))/3*(-parseInt(e(456))/4)+parseInt(e(473))/5+-parseInt(e(468))/6*(parseInt(e(465))/7)+parseInt(e(466))/8+-parseInt(e(486))/9+-parseInt(e(453))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(472)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){L(this,(function(){const n=E,t=new RegExp(n(457)),e=new RegExp(n(484),"i"),r=J("init");t[n(442)](r+n(487))&&e.test(r+n(474))?J():r("0")}))()}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(472)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();N(void 0,(function(){const n=E;let t;try{t=Function("return (function() "+n(476)+");")()}catch(o){t=window}const e=t[n(445)]=t.console||{},r=[n(458),n(432),n(477),n(478),"exception",n(464),"trace"];for(let i=0;i<r[n(431)];i++){const t=N.constructor[n(436)][n(488)](N),o=r[i],s=e[o]||t;t.__proto__=N[n(488)](N),t[n(441)]=s[n(441)][n(488)](s),e[o]=t}}))();const q=h(V(462),{position:[5,5,5]},null,-1),G=h(V(454),{intensity:1},null,-1),H=h(V(452),{args:[10,10]},null,-1),O=h("TresSphereGeometry",{args:[1,32,16]},null,-1),Z=[V(435)],$=["map"],D=[h(V(475),{args:[1,1,1,1,1]},null,-1),h(V(479),{color:V(463)},null,-1)];function E(n,t){const e=P();return(E=function(n,t){return e[n-=430]})(n,t)}function P(){const n=["length","warn","1635609ttfhHq","srcMesh","map","prototype","NormalBlending","subdivision","blending","scale","toString","test","side","gger","console","constructor","#222","边缘处理","#00dfff","TresCanvas","1qGtdUq","TresGridHelper","32615760wtSiLp","TresAmbientLight","FrontSide","4BkDLYy","function *\\( *\\)","log","string","action","DoubleSide","TresPerspectiveCamera","#0ff","table","40453RqsISS","14063720ediKMe","TreBoxRef","228byuHtZ","AdditiveBlending","TresMesh","value","apply","8912370ReFpTj","input","TresBoxGeometry",'{}.constructor("return this")( )',"info","error","TresMeshBasicMaterial","logo.png","addBinding","while (true) {}","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMeshRefB","3377124iMtXqq","chain","bind","1490648txHwaR","counter"];return(P=function(){return n})()}const U=l({__name:"shader",async setup(n){const t=V;let s,u;const l={clearColor:t(447)},p=f(),d=f(),g=f(),v=([s,u]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(480)]))),s=await s,u(),s),y=b({scale:1.6,color:t(449),subdivision:!0,c:1.1,p:1.4,side:i[t(455)],blending:i[t(469)]}),j=new c({title:"参数",expanded:!0});return j[t(481)](y,"color",{label:"颜色"}),j[t(481)](y,t(440),{label:"大小",min:1,max:3,step:.2}),j[t(481)](y,t(438),{label:t(448)}),j[t(481)](y,"c",{label:"c",min:0,max:2,step:.1}),j[t(481)](y,"p",{label:"p",min:0,max:8,step:.2}),j[t(481)](y,t(443),{options:{FrontSide:i[t(455)],BackSide:a,DoubleSide:i[t(461)]}}),j.addBinding(y,t(439),{options:{AdditiveBlending:i[t(469)],NormalBlending:i[t(437)]}}),(n,o)=>{const i=t,s=M(i(450));return m(),_(s,T(l,{"window-size":""}),{default:x((()=>[q,G,I(S(e)),H,h(i(470),{ref_key:"TresMeshRefA",ref:p,position:[-2,1,0]},[O,h(i(479),{map:S(v)[0]},null,8,Z)],512),I(R,T({srcMesh:p[i(471)]},y),null,16,[i(434)]),I(S(r),{ref_key:i(467),ref:g,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h("TresMeshBasicMaterial",{map:S(v)[1]},null,8,$)])),_:1},512),I(R,T({srcMesh:g.value&&g.value[i(471)]},y),null,16,[i(434)]),h(i(470),{ref_key:i(485),ref:d,position:[0,1,-2]},D,512),I(R,T({srcMesh:d[i(471)]},y),null,16,[i(434)])])),_:1},16)}}});function J(n){function t(n){const e=E;if(typeof n===e(459))return function(n){}[e(446)](e(482)).apply(e(430));1!==(""+n/n)[e(431)]||n%20==0?function(){return!0}.constructor(e(483)+e(444)).call(e(460)):function(){return!1}[e(446)](e(483)+e(444))[e(472)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
