var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.yVu1PtzU1728554291399.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.LMYSeSjg1728554291399.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.X8rJNL0t1728554291399.js";import{k as o,U as s,C as l,m as c,W as p,bc as u,h as f,_ as x,M as v,A as m,V as w}from"./three.YiCjTDWq1728554291399.js";import{p as h,U as g}from"./@tresjs.IlQvaTJ91728554291399.js";import{u as d}from"./index.Tylq_rsN1728554291399.js";import{F as y,C as S}from"./three-stdlib.W1Z_QaHt1728554291399.js";import{d as P}from"./@vue.JNsx1iN61728554291399.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.pgQrnDpo1728554291399.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.Fr15TeFX1728554291399.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.KaSPvL3S1728554291399.js";const _=b;function z(){const t=["debu",'{}.constructor("return this")( )',"prototype","6OITFhu","warn","stateObject","bind","exception","action","call","749MChqUl","790946QIUNdj","6sCgymb","1664290LmjZQQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1141338BXWGrA","__proto__","10912bneYMO","chain","toString","4jWlPYG","error","145785ANBmpm","test","143QFszov","apply","input","function *\\( *\\)","info","counter","9FDnTeq","28MeZsPb","gger","trace","string",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"constructor","474204BOfZOI","505480EzwLJt","console"];return(z=function(){return t})()}function b(t,e){const n=z();return(b=function(t,e){return n[t-=230]})(t,e)}!function(t,e){const n=b,i=z();for(;;)try{if(318758===parseInt(n(246))/1*(parseInt(n(236))/2)+parseInt(n(239))/3*(parseInt(n(244))/4)+-parseInt(n(237))/5*(-parseInt(n(267))/6)+parseInt(n(234))/7*(-parseInt(n(241))/8)+-parseInt(n(254))/9*(parseInt(n(262))/10)+parseInt(n(248))/11*(-parseInt(n(261))/12)+parseInt(n(235))/13*(-parseInt(n(255))/14))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(249)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){I(this,(function(){const t=b,e=new RegExp(t(251)),n=new RegExp(t(238),"i"),i=A("init");e[t(247)](i+t(242))&&n.test(i+t(250))?A():i("0")}))()}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(249)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();M(void 0,(function(){const t=b;let e;try{e=Function("return (function() "+t(265)+");")()}catch(r){e=window}const n=e.console=e[t(263)]||{},i=["log",t(268),t(252),t(245),t(231),"table",t(257)];for(let a=0;a<i.length;a++){const e=M[t(260)][t(266)][t(230)](M),r=i[a],o=n[r]||e;e[t(240)]=M.bind(M),e.toString=o[t(243)].bind(o),n[r]=e}}))();const E=_(259);function A(t){function e(t){const n=b;if(typeof t===n(258))return function(t){}[n(260)]("while (true) {}")[n(249)](n(253));1!==(""+t/t).length||t%20==0?function(){return!0}[n(260)](n(264)+n(256))[n(233)](n(232)):function(){return!1}[n(260)]("debugger")[n(249)](n(269)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=T;!function(t,e){const n=T,i=O();for(;;)try{if(993620===-parseInt(n(216))/1*(parseInt(n(222))/2)+parseInt(n(242))/3*(-parseInt(n(204))/4)+-parseInt(n(207))/5*(parseInt(n(208))/6)+-parseInt(n(213))/7+parseInt(n(211))/8+-parseInt(n(215))/9*(-parseInt(n(241))/10)+parseInt(n(239))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(210)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(){const t=["string","40rKwNFt","177966zVLyOo","call","apply","9623592smRFLe","bind","6913298RVFpOW","gger","14684913ZFsMmm","73tBfDYW","stateObject","console","test","length","info","4526xxwgDK","action","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","defines","constructor","while (true) {}","debu","init","toString","uniforms","chain","clone",'{}.constructor("return this")( )',"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","table","error","exception","11867515aaRjsJ","prototype","10oQvgCA","10875CJRxlF","warn","input","function *\\( *\\)","1688Krmvux","counter"];return(O=function(){return t})()}!function(){D(this,(function(){const t=T,e=new RegExp(t(203)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=R(t(229));e.test(i+t(232))&&n[t(219)](i+t(202))?R():i("0")}))()}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(t){const e=T,n=a({},t);return e(225)in t&&(n.defines=a({},t[e(225)])),e(231)in t&&(n[e(231)]=s[e(233)](t[e(231)])),n}function T(t,e){const n=O();return(T=function(t,e){return n[t-=202]})(t,e)}U(void 0,(function(){const t=T,e=function(){const t=T;let e;try{e=Function("return (function() "+t(234)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(218)]||{},i=["log",t(243),t(221),t(237),t(238),t(236),"trace"];for(let r=0;r<i[t(220)];r++){const e=U[t(226)][t(240)].bind(U),a=i[r],o=n[a]||e;e.__proto__=U[t(212)](U),e[t(230)]=o[t(230)][t(212)](o),n[a]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:L(235),fragmentShader:"\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"+E+L(224)};function R(t){function e(t){const n=T;if(typeof t===n(206))return function(t){}[n(226)](n(227)).apply(n(205));1!==(""+t/t)[n(220)]||t%20==0?function(){return!0}[n(226)](n(228)+n(214))[n(209)](n(223)):function(){return!1}[n(226)](n(228)+n(214))[n(210)](n(217)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function k(t,e){const n=Z();return(k=function(t,e){return n[t-=104]})(t,e)}const C=k;!function(t,e){const n=k,i=Z();for(;;)try{if(688422===parseInt(n(139))/1+-parseInt(n(108))/2*(parseInt(n(126))/3)+parseInt(n(150))/4+parseInt(n(142))/5*(-parseInt(n(110))/6)+-parseInt(n(161))/7*(-parseInt(n(147))/8)+parseInt(n(118))/9+-parseInt(n(146))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){F(this,(function(){const t=k,e=new RegExp(t(160)),n=new RegExp(t(171),"i"),i=Q("init");e[t(120)](i+t(113))&&n[t(120)](i+"input")?Q():i("0")}))()}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(104)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();H(void 0,(function(){const t=k,e=function(){const t=k;let e;try{e=Function(t(116)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(169)]=e[t(169)]||{},i=["log",t(148),t(175),"error",t(176),t(168),t(125)];for(let r=0;r<i[t(143)];r++){const e=H.constructor[t(158)][t(137)](H),a=i[r],o=n[a]||e;e[t(111)]=H[t(137)](H),e[t(114)]=o[t(114)][t(137)](o),n[a]=e}}))();const W=new l;class N{constructor(t){const e=k;!t&&(t=e(151));const n=j(V);n[e(128)]=n[e(128)][e(129)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(j(n)),i[0][e(166)][e(105)]=0,i[0][e(166)][e(162)]=0,i[1]=new c(j(n)),i[1][e(166)][e(105)]=1,i[1][e(166)].Y_IS_EVEN=0,i[2]=new c(j(n)),i[2].defines[e(105)]=0,i[2].defines[e(162)]=1,i[3]=new c(j(n)),i[3][e(166)][e(105)]=1,i[3][e(166)][e(162)]=1;const r=new p;r[e(172)][e(159)]=u,r[e(172)].magFilter=u,this._swapTarget=r,this._copyQuad=new y(new c(S)),this[e(167)]=new y(null),this[e(124)]=i}[C(127)](t,e,n,i=!1){const r=C;t[r(138)]&&(t=t[r(172)]);const o=n[r(154)],s=n[r(157)](),l=n.getRenderTarget();n.getClearColor(W);const c=this[r(149)],p=this._mipQuad,u=this[r(144)],x=this[r(124)];let v,m;i?(v=f[r(134)](t[r(153)][r(164)]),m=f[r(134)](t[r(153)][r(122)])):(v=Math.floor(t[r(153)][r(164)]),m=Math[r(130)](t[r(153)][r(122)]));const w=Math[r(130)](1.5*v),h=Math.floor(m);e[r(109)](w,h),u[r(172)].type!==e[r(172)][r(136)]?(u[r(112)](),u[r(117)](e),u[r(172)].image=a({},u[r(172)][r(153)])):u[r(109)](w,h),n[r(154)]=!1,n.setClearColor(0),n[r(155)](),c[r(107)][r(119)].tDiffuse[r(133)]=t,c[r(170)][r(178)](v,m,0,0,w,h),n.setRenderTarget(e),n[r(177)](),c[r(165)](n),n[r(163)](u),n[r(177)](),c[r(165)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[r(174)].value=u[r(172)],t[r(119)][r(132)][r(133)]=y,t[r(119)][r(173)][r(133)].set(g,d),t[r(119)][r(121)][r(133)][r(131)](v,m),p[r(107)]=t,g=Math[r(130)](g/2),d=Math[r(130)](d/2);const i=h-2*d;n.setRenderTarget(e),p[r(170)].setViewOffset(g,d,-v,-i,w,h),p.render(n),n[r(163)](u),t[r(119)][r(174)][r(133)]=e[r(172)],p[r(165)](n),y++}return n[r(163)](l),n[r(155)](s),n[r(156)](W),n[r(154)]=o,y+1}[C(112)](){const t=C;this[t(144)][t(112)](),this[t(167)][t(112)](),this._copyQuad[t(112)](),this[t(124)][t(123)]((t=>t.dispose()))}}function Q(t){function e(t){const n=k;if(typeof t===n(145))return function(t){}[n(115)](n(106))[n(104)](n(141));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(135)+n(152)).call("action"):function(){return!1}[n(115)]("debugger").apply(n(140)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function Z(){const t=["dispose","chain","toString","constructor","return (function() ","copy","3540357SjNfoS","uniforms","test","originalMapSize","height","forEach","_mipMaterials","trace","18SpNZHb","update","fragmentShader","replace","floor","set","parentLevel","value","floorPowerOfTwo","debu","type","bind","isWebGLRenderTarget","295591flOHdB","stateObject","counter","718690MkkdZE","length","_swapTarget","string","146800kyyyFX","1400IzAoNk","warn","_copyQuad","4820436usPVwM","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","gger","image","autoClear","setClearAlpha","setClearColor","getClearAlpha","prototype","minFilter","function *\\( *\\)","12061YHWjDX","Y_IS_EVEN","setRenderTarget","width","render","defines","_mipQuad","table","console","camera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","texture","parentMapSize","map","info","exception","clear","setViewOffset","apply","X_IS_EVEN","while (true) {}","material","449586sKocnH","setSize","6rfQTUH","__proto__"];return(Z=function(){return t})()}const X=$;!function(t,e){const n=$,i=B();for(;;)try{if(784508===-parseInt(n(419))/1+parseInt(n(485))/2+parseInt(n(432))/3+-parseInt(n(471))/4+-parseInt(n(454))/5*(-parseInt(n(446))/6)+parseInt(n(455))/7+parseInt(n(415))/8)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Y(this,(function(){const t=$,e=new RegExp(t(411)),n=new RegExp(t(474),"i"),i=q(t(478));e[t(452)](i+t(463))&&n[t(452)](i+"input")?q():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function $(t,e){const n=B();return($=function(t,e){return n[t-=410]})(t,e)}function B(){const t=["negate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","forEach","__proto__","sign","init","clear","exception","while (true) {}","string","copy","position","2485228mWRhSQ","set","elements","buffers","function *\\( *\\)","Vector3","apply","warn","3096416oFVXhO","sub","gger","constructor","1277758BXCSWc","multiplyScalar","length","reflectorMipMap","call","multiply","clone","action","lookAt","Vector4","normal","info","getWorldQuaternion","2015721WxLcGW","Quaternion","updateMatrixWorld","resolution","add","PerspectiveCamera",'{}.constructor("return this")( )',"update","setMask","ignoreObjects","counter","debu","texture","applyQuaternion","408zRPjPH","toString","stateObject","log","parent","UnsignedByteType","test","state","3620HXhRZF","4649267XlzHXk","getWorldPosition","Matrix4","setRenderTarget","bind","projectPoint","depth","reflect","chain","getRenderTarget","applyMatrix4","dot","value","console","matrixWorldInverse","Plane","3810880dwliXY","visible"];return(B=function(){return t})()}G(void 0,(function(){const t=$,e=function(){const t=$;let e;try{e=Function("return (function() "+t(438)+");")()}catch(n){e=window}return e}(),n=e[t(468)]=e[t(468)]||{},i=[t(449),t(414),t(430),"error",t(480),"table","trace"];for(let r=0;r<i[t(421)];r++){const e=G[t(418)].prototype[t(459)](G),a=i[r],o=n[a]||e;e[t(476)]=G[t(459)](G),e[t(447)]=o.toString[t(459)](o),n[a]=e}}))();const K=P({__name:X(422),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=X,i=t,r=new(x[n(470)]),a=new v,o=new(x[n(437)]),s=new N,l=d({width:i[n(435)],height:i.resolution,settings:{type:x[n(451)]}}),c=d({width:i[n(435)],height:i[n(435)],settings:{type:m}}),{camera:p,renderer:u,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!p[t(467)])return;r.set(new(x[t(412)])(0,1,0),0),r[t(465)](i.parent.matrixWorld),o[t(483)](p[t(467)]);const e=new(x[t(412)])(0,0,1).clone()[t(473)](),s=p[t(467)][t(456)](new w);e[t(462)](r[t(429)]);const c=new(x[t(412)]);r[t(460)](s,c);const v=c[t(425)]();v[t(416)](s),v[t(436)](c),o[t(484)][t(483)](v);const m=new(x[t(412)])(0,0,-1);m[t(445)](p.value[t(431)](new(x[t(433)]))),m[t(436)](s);const h=new(x[t(412)]);i[t(450)][t(456)](h),h.sub(m),h[t(462)](r[t(429)])[t(473)](),h[t(436)](i[t(450)][t(456)](new w)),o.up.set(0,1,0),o.applyQuaternion(p.value[t(431)](new(x[t(433)]))),o.up[t(462)](r[t(429)]),o[t(427)](h),o[t(434)]();const g=new(x[t(457)]);g[t(486)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g.multiply(o.projectionMatrix),g[t(424)](o[t(469)]),a[t(483)](g),r[t(465)](o[t(469)]);const d=new(x[t(428)])(r[t(429)].x,r[t(429)].y,r[t(429)].z,r.constant),y=o.projectionMatrix,S=new(x[t(428)]);S.x=(Math.sign(d.x)+y[t(487)][8])/y[t(487)][0],S.y=(Math[t(477)](d.y)+y[t(487)][9])/y[t(487)][5],S.z=-1,S.w=(1+y[t(487)][10])/y[t(487)][14],d[t(420)](2/d[t(466)](S)),y[t(487)][2]=d.x,y[t(487)][6]=d.y,y[t(487)][10]=d.z+1,y.elements[14]=d.w;const P=u[t(467)][t(464)]();u.value[t(458)](l.value),u[t(467)][t(453)][t(410)][t(461)][t(440)](!0),!1===u[t(467)].autoClear&&u[t(467)][t(479)](),i[t(441)][t(475)]((t=>t.visible=!1)),u[t(467)].render(f[t(467)],o),i[t(441)][t(475)]((e=>e[t(472)]=!0)),u[t(467)].setRenderTarget(P)})(),l[t(467)]&&c.value&&u[t(467)]&&s[t(439)](l[t(467)][t(444)],c[t(467)],u[t(467)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function q(t){function e(t){const n=$;if(typeof t===n(482))return function(t){}[n(418)](n(481))[n(413)](n(442));1!==(""+t/t)[n(421)]||t%20==0?function(){return!0}[n(418)]("debu"+n(417))[n(423)](n(426)):function(){return!1}[n(418)](n(443)+n(417)).apply(n(448)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=nt();;)try{if(898079===-parseInt(n(146))/1*(-parseInt(n(131))/2)+parseInt(n(126))/3+parseInt(n(135))/4*(parseInt(n(145))/5)+parseInt(n(139))/6*(-parseInt(n(130))/7)+parseInt(n(154))/8*(-parseInt(n(152))/9)+-parseInt(n(156))/10+parseInt(n(158))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(149)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(t,e){var n=nt();return(tt=function(t,e){return n[t-=125]})(t,e)}!function(){J(this,(function(){var t=tt,e=new RegExp(t(138)),n=new RegExp(t(129),"i"),i=it(t(142));e.test(i+t(141))&&n.test(i+"input")?it():i("0")}))()}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(149)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function nt(){var t=["392QvEQsG","length","constructor","function *\\( *\\)","6NbqOMw","gger","chain","init","prototype","return (function() ","69180ZkFcVZ","13836RcRlsA","string","error","apply","action","toString","1973799zpbHQy","__proto__","56LNBhLd","log","12101860EwMwDg","debu","7494421CZevPQ","counter","trace","call","stateObject","console","4075392EHRKZr","exception","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4076947sudCQX","120ACanks",'{}.constructor("return this")( )',"table","while (true) {}"];return(nt=function(){return t})()}function it(t){function e(t){var n=tt;if(typeof t===n(147))return function(t){}[n(137)](n(134))[n(149)](n(159));1!==(""+t/t).length||t%20==0?function(){return!0}[n(137)](n(157)+n(140))[n(161)](n(150)):function(){return!1}.constructor(n(157)+n(140))[n(149)](n(162)),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){var t,e=tt;try{t=Function(e(144)+e(132)+");")()}catch(l){t=window}for(var n=t[e(125)]=t[e(125)]||{},i=[e(155),"warn","info",e(148),e(127),e(133),e(160)],r=0;r<i[e(136)];r++){var a=et.constructor[e(143)].bind(et),o=i[r],s=n[o]||a;a[e(153)]=et[e(128)](et),a[e(151)]=s.toString[e(128)](s),n[o]=a}}))();export{K as _};
