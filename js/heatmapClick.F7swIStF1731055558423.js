import{a as t,U as n}from"./@tresjs.KsuCtVXf1731055558423.js";import{P as e}from"./tweakpane.yHWGBmom1731055558423.js";import{_ as o,a as r,ak as a,al as s}from"./three.3b9CEYeV1731055558423.js";import{_ as i}from"./heatmap.js-fix.By-B7-XK1731055558423.js";import{d as c,a6 as u,a3 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as y,J as v,j as b,al as w,aj as x,ak as _,m as I}from"./@vue.u2cBPEWn1731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";import"./@amap.Gx_2STAs1731055558423.js";const j=S;!function(t,n){const e=S,o=D();for(;;)try{if(687254===parseInt(e(187))/1*(-parseInt(e(158))/2)+parseInt(e(147))/3*(-parseInt(e(199))/4)+-parseInt(e(195))/5+parseInt(e(127))/6+-parseInt(e(136))/7+-parseInt(e(192))/8+parseInt(e(191))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=S,n=new RegExp(t(183)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z(t(167));n.test(o+t(166))&&e[t(169)](o+t(155))?z():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(125)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function S(t,n){const e=D();return(S=function(t,n){return e[t-=119]})(t,n)}M(void 0,(function(){const t=S;let n;try{n=Function("return (function() "+t(164)+");")()}catch(r){n=window}const e=n[t(197)]=n[t(197)]||{},o=["log",t(179),"info",t(131),t(126),t(150),t(196)];for(let a=0;a<o.length;a++){const n=M[t(145)][t(152)][t(168)](M),r=o[a],s=e[r]||n;n[t(176)]=M[t(168)](M),n[t(146)]=s.toString[t(168)](s),e[r]=n}}))();const A=[j(171)];function D(){const t=["boundingBox","1139224xyxDHh","while (true) {}","DoubleSide","1px solid #5384ff","setScalar","heatmapClickCom",'{}.constructor("return this")( )',"stateObject","chain","init","bind","test","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","object","mesh_0","ShaderMaterial","block","counter","__proto__","attributes","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","warn","length","createElement","body","function *\\( *\\)","needsUpdate","set","Texture","2EJtyyf","top","getZ","onclick","22367457ZARLtV","1506688EvZMCi","count","none","1363655YvNioG","trace","console","radius","4LVowrv","display","setDataMax","40px","_renderer","layerX","heatmap-canvas","push","apply","exception","6559032fywGIJ","deleteAttribute","border","layerY","error","geometry","getX","call","position","6440686FyAhTf","create","action","appendChild","show2dCanvas","setAttribute","debu","canvas","./draco/","constructor","toString","1112406mdWDhx","scale","primitive","table","left","prototype","absolute","gger","input","style"];return(D=function(){return t})()}const k=c({__name:j(163),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(170),{draco:!0,decoderPath:e(144)}))),a=await a,s(),a);h[e(172)][e(135)][e(185)](-5088.96,-3.08,39374.7),h[e(172)][e(148)][e(162)](.01);let m=null,g=null,y=null;g=new(o[e(186)])((()=>{const t=e;return y=document[t(181)](t(123)),y[t(156)][t(135)]=t(153),y[t(156)][t(188)]=t(120),y[t(156)][t(151)]="0",document[t(182)][t(139)](y),m=i[t(137)]({container:y,width:256,height:256,blur:"0.8",radius:c.radius}),m._renderer[t(143)][t(156)][t(129)]=t(161),m._renderer[t(143)][t(190)]=function(n){const e=t;m.addData({x:n[e(122)],y:n[e(130)],value:1,radius:c[e(198)]}),m[e(119)](1),g&&(g[e(184)]=!0)},m})()[e(121)][e(143)]);const v={vertexShader:e(178),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(160)]},b=new(o[e(173)])(v);h[e(172)].material=b;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:a}=t[n(157)];t[n(128)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(177)][n(135)][n(193)];e++)c[n(124)]((t[n(177)][n(135)][n(133)](e)-a.x)/s),c[n(124)]((t.attributes.position[n(189)](e)-a.z)/i);const u=new Float32Array(c);t[n(141)]("uv",new r(u,2))})(h.mesh_0[e(132)]),l((()=>{const t=e;y[t(156)][t(200)]=""+(c[t(140)]?t(174):t(194))})),(t,n)=>{const o=e;return p(),f(o(149),{object:d(h)[o(172)]},null,8,A)}}});function z(t){function n(t){const e=S;if("string"==typeof t)return function(t){}.constructor(e(159))[e(125)](e(175));1!==(""+t/t)[e(180)]||t%20==0?function(){return!0}[e(145)](e(142)+"gger")[e(134)](e(138)):function(){return!1}.constructor(e(142)+e(154))[e(125)](e(165)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=R,o=E();for(;;)try{if(508937===-parseInt(e(474))/1*(parseInt(e(467))/2)+parseInt(e(460))/3*(parseInt(e(472))/4)+parseInt(e(481))/5*(-parseInt(e(450))/6)+-parseInt(e(471))/7+-parseInt(e(492))/8+parseInt(e(473))/9+-parseInt(e(469))/10*(-parseInt(e(466))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(482)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=R,n=new RegExp(t(449)),e=new RegExp(t(483),"i"),o=Z("init");n.test(o+t(480))&&e[t(468)](o+t(452))?Z():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(482)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(){const t=["72nUqUPJ","点击左侧蓝色画框","input","string","prototype","显示二维图","call","error","counter","show2dCanvas","176535TQVyoi","warn",'{}.constructor("return this")( )',"TresPerspectiveCamera","console","constructor","855822RBSftj","22390QyOJsX","test","290cecmrD","stateObject","3285149bMFblj","20tbznZJ","1159596dMMNge","51mgSXbE","__proto__","#030311","length","action","radius","chain","289330AVIqlq","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","return (function() ","debu","trace","toString","log","addButton","table","3485968QFMbxy","bind","#ffffff","function *\\( *\\)"];return(E=function(){return t})()}function R(t,n){const e=E();return(R=function(t,n){return e[t-=448]})(t,n)}B(void 0,(function(){const t=R;let n;try{n=Function(t(485)+t(462)+");")()}catch(r){n=window}const e=n[t(464)]=n[t(464)]||{},o=[t(489),t(461),"info",t(457),"exception",t(491),t(487)];for(let a=0;a<o[t(477)];a++){const n=B[t(465)][t(454)][t(493)](B),r=o[a],s=e[r]||n;n[t(475)]=B[t(493)](B),n[t(488)]=s[t(488)][t(493)](s),e[r]=n}}))();const U=c({__name:"heatmapClick",setup(t){const o=R,r={clearColor:o(476),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,o(459),{label:o(455)}),c.addBinding(i,o(479),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(490)]({title:o(451)}),(t,e)=>{const a=o,s=m("TresCanvas");return p(),g(s,I(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=v(a(463),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v("TresDirectionalLight",{position:[5,10,7.5],color:a(448),intensity:5},null,-1)),e[2]||(e[2]=v("TresGridHelper",{args:[50,25]},null,-1)),(p(),g(w,null,{default:y((()=>[b(k,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function Z(t){function n(t){const e=R;if(typeof t===e(453))return function(t){}[e(465)]("while (true) {}")[e(482)](e(458));1!==(""+t/t)[e(477)]||t%20==0?function(){return!0}.constructor(e(486)+"gger")[e(456)](e(478)):function(){return!1}[e(465)](e(486)+e(484))[e(482)](e(470)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
