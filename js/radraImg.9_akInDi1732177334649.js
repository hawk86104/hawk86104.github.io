import{b as t,m as n,U as e}from"./@tresjs.ty5XF8T_1732177334649.js";import{_ as o,a0 as r,V as i}from"./three.rV-MfnQb1732177334649.js";import{_ as s,n as c}from"./three-tile.rGySB-KI1732177334649.js";import{_ as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.9bAyXGpV1732177334649.js";import{d as u,a6 as p,w as l,o as f,D as m,J as h,u as d,r as g,b as y,f as I,g as b,j as _,m as w,al as j,F as v,e as x,aj as S,ak as T}from"./@vue.-THQH3GC1732177334649.js";import{P as z}from"./tweakpane.yHWGBmom1732177334649.js";import{_ as M}from"./informationDiv.mMUTqogX1732177334649.js";import"./@vueuse.n223N0GC1732177334649.js";import"./@fesjs.jFXTKHIV1732177334649.js";import"./vue-router.mzGhX2Y31732177334649.js";import"./lodash-es.kYt-_xTG1732177334649.js";import"./@qlin.yHhFDldE1732177334649.js";import"./pinia.gDmc4Bet1732177334649.js";import"./vue-demi.C4xddsk91732177334649.js";import"./@floating-ui.BPbuo5Gx1732177334649.js";import"./@juggle.7yjBMqoW1732177334649.js";const D=A;function A(t,n){const e=P();return(A=function(t,n){return e[t-=327]})(t,n)}!function(t,n){const e=A,o=P();for(;;)try{if(309578===-parseInt(e(335))/1+parseInt(e(338))/2+-parseInt(e(330))/3*(-parseInt(e(347))/4)+-parseInt(e(361))/5+parseInt(e(372))/6+-parseInt(e(333))/7+parseInt(e(345))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=A,n=new RegExp(t(374)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=R("init");n[t(353)](o+t(354))&&e[t(353)](o+t(370))?R():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(332)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(){const t=["input","bind","1221582iGyMLV","push","function *\\( *\\)","geo2pos","TresGroup","warn","console","TresPlaneGeometry","Texture","trace","prototype","exception","gger","opacity","15paMCWo","height","apply","1054046pqqNRe","map","589482NrzYAk","action","info","1138154GnCget","__proto__","Vector3","vertexShader","scaleImg","constructor","replace","1253312nnIicE","log","137572XOtzYo","MeshPhongMaterial","uniform sampler2D map;\n\t","onBeforeCompile","call","toString","test","chain","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","position","applyMatrix4","40.png","radraImgShow","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","258325udefBs",'{}.constructor("return this")( )',"#include <displacementmap_vertex>","color","debu","needsUpdate","string","scale","length"];return(P=function(){return t})()}E(void 0,(function(){const t=A;let n;try{n=Function("return (function() "+t(362)+");")()}catch(r){n=window}const e=n.console=n[t(378)]||{},o=[t(346),t(377),t(337),"error",t(327),"table",t(381)];for(let i=0;i<o[t(369)];i++){const n=E.constructor[t(382)][t(371)](E),r=o[i],s=e[r]||n;n[t(339)]=E[t(371)](E),n[t(352)]=s.toString[t(371)](s),e[r]=n}}))();const Z=[D(356)],k=[D(368),"material","rotateX","position-y"],L=u({__name:D(359),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=D;let i,s;const c=n,u=new(o[e(348)])({displacementMap:new(o[e(380)]),transparent:!0,side:r,opacity:c[e(329)],displacementScale:.5,displacementBias:0});u[e(350)]=t=>{const n=e;t[n(341)]=n(349)+t[n(341)],t.vertexShader=t[n(341)][n(344)](n(363),n(355))};const g=c[e(334)][e(375)](new(o[e(340)])(105,34,0));g[e(357)](c[e(334)].matrix);const y=a[e(342)](c[e(334)],{x:67,y:11},{x:140,y:57},c[e(331)]),I=[];for(let t=0;t<9;t++)I[e(373)](e(360)+t+e(358));let b=0;const _=([i,s]=p((()=>t(I))),i=await i,s(),i);u.map=_[b],l((()=>[c[e(364)],c[e(329)]]),(([t,n])=>{u[e(329)]=n}));let w=null,j=!1;return j?(clearInterval(w),w=null,j=!1):(w=setInterval((()=>{const t=A;b=b<I.length-1?b+1:0,u.map=_[b],u[t(366)]=!0,console[t(346)](b)}),1e3),j=!0),(t,n)=>{const o=e;return f(),m(o(376),{position:[...d(g)]},[h("TresMesh",{scale:[d(y).x,d(y).y,t[o(331)]],material:d(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(331)]/5},n[0]||(n[0]=[h(o(379),{args:[1,1,529,420]},null,-1)]),8,k)],8,Z)}}});function R(t){function n(t){const e=A;if(typeof t===e(367))return function(t){}[e(343)]("while (true) {}").apply("counter");1!==(""+t/t)[e(369)]||t%20==0?function(){return!0}.constructor("debu"+e(328))[e(351)](e(336)):function(){return!1}[e(343)](e(365)+e(328)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=Q;!function(t,n){const e=Q,o=W();for(;;)try{if(420868===-parseInt(e(326))/1+-parseInt(e(331))/2*(-parseInt(e(339))/3)+parseInt(e(354))/4+-parseInt(e(358))/5*(parseInt(e(314))/6)+-parseInt(e(346))/7*(parseInt(e(306))/8)+-parseInt(e(365))/9*(parseInt(e(351))/10)+parseInt(e(337))/11*(parseInt(e(313))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["apply",'{}.constructor("return this")( )',"length","while (true) {}","info","error","27564sjIBmL","1920UlfdMb","chain","bind","MapBoxSource","domElement","prototype","test","TresDirectionalLight","log","toString","value","stateObject","77101jTchbT","rotateX","tdLight","function *\\( *\\)","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","52wDVrMv","plugin","controlsEvents","call","TileMap","primitive","4906wQQZLd","__proto__","77958lBdoZB","console","gger","init","showLocation","input","trace","1107932HwJOIH","table","mapbox.satellite","透明度","counter","21830RubYCh","map","object","616188zFmFVB","target","constructor","mapBoxShow3","9115SRaICn","action","height","addBinding","mapbox.terrain-rgb","return (function() ","exception","576weQmAu","warn","geo2pos","localToWorld","Vector3","debu","copy","32PvbzRx"];return(W=function(){return t})()}!function(){C(this,(function(){const t=Q,n=new RegExp(t(329)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=U(t(342));n.test(o+t(315))&&e[t(320)](o+t(344))?U():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=W();return(Q=function(t,n){return e[t-=303]})(t,n)}O(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(363)+t(308)+");")()}catch(e){n=window}return n}(),e=n[t(340)]=n[t(340)]||{},o=[t(322),t(366),t(311),t(312),t(364),t(347),t(345)];for(let r=0;r<o[t(309)];r++){const n=O.constructor[t(319)][t(316)](O),i=o[r],s=e[i]||n;n[t(338)]=O[t(316)](O),n[t(323)]=s[t(323)].bind(s),e[i]=n}}))();const V=[F(353)],X=F(330),G=u({__name:F(357),setup(t){const e=F,r=g({height:200,opacity:1}),u=new z({title:"参数"});u[e(361)](r,e(360),{label:"高度",min:10,max:300,step:1}),u.addBinding(r,"opacity",{label:e(349),min:0,max:1,step:.1});const p=new(s[e(332)][e(317)])({token:X,dataType:"image",style:e(348)}),x=new(c[e(317)])({token:X,dataType:"terrain-rgb",style:e(362),maxLevel:15}),S=new(s[e(335)])({imgSource:p,demSource:x,lon0:90,minLevel:2,maxLevel:20});S[e(327)](-Math.PI/2);const T=new i(105,34,0),M=new(o[e(303)])(110,0,1e4),D=S.localToWorld(S[e(367)](T)),A=S[e(368)](S.geo2pos(M)),B=y(),{camera:E,controls:P,scene:Z,renderer:k}=n();return E[e(324)]&&E[e(324)].position[e(305)](A),l((()=>P[e(324)]),(t=>{const n=e;t&&(t[n(355)][n(305)](D),a[n(333)](t,E[n(324)],Z[n(324)]))})),l((()=>B[e(324)]),(t=>{t&&t[e(355)].position.copy(D)})),a[e(343)](E.value,k[e(324)][e(318)],S),(t,n)=>{const o=e;return f(),m(v,null,[h(o(321),{ref_key:o(328),ref:B,position:[0,2e3,1e3],intensity:1},null,512),h(o(336),{object:d(S)},null,8,V),(f(),I(j,null,{default:b((()=>[_(L,w({map:d(S)},r),null,16,[o(352)])])),_:1}))],64)}}});function U(t){function n(t){const e=Q;if("string"==typeof t)return function(t){}[e(356)](e(310)).apply(e(350));1!==(""+t/t)[e(309)]||t%20==0?function(){return!0}.constructor(e(304)+e(341))[e(334)](e(359)):function(){return!1}[e(356)]("debu"+e(341))[e(307)](e(325)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=H;!function(t,n){const e=H,o=Y();for(;;)try{if(247058===parseInt(e(198))/1+parseInt(e(210))/2+-parseInt(e(232))/3*(-parseInt(e(209))/4)+parseInt(e(202))/5*(-parseInt(e(215))/6)+parseInt(e(217))/7+-parseInt(e(231))/8+parseInt(e(214))/9*(-parseInt(e(226))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(203)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=H,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(233),"i"),o=K(t(206));n.test(o+t(225))&&e[t(227)](o+t(224))?K():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(203)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(){const t=["warn","TresPerspectiveCamera","13280ZQWqDg","apply","#dbf0ff","table","init","bind","__proto__","144aFZEKO","654424ZtzDzX","counter","radraImg","call","10539SUVvrA","414lhyfcZ","error","504224AuiuAX","console","exception","gger","return (function() ","action","constructor","input","chain","3490SWIEWo","test","debu","log","info","1257528EYCPZP","28002nsdunJ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","toString","prototype","length","TresAmbientLight","260924vLccPX","string"];return(Y=function(){return t})()}function H(t,n){const e=Y();return(H=function(t,n){return e[t-=193]})(t,n)}N(void 0,(function(){const t=H;let n;try{n=Function(t(221)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(218)]||{},o=[t(229),t(200),t(230),t(216),t(219),t(205),"trace"];for(let i=0;i<o[t(196)];i++){const n=N[t(223)][t(195)][t(207)](N),r=o[i],s=e[r]||n;n[t(208)]=N[t(207)](N),n[t(194)]=s[t(194)][t(207)](s),e[r]=n}}))();const J=u({__name:$(212),setup(t){const n=$,o=g({clearColor:n(204),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=x("TresCanvas");return f(),m(v,null,[_(c,w(o,{"window-size":""}),{default:b((()=>[i[0]||(i[0]=h(s(201),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(d(e),S(T(r)),null,16),i[1]||(i[1]=h(s(197),{intensity:1},null,-1)),_(G)])),_:1},16),_(M)],64)}}});function K(t){function n(t){const e=H;if(typeof t===e(199))return function(t){}[e(223)]("while (true) {}").apply(e(211));1!==(""+t/t)[e(196)]||t%20==0?function(){return!0}[e(223)]("debugger")[e(213)](e(222)):function(){return!1}[e(223)](e(228)+e(220)).apply(e(193)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
