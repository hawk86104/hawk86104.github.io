import{z as o}from"./three-custom-shader-material.Dfz3g2j31748945481918.js";import"./HeightCorrection.Bq98L9tL1748945481918.js";import"./three-tile.ChgbAgEO1748945481918.js";import"./@tweenjs.CL1bcu711748945481918.js";/* empty css                                                                                    */import"./utils.CSJa7qjI1748945481918.js";import{l as e,U as t,P as n,M as r,T as i,a,r as u}from"./raycasterEvent.7cFVA6Vl1748945481918.js";import"./index.B0UGnur31748945481918.js";import{_ as s,a as c}from"./radraB.vue_vue_type_script_setup_true_lang.k5ANqUE81748945481918.js";import{_ as l}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.BIvQNgBT1748945481918.js";import{_ as W}from"./fireA.vue_vue_type_script_setup_true_lang.BQYwU0Un1748945481918.js";import{_ as f}from"./fireB.vue_vue_type_script_setup_true_lang.BXtiQ-1F1748945481918.js";import{_ as d}from"./smokeA.vue_vue_type_script_setup_true_lang.Bcxzwwft1748945481918.js";import{_ as p}from"./precipitation.vue_vue_type_script_setup_true_lang.Cyf06DGn1748945481918.js";import{_ as m}from"./cloudMesh.vue_vue_type_script_setup_true_lang.C5UbBFFT1748945481918.js";import{_ as h}from"./rippleMesh.vue_vue_type_script_setup_true_lang.De6j4uWH1748945481918.js";import{e as v,b as x,m as _}from"./@tresjs.Fe0mFN5V1748945481918.js";import{ae as g,V as C,cC as y,a4 as S,g as w,S as P,M as k,Q as b,cw as j,cx as R,cy as O,cz as M,ab as q,C as B,b9 as T,cR as z,ap as I,as as Z,c6 as Q,q as G}from"./three.Bg9S6UMF1748945481918.js";import{l as J}from"./utils.Dk0POMUx1748945481918.js";import{d as N,a5 as K,G as L,o as D,F as H,W as E,I as V,u as A,b as F,a2 as U,j as X,e as Y,f as $,am as oo,v as eo,r as to,h as no,m as ro}from"./@vue.C_fjx3FT1748945481918.js";import{T as io}from"./3d-tiles-renderer.Bp4eCIjc1748945481918.js";import"./d3-geo.B3PhR9Rj1748945481918.js";import"./d3-array.G5ptHY8Z1748945481918.js";import"./axios.CGdxWwVM1748945481918.js";import"./axios.DLTVXJci1748945481918.js";import"./pinia.BlZ7d4KF1748945481918.js";import"./@fesjs.C-LkgHF-1748945481918.js";import"./vue-router.w-0wu-F31748945481918.js";import"./lodash-es.C7pWAXPe1748945481918.js";import"./@qlin.q6OWdsQV1748945481918.js";import"./@babel.BPq7uOAK1748945481918.js";import"./@floating-ui.BFjFSAYt1748945481918.js";import"./@juggle.CcBCnTIR1748945481918.js";import"./color.Be6UCNXK1748945481918.js";import"./@amap.CGUF9xH41748945481918.js";import"./color-string.C7d9cQfn1748945481918.js";import"./color-name.BQ5IbGbl1748945481918.js";import"./simple-swizzle.DgcmYcj91748945481918.js";import"./is-arrayish.CLsR9Wfx1748945481918.js";import"./color-convert.D2FoIirP1748945481918.js";import"./lodash.h4Hxn7G01748945481918.js";import"./@mapbox.B8uYRbGC1748945481918.js";import"./three-mesh-bvh.liiCtd_m1748945481918.js";import"./index.jRIh9BYd1748945481918.js";import"./object-hash.DNK13VHg1748945481918.js";import"./jszip.C2DHIzn21748945481918.js";import"./SPE.DCrGY4PW1748945481918.js";import"./postprocessing.meaIGyM81748945481918.js";import"./@vueuse.C8008KiJ1748945481918.js";const ao={renderOrder:3e3},uo=["args"],so=["map","side","color"],co=N({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(o){let t,n;const r=o,{map:i}=([t,n]=K((()=>x({map:"./plugins/digitalCity/image/line.png"}))),t=await t,n(),t);i.needsUpdate=!0,i.wrapS=i.wrapT=g,i.repeat.set(1,1);const a=([t,n]=K((()=>J(r.geoJson))),t=await t,n(),t);let u=[];for(var s=0;s<a.length;s++){const o=a[s],t=[];o.geometry.coordinates.forEach((o=>{const n=e(o[0],o[1],50);t.push(new C(n[0],0,-n[1]))}));let n=r.color;n="primary"===o.properties.highway?"#7eff10":"tertiary"===o.properties.highway?"#0eeeee":"secondary"===o.properties.highway?"#ffffff":"#ff0ffe",u.push({cr3:new y(t),color:n})}const{onLoop:c}=v();return c((()=>{i.offset.x-=Math.random()/20*r.speed})),(o,e)=>(D(),L("TresGroup",null,[(D(!0),L(H,null,E(A(u),(o=>(D(),L("TresMesh",ao,[V("TresTubeGeometry",{args:[o.cr3,64,r.radius,20,!1]},null,8,uo),V("TresMeshBasicMaterial",{map:A(i),side:A(S),transparent:!0,color:o.color},null,8,so)])))),256))]))}}),lo=o=>{o.onLoadTileSet=e=>{const t=new w,n=new P,r=new k;let i=null,a=0;o.getOrientedBounds(t,r)?(i=(new C).setFromMatrixPosition(r),a=i.length()):o.getBoundingSphere(n)&&(i=n.center.clone(),a=i.length());const u=i?.normalize(),s=((o,e)=>{const t=new b,n=(new C).crossVectors(o,e);return t.x=n.x,t.y=n.y,t.z=n.z,t.w=1+o.clone().dot(e),t.normalize(),t})(u,new C(0,1,0));o.group.quaternion.x=s.x,o.group.quaternion.y=s.y,o.group.quaternion.z=s.z,o.group.quaternion.w=s.w,o.group.position.z=-a}},Wo=["object","rotation"],fo=N({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(e){const t=e,n=F(0),r=new io("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");r.errorTarget=2,r.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{if(e.isMesh){(e=>{const{geometry:r}=e;r.computeBoundingBox(),r.computeBoundingSphere();const{max:i,min:a}=r.boundingBox,u=new o({baseMaterial:new T,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new B(t.bulidingsColor)},uOpacity:{value:t.opacity},uLightColor:{value:new B("#ffffff")},uTopColor:{value:new B(t.topColor)},uTime:n,uGradient:{value:t.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:q});e.material.dispose(),e.material=u})(e),e.receiveShadow=!1,e.castShadow=!1;const r=new j(e.geometry.clone());let i=(new R).fromEdgesGeometry(r),a=new O({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const u=new M(i,a);u.applyMatrix4(e.matrix.clone()),e.parent.add(u)}}));const i=new w,a=new P;r.getBoundingBox(i)?(i.getCenter(r.group.position),r.group.position.multiplyScalar(-1)):r.getBoundingSphere(a)&&(r.group.position.copy(a.center),r.group.position.multiplyScalar(-1))})),lo(r);const{renderer:i,sizes:a}=_();U((()=>{a.width.value&&(r.setCamera(t.camera),r.setResolutionFromRenderer(t.camera,i.value))}));const{onBeforeLoop:u}=v();return u((({delta:o})=>{n.value+=2*o,t.camera&&a.width.value&&(t.camera.updateMatrixWorld(),r.update())})),(o,e)=>(D(),L("TresGroup",null,[V("primitive",{object:A(r).group,rotation:[-Math.PI/2,0,0]},null,8,Wo)]))}}),po=["object","rotation"],mo=N({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(o,{expose:e}){const u=o,{renderer:s,scene:c}=_(),l=new n;l.coordType=t;const W=new r;W.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",W.showTileNo=!1,W.useWorker=!0;const f=new i(l,W);f.showBoundingBox=!1,f.wireframe=!1,f.flatShading=!1,f.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let d=new B("#4688b5");f.filter.monochrome={r:d.r,g:d.g,b:d.b};const p=new a;p.provider=f,p.bbox=u.bbox,p.maxZoom=u.maxZoom,u.camera.up=new C(0,1,0),u.camera.position.set(u.mapCenter[0],u.mapCenter[2],2e3-u.mapCenter[1]),u.camera.lookAt(new C(u.camera.position.x,0,u.camera.position.z-3e3)),p.camera=u.camera;let m=null;U((()=>{s.value&&(m=new z(u.camera,s.value.domElement),m.enableDamping=!0,m.dampingFactor=.05,m.minDistance=600,m.position0.set(u.camera.position.x,u.camera.position.y,u.camera.position.z),m.target.set(u.camera.position.x,0,u.camera.position.z-2e3))}));const{onLoop:h}=v();return h((()=>{if(s.value){const o=50*Math.abs(u.camera.position.y);u.camera.far=o+5e3,u.camera.updateProjectionMatrix(),m&&(m.update(),m.target.y=0),p.update(),s.value.render(c.value,u.camera)}})),e({camera:u.camera,map:p}),(o,e)=>(D(),L("primitive",{object:A(p),rotation:[-Math.PI/2,0,0]},null,8,po))}});function ho(){var o=["qSonx1nL","v8k+j1pdQqXfpmkTq8oQiSkupSoiW7JdHZpdVCkxB8opW7lcTcNcV2rpfSo6W4zh","cY7dOCoYWOi","WR0ziSoqW5W","t8kSz0pdSHbdk8kRwCo7","W581WQybWO0PWQJcRYhcTXy","WRlcUmofB8oUzqa","BSkLsL3dJG","W47dQhWswa","mhaWb8oOWQzBWRn5yZC","rCkTyeq","W7fpW7aDWOi","WRTkWQlcV8kJ","BSklp8kYBG","ACo6W64P","W5ddIuGcWOe","ACo0W6W2WOtdRNi","WR9GkmkIW45EW5FdMc0","xJn+WRbVmCkEW6WpWRRcTGG","WP7cQd5ckKpcJNZcRSoT","a8o/vWW","W5ldLLyDWPFcJSkf","q8kUmmkirq","lLZcMYZdIW","zSo+W6WIWP/dQG","W709WQD8WO3dGSoyWPau","pmkNDqpcGW","at/dMMm","WPzIWQJcTCkp","yaDTBa","AmoYW6WH","W63cNSoXbYaHWPevsG","W5FdQ8k0WOTZWQFdSGtdPIiCFhhcJCo1WQzNdd7dICoxD0uOxSoTWOvCW6e4ESkeWOup","ma8SW7pcKbO","bxZcJq7dKW","W4PMW6KxWPq","WRCpkCk3","C8kiWQ8qdSoRWRZdPW","W4nUWO4wpG","srXJDmkV","mCoyWOWk","W7D6iCooW7GqWOxcTSo1WO1rW7PACmkQWPWsW5RdRSovWR5WWRS+kSk1WQNdImoYwcmQegG","WPfOWPG4bJ3dVZZdSJqboW","hCo/DCoSW6y","W5ZdVw0mqSkm","BX3cVIm8","W7nrWQqW","W4vTW7aPWQe","zxlcSgK","uWvcsLu","wmodm3FdOq","ddVdNMP1","fI/dGSoZWOr/lCoP","W7SNWOFcVuinm0bGrmoGfSkFj0VdHCo2yqNcJmoIzCoyW73cVmoDiJtcJMzAiWXK","WPdcN8oBEmof","W6W7ymo8","nmoQDZhcTq","W5ehWRz8WOhdNG","fIxdOSoZ","WRVdKCkLvMCTWQK+uudcIa","WPOLb8o2W4q","W6i4jCkYWPq","W7tdVCoiWQSM","WPegyq8q","mCosWQWkdSoeWOtdHq","t8omB0Hv","eSoWpHJcGq","W5ldKvKhWPy","iCopyCoiW58","smkap0yqu8oKWOVdId5L","W6WXqmo8falcJCk7","zNBcSxm","W4SLW4rJx3RdTd3cV2HeFmkss2fQWQrWBq","W5pcJCkLW6Kw","W5KFW7LTWO3dMmoeWRS5pComzY3cVNhdTx1ph1fulCopqd3dK2CRt3KEW5W","W6inW6BdOSoSDSoPsr7dGtxdKa","W6VcQCozeX8","fxq4W60WASoaWQzqW7ZdRW","WOVdIt9eAW","W5RdN3ddJSkOohtcV8oj","W4BdTMOr","sCkgp1e","hSoxwH3cSa","f3GIW7CRDG","WQpcSSoFACoZz0uVW5RcHSktWPrqCGmkWRddN1m","qCkdgmkHWQzNymoxlSotfay","rSoBC0btWPe","CNJcTNnZW7FcHW","f8o9uWZcSeW","W7qodCkxWRDoW4ldLSkq","W7nNW6C0","ASkBp8oH","W7rXW5eaWOSyWO7dMSoW","xGdcGYuN","WQeBAcud","W4PEW5eEWP0","w1ZcULTQ","CCkVW6SAd8o6WP3dNConW7tdMJuEWQ7dQW","jIhdSYXbW4lcPSoTW7Cu","CcPIxwu","WQX9kCkLW5vyW5VdIZZcN3y","smk2t3VdLCoFjSkvrCobW7ZcGW","yLuCW7VcNbldR8oH","W4rJWQ7dUbzcAq","W7tdUCozWRm","W4pdV2a","WRNcPmoPAmod","W4G+e8kwWQXiW5JdQSk7WRLc","W48gxmoCiq","WPueyWWB","FrNcVcyRWRG","sCorC1rtWOTvzG/dR1G","W71PW7KsWP0","exWZW6W","eSkRC03cRSozW70RW7xcRCkfWOVdScNcGSo6W4OWCCoiWR7dOuzAWPz/h3FcGSoNWQRcOW","WPuSyCkMWO14yG","p8oxWOuBgW","W7FcNtzetSkvW6hdLq","D2lcRx5ZW7VcMSonWQDpWONdGceeWOrW","W71nW7WJWRG","wmoBAvjvWPCalr3dTutcOSoLW6OXCSkqBLu","WRXpWRZcSmkUk8oGseRcQIlcT8kJxSo7ra","sSkWs3NdMSkFlCkJxmoeW6i","W7pcM8k8at87WOSovKFcRCkvjSo4WPbHq03cT8k1kCkyWPJcJCo/W4qWWRJdM8o4w8kC","x8kEymoHW78ihCk7","WO13W6juW4i","Bmkxm8oW","W4enWRL9WPBdHmocWQW/j8oD","W7CLC8oNWPCEW4JdHZZcSu/cQG","WOm5gmo3W5/dQmkxW5Ct","W5hcOCk5W481","WO9OW7XlW48PWRZcIdRcMGW","W7BcOSoZgtVcOb0otCoKWP8T","W4ZdT2invCkwbgVdLdad","DCkPeCkjAa","WRNdTrHsAa","hCoWWRi3oq","Eb7cNrJdT8ovWQRcJG","W7SIh8krW5zYW4RdSG","pSocuCogW74","WQldRbFdNetcIK/dIZFcS3ixW78kjCkoW57dKSo3","W5aSu8kgWRDuW57dVCk9WQntWQnpq8kVW6q/WPVdH8o7W7WZWQiRB8kMWPVdH8kblYDE","i8o7vSobW6W","W5OXWQelWOTRWO3cQtRcRrKT","WPFcOdTgemkkahNdItWZ","WPJcRJXpz8k0iKBdKc4","sSkrW4GLcq","xSomFerc","WO40fCkHWPm","WPHOW4fmW4KYWQFcJa","W5ZdPgyghK3cOg7cQCogyq","q8oqDfm","WOFcUc9CucVdQs3dP8kmpN4","W4G5hmkmWRy","yGlcQq","WP18fCkHW6i","eI/dSwju","DCkNimkrF0qvW4G","gCoznveLvmo0WRO","W40VW6nIx33cUNi","W65SW700","A8oRW7iPWPi","DCkIW6mecCkY","zCkjh8obW4i","WQ/dIabKtCkL","W70Ki8kYW6bFW4VdUG","cSk+zcBcIq","WROCaCkqWR8","W4jZtSkZW6hdNCkIW58uWRq"];return(ho=function(){return o})()}!function(){function o(o,e,t,n,r){return So(o- -683,r)}function e(o,e,t,n,r){return So(e- -306,o)}function t(o,e,t,n,r){return So(t- -518,o)}var n,r,i=ho();function a(o,e,t,n,r){return So(n- -625,o)}for(;;)try{if(264456===parseInt(t("x!ZN",0,-189))/1*(parseInt(o(-487,0,0,0,"QbC*"))/2)+-parseInt(a("zHMU",0,0,-413))/3*(parseInt(t("TJ3q",0,-173))/4)+-parseInt(e("5vsS",-62))/5*(parseInt(a("x!ZN",0,0,-317))/6)+-parseInt(t("f8Nb",0,-167))/7*(-parseInt(t("D%jI",0,-174))/8)+-parseInt((n=-486,r="8k%2",So(n- -825,r)))/9+-parseInt(t("eK&D",0,-312))/10*(parseInt(e("f8Nb",46))/11)+-parseInt(o(-348,0,0,0,"TJ3q"))/12*(-parseInt(e("d29l",3))/13))break;i.push(i.shift())}catch(u){i.push(i.shift())}}();var vo,xo=(vo=!0,function(o,e){function t(o,e,t,n,r){return So(o-328,t)}function n(o,e,t,n,r){return So(n-963,o)}function r(o,e,t,n,r){return So(o- -215,e)}if(r(27,"8S&t")===n("&c7w",0,0,1264)){var i;try{i=_0x318d09(t(619,0,"P008")+'{}.constructor("return this")( ));')()}catch(u){i=_0x380b54}return i}var a=vo?function(){function i(o,e,n,r,i){return t(n- -706,0,o)}function a(o,e,t,r,i){return n(e,0,0,o- -1503)}function u(o,e,t,n,i){return r(e- -215,o)}function s(o,e,t,r,i){return n(r,0,0,i- -774)}function c(o,e,n,r,i){return t(n- -271,0,r)}if(s(0,0,0,"(vZj",422)!==s(0,0,0,"&Bwl",535))(function(){return!1})[i("f8Nb",0,-38)](i("X0dI",0,-80)+"gger")[c(0,0,256,"&Z*h")]("stateObject");else if(e){if(i("Z2jL",0,-41)===s(0,0,0,"8S&t",407)){var l=e[c(0,0,279,"FDtI")](o,arguments);return e=null,l}var W;try{W=_0x232e85(s(0,0,0,"h]$i",468)+'{}.constructor("return this")( ));')()}catch(x){W=_0x455440}for(var f=W[c(0,0,270,"P008")]=W[s(0,0,0,"AWf%",511)]||{},d=[u("wdzA",-118),c(0,0,300,"SsyM"),i("f8Nb",0,-91),c(0,0,373,"&c7w"),a(-302,"qgvJ"),u("AiPu",-89),u("6PiZ",-76)],p=0;p<d[i("&Z*h",0,-147)];p++){var m=_0x56940b[c(0,0,333,"QbC*")][a(-316,"TJ3q")][c(0,0,345,"QbC*")](_0x2d4815),h=d[p],v=f[h]||m;m[c(0,0,356,"8S&t")]=_0x4b7506.bind(_0xd5d28b),m[u("AiPu",-235)]=v[a(-263,"rxRz")].bind(v),f[h]=m}}}:function(){};return vo=!1,a})(void 0,(function(){function o(o,e,t,n,r){return So(t-321,r)}function e(o,e,t,n,r){return So(r-783,e)}function t(o,e,t,n,r){return So(e-482,n)}return xo[(n=-301,r="h]$i",So(n- -498,r))]()[o(0,0,521,0,"6cI3")](t(0,841,0,"wdzA"))[o(0,0,580,0,"Qa&*")]()[e(0,"OtH(",0,0,1117)](xo)[e(0,"f8Nb",0,0,1034)](t(0,774,0,"&Bwl"));var n,r}));xo();var _o,go=(_o=!0,function(o,e){function t(o,e,t,n,r){return So(n-374,t)}if(t(0,0,"x!ZN",647)===So(201,"X0dI")){var n=_o?function(){function n(o,e,n,r,i){return t(0,0,n,o- -1222)}function r(o,e,n,r,i){return t(0,0,e,o- -743)}if("IiXWL"!==n(-580,0,"(DHh")){var i=_0x312799[n(-541,0,"TJ3q")].prototype[n(-515,0,"X0dI")](_0xac65f1),a=_0x542dbe[_0x2a13d1],u=_0x1b0a8b[a]||i;i[n(-552,0,"(DHh")]=_0x494107.bind(_0x3105ee),i[n(-492,0,"zHMU")]=u[r(-172,"h]$i")][r(-133,"IXI%")](u),_0xa263c2[a]=i}else if(e){var s=e.apply(o,arguments);return e=null,s}}:function(){};return _o=!1,n}return!1});!function(){go(this,(function(){function o(o,e,t,n,r){return So(n-564,r)}function e(o,e,t,n,r){return So(t- -536,e)}function t(o,e,t,n,r){return So(r- -130,n)}if(o(0,0,0,890,"EycK")===o(0,0,0,853,"hE#4")){var n=new RegExp(t(0,0,0,"zZyd",198)),r=new RegExp(e(0,"YIi$",-276),"i"),i=wo(So(1114-897,"9hS3"));if(n[t(0,0,0,"rxRz",132)](i+o(0,0,0,838,"FDtI"))&&r[o(0,0,0,819,"6Gn]")](i+o(0,0,0,831,"eK&D")))"tTEck"===So(-341- -591,"&Bwl")?wo():_0x10bf26();else{if(e(0,"BhyR",-236)===e(0,"9[mj",-290))return!0;i("0")}}else _0x377545=_0xae35ba}))()}();var Co,yo=(Co=!0,function(o,e){function t(o,e,t,n,r){return So(t-765,r)}if("KuQGF"!==t(0,0,1084,0,"EycK")){var n=Co?function(){function n(o,e,n,r,i){return t(0,0,r- -1196,0,e)}function r(o,e,n,r,i){return t(0,0,i- -1267,0,n)}if("yIBzN"!==r(0,0,"%%#T",0,-245))_0x1615de(this,(function(){var o=new _0xe110e6(e(0,0,"6Gn]",0,920));function e(o,e,t,n,i){return r(0,0,t,0,i-1097)}var t=new _0x36bcb2(n(0,0,820,"Z2jL"),"i");function n(o,e,t,n,i){return r(0,0,n,0,t-1083)}var i,a,u=_0x14914e(n(0,0,779,"EycK"));o[e(0,0,"EycK",0,892)](u+"chain")&&t[(i=-588,a="5vsS",r(0,0,a,0,i- -333))](u+"input")?_0x3a8acf():u("0")}))();else if(e){if(n(0,"EycK",0,-177)!==n(0,"SsyM",0,-226)){var i=e[(u="BhyR",s=126,t(0,0,s- -891,0,u))](o,arguments);return e=null,i}var a=_0x36e4fa?function(){if(_0x1853fe){var o=_0x3506ad[(e="8S&t",t=-650,r(0,0,e,0,t- -450))](_0x4e9052,arguments);return _0x5c56a8=null,o}var e,t}:function(){};return _0x36c241=!1,a}var u,s}:function(){};return Co=!1,n}_0x1180ed(0)});function So(o,e){var t=ho();return So=function(e,n){var r=t[e-=191];if(void 0===So.RjjojN){var i=function(o){for(var e,t,n="",r="",a=n+i,u=0,s=0;t=o.charAt(s++);~t&&(e=u%4?64*e+t:t,u++%4)?n+=a.charCodeAt(s+10)-10!=0?String.fromCharCode(255&e>>(-2*u&6)):u:0)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var c=0,l=n.length;c<l;c++)r+="%"+("00"+n.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(r)};So.YUVxwc=function(o,e){var t,n,r=[],a=0,u="";for(o=i(o),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)a=(a+r[n]+e.charCodeAt(n%e.length))%256,t=r[n],r[n]=r[a],r[a]=t;n=0,a=0;for(var s=0;s<o.length;s++)a=(a+r[n=(n+1)%256])%256,t=r[n],r[n]=r[a],r[a]=t,u+=String.fromCharCode(o.charCodeAt(s)^r[(r[n]+r[a])%256]);return u},o=arguments,So.RjjojN=!0}var a=e+t[0],u=o[a];if(u)r=u;else{if(void 0===So.ugJYsT){var s=function(o){this.ZRwBcK=o,this.KcEOBL=[1,0,0],this.EESCcP=function(){return"newState"},this.rqqPQt="\\w+ *\\(\\) *{\\w+ *",this.wEJupa="['|\"].+['|\"];? *}"};s.prototype.diKKBc=function(){var o=new RegExp(this.rqqPQt+this.wEJupa).test(this.EESCcP.toString())?--this.KcEOBL[1]:--this.KcEOBL[0];return this.ahUlTq(o)},s.prototype.ahUlTq=function(o){return Boolean(~o)?this.axvprB(this.ZRwBcK):o},s.prototype.axvprB=function(o){for(var e=0,t=this.KcEOBL.length;e<t;e++)this.KcEOBL.push(Math.round(Math.random())),t=this.KcEOBL.length;return o(this.KcEOBL[0])},new s(So).diKKBc(),So.ugJYsT=!0}r=So.YUVxwc(r,n),o[a]=r}return r},So(o,e)}function wo(o){function e(o,e,t,n,r){return So(o-23,e)}function t(o,e,t,n,r){return So(n- -392,o)}function n(o,e,t,n,r){return So(e- -656,n)}function r(o){function e(o,e,t,n,r){return So(n- -517,o)}function t(o,e,t,n,r){return So(e- -529,r)}function n(o,e,t,n,r){return So(t-787,o)}function i(o,e,t,n,r){return So(o-2,e)}function a(o,e,t,n,r){return So(o-309,e)}if(i(305,"6Gn]")===e("qgvJ",0,0,-234)){var u=_0x4aa25b(i(349,"]YEa")+n("OtH(",0,1068)+");");_0x3c47ed=u()}else{if(typeof o===a(626,"BhyR")){if(n("IXI%",0,1043)!==i(237,"zZyd"))return function(o){}[e("(DHh",0,0,-203)](e("6cI3",0,0,-213))[i(334,"zHMU")](t(0,-235,0,0,"6Gn]"));var s=_0x594f1d[e("f8Nb",0,0,-302)](_0x1d647d,arguments);return _0xa1f7b8=null,s}if(n("P008",0,1048)!==i(260,"ZUMg"))if(1!==(""+o/o)[i(204,"#&AB")]||o%20==0)if(t(0,-216,0,0,"P008")!==t(0,-322,0,0,"6PiZ")){if(_0x167b59){var c=_0x17b2e2.apply(_0xae60d2,arguments);return _0x2fc79c=null,c}}else(function(){function o(o,e,t,r,i){return n(t,0,r- -1113)}if(o(0,0,"rxRz",-11)===i(-598- -845,"!#KW"))return!0;var e=_0x161ca0?function(){if(_0x3c6baf){var e=_0x7547eb[(t="(vZj",n=751,o(0,0,t,n-873))](_0x448583,arguments);return _0x499c4d=null,e}var t,n}:function(){};return _0x3aba46=!1,e})[t(0,-318,0,0,"9hS3")]("debu"+t(0,-302,0,0,"hE#4"))[e("&Z*h",0,0,-296)](i(292,"P^Ja"));else"PrEOf"===e("hE#4",0,0,-254)?function(){function o(o,e,t,n,r){return a(n- -562,t)}if(o(0,0,"&Bwl",22)===n("#&AB",0,180- -892))return!1;(function(){var e;try{e=_0x1255c4(t(875,933,881,996,"6PiZ")+t(740,814,873,753,"9hS3")+");")()}catch(n){e=_0x45c73f}function t(e,t,n,r,i){return o(0,0,i,t-859)}return e})().setInterval(_0x590a3d,4e3)}[e("P^Ja",0,0,-233)]("debu"+i(322,"P^Ja"))[a(539,"D%jI")](e("wdzA",0,0,-160)):function(){return!0}[i(309,"TJ3q")]("debu"+e("!#KW",0,0,-264)).call(e("d29l",0,0,-277));else if(_0x31eda7){var l=_0x3c3719.apply(_0xc8dc17,arguments);return _0x442c5f=null,l}r(++o)}}function i(o,e,t,n,r){return So(o- -424,r)}try{if(So(481-271,"eK&D")===e(216,"TJ3q"))return function(o){}[i(-86,0,0,0,"zHMU")]("while (true) {}")[t("&c7w",0,0,-122)](i(-114,0,0,0,"YIi$"));if(o){if(e(237,"9hS3")===t("AiPu",0,0,-163))return r;var a=_0x55498e.apply(_0x16b24b,arguments);return _0x4b5c04=null,a}if(n(0,-436,0,"AiPu")===n(0,-314,0,"#&AB")){var u=new _0x3a1fba("function *\\( *\\)"),s=new _0x19e712(i(-176,0,0,0,"(DHh"),"i"),c=_0x6474d8(e(381,"6PiZ"));u[i(-113,0,0,0,"H]Sq")](c+e(214,"(DHh"))&&s[i(-159,0,0,0,"Qa&*")](c+n(0,-447,0,"Qa&*"))?_0x35de7a():c("0")}else r(0)}catch(l){}}yo(void 0,(function(){function o(o,e,t,n,r){return So(r-881,n)}var e;try{if(o(0,0,0,"Z2jL",1161)!==o(0,0,0,"5vsS",1224))_0x32105d=_0x278fc5("return (function() "+o(0,0,0,"(DHh",1229)+");")();else e=Function(n(-252,-255,-248,"6PiZ",-284)+u(484,"7MGY",400,510,465)+");")()}catch(f){"qyEeh"===n(-333,-499,-379,"ZUMg",-417)?e=window:_0x4be783("0")}function t(o,e,t,n,r){return So(o- -74,r)}function n(o,e,t,n,r){return So(r- -611,n)}var r=e[n(0,0,0,"FDtI",-383)]=e[o(0,0,0,"&Z*h",1104)]||{};function i(o,e,t,n,r){return So(r-524,o)}var a=[t(118,0,0,0,"BhyR"),u(477,"6Gn]",394,395,422),"info",t(198,0,0,0,"6PiZ"),t(212,0,0,0,"lt[F"),u(420,"H]Sq",379,374,413),"trace"];function u(o,e,t,n,r){return So(r-144,e)}for(var s=0;s<a[u(0,"6PiZ",0,0,437)];s++)if(u(0,"D%jI",0,0,385)!==o(0,0,0,"&Bwl",1230)){if(_0x2b4729)return _0x55ed6b;_0x13f7aa(0)}else{var c=yo.constructor[i("eK&D",0,0,0,860)][n(0,0,0,"ZUMg",-377)](yo),l=a[s],W=r[l]||c;c[u(0,"OtH(",0,0,376)]=yo[t(163,0,0,0,"&Z*h")](yo),c.toString=W.toString[i("IXI%",0,0,0,760)](W),r[l]=c}}))(),function(){function o(o,e,t,n,r){return So(t- -795,e)}function e(o,e,t,n,r){return So(n-375,o)}function t(o,e,t,n,r){return So(n- -456,e)}if("rDaUj"===e("IXI%",0,0,681)){var n;try{if("LVJSc"!==e("6cI3",0,0,728))return _0x19ab3d;n=Function(t(0,"P008",0,-165)+t(0,"qgvJ",0,-126)+");")()}catch(i){if(o(0,"SsyM",-440)===o(0,"5vsS",-472))return _0x57b949[o(0,"5vsS",-524)]()[o(0,"hE#4",-500)](t(0,"P^Ja",0,-231))[t(0,"Qa&*",0,-197)]()[t(0,"6PiZ",0,-138)](_0x4293a7)[e("OtH(",0,0,639)](So(249,"h]$i"));n=window}return n}if(_0x735f41){var r=_0x11b8a0[e("zZyd",0,0,594)](_0x574a75,arguments);return _0x35956a=null,r}}().setInterval(wo,4e3);const Po=N({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(o){const t=e(113.9456,22.5385,50),n=e(113.9498,22.5364,50);return(o,e)=>(D(),L(H,null,[X(A(s),{color:"#00c0ff",radius:300,size:300,position:[o.cPosition[0],8,-o.cPosition[1]]},null,8,["position"]),(D(),Y(oo,null,{default:$((()=>[X(A(l),{position:[o.cPosition[0],8,-o.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),X(A(c),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(D(),Y(oo,null,{default:$((()=>[X(A(l),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(D(),Y(oo,null,{default:$((()=>[X(A(W),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[o.cPosition[0]+280,1,120-o.cPosition[1]]},null,8,["position"])])),_:1})),(D(),Y(oo,null,{default:$((()=>[X(A(f),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(D(),Y(oo,null,{default:$((()=>[X(A(d),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(D(),Y(oo,null,{default:$((()=>[X(A(p),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[o.cPosition[0],300,-o.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(D(),Y(oo,null,{default:$((()=>[X(A(m),{cPosition:[o.cPosition[0],600,-o.cPosition[1]]},null,8,["cPosition"])])),_:1})),X(A(h),{"position-y":6,positionSrc:[{x:A(t)[0],y:-A(t)[1]},{x:A(t)[0],y:-A(n)[1]},{x:A(n)[0],y:-A(n)[1]},{x:A(n)[0],y:-A(t)[1]},{x:A(t)[0],y:-A(t)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(D(),Y(oo,null,{default:$((()=>[X(A(co),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),ko=N({__name:"mapBuildings",setup(o){const t=e(113.942639739199,22.53171672540276,50),n=eo(),r=to({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:Q,outputColorSpace:Z,toneMapping:I}),i=[t[0],t[1],1700],a=new G(60,window.innerWidth/window.innerHeight,1,1e8);return(o,e)=>{const s=no("TresCanvas");return D(),L(H,null,[X(s,ro(r,{"window-size":""}),{default:$((()=>[e[0]||(e[0]=V("TresAmbientLight",{color:"#ffffff"},null,-1)),e[1]||(e[1]=V("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),X(A(fo),{position:[A(t)[0],1,228-A(t)[1]],camera:A(a)},null,8,["position","camera"]),(D(),Y(oo,null,{default:$((()=>[X(A(mo),{ref_key:"tileMapBuildingsMeshRef",ref:n,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:A(a)},null,8,["camera"])])),_:1})),(D(),Y(oo,null,{default:$((()=>[X(Po,{cPosition:A(t)},null,8,["cPosition"])])),_:1})),e[2]||(e[2]=V("TresGridHelper",{args:[1e4,10]},null,-1)),e[3]||(e[3]=V("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),X(u,{tileMapRef:n.value},null,8,["tileMapRef"])],64)}}});export{ko as default};
