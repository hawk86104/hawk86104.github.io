import{P as t}from"./tweakpane.yHWGBmom1723189171640.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.P6hbCPpV1723189171640.js";import{_ as r}from"./heatmap.js-fix.yqBEmLV-1723189171640.js";import{h as i,T as c,ck as s,a6 as u,B as a}from"./three.5MXJ6W7w1723189171640.js";import{r as p}from"./utils.ty42eHJj1723189171640.js";import{d as f}from"./pinia.iN3nUGv81723189171640.js";import{b as l,d as h,a1 as d,o as m,D as g,J as y,u as v,F as b,q as w,U as _,N as I,P as j,H as x,L as M,a4 as E,r as S,j as k,g as A,m as z}from"./@vue.Q1VpS3901723189171640.js";import{c as D,d as O,a as P}from"./three-mesh-bvh.DYOnGaSM1723189171640.js";import{_ as R}from"./@fesjs.92jMy6FJ1723189171640.js";import"./@tresjs.LTwFwASm1723189171640.js";import"./@vueuse.oQlm8k6P1723189171640.js";import"./three-custom-shader-material.XueWmqLp1723189171640.js";import"./object-hash.jMAsrj6h1723189171640.js";import"./@amap.Lu-L8G0q1723189171640.js";import"./jszip.WwTqi4J91723189171640.js";import"./glsl-tokenizer.lazMVlew1723189171640.js";import"./glsl-token-string.HJw4RHIk1723189171640.js";import"./glsl-token-functions.95Du-VYb1723189171640.js";import"./vue-router.frQYH8jd1723189171640.js";import"./lodash-es.nFpJXAf-1723189171640.js";import"./@qlin.yHhFDldE1723189171640.js";import"./@floating-ui.BPbuo5Gx1723189171640.js";import"./@juggle.7yjBMqoW1723189171640.js";!function(t,n){const e=Z,o=T();for(;;)try{if(400597===parseInt(e(269))/1+-parseInt(e(294))/2*(parseInt(e(277))/3)+parseInt(e(295))/4+parseInt(e(275))/5*(parseInt(e(287))/6)+-parseInt(e(283))/7+-parseInt(e(273))/8*(-parseInt(e(263))/9)+parseInt(e(252))/10*(-parseInt(e(281))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(292)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=Z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(290),"i"),o=$(t(288));n[t(247)](o+t(284))&&e[t(247)](o+"input")?$():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(292)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();V(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(297)+t(268)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(279)]||{},o=[t(293),t(272),t(276),t(278),t(301),t(249),t(251)];for(let r=0;r<o[t(265)];r++){const n=V[t(264)].prototype.bind(V),i=o[r],c=e[i]||n;n[t(286)]=V[t(289)](V),n[t(282)]=c.toString[t(289)](c),e[i]=n}}))();const F=(t,n)=>t[Z(266)](n)+-10;function T(){const t=["createElement","top","heatmap-canvas","left","rgb(255,0,0)","21582vLCIOT","constructor","length","getValueAt","absolute",'{}.constructor("return this")( )',"469546BTWlwD","yellow","rgb(0,0,255)","warn","488RGvKhG","style","240785sXVMsO","info","117kKJkVm","error","console","setData","768119zAdtdS","toString","4625250cptgVG","chain","gger","__proto__","66zAsLGm","init","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","display","apply","log","30862XPQhHn","2349736xBiOpx","appendChild","return (function() ","width","none","debu","exception","body","height","position","test","rgb(0,255,0)","table","stateObject","trace","10dEPyVo","push","string","randInt","_config","action"];return(T=function(){return t})()}function Z(t,n){const e=T();return(Z=function(t,n){return e[t-=246]})(t,n)}function $(t){function n(t){const e=Z;if(typeof t===e(254))return function(t){}[e(264)]("while (true) {}")[e(292)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(300)+e(285)).call(e(257)):function(){return!1}[e(264)]("debu"+e(285))[e(292)](e(250)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=J;!function(t,n){const e=J,o=G();for(;;)try{if(918982===-parseInt(e(462))/1+parseInt(e(471))/2+parseInt(e(474))/3+parseInt(e(451))/4*(parseInt(e(446))/5)+parseInt(e(455))/6+parseInt(e(465))/7*(parseInt(e(452))/8)+-parseInt(e(456))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(454)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=J,n=new RegExp(t(461)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W(t(447));n[t(477)](o+t(458))&&e[t(477)](o+t(469))?W():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(454)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(){const t=["apply","7588548nCwksF","30798765uzLdFp","counter","chain","gger","__proto__","function *\\( *\\)","27223KOzchJ","buildingsHeatmap","return (function() ","28bjRWMg","length","value","info","input","table","237116kLMRHp","stateObject","trace","3176334DfVbHT","action","error","test","while (true) {}",'{}.constructor("return this")( )',"debu","220bnpfjm","init","constructor","string","console","157392fAqmtO","389768xosEbb","bind"];return(G=function(){return t})()}B(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(464)+t(444)+");")()}catch(e){n=window}return n}(),e=n[t(450)]=n.console||{},o=["log","warn",t(468),t(476),"exception",t(470),t(473)];for(let r=0;r<o.length;r++){const n=B[t(448)].prototype.bind(B),i=o[r],c=e[i]||n;n[t(460)]=B.bind(B),n.toString=c.toString[t(453)](c),e[i]=n}}))();const H=f(q(463),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[J(467)]=n},setTemperature:function(t){n[J(467)]=t}}}));function J(t,n){const e=G();return(J=function(t,n){return e[t-=443]})(t,n)}function W(t){function n(t){const e=J;if(typeof t===e(449))return function(t){}.constructor(e(443)).apply(e(457));1!==(""+t/t)[e(466)]||t%20==0?function(){return!0}[e(448)]("debu"+e(459)).call(e(475)):function(){return!1}[e(448)](e(445)+e(459))[e(454)](e(472)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=Q;!function(t,n){const e=Q,o=et();for(;;)try{if(572674===-parseInt(e(408))/1+parseInt(e(404))/2+parseInt(e(376))/3+parseInt(e(405))/4*(parseInt(e(385))/5)+-parseInt(e(410))/6*(-parseInt(e(352))/7)+-parseInt(e(372))/8+-parseInt(e(399))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=Q,n=new RegExp(t(380)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=nt("init");n[t(413)](o+t(363))&&e[t(413)](o+t(412))?nt():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(383)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=et();return(Q=function(t,n){return e[t-=345]})(t,n)}K(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function("return (function() "+t(374)+");")()}catch(e){n=window}return n}(),e=n[t(359)]=n[t(359)]||{},o=[t(368),t(371),t(367),t(365),t(391),"table",t(387)];for(let r=0;r<o.length;r++){const n=K.constructor[t(355)][t(386)](K),i=o[r],c=e[i]||n;n[t(347)]=K[t(386)](K),n[t(395)]=c[t(395)].bind(c),e[i]=n}}))();const N=[X(394),X(357)],Y=[X(394)],tt=h({__name:X(373),props:{model:{},opacity:{default:1}},setup(t){const n=X;(()=>{const t=Q;a[t(355)][t(361)]=D,a[t(355)][t(354)]=O,u[t(369)][t(355)][t(396)]=P})();const e=t,o=((t=250,n=250,e=!0)=>{const o=Z,i=document[o(258)](o(260));return i[o(274)][o(246)]=o(267),!e&&(i[o(274)][o(291)]=o(299)),i.style[o(259)]="0",i[o(274)][o(261)]="0",document[o(302)][o(296)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(271),.55:o(248),.85:o(270),1:o(262)}})})();((t,n)=>{const e=Z;if(!n){let o=0;for(n=[];o<1e3;)n[e(253)]({x:i[e(255)](1,t[e(256)][e(298)]),y:i[e(255)](1,t[e(256)][e(303)]),value:i[e(255)](-10,36)}),o++}t[e(280)]({max:36,min:-10,data:n})})(o);const f=new c(o[n(377)][n(346)]);f[n(384)]=!0;const l=e[n(353)].city[n(397)]();delete l[n(400)].attributes[n(378)],delete l.geometry[n(409)].uv;const h=l.geometry[n(397)]()[n(351)](l[n(388)]),w=e[n(353)].land.clone();delete w.geometry[n(409)][n(378)];const _=w[n(400)].clone().applyMatrix4(w[n(388)]),I=s([h,_]);I[n(351)]((new(u[n(381)])).makeRotationX(Math.PI/2)),p(I),I[n(361)]();const j=(t=>{const o=n;return new(u[o(360)])({vertexShader:o(375),fragmentShader:o(398),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(401)]})})(f),x=new(u[n(369)])(I,j);d((()=>{const t=n;e[t(358)]&&(j[t(350)][t(348)][t(370)]=e[t(358)])}));const M=H(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(406)][e(382)],y:(1-t.uv.y)*o._config[e(416)]};console[e(368)](e(402),t),console[e(368)](e(407),F(o,n)),M[e(390)](F(o,n))}},S=t=>{t&&M[n(393)]({showDiv:!0})},k=t=>{t&&M[n(366)](!1)};return(t,o)=>{const r=n;return m(),g(b,null,[y(r(415),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:S,onPointerLeave:k},null,40,N),y(r(415),{object:e[r(353)][r(353)][r(349)][0][r(397)]()},null,8,Y)],64)}}});function nt(t){function n(t){const e=Q;if(typeof t===e(414))return function(t){}[e(379)](e(364))[e(383)](e(392));1!==(""+t/t)[e(389)]||t%20==0?function(){return!0}[e(379)](e(356)+e(362))[e(403)](e(345)):function(){return!1}[e(379)](e(356)+e(362))[e(383)](e(411)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function et(){const t=["3312837GysXti","geometry","DoubleSide","数值：","call","155504caepNU","1676888EcEdAA","_config","数值———：","9365bDqaWt","attributes","5700IQttnq","stateObject","input","test","string","primitive","height","action","canvas","__proto__","uOpacity","children","uniforms","applyMatrix4","3458UFvAwY","model","disposeBoundsTree","prototype","debu","rotation-x","opacity","console","ShaderMaterial","computeBoundsTree","gger","chain","while (true) {}","error","setShowDiv","info","log","Mesh","value","warn","8150568zxoptE","buildingsHeatmap",'{}.constructor("return this")( )',"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","3008037MSVSwV","_renderer","normal","constructor","function *\\( *\\)","Matrix4","width","apply","needsUpdate","5JXkIWy","bind","trace","matrix","length","setTemperature","exception","counter","$patch","object","toString","raycast","clone","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t"];return(et=function(){return t})()}const ot=R({__name:"dataDiv",setup(t){const n=H(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>I((m(),g("div",{class:"title",style:M(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=st;!function(t,n){const e=st,o=ct();for(;;)try{if(511719===parseInt(e(467))/1+parseInt(e(455))/2+parseInt(e(456))/3+parseInt(e(459))/4+-parseInt(e(465))/5*(parseInt(e(466))/6)+parseInt(e(438))/7+parseInt(e(440))/8*(-parseInt(e(472))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(475)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["3613688EZYMqt","__proto__","prototype","string","bind","toString","2860FJUFGc","348UsQyuc","235632iWKPGU","error","function *\\( *\\)","action","#000","54018JPMUuQ","counter","console","apply","call","warn","heatmap2","length","test","opacity","383936UKEsMA","model","2232mNaPil","input","exception","addBinding","透明度","log","builds","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","debu","city","init","gger","info","2038638ONVlQV","18696qlqdCd","chain","value"];return(ct=function(){return t})()}function st(t,n){const e=ct();return(st=function(t,n){return e[t-=433]})(t,n)}!function(){it(this,(function(){const t=st,n=new RegExp(t(469)),e=new RegExp(t(448),"i"),o=pt(t(452));n[t(436)](o+t(457))&&e[t(436)](o+t(441))?pt():o("0")}))()}();const ut=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(475)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();ut(void 0,(function(){const t=st,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(474)]=n.console||{},o=[t(445),t(433),t(454),t(468),t(442),"table",t(447)];for(let r=0;r<o[t(435)];r++){const n=ut[t(449)][t(461)].bind(ut),i=o[r],c=e[i]||n;n[t(460)]=ut[t(463)](ut),n[t(464)]=c[t(464)][t(463)](c),e[i]=n}}))();const at=h({__name:rt(434),async setup(r){const i=rt;let c,s;const u=l(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u[i(458)]=!0;const p=S({width:1,color:i(471),opacity:1,show:!0}),f=S({opacity:.9});return new t({title:"参数",expanded:!0})[i(443)](f,i(437),{label:i(444),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(b,null,[k(e,{showBuildings:!1,autoRotate:!1},{ability:A((()=>[k(tt,z({model:v(a)},f),null,16,[r(439)]),k(n,z(p,{builds:v(a)[r(451)]}),null,16,[r(446)])])),_:1}),k(ot)],64)}}});function pt(t){function n(t){const e=st;if(typeof t===e(462))return function(t){}[e(449)]("while (true) {}")[e(475)](e(473));1!==(""+t/t)[e(435)]||t%20==0?function(){return!0}[e(449)](e(450)+e(453))[e(476)](e(470)):function(){return!1}[e(449)](e(450)+e(453))[e(475)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
