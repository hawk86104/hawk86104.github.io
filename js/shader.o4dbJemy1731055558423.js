import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.KsuCtVXf1731055558423.js";import{z as i,_ as s,C as a}from"./three.3b9CEYeV1731055558423.js";import{P as c}from"./tweakpane.yHWGBmom1731055558423.js";import{L as l}from"./three-subdivide.hQAx_vf31731055558423.js";import{d as u,b as f,a3 as p,w as d,o as h,D as m,J as g,aj as v,ak as y,a6 as b,r as w,e as I,f as M,g as _,j as x,u as S,m as B,I as T}from"./@vue.u2cBPEWn1731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";const k=z;!function(n,t){const e=z,r=C();for(;;)try{if(217500===parseInt(e(479))/1+parseInt(e(486))/2+parseInt(e(500))/3+parseInt(e(503))/4*(parseInt(e(522))/5)+parseInt(e(490))/6*(parseInt(e(504))/7)+-parseInt(e(519))/8*(parseInt(e(520))/9)+parseInt(e(524))/10*(-parseInt(e(527))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const j=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[z(513)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){j(this,(function(){const n=z,t=new RegExp(n(516)),e=new RegExp(n(510),"i"),r=F(n(526));t[n(478)](r+n(502))&&e[n(478)](r+"input")?F():r("0")}))()}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[z(513)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(){const n=["material","position","attributes","color","toString","blending","error","console","410967gxqrWF","log","chain","116ivYHLk","3381hFNDNS","Vector3","bind","length","side","subVectors","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","clone","copy","apply","shineShader","srcMesh","function *\\( *\\)","action","call","2471744hBqmhl","9QLpoku","uniforms","59635KYwRVa","exception","130SmrIcS","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","init","317449PGhurb","debu","AdditiveBlending","warn","stateObject","#ffff00","subdivision","modify","test","54280JkIfZp","value","geometry","return (function() ","viewVector","gger","trace","513548soRDoG","constructor","__proto__","info","1338kvQeWF","string"];return(C=function(){return n})()}R(void 0,(function(){const n=z;let t;try{t=Function(n(482)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(499)]=t[n(499)]||{},r=[n(501),n(530),n(489),n(498),n(523),"table",n(485)];for(let i=0;i<r.length;i++){const t=R[n(487)].prototype.bind(R),o=r[i],s=e[o]||t;t[n(488)]=R.bind(R),t[n(496)]=s[n(496)][n(506)](s),e[o]=t}}))();const N=["scale"];function z(n,t){const e=C();return(z=function(n,t){return e[n-=477]})(n,t)}const A=u({__name:k(514),props:{srcMesh:{},scale:{default:1.2},color:{default:k(532)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i},blending:{default:s[k(529)]}},setup(e){const r=k,o=e,i=f(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new a(o[r(495)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(525),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o[r(508)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};p((()=>{const n=r;if(o[n(515)]&&i[n(480)]&&!i[n(480)][n(481)][n(494)][n(493)]){let t=o[n(515)][n(481)][n(511)]();o.subdivision&&(t=l.modify(t,2)),i[n(480)][n(481)]=t,i[n(480)][n(493)][n(512)](o[n(515)][n(493)])}o[n(495)]&&(c.uniforms.glowColor[n(480)]=new a(o.color)),o.c&&(c[n(521)].c[n(480)]=o.c),o.p&&(c[n(521)].p[n(480)]=o.p)})),d((()=>o[r(533)]),(n=>{const t=r;let e=o[t(515)][t(481)].clone();n&&(e=l[t(477)](e,2)),i[t(480)].geometry=e})),d((()=>o[r(508)]),(n=>{const t=r;i[t(480)][t(492)][t(508)]=n})),d((()=>o.blending),(n=>{const t=r;i[t(480)][t(492)][t(497)]=n}));const{onLoop:u}=n(),{camera:b}=t();return u((()=>{const n=r;b[n(480)]&&i.value&&(c[n(521)][n(483)][n(480)]=(new(s[n(505)]))[n(509)](b.value.position,i[n(480)].position))})),(n,t)=>(h(),m("TresMesh",{ref_key:"TSGref",ref:i,scale:o.scale},[g("TresShaderMaterial",v(y(c)),null,16)],8,N))}});function F(n){function t(n){const e=z;if(typeof n===e(491))return function(n){}[e(487)]("while (true) {}")[e(513)]("counter");1!==(""+n/n)[e(507)]||n%20==0?function(){return!0}[e(487)](e(528)+e(484))[e(518)](e(517)):function(){return!1}[e(487)](e(528)+e(484))[e(513)](e(531)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Z=D;!function(n,t){const e=D,r=E();for(;;)try{if(852021===-parseInt(e(398))/1*(-parseInt(e(439))/2)+parseInt(e(402))/3+-parseInt(e(395))/4*(parseInt(e(450))/5)+-parseInt(e(453))/6+parseInt(e(412))/7*(parseInt(e(444))/8)+parseInt(e(422))/9*(-parseInt(e(421))/10)+-parseInt(e(431))/11*(parseInt(e(414))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){V(this,(function(){const n=D,t=new RegExp(n(425)),e=new RegExp(n(428),"i"),r=O("init");t[n(449)](r+n(397))&&e[n(449)](r+n(443))?O():r("0")}))()}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[D(445)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function D(n,t){const e=E();return(D=function(n,t){return e[n-=389]})(n,t)}function E(){const n=["toString","52UBvRXM","action","chain","119622IzYhdl","color","length","TresPerspectiveCamera","4590615ZZOnJd","blending","while (true) {}","info","prototype","TresCanvas","error",'{}.constructor("return this")( )',"gger","#0ff","3402917xguZeX","BackSide","5106264mFKUtn","TresAmbientLight","warn","string","call","srcMesh","TresSphereGeometry","110REHWXa","560043RXeCOC","TresBoxGeometry","return (function() ","function *\\( *\\)","TresMesh","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","scale","33NIdfNl","TresMeshBasicMaterial","console","FrontSide","DoubleSide","__proto__","logo.png","map","24yJDZMG","log","AdditiveBlending","instance","input","16rEJUFt","apply","TreBoxRef","bind","table","test","207405SBSqey","shader","value","3513564XrfsNJ","边缘处理","NormalBlending","debu","subdivision","addBinding","#222"];return(E=function(){return n})()}G(void 0,(function(){const n=D,t=function(){const n=D;let t;try{t=Function(n(424)+n(409)+");")()}catch(e){t=window}return t}(),e=t[n(433)]=t[n(433)]||{},r=[n(440),n(416),n(405),n(408),"exception",n(448),n(427)];for(let o=0;o<r[n(400)];o++){const t=G.constructor[n(406)][n(447)](G),i=r[o],s=e[i]||t;t[n(436)]=G[n(447)](G),t[n(394)]=s[n(394)].bind(s),e[i]=t}}))();const J=[Z(438)],L=[Z(438)],X=u({__name:Z(451),async setup(n){const t=Z;let i,a;const l={clearColor:t(393)},u=f(),p=f(),d=f(),m=([i,a]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(437)]))),i=await i,a(),i),v=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:s[t(434)],blending:s[t(441)]}),y=new c({title:"参数",expanded:!0});return y[t(392)](v,t(399),{label:"颜色"}),y[t(392)](v,t(430),{label:"大小",min:1,max:3,step:.2}),y[t(392)](v,t(391),{label:t(454)}),y[t(392)](v,"c",{label:"c",min:0,max:2,step:.1}),y[t(392)](v,"p",{label:"p",min:0,max:8,step:.2}),y[t(392)](v,"side",{options:{FrontSide:s[t(434)],BackSide:s[t(413)],DoubleSide:s[t(435)]}}),y.addBinding(v,t(403),{options:{AdditiveBlending:s[t(441)],NormalBlending:s[t(389)]}}),(n,o)=>{const i=t,s=I(i(407));return h(),M(s,B(l,{"window-size":""}),{default:_((()=>[o[2]||(o[2]=g(i(401),{position:[5,5,5]},null,-1)),o[3]||(o[3]=g(i(415),{intensity:1},null,-1)),x(S(e)),o[4]||(o[4]=g("TresGridHelper",{args:[10,10]},null,-1)),g(i(426),{ref_key:"TresMeshRefA",ref:u,position:[-2,1,0]},[o[0]||(o[0]=g(i(420),{args:[1,32,16]},null,-1)),g(i(432),{map:S(m)[0]},null,8,J)],512),x(A,B({srcMesh:u[i(452)]},v),null,16,["srcMesh"]),x(S(r),{ref_key:i(446),ref:d,args:[1,1,1],position:[2,1,0]},{default:_((()=>[g("TresMeshBasicMaterial",{map:S(m)[1]},null,8,L)])),_:1},512),d.value&&d[i(452)][i(442)]?(h(),M(A,B({key:0,srcMesh:d[i(452)][i(442)]},v),null,16,["srcMesh"])):T("",!0),g(i(426),{ref_key:"TresMeshRefB",ref:p,position:[0,1,-2]},o[1]||(o[1]=[g(i(423),{args:[1,1,1,1,1]},null,-1),g("TresMeshBasicMaterial",{color:i(411)},null,-1)]),512),x(A,B({srcMesh:p[i(452)]},v),null,16,[i(419)])])),_:1},16)}}});function O(n){function t(n){const e=D;if(typeof n===e(417))return function(n){}[e(429)](e(404))[e(445)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(429)](e(390)+e(410))[e(418)](e(396)):function(){return!1}[e(429)](e(390)+e(410))[e(445)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{X as default};
