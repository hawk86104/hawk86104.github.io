import{_ as n,a as t,t as e,A as o,aj as r,ak as i,c9 as s,c7 as a,c8 as c,co as l,C as u}from"./three.DqHgeVY11742895693222.js";import{e as f,m as p,o as v}from"./@tresjs.xCsT8yve1742895693222.js";import{d as m,o as d,H as g,N as h,u as b,F as y,w as x,j as w,z as I,e as _,g as T,aj as U,ak as S}from"./@vue.C4dqouNn1742895693222.js";import{_ as D}from"./@fesjs.C15FMxIg1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";import"./vue-router.0ovIAQEA1742895693222.js";import"./lodash-es.p1wj6C0b1742895693222.js";import"./@qlin.o0hjOMCg1742895693222.js";import"./pinia.JZN5hDyR1742895693222.js";import"./@floating-ui.HzHndBae1742895693222.js";import"./@juggle.4EyLec-41742895693222.js";var B="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const N=F;!function(n,t){const e=F,o=M();for(;;)try{if(423115===parseInt(e(549))/1*(parseInt(e(494))/2)+parseInt(e(546))/3+parseInt(e(547))/4*(-parseInt(e(550))/5)+-parseInt(e(502))/6+-parseInt(e(512))/7*(parseInt(e(500))/8)+parseInt(e(541))/9*(-parseInt(e(492))/10)+-parseInt(e(482))/11*(-parseInt(e(503))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(530)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){C(this,(function(){const n=F,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(480),"i"),o=R(n(545));t[n(535)](o+n(486))&&e[n(535)](o+"input")?R():o("0")}))()}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(530)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();j(void 0,(function(){const n=F,t=function(){const n=F;let t;try{t=Function(n(510)+n(490)+");")()}catch(e){t=window}return t}(),e=t[n(539)]=t[n(539)]||{},o=["log",n(552),"info","error","exception",n(525),n(477)];for(let r=0;r<o.length;r++){const t=j[n(491)][n(537)][n(499)](j),i=o[r],s=e[i]||t;t[n(484)]=j[n(499)](j),t[n(498)]=s[n(498)][n(499)](s),e[i]=t}}))();const z=[N(509),N(496)],E=[N(496)],P=[N(527)];function F(n,t){const e=M();return F=function(n,t){return e[n-=476]},F(n,t)}function M(){const n=["\n      uniform vec4 luces[","rotateX","#include <dithering_fragment>","debu","apply","InstancedBufferAttribute","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","SphereGeometry","sin","test","call","prototype","action","console","gger","225bQNNea","InstancedBufferGeometry","TresPlaneGeometry","string","init","603714DDGtfS","1041632QJonVL","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","1kTIpWv","15KBhRKE","setAttribute","warn","noise","trace","uniforms","globalBloom","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","luces","110LCwRtZ","needsUpdate","__proto__","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","chain","TresMesh","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","Vector4",'{}.constructor("return this")( )',"constructor","198970TCZXuF","\n    ","1372874kRTXNl","randFloat","material","push","toString","bind","88AkQgnw","globalUniforms","4412280pJVTYb","2072556RnoWhw","MathUtils","randFloatSpread","copy","attributes","noiseTex","geometry","return (function() ","fragmentShader","113057TFvMYW","counter","#include <fog_fragment>","cos","while (true) {}","replace","length","vertexShader","#include <begin_vertex>","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","stateObject","MeshLambertMaterial","instanceCount","table"];return(M=function(){return n})()}const k=100,A=m({__name:"lucesPlane",props:{globalUniforms:{}},setup(r){const i=N,s=r,a=[],c=[],l=new(n[i(533)])(1,36,18),u=(new(n[i(542)]))[i(506)](l);u[i(524)]=k;const p=[];for(let o=0;o<k;o++){let o=n[i(504)][i(505)](49),r=n[i(504)][i(505)](49),s=t[i(495)](.0625,.125),l=t[i(495)](1,3);p[i(497)](o,r,s),c[i(497)](new e(o,r,l,t.randFloat(1,2))),a[i(497)](new(n[i(489)])(o,r,s,l))}u[i(551)]("instData",new(n[i(531)])(new Float32Array(p),3));const v=new o({color:16720418,onBeforeCompile:n=>{const t=i;n[t(478)][t(508)]=s[t(501)][t(476)],n.vertexShader=(t(521)+n[t(519)]+t(493)).replace(t(520),t(485))}}),m={luces:{value:a}},x=new(n[i(523)])({color:2363940,onBeforeCompile:n=>{const t=i;n[t(478)][t(481)]=m[t(481)],n.uniforms[t(479)]=s.globalUniforms[t(479)],n[t(478)][t(508)]=s[t(501)][t(476)],n[t(519)]=(t(488)+n[t(519)]+"\n    ")[t(517)](t(520),t(548)),n[t(511)]=(t(526)+k+t(532)+n[t(511)]+t(493))[t(517)](t(514),"\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < 100; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ")[t(517)](t(528),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:w}=f();return w((({elapsed:n})=>{const t=i;for(let e=0;e<k;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(534)](n*o.w*(e%3+1))*Math[t(515)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u.attributes.instData.setY(e,r)}u[t(507)].instData[t(483)]=!0})),(n,t)=>{const e=i;return d(),g(y,null,[h("TresMesh",{geometry:b(u),material:b(v)},null,8,z),h(e(487),{material:b(x)},[h(e(543),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,P)],8,E)],64)}}});function R(n){function t(n){const e=F;if(typeof n===e(544))return function(n){}[e(491)](e(516)).apply(e(513));1!==(""+n/n)[e(518)]||n%20==0?function(){return!0}.constructor(e(529)+"gger")[e(536)](e(538)):function(){return!1}[e(491)](e(529)+e(540))[e(530)](e(522)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=O;!function(n,t){const e=O,o=$();for(;;)try{if(803206===parseInt(e(194))/1+-parseInt(e(217))/2+-parseInt(e(177))/3*(parseInt(e(204))/4)+-parseInt(e(196))/5*(parseInt(e(214))/6)+-parseInt(e(186))/7*(parseInt(e(176))/8)+parseInt(e(221))/9*(-parseInt(e(183))/10)+parseInt(e(181))/11*(parseInt(e(192))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=O,t=new RegExp(n(206)),e=new RegExp(n(197),"i"),o=V(n(195));t.test(o+n(218))&&e[n(215)](o+"input")?V():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function O(n,t){const e=$();return O=function(n,t){return e[n-=173]},O(n,t)}L(void 0,(function(){const n=O,t=function(){const n=O;let t;try{t=Function("return (function() "+n(203)+");")()}catch(e){t=window}return t}(),e=t.console=t.console||{},o=[n(184),"warn","info",n(178),"exception","table",n(189)];for(let r=0;r<o.length;r++){const t=L[n(174)].prototype.bind(L),i=o[r],s=e[i]||t;t[n(180)]=L[n(188)](L),t[n(179)]=s[n(179)].bind(s),e[i]=t}}))();const K=[G(202)],Q=m({__name:G(187),props:{globalUniforms:{}},setup(t){const e=G,o=t,r=new(n[e(201)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n.uniforms[t(209)]=o[t(205)][t(209)],n[t(208)][t(200)]=o[t(205)].globalBloom,n[t(175)]=(t(193)+B+t(198)+n[t(175)]+t(199))[t(173)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(210))[t(173)](t(190),t(207))}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return d(),g(o(211),{material:b(r),position:[0,3.75,-12]},t[0]||(t[0]=[h(o(182),{args:[5,5]},null,-1)]),8,K)}}});function V(n){function t(n){const e=O;if("string"==typeof n)return function(n){}[e(174)](e(212))[e(219)]("counter");1!==(""+n/n)[e(213)]||n%20==0?function(){return!0}[e(174)](e(185)+e(220)).call(e(191)):function(){return!1}[e(174)](e(185)+e(220)).apply(e(216)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function $(){const n=["length","8982adSsdj","test","stateObject","763596Gztouv","chain","apply","gger","8559rshZeb","replace","constructor","fragmentShader","128aGOUBD","12edtkzN","error","toString","__proto__","2183137XiJtHl","TresPlaneGeometry","16190bRdJsQ","log","debu","407477BmdxJK","portal","bind","trace","#include <dithering_fragment>","action","360OvtnSQ","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","213755xbnYjb","init","3320yCQZya","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","\n    ","globalBloom","MeshBasicMaterial","material",'{}.constructor("return this")( )',"1517708RZcKSb","globalUniforms","function *\\( *\\)","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","uniforms","time","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","TresMesh","while (true) {}"];return($=function(){return n})()}const X=J;!function(n,t){const e=J,o=W();for(;;)try{if(502072===-parseInt(e(387))/1+parseInt(e(428))/2*(parseInt(e(397))/3)+parseInt(e(433))/4+-parseInt(e(434))/5*(parseInt(e(404))/6)+-parseInt(e(407))/7*(-parseInt(e(431))/8)+parseInt(e(429))/9+-parseInt(e(384))/10*(parseInt(e(395))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[J(427)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Y(this,(function(){const n=J,t=new RegExp(n(417)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=tn(n(401));t[n(420)](o+n(375))&&e[n(420)](o+"input")?tn():o("0")}))()}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function J(n,t){const e=W();return J=function(n,t){return e[n-=373]},J(n,t)}function W(){const n=["material","\n    ","randFloat","bind","counter","apply","2TiFGYK","4414689rkkCGU","Float32BufferAttribute","8UdleCq","replace","3057780XFuXgN","318845PhaWKY","stateObject","length","chain","randFloatSpread","setAttribute","debu","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","warn","push","drops","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","189830elFYBx","info","globalBloom","596142PtaHSb","BufferGeometry","geometry",'{}.constructor("return this")( )',"\n      ","constructor","action","gger","682NqxBLD","MathUtils","1927362fZvonK","position","log","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","init","error","table","30wLnsKV","uniforms","fragmentShader","4876095uKDygq","vec4 diffuseColor = vec4( diffuse, opacity );","console","time","string","globalUniforms","toString","noise","gEnds","exception","function *\\( *\\)","prototype","noiseTex","test","vertexShader"];return(W=function(){return n})()}H(void 0,(function(){const n=J;let t;try{t=Function("return (function() "+n(390)+");")()}catch(r){t=window}const e=t[n(409)]=t[n(409)]||{},o=[n(399),n(380),n(385),n(402),n(416),n(403),"trace"];for(let i=0;i<o[n(374)];i++){const t=H.constructor[n(418)].bind(H),r=o[i],s=e[r]||t;t.__proto__=H[n(425)](H),t[n(413)]=s[n(413)].bind(s),e[r]=t}}))();const q=[X(422),X(389)],nn=m({__name:X(382),props:{globalUniforms:{}},setup(e){const o=X,s=e,a=[],c=[];for(let r=0;r<2e4;r++){const e=n[o(396)][o(376)](35),r=n[o(396)][o(424)](-5,10),i=n[o(396)][o(376)](35),s=t[o(424)](.25,.5);a.push(e,r,i,e,r,i),c[o(381)](0,s,1,s)}const l=new(n[o(388)]);l[o(377)](o(398),new(n[o(430)])(a,3)),l[o(377)](o(415),new r(c,2));const u=new i({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n.uniforms[t(410)]=s[t(412)][t(410)],n.uniforms[t(419)]=s[t(412)][t(414)],n[t(405)].globalBloom=s[t(412)][t(386)],n[t(421)]=(t(379)+n[t(421)]+t(423))[t(432)]("#include <begin_vertex>","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(406)]=(t(383)+B+t(391)+n.fragmentShader+"\n    ")[t(432)](t(408),t(400))}});return(n,t)=>(d(),g("TresLineSegments",{material:b(u),geometry:b(l)},null,8,q))}});function tn(n){function t(n){const e=J;if(typeof n===e(411))return function(n){}.constructor("while (true) {}")[e(427)](e(426));1!==(""+n/n).length||n%20==0?function(){return!0}[e(392)](e(378)+e(394)).call(e(393)):function(){return!1}[e(392)](e(378)+e(394)).apply(e(373)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=sn,o=on();for(;;)try{if(172150===-parseInt(e(333))/1*(parseInt(e(383))/2)+-parseInt(e(372))/3+-parseInt(e(374))/4*(-parseInt(e(386))/5)+-parseInt(e(387))/6+-parseInt(e(390))/7*(-parseInt(e(392))/8)+parseInt(e(330))/9*(parseInt(e(340))/10)+parseInt(e(328))/11*(-parseInt(e(354))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const en=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(338)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function on(){const n=["near","fog","table","apply","globalBloom","63510JocDAP","test","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","prototype","gger","Camera",'{}.constructor("return this")( )',"console","vec4 diffuseColor = vec4( diffuse, opacity );","init","value","trace","baseTexture","warn","168lrZHmd","counter","set","stateObject","height","input","PlaneGeometry","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","log","call","Fog","__proto__","setRenderTarget","renderToScreen","background","defines","return (function() ","bind","73554lDhTgM","color","4348xdXPUk","MeshBasicMaterial","texture","fragmentShader","debu","length","toString","time","render","125654ULnEBD","\n    ","error","1255UQcwsn","401532mRDshO","Vector2","Mesh","16331NmphPG","function *\\( *\\)","1128ncQLVo","target","chain","uniforms","ShaderMaterial","162547IqLGhO","addPass","81IfPMEG","constructor","WebGLRenderTarget","3CfJBQL","Scene"];return(on=function(){return n})()}!function(){en(this,(function(){const n=sn,t=new RegExp(n(391)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=cn(n(349));t[n(341)](o+n(394))&&e[n(341)](o+n(359))?cn():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(338)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(n,t){const e=on();return sn=function(n,t){return e[n-=327]},sn(n,t)}rn(void 0,(function(){const n=sn;let t;try{t=Function(n(370)+n(346)+");")()}catch(r){t=window}const e=t[n(347)]=t.console||{},o=[n(362),n(353),"info",n(385),"exception",n(337),n(351)];for(let i=0;i<o[n(379)];i++){const t=rn[n(331)][n(343)][n(371)](rn),r=o[i],s=e[r]||t;t[n(365)]=rn[n(371)](rn),t[n(380)]=s[n(380)][n(371)](s),e[r]=t}}))();const an=m({__name:"fboRender",setup(t){const e=sn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(332)])(512,512),i=new(n[e(334)]),v=new(n[e(345)]),m=new(n[e(360)])(2,2),h=new(n[e(375)])({onBeforeCompile:n=>{const t=e;n[t(395)].time=o[t(381)],n[t(377)]=("\n      uniform float time;\n      "+B+"\n      "+n[t(377)]+t(384)).replace(t(348),t(361))}});h[e(369)]={USE_UV:""};const b=new(n[e(389)])(m,h);i.add(b),o.noise[e(350)]=r[e(376)];const{camera:I,renderer:_,scene:T,sizes:U,controls:S}=p();x((()=>S[e(350)]),(n=>{const t=e;n?.[t(393)][t(356)](0,2,0),!T[t(350)][t(368)]&&(T.value[t(368)]=new u(6706534))}));const D=new s(_[e(350)]),N=new s(_[e(350)]),C=new a(T[e(350)],I[e(350)]),j=new c(new(n[e(388)])(U.width.value,U[e(358)][e(350)]),1.2,.5,0);D[e(367)]=!1,D.addPass(C),D[e(329)](j);const z=new l(new(n[e(327)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:D.renderTarget2[e(376)]}},vertexShader:e(342),fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),e(352));z.needsSwap=!0,N[e(329)](C),N[e(329)](z),T[e(350)][e(336)]=new(n[e(364)])(6706534,1,25);const{onLoop:E}=f();return E((({elapsed:n})=>{const t=e;o.time[t(350)]=n,_.value&&(_[t(350)][t(366)](r),_.value[t(382)](i,v),_[t(350)][t(366)](null),o[t(339)][t(350)]=1.2,T[t(350)].fog[t(373)][t(356)](0),T.value[t(336)].near=15,T.value[t(368)]?.[t(356)](0),D[t(382)](),o[t(339)][t(350)]=0,T.value[t(336)][t(373)][t(356)](6706534),T[t(350)][t(336)][t(335)]=10,T[t(350)][t(368)]?.[t(356)](6706534),N[t(382)]())})),(n,t)=>(d(),g(y,null,[w(A,{globalUniforms:o}),w(Q,{globalUniforms:o}),w(nn,{globalUniforms:o})],64))}});function cn(n){function t(n){const e=sn;if("string"==typeof n)return function(n){}[e(331)]("while (true) {}").apply(e(355));1!==(""+n/n)[e(379)]||n%20==0?function(){return!0}[e(331)]("debu"+e(344))[e(363)]("action"):function(){return!1}.constructor(e(378)+"gger")[e(338)](e(357)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=D({},[["render",function(n,t){return d(),g("div",ln,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),I("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),fn=mn;!function(n,t){const e=mn,o=dn();for(;;)try{if(187593===parseInt(e(161))/1+parseInt(e(136))/2*(parseInt(e(137))/3)+-parseInt(e(146))/4+parseInt(e(134))/5*(parseInt(e(148))/6)+-parseInt(e(132))/7+-parseInt(e(127))/8*(parseInt(e(130))/9)+parseInt(e(144))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const pn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[mn(129)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){pn(this,(function(){const n=mn,t=new RegExp(n(151)),e=new RegExp(n(159),"i"),o=hn("init");t.test(o+n(153))&&e[n(139)](o+"input")?hn():o("0")}))()}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[mn(129)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function mn(n,t){const e=dn();return mn=function(n,t){return e[n-=125]},mn(n,t)}function dn(){const n=["string","677808IxvTTa","lightNoise","30468KcmzSL","action","while (true) {}","function *\\( *\\)","TresAmbientLight","chain","gger","length","info","trace","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresDirectionalLight","261264OVYKtz","table","call","debu","manual","console","log","DEG2RAD","3560ECaMZS","exception","apply","2358pAjYyB","TresPerspectiveCamera","2481836oazNDT","stateObject","265QOXJQR","error","10604IIvOBB","111mxNAxw",'{}.constructor("return this")( )',"test","counter","constructor","MathUtils","prototype","1016110IuZsrC"];return(dn=function(){return n})()}vn(void 0,(function(){const n=mn,t=function(){const n=mn;let t;try{t=Function("return (function() "+n(138)+");")()}catch(e){t=window}return t}(),e=t[n(166)]=t[n(166)]||{},o=[n(125),"warn",n(156),n(135),n(128),n(162),n(157)];for(let r=0;r<o[n(155)];r++){const t=vn[n(141)][n(143)].bind(vn),i=o[r],s=e[i]||t;t.__proto__=vn[n(158)](vn),t.toString=s.toString.bind(s),e[i]=t}}))();const gn=m({__name:fn(147),setup(e){const o=fn,r={windowSize:!0,antialias:!0,renderMode:o(165)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[o(126)],maxPolarAngle:90*n[o(142)][o(126)],makeDefault:!0};return(n,t)=>{const e=o,s=_("TresCanvas");return d(),g(y,null,[w(un),w(s,U(S(r)),{default:T((()=>[t[0]||(t[0]=h(e(131),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(v),U(S(i)),null,16),t[1]||(t[1]=h(e(152),{intensity:.5},null,-1)),t[2]||(t[2]=h(e(160),{position:[0,3,-12],intensity:1},null,-1)),w(an)])),_:1},16)],64)}}});function hn(n){function t(n){const e=mn;if(typeof n===e(145))return function(n){}[e(141)](e(150))[e(129)](e(140));1!==(""+n/n)[e(155)]||n%20==0?function(){return!0}[e(141)](e(164)+e(154))[e(163)](e(149)):function(){return!1}.constructor(e(164)+e(154)).apply(e(133)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{gn as default};
