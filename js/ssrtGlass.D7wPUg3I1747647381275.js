import"./index.CbZP3J4b1747647381275.js";import{m as t,e as n,b as e,k as o,a as r}from"./@tresjs.Bz18oYQt1747647381275.js";import{_ as c}from"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.BlEN4dHw1747647381275.js";import{_ as W}from"./skyBoxAmesh.vue_vue_type_script_setup_true_lang.CFUQvumk1747647381275.js";import{P as i}from"./tweakpane.C0HtAJSg1747647381275.js";import{n as d,T as a,_ as u,Y as f,u as l,a as s,a$ as k,a1 as m,t as x,C as p,V as S,l as C,a2 as h,ar as v}from"./three.xEBIAocQ1747647381275.js";import{d as R,a5 as P,a2 as O,w as N,G as g,o as b,u as y,r as Q,h as G,j as w,f as _,I as H,e as F,am as I,ak as B,al as z,m as V,F as q}from"./@vue.C_fjx3FT1747647381275.js";import{_ as L}from"./randomLoading.vue_vue_type_script_setup_true_lang.BZ4w08h81747647381275.js";import"./utils.DEJSssoc1747647381275.js";import"./@fesjs.B_H2eabd1747647381275.js";import"./vue-router.Cux3PTsV1747647381275.js";import"./lodash-es.C7pWAXPe1747647381275.js";import"./@qlin.q6OWdsQV1747647381275.js";import"./pinia.BgdIkPzs1747647381275.js";import"./@babel.BPq7uOAK1747647381275.js";import"./@floating-ui.BFjFSAYt1747647381275.js";import"./@juggle.CcBCnTIR1747647381275.js";import"./three-mesh-ui.module.DrgOi8sj1747647381275.js";import"./postprocessing.wfjwKpQL1747647381275.js";import"./@vueuse.DY1VJauO1747647381275.js";import"./whiteFloor.BkCKAWoJ1747647381275.js";import"./starLoading._02ijDyD1747647381275.js";import"./cssLoaders.CXxqZHMJ1747647381275.js";import"./bubbleLoading.eSp-qf4e1747647381275.js";import"./yangyangLoading.DG15BEvl1747647381275.js";function K(t,n){var e=Z();return K=function(n,o){var r=e[n-=136];if(void 0===K.DyseXX){var c=function(t){for(var n,e,o="",r="",W=o+c,i=0,d=0;e=t.charAt(d++);~e&&(n=i%4?64*n+e:e,i++%4)?o+=W.charCodeAt(d+10)-10!=0?String.fromCharCode(255&n>>(-2*i&6)):i:0)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var a=0,u=o.length;a<u;a++)r+="%"+("00"+o.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(r)};K.xPAFPQ=function(t,n){var e,o,r=[],W=0,i="";for(t=c(t),o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)W=(W+r[o]+n.charCodeAt(o%n.length))%256,e=r[o],r[o]=r[W],r[W]=e;o=0,W=0;for(var d=0;d<t.length;d++)W=(W+r[o=(o+1)%256])%256,e=r[o],r[o]=r[W],r[W]=e,i+=String.fromCharCode(t.charCodeAt(d)^r[(r[o]+r[W])%256]);return i},t=arguments,K.DyseXX=!0}var W=n+e[0],i=t[W];if(i)r=i;else{if(void 0===K.KWoYHo){var d=function(t){this.JCQSqe=t,this.kwQnIG=[1,0,0],this.vHWoFE=function(){return"newState"},this.ebzZzh="\\w+ *\\(\\) *{\\w+ *",this.dTdHxf="['|\"].+['|\"];? *}"};d.prototype.ieHnDN=function(){var t=new RegExp(this.ebzZzh+this.dTdHxf).test(this.vHWoFE.toString())?--this.kwQnIG[1]:--this.kwQnIG[0];return this.iAmVDt(t)},d.prototype.iAmVDt=function(t){return Boolean(~t)?this.itMqFl(this.JCQSqe):t},d.prototype.itMqFl=function(t){for(var n=0,e=this.kwQnIG.length;n<e;n++)this.kwQnIG.push(Math.round(Math.random())),e=this.kwQnIG.length;return t(this.kwQnIG[0])},new d(K).ieHnDN(),K.KWoYHo=!0}r=K.xPAFPQ(r,o),t[W]=r}return r},K(t,n)}function J(t,n,e,o,r){return K(e-676,t)}!function(){var t,n,e,o,r=Z();function c(t,n,e,o,r){return K(n-440,r)}function W(t,n,e,o,r){return K(e-754,n)}function i(t,n,e,o,r){return K(n- -618,r)}for(;;)try{if(189600===parseInt(i(0,-386,0,0,"pHR6"))/1*(-parseInt(W(0,"lh]f",1070))/2)+-parseInt(W(0,"3[R4",1006))/3*(parseInt(i(0,-370,0,0,"xnRa"))/4)+-parseInt(c(0,659,0,0,"PMDW"))/5*(-parseInt(W(0,"fehI",905))/6)+-parseInt((e=1140,o="7&Hz",K(e-866,o)))/7+-parseInt(i(0,-420,0,0,"V8Lw"))/8+-parseInt(i(0,-427,0,0,"H9w6"))/9+-parseInt((t="][40",n=-213,K(n- -468,t)))/10*(-parseInt(c(0,691,0,0,"xnRa"))/11))break;r.push(r.shift())}catch(d){r.push(r.shift())}}();var D,M=(D=!0,function(t,n){function e(t,n,e,o,r){return K(n-234,t)}if("eivBB"===e("Z4B1",426)){var o=D?function(){function o(t,n,o,r,c){return e(o,c- -242)}function r(t,n,o,r,c){return e(n,c- -1029)}if(o(0,0,"pWhI",0,212)===o(0,0,"$]j[",0,201)){if(n){if("DLMcP"===r(0,"oPOy",0,0,-646))return _0x49c3f0;var c=n[r(0,"axs8",0,0,-492)](t,arguments);return n=null,c}}else if(_0x35d4dd){var W=_0x2890f7[(i=-619,d="aZRc",e(d,i- -994))](_0x2b29fe,arguments);return _0x35a8e4=null,W}var i,d}:function(){};return D=!1,o}var r=_0x24428e?function(){if(_0x3d20dc){var t=_0x41ad0b[(n="ManR",o=404,e(n,o- -76))](_0x2540e1,arguments);return _0xa3ae52=null,t}var n,o}:function(){};return _0x1b8c0c=!1,r})(void 0,(function(){function t(t,n,e,o,r){return K(o- -938,e)}return M[t(0,0,"pU0H",-639)]()[t(0,0,"xYfs",-777)]((n=-513,e="@Gte",K(n- -659,e))).toString().constructor(M).search(K(474-212,"lh]f"));var n,e}));M();var T,j=(T=!0,function(t,n){function e(t,n,e,o,r){return K(t-919,e)}if(e(1095,0,"sA8h")!==e(1215,0,"2ZQw"))return!1;var o=T?function(){function o(t,n,o,r,c){return e(n- -1086,0,o)}if(n){if("GAZMJ"===o(0,-10,"fehI")){var r=n[o(0,115,"xYfs")](t,arguments);return n=null,r}if(_0x417c99)return _0x9c740;_0x2468ff(0)}}:function(){};return T=!1,o});function Z(){var t=["oKWvqCkL","xs3cTSkXxSk9dNRcVahcQCorqrGbWRBdMGddNW","p0S5CSkqWQeYka","WOv7sCkaeeHvW4SD","WQaYW67cJCkU","W6yGBxnI","cmkutCkP","CGRdI8ooiW","WRZcICkGW5nzWQP2W5u","D8knedalW7f9iSoqWQVdJW","W7e5expdQqJdJmouc8kNWQ4","WQVcOCkIW7RcRa","kSkxm8oZ","sbhdRCocmefrWPy","W7rvW4lcMZ8","WOGKW6xcVmkrWOS","W5/dL8kgW7tdHCkYWQq6WO7cJqPhW4ZcMCk6Fd3cNKyTWQOQWOKNW4jOtmonW6f9WO1rmgTvFd9uWQtcGCkGW6j0hSkja8kXmx7cSmk9vNldTCkGoCk8yx3dRq7dSLpdSY/dQmoFzSkTw8o+WOZdUSoyhSkUfCoLaCouW7ddQmotWQeDW7SSD8odySo0e8kLf8knkqdcSmkwg8oqWQ3dPCoXjgpcUcfXzMKPW5FcVSobWQWXf8kbymkwdmkyW75uW4mnW41Tetn2W6GaWQVdN8kEW5VdIYdcN8ojBCowy2tcKJ9pDuitWRjUWPhcVmomaSoLBd1lWPhdT8odW5RcLmo2WP/dQSodkKm6WPFcRdtdNJ7cIW","EmoMWRK","CmoSWRTH","WPqjW5JdGq","dKRcJmkcDHWhWOujWRldNIVdKW","cmkHoSojka","dCkArSk/","W51XW5RcOmknWRinra","vKVcQ8kKW5/dVmkeaW","WO8AW6G3nLNcThW","W6ZdJSkEW6ddKmkGW6DPW6JdUeCk","W4vIqmoaWPG","WQ1mumkEgHWsW6aWjCoQofGfAG","xXBdN8oFla","W417EmkCfG","WPVcKCowhG","W5CLCaONoSkqWQJdJ2ZdT3O","fHtcRW","WQ/cVCocj8kD","c8oAtSkErMJcTfuMWQm","WR3cVmoqoCkb","r8kfjCknCW","m8kzWPPXzG","W4rgWR5NzHNcSN3cQ8khW4hcSW","wmo+WOldR8oxWPBcJmkuW5NdQ8oV","y8oiWOldNSoH","W4XpWRfRevhcM33cVmkv","W4BdRa7cQXqMWOW","W4rIxSoB","W5pdMCo+wa","W54PWR49WOPyWQKazCoklYy","jKuEy8kqWQe9iW","CSkYf8kpfa","tSofWONdPmoxWPhcI8ks","WRlcKmodWQy","bbxcV8oZomkkW5bjWQ1FW4/dRuRcJSkk","tshcRmkG","otJdKCorWR7cJJFdSCoKW5JdQCo6","WPz6iNfu","W59BWPutka","qmkqshxdG8omyCoVhmkPrmkmW5XYW7xdS8kSW4CkWPP/DCogW5XqW7hcNwpdO31QpG","WORcMmoeoCkY","y3xcJCkkW6FdItZdSmkPWOtcRmk9Bu9Fn07cUIS","WOyyW6yM","wsNcRSkXsq","ESoJWRbRWPmi","uSo/WOldUCorWRpcKmktW5NdRa","WRBcUNujcMBcK0/cUsPGWPWEW7bs","WOBcHCk0aLtcISoToSowiW","W6iCdCogtGLWW5GMgCo9xq","WPi3WQNdOKDsnCkaWR12wrpdI0BdKfuXB8kcW4m","W6jCcgq","amoCzmoBWOe","t8kcnwldNSolFmo8","W69TAsu","WPauW7S2","WQe1W4xdQ8kC","z8kDW6ndea","WPpcQ8kBW4lcJSocDWVcOtT2urO","bCkxWRbL","W4zYW5dcTG","WOxcOM8lpG","WO55W7TIW5ag","tHVdISodmeyFW5KxWPBdUchdJGz1aSkxD8kO","WPqnW5/dJmkSWPhcLw4","WOBdNHFcQH8nWOynW7pdH8ok","jSkzWOzZ","WRhcOhmradldGKVcRG","WObooCkX","W7LWzYlcNa","wmoCW5uNiSkCFSkZymkEv8oRWR4rWRnLC8ogWRrcWOyUECofWOCvFa3cN8kJWPZcS8kcDSoyjSkEBKNcO8kQWOPiW47dUGTAhSocWQJcOHi9nmoxWOqiz0FcNLyqW5LoWQzvuxdcUHBcISoPWPxdOSk2W4FcN8kClYFcPXxdUmkxWPzmWRLZv8kntgm1W50ljmkGzbjulmkZkmowhCk+W5nHjb/dUW3cRJ/dVmkbW7VdJYJdKqhdL1uIhWSTWRmpWQvz","lSoHwCofWP8","WQejW4ldU8kA","W7Lxd3tdHhnmlW","WOBdI8kysConmmk1jG","E8kejc8j","sCo0WOldUmogWPBcNmkf","aCoBvCkvqfRcRW","WODMmvbR","C2pcNSoVdmo5bM3dOc/cPSkFtZbdWOlcRq3cOHRcSJSqWRddOvaigmoao2fSwCkS","Amk/aSkubq","W7zww8oAWRO","WP1RB199zmkAWP7dT07dP0dcHKCSWPVcPSk9W6WnfWxcLc0xq0ZcRmkZW47cTSkr","WQHInerZ","WQ5ejmkQW4iSW5yxW4SThW","e8klWPXMta","W4LQWO3cOqGCzSouW68JgKFcHbtdMfDJkSowW4T3W6azyWuWfgblh2RcTW","A8kEWO0epvC","da3dPCocmSkkW4DyWQ1+W43dQ0lcMCowW5OkqghcPSkDW5JdItNcUc00WRJcL8osmXe","WP/dHCk/wmonmmk6lq","WPJdIWlcUWGRWOul","ksNdGmonW6ZdG3pcSCkmWOe","t8kFW7bagG","WQldImkQu8oAhSk+lNZcT8ktWP1K","ewlcGmkLW4pdSCkc","eSkQWRT5rf3cIuO","WPddKHxcUWO2WO0iW7G","WONdMCoLxSoqn8kOnwpcP8keWPTYWQ8KWOD8mCkuDKCyAutdNCkNsCkDWRNcGLZdUq","BmoBWPLdWQO","W7NdQIHrxNpdSxFcRXz3W7K","WPX5W6PLW5O","WPOdW4xdMSkQWORcGwfEzSof","WQ/cNmk+W5Tf","xCk3k2hdUW","WPxdImkuE8onomk8aN7cVSkiWP09W6aSW5fRlmkuDKCtE3tcNCk7BSoAW6JdNGNcOSk3W5K1mgewhmod","WOubW7GUWRS","WPhdHCkNuq","WQmAst7cIIGcDcupWRbY","Bmkjm3tdHq","bmobtSkyqfBcSL9YW6f8tmojDZ7cGG","BHrBWOCI","W4bYW43cPGia","WOVcJSk/uL/cUCoHnmoL","zbtdTmoXaq","ASoNWQLCWOqhvSotrcK5x8oPW6eO","WRZcPSovdmk1","WQdcQmkuW5/cN8o3zWFcUdfW","WQxdJWtcRqONWOCtW7/dKSoBW4FcLLRcSYS5","W7NdVCoxFwC","WPldKHDykgddOmoZwCkkpHdcOLXkWP0lW7pdHq","w8kZWQSdla","W5b+W43cPG","DCkiW7jDcNG","y3xcL8kBW7ddLxNcQG","o8owy8o6WRhdV0hdGGJcQmoV","WR83W6ibja","gmkytCkPzSk5nry","ACkAWO8xkW","mqFcJmoneW","WPJdJWxcTG","DCkoW7zbda","u8kzpNNdPW","WOr9W4f4W50","W4XoWR5Ly2tcKNJcNmkdW6G","a8kBWRX0","WPOnW4BdJmkSWPK","mCoCqCkFuu3cKfaMWQ5sdCkimq","WRFcIKGPnq","pCoRumkjw0VcSM4n","W6ztfxxdK2Himq","WPCfW7ORWQZdIW","q1tcImk8W5q","WPS3W6FcRCkmWP4WxCoP","W41iWOarna","ESoEcCokkGylWOnlWQeEW6FdO8k2W6K/WR8ujCogW7HgkqFcRmo2iCo1WPpdSmkHySkCWQC","WRjYFrlcJq","sCoNWQ99WPemuCocxWS9BSoVW6K5cXa","CCo1b8kdW73dGSkQycSRla","WOr6keG","urfgWOq6kSkurW","W6a3Eg0","W6P4EZZcLG","W5pcH1uCBZBdTmkRxSkRftdcGq","d8kuvCkpqq","eXtdJ8oOW6/dR8kGf8o9WR0","xX/dKSoA","nmkgiCoVbmkKW7rWlbKB","W5HRBJ7cIG","hH7cU8oukq","W5zfWRP2W7BcMmk+ncKWW4BdTmoh","vmkqo8kfB15gW44","FCkqWR1mbN7dTwlcQmo4WRC8oSoqW4FcQ8oIDdyroCobW5/dPCkcWRldOCoUvmoAW6xcQG","o8owy8o6WQRdOve","WQdcR8kBW4xcHq","c8knu8kHEG","uSkzlCkPW6xcRrtcGvZdP8k9g1pdQSk/aSk4WPlcL8oCWRZdS8kziSo4W4tcHSoFWP48WPddT8kpWORcOb9yzgL8W7f3W5hdIwlcLCo8W55vqL3cOhpdJ2JdTCkUWPSCa8oFnbSyqgzVWRFcISogwXCEB8kGqSoJW5tcGv1kW5RcV14HcmoBnCkxWOhcPMKRz8kvnmoBWO1YabdcP8kFWOzCWRG5xCkgWRniW7GmoCktaCo/gftcTW/cVu4dt8oQW5dcO8otyrS","WQBcKSosWP3cI8oMW6fOW5JdJey","vSkmeNpdNSolC8o3","WRlcM8o5WPlcL8oZW6nzW4hdGuuvW4ZcHmk6khJcKfmQWQeMW5ueW4PRFColWQSPWO52i3X/aeOcWQ3cMG","WRfYff57"];return(Z=function(){return t})()}!function(){j(this,(function(){function t(t,n,e,o,r){return K(e- -156,r)}function n(t,n,e,o,r){return K(n- -57,o)}function e(t,n,e,o,r){return K(t- -26,o)}function o(t,n,e,o,r){return K(t-363,e)}function r(t,n,e,o,r){return K(t- -627,r)}if(r(-327,0,0,0,"QedJ")===r(-333,0,0,0,"uLOB"))(function(){return!0})[e(223,0,0,"hxxw")]("debu"+e(163,0,0,"k0U8"))[t(0,0,38,0,"Pa*i")]("action");else{var c=new RegExp("function *\\( *\\)"),W=new RegExp(o(546,0,"ManR"),"i"),i=$("init");if(c[n(0,223,0,"V8Lw")](i+r(-425,0,0,0,"pWhI"))&&W[r(-342,0,0,0,"DIMW")](i+o(668,0,"lRKs")))o(571,0,"axs8")===e(121,0,0,"0[n]")?$():(this[r(-449,0,0,0,"@Gte")]=new(_0x3ca256[e(149,0,0,"2jCL")])({uniforms:{uTexture:{type:"t",value:null}},vertexShader:"\n                varying vec2 vUv;\n\n                void main() {\n                    vUv = uv;\n                    gl_Position = vec4(position.xy, 0.0, 1.0);    \n                }",fragmentShader:o(567,0,"2ZQw")+(_0x250697?_0x88db05:e(181,0,0,"LSiP"))+n(0,218,0,"DIMW"),depthTest:!1,depthWrite:!1}),this[o(617,0,"fehI")]=new _0xe4c9c4.Mesh(new(_0x3de3f5[n(0,261,0,"pU0H")])(2,2),this[r(-421,0,0,0,"0[n]")]),this[t(0,0,18,0,"tV&*")]=new(_0x470c70[n(0,99,0,"3[R4")])(45,_0x332a30[o(607,0,"2jCL")]/_0xae6693.innerHeight,1,1e3),this[e(191,0,0,"aZRc")]=_0x485a26,this[r(-370,0,0,0,"lRKs")]=new(_0x33772c[t(0,0,40,0,"uLOB")]),this[e(143,0,0,"xYfs")][n(0,185,0,"bZh@")](this[r(-399,0,0,0,"tV&*")]));else{if("kgNsb"!==o(534,0,"][40"))return function(t){}.constructor(o(635,0,"sA8h"))[n(0,133,0,"uLOB")]("counter");i("0")}}}))()}();var U,X,A,E=(U=!0,function(t,n){function e(t,n,e,o,r){return K(e-965,n)}function o(t,n,e,o,r){return K(t-170,n)}function r(t,n,e,o,r){return K(n-879,e)}if(r(0,1160,"tV&*")===r(0,1129,"hxxw")){var c=U?function(){function o(t,n,o,r,c){return e(0,o,t- -1726)}if(o(-595,0,"ul8n")!==o(-514,0,"^int")){var r=_0x51c2f0[o(-479,0,"xYfs")](_0x85451d,arguments);return _0x2f76f0=null,r}if(n){var c=n.apply(t,arguments);return n=null,c}}:function(){};return U=!1,c}var W=_0x32c0ee[o(388,"QedJ")][o(462,"sA8h")][o(431,"u&LD")](_0x9a6fef),i=_0x592acc[_0x1fdafb],d=_0x3fefe2[i]||W;W[e(0,"7&Hz",1177)]=_0x33b19f[o(454,"8z@a")](_0x554aac),W[o(392,"Pa*i")]=d[e(0,"0[n]",1243)].bind(d),_0x151a6e[i]=W});E(void 0,(function(){function t(t,n,e,o,r){return K(e- -516,o)}var n=function(){function t(t,n,e,o,r){return K(o-823,t)}function n(t,n,e,o,r){return K(t- -101,r)}function e(t,n,e,o,r){return K(t-720,o)}function o(t,n,e,o,r){return K(r- -759,t)}function r(t,n,e,o,r){return K(e-923,r)}if(n(83,0,0,0,"PMDW")!==o("pHR6",0,0,0,-546)){var c;try{"XROLo"===o("0[n]",0,0,0,-617)?(this[n(64,0,0,0,"Z4B1")][e(980,0,0,"bZh@")](_0x4cd970),this[t("pU0H",0,0,1137)][n(87,0,0,0,"oPOy")][n(157,0,0,0,"hxxw")][n(168,0,0,0,"u&LD")]=_0x194a5c,this[r(0,0,1122,0,"ManR")][n(49,0,0,0,"DIMW")](this[e(859,0,0,"][40")],this[r(0,0,1193,0,"zHH9")]),this[t("@Gte",0,0,1121)].setRenderTarget(null)):c=Function('return (function() {}.constructor("return this")( ));')()}catch(W){c=window}return c}_0x5effbe("0")}();function e(t,n,e,o,r){return K(n- -562,e)}function o(t,n,e,o,r){return K(r-291,e)}function r(t,n,e,o,r){return K(e- -845,t)}var c=n.console=n[r("2ZQw",0,-644)]||{};for(var W,i,d=["log",(W="jhx6",i=-373,K(i- -626,W)),o(0,0,"zHH9",0,518),"error",o(0,0,"3[R4",0,612),"table","trace"],a=0;a<d.length;a++){if(o(0,0,"ul8n",0,450)===e(0,-256,"jhx6")){var u;try{u=_0x5ebc22(r("lh]f",0,-578)+e(0,-362,"xYfs")+");")()}catch(k){u=_0xd51ff9}return u}var f=E[r("2ZQw",0,-682)][o(0,0,"pHR6",0,472)][t(0,0,-248,"V8Lw")](E),l=d[a],s=c[l]||f;f[r("2jCL",0,-668)]=E[o(0,0,"DIMW",0,451)](E),f[e(0,-329,"8rxq")]=s[o(0,0,"$]j[",0,547)][t(0,0,-301,"Z4B1")](s),c[l]=f}}))();class Y{constructor(t,n){var e,o;function r(t,n,e,o,r){return K(t- -358,n)}function c(t,n,e,o,r){return K(e- -545,n)}function W(t,n,e,o,r){return K(t- -707,r)}function i(t,n,e,o,r){return K(t- -316,r)}this[i(-27,6,42,-23,"tV&*")]=new d({uniforms:{uTexture:{type:"t",value:null}},vertexShader:c(-278,"LSiP",-320),fragmentShader:W(-412,-356,-420,-455,"^int")+(n||r(-215,"pU0H"))+"  \n                }",depthTest:!1,depthWrite:!1}),this[i(-95,-149,-148,-54,"4P@]")]=new(a[c(-248,"Aj]k",-252)])(new(a[(e=-414,o="pWhI",K(e- -697,o))])(2,2),this[i(-1,-36,63,8,"3[R4")]),this[W(-483,-425,-485,-404,"pHR6")]=new(a[i(-131,-58,-207,-131,"zHH9")])(45,window[c(-316,"hxxw",-274)]/window.innerHeight,1,1e3),this[i(-82,-58,-142,-119,"xnRa")]=t,this.scene=new u,this[i(-59,0,0,0,"lRKs")][i(-90,0,0,0,"zHH9")](this[r(-190,"3[R4")])}[J("axs8",0,863)](t,n){function e(t,n,e,o,r){return J(o,0,n- -1581)}var o,r,c,W;function i(t,n,e,o,r){return J(e,0,n- -1200)}function d(t,n,e,o,r){return J(o,0,r- -1588)}this[d(-590,-568,-614,"hxxw",-611)][e(0,-752,0,"zHH9")](n),this[e(0,-694,0,"$]j[")].uniforms[i(-133,-204,"8z@a")][d(-652,-647,-663,"jhx6",-676)]=t,this[(o="hxxw",r=512,J(o,0,r- -465))].render(this[i(-332,-260,"WUu&")],this[e(0,-593,0,"ul8n")]),this[(c="lh]f",W=-139,J(c,0,W- -977))].setRenderTarget(null)}}function $(t){function n(t,n,e,o,r){return J(o,0,n- -644)}function e(t){function n(t,n,e,o,r){return K(e-836,n)}function o(t,n,e,o,r){return K(o-823,r)}function r(t,n,e,o,r){return K(n- -888,t)}function c(t,n,e,o,r){return K(n-93,t)}function W(t,n,e,o,r){return K(e-60,t)}if(c("5nQX",332)===n(0,"Pa*i",988)){if(_0x206506){var i=_0xde163a[o(0,0,0,1003,"8rxq")](_0x4828d2,arguments);return _0x2ed694=null,i}}else{if(typeof t===n(0,"V8Lw",1015)){if(W("xnRa",0,224)===r("N6W7",-643))return function(t){}[n(0,"tV&*",976)](r("7&Hz",-651)).apply(W("2jCL",0,362));_0x25c5c8(0)}else{if(n(0,"Pa*i",1052)!==r("axs8",-580)){var d;try{d=_0xb14011("return (function() "+n(0,"axs8",1143)+");")()}catch(a){d=_0xe67b7a}return d}1!==(""+t/t).length||t%20==0?"hhrQV"===n(0,"xYfs",1153)?_0x44ad0f=_0x26d047(o(0,0,0,1033,"u&LD")+n(0,"0[n]",1101)+");")():function(){function t(t,n,e,o,r){return W(t,0,n- -825)}if("vgpgs"===t("DIMW",-542)){var n=_0x5d0831?function(){if(_0x504c87){var n=_0x130963[(e="V8Lw",o=1022,t(e,o-1643))](_0x5c3918,arguments);return _0x7cbef9=null,n}var e,o}:function(){};return _0x5679c0=!1,n}return!0}.constructor(W("uLOB",0,339)+"gger")[r("pU0H",-743)](o(0,0,0,1110,"][40")):"dWjAa"!==o(0,0,0,993,"0[n]")?function(){function t(t,n,e,r,c){return o(0,0,0,t- -939,n)}function e(t,e,o,r,c){return n(0,e,t- -902)}if(t(161,"2ZQw")===e(231,"tV&*"))return!1;(function(){var t;try{t=_0x1abe87("return (function() "+(e(123- -124,"bZh@")+");"))()}catch(n){t=_0x371a92}return t})()[t(89,"LSiP")](_0x31b375,4e3)}[W("pWhI",0,215)](c("8z@a",266)+c("LSiP",352))[o(0,0,0,1026,"Z4B1")](o(0,0,0,1018,"4P@]")):function(){return!1}[r("Aj]k",-579)](n(0,"N6W7",1076)+r("Z4B1",-657))[r("k0U8",-674)](r("3[R4",-598))}e(++t)}}try{if(n(0,186,0,"N6W7")!==n(0,275,0,"N6W7")){if(t){if(J("axs8",0,-194- -1133)!==J("zHH9",0,-192- -1005))return e;var o=_0x25bafc.apply(_0x588279,arguments);return _0x4d488a=null,o}"FwGlN"===J("bZh@",0,-386- -1229)?e(0):_0x118bd3=_0xbbf2d0}else if(_0x4de7a2){var r=_0x560771.apply(_0x544e5b,arguments);return _0x3e739f=null,r}}catch(c){}}(function(){function t(t,n,e,o,r){return K(n- -51,e)}function n(t,n,e,o,r){return K(n-297,e)}function e(t,n,e,o,r){return K(r- -573,n)}function o(t,n,e,o,r){return K(r- -519,t)}if(n(0,607,"^int")===n(0,527,"4P@]"))return!0;var r;try{if("pKdYK"===o("N6W7",0,0,0,-253)){var c=new _0xebffa7(o("2jCL",0,0,0,-371)),W=new _0x3570f4(K(304,"u&LD"),"i"),i=_0x8d0e72(n(0,573,"@Gte"));c[o("^int",0,0,0,-228)](i+e(0,"Pa*i",0,0,-335))&&W.test(i+t(0,146,"bZh@"))?_0x2af85f():i("0")}else r=Function(e(0,"Pa*i",0,0,-285)+e(0,"pU0H",0,0,-437)+");")()}catch(d){"DpsnQ"!==t(0,235,"sA8h")?_0x639d5c():r=window}return r})()[(X="g0sF",A=100,J(X,0,A- -762))]($,4e3),function(){function t(t,n,e,o,r){return ct(n-978,e)}function n(t,n,e,o,r){return ct(r-0,e)}const e=at();for(;;)try{if(320367===-parseInt(n(0,0,"%lQq",0,346))/1+-parseInt(n(0,0,"rqZO",0,187))/2*(-parseInt(n(0,0,"w[vB",0,410))/3)+parseInt(ct(292-11,"4B2N"))/4+-parseInt(t(0,1429,"pGzK"))/5+parseInt(n(0,0,"aR)E",0,275))/6*(-parseInt(n(0,0,"&lht",0,359))/7)+-parseInt(t(0,1435,"uL*X"))/8+parseInt(ct(-138- -396,"F9eK"))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();function tt(t,n,e,o,r){return ct(n-131,r)}const nt=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return ct(n-918,o)}function r(t,n,e,o,r){return ct(o- -608,t)}if(r("YHvf",0,0,-401)===r("&xIR",0,0,-218)){const c=t?function(){function t(t,n,e,r,c){return o(0,r- -1682,0,n)}function c(t,n,e,o,c){return r(t,0,0,e-230)}if(t(0,"6yL]",0,-482)===t(0,"bc6v",0,-360)){if(e){if(c("YHvf",0,-224)!==c("#r4C",0,4)){const t=e[c("04Ah",0,52)](n,arguments);return e=null,t}return this[t(0,"pGzK",0,-525)][(u="*n%P",f=552,o(0,f- -528,0,u))]}}else _0xa9c804 instanceof _0x4aa5d1[(d="9FNv",a=1027,o(0,a- -49,0,d))]&&(_0x476eaf[(W="H49n",i=1106,r(W,0,0,i-1496))]=this.frontFaceMaterial);var W,i,d,a,u,f}:function(){};return t=!1,c}_0x233a3a("0")}}()(void 0,(function(){function t(t,n,e,o,r){return ct(r-481,e)}function n(t,n,e,o,r){return ct(r- -302,e)}return nt[n(0,0,"R1L3",0,-158)]()[(e=401,o="6yL]",ct(e-219,o))](n(0,0,"zrng",0,73))[t(0,0,"6yL]",0,683)]()[t(0,0,"HD(e",0,675)](nt).search("(((.+)+)+)+$");var e,o}));nt();const et=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return ct(t- -694,r)}function r(t,n,e,o,r){return ct(n-917,r)}function c(t,n,e,o,r){return ct(r- -720,t)}if("NyvpC"!==r(0,1366,0,0,"D#fm"))return _0x3fd7c4[r(0,1057,0,0,"u*Kz")]()[c("l6)X",0,0,0,-413)]((W="uL*X",i=-46,ct(i- -184,W)))[o(-273,0,0,0,"*n%P")]()[c("&xIR",0,0,0,-472)](_0x871dd)[r(0,1251,0,0,"x^0r")](r(0,1179,0,0,"6puV"));{const r=t?function(){function t(t,n,e,o,r){return c(o,0,0,0,r- -1)}function r(t,n,e,o,r){return ct(r- -1399-698,t)}if("mqPYo"===t(0,0,0,"YgCA",-524)){const n=_0x37e77a?function(){if(_0x39494c){const o=_0x1a3ec7[(n=439,e="81lk",t(0,0,0,e,n-840))](_0x20f69a,arguments);return _0x3fb2a4=null,o}var n,e}:function(){};return _0x437520=!1,n}if(e){if(r("#r4C",0,0,0,-437)!==r("yncU",0,0,0,-506)){const t=e.apply(n,arguments);return e=null,t}{const t=_0x20d87f[(W="4B2N",i=512,o(i-833,0,0,0,W))](_0x299bbd,arguments);return _0x2d4776=null,t}}var W,i}:function(){};return t=!1,r}var W,i}}();function ot(t,n,e,o,r){return ct(t- -222,o)}!function(){et(this,(function(){function t(t,n,e,o,r){return ct(e-249,t)}function n(t,n,e,o,r){return ct(e-830,n)}function e(t,n,e,o,r){return ct(n- -836,o)}function o(t,n,e,o,r){return ct(o-10,n)}function r(t,n,e,o,r){return ct(r-485,e)}if(n(0,"(KS0",1169)!==n(0,"Q%kR",1145))_0x591fb instanceof _0xa4d4d5[n(0,"YHvf",1239)]&&(_0x159444[o(0,"81lk",0,182)]=this.material);else{const n=new RegExp("function *\\( *\\)"),c=new RegExp(r(0,0,"![wa",0,696),"i"),W=dt("init");n[o(0,"04Ah",0,208)](W+o(0,"%aiT",0,202))&&c[r(0,0,"aR)E",0,646)](W+t("YHvf",0,545))?t("&xIR",0,461)===o(0,"&lht",0,453)?_0x2e92ea[e(0,-537,0,"@M[W")]=this[o(0,"9FNv",0,300)]:dt():e(0,-411,0,"Og!&")!==e(0,-396,0,"(AgW")?_0x47f49c(0):W("0")}}))()}();const rt=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return ct(e-437,r)}function r(t,n,e,o,r){return ct(r- -731,o)}if(o(0,0,870,0,"NBlH")!==o(0,0,722,0,"bc6v")){const c=t?function(){function t(t,n,e,o,c){return r(0,0,0,t,c-531)}function c(t,n,e,r,c){return o(0,0,t- -725,0,e)}if("GXloX"===c(5,0,"YHvf"))_0x13e9c7();else if(e){if(c(-66,0,"%aiT")===t("%aiT",0,0,0,22)){const o=e[t("%lQq",0,0,0,45)](n,arguments);return e=null,o}if(_0xaffd49){const t=_0x187a46[(W=954,i="yncU",r(0,0,0,i,W-1372))](_0x180cf8,arguments);return _0x24176a=null,t}}var W,i}:function(){};return t=!1,c}this[r(0,0,0,"w[vB",-540)]=this.ping}}();function ct(t,n){const e=at();return ct=function(n,o){let r=e[n-=135];if(void 0===ct.jIOrcx){var c=function(t){let n="",e="",o=n+c;for(let r,c,W=0,i=0;c=t.charAt(i++);~c&&(r=W%4?64*r+c:c,W++%4)?n+=o.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*W&6)):W:0)c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(c);for(let r=0,c=n.length;r<c;r++)e+="%"+("00"+n.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(e)};const n=function(t,n){let e,o,r=[],W=0,i="";for(t=c(t),o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)W=(W+r[o]+n.charCodeAt(o%n.length))%256,e=r[o],r[o]=r[W],r[W]=e;o=0,W=0;for(let c=0;c<t.length;c++)o=(o+1)%256,W=(W+r[o])%256,e=r[o],r[o]=r[W],r[W]=e,i+=String.fromCharCode(t.charCodeAt(c)^r[(r[o]+r[W])%256]);return i};ct.eUnlIo=n,t=arguments,ct.jIOrcx=!0}const W=n+e[0],i=t[W];if(i)r=i;else{if(void 0===ct.OXvKaS){const t=function(t){this.KiMRsY=t,this.poxxYN=[1,0,0],this.EmVOjw=function(){return"newState"},this.vPGLdi="\\w+ *\\(\\) *{\\w+ *",this.yDkOCr="['|\"].+['|\"];? *}"};t.prototype.ncVGSu=function(){const t=new RegExp(this.vPGLdi+this.yDkOCr).test(this.EmVOjw.toString())?--this.poxxYN[1]:--this.poxxYN[0];return this.WSVNcc(t)},t.prototype.WSVNcc=function(t){return Boolean(~t)?this.nXWcUP(this.KiMRsY):t},t.prototype.nXWcUP=function(t){for(let n=0,e=this.poxxYN.length;n<e;n++)this.poxxYN.push(Math.round(Math.random())),e=this.poxxYN.length;return t(this.poxxYN[0])},new t(ct).ncVGSu(),ct.OXvKaS=!0}r=ct.eUnlIo(r,o),t[W]=r}return r},ct(t,n)}function Wt(t,n,e,o,r){return ct(e-293,r)}rt(void 0,(function(){let t;function n(t,n,e,o,r){return ct(r-6,n)}function e(t,n,e,o,r){return ct(t- -938,r)}function o(t,n,e,o,r){return ct(r- -354,o)}function r(t,n,e,o,r){return ct(r-690,o)}function c(t,n,e,o,r){return ct(t-781,o)}try{if(e(-611,0,0,0,"NBlH")===e(-772,0,0,0,"ffmS")){const t=_0x542cf0(e(-684,0,0,0,"pGzK")+n(0,"R1L3",0,0,441)+");");_0x1b8ecd=t()}else{t=Function(o(0,0,0,"HD(e",-74)+r(0,0,0,"itgy",920)+");")()}}catch(d){r(0,0,0,"fAGu",845)===r(0,0,0,"[zrT",873)?_0x770413[o(0,0,0,"D#fm",-125)]=this[o(0,0,0,"F9eK",-101)]:t=window}const W=t[n(0,"(KS0",0,0,318)]=t[e(-655,0,0,0,")53g")]||{},i=[c(1188,0,0,"(AgW"),o(0,0,0,"(AgW",42),r(0,0,0,"(AgW",937),"error",o(0,0,0,"04Ah",-14),o(0,0,0,"R1L3",-205),"trace"];for(let a=0;a<i[e(-785,0,0,0,")53g")];a++){if(c(1065,0,0,")53g")!==r(0,0,0,"@M[W",1112)){const t=_0x588f51[n(0,"zrng",0,0,182)](_0x35de86,arguments);return _0x13854a=null,t}{const t=rt[r(0,0,0,"rqZO",835)][c(1146,0,0,"YHvf")][c(1009,0,0,"9FNv")](rt),e=i[a],d=W[e]||t;t.__proto__=rt[o(0,0,0,"R1L3",-194)](rt),t[n(0,"rqZO",0,0,202)]=d.toString[r(0,0,0,"aR)E",914)](d),W[e]=t}}}))(),function(){function t(t,n,e,o,r){return ct(n- -965,o)}let n;function e(t,n,e,o,r){return ct(e- -48,r)}function o(t,n,e,o,r){return ct(t-766,e)}function r(t,n,e,o,r){return ct(o- -271,r)}try{if("lhKUx"===e(0,0,156,0,"1nHO")){n=Function(e(0,0,103,0,"9FNv")+t(0,-568,0,"@M[W")+");")()}else _0x1631eb(this,(function(){function n(n,e,o,r,c){return t(0,e-1756,0,r)}const r=new _0x58e2e3(n(0,1123,0,"pGzK"));function c(t,n,e,r,c){return o(c-141,0,e)}const W=new _0x17e41b("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=_0x288d1b(n(0,961,0,"fAGu"));var d,a;r[c(0,0,"S$Oy",0,1269)](i+o(214- -854,0,"H49n"))&&W[(d=158,a="&xIR",e(0,0,d- -228,0,a))](i+c(0,0,"HD(e",0,1149))?_0x25722e():i("0")}))()}catch(i){r(0,0,0,-30,"35tm")!==r(0,0,0,-20,"&xIR")?n=window:function(){return!1}[r(0,0,0,130,"&lht")](e(0,0,404,0,"4B2N")+"gger").apply(t(0,-744,0,"6yL]"))}var c,W;n[(c="81lk",W=879,ct(W-740,c))](dt,4e3)}();class it{constructor(t,n,e){function o(t,n,e,o,r){return ct(e- -853,o)}function r(t,n,e,o,r){return ct(r-988,n)}function c(t,n,e,o,r){return ct(e-933,o)}function W(t,n,e,o,r){return ct(o- -208,e)}function i(t,n,e,o,r){return ct(n- -470,o)}this[W(94,195,"#r4C",127)]=t[o(0,0,-477,"R1L3")](),this[i(51,-83,65,"9FNv")]=n,this.renderer=e,this.scene=new(a[o(0,0,-473,"u*Kz")]),this[r(1453,"4B2N",1292,1366,1307)][c(1114,1023,1123,"YgCA")](this[c(1271,1102,1143,"H49n")]),this[o(0,0,-459,"S$Oy")]=new Y(this[c(1225,1097,1212,"YgCA")]),this.ping=new(a[W(324,128,"6yL]",210)])(innerWidth,innerHeight,{type:f,depthBuffer:!1,stencilBuffer:!1}),this.pong=new(a[i(-150,-176,-198,"Q%kR")])(innerWidth,innerHeight,{type:a[i(19,-59,-19,")53g")],depthBuffer:!1,stencilBuffer:!1}),this[c(1159,1186,1190,"4B2N")]=new l(innerWidth,innerHeight,{type:a[i(-63,-91,15,"H49n")]}),this.frontFaceMaterial=new(a[W(202,124,"04Ah",100)])({uniforms:{uCameraFarInverse:{value:1/this[r(0,"4B2N",0,0,1443)][c(1153,968,1108,"1nHO")]}},vertexShader:W(191,105,"q1#@",55),fragmentShader:i(-218,-218,-194,"&xIR"),depthTest:!0,depthWrite:!0,side:a[W(-142,149,"9FNv",19)]}),this.material=new(a[r(0,"zrng",0,0,1340)])({uniforms:{uScreenSize:{value:new s(innerWidth,innerHeight)},uPrevDepth:{type:"t",value:this[W(-31,54,"(AgW",-7)][W(47,9,"D#fm",-5)]},uCameraFarInverse:{value:1/this[r(0,"jIrs",0,0,1337)][o(0,0,-556,"YgCA")]},uSample:{value:0}},vertexShader:W(176,314,"[zrT",150),fragmentShader:c(0,0,1278,"zrng"),depthTest:!1,depthWrite:!1,side:a[i(-169,-281,-369,"F9eK")]}),this[o(0,0,-536,"[zrT")][o(0,0,-539,"4B2N")]((t=>{function n(t,n,e,o,r){return i(0,r-250,0,t)}function e(t,n,e,o,r){return W(0,0,o,e- -333)}function c(t,n,e,o,r){return i(0,e-1328,0,o)}function d(t,n,e,r,c){return o(0,0,c-60,n)}function u(t,n,e,o,c){return r(0,e,0,0,n- -1363)}if(c(0,0,1113,"NBlH")===n("Q%kR",0,0,0,46)){let t;try{t=_0x3ed902(e(0,0,-190,"T9K@")+u(0,-28,"Og!&")+");")()}catch(f){t=_0x1dbe14}const o=t[u(0,-212,"w[vB")]=t.console||{},r=[e(0,0,-172,"(KS0"),c(0,0,1212,"9FNv"),"info",e(0,0,-125,"u*Kz"),c(0,0,1066,"6yL]"),e(0,0,-316,"%lQq"),u(0,25,"&xIR")];for(let c=0;c<r.length;c++){const t=_0x2d381a[u(0,-32,"q1#@")].prototype.bind(_0x50c510),W=r[c],i=o[W]||t;t[n("9FNv",0,0,0,204)]=_0x293d2d[n("R1L3",0,0,0,-60)](_0x4585ab),t[e(0,0,-173,"&lht")]=i[d(0,"y*PC",0,0,-349)][d(0,"H49n",0,0,-423)](i),o[W]=t}}else if(t instanceof a[u(0,11,"%lQq")]){if("yZjtp"!==e(0,0,-178,"&lht"))return function(t){}[u(0,-125,"h&bl")]("while (true) {}")[u(0,84,"q1#@")](d(0,"4B2N",0,0,-615));t.material=this[u(0,-234,"jIrs")]}}))}[Wt(0,0,692,0,"35tm")](t){function n(t,n,e,o,r){return Wt(0,0,r- -550,0,e)}function e(t,n,e,o,r){return Wt(0,0,n- -172,0,t)}function o(t,n,e,o,r){return Wt(0,0,e- -190,0,o)}function r(t,n,e,o,r){return Wt(0,0,o- -946,0,n)}this[r(-497,"YHvf",-501,-460)][e("![wa",526,654,622)](this[c("R1L3",-509,-434,-336,-436)]),this.renderer[e("81lk",523)](),this[n(0,0,"(KS0",0,127)][e("(AgW",347)](this[c("HD(e",-648,-664,-648,-590)]),this[e("u*Kz",547)][o(0,0,272,"NBlH")](),this[n(0,0,"(AgW",0,174)][e("%aiT",382)]((t=>{function o(t,e,o,r,c){return n(0,0,r,0,o-861)}function W(t,n,o,r,c){return e(n,r-507)}function i(t,n,e,o,c){return r(t-73,t,e-373,o-762)}function d(t,n,e,o,c){return r(t-350,o,e-215,t-1464)}function u(t,n,e,o,r){return c(e,n-390,e-355,o-332,o-1044)}if("DTVum"!==i("w[vB",0,271,353)){if(t instanceof a[d(1144,0,1008,"uL*X")]){if(d(1243,0,1402,"81lk")!==W(0,"rqZO",0,874))return!0;t[o(0,0,975,"1nHO")]=this[o(0,0,926,"35tm")]}}else this[i("zrng",0,405,318)]=_0x62fe91[W(0,"6puV",0,780)](),this[o(0,0,991,"9FNv")]=_0x5b7e79,this[u(0,642,"&lht",573)]=_0x197585,this[i("aR)E",0,272,427)]=new _0x56e662.Scene,this.scene.add(this[d(1204,0,1075,"rqZO")]),this.blitProgram=new _0x2783e7(this[o(0,0,946,"9FNv")]),this[u(0,730,"jIrs",571)]=new(_0xfca799[i("F9eK",0,341,286)])(_0x2dd700,_0x591961,{type:_0x423f36[u(0,512,"@M[W",561)],depthBuffer:!1,stencilBuffer:!1}),this[o(0,0,940,"D#fm")]=new(_0x1ca36e[i("1nHO",0,433,453)])(_0x28cd22,_0x309cbf,{type:_0x3b946e[d(958,0,1011,"#r4C")],depthBuffer:!1,stencilBuffer:!1}),this[i("pGzK",0,387,348)]=new(_0x1bd0cf[u(0,601,"aR)E",596)])(_0x561a99,_0x57aef5,{type:_0x8e3478[W(0,"9FNv",0,956)]}),this.frontFaceMaterial=new(_0x5e0304[u(0,687,"ffmS",716)])({uniforms:{uCameraFarInverse:{value:1/this[i("ffmS",0,710,565)][i("D#fm",0,581,466)]}},vertexShader:u(0,418,"yncU",513),fragmentShader:W(0,"pGzK",0,952),depthTest:!0,depthWrite:!0,side:_0x477d35[o(0,0,831,"9FNv")]}),this[W(0,"1nHO",0,999)]=new(_0x1bdb5d[d(1203,0,1266,"@M[W")])({uniforms:{uScreenSize:{value:new(_0x138899[i("pGzK",0,406,397)])(_0x3d10a4,_0x3293f6)},uPrevDepth:{type:"t",value:this[o(0,0,818,"YgCA")].texture},uCameraFarInverse:{value:1/this[W(0,"F9eK",0,795)][o(0,0,772,"rqZO")]},uSample:{value:0}},vertexShader:d(959,0,925,"#r4C"),fragmentShader:"\n                uniform sampler2D uPrevDepth;\n                uniform float uCameraFarInverse;\n                uniform float uSample;\n                uniform vec2  uScreenSize;\n\n                varying vec3 vWorldSpaceNormal;\n                varying vec3 vCameraSpacePos;\n\n                void main() {\n\n                    vec2 uv = gl_FragCoord.xy / uScreenSize;\n                    float prevRegisteredDepth = texture2D(uPrevDepth, uv).w;\n                    float currentDepth        = abs(vCameraSpacePos.z) * uCameraFarInverse;\n\n                    if(currentDepth <= prevRegisteredDepth) {\n                        discard;\n                    }\n\n                    gl_FragColor = vec4(vWorldSpaceNormal, currentDepth);    \n                }",depthTest:!1,depthWrite:!1,side:_0x6c174d[i("yncU",0,499,419)]}),this[W(0,"D#fm",0,1031)][d(1046,0,981,"jIrs")]((t=>{var n,e,o;t instanceof _0x345d82.Mesh&&(t.material=this[(n=-161,e=-195,o="pGzK",d(n- -1413,0,e-125,o))])}))})),this[r(-365,"%aiT",-536,-489)][c("ffmS",-664,-655,-517,-586)].uCameraFarInverse.value=1/this[e("YHvf",407)][c("&xIR",-242,-365,-455,-383)];for(let W=0;W<t;W++)if(n(0,0,"[zrT",0,-86)!==e("(AgW",533)){let t=W%2==0?this[n(0,0,"&xIR",0,204)]:this[c("YHvf",-538,-643,-546,-534)],i=W%2==0?this[e("@M[W",421)]:this[c("x^0r",-418,-361,-440,-485)];this[e("jIrs",262)][r(0,"itgy",0,-517)][c("bc6v",-207,-296,-478,-336)].value=t[c("YHvf",-325,-261,-232,-355)],this.material[o(0,0,336,"%lQq")][c("pGzK",-323,-189,-266,-351)][r(0,"zrng",0,-510)]=W,this[o(0,0,323,"h&bl")][e("NBlH",516)]=!1,this[n(0,0,"(AgW",0,124)][e("rqZO",302)](i),this.renderer.render(this.scene,this[n(0,0,"w[vB",0,-57)]),this.renderer[e("YgCA",278)]=!0,this[e("h&bl",566)][r(0,"pGzK",0,-388)](i[o(0,0,335,"T9K@")],t)}else{const t=new _0x43dab8("function *\\( *\\)"),r=new _0x2bd1c9("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),c=_0xc3255f(e("9FNv",357));t.test(c+o(0,0,440,"%lQq"))&&r[n(0,0,"%lQq",0,-19)](c+o(0,0,399,"YHvf"))?_0x12af5d():c("0")}if(t%2==0){if("GVhWH"!==r(0,"@M[W",0,-199))return this[e("R1L3",471)][o(0,0,352,"Og!&")];this[n(0,0,"pGzK",0,115)]=this[o(0,0,464,"1nHO")]}else{if(o(0,0,370,"R1L3")!==e("aR)E",301)){const t=_0x5a2809?function(){if(_0x284cfe){const o=_0x4e0464[(t=-124,n="pGzK",e(n,t- -476))](_0x4c8272,arguments);return _0x227380=null,o}var t,n}:function(){};return _0x2d4fcb=!1,t}this[n(0,0,"6puV",0,103)]=this.pong}function c(t,n,e,o,r){return Wt(0,0,r- -1067,0,t)}this[o(0,0,390,"NBlH")].traverse((t=>{function e(t,n,e,o,c){return r(0,n,0,e-947)}function o(t,n,e,o,c){return r(0,t,0,o-431)}if("ztzNs"===o("fAGu",0,0,152)){const t=_0x5e7f30?function(){if(_0x3414d7){const o=_0x10cf8b[(t=117,n="%aiT",e(0,n,t- -591))](_0x5ece0c,arguments);return _0x45c9e5=null,o}var t,n}:function(){};return _0x36140f=!1,t}if(t instanceof a[e(0,"aR)E",572)])if("vBOQY"===o("1nHO",0,0,144)){if(_0xac3db1){const t=_0x253224[(c="H49n",W=830,n(0,0,c,0,W-870))](_0x2b0ff4,arguments);return _0x304be9=null,t}}else t[o("[zrT",0,0,161)]=this[o("YHvf",0,0,-43)];var c,W})),this[o(0,0,509,"S$Oy")][c("81lk",-236,-204,-216,-324)](this.frontFaceRT),this[r(0,"*n%P",0,-393)][e("35tm",358)](this[c("T9K@",0,0,0,-445)],this[c("(AgW",0,0,0,-426)])}[Wt(0,0,671,0,"D#fm")](){return this[(t=-81,n="81lk",Wt(0,0,t- -803,0,n))].texture;var t,n}[tt(0,456,0,0,"x^0r")](){function t(t,n,e,o,r){return ot(t-2,0,0,r)}return this[t(-46,0,0,0,"Og!&")][t(-85,0,0,0,"%lQq")]}}function dt(t){function n(t,n,e,o,r){return Wt(0,0,n- -164,0,o)}function e(t,n,e,o,r){return ot(n-1146,0,0,o)}function o(t,n,e,o,r){return Wt(0,0,r- -776,0,o)}function r(t){function n(t,n,e,o,r){return ct(n- -732,e)}function e(t,n,e,o,r){return ct(t-625,n)}function o(t,n,e,o,r){return ct(e- -469,r)}function c(t,n,e,o,r){return ct(e-908,n)}function W(t,n,e,o,r){return ct(o- -462,t)}if(W("04Ah",0,0,-277)!==W("aR)E",0,0,-131)){const t=_0x42586f[e(980,"D#fm")](_0x3964ba,arguments);return _0x3c4387=null,t}if(typeof t===o(0,0,-304,0,"S$Oy")){if("XAxea"===c(0,"04Ah",1124))return function(t){}[o(0,0,-324,0,"rqZO")](e(931,"6puV"))[c(0,"6yL]",1325)](n(0,-421,"bc6v"));{const t=_0x54ed77("return (function() "+c(0,"(AgW",1167)+");");_0x31664f=t()}}else if("OGwMg"===c(0,"4B2N",1058)){const t=_0x1f4aac[W("S$Oy",0,0,-190)][e(831,"H49n")].bind(_0x3e8b83),r=_0x435501[_0x30786b],i=_0x4a137c[r]||t;t[o(0,0,-327,0,"h&bl")]=_0x301206[n(0,-476,"zrng")](_0xc4ed68),t[e(955,"pGzK")]=i[c(0,"uL*X",1296)][W("[zrT",0,0,-4)](i),_0x3a6d4e[r]=t}else if(1!==(""+t/t).length||t%20==0)if("dIAXw"!==n(0,-595,"6puV")){let t;try{t=_0x1e8472(W("YHvf",0,0,-257)+'{}.constructor("return this")( ));')()}catch(i){t=_0x23ae71}t[c(0,"yncU",1182)](_0x423338,4e3)}else(function(){return n(0,138-684,"6yL]")===c(0,"9FNv",-331- -1637)||(_0x33a6a4?_0x5450f6:void _0x1697c8(0))})[o(0,0,-80,0,"aR)E")](c(0,"NBlH",1176)+"gger")[n(0,-437,"pGzK")](o(0,0,-193,0,"YgCA"));else o(0,0,-27,0,"jIrs")!==e(1033,"u*Kz")?_0x12520a instanceof _0x3020de[c(0,"S$Oy",1212)]&&(_0x392ecf[e(981,"6yL]")]=this[o(0,0,-54,0,"*n%P")]):function(){function t(t,n,o,r,c){return e(n- -429,o)}function o(t,n,o,r,c){return e(o- -587,t)}if(t(0,409,"w[vB")===o("@M[W",0,451))return!1;var r,W;(function(){return!0})[o("1nHO",0,315)](o("9FNv",0,311)+(r="u*Kz",W=-69,n(0,W-278,r)))[t(0,549,"Og!&")](c(0,"S$Oy",-815- -1896))}[n(0,-423,"81lk")](W("1nHO",0,0,-192)+c(0,"(KS0",1361))[e(844,"w[vB")](c(0,"1nHO",1054));r(++t)}try{if(n(0,328,0,"q1#@")!==n(0,557,0,"9FNv")){let t=_0x4ec39f%2==0?this[e(0,1363,0,"(KS0")]:this.pong,r=_0x3b1be2%2==0?this[o(0,0,0,"35tm",-142)]:this[e(0,1245,0,"rqZO")];this[(i="zrng",d=-393,Wt(0,0,d- -1050,0,i))][n(0,452,0,"yncU")][(c=-397,W="y*PC",tt(0,c- -895,0,0,W))].value=t[e(0,1372,0,"4B2N")],this[o(0,0,0,"4B2N",-268)][e(0,1080,0,"T9K@")][e(0,1195,0,"[zrT")].value=_0x50dc0f,this[e(0,1384,0,"[zrT")].autoClear=!1,this[e(0,1361,0,"6puV")][e(0,1105,0,"rqZO")](r),this.renderer[o(0,0,0,"S$Oy",-324)](this[e(0,1240,0,"yncU")],this[n(0,363,0,"Q%kR")]),this[o(0,0,0,"(KS0",-99)].autoClear=!0,this.blitProgram.blit(r.texture,t)}else if(t){if(o(0,0,0,"bc6v",-63)!==n(0,434,0,"l6)X"))return r;if(_0x4e1a82){const t=_0x3089c0.apply(_0x1b4e6d,arguments);return _0x372a63=null,t}}else n(0,576,0,"uL*X")===n(0,556,0,"R1L3")?_0x3cdb02=_0x3335d4:r(0)}catch(a){}var c,W,i,d}function at(){const t=["WR/cI8oxbSkIDSoAWO9eWQ7dRG","W5fEWPlcKSkGl8kMW4rtWQqrW6v4sSk4W43cUW","W4xdItNdGSofrZNcMCk+ahJdJ209umk+WOlcGIhcS8odW7aKW5JdKtlcU8oYn8oyESkyWRhcNshdLCkCWRZdNSkyWPpdLSkdW5jvWRhdGCk5W77cOIJdUcZcItxcOWtdJGPeW5P0sCottmo+iSoKx3WdW7zIWOldUmoaFCo9W5G1hrlcOSkYWRb5a8krlSklrmodzCkQe0JdIe7dO8onwmkQsmkVkrRcI0vOkv/cSZ8lzmogWOCmdCozW5xdRaH9WO4/W4PLWRhdGbypWPddN8oOxqJdJmobcW8we8kroSorW7lcGbWsfCk0pb3cLItcMCk0WQBcNMtdQmorumkbBYBdNKi5lqvreWW/emoks8oQtSkWW4JdVuyGWP/cJmkIo3rztHTFW4dcM8oIWQtcSSk7WR9RW4lcV8k3A2BcJwPth8oRWRJdGSk/WPRdNmkRW4hcP8kCWPxdRWJcR8kGvSoocafXWRpdImk8WPbnc8kfeCkaWOhdRmoAbSkDtmkvWQz1o1mzW6i6WRWQuCkBDSoUr8kramoQWOlcSCoHWRNcMg5uECkQFGJdQqqBWPRcSSkojweQySkIWOZcPZNdIHT1WRPKm8kMbLOAhJhcI0tdOLWlySktDci5bmkpAa3dUH3dSSkPvqZcISk9WR/dILNcQSkBubHKWOLVvCkDegJcLJ9uomoGDmkCWOXLWQBdJmkwW6dcPdT4W4VdT8oloCkhqs5AWRPbWOKEW7xdLHZcKafXo2lcSND3WRpdHXxdKSo/hruvW480W73dUmkppCkpW6hcTmkCh1W/h8o9F8kyjmkht192WO8rCYzDWPBcG8kuhgT5W61FW5iEWOaqW63dI1f+emkzWOldQYy4W5lcMtldHuNcV8kddZfFWQdcGe1UW7NcPCkRxSoRkSkuWQdcNSkTxG5gWOi5emkSaY8SWRjXW6ZcMCkBfSkAW6atWP7cJMbupsNdKSkDW6RdTHdcU8kBuqPTcCoHhSoruNWnWOidW7JdVhfzDv/cImoqgCoHWRTAimohWPRdU3FcSWRcN8oAvaVcQJFdQ8kBFCo4W6pdUtldHY3cKSkeW6blW6VdR1lcVSoaDa8KWR3dS0FdTCoCnGBdNCoqBN7dGmo8WPHbgCoWW63cK8kKqbesW7JcUGZcHSkCf0FcQsGaWQVdOb3dVb3dHL5FWRBcRZffWR1lkhSDWRK8vSo/WRVcQhyisSo5W53dNbu3a0G6WPHLWOfAamoYWOa8kZDQW47cNSk+W41tW67cQgRdNMzJxHFcQtWYjmkGcCkDuxZdIGdcQmkbESodjaHyyd15n8kOW70yfSkDpx9XW5BcMNqQW7znC8kkmmo2WRFdRuzVWRrJrmonAhmWWOFcKXigW6f0WQnLCeThpJZcJX0gWO5stbTrWOZcV8k9dWBdMaXPWQddMh4bW7ilFXbNtSo5W5hdSCkpWQlcQSoAWOa3eKDOlSktwaVcKKNdIvu","WRdcJ8kVWP95WRtcICoRpYpcOWK","WOtcTmoJWQNdNSoPkv5lbmkjFWGssSohW6ZcIcJdGmoQWRLUbmo2gJCVW4ykWOVdMa","W4aigCoNWRjz","qSkaW6dcNbKl","W5HvtX8FW5NdPSoyW5rSWPRdNG","hSkAqgXFfSkTxatdKbuxWRXczCokvSkmDa","WPZcGxJcHSkafvtdMmoQrsRcHIXX","WPZcQmkHWQy","WRHMzSov","W4xdOa55nG","kXddIb/dLSk7edu","W4ldSqW","h8kpBt7cMSoceSoyW6TgW5GZW5BcLIq2WPxcRKRdHcpcL8kXWReCnmoFxSk/WRlcTmkHcJ/cLKhdGM9djZ/cHxugdsa4W4WKWPFdHCofpmowcJPHW7fpWO1GrMnes8kSWRldLIuzA8oIpuNcHaidWOtcOmk/dtNcQXRdN8oyuYhdS8oXWOWpWRpdRSoeW53cSmoRgYmZgXxdUIesW4pdS8k/sCkVWRu6WOjYW5mFW6hdUmotnSkSzSovWOhdLfO/iCkuWR8TA8knqexdVeKnWRzTWRHGW5ZcUCkicmkCdGVcPCoLf8kHW4/dLmk8wmk/W6tdUCkJFuRdOmonWPldTfvkAHJdTSkJW5/dGSkPWPpcMCoZWPLfkXpdNsldV0dcOmk4yCoIW7RdTSoQWQBcUW7dOMJcP8oTdmkIubdcVSoXf8k9dmkQi8kvW5P2BW/cRuldLCoohf/cICo8W4u2CmoMW5ddJgldNCkLaCo7W7iHmmoUW7G6W77dOmkBlCkRb8kCoI5Hz8obW60oWQ/dU8kFWQhcOGJdO8k+W5GGBmkrvSoKxdRcQZ1sxfaHDLibWRtdHXyxvr/dICoBWPrGW4Pfqsujn8opWPFcTr7cUun6lq88jNxcJ1z8WPddV8kYl8kpWPddPrGFW6BdHCoDlxFdN8ogmrxdO8ogWPlcV8kSW63dMSkyj8ohW5Kex2dcK3f2W6hcTCobWRSKW4FcQSkhaCkPrCoXmIDBzmoUW5/dQmkTfmo0WRKVz8oyW5aUW7TCorTYsw7dN8kpW6y/W6lcRSkfWQVcKmovorm9W6xdLszuDqz7A8omWRmWW4xdL8kyz8k/yG","WOFcMmo2W7hdH8kqWPq","fKyqW4faiSoKW5JcJciMjG","W7zsWP7cSG","W7y2WQ7dUq","W4NcQmo1W7tdRW","WQlcIg3cH8kxdNJdLq","FSkcxGFcL8o4vmorWRe","W4HDWQlcN8ku","er0QzSklrtldSdeF","W4tcNComW7tdRCkAWPlcQa","auRcGW","W6DDpmoC","W6TAWOtcSmkEfmkIW4y","W5GxWPSykg3cVvJcP8oKWPddVW","W77cSSo2tCkT","v8odWPOxWO0","W6FdGthdJmootJlcKmk1cxpdIW","W4LCuWqw","pCoFW6ldL2ZdPSkwgM8If8k8W4q","W4pdTqPxlKFcVSk5WPjjBYldVSoiWPxdOmkYuW","W4nypCozfCoBlSo4dG","W7LwvCkXlq","W5emgSoMWQvkdmoE","nha5W6aw","EmoooxVdImklu8ku","h0dcISotvmoYdSkz","W41svCkT","W4JdMSoTW4m","WQXMECoEW4Sq","mvVdNKevWP7dHKG","q8oRdLhcRmkiWQddIGBcN0O","WQlcGmoeW6rc","WQZcG8og","zCkbW5/dVmkIhfZcSSk+W4WfW4uCpq","oauSWQC","W6a/WRtdUraubSkhWPzGWR0","B8kMWQxdG8obffNdUG0","W5qibSoS","tCkuWPddU8kOaglcP8k4W5WuW5Gsi1dcHCklWQddGxOUWOb3WRldQ8kygSkLW5iJj3i","WQ1fBCo8W5G","gchdKXRdPsVcOW","WR7cKmovW4zX","W5pcNCoXW7pdQ8kbWONcRmkWW7BdGG","tCkBBNddIW","W4NdTq19","W6zvfmkMWOq","F8koWQtcVd7cUSocb2C8fmkKW5qCW4m","W7a2WRpdQsuudmks","W48geW","W6X2ECk0jW","q8kvqHS","bmoGWRBdLHb1rG","WQ7dMmoPC8oFW6VcN8kQpW","W4OLdSoBWRa","zmkDW5/dLSkH","ESosW5dcUbS","E3qFqveAafm","W49hqSkWoG","jWhdJbBdNq","ertdNJ3dQmkafdFdICo6W6BdS20CB8opDW","ESkvsqFcJCo+sa","W6nulCk/WR0","yNO4ufeAd1G","ymkbW4BdSCkd","W58HWOKanhxcMG","WPbyzmojW5yfWQ3cP8o3","WO/cV8kgWOFdLG","W5HqxSk7lqhcJCou","W5XKFJi7","WOb+zCoOW6m","xmksEgtdLCoqDxJcNHxdT00","WODeCSoWW4m","W44mb8oQ","xCkysxZdQG","wmkEWQBdUSo0","WR7cH8ohW5e","W5fneGKCW4pdL8ozW4b/WPZdMmkmAdbsWQ0lvCovduO8W6fJWOxcQ8o9uSk3W5ft","omosW6ddLM7dRmocmeaneCkh","fKynW5bjjmodW58","W6ndeCkWWRVdLmkwlmkiWOO","huZcISoq","W5mFp8opWQC","W4CtWPWinNdcNKe","z8kIW4tcKGq","W7tcUmoPW6FdQq","ecilD8kpAdNdPW","sCkOW516WOFcRmk/W4XaWOWW","WQONW7hcNNHDkCk3W4RcPci+WO1p","dhRdVveM","W6VcP8o+vCkHW5ldUW","W6RdQqHLda","xCksF0pdNmoku2JcIIFdS00irSoU","WPTfW5XBDIZcJuBcMCoTWPVdRW","W7VcP8oKva","cKlcGCof","CCk/W5BdJ8kp","W7ZcO8oRrmkMW4e","WPOUW73cN29o","CqZcTansW4tcNKVcKmkbW57dLve","D8ogi3O","WR3cLmojgCkV","z8oki3RdN8kqv8kk","WRRcI8oAW4i","W7hdMSoMW588W7BcIa","nCkyWQNcOmofW5VcNmoK","agOIW6XB","BrZcPrTmW57cGWBdGCocWQlcKa","xCksF1JdL8oquN/cJHldVG","W55Ay8kRoHRcHSob","tmkaW7NcNbKdW4fp","DmkBW4r8WRJcQSk/W7rT","WRNcIhxcL8ka","W55FBX4bW4tdISok","nG8XWRZdNgOQWQ8/WRTB","W7vpWPhcOCkjmSkHW4bsWQix","keSfW6GPqmoXfr4","zaDkWQL9nmkOrvSRwxWSxfRdQa8LW5D2W6VcUSoGW5xcPCouuSoxcmoMW6iwnSotW7hdNNHfW5rZW6e7W6dcH8kCW7Lfb1ZcLCk5agauxb/cK8ohWONdK8kkuqNcTCkYW4FcGLf3WPKgW5VcRe7cVmkpWRtcUSk3cv8mq0DaW7PHWRZcNIVdUY4BWRRdHtSuW44JWPddRGtdT8oGw8kgW4HPWPBdNrBdSCo1mCkeW4xcOsjNW75QmIOxWQxdKZ/dKGJcHbhdUNtdRbxdI8oxW67dLmoeW5X6WOz1W5BcISo9WPq1ESolsSkftCocW73dGSotWPlcJSkJW47cV8khWRW9WQ98emk3lmoaW5pcH8oaW6JdQhxdJxtcMYRcRSkJvdxcVWJcO8kKgtXpW4C3DmobW6tdJSkOz8o2Bxf+mSkCuSkxxmowxKmeW6VdPLpcJYDXWRddGCk2W4JcPH9pW7JcL1NcUwryzmoADhddPhRdHmkqFsXld8ogWP/dMG3dVSk7W57cSNFdR8kTcmoQWOhdI8kmgmoKbtddSSoQW6zRsCk4WPNdKqFcJdtdVSoUBtZdTCovdIKkW6NdNcVcVMGFamksjwOaz8ofFCowpapcSZCAvCkBCwtdQwVdPmkbWQ19tGJdO3iSDu3cNKJcIXClW5RcPCkPWRtcOCkmWPJdJaWWh8kfcJTlBSoqWO/dI3XRWRjPlGtdQComW709WQ3cU2FcVN7cISkzjfFdPCoFbCkPgSo1W4ehW6lcICk4WQhdHJLUkmoiWQxdP8oeW5VcVmkvWPrDW6OYfSkNWQ1mbmkrW7dcVSkLWPRcKmkZjfSyW7XsWQFcJJT0","W55rxGyw","W6/cISoVCmkd","WR1IymooW4SFW6ldKmooWO7cUmk0saTiBsNcV38","b08mW5Pj","WOtdKCoODCoFW5C","qCk9zYFcRW","BCo6WPKhWQO","gCkrxx9ccSoGbW","kr8EWQ4nW4qmW5JcQG","WOjIz8ot","W7a2WRpdQsuu","W4HzuG4","vmoHe1y","yNatufybba","uCoBWRFdQczDra","DSodW5tcSrddM8obmq","W7eNWQ/dPc4b","WR0oW4xcIxe","WPldMtRcNmoRBG","mWeT","BCk/WRtdJCoW","DmoyWPiG","yCokafRdNa","q8kwF3tdI8onvMe","W6mWWQNdPc8i","WPNcU8kIWQtdHCobo0LCi8k+","W6bAWOi","WQ7cMwNcJSkC","WQBdNtxcVSovxsjQzw7cN0VdKbPPimkN","W7ZcRCoZt8kGW4xdRa","AmkcxH3cJmoktmocWReCgc1JWQnxsmkx","zSoSi0BcSG","jGuRWP3dJxy7WQK5WObiW7ZdPaVdSG","nrtdNqJdH8k6","vmoUgetdUW","WQ3cLv3dQW","WQbcu8owW5e","jdpdHt3dHq","yvLVW7FcNsa7WP4EWRfnW58","WOWHW7NcNhjDcCkL","WRxdLYlcM8o1AHrTzw4","kq4o","qmorWQRdRIvfy8kbWPzuC8ke","EmokW4hcVqW","FmkvxXFcNCo+smot","WR7cLv3dVXZcQKNcMSkUWQ/cKa","y0yEWPuG","iq8mWRVdMNeXWQS","hqqVWRyG","WPjrCCoO","WPpcNCoijSkm","uCovWRtdVJTq","W5magSoL","mH7dRW7dLSk7hZ4","W5ddTqzHoLBcSa","W6PtWRVcGmku","FmkvrqBcISoIdCkjWRiKfZPYWRHrr8otW4bb","W7vgpComdSo7lSo4dG","zSksqtlcRG","iWNdNX/dLmkMgdBdGW","WQlcJgRcIG","W6HriCoq","umoaWOZdHxVdVSkoxs8Zfmo7W4K4WPRdL8oSW41+WOldLmoyc8owW7NdSZyCFSkjuL5owW","WO/cR8ocW65n","ymoaWRJdLs8","oameWQy","W7lcO8oYrmkMW4NdV8oj","WR51ESo5W5S","W6reiSouga","W6HvjSoDe8oMnSoK","u8oeWQNdTZa","wCkHW5PQWRlcRmk1W5K","nqxdNq7dGCkDeZpdImo8W6a","t8oyW7FcKtG","a8kdW63cRxSeu8kFWQHDEmku","qSoTdKy","W7hdNSo8W4CS","W5amamoqWQvwdCojA30ddmkmW5HU","WOL1E8ovW40IWQVcNmon","WQ1UESoF","W4NdSqPWpu3cTmkt","o8klW67cPCofW4FcGSoJBNlcSCoKiNtdUNCimILMCgusWPfpWOtdUIddM8oRWPmO","W4ScWPGbpq","gmkAtg1ycSoO","W7ddKCo3W40MW7BcGmo/","ymkLnI3dTJq","vCktW6ZcJW4yW5ng","WQzPFCop","csVdKa7dTs0","W7hdMSoTW58","W4WaWOCdmf/cNK7cPmoqWQe","FSkFxXq","mGBdRtVdHW","WRtcLepdUrW","itjAW4noASotWP4iWRZcP8oQmutcO8krwCk4W7ddUmkpW7hcIt9zW7/dGSopW7iIWQWeWPTpW4hcHCkGbaK+BfWTkIiYxqBdGHeFWRGrb8koW7GlW63dN30SnXddLSoJWQzFW6/dM8kin8oOWQOvpeeBfSo6bIJcQXldOXNcRcFcMSkOWO59i8oNpSokDraIaHJcKatcISoNwSonpGFcICkgWOG2l8kZW4VdMCoYgmoTW6VdUmkJWRpcNfhcPSo+jmoSiJBdJxvmWQBcUINdTSkLW7f6zfldG8oChJVdRxr4jSoJW510zZBdJ3/cGa9LWQrDWP3dLSoZW67cKGpdN2LmDfRcU8kyb23dSrtcNmkxhM5NpNy5WPtcMHrKt8kqW6C/WONdV8o7agPWW7ddQ1f1v1XGWQ/dVWhdQs5UW7tdV2ZcKxZcUu/dJmoVzCo6jHjwjCo2etNdO8oyW5zidt3cImo5tSkClmo5W7tcQ8oMw8oMDKpcGCoGW4DxW4DuacBcHt9LW6/dRmoVW5tcJ8oxW7/cPImTWO/dPCoiCCk7W6KHW61qnYZdUbVcJK3cJmo7lhLXfu3dOmkDaCksWRnDACkGWOPMW6yYWRO1W4f9fCoBW5CvW7ddUSoZFCk0trnHA8kHW4tcHCk1cwZdJe4Qi8oTjSoYW7tdImoPwCoYW5xdJCoIWPnLpCk0WQ/cVrJcN8kXWOb8WPmVwI41WR51W4xcIZtcHbZcNv/cKa","FCoXWONdTc0","W6tdJ8oUW4CW","jG8DWQldUW","W4OheSoT","WQNcJCoAW5zGsSogfmoPqNC","WOVcRmk1WR7dHmo1pW","smkRW5P9WQpcRmkLW4HgWOiV","WRRcQmoDW4zB","W4ddGSkuWOu0gmktv8k9dsxdLcahWP4dWR3dU37dG13dISolBmk4pSoVWRBdLCosW7L7sCoKWR0BgSoNWRpdI1G/WO/cPCkTW6FdJZ9xaCkNW5XLxcJdOCoUW7HvW4zErKhcU2vzW53dImoZhCkRWQj5eCkQBmoIy3tcJSoqaXZcG0njWRHGWRhdTbVdUSkgEmkHntpcNWRdUYyfWQJdQXRcP8kluCkAkNVcG8oMzMefsCoMsh4YDMDOWOlcJ1/cTxCHpZOeW4KMh8ohWQHoocpcLXz0f8oGW5FdNcujBCkrCmkuWQBcMwWZcCojrb0rtSofW4VdH8oVWRZdPvZdQmkjF3xdSgfUW4JcLNBdHrT1WO1lFmkPcSkzWRLkktz/W4VdVY7cKComWR9wWOTzqcFcKMGgFCkJW7KVW4vcW4K/n1ddJqyaaL7dP8kYgCkjWP/dRJemvIBcNHRdRmkfamokW4tdPSowomoVa07dVSoEDmoysCozW44NWQ/cS8oeW5/dO8kXWPvuW5hdR3O6WPjhj8kRW58UmColsrn9C38FWQRcJIbwuMhdPqDrW6vJsSklWOf8emkKW4dcPseajqBcMmkRW7dcUvxdLmopW54NcNzbiSoBDSkDW5CiFbyolGymEcblEfVdN1TzWRVdIx7cSCktbCk4WPH/WOC1qCk4W5PJDNntACk9","WPFdIJJcL8oTsszNzeBcJgVdLbPNjmk/","W5GxWPWynNFdNWxcP8o3WPVdRSkYB8oSn8kfW43dMG","BCkMWOBdV8oL","WQ3cGhFcHG","W7NcSmoPt8kGW6BdV8ogAwz2","W4tcJ2ldJmkTn3v2B1RcPxxdGq","W5GuwSoHWQ9wgSoyA1WbcSkeW48YeNisWOZcPJeuEmoyhCktyGNcHLWuia","zhafqeybbe0","B8oqW4hcOGFdGmotoa","taTlWPOhF8knWOtdGw1OCa","W5BdHmkzvCo2jmkpW4WqW6hcVmkpW5lcSSk1WPhcPWVdUgddLSoFW4yyW5rrWOpcU1dcRGldQ8kgp8kDueRcNSksWQFcR8oDeuldH3W/AmohW4hcPSkIcCoYW5dcMrpdG8kuz1JcGHXKWPb6cutdSmoAdCkYrHpcL8otW5PdaGy/dSkdWQuKWQvXdcddOmkGW7NcTLpcRSoABHnUdeuxWPddNaNcImkRhx7dRrpcICkoB8k5EmkaWPtcPMmdW6BcT8k5kIFdKGhdPmoxWPiux8oRWOtdLwGDicBcN8kTn23dOLddSHNcR8oxWO5aoGBcObRcVcHjmSoLW69IBdDYimoVW5f+c8ktWOOkWOlcS2BdPbldUmogA3HRmSo4pYqTCIqxg8kOW73cRmk9vIaoA0W3z212cMldJNynWOqKDX3cONvVhZZdJCo5BuldGrLcW7ZcRY4GsSk8W7OOgSodnCoAWQFdRmk3W75pkmkTWP7cOmo/W6OuW51MlmkVW7qJs8kMmudcMColnmkBArBdVZfHBSoGC3pdRZNdNComWQWVW7NdRIddV8onWOO0mrZdP0vEDSkfCCo4WRNdGmonzSowuCkZW50GnmkwvhZdOJrmW61iWOtdPmkkWPtdKeldHSo8W543W48pWOntANzWW6ihW47cOhDageHbWQOgW6awW5RcMx/cUCoqW5PwwWpdUCkSWRrmW4xcTZVdGmkxW7LFW4ldK8kgjePUCW","afaDW6q8","W4GEWOez","qSk+edRdKG","W6XyFW4z","ASk2WRpdMq","nmkUmJNdNdzD","W6jEWPlcOa","ymo8lhpdISkovW","W6e8WRpdVJquhmkdWPbUWQi","WQTIDSoo","whCoWQOapSkwW4XEW73dQW","eCk1vbpdRSoiWOtdGJBcU0LI","kqKEWQGHW4y","W6vuWP7cPSkyd8k2W4LdWQ4r","BCoHe0O","oG8eWQuRW5OmW4S","WQ/cN0FdUrRcTHZdKCk8WRxcJh/cNSouW7NdOw0lWOW","WQ7dTSk0gmoJWPlcRSoDDN5ao3O","nJFdIWNdRq","WOVdM8oOyCoeW5pcGW","WR7dNmo+E8oV","W4bum8k+WQm","BCkrxbBcISoT","y8k2WQldHa","W7WxWOSzk2VdJq","rmkGeNG","WQjMymoEW4SyWQpcLa","CmkfW5hdUCkZoMJcO8kV","W4RdUCo8W77cGCk3pK1TpCkjsq","x8kfxZFcOG","vmkHoq/dIaDqFCkyiSkMWOv4W6ddPYKf","W4KtWOqb","z8kEqqBcJa","lGSy","imkyEcVcJSoAamkkWQu3WRb5WOy","w8kiW4RdVCk1b3dcVW","rSkgW5ddVW","uCkiW6pcNG","W6zCm8ordW","W4lcL8oXW6tdUSkbWPNcVq","W482WQ7dPq","W4SjwmkDjW","e0SkW5HjDSkoW5NcMdeMFqqWsa","W6WzDCkHc08","WRvCy8o4W586WQtcQCk4W6S7W7Plmq","tCkyzwldJCowqM7cJbZdOa","B30pWOecl8kGW5DmW7K","W7v8fSk7WRNdTCkb","dKRcISoexSoSdG","sMikWO8x","W6VcSmoNv8kXW5ldRCoa","qCkodr3dIq","wheFWO0l","EmokpNy","u8oNbuZcVq","W6ZcOCoJt8kX","t8khE33dGa","jqKXWQG","fI/dIG/dOJBcP8k/","xNWtWOubomkEW40","WQbsW4HnzdNdNW3dOCkIW5xcRCoMjSkJECknWPhcLmo5BSoIWOupnSoACxlcPCobB8oQWPihpceDchhdHwzfFfJdO8oZdd3cSSoqWPdcVmkLW7NcOCkGW5OnicXBW7NdGCosus/dM17cUSk/WQnUWPBdHCongSofW43dQSkDW5FdT8keegmRWQSta1Kke8oYW5e9ySoDqYxcG3SUzSoTW6tdImo2yqpdUSksEWJcK8oSWRddMCoSpCkyW5BdKMNdVvqJasWMW5irmSolW4pcSSkErCkxgmkQymkIqd7cJCoRW6XzWPxcKCkKfGLTWP7dV8kWWQlcOeZdN8k9WOBdMHxdRXfBWRPwW7NdL8kcWPNdTmk3W6nxWQX2W7uba8o4W4VdM8kRWR7dImkNrb5oWQpcT2jPWOxdRxFcRMqODSkcW40XW48PW5lcNJ/cPbxdKW3dJeupW5JdUSoiW6LGWRVcJNpdH04eWPldObddJxhcJCkxxXyEpmk8W5RcP0ldP8osW5xdJCkUW6JdSSoGymkKW4hdPSkgW7nXkmoBWQVdUSkiWP/dVCkrt8olW7NcHMFdVvKyWO43wHFcNmoBzSknp23cVIpcTSoJi8oLwc/cHCoKW5HcW6dcPmozWODNgsxcVSkCWORcGCkKah7cU2FdOmkZACohFs1aEmo1vCkUWPDWECo6vfBcRWLtWOpdMsz/WOvCpCo1fbdcIc4EiCoRWRdcMHNcGmkCWOP0","u8kScfNdHCkUBSo1W7xdPq0HW78iiYGlW6VdHW","D8oHaMxcLmkOWRddHXBcLuPrdM3dLw9U","rSkMWQxdLCoY","WOLRE8oAW40LWRVcImon","h8kCuxDi","W54DWRSznNdcKuO","zSoYmwJcSW","W4WhWOyomhdcKepdOCkOWQNcPCoMlmoFCa","cfhdVL0","r8kShw3dLmkP","a0izW6e","W5tdVXbY","W6BdL8o/W4iN","W5PzuG0","l2/cSSoIFa","WOnmyCo5W4O8WOdcP8kI","cYhdKa0","WR1IESoFW5WdWQFcIG"];return(at=function(){return t})()}const ut=["object"],ft=R({__name:"ssrtGlassMesh",props:{skyBoxTexture:{},modelPath:{},modelName:{},extintionFactor:{default:5},reflectionFactor:{default:1},exposure:{default:0},extintionColor1:{default:"rgb(192,123,25)"},extintionColor2:{default:"rgb(26, 166, 192)"},extintionCol1Random:{type:Boolean,default:!1},extintionCol2Random:{type:Boolean,default:!1}},async setup(r){let c,W;const i=r,{map:a}=([c,W]=P((()=>e({map:i.skyBoxTexture}))),c=await c,W(),c);a.wrapS=k,a.wrapT=k,a.magFilter=m,a.minFilter=m;const{camera:u,renderer:f,scene:l}=t(),v=new d({uniforms:{uSkybox:{type:"t",value:a},uBackFaceBuffer:{type:"t",value:null},uFrontFaceBuffer:{type:"t",value:null},uCameraFarInverse:{value:1/u.value.far},uScreenSizeInv:{value:new s(1/window.innerWidth,1/window.innerHeight)},uCameraPos:{value:new S(0,0,0)},uTime:{value:0},uExtintionColor1:{value:new p("#fff").sub(new p(i.extintionColor1).convertLinearToSRGB())},uExtintionColor2:{value:new p("#fff").sub(new p(i.extintionColor2).convertLinearToSRGB())},uExtintionFactor:{value:i.extintionFactor},uExposure:{value:i.exposure},uReflectionFactor:{value:i.reflectionFactor},uExtinctionFX1:{value:new x(i.extintionCol1Random?1:0,i.extintionCol2Random?1:0,0,1)}},vertexShader:"varying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\n// NOTE: we don't need the projViewModel matrix, because vWorldSpaceFragPos is already multiplied by the model matrix\n// I'm repeating this comment 5 times because I've lost 2 hours of my life debugging this thing\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nvoid main(){\n\t// NOTE: the multiplication with modelMatrix is required otherwise viewDir in the fragment shader would be incorrect\n\tvWorldSpaceFragPos=(modelMatrix*vec4(position,1.)).xyz;\n\tvWorldSpaceNormal=normalize((modelMatrix*vec4(normal,0.)).xyz);\n\t\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n\tvProjViewMatrix=projectionMatrix*viewMatrix;\n\tvViewMatrix=viewMatrix;\n}",fragmentShader:"uniform sampler2D uSkybox;\nuniform sampler2D uBackFaceBuffer;\nuniform sampler2D uFrontFaceBuffer;\n\nuniform vec3 uExtintionColor1;\nuniform vec3 uExtintionColor2;\nuniform float uExtintionFactor;\nuniform float uExposure;\nuniform float uReflectionFactor;\nuniform vec4 uExtinctionFX1;\n\nuniform float uTime;\n\nuniform vec3 uCameraPos;\nuniform vec2 uScreenSizeInv;\nuniform float uCameraFarInverse;\n\nvarying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nconst float PI=3.14159265359;\nconst float e=2.7182818284590;\n\nconst float planeSize=3.;\nconst vec3 planeColor=pow(vec3(202./255.,205./255.,185./255.),vec3(3.));\n\nfloat mod289(float x){return x-floor(x*(1./289.))*289.;}\nvec4 mod289(vec4 x){return x-floor(x*(1./289.))*289.;}\nvec4 perm(vec4 x){return mod289(((x*34.)+1.)*x);}\n\nfloat noise(vec3 p){\n\tvec3 a=floor(p);\n\tvec3 d=p-a;\n\td=d*d*(3.-2.*d);\n\t\n\tvec4 b=a.xxyy+vec4(0.,1.,0.,1.);\n\tvec4 k1=perm(b.xyxy);\n\tvec4 k2=perm(k1.xyxy+b.zzww);\n\t\n\tvec4 c=k2+a.zzzz;\n\tvec4 k3=perm(c);\n\tvec4 k4=perm(c+1.);\n\t\n\tvec4 o1=fract(k3*(1./41.));\n\tvec4 o2=fract(k4*(1./41.));\n\t\n\tvec4 o3=o2*d.z+o1*(1.-d.z);\n\tvec2 o4=o3.yw*d.x+o3.xz*(1.-d.x);\n\t\n\treturn o4.y*d.y+o4.x*(1.-d.y);\n}\n\nvec3 acesFilm(const vec3 x){\n\tconst float a=2.51;\n\tconst float b=.03;\n\tconst float c=2.43;\n\tconst float d=.59;\n\tconst float e=.14;\n\treturn clamp((x*(a*x+b))/(x*(c*x+d)+e),0.,1.);\n}\n\n// gets the skybox color from a given view direction\nvec3 getSkyboxColor(vec3 viewDir){\n\t// skybox coordinates\n\tvec2 skyboxUV=vec2(\n\t\t(atan(viewDir.x,viewDir.z)+PI)/(PI*2.),\n\t\t(asin(viewDir.y)+PI*.5)/(PI)\n\t);\n\t\n\tvec3 col=texture2D(uSkybox,skyboxUV).xyz;\n\tcol=pow(col,vec3(2.2));\n\treturn col;\n}\n\nbool refract2(vec3 v,vec3 n,float ni_over_nt,inout vec3 refracted){\n\tvec3 uv=normalize(v);\n\tfloat dt=dot(uv,n);\n\tfloat discriminant=1.-ni_over_nt*ni_over_nt*(1.-dt*dt);\n\tif(discriminant>0.){\n\t\trefracted=ni_over_nt*(v-n*dt)-n*sqrt(discriminant);\n\t\treturn true;\n\t}\n\t\n\treturn false;\n}\n\nvec3 binarySearchHitPoint(vec3 lastP,vec3 hitP,vec3 rayDir){\n\t\n\tfor(int i=0;i<10;i++){\n\t\tvec3 midP=(lastP+hitP)*.5;\n\t\t\n\t\t// project midP in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(midP,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 midpNDC=projCoord.xy;\n\t\tvec2 midpUV=midpNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,midpUV);\n\t\tfloat depth=backBuffer.w;\n\t\t\n\t\tfloat midpDepth=abs((vViewMatrix*vec4(midP,1.)).z)*uCameraFarInverse;\n\t\tif(midpDepth>depth){\n\t\t\thitP=midP;\n\t\t}else{\n\t\t\tlastP=midP;\n\t\t}\n\t}\n\t\n\treturn hitP;\n}\n\nvec3 getRefractedColor(vec3 refractionDir,vec3 hitPoint,float refractionIndex){\n\t// move the hitpoint inside the mesh with epsilon\n\thitPoint+=refractionDir*.0001;\n\t\n\t// raymarch!\n\tfloat stepSize=.02;\n\tfloat stepMult=1.5;\n\t\n\tvec3 lastP=hitPoint;\n\tvec3 p=hitPoint;\n\tvec3 hitPNormal;\n\tfloat currStepSize=stepSize;\n\tfloat transmissionDistance=0.;\n\tfor(int i=0;i<20;i++){\n\t\tp+=currStepSize*refractionDir;\n\t\t\n\t\t// project p in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 pNDC=projCoord.xy;\n\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,pUV);\n\t\tfloat depth=backBuffer.w;\n\t\tvec3 norm=backBuffer.xyz;\n\t\t\n\t\t// get p depth\n\t\tfloat pDepth=abs((vViewMatrix*vec4(p,1.)).z)*uCameraFarInverse;\n\t\t\n\t\tif(pDepth>depth){\n\t\t\t\n\t\t\tvec3 hitp=binarySearchHitPoint(lastP,p,refractionDir);\n\t\t\tp=hitp;\n\t\t\t\n\t\t\t// ************ get the hitpoint normal\n\t\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\t\tprojCoord.xyz/=projCoord.w;\n\t\t\t\n\t\t\tvec2 pNDC=projCoord.xy;\n\t\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\t\n\t\t\t// get depth at point\n\t\t\thitPNormal=texture2D(uBackFaceBuffer,pUV).xyz;\n\t\t\t// ************ get the hitpoint normal - END\n\t\t\t\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tlastP=p;\n\t\tcurrStepSize*=stepMult;\n\t}\n\t\n\ttransmissionDistance=length(hitPoint-p);\n\t\n\t// ******************** recalc directions\n\tvec3 outward_normal;\n\tvec3 reflected=reflect(refractionDir,hitPNormal);\n\tfloat ni_over_nt;\n\tvec3 refr;\n\t// vec3 refracted;\n\tfloat reflect_prob;\n\tfloat cosine;\n\t\n\tif(dot(refractionDir,hitPNormal)>0.){\n\t\toutward_normal=-hitPNormal;\n\t\tni_over_nt=refractionIndex;\n\t\tcosine=refractionIndex*dot(refractionDir,hitPNormal);\n\t}else{\n\t\toutward_normal=hitPNormal;\n\t\tni_over_nt=1./refractionIndex;\n\t\tcosine=-dot(refractionDir,hitPNormal);\n\t}\n\t\n\t// if (refract2(refractionDir, outward_normal, ni_over_nt, refracted)) {\n\t\tif(refract2(refractionDir,outward_normal,ni_over_nt,refr)){\n\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\tr0*=r0;\n\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t}else{\n\t\t\treflect_prob=1.;\n\t\t}\n\t\t// ******************** recalc directions - END\n\t\t\n\t\t// ******************** get colors\n\t\tvec3 col;\n\t\tvec3 colrefl;\n\t\tvec3 colrefr;\n\t\t// if(refracted.y < 0.0) {\n\t\t\tif(refr.y<0.){\n\t\t\t\t// float t = p.y / abs(refracted.y);\n\t\t\t\t// vec3 planeHitP = p + refracted * t;\n\t\t\t\tfloat t=p.y/abs(refr.y);\n\t\t\t\tvec3 planeHitP=p+refr*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefr=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t}\n\t\t\t\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=p.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=p+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefl=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tcol=colrefl*(reflect_prob*uReflectionFactor)+colrefr*(1.-reflect_prob);\n\t\t\t// ******************** get colors\n\t\t\t\n\t\t\tvec3 transm=vec3(1.);\n\t\t\t// const int steps = 8;\n\t\t\tconst int steps=15;\n\t\t\tfloat step=transmissionDistance/float(steps);\n\t\t\tfloat fc=uExtintionFactor*.07;\n\t\t\t\n\t\t\t// raymarching transmission color\n\t\t\t\n\t\t\t// float noiseStrength = 0.8;\n\t\t\tfloat noiseSpeed=.5;\n\t\t\tfloat noiseTimeSpeed=.5;\n\t\t\t\n\t\t\tfor(int i=0;i<steps;i++){\n\t\t\t\tvec3 np=hitPoint+refractionDir*float(i)*step;\n\t\t\t\t\n\t\t\t\tvec3 nnp=np;\n\t\t\t\tvec3 w=normalize(np-vec3(.75,1.5,0.));\n\t\t\t\tvec3 u=vec3(0.,0.,1.);\n\t\t\t\t// vec3 timeOffset = uTime * normalize(np - vec3(0.75, 1.5, 0.0));\n\t\t\t\tvec3 timeOffset=cos(uTime)*w+sin(uTime)*u;\n\t\t\t\tfloat colorNoiseX=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed);\n\t\t\t\tfloat colorNoiseY=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(15.3278,125.19879,0.));\n\t\t\t\tfloat colorNoiseZ=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(2.6008,78.19879,543.12993));\n\t\t\t\t\n\t\t\t\tfloat targ=length(nnp*.8*uExtinctionFX1.w-vec3(.75,1.5,0.));\n\t\t\t\tfloat targAperture=.25;\n\t\t\t\t\n\t\t\t\t// wave raymarch\n\t\t\t\tif(uExtinctionFX1.z>.5){\n\t\t\t\t\tnnp=np+sin(np.x*2.5+uTime*1.5)*.3;\n\t\t\t\t\ttarg=nnp.y-.85*uExtinctionFX1.w;\n\t\t\t\t}else{\n\t\t\t\t\tnnp=np+vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*1.05;\n\t\t\t\t\tvec3 diff=nnp-vec3(3.3,4.5,0.);\n\t\t\t\t\tfloat angle=(atan(diff.x,diff.y)+PI)/(PI*2.);\n\t\t\t\t\ttarg=length(diff)+sin(angle*32.*PI+uTime*1.5)*.4;\n\t\t\t\t\ttarg*=.475;\n\t\t\t\t\ttargAperture=.5+colorNoiseX*.75;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// what's the color at np?\n\t\t\t\tvec3 col1=uExtintionColor1;\n\t\t\t\tvec3 col2=uExtintionColor2;\n\t\t\t\tif(uExtinctionFX1.x>.5){\n\t\t\t\t\tcol1=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\tif(uExtinctionFX1.y>.5){\n\t\t\t\t\tcol2=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(targ<1.){\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*col2*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ>1.&&targ<1.+targAperture){\n\t\t\t\t\tfloat t=(targ-1.)/targAperture;\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*(col1*t+col2*(1.-t))*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ<(1.+targAperture)*1.85){\n\t\t\t\t\ttransm*=exp(-step*col1*fc);\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\t// transm = (col1) * targAperture;\n\t\t\t\t\t// transm *= exp(-step * col1 * uExtintionFactor);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// return col * uExtintionColor2 * transm;\n\t\t\tcol*=transm;\n\t\t\t\n\t\t\treturn col;\n\t\t}\n\t\t\n\t\tvoid main(){\n\t\t\tvec2 screenUV=gl_FragCoord.xy*uScreenSizeInv;\n\t\t\t\n\t\t\tvec3 viewDir=normalize(vWorldSpaceFragPos-uCameraPos);\n\t\t\tvec3 normal=vWorldSpaceNormal;\n\t\t\tfloat refractionIndex=1.5;\n\t\t\t\n\t\t\tvec3 outward_normal;\n\t\t\tvec3 reflected=reflect(viewDir,normal);\n\t\t\tfloat ni_over_nt;\n\t\t\tvec3 refracted;\n\t\t\tfloat reflect_prob;\n\t\t\tfloat cosine;\n\t\t\t\n\t\t\tif(dot(viewDir,normal)>0.){\n\t\t\t\toutward_normal=-normal;\n\t\t\t\tni_over_nt=refractionIndex;\n\t\t\t\tcosine=refractionIndex*dot(viewDir,normal);\n\t\t\t}else{\n\t\t\t\toutward_normal=normal;\n\t\t\t\tni_over_nt=1./refractionIndex;\n\t\t\t\tcosine=-dot(viewDir,normal);\n\t\t\t}\n\t\t\t\n\t\t\tif(refract2(viewDir,outward_normal,ni_over_nt,refracted)){\n\t\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\t\tr0*=r0;\n\t\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t\t}else{\n\t\t\t\treflect_prob=1.;\n\t\t\t}\n\t\t\t\n\t\t\tvec3 reflectedCol;\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=vWorldSpaceFragPos.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=vWorldSpaceFragPos+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\treflectedCol=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tvec3 col=reflectedCol*reflect_prob*uReflectionFactor+getRefractedColor(refracted,vWorldSpaceFragPos,refractionIndex)*(1.-reflect_prob);\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.0, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.15, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.35, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333;\n\t\t\t\n\t\t\t// col = getRefractedColor(refracted, vWorldSpaceFragPos) * (1.0 - reflect_prob);\n\t\t\t// vec3 col = getRefractedColor(refracted, vWorldSpaceFragPos);\n\t\t\t// col = getSkyboxColor(reflected) * reflect_prob * 1.0;\n\t\t\t\n\t\t\t// vec3 col = viewDir;\n\t\t\t// gl_FragColor = vec4(col, 1.0);\n\t\t\t// return;\n\t\t\t\n\t\t\tcol*=pow(2.,uExposure);\n\t\t\tcol=acesFilm(col);\n\t\t\tcol=pow(col,vec3(1./2.2));\n\t\t\t\n\t\t\tgl_FragColor=vec4(col,1.);\n\t\t\t// gl_FragColor = vec4(getSkyboxColor(viewDir), 1.0) * 0.5 + vec4(viewDir * 0.5 + 0.5, 1.0);\n\t\t}"}),{nodes:R}=([c,W]=P((()=>o(i.modelPath,{draco:!0,decoderPath:"./draco/"}))),c=await c,W(),c),Q=R.Scene.getObjectByName(i.modelName),G=new it(Q,u.value,f.value),w=Q?.clone();w?.traverse((t=>{t instanceof C&&(t.material=v,t.material.side=h)}));const{onAfterLoop:_}=n();return _((({elapsed:t})=>{Q&&v&&(v.uniforms.uCameraPos.value=u.value.position.clone(),v.uniforms.uTime.value=t,G.compute(6),v.uniforms.uBackFaceBuffer.value=G.getBackFaceTexture(),v.uniforms.uFrontFaceBuffer.value=G.getFrontFaceTexture(),f.value.setRenderTarget(null),f.value.autoClear=!1)})),O((()=>{i.extintionFactor&&(v.uniforms.uExtintionFactor.value=i.extintionFactor),i.reflectionFactor&&(v.uniforms.uReflectionFactor.value=i.reflectionFactor),i.exposure&&(v.uniforms.uExposure.value=i.exposure),i.extintionColor1&&(v.uniforms.uExtintionColor1.value=new p("#fff").sub(new p(i.extintionColor1).convertLinearToSRGB())),i.extintionColor2&&(v.uniforms.uExtintionColor2.value=new p("#fff").sub(new p(i.extintionColor2).convertLinearToSRGB())),i.extintionCol1Random&&(v.uniforms.uExposure.value=i.exposure)})),N((()=>i.extintionCol1Random),(t=>{v.uniforms.uExtinctionFX1.value.x=t?1:0}),{immediate:!0}),N((()=>i.extintionCol2Random),(t=>{v.uniforms.uExtinctionFX1.value.y=t?1:0}),{immediate:!0}),(t,n)=>(b(),g("primitive",{object:y(w)},null,8,ut))}}),lt=R({__name:"ssrtGlass",setup(t){const n={clearColor:"#201919",windowSize:!0,toneMapping:v,toneMappingExposure:.8},e=Q({size:[20,20],color:"#cbcb96",shadowColor:"#b8b59e",edge:.35}),o=Q({extintionFactor:5,reflectionFactor:1,exposure:0,extintionColor1:"rgb(192,123,25)",extintionColor2:"rgb(26, 166, 192)",extintionCol1Random:!1,extintionCol2Random:!1}),d=new i({title:"参数"});return d.addBinding(o,"extintionFactor",{label:"消光系数",min:0,max:10,step:.1}),d.addBinding(o,"reflectionFactor",{label:"反射系数",min:0,max:2,step:.1}),d.addBinding(o,"exposure",{label:"曝光系数",min:-1,max:1,step:.1}),d.addBinding(o,"extintionColor1",{label:"消光颜色一"}),d.addBinding(o,"extintionColor2",{label:"消光颜色二"}),d.addBinding(o,"extintionCol1Random",{label:"随机色1"}),d.addBinding(o,"extintionCol2Random",{label:"随机色2"}),(t,i)=>{const d=G("TresCanvas");return b(),g(q,null,[w(y(L)),w(d,B(z(n)),{default:_((()=>[i[0]||(i[0]=H("TresPerspectiveCamera",{position:[0,8,-13],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),w(y(r),{enableDamping:""}),i[1]||(i[1]=H("TresAmbientLight",{intensity:10},null,-1)),(b(),F(I,null,{default:_((()=>[w(c,B(z(e)),null,16)])),_:1})),(b(),F(I,null,{default:_((()=>[w(ft,V({scale:2},o,{modelPath:"https://opensource.cdn.icegl.cn/model/eCommerce/guanYu.glb",modelName:"statue",skyBoxTexture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"}),null,16,["modelPath","skyBoxTexture"])])),_:1})),(b(),F(I,null,{default:_((()=>[w(W,{texture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"},null,8,["texture"])])),_:1}))])),_:1},16)],64)}}});export{lt as default};
