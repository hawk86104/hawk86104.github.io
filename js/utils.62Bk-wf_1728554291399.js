import"./@fesjs.GdZzFg1i1728554291399.js";import{_ as t}from"./jszip.ZN8xj_JH1728554291399.js";import{F as n}from"./file-saver.fOWTR40M1728554291399.js";import{_ as e}from"./three.YiCjTDWq1728554291399.js";const s=i;!function(t,n){const e=i,s=g();for(;;)try{if(447165===parseInt(e(184))/1+parseInt(e(231))/2*(parseInt(e(270))/3)+-parseInt(e(229))/4+-parseInt(e(215))/5+parseInt(e(269))/6*(parseInt(e(266))/7)+parseInt(e(216))/8*(-parseInt(e(213))/9)+parseInt(e(227))/10*(parseInt(e(214))/11))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const o=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){o(this,(function(){const t=i,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=m(t(189));n[t(193)](s+"chain")&&e[t(193)](s+"input")?m():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[i(243)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function r(t){const n=s,o=new(e[n(185)]);return new Promise(((e,s)=>{const a=n;o[a(233)](t,(t=>e(JSON[a(263)](t))),void 0,(t=>s(t)))}))}function i(t,n){const e=g();return(i=function(t,n){return e[t-=176]})(t,n)}async function c(t){const n=s,o=new(e[n(185)]);return new Promise(((e,a)=>{const r=n;o[r(230)](r(245)),o[r(233)](t,(n=>{const o=r,i=new FileReader;i[o(248)]=()=>{const n=o,a=function(t){const n=s,e=t.split(".")[n(212)]()[n(242)]();return{jpg:"image/jpeg",jpeg:n(268),png:n(182),gif:n(255),bmp:n(195),webp:n(254)}[e]||"application/octet-stream"}(t),r=i[n(222)][n(181)](",")[1];e("data:"+a+n(234)+r)},i[o(223)]=t=>{a(t)},i[o(211)](n)}),void 0,(t=>a(t)))}))}a(void 0,(function(){const t=i;let n;try{n=Function(t(260)+t(209)+");")()}catch(o){n=window}const e=n[t(208)]=n[t(208)]||{},s=[t(236),"warn","info",t(186),t(205),t(259),"trace"];for(let r=0;r<s[t(247)];r++){const n=a[t(272)][t(194)][t(241)](a),o=s[r],i=e[o]||n;n[t(252)]=a.bind(a),n[t(224)]=i[t(224)][t(241)](i),e[o]=n}}))(),e[s(226)][s(251)]=!0;const u=n=>{const o=s,a=new(e[o(185)]);return a[o(230)]("blob"),new Promise(((e,s)=>{a[o(233)](n,(async n=>{e(await t.loadAsync(n))}),void 0,(t=>s(t)))}))},p=t=>{const n=s,e=t[n(238)](0,15),o=n(232),a=n(200),r=n(220),i=n(201),c=n(191),u=n(267),p=n(183);return o[n(192)](e)||"data:image/JPEG;base64,"[n(192)](e)?"JPEG":a.startsWith(e)||r[n(192)](e)?n(179):i[n(192)](e)||c[n(192)](e)?n(262):u[n(192)](e||p.startsWith(e))?n(250):n(264)},f=e=>{const o=s,a=[];e[o(256)][o(265)]&&e[o(256)][o(265)][o(257)]((t=>{const n=o;"BufferGeometry"===t.type&&(a.push({uuid:t[n(237)],data:t.data}),t[n(180)]=n(203)+t.uuid+n(235))}));const r=[];e.scene.images&&e[o(256)][o(178)][o(257)]((t=>{const n=o;t.url&&(r.push({uuid:t.uuid,url:t[n(198)]}),t[n(198)].type?t[n(198)]=n(207)+t[n(237)]+"."+t[n(198)][n(240)]+n(235):t[n(198)]=n(207)+t[n(237)]+"."+p(t[n(198)]))}));const i=new t;if(a[o(247)]){const t=i[o(249)](o(265));a[o(257)]((n=>{const e=o;t.file(n[e(237)]+e(235),JSON[e(187)](n[e(180)]))}))}if(r[o(247)]){const t=i[o(249)](o(178));r.forEach((n=>{const e=o;n.url[e(240)]?t[e(204)](n[e(237)]+"."+n[e(198)][e(240)]+".json",JSON[e(187)](n[e(198)])):t[e(204)](n[e(237)]+"."+p(n.url),n[e(198)][e(181)](e(234))[e(212)](),{base64:!0})}))}const c=JSON[o(187)](e);return i.file(o(221),c),i[o(219)]({type:o(245)})[o(225)]((t=>{const e=o;n.saveAs(t,e(246))}))},l=(t,n,e)=>{const o=s;t[o(265)]<=0&&t[o(178)]<=0&&e(n)};function g(){const t=["geometries","63qratrw","data:image/webp;base64,","image/jpeg","348582NQvkrF","3zQZJpL","slice","constructor","base64","call","async","images","PNG","data","split","image/png","data:image/WEBP;base64,","270254kiLLPu","FileLoader","error","stringify","非标准文件：不存在 app.json","init","gger","data:image/GIF;base64,","startsWith","test","prototype","image/bmp","url:","stateObject","url","action","data:image/png;base64,","data:image/gif;base64,","debu","url:geometries/","file","exception","toUpperCase","url:images/","console",'{}.constructor("return this")( )',"endsWith","readAsDataURL","pop","9RPLJGm","15994LGHxgf","2099735uwueAK","5463112eOqGSF","message","get","generateAsync","data:image/PNG;base64,","app.json","result","onerror","toString","then","Cache","4020sRMUau","string","2578036fQwuZs","setResponseType","1633750qhFERK","data:image/jpeg;base64,","load",";base64,",".json","log","uuid","substring","name","type","bind","toLowerCase","apply","files","blob","config.zip","length","onloadend","folder","WEBP","enabled","__proto__","data:image/","image/webp","image/gif","scene","forEach","while (true) {}","table","return (function() ","catch","GIF","parse","Unknown"];return(g=function(){return t})()}const d=(n,e)=>{const o=s;let a=null;return t.loadAsync(n)[o(225)]((t=>{const n=o;t[n(244)][n(221)]?t[n(244)][n(221)][n(177)](n(228))[n(225)]((o=>{var r,i;const c=n;a=JSON[c(263)](o);const u=(t=>{var n,e;const o=s,a={geometries:0,images:0};return null==(n=t[o(256)][o(265)])||n[o(257)]((t=>{const n=o;t[n(180)][n(192)](n(196))&&a[n(265)]++})),null==(e=t[o(256)][o(178)])||e[o(257)]((t=>{const n=o;t[n(198)][n(192)](n(196))&&a[n(178)]++})),a})(a);l(u,a,e),null==(r=a.scene[c(265)])||r.forEach((n=>{const s=c;n.data[s(192)]("url:")&&t[s(244)][n[s(180)].slice(4)][s(177)](s(228))[s(225)]((t=>{const o=s;n.data=JSON.parse(t),u[o(265)]--,l(u,a,e)}))})),null==(i=a[c(256)].images)||i[c(257)]((n=>{const s=c;if(n[s(198)][s(192)](s(196))){const o=n[s(198)][s(271)](4);o[s(210)](".json")?t.files[o][s(177)](s(228))[s(225)]((t=>{const o=s;n[o(198)]=JSON[o(263)](t),u[o(178)]--,l(u,a,e)})):t.files[o][s(177)](s(273))[s(225)]((t=>{const r=s,i=o[r(181)]("."),c=i[i[r(247)]-1][r(206)]();n.url=r(253)+c+r(234)+t,u[r(178)]--,l(u,a,e)}))}}))})):console[n(186)](n(188))}),(t=>{const e=o;console[e(186)](n[e(239)]+": "+t[e(217)])})),a};function m(t){function n(t){const e=i;if("string"==typeof t)return function(t){}[e(272)](e(258))[e(243)]("counter");1!==(""+t/t)[e(247)]||t%20==0?function(){return!0}.constructor("debu"+e(190))[e(176)](e(199)):function(){return!1}[e(272)](e(202)+e(190))[e(243)](e(197)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{u as a,c as b,f as e,p as g,d as i,r as l};
