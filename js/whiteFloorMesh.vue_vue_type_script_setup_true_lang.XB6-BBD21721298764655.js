import{a6 as t,bR as n,am as r,C as o}from"./three.0bBjBDi41721298764655.js";import{N as e}from"./@tresjs.iXEJQd7J1721298764655.js";import{d as a,b as s,a4 as u,w as c,o as i,D as f,J as l,aj as p,ak as h}from"./@vue.Q1VpS3901721298764655.js";function g(t,n){const r=x();return(g=function(t,n){return r[t-=199]})(t,n)}!function(t,n){const r=g,o=x();for(;;)try{if(269338===parseInt(r(227))/1+-parseInt(r(225))/2*(-parseInt(r(215))/3)+parseInt(r(249))/4*(-parseInt(r(204))/5)+parseInt(r(230))/6*(parseInt(r(217))/7)+parseInt(r(226))/8*(-parseInt(r(206))/9)+-parseInt(r(201))/10*(parseInt(r(253))/11)+-parseInt(r(216))/12*(-parseInt(r(250))/13))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[g(199)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){d(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(251),"i"),o=_(t(246));n.test(o+"chain")&&r[t(210)](o+t(222))?_():o("0")}))()}();const m=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[g(199)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(214)+t(234)+");")()}catch(r){n=window}return n}(),r=n[t(248)]=n[t(248)]||{},o=["log",t(239),t(207),t(254),t(255),t(247),t(245)];for(let e=0;e<o[t(219)];e++){const n=m[t(228)][t(202)][t(238)](m),a=o[e],s=r[a]||n;n.__proto__=m[t(238)](m),n[t(205)]=s[t(205)][t(238)](s),r[a]=n}}))();const v=()=>{const n=g;return n(232)+t[n(233)].common+n(211)+t[n(233)][n(224)]+n(211)+t[n(233)][n(208)]+n(242)+t[n(233)].beginnormal_vertex+n(240)+t[n(233)].defaultnormal_vertex+n(240)+t[n(233)][n(235)]+n(240)+t[n(233)][n(241)]+n(240)+t[n(233)].worldpos_vertex+"\n          "+t[n(233)][n(218)]+n(213)},w=()=>{const r=g;return r(244)+n.common+r(223)+t[r(233)][r(243)]+"\n\t "+t[r(233)][r(224)]+"\n\t "+n[r(229)]+"\n\t "+t[r(233)][r(236)]+"\n\t "+t[r(233)][r(200)]+r(231)};function _(t){function n(t){const r=g;if(typeof t===r(221))return function(t){}[r(228)]("while (true) {}").apply(r(203));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debugger")[r(237)](r(252)):function(){return!1}[r(228)](r(220)+r(209)).apply(r(212)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function x(){const t=["\n       varying vec2 vUv;\n\t\t\t \t","ShaderChunk",'{}.constructor("return this")( )',"begin_vertex","shadowmap_pars_fragment","call","bind","warn","\n          ","project_vertex","\n       void main() {\n\t\t\t\t\t","packing","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","trace","init","table","console","8ylJHPN","212797uqGYeK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","11nimpRq","error","exception","apply","shadowmask_pars_fragment","623860IcpQVO","prototype","counter","1272550FWwrVd","toString","477UgRuNw","info","shadowmap_pars_vertex","gger","test","\n      \t","stateObject","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","return (function() ","739446MLlggF","300noVhIS","21hzYzMl","shadowmap_vertex","length","debu","string","input","\n\t ","bsdfs","4BuDQGe","50632hpEtkb","214760ziTBkM","constructor","lights_pars_begin","118464SKWaZu","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"];return(x=function(){return t})()}const I=j;!function(t,n){const r=j,o=E();for(;;)try{if(725611===parseInt(r(249))/1+parseInt(r(266))/2*(parseInt(r(267))/3)+parseInt(r(272))/4+-parseInt(r(287))/5*(-parseInt(r(261))/6)+-parseInt(r(285))/7*(parseInt(r(262))/8)+parseInt(r(250))/9+-parseInt(r(282))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const y=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[j(278)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){y(this,(function(){const t=j,n=new RegExp(t(259)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=k(t(275));n[t(239)](o+t(244))&&r[t(239)](o+"input")?k():o("0")}))()}();const b=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();b(void 0,(function(){const t=j;let n;try{n=Function("return (function() "+t(280)+");")()}catch(e){n=window}const r=n[t(258)]=n[t(258)]||{},o=[t(257),t(279),t(274),"error","exception",t(246),t(265)];for(let a=0;a<o.length;a++){const n=b[t(255)][t(247)][t(268)](b),e=o[a],s=r[e]||n;n[t(263)]=b[t(268)](b),n[t(270)]=s[t(270)][t(268)](s),r[e]=n}}))();const S=[I(271)],C=[I(251)];function j(t,n){const r=E();return(j=function(t,n){return r[t-=237]})(t,n)}const T=a({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:I(286)},shadowColor:{default:I(276)},edge:{default:.35}},async setup(n){const a=I;let g,d;const m=n,_=s(),{map:x}=([g,d]=u((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,d(),g);x.wrapS=x[a(240)]=t[a(284)];const y={uniforms:t[a(241)].merge([r[a(283)],{uTexture:{type:"t",value:x},uColor:{value:new o(m[a(237)])},uShadowColor:{value:new(t[a(281)])(m[a(264)])},fEdge:{type:"f",value:m[a(243)]}}]),side:t[a(290)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>m[a(243)]),(t=>{const n=a;y[n(260)][n(288)][n(245)]=t})),c((()=>m.color),(n=>{const r=a;y[r(260)][r(277)][r(245)]=new(t[r(281)])(m[r(237)])})),c((()=>m[a(264)]),(n=>{const r=a;y.uniforms[r(242)][r(245)]=new(t[r(281)])(m[r(264)])})),(t,n)=>{const r=a;return i(),f(r(269),{ref_key:r(256),ref:_,"rotation-x":-Math.PI/2},[l(r(289),{args:m.size},null,8,C),l(r(248),p(h(y)),null,16)],8,S)}}});function k(t){function n(t){const r=j;if("string"==typeof t)return function(t){}[r(255)](r(252))[r(278)]("counter");1!==(""+t/t)[r(254)]||t%20==0?function(){return!0}[r(255)](r(273)+r(253)).call(r(238)):function(){return!1}[r(255)](r(273)+r(253))[r(278)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function E(){const t=["fEdge","TresPlaneGeometry","DoubleSide","color","action","test","wrapT","UniformsUtils","uShadowColor","edge","chain","value","table","prototype","TresShaderMaterial","565390EVpkQp","3875490bDhpxj","args","while (true) {}","gger","length","constructor","tmRef","log","console","function *\\( *\\)","uniforms","317022mrkapN","8EWCWyT","__proto__","shadowColor","trace","48MTgmTH","171372ZfNlxZ","bind","TresMesh","toString","rotation-x","4880656adjEIX","debu","info","init","#999","uColor","apply","warn",'{}.constructor("return this")( )',"Color","26309710OGHfZB","lights","RepeatWrapping","1983765PawHtt","#990","5vVmafd"];return(E=function(){return t})()}export{T as _};
