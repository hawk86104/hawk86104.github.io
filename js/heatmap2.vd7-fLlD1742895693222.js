import{P as t}from"./tweakpane.ivGeiIdz1742895693222.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.V9Q5ubyC1742895693222.js";import{_ as r}from"./heatmap.js-fix.gZbntUHw1742895693222.js";import{a as i,a9 as s,cj as c,_ as u}from"./three.DqHgeVY11742895693222.js";import{r as a}from"./utils.0fSHOGus1742895693222.js";import{d as p}from"./pinia.JZN5hDyR1742895693222.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as b,W as I,P as w,R as _,L as x,O as j,a3 as M,r as E,j as O,g as S,m as R}from"./@vue.C4dqouNn1742895693222.js";import{c as Z,d as D,a as k}from"./three-mesh-bvh.tZwJGpmE1742895693222.js";import{_ as z}from"./@fesjs.C15FMxIg1742895693222.js";import"./@tresjs.xCsT8yve1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";import"./three-custom-shader-material.U901raSY1742895693222.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1742895693222.js";import"./@amap.hJQcpQRT1742895693222.js";import"./vue-router.0ovIAQEA1742895693222.js";import"./lodash-es.p1wj6C0b1742895693222.js";import"./@qlin.o0hjOMCg1742895693222.js";import"./@floating-ui.HzHndBae1742895693222.js";import"./@juggle.4EyLec-41742895693222.js";!function(t,n){const e=P,o=U();for(;;)try{if(733197===-parseInt(e(291))/1+parseInt(e(334))/2+parseInt(e(314))/3+parseInt(e(328))/4*(parseInt(e(326))/5)+parseInt(e(308))/6+parseInt(e(290))/7*(-parseInt(e(304))/8)+parseInt(e(300))/9*(-parseInt(e(333))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(310)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=P,n=new RegExp(t(336)),e=new RegExp(t(317),"i"),o=G(t(316));n[t(285)](o+t(319))&&e.test(o+"input")?G():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(310)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=U();return P=function(t,n){return e[t-=285]},P(t,n)}F(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(307)+t(311)+");")()}catch(e){n=window}return n}(),e=n[t(325)]=n[t(325)]||{},o=[t(313),"warn",t(322),t(320),t(289),t(299),t(296)];for(let r=0;r<o[t(330)];r++){const n=F[t(303)][t(321)][t(292)](F),i=o[r],s=e[i]||n;n[t(293)]=F[t(292)](F),n[t(294)]=s[t(294)][t(292)](s),e[i]=n}}))();const T=(t,n)=>t.getValueAt(n)+-10;function U(){const t=["function *\\( *\\)","test","position","rgb(0,255,0)","rgb(255,0,0)","exception","55202jSpZYS","556402EYoohR","bind","__proto__","toString","height","trace","none","createElement","table","9CNdxyU","debu","while (true) {}","constructor","232ixFdER","style","top","return (function() ","2932032HRuMTe","randInt","apply",'{}.constructor("return this")( )',"counter","log","732726BdxJFF","display","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","body","chain","error","prototype","info","width","heatmap-canvas","console","5pLEghZ","string","1079240qDuxuc","absolute","length","push","stateObject","2707210ObyVyC","1572580OJiiMo","yellow"];return(U=function(){return t})()}function G(t){function n(t){const e=P;if(typeof t===e(327))return function(t){}[e(303)](e(302))[e(310)](e(312));1!==(""+t/t)[e(330)]||t%20==0?function(){return!0}[e(303)]("debugger").call("action"):function(){return!1}[e(303)](e(301)+"gger")[e(310)](e(332)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=N,o=H();for(;;)try{if(645971===parseInt(e(263))/1+-parseInt(e(293))/2*(parseInt(e(271))/3)+parseInt(e(284))/4+-parseInt(e(269))/5*(parseInt(e(285))/6)+-parseInt(e(296))/7*(parseInt(e(282))/8)+parseInt(e(273))/9*(-parseInt(e(283))/10)+parseInt(e(274))/11*(parseInt(e(289))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(265)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(){const t=["info","56415zJyuuQ","gger","354vkGCML","prototype","153CtESKe","704erkRTb","value","warn","bind","constructor","error","return (function() ","while (true) {}","8UmDgib","554630dMOTFV","641240NXtiGJ","498OGdRHO","toString","console","length","771216KkhpEd","call","debu","__proto__","20416MPJEhM","exception","function *\\( *\\)","5544707mxcPrB","input","action","248514snMgqU","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","chain","test"];return(H=function(){return t})()}function N(t,n){const e=H();return N=function(t,n){return e[t-=263]},N(t,n)}!function(){$(this,(function(){const t=N,n=new RegExp(t(295)),e=new RegExp(t(264),"i"),o=B("init");n[t(267)](o+t(266))&&e[t(267)](o+t(297))?B():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(265)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=N;let n;try{n=Function(t(280)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(287)]||{},o=["log",t(276),t(268),t(279),t(294),"table","trace"];for(let i=0;i<o[t(288)];i++){const n=X[t(278)][t(272)][t(277)](X),r=o[i],s=e[r]||n;n[t(292)]=X.bind(X),n[t(286)]=s[t(286)].bind(s),e[r]=n}}))();const q=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[N(275)]=n},setTemperature:function(t){n[N(275)]=t}}}));function B(t){function n(t){const e=N;if("string"==typeof t)return function(t){}[e(278)](e(281))[e(265)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(278)](e(291)+e(270))[e(290)](e(298)):function(){return!1}[e(278)](e(291)+"gger")[e(265)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=W;!function(t,n){const e=W,o=K();for(;;)try{if(952751===-parseInt(e(200))/1*(-parseInt(e(213))/2)+-parseInt(e(189))/3+-parseInt(e(152))/4*(-parseInt(e(148))/5)+parseInt(e(175))/6+-parseInt(e(159))/7+parseInt(e(205))/8*(parseInt(e(195))/9)+parseInt(e(174))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=W,n=new RegExp(t(140)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=tt("init");n.test(o+t(184))&&e[t(153)](o+t(194))?tt():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(144)+t(197)+");")()}catch(e){n=window}return n}(),e=n[t(188)]=n[t(188)]||{},o=[t(165),t(178),t(190),t(187),t(157),t(186),t(172)];for(let r=0;r<o.length;r++){const n=L.constructor[t(180)][t(209)](L),i=o[r],s=e[i]||n;n.__proto__=L[t(209)](L),n.toString=s[t(211)][t(209)](s),e[i]=n}}))();const Q=[C(145),C(196)],V=[C(145)];function W(t,n){const e=K();return W=function(t,n){return e[t-=140]},W(t,n)}function K(){const t=["15608UiDcev","test","setTemperature","apply","height","exception","constructor","11179224sOZnHG","string","数值：","call","raycast","DoubleSide","log","Mesh","$patch","matrix","gger","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","数值———：","trace","needsUpdate","1276850VrNomG","5659506XHXXfN","Matrix4","_config","warn","disposeBoundsTree","prototype","canvas","width","geometry","chain","length","table","error","console","5217561wAOFhb","info","primitive","setShowDiv","clone","input","9XhGNQW","rotation-x",'{}.constructor("return this")( )',"land","ShaderMaterial","1681994eVQxtT","makeRotationX","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","stateObject","debu","5764176QsqnUy","buildingsHeatmap","counter","BufferGeometry","bind","opacity","toString","city","2kEffhT","function *\\( *\\)","normal","computeBoundsTree","attributes","return (function() ","object","action","model","1045eOWxJP","children","applyMatrix4","mergeGeometries"];return(K=function(){return t})()}const Y=l({__name:C(206),props:{model:{},opacity:{default:1}},setup(t){const n=C;(()=>{const t=W;u[t(208)][t(180)][t(142)]=Z,u[t(208)][t(180)][t(179)]=D,u[t(166)][t(180)][t(163)]=k})();const e=t,o=((t=250,n=250,e=!0)=>{const o=P,i=document[o(298)](o(324));return i.style[o(286)]=o(329),!e&&(i[o(305)][o(315)]=o(297)),i[o(305)][o(306)]="0",i[o(305)].left="0",document[o(318)].appendChild(i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(287),.85:o(335),1:o(288)}})})();((t,n)=>{const e=P;if(!n){let o=0;for(n=[];o<1e3;)n[e(331)]({x:i[e(309)](1,t._config[e(323)]),y:i.randInt(1,t._config[e(295)]),value:i[e(309)](-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const p=new s(o._renderer[n(181)]);p[n(173)]=!0;const f=e[n(147)][n(212)][n(193)]();delete f[n(183)][n(143)][n(141)],delete f[n(183)].attributes.uv;const l=f[n(183)][n(193)]()[n(150)](f[n(168)]),b=e[n(147)][n(198)].clone();delete b[n(183)].attributes[n(141)];const I=b.geometry[n(193)]()[n(150)](b[n(168)]),w=c[n(151)]([l,I]);w.applyMatrix4((new(u[n(176)]))[n(201)](Math.PI/2)),a(w),w[n(142)]();const _=(t=>{const o=n;return new(u[o(199)])({vertexShader:o(202),fragmentShader:o(170),uniforms:{uOpacity:{value:e[o(210)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(164)]})})(p),x=new(u[n(166)])(w,_);h((()=>{e[n(210)]&&(_.uniforms.uOpacity.value=e.opacity)}));const j=q(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(177)][e(182)],y:(1-t.uv.y)*o[e(177)][e(156)]};console[e(165)](e(161),t),console[e(165)](e(171),T(o,n)),j[e(154)](T(o,n))}},E=t=>{t&&j[n(167)]({showDiv:!0})},O=t=>{t&&j[n(192)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(191),{object:y(x),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:E,onPointerLeave:O},null,40,Q),g("primitive",{object:e[r(147)][r(147)][r(149)][0][r(193)]()},null,8,V)],64)}}});function tt(t){function n(t){const e=W;if(typeof t===e(160))return function(t){}[e(158)]("while (true) {}").apply(e(207));1!==(""+t/t)[e(185)]||t%20==0?function(){return!0}.constructor(e(204)+"gger")[e(162)](e(146)):function(){return!1}[e(158)]("debu"+e(169))[e(155)](e(203)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=z({__name:"dataDiv",setup(t){const n=q(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>w((d(),m("div",{class:"title",style:j(e.value)},"温度："+x(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=it,o=rt();for(;;)try{if(187233===-parseInt(e(320))/1*(parseInt(e(327))/2)+parseInt(e(331))/3*(parseInt(e(332))/4)+-parseInt(e(300))/5*(parseInt(e(333))/6)+parseInt(e(319))/7*(parseInt(e(305))/8)+parseInt(e(329))/9*(-parseInt(e(299))/10)+parseInt(e(314))/11+-parseInt(e(304))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const et=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(318)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){et(this,(function(){const t=it,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(308),"i"),o=ct(t(297));n[t(323)](o+t(330))&&e[t(323)](o+t(313))?ct():o("0")}))()}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(318)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function rt(){const t=["透明度","counter","constructor","string","init","bind","190aMstZv","5235dzyLse","error","city",'{}.constructor("return this")( )',"816540miKyqt","19144qtEHNu","while (true) {}","model","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","table","length","info","input","3054392HAfIrx","debu","builds","warn","apply","343GbNuoJ","7TXIQXz","call","return (function() ","test","#000","console","exception","2550swesbz","gger","133695iNddke","chain","677568bZSysQ","4mucZWI","426aUmqoO","addBinding","trace","opacity"];return(rt=function(){return t})()}function it(t,n){const e=rt();return it=function(t,n){return e[t-=293]},it(t,n)}ot(void 0,(function(){const t=it,n=function(){const t=it;let n;try{n=Function(t(322)+t(303)+");")()}catch(e){n=window}return n}(),e=n[t(325)]=n[t(325)]||{},o=["log",t(317),t(312),t(301),t(326),t(310),t(335)];for(let r=0;r<o[t(311)];r++){const n=ot[t(295)].prototype[t(298)](ot),i=o[r],s=e[i]||n;n.__proto__=ot[t(298)](ot),n.toString=s.toString[t(298)](s),e[i]=n}}))();const st=l({__name:"heatmap2",async setup(r){const i=it;let s,c;const u=f(!1),a=([s,c]=M((()=>o())),s=await s,c(),s);u.value=!0;const p=E({width:1,color:i(324),opacity:1,show:!0}),l=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(334)](l,i(336),{label:i(293),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[O(Y,R({model:y(a)},l),null,16,[r(307)]),O(n,R(p,{builds:y(a)[r(302)]}),null,16,[r(316)])])),_:1}),O(nt)],64)}}});function ct(t){function n(t){const e=it;if(typeof t===e(296))return function(t){}.constructor(e(306)).apply(e(294));1!==(""+t/t).length||t%20==0?function(){return!0}[e(295)](e(315)+e(328))[e(321)]("action"):function(){return!1}[e(295)]("debu"+e(328))[e(318)](e(309)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
