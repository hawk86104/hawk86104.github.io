import{C as e,ab as n,bR as t,T as r}from"./three.2wx8FU0g1743660816268.js";import{d as a,b as i,a2 as o,w as c,q as s,o as l,H as f,f as u,N as d,u as m}from"./@vue.B5PFBfKs1743660816268.js";import{h as _}from"./object-hash.6N1Uf8kA1743660816268.js";const p={key:0,args:[0,1,64]},v={key:1,args:[.5,1,64]},h={key:2},M=["toneMapped","map","side","color"],S=a({__name:"index",props:{args:{default:null},from:{default:"rect"},toneMapped:{type:Boolean,default:!1},map:{default:null},intensity:{default:1},color:{default:new e(16777215)}},setup(e){const t=e,r=i();return o((()=>{r.value&&(r.value.color.multiplyScalar(t.intensity),r.value.needsUpdate=!0)})),c((()=>t.color),(e=>{r.value&&(r.value.color.set(e),r.value.color.multiplyScalar(t.intensity),r.value.needsUpdate=!0)})),s((()=>{})),(e,a)=>(l(),f("TresMesh",null,["circle"===t.from?(l(),f("TresRingGeometry",p)):"ring"===t.from?(l(),f("TresRingGeometry",v)):"rect"===t.from?(l(),f("TresPlaneGeometry",h)):(l(),u(t.from,{key:3,args:t})),d("TresMeshBasicMaterial",{ref_key:"material",ref:r,toneMapped:e.toneMapped,map:e.map,side:m(n),color:e.color},null,8,M)]))}});var g=N;!function(e,n){for(var t=N,r=b();;)try{if(314396===parseInt(t(119))/1*(-parseInt(t(194))/2)+parseInt(t(145))/3+-parseInt(t(298))/4*(parseInt(t(166))/5)+parseInt(t(187))/6*(parseInt(t(171))/7)+parseInt(t(282))/8*(parseInt(t(113))/9)+parseInt(t(266))/10+-parseInt(t(278))/11*(parseInt(t(161))/12))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();var A,I=(A=!0,function(e,n){var t=A?function(){if(n){var t=n[N(232)](e,arguments);return n=null,t}}:function(){};return A=!1,t});!function(){I(this,(function(){var e=N,n=new RegExp(e(250)),t=new RegExp(e(108),"i"),r=ae(e(173));n[e(217)](r+"chain")&&t[e(217)](r+"input")?ae():r("0")}))()}();var E,y=(E=!0,function(e,n){var t=E?function(){if(n){var t=n[N(232)](e,arguments);return n=null,t}}:function(){};return E=!1,t});function b(){var e=["while (true) {}","\n    \n#ifdef IS_VERTEX\n    vec3 csm_Position;\n    vec4 csm_PositionRaw;\n    vec3 csm_Normal;\n\n    // csm_PointSize\n    #ifdef IS_POINTSMATERIAL\n        float csm_PointSize;\n    #endif\n#else\n    vec4 csm_DiffuseColor;\n    vec4 csm_FragColor;\n\n    // csm_Emissive, csm_Roughness, csm_Metalness\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n        vec3 csm_Emissive;\n        float csm_Roughness;\n        float csm_Metalness;\n        \n        #if defined IS_MESHPHYSICALMATERIAL\n            float csm_Clearcoat;\n            float csm_ClearcoatRoughness;\n            vec3 csm_ClearcoatNormal;\n        #endif\n    #endif\n\n    // csm_AO\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL\n        float csm_AO;\n    #endif\n\n    // csm_Bump\n    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL \n        vec3 csm_Bump;\n    #endif\n\n    float csm_DepthAlpha;\n#endif\n","material.clearcoatRoughness = ","16868EzMJTo","\n            \n            void main() {\n          ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","MeshPhysicalMaterial","\n            ","\n    gl_FragColor = ","\n    #include <color_fragment>\n    diffuseColor = ","3149703rYMejf","split","patchMap","error","normal","getOwnPropertyDescriptors","58417GeaAkU","entries","\n    #include <dithering_fragment>\n    gl_FragColor  = ","clearcoatRoughness","silent",'" is required to use output "',"setPrototypeOf","indexOf","needsUpdate","defineProperty","Material","pointSize","\n    #include <roughnessmap_fragment>\n    roughnessFactor = ",";\n  ","gger","CSM: ","_patchShader","csm_DepthAlpha","length","csm_ClearcoatRoughness","metalness","log","valueOf","\n    #include <aomap_fragment>\n    reflectedLight.indirectDiffuse *= 1. - ","call","();\n            // #_CSM_#\n          ","484482TCCaIR","value","__proto__","fragColor","constructor","action","csm_Normal","isArray","_generateMaterial","csm_AO","MeshStandardMaterial","MeshPhongMaterial","includes","push","create","// #_CSM_#","5770236WArhBS","\n    vec3 totalEmissiveRadiance = ","fragmentShader","position",'CSM: Property "',"245hIgzbf","is not a constructor","\\$&","\n\n#ifdef IS_VERTEX\n    // csm_Position & csm_PositionRaw\n    #ifdef IS_UNKNOWN\n        csm_Position = vec3(0.0);\n        csm_PositionRaw = vec4(0.0);\n        csm_Normal = vec3(0.0);\n    #else\n        csm_Position = position;\n        csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n        csm_Normal = normal;\n    #endif\n\n    // csm_PointSize\n    #ifdef IS_POINTSMATERIAL\n        csm_PointSize = size;\n    #endif\n#else\n    // csm_DiffuseColor & csm_FragColor\n    #if defined IS_UNKNOWN || defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_SHADOWMATERIAL\n        csm_DiffuseColor = vec4(1.0, 0.0, 1.0, 1.0);\n        csm_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n    #else\n        #ifdef USE_MAP\n            vec4 _csm_sampledDiffuseColor = texture2D(map, vMapUv);\n\n            #ifdef DECODE_VIDEO_TEXTURE\n            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)\n            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);\n            #endif\n\n            csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n            csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n        #else\n            csm_DiffuseColor = vec4(diffuse, opacity);\n            csm_FragColor = vec4(diffuse, opacity);\n        #endif\n    #endif\n\n    // csm_Emissive, csm_Roughness, csm_Metalness\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n        csm_Emissive = emissive;\n        csm_Roughness = roughness;\n        csm_Metalness = metalness;\n\n        #if defined IS_MESHPHYSICALMATERIAL\n            #ifdef USE_CLEARCOAT\n                csm_Clearcoat = clearcoat;\n                csm_ClearcoatRoughness = clearcoatRoughness;\n            #else\n                csm_Clearcoat = 0.0;\n                csm_ClearcoatRoughness = 0.0;\n            #endif\n        #endif\n    #endif\n\n    // csm_AO\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL\n        csm_AO = 0.0;\n    #endif\n\n    // csm_Bump\n    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL \n        csm_Bump = vec3(0.0);\n    #endif\n\n    csm_DepthAlpha = 1.0;\n#endif\n","isAlreadyExtended","14uwjQqk","Set","init","lastIndexOf","enumerable","();\n              // #_CSM_#\n          ","positionRaw",";\n    ","return","from","CustomShaderMaterial does not support RawShaderMaterial","\n    vec4 csm_internal_positionUnprojected = ","@@iterator","assign","RawShaderMaterial",";\n    #ifdef USE_TANGENT\n\t    vec3 objectTangent = vec3( tangent.xyz );\n    #endif\n    ","1735116ZAFZQm","\n    gl_PointSize = ","cacheKey","generateUUID","string","csm_FragColor","debu","6xgellf","replace","find","trace","onBeforeCompile","Map","Cannot call a class as a function","csm_Emissive","\n            #ifndef CSM_IS_HEAD_DEFAULTS_DEFINED\n              ","warn","roughness","trim","\n    vec3 objectNormal = ",". Shader cannot compile.","function","emissive",";\n    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;\n    #ifdef USE_INSTANCING\n      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;\n    #endif\n    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;\n    vec3 transformed = csm_internal_positionUnprojected.xyz;\n  ","_getCacheHash","void ","message","diffuse","\n    #include <metalnessmap_fragment>\n    metalnessFactor = ","prototype","test","baseMaterial","\n                #define CSM_IS_MAIN_DEFAULTS_DEFINED 1\n              #endif\n  \n              ","MeshNormalMaterial","depthAlpha","\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( ","customProgramCacheKey","Arguments","propertyIsEnumerable","__csm","Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.","sham","getOwnPropertyDescriptor","cacheHash","concat","apply","substring","#define IS_VERTEX;\n","vertexShader","\n      gl_FragColor = packDepthToRGBA( fragCoordZ );\n      gl_FragColor.a *= ","set","writable","slice","\n    varying mat4 csm_internal_vModelViewMatrix;\n","console","clone","\n    \n","Super expression must either be null or a function","type","toPrimitive","toString"," - (dot(","csm_main_","function *\\( *\\)","bump",", 1.0 );\n  ","instanceID","_getMaterialDefine","csm_Metalness","update","clearcoatNormal","csm_PositionRaw","bind","csm_Position","getPrototypeOf","Derived constructors may only return object or undefined","uniforms",", normal) * normal);\n    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;\n    normal = normalize(normal - csm_internal_projectedbump);\n    ","getOwnPropertySymbols","873000cqavbg","csm_ClearcoatNormal","return (function() ","\n    gl_Position = ","void main() {","default","filter","MathUtils"," );\n    ","object","info","keys","11cbNzFH","clearcoat","MeshBasicMaterial",'{}.constructor("return this")( )',"8eptVXZ","key","next","_getPatchMapForMaterial","\n    vec3 transformed = ","\n      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * ","#define IS_","iterator","PointsMaterial","construct","forEach","csm_PointSize","stateObject"];return(b=function(){return e})()}function R(e){var n=function(e,n){var t=N;if(typeof e!==t(275)||null===e)return e;var r=e[Symbol[t(246)]];if(void 0!==r){var a=r[t(143)](e,n||t(271));if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n===t(191)?String:Number)(e)}(e,N(191));return"symbol"==typeof n?n:String(n)}function T(e,n,t){var r=N;return(n=R(n))in e?Object[r(128)](e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e,n){var t=N,r=Object[t(277)](e);if(Object.getOwnPropertySymbols){var a=Object[t(265)](e);n&&(a=a[t(272)]((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r[t(158)].apply(r,a)}return r}function C(e){for(var n=N,t=1;t<arguments[n(137)];t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0)[n(292)]((function(n){T(e,n,r[n])})):Object[n(118)]?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r))[n(292)]((function(t){var a=n;Object.defineProperty(e,t,Object[a(229)](r,t))}))}return e}function w(e,n){var t=N;if(null==e)return{};var r,a,i=function(e,n){var t=N;if(null==e)return{};var r,a,i={},o=Object[t(277)](e);for(a=0;a<o[t(137)];a++)r=o[a],n[t(126)](r)>=0||(i[r]=e[r]);return i}(e,n);if(Object[t(265)]){var o=Object[t(265)](e);for(a=0;a<o[t(137)];a++)r=o[a],n.indexOf(r)>=0||Object[t(216)][t(225)][t(143)](e,r)&&(i[r]=e[r])}return i}function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function j(e,n){return function(e){if(Array[N(152)](e))return e}(e)||function(e,n){var t=N,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol[t(289)]]||e[t(183)];if(null!=r){var a,i,o,c,s=[],l=!0,f=!1;try{if(o=(r=r[t(143)](e))[t(284)],0===n){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=o[t(143)](r)).done)&&(s[t(158)](a[t(146)]),s[t(137)]!==n);l=!0);}catch(u){f=!0,i=u}finally{try{if(!l&&null!=r[t(179)]&&(c=r[t(179)](),Object(c)!==c))return}finally{if(f)throw i}}return s}}(e,n)||function(e,n){var t=N;if(e){if(typeof e===t(191))return D(e,n);var r=Object.prototype[t(247)][t(143)](e)[t(239)](8,-1);return"Object"===r&&e[t(149)]&&(r=e.constructor.name),r===t(199)||r===t(172)?Array[t(180)](e):r===t(224)||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[t(217)](r)?D(e,n):void 0}}(e,n)||function(){throw new TypeError(N(227))}()}function P(e,n){for(var t=N,r=0;r<n[t(137)];r++){var a=n[r];a[t(175)]=a[t(175)]||!1,a.configurable=!0,"value"in a&&(a[t(238)]=!0),Object[t(128)](e,R(a[t(283)]),a)}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,n){var t=N;return(H=Object.setPrototypeOf?Object[t(125)][t(259)]():function(e,n){return e[t(147)]=n,e})(e,n)}function N(e,n){var t=b();return N=function(e,n){return t[e-=108]},N(e,n)}function x(e){var n=N;return(x=Object.setPrototypeOf?Object[n(261)][n(259)]():function(e){var t=n;return e[t(147)]||Object[t(261)](e)})(e)}function F(e){var n=function(){var e=N;if("undefined"==typeof Reflect||!Reflect[e(291)])return!1;if(Reflect[e(291)][e(228)])return!1;if(typeof Proxy===e(208))return!0;try{return Boolean.prototype[e(141)][e(143)](Reflect[e(291)](Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=N,a=x(e);if(n){var i=x(this)[r(149)];t=Reflect.construct(a,arguments,i)}else t=a[r(232)](this,arguments);return function(e,n){var t=N;if(n&&(typeof n===t(275)||typeof n===t(208)))return n;if(void 0!==n)throw new TypeError(t(262));return L(e)}(this,t)}}y(void 0,(function(){var e,n=N;try{e=Function(n(268)+n(281)+");")()}catch(s){e=window}for(var t=e[n(241)]=e.console||{},r=[n(140),n(203),n(276),n(116),"exception","table",n(197)],a=0;a<r[n(137)];a++){var i=y.constructor[n(216)][n(259)](y),o=r[a],c=t[o]||i;i[n(147)]=y[n(259)](y),i[n(247)]=c.toString.bind(c),t[o]=i}}))();var U,z,k,B={diffuse:"csm_DiffuseColor",normal:g(151),roughness:"csm_Roughness",metalness:g(255),emissive:g(201),ao:g(154),bump:"csm_Bump",clearcoat:"csm_Clearcoat",clearcoatRoughness:g(138),clearcoatNormal:g(267),pointSize:g(293),fragColor:g(192),depthAlpha:g(136),position:g(260),positionRaw:g(258)},V=(T(U={},""[g(231)](B[g(164)]),"*"),T(U,""[g(231)](B.positionRaw),"*"),T(U,""[g(231)](B[g(117)]),"*"),T(U,""[g(231)](B.pointSize),[g(290)]),T(U,""[g(231)](B[g(214)]),"*"),T(U,""[g(231)](B[g(148)]),"*"),T(U,"".concat(B.emissive),[g(155),g(109)]),T(U,"".concat(B.roughness),["MeshStandardMaterial",g(109)]),T(U,"".concat(B.metalness),[g(155),g(109)]),T(U,""[g(231)](B.ao),["MeshStandardMaterial",g(109),g(280),"MeshLambertMaterial",g(156),"MeshToonMaterial"]),T(U,""[g(231)](B[g(251)]),["MeshLambertMaterial","MeshMatcapMaterial",g(220),g(156),g(109),g(155),"MeshToonMaterial","ShadowMaterial"]),T(U,""[g(231)](B.depthAlpha),["MeshDepthMaterial"]),T(U,"".concat(B.clearcoat),["MeshPhysicalMaterial"]),T(U,""[g(231)](B[g(122)]),["MeshPhysicalMaterial"]),T(U,"".concat(B[g(257)]),[g(109)]),U),G={"#include <lights_physical_fragment>":t.lights_physical_fragment},W=(T(z={},"".concat(B[g(117)]),{"#include <beginnormal_vertex>":g(206)[g(231)](B[g(117)],g(186))}),T(z,""[g(231)](B.position),{"#include <begin_vertex>":g(286).concat(B.position,g(132))}),T(z,""[g(231)](B[g(177)]),{"#include <begin_vertex>":g(182)[g(231)](B.positionRaw,g(210))}),T(z,""[g(231)](B.pointSize),{"gl_PointSize = size;":g(188).concat(B[g(130)],g(178))}),T(z,"".concat(B.diffuse),{"#include <color_fragment>":g(112)[g(231)](B[g(214)],";\n  ")}),T(z,""[g(231)](B[g(148)]),{"#include <dithering_fragment>":g(121)[g(231)](B[g(148)],g(132))}),T(z,""[g(231)](B[g(209)]),{"vec3 totalEmissiveRadiance = emissive;":g(162).concat(B[g(209)],g(178))}),T(z,"".concat(B[g(204)]),{"#include <roughnessmap_fragment>":g(131).concat(B[g(204)],g(178))}),T(z,""[g(231)](B[g(139)]),{"#include <metalnessmap_fragment>":g(215)[g(231)](B[g(139)],g(178))}),T(z,""[g(231)](B.ao),{"#include <aomap_fragment>":g(142)[g(231)](B.ao,";\n    ")}),T(z,""[g(231)](B[g(251)]),{"#include <normal_fragment_maps>":"\n    #include <normal_fragment_maps>\n\n    vec3 csm_internal_orthogonal = "[g(231)](B[g(251)],g(248))[g(231)](B.bump,g(264))}),T(z,""[g(231)](B[g(221)]),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":g(287)[g(231)](B[g(221)],g(274)),"gl_FragColor = packDepthToRGBA( fragCoordZ );":g(236)[g(231)](B[g(221)],g(178))}),T(z,"".concat(B.clearcoat),{"material.clearcoat = clearcoat;":"material.clearcoat = ".concat(B[g(279)],";")}),T(z,""[g(231)](B.clearcoatRoughness),{"material.clearcoatRoughness = clearcoatRoughness;":g(297)[g(231)](B[g(122)],";")}),T(z,""[g(231)](B[g(257)]),{"#include <clearcoat_normal_fragment_begin>":"\n      vec3 csm_coat_internal_orthogonal = csm_ClearcoatNormal - (dot(csm_ClearcoatNormal, nonPerturbedNormal) * nonPerturbedNormal);\n      vec3 csm_coat_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_coat_internal_orthogonal;\n      vec3 clearcoatNormal = normalize(nonPerturbedNormal - csm_coat_internal_projectedbump);\n    "}),z),Z=(T(k={},""[g(231)](B[g(164)]),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":g(222)[g(231)](B[g(164)],g(252))}),T(k,""[g(231)](B.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":g(269)[g(231)](B.position,g(132))}),T(k,""[g(231)](B.diffuse),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":g(111).concat(B.diffuse,g(132))}),T(k,""[g(231)](B[g(148)]),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":g(111)[g(231)](B[g(148)],g(132))}),k),K={clearcoat:[B[g(279)],B[g(257)],B[g(122)]]},Y=g(296),X=g(169),$=g(240),q=g(243),Q=[g(218),"fragmentShader",g(235),"uniforms",g(115),g(189),g(123)],J=function(e,n,t){return e[g(114)](n).join(t)},ee=function(e,n){var t,r,a=g;return new RegExp("\\b"[a(231)]((t=n,r=g,t[r(195)](/[-\/\\^$*+?.()|[\]{}]/g,r(168))),"\\b"))[a(217)](e)};function ne(e){return e?e[g(195)](/\s/g,""):void 0}function te(e){return e[g(195)](/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,"")}var re=function(e){var n=g;!function(e,n){var t=N;if(typeof n!==t(208)&&null!==n)throw new TypeError(t(244));e.prototype=Object[t(159)](n&&n[t(216)],{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,t(216),{writable:!1}),n&&H(e,n)}(s,e);var t,a,i,o,c=F(s);function s(e){var n,t,a,i,o,l=N,f=e[l(218)],u=e[l(163)],d=e[l(235)],m=e[l(263)],_=e.patchMap,p=e[l(189)],v=e[l(123)],h=w(e,Q);if(function(e,n){if(!(e instanceof n))throw new TypeError(N(200))}(this,s),!function(e){var n=g;try{new e}catch(t){if(t[n(213)][n(126)](n(167))>=0)return!1}return!0}(f)?(t=f,Object[l(184)](t,h)):t=new f(h),t[l(245)]===l(185))throw new Error(l(181));(function(e,n){var t=g;t(137),Object.assign(e,n);var r=Object[t(261)](n);Object[t(120)](Object.getOwnPropertyDescriptors(r))[t(272)]((function(e){var n=t,r=typeof e[1].get===n(208),a=typeof e[1][n(237)]===n(208),i=typeof e[1][n(146)]===n(208),o="constructor"===e[0];return(r||a||i)&&!o}))[t(292)]((function(n){"function"!=typeof e[n[0]]&&Object.defineProperty(e,n[0],n[1])}))})(L(n=c.call(this)),t),n[l(226)]={patchMap:_||{},fragmentShader:u||"",vertexShader:d||"",cacheKey:p,baseMaterial:f,instanceID:r[l(273)][l(190)](),type:t[l(245)],isAlreadyExtended:(a=t[l(198)],i=g,o=a.toString()[i(205)](),!(0===o[i(233)](o[i(126)]("{")+1,o[i(174)]("}"))[i(205)]()[i(137)])),cacheHash:"",silent:v},n[l(263)]=C(C({},n.uniforms||{}),m||{});var M=n[l(226)],S=M[l(163)],A=M[l(235)],I=n[l(263)];return n[l(226)].cacheHash=n[l(211)](),n[l(153)](S,A,I),n}return t=s,a=[{key:n(256),value:function(){var e=n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this[e(263)]=t[e(263)]||this[e(263)],Object[e(184)](this[e(226)],t);var r=this[e(226)],a=r[e(163)],i=r[e(235)],o=this[e(263)],c=this[e(211)]();this[e(226)][e(230)]=c,this._generateMaterial(a,i,o)}},{key:n(242),value:function(){var e=n,t={baseMaterial:this[e(226)][e(218)],fragmentShader:this[e(226)][e(163)],vertexShader:this[e(226)][e(235)],uniforms:this[e(263)],silent:this.__csm[e(123)],patchMap:this[e(226)][e(115)],cacheKey:this[e(226)][e(189)]},r=new this.constructor(t);return Object[e(184)](this,r),r}},{key:"_getCacheHash",value:function(){var e=n,t=this[e(226)],r=t[e(163)],a=t.vertexShader,i=this[e(263)],o=[ne(r),ne(a),i][e(272)]((function(e){return void 0!==e}));return o[e(137)]>0?_(o,{excludeValues:!0}):this[e(223)]()}},{key:n(153),value:function(e,t,r){var a=n,i=this;this.uniforms=r||{},this.customProgramCacheKey=function(){var e=N;return i[e(226)][e(230)]};var o=function(n){var r=N;try{var a=i[r(254)]();if(e){var o=i[r(135)](te(e),n[r(163)],!0);n[r(163)]=a+o}if(t){var c=i[r(135)](te(t),n[r(235)]);n[r(235)]=r(234)+c,n[r(235)]=a+n[r(235)]}n[r(263)]=C(C({},n[r(263)]),i[r(263)]),i[r(263)]=n.uniforms}catch(s){console[r(116)](s)}};if(this[a(226)][a(170)]){var c=this[a(198)];this[a(198)]=function(e,n){c(e,n),o(e)}}else this[a(198)]=o;this[a(127)]=!0}},{key:n(135),value:function(e,t,r){var a=n,i=this,o=t,c=C(C({},this[a(285)]()),this[a(226)][a(115)]);Object[a(120)](K)[a(292)]((function(n){var t=a,r=j(n,2),o=r[0],c=r[1][t(196)]((function(n){return ee(e,n)}));if(c&&!i[o])throw new Error(t(165).concat(o,t(124))[t(231)](c,'". Shader cannot compile.'))})),Object.entries(G).forEach((function(e){var n=j(e,2),t=n[0],r=n[1];o=J(o,t,r)})),Object[a(277)](c)[a(292)]((function(n){var t=a;Object.keys(c[n])[t(292)]((function(r){var a=t,s=V[n],l=i[a(226)][a(245)];if("*"===n||ee(e,n)){if(!(!s||Array.isArray(s)&&s.includes(l)||"*"===s))throw new Error(a(134)[a(231)](n," is not available in ").concat(l,a(207)));o=J(o,r,c[n][r])}}))}));var s,l,f,u,d,m=a(249)+this[a(226)][a(253)].replace(/-/g,"_"),_=e[a(195)](/void\s+main\s*\(\s*\)/g,a(212)[a(231)](m,"()")),p=e[a(157)]("void main()"),v=o[a(157)](a(160));return p&&(v&&this[a(226)].isAlreadyExtended?(o=o[a(195)]("void main() {",a(110).concat(_,a(299))),s=o,l=a(160),f=a(110)[a(231)](m,a(144)),d=s[(u=g)(174)](l),o=-1===d?s:s[u(233)](0,d)+f+s[u(233)](d+l[u(137)])):o=o[a(195)](a(270),a(202)[a(231)](r?$:"\n    varying mat4 csm_internal_vModelViewMatrix;\n","\n              #define CSM_IS_HEAD_DEFAULTS_DEFINED 1\n            #endif\n    \n            ")[a(231)](Y,"\n    \n            ")[a(231)](_,"\n            \n            void main() {\n              #ifndef CSM_IS_DEFAULTS_DEFINED\n                ")[a(231)](X,"\n                #define CSM_IS_DEFAULTS_DEFINED 1\n              #endif\n              \n              #ifndef CSM_IS_MAIN_DEFAULTS_DEFINED\n                ")[a(231)](r?q:"\n    csm_internal_vModelViewMatrix = modelViewMatrix;\n",a(219))[a(231)](m,a(176)))),o}},{key:"_getMaterialDefine",value:function(){var e=n,t=this[e(226)].type;return t?e(288).concat(t.toUpperCase(),";\n"):"#define IS_UNKNOWN;\n"}},{key:n(285),value:function(){var e=n;return"ShaderMaterial"===this[e(226)][e(245)]?Z:W}}],o=N,a&&P(t[o(216)],a),i&&P(t,i),Object[o(128)](t,o(216),{writable:!1}),s}(r[g(129)]);function ae(e){function n(e){var t=N;if(typeof e===t(191))return function(e){}[t(149)](t(295))[t(232)]("counter");1!==(""+e/e)[t(137)]||e%20==0?function(){return!0}[t(149)](t(193)+t(133)).call(t(150)):function(){return!1}[t(149)](t(193)+t(133)).apply(t(294)),n(++e)}try{if(e)return n;n(0)}catch(t){}}!function(e,n){for(var t=le,r=fe();;)try{if(322008===parseInt(t(441))/1+-parseInt(t(447))/2+parseInt(t(445))/3+-parseInt(t(419))/4+parseInt(t(424))/5*(-parseInt(t(444))/6)+parseInt(t(451))/7*(parseInt(t(434))/8)+parseInt(t(449))/9*(parseInt(t(430))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();var ie,oe=(ie=!0,function(e,n){var t=ie?function(){if(n){var t=n[le(438)](e,arguments);return n=null,t}}:function(){};return ie=!1,t});!function(){oe(this,(function(){var e=le,n=new RegExp(e(432)),t=new RegExp(e(448),"i"),r=ue(e(425));n[e(428)](r+e(446))&&t[e(428)](r+"input")?ue():r("0")}))()}();var ce,se=(ce=!0,function(e,n){var t=ce?function(){if(n){var t=n[le(438)](e,arguments);return n=null,t}}:function(){};return ce=!1,t});function le(e,n){var t=fe();return le=function(e,n){return t[e-=418]},le(e,n)}function fe(){var e=["chain","432788vddPHm","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","54IlkWek","call","658XaOSmz","bind","string","167116zpCwRr","table","action","length","constructor","52835bWPSmm","init","warn","gger","test","toString","1243390XplMKC","error","function *\\( *\\)","log","17128RliGnr",'{}.constructor("return this")( )',"prototype","return (function() ","apply","exception","info","59081gzKDVD","trace","console","258QRWWwa","84579seyLLk"];return(fe=function(){return e})()}function ue(e){function n(e){var t=le;if(typeof e===t(418))return function(e){}[t(423)]("while (true) {}")[t(438)]("counter");1!==(""+e/e)[t(422)]||e%20==0?function(){return!0}[t(423)]("debu"+t(427))[t(450)](t(421)):function(){return!1}[t(423)]("debu"+t(427))[t(438)]("stateObject"),n(++e)}try{if(e)return n;n(0)}catch(t){}}se(void 0,(function(){var e,n=le;try{e=Function(n(437)+n(435)+");")()}catch(s){e=window}for(var t=e[n(443)]=e.console||{},r=[n(433),n(426),n(440),n(431),n(439),n(420),n(442)],a=0;a<r[n(422)];a++){var i=se.constructor[n(436)][n(452)](se),o=r[a],c=t[o]||i;i.__proto__=se[n(452)](se),i[n(429)]=c[n(429)][n(452)](c),t[o]=i}}))();export{re as C,S as _};
