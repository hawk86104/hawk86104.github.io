import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.V9Q5ubyC1742895693222.js";import{_ as e,b as s,C as n,M as i,B as r,a8 as a,ad as o,V as c,t as h,b9 as l,a7 as u,c as p,au as f}from"./three.DqHgeVY11742895693222.js";import{m,e as d}from"./@tresjs.xCsT8yve1742895693222.js";import{d as w,b as g,a2 as S,o as y,f as v,g as x,j as I}from"./@vue.C4dqouNn1742895693222.js";import"./three-custom-shader-material.U901raSY1742895693222.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";const P=ht;!function(t,e){const s=ht,n=M();for(;;)try{if(950575===-parseInt(s(625))/1*(parseInt(s(615))/2)+parseInt(s(823))/3+-parseInt(s(706))/4*(parseInt(s(540))/5)+-parseInt(s(485))/6+parseInt(s(670))/7*(parseInt(s(671))/8)+-parseInt(s(736))/9+-parseInt(s(564))/10*(-parseInt(s(773))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();class A{static[P(868)]=new A("Time");static[P(839)]=new A(P(839));constructor(t){this[P(675)]=t}}class F{constructor(){this[P(606)]()}init(){const t=P;this[t(734)]=A[t(868)],this.lifetime=1,this.age=0,this[t(633)]=new(e[t(942)]),this[t(678)]=new(e[t(582)]),this[t(472)]=new s,this[t(745)]=new s,this[t(716)]=new(e[t(582)]),this[t(939)]=0,this[t(676)]=0,this.size=new(e[t(845)]),this[t(477)]=new n,this[t(562)]=1,this[t(538)]=new(e[t(845)]),this[t(605)]=new n,this[t(504)]=1}setAll(t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d){const w=P;this[w(734)]=t,this[w(828)]=e,this[w(612)]=s,this.sequenceElement[w(781)](n),this[w(678)].copy(i),this[w(472)].copy(r),this[w(745)][w(781)](a),this[w(716)][w(781)](o),this[w(939)]=c,this[w(676)]=h,this[w(621)]=l,this.color[w(781)](u),this[w(562)]=p,this.initialSize[w(781)](f),this[w(605)][w(781)](m),this[w(504)]=d}[P(886)](t){const e=P;t[e(499)](this[e(734)],this.lifetime,this[e(612)],this.sequenceElement,this[e(678)],this.velocity,this[e(745)],this[e(716)],this[e(939)],this.rotationalSpeed,this[e(621)],this.color,this[e(562)],this[e(538)],this.initialColor,this[e(504)])}[P(781)](t){const e=P;this[e(499)](t[e(734)],t.lifetime,t[e(612)],t[e(633)],t.position,t[e(472)],t[e(745)],t.normal,t[e(939)],t[e(676)],t[e(621)],t[e(477)],t.alpha,t[e(538)],t[e(605)],t[e(504)])}}class z{constructor(){const t=P;this[t(826)]=0,this[t(492)]=0,this[t(908)]=[]}[P(606)](t){this[P(602)](t)}setParticleCount(t){const e=P;this[e(826)]!=t&&(this.dispose(),this[e(610)](t)),this.particleCount=t}[P(522)](t){this.activeParticleCount=t}allocate(t){const e=P;this.particleStates=[],this[e(826)]=t;for(let s=0;s<t;s++)this[e(908)][s]=new F}[P(702)](){}getParticleCount(){return this[P(826)]}flushParticleStateToBuffers(){}[P(803)](t,e){const s=P;if(t>=this[s(826)])throw new Error(s(651));if(e>=this[s(826)])throw new Error(s(635));const n=this[s(908)][t],i=this.particleStates[e];n[s(886)](i)}[P(737)](t,e){const s=P;if(t>=this.particleCount)throw new Error(s(666));return this[s(908)][t][s(781)](e)}[P(530)](t){const e=P;if(t>=this.particleCount)throw new Error(e(478));return this[e(908)][t]}[P(904)]=function(){const t=P,s=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();s(this,(function(){const t=ht,e=function(){const t=ht;let e;try{e=Function(t(927)+t(943)+");")()}catch(s){e=window}return e}(),n=e[t(775)]=e[t(775)]||{},i=[t(795),t(801),t(641),t(843),t(934),t(512),t(717)];for(let r=0;r<i[t(516)];r++){const e=s[t(570)][t(890)][t(591)](s),a=i[r],o=n[a]||e;e[t(832)]=s[t(591)](s),e[t(565)]=o[t(565)][t(591)](o),n[a]=e}}))();const n=new(e[t(582)]);return function(s=new(e[t(819)]),i=null){const r=t,a=s[r(640)],o=s[r(953)];for(let t=0;t<this[r(492)];t++){const e=this[r(530)](t);let s=e[r(678)];i&&(n.copy(s),n.applyMatrix4(i),s=n);const c=Math[r(953)](e[r(621)].x,e[r(621)].y),h=s.x-c,l=s.x+c,u=s.y-c,p=s.y+c,f=s.z-c,m=s.z+c;(0==t||s.x<a.x)&&(a.x=h),(0==t||s.x>o.x)&&(o.x=l),(0==t||s.y<a.y)&&(a.y=u),(0==t||s.y>o.y)&&(o.y=p),(0==t||s.z<a.z)&&(a.z=f),(0==t||s.z>o.z)&&(o.z=m)}return s}}();computeBoundingSphere=function(){const t=P,n=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){n(this,(function(){const t=ht,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(928),"i"),n=dt(t(606));e[t(511)](n+t(869))&&s[t(511)](n+t(704))?dt():n("0")}))()}();const i=new s,r=new s,a=new(e[t(582)]);return function(s=new(e[t(665)]),n=null){const o=t;let c=0;for(let t=0;t<this.activeParticleCount;t++){const e=this[o(530)](t);let s=e.position;n&&(a[o(781)](s),a[o(865)](n),s=a);const h=Math[o(953)](e[o(621)].x,e[o(621)].y);if(0==t)i[o(781)](s),c=h;else{r.copy(s)[o(876)](i);const t=r[o(516)]()+h;if(t>c){const e=(t-c)/2;r[o(785)]().multiplyScalar(e),i[o(755)](r),c+=e}}}return s[o(949)].copy(i),s.radius=c,s}}()}class b{constructor(t,e,s=0){const n=P;this.start=t,this[n(516)]=e,this.id=s}}class T{constructor(){const t=P;this.sequences={},this[t(534)]=[]}[P(599)](t,e,s){const n=P;if(this.hasID(s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const i=new b(t,e,s);return this[n(660)][s]=i,this[n(534)][n(662)](s),i}[P(860)](t){const e=P;if(!this[e(587)](t))throw new Error(e(604));return this.sequences[t]}[P(851)](){return this.ids}[P(587)](t){return!!this[P(660)][t]}}class R{constructor(){}[P(874)](t){const e=P;t[e(605)][e(483)](1,1,1),t[e(538)][e(483)](1,1),t.initialAlpha=1,t[e(734)]=A[e(868)],t[e(828)]=0,t[e(612)]=0,t[e(633)].set(0,0,0,0),t[e(678)][e(483)](0,0,0),t.velocity[e(483)](0,0,0),t.acceleration[e(483)](0,0,0),t[e(716)][e(483)](0,0,1),t.rotation=0,t[e(676)]=0,t[e(621)].copy(t[e(538)]),t.color[e(781)](t[e(605)]),t[e(562)]=1}}class E extends R{constructor(){super()}initializeState(t){super[P(874)](t)}}class O{constructor(){}[P(502)](){}}class C extends O{constructor(){const t=P;super(),this[t(893)]=new(e[t(582)]),this[t(764)]=new(e[t(582)]),this[t(912)]=new s,this.stateVelocity=new(e[t(582)])}[P(502)](t,e){const s=P;return super[s(502)](t,e),this.stateAcceleration[s(781)](t[s(745)]),this[s(764)][s(781)](this[s(912)]),this[s(764)][s(858)](e),t.velocity[s(755)](this[s(764)]),this[s(525)][s(781)](t[s(472)]),this[s(893)][s(781)](this.stateVelocity),this.timeScaledVelocity[s(858)](e),t[s(678)][s(755)](this[s(893)]),t[s(612)]=t.age+e,t.rotation=t.rotation+e*t[s(676)],!0}}class V{static[P(807)](t,e,s){const n=P;return Math[n(640)](Math[n(953)](t,e),s)}static[P(726)](){return performance[P(938)]()/1e3}}class q{constructor(){this.components=[]}[P(714)](t){const e=P;this[e(952)][e(662)](t)}[P(830)](t,e){const s=P;for(const n of this.components)n[s(830)](t,e)}[P(563)](t){const e=P;if(t>=this.components[e(516)])throw new Error(e(475));return this.components[t]}}function M(){const t=["bias","generateForElement","mapSize","   vec4 viewPosition; \n","type","   if (instanced != 1) { \n","Additive","offsetRadius","getSystemState","const int MAX_ATLAS_FRAME_SETS = 16; \n","JSONTypeStore::addNamespace() -> namespace already exists","attribute vec2 baseUV;\n","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","alpha","getComponent","2719970Rgubwa","toString","NormalBlending","fromArray","while (true) {}","getGeometry","constructor","frameSets","string","instanceCount","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","getFrameSetCount","getTValue","   const vec2 dLeft = vec2(-1.0, -1.0);\n","addElements","Paused","Shader","getEmitter","Vector3","height","stateObject","source","ages","hasID","setDrawRange","emissionRate","element","bind","advanceActiveParticle","offsetPhi","Running","getSimulateInWorldSpace","   const vec2 dRight = vec2(1.0, -1.0);\n","boundingSphere","setOwner","addSequence","outType","atlas","setParticleCount","reverse","ParticleSequenceGroup::getSequence -> Invalid ID.","initialColor","init","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","width","hasOwnProperty","allocate","particleStateInitializers","age","   if (simulateInWorldSpace == 1) { \n","   int sequenceStart = int(sequenceElement.z);\n","338914mzygSc","iterator","offsetZ","keys","normals","getInterpolationValuesForTValue","size","   gl_FragColor.a *= vFragAlpha; \n","ParticleSystem::init() -> trying to intialize more than once.","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","5duAmbx","generator","relativeToInitialValue","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","jsonTypeNames","getParameterJSON","elements","varying vec2 vUV2;\n","sequenceElement","transformInitialDirectionInWorldSpace",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"   vec4 color2 = color1; \n","attribute float rotation;\n","min","info","lowerIndex","getParticleStateOperator","Normal","uniform int simulateInWorldSpace; \n","Renderer::init() -> trying to intialize more than once.","attribute float customIndex;\n","colors","copyParticleInArray","   vec2 uv2; \n",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"Color","   const vec2 down = vec2(0.0, -1.0);\n","varying vec3 vFragColor;\n","elementTypeID","attribute float alpha;\n","void main()\n","   float atlasFrameX = atlasFrames.x; \n","geometry","sequences","setXYZ","push","   float sequenceElementF = sequenceElement.x;\n","offsetTheta","Sphere",'ParticleStateArray::setState() -> "index" is out of range.',"tValue","generate","internalUpdate","97027fkaXVg","632EkYTRo","rangeRadius","speedOffset","split","name","rotationalSpeed","Default","position","#include <common>","action","  \n #include <logdepthbuf_pars_fragment> \n","getParticleStateInitializer","getFragmentShader","getVisible","getParticleStateInitializerCount","customIndex","       float uRightV = rotVecStep.z; \n","maximumActiveParticles","SrcAlphaFactor","autoClear","velocities","offsetY","updateMeshBounds","texturePath","addParticleStateInitializer","particleSequences","lastIntensityAdjuster","DynamicDrawUsage",'ContinuousArray::getElement() -> "index" is out of bounds.',"getSequenceElements","particleEmitter","dispose","directionGenerator","input","lastUpdateTime","5242724CzNzhb","   const vec2 right = vec2(1.0, 0.0);\n","getMaximumActiveParticles",'ParticleSystem::getParticleState() -> "index" is out of range.',"parseTypeString","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","pause","addComponent","maxParticleCount","normal","trace","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","addParticleSequence","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","framesets","cameraNear","namespace","typeIDGen","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","currentTime","v4v","uniformOffset","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","onUpdate","getTypePath","getVertexShader","varying vec2 vUV1;\n","progressType","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","9590526pdLopQ","setState","getLight","currentSrc","   vFragAlpha = alpha; \n","range","componentContainer","boundingBox","light","acceleration","interpolateAtlasFrames",'ContinuousArray::getTValue() -> "index" is out of bounds.',"getActiveParticleCount","object","particleSystems","updateEmitCount","outTypeID","lastIntensityFlickerTime","varying float vSequenceElementT; \n","add","setX","emitter","matrixWorldNeedsUpdate","#include <common> \n","___photonsTypeID","gger","setXY","interpolator","timeScaledAcceleration","setSimulateInWorldSpace","getFrameSet","setBoundingBox","setXYZW","join","   const vec2 uLeft = vec2(-1.0, 1.0);\n","visible","shadow","121iRLZOr",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"console","offsetX","mesh","getParticleSystemRenderer","setAttribute","addElementsFromElementClassAndParameters","copy","updateBounds","getInterpolatedElement","lastPositionAdjuster","normalize","scaleX","nextIntensityAdjuster","startTime",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"       rotVec = position.xy; \n ","castShadow","normalizeDirection","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","setUsage","log","rotationalSpeeds","particleStateOperators","operators","getParticleSequences","computeBoundingSphere","warn","cos","copyState","rangeTheta","call","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","clamp","getInterpolatedValue","intensityFlux","getInterpolatorForTypeID","InstancedBufferGeometry","simulateInWorldSpace","   vec2 rotVec; \n","rotations","Object3D","tempUp","particleSystemRenderer","attribute vec2 size;\n","Box3","onUpdateCallback","calculateBoundingSphereFromBox","       rightSide = baseUV.x; \n","3675891WQKAMd","sqrt","start","particleCount","ShaderMaterial","lifetime","varying float vSequenceElementT;\n","update","alphas","__proto__","emitCount","activateParticle","localT","function","       float dRightV = rotVecStep.w - rotVecStep.z; \n","instanced","Sequence","   int firstSequenceElement = int(sequenceElementF); \n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","  \n #include <logdepthbuf_pars_vertex> \n","error","   } else { \n","Vector2","timeActive","distance","checkAndAddTypeName","AdditiveBlending","setRGB","getSequenceIDs","matrixWorld","calculatingBoundingSphereFromBox","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","   const vec2 up = vec2(0.0, 1.0);\n","getTypeNames","   float upperSide; \n","multiplyScalar","setBoundingSphere","getSequence","blending","flushParticleStateToBuffers","initialAlphas","toArray","applyMatrix4","addParticleStateOperator","far","Time","chain","getType","particleStateArray","verticesPerParticle","OneMinusSrcAlphaFactor","initializeState","lastPositionFlickerTime","sub","attribute vec4 particlePosition;\n","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","   float atlasFrameWidth = atlasFrames.z; \n","sin","   int sequenceLength = int(sequenceElement.w);\n","params","positions","parent","accelerations","copyTo","} \n","initializers","camera","prototype","value","needsUpdate","timeScaledVelocity","apply","initialized","material","       upperSide = upperSideStep.x + upperSideStep.y;\n","assign","clone","cameraFar","emitterInitialized","activeCount","lifetimes","computeBoundingBox","positionAdjuster","   } \n","   vFragColor = color; \n","particleStates","initialSizes","   float rotMag = rotation; \n","BufferGeometry","stateAcceleration","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"speedRange","map","transformDirection","invert","getElementCount","emissionRelativeStartTime","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","loadJSONParameter","emissionMinimum","   float rightSide; \n","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","interpolationElements","NotStarted","progressTypes","typeName","radius","exception","speedGenerator","       rightSide = step(2.0, customIndex); \n","render","now","rotation","uniform vec2 uvOffset;\n","getColors","Vector4",'{}.constructor("return this")( )',"   float atlasFrameY = atlasFrames.y; \n","JSONTypeStore::getType() -> typeName does not exist","addElement","stop","sizes","center","   float atlasFrameHeight = atlasFrames.w; \n","interpolateFrames","components","max","uniform int instanced; \n","addType","rangePhi","baseUVs","velocity","startupTime","fromJSON",'ComponentContainer::getComponent() -> "index" is out of range.',"random","color",'ParticleStateArray::getState() -> "index" is out of range.',"   \n  #include <logdepthbuf_vertex> \n","intensity","   float uvXOffset = atlasFrameWidth * rightSide; \n","uniform sampler2D atlasTexture;\n","set","activateParticles","6828768DaCvIL","setVisibile","getElement","varying float vFragAlpha;\n","renderOrder","getTypeID","initialColors","activeParticleCount","loop","upperIndex","getParticleStateOperatorCount","scaleZ","uniformRange","   const vec2 uRight = vec2(1.0, 1.0);\n","setAll","speed","addNamespace","updateState","FragmentVars","initialAlpha","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","sequenceElements","edgeRadius","jsonTypes","data","   vec2 uv1; \n","test","table","Mesh","scaleY","addElementsFromParameters","length","randomGenerator",'Atlas::getFrameSet -> "index" is out of range.',"basePositions","getParticleState","emissionDuration","setActiveParticleCount","   const vec2 left = vec2(-1.0, 0.0);\n","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","stateVelocity","setIntensity","getTexturePath","offset","   }  else { \n","getState","Done","owner","customIndexes","ids","JSONTypeStore::getType() -> namespace does not exist","baseUV","systemState","initialSize","BufferAttribute","5yKnvxB","setParticleSequences","createMaterial","attribute vec3 color;\n","getTexture","tValues","toJSON","getParticleStateArray","remove"];return(M=function(){return t})()}class N{static NotStarted=new N(P(930));static[P(594)]=new N(P(594));static Paused=new N("Paused");static[P(531)]=new N(P(531));constructor(t){this[P(675)]=t}}class _{constructor(t,s){const n=P;this[n(532)]=t,this[n(532)][n(771)]=!1,this[n(771)]=!0,this[n(817)]=s,this[n(895)]=!1,this.maximumActiveParticles=0,this.activeParticleCount=0,this.simulateInWorldSpace=!0,this[n(901)]=!1,this[n(701)]=null,this.componentContainer=new q,this[n(611)]=[],this.particleStateOperators=[],this[n(908)]=null,this[n(537)]=N[n(930)],this.particleSequences=new T,this[n(820)]=null,this[n(634)]=!0,this[n(743)]=new(e[n(819)]),this[n(597)]=new(e[n(665)])}[P(606)](t){const e=P;if(this.initialized)throw new Error(e(623));this.maximumActiveParticles=t,this[e(817)]?(this[e(817)][e(598)](this.owner),this[e(817)][e(606)](this[e(688)],this.simulateInWorldSpace),this[e(817)][e(765)](this.simulateInWorldSpace),this[e(908)]=this.particleSystemRenderer[e(547)]()):(this[e(908)]=new z,this[e(908)][e(606)](this.maximumActiveParticles)),this[e(695)](new E),this[e(866)](new C),this[e(895)]=!0}[P(684)](){return this.visible}[P(486)](t){return this.visible=t}[P(730)](t){this.onUpdateCallback=t}[P(830)](t,e){const s=P;if(this.systemState==N[s(594)]){if(this[s(532)].updateWorldMatrix(!0),t=null==t||null==t?V[s(726)]():t,e=null==e||null==e?t-this[s(705)]:e,this[s(901)]&&this.systemState==N.Running){const t=this[s(701)][s(830)](e);t>0&&this.activateParticles(t),this.advanceActiveParticles(e),this[s(820)]&&this.onUpdateCallback(this[s(492)]),this.updateBounds()}this[s(742)][s(830)](t,e),this[s(705)]=t}}[P(937)](t,e){const s=P;if(this[s(684)]()&&this.particleSystemRenderer){const n=t[s(690)];t[s(690)]=!1,this[s(532)][s(771)]=!0,this.owner[s(758)]=!0,this[s(817)][s(937)](this[s(532)],t,e),this[s(532)][s(771)]=!1,t.autoClear=n}}[P(825)](){const t=P;this.systemState!=N[t(930)]&&this[t(537)]!=N[t(579)]||(this[t(537)]=N[t(594)],this[t(788)]=V[t(726)](),this[t(705)]=this[t(788)])}[P(713)](){const t=P;this[t(537)]==N[t(594)]&&(this[t(537)]=N[t(579)])}[P(947)](){}[P(557)](){return this[P(537)]}setEmitter(t){const e=P;return this.particleEmitter=t,this[e(701)][e(688)]=this.maximumActiveParticles,this[e(901)]=!0,this[e(701)]}[P(714)](t){const e=P;this[e(742)][e(714)](t)}[P(563)](t){return this[P(742)].getComponent(t)}addParticleStateInitializer(t){const e=P;return this[e(611)][e(662)](t),t}[P(685)](){const t=P;return this[t(611)][t(516)]}getParticleStateInitializer(t){const e=P;if(t>=this[e(611)][e(516)])throw new Error(e(789));return this[e(611)][t]}[P(866)](t){const e=P;return this[e(797)][e(662)](t),t}[P(495)](){const t=P;return this[t(797)][t(516)]}[P(643)](t){const e=P;if(t>=this[e(797)][e(516)])throw new Error(e(774));return this[e(797)][t]}[P(708)](){return this[P(688)]}[P(748)](){return this[P(492)]}[P(520)](t){const e=P;if(t>=this[e(492)])throw new Error(e(709));return this[e(908)][e(530)](t)}getParticleStates(){return this[P(908)]}[P(778)](){return this[P(817)]}[P(595)](){return this[P(812)]}[P(765)](t){const e=P;this[e(812)]=t,this[e(817)]&&this[e(817)][e(765)](this[e(812)])}setTransformInitialDirectionInWorldSpace(t){this.transformInitialDirectionInWorldSpace=t}[P(719)](t,e,s=0){const n=P;this.particleSequences[n(599)](t,e,s)}getParticleSequences(){return this[P(696)]}[P(581)](){return this[P(701)]}[P(782)]=function(){const t=new i;return function(){const e=ht;let s=null;this[e(634)]&&(s=t,s.copy(this[e(532)][e(852)])[e(918)]()),this[e(817)][e(853)]()?(this[e(908)][e(904)](this.boundingBox,s),this[e(817)].setBoundingBox(this[e(743)])):(this[e(908)][e(800)](this.boundingSphere,s),this.particleSystemRenderer.setBoundingSphere(this[e(597)]))}}();[P(484)](t){const e=P;if(this.systemState==N[e(594)]){const s=V[e(807)](this[e(492)]+t,0,this[e(688)]);for(let t=this[e(492)];t<s;t++)this[e(834)](t);this[e(492)]=s,this[e(908)].setActiveParticleCount(this.activeParticleCount)}}activateParticle(t){const e=P;if(this[e(537)]==N.Running){const s=this.particleStates[e(530)](t);s[e(612)]=0;for(let t=0;t<this[e(611)][e(516)];t++){this[e(611)][t].initializeState(s)}if(this[e(812)]){s[e(678)][e(865)](this[e(532)][e(852)]);const t=s[e(472)].length();if(this[e(634)]){s[e(472)][e(917)](this.owner[e(852)])[e(858)](t);const n=s[e(745)][e(516)]();s.acceleration[e(917)](this.owner[e(852)])[e(858)](n)}}this[e(908)][e(862)](t)}}advanceActiveParticles(t){const e=P;if(this.systemState==N[e(594)]){let s=0;for(;s<this[e(492)];){this.advanceActiveParticle(s,t)?s++:(s<this.activeParticleCount-1&&this.copyParticleInArray(this[e(492)]-1,s),this[e(492)]--)}this[e(908)][e(522)](this[e(492)])}}[P(592)](t,e){const s=P;if(this[s(537)]==N[s(594)]){const n=this[s(908)].getState(t);for(let t=0;t<this[s(797)][s(516)];t++){const i=this[s(797)][t][s(502)](n,e),r=n[s(828)];if(!i||0!=r&&n[s(612)]>=r)return!1}return this.particleStates[s(862)](t),!0}return!1}[P(649)](t,e){const s=P;this[s(908)][s(803)](t,e),this[s(908)][s(862)](e)}static fromJSON(t,s,n){const i=P,r=(t,e,s)=>{const n=ht;e(t);for(const i in t)if(t[n(609)](i)){const s=t[i];typeof s===n(749)&&r(s,e)}};r(t,(t=>{const e=ht;t[e(553)]&&(t[e(553)]=s[e(710)](t.type))}));const a=t[i(715)],o=t.simulateInWorldSpace,c=t.renderer,h=c[i(553)][i(474)](c.params),l=new(e[i(815)]),u=new _(l,h,n);u[i(606)](a),u[i(765)](o);const p=t[i(757)],f=p.type[i(474)](p[i(882)]);if(u.setEmitter(f),t.sequences)for(const e of t.sequences)u[i(719)](e[i(825)],e[i(516)],e.id);if(t.initializers)for(const e of t[i(888)])u.addParticleStateInitializer(e[i(553)][i(474)](u,e[i(882)]));if(t[i(798)])for(const e of t[i(798)]){const t=u[i(866)](e.type[i(474)](u,e[i(882)]));e[i(631)]&&t[i(515)](e[i(631)])}return[u,l]}toJSON(t){const e=P,s=this[e(778)](),n=this[e(581)](),i=this[e(799)](),r=i[e(851)]()[e(916)]((t=>{const s=e,n=i[s(860)](t);return{id:t,start:n[s(825)],length:n[s(516)]}})),a=[],o=this.getParticleStateInitializerCount();for(let l=0;l<o;l++){const s=this[e(682)](l);s[e(570)]!==E&&a.push({type:t[e(731)](s[e(570)]),params:s.toJSON(t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this[e(643)](l);if(s.constructor!==C){const n=s[e(546)](t),i=n[e(882)]||n,r=n[e(882)]?n[e(631)]:null,a={type:t[e(731)](s[e(570)]),params:i};r&&(a[e(631)]=r),c[e(662)](a)}}return{maxParticleCount:this[e(708)](),simulateInWorldSpace:this[e(595)](),renderer:{type:t.getTypePath(s[e(570)]),params:s[e(546)]()},emitter:{type:t.getTypePath(n[e(570)]),params:n.toJSON()},sequences:r,initializers:a,operators:c}}}class U{constructor(){const t=P;this.particleSystems=[],this[t(473)]=performance[t(938)]()/1e3,this[t(705)]=this[t(473)],this.componentContainer=new q}update(){const t=P,e=V[t(726)](),s=e-this.lastUpdateTime;for(const n of this[t(750)])n.update(e,s);this.componentContainer.update(e,s),this[t(705)]=e}[P(937)](t,e){const s=P;for(const n of this.particleSystems)n[s(937)](t,e)}addParticleSystem(t){const e=P;this[e(750)][e(662)](t)}addComponent(t){const e=P;this[e(742)][e(714)](t)}[P(563)](t){const e=P;return this[e(742)][e(563)](t)}}class B{constructor(){const t=P;this[t(895)]=!1,this[t(826)]=0,this.owner=null,this.simulateInWorldSpace=!1}[P(765)](t){this.simulateInWorldSpace=t}[P(547)](){}[P(598)](t){this.owner=t}[P(606)](t){const e=P;if(this.particleCount=t,!this[e(895)])return this.initialized=!0,!0;throw new Error(e(646))}[P(937)](){}}class j extends z{constructor(){const t=P;super(),this.geometry=null,this[t(931)]=null,this[t(903)]=null,this[t(586)]=null,this.sequenceElements=null,this[t(883)]=null,this[t(691)]=null,this[t(885)]=null,this.normals=null,this[t(814)]=null,this.rotationalSpeeds=null,this.sizes=null,this.colors=null,this.initialSizes=null,this[t(491)]=null,this.instanced=!1,this.verticesPerParticle=6}[P(606)](t,e=!1){const s=P;this[s(838)]=e,this[s(838)]?this[s(872)]=1:this[s(872)]=6,super[s(606)](t),this[s(610)](t)}[P(602)](t){super.setParticleCount(t)}setActiveParticleCount(t){const e=P;super[e(522)](t),t>0?this[e(838)]?this[e(659)][e(573)]=t:this[e(659)].setDrawRange(0,this[e(872)]*t):this[e(838)]?this.geometry[e(573)]=0:this[e(659)][e(588)](0,0)}[P(862)](t){const e=P;if(t>=this[e(826)])throw new Error(e(637));const s=this[e(530)](t),n=t*this[e(872)];for(let i=0;i<this.verticesPerParticle;i++)this.lifetimes.setX(n+i,s.lifetime),this.lifetimes[e(892)]=!0,this[e(586)][e(756)](n+i,s[e(612)]),this[e(586)][e(892)]=!0,this[e(506)][e(768)](n+i,s[e(633)].x,s[e(633)].y,s[e(633)].z,s[e(633)].w),this[e(506)][e(892)]=!0,this.positions[e(661)](n+i,s[e(678)].x,s[e(678)].y,s.position.z),this[e(883)][e(892)]=!0,this[e(691)][e(661)](n+i,s[e(472)].x,s[e(472)].y,s.velocity.z),this[e(691)].needsUpdate=!0,this[e(885)][e(661)](n+i,s[e(745)].x,s[e(745)].y,s[e(745)].z),this.accelerations[e(892)]=!0,this.normals[e(661)](n+i,s[e(716)].x,s[e(716)].y,s.normal.z),this[e(619)][e(892)]=!0,this[e(814)][e(756)](n+i,s[e(939)]),this[e(814)][e(892)]=!0,this[e(796)].setX(n+i,s[e(676)]),this[e(796)].needsUpdate=!0,this[e(948)].setXY(n+i,s.size.x,s.size.y),this.sizes[e(892)]=!0,this.colors.setXYZ(n+i,s.color.r,s[e(477)].g,s[e(477)].b),this[e(648)][e(892)]=!0,this[e(831)][e(756)](n+i,s.alpha),this[e(831)][e(892)]=!0,this[e(909)].setXY(n+i,s.initialSize.x,s[e(538)].y),this[e(909)][e(892)]=!0,this[e(863)][e(756)](n+i,s[e(504)]),this[e(863)].needsUpdate=!0}[P(803)](t,e){const s=P;super.copyState(t,e),this[s(862)](e)}[P(737)](t,e){const s=P;if(t>=this[s(826)])throw new Error(s(914));super[s(737)](t,e),this[s(862)](t)}getPositions(){return this[P(883)]}getSizes(){return this.sizes}getRotations(){return this.rotations}[P(700)](){return this[P(506)]}[P(941)](){return this.colors}getGeometry(){return this[P(659)]}[P(610)](t){const s=P;super[s(610)](t);const n=(t,e)=>this[s(838)]?new u(t,e):new p(t,e),i=this[s(872)]*this.particleCount;if(this[s(838)]){const t=new(e[s(911)]),n=new Float32Array(18);this.basePositions=new(e[s(539)])(n,3),t.setAttribute(s(678),this[s(519)]),this[s(519)][s(892)]=!0,this[s(519)][s(661)](0,-1,1,0),this.basePositions[s(661)](1,-1,-1,0),this[s(519)][s(661)](2,1,1,0),this.basePositions[s(661)](3,-1,-1,0),this[s(519)][s(661)](4,1,-1,0),this[s(519)][s(661)](5,1,1,0);const i=new Float32Array(12);this[s(471)]=new(e[s(539)])(i,2),t[s(779)](s(536),this[s(471)]),this.baseUVs[s(892)]=!0,this.baseUVs[s(762)](0,0,1),this[s(471)][s(762)](1,0,0),this[s(471)].setXY(2,1,1),this.baseUVs[s(762)](3,0,0),this[s(471)][s(762)](4,1,0),this[s(471)][s(762)](5,1,1);const r=new Float32Array(6);this.customIndexes=new(e[s(539)])(r,1),t.setAttribute(s(686),this[s(533)]),this[s(533)][s(892)]=!0,this.customIndexes[s(756)](0,0),this.customIndexes[s(756)](1,1),this.customIndexes[s(756)](2,3),this[s(533)][s(756)](3,1),this[s(533)][s(756)](4,2),this[s(533)][s(756)](5,3),this[s(659)]=(new(e[s(811)]))[s(781)](t),this.geometry[s(573)]=0}else{this[s(659)]=new r;const t=new Float32Array(i);this[s(533)]=new(e[s(539)])(t,1),this[s(659)][s(779)](s(686),this[s(533)]),this.customIndexes[s(892)]=!0;for(let e=0;e<this[s(826)];e++){const t=e*this[s(872)];this[s(533)].setX(t,0),this[s(533)][s(756)](t+1,1),this[s(533)].setX(t+2,3),this[s(533)][s(756)](t+3,1),this[s(533)][s(756)](t+4,2),this[s(533)][s(756)](t+5,3)}}const o=new Float32Array(i),c=new Float32Array(i),h=new Float32Array(4*i),l=new Float32Array(3*i),f=new Float32Array(3*i),m=new Float32Array(3*i),d=new Float32Array(3*i),w=new Float32Array(i),g=new Float32Array(i),S=new Float32Array(2*i),y=new Float32Array(3*i),v=new Float32Array(i),x=new Float32Array(2*i),I=new Float32Array(3*i),A=new Float32Array(i);this[s(883)]=n(l,3),this[s(883)][s(794)](e[s(698)]),this[s(659)][s(779)]("particlePosition",this[s(883)]),this.lifetimes=n(o,1),this.lifetimes[s(794)](e[s(698)]),this[s(659)].setAttribute(s(828),this.lifetimes),this[s(586)]=n(c,1),this[s(586)].setUsage(e[s(698)]),this[s(659)][s(779)]("age",this[s(586)]),this.sequenceElements=n(h,4),this[s(506)][s(794)](a),this[s(659)][s(779)]("sequenceElement",this[s(506)]),this[s(691)]=n(f,3),this[s(691)].setUsage(e[s(698)]),this[s(659)][s(779)](s(472),this[s(691)]),this[s(885)]=n(m,3),this[s(885)][s(794)](e[s(698)]),this.geometry[s(779)](s(745),this[s(885)]),this[s(619)]=n(d,3),this[s(619)].setUsage(e[s(698)]),this[s(659)][s(779)]("normal",this.normals),this.rotations=n(w,1),this[s(814)][s(794)](e[s(698)]),this[s(659)][s(779)](s(939),this[s(814)]),this.rotationalSpeeds=n(g,1),this[s(796)].setUsage(e[s(698)]),this.geometry[s(779)](s(676),this.rotationalSpeeds),this.sizes=n(S,2),this[s(948)].setUsage(e[s(698)]),this.geometry[s(779)]("size",this[s(948)]),this.colors=n(y,3),this.colors[s(794)](e[s(698)]),this[s(659)][s(779)](s(477),this[s(648)]),this[s(831)]=n(v,1),this[s(831)].setUsage(e[s(698)]),this[s(659)].setAttribute(s(562),this[s(831)]),this[s(909)]=n(x,2),this[s(909)][s(794)](e[s(698)]),this[s(659)][s(779)](s(538),this[s(909)]),this[s(491)]=n(I,3),this[s(491)][s(794)](e[s(698)]),this[s(659)].setAttribute("initialColor",this[s(491)]),this.initialAlphas=n(A,1),this[s(863)][s(794)](e[s(698)]),this[s(659)][s(779)](s(504),this.initialAlphas)}[P(702)](){const t=P;super[t(702)](),this[t(659)]&&(this[t(659)][t(702)](),this[t(659)]=null)}}class D{constructor(t,e,s,n,i){const r=P;this[r(516)]=t,this.x=e,this.y=s,this[r(608)]=n,this[r(583)]=i}}class W{constructor(t,e){const s=P;this.texture=t,this.texturePath=e,this[s(571)]=[]}getTexture(){return this.texture}[P(527)](){return this[P(694)]}getFrameSetCount(){const t=P;return this[t(571)][t(516)]}addFrameSet(t,e,s,n,i){const r=P;this[r(571)][r(662)](new D(t,e,s,n,i))}[P(766)](t){const e=P;if(t>=this[e(571)][e(516)])throw new Error(e(518));return this.frameSets[t]}}class X extends B{constructor(t,s,n=!1,i=e[P(566)],r=!0,a){const o=P;super(),this.instanced=t,this[o(871)]=null,this.material=null,this[o(777)]=null,this[o(601)]=s,this.interpolateAtlasFrames=n,this.blending=i,this[o(743)]=new(e[o(819)]),this[o(597)]=new(e[o(665)]),this[o(821)]=r,this.renderOrder=a}[P(598)](t){super.setOwner(t)}getParticleStateArray(){return this[P(871)]}setSimulateInWorldSpace(t){const e=P;super[e(765)](t),this.material&&(this.material.uniforms.simulateInWorldSpace[e(891)]=t?1:0,this[e(896)].uniformsNeedUpdate=!0)}[P(853)](){return this[P(821)]}[P(767)](t){const e=P;this.boundingBox[e(781)](t),this[e(777)]&&this.updateMeshBounds()}[P(859)](t){const e=P;this.boundingSphere[e(781)](t),this[e(777)]&&this.updateMeshBounds()}[P(937)](t,e,s){e[P(937)](t,s)}[P(693)]=function(){const t=new s;return function(){const s=ht,n=this[s(871)][s(569)]();if(this[s(821)]){n[s(743)]||(n[s(743)]=new(e[s(819)])),n[s(743)][s(781)](this[s(743)]),!n[s(597)]&&(n[s(597)]=new(e[s(665)])),t.x=(this[s(743)][s(640)].x+this[s(743)][s(953)].x)/2,t.y=(this[s(743)][s(640)].y+this[s(743)][s(953)].y)/2,t.z=(this[s(743)].min.z+this.boundingBox[s(953)].z)/2;const i=this[s(743)].max.x-t.x,r=this.boundingBox[s(953)].y-t.y,a=this[s(743)][s(953)].z-t.z,o=Math[s(953)](Math.max(i,r),a);n[s(597)][s(949)][s(781)](t),n[s(597)].radius=Math[s(824)](2*o*o)}else n[s(597)]||(n[s(597)]=new(e[s(665)])),n[s(597)][s(781)](this.boundingSphere)}}();init(t){const s=P;super[s(606)](t)&&(this[s(871)]=new j,this[s(871)].init(t,this[s(838)]),this[s(896)]=this[s(542)](null,null,null,!0,!1),this[s(896)][s(861)]=this.blending,this[s(777)]=new(e[s(513)])(this[s(871)][s(569)](),this[s(896)]),this[s(777)].frustumCulled=!0,void 0!==this.renderOrder&&(this[s(777)].renderOrder=this[s(489)]),this[s(693)](),this.owner.add(this.mesh))}[P(702)](){this.particleStateArray.dispose()}[P(542)](t,s,n,i,r){const a=P,o=[...Array(16)[a(618)]()][a(916)]((t=>new(e[a(942)])));if(this[a(601)])for(let f=0;f<this[a(601)][a(575)]();f++){const t=this.atlas.getFrameSet(f);o[f]=new(e[a(942)])(t.x,t.y,t[a(608)],t[a(583)])}const c=this[a(601)]?this[a(601)][a(544)]():null,h=this[a(746)],l=this[a(812)],u=this[a(838)]?1:0,p={atlasFrameSet:{type:a(727),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(e[a(845)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(898)](n,p),t=t||X[a(580)][a(732)](r),s=s||X.Shader[a(683)](i,r),new(e[a(827)])({uniforms:n,vertexShader:t,fragmentShader:s,transparent:!0,alphaTest:1,blending:e[a(566)],blendDstAlpha:e[a(873)],blendSrcAlpha:e[a(689)],depthTest:!0,depthWrite:!1})}static Shader={get VertexVars(){const t=P;return[t(558),t(628),"uniform int interpolateAtlasFrames; \n",t(645),t(468),t(560),t(647),t(877),t(639),t(818),"attribute vec4 sequenceElement;\n",t(543),t(656),t(733),t(632),t(654),t(488),t(754)].join("\n")},get FragmentVars(){const t=P;return["uniform int interpolateAtlasFrames; \n",t(482),t(940),"varying vec2 vUV1;\n",t(632),t(654),"varying float vFragAlpha;\n",t(829)][t(769)]("\n")},getVertexShader(t){const e=P;let s=[e(679),this.VertexVars][e(769)]("\n");return t&&(s+=e(842)),s+=["void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n",e(879),"   float atlasFrameHeight = atlasFrames.w; \n",e(658),e(944),"   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n",e(921),e(729),"   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","   int nRowSequenceElement = sequenceElement - firstRowSections; \n",e(793),"   int nRowYTile = int(SNOverHS);\n",e(735),e(806),e(524),"   float nRow = step(float(firstRowSections), float(sequenceElement)); \n",e(926),e(725),e(887),e(657),"{\n",e(707),e(855),e(523),e(653),e(498),e(770),e(577),e(596),e(552),e(613),"       viewPosition = viewMatrix * particlePosition;\n",e(844),e(574),e(906),e(663),"   int sequenceNumber = int(sequenceElement.y);\n",e(614),e(881),e(607),e(510),e(650),e(636),e(840),e(922),"   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(624),e(906),e(879),e(950),e(910),e(561),e(925),e(857),e(554),e(936),e(913),e(897),e(529),e(822),"       upperSide = baseUV.y; \n",e(906),e(481),"   float uvYOffset = atlasFrameHeight * upperSide; \n",e(813),e(554),e(505),"       float uLeftV = rotVecStep.x; \n",e(854),e(687),e(837),e(878),"   }  else { \n",e(790),e(906),e(711),"   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",e(907),e(740)][e(769)]("\n"),t&&(s+=e(479)),s+=e(887),s},getFragmentShader(t,e){const s=P;let n=s(759)+this[s(503)]+"\n";return e&&(n+=s(681)),n+="void main() { \n",e&&(n+="    \n  #include <logdepthbuf_fragment> \n"),n+=t?["   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vec4 color2 = color1; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(712),s(622)][s(769)]("\n"):[s(841),s(638),s(720),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(622)].join("\n"),n+="}\n",n}};static[P(474)](t){const s=P,n=t.atlas,i=(new o).load(n[s(694)]),r=new W(i,n[s(694)]),a=n[s(721)];for(const e of a)r.addFrameSet(e.length,e.x,e.y,e[s(608)],e[s(583)]);const c=new X(t[s(838)],r,n[s(951)]);return t[s(861)]==s(555)?c[s(861)]=e[s(849)]:c[s(861)]=e[s(566)],c}[P(546)](t){const s=P;t=t||(t=>{const e=ht;if(t[e(694)])return t[e(694)];const s=t.getTexture()[e(585)];if(s){const t=s[e(509)];if(t){const s=t.baseURI,n=t[e(739)];return n.indexOf(s)>=0?n.substr(s[e(516)],n[e(516)]-s[e(516)]):n}}});const n=[];for(let e=0;e<this[s(601)][s(575)]();e++){const t=this.atlas.getFrameSet(e);n[s(662)](t)}let i=s(644);this[s(896)][s(861)]===e[s(849)]&&(i=s(555));return{instanced:this.instanced,blending:i,atlas:{interpolateFrames:this[s(746)],texturePath:t(this[s(601)]),framesets:n}}}}class Y{constructor(){const t=P;this[t(920)]=0,this[t(521)]=0,this[t(833)]=0,this[t(612)]=0,this[t(846)]=0,this[t(902)]=0,this[t(688)]=0}update(t){return this[P(669)](t),0}[P(669)](t){const e=P;return this[e(612)]+=t,this[e(846)]=Math[e(953)](this[e(612)]-this[e(920)],0),this.age>=this[e(920)]&&(0==this[e(521)]||this.timeActive<=emissionDuration)}[P(751)](t){this[P(833)]+=t}}class J extends Y{constructor(){const t=P;super(),this[t(924)]=0,this.emissionMaximum=0}}class L extends J{constructor(t=0){const e=P;super(),this[e(589)]=t}[P(830)](t){const e=P;if(this[e(669)](t)){const t=this.emissionRate*this[e(846)]-this[e(833)];if(t>=1){const s=Math.floor(t);return this[e(751)](s),s}}return 0}static[P(474)](t){const e=P,s=new L;return s[e(589)]=t[e(589)]||0,s}toJSON(){return{emissionRate:this[P(589)]}}}class k{static[P(677)]=new k(P(677));static[P(845)]=new k(P(845));static[P(582)]=new k(P(582));static[P(942)]=new k(P(942));static[P(652)]=new k("Color");constructor(t){this[P(675)]=t}static getTypeID(t){const s=P;let n=k[s(677)];return t===c?n=k.Vector2:t===e[s(582)]?n=k[s(582)]:t===e[s(942)]?n=k[s(942)]:t===e[s(652)]&&(n=k[s(652)]),n}static loadJSONParameter(t,s){const n=P;switch(s){case e[n(845)]:return(new(e[n(845)]))[n(567)](t);case e[n(582)]:return(new(e[n(582)]))[n(567)](t);case h:return(new(e[n(942)]))[n(567)](t);case e[n(652)]:return(new(e[n(652)])).fromArray(t)}return t}}class G{constructor(t){const e=P;this[e(600)]=t,this[e(752)]=k[e(490)](t)}}class Z extends G{constructor(t,e,s,n,i,r){const a=P;super(t),this[a(741)]=e,this[a(528)]=s,this.uniformRange=n,this[a(728)]=i,this[a(785)]=r}[P(668)](t){const e=P,s=Math[e(476)]()*this.uniformRange;switch(this[e(752)]){case k[e(677)]:t=Math[e(476)]()*this[e(741)]+this[e(528)],this[e(785)]&&(t=t<0?-1:1);break;case k[e(845)]:t[e(483)](this[e(550)](s,"x"),this.generateForElement(s,"y"));break;case k[e(582)]:t[e(483)](this[e(550)](s,"x"),this[e(550)](s,"y"),this[e(550)](s,"z"));break;case k[e(942)]:t.set(this[e(550)](s,"x"),this.generateForElement(s,"y"),this.generateForElement(s,"z"),this.generateForElement(s,"w"))}return this.normalize&&t[e(785)](),t}[P(550)](t,e){const s=P;return t+Math[s(476)]()*this.range[e]+this[s(528)][e]+this.uniformOffset}[P(899)](){const t=P;return new Z(this[t(600)],this[t(741)],this[t(528)],this.uniformRange,this[t(728)],this.normalize)}static[P(630)](t){const s=P;return t instanceof c||t instanceof e[s(582)]||t instanceof e[s(942)]||t instanceof e[s(652)]?t[s(864)]():t}static[P(474)](t){const e=P;return new Z(t[e(553)],k[e(923)](t.range,t.type),k[e(923)](t[e(528)],t.type),t[e(497)]||0,t.uniformOffset||0,t.normalize)}[P(546)](t){const e=P,s={range:Z[e(630)](this[e(741)]),offset:Z[e(630)](this.offset),uniformRange:this.uniformRange,uniformOffset:this[e(728)]},n=t.getTypePath(this[e(741)][e(570)]);return null!=n&&(s[e(553)]=n),{type:t[e(731)](Z),params:s}}}class H extends R{constructor(t,e,s,n,i){const r=P;super(),this[r(741)]=t,this[r(528)]=e,this[r(497)]=s,this.uniformOffset=n,this[r(785)]=i,this[r(626)]=new Z(0,this[r(741)],this[r(528)],this.uniformRange,this[r(728)],this[r(785)])}[P(874)](t){const e=P;t[e(828)]=this[e(626)][e(668)]()}static[P(474)](t,e){const s=P;return new H(e.range,e[s(528)],e.uniformRange,e[s(728)],e.normalize)}[P(546)](){const t=P;return{range:this[t(741)],offset:this.offset,uniformRange:this[t(497)],uniformOffset:this[t(728)],normalize:this[t(785)]}}}class $ extends R{constructor(t){const e=P;super(),this[e(626)]=t.clone()}[P(874)](t){const e=P;t[e(939)]=this[e(626)][e(668)](t[e(939)])}static fromJSON(t,e){const s=P,n=e[s(626)][s(553)].fromJSON(e[s(626)][s(882)]);return new $(n)}[P(546)](t){const e=P;return{generator:this.generator[e(546)](t)}}}class Q extends R{constructor(t,e,s,n,i){const r=P;super(),this[r(741)]=t,this.offset=e,this.uniformRange=s,this[r(728)]=n,this[r(785)]=i,this[r(626)]=new Z(0,this.range,this.offset,this[r(497)],this[r(728)],this[r(785)])}[P(874)](t){const e=P;t.rotationalSpeed=this[e(626)].generate()}static fromJSON(t,e){const s=P;return new Q(e[s(741)],e[s(528)],e.uniformRange,e[s(728)],e[s(785)])}[P(546)](){const t=P;return{range:this.range,offset:this[t(528)],uniformRange:this[t(497)],uniformOffset:this[t(728)],normalize:this.normalize}}}class K extends R{constructor(t,s){const n=P;super(),this[n(517)]=new Z(e[n(582)],t,s,0,0,!1)}[P(874)](t){const e=P;this[e(517)][e(668)](t[e(678)])}static[P(474)](t,s){const n=P;return new K((new(e[n(582)]))[n(567)](s[n(741)]),(new(e[n(582)])).fromArray(s[n(528)]))}[P(546)](){const t=P;return{range:this.randomGenerator[t(741)][t(864)](),offset:this[t(517)][t(528)].toArray()}}}class tt extends R{constructor(t){const e=P;super(),this[e(626)]=t.clone()}[P(874)](t){const e=P;this[e(626)][e(668)](t[e(621)]),t[e(538)][e(781)](t[e(621)])}static fromJSON(t,e){const s=P,n=e[s(626)].type[s(474)](e[s(626)][s(882)]);return new tt(n)}[P(546)](t){return{generator:this[P(626)].toJSON(t)}}}class et extends R{constructor(t,s,n,i,r=!0){const a=P;super(),this[a(703)]=new Z(e[a(582)],t,s,0,0,!0),this[a(935)]=new Z(0,n,i,0,0,!1),this.normalizeDirection=r}[P(874)](t){const e=P;this[e(703)].generate(t[e(472)]),this[e(792)]&&t[e(472)].normalize(),t[e(472)][e(858)](this[e(935)][e(668)]())}static[P(474)](t,s){const n=P;return new et((new(e[n(582)]))[n(567)](s[n(741)]),(new(e[n(582)])).fromArray(s[n(528)]),s[n(915)],s[n(673)])}[P(546)](){const t=P;return{range:this[t(703)][t(741)][t(864)](),offset:this[t(703)][t(528)].toArray(),speedRange:this[t(935)][t(741)],speedOffset:this[t(935)][t(528)]}}}class st extends R{constructor(t,e=!1){const s=P;super(),this.setParticleSequences(t),this[s(603)]=e}[P(541)](t){this[P(696)]=t}initializeState(t){const e=P,s=this[e(696)][e(851)](),n=s.length*Math.random(),i=s[Math.floor(n)],r=this[e(696)].getSequence(i),a=t[e(633)];this.reverse?a.x=r[e(516)]-1:a.x=r.start,a.y=r.id,a.z=r.start,a.w=r[e(516)],t.progressType=A.Sequence}static[P(474)](t,e){return new st(t[P(799)](),e.reverse)}[P(546)](){return{reverse:this[P(603)]}}}class nt extends O{constructor(t,e,s=!1,n=!1){const i=P;super(),this[i(696)]=t,this[i(500)]=e,this[i(493)]=s,this[i(603)]=n}[P(502)](t,e){const s=P,n=t[s(633)],i=this.particleSequences[s(860)](n.y),r=e/this[s(500)];if(this.reverse){if(n.x-=r,n.x<i[s(825)]&&(n.x=i[s(825)]+i.length,!this[s(493)]))return!1}else if(n.x+=r,n.x>=i[s(825)]+i.length&&(n.x=i[s(825)],!this[s(493)]))return!1;return!0}static[P(474)](t,e){const s=P;return new nt(t.getParticleSequences(),e.speed,e[s(493)],e.reverse)}[P(546)](){const t=P;return{speed:this[t(500)],loop:this[t(493)],reverse:this[t(603)]}}}class it{constructor(t,e){const s=P;this[s(631)]=[],this[s(545)]=[],this[s(655)]=k.getTypeID(t),e?this.interpolator=e:this[s(763)]=this[s(810)](this[s(655)])}*[Symbol[P(616)]](){const t=P;let e=0;for(;e<this[t(919)]();)yield{element:this.elements[e],tValue:this.tValues[e]},e++}[P(919)](){const t=P;return this[t(631)][t(516)]}[P(487)](t){const e=P;if(t>=this.getElementCount())throw new Error(e(699));return this.elements[t]}[P(576)](t){const e=P;if(t>=this[e(919)]())throw new Error(e(747));return this[e(545)][t]}[P(946)](t,e){const s=P;this[s(631)][s(662)](t),this.tValues[s(662)](e)}getInterpolatedElement(t,e){const s=P;return this.interpolator(t,this[s(631)],this[s(545)],e)}[P(810)]=function(){const t=P,s={lowerIndex:0,upperIndex:0,localT:0},n=new c,i=new(e[t(582)]),r=new(e[t(942)]),a=new(e[t(652)]),o=e=>(n,i,r,a)=>{const o=t;it[o(620)](r,n,s),e[o(781)](i[s[o(494)]])[o(858)](s[o(835)]),a[o(781)](i[s[o(642)]])[o(858)](1-s[o(835)])[o(755)](e)};return function(e){const c=t;switch(e){case k.Default:return(t,e,n)=>{const i=ht;return it[i(620)](n,t,s),(1-s[i(835)])*e[s[i(642)]]+s[i(835)]*e[s[i(494)]]};case k.Vector2:return o(n);case k[c(582)]:return o(i);case k[c(942)]:return o(r);case k[c(652)]:return o(a)}}}();static[P(620)](t,e,s){const n=P,i=t[n(516)];if(0===i)return s[n(642)]=-1,s[n(494)]=-1,void(s[n(835)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(642)]=V[n(807)](a,0,i-1),s.upperIndex=V[n(807)](o,0,i-1);const c=t[a],h=t[o];s[n(835)]=(e-c)/(h-c)}}class rt extends O{constructor(t,e=!1){const s=P;super(),this[s(627)]=e,this[s(929)]=new it(t)}addElement(t,e){const s=P;this.interpolationElements[s(946)](t,e)}[P(578)](t){const e=P;for(const s of t)this[e(929)][e(946)](s[0],s[1])}[P(780)](t,e){const s=P;for(const n of e){const[...e]=n[0];this[s(929)].addElement(new t(...e),n[1])}}[P(808)](t,e){const s=P;let n=0;switch(t.progressType){case A[s(868)]:n=0!=t[s(828)]?t[s(612)]/t[s(828)]:t[s(612)];break;case A[s(839)]:n=t[s(633)].x/t.sequenceElement.w}return this[s(929)][s(783)](n,e)}}class at extends rt{constructor(t=!1){super(0,t)}addElementsFromParameters(t){super[P(578)](t)}[P(502)](t){const e=P;return this[e(627)]?t[e(562)]=t[e(504)]*this[e(808)](t,t[e(562)]):t[e(562)]=this[e(808)](t,t[e(562)]),!0}static fromJSON(t,e){return new at(e[P(627)])}toJSON(){const t=P;return{params:{relativeToInitialValue:this[t(627)]},elements:[...this[t(929)]][t(916)]((e=>[e[t(590)],e[t(667)]]))}}}class ot extends rt{constructor(t=!1){super(e[P(845)],t)}addElementsFromParameters(t){const s=P;super[s(780)](e[s(845)],t)}[P(502)]=function(){const t=new c;return function(e){const s=ht;return this.getInterpolatedValue(e,t),this[s(627)]?e[s(621)].set(e[s(538)].x*t.x,e.initialSize.y*t.y):e.size.copy(t),!0}}();static[P(474)](t,e){return new ot(e.relativeToInitialValue)}[P(546)](){const t=P;return{params:{relativeToInitialValue:this[t(627)]},elements:[...this[t(929)]].map((e=>[e.element[t(864)](),e[t(667)]]))}}}class ct extends rt{constructor(t=!1){super(e[P(652)],t)}[P(515)](t){super[P(780)](n,t)}[P(502)]=function(){const t=new n;return function(e){const s=ht;return this[s(808)](e,t),this[s(627)]?e[s(477)][s(850)](e[s(605)].r*t.r,e[s(605)].g*t.g,e.initialColor.b*t.b):e[s(477)][s(781)](t),!0}}();static[P(474)](t,e){return new ct(e.relativeToInitialValue)}[P(546)](){const t=P;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(929)]][t(916)]((e=>[e[t(590)][t(864)](),e.tValue]))}}}function ht(t,e){const s=M();return(ht=function(t,e){return s[t-=468]})(t,e)}class lt extends O{constructor(t){const e=P;super(),this[e(626)]=t[e(899)]()}[P(515)](t){const e=P;super[e(780)](THREE[e(582)],t)}[P(502)](t){const e=P;return this[e(626)][e(668)](t[e(745)]),!0}static[P(474)](t,e){const s=P,n=e[s(626)].type[s(474)](e[s(626)][s(882)]);return new lt(n)}[P(546)](t){return{generator:this[P(626)].toJSON(t)}}}class ut extends G{constructor(t,n,i,r,a,o,c,h,l,u,p,f){const m=P;super(e[m(582)]),this[m(804)]=t,this.offsetTheta=n,this[m(470)]=i,this[m(593)]=r,this[m(672)]=a,this[m(556)]=o,this[m(786)]=c,this[m(514)]=h,this[m(496)]=l,this[m(776)]=u,this[m(692)]=p,this[m(617)]=f,this[m(816)]=(new s)[m(483)](0,1,0)}[P(668)](t){const e=P;this[e(816)][e(483)](0,1,0);const s=Math[e(476)]()*this[e(804)]+this[e(664)],n=Math.random()*this.rangePhi+this[e(593)],i=Math[e(802)](s),r=Math.sin(s),a=Math[e(802)](n),o=Math[e(880)](n);t[e(483)](i,0,-r),t[e(858)](a),this[e(816)].multiplyScalar(o),t.add(this[e(816)]),t[e(785)]();const c=Math[e(476)]()*this.rangeRadius+this[e(556)];t[e(858)](c),t.x*=this[e(786)],t.y*=this[e(514)],t.z*=this[e(496)],t.x+=this[e(776)],t.y+=this.offsetY,t.z+=this[e(617)]}[P(899)](){const t=P;return new ut(this[t(804)],this[t(664)],this[t(470)],this[t(593)],this[t(672)],this[t(556)],this[t(786)],this[t(514)],this[t(496)],this[t(776)],this[t(692)],this.offsetZ)}static[P(474)](t){const e=P;return new ut(t[e(804)],t[e(664)],t[e(470)],t.offsetPhi,t[e(672)],t.offsetRadius,t[e(786)],t[e(514)],t.scaleZ,t[e(776)],t[e(692)],t[e(617)])}[P(546)](t){const e=P;return{type:t[e(731)](ut),params:{rangeTheta:this[e(804)],offsetTheta:this.offsetTheta,rangePhi:this[e(470)],offsetPhi:this[e(593)],rangeRadius:this[e(672)],offsetRadius:this.offsetRadius,scaleX:this[e(786)],scaleY:this[e(514)],scaleZ:this[e(496)],offsetX:this[e(776)],offsetY:this.offsetY,offsetZ:this.offsetZ}}}}class pt{constructor(){}}class ft extends pt{constructor(t,n,i,r,a,o,c=void 0){const h=P;super(),this[h(532)]=null,this[h(744)]=null,this[h(705)]=performance[h(938)]()/1e3,this.lastIntensityFlickerTime=this[h(705)],this.lastPositionFlickerTime=this[h(705)],this.lastIntensityAdjuster=1,this[h(787)]=1,this[h(784)]=new(e[h(582)]),this[h(905)]=new s,this.intensity=1,this.intensityFlux=2,this[h(884)]=t,this[h(606)](t,n,i,r,a,o,c)}[P(606)](t,s,i,r,a,o,c=void 0){const h=P;this[h(532)]=new(e[h(815)]),t[h(755)](this[h(532)]),r=r||new n,a=a||0,null!=o&&null!=o||(o=2);const u=!!c;return this[h(744)]=new l(16777215,2,0,1),this.light[h(477)].copy(r),this[h(744)][h(847)]=a,this[h(744)].decay=o,this.light[h(791)]=u,u&&(this.light[h(772)].mapSize.width=c[h(551)]||512,this[h(744)][h(772)][h(551)][h(583)]=c.mapSize||512,this.light.shadow[h(889)].near=c[h(722)]||.5,this.light[h(772)].camera[h(867)]=c[h(900)]||500,this.light[h(772)][h(549)]=c.bias||1e-4,this.light[h(772)][h(933)]=c[h(507)]||1),this[h(532)][h(755)](this[h(744)]),this[h(480)]=s,this[h(809)]=i,this[h(744)]}[P(702)](){const t=P;this[t(884)][t(548)](this.owner)}[P(738)](){return this[P(744)]}[P(526)](t){this.intensity=t}[P(830)](t){const e=P,s=t-this[e(753)],n=1/8,i=this[e(809)];if(s>n){this[e(753)]=t;let s=1+2*(Math[e(476)]()-.5)*i*n;const r=s-this[e(697)];s=this.lastIntensityAdjuster+r,this[e(697)]=this[e(787)],this[e(787)]=V[e(807)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(697)]+t*this[e(787)];this[e(744)].intensity=i*this[e(480)]}if(t-this[e(875)]>.0625){this[e(875)]=t;const s=t-this[e(705)];this[e(905)][e(483)](Math.random()-.5,Math[e(476)]()-.5,Math[e(476)]()-.5),this[e(905)][e(858)](s),this.positionAdjuster[e(755)](this[e(784)]),this[e(905)].multiplyScalar(.5),this[e(532)][e(678)].copy(this[e(905)]),this[e(784)][e(781)](this.positionAdjuster),this[e(705)]=t}}}class mt{constructor(){const t=P;this[t(508)]={default:{}},this[t(629)]={},this[t(724)]=0}[P(469)](t,e){this.addTypeToNamespace("default",t,e)}addTypeToNamespace(t,e,s){const n=P;if(!this.jsonTypes[t])throw new Error(n(718));if(this[n(508)][t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this[n(848)](s,e,t)&&(this[n(508)][t][e]=s)}[P(501)](t,e){const s=P;if(this[s(508)][t])throw new Error(s(559));this.jsonTypes[t]=e;for(const n in e)if(!e[s(609)]||e[s(609)](n)){const i=e[n];this[s(848)](i,n,t)}}checkAndAddTypeName(t,e,s){const n=P;if(typeof t===n(836)){const i=this[n(724)]++;t[n(760)]=i,this[n(629)][i]={namespace:s,typeName:e}}}getType(t,e){const s=P;if(!this[s(508)][t])throw new Error(s(535));if(!this.jsonTypes[t][e])throw new Error(s(945));return this[s(508)][t][e]}[P(856)](t){return this[P(629)][t.___photonsTypeID]}[P(731)](t){const e=P,s=this[e(856)](t);if(s)return s[e(723)]+"."+s[e(932)]}parseNamespaceAndTypename(t){const e=t[P(674)]("."),s=e[0];e.splice(0,1);return{namespace:s,typeName:e.join(".")}}[P(710)](t){const e=P,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(870)](s,n)}}function dt(t){function e(t){const s=ht;if(typeof t===s(572))return function(t){}.constructor(s(568))[s(894)]("counter");1!==(""+t/t)[s(516)]||t%20==0?function(){return!0}[s(570)]("debu"+s(761))[s(805)](s(680)):function(){return!1}.constructor("debu"+s(761))[s(894)](s(584)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const wt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:lt,AnimatedSpriteRenderer:X,Atlas:W,BaseParticleStateInitializer:E,BaseParticleStateOperator:C,BoxPositionInitializer:K,ColorInterpolatorOperator:ct,ConstantParticleEmitter:L,FlickerLight:ft,JSONTypeStore:mt,LifetimeInitializer:H,Manager:U,OpacityInterpolatorOperator:at,ParticleStateArray:z,ParticleSystem:_,ParticleSystemState:N,RandomGenerator:Z,RandomVelocityInitializer:et,Renderer:B,RotationInitializer:$,RotationalSpeedInitializer:Q,SequenceInitializer:st,SequenceOperator:nt,SizeInitializer:tt,SizeInterpolatorOperator:ot,SphereRandomGenerator:ut},Symbol.toStringTag,{value:"Module"})),gt=vt;!function(t,e){const s=vt,n=It();for(;;)try{if(953640===-parseInt(s(304))/1*(parseInt(s(259))/2)+-parseInt(s(282))/3+-parseInt(s(281))/4*(-parseInt(s(266))/5)+parseInt(s(244))/6+parseInt(s(267))/7+-parseInt(s(274))/8*(-parseInt(s(313))/9)+-parseInt(s(271))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const St=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[vt(250)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){St(this,(function(){const t=vt,e=new RegExp(t(294)),s=new RegExp(t(275),"i"),n=Pt(t(255));e[t(248)](n+t(239))&&s[t(248)](n+t(279))?Pt():n("0")}))()}();const yt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function vt(t,e){const s=It();return vt=function(t,e){return s[t-=232]},vt(t,e)}yt(void 0,(function(){const t=vt,e=function(){const t=vt;let e;try{e=Function(t(234)+t(285)+");")()}catch(s){e=window}return e}(),s=e[t(246)]=e[t(246)]||{},n=["log",t(238),"info",t(253),"exception",t(283),t(252)];for(let i=0;i<n[t(249)];i++){const e=yt[t(276)][t(298)].bind(yt),r=n[i],a=s[r]||e;e[t(240)]=yt[t(263)](yt),e.toString=a[t(306)][t(263)](a),s[r]=e}}))();const xt=w({__name:gt(265),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const n=gt,i=t,r=new U,a=new(wt[n(237)]);a.addNamespace("THREE",e),a[n(286)](n(269),wt);const{renderer:c,camera:h,scene:l}=m(),u=new(e[n(309)])(...i.position);r.addParticleSystem(((t,s)=>{const i=n,r=new f;r.position[i(247)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(e[i(284)]))[i(280)](a),h=new(wt[i(296)])(o,a);h.addFrameSet(1,0,0,1,1);const l=new X(!0,h,!0,e[i(245)]),u=new(wt[i(297)])(r,l,c[i(291)]);u[i(255)](150),u[i(295)](new(wt[i(311)])(6));const p=new Z(e[i(262)],new(e[i(262)])(0,0),new(e[i(262)])(.15*t,.15*t),0,0,!1);u[i(251)](new(wt[i(312)])(3,1,0,0,!1)),u[i(251)](new(wt[i(287)])(p)),u.addParticleStateInitializer(new(wt[i(293)])(new(e[i(309)])(.05*t,0,.05*t),new(e[i(309)])(-.025*t,0,-.025*t))),u[i(251)](new et(new(e[i(309)])(.4*t,.5*t,.4*t),new(e[i(309)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));u.addParticleStateOperator(new(wt[i(261)]))[i(288)]([[0,0],[.7,.25],[.9,.75],[0,1]]);u.addParticleStateOperator(new(wt[i(233)])(!0))[i(242)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const m=new(wt[i(254)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return u[i(300)](new(wt[i(301)])(m)),u.setSimulateInWorldSpace(!0),u[i(270)](),u})(i[n(308)],u)),r[n(290)](((t,i)=>{const r=n,a=new(e[r(272)]);a[r(236)][r(247)](i);const h="./plugins/digitalCity/image/fireF/base_flame.png",l=(new o).load(h),u=new(wt[r(296)])(l,h);u[r(235)](18,0,0,.125,.25);const p=new(wt[r(264)])(!0,u,!0),f=new(wt[r(297)])(a,p,c[r(291)]);f[r(255)](50),f[r(295)](new(wt[r(311)])(10)),f.addParticleSequence(0,18);const m=f.getParticleSequences();f[r(251)](new(wt[r(312)])(0,0,0,0,!1)),f[r(251)](new $(new(wt[r(292)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),f.addParticleStateInitializer(new(wt[r(299)])(1,-1,0,0,!1)),f.addParticleStateInitializer(new(wt[r(287)])(new(wt[r(292)])(e[r(262)],new(e[r(262)])(.25*t,.25*t),new(e[r(262)])(.5*t,.5*t),0,0,!1))),f.addParticleStateInitializer(new(wt[r(293)])(new(e[r(309)])(.05*t,0,.05*t),new(e[r(309)])(-.025*t,0,-.025*t))),f[r(251)](new(wt[r(258)])(new(e[r(309)])(.05*t,.4*t,.05*t),new(e[r(309)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),f[r(251)](new st(m)),f.addParticleStateOperator(new(wt[r(260)])(m,.07,!1));f[r(300)](new(wt[r(261)]))[r(288)]([[0,0],[.3,.25],[.3,.5],[0,1]]);f[r(300)](new(wt[r(302)])(!0))[r(242)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return f.addParticleStateOperator(new ct(!0))[r(242)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),f.addParticleStateOperator(new(wt[r(301)])(new(wt[r(292)])(s,new(e[r(309)])(0,0,0),new(e[r(309)])(0,1.5*t,0),0,0,!1))),f[r(257)](!0),f[r(270)](),f})(i.scale,u)),r[n(290)](((t,i)=>{const r=n,a=new f;a.position[r(247)](i);const o="./plugins/digitalCity/image/fireF/bright_flame.png",h=(new(e[r(284)]))[r(280)](o),l=new(wt[r(296)])(h,o);l[r(235)](16,0,0,212/1024,.25);const u=new(wt[r(264)])(!0,l,!0),p=new _(a,u,c.value);p[r(255)](20),p[r(295)](new L(5)),p[r(289)](0,16);const m=p[r(268)]();p[r(251)](new(wt[r(312)])(0,0,0,0,!1)),p[r(251)](new(wt[r(278)])(new(wt[r(292)])(0,Math.PI,-Math.PI/2,0,0,!1))),p[r(251)](new Q(Math.PI/2,-Math.PI/4,0,0,!1)),p[r(251)](new tt(new Z(e[r(262)],new(e[r(262)])(0,0),new(e[r(262)])(0,0),.2*t,.65*t,!1))),p.addParticleStateInitializer(new(wt[r(293)])(new(e[r(309)])(.1*t,0,.1*t),new(e[r(309)])(-.05*t,0,-.05*t))),p[r(251)](new(wt[r(258)])(new(e[r(309)])(.02*t,.4*t,.02*t),new(e[r(309)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),p.addParticleStateInitializer(new(wt[r(277)])(m)),p[r(300)](new(wt[r(260)])(m,.1,!1));p[r(300)](new(wt[r(261)]))[r(288)]([[0,0],[.6,.2],[.5,.75],[0,1]]);p[r(300)](new(wt[r(302)])(!0))[r(242)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return p[r(300)](new ct(!0))[r(242)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),p[r(300)](new lt(new(wt[r(292)])(e[r(309)],new s(0,0,0),new s(0,1.5*t,0),0,0,!1))),p.setSimulateInWorldSpace(!0),p[r(270)](),p})(i.scale,u)),r[n(241)](((t,s=10)=>{const i=n,r=new(e[i(272)]);l[i(291)].add(r),r[i(236)][i(247)](t);return new ft(r,s,2,(new(e[i(307)]))[i(243)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(u,100));const{onBeforeLoop:p}=d();return p((()=>{const t=n;r.update(),r[t(273)](c[t(291)],h[t(291)])})),(t,e)=>null}});function It(){const t=["addNamespace","SizeInitializer","addElements","addParticleSequence","addParticleSystem","value","RandomGenerator","BoxPositionInitializer","function *\\( *\\)","setEmitter","Atlas","ParticleSystem","prototype","RotationalSpeedInitializer","addParticleStateOperator","AccelerationOperator","SizeInterpolatorOperator","debu","202744uerraP","while (true) {}","toString","Color","scale","Vector3","stateObject","ConstantParticleEmitter","LifetimeInitializer","1746WghEIP","call","ColorInterpolatorOperator","return (function() ","addFrameSet","position","JSONTypeStore","warn","chain","__proto__","addComponent","addElementsFromParameters","setRGB","9689430MfHZxG","AdditiveBlending","console","copy","test","length","apply","addParticleStateInitializer","trace","error","SphereRandomGenerator","init","gger","setSimulateInWorldSpace","RandomVelocityInitializer","6HaWpHt","SequenceOperator","OpacityInterpolatorOperator","Vector2","bind","AnimatedSpriteRenderer","fireF","5320030esbGRd","9253615CGIbdF","getParticleSequences","Photons","start","21949120NsLjfd","Object3D","render","23696dCdnOI","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","SequenceInitializer","RotationInitializer","input","load","4OKJzWD","2456100iCIHCv","table","TextureLoader",'{}.constructor("return this")( )'];return(It=function(){return t})()}function Pt(t){function e(t){const s=vt;if("string"==typeof t)return function(t){}[s(276)](s(305))[s(250)]("counter");1!==(""+t/t)[s(249)]||t%20==0?function(){return!0}[s(276)](s(303)+s(256))[s(232)]("action"):function(){return!1}[s(276)](s(303)+s(256))[s(250)](s(310)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function At(){const t=["9jBLdFo","prototype","while (true) {}","call","string","value","16398MZoKdA","constructor",'{}.constructor("return this")( )',"context","console","info","debu","position","gger","4HRXrba","apply","counter","return (function() ","exception","log","$refs","chain","action","tcRef","2985672oUQVsf","1195976axDylP","input","1528595MvyoMU","fireF","test","pagesShowRef","set","455ddLQOF","table","warn","__proto__","11713930XzPwyn","length","481172LnObrQ","perspectiveCameraRef","init","33VRMINz","3pAldQX","camera","toString","function *\\( *\\)","1618512VbCaTb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind"];return(At=function(){return t})()}const Ft=bt;!function(t,e){const s=bt,n=At();for(;;)try{if(616031===-parseInt(s(391))/1+parseInt(s(378))/2*(parseInt(s(395))/3)+parseInt(s(367))/4*(-parseInt(s(380))/5)+-parseInt(s(358))/6*(-parseInt(s(385))/7)+-parseInt(s(349))/8*(-parseInt(s(352))/9)+parseInt(s(389))/10+-parseInt(s(394))/11*(parseInt(s(377))/12))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const zt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[bt(368)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function bt(t,e){const s=At();return bt=function(t,e){return s[t-=348]},bt(t,e)}!function(){zt(this,(function(){const t=bt,e=new RegExp(t(348)),s=new RegExp(t(350),"i"),n=Et(t(393));e[t(382)](n+t(374))&&s.test(n+t(379))?Et():n("0")}))()}();const Tt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[bt(368)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Tt(void 0,(function(){const t=bt,e=function(){const t=bt;let e;try{e=Function(t(370)+t(360)+");")()}catch(s){e=window}return e}(),s=e[t(362)]=e[t(362)]||{},n=[t(372),t(387),t(363),"error",t(371),t(386),"trace"];for(let i=0;i<n[t(390)];i++){const e=Tt[t(359)][t(353)][t(351)](Tt),r=n[i],a=s[r]||e;e[t(388)]=Tt[t(351)](Tt),e[t(397)]=a.toString[t(351)](a),s[r]=e}}))();const Rt=w({__name:Ft(381),setup(e){const s=g();return S((()=>{const t=bt;s.value&&(s.value.$refs[t(376)]?s.value[t(373)].tcRef[t(361)][t(396)][t(357)][t(365)].set(580,360,500):s[t(357)][t(373)][t(392)]&&s.value[t(373)].perspectiveCameraRef.position[t(384)](580,360,500))})),(e,n)=>{const i=bt;return y(),v(t,{ref_key:i(383),ref:s},{ability:x((()=>[I(xt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Et(t){function e(t){const s=bt;if(typeof t===s(356))return function(t){}.constructor(s(354))[s(368)](s(369));1!==(""+t/t)[s(390)]||t%20==0?function(){return!0}.constructor(s(364)+s(366))[s(355)](s(375)):function(){return!1}.constructor(s(364)+s(366))[s(368)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Rt as default};
