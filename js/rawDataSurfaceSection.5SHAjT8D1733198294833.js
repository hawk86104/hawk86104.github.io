var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,o=(t,o)=>{for(var s in o||(o={}))e.call(o,s)&&a(t,s,o[s]);if(n)for(var s of n(o))r.call(o,s)&&a(t,s,o[s]);return t};import{U as s,c as i}from"./@tresjs.sklxXn0u1733198294833.js";import{u,a as c,_ as l}from"./colorList.nP2LkVTh1733198294833.js";import{_ as p,cd as f,ac as m,a0 as d,ck as h,cV as g}from"./three.8iJMi2lU1733198294833.js";import{z as x}from"./three-custom-shader-material.GYlVajj-1733198294833.js";import{P as y}from"./tweakpane.yHWGBmom1733198294833.js";import{d as w,b,a as _,r as v,w as I,o as j,D as z,J as D,u as A,j as S,g as T,x as R,F as E,V as O,f as L,H as k,I as M,m as V}from"./@vue.-THQH3GC1733198294833.js";import{z as B,x as C,a6 as U,a7 as G,a8 as F,N as P,a9 as Z,aa as Q,t as Y,$,ab as q,v as K,_ as H}from"./@fesjs.X1U4uwri1733198294833.js";import"./@vueuse.N_fQXUYA1733198294833.js";import"./pinia.ZJJJwhVu1733198294833.js";import"./vue-demi.C4xddsk91733198294833.js";import"./vue-router.H2Xo87u11733198294833.js";import"./lodash-es.kYt-_xTG1733198294833.js";import"./@qlin.yHhFDldE1733198294833.js";import"./@floating-ui.BPbuo5Gx1733198294833.js";import"./@juggle.7yjBMqoW1733198294833.js";const W=J;!function(t,n){const e=J,r=st();for(;;)try{if(951362===parseInt(e(239))/1*(parseInt(e(294))/2)+parseInt(e(228))/3*(-parseInt(e(253))/4)+parseInt(e(217))/5+-parseInt(e(280))/6*(parseInt(e(216))/7)+-parseInt(e(241))/8+parseInt(e(207))/9*(parseInt(e(250))/10)+-parseInt(e(288))/11*(-parseInt(e(242))/12))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(211)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){N(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(256),"i"),r=ut(t(272));n.test(r+t(291))&&e[t(236)](r+t(240))?ut():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(211)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(t,n){const e=st();return(J=function(t,n){return e[t-=207]})(t,n)}X(void 0,(function(){const t=J;let n;try{n=Function(t(246)+t(261)+");")()}catch(a){n=window}const e=n.console=n[t(295)]||{},r=[t(263),t(283),t(245),t(252),t(259),t(234),t(214)];for(let o=0;o<r[t(238)];o++){const n=X.constructor[t(231)][t(251)](X),a=r[o],s=e[a]||n;n[t(208)]=X[t(251)](X),n[t(255)]=s[t(255)][t(251)](s),e[a]=n}}))();const tt=["scale",W(244)],nt=["scale"],et=[W(265)],rt=[W(265)],at=[W(265)],ot=[W(265)];function st(){const t=["copy","computeMinMax","apply","change","xLength","trace","z剖面","77zvyLrv","4841140TQDiOg","zLength","x轴缩放","debu","uniforms","Matrix4","TresGroup","updateTransferFunction","x剖面","colorsStops","y轴缩放","5339526WTsGUQ","inverseMatrix","zExtent","prototype","repaint","z轴缩放","table","extractSlice","test","byteArray","length","2siDbQu","input","8919320uWAVdI","7145412yTLFBS","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","visible","info","return (function() ","LineSegments","addBinding","windowLow","190xGKBtG","bind","error","4RjhCjv","repaintAllSlices","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","invert","gger","exception","upperThreshold",'{}.constructor("return this")( )',"stateObject","log","lowerThreshold","object","yLength","\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ","floor","primitive","action","index","init","yExtent","eTexture","min","windowHigh","constructor","material","xExtent","212442AICWYN","scene","y剖面","warn","BoxGeometry","call","dataType","value","33Tjrdva","string","max","chain","RASDimensions","mesh","1320978LBqmiy","console","title","75807qDKDPD","__proto__"];return(st=function(){return t})()}const it=w({__name:W(281),setup(t){const n=W,e=b(-1),r=b(-1),a=b(.6),s=_((()=>{const t=J;return!(e.value<=.01&&e[t(287)]>=-.01)&&(!(r[t(287)]<=.01&&r[t(287)]>=-.01)&&!(a.value<=.01&&a.value>=-.01))})),i=u(),l=c(),w=(t=>{const n=J,e=new g(l[n(279)],l[n(273)],l[n(230)],l[n(286)][l.selectDataType][n(296)],l.byteArray);e.spacing=[1,1,1],e[n(292)]=[Math[n(268)](e[n(213)]),Math[n(268)](e[n(266)]),Math[n(268)](e[n(218)])],e.matrix=new(p[n(222)]),e[n(229)]=new(p[n(222)]),e[n(229)][n(209)](e.matrix)[n(257)]();const r=e[n(210)](),a=r[0],o=r[1];return e[n(249)]=a,e.windowHigh=o,e[n(264)]=a,e[n(260)]=o,e})(l[n(237)]),S=new(p[n(247)])(new f(new(p[n(284)])(w[n(213)],w[n(266)],w[n(218)])),new m({color:6710886})),T=v({x:Math.floor(w[n(292)][0]/2),y:Math[n(268)](w[n(292)][1]/2),z:Math.floor(w[n(292)][2]/4)});w[n(276)]=136;const R=w[n(235)]("x",T.x),E=w.extractSlice("y",T.y),O=w[n(235)]("z",T.z),L={vertexShader:n(243),fragmentShader:n(267),uniforms:{eTexture:{value:i[n(224)]()}},silent:!0,flatShading:!0,side:d,transparent:!0,depthTest:!0,depthWrite:!1,blending:h};R.mesh[n(278)]=new x(o({baseMaterial:R.mesh.material},L)),E.mesh[n(278)]=new x(o({baseMaterial:E[n(293)][n(278)]},L)),O[n(293)].material=new x(o({baseMaterial:O.mesh.material},L));const k=new y;return k.addBinding(e,"value",{label:n(219),min:-2,max:2,step:.01}),k[n(248)](r,n(287),{label:n(227),min:-2,max:2,step:.01}),k[n(248)](a,n(287),{label:n(233),min:-2,max:2,step:.01}),k.addBinding(T,"x",{label:n(225),min:0,max:w[n(292)][0],step:1}),k.addBinding(T,"y",{label:n(282),min:0,max:w.RASDimensions[1],step:1}),k[n(248)](T,"z",{label:n(215),min:0,max:w[n(292)][2],step:1}),k[n(248)](w,n(264),{label:n(264),min:w[n(275)],max:w.max,step:1}).on("change",(()=>{w[n(254)]()})),k[n(248)](w,"upperThreshold",{label:n(260),min:w[n(275)],max:w.max,step:1}).on("change",(()=>{w[n(254)]()})),k[n(248)](w,"windowLow",{label:n(249),min:w[n(275)],max:w[n(290)],step:1}).on(n(212),(()=>{w[n(254)]()})),k.addBinding(w,n(276),{label:n(276),min:w[n(275)],max:w[n(290)],step:1}).on(n(212),(()=>{w[n(254)]()})),I((()=>T),(t=>{const e=n;R[e(271)]=t.x,R[e(232)][e(285)](R),E[e(271)]=t.y,E[e(232)].call(E),O[e(271)]=t.z,O.repaint[e(285)](O)}),{deep:!0}),I((()=>i[n(226)]),(()=>{const t=n;R[t(293)].material.uniforms[t(274)][t(287)]=i[t(224)](),E.mesh[t(278)][t(221)][t(274)].value=i[t(224)](),O[t(293)][t(278)].uniforms[t(274)][t(287)]=i[t(224)]()}),{deep:!0,immediate:!0}),(t,o)=>{const i=n;return j(),z("TresGroup",{scale:[e[i(287)],r[i(287)],a.value],visible:s[i(287)]},[D(i(223),{scale:[1/A(w)[i(213)],1/A(w).xLength*A(w)[i(213)]/A(w)[i(266)],1/A(w).xLength*A(w)[i(213)]/A(w)[i(218)]]},[D(i(269),{object:A(R)[i(293)],renderOrder:1},null,8,et),D(i(269),{object:A(E)[i(293)],renderOrder:2},null,8,rt),D(i(269),{object:A(O)[i(293)],renderOrder:3},null,8,at),D("primitive",{object:A(S)},null,8,ot)],8,nt)],8,tt)}}});function ut(t){function n(t){const e=J;if(typeof t===e(289))return function(t){}[e(277)]("while (true) {}")[e(211)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(277)](e(220)+e(258))[e(285)](e(270)):function(){return!1}[e(277)](e(220)+e(258))[e(211)](e(262)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ct=mt;!function(t,n){const e=mt,r=dt();for(;;)try{if(515698===parseInt(e(103))/1+-parseInt(e(140))/2*(-parseInt(e(111))/3)+parseInt(e(127))/4*(parseInt(e(132))/5)+parseInt(e(139))/6*(-parseInt(e(122))/7)+-parseInt(e(125))/8+-parseInt(e(169))/9*(-parseInt(e(166))/10)+-parseInt(e(141))/11)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const lt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[mt(136)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){lt(this,(function(){const t=mt,n=new RegExp(t(129)),e=new RegExp(t(101),"i"),r=ht(t(126));n[t(144)](r+"chain")&&e.test(r+t(105))?ht():r("0")}))()}();const pt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();pt(void 0,(function(){const t=mt;let n;try{n=Function(t(119)+t(124)+");")()}catch(a){n=window}const e=n.console=n[t(142)]||{},r=["log",t(155),t(165),t(171),"exception",t(162),t(112)];for(let o=0;o<r[t(110)];o++){const n=pt[t(113)].prototype[t(115)](pt),a=r[o],s=e[a]||n;n[t(148)]=pt[t(115)](pt),n.toString=s.toString[t(115)](s),e[a]=n}}))();const ft={key:0,class:"card-wrapper"};function mt(t,n){const e=dt();return(mt=function(t,n){return e[t-=101]})(t,n)}function dt(){const t=["3152712KeZlBc","init","1788524kSbKiy","warning","function *\\( *\\)","11px","head_256x256x109_uint8.raw","5pDNMQW","image/x-panasonic-raw","读取Raw原始数据","debu","apply","removeFile","block","66GkmKrs","1958mYiwxt","14904538igfzqe","console","while (true) {}","test","setArrayBuffer","uploadRef","readAsArrayBuffer","__proto__","call","10px","文件类型必须为:'image/x-panasonic-raw'","[change] param:","value"," z轴长度： ","warn","2.8em","selectDataType","div","gger","10px auto -3px","300px","table","fileList","raw","info","168290nYXLnk","请正确输入数值"," x轴长度： ","405OGtEUb","xExtent","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"," y轴长度： ","708650KsxPsQ","string","input","action","onload","zExtent","yExtent","length","1950dEOohn","trace","constructor","importRawUI","bind","title","2.4em","counter","return (function() "," 点击或者拖拽rawData文件到此区域 ","modelValue","181167SfYedk","请正确选择rawData文件",'{}.constructor("return this")( )'];return(dt=function(){return t})()}function ht(t){function n(t){const e=mt;if(typeof t===e(104))return function(t){}.constructor(e(143)).apply(e(118));1!==(""+t/t)[e(110)]||t%20==0?function(){return!0}[e(113)](e(135)+e(159))[e(149)](e(106)):function(){return!1}.constructor(e(135)+e(159))[e(136)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const gt=H(w({__name:ct(114),setup(t){const n=ct,e=c();e[n(170)]=256,e[n(109)]=256,e[n(108)]=109;const r=b(null),a=b([]),o=t=>{const e=n;console.log(e(152),t)},s=()=>{var t;const e=n;a[e(153)][e(110)]>1&&(null==(t=r.value)||t[e(137)](a.value[0]))},i=()=>{const t=n;if(1!=a.value[t(110)])return K[t(128)](t(123)),!1;if(e.xExtent<=0||e[t(109)]<=0||e.zExtent<=0)return K.warning(t(167)),!1;if(a[t(153)][0][t(164)].type!==t(133))return K[t(128)](t(151)),!1;const r=new FileReader;return r[t(107)]=function(n){const r=t,a=n.target.result;e[r(145)](a)},r[t(147)](a[t(153)][0].raw),!0};return(t,u)=>{const c=n;return A(e).byteArray?M("",!0):(j(),z(c(158),ft,[S(A(q),{header:c(134)},{default:T((()=>[u[10]||(u[10]=D(c(158),{style:{"margin-bottom":c(130)}},[R("演示参考头部👨‍🦲RawData数据,下载 : "),D("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},c(131))],-1)),S(A(B),{style:{"min-height":c(156)}},{default:T((()=>[S(A(C),{span:6,style:{"line-height":c(117)}},{default:T((()=>u[5]||(u[5]=[R(c(168))]))),_:1}),S(A(C),{span:18},{default:T((()=>[S(A(U),{precision:0,modelValue:A(e)[c(170)],"onUpdate:modelValue":u[0]||(u[0]=t=>A(e)[c(170)]=t),autofocus:""},null,8,[c(121)])])),_:1})])),_:1}),S(A(B),{style:{"min-height":"2.8em"}},{default:T((()=>[S(A(C),{span:6,style:{"line-height":c(117)}},{default:T((()=>u[6]||(u[6]=[R(c(102))]))),_:1}),S(A(C),{span:18},{default:T((()=>[S(A(U),{precision:0,modelValue:A(e)[c(109)],"onUpdate:modelValue":u[1]||(u[1]=t=>A(e)[c(109)]=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),S(A(B),{style:{"min-height":c(156)}},{default:T((()=>[S(A(C),{span:6,style:{"line-height":c(117)}},{default:T((()=>u[7]||(u[7]=[R(c(154))]))),_:1}),S(A(C),{span:18},{default:T((()=>[S(A(U),{precision:0,modelValue:A(e)[c(108)],"onUpdate:modelValue":u[2]||(u[2]=t=>A(e)[c(108)]=t),autofocus:""},null,8,[c(121)])])),_:1})])),_:1}),S(A(G),{modelValue:A(e)[c(157)],"onUpdate:modelValue":u[3]||(u[3]=t=>A(e)[c(157)]=t),style:{"margin-bottom":c(150)}},{default:T((()=>[(j(!0),z(E,null,O(A(e).dataType,((t,n)=>{const e=c;return j(),L(A(F),{key:n,value:n},{default:T((()=>[S(A(P),{style:{"max-width":e(161)}},{default:T((()=>[R(k(t[e(116)]),1)])),_:2},1024)])),_:2},1032,[e(153)])})),128))])),_:1},8,[c(121)]),S(A(Z),{ref_key:c(146),ref:r,fileList:a[c(153)],"onUpdate:fileList":u[4]||(u[4]=t=>a.value=t),onChange:o,httpRequest:s},{default:T((()=>[S(A(Q),null,{default:T((()=>u[8]||(u[8]=[R(c(120))]))),_:1})])),_:1},8,[c(163)]),S(A(Y),{style:{display:c(138),margin:c(160)},onClick:i},{icon:T((()=>[S(A($))])),default:T((()=>[u[9]||(u[9]=R(" 面剖体数据"))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]),xt=_t;!function(t,n){const e=_t,r=bt();for(;;)try{if(351560===-parseInt(e(114))/1+parseInt(e(146))/2*(-parseInt(e(133))/3)+-parseInt(e(137))/4+parseInt(e(138))/5+parseInt(e(144))/6*(-parseInt(e(112))/7)+parseInt(e(113))/8*(parseInt(e(121))/9)+parseInt(e(134))/10)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const yt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[_t(125)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){yt(this,(function(){const t=_t,n=new RegExp(t(131)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=It(t(111));n.test(r+t(115))&&e.test(r+t(128))?It():r("0")}))()}();const wt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[_t(125)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function bt(){const t=["rawDataSurfaceSection","gger","input","error","table","function *\\( *\\)","rgb(0, 255, 255)","6CzvnjI","11382290XvoYzX","toString",'{}.constructor("return this")( )',"430248mOfAAp","1355015AOmzEi","exception","stateObject","debu","console","TresPerspectiveCamera","303042StDJGT","action","405584RQEmIU","log","byteArray","length","prototype","string","rgb(255, 0, 0)","init","56UHZpNu","61192diODHw","400536YYRfCh","chain","while (true) {}","trace","counter","rgba(0, 0, 0, 0)","constructor","306uiQRur","warn","bind","#201919","apply"];return(bt=function(){return t})()}function _t(t,n){const e=bt();return(_t=function(t,n){return e[t-=108]})(t,n)}wt(void 0,(function(){const t=_t;let n;try{n=Function("return (function() "+t(136)+");")()}catch(a){n=window}const e=n[t(142)]=n.console||{},r=[t(147),t(122),"info",t(129),t(139),t(130),t(117)];for(let o=0;o<r.length;o++){const n=wt.constructor[t(108)].bind(wt),a=r[o],s=e[a]||n;n.__proto__=wt[t(123)](wt),n[t(135)]=s[t(135)][t(123)](s),e[a]=n}}))();const vt=w({__name:xt(126),setup(t){const n=xt,e=v({clearColor:n(124),antialias:!0}),r=c();return(t,a)=>{const o=n;return j(),z(E,null,[A(r)[o(148)]?(j(),L(l,{key:0,curColorList:[[o(119),0],[o(132),.4],[o(110),1]]})):M("",!0),S(A(i),V(e,{"window-size":""}),{default:T((()=>[a[0]||(a[0]=D(o(143),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),S(A(s)),A(r)[o(148)]?(j(),L(it,{key:0})):M("",!0)])),_:1},16),S(gt)],64)}}});function It(t){function n(t){const e=_t;if(typeof t===e(109))return function(t){}[e(120)](e(116)).apply(e(118));1!==(""+t/t)[e(149)]||t%20==0?function(){return!0}[e(120)]("debu"+e(127)).call(e(145)):function(){return!1}.constructor(e(141)+"gger")[e(125)](e(140)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{vt as default};
