import{_ as t,a9 as n,cy as e,C as o,V as r}from"./three.874nNzAX1726273176332.js";import{P as s}from"./tweakpane.yHWGBmom1726273176332.js";import{p as i,U as a}from"./@tresjs.BFyWuCYn1726273176332.js";import{P as c,b as u,c as p,M as l,T as f,a as m,d as g}from"./index.AmbDguz11726273176332.js";import{d as h,a3 as d,w as j,o as b,E as w,u as x,Y as y,r as I,e as v,j as M,g as _,f as C,al as z,m as S,F as B}from"./@vue.JNsx1iN61726273176332.js";import{_ as k}from"./raycasterEvent.aePkcQ6B1726273176332.js";import{a as R}from"./utils.AcDyVm3F1726273176332.js";import"./@vueuse.NxhkGURn1726273176332.js";import"./@mapbox.AIVL_5xM1726273176332.js";import"./@amap.5r4w7xpt1726273176332.js";import"./three-mesh-bvh.qZ1iQe8O1726273176332.js";import"./three-custom-shader-material.rb-2297Q1726273176332.js";import"./object-hash.POLi8wZH1726273176332.js";import"./jszip.nlLK-hOV1726273176332.js";import"./glsl-tokenizer.pufBtMwG1726273176332.js";import"./glsl-token-string.tJdjKq7d1726273176332.js";import"./glsl-token-functions.g-9MLpdi1726273176332.js";import"./@fesjs.Le0G27v81726273176332.js";import"./vue-router.QsvKvlu81726273176332.js";import"./lodash-es.kYt-_xTG1726273176332.js";import"./@qlin.yHhFDldE1726273176332.js";import"./pinia.sTdGQtra1726273176332.js";import"./@floating-ui.BPbuo5Gx1726273176332.js";import"./@juggle.7yjBMqoW1726273176332.js";import"./@tweenjs.zdhk2VeU1726273176332.js";import"./utils.3r2MlQfg1726273176332.js";import"./d3-geo.Lt6xAY4Y1726273176332.js";import"./d3-array.AhNJy1f41726273176332.js";import"./http.u-Uq73Q41726273176332.js";import"./axios.Ng308AU61726273176332.js";import"./color.Bs_6I_ee1726273176332.js";import"./color-string._8YNMH6l1726273176332.js";import"./color-name.DzTuk1SI1726273176332.js";import"./simple-swizzle.PNzIoySo1726273176332.js";import"./is-arrayish.4T6MC8n01726273176332.js";import"./color-convert.G3gAlmKT1726273176332.js";import"./lodash.Rzz6niuE1726273176332.js";function E(){const t=["chain","abs","genContrast","string","useStandardMaterial","#fff","object","source","16JIHugM","mapCenter","222QMOdnP","showTileNo","console","far","innerWidth","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","570507LINZFm","maxZoom","monochrome","genSaturation","length","set","call","1841192joLhXJ","opposite","counter","warn","function *\\( *\\)","1506910pUebgd","position","value","Vector3","dampingFactor","bbox","genBright","25nRcHpk","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","render","tileMapMesh","17194210rMoUbS","8338446qDjICf","exception","init","__proto__","while (true) {}","constructor","7fEnvDN","gger","2022dowBNP","Color","bind","wireframe","597528KNpndQ","table","log","debu","flatShading","isMonochrome","filter","update","apply","provider","toString","domElement","target","test","primitive","coordType","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","prototype"];return(E=function(){return t})()}const N=Z;function Z(t,n){const e=E();return(Z=function(t,n){return e[t-=491]})(t,n)}!function(t,n){const e=Z,o=E();for(;;)try{if(465602===-parseInt(e(529))/1*(-parseInt(e(497))/2)+parseInt(e(535))/3*(parseInt(e(527))/4)+parseInt(e(554))/5*(parseInt(e(501))/6)+-parseInt(e(495))/7*(parseInt(e(542))/8)+parseInt(e(559))/9+-parseInt(e(547))/10+-parseInt(e(558))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=Z,n=new RegExp(t(546)),e=new RegExp(t(534),"i"),o=U(t(491));n[t(514)](o+t(519))&&e[t(514)](o+"input")?U():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=Z;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(531)]=n[t(531)]||{},o=[t(503),t(545),"info","error",t(560),t(502),"trace"];for(let s=0;s<o[t(539)];s++){const n=L[t(494)][t(518)][t(499)](L),r=o[s],i=e[r]||n;n[t(492)]=L.bind(L),n[t(511)]=i.toString[t(499)](i),e[r]=n}}))();const P=[N(525),"rotation"],T=h({__name:N(557),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:N(524)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:s}){const g=N,h=r,{renderer:y,scene:I}=i();(new c)[g(516)]=u;const v=new p;v[g(526)]=g(517),v[g(516)]=u;const M=new l;M[g(526)]=g(555),M[g(530)]=!1,M.useWorker=!0;const _=new f(v,M);if(_.showBoundingBox=!1,_[g(500)]=!1,_[g(505)]=!1,_[g(523)]=!1,_.filter={opposite:h[g(543)],monochrome:h.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:h.genBright,genContrast:h.genContrast,genSaturation:h[g(538)]},h[g(537)]){let n=new(t[g(498)])(h[g(537)]);_.filter&&(_[g(507)][g(537)]={r:n.r,g:n.g,b:n.b})}const C=new m;C[g(510)]=_,C[g(552)]=h.bbox,C[g(536)]=h[g(536)];const z=new n(60,window[g(533)]/window.innerHeight,1,1e8);z.up=new(t[g(550)])(0,1,0),z[g(548)][g(540)](h.mapCenter[0],h[g(528)][2],-h[g(528)][1]),z.lookAt(new(t[g(550)])(z.position.x,0,z[g(548)].z-2e3)),C.camera=z;let S=null;d((()=>{const n=g;if(y[n(549)]&&!S&&(S=new e(z,y.value[n(512)]),S.enableDamping=!0,S[n(551)]=.05,S.minDistance=600,S.position0[n(540)](z[n(548)].x,z.position.y,z[n(548)].z),S[n(513)][n(540)](z[n(548)].x,0,z[n(548)].z-2e3)),h[n(553)]&&_[n(507)]&&(_.filter[n(553)]=h[n(553)]),h[n(521)]&&_[n(507)]&&(_[n(507)][n(521)]=h.genContrast),h[n(538)]&&_.filter&&(_[n(507)][n(538)]=h[n(538)]),h[n(506)]&&h.monochrome&&_[n(507)]){let e=new(t[n(498)])(h[n(537)]);_[n(507)].monochrome={r:e.r,g:e.g,b:e.b}}})),j((()=>h[g(543)]),(t=>{const n=g;_[n(507)]&&(_.filter[n(543)]=t)})),j((()=>h.isMonochrome),(t=>{const n=g;let e=new o(h[n(537)]);_[n(507)]&&(_[n(507)][n(537)]=t?{r:e.r,g:e.g,b:e.b}:null)}));const{onLoop:B}=a();return B((()=>{var t;const n=g;if(y[n(549)]){null==(t=h.tweenInstance)||t[n(508)](),S&&S[n(508)](),C[n(508)]();const e=50*Math[n(520)](z[n(548)].y);z[n(532)]=e+5e3,z.updateProjectionMatrix(),S[n(513)].y=0,y[n(549)][n(556)](I.value,z)}})),s({camera:z,map:C,orbitControl:S}),(t,n)=>{const e=g;return b(),w(e(515),{object:x(C),rotation:[-Math.PI/2,0,0]},null,8,P)}}});function U(t){function n(t){const e=Z;if(typeof t===e(522))return function(t){}[e(494)](e(493))[e(509)](e(544));1!==(""+t/t)[e(539)]||t%20==0?function(){return!0}[e(494)](e(504)+e(496))[e(541)]("action"):function(){return!1}[e(494)](e(504)+e(496))[e(509)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=Q;!function(t,n){const e=Q,o=O();for(;;)try{if(912318===parseInt(e(441))/1+parseInt(e(447))/2*(-parseInt(e(469))/3)+-parseInt(e(491))/4+-parseInt(e(488))/5+parseInt(e(480))/6*(parseInt(e(455))/7)+parseInt(e(479))/8+-parseInt(e(462))/9*(-parseInt(e(474))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=Q,n=new RegExp(t(485)),e=new RegExp(t(456),"i"),o=$(t(439));n[t(481)](o+t(452))&&e.test(o+t(448))?$():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(489)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(){const t=["toString","function *\\( *\\)","isMonochrome","addBinding","5996220Naftcq","apply","orbitControl","6126536SLvKEV","bind","debu","牛首山","gger","counter","新街口","tweenInstance","SRGBColorSpace","xjk","init","length","328821omzmmV","__proto__","value","#4688b5","constructor","genSaturation","49388KUMNFx","input","trace","tileMap","tileMapRef","chain","Vector3","return (function() ","1373995ICnVcR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","monochrome","camera","prototype","单色滤镜","error","203922urqdly","addBlade","饱和度","NoToneMapping","nss","list","manual","12tQSwUm","stateObject","滤镜颜色","奥体中心","highp","670zBSYIr","genBright","console","while (true) {}","opposite","4168560yWnvkO","42sHWOvc","test","warn","change"];return(O=function(){return t})()}function Q(t,n){const e=O();return(Q=function(t,n){return e[t-=438]})(t,n)}D(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(454)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(476)]=n[t(476)]||{},o=["log",t(482),"info",t(461),"exception","table",t(449)];for(let r=0;r<o.length;r++){const n=D.constructor[t(459)][t(492)](D),s=o[r],i=e[s]||n;n[t(442)]=D.bind(D),n[t(484)]=i[t(484)].bind(i),e[s]=n}}))();const W=h({__name:V(450),setup(n){const e=V,o=g(118.779958,32.017136),i=[o[0],o[1],5e3],a=y(),c=I({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(444),mapCenter:i,tweenInstance:null}),u=new s({title:"参数"});u[e(487)](c,e(478),{label:"反色"}),u[e(487)](c,e(475),{label:"高亮",min:.1,max:3,step:.1}),u[e(487)](c,"genContrast",{label:"对比度",min:.1,max:3,step:.1}),u.addBinding(c,e(446),{label:e(464),min:.1,max:3,step:.1}),u[e(487)](c,e(486),{label:e(460)}),u[e(487)](c,e(457),{label:e(471)});const p={at:g(118.7425,31.9998),xjk:g(118.7842,32.0418),nss:g(118.7503,31.9082)};u[e(463)]({view:e(467),label:"飞去",options:[{text:e(472),value:"at"},{text:e(497),value:e(438)},{text:e(494),value:e(466)}],value:"at"}).on(e(483),(n=>{const o=e,r=new(t[o(453)])(p[n[o(443)]][0],2e3,-p[n[o(443)]][1]);c[o(498)]=R(a.value[o(458)],r,a[o(443)][o(490)],[0,-300],4e3)}));const l=I({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(468),outputColorSpace:t[e(499)],toneMapping:t[e(465)],precision:e(473)});return setTimeout((()=>{const t=e,n=p.at,o=new r(n[0],1600,-n[1]);c.tweenInstance=R(a[t(443)][t(458)],o,a[t(443)][t(490)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v("TresCanvas");return b(),w(B,null,[M(r,S(l,{"window-size":""}),{default:_((()=>[(b(),C(z,null,{default:_((()=>[M(T,S(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(k,{tileMapRef:a.value},null,8,[o(451)])],64)}}});function $(t){function n(t){const e=Q;if("string"==typeof t)return function(t){}[e(445)](e(477))[e(489)](e(496));1!==(""+t/t)[e(440)]||t%20==0?function(){return!0}.constructor(e(493)+e(495)).call("action"):function(){return!1}[e(445)](e(493)+"gger").apply(e(470)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{W as default};
