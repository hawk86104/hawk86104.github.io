import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.S6PXiQcG1729820105274.js";import{_ as s}from"./index.P6ekfFGz1729820105274.js";import{a8 as i,_ as c,B as u,cD as a}from"./three.0W5n8UBO1729820105274.js";import{P as l}from"./tweakpane.yHWGBmom1729820105274.js";import{I as p,C as f,N as d,c as m,d as g,a as h}from"./three-mesh-bvh.9iOtb7lt1729820105274.js";import{d as y,a4 as w,b,a3 as j,o as v,E as I,L as _,u as x,F as M,r as B,e as z,j as E,g as T,m as A,f as C,al as S}from"./@vue.bvMz0l_u1729820105274.js";import"./@vueuse.3M_MDcJc1729820105274.js";import"./index.Ax8hu8v-1729820105274.js";import"./@fesjs.NJfsHdwi1729820105274.js";import"./vue-router.RgcUnLYP1729820105274.js";import"./lodash-es.guXTxyfJ1729820105274.js";import"./@qlin.yHhFDldE1729820105274.js";import"./pinia.Qyaqm_as1729820105274.js";import"./@floating-ui.BPbuo5Gx1729820105274.js";import"./@juggle.7yjBMqoW1729820105274.js";import"./chalk.w3XuUwyA1729820105274.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1729820105274.js";import"./@iconify.eRzdeG3K1729820105274.js";import"./utils.m0XAD9Rc1729820105274.js";import"./default.vue_vue_type_script_setup_true_lang.BhVo3iKD1729820105274.js";import"./three-mesh-ui.module.VgS55NUw1729820105274.js";!function(t,n){const e=F,r=R();for(;;)try{if(267426===parseInt(e(371))/1+-parseInt(e(377))/2*(parseInt(e(405))/3)+parseInt(e(402))/4*(-parseInt(e(400))/5)+parseInt(e(373))/6*(parseInt(e(401))/7)+parseInt(e(406))/8+parseInt(e(370))/9*(parseInt(e(389))/10)+-parseInt(e(395))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(t,n){const e=R();return(F=function(t,n){return e[t-=363]})(t,n)}!function(){k(this,(function(){const t=F,n=new RegExp(t(403)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Z(t(382));n[t(384)](r+t(392))&&e.test(r+"input")?Z():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(390)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function R(){const t=["146680qzKnWE","addEventListener","clientY","console","counter","return (function() ","bind","touch","gger","__proto__",'{}.constructor("return this")( )',"toString","3276657qDEZOf","252675raOEfy","table","1278KiOrqb","pointermove","enabled","trace","1312FCHpoH","innerWidth","string","pointerdown","firstHitOnly","init","call","test","log","pointerType","value","pointerup","10oeKZUP","apply","stateObject","chain","constructor","length","353881GcznTv","button","innerHeight","info","setFromCamera","349495ySnXrf","8799PBVuvU","4vDssEV","function *\\( *\\)","clientX","2439CVnnGu"];return(R=function(){return t})()}O(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(363)+t(368)+");")()}catch(e){n=window}return n}(),e=n[t(409)]=n[t(409)]||{},r=[t(385),"warn",t(398),"error","exception",t(372),t(376)];for(let o=0;o<r[t(394)];o++){const n=O[t(393)].prototype[t(364)](O),s=r[o],i=e[s]||n;n[t(367)]=O.bind(O),n[t(369)]=i[t(369)][t(364)](i),e[s]=n}}))();function Z(t){function n(t){const e=F;if(typeof t===e(379))return function(t){}[e(393)]("while (true) {}")[e(390)](e(410));1!==(""+t/t)[e(394)]||t%20==0?function(){return!0}[e(393)]("debu"+e(366))[e(383)]("action"):function(){return!1}[e(393)]("debu"+e(366))[e(390)](e(391)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=V;!function(t,n){const e=V,r=N();for(;;)try{if(308057===parseInt(e(188))/1*(parseInt(e(207))/2)+parseInt(e(244))/3*(parseInt(e(185))/4)+parseInt(e(248))/5+-parseInt(e(253))/6*(parseInt(e(243))/7)+-parseInt(e(195))/8+-parseInt(e(180))/9*(-parseInt(e(175))/10)+-parseInt(e(211))/11*(parseInt(e(200))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(254)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){G(this,(function(){const t=V,n=new RegExp(t(212)),e=new RegExp(t(221),"i"),r=W(t(233));n.test(r+t(246))&&e[t(184)](r+t(166))?W():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(254)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();H(void 0,(function(){const t=V;let n;try{n=Function("return (function() "+t(203)+");")()}catch(o){n=window}const e=n[t(178)]=n[t(178)]||{},r=[t(190),t(183),t(169),t(209),t(245),"table",t(237)];for(let s=0;s<r[t(258)];s++){const n=H[t(240)][t(220)].bind(H),o=r[s],i=e[o]||n;n[t(164)]=H[t(161)](H),n.toString=i[t(165)].bind(i),e[o]=n}}))();const L=[q(257),"material"],U=[_(q(210),{args:[1,40,40]},null,-1),_(q(213),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],Y=["geometry"],D=[_(q(213),{color:q(238),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function N(){const t=["boundsTree","targetMesh","console","attributes","207FYyJng","click","setZ","warn","test","764ItfwFX","action","getZ","239BCvGGY","model","log","count","setX","disposeBoundsTree","active","113160GeQPum","Mesh","setAttribute","index","position","156vNLFbW","string","value",'{}.constructor("return this")( )',"BufferGeometry","firstHitOnly","set","522HBtbtj","enabled","error","TresSphereGeometry","354299mohrSU","function *\\( *\\)","TresMeshStandardMaterial","instance","Vector2","MeshStandardMaterial","visible","addButton","copy","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","DynamicDrawUsage","Vector3","call","push","setFromCamera","matrixWorld","point","debu","Sphere","shapecast","TresMesh","init","applyMatrix4","setUsage","点击按钮","trace","#023249","getY","constructor","getX","brushMesh","7qrLYRd","3879edduRM","exception","chain","fill","1389500WZfdAD","scale","Matrix4","targetMesh.value init","controls","987996gjEfvh","apply","counter","setY","geometry","length","bind","intersectsSphere","needsUpdate","__proto__","toString","input","BufferAttribute","center","info","computeBoundsTree","normal","while (true) {}","gger","intersectsBox","138410cHffNB"];return(N=function(){return t})()}function V(t,n){const e=N();return(V=function(t,n){return e[t-=161]})(t,n)}const P=y({__name:q(189),props:{controls:{}},async setup(r){const o=q;let s,y;const B=r;(()=>{const t=V;u.prototype[t(170)]=m,c[t(204)].prototype[t(193)]=g,c[t(196)][t(220)].raycast=h})();const z=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),E=new(c[o(216)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),T=new Uint8Array(3*z[o(179)][o(199)][o(191)]);T[o(247)](255);const A=new(c[o(167)])(T,3,!0);A[o(235)](c[o(222)]),z[o(197)]("color",A);const C=b(null),S=b(null),k=b(!1),O=b(-1),R=b(.2),Z=new(c[o(215)]),{camera:G,raycaster:H}=t(),N=15/255,P=78/255,W=85/255;let X=null;j((()=>{const t=o;C.value&&(console[t(190)](t(251),C[t(202)]),C[t(202)][t(257)].computeBoundsTree(),X=z[t(176)],((t,n,e,r,o,s)=>{const c=F;window.addEventListener(c(374),(e=>{const r=c;t.x=e[r(404)]/window[r(378)]*2-1,t.y=-e[r(408)]/window.innerHeight*2+1,n[r(387)]=!0})),window.addEventListener(c(380),(u=>{const a=c;t.x=u.clientX/window[a(378)]*2-1,t.y=-u[a(408)]/window[a(397)]*2+1,r[a(387)]=u[a(396)];const l=new i;l[a(399)](t,e.value),l[a(381)]=!0;const p=l.intersectObject(o[a(387)],!0);n[a(387)]=!0,s[a(375)]=0===p[a(394)]}),!0),window[c(407)](c(388),(t=>{const e=c;r.value=-1,t[e(386)]===e(365)&&(n[e(387)]=!1)}),!0)})(Z,k,G,O,C,B[t(252)].instance))}));const{onLoop:$}=n();$((()=>{const t=o,n=z[t(198)];if(S[t(202)])if(B[t(252)][t(214)][t(194)]||!k[t(202)])S.value[t(217)]=!1;else{S[t(202)][t(249)].setScalar(R[t(202)]),H[t(202)][t(226)](Z,G[t(202)]),H[t(202)][t(205)]=!0;const e=H[t(202)].intersectObject(C[t(202)],!0);if(e[t(258)]){S[t(202)][t(199)][t(219)](e[0][t(228)]),B[t(252)][t(214)][t(208)]=!1,S.value.visible=!0;const r=new(c[t(250)]);r.copy(C[t(202)][t(227)]).invert();const o=new(c[t(230)]);o[t(168)][t(219)](S.value[t(199)])[t(234)](r),o.radius=100*R[t(202)];const s=[],i=new(c[t(223)]);if(null==X||X[t(231)]({intersectsBounds:n=>{const e=t,r=o[e(174)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i[e(206)](0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o.containsPoint(i))return p;return f}return r?p:d},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(162)](o)){const t=3*e;s[i(225)](t,t+1,t+2)}return!1}}),0===O[t(202)]||2===O[t(202)]){let e=1,r=1,o=1;0===O.value&&(e=N,r=P,o=W);for(let i=0,c=s[t(258)];i<c;i++){const c=n[t(241)](s[i]);A[t(192)](c,e),A[t(256)](c,r),A[t(182)](c,o)}A[t(163)]=!0}}else S[t(202)][t(217)]=!1,B[t(252)][t(214)][t(208)]=!0}}));const K=(new l)[o(218)]({title:o(236),label:"生成模型"}),J=new(c[o(204)]);return K.on(o(181),(()=>{const t=o,n=[],e=[];for(let o=0;o<A[t(191)];o++)A[t(241)](o)===N&&A.getY(o)===P&&A.getZ(o)===W&&(n[t(225)](z.attributes[t(199)][t(241)](o),z[t(179)][t(199)].getY(o),z[t(179)][t(199)][t(187)](o)),e[t(225)](z[t(179)].normal[t(241)](o),z[t(179)][t(171)][t(239)](o),z[t(179)].normal[t(187)](o)));const r=new Float32Array(n);J[t(197)](t(199),new(c[t(167)])(r,3)),J[t(197)](t(171),new(c[t(167)])(r,3))})),(t,n)=>{const e=o;return v(),I(M,null,[_(e(232),{ref_key:e(177),ref:C,geometry:x(z),scale:.005,material:x(E)},null,8,L),_(e(232),{ref_key:e(242),ref:S,visible:!1},U,512),_(e(232),{geometry:x(J),position:[-2,-2,2],scale:.005},D,8,Y)],64)}}});function W(t){function n(t){const e=V;if(typeof t===e(201))return function(t){}[e(240)](e(172))[e(254)](e(255));1!==(""+t/t)[e(258)]||t%20==0?function(){return!0}.constructor("debu"+e(173))[e(224)](e(186)):function(){return!1}[e(240)](e(229)+e(173))[e(254)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=et;!function(t,n){const e=et,r=rt();for(;;)try{if(979844===-parseInt(e(308))/1*(-parseInt(e(324))/2)+-parseInt(e(333))/3*(-parseInt(e(319))/4)+-parseInt(e(339))/5+-parseInt(e(341))/6*(-parseInt(e(314))/7)+parseInt(e(337))/8+-parseInt(e(320))/9*(-parseInt(e(345))/10)+-parseInt(e(323))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[et(326)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){$(this,(function(){const t=et,n=new RegExp(t(342)),e=new RegExp(t(332),"i"),r=nt(t(340));n[t(329)](r+t(328))&&e[t(329)](r+"input")?nt():r("0")}))()}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();K(void 0,(function(){const t=et,n=function(){const t=et;let n;try{n=Function(t(327)+t(325)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(313)]||{},r=[t(338),"warn",t(311),"error","exception","table",t(334)];for(let o=0;o<r[t(344)];o++){const n=K[t(315)][t(307)][t(335)](K),s=r[o],i=e[s]||n;n[t(321)]=K[t(335)](K),n[t(303)]=i[t(303)].bind(i),e[s]=n}}))();const J=_("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),Q=_("TresAmbientLight",{intensity:1},null,-1),tt=y({__name:X(309),setup(t){const n=X,e=B({clearColor:n(330),antialias:!0}),i=B({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=z(a(318));return v(),I(M,null,[E(x(s)),E(l,A(e,{"window-size":""}),{default:T((()=>[J,E(x(r),A({ref_key:"controlsRef",ref:c},i),null,16),Q,(v(),C(S,null,{default:T((()=>[E(P,{controls:c[a(336)]},null,8,[a(304)])])),_:1})),(v(),C(S,null,{default:T((()=>[E(x(o),{background:!1,files:[a(317),"neg-x.jpg",a(306),"neg-y.jpg",a(343),"neg-z.jpg"],path:a(312)})])),_:1}))])),_:1},16)],64)}}});function nt(t){function n(t){const e=et;if(typeof t===e(331))return function(t){}.constructor("while (true) {}").apply(e(305));1!==(""+t/t)[e(344)]||t%20==0?function(){return!0}[e(315)](e(316)+e(310))[e(322)]("action"):function(){return!1}[e(315)]("debu"+e(310)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function et(t,n){const e=rt();return(et=function(t,n){return e[t-=303]})(t,n)}function rt(){const t=["30MzDgSs","function *\\( *\\)","pos-z.jpg","length","833390fGHlGU","toString","controls","counter","pos-y.jpg","prototype","22BMLwBy","collectTriangles","gger","info","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","console","2511558lQVczl","constructor","debu","pos-x.jpg","TresCanvas","12952DoqMfM","189FwbPNm","__proto__","call","34370600CgORwj","17338Mmpigh",'{}.constructor("return this")( )',"apply","return (function() ","chain","test","#999999","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","537KaNdNo","trace","bind","value","6485424qVjknn","log","5103215NBuIVw","init"];return(rt=function(){return t})()}export{tt as default};
