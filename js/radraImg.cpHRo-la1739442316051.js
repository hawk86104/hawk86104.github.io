import{a as t,m as n,o as e}from"./@tresjs.4XV_x0mI1739442316051.js";import{bk as r,_ as o}from"./three.OosFxi571739442316051.js";import{_ as i}from"./three-tile.g8glEwqh1739442316051.js";import{_ as s,s as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.a2PejZ3D1739442316051.js";import{d as c,a3 as u,w as p,o as l,H as f,N as m,u as h,r as d,b as g,f as y,g as I,j as b,m as _,al as w,F as j,e as v,aj as x,ak as S}from"./@vue.NRI7TcgI1739442316051.js";import{P as T}from"./tweakpane.yDiyAAkA1739442316051.js";import{_ as D}from"./informationDiv.MYaG3dOt1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";import"./@fesjs.DgjXCZoG1739442316051.js";import"./vue-router.bqZmV3c61739442316051.js";import"./lodash-es.pklfUAS51739442316051.js";import"./@qlin.yHhFDldE1739442316051.js";import"./pinia.ptJyy4pp1739442316051.js";import"./@floating-ui.BPbuo5Gx1739442316051.js";import"./@juggle.7yjBMqoW1739442316051.js";function k(t,n){const e=B();return(k=function(t,n){return e[t-=466]})(t,n)}const z=k;!function(t,n){const e=k,r=B();for(;;)try{if(822764===parseInt(e(474))/1+-parseInt(e(471))/2*(parseInt(e(491))/3)+parseInt(e(520))/4+parseInt(e(497))/5*(-parseInt(e(505))/6)+parseInt(e(507))/7*(-parseInt(e(487))/8)+parseInt(e(485))/9*(-parseInt(e(525))/10)+parseInt(e(470))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[k(467)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function B(){const t=["uniform sampler2D map;\n\t","constructor","Vector3","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","stateObject","log","1171524sjzUAe","onBeforeCompile","trace","TresGroup","string","3510wFFIKr","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","height","__proto__","36048122BfVBJT","1418OSTDvZ","geo2pos","return (function() ","773577yosxCb","console","position","test","toString","error","40.png","color","while (true) {}","material","replace","16731wOjcGJ","TresMesh","40cVSGmz","opacity","debu","map","4191IudGeF","init","bind","gger","radraImgShow",'{}.constructor("return this")( )',"66740bvuppK","Texture","exception","table","scaleImg","warn","matrix","vertexShader","498yFrOqt","info","1077902AaRZAd","#include <displacementmap_vertex>","counter","function *\\( *\\)","input","DoubleSide","length"];return(B=function(){return t})()}!function(){F(this,(function(){const t=k,n=new RegExp(t(510)),e=new RegExp(t(466),"i"),r=C(t(492));n[t(477)](r+"chain")&&e[t(477)](r+t(511))?C():r("0")}))()}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[k(467)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();A(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(473)+t(496)+");")()}catch(e){n=window}return n}(),e=n[t(475)]=n.console||{},r=["log",t(502),t(506),t(479),t(499),t(500),t(522)];for(let o=0;o<r[t(513)];o++){const n=A[t(515)].prototype[t(493)](A),i=r[o],s=e[i]||n;n[t(469)]=A[t(493)](A),n[t(478)]=s[t(478)][t(493)](s),e[i]=n}}))();const M=[z(476)],P=["scale",z(483),"rotateX","position-y"],R=c({__name:z(495),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=z;let i,a;const c=n,d=new r({displacementMap:new(o[e(498)]),transparent:!0,side:o[e(512)],opacity:c[e(488)],displacementScale:.5,displacementBias:0});d[e(521)]=t=>{const n=e;t.vertexShader=n(514)+t[n(504)],t[n(504)]=t.vertexShader[n(484)](n(508),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const g=c[e(490)][e(472)](new(o[e(516)])(105,34,0));g.applyMatrix4(c[e(490)][e(503)]);const y=s[e(501)](c[e(490)],{x:67,y:11},{x:140,y:57},c.height),I=[];for(let t=0;t<9;t++)I.push(e(517)+t+e(480));let b=0;const _=([i,a]=u((()=>t(I))),i=await i,a(),i);d[e(490)]=_[b],p((()=>[c[e(481)],c.opacity]),(([t,n])=>{d[e(488)]=n}));let w=null,j=!1;return j?(clearInterval(w),w=null,j=!1):(w=setInterval((()=>{const t=k;b=b<I[t(513)]-1?b+1:0,d[t(490)]=_[b],d.needsUpdate=!0,console[t(519)](b)}),1e3),j=!0),(t,n)=>{const r=e;return l(),f(r(523),{position:[...h(g)]},[m(r(486),{scale:[h(y).x,h(y).y,t[r(468)]],material:h(d),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[r(468)]/5},n[0]||(n[0]=[m("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,P)],8,M)}}});function C(t){function n(t){const e=k;if(typeof t===e(524))return function(t){}[e(515)](e(482)).apply(e(509));1!==(""+t/t)[e(513)]||t%20==0?function(){return!0}[e(515)]("debu"+e(494)).call("action"):function(){return!1}[e(515)](e(489)+"gger")[e(467)](e(518)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=V;function Z(){const t=["terrain-rgb","position","4CAvnfC","controlsEvents","value","118593ViUjrv","info","152shhmqL","mapbox.satellite","424721ISHkSw","276SpoJUp","TileMap","rotateX","map","length","string","exception","opacity","toString","action","gger","TresDirectionalLight","透明度","height","21135cVPJns","debu","console","2228465FTkIlB","bind","localToWorld","MapBoxSource","chain","21ygVToQ","52FJZUlM","__proto__","init","domElement","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","tdLight","counter","Vector3","1030092IrPyra","apply","geo2pos","constructor","while (true) {}","test","table","log","target","addBinding","prototype","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","copy","3100390PRsYDe","19794BFOqdR","mapBoxShow3","plugin","error"];return(Z=function(){return t})()}!function(t,n){const e=V,r=Z();for(;;)try{if(284752===-parseInt(e(497))/1+parseInt(e(534))/2*(-parseInt(e(525))/3)+-parseInt(e(503))/4*(parseInt(e(528))/5)+-parseInt(e(482))/6*(parseInt(e(533))/7)+-parseInt(e(508))/8*(-parseInt(e(506))/9)+parseInt(e(496))/10+parseInt(e(510))/11*(parseInt(e(511))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(483)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){E(this,(function(){const t=V,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(494),"i"),r=U(t(476));n[t(487)](r+t(532))&&e.test(r+"input")?U():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=V,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(527)]=n[t(527)]||{},r=[t(489),t(493),t(507),t(500),t(517),t(488),"trace"];for(let o=0;o<r[t(515)];o++){const n=J[t(485)][t(492)][t(529)](J),i=r[o],s=e[i]||n;n[t(535)]=J[t(529)](J),n[t(519)]=s[t(519)][t(529)](s),e[i]=n}}))();const O=["object"];function V(t,n){const e=Z();return(V=function(t,n){return e[t-=476]})(t,n)}const H=G(478),L=c({__name:G(498),setup(t){const e=G,r=d({height:200,opacity:1}),c=new T({title:"参数"});c[e(491)](r,e(524),{label:"高度",min:10,max:300,step:1}),c.addBinding(r,e(518),{label:e(523),min:0,max:1,step:.1}),new(i[e(499)][e(531)])({token:H,dataType:"image",style:e(509)});const u=new(i[e(499)].MapBoxSource)({token:H,dataType:e(501),style:"mapbox.terrain-rgb",maxLevel:15}),v=new(i[e(512)])({imgSource:[new(i[e(499)].GDSource)({style:"6"}),new(i[e(499)].GDSource)({style:"8"})],demSource:u,lon0:90,minLevel:2,maxLevel:20});v[e(513)](-Math.PI/2);const x=new(o[e(481)])(105,34,0),S=new(o[e(481)])(110,0,1e4),D=v[e(530)](v[e(484)](x)),k=v.localToWorld(v[e(484)](S)),z=g(),{camera:F,controls:B,scene:A,renderer:M}=n();return F[e(505)]&&F[e(505)][e(502)].copy(k),p((()=>B[e(505)]),(t=>{const n=e;t&&(t.target[n(495)](D),s[n(504)](t,F[n(505)],A[n(505)]))})),p((()=>z[e(505)]),(t=>{const n=e;t&&t[n(490)][n(502)][n(495)](D)})),a(F[e(505)],M.value[e(477)],v),(t,n)=>{const o=e;return l(),f(j,null,[m(o(522),{ref_key:o(479),ref:z,position:[0,2e3,1e3],intensity:1},null,512),m("primitive",{object:h(v)},null,8,O),(l(),y(w,null,{default:I((()=>[b(R,_({map:h(v)},r),null,16,[o(514)])])),_:1}))],64)}}});function U(t){function n(t){const e=V;if(typeof t===e(516))return function(t){}[e(485)](e(486)).apply(e(480));1!==(""+t/t)[e(515)]||t%20==0?function(){return!0}.constructor(e(526)+"gger").call(e(520)):function(){return!1}[e(485)]("debu"+e(521))[e(483)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=N;!function(t,n){const e=N,r=Q();for(;;)try{if(842323===-parseInt(e(225))/1*(parseInt(e(200))/2)+-parseInt(e(204))/3+-parseInt(e(218))/4+parseInt(e(199))/5+-parseInt(e(216))/6*(-parseInt(e(226))/7)+parseInt(e(214))/8*(parseInt(e(203))/9)+parseInt(e(223))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(227)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){$(this,(function(){const t=N,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(211),"i"),r=K(t(206));n.test(r+t(213))&&e.test(r+t(209))?K():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(227)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(t,n){const e=Q();return(N=function(t,n){return e[t-=189]})(t,n)}function Q(){const t=['{}.constructor("return this")( )',"TresPerspectiveCamera","#dbf0ff","trace","2908550OzJgHD","8rjRbdo","action","console","10371033WSkgvh","4339338FSJkei","info","init","counter","toString","input","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","chain","8jaVzCG","highp","78nLjjfT","gger","610312KemugJ","return (function() ","bind","constructor","TresAmbientLight","17878950XHsrZf","log","340001hxyTPH","150451VarCeH","apply","warn","radraImg","TresCanvas","call","table","length","__proto__"];return(Q=function(){return t})()}q(void 0,(function(){const t=N;let n;try{n=Function(t(219)+t(195)+");")()}catch(o){n=window}const e=n[t(202)]=n[t(202)]||{},r=[t(224),t(228),t(205),"error",t(212),t(192),t(198)];for(let i=0;i<r[t(193)];i++){const n=q[t(221)].prototype.bind(q),o=r[i],s=e[o]||n;n[t(194)]=q.bind(q),n[t(208)]=s[t(208)][t(220)](s),e[o]=n}}))();const X=c({__name:W(189),setup(t){const n=W,r=d({clearColor:n(197),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(215)}),o=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,a=v(s(190));return l(),f(j,null,[b(a,_(r,{"window-size":""}),{default:I((()=>[i[0]||(i[0]=m(s(196),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(h(e),x(S(o)),null,16),i[1]||(i[1]=m(s(222),{intensity:1},null,-1)),b(L)])),_:1},16),b(D)],64)}}});function K(t){function n(t){const e=N;if("string"==typeof t)return function(t){}[e(221)]("while (true) {}")[e(227)](e(207));1!==(""+t/t)[e(193)]||t%20==0?function(){return!0}[e(221)]("debu"+e(217))[e(191)](e(201)):function(){return!1}[e(221)](e(210)+e(217)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{X as default};
