import{a1 as e,F as s,_ as a,K as r,d as t}from"./@tresjs.CC-VM6g11766394917683.js";import"./shapeConfigurator.vue_vue_type_style_index_1_scoped_abbf0cc1_lang.CXJ66YiI1766394917683.js";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang.Ow5fNh741766394917683.js";import"./Resource.CDqX8L841766394917683.js";import"./three-custom-shader-material.-uIL0IHF1766394917683.js";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang.DJksnXV61766394917683.js";import{d as o,a as u,ac as i,w as p,G as m,o as c,I as d,h,e as _,u as v,F as f,a3 as g,ae as y,r as j,s as T,b as w,H as M,a9 as b,aa as x,ah as S}from"./@vue.BxPWGdWw1766394917683.js";import{A as P,b3 as C,y as G,a4 as k,o as R}from"./three.F31Lz30M1766394917683.js";import{E as A,R as B,b as z,a as D}from"./postprocessing.DnKKyAPS1766394917683.js";import"./@vueuse.PX2Ih8Bm1766394917683.js";import"./object-hash.BlsCJiuO1766394917683.js";import"./@amap.fjyZdsU91766394917683.js";import"./jszip.CCQtYoU41766394917683.js";import"./utils.CNife3_q1766394917683.js";const F=["map"],I=["envMap"],L=o({__name:"screen",async setup(s){let a,r;const t=u();t.value=([a,r]=i(()=>e("./plugins/visualArts/video/vlg.mp4",{loop:!0})),a=await a,r(),a),t.value.colorSpace=P;const n=u(),o=u();p(n,e=>{o.value=e.texture});const g=u();return(e,s)=>(c(),m(f,null,[d("TresMesh",{ref_key:"tmSceen",ref:g,position:[0,0,-16]},[s[0]||(s[0]=d("TresPlaneGeometry",{args:[16,10]},null,-1)),d("TresMeshBasicMaterial",{map:t.value},null,8,F),s[1]||(s[1]=d("TresMesh",{scale:[16.05,10.05,1],position:[0,0,-.01]},[d("TresPlaneGeometry"),d("TresMeshBasicMaterial",{color:"black"})],-1))],512),h(v(l),{ref_key:"cubeCameraRef",ref:n,position:[-3,-1,-5],resolution:256},{default:_(()=>[d("TresMesh",null,[s[2]||(s[2]=d("TresSphereGeometry",{args:[2,32,32]},null,-1)),d("TresMeshStandardMaterial",{metalness:1,roughness:.1,envMap:o.value},null,8,I)])]),_:1},512)],64))}}),$=o({__name:"effectComposer",props:{screen:{}},setup(e){const r=e,{camera:t,renderer:n,scene:l,sizes:o}=s();let u=null,i=null;const p=[];g(()=>{if(o.width.value){const e=t.value;((e,s,a)=>{u=new A(a,{frameBufferType:C,multisampling:8});const r=new B(e,s);u.addPass(r)})(l.value,e,n,o.width.value,o.height.value),(e=>{const s=new G({color:16768426,transparent:!0,fog:!1}),a=new k(.75,32,32),t=new R(a,s);t.frustumCulled=!1,t.matrixAutoUpdate=!1;const n=new z(e,y(r.screen),{blur:!0,decay:.9,exposure:.34});p.push(n)})(e),i=new D(e,...p),u.addPass(i)}});const{onRender:m}=a();return m(()=>{u&&u.render()}),(e,s)=>null}}),E=["rotation"],H=o({__name:"volumetricLightGodray",setup(e){const s={clearColor:"#050505",antialias:!1,renderMode:"manual",windowSize:!0},a=j({enableDamping:!0}),l=u(null),o=u(null);return p(()=>l,e=>{T(()=>{e&&void 0!==e.value.$refs.tmSceen&&(o.value=e.value.$refs.tmSceen)})},{deep:!0}),(e,u)=>(c(),w(v(t),b(x(s)),{default:_(()=>[u[1]||(u[1]=d("TresPerspectiveCamera",{position:[0,0,30],fov:45,near:.1,far:1e3},null,-1)),h(v(r),b(x(a)),null,16),u[2]||(u[2]=d("TresAmbientLight",{intensity:.5},null,-1)),(c(),w(S,null,{default:_(()=>[h(L,{ref_key:"screenRef",ref:l},null,512)]),_:1})),d("TresMesh",{position:[0,-5.02,0],receiveShadow:"",rotation:[-Math.PI/2,0,0]},[u[0]||(u[0]=d("TresPlaneGeometry",{args:[50,50]},null,-1)),h(v(n),{blur:[300,50],resolution:1024,mixBlur:1,mixStrength:100,roughness:1,depthScale:1.2,minDepthThreshold:.4,maxDepthThreshold:1.4,color:"#202020",metalness:.8})],8,E),o.value?(c(),w($,{key:0,screen:o.value},null,8,["screen"])):M("",!0)]),_:1},16))}});export{H as default};
