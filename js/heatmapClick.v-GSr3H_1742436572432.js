import{D as t,o as n}from"./@tresjs.Uh9iM8du1742436572432.js";import{P as e}from"./tweakpane.yDiyAAkA1742436572432.js";import{_ as o,l as r,ak as a,al as s}from"./three.RUAk_tvU1742436572432.js";import{_ as i}from"./heatmap.js-fix.i2oWYOnT1742436572432.js";import{d as c,a3 as u,a2 as l,o as p,H as f,u as d,r as h,e as g,f as m,g as v,N as y,j as b,al as w,aj as x,ak as _,m as j}from"./@vue.deO5D3Lf1742436572432.js";import"./postprocessing.5QD_59xS1742436572432.js";import"./@vueuse.F4UpVCIS1742436572432.js";import"./@amap.NCZycnIs1742436572432.js";const I=C;function B(){const t=["constructor","585678ZHLwdM","mesh_0","call","Texture","function *\\( *\\)","heatmap-canvas","position","counter","boundingBox","absolute","chain","BufferAttribute","string","onclick","scale","block","apply","geometry","appendChild","input","warn","toString","setAttribute","canvas","attributes","trace","border","object","set","5iQaLpl",'{}.constructor("return this")( )',"count","8lazzjo","layerX","table","40px","878034vGiQQn","resource.cos","info","setScalar","_renderer","getZ","style","init","stateObject","top","primitive","229156eRTNBQ","0.8","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","push","1px solid #5384ff","gger","needsUpdate","./draco/","28446588BlMsBX","material","prototype","heatmapClickCom","body","DoubleSide","layerY","show2dCanvas","debu","console","error","length","display","bind","left","2279352mgTATB","radius","5789581SKrocb","while (true) {}","10604984HkpXHd","test"];return(B=function(){return t})()}function C(t,n){const e=B();return(C=function(t,n){return e[t-=121]})(t,n)}!function(t,n){const e=C,o=B();for(;;)try{if(718211===parseInt(e(185))/1+parseInt(e(170))/2*(parseInt(e(138))/3)+parseInt(e(131))/4+-parseInt(e(167))/5*(-parseInt(e(174))/6)+parseInt(e(133))/7+parseInt(e(135))/8+-parseInt(e(193))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(154)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=C,n=new RegExp(t(142)),e=new RegExp(t(187),"i"),o=T(t(181));n[t(136)](o+t(148))&&e[t(136)](o+t(157))?T():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(154)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=C;let n;try{n=Function("return (function() "+t(168)+");")()}catch(r){n=window}const e=n[t(125)]=n.console||{},o=["log",t(158),t(176),t(126),"exception",t(172),t(163)];for(let a=0;a<o[t(127)];a++){const n=A.constructor[t(195)][t(129)](A),r=o[a],s=e[r]||n;n.__proto__=A.bind(A),n.toString=s[t(159)].bind(s),e[r]=n}}))();const S=[I(165)],z=c({__name:I(196),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t("https://opensource.cdn.icegl.cn/model/heatmap/test.glb",{draco:!0,decoderPath:e(192)}))),a=await a,s(),a);h[e(139)][e(144)][e(166)](-5088.96,-3.08,39374.7),h[e(139)][e(152)][e(177)](.01);let g=null,m=null,v=null;m=new(o[e(141)])((()=>{const t=e;return v=document.createElement(t(143)),v[t(180)][t(144)]=t(147),v[t(180)][t(183)]=t(173),v[t(180)][t(130)]="0",document[t(197)][t(156)](v),g=i.create({container:v,width:256,height:256,blur:t(186),radius:c[t(132)]}),g[t(178)][t(161)][t(180)][t(164)]=t(189),g._renderer[t(161)][t(151)]=function(n){const e=t;g.addData({x:n[e(171)],y:n[e(122)],value:1,radius:c.radius}),g.setDataMax(1),m&&(m[e(191)]=!0)},g})()[e(178)][e(161)]);const y={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(121)]},b=new r(y);h[e(139)][e(194)]=b;return(t=>{const n=e;t.computeBoundingBox();const{max:r,min:a}=t[n(146)];t.deleteAttribute("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(162)][n(144)][n(169)];e++)c[n(188)]((t.attributes[n(144)].getX(e)-a.x)/s),c[n(188)]((t[n(162)][n(144)][n(179)](e)-a.z)/i);const u=new Float32Array(c);t[n(160)]("uv",new(o[n(149)])(u,2))})(h[e(139)][e(155)]),l((()=>{const t=e;v.style[t(128)]=""+(c[t(123)]?t(153):"none")})),(t,n)=>{const o=e;return p(),f(o(184),{object:d(h)[o(139)]},null,8,S)}}});function T(t){function n(t){const e=C;if(typeof t===e(150))return function(t){}.constructor(e(134))[e(154)](e(145));1!==(""+t/t)[e(127)]||t%20==0?function(){return!0}[e(137)](e(124)+e(190))[e(140)]("action"):function(){return!1}.constructor(e(124)+"gger")[e(154)](e(182)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=O,o=R();for(;;)try{if(444868===parseInt(e(529))/1+-parseInt(e(519))/2*(-parseInt(e(502))/3)+parseInt(e(520))/4+parseInt(e(512))/5+parseInt(e(488))/6+-parseInt(e(491))/7*(-parseInt(e(487))/8)+-parseInt(e(508))/9*(parseInt(e(496))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(506)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=O,n=new RegExp(t(490)),e=new RegExp(t(485),"i"),o=E(t(517));n[t(516)](o+t(493))&&e.test(o+t(532))?E():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(506)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(t,n){const e=R();return(O=function(t,n){return e[t-=485]})(t,n)}function R(){const t=["__proto__","TresPerspectiveCamera","call","test","init","constructor","12338WNPfrO","2376172lfJyRW","trace","action","length","show2dCanvas","console","string","warn","while (true) {}","709355qBnjhn",'{}.constructor("return this")( )',"#030311","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","点击左侧蓝色画框","8pwKLOW","1761042dNDlQI","bind","function *\\( *\\)","2404409QAcJBx","counter","chain","addButton","toString","490DufPfE","#ffffff","显示二维图","error","exception","圆圈的大小","183AuVaOj","log","TresGridHelper","addBinding","apply","debu","499446kRqrqc","info","gger","table","4236865VCxQfO"];return(R=function(){return t})()}M(void 0,(function(){const t=O;let n;try{n=Function("return (function() "+t(530)+");")()}catch(r){n=window}const e=n[t(525)]=n[t(525)]||{},o=[t(503),t(527),t(509),t(499),t(500),t(511),t(521)];for(let a=0;a<o[t(523)];a++){const n=M[t(518)].prototype[t(489)](M),r=o[a],s=e[r]||n;n[t(513)]=M[t(489)](M),n[t(495)]=s.toString.bind(s),e[r]=n}}))();const Q=c({__name:"heatmapClick",setup(t){const o=O,r={clearColor:o(531),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(505)](i,o(524),{label:o(498)}),c.addBinding(i,"radius",{label:o(501),min:.1,max:30,step:.1}),c[o(494)]({title:o(486)}),(t,e)=>{const a=o,s=g("TresCanvas");return p(),m(s,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(514),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y("TresDirectionalLight",{position:[5,10,7.5],color:a(497),intensity:5},null,-1)),e[2]||(e[2]=y(a(504),{args:[50,25]},null,-1)),(p(),m(w,null,{default:v((()=>[b(z,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=O;if(typeof t===e(526))return function(t){}[e(518)](e(528))[e(506)](e(492));1!==(""+t/t)[e(523)]||t%20==0?function(){return!0}[e(518)](e(507)+e(510))[e(515)](e(522)):function(){return!1}.constructor(e(507)+e(510))[e(506)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
