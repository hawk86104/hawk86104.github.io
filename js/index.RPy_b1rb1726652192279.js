var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.VXZm04Ra1726652192279.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.NFS686El1726652192279.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.5nvLN1-Y1726652192279.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,A as v,V as m,Q as w}from"./three.3esZ7Hzr1726652192279.js";import{p as h,U as g}from"./@tresjs.UGbbWZf51726652192279.js";import{u as y}from"./index.3TTzxxqz1726652192279.js";import{F as d,C as S}from"./three-stdlib.yAKyCK811726652192279.js";import{d as P}from"./@vue.JNsx1iN61726652192279.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.zxngLgbq1726652192279.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.M5wlgBSK1726652192279.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.KxKKIHwO1726652192279.js";const _=E;function z(){const t=["init","540900HweXmL",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"gger","input","counter","3152009gjEJDN","console","constructor","test","bind","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","594156gwXbLu","exception","249819qmXVmO",'{}.constructor("return this")( )',"warn","action","prototype","382888FhQfHf","trace","8BCbnpz","stateObject","info","__proto__","apply","log","table","toString","debu","while (true) {}","length","742325YILyHn","1002753TIASAD"];return(z=function(){return t})()}!function(t,e){const n=E,i=z();for(;;)try{if(235151===parseInt(n(191))/1+parseInt(n(196))/2+parseInt(n(175))/3+parseInt(n(189))/4+-parseInt(n(174))/5+-parseInt(n(177))/6+-parseInt(n(182))/7*(parseInt(n(198))/8))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(167)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){b(this,(function(){const t=E,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(188),"i"),i=M(t(176));e.test(i+"chain")&&n[t(185)](i+t(180))?M():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(167)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function E(t,e){const n=z();return(E=function(t,e){return n[t-=164]})(t,e)}I(void 0,(function(){const t=E;let e;try{e=Function("return (function() "+t(192)+");")()}catch(r){e=window}const n=e.console=e[t(183)]||{},i=[t(168),t(193),t(165),"error",t(190),t(169),t(197)];for(let a=0;a<i[t(173)];a++){const e=I[t(184)][t(195)].bind(I),r=i[a],o=n[r]||e;e[t(166)]=I[t(186)](I),e[t(170)]=o[t(170)].bind(o),n[r]=e}}))();const A=_(178);function M(t){function e(t){const n=E;if("string"==typeof t)return function(t){}.constructor(n(172))[n(167)](n(181));1!==(""+t/t)[n(173)]||t%20==0?function(){return!0}[n(184)]("debu"+n(179))[n(187)](n(194)):function(){return!1}[n(184)](n(171)+"gger").apply(n(164)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const D=T;!function(t,e){const n=T,i=U();for(;;)try{if(141735===parseInt(n(370))/1+-parseInt(n(340))/2*(-parseInt(n(355))/3)+-parseInt(n(366))/4*(parseInt(n(372))/5)+parseInt(n(335))/6+-parseInt(n(361))/7+-parseInt(n(360))/8*(-parseInt(n(371))/9)+parseInt(n(368))/10*(-parseInt(n(346))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(336)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){L(this,(function(){const t=T,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=C(t(353));e[t(359)](i+t(347))&&n[t(359)](i+"input")?C():i("0")}))()}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(336)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(){const t=["prototype","error","158wXhuDS","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","constructor","toString","info","__proto__","6666638hTWiXj","chain","uniforms","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","action","trace","gger","init","stateObject","7047MMBfmE","length","table","bind","test","8BOCesP","721294ayuESb","warn","clone","return (function() ","exception","4SvekuQ","while (true) {}","10syJZoq","defines","270111ublSKC","2352771KJVVHy","617295CxJVga","counter","debu","1543158yTPXah","apply","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"];return(U=function(){return t})()}function T(t,e){const n=U();return(T=function(t,e){return n[t-=333]})(t,e)}function j(t){const e=T,n=a({},t);return"defines"in t&&(n[e(369)]=a({},t[e(369)])),e(348)in t&&(n[e(348)]=s[e(363)](t[e(348)])),n}O(void 0,(function(){const t=T;let e;try{e=Function(t(364)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e.console||{},i=["log",t(362),t(344),t(339),t(365),t(357),t(351)];for(let a=0;a<i[t(356)];a++){const e=O[t(342)][t(338)][t(358)](O),r=i[a],o=n[r]||e;e[t(345)]=O[t(358)](O),e.toString=o[t(343)][t(358)](o),n[r]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:D(349),fragmentShader:D(337)+A+D(341)};function C(t){function e(t){const n=T;if("string"==typeof t)return function(t){}[n(342)](n(367))[n(336)](n(333));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(334)+n(352)).call(n(350)):function(){return!1}[n(342)](n(334)+n(352))[n(336)](n(354)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=H;!function(t,e){const n=H,i=X();for(;;)try{if(109598===-parseInt(n(390))/1*(-parseInt(n(411))/2)+-parseInt(n(406))/3+-parseInt(n(418))/4+-parseInt(n(419))/5*(parseInt(n(427))/6)+-parseInt(n(408))/7*(parseInt(n(426))/8)+parseInt(n(396))/9+parseInt(n(423))/10*(parseInt(n(414))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[H(389)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=H,e=new RegExp(t(392)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Q("init");e.test(i+t(370))&&n.test(i+t(362))?Q():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[H(389)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function H(t,e){const n=X();return(H=function(t,e){return n[t-=362]})(t,e)}function X(){const t=["apply","5CXkGWU","getRenderTarget","function *\\( *\\)","autoClear","toString","uniforms","1117674AKzrDf","warn","info","width","image","setClearAlpha","texture","console","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","_copyQuad","582786HbRwVY","map","427ioXfaO","camera","action","45620iDlOWB","prototype","counter","20141zYyBgI","parentMapSize","height","setRenderTarget","270720AZCkcw","756715egbrgO","debu","string","copy","2650olQVCg","material","X_IS_EVEN","26304VEYBLL","6tKcObb","floorPowerOfTwo","__proto__","update","fragmentShader","originalMapSize","_mipQuad","bind","getClearAlpha","gger","input","stateObject","_swapTarget","minFilter","setClearColor","setViewOffset","constructor","log","chain","setSize","dispose","type","floor","exception","while (true) {}","error","parentLevel","clear","value","Y_IS_EVEN","return (function() ","defines","render","call","isWebGLRenderTarget","_mipMaterials",'{}.constructor("return this")( )'];return(X=function(){return t})()}W(void 0,(function(){const t=H,e=function(){const t=H;let e;try{e=Function(t(382)+t(388)+");")()}catch(n){e=window}return e}(),n=e[t(403)]=e[t(403)]||{},i=[t(369),t(397),t(398),t(377),t(375),"table","trace"];for(let r=0;r<i.length;r++){const e=W[t(368)][t(412)][t(434)](W),a=i[r],o=n[a]||e;e[t(429)]=W[t(434)](W),e[t(394)]=o[t(394)][t(434)](o),n[a]=e}}))();const N=new l;class Y{constructor(t){const e=H;!t&&(t=e(404));const n=j(V);n[e(431)]=n[e(431)].replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(j(n)),i[0][e(383)][e(425)]=0,i[0].defines[e(381)]=0,i[1]=new c(j(n)),i[1][e(383)][e(425)]=1,i[1][e(383)][e(381)]=0,i[2]=new c(j(n)),i[2][e(383)][e(425)]=0,i[2].defines[e(381)]=1,i[3]=new c(j(n)),i[3][e(383)][e(425)]=1,i[3][e(383)].Y_IS_EVEN=1;const r=new u;r.texture[e(365)]=p,r[e(402)].magFilter=p,this._swapTarget=r,this[e(405)]=new d(new c(S)),this[e(433)]=new d(null),this[e(387)]=i}[k(430)](t,e,n,i=!1){const r=k;t[r(386)]&&(t=t[r(402)]);const o=n.autoClear,s=n[r(435)](),l=n[r(391)]();n.getClearColor(N);const c=this._copyQuad,u=this[r(433)],p=this[r(364)],x=this[r(387)];let v,m;i?(v=f.floorPowerOfTwo(t[r(400)][r(399)]),m=f[r(428)](t.image[r(416)])):(v=Math[r(374)](t[r(400)][r(399)]),m=Math.floor(t[r(400)][r(416)]));const w=Math[r(374)](1.5*v),h=Math[r(374)](m);e[r(371)](w,h),p.texture.type!==e[r(402)][r(373)]?(p[r(372)](),p[r(422)](e),p[r(402)][r(400)]=a({},p.texture.image)):p[r(371)](w,h),n.autoClear=!1,n.setClearColor(0),n[r(401)](),c[r(424)][r(395)].tDiffuse[r(380)]=t,c.camera[r(367)](v,m,0,0,w,h),n[r(417)](e),n[r(379)](),c[r(384)](n),n[r(417)](p),n[r(379)](),c[r(384)](n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t.uniforms[r(407)].value=p[r(402)],t[r(395)][r(378)][r(380)]=d,t[r(395)][r(415)][r(380)].set(g,y),t[r(395)][r(432)].value.set(v,m),u[r(424)]=t,g=Math[r(374)](g/2),y=Math[r(374)](y/2);const i=h-2*y;n[r(417)](e),u[r(409)][r(367)](g,y,-v,-i,w,h),u[r(384)](n),n[r(417)](p),t[r(395)].map.value=e[r(402)],u.render(n),d++}return n.setRenderTarget(l),n[r(401)](s),n[r(366)](N),n[r(393)]=o,d+1}dispose(){const t=k;this[t(364)].dispose(),this[t(433)][t(372)](),this._copyQuad[t(372)](),this[t(387)].forEach((e=>e[t(372)]()))}}function Q(t){function e(t){const n=H;if(typeof t===n(421))return function(t){}[n(368)](n(376))[n(389)](n(413));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(420)+n(436))[n(385)](n(410)):function(){return!1}.constructor(n(420)+n(436))[n(389)](n(363)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function Z(){const t=["apply","set","projectionMatrix","trace","buffers","copy","3EbmPVd","gger","length","input","parent","Vector4","getWorldQuaternion","texture","normal","visible","function *\\( *\\)","1862zURArW","debu",'{}.constructor("return this")( )',"constructor","getRenderTarget","state","UnsignedByteType","value","update","exception","table","bind","add","toString","sub","call","857390cPZHqE","prototype","forEach","error","setRenderTarget","stateObject","PerspectiveCamera","setMask","warn","Matrix4","sign","test","resolution","reflect","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","multiply","2YbqtNC","elements","negate","4846860PpFcDc","3551916KpZoTE","Plane","autoClear","chain","reflectorMipMap","while (true) {}","4720830sJTBpA","20088OSJPdC","position","matrixWorld","2286492WckhKs","Quaternion","applyMatrix4","applyQuaternion","ignoreObjects","updateMatrixWorld","return (function() ","7088100XECfrZ","matrixWorldInverse","constant","getWorldPosition","depth"];return(Z=function(){return t})()}const F=B;function B(t,e){const n=Z();return(B=function(t,e){return n[t-=309]})(t,e)}!function(t,e){const n=B,i=Z();for(;;)try{if(497409===parseInt(n(324))/1*(parseInt(n(383))/2)+parseInt(n(356))/3*(parseInt(n(338))/4)+-parseInt(n(334))/5+parseInt(n(328))/6+parseInt(n(367))/7*(parseInt(n(335))/8)+-parseInt(n(327))/9+-parseInt(n(345))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const $=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){$(this,(function(){const t=B,e=new RegExp(t(366)),n=new RegExp(t(321),"i"),i=G("init");e[t(317)](i+t(331))&&n[t(317)](i+t(359))?G():i("0")}))()}();const J=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[B(350)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();J(void 0,(function(){const t=B,e=function(){const t=B;let e;try{e=Function(t(344)+t(369)+");")()}catch(n){e=window}return e}(),n=e[t(320)]=e.console||{},i=["log",t(314),"info",t(309),t(376),t(377),t(353)];for(let r=0;r<i[t(358)];r++){const e=J[t(370)][t(384)][t(378)](J),a=i[r],o=n[a]||e;e.__proto__=J[t(378)](J),e[t(380)]=o[t(380)][t(378)](o),n[a]=e}}))();const K=P({__name:F(332),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=F,i=t,r=new(x[n(329)]),a=new(x[n(315)]),o=new(x[n(312)]),s=new Y,l=y({width:i.resolution,height:i.resolution,settings:{type:v}}),c=y({width:i[n(318)],height:i[n(318)],settings:{type:x[n(373)]}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:d}=g();return d((()=>{const t=n;(()=>{const t=n;if(!u[t(374)])return;r[t(351)](new m(0,1,0),0),r[t(340)](i[t(360)][t(337)]),o[t(355)](u.value);const e=new m(0,0,1).clone().negate(),s=u[t(374)][t(348)](new(x[t(322)]));e[t(319)](r[t(364)]);const c=new(x[t(322)]);r.projectPoint(s,c);const v=c.clone();v[t(381)](s),v[t(379)](c),o[t(336)][t(355)](v);const h=new(x[t(322)])(0,0,-1);h[t(341)](u[t(374)][t(362)](new(x[t(339)]))),h.add(s);const g=new(x[t(322)]);i[t(360)][t(348)](g),g[t(381)](h),g[t(319)](r[t(364)])[t(326)](),g[t(379)](i[t(360)].getWorldPosition(new(x[t(322)]))),o.up.set(0,1,0),o[t(341)](u[t(374)][t(362)](new w)),o.up[t(319)](r.normal),o.lookAt(g),o[t(343)]();const y=new(x[t(315)]);y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(323)](o[t(352)]),y.multiply(o.matrixWorldInverse),a[t(355)](y),r[t(340)](o[t(346)]);const d=new(x[t(361)])(r[t(364)].x,r.normal.y,r[t(364)].z,r[t(347)]),S=o[t(352)],P=new(x[t(361)]);P.x=(Math[t(316)](d.x)+S.elements[8])/S[t(325)][0],P.y=(Math[t(316)](d.y)+S.elements[9])/S[t(325)][5],P.z=-1,P.w=(1+S.elements[10])/S.elements[14],d.multiplyScalar(2/d.dot(P)),S[t(325)][2]=d.x,S.elements[6]=d.y,S.elements[10]=d.z+1,S[t(325)][14]=d.w;const _=p[t(374)][t(371)]();p[t(374)].setRenderTarget(l[t(374)]),p[t(374)][t(372)][t(354)][t(349)][t(313)](!0),!1===p.value[t(330)]&&p[t(374)].clear(),i[t(342)][t(385)]((t=>t.visible=!1)),p[t(374)].render(f[t(374)],o),i.ignoreObjects[t(385)]((e=>e[t(365)]=!0)),p.value[t(310)](_)})(),l[t(374)]&&c[t(374)]&&p[t(374)]&&s[t(375)](l[t(374)][t(363)],c[t(374)],p[t(374)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function G(t){function e(t){const n=B;if("string"==typeof t)return function(t){}[n(370)](n(333))[n(350)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(370)](n(368)+"gger")[n(382)]("action"):function(){return!1}[n(370)](n(368)+n(357))[n(350)](n(311)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function q(t,e){var n=nt();return(q=function(t,e){return n[t-=491]})(t,e)}!function(t,e){for(var n=q,i=nt();;)try{if(857321===parseInt(n(515))/1+-parseInt(n(510))/2*(parseInt(n(519))/3)+-parseInt(n(491))/4+-parseInt(n(524))/5*(-parseInt(n(495))/6)+-parseInt(n(499))/7*(-parseInt(n(507))/8)+parseInt(n(528))/9*(-parseInt(n(526))/10)+-parseInt(n(527))/11*(parseInt(n(504))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[q(500)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){tt(this,(function(){var t=q,e=new RegExp(t(522)),n=new RegExp(t(509),"i"),i=it(t(501));e[t(493)](i+t(520))&&n.test(i+t(496))?it():i("0")}))()}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[q(500)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function nt(){var t=["9CnQaPB","4031308jQwdYe","debu","test","bind","134130orwPjS","input","stateObject","while (true) {}","1874558AEOXDO","apply","init","toString","trace","2182620BQPOka","__proto__","counter","40JagQJO","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2qYPYCj","warn","prototype",'{}.constructor("return this")( )',"call","1478582syieUN","console","log","length","3246099ahgLTy","chain","constructor","function *\\( *\\)","gger","215RdLljn","action","2859810KDBXbY","33yPKXCW"];return(nt=function(){return t})()}function it(t){function e(t){var n=q;if(typeof t===n(508))return function(t){}[n(521)](n(498)).apply(n(506));1!==(""+t/t)[n(518)]||t%20==0?function(){return!0}[n(521)]("debugger")[n(514)](n(525)):function(){return!1}[n(521)](n(492)+n(523))[n(500)](n(497)),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){var t,e=q;try{t=Function("return (function() "+e(513)+");")()}catch(l){t=window}for(var n=t.console=t[e(516)]||{},i=[e(517),e(511),"info","error","exception","table",e(503)],r=0;r<i[e(518)];r++){var a=et[e(521)][e(512)][e(494)](et),o=i[r],s=n[o]||a;a[e(505)]=et[e(494)](et),a[e(502)]=s.toString[e(494)](s),n[o]=a}}))();export{K as _};
