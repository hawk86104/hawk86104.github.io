import{_ as t,cz as n,C as e}from"./three.x4oqFJNT1729821967160.js";import{P as o}from"./tweakpane.yHWGBmom1729821967160.js";import{p as r,U as s}from"./@tresjs.QjD7q5YC1729821967160.js";import{P as i,b as a,c,M as u,T as p,a as l,d as m}from"./index.UmwlHcUu1729821967160.js";import{d as f,a3 as g,w as h,o as d,E as j,u as w,Y as b,r as x,e as v,j as y,g as I,f as z,m as C,al as S,F as _}from"./@vue.JNsx1iN61729821967160.js";import{_ as M}from"./raycasterEvent.rSsVUSjg1729821967160.js";import{a as k}from"./utils.74YZtDL01729821967160.js";import"./@vueuse.HMG_JnUD1729821967160.js";import"./@mapbox.phSzJTgO1729821967160.js";import"./@amap.Y4sQVtej1729821967160.js";import"./three-mesh-bvh.llAbMY1c1729821967160.js";import"./three-custom-shader-material.WGQvdF_T1729821967160.js";import"./object-hash.nNsVfdic1729821967160.js";import"./jszip.tCm-hQZR1729821967160.js";import"./glsl-tokenizer.kwkA-85M1729821967160.js";import"./glsl-token-string.piZje__F1729821967160.js";import"./glsl-token-functions.eRxQXCQh1729821967160.js";import"./@fesjs.RBYJGevJ1729821967160.js";import"./vue-router.x5Kg4cip1729821967160.js";import"./lodash-es.kYt-_xTG1729821967160.js";import"./@qlin.yHhFDldE1729821967160.js";import"./pinia.hn32Nk6P1729821967160.js";import"./@floating-ui.BPbuo5Gx1729821967160.js";import"./@juggle.7yjBMqoW1729821967160.js";import"./@tweenjs.kK3a15lv1729821967160.js";import"./utils.b0GjRRPt1729821967160.js";import"./d3-geo.uAiASB3v1729821967160.js";import"./d3-array.AhNJy1f41729821967160.js";import"./http.yq6s7HJE1729821967160.js";import"./axios.Ng308AU61729821967160.js";import"./color._ubGCruG1729821967160.js";import"./color-string.jx4OrgIW1729821967160.js";import"./color-name.HY40Bdbz1729821967160.js";import"./simple-swizzle.pQ_qfRcE1729821967160.js";import"./is-arrayish.f6So47ua1729821967160.js";import"./color-convert.0S5dLJbk1729821967160.js";import"./lodash.GMxuRtNk1729821967160.js";import"./naive-ui.UZgBbt1S1729821967160.js";import"./date-fns.PrgrElqI1729821967160.js";import"./@css-render.U8j4cRIr1729821967160.js";import"./seemly.SjiSeX2v1729821967160.js";import"./css-render.OUZt6DH51729821967160.js";import"./@emotion.ZD_ZYAgY1729821967160.js";import"./vooks.XYnNJMTD1729821967160.js";import"./evtd.DtfwxtIl1729821967160.js";import"./vueuc.ZlIPbd3O1729821967160.js";import"./vdirs.ntLVFK8f1729821967160.js";import"./treemate.dcEdf2le1729821967160.js";import"./date-fns-tz.P8vGL-G21729821967160.js";import"./async-validator.-YBkpS4I1729821967160.js";const B=F;function R(){const t=["chain","trace","854185tNRjDr","genSaturation","8294NdBgvF","bind","wireframe","541068kswTIx","function *\\( *\\)","tileMapMesh","test","genContrast","Vector3","error","string","call","value","debu","domElement","return (function() ","update","Color","position","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","position0","485112HrLoin","filter","opposite","camera","monochrome","table","source","info","length","dampingFactor","mapCenter","enableDamping","object","warn","187ugVWvG","genBright","isMonochrome","bbox","27rbgUCY","flatShading","12ihRAgA","console","#fff","while (true) {}","6KwfXAE",'{}.constructor("return this")( )',"constructor","far","apply","PerspectiveCamera","stateObject","835000WFSKxq","toString","log","input","showBoundingBox","12wzSkPR","261670NrKBFy","exception","innerHeight","showTileNo","maxZoom","abs","__proto__","gger","coordType","set","provider","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1190826iAXhKS"];return(R=function(){return t})()}!function(t,n){const e=F,o=R();for(;;)try{if(209359===-parseInt(e(526))/1*(-parseInt(e(545))/2)+parseInt(e(514))/3*(-parseInt(e(521))/4)+parseInt(e(543))/5*(-parseInt(e(510))/6)+parseInt(e(540))/7+parseInt(e(490))/8+-parseInt(e(508))/9*(parseInt(e(527))/10)+parseInt(e(504))/11*(parseInt(e(548))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=F,n=new RegExp(t(549)),e=new RegExp(t(539),"i"),o=K("init");n[t(551)](o+t(541))&&e.test(o+t(524))?K():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(518)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(t,n){const e=R();return(F=function(t,n){return e[t-=484]})(t,n)}E(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(484)+t(515)+");")()}catch(e){n=window}return n}(),e=n[t(511)]=n[t(511)]||{},o=[t(523),t(503),t(497),t(554),t(528),t(495),t(542)];for(let r=0;r<o[t(498)];r++){const n=E[t(516)][t(538)].bind(E),s=o[r],i=e[s]||n;n[t(533)]=E[t(546)](E),n[t(522)]=i[t(522)][t(546)](i),e[s]=n}}))();const A=[B(502),"rotation"],T=f({__name:B(550),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:B(512)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:m}){const f=B,b=o,{renderer:x,scene:v}=r();(new i)[f(535)]=a;const y=new c;y[f(496)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",y.coordType=a;const I=new u;I[f(496)]=f(488),I[f(530)]=!1,I.useWorker=!0;const z=new p(y,I);if(z[f(525)]=!1,z[f(547)]=!1,z[f(509)]=!1,z.useStandardMaterial=!1,z.filter={opposite:b[f(492)],monochrome:b[f(506)]?{r:.299,g:.587,b:.114}:null,genBright:b.genBright,genContrast:b[f(552)],genSaturation:b.genSaturation},b.monochrome){let n=new(t[f(486)])(b[f(494)]);z[f(491)]&&(z.filter[f(494)]={r:n.r,g:n.g,b:n.b})}const C=new l;C[f(537)]=z,C[f(507)]=b[f(507)],C[f(531)]=b.maxZoom;const S=new(t[f(519)])(60,window.innerWidth/window[f(529)],1,1e8);S.up=new(t[f(553)])(0,1,0),S.position.set(b[f(500)][0],b[f(500)][2],-b[f(500)][1]),S.lookAt(new(t[f(553)])(S.position.x,0,S[f(487)].z-2e3)),C[f(493)]=S;let _=null;g((()=>{const t=f;x[t(557)]&&!_&&(_=new n(S,x[t(557)][t(559)]),_[t(501)]=!0,_[t(499)]=.05,_.minDistance=600,_[t(489)][t(536)](S[t(487)].x,S[t(487)].y,S[t(487)].z),_.target[t(536)](S[t(487)].x,0,S[t(487)].z-2e3))})),h((()=>[b[f(492)],b[f(506)],b[f(494)]]),(([t,n,o])=>{const r=f;if(z[r(491)]){let s=new e(o);z[r(491)].opposite=t,z[r(491)][r(494)]=n?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[b[f(505)],b.genContrast,b[f(544)]]),(([t,n,e])=>{const o=f;z.filter&&(z.filter[o(505)]=t,z[o(491)][o(552)]=n,z[o(491)][o(544)]=e)}));const{onLoop:M}=s();return M((()=>{var t;const n=f;if(x[n(557)]){null==(t=b.tweenInstance)||t[n(485)](),_&&_[n(485)](),C[n(485)]();const e=50*Math[n(532)](S.position.y);S[n(517)]=e+5e3,S.updateProjectionMatrix(),x.value.render(v[n(557)],S)}})),m({camera:S,map:C,orbitControl:_}),(t,n)=>(d(),j("primitive",{object:w(C),rotation:[-Math.PI/2,0,0]},null,8,A))}});function K(t){function n(t){const e=F;if(typeof t===e(555))return function(t){}[e(516)](e(513))[e(518)]("counter");1!==(""+t/t)[e(498)]||t%20==0?function(){return!0}[e(516)](e(558)+e(534))[e(556)]("action"):function(){return!1}[e(516)](e(558)+e(534))[e(518)](e(520)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=Y;!function(t,n){const e=Y,o=D();for(;;)try{if(335676===-parseInt(e(492))/1*(parseInt(e(537))/2)+-parseInt(e(519))/3+-parseInt(e(534))/4*(-parseInt(e(520))/5)+-parseInt(e(517))/6*(parseInt(e(500))/7)+parseInt(e(522))/8*(-parseInt(e(504))/9)+parseInt(e(547))/10+parseInt(e(526))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(498)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=Y,n=new RegExp(t(541)),e=new RegExp(t(523),"i"),o=L(t(511));n[t(527)](o+"chain")&&e.test(o+t(502))?L():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=D();return(Y=function(t,n){return e[t-=481]})(t,n)}P(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(505)+t(508)+");")()}catch(e){n=window}return n}(),e=n[t(501)]=n[t(501)]||{},o=[t(525),"warn",t(485),t(535),t(528),"table",t(499)];for(let r=0;r<o[t(513)];r++){const n=P[t(490)][t(481)].bind(P),s=o[r],i=e[s]||n;n.__proto__=P.bind(P),n.toString=i[t(545)][t(542)](i),e[s]=n}}))();const $=f({__name:W(488),setup(n){const e=W,r=m(118.779958,32.017136),s=[r[0],r[1],5e3],i=b(),a=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(512),mapCenter:s,tweenInstance:null}),c=new o({title:"参数"});c[e(543)](a,"opposite",{label:"反色"}),c[e(543)](a,e(495),{label:"高亮",min:.1,max:3,step:.1}),c[e(543)](a,"genContrast",{label:e(521),min:.1,max:3,step:.1}),c[e(543)](a,e(486),{label:e(515),min:.1,max:3,step:.1}),c[e(543)](a,e(544),{label:e(514)}),c[e(543)](a,e(506),{label:e(507)});const u={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};c[e(531)]({view:e(487),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(497),value:e(538)},{text:e(496),value:e(510)}],value:"at"}).on(e(484),(n=>{const o=e,r=new(t[o(533)])(u[n[o(503)]][0],2e3,-u[n[o(503)]][1]);a.tweenInstance=k(i[o(503)][o(540)],r,i.value[o(530)],[0,-300],4e3)}));const p=x({clearColor:e(539),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(518),outputColorSpace:t[e(489)],toneMapping:t[e(491)]});return setTimeout((()=>{const n=e,o=u.at,r=new(t[n(533)])(o[0],1600,-o[1]);a.tweenInstance=k(i[n(503)].camera,r,i[n(503)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v(o(516));return d(),j(_,null,[y(r,C(p,{"window-size":""}),{default:I((()=>[(d(),z(S,null,{default:I((()=>[y(T,C(a,{ref_key:o(483),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),y(M,{tileMapRef:i.value},null,8,[o(494)])],64)}}});function D(){const t=["tileMapMeshRef","change","info","genSaturation","list","tileMap","SRGBColorSpace","constructor","NoToneMapping","17CpJOdE","debu","tileMapRef","genBright","牛首山","新街口","apply","trace","7sNKFEy","console","input","value","45BFzSZF","return (function() ","monochrome","滤镜颜色",'{}.constructor("return this")( )',"while (true) {}","nss","init","#4688b5","length","单色滤镜","饱和度","TresCanvas","892446wwspGj","manual","934728SKjsJT","3284465zuCKKx","对比度","382184YhcuiZ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","log","7415067qvWFkc","test","exception","string","orbitControl","addBlade","counter","Vector3","4nsWUsm","error","action","62812ccUhff","xjk","#201919","camera","function *\\( *\\)","bind","addBinding","isMonochrome","toString","call","2377700JEtSzZ","prototype","stateObject"];return(D=function(){return t})()}function L(t){function n(t){const e=Y;if(typeof t===e(529))return function(t){}[e(490)](e(509)).apply(e(532));1!==(""+t/t)[e(513)]||t%20==0?function(){return!0}.constructor(e(493)+e(524))[e(546)](e(536)):function(){return!1}[e(490)]("debu"+e(524))[e(498)](e(482)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{$ as default};
