import{c8 as t,a3 as e,r as n,s as r}from"./three.8tDGqmLF1741309500666.js";import{a as o}from"./@tresjs.yaBKiR-I1741309500666.js";import{R as s,b as i}from"./all.three.jR47vo8H1741309500666.js";import{d as c,a3 as a,a2 as u,w as l,o as f,H as p,N as h,u as d}from"./@vue.NRI7TcgI1741309500666.js";const m=j;!function(t,e){const n=j,r=x();for(;;)try{if(913494===parseInt(n(261))/1+-parseInt(n(271))/2+-parseInt(n(264))/3+parseInt(n(280))/4+-parseInt(n(258))/5+parseInt(n(286))/6+parseInt(n(298))/7)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const v=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(306)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){v(this,(function(){const t=j,e=new RegExp(t(262)),n=new RegExp(t(257),"i"),r=I(t(255));e[t(292)](r+t(283))&&n.test(r+"input")?I():r("0")}))()}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(306)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();w(void 0,(function(){const t=j;let e;try{e=Function("return (function() "+t(296)+");")()}catch(o){e=window}const n=e[t(289)]=e[t(289)]||{},r=[t(282),t(302),"info",t(253),t(274),t(265),"trace"];for(let s=0;s<r[t(281)];s++){const e=w[t(295)][t(276)][t(303)](w),o=r[s],i=n[o]||e;e.__proto__=w[t(303)](w),e.toString=i[t(287)][t(303)](i),n[o]=e}}))();const b=[m(268)],g=["object"],y=["object"];function j(t,e){const n=x();return(j=function(t,e){return n[t-=252]})(t,e)}function x(){const t=["11269601xyGlrB","ignoreObjects","uMatrix","counter","warn","bind","action","wrapT","apply","onBeforeRender","set","textureMatrixUniform","error","gger","init","showGridHelper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4960530jbtTXQ","tReflect","debu","69549mJXFEq","function *\\( *\\)","repeat","4114305QQiJRs","table","uReflectivity","rotation","scale","isMesh","while (true) {}","2084962VPjJOF","TresGroup","size","exception","stateObject","prototype","forEach","texture","renderTarget","3758888wSZEhn","length","log","chain","reflectorDUDV","primitive","10201812pitShN","toString","visible","console","call","reflectivity","test","value","uniforms","constructor",'{}.constructor("return this")( )',"add"];return(x=function(){return t})()}const _=c({__name:m(284),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:v}){const w=m;let j,x;const _=c,I=new s,R=new t(_[w(273)][0]-.5,_[w(273)][1]);R.visible=_[w(256)];const{map:z}=([j,x]=a((()=>o({map:_.mapUrl}))),j=await j,x(),j);z.wrapS=e,z[w(305)]=e,z[w(263)][w(308)](6,3);const E=new i({map:z,reflectivity:_.reflectivity});E[w(294)][w(259)]={value:I[w(279)][w(278)]},E[w(294)].tReflectBlur=I.renderTargetUniform,E[w(294)][w(300)]=I[w(252)];const M=new n(new r(_.size[0],_[w(273)][1]),E);return M[w(267)].x=-Math.PI/2,M[w(297)](I),M[w(307)]=(t,e,n)=>{const r=w;M[r(288)]=!1,_.ignoreObjects[r(277)]((t=>{const e=r;t[e(269)]&&(t[e(288)]=!1),t[e(293)]&&t.value[e(269)]&&(t[e(293)][e(288)]=!1)})),I.update(t,e,n),_[r(299)][r(277)]((t=>{const e=r;t.isMesh&&(t[e(288)]=!0),t[e(293)]&&t.value[e(269)]&&(t[e(293)].visible=!0)})),M[r(288)]=!0},u((()=>{const t=w;_[t(291)]&&(E[t(294)][t(266)].value=_.reflectivity)})),l((()=>_[w(256)]),(t=>{R.visible=t})),v({reflector:I}),(t,e)=>{const n=w;return f(),p(n(272),{scale:_[n(268)]},[h(n(285),{object:d(M),"position-y":-.01},null,8,g),h(n(285),{object:d(R)},null,8,y)],8,b)}}});function I(t){function e(t){const n=j;if("string"==typeof t)return function(t){}[n(295)](n(270))[n(306)](n(301));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(260)+n(254))[n(290)](n(304)):function(){return!1}[n(295)](n(260)+n(254)).apply(n(275)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{_};
