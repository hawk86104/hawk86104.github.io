import{_ as t,a9 as n,cH as e,b as o}from"./three.FxqAALWt1741168315107.js";import{P as r}from"./tweakpane.yDiyAAkA1741168315107.js";import{m as s,e as i}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{P as a,b as c,c as u,M as p,T as l,a as f,d as m}from"./index.xPP_cFne1741168315107.js";import{d as g,a2 as d,w as h,o as w,H as j,u as b,v as x,r as I,e as v,j as y,g as M,f as _,al as B,m as C,F as z}from"./@vue.NRI7TcgI1741168315107.js";import{_ as S}from"./raycasterEvent.b7lDFO7U1741168315107.js";import{a as k}from"./utils.W1doP2RG1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";import"./@mapbox.lMdYodhq1741168315107.js";import"./three-mesh-bvh.304c-5N01741168315107.js";import"./three-custom-shader-material.q4QTPw9f1741168315107.js";import"./@fesjs.vxeGrljA1741168315107.js";import"./vue-router.WwZ4Gmuc1741168315107.js";import"./lodash-es.pklfUAS51741168315107.js";import"./@qlin.yHhFDldE1741168315107.js";import"./pinia.54vgoDms1741168315107.js";import"./@floating-ui.BPbuo5Gx1741168315107.js";import"./@juggle.7yjBMqoW1741168315107.js";import"./@tweenjs.kK3a15lv1741168315107.js";import"./utils.R1pzgsk61741168315107.js";import"./d3-geo.UTz_kAQr1741168315107.js";import"./d3-array.AhNJy1f41741168315107.js";import"./http.cgGX3NbT1741168315107.js";import"./axios.qd3pZFDv1741168315107.js";import"./color.mhuBA9Z51741168315107.js";import"./@amap.d8-LJgNK1741168315107.js";import"./color-string.GJstsyyI1741168315107.js";import"./color-name.LTh6gYcA1741168315107.js";import"./simple-swizzle.Pq7b-kOQ1741168315107.js";import"./is-arrayish.B9VLVZ9I1741168315107.js";import"./color-convert.o76smMoW1741168315107.js";import"./lodash.g47Pjbdy1741168315107.js";const R=E;!function(t,n){const e=E,o=F();for(;;)try{if(637191===-parseInt(e(388))/1+parseInt(e(406))/2*(parseInt(e(446))/3)+parseInt(e(409))/4+parseInt(e(433))/5+-parseInt(e(451))/6+parseInt(e(429))/7*(-parseInt(e(456))/8)+parseInt(e(432))/9*(-parseInt(e(427))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(439)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=E,n=new RegExp(t(402)),e=new RegExp(t(387),"i"),o=A(t(405));n[t(426)](o+"chain")&&e.test(o+t(461))?A():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(439)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(){const t=["showTileNo","apply","value","genSaturation","useStandardMaterial","log","object","coordType","2187XKCOvo","update","bbox","opposite","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","883560zVTgeL","return (function() ","flatShading","set","innerWidth","104MfYFTg","mapCenter","enableDamping","position0","genBright","input","provider","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1175752QmuepI","genContrast","stateObject","filter","debu","source","lookAt","Vector3","useWorker","tweenInstance","target","info","primitive","rotation","function *\\( *\\)","Color","innerHeight","init","3106COkuKG","monochrome","#fff","3322640aHExvl","bind","constructor","prototype","dampingFactor","camera","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","console","position","domElement","length","maxZoom","isMonochrome","far",'{}.constructor("return this")( )',"gger","__proto__","test","110fHMPWg","minDistance","553000rLzrdh","while (true) {}","abs","82170wjMFXF","5624180XzDZXk","action","string","table","tileMapMesh"];return(F=function(){return t})()}function E(t,n){const e=F();return(E=function(t,n){return e[t-=387]})(t,n)}D(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(452)+t(423)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(416)]||{},o=[t(443),"warn",t(399),"error","exception",t(436),"trace"];for(let r=0;r<o[t(419)];r++){const n=D[t(411)][t(412)][t(410)](D),s=o[r],i=e[s]||n;n[t(425)]=D.bind(D),n.toString=i.toString[t(410)](i),e[s]=n}}))();const Z=[R(444),R(401)],H=g({__name:R(437),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:R(408)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const m=R,g=o,{renderer:x,scene:I}=s();(new a)[m(445)]=c;const v=new u;v[m(393)]=m(415),v[m(445)]=c;const y=new p;y.source=m(450),y[m(438)]=!1,y[m(396)]=!0;const M=new l(v,y);if(M.showBoundingBox=!1,M.wireframe=!1,M[m(453)]=!1,M[m(442)]=!1,M[m(391)]={opposite:g[m(449)],monochrome:g[m(421)]?{r:.299,g:.587,b:.114}:null,genBright:g.genBright,genContrast:g.genContrast,genSaturation:g[m(441)]},g.monochrome){let n=new(t[m(403)])(g[m(407)]);M.filter&&(M[m(391)][m(407)]={r:n.r,g:n.g,b:n.b})}const _=new f;_[m(462)]=M,_[m(448)]=g[m(448)],_[m(420)]=g[m(420)];const B=new n(60,window[m(455)]/window[m(404)],1,1e8);B.up=new(t[m(395)])(0,1,0),B[m(417)].set(g[m(457)][0],g[m(457)][2],-g[m(457)][1]),B[m(394)](new(t[m(395)])(B[m(417)].x,0,B[m(417)].z-2e3)),_[m(414)]=B;let C=null;d((()=>{const t=m;x.value&&!C&&(C=new e(B,x.value[t(418)]),C[t(458)]=!0,C[t(413)]=.05,C[t(428)]=600,C[t(459)][t(454)](B[t(417)].x,B.position.y,B[t(417)].z),C[t(398)].set(B[t(417)].x,0,B[t(417)].z-2e3))})),h((()=>[g[m(449)],g.isMonochrome,g[m(407)]]),(([n,e,o])=>{const r=m;if(M[r(391)]){let s=new(t[r(403)])(o);M[r(391)][r(449)]=n,M.filter[r(407)]=e?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[g.genBright,g[m(389)],g.genSaturation]),(([t,n,e])=>{const o=m;M[o(391)]&&(M[o(391)][o(460)]=t,M[o(391)][o(389)]=n,M[o(391)][o(441)]=e)}));const{onLoop:z}=i();return z((()=>{var t;const n=m;if(x.value){null==(t=g[n(397)])||t[n(447)](),C&&C[n(447)](),_[n(447)]();const e=50*Math[n(431)](B[n(417)].y);B[n(422)]=e+5e3,B.updateProjectionMatrix(),x[n(440)].render(I[n(440)],B)}})),r({camera:B,map:_,orbitControl:C}),(t,n)=>{const e=m;return w(),j(e(400),{object:b(_),rotation:[-Math.PI/2,0,0]},null,8,Z)}}});function A(t){function n(t){const e=E;if(typeof t===e(435))return function(t){}[e(411)](e(430))[e(439)]("counter");1!==(""+t/t)[e(419)]||t%20==0?function(){return!0}[e(411)](e(392)+e(424)).call(e(434)):function(){return!1}[e(411)]("debugger")[e(439)](e(390)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=Q,o=W();for(;;)try{if(332178===parseInt(e(517))/1*(parseInt(e(516))/2)+parseInt(e(509))/3*(-parseInt(e(518))/4)+-parseInt(e(520))/5+parseInt(e(511))/6+parseInt(e(534))/7*(-parseInt(e(539))/8)+-parseInt(e(519))/9+-parseInt(e(501))/10*(-parseInt(e(535))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=Q,n=new RegExp(t(532)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=X(t(510));n[t(552)](o+"chain")&&e[t(552)](o+"input")?X():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(529)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=W();return(Q=function(t,n){return e[t-=499]})(t,n)}function W(){const t=["info","test","牛首山","addBinding","tileMapRef","genSaturation","length","action","value","warn","tweenInstance","#4688b5","console","manual","1231430jQHNWl","SRGBColorSpace","stateObject","奥体中心","camera","TresCanvas","genContrast","genBright","1024851mtwDuJ","init","2287068DdPSQF","opposite","log","trace","饱和度","8RdVndj","116373uOvDCn","4RSeOAa","2763441XnkwcD","1934945ImYQTh","orbitControl","isMonochrome","滤镜颜色","nss","while (true) {}","tileMapMeshRef","#201919","xjk","apply","addBlade","bind","function *\\( *\\)","NoToneMapping","2961IKFcKH","99tqBWgC","list","toString","prototype","11104NVQZTC","对比度","table","call","constructor","string","gger","monochrome","error","单色滤镜","return (function() ","counter"];return(W=function(){return t})()}P(void 0,(function(){const t=Q;let n;try{n=Function(t(549)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(499)]=n[t(499)]||{},o=[t(513),t(560),t(551),t(547),"exception",t(541),t(514)];for(let s=0;s<o[t(557)];s++){const n=P[t(543)][t(538)][t(531)](P),r=o[s],i=e[r]||n;n.__proto__=P[t(531)](P),n[t(537)]=i[t(537)].bind(i),e[r]=n}}))();const L=g({__name:"tileMap",setup(n){const e=Q,s=m(118.779958,32.017136),i=[s[0],s[1],5e3],a=x(),c=I({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(562),mapCenter:i,tweenInstance:null}),u=new r({title:"参数"});u.addBinding(c,e(512),{label:"反色"}),u.addBinding(c,e(508),{label:"高亮",min:.1,max:3,step:.1}),u.addBinding(c,e(507),{label:e(540),min:.1,max:3,step:.1}),u[e(554)](c,e(556),{label:e(515),min:.1,max:3,step:.1}),u.addBinding(c,e(522),{label:e(548)}),u.addBinding(c,e(546),{label:e(523)});const p={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};u[e(530)]({view:e(536),label:"飞去",options:[{text:e(504),value:"at"},{text:"新街口",value:e(528)},{text:e(553),value:e(524)}],value:"at"}).on("change",(t=>{const n=e,r=new o(p[t[n(559)]][0],2e3,-p[t[n(559)]][1]);c.tweenInstance=k(a[n(559)][n(505)],r,a[n(559)][n(521)],[0,-300],4e3)}));const l=I({clearColor:e(527),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(500),outputColorSpace:t[e(502)],toneMapping:t[e(533)]});return setTimeout((()=>{const t=e,n=p.at,r=new o(n[0],1600,-n[1]);c[t(561)]=k(a[t(559)][t(505)],r,a[t(559)][t(521)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v(o(506));return w(),j(z,null,[y(r,C(l,{"window-size":""}),{default:M((()=>[(w(),_(B,null,{default:M((()=>[y(H,C(c,{ref_key:o(526),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),y(S,{tileMapRef:a[o(559)]},null,8,[o(555)])],64)}}});function X(t){function n(t){const e=Q;if(typeof t===e(544))return function(t){}[e(543)](e(525))[e(529)](e(550));1!==(""+t/t)[e(557)]||t%20==0?function(){return!0}[e(543)]("debu"+e(545))[e(542)](e(558)):function(){return!1}[e(543)]("debu"+e(545))[e(529)](e(503)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{L as default};
