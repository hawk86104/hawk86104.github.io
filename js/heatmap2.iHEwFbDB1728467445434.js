import{P as t}from"./tweakpane.yHWGBmom1728467445434.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.CqEi66BK1728467445434.js";import{_ as r}from"./heatmap.js-fix.425mVFYu1728467445434.js";import{h as i,_ as c,bX as s}from"./three.5octV-9b1728467445434.js";import{r as u}from"./utils.vBDEvGnt1728467445434.js";import{d as a}from"./pinia.Y0XmpKlm1728467445434.js";import{b as f,d as p,a3 as l,o as h,E as d,L as m,u as g,F as y,q as v,V as b,O as w,Q as I,I as _,M as j,a4 as x,r as S,j as M,g as z,m as E}from"./@vue.JNsx1iN61728467445434.js";import{c as O,d as R,a as U}from"./three-mesh-bvh.tsDD7Nj61728467445434.js";import{_ as D}from"./@fesjs.BZc1KM0D1728467445434.js";import"./@tresjs.ED4ePb8T1728467445434.js";import"./@vueuse.G8I04tzi1728467445434.js";import"./three-custom-shader-material.uHGW21Ih1728467445434.js";import"./object-hash.o8Ug78mP1728467445434.js";import"./@amap.lDXqmBX01728467445434.js";import"./jszip.PJ3UEA1u1728467445434.js";import"./glsl-tokenizer.yxFRgXmJ1728467445434.js";import"./glsl-token-string.GZl6bhWe1728467445434.js";import"./glsl-token-functions.jWw0IkB61728467445434.js";import"./vue-router.2EyA_Lnc1728467445434.js";import"./lodash-es.kYt-_xTG1728467445434.js";import"./@qlin.yHhFDldE1728467445434.js";import"./@floating-ui.BPbuo5Gx1728467445434.js";import"./@juggle.7yjBMqoW1728467445434.js";function P(t,n){const e=A();return(P=function(t,n){return e[t-=182]})(t,n)}!function(t,n){const e=P,o=A();for(;;)try{if(635850===parseInt(e(200))/1*(parseInt(e(220))/2)+parseInt(e(188))/3+parseInt(e(227))/4+-parseInt(e(210))/5+-parseInt(e(204))/6+-parseInt(e(219))/7*(-parseInt(e(209))/8)+parseInt(e(229))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(201)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=P,n=new RegExp(t(221)),e=new RegExp(t(206),"i"),o=Z(t(212));n[t(198)](o+t(207))&&e[t(198)](o+t(215))?Z():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(201)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();F(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(189)+t(195)+");")()}catch(e){n=window}return n}(),e=n[t(197)]=n[t(197)]||{},o=[t(208),t(218),t(224),"error",t(185),t(202),t(203)];for(let r=0;r<o[t(232)];r++){const n=F[t(231)][t(216)][t(193)](F),i=o[r],c=e[i]||n;n.__proto__=F[t(193)](F),n.toString=c[t(222)].bind(c),e[i]=n}}))();const T=(t,n)=>t[P(184)](n)+-10;function Z(t){function n(t){const e=P;if(typeof t===e(225))return function(t){}[e(231)](e(230))[e(201)]("counter");1!==(""+t/t)[e(232)]||t%20==0?function(){return!0}[e(231)]("debugger").call(e(190)):function(){return!1}[e(231)](e(191)+e(205))[e(201)](e(217)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function A(){const t=["trace","6746424kJKkKo","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","log","12224OGYbjG","5601915vflgnN","none","init","left","display","input","prototype","stateObject","warn","5425lCoqBu","352526UvGxNe","function *\\( *\\)","toString","yellow","info","string","_config","2128136orYrjU","rgb(0,0,255)","1233342iTGdoo","while (true) {}","constructor","length","height","top","getValueAt","exception","setData","randInt","2553306fxIBOP","return (function() ","action","debu","push","bind","style",'{}.constructor("return this")( )',"appendChild","console","test","rgb(255,0,0)","1cOnlzi","apply","table"];return(A=function(){return t})()}const $=B;function B(t,n){const e=L();return(B=function(t,n){return e[t-=449]})(t,n)}!function(t,n){const e=B,o=L();for(;;)try{if(163502===parseInt(e(457))/1+-parseInt(e(458))/2*(parseInt(e(460))/3)+parseInt(e(459))/4+parseInt(e(456))/5+parseInt(e(471))/6+-parseInt(e(470))/7*(-parseInt(e(463))/8)+-parseInt(e(452))/9*(parseInt(e(483))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=B,n=new RegExp(t(484)),e=new RegExp(t(475),"i"),o=V("init");n.test(o+t(480))&&e[t(451)](o+t(472))?V():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["bind","test","945QyHdMU",'{}.constructor("return this")( )',"constructor","value","1224925oYjuFZ","161501XhzLRU","46sjflzn","125828VJdGoW","6258uXlfqp","return (function() ","trace","1036328OoyCzg","call","gger","length","exception","error","console","7WyPpTv","433746FefzJi","input","info","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","__proto__","stateObject","buildingsHeatmap","chain","toString","table","40790oIIgSw","function *\\( *\\)","action","debu","string","warn"];return(L=function(){return t})()}G(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(461)+t(453)+");")()}catch(e){n=window}return n}(),e=n[t(469)]=n[t(469)]||{},o=["log",t(449),t(473),t(468),t(467),t(482),t(462)];for(let r=0;r<o[t(466)];r++){const n=G.constructor[t(474)][t(450)](G),i=o[r],c=e[i]||n;n[t(477)]=G[t(450)](G),n[t(481)]=c[t(481)][t(450)](c),e[i]=n}}))();const N=a($(479),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[B(455)]=n},setTemperature:function(t){n[B(455)]=t}}}));function V(t){function n(t){const e=B;if(typeof t===e(487))return function(t){}[e(454)]("while (true) {}")[e(476)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(454)](e(486)+e(465))[e(464)](e(485)):function(){return!1}.constructor(e(486)+e(465))[e(476)](e(478)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=Q;!function(t,n){const e=Q,o=W();for(;;)try{if(181344===parseInt(e(329))/1+-parseInt(e(327))/2*(-parseInt(e(288))/3)+parseInt(e(265))/4+parseInt(e(331))/5+parseInt(e(328))/6*(-parseInt(e(315))/7)+parseInt(e(318))/8+-parseInt(e(323))/9*(parseInt(e(297))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(287)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=Q,n=new RegExp(t(303)),e=new RegExp(t(321),"i"),o=tt("init");n[t(295)](o+t(322))&&e[t(295)](o+"input")?tt():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(287)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=Q;let n;try{n=Function("return (function() "+t(305)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=["log","warn",t(304),t(271),t(278),t(292),"trace"];for(let i=0;i<o[t(302)];i++){const n=K.constructor[t(279)][t(299)](K),r=o[i],c=e[r]||n;n[t(284)]=K.bind(K),n[t(334)]=c[t(334)][t(299)](c),e[r]=n}}))();const X=[H(325),H(311)],C=[H(325)];function Q(t,n){const e=W();return(Q=function(t,n){return e[t-=265]})(t,n)}function W(){const t=["normal","Texture","Matrix4","__proto__","constructor","land","apply","465avOENB","setShowDiv","width","BufferGeometry","table","applyMatrix4","while (true) {}","test","setTemperature","150zVUaXS","needsUpdate","bind","makeRotationX","string","length","function *\\( *\\)","info",'{}.constructor("return this")( )',"gger","stateObject","_renderer","debu","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","rotation-x","uniforms","buildingsHeatmap","mergeGeometries","950229DkRymT","raycast","disposeBoundsTree","481560OlDKiN","clone","geometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","257679UlPSeo","model","object","$patch","4038kLeLNr","6iMEQob","21184KUxpvj","call","1221890PbKJUf","ShaderMaterial","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","toString","数值———：","431416NZfhyu","children","_config","attributes","uOpacity","action","error","数值：","primitive","opacity","canvas","Mesh","log","exception","prototype","DoubleSide"];return(W=function(){return t})()}const Y=p({__name:H(313),props:{model:{},opacity:{default:1}},setup(t){const n=H;(()=>{const t=Q;c[t(291)].prototype.computeBoundsTree=O,c[t(291)][t(279)][t(317)]=R,c[t(276)][t(279)][t(316)]=U})();const e=t,o=((t=250,n=250,e=!0)=>{const o=P,i=document.createElement("heatmap-canvas");return i[o(194)].position="absolute",!e&&(i.style[o(214)]=o(211)),i[o(194)][o(183)]="0",i[o(194)][o(213)]="0",document.body[o(196)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(228),.55:"rgb(0,255,0)",.85:o(223),1:o(199)}})})();((t,n)=>{const e=P;if(!n){let o=0;for(n=[];o<1e3;)n[e(192)]({x:i[e(187)](1,t[e(226)].width),y:i[e(187)](1,t[e(226)][e(182)]),value:i[e(187)](-10,36)}),o++}t[e(186)]({max:36,min:-10,data:n})})(o);const a=new(c[n(282)])(o[n(308)][n(275)]);a[n(298)]=!0;const f=e[n(324)].city[n(319)]();delete f[n(320)].attributes[n(281)],delete f[n(320)][n(268)].uv;const p=f[n(320)][n(319)]()[n(293)](f.matrix),v=e[n(324)][n(286)].clone();delete v[n(320)].attributes[n(281)];const b=v[n(320)].clone()[n(293)](v.matrix),w=s[n(314)]([p,b]);w.applyMatrix4((new(c[n(283)]))[n(300)](Math.PI/2)),u(w),w.computeBoundsTree();const I=(t=>{const o=n;return new(c[o(332)])({vertexShader:o(310),fragmentShader:o(333),uniforms:{uOpacity:{value:e[o(274)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(280)]})})(a),_=new(c[n(276)])(w,I);l((()=>{const t=n;e[t(274)]&&(I[t(312)][t(269)].value=e[t(274)])}));const j=N(),x=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(267)][e(290)],y:(1-t.uv.y)*o._config.height};console[e(277)](e(272),t),console[e(277)](e(335),T(o,n)),j[e(296)](T(o,n))}},S=t=>{t&&j[n(326)]({showDiv:!0})},M=t=>{t&&j[n(289)](!1)};return(t,o)=>{const r=n;return h(),d(y,null,[m(r(273),{object:g(_),"rotation-x":-Math.PI/2,onPointerMove:x,onPointerEnter:S,onPointerLeave:M},null,40,X),m(r(273),{object:e[r(324)][r(324)][r(266)][0].clone()},null,8,C)],64)}}});function tt(t){function n(t){const e=Q;if(typeof t===e(301))return function(t){}[e(285)](e(294)).apply("counter");1!==(""+t/t)[e(302)]||t%20==0?function(){return!0}[e(285)](e(309)+e(306))[e(330)](e(270)):function(){return!1}[e(285)](e(309)+"gger")[e(287)](e(307)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=D({__name:"dataDiv",setup(t){const n=N(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return v((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>w((h(),d("div",{class:"title",style:j(e.value)},"温度："+_(g(n).temperature)+"℃ ",5)),[[I,g(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=ct;!function(t,n){const e=ct,o=it();for(;;)try{if(980603===-parseInt(e(172))/1+parseInt(e(170))/2*(parseInt(e(183))/3)+-parseInt(e(171))/4+-parseInt(e(160))/5+parseInt(e(178))/6+parseInt(e(173))/7*(-parseInt(e(162))/8)+-parseInt(e(193))/9*(-parseInt(e(161))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ot(this,(function(){const t=ct,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(175),"i"),o=ut(t(182));n[t(192)](o+t(177))&&e[t(192)](o+t(163))?ut():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ct(181)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(){const t=["builds","string","warn","console","table","trace","constructor","length","addBinding","1464820jLnjdT","10gFWqgc","1528yASwHV","input","透明度","error","gger","stateObject","value","counter","14602SMIGlP","128872tjDUqV","1355130aJPNHP","67319qebKnS","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#000","chain","11579928bIDcCf","city","log","apply","init","546eJnRhm","toString",'{}.constructor("return this")( )',"heatmap2","model","bind","prototype","call","exception","test","11150928qIfRHF","return (function() "];return(it=function(){return t})()}function ct(t,n){const e=it();return(ct=function(t,n){return e[t-=157]})(t,n)}rt(void 0,(function(){const t=ct,n=function(){const t=ct;let n;try{n=Function(t(194)+t(185)+");")()}catch(e){n=window}return n}(),e=n[t(198)]=n[t(198)]||{},o=[t(180),t(197),"info",t(165),t(191),t(199),t(200)];for(let r=0;r<o[t(158)];r++){const n=rt[t(157)][t(189)].bind(rt),i=o[r],c=e[i]||n;n.__proto__=rt[t(188)](rt),n[t(184)]=c.toString[t(188)](c),e[i]=n}}))();const st=p({__name:et(186),async setup(r){const i=et;let c,s;const u=f(!1),a=([c,s]=x((()=>o())),c=await c,s(),c);u[i(168)]=!0;const p=S({width:1,color:i(176),opacity:1,show:!0}),l=S({opacity:.9});return new t({title:"参数",expanded:!0})[i(159)](l,"opacity",{label:i(164),min:0,max:1,step:.1}),(t,o)=>{const r=i;return h(),d(y,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[M(Y,E({model:g(a)},l),null,16,[r(187)]),M(n,E(p,{builds:g(a)[r(179)]}),null,16,[r(195)])])),_:1}),M(nt)],64)}}});function ut(t){function n(t){const e=ct;if(typeof t===e(196))return function(t){}[e(157)]("while (true) {}")[e(181)](e(169));1!==(""+t/t)[e(158)]||t%20==0?function(){return!0}[e(157)]("debu"+e(166))[e(190)](e(174)):function(){return!1}[e(157)]("debu"+e(166))[e(181)](e(167)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
