import{importShared as n}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{no as u,_l as s}from"./index.DTe2qqjO1767148983502.js";import{SPE as i}from"./SPE.CK-oXRCL1767148983502.js";const{defineComponent:p}=await n("vue"),{openBlock:d,createElementBlock:m,createCommentVNode:v}=await n("vue"),w=["object"],{watch:_,ref:f,toRaw:g}=await n("vue"),e=await n("three"),k=p({__name:"cloudMesh",setup(h){const{state:l}=u("./plugins/digitalCity/image/cloud.png");let r=null;const a=f(null);_(()=>l.value,t=>{if(t){t.magFilter=e.LinearMipMapLinearFilter,t.minFilter=e.LinearMipMapLinearFilter;try{r=new i.Group({texture:{value:t},blending:e.NormalBlending,depthTest:!1,depthWrite:!1});const o=new i.Emitter({type:i.distributions.BOX,particleCount:26,maxAge:{value:10},position:{value:new e.Vector3(0,0,0),spread:new e.Vector3(2e3,100,2e3)},velocity:{value:new e.Vector3(0,0,30)},wiggle:{spread:10},size:{value:520,spread:[100,220],randomise:!0},drag:{value:220},opacity:{value:[0,1,0],randomise:!0},color:{value:new e.Color(1,1,1),spread:new e.Color(.1,.1,.1)},angle:{value:[0,Math.PI*1/8]}});r.addEmitter(o),a.value=r.mesh}catch(o){console.warn("Failed to set particleGroup texture:",o)}}});const{onBeforeRender:c}=s();return c(({delta:t})=>{r&&r.tick(t)}),(t,o)=>a.value?(d(),m("primitive",{key:0,object:g(a.value),position:[0,200,0],renderOrder:3e3},null,8,w)):v("",!0)}});export{k as _sfc_main};
