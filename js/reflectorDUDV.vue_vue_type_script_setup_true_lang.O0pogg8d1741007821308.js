import{c8 as t,a3 as e,r as n,s as r}from"./three.sBrYSCgq1741007821308.js";import{a as o}from"./@tresjs.u6hJLBm41741007821308.js";import{R as s,b as i}from"./all.three.VR_q9_2T1741007821308.js";import{d as c,a3 as a,a2 as u,w as l,o as f,H as p,N as m,u as d}from"./@vue.NRI7TcgI1741007821308.js";const h=b;!function(t,e){const n=b,r=j();for(;;)try{if(172294===parseInt(n(273))/1*(parseInt(n(240))/2)+-parseInt(n(274))/3+parseInt(n(238))/4*(-parseInt(n(247))/5)+-parseInt(n(271))/6+-parseInt(n(261))/7*(-parseInt(n(272))/8)+-parseInt(n(257))/9*(-parseInt(n(260))/10)+parseInt(n(245))/11*(parseInt(n(256))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(283)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function b(t,e){const n=j();return(b=function(t,e){return n[t-=236]})(t,e)}!function(){g(this,(function(){const t=b,e=new RegExp(t(277)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_("init");e[t(270)](r+"chain")&&n[t(270)](r+t(281))?_():r("0")}))()}();const v=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(283)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(275)+t(290)+");")()}catch(n){e=window}return e}(),n=e[t(259)]=e[t(259)]||{},r=["log",t(252),t(286),t(244),t(291),"table",t(236)];for(let o=0;o<r.length;o++){const e=v.constructor[t(253)][t(255)](v),s=r[o],i=n[s]||e;e[t(267)]=v[t(255)](v),e.toString=i[t(288)][t(255)](i),n[s]=e}}))();const w=[h(279)],y=[h(292)],I=[h(292)];function j(){const t=["ignoreObjects","trace","visible","4IkpNpa","TresGroup","1006RedcSq","debu","stateObject","set","error","7997ZGaskE","texture","1530065CybATc","uMatrix","tReflect","string","constructor","warn","prototype","size","bind","132dmsNil","189mMGVpp","primitive","console","131510AeHcPF","5222DympuJ","reflectivity","uniforms","showGridHelper","length","reflectorDUDV","__proto__","wrapS","value","test","884898MVuDku","2816JlXkSV","649xFaWkh","742251adsYHY","return (function() ","forEach","function *\\( *\\)","isMesh","scale","repeat","input","renderTarget","apply","while (true) {}","rotation","info","action","toString","mapUrl",'{}.constructor("return this")( )',"exception","object"];return(j=function(){return t})()}const x=c({__name:h(266),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:g}){const b=h;let v,j;const x=c,_=new s,M=new t(x[b(254)][0]-.5,x[b(254)][1]);M.visible=x[b(264)];const{map:R}=([v,j]=a((()=>o({map:x[b(289)]}))),v=await v,j(),v);R[b(268)]=e,R.wrapT=e,R[b(280)][b(243)](6,3);const k=new i({map:R,reflectivity:x[b(262)]});k[b(263)][b(249)]={value:_[b(282)][b(246)]},k.uniforms.tReflectBlur=_.renderTargetUniform,k[b(263)][b(248)]=_.textureMatrixUniform;const z=new n(new r(x[b(254)][0],x.size[1]),k);return z[b(285)].x=-Math.PI/2,z.add(_),z.onBeforeRender=(t,e,n)=>{const r=b;z[r(237)]=!1,x[r(293)][r(276)]((t=>{const e=r;t.isMesh&&(t.visible=!1),t.value&&t[e(269)][e(278)]&&(t.value.visible=!1)})),_.update(t,e,n),x.ignoreObjects[r(276)]((t=>{const e=r;t[e(278)]&&(t[e(237)]=!0),t[e(269)]&&t[e(269)].isMesh&&(t[e(269)][e(237)]=!0)})),z[r(237)]=!0},u((()=>{const t=b;x[t(262)]&&(k.uniforms.uReflectivity[t(269)]=x[t(262)])})),l((()=>x[b(264)]),(t=>{M.visible=t})),g({reflector:_}),(t,e)=>{const n=b;return f(),p(n(239),{scale:x.scale},[m(n(258),{object:d(z),"position-y":-.01},null,8,y),m("primitive",{object:d(M)},null,8,I)],8,w)}}});function _(t){function e(t){const n=b;if(typeof t===n(250))return function(t){}[n(251)](n(284))[n(283)]("counter");1!==(""+t/t)[n(265)]||t%20==0?function(){return!0}[n(251)](n(241)+"gger").call(n(287)):function(){return!1}[n(251)](n(241)+"gger").apply(n(242)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
