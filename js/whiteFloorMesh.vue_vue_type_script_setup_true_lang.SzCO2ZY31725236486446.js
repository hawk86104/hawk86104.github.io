import{bR as t,a6 as n,am as r,C as o}from"./three.0IuNGJsA1725236486446.js";import{N as e}from"./@tresjs.DDzpLB7Q1725236486446.js";import{d as a,b as s,a4 as i,w as u,o as c,D as f,J as l,aj as p,ak as h}from"./@vue.9bHx4gg21725236486446.js";!function(t,n){const r=m,o=v();for(;;)try{if(368491===-parseInt(r(467))/1+-parseInt(r(462))/2*(-parseInt(r(429))/3)+parseInt(r(447))/4*(parseInt(r(430))/5)+-parseInt(r(434))/6+parseInt(r(464))/7*(-parseInt(r(451))/8)+parseInt(r(448))/9+parseInt(r(465))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[m(459)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){d(this,(function(){const t=m,n=new RegExp(t(470)),r=new RegExp(t(442),"i"),o=x("init");n[t(440)](o+"chain")&&r[t(440)](o+t(449))?x():o("0")}))()}();const g=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function m(t,n){const r=v();return(m=function(t,n){return r[t-=423]})(t,n)}function v(){const t=["bind","bsdfs","common","while (true) {}","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","trace","\n       varying vec2 vUv;\n\t\t\t \t","12SawUMi","215LjCCui","length","ShaderChunk","\n          ","1124238ImzZZx","table","\n       void main() {\n\t\t\t\t\t","shadowmask_pars_fragment",'{}.constructor("return this")( )',"toString","test","shadowmap_pars_fragment","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","shadowmap_pars_vertex","defaultnormal_vertex","project_vertex","packing","57748BTfAeM","1848411cGCQFN","input","call","145352KKptKq","begin_vertex","console","info","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","action","\n\t ","log","apply","__proto__","counter","214690QCBkwg","\n      \t","238hktpin","6476280WgKNsr","constructor","729568SKofUo","lights_pars_begin","gger","function *\\( *\\)","stateObject"];return(v=function(){return t})()}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function("return (function() "+t(438)+");")()}catch(r){n=window}return n}(),r=n[t(453)]=n[t(453)]||{},o=[t(458),"warn",t(454),"error","exception",t(435),t(427)];for(let e=0;e<o[t(431)];e++){const n=g[t(466)].prototype.bind(g),a=o[e],s=r[a]||n;n[t(460)]=g[t(472)](g),n[t(439)]=s.toString.bind(s),r[a]=n}}))();const w=()=>{const r=m;return r(428)+t[r(424)]+r(463)+n[r(432)][r(423)]+r(463)+t[r(443)]+r(436)+n[r(432)].beginnormal_vertex+r(433)+n[r(432)][r(444)]+"\n          "+n[r(432)][r(452)]+"\n          "+n[r(432)][r(445)]+r(433)+n[r(432)].worldpos_vertex+"\n          "+n[r(432)].shadowmap_vertex+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},_=()=>{const r=m;return r(426)+t[r(424)]+r(457)+t[r(446)]+r(457)+n[r(432)][r(423)]+"\n\t "+n[r(432)][r(468)]+r(457)+n[r(432)][r(441)]+"\n\t "+n[r(432)][r(437)]+r(455)};function x(t){function n(t){const r=m;if("string"==typeof t)return function(t){}[r(466)](r(425))[r(459)](r(461));1!==(""+t/t)[r(431)]||t%20==0?function(){return!0}[r(466)]("debugger")[r(450)](r(456)):function(){return!1}.constructor("debu"+r(469)).apply(r(471)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function b(){const t=["edge","color","25720RJKoDN","apply","toString","bind","warn","console","input","action","TresShaderMaterial","#999","480058KlixlY","constructor","uColor","table","#990","info","gger","11kFtrCP","args","1801146cGmDJR","shadowColor","DoubleSide","size","UniformsUtils","debu","1110965XYUlSP","rotation-x","wrapS","__proto__","Color","init","855oeZvnO","uShadowColor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8489340rVssaP","length","stateObject","prototype","TresMesh","RepeatWrapping","fEdge","exception","chain","uniforms","114xmCCXC","merge","return (function() ","trace","183229HiAwTx","7sRhbJN","lights","26428jMCHEn","test","call",'{}.constructor("return this")( )'];return(b=function(){return t})()}const C=y;!function(t,n){const r=y,o=b();for(;;)try{if(173141===parseInt(r(490))/1+-parseInt(r(509))/2+parseInt(r(486))/3*(parseInt(r(493))/4)+parseInt(r(467))/5+-parseInt(r(461))/6*(-parseInt(r(491))/7)+-parseInt(r(499))/8*(-parseInt(r(473))/9)+-parseInt(r(476))/10*(parseInt(r(459))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const I=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function y(t,n){const r=b();return(y=function(t,n){return r[t-=453]})(t,n)}!function(){I(this,(function(){const t=y,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(475),"i"),o=T(t(472));n[t(494)](o+t(484))&&r[t(494)](o+t(505))?T():o("0")}))()}();const S=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[y(500)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=y;let n;try{n=Function(t(488)+t(496)+");")()}catch(e){n=window}const r=n[t(504)]=n[t(504)]||{},o=["log",t(503),t(457),"error",t(483),t(455),t(489)];for(let a=0;a<o[t(477)];a++){const n=S[t(453)][t(479)][t(502)](S),e=o[a],s=r[e]||n;n[t(470)]=S[t(502)](S),n[t(501)]=s.toString[t(502)](s),r[e]=n}}))();const j=[C(468)],k=[C(460)],M=a({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:C(456)},shadowColor:{default:C(508)},edge:{default:.35}},async setup(t){const a=C;let d,g;const m=t,v=s(),{map:x}=([d,g]=i((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x[a(469)]=x.wrapT=n[a(481)];const b={uniforms:n[a(465)][a(487)]([r[a(492)],{uTexture:{type:"t",value:x},uColor:{value:new(n[a(471)])(m[a(498)])},uShadowColor:{value:new o(m[a(462)])},fEdge:{type:"f",value:m[a(497)]}}]),side:n[a(463)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>m[a(497)]),(t=>{const n=a;b[n(485)][n(482)].value=t})),u((()=>m[a(498)]),(t=>{const r=a;b[r(485)][r(454)].value=new(n[r(471)])(m[r(498)])})),u((()=>m[a(462)]),(t=>{const r=a;b[r(485)][r(474)].value=new(n[r(471)])(m[r(462)])})),(t,n)=>{const r=a;return c(),f(r(480),{ref_key:"tmRef",ref:v,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:m[r(464)]},null,8,k),l(r(507),p(h(b)),null,16)],8,j)}}});function T(t){function n(t){const r=y;if("string"==typeof t)return function(t){}[r(453)]("while (true) {}")[r(500)]("counter");1!==(""+t/t)[r(477)]||t%20==0?function(){return!0}.constructor("debu"+r(458))[r(495)](r(506)):function(){return!1}[r(453)](r(466)+r(458))[r(500)](r(478)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
