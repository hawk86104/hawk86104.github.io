import{a as t,k as n,B as e,s as o,c6 as r,C as s,a0 as c}from"./three.rmsIv-u_1736160428509.js";import{w as i}from"./@fesjs.pVksQyts1736160428509.js";import{b as a}from"./@tresjs.8MtVPQyb1736160428509.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.dI06GwOp1736160428509.js";function l(){const t=["position","error","value","boundingBox","set","log","setFromObject","getY","15147PjbKrR","toString","uniforms","apply","min","disposeBoundsTree",'{}.constructor("return this")( )',"reflectivity","while (true) {}","max","computeBoundingBox","setAttribute","debu","getSize","7CAAUxE","get","10AtqsnX","123512RdTcBZ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","applyMatrix4","trace","transparent","computeBoundsTree","292378mYjSrw","geometry","init","counter","gger","prototype","6nWibeu","catch","copy","attributes","test","count","console","action","table","408897KpSUGF","config","input","random","divideScalar","json","stateObject","setY","bind","material","Vector3","return (function() ","1062555pMjRdS","exception","push","depthTest","warn","getX","#fff","constructor","raycast","2572097HUyhDZ","1124205fHYgJb","add","sub","__proto__","Box3","4hvUVBK","negate","function *\\( *\\)","features"];return(l=function(){return t})()}!function(t,n){const e=b,o=l();for(;;)try{if(293001===parseInt(e(436))/1+-parseInt(e(460))/2+parseInt(e(487))/3*(parseInt(e(502))/4)+parseInt(e(497))/5*(-parseInt(e(466))/6)+parseInt(e(450))/7*(parseInt(e(453))/8)+parseInt(e(475))/9*(parseInt(e(452))/10)+parseInt(e(496))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(439)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=b,n=new RegExp(t(504)),e=new RegExp(t(454),"i"),o=_(t(462));n[t(470)](o+"chain")&&e[t(470)](o+t(477))?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(439)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=b;let n;try{n=Function(t(486)+t(442)+");")()}catch(r){n=window}const e=n[t(472)]=n[t(472)]||{},o=[t(511),t(491),"info",t(507),t(488),t(474),t(457)];for(let s=0;s<o[t(455)];s++){const n=g[t(494)][t(465)][t(483)](g),r=o[s],c=e[r]||n;n[t(500)]=g[t(483)](g),n[t(437)]=c.toString[t(483)](c),e[r]=n}}))();const h=(n,e=!1)=>{const o=b;n[o(446)]();const{max:r,min:s}=n[o(509)];n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n.attributes.position[o(471)];t++)e?(a[o(489)]((n[o(469)][o(506)][o(492)](t)-(s.x+r.x)/2)/c),a.push((n[o(469)][o(506)][o(513)](t)-(s.y+r.y)/2)/i)):(a[o(489)]((n[o(469)][o(506)].getX(t)-s.x)/c),a[o(489)]((n[o(469)][o(506)][o(513)](t)-s.y)/i));const u=new Float32Array(a);n[o(447)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=b;i(t,{},{method:r(451),mergeRequest:!0,responseType:r(480)}).then((t=>{const o=r;n&&e(t[n]),e(t[o(505)])}))[r(467)]((t=>{console[r(507)](t),o(t)}))})),y=t=>{const n=b,e=(new(THREE[n(501)]))[n(512)](t),o=new(THREE[n(485)]);e.getCenter(o),t.children.forEach((t=>{const e=n;t.position[e(499)](o)})),t[n(506)][n(468)](o.negate())},w=()=>{const t=b;e.prototype[t(459)]=u,e.prototype[t(441)]=p,o.prototype[t(495)]=f},x=async t=>{const e=b,o=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[e(461)].clone();h(i),i[e(459)]();const u=new r(i,{color:new s(e(493)),scale:20,flowDirection:new n(1,1),textureWidth:1024,textureHeight:1024,normalMap0:o[0],normalMap1:o[1]});return u[e(484)][e(458)]=!0,u[e(484)].depthWrite=!0,u.material[e(490)]=!0,u.material.side=c,u[e(484)][e(438)][e(476)][e(508)].w=20,u[e(484)].uniforms[e(443)].value=.46,u};function b(t,n){const e=l();return(b=function(t,n){return e[t-=436]})(t,n)}function j(t){const e=b,o=[];for(let s=0;s<t[e(455)];s++)o.push(new n(t[s].x,t[s].y));const r=new n;for(let n=0;n<o.length;n++)r[e(498)](o[n]);r[e(479)](o[e(455)]);for(let n=0;n<o[e(455)];n++)o[n][e(499)](r);return{points:o,centerPoint:r}}function _(t){function n(t){const e=b;if("string"==typeof t)return function(t){}[e(494)](e(444))[e(439)](e(463));1!==(""+t/t)[e(455)]||t%20==0?function(){return!0}.constructor(e(448)+e(464)).call(e(473)):function(){return!1}.constructor(e(448)+e(464))[e(439)](e(481)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,w as i,d as l,h as r,x as s};
