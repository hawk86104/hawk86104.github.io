import{U as n,p as t,Y as e,n as r,z as o}from"./@tresjs.BFyWuCYn1726273176332.js";import{z as i,_ as s,a0 as a}from"./three.874nNzAX1726273176332.js";import{P as c}from"./tweakpane.yHWGBmom1726273176332.js";import{L as u}from"./three-subdivide.dMwV_UJz1726273176332.js";import{d as l,b as f,a3 as p,w as d,o as g,E as m,L as h,aj as v,ak as y,a4 as b,r as w,e as _,f as I,g as M,j as x,u as B,m as S,J as T}from"./@vue.JNsx1iN61726273176332.js";import"./@vueuse.NxhkGURn1726273176332.js";const j=k;!function(n,t){const e=k,r=V();for(;;)try{if(609130===-parseInt(e(553))/1*(parseInt(e(508))/2)+-parseInt(e(511))/3*(parseInt(e(524))/4)+-parseInt(e(507))/5+parseInt(e(521))/6*(-parseInt(e(532))/7)+parseInt(e(551))/8+-parseInt(e(520))/9+-parseInt(e(515))/10*(-parseInt(e(527))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(544)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=k,t=new RegExp(n(554)),e=new RegExp(n(512),"i"),r=R(n(529));t[n(503)](r+n(505))&&e.test(r+n(558))?R():r("0")}))()}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(544)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function V(){const n=["TSGref","warn","debu","material","AdditiveBlending","test","copy","chain","attributes","254385NpHTBU","34jNxXtt","modify","#ffff00","12rLLVHU","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","position","log","311730gxKyjb","prototype","action","glowColor","stateObject","2915820XRSzDW","1714476zKnSUN","toString","shineShader","533524OtEhDL","bind","return (function() ","682DRITbo","blending","init",'{}.constructor("return this")( )',"value","28wtpEeU","Color","side","length","info","uniforms","constructor","string","TresShaderMaterial","error","counter","Vector3","apply","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","TresMesh","color","clone","console","geometry","6279248jHVcaS","gger","3361BwXuFw","function *\\( *\\)","subdivision","exception","srcMesh","input","__proto__","table"];return(V=function(){return n})()}function k(n,t){const e=V();return(k=function(n,t){return e[n-=500]})(n,t)}N(void 0,(function(){const n=k;let t;try{t=Function(n(526)+n(530)+");")()}catch(o){t=window}const e=t.console=t[n(549)]||{},r=[n(514),n(562),n(536),n(541),n(556),n(560),"trace"];for(let i=0;i<r[n(535)];i++){const t=N[n(538)][n(516)][n(525)](N),o=r[i],s=e[o]||t;t[n(559)]=N.bind(N),t.toString=s[n(522)][n(525)](s),e[o]=t}}))();const A=["scale"],C=l({__name:j(523),props:{srcMesh:{},scale:{default:1.2},color:{default:j(510)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i},blending:{default:s[j(502)]}},setup(e){const r=j,o=e,i=f(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(533)])(o[r(547)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(545),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(528)]};p((()=>{const n=r;if(o[n(557)]&&i[n(531)]&&!i[n(531)].geometry[n(506)][n(513)]){let t=o[n(557)][n(550)][n(548)]();o[n(555)]&&(t=u[n(509)](t,2)),i[n(531)][n(550)]=t,i[n(531)][n(513)][n(504)](o.srcMesh[n(513)])}o.color&&(a[n(537)][n(518)][n(531)]=new(s[n(533)])(o[n(547)])),o.c&&(a.uniforms.c[n(531)]=o.c),o.p&&(a.uniforms.p[n(531)]=o.p)})),d((()=>o[r(555)]),(n=>{const t=r;let e=o[t(557)][t(550)][t(548)]();n&&(e=u[t(509)](e,2)),i[t(531)][t(550)]=e})),d((()=>o[r(534)]),(n=>{const t=r;i.value[t(501)].side=n})),d((()=>o[r(528)]),(n=>{const t=r;i[t(531)][t(501)][t(528)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=r;l.value&&i[n(531)]&&(a.uniforms.viewVector[n(531)]=(new(s[n(543)])).subVectors(l[n(531)].position,i[n(531)][n(513)]))})),(n,t)=>{const e=r;return g(),m(e(546),{ref_key:e(561),ref:i,scale:o.scale},[h(e(540),v(y(a)),null,16)],8,A)}}});function R(n){function t(n){const e=k;if(typeof n===e(539))return function(n){}[e(538)]("while (true) {}")[e(544)](e(542));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debu"+e(552)).call(e(517)):function(){return!1}[e(538)](e(500)+e(552))[e(544)](e(519)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const L=$;!function(n,t){const e=$,r=K();for(;;)try{if(196762===parseInt(e(329))/1*(-parseInt(e(334))/2)+-parseInt(e(317))/3*(-parseInt(e(336))/4)+parseInt(e(345))/5+parseInt(e(331))/6*(parseInt(e(353))/7)+parseInt(e(319))/8+parseInt(e(325))/9*(-parseInt(e(365))/10)+-parseInt(e(326))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[$(350)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){E(this,(function(){const n=$,t=new RegExp(n(314)),e=new RegExp(n(357),"i"),r=O(n(322));t[n(352)](r+n(342))&&e[n(352)](r+n(310))?O():r("0")}))()}();const H=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[$(350)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();H(void 0,(function(){const n=$,t=function(){const n=$;let t;try{t=Function(n(360)+n(356)+");")()}catch(e){t=window}return t}(),e=t[n(330)]=t[n(330)]||{},r=["log",n(332),n(341),n(315),n(362),n(320),n(309)];for(let o=0;o<r.length;o++){const t=H[n(349)][n(370)].bind(H),i=r[o],s=e[i]||t;t[n(307)]=H[n(333)](H),t[n(367)]=s[n(367)][n(333)](s),e[i]=t}}))();const U=h(L(306),{position:[5,5,5]},null,-1),F=h(L(316),{intensity:1},null,-1),G=h("TresGridHelper",{args:[10,10]},null,-1),D=h("TresSphereGeometry",{args:[1,32,16]},null,-1),X=[L(328)],W=["map"],Z=[h(L(337),{args:[1,1,1,1,1]},null,-1),h(L(339),{color:L(321)},null,-1)];function $(n,t){const e=K();return($=function(n,t){return e[n-=306]})(n,t)}const J=l({__name:"shader",async setup(n){const t=L;let i,u;const l={clearColor:t(323)},p=f(),d=f(),m=f(),v=([i,u]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(351)]))),i=await i,u(),i),y=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:s[t(347)],blending:s[t(343)]}),j=new c({title:"参数",expanded:!0});return j[t(361)](y,t(327),{label:"颜色"}),j.addBinding(y,"scale",{label:"大小",min:1,max:3,step:.2}),j.addBinding(y,t(311),{label:t(355)}),j[t(361)](y,"c",{label:"c",min:0,max:2,step:.1}),j[t(361)](y,"p",{label:"p",min:0,max:8,step:.2}),j.addBinding(y,t(358),{options:{FrontSide:s[t(347)],BackSide:s[t(312)],DoubleSide:a}}),j.addBinding(y,t(368),{options:{AdditiveBlending:s[t(343)],NormalBlending:s[t(324)]}}),(n,o)=>{const i=t,s=_(i(369));return g(),I(s,S(l,{"window-size":""}),{default:M((()=>[U,F,x(B(e)),G,h(i(354),{ref_key:i(359),ref:p,position:[-2,1,0]},[D,h("TresMeshBasicMaterial",{map:B(v)[0]},null,8,X)],512),x(C,S({srcMesh:p.value},y),null,16,[i(363)]),x(B(r),{ref_key:i(364),ref:m,args:[1,1,1],position:[2,1,0]},{default:M((()=>[h("TresMeshBasicMaterial",{map:B(v)[1]},null,8,W)])),_:1},512),m[i(348)]&&m.value[i(344)]?(g(),I(C,S({key:0,srcMesh:m[i(348)][i(344)]},y),null,16,[i(363)])):T("",!0),h(i(354),{ref_key:i(308),ref:d,position:[0,1,-2]},Z,512),x(C,S({srcMesh:d.value},y),null,16,[i(363)])])),_:1},16)}}});function K(){const n=["table","#0ff","init","#222","NormalBlending","1062yHSHgC","4793745WVrJch","color","map","4651UqbKmN","console","766230LdXNqU","warn","bind","2uhdAGM","action","12DvJczN","TresBoxGeometry","gger","TresMeshBasicMaterial","length","info","chain","AdditiveBlending","instance","25000oNmWsj","counter","FrontSide","value","constructor","apply","logo.png","test","21VosgGR","TresMesh","边缘处理",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","side","TresMeshRefA","return (function() ","addBinding","exception","srcMesh","TreBoxRef","10410HYteHm","debu","toString","blending","TresCanvas","prototype","TresPerspectiveCamera","__proto__","TresMeshRefB","trace","input","subdivision","BackSide","call","function *\\( *\\)","error","TresAmbientLight","240819nsiXhC","string","1048896EbVbLz"];return(K=function(){return n})()}function O(n){function t(n){const e=$;if(typeof n===e(318))return function(n){}[e(349)]("while (true) {}").apply(e(346));1!==(""+n/n)[e(340)]||n%20==0?function(){return!0}[e(349)](e(366)+e(338))[e(313)](e(335)):function(){return!1}[e(349)]("debu"+e(338))[e(350)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{J as default};
