import{q as t,Y as n}from"./@tresjs.UGbbWZf51726652192279.js";import{P as e}from"./tweakpane.yHWGBmom1726652192279.js";import{_ as o,ak as r,al as a}from"./three.3esZ7Hzr1726652192279.js";import{_ as s}from"./heatmap.js-fix.YIlcwF1U1726652192279.js";import{d as i,a4 as c,a3 as u,o as l,E as p,u as f,r as d,e as h,f as m,g,j as v,al as y,aj as w,ak as b,m as x,L as _}from"./@vue.JNsx1iN61726652192279.js";import"./@vueuse.OdTlFP151726652192279.js";import"./@amap.-LPMSFvH1726652192279.js";const I=C;!function(t,n){const e=C,o=k();for(;;)try{if(783434===parseInt(e(311))/1*(-parseInt(e(284))/2)+parseInt(e(318))/3+-parseInt(e(309))/4*(parseInt(e(271))/5)+parseInt(e(298))/6*(-parseInt(e(307))/7)+parseInt(e(285))/8+parseInt(e(281))/9+parseInt(e(305))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(301)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=C,n=new RegExp(t(336)),e=new RegExp(t(322),"i"),o=M(t(282));n.test(o+t(287))&&e[t(274)](o+"input")?M():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(301)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(t,n){const e=k();return(C=function(t,n){return e[t-=268]})(t,n)}S(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function("return (function() "+t(291)+");")()}catch(e){n=window}return n}(),e=n[t(334)]=n[t(334)]||{},o=[t(279),"warn",t(337),"error","exception","table","trace"];for(let r=0;r<o[t(286)];r++){const n=S.constructor.prototype[t(289)](S),a=o[r],s=e[a]||n;n[t(292)]=S.bind(S),n[t(304)]=s.toString.bind(s),e[a]=n}}))();const A=[I(330)];function k(){const t=["Texture","geometry","apply","material","_renderer","toString","10281530vsBSPO","needsUpdate","7DUODvK","40px","9976PLtwZq","computeBoundingBox","771335tsghsj","action","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","while (true) {}","set","radius","left","1351515twlWKA","setDataMax","scale","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","boundingBox","getZ","push","top","show2dCanvas","layerY","gger","object","attributes","constructor","DoubleSide","console","layerX","function *\\( *\\)","info","stateObject","counter","style","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","2615tqDrsl","createElement","display","test","BufferAttribute","string","absolute","call","log","canvas","3099249zAefhw","init","count","2fHAMum","8432304pqoyxl","length","chain","appendChild","bind","ShaderMaterial",'{}.constructor("return this")( )',"__proto__","none","addData","setScalar","position","mesh_0","107556WgKbai"];return(k=function(){return t})()}const z=i({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t(e(270),{draco:!0,decoderPath:"./draco/"}))),r=await r,a(),r);d[e(297)][e(296)][e(315)](-5088.96,-3.08,39374.7),d[e(297)][e(320)][e(295)](.01);let h=null,m=null,g=null;m=new(o[e(299)])((()=>{const t=e;return g=document[t(272)]("heatmap-canvas"),g.style[t(296)]=t(277),g[t(269)][t(326)]=t(308),g.style[t(317)]="0",document.body[t(288)](g),h=s.create({container:g,width:256,height:256,blur:"0.8",radius:i[t(316)]}),h[t(303)][t(280)][t(269)].border="1px solid #5384ff",h[t(303)][t(280)].onclick=function(n){const e=t;h[e(294)]({x:n[e(335)],y:n[e(328)],value:1,radius:i[e(316)]}),h[e(319)](1),m&&(m[e(306)]=!0)},h})()[e(303)][e(280)]);const v={vertexShader:e(313),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(333)]},y=new(o[e(290)])(v);d[e(297)][e(302)]=y;return(t=>{const n=e;t[n(310)]();const{max:r,min:a}=t[n(323)];t.deleteAttribute("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t.attributes[n(296)][n(283)];e++)c[n(325)]((t[n(331)][n(296)].getX(e)-a.x)/s),c.push((t[n(331)].position[n(324)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(275)])(u,2))})(d.mesh_0[e(300)]),u((()=>{const t=e;g[t(269)][t(273)]=""+(i[t(327)]?"block":t(293))})),(t,n)=>(l(),p("primitive",{object:f(d).mesh_0},null,8,A))}});function M(t){function n(t){const e=C;if(typeof t===e(276))return function(t){}[e(332)](e(314))[e(301)](e(268));1!==(""+t/t)[e(286)]||t%20==0?function(){return!0}[e(332)]("debugger")[e(278)](e(312)):function(){return!1}.constructor(e(321)+e(329))[e(301)](e(338)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const D=B;function B(t,n){const e=U();return(B=function(t,n){return e[t-=245]})(t,n)}!function(t,n){const e=B,o=U();for(;;)try{if(265270===-parseInt(e(277))/1+-parseInt(e(270))/2+parseInt(e(249))/3+parseInt(e(265))/4+-parseInt(e(275))/5*(-parseInt(e(284))/6)+parseInt(e(260))/7+parseInt(e(254))/8*(-parseInt(e(274))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(250)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=B,n=new RegExp(t(255)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Z("init");n[t(287)](o+t(257))&&e[t(287)](o+t(259))?Z():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(250)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=B,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(251)]=n[t(251)]||{},o=["log",t(281),t(269),"error",t(278),"table",t(267)];for(let r=0;r<o[t(282)];r++){const n=E[t(286)][t(247)][t(285)](E),a=o[r],s=e[a]||n;n[t(261)]=E[t(285)](E),n[t(246)]=s[t(246)][t(285)](s),e[a]=n}}))();const O=_("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),R=_(D(279),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1),T=_(D(280),{args:[50,25]},null,-1);function U(){const t=["addButton","#030311","radius","709540EYxSxg","gger","trace","圆圈的大小","info","51682FlcJSP","点击左侧蓝色画框","TresCanvas","while (true) {}","18cAIswc","118270RqXwnu","显示二维图","12638WVVhoG","exception","TresDirectionalLight","TresGridHelper","warn","length","addBinding","72kuxvfJ","bind","constructor","test","call","toString","prototype","action","1533900ziYlGo","apply","console","stateObject","debu","2686328StQiXP","function *\\( *\\)","heatmapClick","chain","show2dCanvas","input","19586YstenM","__proto__"];return(U=function(){return t})()}const q=i({__name:D(256),setup(t){const o=D,s={clearColor:o(263),shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(283)](i,o(258),{label:o(276)}),c[o(283)](i,o(264),{label:o(268),min:.1,max:30,step:.1}),c[o(262)]({title:o(271)}),(t,e)=>{const r=h(o(272));return l(),m(r,x(s,{"window-size":""}),{default:g((()=>[O,v(f(n),{autoRotate:!1,autoRotateSpeed:2}),R,T,(l(),m(y,null,{default:g((()=>[v(z,w(b(i)),null,16)])),_:1}))])),_:1},16)}}});function Z(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(286)](e(273)).apply("counter");1!==(""+t/t)[e(282)]||t%20==0?function(){return!0}[e(286)](e(253)+"gger")[e(245)](e(248)):function(){return!1}.constructor(e(253)+e(266))[e(250)](e(252)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
