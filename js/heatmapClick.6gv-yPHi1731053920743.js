import{a as t,U as n}from"./@tresjs.hJVQLtpa1731053920743.js";import{P as e}from"./tweakpane.yHWGBmom1731053920743.js";import{Y as o,_ as r,a,ak as s,al as i}from"./three.eGpwEcxC1731053920743.js";import{_ as c}from"./heatmap.js-fix.rFTVbS8c1731053920743.js";import{d as u,a6 as l,a3 as p,o as f,D as d,u as h,r as m,e as g,f as y,g as v,J as b,j as w,al as x,aj as _,ak as I,m as j}from"./@vue.u2cBPEWn1731053920743.js";import"./@vueuse.weJ7f3dz1731053920743.js";import"./@amap.p7X0bWcq1731053920743.js";const C=R;function A(){const t=["bind","1972150YCexxm","debu","apply","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","error","getZ","23094ZRLfOd","counter","boundingBox","info","constructor","style","block","body","ShaderMaterial","mesh_0","warn","create","layerY","geometry","absolute","count","toString","scale","692AxtqDx","createElement","object","DoubleSide","while (true) {}","stateObject","border","23742ZmGLHs","position","prototype","material","attributes","532562CGyNhF","_renderer",'{}.constructor("return this")( )',"9JOgPKB","11MChRjh","console","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","push","setDataMax","1px solid #5384ff","9195720mOAASA","top","__proto__","canvas","appendChild","set","./draco/","init","string","function *\\( *\\)","heatmap-canvas","addData","gger","1274HSXnHH","test","40px","deleteAttribute","none","onclick","exception","getX","trace","log","setScalar","6400410EttjTL","radius","1293980eouARD","length","show2dCanvas","display"];return(A=function(){return t})()}function R(t,n){const e=A();return(R=function(t,n){return e[t-=101]})(t,n)}!function(t,n){const e=R,o=A();for(;;)try{if(686927===parseInt(e(135))/1+-parseInt(e(176))/2+-parseInt(e(171))/3*(parseInt(e(164))/4)+parseInt(e(133))/5+-parseInt(e(146))/6*(-parseInt(e(122))/7)+-parseInt(e(109))/8*(parseInt(e(102))/9)+parseInt(e(140))/10*(parseInt(e(103))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(142)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=R,n=new RegExp(t(118)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=M(t(116));n.test(o+"chain")&&e[t(123)](o+"input")?M():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(142)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();z(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function("return (function() "+t(101)+");")()}catch(e){n=window}return n}(),e=n[t(104)]=n[t(104)]||{},o=[t(131),t(156),t(149),t(144),t(128),"table",t(130)];for(let r=0;r<o[t(136)];r++){const n=z.constructor[t(173)][t(139)](z),a=o[r],s=e[a]||n;n[t(111)]=z[t(139)](z),n[t(162)]=s[t(162)][t(139)](s),e[a]=n}}))();const S=[C(166)],D=u({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let s,i;const u=n,{nodes:m}=([s,i]=l((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(115)}))),s=await s,i(),s);m[e(155)][e(172)][e(114)](-5088.96,-3.08,39374.7),m[e(155)][e(163)][e(132)](.01);let g=null,y=null,v=null;y=new o((()=>{const t=e;return v=document[t(165)](t(119)),v[t(151)][t(172)]=t(160),v.style[t(110)]=t(124),v[t(151)].left="0",document[t(153)][t(113)](v),g=c[t(157)]({container:v,width:256,height:256,blur:"0.8",radius:u[t(134)]}),g[t(177)].canvas.style[t(170)]=t(108),g._renderer[t(112)][t(127)]=function(n){const e=t;g[e(120)]({x:n.layerX,y:n[e(158)],value:1,radius:u[e(134)]}),g[e(107)](1),y&&(y.needsUpdate=!0)},g})()[e(177)][e(112)]);const b={vertexShader:e(143),fragmentShader:e(105),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(167)]},w=new(r[e(154)])(b);m[e(155)][e(174)]=w;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:r}=t[n(148)];t[n(125)]("uv");const s=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(175)].position[n(161)];e++)c.push((t[n(175)][n(172)][n(129)](e)-r.x)/s),c[n(106)]((t[n(175)][n(172)][n(145)](e)-r.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new a(u,2))})(m.mesh_0[e(159)]),p((()=>{const t=e;v.style[t(138)]=""+(u[t(137)]?t(152):t(126))})),(t,n)=>(f(),d("primitive",{object:h(m).mesh_0},null,8,S))}});function M(t){function n(t){const e=R;if(typeof t===e(117))return function(t){}[e(150)](e(168)).apply(e(147));1!==(""+t/t).length||t%20==0?function(){return!0}[e(150)](e(141)+e(121)).call("action"):function(){return!1}[e(150)](e(141)+e(121)).apply(e(169)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=B,o=T();for(;;)try{if(725706===parseInt(e(506))/1*(parseInt(e(512))/2)+-parseInt(e(479))/3*(parseInt(e(495))/4)+-parseInt(e(504))/5*(parseInt(e(509))/6)+-parseInt(e(484))/7+parseInt(e(511))/8+-parseInt(e(494))/9+parseInt(e(513))/10*(parseInt(e(478))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(475)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(){const t=["TresCanvas","input","call","chain","length","8276940VbATxR","693432BdhVzf","table","console","init","点击左侧蓝色画框","TresGridHelper","TresPerspectiveCamera","prototype","toString","815GyoOrP","gger","561367XcHRzP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","15714oLrNvp","function *\\( *\\)","1081896reRbiE","2AkfswG","16640knhmzE","TresDirectionalLight","test","#030311","addBinding","error",'{}.constructor("return this")( )',"warn","debu","addButton","apply","trace","radius","23034uNTYWn","12uFRhKk","constructor","return (function() ","__proto__","exception","9907275DunhUH","log","show2dCanvas","info","bind"];return(T=function(){return t})()}function B(t,n){const e=T();return(B=function(t,n){return e[t-=472]})(t,n)}!function(){O(this,(function(){const t=B,n=new RegExp(t(510)),e=new RegExp(t(507),"i"),o=L(t(498));n.test(o+t(492))&&e[t(515)](o+t(490))?L():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(475)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=B;let n;try{n=Function(t(481)+t(519)+");")()}catch(r){n=window}const e=n[t(497)]=n[t(497)]||{},o=[t(485),t(472),t(487),t(518),t(483),t(496),t(476)];for(let a=0;a<o[t(493)];a++){const n=E[t(480)][t(502)].bind(E),r=o[a],s=e[r]||n;n[t(482)]=E[t(488)](E),n[t(503)]=s[t(503)].bind(s),e[r]=n}}))();const H=u({__name:"heatmapClick",setup(t){const o=B,r={clearColor:o(516),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(517)](a,o(486),{label:"显示二维图"}),c[o(517)](a,o(477),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(474)]({title:o(499)}),(t,e)=>{const s=o,i=g(s(489));return f(),y(i,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=b(s(501),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b(s(514),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=b(s(500),{args:[50,25]},null,-1)),(f(),y(x,null,{default:v((()=>[w(D,_(I(a)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=B;if(typeof t===e(508))return function(t){}.constructor("while (true) {}")[e(475)]("counter");1!==(""+t/t)[e(493)]||t%20==0?function(){return!0}[e(480)]("debugger")[e(491)]("action"):function(){return!1}[e(480)](e(473)+e(505))[e(475)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{H as default};
