import{_ as t,b as n,cF as e,ak as o,am as r}from"./three.CYhYNU4g1738919103432.js";import{P as s}from"./tweakpane.yDiyAAkA1738919103432.js";import{m as i,e as a}from"./@tresjs.G4idgyWs1738919103432.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d}from"./index.oY1bOJer1738919103432.js";import{d as g,a2 as h,w as j,o as w,H as b,u as v,v as x,r as y,e as I,j as M,g as _,f as z,al as B,m as C,F as S}from"./@vue.NRI7TcgI1738919103432.js";import{_ as k}from"./raycasterEvent.48_DB1Bn1738919103432.js";import{a as R}from"./utils.mqXo_8x91738919103432.js";import"./@vueuse.DL3Lluw_1738919103432.js";import"./@mapbox.lMdYodhq1738919103432.js";import"./three-mesh-bvh.zFSHwbLi1738919103432.js";import"./three-custom-shader-material.Z8kEU4301738919103432.js";import"./@fesjs.28Jx3VJe1738919103432.js";import"./vue-router.NKoGOf7E1738919103432.js";import"./lodash-es.pklfUAS51738919103432.js";import"./@qlin.yHhFDldE1738919103432.js";import"./pinia.yqLlAjUg1738919103432.js";import"./@floating-ui.BPbuo5Gx1738919103432.js";import"./@juggle.7yjBMqoW1738919103432.js";import"./@tweenjs.J1BAvmPw1738919103432.js";import"./utils.E-pw7V1Q1738919103432.js";import"./d3-geo.DF_qqwFm1738919103432.js";import"./d3-array.AhNJy1f41738919103432.js";import"./http.-s01lets1738919103432.js";import"./axios.qd3pZFDv1738919103432.js";import"./color.9_Bw9pYm1738919103432.js";import"./@amap.iZVXeXss1738919103432.js";import"./color-string.JMAsCa_L1738919103432.js";import"./color-name.SKTdsZ2v1738919103432.js";import"./simple-swizzle.6bbGLfh01738919103432.js";import"./is-arrayish.XAS9VjO41738919103432.js";import"./color-convert.sRrKFT6O1738919103432.js";import"./lodash.nreR3-F11738919103432.js";import"./naive-ui.sl9R7mo41738919103432.js";import"./date-fns.nmuTTsCK1738919103432.js";import"./@css-render.S6hBzbSF1738919103432.js";import"./seemly.vIsyOXn81738919103432.js";import"./css-render.uX042hdc1738919103432.js";import"./@emotion.ZD_ZYAgY1738919103432.js";import"./vooks.-SBpKIgJ1738919103432.js";import"./evtd.DtfwxtIl1738919103432.js";import"./vueuc.LoPvRYZu1738919103432.js";import"./vdirs.HgJbZCOH1738919103432.js";import"./treemate.dcEdf2le1738919103432.js";import"./date-fns-tz.UZxbKIoZ1738919103432.js";import"./async-validator.-YBkpS4I1738919103432.js";const T=A;!function(t,n){const e=A,o=P();for(;;)try{if(337897===parseInt(e(315))/1*(parseInt(e(292))/2)+parseInt(e(314))/3+-parseInt(e(335))/4*(-parseInt(e(302))/5)+parseInt(e(308))/6+-parseInt(e(324))/7*(-parseInt(e(309))/8)+-parseInt(e(283))/9*(-parseInt(e(303))/10)+parseInt(e(274))/11*(-parseInt(e(285))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(282)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=P();return(A=function(t,n){return e[t-=269]})(t,n)}!function(){Z(this,(function(){const t=A,n=new RegExp(t(320)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H("init");n[t(304)](o+t(289))&&e[t(304)](o+t(280))?H():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(){const t=["counter","set","maxZoom","bind","function *\\( *\\)","dampingFactor","opposite","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","7vrduRp","#fff","log","call","toString","trace","stateObject","action","genBright","constructor","innerWidth","588356havSTB","table","domElement","monochrome","showTileNo","updateProjectionMatrix","wireframe","innerHeight","filter","info","genContrast",'{}.constructor("return this")( )',"Color","PerspectiveCamera","3807111PpTLMj","console","camera","primitive","warn","gger","input","useWorker","apply","9NxTfHv","update","60tuKxQd","provider","position","object","chain","source","genSaturation","2WUBUoz","render","string","error","coordType","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","while (true) {}","position0","mapCenter","isMonochrome","20lJvvfo","805790yonOvf","test","far","abs","target","437400QIeHIe","1829704IOxmmw","length","value","tileMapMesh","showBoundingBox","1475523nvKpRQ","606013LZGFPM"];return(P=function(){return t})()}E(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function("return (function() "+t(271)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(275)]||{},o=[t(326),t(278),t(269),t(295),"exception",t(336),t(329)];for(let r=0;r<o[t(310)];r++){const n=E.constructor.prototype[t(319)](E),s=o[r],i=e[s]||n;n.__proto__=E[t(319)](E),n[t(328)]=i.toString.bind(i),e[s]=n}}))();const F=[T(288),"rotation"],L=g({__name:T(312),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:T(325)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const s=T,d=o,{renderer:g,scene:x}=i();(new c)[s(296)]=u;const y=new p;y[s(290)]=s(323),y[s(296)]=u;const I=new l;I[s(290)]=s(297),I[s(339)]=!1,I[s(281)]=!0;const M=new m(y,I);if(M[s(313)]=!1,M[s(341)]=!1,M.flatShading=!1,M.useStandardMaterial=!1,M.filter={opposite:d.opposite,monochrome:d[s(301)]?{r:.299,g:.587,b:.114}:null,genBright:d.genBright,genContrast:d.genContrast,genSaturation:d[s(291)]},d[s(338)]){let n=new(t[s(272)])(d.monochrome);M[s(343)]&&(M[s(343)][s(338)]={r:n.r,g:n.g,b:n.b})}const _=new f;_[s(286)]=M,_.bbox=d.bbox,_[s(318)]=d[s(318)];const z=new(t[s(273)])(60,window[s(334)]/window[s(342)],1,1e8);z.up=new n(0,1,0),z.position[s(317)](d[s(300)][0],d.mapCenter[2],-d[s(300)][1]),z.lookAt(new n(z.position.x,0,z.position.z-2e3)),_[s(276)]=z;let B=null;h((()=>{const t=s;g.value&&!B&&(B=new e(z,g[t(311)][t(337)]),B.enableDamping=!0,B[t(321)]=.05,B.minDistance=600,B[t(299)][t(317)](z[t(287)].x,z.position.y,z[t(287)].z),B[t(307)][t(317)](z[t(287)].x,0,z.position.z-2e3))})),j((()=>[d[s(322)],d[s(301)],d.monochrome]),(([n,e,o])=>{const r=s;if(M[r(343)]){let s=new(t[r(272)])(o);M[r(343)][r(322)]=n,M.filter[r(338)]=e?{r:s.r,g:s.g,b:s.b}:null}})),j((()=>[d[s(332)],d[s(270)],d[s(291)]]),(([t,n,e])=>{const o=s;M[o(343)]&&(M[o(343)][o(332)]=t,M[o(343)].genContrast=n,M[o(343)].genSaturation=e)}));const{onLoop:C}=a();return C((()=>{var t;const n=s;if(g.value){null==(t=d.tweenInstance)||t.update(),B&&B[n(284)](),_[n(284)]();const e=50*Math[n(306)](z[n(287)].y);z[n(305)]=e+5e3,z[n(340)](),g.value[n(293)](x[n(311)],z)}})),r({camera:z,map:_,orbitControl:B}),(t,n)=>{const e=s;return w(),b(e(277),{object:v(_),rotation:[-Math.PI/2,0,0]},null,8,F)}}});function H(t){function n(t){const e=A;if(typeof t===e(294))return function(t){}[e(333)](e(298))[e(282)](e(316));1!==(""+t/t)[e(310)]||t%20==0?function(){return!0}[e(333)]("debu"+e(279))[e(327)](e(331)):function(){return!1}.constructor("debugger")[e(282)](e(330)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=W,o=D();for(;;)try{if(197889===parseInt(e(453))/1+-parseInt(e(459))/2*(-parseInt(e(423))/3)+-parseInt(e(465))/4*(parseInt(e(420))/5)+-parseInt(e(422))/6*(-parseInt(e(441))/7)+-parseInt(e(408))/8*(-parseInt(e(449))/9)+-parseInt(e(437))/10+-parseInt(e(410))/11*(parseInt(e(446))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(451)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=U(t(429));n[t(462)](o+t(452))&&e.test(o+t(450))?U():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=D();return(W=function(t,n){return e[t-=408]})(t,n)}function D(){const t=["opposite","#4688b5","tweenInstance","camera","debu","string","info","value","stateObject","737535ocFfxn","genSaturation","11178QMWNvx","4398Agyajk","Vector3","action","对比度","return (function() ","console","init","addBinding","gger","change",'{}.constructor("return this")( )',"orbitControl","TresCanvas","nss","1202090vEbtll","饱和度","prototype","__proto__","1120ZJHlgj","counter","#201919","manual","xjk","12BSGswe","warn","length","9imUbaw","input","apply","chain","102732mIBExp","constructor","tileMapMeshRef","奥体中心","genContrast","trace","498uswNyd","toString","bind","test","list","addBlade","4qTwUfu","牛首山","2275024fLXoRN","tileMapRef","6430809DTJYPa"];return(D=function(){return t})()}Q(void 0,(function(){const t=W;let n;try{n=Function(t(427)+t(433)+");")()}catch(r){n=window}const e=n.console=n[t(428)]||{},o=["log",t(447),t(417),"error","exception","table",t(458)];for(let s=0;s<o[t(448)];s++){const n=Q[t(454)][t(439)].bind(Q),r=o[s],i=e[r]||n;n[t(440)]=Q[t(461)](Q),n[t(460)]=i[t(460)][t(461)](i),e[r]=n}}))();const O=g({__name:"tileMap",setup(e){const i=W,a=d(118.779958,32.017136),c=[a[0],a[1],5e3],u=x(),p=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:i(412),mapCenter:c,tweenInstance:null}),l=new s({title:"参数"});l[i(430)](p,i(411),{label:"反色"}),l[i(430)](p,"genBright",{label:"高亮",min:.1,max:3,step:.1}),l[i(430)](p,i(457),{label:i(426),min:.1,max:3,step:.1}),l.addBinding(p,i(421),{label:i(438),min:.1,max:3,step:.1}),l[i(430)](p,"isMonochrome",{label:"单色滤镜"}),l.addBinding(p,"monochrome",{label:"滤镜颜色"});const m={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};l[i(464)]({view:i(463),label:"飞去",options:[{text:i(456),value:"at"},{text:"新街口",value:i(445)},{text:i(466),value:i(436)}],value:"at"}).on(i(432),(t=>{const e=i,o=new n(m[t[e(418)]][0],2e3,-m[t[e(418)]][1]);p[e(413)]=R(u[e(418)].camera,o,u[e(418)][e(434)],[0,-300],4e3)}));const f=y({clearColor:i(443),antialias:!0,logarithmicDepthBuffer:!0,renderMode:i(444),outputColorSpace:o,toneMapping:r});return setTimeout((()=>{const n=i,e=m.at,o=new(t[n(424)])(e[0],1600,-e[1]);p[n(413)]=R(u.value[n(414)],o,u[n(418)][n(434)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=i,o=I(e(435));return w(),b(S,null,[M(o,C(f,{"window-size":""}),{default:_((()=>[(w(),z(B,null,{default:_((()=>[M(L,C(p,{ref_key:e(455),ref:u,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(k,{tileMapRef:u[e(418)]},null,8,[e(409)])],64)}}});function U(t){function n(t){const e=W;if(typeof t===e(416))return function(t){}.constructor("while (true) {}")[e(451)](e(442));1!==(""+t/t)[e(448)]||t%20==0?function(){return!0}[e(454)](e(415)+e(431)).call(e(425)):function(){return!1}.constructor(e(415)+e(431))[e(451)](e(419)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
