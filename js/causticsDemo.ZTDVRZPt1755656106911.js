import{da as s,an as e,Y as a}from"./three.QlBabAUP1755656106911.js";import{m as t,e as o,a as i,H as n}from"./@tresjs.DiA_9BZG1755656106911.js";import"./lamina.DU6UbeVI1755656106911.js";import{G as r}from"./three-stdlib.B_2zQail1755656106911.js";import{d as l,aa as m,G as p,o as d,u,r as c,b as g,e as f,f as j,I as h,j as k,a7 as x,a8 as _,a5 as b,m as y}from"./@vue.BzMISRrV1755656106911.js";import{P as v}from"./tweakpane.C0HtAJSg1755656106911.js";import"./vanilla.esm.5.5.0.exVA05TJ1755656106911.js";import{_ as w}from"./index.vue_vue_type_script_setup_true_lang.CppQNgUt1755656106911.js";import"./postprocessing.DMvYFiwL1755656106911.js";import"./@vueuse.DfjcWOXI1755656106911.js";import"./glsl-tokenizer.B6PoDqdH1755656106911.js";import"./@amap.CGUF9xH41755656106911.js";import"./glsl-token-descope.BxCshg9t1755656106911.js";import"./glsl-token-depth.Duvdnvlt1755656106911.js";import"./glsl-token-scope.BdCfdvWe1755656106911.js";import"./glsl-token-properties.DKXemF9b1755656106911.js";import"./glsl-token-assignments.Ctx_yUgS1755656106911.js";import"./glsl-token-string.BmzDn5751755656106911.js";import"./glsl-token-functions.BGtc7cTs1755656106911.js";import"./object-hash.BsbuGrt61755656106911.js";import"./jszip.zct5wF4U1755656106911.js";import"./@pmndrs.BYugQpyA1755656106911.js";const B=["object","scale"],T=l({__name:"groundProjectedEnvCom",props:{texture:{default:"https://opensource.cdn.icegl.cn/images/skyBox/round_platform_1k.exr"},size:{default:100}},async setup(a){let o,i;const n=a,l=new s,c=([o,i]=m((()=>l.loadAsync(n.texture))),o=await o,i(),o);c.mapping=e;const{scene:g}=t();g.value.environment=c;const f=new r(c);return(s,e)=>(d(),p("primitive",{object:u(f),scale:n.size},null,8,B))}}),z=l({__name:"causticsDemo",setup(s){const e=c({alpha:!0,toneMapping:a,windowSize:!0,clearColor:10066329}),t=c({enableDamping:!0,autoRotate:!1}),r=g(null),{onBeforeLoop:l}=o();l((({elapsed:s})=>{r.value&&(r.value.rotation.x=s,r.value.rotation.y=s)}));const m=c({color:"#ffffff",ior:1.1,backsideIOR:1.1,far:30,worldRadius:.3,intensity:.05,causticsOnly:!1,lightSource:{x:1,y:1,z:1}}),p=new v({title:"参数"});return p.addBinding(m,"color",{label:"颜色"}),p.addBinding(m,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),p.addBinding(m,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),p.addBinding(m,"far",{label:"可视距离",min:0,max:30,step:1}),p.addBinding(m,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),p.addBinding(m,"intensity",{label:"强度",min:0,max:1,step:.01}),p.addBinding(m,"causticsOnly",{label:"只显示投射"}),p.addBinding(m,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(s,a)=>(d(),f(u(n),y(e,{"window-size":""}),{default:j((()=>[a[2]||(a[2]=h("TresPerspectiveCamera",{position:[-20,20,15],fov:45,near:1,far:1e3},null,-1)),k(u(i),x(_(t)),null,16),a[3]||(a[3]=h("TresDirectionalLight",{position:[10,2,4],intensity:1},null,-1)),k(u(w),x(_(m)),{default:j((()=>[a[1]||(a[1]=h("TresMesh",{position:[8,5.5,8.5],"receive-shadow":"","cast-shadow":"",name:"sphere"},[h("TresSphereGeometry",{args:[3.5]}),h("TresMeshStandardMaterial",{color:16724991,roughness:0,metalness:1})],-1)),h("TresMesh",{ref_key:"torusMesh",ref:r,position:[-8,6,-8],name:"torus"},a[0]||(a[0]=[h("TresTorusKnotGeometry",{args:[3,1,100,32]},null,-1),h("TresMeshPhysicalMaterial",{color:"#33ffff",transmission:1,roughness:0,thickness:2},null,-1)]),512)])),_:1},16),(d(),f(b,null,{default:j((()=>[k(u(T),{position:[0,-.1,0]})])),_:1}))])),_:1},16))}});export{z as default};
