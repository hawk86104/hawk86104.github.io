import{_ as e,n as a}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as t,a as s,r,w as o,H as l,o as p,J as i,ac as n,ao as f}from"./@vue.Co_gxueH1763540743861.js";import{b8 as u,ae as d,z as c,az as m,l as g}from"./three.rXKzP9fQ1763540743861.js";const h=["rotation-x"],y=["args"],x=t({__name:"diffusePoint",props:{size:{default:[3,3]},imgSrcPath:{default:"./plugins/digitalMapBlock/images/beCircle.png"},color:{default:"#ffffff"},speed:{default:.03},textureRepeat:{default:[1,1]},delay:{default:0}},setup(t){const x=s(),{onBeforeRender:v}=e(),z=t,M=r({color:z.color,map:null,side:d,transparent:!0,blending:u,depthTest:!0,depthWrite:!1}),{state:P}=a(z.imgSrcPath);o(()=>P.value,e=>{e&&(e.colorSpace=c,e.wrapS=m,e.wrapT=m,e.repeat.set(z.textureRepeat[0],z.textureRepeat[1]),M.map=e)}),o(()=>z.color,e=>{M.color=new g(e)});let R=1,T=0;return v(()=>{(T+=.02)<z.delay||x.value&&((R+=z.speed)>3&&(R=1,M.opacity=1),M.opacity-=z.speed/2,x.value.scale.set(R,R,R),x.value.rotation.z+=z.speed)}),(e,a)=>(p(),l("TresMesh",{ref_key:"tmRef",ref:x,"rotation-x":-Math.PI/2},[i("TresPlaneGeometry",{args:z.size},null,8,y),i("TresMeshBasicMaterial",n(f(M)),null,16)],8,h))}});export{x as _};
