import{P as t}from"./tweakpane.yDiyAAkA1741683274763.js";import{e,h as n,a as o,o as r}from"./@tresjs.tqalU7S21741683274763.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.7NG9Lytn1741683274763.js";import{_ as a}from"./three.3wvNjL8W1741683274763.js";import{d as s,a6 as l,a3 as u,w as c,o as f,H as m,N as p,u as d,j as h,r as g,e as v,f as I,g as x,al as w,m as S}from"./@vue.NRI7TcgI1741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";import"./all.three.WECQOlM11741683274763.js";import"./oimophysics.x0jH7fze1741683274763.js";const y=_;!function(t,e){const n=_,o=U();for(;;)try{if(548298===parseInt(n(371))/1*(-parseInt(n(326))/2)+-parseInt(n(306))/3+-parseInt(n(348))/4+-parseInt(n(320))/5+-parseInt(n(325))/6*(parseInt(n(351))/7)+parseInt(n(323))/8*(-parseInt(n(321))/9)+parseInt(n(359))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const b=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[_(363)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function _(t,e){const n=U();return(_=function(t,e){return n[t-=300]})(t,e)}!function(){b(this,(function(){const t=_,e=new RegExp(t(332)),n=new RegExp(t(324),"i"),o=M(t(318));e[t(322)](o+t(300))&&n[t(322)](o+"input")?M():o("0")}))()}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function U(){const t=["init","trace","4706260jHndaX","765bPstVa","test","8376GsSNYy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2958ffcHel","254UrDIGx","Color","length","getAttribute","rotateX","set","function *\\( *\\)","info","getPoints","aIndex","console","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","toString","while (true) {}","stateObject","exception","call","TresPoints","speed","debu","__proto__","PointsMaterial","3803440BMROMz","height","yRadius","14826jdVHpG","gger","action","blending","uScale","#90ee90","BufferGeometry","constructor","56478500lTaUfO","baseColor","EllipseCurve","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","apply","warn","position","color","TresGroup","alphaMap","prototype","value","8090CkuDin","chain",'{}.constructor("return this")( )',"uHeight","AdditiveBlending","aNormal","bind","3140523rYbGej","push","array","floor","map","string","lineMagicZone","#409eff","scale","setFromPoints","xRadius","table"];return(U=function(){return t})()}T(void 0,(function(){const t=_;let e;try{e=Function("return (function() "+t(301)+");")()}catch(r){e=window}const n=e[t(336)]=e.console||{},o=["log",t(364),t(333),"error",t(341),t(317),t(319)];for(let i=0;i<o[t(328)];i++){const e=T[t(358)][t(369)][t(305)](T),r=o[i],a=n[r]||e;e[t(346)]=T[t(305)](T),e.toString=a[t(338)][t(305)](a),n[r]=e}}))();const N=[y(330)],j=[y(365),y(335),y(304)],P=y(337),C=y(362),D=s({__name:y(312),props:{height:{default:1.6},speed:{default:1},color:{default:y(356)}},async setup(t){const r=y;let i,s;const g=l(),v=t,I=([i,s]=u((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,s(),i),x=new(a[r(361)])(0,0,8,8,0,2*Math.PI,!1,0),w=[];for(let e=0;e<5;e++)w[r(307)](...x[r(334)](719)),x[r(316)]+=.2,x[r(350)]+=.2;const S=new Float32Array(w.map(((t,e)=>e))),b=(new(a[r(357)]))[r(315)](w)[r(329)](r(365))[r(308)],_=new Float32Array(b[r(328)]);for(let e=0;e<b[r(328)]/3;e++){const t=3*e;b[t+1]+=.15*Math[r(309)](e/720);const n=e%720*3,o=3*(e%720+2880);_[t]=b[o]-b[n],_[t+1]=b[o+1]-b[n+1],_[t+2]=b[o+2]-b[n+2]}const T={uTime:{value:0},uScale:{value:g[r(314)]?g[r(314)]:1},uHeight:{value:v[r(349)]},uPerlinTexture:{value:I[1]},baseColor:{value:new(a[r(327)])(v[r(366)])}},{onLoop:U}=e();return U((()=>{const t=r;T.uTime[t(370)]+=.01*v[t(344)]})),c((()=>[v[r(366)],g[r(314)],v[r(349)]]),(([t,e,n])=>{const o=r;T[o(360)][o(370)][o(331)](t),T[o(355)][o(370)]=e,T[o(302)][o(370)]=n})),(t,e)=>{const o=r;return f(),m(o(367),null,[p(o(343),{rotateX:-Math.PI/2,scale:.1},[p("TresBufferGeometry",{position:[d(b),3],aIndex:[d(S),1],aNormal:[d(_),3]},null,8,j),h(d(n),{baseMaterial:a[o(347)],vertexShader:P,fragmentShader:C,uniforms:T,map:d(I)[0],alphaMap:d(I)[0],transparent:"",depthWrite:!1,blending:a[o(303)],color:o(313),size:.1},null,8,["baseMaterial",o(310),o(368),o(354)])],8,N)])}}});function M(t){function e(t){const n=_;if(typeof t===n(311))return function(t){}[n(358)](n(339)).apply("counter");1!==(""+t/t)[n(328)]||t%20==0?function(){return!0}[n(358)]("debugger")[n(342)](n(353)):function(){return!1}[n(358)](n(345)+n(352))[n(363)](n(340)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const O=z;!function(t,e){const n=z,o=B();for(;;)try{if(663216===parseInt(n(151))/1*(parseInt(n(178))/2)+parseInt(n(158))/3*(-parseInt(n(143))/4)+parseInt(n(172))/5*(-parseInt(n(139))/6)+parseInt(n(176))/7*(parseInt(n(164))/8)+parseInt(n(177))/9*(-parseInt(n(150))/10)+parseInt(n(134))/11*(-parseInt(n(165))/12)+parseInt(n(163))/13)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=z,e=new RegExp(t(162)),n=new RegExp(t(174),"i"),o=A(t(166));e[t(171)](o+t(147))&&n[t(171)](o+t(141))?A():o("0")}))()}();const W=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[z(156)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function z(t,e){const n=B();return(z=function(t,e){return n[t-=133]})(t,e)}function B(){const t=["string","length","480730ursIYy","58415tfVswV","exception","trace","stateObject","lineMagicZone","apply","bind","682419QdRuIs","toString","table","console","function *\\( *\\)","37433799qwwDOf","128DjouYD","12UZYHJt","init","TresPerspectiveCamera","TresAmbientLight","#ff0000","addBinding","test","19820kVBJiU","height","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","speed","123991BFbtsE","189fTjkOJ","4IIDFfZ","counter","warn","color","TresCanvas","1422894RNHQZu","#201919","action","gger","debu","1548SqxhYh","__proto__","input","constructor","8ssGtfX","while (true) {}","error","info","chain"];return(B=function(){return t})()}W(void 0,(function(){const t=z,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e[t(161)]=e[t(161)]||{},o=["log",t(180),t(146),t(145),t(152),t(160),t(153)];for(let r=0;r<o.length;r++){const e=W[t(142)].prototype.bind(W),i=o[r],a=n[i]||e;e[t(140)]=W.bind(W),e[t(159)]=a[t(159)][t(157)](a),n[i]=e}}))();const H=s({__name:O(155),setup(e){const n=O,o=g({reflectivity:.1,showGridHelper:!0,scale:1}),a=g({color:n(169),scale:1.8,height:2.4,speed:1}),s=new t;return s.addBinding(a,n(181),{label:"颜色"}),s[n(170)](a,"scale",{label:"大小",min:.1,max:3,step:.1}),s.addBinding(a,n(173),{label:"高度",min:.1,max:3,step:.1}),s.addBinding(a,n(175),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=v(s(133));return f(),I(l,{clearColor:s(135),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:x((()=>[e[0]||(e[0]=p(s(167),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),h(d(r),{enableDamping:""}),e[1]||(e[1]=p(s(168),{intensity:2},null,-1)),(f(),I(w,null,{default:x((()=>[h(D,S({position:[3,0,0]},a),null,16)])),_:1})),(f(),I(w,null,{default:x((()=>[h(D,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(f(),I(w,null,{default:x((()=>[h(i,S({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function A(t){function e(t){const n=z;if(typeof t===n(148))return function(t){}[n(142)](n(144))[n(156)](n(179));1!==(""+t/t)[n(149)]||t%20==0?function(){return!0}[n(142)](n(138)+"gger").call(n(136)):function(){return!1}[n(142)](n(138)+n(137))[n(156)](n(154)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{H as default};
