import{a6 as t,cj as e,d as i,a as n,bR as s,V as o,h as r,j as a,aN as h,al as c,C as l}from"./three.6cxCQsIj1724511658098.js";function u(){const t=["fog_vertex","_angleSpread","attribute vec3 rotationCenter;","1ZRfmia","19010ioUiFO","call","BOX","ensureValueOverLifetimeCompliance","enable","       );","radius","value","dynamicBuffer","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","randomFloat","_resetBufferRanges","floatOverLifetime","generateUUID","    }","NEGATIVE_INFINITY","action","    varying vec4 vSpriteSheet;","_triggerSingleEmitter","    #ifdef SHOULD_ROTATE_TEXTURE","distribution","       axis = normalize(axis);","#ifdef SHOULD_ROTATE_PARTICLES","SHOULD_ROTATE_TEXTURE","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","_assignValue","setMat3","9YaubbI","    float shouldApplyValue = 0.0;","tick","getComponentValueAtIndex","_axisSpread","getPool","    vec3 pos = vec3( position );","attributeKeys","#endif","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","wiggle","_assignAngleValue","      vec3 translated;","flagUpdate","float getAge() {","Points","componentSize","setVec3","updateCounts","randomise","forceUpdateAll","    gl_PointSize = pointSizePerspective;","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","float when_le(float x, float y) {","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","textureFrames","string","setSize","params","getLength","randomDirectionVector3OnDisc","position","particles, can support only","while (true) {}","random","attribute vec4 color;","hasPerspective","amd","isArray","uuid","_applyAttributesToGeometry","randomVector3OnLine","_spread","           positionInTime,","_static","DISC","       float x = gl_PointCoord.x - 0.5;","fixedTimeStep","angleSpread","BufferGeometry","   float b = mod( hex, PACKED_COLOR_SIZE );","    varying float vAngle;","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","console","attributeCount","      vec3 axis = unpackRotationAxis( rotation.x );","count","activeParticleCount","particlesPerSecond","removeEmitter","   return params.x;","setVec3Components","duration","colorOverLifetime","direction","setVec2Components","_createNewWhenPoolEmpty","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","splice","Emitter already belongs to another group. Will not add to requested group.","attribute vec4 angle;","SHOULD_ROTATE_PARTICLES","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","        pos.z += wiggleSin;","    return value;","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","axisSpread","min","keys","`emitter` argument must be instance of SPE.Emitter. Was provided with:","return (function() ","attribute vec4 acceleration;","roundToNearestMultiple","forceFetchingFunctions","      translated = rotationCenter - pos;","valueOverLifetimeLength","bufferUpdateKeys","    #else","frames","remove","log","MathUtils","_attributesNeedDynamicReset","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","rotateTexture","prototype","error","spread","textureLoop","_axis","color","scale","replace","        pos.x += wiggleSin;","max","trace","Texture","_randomise","       float c = cos( -vAngle );","setFromArray","       float s = sin(angle);","float when_gt(float x, float y) {","pop","_onRemove","       if ( vColor.w < float(ALPHATEST) ) discard;","angle","2321865OgmTjK","Vector3","_updateUniforms","        float rowNorm = vSpriteSheet.w;","    highp float isAlive = when_gt( alive, 0.0 );","material","Invalid argument types, or argument types do not match:","multiplyScalar","           unpackColor( color.w )","TypedArrayConstructor","activationIndex","2079162PbDShE","_setBufferUpdateRanges","        float row = floor( (frameNumber - column) / framesX );","function","object","TypedArray is already of size:","SHOULD_CALCULATE_SPRITE","_angle","defineProperty","setVec2","utils","textureFrameCount","float when_eq( float x, float y ) {","table","shaders","    return max(sign(x - y), 0.0);","number","grow","        float framesY = vSpriteSheet.y;","_distribution","spreadClamp","ensureArrayInstanceOf","SHOULD_WIGGLE_PARTICLES","_createBufferAttribute","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","        vSpriteSheet.w = rowNorm;","SPE.Group pool ran out.","releaseIntoPool","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bufferUpdateRanges","void main() {","_assignPositionValue","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","   }","Group","    highp float alive = getAlive();","attributeOffset","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","branchAvoidanceFunctions","_updateAttributeUpdateRange","isStatic","_distributionClamp","    vec3 force = vec3( 0.0 );","Vector4","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","   return velocity * age;","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","float getWiggle() {","attributeEnd","triggerPoolEmitter","    vColor = vec4( c, o );","#define PACKED_COLOR_SIZE 256.0","float when_lt(float x, float y) {","counter","boolean","ShaderAttribute","BOOLEAN","colorize","_assignParamsValue","#ifdef SHOULD_CALCULATE_SPRITE","arrayType","_pool","array","alphaTest","typedArray","      vec3 center = rotationCenter;","ShaderChunk","normalize","sin","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","_resetParticle","addEmitter","getFromPool","POSITIVE_INFINITY","activationEnd","Emitter does not belong to a group, cannot remove.","static","vec3 getVelocity( in float age ) {","init","   c.r = r / PACKED_COLOR_DIVISOR;","blending","updateFlags","resetFlags","warn","           unpackColor( color.y ),","#ifdef SHOULD_ROTATE_TEXTURE","drag","geometry","clamp","shaderChunks","_center","DynamicDrawUsage","paramsArray","defines","__proto__","    #ifdef COLORIZE","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","attribute vec4 params;","        float framesX = textureAnimation.x;","hasOwnProperty","setRGB","clone","depthWrite","ShaderMaterial","_incrementParticleCount","stateObject","574338zCkocY","    vec3 accel = getAcceleration( age );","   c.b = b / PACKED_COLOR_DIVISOR;","        float framesY = textureAnimation.y;","2254811pZZPPS","constructor","arrayValuesAreEqual","logdepthbuf_fragment","    force += accel * age;","_setAttributeOffset","emitterIDs","Will not resize.","paramFetchingFunctions","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","needsUpdate","   return params.z;","TypedArrayHelper","push","        pos = getRotation( pos, positionInTime );","ensureArrayTypedArg","1045804otJSVH","        float perspective = 1.0;","       float s = sin( -vAngle );","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","fog_fragment","randomDirectionVector3OnSphere","lerp","vertex","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","loop",'{}.constructor("return this")( )',"cos","_value","uniform float runTime;","logdepthbuf_pars_vertex","    #ifdef SHOULD_ROTATE_PARTICLES","distributions","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","72VokLgO","ensureInstanceOf","type","group","gger","vec3 unpackColor( in float hex ) {","uniform sampler2D tex;","setColor","        float framesX = vSpriteSheet.x;","_checkParticleAges","_assignForceValue","vec3 getAcceleration( in float age ) {","center","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","  return 1.0 - when_lt(x, y);","types","attribute vec4 opacity;","_radiusScale","        float loopCount = textureAnimation.w;","transparent","SPHERE","_updateDefines","           return pos;","   return acceleration.xyz * age;","SPE.Group: maxParticleCount exceeded. Requesting","   c.g = g / PACKED_COLOR_DIVISOR;","interpolateArray","_attributesNeedRefresh","ensureTypedArg","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","updateMin","test","   return params.y;","_updateBuffers","bufferAttribute","_ensureTypedArray","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","5951nYNPrN","ceil","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","_activateParticles","    highp float positionInTime = (age / maxAge);","round","attribute vec4 size;","usage","apply","length","_poolCreationSettings","   return params.w;","vec3 unpackRotationAxis( in float hex ) {","_assignColorValue","       float oc = 1.0 - c;","NUMBER","itemSize","        float columnNorm = vSpriteSheet.z;","   return modelViewMatrix * vec4( position, 1.0 );","velocity","set","copy","particleCount","radiusScale","      }","randomColorAsHex","updateMap","fog_pars_fragment","   vec3 c = vec3( 0.0 );","Emitter","updateRange","emitters","resetUpdateRange","maxParticleCount","runTime","texture","    float pointSizePerspective = pointSize * perspective;","lerpTypeAgnostic","getHex","       float c = cos(angle);","info","Color","   return c;","maxAge","unpackRotationAxis","    #endif","_spreadClamp","setAttribute","varyings","    vec3 vel = getVelocity( age );","alive","    return 1.0 - abs( sign( x - y ) );","setVec4Components","_assignRotationValue","attributes","    highp float maxAge = getMaxAge();","uniforms","    #ifdef SHOULD_CALCULATE_SPRITE","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","       vec3 c = vec3(1.0);","    vec4 rotatedTexture = texture2D( tex, vUv );","Vector2","input","getValueAtIndex","LINE","#define PACKED_COLOR_DIVISOR 255.0","subarray","_calculatePPSValue","setDrawRange","OBJECT","rotation","chain","common","setUpdateRange","indexOf","size","shrink","varying vec4 vColor;","4763480swqiPJ","depthTest","indexOffset","debu","randomVector3","fragment","30WEiHPR","    return min(a + b, 1.0);","       float y = 1.0 - gl_PointCoord.y - 0.5;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","acceleration","   c *= vec3( 2.0 );","Emitter does not exist in this group. Will not remove.","_radius","unpackColor","abs","disable","    #ifdef SHOULD_WIGGLE_PARTICLES","join","updateMax","age","_assignAbsLifetimeValue","3mmsvVD","toString","elements","activeMultiplier","onParticleSpawn","uniform float scale;","reset","        pos.y += wiggleCos;","    highp float age = getAge();","fog","StaticDrawUsage","bind","offset","opacity","_decrementParticleCount","dispose","_createGetterSetters","       vec3 c = isAlive * getColorOverLifetime(","    force *= drag;","rotationCenter","setVec4","getPackedRotationAxis"];return(u=function(){return t})()}const f=g;!function(t,e){const i=g,n=u();for(;;)try{if(711097===parseInt(i(226))/1*(-parseInt(i(382))/2)+parseInt(i(664))/3*(parseInt(i(509))/4)+parseInt(i(648))/5*(parseInt(i(489))/6)+parseInt(i(371))/7+parseInt(i(642))/8*(parseInt(i(254))/9)+parseInt(i(227))/10*(parseInt(i(564))/11)+parseInt(i(527))/12*(-parseInt(i(493))/13))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){p(this,(function(){const t=g,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(411),"i"),n=_(t(461));e[t(558)](n+t(635))&&i[t(558)](n+t(626))?_():n("0")}))()}();const d=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[g(572)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function g(t,e){const i=u();return(g=function(t,e){return i[t-=211]})(t,e)}d(void 0,(function(){const t=g;let e;try{e=Function(t(334)+t(519)+");")()}catch(s){e=window}const i=e.console=e[t(307)]||{},n=[t(344),"warn",t(604),t(351),"exception",t(395),t(360)];for(let o=0;o<n[t(573)];o++){const e=d[t(494)].prototype[t(212)](d),s=n[o],r=i[s]||e;e[t(477)]=d[t(212)](d),e.toString=r[t(665)].bind(r),i[s]=e}}))();const m={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===f(385)&&define[f(291)]?define("spe",m):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=m),m[f(505)]=function(t,e,i,n){const s=f;this[s(270)]=i||1,this[s(639)]=e||1,this[s(380)]=t||Float32Array,this[s(445)]=new t(e*this[s(270)]),this[s(644)]=n||0},m[f(505)].constructor=m[f(505)],m[f(505)][f(350)][f(281)]=function(t,e){const i=f,n=this[i(445)].length;return!e&&(t*=this.componentSize),t<n?this[i(640)](t):t>n?this[i(399)](t):void console[i(604)](i(387),t+".",i(500))},m[f(505)].prototype.shrink=function(t){const e=f;return this[e(445)]=this[e(445)][e(630)](0,t),this[e(639)]=t,this},m.TypedArrayHelper.prototype[f(399)]=function(t){const e=f,i=this.array,n=new(this[e(380)])(t);return n[e(584)](i),this[e(445)]=n,this[e(639)]=t,this},m[f(505)][f(350)][f(322)]=function(t,e){const i=f;t*=this[i(270)],e*=this.componentSize;const n=[],s=this[i(445)],o=s.length;for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(506)](s[r]);return this[i(364)](0,n),this},m[f(505)].prototype.setFromArray=function(t,e){const i=f,n=t+e[i(573)];return n>this[i(445)][i(573)]?this[i(399)](n):n<this.array.length&&this[i(640)](n),this[i(445)].set(e,this[i(644)]+t),this},m.TypedArrayHelper[f(350)][f(391)]=function(t,e){return this[f(319)](t,e.x,e.y)},m[f(505)].prototype[f(319)]=function(t,e,i){const n=f,s=this.array,o=this[n(644)]+t*this[n(270)];return s[o]=e,s[o+1]=i,this},m[f(505)].prototype.setVec3=function(t,e){return this[f(315)](t,e.x,e.y,e.z)},m[f(505)][f(350)][f(315)]=function(t,e,i,n){const s=f,o=this.array,r=this[s(644)]+t*this[s(270)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},m.TypedArrayHelper[f(350)][f(221)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},m[f(505)].prototype[f(616)]=function(t,e,i,n,s){const o=f,r=this[o(445)],a=this[o(644)]+t*this[o(270)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},m[f(505)][f(350)][f(253)]=function(t,e){const i=f;return this[i(364)](this.indexOffset+t*this[i(270)],e[i(666)])},m[f(505)][f(350)].setMat4=function(t,e){const i=f;return this[i(364)](this[i(644)]+t*this[i(270)],e[i(666)])},m.TypedArrayHelper[f(350)][f(534)]=function(t,e){return this[f(315)](t,e.r,e.g,e.b)},m[f(505)][f(350)].setNumber=function(t,e){const i=f;return this[i(445)][this[i(644)]+t*this[i(270)]]=e,this},m.TypedArrayHelper.prototype[f(627)]=function(t){return this.array[this.indexOffset+t]},m[f(505)].prototype[f(257)]=function(t){const e=f;return this[e(445)][e(630)](this.indexOffset+t*this[e(270)])},m.ShaderAttribute=function(t,e,i){const n=f,s=m.ShaderAttribute.typeSizeMap;this[n(529)]=typeof t===n(280)&&s[n(482)](t)?t:"f",this.componentSize=s[this[n(529)]],this[n(443)]=i||Float32Array,this[n(447)]=null,this[n(561)]=null,this.dynamicBuffer=!!e,this[n(557)]=0,this[n(661)]=0},m[f(438)][f(494)]=m[f(438)],m[f(438)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},m[f(438)][f(350)][f(637)]=function(t,e){const i=f;this[i(557)]=Math[i(331)](t*this[i(270)],this.updateMin*this[i(270)]),this.updateMax=Math[i(359)](e*this[i(270)],this[i(661)]*this[i(270)])},m.ShaderAttribute[f(350)][f(267)]=function(){const t=f,e=this[t(561)],i=e[t(594)];i[t(213)]=this[t(557)],i[t(310)]=Math[t(331)](this[t(661)]-this[t(557)]+this[t(270)],this.typedArray[t(445)].length),e.needsUpdate=!0},m.ShaderAttribute[f(350)][f(596)]=function(){const t=f;this[t(557)]=0,this[t(661)]=0},m[f(438)][f(350)].resetDynamic=function(){const i=f;this[i(561)][i(571)]=this.dynamicBuffer?t[i(474)]:e},m[f(438)][f(350)][f(322)]=function(t,e){const i=f;this[i(447)].splice(t,e),this[i(274)]()},m[f(438)].prototype[f(274)]=function(){const t=f;this[t(561)].array=this.typedArray[t(445)],this[t(561)][t(594)][t(213)]=0,this[t(561)][t(594)].count=-1,this[t(561)][t(571)]=e,this[t(561)].needsUpdate=!0},m.ShaderAttribute[f(350)][f(562)]=function(t){const e=f;null!==this[e(447)]&&this[e(447)][e(639)]===t*this[e(270)]||(null!==this[e(447)]&&this[e(447)][e(639)]!==t?this[e(447)][e(281)](t):null===this[e(447)]&&(this[e(447)]=new m.TypedArrayHelper(this[e(443)],t,this[e(270)])))},m[f(438)].prototype[f(405)]=function(e){const s=f;if(this._ensureTypedArray(e),null!==this[s(561)])return this.bufferAttribute[s(445)]=this.typedArray[s(445)],parseFloat(i)>=81&&(this[s(561)][s(310)]=this[s(561)][s(445)][s(573)]/this.bufferAttribute[s(580)]),void(this.bufferAttribute[s(503)]=!0);this[s(561)]=new n(this[s(447)][s(445)],this.componentSize),this[s(561)][s(571)]=this[s(235)]?t[s(474)]:t[s(211)]},m.ShaderAttribute[f(350)][f(283)]=function(){const t=f;return null===this.typedArray?0:this[t(447)][t(445)][t(573)]},m.shaderChunks={defines:[f(434),f(629)][f(660)]("\n"),uniforms:["uniform float deltaTime;",f(522),f(533),"uniform vec4 textureAnimation;",f(669)][f(660)]("\n"),attributes:[f(335),"attribute vec3 velocity;","attribute vec4 rotation;",f(225),f(480),f(570),f(324),f(289),f(543)][f(660)]("\n"),varyings:[f(641),f(468),f(305),f(262),f(442),f(244),f(262)].join("\n"),branchAvoidanceFunctions:[f(366),f(397),"}",f(435),f(347),"}",f(394),f(615),"}","float when_ge(float x, float y) {",f(541),"}",f(277),"  return 1.0 - when_gt(x, y);","}","float and(float a, float b) {","    return a * b;","}","float or(float a, float b) {",f(649),"}"][f(660)]("\n"),unpackColor:[f(532),f(592),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",f(526),f(304),f(462),f(552),f(491),f(606),"}"][f(660)]("\n"),unpackRotationAxis:[f(576),f(592),f(236),f(526),"   float b = mod( hex, PACKED_COLOR_SIZE );",f(462),f(552),f(491),f(653),"   c -= vec3( 1.0 );","   return c;","}"].join("\n"),floatOverLifetime:[f(276),"    highp float value = 0.0;",f(651),"    float fIndex = 0.0;",f(255),f(540),"",f(502),"       fIndex = float( i );",f(420),f(251),f(241),"",f(328),"}"].join("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );",f(407),f(427),"    return value;","}"].join("\n"),paramFetchingFunctions:["float getAlive() {",f(314),"}",f(268),f(559),"}","float getMaxAge() {",f(504),"}",f(430),f(575),"}"][f(660)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",f(582),"}",f(460),f(428),"}",f(538),f(550),"}"].join("\n"),rotationFunctions:[f(249),f(321),f(248),f(365),f(603),f(578),"",f(512),f(429),f(326),"                   0.0,                                0.0,                                0.0,                                1.0);","   }","",f(452),"      if( rotation.y == 0.0 ) {",f(549),f(588),"",f(309),f(448),f(266),"      mat4 rotationMatrix;","      float angle = 0.0;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",f(278),f(338),"      rotationMatrix = getRotationMatrix( axis, angle );",f(406),f(416),"#endif"][f(660)]("\n"),rotateTexture:[f(348),"",f(246),f(300),f(650),f(363),f(511),"       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );",f(609),"","    #ifdef SHOULD_CALCULATE_SPRITE",f(535),f(400),f(581),f(374),f(556),f(263),f(609),"",f(624)][f(660)]("\n")},m.shaders={vertex:[m[f(472)].defines,m.shaderChunks[f(620)],m[f(472)][f(618)],m[f(472)].varyings,t[f(449)].common,t[f(449)][f(523)],t[f(449)].fog_pars_vertex,m.shaderChunks[f(421)],m[f(472)][f(656)],m[f(472)][f(608)],m[f(472)][f(239)],m[f(472)][f(317)],m[f(472)][f(501)],m.shaderChunks[f(337)],m.shaderChunks.rotationFunctions,"void main() {",f(672),f(418),f(619),f(568),f(375),"    #ifdef SHOULD_WIGGLE_PARTICLES","        float wiggleAmount = positionInTime * getWiggle();","        float wiggleSin = isAlive * sin( wiggleAmount );","        float wiggleCos = isAlive * cos( wiggleAmount );",f(609),f(613),f(490),f(425),f(260),f(563),"    force += vel;",f(219),f(497),"    pos += force;",f(659),f(358),f(671),f(327),f(609),f(524),f(507),f(609),f(622),f(306),"    #ifdef HAS_PERSPECTIVE","        float perspective = scale / length( mvPosition.xyz );",f(341),f(510),f(609),f(600),f(478),f(218),f(297),"           unpackColor( color.x ),",f(467),"           unpackColor( color.z ),",f(379),f(232),f(341),f(623),f(609),f(415),f(433),f(246),f(566),f(609),f(621),f(481),f(492),f(545),"        float totalFrames = textureAnimation.z;",f(517),"        float column = floor(mod( frameNumber, framesX ));",f(384),"        float columnNorm = column / framesX;","        float rowNorm = row / framesY;","        vSpriteSheet.x = 1.0 / framesX;","        vSpriteSheet.y = 1.0 / framesY;","        vSpriteSheet.z = columnNorm;",f(408),f(609),f(275),"    gl_Position = projectionMatrix * mvPosition;",t[f(449)].logdepthbuf_vertex,t[f(449)][f(223)],"}"].join("\n"),fragment:[m[f(472)][f(620)],t[f(449)][f(636)],t[f(449)][f(591)],s.logdepthbuf_pars_fragment,m[f(472)][f(612)],m[f(472)].branchAvoidanceFunctions,f(413),"    vec3 outgoingLight = vColor.xyz;","    ","    #ifdef ALPHATEST",f(369),f(609),m[f(472)][f(349)],t[f(449)][f(496)],f(479),"    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",t[f(449)][f(513)],"}"].join("\n")},m[f(392)]={types:{BOOLEAN:f(437),STRING:f(280),NUMBER:"number",OBJECT:f(386)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=f;if(Array[n(292)](t)){for(let s=t[n(573)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(555)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=f;if(Array[n(292)](t)){for(let s=t[n(573)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(528)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=f;e=e||3,i=i||3,!1===Array[n(292)](t[n(521)])&&(t[n(521)]=[t[n(521)]]),!1===Array.isArray(t[n(296)])&&(t._spread=[t[n(296)]]);const s=this[n(471)](t[n(521)][n(573)],e,i),o=this[n(471)](t[n(296)].length,e,i),r=Math[n(359)](s,o);t[n(521)][n(573)]!==r&&(t[n(521)]=this.interpolateArray(t[n(521)],r)),t[n(296)][n(573)]!==r&&(t[n(296)]=this[n(553)](t._spread,r))},interpolateArray(t,e){const i=f,n=t[i(573)],s=[typeof t[0][i(484)]===i(385)?t[0][i(484)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math.floor(e),a=Math[i(565)](e),h=e-n;s[r]=this[i(601)](t[n],t[a],h)}return s[i(506)]("function"==typeof t[n-1][i(484)]?t[n-1][i(484)]():t[n-1]),s},clamp(t,e,i){const n=f;return Math[n(359)](e,Math[n(331)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=f;let r,a=this[s(542)];return typeof e===a[s(579)]&&typeof i===a[s(579)]?e+(i-e)*n:e instanceof t[s(625)]&&i instanceof t[s(625)]?(r=e[s(484)](),r.x=this[s(515)](e.x,i.x,n),r.y=this[s(515)](e.y,i.y,n),r):e instanceof o&&i instanceof t[s(372)]?(r=e.clone(),r.x=this.lerp(e.x,i.x,n),r.y=this.lerp(e.y,i.y,n),r.z=this.lerp(e.z,i.z,n),r):e instanceof t[s(426)]&&i instanceof t[s(426)]?(r=e[s(484)](),r.x=this[s(515)](e.x,i.x,n),r.y=this[s(515)](e.y,i.y,n),r.z=this[s(515)](e.z,i.z,n),r.w=this[s(515)](e.w,i.w,n),r):e instanceof t[s(605)]&&i instanceof t[s(605)]?(r=e[s(484)](),r.r=this[s(515)](e.r,i.r,n),r.g=this[s(515)](e.g,i.g,n),r.b=this.lerp(e.b,i.b,n),r):void console[s(466)](s(377),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=f;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(657)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[f(288)]()-.5),randomVector3(t,e,i,n,s){const o=f;let r=i.x+(Math[o(288)]()*n.x-.5*n.x),a=i.y+(Math[o(288)]()*n.y-.5*n.y),h=i.z+(Math[o(288)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(336)](r,s.x),a=.5*-s.y+this[o(336)](a,s.y),h=.5*-s.z+this.roundToNearestMultiple(h,s.z)),t[o(447)][o(315)](e,r,a,h)},randomColor(t,e,i,n){const s=f;let o=i.r+Math[s(288)]()*n.x,r=i.g+Math[s(288)]()*n.y,a=i.b+Math[s(288)]()*n.z;o=this[s(471)](o,0,1),r=this[s(471)](r,0,1),a=this[s(471)](a,0,1),t[s(447)][s(315)](e,o,r,a)},randomColorAsHex:function(){const e=f,i=new(t[e(605)]);return function(t,n,s,o){const r=e,a=s[r(573)],h=[];for(let e=0;e<a;++e){const t=o[e];i[r(585)](s[e]),i.r+=Math[r(288)]()*t.x-.5*t.x,i.g+=Math[r(288)]()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this[r(471)](i.r,0,1),i.g=this[r(471)](i.g,0,1),i.b=this[r(471)](i.b,0,1),h[r(506)](i[r(602)]())}t.typedArray[r(616)](n,h[0],h[1],h[2],h[3])}}(),randomVector3OnLine(t,e,i,n){const s=f,o=i[s(484)]();o[s(515)](n,Math.random()),t[s(447)][s(315)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const h=f;let c=2*Math.random()-1,l=6.2832*Math[h(288)](),u=Math.sqrt(1-c*c),p=this[h(237)](n,s),d=0,g=0,m=0;r&&(p=Math.round(p/r)*r),d=u*Math[h(520)](l)*p,g=u*Math.sin(l)*p,m=c*p,d*=o.x,g*=o.y,m*=o.z,d+=i.x,g+=i.y,m+=i.z,t[h(447)][h(315)](e,d,g,m)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=f;let h=6.2832*Math[a(288)](),c=Math.abs(this[a(237)](n,s)),l=0,u=0,p=0;r&&(c=Math[a(569)](c/r)*r),l=Math[a(520)](h)*c,u=Math[a(451)](h)*c,l*=o.x,u*=o.y,l+=i.x,u+=i.y,p+=i.z,t[a(447)][a(315)](e,l,u,p)},randomDirectionVector3OnSphere:function(){const e=f,i=new(t[e(372)]);return function(t,n,s,o,r,a,h,c){const l=e;i[l(585)](a),i.x-=s,i.y-=o,i.z-=r,i[l(450)]().multiplyScalar(-this[l(237)](h,c)),t[l(447)][l(315)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new o;return function(e,i,n,s,o,r,a,h){const c=g;t[c(585)](r),t.x-=n,t.y-=s,t.z-=o,t[c(450)]().multiplyScalar(-this[c(237)](a,h)),e[c(447)][c(315)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=f,i=new(t[e(372)]),n=new(t[e(372)]),s=new(t[e(605)]),o=new(t[e(372)])(1,1,1);return function(t,r){const a=e;return i[a(585)](t)[a(450)](),n[a(585)](r)[a(450)](),i.x+=.5*-r.x+Math[a(288)]()*r.x,i.y+=.5*-r.y+Math.random()*r.y,i.z+=.5*-r.z+Math[a(288)]()*r.z,i[a(450)]().add(o)[a(378)](.5),s[a(483)](i.x,i.y,i.z),s.getHex()}}()},m[f(417)]=function(e){const i=f,n=m[i(392)],s=n.types;(e=n[i(555)](e,s[i(633)],{}))[i(599)]=n[i(555)](e[i(599)],s[i(633)],{}),this.uuid=r[i(240)](),this[i(301)]=n[i(555)](e[i(301)],s.NUMBER,.016),this[i(599)]=n.ensureInstanceOf(e.texture[i(234)],t[i(361)],null),this[i(279)]=n[i(528)](e.texture[i(342)],t[i(625)],new(t[i(625)])(1,1)),this[i(393)]=n.ensureTypedArg(e.texture.frameCount,s[i(579)],this[i(279)].x*this[i(279)].y),this.textureLoop=n[i(555)](e[i(599)][i(518)],s.NUMBER,1),this[i(279)][i(359)](new a(1,1)),this[i(290)]=n.ensureTypedArg(e[i(290)],s.BOOLEAN,!0),this[i(440)]=n.ensureTypedArg(e[i(440)],s[i(439)],!0),this[i(597)]=n.ensureTypedArg(e[i(597)],s[i(579)],null),this[i(463)]=n[i(555)](e[i(463)],s.NUMBER,h),this[i(546)]=n[i(555)](e.transparent,s[i(439)],!0),this.alphaTest=parseFloat(n[i(555)](e[i(446)],s[i(579)],0)),this.depthWrite=n[i(555)](e[i(485)],s[i(439)],!1),this[i(643)]=n[i(555)](e[i(643)],s[i(439)],!0),this[i(673)]=n[i(555)](e[i(673)],s.BOOLEAN,!0),this[i(356)]=n[i(555)](e[i(356)],s[i(579)],300),this[i(595)]=[],this[i(499)]=[],this[i(444)]=[],this._poolCreationSettings=null,this[i(320)]=0,this[i(554)]=!1,this[i(346)]=!1,this.particleCount=0,this[i(620)]={tex:{type:"t",value:this[i(599)]},textureAnimation:{type:"v4",value:new c(this[i(279)].x,this[i(279)].y,this[i(393)],Math.max(Math[i(657)](this[i(353)]),1))},fogColor:{type:"c",value:this[i(673)]?new l:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(356)]}},this[i(476)]={HAS_PERSPECTIVE:this[i(290)],COLORIZE:this[i(440)],VALUE_OVER_LIFETIME_LENGTH:m[i(339)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(279)].x>1||this[i(279)].y>1},this.attributes={position:new(m[i(438)])("v3",!0),acceleration:new m.ShaderAttribute("v4",!0),velocity:new(m[i(438)])("v3",!0),rotation:new(m[i(438)])("v4",!0),rotationCenter:new(m[i(438)])("v3",!0),params:new(m[i(438)])("v4",!0),size:new(m[i(438)])("v4",!0),angle:new m.ShaderAttribute("v4",!0),color:new m.ShaderAttribute("v4",!0),opacity:new(m[i(438)])("v4",!0)},this.attributeKeys=Object[i(332)](this[i(618)]),this.attributeCount=this[i(261)].length,this.material=new(t[i(486)])({uniforms:this[i(620)],vertexShader:m[i(396)][i(516)],fragmentShader:m[i(396)][i(647)],blending:this.blending,transparent:this[i(546)],alphaTest:this[i(446)],depthWrite:this[i(485)],depthTest:this[i(643)],defines:this.defines,fog:this[i(673)]}),this[i(470)]=new(t[i(303)]),this.mesh=new(t[i(269)])(this[i(470)],this[i(376)]),null===this[i(597)]&&console[i(466)](i(329))},m[f(417)].constructor=m[f(417)],m[f(417)].prototype[f(548)]=function(){const t=f;let e,i=this[t(595)],n=i.length-1,s=this.defines;for(;n>=0;--n)e=i[n],!s[t(388)]&&(s[t(250)]=s.SHOULD_ROTATE_TEXTURE||!!Math[t(359)](Math[t(359)][t(572)](null,e[t(370)][t(234)]),Math.max.apply(null,e.angle[t(352)]))),s[t(325)]=s[t(325)]||!!Math[t(359)](e[t(634)][t(370)],e.rotation.angleSpread),s[t(404)]=s.SHOULD_WIGGLE_PARTICLES||!!Math.max(e[t(264)].value,e[t(264)][t(352)]);this[t(376)][t(503)]=!0},m[f(417)].prototype._applyAttributesToGeometry=function(){const t=f;let e,i,n=this[t(618)],s=this[t(470)],o=s.attributes;for(const r in n)n[t(482)](r)&&(e=n[r],i=o[r],i?i[t(445)]=e.typedArray[t(445)]:s[t(611)](r,e[t(561)]),e[t(561)].needsUpdate=!0);this[t(470)][t(632)](0,this[t(586)])},m.Group[f(350)][f(454)]=function(t){const e=f;if(t instanceof m[e(593)]==!1)return void console[e(351)](e(333),t);if(this.emitterIDs[e(638)](t[e(293)])>-1)return void console.error("Emitter already exists in this group. Will not add again.");if(null!==t[e(530)])return void console[e(351)](e(323));const i=this[e(618)],n=this[e(586)],s=n+t.particleCount;this[e(586)]=s,null!==this[e(597)]&&this.particleCount>this[e(597)]&&console[e(466)](e(551),this[e(586)],e(286),this[e(597)]),t[e(631)](t[e(607)][e(521)]+t.maxAge[e(296)]),t[e(383)](this[e(261)]),t[e(498)](n),t.group=this,t[e(618)]=this[e(618)];for(const o in i)i[e(482)](o)&&i[o]._createBufferAttribute(null!==this[e(597)]?this[e(597)]:this[e(586)]);for(let o=n;o<s;++o)t._assignPositionValue(o),t[e(537)](o,"velocity"),t._assignForceValue(o,e(652)),t[e(663)](o,e(214)),t[e(663)](o,e(639)),t._assignAngleValue(o),t._assignRotationValue(o),t[e(441)](o),t[e(577)](o);return this[e(294)](),this[e(595)].push(t),this.emitterIDs[e(506)](t[e(293)]),this[e(548)](t),this.material[e(503)]=!0,this.geometry[e(503)]=!0,this[e(554)]=!0,this},m[f(417)][f(350)][f(313)]=function(t){const e=f,i=this[e(499)][e(638)](t[e(293)]);if(t instanceof m.Emitter==!1)return void console[e(351)](e(333),t);if(-1===i)return void console[e(351)](e(654));const n=t.attributeOffset,s=n+t[e(586)],o=this[e(618)][e(282)][e(447)];for(let r=n;r<s;++r)o[e(445)][4*r]=0,o[e(445)][4*r+1]=0;this[e(595)][e(322)](i,1),this[e(499)][e(322)](i,1);for(const r in this.attributes)this[e(618)][e(482)](r)&&this[e(618)][r][e(322)](n,s);this[e(586)]-=t[e(586)],t[e(368)](),this[e(554)]=!0},m[f(417)][f(350)][f(455)]=function(){const t=f,e=this[t(444)],i=this[t(320)];if(e[t(573)])return e[t(367)]();if(i){const e=new(m[t(593)])(this[t(574)]);return this[t(454)](e),e}return null},m[f(417)].prototype[f(410)]=function(t){const e=f;if(t instanceof m[e(593)]!=!1)return t[e(670)](),this[e(444)].unshift(t),this;console[e(351)]("Argument is not instanceof SPE.Emitter:",t)},m[f(417)][f(350)][f(259)]=function(){return this[f(444)]},m[f(417)][f(350)].addPool=function(t,e,i){const n=f;let s;this[n(574)]=e,this._createNewWhenPoolEmpty=!!i;for(let o=0;o<t;++o)s=Array[n(292)](e)?new(m[n(593)])(e[o]):new(m[n(593)])(e),this[n(454)](s),this.releaseIntoPool(s);return this},m[f(417)][f(350)]._triggerSingleEmitter=function(t){const e=f,i=this[e(455)](),n=this;if(null!==i)return t instanceof o&&(i[e(285)][e(234)][e(585)](t),i.position[e(234)]=i.position[e(234)]),i[e(231)](),setTimeout((()=>{const t=e;i.disable(),n[t(410)](i)}),1e3*Math[e(359)](i.duration,i[e(607)].value+i.maxAge.spread)),this;console[e(344)](e(409))},m[f(417)].prototype[f(432)]=function(t,e){const i=f;if(typeof t===i(398)&&t>1)for(let n=0;n<t;++n)this[i(245)](e);else this[i(245)](e);return this},m[f(417)][f(350)][f(373)]=function(t){const e=f;this[e(620)][e(598)][e(234)]+=t,this[e(620)].deltaTime[e(234)]=t},m.Group[f(350)]._resetBufferRanges=function(){const t=f;let e=this[t(261)],i=this[t(308)]-1,n=this[t(618)];for(;i>=0;--i)n[e[i]][t(596)]()},m[f(417)][f(350)][f(560)]=function(t){const e=f;let i,n,s,o=this[e(261)],r=this[e(308)]-1,a=this.attributes,h=t[e(412)];for(;r>=0;--r)i=o[r],n=h[i],s=a[i],s.setUpdateRange(n[e(331)],n[e(359)]),s[e(267)]()},m.Group[f(350)][f(256)]=function(t){const e=f;var i=this[e(595)],n=i[e(573)],s=t||this[e(301)],o=this.attributeKeys,r=this[e(618)];if(this[e(373)](s),this[e(238)](),0!==n||!1!==this._attributesNeedRefresh||!1!==this[e(346)]){for(var a,h=0;h<n;++h)(a=i[h]).tick(s),this._updateBuffers(a);if(!0===this[e(346)]){for(h=this.attributeCount-1;h>=0;--h)r[o[h]].resetDynamic();this[e(346)]=!1}if(!0===this[e(554)]){for(h=this[e(308)]-1;h>=0;--h)r[o[h]].forceUpdateAll();this._attributesNeedRefresh=!1,this[e(346)]=!0}}},m[f(417)].prototype[f(216)]=function(){const t=f;return this[t(470)][t(216)](),this[t(376)][t(216)](),this},m[f(593)]=function(e){const i=f,n=m[i(392)],s=n[i(542)],r=m[i(339)];(e=n[i(555)](e,s[i(633)],{}))[i(285)]=n.ensureTypedArg(e[i(285)],s[i(633)],{}),e[i(583)]=n[i(555)](e[i(583)],s[i(633)],{}),e[i(652)]=n[i(555)](e.acceleration,s.OBJECT,{}),e[i(233)]=n[i(555)](e[i(233)],s.OBJECT,{}),e.drag=n[i(555)](e[i(469)],s.OBJECT,{}),e[i(634)]=n[i(555)](e.rotation,s.OBJECT,{}),e.color=n[i(555)](e[i(355)],s[i(633)],{}),e.opacity=n[i(555)](e.opacity,s[i(633)],{}),e[i(639)]=n[i(555)](e[i(639)],s[i(633)],{}),e[i(370)]=n.ensureTypedArg(e[i(370)],s.OBJECT,{}),e.wiggle=n[i(555)](e[i(264)],s[i(633)],{}),e[i(607)]=n[i(555)](e.maxAge,s.OBJECT,{}),e[i(668)]&&console[i(466)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this[i(293)]=t[i(345)][i(240)](),this[i(529)]=n[i(555)](e[i(529)],s[i(579)],m[i(525)].BOX),this.position={_value:n.ensureInstanceOf(e[i(285)][i(234)],t[i(372)],new o),_spread:n[i(528)](e[i(285)][i(352)],t[i(372)],new o),_spreadClamp:n[i(528)](e[i(285)][i(402)],t[i(372)],new(t[i(372)])),_distribution:n[i(555)](e[i(285)].distribution,s[i(579)],this[i(529)]),_randomise:n.ensureTypedArg(e[i(285)][i(273)],s[i(439)],!1),_radius:n[i(555)](e[i(285)][i(233)],s[i(579)],10),_radiusScale:n[i(528)](e[i(285)][i(587)],o,new(t[i(372)])(1,1,1)),_distributionClamp:n.ensureTypedArg(e[i(285)].distributionClamp,s[i(579)],0)},this.velocity={_value:n[i(528)](e[i(583)][i(234)],o,new(t[i(372)])),_spread:n.ensureInstanceOf(e[i(583)][i(352)],t[i(372)],new(t[i(372)])),_distribution:n.ensureTypedArg(e[i(583)][i(247)],s.NUMBER,this.type),_randomise:n[i(555)](e.position[i(273)],s.BOOLEAN,!1)},this[i(652)]={_value:n[i(528)](e[i(652)][i(234)],t[i(372)],new o),_spread:n.ensureInstanceOf(e[i(652)][i(352)],t[i(372)],new o),_distribution:n.ensureTypedArg(e[i(652)][i(247)],s.NUMBER,this[i(529)]),_randomise:n[i(555)](e[i(285)][i(273)],s.BOOLEAN,!1)},this[i(469)]={_value:n[i(555)](e[i(469)][i(234)],s[i(579)],0),_spread:n[i(555)](e[i(469)][i(352)],s[i(579)],0),_randomise:n[i(555)](e[i(285)].randomise,s[i(439)],!1)},this[i(264)]={_value:n[i(555)](e.wiggle[i(234)],s[i(579)],0),_spread:n[i(555)](e[i(264)][i(352)],s.NUMBER,0)},this.rotation={_axis:n[i(528)](e[i(634)].axis,t[i(372)],new(t[i(372)])(0,1,0)),_axisSpread:n[i(528)](e[i(634)][i(330)],t[i(372)],new o),_angle:n[i(555)](e[i(634)].angle,s.NUMBER,0),_angleSpread:n.ensureTypedArg(e[i(634)][i(302)],s[i(579)],0),_static:n[i(555)](e[i(634)][i(459)],s.BOOLEAN,!1),_center:n[i(528)](e.rotation[i(539)],t[i(372)],this[i(285)][i(521)][i(484)]()),_randomise:n.ensureTypedArg(e[i(285)][i(273)],s.BOOLEAN,!1)},this[i(607)]={_value:n[i(555)](e.maxAge[i(234)],s[i(579)],2),_spread:n.ensureTypedArg(e.maxAge[i(352)],s[i(579)],0)},this[i(355)]={_value:n[i(403)](e[i(355)][i(234)],t[i(605)],new(t[i(605)])),_spread:n[i(403)](e.color.spread,t[i(372)],new o),_randomise:n[i(555)](e[i(285)][i(273)],s[i(439)],!1)},this[i(214)]={_value:n[i(508)](e[i(214)][i(234)],s.NUMBER,1),_spread:n[i(508)](e[i(214)][i(352)],s[i(579)],0),_randomise:n.ensureTypedArg(e[i(285)].randomise,s[i(439)],!1)},this.size={_value:n[i(508)](e[i(639)][i(234)],s[i(579)],1),_spread:n.ensureArrayTypedArg(e.size[i(352)],s[i(579)],0),_randomise:n[i(555)](e[i(285)][i(273)],s.BOOLEAN,!1)},this[i(370)]={_value:n[i(508)](e[i(370)].value,s[i(579)],0),_spread:n[i(508)](e[i(370)].spread,s[i(579)],0),_randomise:n[i(555)](e[i(285)][i(273)],s.BOOLEAN,!1)},this[i(586)]=n[i(555)](e.particleCount,s[i(579)],100),this[i(316)]=n[i(555)](e.duration,s.NUMBER,null),this[i(423)]=n.ensureTypedArg(e[i(423)],s[i(439)],!1),this[i(667)]=n.ensureTypedArg(e.activeMultiplier,s[i(579)],1),this[i(318)]=n[i(555)](e[i(318)],s[i(579)],1),this[i(614)]=n[i(555)](e[i(614)],s[i(439)],!0),this[i(312)]=0,this[i(381)]=0,this[i(419)]=0,this[i(431)]=0,this[i(662)]=0,this[i(311)]=0,this[i(530)]=null,this[i(618)]=null,this.paramsArray=null,this[i(465)]={position:n[i(555)](e[i(285)][i(273)],s[i(439)],!1)||n[i(555)](e[i(233)][i(273)],s.BOOLEAN,!1),velocity:n.ensureTypedArg(e.velocity[i(273)],s.BOOLEAN,!1),acceleration:n[i(555)](e[i(652)][i(273)],s[i(439)],!1)||n.ensureTypedArg(e[i(469)][i(273)],s[i(439)],!1),rotation:n[i(555)](e[i(634)][i(273)],s[i(439)],!1),rotationCenter:n[i(555)](e[i(634)][i(273)],s[i(439)],!1),size:n[i(555)](e[i(639)][i(273)],s[i(439)],!1),color:n[i(555)](e[i(355)].randomise,s[i(439)],!1),opacity:n[i(555)](e.opacity[i(273)],s[i(439)],!1),angle:n[i(555)](e[i(370)][i(273)],s[i(439)],!1)},this[i(464)]={},this[i(272)]={},this[i(590)]={maxAge:i(282),position:i(285),velocity:i(583),acceleration:"acceleration",drag:i(652),wiggle:i(282),rotation:i(634),size:i(639),color:i(355),opacity:i(214),angle:i(370)};for(const t in this[i(590)])this.updateMap[i(482)](t)&&(this[i(272)][this[i(590)][t]]=0,this.updateFlags[this.updateMap[t]]=!1,this._createGetterSetters(this[t],t));this[i(412)]={},this[i(261)]=null,this[i(308)]=0,n[i(230)](this[i(355)],r,r),n[i(230)](this.opacity,r,r),n[i(230)](this[i(639)],r,r),n[i(230)](this.angle,r,r)},m[f(593)][f(494)]=m[f(593)],m.Emitter.prototype[f(217)]=function(t,e){const i=f,n=this;for(const s in t)if(t[i(482)](s)){const o=s[i(357)]("_","");Object[i(390)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=g,o=n[s(590)][e],r=this[t],a=m[s(339)];"_rotationCenter"===t?(n[s(464)].rotationCenter=!0,n[s(272)][s(220)]=0):t===s(362)?n[s(465)][o]=i:(n[s(464)][o]=!0,n[s(272)][o]=0),n[s(530)][s(548)](),this[t]=i,Array[s(292)](r)&&m.utils[s(230)](n[e],a,a)}}(s)})}},m[f(593)].prototype[f(383)]=function(t){const e=f;this.attributeKeys=t,this[e(308)]=t[e(573)];for(let i=this[e(308)]-1;i>=0;--i)this.bufferUpdateRanges[t[i]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},m.Emitter[f(350)][f(631)]=function(t){const e=f,i=this[e(586)];this[e(316)]?this[e(312)]=i/(t<this.duration?t:this[e(316)]):this[e(312)]=i/t},m[f(593)][f(350)]._setAttributeOffset=function(t){const e=f;this[e(419)]=t,this[e(381)]=t,this[e(457)]=t+this[e(586)]},m.Emitter[f(350)][f(252)]=function(t,e){const i=f;switch(t){case i(285):this[i(414)](e);break;case i(583):case i(652):this._assignForceValue(e,t);break;case"size":case i(214):this[i(663)](e,t);break;case i(370):this._assignAngleValue(e);break;case i(282):this[i(441)](e);break;case"rotation":this[i(617)](e);break;case i(355):this[i(577)](e)}},m.Emitter[f(350)]._assignPositionValue=function(t){const e=f,i=m.distributions,n=m.utils,s=this[e(285)],o=this[e(618)][e(285)],r=s._value,a=s[e(296)];switch(s[e(401)]){case i[e(229)]:n[e(646)](o,t,r,a,s._spreadClamp);break;case i.SPHERE:n.randomVector3OnSphere(o,t,r,s[e(655)],s[e(296)].x,s[e(544)],s[e(610)].x,s[e(424)]||this[e(586)]);break;case i[e(299)]:n.randomVector3OnDisc(o,t,r,s[e(655)],s._spread.x,s[e(544)],s[e(610)].x);break;case i[e(628)]:n[e(295)](o,t,r,a)}},m[f(593)][f(350)][f(537)]=function(t,e){const i=f;let n,s,o,r,a,h=m.distributions,c=m[i(392)],l=this[e],u=l[i(521)],p=l[i(296)];switch(l[i(401)]){case h[i(229)]:c[i(646)](this[i(618)][e],t,u,p);break;case h[i(547)]:n=this[i(618)][i(285)][i(447)][i(445)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],c[i(514)](this[i(618)][e],t,s,o,r,this[i(285)][i(521)],l[i(521)].x,l._spread.x);break;case h.DISC:n=this[i(618)][i(285)].typedArray.array,a=3*t,s=n[a],o=n[a+1],r=n[a+2],c[i(284)](this[i(618)][e],t,s,o,r,this[i(285)][i(521)],l[i(521)].x,l[i(296)].x);break;case h[i(628)]:c[i(295)](this.attributes[e],t,u,p)}if(e===i(652)){const e=c[i(471)](c[i(237)](this[i(469)]._value,this.drag._spread),0,1);this[i(618)][i(652)][i(447)].array[4*t+3]=e}},m[f(593)][f(350)][f(663)]=function(t,e){const i=f;let n,s=this[i(618)][e][i(447)],o=this[e],r=m[i(392)];r[i(495)](o._value)&&r.arrayValuesAreEqual(o[i(296)])?(n=Math[i(657)](r.randomFloat(o[i(521)][0],o._spread[0])),s[i(616)](t,n,n,n,n)):s[i(616)](t,Math[i(657)](r[i(237)](o[i(521)][0],o[i(296)][0])),Math.abs(r.randomFloat(o[i(521)][1],o[i(296)][1])),Math.abs(r[i(237)](o[i(521)][2],o[i(296)][2])),Math.abs(r.randomFloat(o[i(521)][3],o[i(296)][3])))},m.Emitter[f(350)][f(265)]=function(t){const e=f;let i,n=this[e(618)][e(370)].typedArray,s=this[e(370)],o=m[e(392)];o.arrayValuesAreEqual(s[e(521)])&&o[e(495)](s._spread)?(i=o[e(237)](s[e(521)][0],s[e(296)][0]),n[e(616)](t,i,i,i,i)):n[e(616)](t,o[e(237)](s._value[0],s._spread[0]),o[e(237)](s[e(521)][1],s[e(296)][1]),o[e(237)](s[e(521)][2],s[e(296)][2]),o[e(237)](s[e(521)][3],s[e(296)][3]))},m[f(593)][f(350)][f(441)]=function(t){const e=f;this[e(618)][e(282)][e(447)][e(616)](t,this.isStatic?1:0,0,Math[e(657)](m[e(392)][e(237)](this[e(607)][e(521)],this.maxAge[e(296)])),m[e(392)][e(237)](this.wiggle[e(521)],this[e(264)][e(296)]))},m[f(593)][f(350)][f(617)]=function(t){const e=f;this.attributes[e(634)][e(447)][e(315)](t,m[e(392)][e(222)](this.rotation[e(354)],this[e(634)][e(258)]),m[e(392)][e(237)](this[e(634)][e(389)],this.rotation[e(224)]),this[e(634)][e(298)]?0:1),this[e(618)][e(220)][e(447)][e(271)](t,this[e(634)][e(473)])},m.Emitter[f(350)][f(577)]=function(t){const e=f;m.utils[e(589)](this[e(618)].color,t,this.color[e(521)],this[e(355)]._spread)},m[f(593)][f(350)][f(453)]=function(t){const e=f;let i,n,s=this[e(465)],o=this.updateFlags,r=this[e(272)],a=this[e(261)];for(let h=this.attributeCount-1;h>=0;--h)i=a[h],n=o[i],!0!==s[i]&&!0!==n||(this._assignValue(i,t),this[e(422)](i,t),!0===n&&r[i]===this[e(586)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},m[f(593)].prototype._updateAttributeUpdateRange=function(t,e){const i=f,n=this[i(412)][t];n[i(331)]=Math[i(331)](e,n[i(331)]),n.max=Math[i(359)](e,n[i(359)])},m.Emitter[f(350)][f(238)]=function(){const t=f;let e,i=this[t(412)],n=this[t(340)],s=this.bufferUpdateCount-1;for(;s>=0;--s)e=n[s],i[e][t(331)]=Number[t(456)],i[e][t(359)]=Number[t(242)]},m[f(593)].prototype[f(368)]=function(){const t=f;this[t(312)]=0,this[t(419)]=0,this[t(381)]=0,this[t(311)]=0,this[t(530)]=null,this.attributes=null,this[t(475)]=null,this[t(662)]=0},m[f(593)][f(350)][f(215)]=function(){--this[f(311)]},m.Emitter[f(350)][f(487)]=function(){++this[f(311)]},m[f(593)][f(350)][f(536)]=function(t,e,i,n){const s=f;for(var o,r,a,h,c=e-1;c>=t;--c)0!==(h=i[o=4*c])&&(a=i[o+1],r=i[o+2],1===this[s(318)]?(a+=n)>=r&&(a=0,h=0,this[s(215)]()):(a-=n)<=0&&(a=r,h=0,this[s(215)]()),i[o]=h,i[o+1]=a,this[s(422)](s(282),c))},m[f(593)][f(350)]._activateParticles=function(t,e,i,n){const s=f,o=this[s(318)];for(var r,a,h=t;h<e;++h)0!=i[r=4*h]&&1!==this[s(586)]||(this[s(487)](),i[r]=1,this[s(453)](h),a=n*(h-t),i[r+1]=-1===o?i[r+2]-a:a,this._updateAttributeUpdateRange(s(282),h))},m.Emitter.prototype[f(256)]=function(t){const e=f;if(this[e(423)])return;null===this[e(475)]&&(this[e(475)]=this[e(618)][e(282)][e(447)][e(445)]);const i=this.attributeOffset,n=i+this.particleCount,s=this[e(475)],o=this[e(312)]*this.activeMultiplier*t,r=this.activationIndex;if(this[e(238)](),this[e(536)](i,n,s,t),!1===this[e(614)])return void(this[e(662)]=0);if(null!==this.duration&&this[e(662)]>this[e(316)])return this[e(614)]=!1,void(this[e(662)]=0);const a=1===this[e(586)]?r:0|r,h=Math[e(331)](a+o,this[e(457)]),c=h-this.activationIndex|0,l=c>0?t/c:0;this[e(567)](a,h,s,l),this[e(381)]+=o,this[e(381)]>n&&(this[e(381)]=i),this[e(662)]+=t},m[f(593)][f(350)].reset=function(t){const e=f;if(this[e(662)]=0,this.alive=!1,!0===t){const t=this[e(419)],s=t+this[e(586)],o=this[e(475)],r=this[e(618)][e(282)][e(561)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(594)].offset=0,r[e(594)][e(310)]=-1,r[e(503)]=!0}return this},m.Emitter.prototype[f(231)]=function(){return this[f(614)]=!0,this},m[f(593)][f(350)][f(658)]=function(){return this[f(614)]=!1,this},m[f(593)][f(350)][f(343)]=function(){const t=f;return null!==this[t(530)]?this[t(530)][t(313)](this):console.error(t(458)),this};const y=m;function _(t){function e(t){const i=g;if(typeof t===i(280))return function(t){}[i(494)](i(287))[i(572)](i(436));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(i(645)+i(531))[i(228)](i(243)):function(){return!1}[i(494)](i(645)+i(531)).apply(i(488)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{y as _};
