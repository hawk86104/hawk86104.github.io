import{N as t,a5 as e,cj as i,bG as n,V as o,C as s,aj as r}from"./three.HHcT7YAr1718612273914.js";const a=u;!function(t,e){const i=u,n=d();for(;;)try{if(604708===-parseInt(i(315))/1+parseInt(i(450))/2*(-parseInt(i(419))/3)+parseInt(i(508))/4*(parseInt(i(332))/5)+-parseInt(i(272))/6*(parseInt(i(292))/7)+parseInt(i(493))/8+parseInt(i(348))/9*(-parseInt(i(447))/10)+parseInt(i(288))/11)break;n.push(n.shift())}catch(o){n.push(n.shift())}}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){c(this,(function(){const t=u,e=new RegExp(t(174)),i=new RegExp(t(480),"i"),n=p(t(545));e.test(n+t(630))&&i.test(n+t(389))?p():n("0")}))()}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();h(void 0,(function(){const t=u;let e;try{e=Function("return (function() "+t(564)+");")()}catch(o){e=window}const i=e.console=e[t(244)]||{},n=[t(478),"warn",t(176),t(427),t(224),"table",t(444)];for(let s=0;s<n[t(563)];s++){const e=h.constructor[t(291)].bind(h),o=n[s],r=i[o]||e;e[t(239)]=h.bind(h),e[t(565)]=r.toString[t(379)](r),i[o]=e}}))();const l={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function u(t,e){const i=d();return(u=function(t,e){return i[t-=174]})(t,e)}typeof define===a(225)&&define[a(397)]?define(a(190),l):typeof exports!==a(195)&&typeof module!==a(195)&&(module[a(464)]=l),l[a(457)]=function(t,e,i,n){const o=a;this[o(387)]=i||1,this.size=e||1,this[o(318)]=t||Float32Array,this[o(296)]=new t(e*this.componentSize),this.indexOffset=n||0},l[a(457)][a(428)]=l[a(457)],l.TypedArrayHelper.prototype.setSize=function(t,e){const i=a,n=this[i(296)][i(563)];return!e&&(t*=this.componentSize),t<n?this[i(513)](t):t>n?this[i(547)](t):void console[i(176)](i(423),t+".",i(539))},l[a(457)][a(291)][a(513)]=function(t){const e=a;return this[e(296)]=this[e(296)][e(231)](0,t),this[e(360)]=t,this},l[a(457)][a(291)][a(547)]=function(t){const e=a,i=this.array,n=new(this[e(318)])(t);return n[e(440)](i),this.array=n,this.size=t,this},l[a(457)][a(291)][a(572)]=function(t,e){const i=a;t*=this[i(387)],e*=this[i(387)];const n=[],o=this[i(296)],s=o[i(563)];for(let r=0;r<s;++r)(r<t||r>=e)&&n[i(597)](o[r]);return this.setFromArray(0,n),this},l[a(457)].prototype.setFromArray=function(t,e){const i=a,n=t+e[i(563)];return n>this[i(296)].length?this[i(547)](n):n<this[i(296)][i(563)]&&this[i(513)](n),this[i(296)].set(e,this[i(302)]+t),this},l.TypedArrayHelper[a(291)][a(413)]=function(t,e){return this[a(570)](t,e.x,e.y)},l[a(457)][a(291)][a(570)]=function(t,e,i){const n=this.array,o=this.indexOffset+t*this.componentSize;return n[o]=e,n[o+1]=i,this},l[a(457)][a(291)].setVec3=function(t,e){return this[a(559)](t,e.x,e.y,e.z)},l.TypedArrayHelper[a(291)].setVec3Components=function(t,e,i,n){const o=a,s=this[o(296)],r=this[o(302)]+t*this[o(387)];return s[r]=e,s[r+1]=i,s[r+2]=n,this},l[a(457)].prototype[a(352)]=function(t,e){return this[a(501)](t,e.x,e.y,e.z,e.w)},l[a(457)].prototype[a(501)]=function(t,e,i,n,o){const s=a,r=this[s(296)],c=this[s(302)]+t*this[s(387)];return r[c]=e,r[c+1]=i,r[c+2]=n,r[c+3]=o,this},l.TypedArrayHelper.prototype[a(344)]=function(t,e){const i=a;return this[i(491)](this[i(302)]+t*this[i(387)],e[i(596)])},l[a(457)][a(291)][a(443)]=function(t,e){const i=a;return this[i(491)](this[i(302)]+t*this.componentSize,e[i(596)])},l.TypedArrayHelper.prototype[a(219)]=function(t,e){return this[a(559)](t,e.r,e.g,e.b)},l[a(457)][a(291)].setNumber=function(t,e){const i=a;return this[i(296)][this[i(302)]+t*this[i(387)]]=e,this},l[a(457)][a(291)][a(538)]=function(t){const e=a;return this.array[this[e(302)]+t]},l[a(457)][a(291)].getComponentValueAtIndex=function(t){const e=a;return this[e(296)][e(231)](this[e(302)]+t*this[e(387)])},l.ShaderAttribute=function(t,e,i){const n=a,o=l[n(504)][n(268)];this.type="string"==typeof t&&o[n(368)](t)?t:"f",this.componentSize=o[this[n(554)]],this.arrayType=i||Float32Array,this.typedArray=null,this[n(376)]=null,this[n(592)]=!!e,this[n(527)]=0,this[n(286)]=0},l.ShaderAttribute[a(428)]=l[a(504)],l[a(504)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},l.ShaderAttribute.prototype[a(323)]=function(t,e){const i=a;this.updateMin=Math[i(516)](t*this[i(387)],this[i(527)]*this[i(387)]),this.updateMax=Math[i(486)](e*this[i(387)],this.updateMax*this.componentSize)},l[a(504)][a(291)][a(382)]=function(){const t=a,e=this[t(376)],i=e[t(199)];i[t(269)]=this.updateMin,i.count=Math.min(this[t(286)]-this[t(527)]+this[t(387)],this[t(210)][t(296)][t(563)]),e[t(326)]=!0},l[a(504)][a(291)][a(287)]=function(){const t=a;this[t(527)]=0,this[t(286)]=0},l.ShaderAttribute[a(291)][a(265)]=function(){const i=a;this[i(376)][i(503)]=this[i(592)]?t:e[i(295)]},l[a(504)].prototype[a(572)]=function(t,e){const i=a;this[i(210)].splice(t,e),this[i(599)]()},l[a(504)][a(291)][a(599)]=function(){const t=a;this[t(376)][t(296)]=this[t(210)].array,this[t(376)][t(199)].offset=0,this[t(376)][t(199)].count=-1,this.bufferAttribute.usage=i,this[t(376)][t(326)]=!0},l[a(504)].prototype[a(186)]=function(t){const e=a;null!==this.typedArray&&this[e(210)][e(360)]===t*this[e(387)]||(null!==this[e(210)]&&this.typedArray[e(360)]!==t?this[e(210)][e(285)](t):null===this[e(210)]&&(this[e(210)]=new(l[e(457)])(this[e(259)],t,this.componentSize)))},l[a(504)].prototype._createBufferAttribute=function(t){const i=a;if(this[i(186)](t),null!==this[i(376)])return this[i(376)][i(296)]=this[i(210)][i(296)],parseFloat(e[i(555)])>=81&&(this[i(376)][i(294)]=this[i(376)][i(296)].length/this[i(376)][i(226)]),void(this[i(376)][i(326)]=!0);this[i(376)]=new(e[i(541)])(this[i(210)][i(296)],this[i(387)]),this[i(376)][i(503)]=this[i(592)]?e[i(260)]:e[i(295)]},l[a(504)][a(291)][a(525)]=function(){const t=a;return null===this[t(210)]?0:this[t(210)][t(296)].length},l[a(556)]={defines:["#define PACKED_COLOR_SIZE 256.0","#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:[a(615),a(338),"uniform sampler2D tex;",a(280),a(483)][a(277)]("\n"),attributes:[a(632),"attribute vec3 velocity;",a(616),a(206),"attribute vec4 params;",a(223),a(449),a(351),a(532)][a(277)]("\n"),varyings:[a(433),a(515),"    varying float vAngle;","#endif","#ifdef SHOULD_CALCULATE_SPRITE",a(365),a(509)].join("\n"),branchAvoidanceFunctions:[a(235),"    return max(sign(x - y), 0.0);","}",a(562),a(196),"}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}",a(395),a(576),"}",a(271),a(511),"}",a(626),a(631),"}",a(284),a(350),"}"].join("\n"),unpackColor:["vec3 unpackColor( in float hex ) {",a(370),a(391),a(523),a(253),a(233),a(463),a(198),"   return c;","}"][a(277)]("\n"),unpackRotationAxis:[a(399),a(370),a(391),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );",a(233),"   c.g = g / PACKED_COLOR_DIVISOR;",a(198),"   c *= vec3( 2.0 );",a(228),a(384),"}"].join("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",a(249),"    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );",a(388),"    float shouldApplyValue = 0.0;",a(227),"",a(418),a(297),a(536),"       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );",a(544),"",a(363),"}"].join("\n"),colorOverLifetime:[a(279),a(189),a(217),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",a(308),a(363),"}"][a(277)]("\n"),paramFetchingFunctions:[a(600),a(367),"}",a(341),"   return params.y;","}","float getMaxAge() {",a(396),"}","float getWiggle() {","   return params.w;","}"][a(277)]("\n"),forceFetchingFunctions:[a(435),"   return modelViewMatrix * vec4( position, 1.0 );","}",a(537),a(304),"}",a(468),a(459),"}"][a(277)]("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES",a(455),a(211),a(325),a(569),a(385),"",a(448),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,",a(410),a(558),"",a(490),"      if( rotation.y == 0.0 ) {","           return pos;",a(581),"",a(582),"      vec3 center = rotationCenter;",a(479),"      mat4 rotationMatrix;",a(234),a(214),a(561),"      translated = rotationCenter - pos;","      rotationMatrix = getRotationMatrix( axis, angle );",a(270),a(558),"#endif"][a(277)]("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","","    #ifdef SHOULD_ROTATE_TEXTURE","       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;",a(461),a(175),a(605),"    #endif","",a(407),"        float framesX = vSpriteSheet.x;",a(222),a(273),a(404),"        vUv.x = gl_PointCoord.x * framesX + columnNorm;",a(524),"    #endif","",a(521)].join("\n")},l[a(425)]={vertex:[l.shaderChunks[a(553)],l[a(556)][a(529)],l[a(556)][a(250)],l[a(556)][a(261)],e[a(347)][a(290)],e[a(347)][a(193)],e[a(347)][a(445)],l[a(556)][a(466)],l.shaderChunks[a(603)],l[a(556)][a(181)],l.shaderChunks[a(232)],l[a(556)][a(531)],l.shaderChunks.paramFetchingFunctions,l[a(556)][a(623)],l[a(556)].rotationFunctions,"void main() {",a(267),a(519),"    highp float maxAge = getMaxAge();",a(574),a(307),a(625),"        float wiggleAmount = positionInTime * getWiggle();",a(472),a(316),a(421),a(551),a(362),a(188),a(303),a(216),a(252),a(456),a(494),a(322),a(625),"        pos.x += wiggleSin;",a(197),"        pos.z += wiggleSin;","    #endif",a(502),"        pos = getRotation( pos, positionInTime );",a(421),a(514),a(589),"    #ifdef HAS_PERSPECTIVE",a(319),a(467),"        float perspective = 1.0;",a(421),a(577),a(546),a(557),a(333),a(620),a(593),"           unpackColor( color.z ),",a(487),a(584),a(467),"       vec3 c = vec3(1.0);","    #endif",a(598),"    vColor = vec4( c, o );","    #ifdef SHOULD_ROTATE_TEXTURE",a(506),a(421),a(407),a(473),"        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;",a(276),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;",a(477),"        vSpriteSheet.x = 1.0 / framesX;",a(274),a(283),a(281),a(421),a(202),"    gl_Position = projectionMatrix * mvPosition;",e[a(347)][a(230)],n[a(364)],"}"].join("\n"),fragment:[l.shaderChunks[a(529)],e[a(347)][a(290)],n[a(242)],e[a(347)][a(201)],l[a(556)][a(261)],l.shaderChunks[a(466)],a(530),a(373),a(619),a(324),a(430),a(421),l.shaderChunks[a(573)],n[a(207)],a(378),a(346),e[a(347)][a(526)],"}"][a(277)]("\n")},l[a(469)]={types:{BOOLEAN:"boolean",STRING:a(380),NUMBER:a(366),OBJECT:a(204)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=a;if(Array[n(618)](t)){for(let o=t[n(563)]-1;o>=0;--o)if(typeof t[o]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=a;if(Array[n(618)](t)){for(let o=t[n(563)]-1;o>=0;--o)if(void 0!==e&&t[o]instanceof e==!1)return i;return t}return this[n(282)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=a;e=e||3,i=i||3,!1===Array[n(618)](t[n(481)])&&(t[n(481)]=[t[n(481)]]),!1===Array[n(618)](t._spread)&&(t[n(439)]=[t[n(439)]]);const o=this[n(415)](t[n(481)][n(563)],e,i),s=this[n(415)](t[n(439)][n(563)],e,i),r=Math.max(o,s);t[n(481)].length!==r&&(t[n(481)]=this[n(591)](t[n(481)],r)),t[n(439)][n(563)]!==r&&(t[n(439)]=this[n(591)](t._spread,r))},interpolateArray(t,e){const i=a,n=t[i(563)],o=[typeof t[0][i(293)]===i(225)?t[0][i(293)]():t[0]],s=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*s,n=Math.floor(e),a=Math[i(257)](e),c=e-n;o[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return o.push(typeof t[n-1][i(293)]===i(225)?t[n-1][i(293)]():t[n-1]),o},clamp(t,e,i){const n=a;return Math[n(486)](e,Math[n(516)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[a(375)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(t,i,n){const r=a;let c,h=this[r(266)];return typeof t===h.NUMBER&&typeof i===h[r(476)]?t+(i-t)*n:t instanceof e[r(518)]&&i instanceof e[r(518)]?(c=t[r(293)](),c.x=this[r(403)](t.x,i.x,n),c.y=this[r(403)](t.y,i.y,n),c):t instanceof o&&i instanceof o?(c=t[r(293)](),c.x=this[r(403)](t.x,i.x,n),c.y=this[r(403)](t.y,i.y,n),c.z=this[r(403)](t.z,i.z,n),c):t instanceof e[r(377)]&&i instanceof e[r(377)]?(c=t[r(293)](),c.x=this[r(403)](t.x,i.x,n),c.y=this[r(403)](t.y,i.y,n),c.z=this[r(403)](t.z,i.z,n),c.w=this.lerp(t.w,i.w,n),c):t instanceof s&&i instanceof e[r(611)]?(c=t[r(293)](),c.r=this[r(403)](t.r,i.r,n),c.g=this[r(403)](t.g,i.g,n),c.b=this[r(403)](t.b,i.b,n),c):void console.warn(r(489),t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=a;let n=0;return 0===e?t:(n=Math[i(412)](t)%e,0===n?t:t<0?-(Math[i(412)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=a;for(let i=0;i<t[e(563)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,o){const s=a;let r=i.x+(Math[s(375)]()*n.x-.5*n.x),c=i.y+(Math[s(375)]()*n.y-.5*n.y),h=i.z+(Math[s(375)]()*n.z-.5*n.z);o&&(r=.5*-o.x+this[s(381)](r,o.x),c=.5*-o.y+this[s(381)](c,o.y),h=.5*-o.z+this[s(381)](h,o.z)),t.typedArray[s(559)](e,r,c,h)},randomColor(t,e,i,n){const o=a;let s=i.r+Math[o(375)]()*n.x,r=i.g+Math[o(375)]()*n.y,c=i.b+Math[o(375)]()*n.z;s=this[o(415)](s,0,1),r=this[o(415)](r,0,1),c=this.clamp(c,0,1),t.typedArray[o(559)](e,s,r,c)},randomColorAsHex:function(){const t=new s;return function(e,i,n,o){const s=u,r=n.length,a=[];for(let c=0;c<r;++c){const e=o[c];t[s(317)](n[c]),t.r+=Math[s(375)]()*e.x-.5*e.x,t.g+=Math[s(375)]()*e.y-.5*e.y,t.b+=Math[s(375)]()*e.z-.5*e.z,t.r=this[s(415)](t.r,0,1),t.g=this[s(415)](t.g,0,1),t.b=this[s(415)](t.b,0,1),a[s(597)](t[s(229)]())}e.typedArray[s(501)](i,a[0],a[1],a[2],a[3])}}(),randomVector3OnLine(t,e,i,n){const o=a,s=i.clone();s[o(403)](n,Math.random()),t[o(210)][o(559)](e,s.x,s.y,s.z)},randomVector3OnSphere(t,e,i,n,o,s,r,c){const h=a;let l=2*Math[h(375)]()-1,u=6.2832*Math[h(375)](),f=Math[h(496)](1-l*l),p=this[h(460)](n,o),d=0,m=0,g=0;r&&(p=Math[h(243)](p/r)*r),d=f*Math[h(552)](u)*p,m=f*Math[h(606)](u)*p,g=l*p,d*=s.x,m*=s.y,g*=s.z,d+=i.x,m+=i.y,g+=i.z,t[h(210)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[a(606)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,s,r){const c=a;let h=6.2832*Math[c(375)](),l=Math[c(412)](this[c(460)](n,o)),u=0,f=0,p=0;r&&(l=Math[c(243)](l/r)*r),u=Math[c(552)](h)*l,f=Math[c(606)](h)*l,u*=s.x,f*=s.y,u+=i.x,f+=i.y,p+=i.z,t[c(210)][c(559)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const t=new o;return function(e,i,n,o,s,r,a,c){const h=u;t[h(317)](r),t.x-=n,t.y-=o,t.z-=s,t[h(354)]().multiplyScalar(-this[h(460)](a,c)),e[h(210)][h(559)](i,t.x,t.y,t.z)}}(),randomDirectionVector3OnDisc:function(){const t=a,i=new(e[t(612)]);return function(e,n,o,s,r,a,c,h){const l=t;i.copy(a),i.x-=o,i.y-=s,i.z-=r,i[l(354)]()[l(498)](-this[l(460)](c,h)),e[l(210)][l(559)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const t=a,i=new(e[t(612)]),n=new o,s=new(e[t(611)]),r=new(e[t(612)])(1,1,1);return function(e,o){const a=t;return i.copy(e).normalize(),n[a(317)](o)[a(354)](),i.x+=.5*-o.x+Math[a(375)]()*o.x,i.y+=.5*-o.y+Math.random()*o.y,i.z+=.5*-o.z+Math[a(375)]()*o.z,i[a(354)]().add(r).multiplyScalar(.5),s[a(420)](i.x,i.y,i.z),s[a(229)]()}}()},l[a(474)]=function(t){const i=a,n=l.utils,o=n[i(266)];(t=n[i(369)](t,o.OBJECT,{})).texture=n[i(369)](t[i(183)],o[i(334)],{}),this[i(246)]=e[i(470)][i(263)](),this[i(485)]=n.ensureTypedArg(t.fixedTimeStep,o[i(476)],.016),this.texture=n[i(282)](t.texture.value,e[i(497)],null),this[i(398)]=n.ensureInstanceOf(t[i(183)].frames,e[i(518)],new(e[i(518)])(1,1)),this[i(437)]=n[i(369)](t.texture[i(337)],o[i(476)],this.textureFrames.x*this[i(398)].y),this[i(394)]=n[i(369)](t[i(183)][i(434)],o[i(476)],1),this[i(398)][i(486)](new(e[i(518)])(1,1)),this[i(320)]=n[i(369)](t[i(320)],o.BOOLEAN,!0),this[i(275)]=n[i(369)](t[i(275)],o[i(306)],!0),this[i(182)]=n.ensureTypedArg(t[i(182)],o[i(476)],null),this.blending=n[i(369)](t[i(453)],o[i(476)],e[i(311)]),this[i(590)]=n[i(369)](t[i(590)],o[i(306)],!0),this[i(411)]=parseFloat(n[i(369)](t[i(411)],o[i(476)],0)),this[i(568)]=n[i(369)](t[i(568)],o[i(306)],!1),this[i(624)]=n[i(369)](t[i(624)],o[i(306)],!0),this[i(278)]=n[i(369)](t[i(278)],o[i(306)],!0),this[i(560)]=n[i(369)](t[i(560)],o[i(476)],300),this[i(339)]=[],this[i(500)]=[],this[i(627)]=[],this[i(436)]=null,this[i(220)]=0,this[i(310)]=!1,this[i(414)]=!1,this[i(422)]=0,this[i(529)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new r(this.textureFrames.x,this[i(398)].y,this[i(437)],Math.max(Math[i(412)](this[i(394)]),1))},fogColor:{type:"c",value:this.fog?new(e[i(611)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(560)]}},this[i(553)]={HAS_PERSPECTIVE:this[i(320)],COLORIZE:this[i(275)],VALUE_OVER_LIFETIME_LENGTH:l.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(398)].x>1||this[i(398)].y>1},this[i(250)]={position:new(l[i(504)])("v3",!0),acceleration:new(l[i(504)])("v4",!0),velocity:new(l[i(504)])("v3",!0),rotation:new l.ShaderAttribute("v4",!0),rotationCenter:new(l[i(504)])("v3",!0),params:new(l[i(504)])("v4",!0),size:new(l[i(504)])("v4",!0),angle:new l.ShaderAttribute("v4",!0),color:new l.ShaderAttribute("v4",!0),opacity:new(l[i(504)])("v4",!0)},this.attributeKeys=Object.keys(this[i(250)]),this[i(488)]=this[i(542)][i(563)],this[i(356)]=new(e[i(585)])({uniforms:this[i(529)],vertexShader:l[i(425)][i(357)],fragmentShader:l[i(425)][i(610)],blending:this[i(453)],transparent:this[i(590)],alphaTest:this[i(411)],depthWrite:this[i(568)],depthTest:this.depthTest,defines:this[i(553)],fog:this[i(278)]}),this.geometry=new(e[i(309)]),this.mesh=new(e[i(510)])(this[i(213)],this.material),null===this[i(182)]&&console[i(254)](i(178))},l[a(474)].constructor=l[a(474)],l.Group[a(291)]._updateDefines=function(){const t=a;let e,i=this[t(339)],n=i[t(563)]-1,o=this.defines;for(;n>=0;--n)e=i[n],!o[t(438)]&&(o.SHOULD_ROTATE_TEXTURE=o.SHOULD_ROTATE_TEXTURE||!!Math[t(486)](Math[t(486)][t(240)](null,e[t(392)][t(237)]),Math[t(486)].apply(null,e[t(392)][t(185)]))),o.SHOULD_ROTATE_PARTICLES=o[t(454)]||!!Math[t(486)](e.rotation[t(392)],e.rotation[t(355)]),o[t(583)]=o[t(583)]||!!Math[t(486)](e[t(543)][t(237)],e[t(543)].spread);this.material[t(326)]=!0},l[a(474)][a(291)][a(475)]=function(){const t=a;let e,i,n=this.attributes,o=this.geometry,s=o[t(250)];for(const r in n)n[t(368)](r)&&(e=n[r],i=s[r],i?i.array=e[t(210)][t(296)]:o.setAttribute(r,e[t(376)]),e.bufferAttribute[t(326)]=!0);this[t(213)][t(566)](0,this[t(422)])},l[a(474)][a(291)][a(179)]=function(t){const e=a;if(t instanceof l.Emitter==!1)return void console[e(427)](e(218),t);if(this.emitterIDs[e(371)](t[e(246)])>-1)return void console[e(427)](e(359));if(null!==t[e(484)])return void console[e(427)](e(255));const i=this[e(250)],n=this[e(422)],o=n+t[e(422)];this[e(422)]=o,null!==this[e(182)]&&this.particleCount>this[e(182)]&&console[e(254)](e(578),this[e(422)],e(262),this[e(182)]),t[e(343)](t[e(432)][e(481)]+t[e(432)][e(439)]),t._setBufferUpdateRanges(this[e(542)]),t._setAttributeOffset(n),t[e(484)]=this,t.attributes=this[e(250)];for(const s in i)i[e(368)](s)&&i[s][e(264)](null!==this.maxParticleCount?this[e(182)]:this[e(422)]);for(let s=n;s<o;++s)t._assignPositionValue(s),t._assignForceValue(s,e(622)),t[e(208)](s,e(579)),t._assignAbsLifetimeValue(s,e(441)),t[e(374)](s,"size"),t._assignAngleValue(s),t[e(634)](s),t[e(633)](s),t[e(321)](s);return this[e(475)](),this.emitters[e(597)](t),this[e(500)][e(597)](t.uuid),this[e(390)](t),this[e(356)][e(326)]=!0,this[e(213)].needsUpdate=!0,this[e(310)]=!0,this},l[a(474)][a(291)].removeEmitter=function(t){const e=a,i=this[e(500)][e(371)](t[e(246)]);if(t instanceof l.Emitter==!1)return void console[e(427)](e(218),t);if(-1===i)return void console[e(427)](e(417));const n=t[e(300)],o=n+t[e(422)],s=this[e(250)][e(191)][e(210)];for(let r=n;r<o;++r)s[e(296)][4*r]=0,s[e(296)][4*r+1]=0;this.emitters[e(572)](i,1),this.emitterIDs[e(572)](i,1);for(const r in this[e(250)])this[e(250)][e(368)](r)&&this[e(250)][r].splice(n,o);this.particleCount-=t[e(422)],t._onRemove(),this[e(310)]=!0},l.Group[a(291)][a(482)]=function(){const t=a,e=this[t(627)],i=this._createNewWhenPoolEmpty;if(e[t(563)])return e[t(416)]();if(i){const e=new l.Emitter(this._poolCreationSettings);return this[t(179)](e),e}return null},l[a(474)][a(291)][a(408)]=function(t){const e=a;if(t instanceof l[e(345)]!=!1)return t.reset(),this[e(627)][e(507)](t),this;console[e(427)](e(586),t)},l.Group.prototype.getPool=function(){return this[a(627)]},l[a(474)].prototype[a(621)]=function(t,e,i){const n=a;let o;this[n(436)]=e,this._createNewWhenPoolEmpty=!!i;for(let s=0;s<t;++s)o=Array.isArray(e)?new(l[n(345)])(e[s]):new(l[n(345)])(e),this[n(179)](o),this[n(408)](o);return this},l[a(474)][a(291)][a(607)]=function(t){const i=a,n=this[i(482)](),o=this;if(null!==n)return t instanceof e[i(612)]&&(n[i(604)][i(237)].copy(t),n[i(604)][i(237)]=n[i(604)][i(237)]),n[i(248)](),setTimeout((()=>{n[i(446)](),o.releaseIntoPool(n)}),1e3*Math[i(486)](n[i(613)],n[i(432)][i(237)]+n.maxAge[i(185)])),this;console[i(478)](i(238))},l[a(474)][a(291)][a(517)]=function(t,e){const i=a;if(typeof t===i(366)&&t>1)for(let n=0;n<t;++n)this[i(607)](e);else this[i(607)](e);return this},l[a(474)].prototype._updateUniforms=function(t){const e=a;this[e(529)][e(335)][e(237)]+=t,this[e(529)].deltaTime.value=t},l[a(474)].prototype[a(580)]=function(){const t=a;let e=this.attributeKeys,i=this[t(488)]-1,n=this.attributes;for(;i>=0;--i)n[e[i]][t(287)]()},l[a(474)].prototype[a(221)]=function(t){const e=a;let i,n,o,s=this[e(542)],r=this.attributeCount-1,c=this[e(250)],h=t[e(595)];for(;r>=0;--r)i=s[r],n=h[i],o=c[i],o[e(323)](n[e(516)],n[e(486)]),o[e(382)]()},l[a(474)][a(291)].tick=function(t){const e=a;var i=this[e(339)],n=i[e(563)],o=t||this[e(485)],s=this[e(542)],r=this.attributes;if(this[e(429)](o),this[e(580)](),0!==n||!1!==this[e(310)]||!1!==this[e(414)]){for(var c,h=0;h<n;++h)(c=i[h])[e(575)](o),this[e(221)](c);if(!0===this[e(414)]){for(h=this[e(488)]-1;h>=0;--h)r[s[h]].resetDynamic();this[e(414)]=!1}if(!0===this[e(310)]){for(h=this[e(488)]-1;h>=0;--h)r[s[h]].forceUpdateAll();this._attributesNeedRefresh=!1,this[e(414)]=!0}}},l[a(474)].prototype[a(431)]=function(){const t=a;return this[t(213)][t(431)](),this[t(356)].dispose(),this},l[a(345)]=function(t){const i=a,n=l.utils,r=n[i(266)],c=l[i(458)];(t=n[i(369)](t,r[i(334)],{})).position=n[i(369)](t[i(604)],r[i(334)],{}),t.velocity=n[i(369)](t.velocity,r.OBJECT,{}),t[i(579)]=n[i(369)](t[i(579)],r[i(334)],{}),t.radius=n[i(369)](t.radius,r.OBJECT,{}),t.drag=n[i(369)](t.drag,r[i(334)],{}),t[i(540)]=n.ensureTypedArg(t.rotation,r[i(334)],{}),t[i(520)]=n[i(369)](t[i(520)],r[i(334)],{}),t[i(441)]=n[i(369)](t.opacity,r[i(334)],{}),t[i(360)]=n.ensureTypedArg(t[i(360)],r[i(334)],{}),t.angle=n[i(369)](t.angle,r[i(334)],{}),t[i(543)]=n.ensureTypedArg(t[i(543)],r[i(334)],{}),t.maxAge=n[i(369)](t[i(432)],r[i(334)],{}),t[i(528)]&&console[i(254)](i(567)),this[i(246)]=e[i(470)].generateUUID(),this.type=n[i(369)](t[i(554)],r.NUMBER,l[i(305)][i(424)]),this[i(604)]={_value:n[i(282)](t[i(604)][i(237)],e[i(612)],new(e[i(612)])),_spread:n[i(282)](t.position[i(185)],e[i(612)],new(e[i(612)])),_spreadClamp:n[i(282)](t[i(604)][i(522)],e[i(612)],new(e[i(612)])),_distribution:n[i(369)](t[i(604)][i(241)],r[i(476)],this[i(554)]),_randomise:n.ensureTypedArg(t.position[i(401)],r[i(306)],!1),_radius:n[i(369)](t[i(604)][i(298)],r[i(476)],10),_radiusScale:n[i(282)](t[i(604)][i(602)],o,new(e[i(612)])(1,1,1)),_distributionClamp:n[i(369)](t[i(604)][i(187)],r[i(476)],0)},this[i(622)]={_value:n[i(282)](t.velocity[i(237)],o,new(e[i(612)])),_spread:n[i(282)](t.velocity[i(185)],e[i(612)],new(e[i(612)])),_distribution:n[i(369)](t[i(622)].distribution,r[i(476)],this.type),_randomise:n[i(369)](t.position.randomise,r[i(306)],!1)},this.acceleration={_value:n[i(282)](t[i(579)][i(237)],o,new(e[i(612)])),_spread:n.ensureInstanceOf(t[i(579)][i(185)],e[i(612)],new(e[i(612)])),_distribution:n.ensureTypedArg(t[i(579)][i(241)],r[i(476)],this[i(554)]),_randomise:n.ensureTypedArg(t[i(604)].randomise,r[i(306)],!1)},this.drag={_value:n[i(369)](t.drag[i(237)],r[i(476)],0),_spread:n[i(369)](t[i(299)][i(185)],r[i(476)],0),_randomise:n.ensureTypedArg(t[i(604)][i(401)],r[i(306)],!1)},this[i(543)]={_value:n[i(369)](t[i(543)][i(237)],r[i(476)],0),_spread:n[i(369)](t[i(543)].spread,r.NUMBER,0)},this.rotation={_axis:n[i(282)](t[i(540)][i(212)],e[i(612)],new(e[i(612)])(0,1,0)),_axisSpread:n.ensureInstanceOf(t[i(540)][i(617)],e[i(612)],new(e[i(612)])),_angle:n[i(369)](t[i(540)][i(392)],r.NUMBER,0),_angleSpread:n[i(369)](t[i(540)][i(355)],r[i(476)],0),_static:n[i(369)](t.rotation[i(608)],r[i(306)],!1),_center:n[i(282)](t[i(540)].center,e[i(612)],this.position._value.clone()),_randomise:n[i(369)](t[i(604)][i(401)],r.BOOLEAN,!1)},this[i(432)]={_value:n[i(369)](t.maxAge.value,r.NUMBER,2),_spread:n[i(369)](t[i(432)][i(185)],r[i(476)],0)},this[i(520)]={_value:n[i(372)](t[i(520)][i(237)],s,new(e[i(611)])),_spread:n[i(372)](t[i(520)].spread,e[i(612)],new(e[i(612)])),_randomise:n[i(369)](t[i(604)][i(401)],r[i(306)],!1)},this[i(441)]={_value:n.ensureArrayTypedArg(t[i(441)][i(237)],r[i(476)],1),_spread:n[i(588)](t[i(441)][i(185)],r[i(476)],0),_randomise:n[i(369)](t[i(604)][i(401)],r.BOOLEAN,!1)},this[i(360)]={_value:n[i(588)](t[i(360)][i(237)],r[i(476)],1),_spread:n[i(588)](t[i(360)][i(185)],r[i(476)],0),_randomise:n.ensureTypedArg(t.position[i(401)],r.BOOLEAN,!1)},this[i(392)]={_value:n[i(588)](t[i(392)][i(237)],r[i(476)],0),_spread:n.ensureArrayTypedArg(t[i(392)][i(185)],r.NUMBER,0),_randomise:n[i(369)](t[i(604)][i(401)],r[i(306)],!1)},this.particleCount=n[i(369)](t[i(422)],r[i(476)],100),this[i(613)]=n.ensureTypedArg(t[i(613)],r.NUMBER,null),this[i(331)]=n[i(369)](t[i(331)],r[i(306)],!1),this.activeMultiplier=n[i(369)](t.activeMultiplier,r[i(476)],1),this[i(251)]=n.ensureTypedArg(t.direction,r[i(476)],1),this[i(462)]=n.ensureTypedArg(t[i(462)],r[i(306)],!0),this.particlesPerSecond=0,this[i(452)]=0,this.attributeOffset=0,this.attributeEnd=0,this[i(340)]=0,this[i(328)]=0,this[i(484)]=null,this.attributes=null,this[i(194)]=null,this[i(549)]={position:n[i(369)](t.position.randomise,r[i(306)],!1)||n[i(369)](t[i(298)][i(401)],r[i(306)],!1),velocity:n[i(369)](t[i(622)][i(401)],r.BOOLEAN,!1),acceleration:n.ensureTypedArg(t[i(579)][i(401)],r[i(306)],!1)||n[i(369)](t[i(299)].randomise,r[i(306)],!1),rotation:n.ensureTypedArg(t[i(540)][i(401)],r.BOOLEAN,!1),rotationCenter:n.ensureTypedArg(t[i(540)].randomise,r[i(306)],!1),size:n[i(369)](t[i(360)].randomise,r[i(306)],!1),color:n[i(369)](t[i(520)][i(401)],r[i(306)],!1),opacity:n.ensureTypedArg(t[i(441)][i(401)],r.BOOLEAN,!1),angle:n[i(369)](t.angle.randomise,r[i(306)],!1)},this.updateFlags={},this[i(313)]={},this.updateMap={maxAge:"params",position:i(604),velocity:i(622),acceleration:"acceleration",drag:"acceleration",wiggle:i(191),rotation:i(540),size:i(360),color:i(520),opacity:"opacity",angle:i(392)};for(const e in this[i(245)])this[i(245)][i(368)](e)&&(this[i(313)][this[i(245)][e]]=0,this.updateFlags[this[i(245)][e]]=!1,this[i(184)](this[e],e));this.bufferUpdateRanges={},this[i(542)]=null,this[i(488)]=0,n[i(247)](this[i(520)],c,c),n[i(247)](this.opacity,c,c),n[i(247)](this[i(360)],c,c),n[i(247)](this[i(392)],c,c)},l[a(345)][a(428)]=l[a(345)],l[a(345)].prototype[a(184)]=function(t,e){const i=a,n=this;for(const o in t)if(t[i(368)](o)){const s=o[i(465)]("_","");Object[i(330)](t,s,{get:function(t){return function(){return this[t]}}(o),set:function(t){return function(i){const o=u,s=n[o(245)][e],r=this[t],a=l[o(458)];t===o(550)?(n[o(535)][o(256)]=!0,n[o(313)][o(256)]=0):t===o(289)?n[o(549)][s]=i:(n[o(535)][s]=!0,n.updateCounts[s]=0),n[o(484)]._updateDefines(),this[t]=i,Array[o(618)](r)&&l[o(469)][o(247)](n[e],a,a)}}(o)})}},l[a(345)].prototype[a(205)]=function(t){const e=a;this[e(542)]=t,this.attributeCount=t[e(563)];for(let i=this[e(488)]-1;i>=0;--i)this[e(595)][t[i]]={min:Number[e(499)],max:Number[e(402)]}},l.Emitter[a(291)][a(343)]=function(t){const e=a,i=this[e(422)];this.duration?this.particlesPerSecond=i/(t<this[e(613)]?t:this[e(613)]):this[e(548)]=i/t},l[a(345)][a(291)][a(314)]=function(t){const e=a;this[e(300)]=t,this.activationIndex=t,this[e(329)]=t+this[e(422)]},l[a(345)][a(291)][a(409)]=function(t,e){const i=a;switch(t){case i(604):this[i(495)](e);break;case i(622):case"acceleration":this[i(208)](e,t);break;case i(360):case i(441):this[i(374)](e,t);break;case"angle":this._assignAngleValue(e);break;case i(191):this[i(633)](e);break;case i(540):this[i(634)](e);break;case i(520):this._assignColorValue(e)}},l[a(345)][a(291)]._assignPositionValue=function(t){const e=a,i=l[e(305)],n=l[e(469)],o=this[e(604)],s=this[e(250)][e(604)],r=o._value,c=o[e(439)];switch(o[e(609)]){case i[e(424)]:n[e(209)](s,t,r,c,o._spreadClamp);break;case i[e(383)]:n.randomVector3OnSphere(s,t,r,o[e(386)],o[e(439)].x,o[e(192)],o[e(451)].x,o[e(215)]||this[e(422)]);break;case i[e(614)]:n[e(393)](s,t,r,o._radius,o[e(439)].x,o._radiusScale,o[e(451)].x);break;case i.LINE:n.randomVector3OnLine(s,t,r,c)}},l.Emitter.prototype[a(208)]=function(t,e){const i=a;let n,o,s,r,c,h=l[i(305)],u=l[i(469)],f=this[e],p=f._value,d=f[i(439)];switch(f._distribution){case h[i(424)]:u[i(209)](this.attributes[e],t,p,d);break;case h[i(383)]:n=this[i(250)].position[i(210)][i(296)],c=3*t,o=n[c],s=n[c+1],r=n[c+2],u[i(628)](this.attributes[e],t,o,s,r,this[i(604)][i(481)],f[i(481)].x,f[i(439)].x);break;case h.DISC:n=this.attributes.position[i(210)][i(296)],c=3*t,o=n[c],s=n[c+1],r=n[c+2],u[i(342)](this.attributes[e],t,o,s,r,this[i(604)][i(481)],f[i(481)].x,f[i(439)].x);break;case h[i(629)]:u[i(301)](this[i(250)][e],t,p,d)}if(e===i(579)){const e=u[i(415)](u[i(460)](this.drag[i(481)],this[i(299)][i(439)]),0,1);this.attributes[i(579)][i(210)][i(296)][4*t+3]=e}},l[a(345)].prototype[a(374)]=function(t,e){const i=a;let n,o=this[i(250)][e][i(210)],s=this[e],r=l[i(469)];r[i(177)](s[i(481)])&&r[i(177)](s[i(439)])?(n=Math.abs(r.randomFloat(s[i(481)][0],s[i(439)][0])),o.setVec4Components(t,n,n,n,n)):o[i(501)](t,Math.abs(r[i(460)](s[i(481)][0],s[i(439)][0])),Math[i(412)](r[i(460)](s[i(481)][1],s[i(439)][1])),Math[i(412)](r[i(460)](s[i(481)][2],s[i(439)][2])),Math[i(412)](r[i(460)](s[i(481)][3],s[i(439)][3])))},l[a(345)].prototype[a(492)]=function(t){const e=a;let i,n=this[e(250)].angle[e(210)],o=this[e(392)],s=l[e(469)];s.arrayValuesAreEqual(o._value)&&s[e(177)](o._spread)?(i=s[e(460)](o[e(481)][0],o._spread[0]),n[e(501)](t,i,i,i,i)):n[e(501)](t,s[e(460)](o[e(481)][0],o._spread[0]),s.randomFloat(o._value[1],o._spread[1]),s[e(460)](o[e(481)][2],o[e(439)][2]),s.randomFloat(o._value[3],o._spread[3]))},l[a(345)][a(291)][a(633)]=function(t){const e=a;this[e(250)][e(191)].typedArray[e(501)](t,this[e(331)]?1:0,0,Math[e(412)](l[e(469)].randomFloat(this[e(432)]._value,this[e(432)][e(439)])),l.utils[e(460)](this[e(543)][e(481)],this[e(543)]._spread))},l[a(345)].prototype[a(634)]=function(t){const e=a;this.attributes.rotation[e(210)][e(559)](t,l[e(469)][e(406)](this.rotation[e(426)],this[e(540)]._axisSpread),l.utils[e(460)](this.rotation[e(400)],this[e(540)][e(471)]),this[e(540)]._static?0:1),this[e(250)][e(256)][e(210)].setVec3(t,this[e(540)][e(594)])},l.Emitter.prototype[a(321)]=function(t){const e=a;l[e(469)][e(349)](this[e(250)][e(520)],t,this[e(520)]._value,this.color._spread)},l[a(345)][a(291)][a(587)]=function(t){const e=a;let i,n,o=this[e(549)],s=this[e(535)],r=this[e(313)],c=this[e(542)];for(let a=this.attributeCount-1;a>=0;--a)i=c[a],n=s[i],!0!==o[i]&&!0!==n||(this[e(409)](i,t),this[e(601)](i,t),!0===n&&r[i]===this.particleCount?(s[i]=!1,r[i]=0):1==n&&++r[i])},l[a(345)][a(291)][a(601)]=function(t,e){const i=a,n=this[i(595)][t];n[i(516)]=Math.min(e,n[i(516)]),n.max=Math[i(486)](e,n[i(486)])},l[a(345)][a(291)][a(580)]=function(){const t=a;let e,i=this[t(595)],n=this[t(327)],o=this[t(505)]-1;for(;o>=0;--o)e=n[o],i[e][t(516)]=Number[t(499)],i[e][t(486)]=Number.NEGATIVE_INFINITY},l[a(345)][a(291)][a(353)]=function(){const t=a;this[t(548)]=0,this[t(300)]=0,this[t(452)]=0,this[t(328)]=0,this[t(484)]=null,this.attributes=null,this.paramsArray=null,this[t(340)]=0},l[a(345)].prototype[a(533)]=function(){--this[a(328)]},l.Emitter[a(291)][a(180)]=function(){++this[a(328)]},l[a(345)][a(291)]._checkParticleAges=function(t,e,i,n){const o=a;for(var s,r,c,h,l=e-1;l>=t;--l)0!==(h=i[s=4*l])&&(c=i[s+1],r=i[s+2],1===this.direction?(c+=n)>=r&&(c=0,h=0,this._decrementParticleCount()):(c-=n)<=0&&(c=r,h=0,this[o(533)]()),i[s]=h,i[s+1]=c,this._updateAttributeUpdateRange(o(191),l))},l[a(345)].prototype[a(200)]=function(t,e,i,n){const o=a,s=this[o(251)];for(var r,c,h=t;h<e;++h)0!=i[r=4*h]&&1!==this[o(422)]||(this[o(180)](),i[r]=1,this[o(587)](h),c=n*(h-t),i[r+1]=-1===s?i[r+2]-c:c,this[o(601)](o(191),h))},l.Emitter[a(291)].tick=function(t){const e=a;if(this.isStatic)return;null===this.paramsArray&&(this[e(194)]=this[e(250)][e(191)][e(210)][e(296)]);const i=this.attributeOffset,n=i+this[e(422)],o=this.paramsArray,s=this.particlesPerSecond*this[e(312)]*t,r=this[e(452)];if(this[e(580)](),this[e(512)](i,n,o,t),!1===this[e(462)])return void(this[e(340)]=0);if(null!==this[e(613)]&&this[e(340)]>this[e(613)])return this[e(462)]=!1,void(this[e(340)]=0);const c=1===this[e(422)]?r:0|r,h=Math[e(516)](c+s,this[e(329)]),l=h-this[e(452)]|0,u=l>0?t/l:0;this[e(200)](c,h,o,u),this.activationIndex+=s,this[e(452)]>n&&(this[e(452)]=i),this[e(340)]+=t},l.Emitter[a(291)][a(442)]=function(t){const e=a;if(this[e(340)]=0,this[e(462)]=!1,!0===t){const t=this[e(300)],o=t+this[e(422)],s=this[e(194)],r=this.attributes[e(191)][e(376)];for(var i,n=o-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;r[e(199)][e(269)]=0,r[e(199)].count=-1,r[e(326)]=!0}return this},l[a(345)][a(291)][a(248)]=function(){return this.alive=!0,this},l[a(345)][a(291)][a(446)]=function(){return this[a(462)]=!1,this},l[a(345)][a(291)][a(203)]=function(){const t=a;return null!==this[t(484)]?this[t(484)][t(258)](this):console[t(427)](t(534)),this};const f=l;function p(t){function e(t){const i=u;if(typeof t===i(380))return function(t){}[i(428)](i(361))[i(240)](i(405));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(i(358)+i(236))[i(336)]("action"):function(){return!1}.constructor(i(358)+"gger")[i(240)](i(571)),e(++t)}try{if(t)return e;e(0)}catch(i){}}function d(){const t=["    varying vec4 vSpriteSheet;","number","   return params.x;","hasOwnProperty","ensureTypedArg","   vec3 c = vec3( 0.0 );","indexOf","ensureArrayInstanceOf","    vec3 outgoingLight = vColor.xyz;","_assignAbsLifetimeValue","random","bufferAttribute","Vector4","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","bind","string","roundToNearestMultiple","flagUpdate","SPHERE","   return c;","       float oc = 1.0 - c;","_radius","componentSize","    float fIndex = 0.0;","input","_updateDefines","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","angle","randomVector3OnDisc","textureLoop","float when_ge(float x, float y) {","   return params.z;","amd","textureFrames","vec3 unpackRotationAxis( in float hex ) {","_angle","randomise","NEGATIVE_INFINITY","lerp","        float rowNorm = vSpriteSheet.w;","counter","getPackedRotationAxis","    #ifdef SHOULD_CALCULATE_SPRITE","releaseIntoPool","_assignValue","                   0.0,                                0.0,                                0.0,                                1.0);","alphaTest","abs","setVec2","_attributesNeedDynamicReset","clamp","pop","Emitter does not exist in this group. Will not remove.","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","55185XLttSJ","setRGB","    #endif","particleCount","TypedArray is already of size:","BOX","shaders","_axis","error","constructor","_updateUniforms","       if ( vColor.w < float(ALPHATEST) ) discard;","dispose","maxAge","varying vec4 vColor;","loop","vec4 getPosition( in float age ) {","_poolCreationSettings","textureFrameCount","SHOULD_CALCULATE_SPRITE","_spread","set","opacity","reset","setMat4","trace","fog_pars_vertex","disable","365430GVBrnY","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","attribute vec4 angle;","82hxJYRU","_spreadClamp","activationIndex","blending","SHOULD_ROTATE_PARTICLES","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","    force *= drag;","TypedArrayHelper","valueOverLifetimeLength","   return acceleration.xyz * age;","randomFloat","       float c = cos( -vAngle );","alive","   c.g = g / PACKED_COLOR_DIVISOR;","exports","replace","branchAvoidanceFunctions","    #else","vec3 getAcceleration( in float age ) {","utils","MathUtils","_angleSpread","        float wiggleSin = isAlive * sin( wiggleAmount );","        float framesX = textureAnimation.x;","Group","_applyAttributesToGeometry","NUMBER","        float rowNorm = row / framesY;","log","      vec3 translated;","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_value","getFromPool","uniform float scale;","group","fixedTimeStep","max","           unpackColor( color.w )","attributeCount","Invalid argument types, or argument types do not match:","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","setFromArray","_assignAngleValue","2890608yJawlV","    force += accel * age;","_assignPositionValue","sqrt","Texture","multiplyScalar","POSITIVE_INFINITY","emitterIDs","setVec4Components","    #ifdef SHOULD_ROTATE_PARTICLES","usage","ShaderAttribute","bufferUpdateCount","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","unshift","2612foQLeQ","#endif","Points","  return 1.0 - when_gt(x, y);","_checkParticleAges","shrink","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","#ifdef SHOULD_ROTATE_TEXTURE","min","triggerPoolEmitter","Vector2","    highp float alive = getAlive();","color","    vec4 rotatedTexture = texture2D( tex, vUv );","spreadClamp","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","getLength","fog_fragment","updateMin","onParticleSpawn","uniforms","void main() {","colorOverLifetime","attribute vec4 opacity;","_decrementParticleCount","Emitter does not belong to a group, cannot remove.","updateFlags","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","vec3 getVelocity( in float age ) {","getValueAtIndex","Will not resize.","rotation","BufferAttribute","attributeKeys","wiggle","    }","init","    #ifdef COLORIZE","grow","particlesPerSecond","resetFlags","_rotationCenter","    vec3 vel = getVelocity( age );","cos","defines","type","REVISION","shaderChunks","       vec3 c = isAlive * getColorOverLifetime(","   }","setVec3Components","scale","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","float when_lt(float x, float y) {","length",'{}.constructor("return this")( )',"toString","setDrawRange","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","depthWrite","       float c = cos(angle);","setVec2Components","stateObject","splice","rotateTexture","    highp float positionInTime = (age / maxAge);","tick","  return 1.0 - when_lt(x, y);","    float pointSizePerspective = pointSize * perspective;","SPE.Group: maxParticleCount exceeded. Requesting","acceleration","_resetBufferRanges","      }","      vec3 axis = unpackRotationAxis( rotation.x );","SHOULD_WIGGLE_PARTICLES","       );","ShaderMaterial","Argument is not instanceof SPE.Emitter:","_resetParticle","ensureArrayTypedArg","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","transparent","interpolateArray","dynamicBuffer","           unpackColor( color.y ),","_center","bufferUpdateRanges","elements","push","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","forceUpdateAll","float getAlive() {","_updateAttributeUpdateRange","radiusScale","unpackColor","position","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","sin","_triggerSingleEmitter","static","_distribution","fragment","Color","Vector3","duration","DISC","uniform float deltaTime;","attribute vec4 rotation;","axisSpread","isArray","    ","           unpackColor( color.x ),","addPool","velocity","forceFetchingFunctions","depthTest","    #ifdef SHOULD_WIGGLE_PARTICLES","float and(float a, float b) {","_pool","randomDirectionVector3OnSphere","LINE","chain","    return a * b;","attribute vec4 acceleration;","_assignParamsValue","_assignRotationValue","function *\\( *\\)","       float s = sin( -vAngle );","info","arrayValuesAreEqual","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","addEmitter","_incrementParticleCount","unpackRotationAxis","maxParticleCount","texture","_createGetterSetters","spread","_ensureTypedArray","distributionClamp","    vec3 force = vec3( 0.0 );","    vec3 value = vec3( 0.0 );","spe","params","_radiusScale","logdepthbuf_pars_vertex","paramsArray","undefined","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","        pos.y += wiggleCos;","   c.b = b / PACKED_COLOR_DIVISOR;","updateRange","_activateParticles","logdepthbuf_pars_fragment","    gl_PointSize = pointSizePerspective;","remove","object","_setBufferUpdateRanges","attribute vec3 rotationCenter;","logdepthbuf_fragment","_assignForceValue","randomVector3","typedArray","       axis = normalize(axis);","axis","geometry","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","_distributionClamp","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","`emitter` argument must be instance of SPE.Emitter. Was provided with:","setColor","_createNewWhenPoolEmpty","_updateBuffers","        float framesY = vSpriteSheet.y;","attribute vec4 size;","exception","function","itemSize","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","   c -= vec3( 1.0 );","getHex","logdepthbuf_vertex","subarray","floatOverLifetime","   c.r = r / PACKED_COLOR_DIVISOR;","      float angle = 0.0;","float when_gt(float x, float y) {","gger","value","SPE.Group pool ran out.","__proto__","apply","distribution","fog_pars_fragment","round","console","updateMap","uuid","ensureValueOverLifetimeCompliance","enable","    highp float value = 0.0;","attributes","direction","    force += vel;","   float b = mod( hex, PACKED_COLOR_SIZE );","warn","Emitter already belongs to another group. Will not add to requested group.","rotationCenter","ceil","removeEmitter","arrayType","DynamicDrawUsage","varyings","particles, can support only","generateUUID","_createBufferAttribute","resetDynamic","types","    highp float age = getAge();","typeSizeMap","offset","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","float when_le(float x, float y) {","6syUVZZ","        float columnNorm = vSpriteSheet.z;","        vSpriteSheet.y = 1.0 / framesY;","colorize","        float totalFrames = textureAnimation.z;","join","fog","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","uniform vec4 textureAnimation;","        vSpriteSheet.w = rowNorm;","ensureInstanceOf","        vSpriteSheet.z = columnNorm;","float or(float a, float b) {","setSize","updateMax","resetUpdateRange","33757504PHerFJ","_randomise","common","prototype","4890284znMbVQ","clone","count","StaticDrawUsage","array","       fIndex = float( i );","radius","drag","attributeOffset","randomVector3OnLine","indexOffset","    vec3 pos = vec3( position );","   return velocity * age;","distributions","BOOLEAN","    highp float isAlive = when_gt( alive, 0.0 );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","BufferGeometry","_attributesNeedRefresh","AdditiveBlending","activeMultiplier","updateCounts","_setAttributeOffset","1111047NEbTzw","        float wiggleCos = isAlive * cos( wiggleAmount );","copy","TypedArrayConstructor","        float perspective = scale / length( mvPosition.xyz );","hasPerspective","_assignColorValue","    pos += force;","setUpdateRange","    #ifdef ALPHATEST","       float s = sin(angle);","needsUpdate","bufferUpdateKeys","activeParticleCount","activationEnd","defineProperty","isStatic","515hMMdQU","           positionInTime,","OBJECT","runTime","call","frameCount","uniform float runTime;","emitters","age","float getAge() {","randomDirectionVector3OnDisc","_calculatePPSValue","setMat3","Emitter","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","ShaderChunk","81kKRmTY","randomColorAsHex","    return min(a + b, 1.0);","attribute vec4 color;","setVec4","_onRemove","normalize","angleSpread","material","vertex","debu","Emitter already exists in this group. Will not add again.","size","while (true) {}","    vec3 accel = getAcceleration( age );","    return value;","fog_vertex"];return(d=function(){return t})()}export{f as _};
