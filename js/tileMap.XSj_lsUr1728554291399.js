import{_ as t,cw as n,C as e,V as o}from"./three.YiCjTDWq1728554291399.js";import{P as r}from"./tweakpane.yHWGBmom1728554291399.js";import{p as s,U as i}from"./@tresjs.IlQvaTJ91728554291399.js";import{P as a,b as c,c as p,M as u,T as l,a as m,d as f}from"./index.4zUmk6FA1728554291399.js";import{d as g,a3 as d,w as h,o as j,E as w,u as b,Y as x,r as y,e as v,j as I,g as _,f as C,al as M,m as k,F as z}from"./@vue.JNsx1iN61728554291399.js";import{_ as B}from"./raycasterEvent.0Ye4pn8l1728554291399.js";import{a as S}from"./utils.Az42xVZm1728554291399.js";import"./@vueuse.nb-8z3af1728554291399.js";import"./@mapbox.6Ji3WVB91728554291399.js";import"./@amap.pS6gfiLZ1728554291399.js";import"./three-mesh-bvh.MFGQK1iS1728554291399.js";import"./three-custom-shader-material.jyK-33IL1728554291399.js";import"./object-hash.T8hJJgjS1728554291399.js";import"./jszip.ZN8xj_JH1728554291399.js";import"./glsl-tokenizer.y_V5nCRK1728554291399.js";import"./glsl-token-string.dXz7aW6T1728554291399.js";import"./glsl-token-functions.ziXdc34f1728554291399.js";import"./@fesjs.GdZzFg1i1728554291399.js";import"./vue-router.NPtXaYpe1728554291399.js";import"./lodash-es.kYt-_xTG1728554291399.js";import"./@qlin.yHhFDldE1728554291399.js";import"./pinia.puw_7oLs1728554291399.js";import"./@floating-ui.BPbuo5Gx1728554291399.js";import"./@juggle.7yjBMqoW1728554291399.js";import"./@tweenjs.kK3a15lv1728554291399.js";import"./utils.w9BqHULq1728554291399.js";import"./d3-geo.nzA_Z2mb1728554291399.js";import"./d3-array.AhNJy1f41728554291399.js";import"./http.NEXtKu8y1728554291399.js";import"./axios.Ng308AU61728554291399.js";import"./color.2Kl61afA1728554291399.js";import"./color-string.7IP3FRiW1728554291399.js";import"./color-name.pJG-6sP41728554291399.js";import"./simple-swizzle.MXMyHIDS1728554291399.js";import"./is-arrayish.c4Zzm6-_1728554291399.js";import"./color-convert.a9Kqi8TT1728554291399.js";import"./lodash.cGC0dbtH1728554291399.js";import"./naive-ui.KleC3yO41728554291399.js";import"./date-fns.suW7C6XK1728554291399.js";import"./@css-render.kEa-OvKr1728554291399.js";import"./seemly.SjiSeX2v1728554291399.js";import"./css-render.GyV5d4TC1728554291399.js";import"./@emotion.ZD_ZYAgY1728554291399.js";import"./vooks.2o2CUQGF1728554291399.js";import"./evtd.DtfwxtIl1728554291399.js";import"./vueuc._CoMDI9f1728554291399.js";import"./vdirs.K2aUTSnn1728554291399.js";import"./treemate.dcEdf2le1728554291399.js";import"./date-fns-tz.Hcw7ufBO1728554291399.js";import"./async-validator.-YBkpS4I1728554291399.js";const R=Z;!function(t,n){const e=Z,o=A();for(;;)try{if(151193===-parseInt(e(346))/1+-parseInt(e(326))/2*(parseInt(e(335))/3)+-parseInt(e(368))/4+-parseInt(e(373))/5*(-parseInt(e(354))/6)+parseInt(e(347))/7*(parseInt(e(339))/8)+parseInt(e(322))/9*(-parseInt(e(344))/10)+-parseInt(e(316))/11*(-parseInt(e(310))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=Z,n=new RegExp(t(305)),e=new RegExp(t(313),"i"),o=O(t(337));n[t(331)](o+t(328))&&e[t(331)](o+t(342))?O():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=Z;let n;try{n=Function(t(341)+t(351)+");")()}catch(r){n=window}const e=n[t(312)]=n[t(312)]||{},o=[t(332),t(329),t(302),t(330),t(300),"table",t(362)];for(let s=0;s<o[t(308)];s++){const n=T[t(345)].prototype[t(363)](T),r=o[s],i=e[r]||n;n[t(355)]=T[t(363)](T),n.toString=i[t(314)][t(363)](i),e[r]=n}}))();const V=["object",R(360)];function Z(t,n){const e=A();return(Z=function(t,n){return e[t-=299]})(t,n)}function A(){const t=["flatShading","return (function() ","input","Color","110vaCowi","constructor","186150GRKPug","357uNvOmV","filter","coordType","bbox",'{}.constructor("return this")( )',"monochrome","maxZoom","24wcLkVo","__proto__","while (true) {}","provider","PerspectiveCamera","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","rotation","showTileNo","trace","bind","minDistance","update","action","lookAt","945236jhYlJi","apply","source","genContrast","debu","6380QVqOQD","value","genSaturation","wireframe","showBoundingBox","exception","innerWidth","info","primitive","camera","function *\\( *\\)","call","abs","length","dampingFactor","474936GeRBah","isMonochrome","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","useWorker","187wQUGqk","render","target","innerHeight","Vector3","far","77013DjpgVa","genBright","position","gger","4TJuHVO","tileMapMesh","chain","warn","error","test","log","mapCenter","opposite","158358cBcWJG","position0","init","set","14968dmKDdi"];return(A=function(){return t})()}const D=g({__name:R(327),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const f=R,g=o,{renderer:x,scene:y}=s();(new a).coordType=c;const v=new p;v[f(370)]=f(359),v[f(349)]=c;const I=new u;I.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",I[f(361)]=!1,I[f(315)]=!0;const _=new l(v,I);if(_[f(299)]=!1,_[f(376)]=!1,_[f(340)]=!1,_.useStandardMaterial=!1,_[f(348)]={opposite:g[f(334)],monochrome:g[f(311)]?{r:.299,g:.587,b:.114}:null,genBright:g[f(323)],genContrast:g[f(371)],genSaturation:g[f(375)]},g[f(352)]){let n=new(t[f(343)])(g[f(352)]);_[f(348)]&&(_.filter[f(352)]={r:n.r,g:n.g,b:n.b})}const C=new m;C[f(357)]=_,C[f(350)]=g.bbox,C.maxZoom=g[f(353)];const M=new(t[f(358)])(60,window[f(301)]/window[f(319)],1,1e8);M.up=new(t[f(320)])(0,1,0),M[f(324)][f(338)](g[f(333)][0],g[f(333)][2],-g.mapCenter[1]),M[f(367)](new(t[f(320)])(M.position.x,0,M[f(324)].z-2e3)),C[f(304)]=M;let k=null;d((()=>{const t=f;x[t(374)]&&!k&&(k=new n(M,x[t(374)].domElement),k.enableDamping=!0,k[t(309)]=.05,k[t(364)]=600,k[t(336)][t(338)](M[t(324)].x,M.position.y,M[t(324)].z),k[t(318)][t(338)](M[t(324)].x,0,M[t(324)].z-2e3))})),h((()=>[g[f(334)],g[f(311)],g[f(352)]]),(([t,n,o])=>{const r=f;if(_.filter){let s=new e(o);_[r(348)].opposite=t,_[r(348)][r(352)]=n?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[g[f(323)],g[f(371)],g[f(375)]]),(([t,n,e])=>{const o=f;_[o(348)]&&(_[o(348)][o(323)]=t,_.filter.genContrast=n,_[o(348)].genSaturation=e)}));const{onLoop:z}=i();return z((()=>{var t;const n=f;if(x[n(374)]){null==(t=g.tweenInstance)||t[n(365)](),k&&k[n(365)](),C[n(365)]();const e=50*Math[n(307)](M[n(324)].y);M[n(321)]=e+5e3,M.updateProjectionMatrix(),x.value[n(317)](y[n(374)],M)}})),r({camera:M,map:C,orbitControl:k}),(t,n)=>{const e=f;return j(),w(e(303),{object:b(C),rotation:[-Math.PI/2,0,0]},null,8,V)}}});function O(t){function n(t){const e=Z;if("string"==typeof t)return function(t){}[e(345)](e(356))[e(369)]("counter");1!==(""+t/t)[e(308)]||t%20==0?function(){return!0}[e(345)](e(372)+e(325))[e(306)](e(366)):function(){return!1}[e(345)]("debu"+e(325))[e(369)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function P(t,n){const e=L();return(P=function(t,n){return e[t-=433]})(t,n)}const Q=P;!function(t,n){const e=P,o=L();for(;;)try{if(176169===parseInt(e(456))/1*(parseInt(e(465))/2)+-parseInt(e(490))/3*(-parseInt(e(474))/4)+-parseInt(e(485))/5+parseInt(e(486))/6+parseInt(e(463))/7*(parseInt(e(466))/8)+-parseInt(e(451))/9+parseInt(e(446))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=P,n=new RegExp(t(436)),e=new RegExp(t(489),"i"),o=$("init");n[t(441)](o+"chain")&&e[t(441)](o+t(479))?$():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(435)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["debu","addBinding","46921gRZEJg","genSaturation","10pNHEkp","232UiLcTq","genContrast","tileMap","tileMapRef","Vector3",'{}.constructor("return this")( )',"change","manual","606908mllIAj","call","单色滤镜","tweenInstance","新街口","input","饱和度","bind","toString","gger","addBlade","1425540stbsdI","848940kvRECe","table","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3ceQwOB","camera","console","apply","function *\\( *\\)","isMonochrome","xjk","stateObject","prototype","test","NoToneMapping","error","log","exception","359820grbMTA","counter","__proto__","orbitControl","对比度","2757411etkqaR","genBright","value","constructor","while (true) {}","48814NRhnyl","#201919","SRGBColorSpace","牛首山","length"];return(L=function(){return t})()}G(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(488)+t(471)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(434)]||{},o=[t(444),"warn","info",t(443),t(445),t(487),"trace"];for(let r=0;r<o.length;r++){const n=G[t(454)][t(440)][t(481)](G),s=o[r],i=e[s]||n;n[t(448)]=G.bind(G),n[t(482)]=i.toString[t(481)](i),e[s]=n}}))();const N=g({__name:Q(468),setup(n){const e=Q,s=f(118.779958,32.017136),i=[s[0],s[1],5e3],a=x(),c=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:i,tweenInstance:null}),p=new r({title:"参数"});p[e(462)](c,"opposite",{label:"反色"}),p.addBinding(c,e(452),{label:"高亮",min:.1,max:3,step:.1}),p[e(462)](c,e(467),{label:e(450),min:.1,max:3,step:.1}),p.addBinding(c,e(464),{label:e(480),min:.1,max:3,step:.1}),p[e(462)](c,e(437),{label:e(476)}),p.addBinding(c,"monochrome",{label:"滤镜颜色"});const u={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p[e(484)]({view:"list",label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(478),value:e(438)},{text:e(459),value:"nss"}],value:"at"}).on(e(472),(n=>{const o=e,r=new(t[o(470)])(u[n[o(453)]][0],2e3,-u[n[o(453)]][1]);c[o(477)]=S(a[o(453)][o(433)],r,a[o(453)][o(449)],[0,-300],4e3)}));const l=y({clearColor:e(457),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(473),outputColorSpace:t[e(458)],toneMapping:t[e(442)]});return setTimeout((()=>{const t=e,n=u.at,r=new o(n[0],1600,-n[1]);c[t(477)]=S(a.value[t(433)],r,a[t(453)][t(449)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v("TresCanvas");return j(),w(z,null,[I(r,k(l,{"window-size":""}),{default:_((()=>[(j(),C(M,null,{default:_((()=>[I(D,k(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(B,{tileMapRef:a[o(453)]},null,8,[o(469)])],64)}}});function $(t){function n(t){const e=P;if("string"==typeof t)return function(t){}[e(454)](e(455))[e(435)](e(447));1!==(""+t/t)[e(460)]||t%20==0?function(){return!0}[e(454)](e(461)+e(483))[e(475)]("action"):function(){return!1}[e(454)](e(461)+"gger").apply(e(439)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{N as default};
