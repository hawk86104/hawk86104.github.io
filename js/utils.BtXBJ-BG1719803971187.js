import{a as t,B as n,r as e,bZ as o,C as r,j as s,Z as c}from"./three.BsQyBKrV1719803971187.js";import{x as i}from"./@fesjs.OMA0Tumj1719803971187.js";import{N as a}from"./@tresjs.rn1P_YDI1719803971187.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.qUEmuYBS1719803971187.js";!function(t,n){const e=d,o=w();for(;;)try{if(815683===parseInt(e(474))/1+parseInt(e(448))/2+-parseInt(e(477))/3*(-parseInt(e(451))/4)+parseInt(e(447))/5+parseInt(e(412))/6+-parseInt(e(471))/7+-parseInt(e(470))/8*(parseInt(e(473))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=d,n=new RegExp(t(468)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=_(t(476));n[t(443)](o+t(408))&&e[t(443)](o+"input")?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=d;let n;try{n=Function(t(404)+t(419)+");")()}catch(r){n=window}const e=n[t(466)]=n[t(466)]||{},o=[t(467),"warn",t(437),t(433),t(475),t(439),"trace"];for(let s=0;s<o[t(430)];s++){const n=m.constructor[t(438)][t(441)](m),r=o[s],c=e[r]||n;n[t(403)]=m[t(441)](m),n[t(456)]=c[t(456)][t(441)](c),e[r]=n}}))();const h=(n,e=!1)=>{const o=d;n[o(458)]();const{max:r,min:s}=n[o(418)];n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(440)].position[o(424)];t++)e?(a[o(409)]((n.attributes[o(445)][o(426)](t)-(s.x+r.x)/2)/c),a[o(409)]((n.attributes[o(445)][o(401)](t)-(s.y+r.y)/2)/i)):(a[o(409)]((n[o(440)].position[o(426)](t)-s.x)/c),a[o(409)]((n[o(440)].position[o(401)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},g=(t,n)=>new Promise(((e,o)=>{const r=d;i(t,{},{method:r(460)})[r(442)]((t=>{const o=r;n&&e(t[n]),e(t[o(421)])}))[r(417)]((t=>{console[r(433)](t),o(t)}))}));function d(t,n){const e=w();return(d=function(t,n){return e[t-=400]})(t,n)}const y=t=>{const n=d,e=(new(THREE[n(455)]))[n(472)](t),o=new(THREE[n(459)]);e[n(423)](o),t[n(407)][n(469)]((t=>{const e=n;t.position[e(413)](o)})),t[n(445)][n(478)](o[n(436)]())};function w(){const t=["getY","add","__proto__","return (function() ","apply","depthTest","children","chain","push","computeBoundsTree","action","8008476oArVuv","sub","applyMatrix4","clone","expandByObject","catch","boundingBox",'{}.constructor("return this")( )',"value","features","depthWrite","getCenter","count","geometry","getX","random","reflectivity","while (true) {}","length","center","call","error","divideScalar","counter","negate","info","prototype","table","attributes","bind","then","test","transparent","position","min","2552295xaUGgP","2932348rUVCMG","set","config","4CdOLEI","setAttribute","material","debu","Box3","toString","constructor","computeBoundingBox","Vector3","get","raycast","side","max","gger","string","console","log","function *\\( *\\)","forEach","2536cRGULs","3227301DhWQHh","setFromObject","69669WRokaf","69763kyymgk","exception","init","1048443tQKasI","copy","disposeBoundsTree","setY"];return(w=function(){return t})()}const x=()=>{const t=d;n[t(438)][t(410)]=u,n[t(438)][t(479)]=f,e[t(438)][t(461)]=p},b=async t=>{const n=d,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(425)][n(415)]();h(i),i.computeBoundsTree();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(453)][n(444)]=!0,u.material[n(422)]=!0,u[n(453)][n(406)]=!0,u[n(453)][n(462)]=c,u.material.uniforms[n(450)][n(420)].w=20,u[n(453)].uniforms[n(428)].value=.46,u};function j(t){const n=d,e=[];for(let r=0;r<t[n(430)];r++)e[n(409)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(430)];r++)o[n(402)](e[r]);o[n(434)](e[n(430)]);for(let r=0;r<e[n(430)];r++)e[r][n(413)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=d;if(typeof t===e(465))return function(t){}[e(457)](e(429))[e(405)](e(435));1!==(""+t/t)[e(430)]||t%20==0?function(){return!0}[e(457)](e(454)+e(464))[e(432)](e(411)):function(){return!1}[e(457)]("debu"+e(464))[e(405)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,x as i,g as l,h as r,b as s};
