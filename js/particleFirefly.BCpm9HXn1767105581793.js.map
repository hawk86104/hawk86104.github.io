{"version":3,"file":"particleFirefly.BCpm9HXn1767105581793.js","sources":["../../src/plugins/digitalCity/components/particle/firefly.vue","../../src/plugins/digitalCity/pages/particleFirefly.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-06-17 14:45:37\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-26 15:59:44\n-->\n<template>\n    <TresGroup>\n        <primitive :object=\"muzzle1.emitter\" />\n        <primitive :object=\"batchSystem\" />\n    </TresGroup>\n</template>\n<script lang=\"ts\" setup>\nimport * as THREE from 'three'\nimport * as TQK from 'three.quarks'\nimport { useLoop } from '@tresjs/core'\nimport { useTexture } from 'PLS/basic'\n\nconst props = withDefaults(\n    defineProps<{\n        color?: string\n        size?: number\n    }>(),\n    {\n        color: '#b0ffff',\n        size: 1,\n    },\n)\n\nconst batchSystem = new TQK.BatchedRenderer()\nconst texture = await useTexture('./plugins/basic/shine/image/round.png')\n\nconst muzzle = {\n    duration: 100,\n    looping: true,\n    startLife: new TQK.IntervalValue(0.1, 20),\n    startSpeed: new TQK.ConstantValue(20),\n    startSize: new TQK.IntervalValue(6, 20),\n    startColor: new TQK.ConstantColor(new THREE.Vector4(1, 1, 1, 1)),\n    worldSpace: false,\n\n    maxParticle: 5000,\n    emissionOverTime: new TQK.ConstantValue(20),\n    emissionBursts: [\n        {\n            time: 10,\n            count: new TQK.ConstantValue(100),\n            cycle: 10,\n            interval: 1,\n            probability: 1,\n        },\n    ],\n\n    shape: new TQK.GridEmitter({ width: 1500, height: 1500, column: 70, row: 70 }),\n    material: new THREE.MeshBasicMaterial({ map: texture, blending: THREE.AdditiveBlending, transparent: true }),\n    startTileIndex: new TQK.ConstantValue(91),\n    uTileCount: 0,\n    vTileCount: 0,\n    renderOrder: 9999,\n    renderMode: TQK.RenderMode.BillBoard,\n}\n\nconst muzzle1 = new TQK.ParticleSystem(muzzle)\nmuzzle1.addBehavior(new TQK.ColorOverLife(new TQK.ColorRange(new THREE.Vector4(1, 0.3882312, 0.125, 1), new THREE.Vector4(0, 0.826827, 0.3014706, 1))))\nmuzzle1.addBehavior(new TQK.SizeOverLife(new TQK.PiecewiseBezier([[new TQK.Bezier(1, 0.95, 0.75, 0), 0]])))\n\nmuzzle1.addBehavior(new TQK.FrameOverLife(new TQK.PiecewiseBezier([[new TQK.Bezier(91, 94, 97, 100), 0]])))\n\n// muzzle1.addBehavior(new TQK.SpeedOverLife(new TQK.PiecewiseBezier([[new TQK.Bezier(1, 7.5, 5, 0), 0]])))\nmuzzle1.emitter.name = 'muzzle1'\n\nbatchSystem.addSystem(muzzle1)\n\nbatchSystem.rotateX(-Math.PI / 2)\n\nconst { onBeforeRender } = useLoop()\nonBeforeRender(({ delta }: { delta: number }) => {\n    batchSystem.update(delta)\n})\n</script>\n","<!--\n * @Description\n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-06-14 08:58:57\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2024-06-17 15:10:11\n-->\n<template>\n    <pagesShow :showAxesHelper=\"false\" :showGridHelper=\"false\">\n        <template v-slot:ability>\n            <Suspense>\n                <firefly :position=\"[0, 20, 0]\" />\n            </Suspense>\n\n            <gridPlus :args=\"[100, 100]\" v-bind=\"gridState\" :position=\"[0, -50, 0]\" />\n        </template>\n    </pagesShow>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive } from 'vue'\nimport pagesShow from '../components/pagesShow.vue'\nimport firefly from '../components/particle/firefly.vue'\nimport { gridPlus } from 'PLS/floor'\nconst gridState = reactive({\n    cellSize: 60,\n    cellThickness: 1,\n    cellColor: '#6f6f6f',\n    sectionColor: '#92399e',\n    sectionSize: 330,\n    sectionThickness: 1.5,\n    fadeDistance: 3600,\n    fadeStrength: 1,\n    followCamera: false,\n    infiniteGrid: true,\n})\n</script>\n"],"names":["TQK.BatchedRenderer","TQK.IntervalValue","TQK.ConstantValue","TQK.ConstantColor","TQK.GridEmitter","TQK.RenderMode","TQK.ParticleSystem","TQK.ColorOverLife","TQK.ColorRange","TQK.SizeOverLife","TQK.PiecewiseBezier","TQK.Bezier","TQK.FrameOverLife","useLoop","_unref","pagesShow","firefly","gridPlus"],"mappings":"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"}