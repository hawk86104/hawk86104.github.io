import{U as n,C as t}from"./@tresjs.qWeugQU61734239885681.js";import{m as o,bm as e,C as r,aB as i,a0 as a,_ as s,cl as l}from"./three.NPKhDGTA1734239885681.js";import{P as c}from"./tweakpane.yHWGBmom1734239885681.js";import{d as u,r as f,a3 as p,e as g,o as d,f as m,g as v,J as w,j as h,u as y,al as I}from"./@vue.-THQH3GC1734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";!function(n,t){for(var o=S,e=x();;)try{if(497642===-parseInt(o(391))/1*(-parseInt(o(392))/2)+-parseInt(o(380))/3+parseInt(o(372))/4*(parseInt(o(386))/5)+parseInt(o(381))/6*(-parseInt(o(367))/7)+parseInt(o(408))/8+parseInt(o(370))/9*(parseInt(o(383))/10)+-parseInt(o(373))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var b=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[S(393)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function x(){var n=["blendMode","console","vertexShader","trace","depthTest","transparent","blending","3814696dDzvwF","debu","length","string","return (function() ","falloff","test","7RDrBgz","while (true) {}","input","1894455emBXQs","exception","332PuilcV","2678874njpMSI","__proto__","call","toString","table","#00d5ff","side","2448612swAHxC","2412384qPUoQr","glowColor","20uXZipa","gger","glowInternalRadius","55840HvgNEe","init","bind","function *\\( *\\)","glowSharpness","1749iCaVNn","154UCmiDe","apply","uniforms","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","opacity","constructor","prototype","stateObject",'{}.constructor("return this")( )'];return(x=function(){return n})()}!function(){b(this,(function(){var n=S,t=new RegExp(n(389)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=C(n(387));t[n(414)](e+"chain")&&o[n(414)](e+n(369))?C():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[S(393)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function S(n,t){var o=x();return(S=function(n,t){return o[n-=367]})(n,t)}j(void 0,(function(){for(var n=S,t=function(){var n,t=S;try{n=Function(t(412)+t(400)+");")()}catch(o){n=window}return n}(),o=t[n(402)]=t.console||{},e=["log","warn","info","error",n(371),n(377),n(404)],r=0;r<e.length;r++){var i=j[n(397)][n(398)][n(388)](j),a=e[r],s=o[a]||i;i[n(374)]=j[n(388)](j),i[n(376)]=s[n(376)].bind(s),o[a]=i}}))();const _=class extends o{constructor(n={}){var t=S;super(),this[t(403)]=t(395),this.fragmentShader="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this[t(394)]={opacity:new e(void 0!==n[t(396)]?n[t(396)]:1),glowInternalRadius:new e(void 0!==n.glowInternalRadius?n[t(385)]:6),glowSharpness:new e(void 0!==n.glowSharpness?n[t(390)]:.5),falloff:new e(void 0!==n.falloff?n[t(413)]:.1),glowColor:new e(void 0!==n.glowColor?new r(n[t(382)]):new r(t(378)))},this.setValues(n),this[t(405)]=void 0!==n[t(405)]&&n[t(405)],this[t(407)]=void 0!==n[t(401)]?n[t(401)]:i,this[t(406)]=!0,this[t(379)]=void 0!==n[t(379)]?n[t(379)]:a}};function C(n){function t(n){var o=S;if(typeof n===o(411))return function(n){}[o(397)](o(368))[o(393)]("counter");1!==(""+n/n)[o(410)]||n%20==0?function(){return!0}.constructor(o(409)+"gger")[o(375)]("action"):function(){return!1}.constructor("debu"+o(384))[o(393)](o(399)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const P=R;function z(){const n=["glowInternalRadius","BackSide","input","glowSharpness",'{}.constructor("return this")( )',"warn","error","neg-x.jpg","blue","addBinding","return (function() ","primitive","prototype","opacity","stateObject","清晰度","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","18jeVTgq","falloff","TresDirectionalLight","pos-x.jpg","TresMeshPhysicalMaterial","length","912790UabLic","11musUZC","890924LHykJS","TresMesh","455505ZHzzbW","Mesh","FrontSide","辉光参数","constructor","7263660SFcPkG","pos-z.jpg","TresTorusKnotGeometry","fakeGlow","debu","exception","info","pos-y.jpg","uniforms","glowColor","log","init","bind","6uiBHxq","toString","DoubleSide","TresGroup","side","gger","apply","neg-z.jpg","console","5nmsaKj","table","__proto__","29246UxyUna","value","310456gSrDUD","Color","call","trace","object","9RWSPQs","#a058c1","TresGridHelper","147376OhRpYp"];return(z=function(){return n})()}function R(n,t){const o=z();return(R=function(n,t){return o[n-=286]})(n,t)}!function(n,t){const o=R,e=z();for(;;)try{if(243289===-parseInt(o(324))/1+-parseInt(o(296))/2*(-parseInt(o(314))/3)+parseInt(o(322))/4*(-parseInt(o(351))/5)+parseInt(o(342))/6*(parseInt(o(286))/7)+parseInt(o(288))/8*(-parseInt(o(293))/9)+-parseInt(o(320))/10*(parseInt(o(321))/11)+parseInt(o(329))/12)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(348)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){k(this,(function(){const n=R,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(313),"i"),e=F(n(340));t.test(e+"chain")&&o.test(e+n(299))?F():e("0")}))()}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(348)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();T(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function(n(307)+n(301)+");")()}catch(o){t=window}return t}(),o=t[n(350)]=t[n(350)]||{},e=[n(339),n(302),n(335),n(303),n(334),n(352),n(291)];for(let r=0;r<e[n(319)];r++){const t=T[n(328)][n(309)].bind(T),i=e[r],a=o[i]||t;t[n(353)]=T[n(341)](T),t[n(343)]=a[n(343)][n(341)](a),o[i]=t}}))();const D={position:[0,6,0]},M=[P(292)],B=u({__name:P(332),setup(o){const e=P,r=new c({title:e(327),expanded:!0}),i=f({glowColor:e(294),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(326)],depthTest:!1}),a=new _,u=new(s[e(325)])(new l(4,3.8,128,128),a);return r[e(306)](i,e(338),{label:"颜色"}),r.addBinding(i,e(315),{label:"衰减",min:0,max:10,step:.1}),r[e(306)](i,e(297),{label:"内半径",min:-5,max:5,step:.1}),r[e(306)](i,e(300),{label:e(312),min:0,max:10,step:.1}),r[e(306)](i,e(310),{label:"透明",min:0,max:1,step:.1}),r[e(306)](i,e(346),{label:"材质面",options:{FrontSide:s[e(326)],BackSide:s[e(298)],DoubleSide:s[e(344)]}}),p((()=>{const n=e;a.uniforms[n(315)][n(287)]=i.falloff,a[n(337)][n(338)][n(287)]=new(s[n(289)])(i[n(338)]),a[n(337)][n(297)][n(287)]=i[n(297)],a[n(337)][n(300)][n(287)]=i.glowSharpness,a[n(337)][n(310)][n(287)]=i[n(310)],a[n(346)]=i[n(346)]})),(o,r)=>{const i=e,a=g("TresCanvas");return d(),m(a,{"window-size":""},{default:v((()=>[r[1]||(r[1]=w("TresPerspectiveCamera",{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=w("TresAmbientLight",{intensity:1.5},null,-1)),r[3]||(r[3]=w(i(316),{position:[100,100,60],intensity:20},null,-1)),h(y(n),{autoRotate:""}),r[4]||(r[4]=w(i(295),{args:[20,10]},null,-1)),w(i(345),D,[r[0]||(r[0]=w(i(323),null,[w(i(331),{args:[4,.5,128,128]}),w(i(318),{color:i(305),roughness:.2,clearcoat:1})],-1)),w(i(308),{object:y(u)},null,8,M)]),(d(),m(I,null,{default:v((()=>[h(y(t),{files:[i(317),i(304),i(336),"neg-y.jpg",i(330),i(349)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1})}}});function F(n){function t(n){const o=R;if("string"==typeof n)return function(n){}[o(328)]("while (true) {}")[o(348)]("counter");1!==(""+n/n)[o(319)]||n%20==0?function(){return!0}[o(328)](o(333)+"gger")[o(290)]("action"):function(){return!1}[o(328)](o(333)+o(347))[o(348)](o(311)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{B as default};
