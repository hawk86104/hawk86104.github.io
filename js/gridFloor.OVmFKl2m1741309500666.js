import{_ as n,C as t,ai as r}from"./three.8tDGqmLF1741309500666.js";import{o,J as e,f as i}from"./@tresjs.yaBKiR-I1741309500666.js";import{P as s}from"./tweakpane.yDiyAAkA1741309500666.js";import{d as c,a2 as u,o as a,H as l,N as f,aj as d,ak as v,r as g,f as p,g as h,j as m,u as C,al as y,m as x}from"./@vue.NRI7TcgI1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";const w=W;!function(n,t){const r=W,o=T();for(;;)try{if(331653===-parseInt(r(443))/1*(-parseInt(r(442))/2)+-parseInt(r(465))/3+parseInt(r(436))/4*(parseInt(r(472))/5)+parseInt(r(450))/6*(parseInt(r(474))/7)+-parseInt(r(431))/8*(parseInt(r(458))/9)+-parseInt(r(460))/10*(parseInt(r(459))/11)+parseInt(r(448))/12*(parseInt(r(476))/13))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const b=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){b(this,(function(){const n=W,t=new RegExp(n(483)),r=new RegExp(n(475),"i"),o=D(n(486));t[n(451)](o+"chain")&&r[n(451)](o+n(455))?D():o("0")}))()}();const I=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();I(void 0,(function(){const n=W;let t;try{t=Function(n(453)+n(438)+");")()}catch(e){t=window}const r=t[n(447)]=t[n(447)]||{},o=[n(441),n(463),n(484),n(434),n(445),n(478),"trace"];for(let i=0;i<o[n(456)];i++){const t=I[n(481)][n(473)][n(479)](I),e=o[i],s=r[e]||t;t.__proto__=I[n(479)](I),t[n(461)]=s[n(461)][n(479)](s),r[e]=t}}))();const j=[w(437)];function T(){const n=["236NGGbUj","956EZOXxX","TresPlaneGeometry","exception","gridColor","console","2820JzchAf","gridFloor","3144HQCZLK","test","uGridThickness","return (function() ","floorColor","input","length","#ffffff","1188423EhTGux","2057PyjIIZ","25670Gqpjvc","toString","TresMesh","warn","uCrossColor","439632YsFCVQ","crossColor","uCross","while (true) {}","uGridColor","string","debu","185Hudahz","prototype","3248NauZAR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","40209UwggWv","counter","table","bind","gridThickness","constructor","gger","function *\\( *\\)","info","TresShaderMaterial","init","call","set","value","uniforms","8IRdDco","uCrossThickness","crossThickness","error","DoubleSide","808URGiOq","rotate-x",'{}.constructor("return this")( )',"stateObject","Color","log"];return(T=function(){return n})()}function W(n,t){const r=T();return(W=function(n,t){return r[n-=429]})(n,t)}const k=c({__name:w(449),props:{gridColor:{default:"#c4d6ff"},gridThickness:{default:.02},crossColor:{default:"#7a91df"},crossThickness:{default:.02},uCross:{default:.2},floorColor:{default:w(457)}},setup(r){const o=w,e=r,i={vertexShader:"varying vec2 vUv;\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:"uniform float uGridThickness;\nuniform vec3 uGridColor;\nuniform float uCrossScale;\nuniform float uCrossThickness;\nuniform float uCross;\nuniform vec3 uCrossColor;\nuniform vec3 uFloorColor;\n\nvarying vec2 vUv;\n\nfloat gridFloor(vec2 uv, vec2 lineWidth) {\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    vec2 targetWidth = invertLine ? 1.0 - lineWidth : lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    \n    \n    \n    \n    vec2 gridUV = abs(fract(uv) * 2.0 - 1.0);\n    gridUV = invertLine ? gridUV : 1.0 - gridUV;\n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    grid2 = invertLine ? 1.0 - grid2 : grid2;\n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nfloat crossFloor(vec2 uv, float scale, float thickness, float crossIntensity) {\n    vec2 lineWidth = vec2(thickness);\n\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    \n    vec2 targetWidth = lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    float cutOffX = abs(fract(uv.y) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n    float cutOffY = abs(fract(uv.x) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n\n    \n    \n    \n    \n    \n    \n    \n    float uvX = abs(fract(uv.x) * 2.0 - 1.0) + cutOffX;\n    float uvY = abs(fract(uv.y) * 2.0 - 1.0) + cutOffY;\n    vec2 gridUV = vec2(uvX, uvY);\n\n    \n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    \n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nvoid main()\n{\n    vec2 lineWidth = vec2(uGridThickness);\n    \n    vec2 uv = vUv * 20.0;\n\n    \n    float grid = gridFloor(uv, lineWidth);\n    \n    vec3 gridColor = mix(uFloorColor, uGridColor, vec3(grid));\n\n    \n    float crossUv = crossFloor(uv, uCrossScale, uCrossThickness, uCross);\n    \n    vec3 gridColor2 = mix(gridColor, uCrossColor, vec3(crossUv));\n    \n    vec3 color =  gridColor2;\n\n    gl_FragColor = vec4(color, 1.0);\n}",side:n[o(435)],transparent:!0,uniforms:{uFloorColor:{value:new t(e[o(454)])},uGridThickness:{value:e.gridThickness},uGridColor:{value:new(n[o(440)])(e[o(446)])},uCrossThickness:{value:e[o(433)]},uCross:{value:e[o(467)]},uCrossColor:{value:new t(e[o(466)])}}};return u((()=>{const n=o;i[n(430)].uFloorColor[n(429)][n(488)](e[n(454)]),i[n(430)][n(469)][n(429)][n(488)](e[n(446)]),i[n(430)][n(464)][n(429)].set(e[n(466)]),i.uniforms[n(452)][n(429)]=e[n(480)],i[n(430)][n(432)][n(429)]=e[n(433)],i[n(430)][n(467)][n(429)]=e[n(467)]})),(n,t)=>{const r=o;return a(),l(r(462),{"rotate-x":-Math.PI/2},[t[0]||(t[0]=f(r(444),{args:[10,10,32,32]},null,-1)),f(r(485),d(v(i)),null,16)],8,j)}}});function D(n){function t(n){const r=W;if(typeof n===r(470))return function(n){}[r(481)](r(468)).apply(r(477));1!==(""+n/n)[r(456)]||n%20==0?function(){return!0}[r(481)](r(471)+"gger")[r(487)]("action"):function(){return!1}[r(481)](r(471)+r(482)).apply(r(439)),t(++n)}try{if(n)return t;t(0)}catch(r){}}const F=A;!function(n,t){const r=A,o=G();for(;;)try{if(127211===parseInt(r(239))/1*(parseInt(r(252))/2)+-parseInt(r(286))/3*(-parseInt(r(261))/4)+-parseInt(r(271))/5*(-parseInt(r(266))/6)+parseInt(r(244))/7*(parseInt(r(265))/8)+parseInt(r(251))/9+parseInt(r(279))/10+-parseInt(r(288))/11*(parseInt(r(290))/12))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const _=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[A(241)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function A(n,t){const r=G();return(A=function(n,t){return r[n-=236]})(n,t)}!function(){_(this,(function(){const n=A,t=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z("init");t[n(270)](o+n(256))&&r[n(270)](o+"input")?z():o("0")}))()}();const U=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function G(){const n=["test","5ijoqjF","log","#ff33ff","TresPerspectiveCamera","addBinding","地板颜色","action","pos-y.jpg","151310WnLGoG","TresTorusKnotGeometry","#ffffff","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","gridFloor","uCross","crossThickness","523902yMfdZj","info","22UgybED","call","2362380JSqLvh","gger","prototype","#000000","warn","网格厚度","stateObject","console","2XQTJgL","TresAmbientLight","apply","table","bind","7VUQFRu","TresMeshStandardMaterial","constructor","十字厚度","gridColor","floorColor","neg-y.jpg","703161ukPhgy","119312PfQSJj","return (function() ","gridThickness","length","chain","exception","neg-x.jpg","debu","网格颜色","4mfJEbn","__proto__","neg-z.jpg","string","1062736MbEMxZ","5358FhXwdi","#ef57ff","counter","toString"];return(G=function(){return n})()}U(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(253)+'{}.constructor("return this")( ));')()}catch(r){t=window}return t}(),r=t[n(238)]=t[n(238)]||{},o=[n(272),n(294),n(287),"error",n(257),n(242),"trace"];for(let e=0;e<o[n(255)];e++){const t=U.constructor[n(292)][n(243)](U),i=o[e],s=r[i]||t;t[n(262)]=U.bind(U),t[n(269)]=s[n(269)].bind(s),r[i]=t}}))();const X=c({__name:F(283),setup(n){const t=F,c=g({alpha:!0,toneMapping:r,windowSize:!0,clearColor:3355443}),u=g({enableDamping:!0,autoRotate:!1}),l=g({gridColor:t(281),crossColor:t(267),floorColor:t(293),gridThickness:.02,crossThickness:.03,uCross:.29}),w=new s;return w.addBinding(l,t(248),{label:t(260)}),w[t(275)](l,t(254),{label:t(236),min:.01,max:1,step:.01}),w[t(275)](l,"crossColor",{label:"十字颜色"}),w.addBinding(l,t(285),{label:t(247),min:.01,max:1,step:.01}),w[t(275)](l,t(284),{label:"十字大小",min:.01,max:1,step:.01}),w[t(275)](l,t(249),{label:t(276)}),(n,r)=>{const s=t;return a(),p(C(i),x(c,{"window-size":""}),{default:h((()=>[r[0]||(r[0]=f(s(274),{position:[6,6,6],fov:45,near:.1,far:1e3},null,-1)),m(C(o),d(v(u)),null,16),r[1]||(r[1]=f(s(240),{intensity:.5},null,-1)),r[2]||(r[2]=f("TresDirectionalLight",{position:[15,15,15],intensity:1},null,-1)),r[3]||(r[3]=f("TresMesh",{position:[0,.5,0],scale:.2},[f(s(280),{args:[1,.35,100,32]}),f(s(245),{color:s(273),roughness:0,metalness:1})],-1)),m(k,d(v(l)),null,16),(a(),p(y,null,{default:h((()=>[m(C(e),{files:["pos-x.jpg",s(258),s(278),s(250),"pos-z.jpg",s(263)],path:s(282)})])),_:1}))])),_:1},16)}}});function z(n){function t(n){const r=A;if(typeof n===r(264))return function(n){}[r(246)]("while (true) {}")[r(241)](r(268));1!==(""+n/n)[r(255)]||n%20==0?function(){return!0}.constructor(r(259)+r(291))[r(289)](r(277)):function(){return!1}.constructor(r(259)+r(291))[r(241)](r(237)),t(++n)}try{if(n)return t;t(0)}catch(r){}}export{X as default};
