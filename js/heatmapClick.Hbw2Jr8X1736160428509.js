import{a as t,U as n}from"./@tresjs.8MtVPQyb1736160428509.js";import{P as e}from"./tweakpane.yHWGBmom1736160428509.js";import{_ as r,a0 as o,ak as a,al as s}from"./three.rmsIv-u_1736160428509.js";import{_ as i}from"./heatmap.js-fix.pp862QkC1736160428509.js";import{d as c,a6 as u,a1 as p,o as l,D as f,u as d,r as h,e as m,f as g,g as v,m as y,J as b,j as w,al as x,aj as I,ak as _}from"./@vue.4u_eOGex1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";import"./@amap.uuGbEc9W1736160428509.js";const j=U;!function(t,n){const e=U,r=k();for(;;)try{if(217394===-parseInt(e(419))/1+-parseInt(e(386))/2*(-parseInt(e(365))/3)+parseInt(e(363))/4*(-parseInt(e(375))/5)+-parseInt(e(406))/6+-parseInt(e(416))/7*(-parseInt(e(423))/8)+parseInt(e(394))/9*(parseInt(e(389))/10)+parseInt(e(388))/11*(parseInt(e(373))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=U,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(398),"i"),r=M(t(372));n[t(364)](r+t(392))&&e[t(364)](r+t(428))?M():r("0")}))()}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(353)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(t,n){const e=k();return(U=function(t,n){return e[t-=347]})(t,n)}function k(){const t=["info","block","length","layerX","boundingBox","call","__proto__","border","constructor","push","8sBfLbT","absolute","209VAHiUF","10iIfUAR","ShaderMaterial","string","chain","object","236241WFAyqv","create","setDataMax","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","needsUpdate","0.8","position","addData","attributes","body",'{}.constructor("return this")( )',"1609890UAYCEq","BufferAttribute","heatmap-canvas","prototype","Texture","toString","count","none","getX","display","21DaUncU","layerY","appendChild","92713fWiQUb","log","console","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","965672RAaHwJ","exception","show2dCanvas","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","scale","input","heatmapClickCom","onclick","left","bind","set","deleteAttribute","apply","while (true) {}","warn","radius","createElement","gger","error","table","40px","_renderer","4VyQakJ","test","142152csexDG","counter","style","primitive","mesh_0","canvas","./draco/","init","157512JsIlUq","debu","1244420EfNXzr"];return(k=function(){return t})()}A(void 0,(function(){const t=U;let n;try{n=Function(t(397)+t(405)+");")()}catch(o){n=window}const e=n[t(421)]=n[t(421)]||{},r=[t(420),t(355),t(376),t(359),t(424),t(360),"trace"];for(let a=0;a<r.length;a++){const n=A[t(384)][t(409)][t(350)](A),o=r[a],s=e[o]||n;n[t(382)]=A[t(350)](A),n[t(411)]=s[t(411)][t(350)](s),e[o]=n}}))();const z=[j(393)],B=c({__name:j(347),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(422),{draco:!0,decoderPath:e(371)}))),a=await a,s(),a);h[e(369)].position[e(351)](-5088.96,-3.08,39374.7),h[e(369)][e(427)].setScalar(.01);let m=null,g=null,v=null;g=new(r[e(410)])((()=>{const t=e;return v=document[t(357)](t(408)),v[t(367)].position=t(387),v[t(367)].top=t(361),v[t(367)][t(349)]="0",document[t(404)][t(418)](v),m=i[t(395)]({container:v,width:256,height:256,blur:t(400),radius:c[t(356)]}),m._renderer[t(370)][t(367)][t(383)]="1px solid #5384ff",m[t(362)].canvas[t(348)]=function(n){const e=t;m[e(402)]({x:n[e(379)],y:n[e(417)],value:1,radius:c[e(356)]}),m[e(396)](1),g&&(g[e(399)]=!0)},m})()[e(362)].canvas);const y={vertexShader:e(426),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o},b=new(r[e(390)])(y);h[e(369)].material=b;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:a}=t[n(380)];t[n(352)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t.attributes[n(401)][n(412)];e++)c[n(385)]((t[n(403)][n(401)][n(414)](e)-a.x)/s),c.push((t.attributes[n(401)].getZ(e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(r[n(407)])(u,2))})(h[e(369)].geometry),p((()=>{const t=e;v[t(367)][t(415)]=""+(c[t(425)]?t(377):t(413))})),(t,n)=>{const r=e;return l(),f(r(368),{object:d(h)[r(369)]},null,8,z)}}});function M(t){function n(t){const e=U;if(typeof t===e(391))return function(t){}[e(384)](e(354)).apply(e(366));1!==(""+t/t)[e(378)]||t%20==0?function(){return!0}[e(384)](e(374)+e(358))[e(381)]("action"):function(){return!1}[e(384)]("debu"+e(358)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const T=S;!function(t,n){const e=S,r=R();for(;;)try{if(481232===-parseInt(e(353))/1*(parseInt(e(343))/2)+parseInt(e(351))/3*(-parseInt(e(358))/4)+parseInt(e(362))/5+parseInt(e(345))/6*(parseInt(e(349))/7)+-parseInt(e(336))/8+parseInt(e(354))/9*(parseInt(e(366))/10)+-parseInt(e(368))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(364)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(374),"i"),r=F(t(372));n[t(347)](r+"chain")&&e[t(347)](r+t(342))?F():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(364)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function R(){const t=["apply","return (function() ","10bAaQzH","toString","6108069IwzdXF","table",'{}.constructor("return this")( )',"debu","init","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","gger","radius","圆圈的大小","254128dCMDjE","TresPerspectiveCamera","__proto__","prototype","addBinding","while (true) {}","input","1238344EeVtjy","bind","132CblOVB","console","test","constructor","146482OsNbHY","counter","3ibTjTo","show2dCanvas","1RJvPBw","8360181NJskYH","显示二维图","stateObject","heatmapClick","1818356dLdJgb","info","action","length","3763785JrxHMX","log"];return(R=function(){return t})()}function S(t,n){const e=R();return(S=function(t,n){return e[t-=335]})(t,n)}E(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(365)+t(370)+");")()}catch(e){n=window}return n}(),e=n[t(346)]=n[t(346)]||{},r=[t(363),t(375),t(359),"error","exception",t(369),"trace"];for(let o=0;o<r[t(361)];o++){const n=E[t(348)][t(339)][t(344)](E),a=r[o],s=e[a]||n;n[t(338)]=E[t(344)](E),n[t(367)]=s.toString[t(344)](s),e[a]=n}}))();const J=c({__name:T(357),setup(t){const r=T,o={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[r(340)](i,r(352),{label:r(355)}),c.addBinding(i,r(377),{label:r(335),min:.1,max:30,step:.1}),c.addButton({title:"点击左侧蓝色画框"}),(t,e)=>{const a=r,s=m("TresCanvas");return l(),g(s,y(o,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=b(a(337),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b("TresDirectionalLight",{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=b("TresGridHelper",{args:[50,25]},null,-1)),(l(),g(x,null,{default:v((()=>[w(B,I(_(i)),null,16)])),_:1}))])),_:1},16)}}});function F(t){function n(t){const e=S;if("string"==typeof t)return function(t){}[e(348)](e(341))[e(364)](e(350));1!==(""+t/t)[e(361)]||t%20==0?function(){return!0}[e(348)](e(371)+e(376))[e(373)](e(360)):function(){return!1}[e(348)](e(371)+e(376))[e(364)](e(356)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
