import{a as t,m as n,o as e}from"./@tresjs.Q4_KYO2a1739444016646.js";import{_ as o,Y as r,a0 as s,b as c}from"./three.W6GmiHfn1739444016646.js";import{_ as i,U as a}from"./three-tile.92EmlFIr1739444016646.js";import{_ as u,s as p}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.oJouDg7K1739444016646.js";import{d as l,a3 as f,w as m,o as h,H as d,N as g,u as y,r as I,b as w,f as _,g as b,j,m as v,al as x,F as S,e as k,aj as T,ak as z}from"./@vue.NRI7TcgI1739444016646.js";import{P as F}from"./tweakpane.yDiyAAkA1739444016646.js";import{_ as A}from"./informationDiv.-DL_7bqP1739444016646.js";import"./@vueuse.6yH4xZkk1739444016646.js";import"./@fesjs.sJn9--0s1739444016646.js";import"./vue-router.AC2Dribr1739444016646.js";import"./lodash-es.pklfUAS51739444016646.js";import"./@qlin.yHhFDldE1739444016646.js";import"./pinia.yh3RXIKV1739444016646.js";import"./@floating-ui.BPbuo5Gx1739444016646.js";import"./@juggle.7yjBMqoW1739444016646.js";function E(){const t=["TresMesh","apply","927720QzTtwm","call","table","init","2678445WBRBFl","map","info","onBeforeCompile","exception","927569KFSRof","bind","function *\\( *\\)","vertexShader","scaleImg","position","1830230UiHfxy","TresPlaneGeometry","4541656IAlmsk","stateObject","warn","needsUpdate","debu","40.png","35YTkScU","5vAmOMp","scale","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","test","action","5303430cjvvZW","__proto__","constructor","length","chain","radraImgShow","color","MeshPhongMaterial","height","input","2zkIHYQ",'{}.constructor("return this")( )',"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","prototype","toString","143UpegSR","replace","408018LEFCAb","opacity","while (true) {}","matrix","gger","rotateX","Vector3","applyMatrix4"];return(E=function(){return t})()}const R=C;!function(t,n){const e=C,o=E();for(;;)try{if(706147===-parseInt(e(269))/1*(-parseInt(e(301))/2)+parseInt(e(264))/3+parseInt(e(260))/4*(-parseInt(e(284))/5)+-parseInt(e(309))/6*(-parseInt(e(283))/7)+parseInt(e(277))/8+parseInt(e(291))/9+parseInt(e(275))/10*(-parseInt(e(307))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(259)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=C,n=new RegExp(t(271)),e=new RegExp(t(287),"i"),o=Z(t(263));n[t(289)](o+t(295))&&e.test(o+t(300))?Z():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function("return (function() "+t(302)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(286),t(279),t(266),t(288),t(268),t(262),"trace"];for(let r=0;r<o[t(294)];r++){const n=M[t(293)][t(305)][t(270)](M),s=o[r],c=e[s]||n;n[t(292)]=M[t(270)](M),n[t(306)]=c[t(306)][t(270)](c),e[s]=n}}))();const D=[R(274)],P=[R(285),"material",R(255),"position-y"];function C(t,n){const e=E();return(C=function(t,n){return e[t-=253]})(t,n)}const Y=l({__name:R(296),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=R;let c,i;const a=n,p=new(o[e(298)])({displacementMap:new r,transparent:!0,side:s,opacity:a[e(310)],displacementScale:.5,displacementBias:0});p[e(267)]=t=>{const n=e;t[n(272)]="uniform sampler2D map;\n\t"+t[n(272)],t[n(272)]=t.vertexShader[n(308)]("#include <displacementmap_vertex>",n(304))};const l=a.map.geo2pos(new(o[e(256)])(105,34,0));l[e(257)](a.map[e(253)]);const I=u[e(273)](a[e(265)],{x:67,y:11},{x:140,y:57},a[e(299)]),w=[];for(let t=0;t<9;t++)w.push(e(303)+t+e(282));let _=0;const b=([c,i]=f((()=>t(w))),c=await c,i(),c);p[e(265)]=b[_],m((()=>[a[e(297)],a.opacity]),(([t,n])=>{p[e(310)]=n}));let j=null,v=!1;return v?(clearInterval(j),j=null,v=!1):(j=setInterval((()=>{const t=C;_=_<w[t(294)]-1?_+1:0,p[t(265)]=b[_],p[t(280)]=!0,console[t(286)](_)}),1e3),v=!0),(t,n)=>{const o=e;return h(),d("TresGroup",{position:[...y(l)]},[g(o(258),{scale:[y(I).x,y(I).y,t[o(299)]],material:y(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(299)]/5},n[0]||(n[0]=[g(o(276),{args:[1,1,529,420]},null,-1)]),8,P)],8,D)}}});function Z(t){function n(t){const e=C;if("string"==typeof t)return function(t){}.constructor(e(311))[e(259)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(293)](e(281)+e(254))[e(261)](e(290)):function(){return!1}.constructor(e(281)+e(254)).apply(e(278)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=Q;!function(t,n){const e=Q,o=N();for(;;)try{if(510457===parseInt(e(504))/1*(parseInt(e(493))/2)+parseInt(e(494))/3*(-parseInt(e(530))/4)+-parseInt(e(505))/5+parseInt(e(510))/6*(parseInt(e(477))/7)+-parseInt(e(522))/8+-parseInt(e(485))/9+-parseInt(e(472))/10*(-parseInt(e(471))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(520)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=Q,n=new RegExp(t(479)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=X(t(498));n[t(486)](o+"chain")&&e[t(486)](o+t(491))?X():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["image","value","console","apply","TresDirectionalLight","6505848TCCYYc","rotateX","return (function() ","copy","mapBoxShow3","GDSource","gger","tdLight","1444MVkEam","1716vPArTd","174460HaFejO","position","stateObject","mapbox.terrain-rgb","length","56EbWhIh","action","function *\\( *\\)","debu","height","warn","error","target","3536145dHtLIE","test","call","透明度","table","geo2pos","input","Vector3","334nctrYO","5307VwFuhv","mapbox.satellite","terrain-rgb","primitive","init","toString","while (true) {}","counter","localToWorld","MapBoxSource","1474GXnSRK","4607740kZzcQR","string","__proto__","map","constructor","231762wuEpVN","domElement","addBinding","bind","controlsEvents","plugin","object"];return(N=function(){return t})()}L(void 0,(function(){const t=Q;let n;try{n=Function(t(524)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(519)]=n[t(519)]||{},o=["log",t(482),"info",t(483),"exception",t(489),"trace"];for(let s=0;s<o.length;s++){const n=L[t(509)].prototype[t(513)](L),r=o[s],c=e[r]||n;n[t(507)]=L.bind(L),n.toString=c[t(499)][t(513)](c),e[r]=n}}))();const O=[G(516)];function Q(t,n){const e=N();return(Q=function(t,n){return e[t-=471]})(t,n)}const U="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",W=l({__name:G(526),setup(t){const e=G,r=I({height:200,opacity:1}),s=new F({title:"参数"});s[e(512)](r,e(481),{label:"高度",min:10,max:300,step:1}),s[e(512)](r,"opacity",{label:e(488),min:0,max:1,step:.1}),new(i[e(515)][e(503)])({token:U,dataType:e(517),style:e(495)});const l=new(i[e(515)][e(503)])({token:U,dataType:e(496),style:e(475),maxLevel:15}),f=new a({imgSource:[new(i[e(515)].GDSource)({style:"6"}),new(i[e(515)][e(527)])({style:"8"})],demSource:l,lon0:90,minLevel:2,maxLevel:20});f[e(523)](-Math.PI/2);const k=new(o[e(492)])(105,34,0),T=new c(110,0,1e4),z=f[e(502)](f[e(490)](k)),A=f[e(502)](f[e(490)](T)),E=w(),{camera:R,controls:B,scene:M,renderer:D}=n();return R.value&&R[e(518)].position[e(525)](A),m((()=>B[e(518)]),(t=>{const n=e;t&&(t[n(484)][n(525)](z),u[n(514)](t,R[n(518)],M[n(518)]))})),m((()=>E.value),(t=>{const n=e;t&&t[n(484)][n(473)].copy(z)})),p(R.value,D[e(518)][e(511)],f),(t,n)=>{const o=e;return h(),d(S,null,[g(o(521),{ref_key:o(529),ref:E,position:[0,2e3,1e3],intensity:1},null,512),g(o(497),{object:y(f)},null,8,O),(h(),_(x,null,{default:b((()=>[j(Y,v({map:y(f)},r),null,16,[o(508)])])),_:1}))],64)}}});function X(t){function n(t){const e=Q;if(typeof t===e(506))return function(t){}[e(509)](e(500)).apply(e(501));1!==(""+t/t)[e(476)]||t%20==0?function(){return!0}[e(509)]("debu"+e(528))[e(487)](e(478)):function(){return!1}.constructor(e(480)+e(528))[e(520)](e(474)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=tt;!function(t,n){const e=tt,o=K();for(;;)try{if(563639===parseInt(e(138))/1*(parseInt(e(125))/2)+parseInt(e(127))/3+-parseInt(e(137))/4+parseInt(e(155))/5+-parseInt(e(131))/6*(-parseInt(e(140))/7)+parseInt(e(161))/8+parseInt(e(135))/9*(-parseInt(e(141))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(152)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(){const t=["30CWzojF","string","log","toString","input","prototype","init","TresCanvas","bind","test",'{}.constructor("return this")( )',"apply","exception","length","1788035sXvKBJ","error","warn","action","console","#dbf0ff","3740408qBxwrm","__proto__","stateObject","constructor","gger","radraImg","counter","202ZjCzRF","debu","1168014HPNUlC","trace","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","30tdKNAj","call","return (function() ","TresAmbientLight","5217237kBFYkY","table","1248408zlulTe","10289usxQGe","chain","505589OnQXRN"];return(K=function(){return t})()}!function(){V(this,(function(){const t=tt,n=new RegExp(t(129)),e=new RegExp(t(130),"i"),o=nt(t(147));n[t(150)](o+t(139))&&e[t(150)](o+t(145))?nt():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(152)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();q(void 0,(function(){const t=tt;let n;try{n=Function(t(133)+t(151)+");")()}catch(r){n=window}const e=n[t(159)]=n[t(159)]||{},o=[t(143),t(157),"info",t(156),t(153),t(136),t(128)];for(let s=0;s<o[t(154)];s++){const n=q[t(164)][t(146)][t(149)](q),r=o[s],c=e[r]||n;n[t(162)]=q[t(149)](q),n[t(144)]=c[t(144)][t(149)](c),e[r]=n}}))();const J=l({__name:$(166),setup(t){const n=$,o=I({clearColor:n(160),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=I({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,s)=>{const c=n,i=k(c(148));return h(),d(S,null,[j(i,v(o,{"window-size":""}),{default:b((()=>[s[0]||(s[0]=g("TresPerspectiveCamera",{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),j(y(e),T(z(r)),null,16),s[1]||(s[1]=g(c(134),{intensity:1},null,-1)),j(W)])),_:1},16),j(A)],64)}}});function tt(t,n){const e=K();return(tt=function(t,n){return e[t-=125]})(t,n)}function nt(t){function n(t){const e=tt;if(typeof t===e(142))return function(t){}.constructor("while (true) {}")[e(152)](e(167));1!==(""+t/t)[e(154)]||t%20==0?function(){return!0}.constructor("debu"+e(165))[e(132)](e(158)):function(){return!1}[e(164)](e(126)+e(165)).apply(e(163)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
