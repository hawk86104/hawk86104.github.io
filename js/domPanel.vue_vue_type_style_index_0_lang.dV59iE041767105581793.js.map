{"version":3,"file":"domPanel.vue_vue_type_style_index_0_lang.dV59iE041767105581793.js","sources":["../../src/plugins/UIdemo/components/domPanel.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { watch, ref, nextTick, useAttrs, onMounted } from 'vue'\nimport { Html } from '@tresjs/cientos'\nimport { getUUID } from 'PLS/goView/lib/utils/global'\n\nconst props = withDefaults(\n    defineProps<{\n        center?: boolean\n        transform?: boolean\n        sprite?: boolean\n        distanceFactor?: number\n        domContent?: string\n        domID?: string\n        // canClick?: boolean\n        // clickFun?: () => void\n    }>(),\n    {\n        center: false, // æ— æ³•å®žæ—¶æ›´æ–° æ•…\n        transform: false, // æ— æ³•å®žæ—¶æ›´æ–° æ•…\n        sprite: false,\n        distanceFactor: 1,\n        domContent: `\n                <div class=\"boxStyle1 pos-relative left-20 top--30 text-white\" style=\"padding: 10px;border-left: 10px solid #336699;background-image: linear-gradient(132deg, #00336680, #00336610);\">\n                    è¿™æ˜¯æ­£æ–¹å½¢ ðŸ“¦\n                </div>\n            `,\n        // canClick: true,\n        // clickFun: () => {\n        //     console.log('domPanelç‚¹å‡»äº‹ä»¶', event)\n        // },\n    },\n)\nconst domID = props.domID ?? getUUID() // crypto.randomUUID()\nconst mustReBuildDom = ref(false)\nconst mustReBuildContent = ref(false)\nwatch(\n    () => [props.transform, props.center, props.distanceFactor, props.domContent],\n    () => {\n        if (!mustReBuildDom.value) {\n            mustReBuildDom.value = true\n            nextTick(() => {\n                mustReBuildDom.value = false\n                mustReBuildContent.value = true\n            })\n        }\n    },\n)\nconst updateVisible = () => {\n    let visible = true\n    if (attrs.visible === undefined) {\n        visible = true\n    } else {\n        if (attrs.visible === '' || attrs.visible) {\n            visible = true\n        } else {\n            visible = false\n        }\n    }\n    const dom = document.getElementById(domID)\n    if (dom) {\n        dom.style.display = visible ? '' : 'none'\n    }\n}\nconst attrs = useAttrs()\nwatch(\n    () => attrs.visible,\n    () => {\n        updateVisible()\n    },\n)\n\nconst setDomContent = () => {\n    const dom = document.getElementById(domID)\n    if (dom) {\n        dom.innerHTML = props.domContent\n    }\n    updateVisible()\n}\nwatch(\n    () => mustReBuildContent.value,\n    (mrbc) => {\n        if (mrbc) {\n            nextTick(() => {\n                setDomContent()\n                mustReBuildContent.value = false\n            })\n        }\n    },\n)\n\nonMounted(() => {\n    nextTick(() => {\n        setDomContent()\n    })\n})\n</script>\n<template>\n    <Html wrapperClass=\"tvtDomPanelClass\" v-if=\"!mustReBuildDom\" :transform=\"transform\" :sprite=\"sprite\"\n        :center=\"center\" :distanceFactor=\"transform ? distanceFactor : undefined\">\n    <!-- <div class=\"childWrapper\" v-html=\"domContent\" @click=\"(event) => clickFun()\" /> -->\n    <!-- <div class=\"childWrapper\" v-html=\"domContent\" /> -->\n    <div :id=\"domID\" class=\"childWrapper\" />\n\n    </Html>\n</template>\n\n<style lang=\"less\">\n.tvtDomPanelClass>div:first-of-type {\n    position: relative !important;\n}\n\n.tvtDomPanelClass {\n    user-select: none;\n    pointer-events: none !important;\n\n    #inner,\n    .childWrapper {\n        user-select: none;\n        pointer-events: none !important;\n        // div {\n        //     pointer-events: all !important;\n        // }\n    }\n}\n</style>\n"],"names":["Html","transform","sprite","center","distanceFactor"],"mappings":"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"}