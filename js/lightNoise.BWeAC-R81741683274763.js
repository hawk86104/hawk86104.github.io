import{aB as n,_ as t,a as e,ar as o,T as r,B as i,ab as s,s as a,c6 as c,c4 as l,c5 as u,ch as f,C as p}from"./three.3wvNjL8W1741683274763.js";import{e as v,m as d,o as g}from"./@tresjs.tqalU7S21741683274763.js";import{d as m,o as h,H as b,N as y,u as x,F as w,w as _,j as I,z as T,e as U,g as B,aj as S,ak as j}from"./@vue.NRI7TcgI1741683274763.js";import{_ as D}from"./@fesjs.k2eAvwyB1741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";import"./vue-router.orSV66Fm1741683274763.js";import"./lodash-es.pklfUAS51741683274763.js";import"./@qlin.yHhFDldE1741683274763.js";import"./pinia.ewBqqOMH1741683274763.js";import"./@floating-ui.BPbuo5Gx1741683274763.js";import"./@juggle.7yjBMqoW1741683274763.js";var z="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const N=E;function E(n,t){const e=P();return(E=function(n,t){return e[n-=482]})(n,t)}!function(n,t){const e=E,o=P();for(;;)try{if(831981===-parseInt(e(516))/1*(parseInt(e(507))/2)+parseInt(e(532))/3*(-parseInt(e(502))/4)+parseInt(e(524))/5*(parseInt(e(548))/6)+parseInt(e(533))/7+-parseInt(e(537))/8*(-parseInt(e(542))/9)+parseInt(e(499))/10+parseInt(e(493))/11*(parseInt(e(545))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(501)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){M(this,(function(){const n=E,t=new RegExp(n(517)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=L(n(510));t[n(519)](o+n(540))&&e[n(519)](o+"input")?L():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(501)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function P(){const n=["246wNUARs","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","\n      uniform vec4 luces[","instData","debu","#include <begin_vertex>","noiseTex","push","randFloatSpread","#include <fog_fragment>","MeshLambertMaterial","attributes","482141yKmROe","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","constructor","exception","log","Vector4","9165300prjcMS","globalBloom","apply","12ifjFNe","gger","material","toString","call","62JvcIjD","__proto__","MeshBasicMaterial","init","console","action","fragmentShader","noise","bind","25650dTJdcr","function *\\( *\\)","InstancedBufferGeometry","test","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","while (true) {}","lucesPlane","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","47165dBEKzY","table","prototype","randFloat","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","return (function() ","replace","1211493tYnVqY","7149499qUNKeZ","setY","globalUniforms","counter","8SaGxpX","vertexShader","MathUtils","chain","uniforms","4231377qIqyvi",'{}.constructor("return this")( )',"setAttribute","12KKArki","\n    ","TresMesh"];return(P=function(){return n})()}C(void 0,(function(){const n=E;let t;try{t=Function(n(530)+n(543)+");")()}catch(r){t=window}const e=t[n(511)]=t.console||{},o=[n(497),"warn","info","error",n(496),n(525),"trace"];for(let i=0;i<o.length;i++){const t=C[n(495)][n(526)][n(515)](C),r=o[i],s=e[r]||t;t[n(508)]=C.bind(C),t[n(505)]=s[n(505)][n(515)](s),e[r]=t}}))();const F=["geometry",N(504)],R=["material"],k=["rotateX"],A=100,Z=m({__name:N(522),props:{globalUniforms:{}},setup(i){const s=N,a=i,c=[],l=[],u=new n(1,36,18),f=(new(t[s(518)])).copy(u);f.instanceCount=A;const p=[];for(let n=0;n<A;n++){let n=e[s(489)](49),r=t[s(539)][s(489)](49),i=e[s(527)](.0625,.125),a=t[s(539)].randFloat(1,3);p[s(488)](n,r,i),l[s(488)](new o(n,r,a,t[s(539)][s(527)](1,2))),c[s(488)](new(t[s(498)])(n,r,i,a))}f[s(544)](s(484),new r(new Float32Array(p),3));const d=new(t[s(509)])({color:16720418,onBeforeCompile:n=>{const t=s;n.uniforms[t(487)]=a[t(535)][t(514)],n[t(538)]=("\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      "+n[t(538)]+"\n    ")[t(531)](t(486),t(482))}}),g={luces:{value:c}},m=new(t[s(491)])({color:2363940,onBeforeCompile:n=>{const t=s;n[t(541)].luces=g.luces,n[t(541)].globalBloom=a[t(535)][t(500)],n[t(541)][t(487)]=a.globalUniforms.noise,n[t(538)]=(t(529)+n[t(538)]+t(546))[t(531)](t(486),t(523)),n[t(513)]=(t(483)+A+t(520)+n[t(513)]+t(546)).replace(t(490),t(494)+A+t(528)).replace("#include <dithering_fragment>","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:_}=v();return _((({elapsed:n})=>{const t=s;for(let e=0;e<A;e++){const o=l[e];let r=(o.y+n+25)%50-25;c[e].y=r,c[e].w=(Math.sin(n*o.w*(e%3+1))*Math.cos(n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,f[t(492)][t(484)][t(534)](e,r)}f[t(492)].instData.needsUpdate=!0})),(n,t)=>{const e=s;return h(),b(w,null,[y(e(547),{geometry:x(f),material:x(d)},null,8,F),y(e(547),{material:x(m)},[y("TresPlaneGeometry",{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,k)],8,R)],64)}}});function L(n){function t(n){const e=E;if("string"==typeof n)return function(n){}[e(495)](e(521))[e(501)](e(536));1!==(""+n/n).length||n%20==0?function(){return!0}[e(495)]("debugger")[e(506)](e(512)):function(){return!1}[e(495)](e(485)+e(503))[e(501)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=$;!function(n,t){const e=$,o=H();for(;;)try{if(636664===parseInt(e(453))/1+parseInt(e(424))/2*(-parseInt(e(415))/3)+parseInt(e(423))/4*(parseInt(e(441))/5)+-parseInt(e(432))/6*(-parseInt(e(438))/7)+parseInt(e(431))/8*(parseInt(e(442))/9)+parseInt(e(446))/10*(parseInt(e(429))/11)+-parseInt(e(443))/12*(parseInt(e(456))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[$(457)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){O(this,(function(){const n=$,t=new RegExp(n(444)),e=new RegExp(n(451),"i"),o=q(n(440));t[n(463)](o+"chain")&&e.test(o+"input")?q():o("0")}))()}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();K(void 0,(function(){const n=$;let t;try{t=Function(n(419)+n(428)+");")()}catch(r){t=window}const e=t[n(426)]=t[n(426)]||{},o=[n(460),"warn","info",n(452),n(420),"table",n(466)];for(let i=0;i<o[n(455)];i++){const t=K[n(414)][n(422)][n(459)](K),r=o[i],s=e[r]||t;t[n(435)]=K[n(459)](K),t[n(430)]=s[n(430)][n(459)](s),e[r]=t}}))();const V=[G(450)],X=m({__name:"portal",props:{globalUniforms:{}},setup(n){const e=G,o=n,r=new(t[e(434)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(418)][t(417)]=o[t(425)][t(417)],n[t(418)][t(467)]=o[t(425)].globalBloom,n[t(458)]=("\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      "+z+t(439)+n[t(458)]+t(465)).replace(t(462),t(454))[t(464)](t(437),t(445))}});return r[e(433)]={USE_UV:""},(n,t)=>{const o=e;return h(),b(o(448),{material:x(r),position:[0,3.75,-12]},t[0]||(t[0]=[y("TresPlaneGeometry",{args:[5,5]},null,-1)]),8,V)}}});function $(n,t){const e=H();return($=function(n,t){return e[n-=414]})(n,t)}function q(n){function t(n){const e=$;if(typeof n===e(461))return function(n){}[e(414)](e(416))[e(457)](e(447));1!==(""+n/n).length||n%20==0?function(){return!0}[e(414)]("debu"+e(427))[e(436)](e(449)):function(){return!1}[e(414)](e(421)+e(427))[e(457)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function H(){const n=["222zoVYyT","defines","MeshBasicMaterial","__proto__","call","#include <dithering_fragment>","187418EgsKqh","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","init","1195BRwKpk","1288197LjAHOz","27067704hdpGaG","function *\\( *\\)","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","610KJwJfX","counter","TresMesh","action","material","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","668464yfwJRL","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","length","13oIOWUC","apply","fragmentShader","bind","log","string","vec4 diffuseColor = vec4( diffuse, opacity );","test","replace","\n    ","trace","globalBloom","constructor","15JylxGP","while (true) {}","time","uniforms","return (function() ","exception","debu","prototype","5188xzEzMG","249406eQzvtW","globalUniforms","console","gger",'{}.constructor("return this")( )',"201487FSZVgi","toString","24jazqvI"];return(H=function(){return n})()}const J=Y;!function(n,t){const e=Y,o=on();for(;;)try{if(578488===-parseInt(e(534))/1*(-parseInt(e(495))/2)+-parseInt(e(502))/3+-parseInt(e(499))/4+-parseInt(e(504))/5*(parseInt(e(518))/6)+parseInt(e(492))/7*(-parseInt(e(500))/8)+-parseInt(e(511))/9+parseInt(e(487))/10*(parseInt(e(490))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Y(n,t){const e=on();return(Y=function(n,t){return e[n-=486]})(n,t)}!function(){W(this,(function(){const n=Y,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=en(n(537));t[n(533)](o+n(542))&&e.test(o+n(514))?en():o("0")}))()}();const Q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Y(521)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Q(void 0,(function(){const n=Y,t=function(){const n=Y;let t;try{t=Function(n(546)+n(486)+");")()}catch(e){t=window}return t}(),e=t[n(494)]=t[n(494)]||{},o=["log",n(529),"info",n(505),"exception",n(517),n(522)];for(let r=0;r<o[n(523)];r++){const t=Q[n(509)].prototype[n(497)](Q),i=o[r],s=e[i]||t;t.__proto__=Q[n(497)](Q),t[n(527)]=s[n(527)][n(497)](s),e[i]=t}}))();const nn=[J(536),J(507)],tn=m({__name:J(543),props:{globalUniforms:{}},setup(n){const o=J,r=n,a=[],c=[];for(let i=0;i<2e4;i++){const n=t[o(544)][o(498)](35),r=t[o(544)][o(528)](-5,10),i=e.randFloatSpread(35),s=t[o(544)].randFloat(.25,.5);a[o(545)](n,r,i,n,r,i),c[o(545)](0,s,1,s)}const l=new i;l[o(516)](o(540),new s(a,3)),l[o(516)]("gEnds",new s(c,2));const u=new(t[o(515)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n[t(541)][t(493)]=r[t(513)][t(493)],n.uniforms.noiseTex=r[t(513)][t(508)],n[t(541)].globalBloom=r[t(513)][t(530)],n[t(535)]=(t(519)+n[t(535)]+t(520))[t(510)](t(491),t(524)),n.fragmentShader=(t(496)+z+t(512)+n[t(488)]+t(520))[t(510)](t(532),t(531))}});return(n,t)=>{const e=o;return h(),b(e(501),{material:x(u),geometry:x(l)},null,8,nn)}}});function en(n){function t(n){const e=Y;if(typeof n===e(525))return function(n){}[e(509)]("while (true) {}")[e(521)](e(506));1!==(""+n/n).length||n%20==0?function(){return!0}[e(509)](e(539)+e(489))[e(526)](e(538)):function(){return!1}[e(509)](e(539)+e(489))[e(521)](e(503)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function on(){const n=["2078532jhtTSD","\n      ","globalUniforms","input","LineBasicMaterial","setAttribute","table","1206402urmXMX","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","\n    ","apply","trace","length","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","string","call","toString","randFloat","warn","globalBloom","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","vec4 diffuseColor = vec4( diffuse, opacity );","test","515854ybbjwy","vertexShader","material","init","action","debu","position","uniforms","chain","drops","MathUtils","push","return (function() ",'{}.constructor("return this")( )',"13490XIBIlo","fragmentShader","gger","20372dkwpPJ","#include <begin_vertex>","7oYpjxt","time","console","2NpgLmL","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","bind","randFloatSpread","1670620BlyaMI","4091336KmrVYo","TresLineSegments","2017479uXlWNR","stateObject","15bPbHvC","error","counter","geometry","noise","constructor","replace"];return(on=function(){return n})()}const rn=un;!function(n,t){const e=un,o=cn();for(;;)try{if(288232===-parseInt(e(403))/1+parseInt(e(407))/2+parseInt(e(383))/3*(parseInt(e(392))/4)+-parseInt(e(377))/5*(-parseInt(e(398))/6)+parseInt(e(388))/7+-parseInt(e(354))/8+-parseInt(e(353))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const sn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[un(365)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){sn(this,(function(){const n=un,t=new RegExp(n(393)),e=new RegExp(n(347),"i"),o=fn(n(358));t[n(346)](o+n(402))&&e[n(346)](o+n(381))?fn():o("0")}))()}();const an=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[un(365)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function cn(){const n=["apply","toString","\n    ","constructor","trace","bind",'{}.constructor("return this")( )',"log","noise","background","Vector2","Scene","5CEXGMc","error","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","set","input","replace","43254hozEZB","near","renderTarget2","info","addPass","2071090yHITxV","ShaderMaterial","MeshBasicMaterial","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","44ZQjbdg","function *\\( *\\)","while (true) {}","globalBloom","render","WebGLRenderTarget","2459844OxbbKg","fragmentShader","color","\n      ","chain","289838DQiLEL","texture","console","counter","890598PSLbOB","uniforms","height","gger","\n      uniform float time;\n      ","length","Camera","target","call","fboRender","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","exception","fog","Mesh","width","5987628dUbBeZ","531032UnmBxf","time","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","warn","init","string","value","add","Fog","renderToScreen","setRenderTarget"];return(cn=function(){return n})()}an(void 0,(function(){const n=un,t=function(){const n=un;let t;try{t=Function("return (function() "+n(371)+");")()}catch(e){t=window}return t}(),e=t[n(405)]=t[n(405)]||{},o=[n(372),n(357),n(386),n(378),n(349),"table",n(369)];for(let r=0;r<o[n(341)];r++){const t=an[n(368)].prototype[n(370)](an),i=o[r],s=e[i]||t;t.__proto__=an.bind(an),t[n(366)]=s[n(366)][n(370)](s),e[i]=t}}))();const ln=m({__name:rn(345),setup(n){const e=rn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(t[e(397)])(512,512),i=new(t[e(376)]),s=new(t[e(342)]),g=new a(2,2),m=new(t[e(390)])({onBeforeCompile:n=>{const t=e;n[t(408)][t(355)]=o.time,n.fragmentShader=(t(340)+z+t(401)+n[t(399)]+t(367))[t(382)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(356))}});m.defines={USE_UV:""};const y=new(t[e(351)])(g,m);i[e(361)](y),o[e(373)][e(360)]=r[e(404)];const{camera:x,renderer:T,scene:U,sizes:B,controls:S}=d();_((()=>S[e(360)]),(n=>{const t=e;null==n||n[t(343)][t(380)](0,2,0),!U[t(360)][t(374)]&&(U.value[t(374)]=new p(6706534))}));const j=new c(T[e(360)]),D=new c(T[e(360)]),N=new l(U[e(360)],x[e(360)]),E=new u(new(t[e(375)])(B[e(352)][e(360)],B[e(409)][e(360)]),1.2,.5,0);j[e(363)]=!1,j[e(387)](N),j.addPass(E);const M=new f(new(t[e(389)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:j[e(385)][e(404)]}},vertexShader:e(391),fragmentShader:e(379),defines:{}}),"baseTexture");M.needsSwap=!0,D[e(387)](N),D[e(387)](M),U[e(360)].fog=new(t[e(362)])(6706534,1,25);const{onLoop:C}=v();return C((({elapsed:n})=>{var t,a;const c=e;o[c(355)][c(360)]=n,T[c(360)]&&(T.value[c(364)](r),T[c(360)].render(i,s),T.value[c(364)](null),o.globalBloom[c(360)]=1.2,U[c(360)][c(350)][c(400)][c(380)](0),U[c(360)][c(350)].near=15,null==(t=U[c(360)].background)||t[c(380)](0),j[c(396)](),o[c(395)][c(360)]=0,U[c(360)][c(350)][c(400)].set(6706534),U[c(360)][c(350)][c(384)]=10,null==(a=U.value[c(374)])||a[c(380)](6706534),D.render())})),(n,t)=>(h(),b(w,null,[I(Z,{globalUniforms:o}),I(X,{globalUniforms:o}),I(tn,{globalUniforms:o})],64))}});function un(n,t){const e=cn();return(un=function(n,t){return e[n-=340]})(n,t)}function fn(n){function t(n){const e=un;if(typeof n===e(359))return function(n){}[e(368)](e(394))[e(365)](e(406));1!==(""+n/n)[e(341)]||n%20==0?function(){return!0}[e(368)](e(348)+e(410))[e(344)]("action"):function(){return!1}[e(368)](e(348)+"gger")[e(365)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const pn={class:"text"};const vn=D({},[["render",function(n,t){return h(),b("div",pn,t[0]||(t[0]=[y("span",{class:"retro noselect"},[y("span",{style:{color:"#eae"}},"光"),T("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);function dn(){const n=["8992151NbhefZ","gger","11818216gbsBxI",'{}.constructor("return this")( )',"warn","length","1503596BWRDLc","chain","178jUUiZk","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","constructor","4537287hEbuRq","MathUtils","manual","action","apply","TresAmbientLight","TresDirectionalLight","return (function() ","console","log","call","395DcDlBX","bind","TresCanvas","trace","stateObject","table","debu","DEG2RAD","string","30396618myTfbZ","info","83868OfxMyu","function *\\( *\\)","2386PfHqOo"];return(dn=function(){return n})()}!function(n,t){const e=hn,o=dn();for(;;)try{if(789850===parseInt(e(524))/1*(parseInt(e(533))/2)+-parseInt(e(500))/3+-parseInt(e(531))/4+-parseInt(e(511))/5*(parseInt(e(522))/6)+-parseInt(e(525))/7+parseInt(e(527))/8+parseInt(e(520))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const gn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){gn(this,(function(){const n=hn,t=new RegExp(n(523)),e=new RegExp(n(497),"i"),o=yn("init");t.test(o+n(532))&&e.test(o+"input")?yn():o("0")}))()}();const mn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[hn(504)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function hn(n,t){const e=dn();return(hn=function(n,t){return e[n-=497]})(n,t)}mn(void 0,(function(){const n=hn;let t;try{t=Function(n(507)+n(528)+");")()}catch(r){t=window}const e=t[n(508)]=t.console||{},o=[n(509),n(529),n(521),"error","exception",n(516),n(514)];for(let i=0;i<o[n(530)];i++){const t=mn[n(499)].prototype.bind(mn),r=o[i],s=e[r]||t;t.__proto__=mn[n(512)](mn),t[n(498)]=s[n(498)][n(512)](s),e[r]=t}}))();const bn=m({__name:"lightNoise",setup(n){const e=hn,o={windowSize:!0,antialias:!0,renderMode:e(502)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[e(501)][e(518)],maxPolarAngle:90*t[e(501)][e(518)],makeDefault:!0};return(n,t)=>{const i=e,s=U(i(513));return h(),b(w,null,[I(vn),I(s,S(j(o)),{default:B((()=>[t[0]||(t[0]=y("TresPerspectiveCamera",{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),I(x(g),S(j(r)),null,16),t[1]||(t[1]=y(i(505),{intensity:.5},null,-1)),t[2]||(t[2]=y(i(506),{position:[0,3,-12],intensity:1},null,-1)),I(ln)])),_:1},16)],64)}}});function yn(n){function t(n){const e=hn;if(typeof n===e(519))return function(n){}[e(499)]("while (true) {}").apply(e(534));1!==(""+n/n).length||n%20==0?function(){return!0}[e(499)]("debu"+e(526))[e(510)](e(503)):function(){return!1}[e(499)](e(517)+"gger")[e(504)](e(515)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{bn as default};
