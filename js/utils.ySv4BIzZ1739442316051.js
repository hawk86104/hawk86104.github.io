import"./@fesjs.DgjXCZoG1739442316051.js";import{_ as t}from"./jszip.KhsC7S4k1739442316051.js";import{F as n}from"./file-saver.T5mzglRr1739442316051.js";import{_ as e,aH as s}from"./three.OosFxi571739442316051.js";const o=c;!function(t,n){const e=c,s=l();for(;;)try{if(656922===parseInt(e(545))/1*(-parseInt(e(505))/2)+-parseInt(e(584))/3*(parseInt(e(527))/4)+-parseInt(e(550))/5*(-parseInt(e(597))/6)+parseInt(e(575))/7*(-parseInt(e(523))/8)+-parseInt(e(509))/9*(parseInt(e(586))/10)+parseInt(e(593))/11+-parseInt(e(530))/12*(-parseInt(e(539))/13))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){r(this,(function(){const t=c,n=new RegExp(t(507)),e=new RegExp(t(570),"i"),s=h(t(576));n[t(529)](s+t(557))&&e[t(529)](s+t(577))?h():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[c(564)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function c(t,n){const e=l();return(c=function(t,n){return e[t-=496]})(t,n)}async function i(t){const n=o,s=new(e[n(496)]);return new Promise(((e,o)=>{const r=n;s[r(541)](t,(t=>e(JSON[r(511)](t))),void 0,(t=>o(t)))}))}async function u(t){const n=new s;return new Promise(((e,s)=>{const r=c;n[r(531)](r(561)),n.load(t,(n=>{const a=r,c=new FileReader;c[a(503)]=()=>{const n=a,s=function(t){const n=o,e=t[n(518)](".")[n(543)]()[n(569)]();return{jpg:n(592),jpeg:n(592),png:n(540),gif:n(513),bmp:"image/bmp",webp:n(548)}[e]||"application/octet-stream"}(t),r=c[n(538)][n(518)](",")[1];e(n(594)+s+n(534)+r)},c.onerror=t=>{s(t)},c[a(566)](n)}),void 0,(t=>s(t)))}))}a(void 0,(function(){const t=c;let n;try{n=Function(t(571)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(549)]=n[t(549)]||{},s=[t(510),t(583),t(537),t(519),t(595),t(573),t(579)];for(let r=0;r<s[t(558)];r++){const n=a[t(517)][t(504)][t(535)](a),o=s[r],c=e[o]||n;n[t(500)]=a[t(535)](a),n[t(546)]=c[t(546)][t(535)](c),e[o]=n}}))(),e[o(502)][o(499)]=!0;const p=n=>{const s=o,r=new(e[s(496)]);return r[s(531)](s(561)),new Promise(((e,s)=>{r.load(n,(async n=>{const s=c;e(await t[s(555)](n))}),void 0,(t=>s(t)))}))};function l(){const t=["bind","GIF","info","result","26607633rftjRc","image/png","load","string","pop","data:image/jpeg;base64,","137227JwJsCB","toString","toUpperCase","image/webp","console","425Hollns","data:image/JPEG;base64,","WEBP","Unknown","then","loadAsync","url:images/","chain","length","file","slice","blob","catch","push","apply","forEach","readAsDataURL","images","url:","toLowerCase","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","onerror","table","url","7714049noQMLk","init","input","data","trace","data:image/png;base64,","geometries","substring","warn","363CSItXI","async","250naJxju","folder","config.zip","startsWith","get","JPEG","image/jpeg","13290530JuBWbs","data:","exception","scene","40650bhHxhS","FileLoader","files","message","enabled","__proto__","data:image/","Cache","onloadend","prototype","18ZLiDcH","stringify","function *\\( *\\)","endsWith","224217obaVmI","log","parse","gger","image/gif","counter","data:image/PNG;base64,",".json","constructor","split","error","app.json","while (true) {}","base64","8EtstGe","type","uuid","url:geometries/","7076xsTPXO","data:image/gif;base64,","test","12EBnzYJ","setResponseType","非标准文件：不存在 app.json","action",";base64,"];return(l=function(){return t})()}const f=t=>{const n=o,e=t[n(582)](0,15),s=n(544),r=n(551),a=n(580),c=n(515),i=n(528);return s[n(589)](e)||r[n(589)](e)?n(591):a.startsWith(e)||c.startsWith(e)?"PNG":i[n(589)](e)||"data:image/GIF;base64,"[n(589)](e)?n(536):"data:image/webp;base64,".startsWith(e||"data:image/WEBP;base64,"[n(589)](e))?n(552):n(553)},g=e=>{const s=o,r=[];e[s(596)].geometries&&e[s(596)][s(581)][s(565)]((t=>{const n=s;"BufferGeometry"===t[n(524)]&&(r.push({uuid:t[n(525)],data:t.data}),t[n(578)]=n(526)+t[n(525)]+n(516))}));const a=[];e[s(596)][s(567)]&&e[s(596)][s(567)][s(565)]((t=>{const n=s;t[n(574)]&&(a[n(563)]({uuid:t[n(525)],url:t[n(574)]}),t.url[n(524)]?t[n(574)]=n(556)+t[n(525)]+"."+t[n(574)][n(524)]+n(516):t[n(574)]=n(556)+t[n(525)]+"."+f(t[n(574)]))}));const c=new t;if(r.length){const t=c[s(587)](s(581));r.forEach((n=>{const e=s;t[e(559)](n[e(525)]+e(516),JSON[e(506)](n.data))}))}if(a.length){const t=c[s(587)](s(567));a.forEach((n=>{const e=s;n[e(574)][e(524)]?t[e(559)](n.uuid+"."+n.url.type+e(516),JSON[e(506)](n[e(574)])):t.file(n[e(525)]+"."+f(n[e(574)]),n.url[e(518)](e(534))[e(543)](),{base64:!0})}))}const i=JSON[s(506)](e);return c[s(559)](s(520),i),c.generateAsync({type:s(561)})[s(554)]((t=>{const e=s;n.saveAs(t,e(588))}))},m=(t,n,e)=>{const s=o;t[s(581)]<=0&&t[s(567)]<=0&&e(n)},d=(n,e)=>{const s=o;let r=null;return t[s(555)](n)[s(554)]((t=>{const n=s;t[n(497)][n(520)]?t.files[n(520)][n(585)](n(542)).then((s=>{var a,c;const i=n;r=JSON[i(511)](s);const u=(t=>{var n,e;const s=o,r={geometries:0,images:0};return null==(n=t[s(596)][s(581)])||n.forEach((t=>{const n=s;t[n(578)][n(589)](n(568))&&r[n(581)]++})),null==(e=t[s(596)][s(567)])||e[s(565)]((t=>{const n=s;t[n(574)].startsWith("url:")&&r[n(567)]++})),r})(r);m(u,r,e),null==(a=r[i(596)][i(581)])||a[i(565)]((n=>{const s=i;n[s(578)].startsWith(s(568))&&t[s(497)][n[s(578)][s(560)](4)][s(585)](s(542))[s(554)]((t=>{const o=s;n[o(578)]=JSON[o(511)](t),u.geometries--,m(u,r,e)}))})),null==(c=r.scene[i(567)])||c[i(565)]((n=>{const s=i;if(n[s(574)][s(589)](s(568))){const o=n[s(574)].slice(4);o[s(508)](s(516))?t[s(497)][o][s(585)](s(542))[s(554)]((t=>{const o=s;n[o(574)]=JSON[o(511)](t),u[o(567)]--,m(u,r,e)})):t[s(497)][o][s(585)](s(522))[s(554)]((t=>{const a=s,c=o[a(518)]("."),i=c[c[a(558)]-1][a(547)]();n[a(574)]=a(501)+i+a(534)+t,u.images--,m(u,r,e)}))}}))})):console[n(519)](n(532))}),(t=>{const e=s;console[e(519)](n.name+": "+t[e(498)])})),r};function h(t){function n(t){const e=c;if(typeof t===e(542))return function(t){}[e(517)](e(521))[e(564)](e(514));1!==(""+t/t)[e(558)]||t%20==0?function(){return!0}[e(517)]("debu"+e(512)).call(e(533)):function(){return!1}.constructor("debu"+e(512))[e(564)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,u as b,g as e,f as g,d as i,i as l};
