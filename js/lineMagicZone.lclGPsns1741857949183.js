import{P as t}from"./tweakpane.yDiyAAkA1741857949183.js";import{e,h as n,a as o,o as r}from"./@tresjs.8SAr0PX_1741857949183.js";import{_ as a}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.2VEhsXTy1741857949183.js";import{_ as i}from"./three.Gi_-4zeu1741857949183.js";import{d as s,a6 as l,a3 as u,w as c,o as f,H as m,N as p,u as d,j as h,r as g,e as v,f as I,g as x,al as w,m as S}from"./@vue.NRI7TcgI1741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";import"./all.three.G9BYwICw1741857949183.js";import"./oimophysics.x0jH7fze1741857949183.js";const y=b;function b(t,e){const n=U();return(b=function(t,e){return n[t-=160]})(t,e)}!function(t,e){const n=b,o=U();for(;;)try{if(744879===-parseInt(n(174))/1*(parseInt(n(209))/2)+parseInt(n(179))/3*(-parseInt(n(168))/4)+-parseInt(n(221))/5*(-parseInt(n(213))/6)+parseInt(n(163))/7+-parseInt(n(167))/8+-parseInt(n(161))/9*(-parseInt(n(189))/10)+parseInt(n(212))/11*(-parseInt(n(215))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){_(this,(function(){const t=b,e=new RegExp(t(199)),n=new RegExp(t(165),"i"),o=W("init");e[t(211)](o+t(178))&&n[t(211)](o+"input")?W():o("0")}))()}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function U(){const t=["bind","baseMaterial","array","call","map","getPoints","rotateX","uTime","color","10dUBmPH","xRadius","BufferGeometry","error","#409eff","action","EllipseCurve","value","lineMagicZone","TresGroup","function *\\( *\\)","getAttribute","#90ee90","__proto__","apply","gger","setFromPoints","prototype","AdditiveBlending","debu","236240gSdltK","uScale","test","11tDmaFU","26946Yobalc","constructor","14716596Zekfzp","counter","console","return (function() ","scale","toString","920KtlIWq","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","push","speed","alphaMap","trace","position","table","while (true) {}","11472588IDOWof","stateObject","5049233tZrCZI","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","1071704rsjpHq","16876pSmsFT",'{}.constructor("return this")( )',"PointsMaterial","TresBufferGeometry","aIndex","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","5dasJRs","Color","baseColor","length","chain","90mnHXHG"];return(U=function(){return t})()}T(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(218)+t(169)+");")()}catch(n){e=window}return e}(),n=e[t(217)]=e[t(217)]||{},o=["log",t(164),t(166),t(192),"exception",t(228),t(226)];for(let r=0;r<o.length;r++){const e=T[t(214)][t(206)][t(180)](T),a=o[r],i=n[a]||e;e[t(202)]=T[t(180)](T),e[t(220)]=i[t(220)][t(180)](i),n[a]=e}}))();const N=[y(186)],P=[y(227),y(172),"aNormal"],j=y(173),C=y(222),D=s({__name:y(197),props:{height:{default:1.6},speed:{default:1},color:{default:y(201)}},async setup(t){const r=y;let a,s;const g=l(),v=t,I=([a,s]=u((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),a=await a,s(),a),x=new(i[r(195)])(0,0,8,8,0,2*Math.PI,!1,0),w=[];for(let e=0;e<5;e++)w[r(223)](...x[r(185)](719)),x[r(190)]+=.2,x.yRadius+=.2;const S=new Float32Array(w[r(184)](((t,e)=>e))),b=(new(i[r(191)]))[r(205)](w)[r(200)](r(227))[r(182)],_=new Float32Array(b[r(177)]);for(let e=0;e<b.length/3;e++){const t=3*e;b[t+1]+=.15*Math.floor(e/720);const n=e%720*3,o=3*(e%720+2880);_[t]=b[o]-b[n],_[t+1]=b[o+1]-b[n+1],_[t+2]=b[o+2]-b[n+2]}const T={uTime:{value:0},uScale:{value:g.scale?g[r(219)]:1},uHeight:{value:v.height},uPerlinTexture:{value:I[1]},baseColor:{value:new(i[r(175)])(v[r(188)])}},{onLoop:U}=e();return U((()=>{const t=r;T[t(187)][t(196)]+=.01*v[t(224)]})),c((()=>[v[r(188)],g.scale,v.height]),(([t,e,n])=>{const o=r;T[o(176)][o(196)].set(t),T[o(210)][o(196)]=e,T.uHeight[o(196)]=n})),(t,e)=>{const o=r;return f(),m(o(198),null,[p("TresPoints",{rotateX:-Math.PI/2,scale:.1},[p(o(171),{position:[d(b),3],aIndex:[d(S),1],aNormal:[d(_),3]},null,8,P),h(d(n),{baseMaterial:i[o(170)],vertexShader:j,fragmentShader:C,uniforms:T,map:d(I)[0],alphaMap:d(I)[0],transparent:"",depthWrite:!1,blending:i[o(207)],color:o(193),size:.1},null,8,[o(181),o(184),o(225),"blending"])],8,N)])}}});function W(t){function e(t){const n=b;if("string"==typeof t)return function(t){}[n(214)](n(160)).apply(n(216));1!==(""+t/t).length||t%20==0?function(){return!0}[n(214)](n(208)+"gger")[n(183)](n(194)):function(){return!1}[n(214)]("debu"+n(204))[n(203)](n(162)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const M=z;!function(t,e){const n=z,o=H();for(;;)try{if(668941===-parseInt(n(437))/1*(parseInt(n(400))/2)+-parseInt(n(432))/3+parseInt(n(430))/4*(-parseInt(n(431))/5)+parseInt(n(416))/6*(-parseInt(n(403))/7)+-parseInt(n(428))/8*(parseInt(n(397))/9)+parseInt(n(422))/10*(-parseInt(n(415))/11)+parseInt(n(402))/12*(parseInt(n(409))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[z(394)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=z,e=new RegExp(t(401)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=B("init");e[t(417)](o+t(405))&&n[t(417)](o+t(420))?B():o("0")}))()}();const R=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[z(394)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function z(t,e){const n=H();return(z=function(t,e){return n[t-=393]})(t,e)}function H(){const t=["trace","chain","counter","color","action","63162541hOZOnc","scale","table",'{}.constructor("return this")( )',"lineMagicZone","addBinding","22LgJhTR","186cBQVUf","test","TresCanvas","constructor","input","return (function() ","2045990rKDsHE","length","#ff0000","toString","warn","string","8yBrsyd","call","36lPreER","490855AszBaV","3790461yTuJXI","prototype","TresAmbientLight","debu","console","3UuIkJY","info","log","__proto__","error","apply","exception","while (true) {}","2738259LHfcbd","gger","bind","405764lgXbDP","function *\\( *\\)","12vMHnwv","162715pSBjRG"];return(H=function(){return t})()}R(void 0,(function(){const t=z;let e;try{e=Function(t(421)+t(412)+");")()}catch(r){e=window}const n=e.console=e[t(436)]||{},o=[t(439),t(426),t(438),t(393),t(395),t(411),t(404)];for(let a=0;a<o.length;a++){const e=R[t(419)][t(433)][t(399)](R),r=o[a],i=n[r]||e;e[t(440)]=R[t(399)](R),e[t(425)]=i[t(425)][t(399)](i),n[r]=e}}))();const A=s({__name:M(413),setup(e){const n=M,o=g({reflectivity:.1,showGridHelper:!0,scale:1}),i=g({color:n(424),scale:1.8,height:2.4,speed:1}),s=new t;return s[n(414)](i,n(407),{label:"颜色"}),s[n(414)](i,n(410),{label:"大小",min:.1,max:3,step:.1}),s[n(414)](i,"height",{label:"高度",min:.1,max:3,step:.1}),s[n(414)](i,"speed",{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=v(s(418));return f(),I(l,{clearColor:"#201919","window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:x((()=>[e[0]||(e[0]=p("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),h(d(r),{enableDamping:""}),e[1]||(e[1]=p(s(434),{intensity:2},null,-1)),(f(),I(w,null,{default:x((()=>[h(D,S({position:[3,0,0]},i),null,16)])),_:1})),(f(),I(w,null,{default:x((()=>[h(D,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(f(),I(w,null,{default:x((()=>[h(a,S({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function B(t){function e(t){const n=z;if(typeof t===n(427))return function(t){}.constructor(n(396))[n(394)](n(406));1!==(""+t/t)[n(423)]||t%20==0?function(){return!0}.constructor(n(435)+n(398))[n(429)](n(408)):function(){return!1}[n(419)]("debu"+n(398))[n(394)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{A as default};
