import"./@fesjs.C0vFiD6Z1758524188831.js";import{m as e,e as a,k as s,b as t,a as r,t as i}from"./@tresjs.BL1sBIDK1758524188831.js";import"./Resource.DxdCIUkg1758524188831.js";/* empty css                                                                             */import{_ as l}from"./randomLoading.vue_vue_type_script_setup_true_lang.DeQBI-cj1758524188831.js";import"./three-mesh-ui.module.CE9rtod61758524188831.js";import"./global.B9GyzW9k1758524188831.js";/* empty css                                                              */import{a9 as o,a3 as n,Y as u}from"./three.CC50Wz7a1758524188831.js";import"./vanilla.esm.5.5.0.UWCjMdOF1758524188831.js";import{u as p}from"./index.DwMcWPwK1758524188831.js";import{M as m,a as v}from"./@pmndrs.BlnlvNwu1758524188831.js";import{d as c,v as d,s as g,t as j,G as _,o as h,u as f,aa as y,e as M,f as b,I as k,j as T,a5 as x,h as w,a7 as L,a8 as z,F as C}from"./@vue.pEDXJ_3Z1758524188831.js";import"./vue-router.DFx_OtVs1758524188831.js";import"./lodash-es.C7pWAXPe1758524188831.js";import"./pinia.DVrvLNCY1758524188831.js";import"./@qlin.q6OWdsQV1758524188831.js";import"./@babel.BPq7uOAK1758524188831.js";import"./@floating-ui.BFjFSAYt1758524188831.js";import"./@juggle.CcBCnTIR1758524188831.js";import"./postprocessing.DYlQqnRh1758524188831.js";import"./@vueuse.C-O_6is-1758524188831.js";import"./starLoading.1FEktDMq1758524188831.js";import"./utils.PgMvYI3o1758524188831.js";import"./cssLoaders.1NZwOheM1758524188831.js";import"./bubbleLoading.CCP9fGkz1758524188831.js";import"./yangyangLoading.cPq95vdS1758524188831.js";import"./color.D9QGz8GJ1758524188831.js";import"./@amap.CGUF9xH41758524188831.js";import"./color-string.BDbH6wEP1758524188831.js";import"./color-name.BQ5IbGbl1758524188831.js";import"./simple-swizzle.Bkblhu7y1758524188831.js";import"./is-arrayish.CLsR9Wfx1758524188831.js";import"./color-convert.P-wMblBM1758524188831.js";import"./lodash.iw1WOawC1758524188831.js";import"./object-hash.COWhg4aZ1758524188831.js";import"./jszip.BzP0QdiD1758524188831.js";const I=["side"],P=1024,R=c({__name:"stickerTransmisionMaterial",setup(s,{expose:t}){const r=d(),{extend:i,scene:l,renderer:u,camera:c}=e(),y=d();i({MeshTransmissionMaterial:m});const M=new v,{onBeforeLoop:b}=a(),k=p({width:P,height:P,isLoop:!1}),T=p({width:P,height:P,isLoop:!1});let x,w,L,z;return g((async()=>{await j(),r.value.buffer=T.value.texture,y.value=function(e,a){let s;return e.traverse((e=>{e.isMesh&&e.material&&e.material.uuid===a&&(s=e)})),s}(l.value,r.value.uuid)})),b((({elapsed:e})=>{r.value.time=e,r.value.buffer===T.value.texture&&y.value&&(L=u.value.toneMapping,x=l.value.background,w=r.value.envMapIntensity,z=y.value.material.side,y.value.material=M,u.value.setRenderTarget(k.value),u.value.render(l.value,c.value),y.value.material=r.value,y.value.material.thickness=0,y.value.material.buffer=k.value.texture,y.value.material.side=o,y.value.material.envMapIntensity=0,u.value.setRenderTarget(T.value),u.value.render(l.value,c.value),y.value.material.buffer=T.value.texture,y.value.material=r.value,y.value.material.thickness=0,y.value.material.side=z,y.value.material.envMapIntensity=w,l.value.background=x,u.value.setRenderTarget(null),u.value.toneMapping=L)})),t({root:r,constructor:m}),(e,a)=>(h(),_("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:r,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:f(n)},null,8,I))}}),B=["geometry","rotation"],A=c({__name:"stickerModel",async setup(e){let a,t;const{nodes:r}=([a,t]=y((()=>s("./plugins/eCommerce/model/pack.glb"))),a=await a,t(),a);return(e,a)=>(h(),M(x,null,{default:b((()=>[k("TresMesh",{geometry:f(r).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[T(R)],8,B)])),_:1}))}}),G=["map","side"],Y=c({__name:"stickerLogo",async setup(e){let a,s;const r=([a,s]=y((()=>t(["logo.png"]))),a=await a,s(),a);return(e,a)=>(h(),M(x,null,{default:b((()=>[k("TresMesh",null,[a[0]||(a[0]=k("TresPlaneGeometry",null,null,-1)),k("TresMeshPhysicalMaterial",{map:f(r),transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:f(n)},null,8,G)])])),_:1}))}}),q=c({__name:"sticker",setup(e){const a={clearColor:"#333333",windowSize:!0,toneMapping:u,toneMappingExposure:.8,shadows:!0};return(e,s)=>{const t=w("TresCanvas");return h(),_(C,null,[T(f(l)),T(t,L(z(a)),{default:b((()=>[s[0]||(s[0]=k("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1)),T(f(r),{enableDamping:""}),s[1]||(s[1]=k("TresAmbientLight",{intensity:2},null,-1)),(h(),M(x,null,{default:b((()=>[T(A)])),_:1})),(h(),M(x,null,{default:b((()=>[T(Y)])),_:1})),(h(),M(x,null,{default:b((()=>[T(f(i),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/",background:!1},null,8,["path"])])),_:1}))])),_:1},16)],64)}}});export{q as default};
