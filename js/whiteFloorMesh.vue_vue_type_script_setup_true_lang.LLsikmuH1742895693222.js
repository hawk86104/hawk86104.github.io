import{_ as t,bR as n,ae as o,K as r,C as e}from"./three.DqHgeVY11742895693222.js";import{a}from"./@tresjs.xCsT8yve1742895693222.js";import{d as s,b as c,a3 as i,w as u,o as f,H as l,N as p,aj as h,ak as d}from"./@vue.C4dqouNn1742895693222.js";!function(t,n){const o=w,r=m();for(;;)try{if(236083===-parseInt(o(240))/1+-parseInt(o(224))/2+parseInt(o(233))/3*(parseInt(o(245))/4)+parseInt(o(225))/5*(-parseInt(o(212))/6)+-parseInt(o(234))/7*(parseInt(o(228))/8)+-parseInt(o(244))/9+parseInt(o(208))/10*(parseInt(o(232))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[w(220)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(){const t=["action","ShaderChunk","24xFddvU","prototype","\n      \t","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","lights_pars_begin","shadowmap_pars_fragment","warn","apply","exception","beginnormal_vertex","\n\t ","542054SxCTES","461570wZBglO","constructor","chain","72SDqnpS","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\n       varying vec2 vUv;\n\t\t\t \t","gger","33cHyTKA","960117NbYyuL","301406iOcrTh","packing","string","call","defaultnormal_vertex","bind","233604bEsZSm","while (true) {}","return (function() ","test","1126134UJXXcX","4TNDaXa","info","trace","log","init","stateObject","function *\\( *\\)","debu","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","common","__proto__","length","\n          ","\n       void main() {\n\t\t\t\t\t","table","4341930bEdTRh","console"];return(m=function(){return t})()}!function(){g(this,(function(){const t=w,n=new RegExp(t(251)),o=new RegExp(t(216),"i"),r=y(t(249));n.test(r+t(227))&&o[t(243)](r+"input")?y():r("0")}))()}();const v=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[w(220)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function w(t,n){const o=m();return w=function(t,n){return o[t-=201]},w(t,n)}v(void 0,(function(){const t=w;let n;try{n=Function(t(242)+'{}.constructor("return this")( ));')()}catch(e){n=window}const o=n.console=n[t(209)]||{},r=[t(248),t(219),t(246),"error",t(221),t(207),t(247)];for(let a=0;a<r[t(204)];a++){const n=v[t(226)][t(213)][t(239)](v),e=r[a],s=o[e]||n;n[t(203)]=v.bind(v),n.toString=s.toString[t(239)](s),o[e]=n}}))();const _=()=>{const o=w;return o(230)+t[o(211)][o(202)]+o(214)+n.bsdfs+o(214)+t[o(211)].shadowmap_pars_vertex+o(206)+t[o(211)][o(222)]+o(205)+t[o(211)][o(238)]+o(205)+t[o(211)].begin_vertex+o(205)+t[o(211)].project_vertex+o(205)+t[o(211)].worldpos_vertex+"\n          "+t[o(211)].shadowmap_vertex+o(229)},b=()=>{const o=w;return o(201)+t[o(211)][o(202)]+o(223)+t[o(211)][o(235)]+o(223)+n.bsdfs+o(223)+t[o(211)][o(217)]+o(223)+t[o(211)][o(218)]+o(223)+n.shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function y(t){function n(t){const o=w;if(typeof t===o(236))return function(t){}[o(226)](o(241))[o(220)](o(215));1!==(""+t/t)[o(204)]||t%20==0?function(){return!0}[o(226)]("debu"+o(231))[o(237)](o(210)):function(){return!1}[o(226)](o(252)+o(231)).apply(o(250)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=E;!function(t,n){const o=E,r=j();for(;;)try{if(472083===parseInt(o(153))/1+parseInt(o(143))/2*(parseInt(o(136))/3)+parseInt(o(159))/4+-parseInt(o(142))/5*(-parseInt(o(160))/6)+parseInt(o(149))/7+parseInt(o(140))/8+-parseInt(o(170))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=E,n=new RegExp(t(134)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=k(t(179));n[t(167)](r+t(161))&&o[t(167)](r+"input")?k():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[E(162)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(176)+t(132)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(139)]||{},r=[t(152),t(175),t(166),t(130),t(133),t(146),"trace"];for(let e=0;e<r.length;e++){const n=S[t(144)].prototype[t(147)](S),a=r[e],s=o[a]||n;n.__proto__=S[t(147)](S),n.toString=s[t(129)][t(147)](s),o[a]=n}}))();const C=[x(158)],T=[x(168)];function E(t,n){const o=j();return E=function(t,n){return o[t-=127]},E(t,n)}function j(){const t=["args","value","25949511qTvlyE","TresPlaneGeometry","edge","color","TresMesh","warn","return (function() ","debu","while (true) {}","init","gger","#999","TresShaderMaterial","toString","error","counter",'{}.constructor("return this")( )',"exception","function *\\( *\\)","stateObject","6AEmBbz","length","DoubleSide","console","6575784LzyWVI","uniforms","773380IPCuDa","571706pRCGiM","constructor","whiteFloorMesh","table","bind","action","6361320LofEYr","wrapS","Color","log","633598jfNEFa","UniformsLib","#990","uShadowColor","shadowColor","rotation-x","439892dTyVNC","12qLtkwM","chain","apply","wrapT","fEdge","merge","info","test"];return(j=function(){return t})()}const M=s({__name:x(145),props:{size:{default:[20,20]},color:{default:x(155)},shadowColor:{default:x(127)},edge:{default:.35}},async setup(n){const s=x;let g,m;const v=n,w=c(),{map:y}=([g,m]=i((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);y[s(150)]=y[s(163)]=o;const I={uniforms:r[s(165)]([t[s(154)].lights,{uTexture:{type:"t",value:y},uColor:{value:new(t[s(151)])(v[s(173)])},uShadowColor:{value:new e(v[s(157)])},fEdge:{type:"f",value:v[s(172)]}}]),side:t[s(138)],vertexShader:_(),fragmentShader:b(),lights:!0,transparent:!0};return u((()=>v[s(172)]),(t=>{const n=s;I[n(141)][n(164)][n(169)]=t})),u((()=>v[s(173)]),(n=>{const o=s;I[o(141)].uColor[o(169)]=new(t[o(151)])(v.color)})),u((()=>v[s(157)]),(t=>{const n=s;I[n(141)][n(156)][n(169)]=new e(v[n(157)])})),(t,n)=>{const o=s;return f(),l(o(174),{ref_key:"tmRef",ref:w,"rotation-x":-Math.PI/2},[p(o(171),{args:v.size},null,8,T),p(o(128),h(d(I)),null,16)],8,C)}}});function k(t){function n(t){const o=E;if("string"==typeof t)return function(t){}[o(144)](o(178)).apply(o(131));1!==(""+t/t)[o(137)]||t%20==0?function(){return!0}[o(144)](o(177)+o(180)).call(o(148)):function(){return!1}[o(144)](o(177)+o(180)).apply(o(135)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{M as _};
