import{a1 as x,l as y,a7 as $,bt as A,b6 as I,bs as z,o as f,c as B,Y as r,a0 as j,x as S,E as g,a as s,L as e,H as D,G as T,ag as C,a9 as G,c1 as F,bu as O,aA as R,aD as E,aE as L,a2 as M,aq as v,aa as h,ab as b,r as V,b3 as Y,a4 as q,ac as K}from"./vendor.LnRgd2r_1716546362088.js";/* empty css                                                                                 */import{_ as N}from"./randomLoading.vue_vue_type_script_setup_true_lang.7Sg4x1e-1716546362088.js";import{_ as W}from"./component.vue_vue_type_script_setup_true_lang.o5LuKhXc1716546362088.js";import{_ as u}from"./vanilla.esm.5.5.0.O8bdx4vH1716546362088.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang.KCLGBed71716546362088.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang.kCwqzeUB1716546362088.js";import{_ as H}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.bNz8Y6hM1716546362088.js";import"./starLoading.RbllAhly1716546362088.js";import"./cssLoaders.2OpS2Lc91716546362088.js";import"./bubbleLoading.XLycolCl1716546362088.js";import"./object_hash.5or4GQsK1716546362088.js";import"./_commonjsHelpers.5-cIlDoe1716546362088.js";import"./_commonjs-dynamic-modules.h-SxKiO41716546362088.js";import"./index.ZUZpIQLj1716546362088.js";import"./MeshTransmissionMaterial.rqAcTLiN1716546362088.js";import"./MeshDiscardMaterial.zS7_tRSY1716546362088.js";import"./shaderMaterial.M8gW489f1716546362088.js";import"./Pass.yyszOw6G1716546362088.js";const J=x({__name:"index",props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(_){const t=_,p=y(null),d=y(null),a=y(null);return $(()=>{if(!d.value||!a.value)return;d.value.matrixWorld.identity();const o=new A().setFromObject(a.value,t.precise),m=new I,n=new z,i=o.max.x-o.min.x,l=o.max.y-o.min.y,c=o.max.z-o.min.z;o.getCenter(m),o.getBoundingSphere(n);const w=t.top?l/2:t.bottom?-l/2:0,k=t.left?-i/2:t.right?i/2:0,P=t.front?c/2:t.back?-c/2:0;d.value.position.set(t.disable||t.disableX?0:-m.x+k,t.disable||t.disableY?0:-m.y+w,t.disable||t.disableZ?0:-m.z+P)}),(o,m)=>(f(),B("TresGroup",{ref_key:"gref",ref:p},[r("TresGroup",{ref_key:"outer",ref:d},[r("TresGroup",{ref_key:"inner",ref:a},[j(o.$slots,"default")],512)],512)],512))}}),Q=["rotation"],U=["rotation-x"],ee=x({__name:"env",setup(_){const t=y(null),{onLoop:p}=G();p(({delta:a})=>{t.value&&(t.value.rotation.z+=a)});const d=[2,-2,2,-4,2,-5,2,-9];return(a,o)=>(f(),S(C,null,{default:g(()=>[s(e(W),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"},{default:g(()=>[s(e(u),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),s(e(u),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),r("TresGroup",{rotation:[Math.PI/2,1,0]},[(f(),B(T,null,D(d,(m,n)=>s(e(u),{key:n,intensity:1,rotation:[Math.PI/4,0,0],position:[m,4,n*4],scale:[4,1,1]},null,8,["rotation","position"])),64))],8,Q),s(e(u),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),s(e(u),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),s(e(u),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),r("TresGroup",{ref_key:"refgroup",ref:t,"rotation-x":Math.PI/2},[s(e(u),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,U)]),_:1},8,["files"])]),_:1}))}}),te={position:[0,-.5,0],rotation:[0,-.75,0]},ae=["geometry","material"],oe=["geometry","material"],ne=["geometry","material"],se=["geometry","material"],ie=["geometry","material"],re=["geometry","material"],le=["geometry","material"],ce=["geometry"],de=["geometry","material"],me=["geometry","material"],pe=x({__name:"models",async setup(_){let t,p;const d=new F({transparent:!0,opacity:1,color:"black",roughness:0,side:O,blending:R,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:a,materials:o}=([t,p]=E(()=>L("./plugins/eCommerce/model/glass-transformed.glb",{draco:!0,decoderPath:"./draco/"})),t=await t,p(),t),m={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},n=M({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),i=new v;i.hidden=!0,i.addBinding(n,"color",{label:"颜色"}),i.addBinding(n,"roughness",{label:"roughness",min:0,max:1,step:.01}),i.addBinding(n,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),i.addBinding(n,"attenuationColor",{label:"attenuationColor"}),i.addBinding(n,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),i.addBinding(n,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),i.addBinding(n,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),i.addBinding(n,"distortion",{label:"distortion",min:0,max:10,step:.01}),i.addBinding(n,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),i.addBinding(n,"backside",{label:"backside"}),i.addBinding(n,"thickness",{label:"thickness",min:0,max:4,step:.01}),i.addBinding(n,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const l=M({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),c=new v({title:"参数"});return c.hidden=!0,c.addBinding(l,"color",{label:"颜色"}),c.addBinding(l,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),c.addBinding(l,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),c.addBinding(l,"far",{label:"可视距离",min:0,max:30,step:1}),c.addBinding(l,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),c.addBinding(l,"intensity",{label:"强度",min:0,max:1,step:.01}),c.addBinding(l,"causticsOnly",{label:"只显示投射"}),c.addBinding(l,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(w,k)=>(f(),B("TresGroup",te,[r("TresMesh",{geometry:e(a).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:e(o).FruitCakeSlice_u1_v1},null,8,ae),r("TresMesh",{geometry:e(a).straw_1.geometry,castShadow:"",material:e(o).straw_2},null,8,oe),r("TresMesh",{geometry:e(a).straw_2.geometry,castShadow:"",material:e(o).straw_1},null,8,ne),r("TresMesh",{geometry:e(a).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:e(o).straw_2},null,8,se),r("TresMesh",{geometry:e(a).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:e(o).straw_1},null,8,ie),s(e(J),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:g(()=>[r("TresMesh",{geometry:e(a).flowers.geometry,castShadow:"",material:e(o)["draifrawer_u1_v1.001"],scale:1.2},null,8,re)]),_:1}),r("TresMesh",{castShadow:"",geometry:e(a).fork.geometry,material:e(o).ForkAndKnivesSet001_1K,"material-color":"#999"},null,8,le),s(e(Z),h(b(l)),{default:g(()=>[r("TresMesh",{castShadow:"",receiveShadow:"",geometry:e(a).glass.geometry},[s(e(X),h(b(n)),null,16)],8,ce)]),_:1},16),r("TresMesh",{geometry:e(a).glass_back.geometry,material:e(d),scale:[.95,1,.95]},null,8,de),r("TresMesh",{geometry:e(a).glass_inner.geometry,material:e(d)},null,8,me),s(e(H),h(b(m)),null,16)]))}}),ue=r("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1),ze=x({__name:"arrangement",setup(_){const t={clearColor:"#fffffff",windowSize:!0,toneMapping:Y,toneMappingExposure:.8,shadows:!0,outputColorSpace:q};return(p,d)=>{const a=V("TresCanvas");return f(),B(T,null,[s(e(N)),s(a,h(b(t)),{default:g(()=>[ue,s(e(K),{enableDamping:""}),(f(),S(C,null,{default:g(()=>[s(pe)]),_:1})),s(ee)]),_:1},16)],64)}}});export{ze as default};
