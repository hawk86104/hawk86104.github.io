import{a as t,B as n,s as e,c0 as r,C as o,k as s,a0 as c}from"./three.3b9CEYeV1731055558423.js";import{w as a}from"./@fesjs.yotB665w1731055558423.js";import{b as i}from"./@tresjs.KsuCtVXf1731055558423.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.7zTu_jjo1731055558423.js";!function(t,n){const e=g,r=h();for(;;)try{if(193260===-parseInt(e(332))/1*(parseInt(e(358))/2)+parseInt(e(368))/3+parseInt(e(387))/4*(-parseInt(e(382))/5)+parseInt(e(391))/6*(-parseInt(e(367))/7)+-parseInt(e(338))/8*(parseInt(e(339))/9)+-parseInt(e(397))/10+parseInt(e(405))/11*(parseInt(e(403))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(370)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=g,n=new RegExp(t(407)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=j("init");n[t(379)](r+t(384))&&e[t(379)](r+t(356))?j():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(370)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=h();return(g=function(t,n){return e[t-=331]})(t,n)}function h(){const t=["depthTest","#fff","test","negate",'{}.constructor("return this")( )',"262165cUcApL","boundingBox","chain","add","uniforms","4ILzHVT","copy","exception","random","20214WObJPK","center","features","counter","Vector3","setFromObject","2166770OBrFmW","attributes","trace","console","getSize","toString","12JTnjSc","sub","6505818QcJBxO","string","function *\\( *\\)","push","while (true) {}","min","clone","171MOoLRs","config","position","log","setY","value","392PRtvGE","10323kJYRqU","constructor","computeBoundsTree","getY","children","call","max","action","deleteAttribute","depthWrite","disposeBoundsTree","bind","then","prototype","setAttribute","table","get","input","getCenter","904ZImmEc","material","geometry","info","expandByObject","computeBoundingBox","error","return (function() ","length","329vPDKkG","488310abPwgu","raycast","apply","Box3","side","stateObject","forEach","getX","gger"];return(h=function(){return t})()}m(void 0,(function(){const t=g;let n;try{n=Function(t(365)+t(381)+");")()}catch(o){n=window}const e=n[t(400)]=n[t(400)]||{},r=[t(335),"warn",t(361),t(364),t(389),t(354),t(399)];for(let s=0;s<r[t(366)];s++){const n=m.constructor[t(352)][t(350)](m),o=r[s],c=e[o]||n;n.__proto__=m[t(350)](m),n.toString=c[t(402)][t(350)](c),e[o]=n}}))();const d=(n,e=!1)=>{const r=g;n[r(363)]();const{max:o,min:s}=n[r(383)];n[r(347)]("uv");const c=o.x-s.x,a=o.y-s.y,i=[];for(let t=0;t<n[r(398)][r(334)].count;t++)e?(i[r(408)]((n.attributes[r(334)][r(375)](t)-(s.x+o.x)/2)/c),i[r(408)]((n[r(398)][r(334)][r(342)](t)-(s.y+o.y)/2)/a)):(i.push((n.attributes[r(334)].getX(t)-s.x)/c),i[r(408)]((n[r(398)][r(334)][r(342)](t)-s.y)/a));const u=new Float32Array(i);n[r(353)]("uv",new t(u,2))},w=(t,n)=>new Promise(((e,r)=>{const o=g;a(t,{},{method:o(355),mergeRequest:!0})[o(351)]((t=>{const r=o;n&&e(t[n]),e(t[r(393)])})).catch((t=>{console[o(364)](t),r(t)}))})),y=t=>{const n=g,e=(new(THREE[n(371)]))[n(396)](t),r=new(THREE[n(395)]);e[n(357)](r),t[n(343)][n(374)]((t=>{const e=n;t[e(334)][e(404)](r)})),t[n(334)][n(388)](r[n(380)]())},b=()=>{const t=g;n[t(352)].computeBoundsTree=u,n[t(352)][t(349)]=f,e[t(352)][t(369)]=p},x=async t=>{const n=g,e=await i(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),a=t[n(360)][n(331)]();d(a),a[n(341)]();const u=new r(a,{color:new o(n(378)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(359)].transparent=!0,u[n(359)][n(348)]=!0,u[n(359)][n(377)]=!0,u[n(359)][n(372)]=c,u[n(359)][n(386)][n(333)].value.w=20,u[n(359)][n(386)].reflectivity[n(337)]=.46,u};function I(t){const n=g,e=[];for(let o=0;o<t[n(366)];o++)e[n(408)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(366)];o++)r[n(385)](e[o]);r.divideScalar(e[n(366)]);for(let o=0;o<e.length;o++)e[o][n(404)](r);return{points:e,centerPoint:r}}function j(t){function n(t){const e=g;if(typeof t===e(406))return function(t){}[e(340)](e(409))[e(370)](e(394));1!==(""+t/t)[e(366)]||t%20==0?function(){return!0}[e(340)]("debu"+e(376))[e(344)](e(346)):function(){return!1}[e(340)]("debu"+e(376)).apply(e(373)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,I as g,b as i,w as l,d as r,x as s};
