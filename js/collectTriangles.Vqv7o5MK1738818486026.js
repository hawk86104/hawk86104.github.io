import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.ZGxFoQtw1738818486026.js";import{_ as s}from"./index.Co8OS_aL1738818486026.js";import{_ as i,V as c,B as u,cy as a}from"./three.WgQSjl1J1738818486026.js";import{P as l}from"./tweakpane.yDiyAAkA1738818486026.js";import{I as p,C as f,N as m,c as d,d as h,a as g}from"./three-mesh-bvh.9NycxKmG1738818486026.js";import{d as y,a3 as w,b,a2 as j,o as v,H as I,N as _,u as x,F as M,r as k,e as T,j as z,g as A,m as F,f as R,al as S}from"./@vue.NRI7TcgI1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";import"./index.K3onq1RN1738818486026.js";import"./@fesjs.LLTzkpAZ1738818486026.js";import"./vue-router.CrYQ3hrU1738818486026.js";import"./lodash-es.pklfUAS51738818486026.js";import"./@qlin.yHhFDldE1738818486026.js";import"./pinia.GNZjCSUA1738818486026.js";import"./@floating-ui.BPbuo5Gx1738818486026.js";import"./@juggle.7yjBMqoW1738818486026.js";import"./chalk.8eJqaBDu1738818486026.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1738818486026.js";import"./@iconify.dt4P0LGS1738818486026.js";import"./dompurify.rQUea5mq1738818486026.js";import"./utils.jX1OObd21738818486026.js";import"./default.vue_vue_type_script_setup_true_lang.WgsS1AZE1738818486026.js";import"./three-mesh-ui.module.O01RjkZg1738818486026.js";!function(t,n){const e=X,r=D();for(;;)try{if(223489===-parseInt(e(350))/1+parseInt(e(336))/2*(parseInt(e(355))/3)+parseInt(e(358))/4+parseInt(e(337))/5*(-parseInt(e(328))/6)+-parseInt(e(367))/7*(-parseInt(e(340))/8)+parseInt(e(329))/9+-parseInt(e(375))/10*(parseInt(e(331))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(366)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=X,n=new RegExp(t(334)),e=new RegExp(t(349),"i"),r=Y(t(346));n.test(r+t(344))&&e[t(369)](r+t(378))?Y():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(366)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function X(t,n){const e=D();return(X=function(t,n){return e[t-=328]})(t,n)}E(void 0,(function(){const t=X;let n;try{n=Function("return (function() "+t(345)+");")()}catch(o){n=window}const e=n[t(368)]=n.console||{},r=[t(347),t(343),t(372),t(330),t(359),t(339),t(370)];for(let s=0;s<r[t(348)];s++){const n=E[t(332)][t(341)][t(353)](E),o=r[s],i=e[o]||n;n[t(352)]=E[t(353)](E),n[t(373)]=i[t(373)][t(353)](i),e[o]=n}}))();function D(){const t=["bind","enabled","21kMataI","debu","stateObject","1526332DYtIJI","exception","value","call","innerHeight","pointerdown","button","innerWidth","apply","591780jmDJMm","console","test","trace","firstHitOnly","info","toString","intersectObject","10CkGlPU","clientY","Raycaster","input","564GDyQvT","1880424EgTUDW","error","4442537SRFkcE","constructor","pointerType","function *\\( *\\)","addEventListener","115678paDRFX","22670bxDwXg","clientX","table","8biXkdy","prototype","action","warn","chain",'{}.constructor("return this")( )',"init","log","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","26380oeSIMc","gger","__proto__"];return(D=function(){return t})()}function Y(t){function n(t){const e=X;if("string"==typeof t)return function(t){}[e(332)]("while (true) {}")[e(366)]("counter");1!==(""+t/t)[e(348)]||t%20==0?function(){return!0}[e(332)]("debu"+e(351))[e(361)](e(342)):function(){return!1}[e(332)](e(356)+e(351)).apply(e(357)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function Z(t,n){const e=$();return(Z=function(t,n){return e[t-=346]})(t,n)}const B=Z;!function(t,n){const e=Z,r=$();for(;;)try{if(446929===-parseInt(e(377))/1*(-parseInt(e(403))/2)+-parseInt(e(433))/3*(parseInt(e(421))/4)+-parseInt(e(365))/5*(parseInt(e(357))/6)+parseInt(e(347))/7*(parseInt(e(367))/8)+-parseInt(e(381))/9+-parseInt(e(382))/10+-parseInt(e(429))/11*(-parseInt(e(409))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=Z,n=new RegExp(t(351)),e=new RegExp(t(350),"i"),r=L("init");n[t(388)](r+t(415))&&e[t(388)](r+t(416))?L():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(372)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();q(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function("return (function() "+t(432)+");")()}catch(e){n=window}return n}(),e=n[t(418)]=n[t(418)]||{},r=[t(394),"warn",t(434),"error","exception","table",t(427)];for(let o=0;o<r.length;o++){const n=q[t(419)].prototype[t(412)](q),s=r[o],i=e[s]||n;n[t(420)]=q[t(412)](q),n[t(361)]=i[t(361)][t(412)](i),e[s]=n}}))();const O=["geometry",B(402)],W=[B(380)],H=y({__name:"model",props:{controls:{}},async setup(r){const o=B;let s,y;const k=r;(()=>{const t=Z;u.prototype[t(376)]=d,i[t(396)][t(435)][t(405)]=h,i[t(428)][t(435)][t(404)]=g})();const T=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),z=new(i[o(370)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),A=new Uint8Array(3*T[o(379)][o(378)][o(364)]);A.fill(255);const F=new(i[o(399)])(A,3,!0);F[o(346)](i[o(391)]),T[o(366)](o(383),F);const R=b(null),S=b(null),C=b(!1),E=b(-1),D=b(.2),Y=new c,{camera:U,raycaster:q}=t(),H=15/255,L=78/255,$=85/255;let G=null;j((()=>{const t=o;R[t(407)]&&(console[t(394)](t(417),R.value),R[t(407)][t(380)][t(376)](),G=T[t(355)],((t,n,e,r,o,s)=>{const c=X;window[c(335)]("pointermove",(e=>{const r=c;t.x=e[r(338)]/window[r(365)]*2-1,t.y=-e[r(376)]/window[r(362)]*2+1,n[r(360)]=!0})),window.addEventListener(c(363),(u=>{const a=c;t.x=u[a(338)]/window.innerWidth*2-1,t.y=-u[a(376)]/window[a(362)]*2+1,r[a(360)]=u[a(364)];const l=new(i[a(377)]);l.setFromCamera(t,e[a(360)]),l[a(371)]=!0;const p=l[a(374)](o[a(360)],!0);n[a(360)]=!0,s[a(354)]=0===p[a(348)]}),!0),window[c(335)]("pointerup",(t=>{const e=c;r.value=-1,"touch"===t[e(333)]&&(n[e(360)]=!1)}),!0)})(Y,C,U,E,R,k[t(369)][t(414)]))}));const{onLoop:P}=n();P((()=>{const t=o,n=T[t(389)];if(S[t(407)])if(k[t(369)][t(414)].active||!C[t(407)])S[t(407)].visible=!1;else{S[t(407)][t(374)].setScalar(D[t(407)]),q[t(407)].setFromCamera(Y,U[t(407)]),q.value[t(426)]=!0;const e=q[t(407)][t(431)](R.value,!0);if(e.length){S[t(407)][t(378)][t(348)](e[0][t(393)]),k[t(369)][t(414)][t(375)]=!1,S.value.visible=!0;const r=new(i[t(368)]);r[t(348)](R[t(407)][t(424)])[t(354)]();const o=new(i[t(386)]);o[t(392)].copy(S[t(407)].position)[t(358)](r),o[t(356)]=100*D[t(407)];const s=[],c=new(i[t(398)]);if(null==G||G[t(387)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(425)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(410)](c))return p;return f}return r?p:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(390)](o)){const t=3*e;s[i(359)](t,t+1,t+2)}return!1}}),0===E[t(407)]||2===E[t(407)]){let e=1,r=1,o=1;0===E.value&&(e=H,r=L,o=$);for(let i=0,c=s.length;i<c;i++){const c=n[t(406)](s[i]);F[t(362)](c,e),F.setY(c,r),F[t(411)](c,o)}F.needsUpdate=!0}}else S[t(407)][t(385)]=!1,k[t(369)][t(414)][t(375)]=!0}}));const J=(new l)[o(397)]({title:o(353),label:o(423)}),N=new(i[o(396)]);return J.on(o(401),(()=>{const t=o,n=[],e=[];for(let o=0;o<F[t(364)];o++)F.getX(o)===H&&F[t(384)](o)===L&&F[t(430)](o)===$&&(n.push(T.attributes.position[t(406)](o),T.attributes[t(378)].getY(o),T[t(379)].position[t(430)](o)),e[t(359)](T[t(379)].normal.getX(o),T[t(379)].normal[t(384)](o),T[t(379)].normal[t(430)](o)));const r=new Float32Array(n);N[t(366)](t(378),new(i[t(399)])(r,3)),N[t(366)](t(395),new(i[t(399)])(r,3))})),(t,n)=>{const e=o;return v(),I(M,null,[_(e(352),{ref_key:"targetMesh",ref:R,geometry:x(T),scale:.005,material:x(z)},null,8,O),_("TresMesh",{ref_key:e(422),ref:S,visible:!1},n[0]||(n[0]=[_(e(436),{args:[1,40,40]},null,-1),_("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),_(e(352),{geometry:x(N),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[_(e(400),{color:e(371),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,W)],64)}}});function L(t){function n(t){const e=Z;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(372)](e(363));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(360))[e(349)](e(373)):function(){return!1}[e(419)](e(408)+"gger")[e(372)](e(413)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function $(){const t=["containsPoint","setZ","bind","stateObject","instance","chain","input","targetMesh.value init","console","constructor","__proto__","4BkUQfs","brushMesh","生成模型","matrixWorld","set","firstHitOnly","trace","Mesh","1111wxMmPa","getZ","intersectObject",'{}.constructor("return this")( )',"1055001GaYNrl","info","prototype","TresSphereGeometry","setUsage","1043FoHDnZ","copy","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","TresMesh","点击按钮","invert","boundsTree","radius","6cnmcYZ","applyMatrix4","push","gger","toString","setX","counter","count","531825qvvdFU","setAttribute","19672jpQaXR","Matrix4","controls","MeshStandardMaterial","#023249","apply","action","scale","enabled","computeBoundsTree","2918YYFwoA","position","attributes","geometry","4482738xulbwi","7834480wvCkcl","color","getY","visible","Sphere","shapecast","test","index","intersectsSphere","DynamicDrawUsage","center","point","log","normal","BufferGeometry","addButton","Vector3","BufferAttribute","TresMeshStandardMaterial","click","material","316dINmjy","raycast","disposeBoundsTree","getX","value","debu","161472sRZqey"];return($=function(){return t})()}function G(t,n){const e=J();return(G=function(t,n){return e[t-=305]})(t,n)}const P=G;function J(){const t=["controlsRef","init","return (function() ","counter","#999999","2442885zVbkMA","pos-x.jpg","neg-z.jpg","neg-x.jpg","constructor","function *\\( *\\)","length","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","397419UytEcs","1278393cVkezA","collectTriangles","138844jYuoML","81qHqqdz","table","warn","input","console","controls","test","call","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","TresCanvas","neg-y.jpg","apply","while (true) {}","1547608XWDFfq","99596KdQYhr",'{}.constructor("return this")( )',"debu","trace","TresAmbientLight","222SFWWyS","2243580vXLUxK","string","value","bind","gger","__proto__","prototype"];return(J=function(){return t})()}!function(t,n){const e=G,r=J();for(;;)try{if(325051===-parseInt(e(345))/1+-parseInt(e(348))/2+-parseInt(e(346))/3+-parseInt(e(325))/4+-parseInt(e(337))/5+-parseInt(e(324))/6*(-parseInt(e(319))/7)+-parseInt(e(318))/8*(-parseInt(e(349))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(316)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){N(this,(function(){const t=G,n=new RegExp(t(342)),e=new RegExp(t(312),"i"),r=K(t(333));n[t(309)](r+"chain")&&e[t(309)](r+t(306))?K():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(316)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=G;let n;try{n=Function(t(334)+t(320)+");")()}catch(o){n=window}const e=n[t(307)]=n[t(307)]||{},r=[t(313),t(305),"info","error","exception",t(350),t(322)];for(let s=0;s<r[t(343)];s++){const n=Q.constructor[t(331)].bind(Q),o=r[s],i=e[o]||n;n[t(330)]=Q[t(328)](Q),n[t(311)]=i[t(311)].bind(i),e[o]=n}}))();const V=y({__name:P(347),setup(t){const n=P,e=k({clearColor:n(336),antialias:!0}),i=k({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=T(a(314));return v(),I(M,null,[z(x(s)),z(l,F(e,{"window-size":""}),{default:A((()=>[u[0]||(u[0]=_("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),z(x(r),F({ref_key:a(332),ref:c},i),null,16),u[1]||(u[1]=_(a(323),{intensity:1},null,-1)),(v(),R(S,null,{default:A((()=>[z(H,{controls:c[a(327)]},null,8,[a(308)])])),_:1})),(v(),R(S,null,{default:A((()=>[z(x(o),{background:!1,files:[a(338),a(340),"pos-y.jpg",a(315),"pos-z.jpg",a(339)],path:a(344)})])),_:1}))])),_:1},16)],64)}}});function K(t){function n(t){const e=G;if(typeof t===e(326))return function(t){}[e(341)](e(317))[e(316)](e(335));1!==(""+t/t)[e(343)]||t%20==0?function(){return!0}.constructor("debu"+e(329))[e(310)]("action"):function(){return!1}[e(341)](e(321)+e(329))[e(316)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
