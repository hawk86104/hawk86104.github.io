import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.b4o8R7En1743039954535.js";import{_ as e,b as s,V as n,au as i,c as r,a8 as a,cF as o,ad as c,a$ as h,C as l,t as u,a7 as p}from"./three.XuMWWlrU1743039954535.js";import{m,e as f}from"./@tresjs.05J-Im0t1743039954535.js";import{d,b as w,a2 as g,o as S,f as y,g as v,j as x}from"./@vue.C4dqouNn1743039954535.js";import"./three-custom-shader-material.CRbjOKjC1743039954535.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";const P=N;!function(t,e){const s=N,n=ut();for(;;)try{if(632349===parseInt(s(578))/1*(parseInt(s(400))/2)+-parseInt(s(372))/3*(parseInt(s(504))/4)+parseInt(s(549))/5*(parseInt(s(566))/6)+-parseInt(s(665))/7*(-parseInt(s(609))/8)+-parseInt(s(698))/9+-parseInt(s(305))/10+-parseInt(s(652))/11*(-parseInt(s(233))/12))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();class I{static[P(653)]=new I(P(653));static Sequence=new I(P(451));constructor(t){this[P(275)]=t}}class F{constructor(){this.init()}[P(476)](){const t=P;this[t(227)]=I[t(653)],this[t(427)]=1,this[t(421)]=0,this[t(428)]=new(e[t(390)]),this[t(686)]=new(e[t(623)]),this[t(672)]=new s,this[t(321)]=new s,this.normal=new s,this.rotation=0,this[t(581)]=0,this[t(414)]=new n,this[t(455)]=new(e[t(704)]),this[t(550)]=1,this[t(289)]=new(e[t(557)]),this[t(452)]=new(e[t(704)]),this[t(445)]=1}setAll(t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d){const w=P;this.progressType=t,this.lifetime=e,this[w(421)]=s,this[w(428)][w(442)](n),this[w(686)][w(442)](i),this[w(672)][w(442)](r),this[w(321)].copy(a),this[w(398)][w(442)](o),this[w(506)]=c,this.rotationalSpeed=h,this[w(414)]=l,this[w(455)].copy(u),this.alpha=p,this[w(289)].copy(m),this[w(452)][w(442)](f),this[w(445)]=d}[P(494)](t){const e=P;t[e(551)](this.progressType,this[e(427)],this.age,this.sequenceElement,this[e(686)],this[e(672)],this.acceleration,this[e(398)],this[e(506)],this[e(581)],this[e(414)],this[e(455)],this[e(550)],this[e(289)],this.initialColor,this[e(445)])}[P(442)](t){const e=P;this[e(551)](t[e(227)],t[e(427)],t.age,t.sequenceElement,t[e(686)],t[e(672)],t[e(321)],t.normal,t[e(506)],t[e(581)],t[e(414)],t[e(455)],t[e(550)],t[e(289)],t[e(452)],t[e(445)])}}class A{constructor(){const t=P;this[t(259)]=0,this[t(527)]=0,this[t(575)]=[]}[P(476)](t){this.setParticleCount(t)}[P(423)](t){const e=P;this[e(259)]!=t&&(this.dispose(),this.allocate(t)),this[e(259)]=t}setActiveParticleCount(t){this.activeParticleCount=t}[P(286)](t){const e=P;this[e(575)]=[],this[e(259)]=t;for(let s=0;s<t;s++)this[e(575)][s]=new F}[P(677)](){}[P(474)](){return this[P(259)]}[P(449)](){}[P(308)](t,e){const s=P;if(t>=this.particleCount)throw new Error(s(344));if(e>=this[s(259)])throw new Error(s(466));const n=this[s(575)][t],i=this[s(575)][e];n[s(494)](i)}setState(t,e){const s=P;if(t>=this[s(259)])throw new Error(s(341));return this[s(575)][t][s(442)](e)}[P(232)](t){const e=P;if(t>=this[e(259)])throw new Error(e(513));return this[e(575)][t]}[P(410)]=function(){const t=P,n=new s;return function(s=new(e[t(300)]),i=null){const r=t,a=s.min,o=s[r(611)];for(let t=0;t<this[r(527)];t++){const e=this.getState(t);let s=e[r(686)];i&&(n.copy(s),n.applyMatrix4(i),s=n);const c=Math.max(e[r(414)].x,e[r(414)].y),h=s.x-c,l=s.x+c,u=s.y-c,p=s.y+c,m=s.z-c,f=s.z+c;(0==t||s.x<a.x)&&(a.x=h),(0==t||s.x>o.x)&&(o.x=l),(0==t||s.y<a.y)&&(a.y=u),(0==t||s.y>o.y)&&(o.y=p),(0==t||s.z<a.z)&&(a.z=m),(0==t||s.z>o.z)&&(o.z=f)}return s}}();[P(539)]=function(){const t=P,s=new(e[t(623)]),n=new(e[t(623)]),i=new(e[t(623)]);return function(r=new(e[t(533)]),a=null){const o=t;let c=0;for(let t=0;t<this[o(527)];t++){const e=this[o(232)](t);let r=e[o(686)];a&&(i[o(442)](r),i[o(229)](a),r=i);const h=Math[o(611)](e[o(414)].x,e[o(414)].y);if(0==t)s.copy(r),c=h;else{n.copy(r)[o(632)](s);const t=n[o(614)]()+h;if(t>c){const e=(t-c)/2;n[o(678)]()[o(277)](e),s.add(n),c+=e}}}return r[o(309)].copy(s),r[o(266)]=c,r}}()}class E{constructor(t,e,s=0){const n=P;this[n(567)]=t,this[n(614)]=e,this.id=s}}class b{constructor(){const t=P;this.sequences={},this[t(416)]=[]}addSequence(t,e,s){const n=P;if(this.hasID(s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const i=new E(t,e,s);return this[n(269)][s]=i,this[n(416)][n(430)](s),i}[P(529)](t){if(!this[P(642)](t))throw new Error("ParticleSequenceGroup::getSequence -> Invalid ID.");return this.sequences[t]}[P(261)](){return this[P(416)]}[P(642)](t){return!!this[P(269)][t]}}class z{constructor(){}[P(637)](t){const e=P;t[e(452)][e(271)](1,1,1),t[e(289)][e(271)](1,1),t[e(445)]=1,t[e(227)]=I[e(653)],t.lifetime=0,t[e(421)]=0,t.sequenceElement[e(271)](0,0,0,0),t.position.set(0,0,0),t[e(672)].set(0,0,0),t[e(321)][e(271)](0,0,0),t.normal[e(271)](0,0,1),t.rotation=0,t.rotationalSpeed=0,t[e(414)].copy(t[e(289)]),t.color.copy(t[e(452)]),t[e(550)]=1}}class T extends z{constructor(){super()}[P(637)](t){super[P(637)](t)}}class R{constructor(){}[P(250)](){}}class O extends R{constructor(){const t=P;super(),this[t(477)]=new(e[t(623)]),this[t(331)]=new(e[t(623)]),this[t(673)]=new(e[t(623)]),this.stateVelocity=new(e[t(623)])}[P(250)](t,e){const s=P;return super[s(250)](t,e),this[s(673)][s(442)](t[s(321)]),this[s(331)][s(442)](this[s(673)]),this[s(331)][s(277)](e),t[s(672)][s(522)](this[s(331)]),this[s(556)][s(442)](t.velocity),this[s(477)][s(442)](this[s(556)]),this[s(477)][s(277)](e),t[s(686)].add(this.timeScaledVelocity),t[s(421)]=t[s(421)]+e,t.rotation=t[s(506)]+e*t.rotationalSpeed,!0}}class q{static clamp(t,e,s){const n=P;return Math.min(Math[n(611)](t,e),s)}static[P(267)](){return performance[P(230)]()/1e3}}class C{constructor(){this.components=[]}[P(293)](t){const e=P;this[e(386)][e(430)](t)}[P(396)](t,e){const s=P;for(const n of this[s(386)])n.update(t,e)}[P(282)](t){const e=P;if(t>=this.components[e(614)])throw new Error(e(472));return this[e(386)][t]}}class V{static[P(438)]=new V(P(438));static Running=new V(P(326));static[P(702)]=new V(P(702));static[P(447)]=new V(P(447));constructor(t){this[P(275)]=t}}class M{constructor(t,s){const n=P;this[n(340)]=t,this.owner[n(561)]=!1,this.visible=!0,this.particleSystemRenderer=s,this[n(318)]=!1,this[n(535)]=0,this[n(527)]=0,this[n(700)]=!0,this.emitterInitialized=!1,this[n(241)]=null,this.componentContainer=new C,this[n(312)]=[],this[n(334)]=[],this[n(575)]=null,this[n(362)]=V[n(438)],this[n(460)]=new b,this.onUpdateCallback=null,this[n(664)]=!0,this[n(485)]=new(e[n(300)]),this[n(332)]=new(e[n(533)])}[P(476)](t){const e=P;if(this[e(318)])throw new Error("ParticleSystem::init() -> trying to intialize more than once.");this[e(535)]=t,this[e(262)]?(this[e(262)].setOwner(this[e(340)]),this[e(262)][e(476)](this[e(535)],this.simulateInWorldSpace),this.particleSystemRenderer.setSimulateInWorldSpace(this.simulateInWorldSpace),this.particleStates=this[e(262)][e(482)]()):(this.particleStates=new A,this[e(575)].init(this.maximumActiveParticles)),this[e(619)](new T),this.addParticleStateOperator(new O),this.initialized=!0}[P(497)](){return this[P(561)]}[P(644)](t){return this.visible=t}[P(640)](t){this[P(276)]=t}[P(396)](t,e){const s=P;if(this[s(362)]==V[s(326)]){if(this.owner.updateWorldMatrix(!0),t=null==t||null==t?q[s(267)]():t,e=null==e||null==e?t-this[s(435)]:e,this[s(641)]&&this[s(362)]==V[s(326)]){const t=this.particleEmitter.update(e);t>0&&this[s(351)](t),this[s(626)](e),this[s(276)]&&this[s(276)](this.activeParticleCount),this[s(327)]()}this[s(369)][s(396)](t,e),this[s(435)]=t}}[P(576)](t,e){const s=P;if(this.getVisible()&&this[s(262)]){const n=t.autoClear;t[s(469)]=!1,this[s(340)][s(561)]=!0,this.owner.matrixWorldNeedsUpdate=!0,this[s(262)][s(576)](this[s(340)],t,e),this.owner[s(561)]=!1,t[s(469)]=n}}[P(567)](){const t=P;this[t(362)]!=V.NotStarted&&this[t(362)]!=V[t(702)]||(this[t(362)]=V[t(326)],this[t(491)]=q[t(267)](),this.lastUpdateTime=this[t(491)])}[P(315)](){const t=P;this[t(362)]==V.Running&&(this[t(362)]=V.Paused)}[P(590)](){}[P(281)](){return this.systemState}setEmitter(t){const e=P;return this[e(241)]=t,this[e(241)].maximumActiveParticles=this.maximumActiveParticles,this[e(641)]=!0,this[e(241)]}[P(293)](t){this[P(369)].addComponent(t)}getComponent(t){const e=P;return this[e(369)][e(282)](t)}[P(619)](t){const e=P;return this[e(312)][e(430)](t),t}[P(499)](){return this.particleStateInitializers.length}[P(696)](t){if(t>=this[P(312)].length)throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this.particleStateInitializers[t]}[P(388)](t){const e=P;return this[e(334)][e(430)](t),t}[P(699)](){const t=P;return this.particleStateOperators[t(614)]}[P(260)](t){const e=P;if(t>=this[e(334)].length)throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(334)][t]}[P(299)](){return this.maximumActiveParticles}[P(594)](){return this[P(527)]}[P(552)](t){const e=P;if(t>=this[e(527)])throw new Error(e(604));return this[e(575)][e(232)](t)}[P(661)](){return this[P(575)]}[P(257)](){return this[P(262)]}[P(264)](){return this[P(700)]}[P(236)](t){const e=P;this[e(700)]=t,this[e(262)]&&this[e(262)].setSimulateInWorldSpace(this[e(700)])}[P(676)](t){this[P(664)]=t}addParticleSequence(t,e,s=0){this.particleSequences.addSequence(t,e,s)}[P(375)](){return this[P(460)]}getEmitter(){return this[P(241)]}[P(327)]=function(){const t=P,s=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){s(this,(function(){const t=N,e=new RegExp(t(538)),s=new RegExp(t(525),"i"),n=ft("init");e.test(n+"chain")&&s.test(n+"input")?ft():n("0")}))()}();const n=new(e[t(323)]);return function(){const e=t;let s=null;this[e(664)]&&(s=n,s[e(442)](this[e(340)][e(306)])[e(245)]()),this[e(262)].calculatingBoundingSphereFromBox()?(this[e(575)][e(410)](this[e(485)],s),this[e(262)].setBoundingBox(this.boundingBox)):(this[e(575)][e(539)](this.boundingSphere,s),this[e(262)][e(464)](this[e(332)]))}}();activateParticles(t){const e=P;if(this[e(362)]==V.Running){const s=q.clamp(this[e(527)]+t,0,this.maximumActiveParticles);for(let t=this[e(527)];t<s;t++)this.activateParticle(t);this.activeParticleCount=s,this[e(575)][e(310)](this[e(527)])}}[P(462)](t){const e=P;if(this[e(362)]==V[e(326)]){const s=this[e(575)].getState(t);s[e(421)]=0;for(let t=0;t<this[e(312)].length;t++){this[e(312)][t][e(637)](s)}if(this.simulateInWorldSpace){s[e(686)][e(229)](this[e(340)][e(306)]);const t=s[e(672)][e(614)]();if(this[e(664)]){s[e(672)].transformDirection(this[e(340)][e(306)]).multiplyScalar(t);const n=s[e(321)][e(614)]();s[e(321)].transformDirection(this[e(340)][e(306)])[e(277)](n)}}this[e(575)].flushParticleStateToBuffers(t)}}advanceActiveParticles(t){const e=P;if(this[e(362)]==V[e(326)]){let s=0;for(;s<this[e(527)];){this[e(514)](s,t)?s++:(s<this[e(527)]-1&&this[e(443)](this[e(527)]-1,s),this.activeParticleCount--)}this[e(575)][e(310)](this.activeParticleCount)}}[P(514)](t,e){const s=P;if(this.systemState==V[s(326)]){const n=this.particleStates.getState(t);for(let t=0;t<this[s(334)][s(614)];t++){const i=this[s(334)][t][s(250)](n,e),r=n.lifetime;if(!i||0!=r&&n[s(421)]>=r)return!1}return this.particleStates[s(449)](t),!0}return!1}copyParticleInArray(t,e){const s=P;this.particleStates[s(308)](t,e),this[s(575)][s(449)](e)}static fromJSON(t,e,s){const n=P,r=(t,e,s)=>{const n=N;e(t);for(const i in t)if(t[n(516)](i)){const s=t[i];"object"==typeof s&&r(s,e)}};r(t,(t=>{const s=N;t.type&&(t[s(370)]=e[s(598)](t[s(370)]))}));const a=t[n(383)],o=t[n(700)],c=t[n(534)],h=c.type[n(413)](c[n(454)]),l=new i,u=new M(l,h,s);u.init(a),u[n(236)](o);const p=t[n(329)],m=p.type[n(413)](p[n(454)]);if(u[n(424)](m),t[n(269)])for(const i of t[n(269)])u[n(648)](i[n(567)],i[n(614)],i.id);if(t[n(399)])for(const i of t[n(399)])u[n(619)](i.type.fromJSON(u,i.params));if(t[n(490)])for(const i of t[n(490)]){const t=u[n(388)](i[n(370)][n(413)](u,i[n(454)]));i[n(231)]&&t[n(401)](i[n(231)])}return[u,l]}[P(392)](t){const e=P,s=this[e(257)](),n=this[e(279)](),i=this[e(375)](),r=i.getSequenceIDs()[e(486)]((t=>{const s=e,n=i[s(529)](t);return{id:t,start:n[s(567)],length:n[s(614)]}})),a=[],o=this[e(499)]();for(let l=0;l<o;l++){const s=this[e(696)](l);s[e(593)]!==T&&a[e(430)]({type:t[e(554)](s[e(593)]),params:s[e(392)](t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s[e(593)]!==O){const n=s[e(392)](t),i=n[e(454)]||n,r=n[e(454)]?n[e(231)]:null,a={type:t[e(554)](s[e(593)]),params:i};r&&(a.elements=r),c[e(430)](a)}}return{maxParticleCount:this[e(299)](),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t[e(554)](s.constructor),params:s[e(392)]()},emitter:{type:t[e(554)](n.constructor),params:n[e(392)]()},sequences:r,initializers:a,operators:c}}}function N(t,e){const s=ut();return(N=function(t,e){return s[t-=225]})(t,e)}class _{constructor(){const t=P;this[t(670)]=[],this.startupTime=performance.now()/1e3,this[t(435)]=this[t(680)],this[t(369)]=new C}[P(396)](){const t=P,e=q[t(267)](),s=e-this[t(435)];for(const n of this[t(670)])n.update(e,s);this[t(369)].update(e,s),this[t(435)]=e}render(t,e){const s=P;for(const n of this[s(670)])n[s(576)](t,e)}addParticleSystem(t){const e=P;this[e(670)][e(430)](t)}[P(293)](t){this.componentContainer.addComponent(t)}[P(282)](t){const e=P;return this.componentContainer[e(282)](t)}}class U{constructor(){const t=P;this[t(318)]=!1,this[t(259)]=0,this[t(340)]=null,this[t(700)]=!1}[P(236)](t){this[P(700)]=t}[P(482)](){}[P(385)](t){this[P(340)]=t}[P(476)](t){const e=P;if(this.particleCount=t,!this.initialized)return this[e(318)]=!0,!0;throw new Error(e(404))}[P(576)](){}}class B extends A{constructor(){const t=P;super(),this[t(685)]=null,this[t(684)]=null,this[t(521)]=null,this[t(631)]=null,this[t(582)]=null,this[t(292)]=null,this[t(695)]=null,this.accelerations=null,this[t(226)]=null,this[t(478)]=null,this[t(697)]=null,this[t(613)]=null,this[t(405)]=null,this[t(258)]=null,this[t(688)]=null,this[t(228)]=!1,this[t(620)]=6}[P(476)](t,e=!1){const s=P;this[s(228)]=e,this[s(228)]?this.verticesPerParticle=1:this[s(620)]=6,super[s(476)](t),this.allocate(t)}[P(423)](t){super.setParticleCount(t)}[P(310)](t){const e=P;super.setActiveParticleCount(t),t>0?this[e(228)]?this[e(685)].instanceCount=t:this.geometry[e(501)](0,this.verticesPerParticle*t):this[e(228)]?this[e(685)][e(693)]=0:this[e(685)][e(501)](0,0)}flushParticleStateToBuffers(t){const e=P;if(t>=this[e(259)])throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this.getState(t),n=t*this.verticesPerParticle;for(let i=0;i<this[e(620)];i++)this[e(521)][e(548)](n+i,s.lifetime),this.lifetimes[e(367)]=!0,this[e(631)][e(548)](n+i,s[e(421)]),this[e(631)][e(367)]=!0,this[e(582)][e(350)](n+i,s.sequenceElement.x,s[e(428)].y,s.sequenceElement.z,s[e(428)].w),this[e(582)][e(367)]=!0,this[e(292)].setXYZ(n+i,s.position.x,s[e(686)].y,s[e(686)].z),this[e(292)].needsUpdate=!0,this[e(695)][e(425)](n+i,s.velocity.x,s[e(672)].y,s[e(672)].z),this.velocities[e(367)]=!0,this.accelerations[e(425)](n+i,s[e(321)].x,s[e(321)].y,s[e(321)].z),this.accelerations[e(367)]=!0,this[e(226)][e(425)](n+i,s.normal.x,s[e(398)].y,s[e(398)].z),this[e(226)].needsUpdate=!0,this[e(478)][e(548)](n+i,s[e(506)]),this[e(478)][e(367)]=!0,this[e(697)][e(548)](n+i,s[e(581)]),this[e(697)][e(367)]=!0,this[e(613)][e(667)](n+i,s[e(414)].x,s[e(414)].y),this.sizes[e(367)]=!0,this[e(405)].setXYZ(n+i,s[e(455)].r,s[e(455)].g,s[e(455)].b),this[e(405)][e(367)]=!0,this.alphas[e(548)](n+i,s.alpha),this[e(630)].needsUpdate=!0,this[e(258)][e(667)](n+i,s[e(289)].x,s[e(289)].y),this.initialSizes.needsUpdate=!0,this[e(515)][e(548)](n+i,s[e(445)]),this[e(515)][e(367)]=!0}copyState(t,e){const s=P;super[s(308)](t,e),this[s(449)](e)}[P(537)](t,e){const s=P;if(t>=this[s(259)])throw new Error(s(635));super[s(537)](t,e),this[s(449)](t)}getPositions(){return this[P(292)]}getSizes(){return this.sizes}[P(319)](){return this.rotations}[P(615)](){return this.sequenceElements}getColors(){return this.colors}[P(596)](){return this[P(685)]}allocate(t){const s=P;super[s(286)](t);const n=(t,n)=>{const i=s;return this.instanced?new p(t,n):new(e[i(528)])(t,n)},i=this[s(620)]*this[s(259)];if(this[s(228)]){const t=new(e[s(583)]),n=new Float32Array(18);this[s(239)]=new(e[s(528)])(n,3),t.setAttribute("position",this.basePositions),this[s(239)].needsUpdate=!0,this.basePositions.setXYZ(0,-1,1,0),this.basePositions[s(425)](1,-1,-1,0),this[s(239)][s(425)](2,1,1,0),this[s(239)][s(425)](3,-1,-1,0),this[s(239)][s(425)](4,1,-1,0),this.basePositions[s(425)](5,1,1,0);const i=new Float32Array(12);this[s(432)]=new r(i,2),t[s(500)](s(586),this[s(432)]),this.baseUVs[s(367)]=!0,this.baseUVs.setXY(0,0,1),this[s(432)].setXY(1,0,0),this[s(432)].setXY(2,1,1),this[s(432)][s(667)](3,0,0),this.baseUVs[s(667)](4,1,0),this.baseUVs[s(667)](5,1,1);const a=new Float32Array(6);this[s(356)]=new(e[s(528)])(a,1),t[s(500)]("customIndex",this[s(356)]),this.customIndexes[s(367)]=!0,this[s(356)].setX(0,0),this[s(356)][s(548)](1,1),this[s(356)][s(548)](2,3),this.customIndexes.setX(3,1),this[s(356)][s(548)](4,2),this[s(356)][s(548)](5,3),this[s(685)]=(new(e[s(320)]))[s(442)](t),this[s(685)][s(693)]=0}else{this[s(685)]=new(e[s(583)]);const t=new Float32Array(i);this[s(356)]=new(e[s(528)])(t,1),this[s(685)][s(500)](s(348),this.customIndexes),this[s(356)].needsUpdate=!0;for(let e=0;e<this[s(259)];e++){const t=e*this[s(620)];this[s(356)][s(548)](t,0),this[s(356)][s(548)](t+1,1),this[s(356)].setX(t+2,3),this[s(356)][s(548)](t+3,1),this[s(356)][s(548)](t+4,2),this[s(356)].setX(t+5,3)}}const o=new Float32Array(i),c=new Float32Array(i),h=new Float32Array(4*i),l=new Float32Array(3*i),u=new Float32Array(3*i),m=new Float32Array(3*i),f=new Float32Array(3*i),d=new Float32Array(i),w=new Float32Array(i),g=new Float32Array(2*i),S=new Float32Array(3*i),y=new Float32Array(i),v=new Float32Array(2*i),x=new Float32Array(3*i),I=new Float32Array(i);this[s(292)]=n(l,3),this[s(292)][s(322)](e[s(600)]),this[s(685)][s(500)]("particlePosition",this[s(292)]),this[s(521)]=n(o,1),this[s(521)].setUsage(e[s(600)]),this[s(685)][s(500)](s(427),this.lifetimes),this[s(631)]=n(c,1),this[s(631)][s(322)](a),this[s(685)][s(500)]("age",this[s(631)]),this[s(582)]=n(h,4),this[s(582)][s(322)](e[s(600)]),this.geometry[s(500)](s(428),this[s(582)]),this[s(695)]=n(u,3),this[s(695)][s(322)](e[s(600)]),this.geometry[s(500)](s(672),this.velocities),this[s(638)]=n(m,3),this[s(638)][s(322)](e[s(600)]),this[s(685)][s(500)](s(321),this[s(638)]),this[s(226)]=n(f,3),this[s(226)][s(322)](a),this[s(685)][s(500)]("normal",this[s(226)]),this[s(478)]=n(d,1),this[s(478)][s(322)](e[s(600)]),this[s(685)][s(500)](s(506),this[s(478)]),this.rotationalSpeeds=n(w,1),this[s(697)][s(322)](e[s(600)]),this.geometry[s(500)]("rotationalSpeed",this[s(697)]),this[s(613)]=n(g,2),this[s(613)][s(322)](e[s(600)]),this[s(685)][s(500)](s(414),this[s(613)]),this[s(405)]=n(S,3),this.colors[s(322)](e[s(600)]),this[s(685)].setAttribute(s(455),this.colors),this.alphas=n(y,1),this.alphas.setUsage(e[s(600)]),this[s(685)][s(500)]("alpha",this.alphas),this[s(258)]=n(v,2),this[s(258)][s(322)](e[s(600)]),this[s(685)].setAttribute(s(289),this[s(258)]),this[s(688)]=n(x,3),this[s(688)].setUsage(e[s(600)]),this[s(685)].setAttribute(s(452),this[s(688)]),this.initialAlphas=n(I,1),this[s(515)][s(322)](a),this[s(685)].setAttribute(s(445),this.initialAlphas)}[P(677)](){const t=P;super[t(677)](),this[t(685)]&&(this[t(685)][t(677)](),this[t(685)]=null)}}class X{constructor(t,e,s,n,i){this[P(614)]=t,this.x=e,this.y=s,this.width=n,this.height=i}}class j{constructor(t,e){const s=P;this.texture=t,this[s(493)]=e,this.frameSets=[]}getTexture(){return this.texture}[P(621)](){return this.texturePath}[P(701)](){const t=P;return this[t(311)][t(614)]}[P(278)](t,e,s,n,i){const r=P;this[r(311)][r(430)](new X(t,e,s,n,i))}getFrameSet(t){const e=P;if(t>=this[e(311)].length)throw new Error(e(448));return this[e(311)][t]}}class D extends U{constructor(t,s,n=!1,i=e[P(587)],r=!0,a){const o=P;super(),this.instanced=t,this[o(298)]=null,this.material=null,this[o(363)]=null,this[o(618)]=s,this[o(531)]=n,this[o(622)]=i,this[o(485)]=new(e[o(300)]),this[o(332)]=new(e[o(533)]),this.calculateBoundingSphereFromBox=r,this[o(509)]=a}[P(385)](t){super[P(385)](t)}[P(482)](){return this[P(298)]}[P(236)](t){const e=P;super.setSimulateInWorldSpace(t),this[e(624)]&&(this[e(624)].uniforms[e(700)][e(251)]=t?1:0,this[e(624)][e(669)]=!0)}[P(263)](){return this[P(634)]}[P(407)](t){const e=P;this[e(485)][e(442)](t),this[e(363)]&&this.updateMeshBounds()}[P(464)](t){const e=P;this.boundingSphere[e(442)](t),this[e(363)]&&this[e(674)]()}render(t,e,s){e[P(576)](t,s)}[P(674)]=function(){const t=P,s=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[N(572)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();s(this,(function(){const t=N;let e;try{e=Function("return (function() "+t(240)+");")()}catch(r){e=window}const n=e[t(675)]=e[t(675)]||{},i=["log",t(389),t(536),"error",t(546),"table",t(579)];for(let a=0;a<i[t(614)];a++){const e=s[t(593)][t(247)][t(658)](s),r=i[a],o=n[r]||e;e[t(417)]=s[t(658)](s),e[t(246)]=o[t(246)].bind(o),n[r]=e}}))();const n=new(e[t(623)]);return function(){const s=t,i=this[s(298)][s(596)]();if(this.calculateBoundingSphereFromBox){i.boundingBox||(i[s(485)]=new(e[s(300)])),i[s(485)][s(442)](this[s(485)]),!i[s(332)]&&(i.boundingSphere=new(e[s(533)])),n.x=(this[s(485)][s(518)].x+this[s(485)][s(611)].x)/2,n.y=(this[s(485)][s(518)].y+this[s(485)][s(611)].y)/2,n.z=(this[s(485)][s(518)].z+this[s(485)][s(611)].z)/2;const t=this.boundingBox[s(611)].x-n.x,r=this[s(485)][s(611)].y-n.y,a=this[s(485)][s(611)].z-n.z,o=Math[s(611)](Math.max(t,r),a);i[s(332)][s(309)].copy(n),i[s(332)][s(266)]=Math[s(683)](2*o*o)}else i[s(332)]||(i[s(332)]=new(e[s(533)])),i[s(332)][s(442)](this[s(332)])}}();[P(476)](t){const s=P;super[s(476)](t)&&(this[s(298)]=new B,this.particleStateArray[s(476)](t,this[s(228)]),this[s(624)]=this.createMaterial(null,null,null,!0,!1),this[s(624)].blending=this[s(622)],this[s(363)]=new(e[s(339)])(this[s(298)][s(596)](),this[s(624)]),this[s(363)][s(412)]=!0,void 0!==this.renderOrder&&(this.mesh[s(509)]=this[s(509)]),this[s(674)](),this[s(340)][s(522)](this.mesh))}[P(677)](){const t=P;this[t(298)][t(677)]()}createMaterial(t,s,i,r,a){const c=P,h=[...Array(16).keys()].map((t=>new(e[c(390)])));if(this[c(618)])for(let n=0;n<this.atlas[c(701)]();n++){const t=this[c(618)].getFrameSet(n);h[n]=new(e[c(390)])(t.x,t.y,t[c(314)],t[c(636)])}const l=this[c(618)]?this[c(618)].getTexture():null,u=this[c(531)],p=this[c(700)],m=this[c(228)]?1:0,f={atlasFrameSet:{type:c(439),value:h},atlasTexture:{type:"t",value:l},interpolateAtlasFrames:{value:u},uvOffset:{type:"v2",value:new n},simulateInWorldSpace:{value:p},instanced:{value:m}};return i=i||{},Object[c(303)](i,f),t=t||D.Shader[c(354)](a),s=s||D[c(441)].getFragmentShader(r,a),new(e[c(302)])({uniforms:i,vertexShader:t,fragmentShader:s,transparent:!0,alphaTest:1,blending:e[c(587)],blendDstAlpha:o,blendSrcAlpha:e[c(391)],depthTest:!0,depthWrite:!1})}static[P(441)]={get VertexVars(){const t=P;return["const int MAX_ATLAS_FRAME_SETS = 16; \n","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n",t(465),t(253),t(397),t(603),t(520),t(444),t(280),t(555),t(409),t(519),t(656),"varying vec2 vUV1;\n",t(662),"varying vec3 vFragColor;\n","varying float vFragAlpha;\n",t(373)][t(569)]("\n")},get FragmentVars(){const t=P;return["uniform int interpolateAtlasFrames; \n",t(284),"uniform vec2 uvOffset;\n",t(243),t(662),t(650),"varying float vFragAlpha;\n","varying float vSequenceElementT;\n"][t(569)]("\n")},getVertexShader(t){const e=P;let s=[e(346),this[e(540)]][e(569)]("\n");return t&&(s+=e(471)),s+=[e(502),e(287),"   float atlasFrameHeight = atlasFrames.w; \n","   float atlasFrameX = atlasFrames.x; \n","   float atlasFrameY = atlasFrames.y; \n",e(458),e(381),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(468),e(643),e(376),e(422),e(343),"   float nRowX = float(nRowXTile) * atlasFrameWidth;\n",e(274),e(589),"   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n",e(487),"} \n",e(574),"{\n",e(336),e(571),e(505),e(629),"   const vec2 uRight = vec2(1.0, 1.0);\n",e(703),e(607),e(377),"   vec4 viewPosition; \n",e(337),"       viewPosition = viewMatrix * particlePosition;\n","   } else { \n",e(588),e(541),e(526),e(503),e(420),"   int sequenceLength = int(sequenceElement.w);\n",e(530),e(659),e(453),e(584),"   int firstSequenceElement = int(sequenceElementF); \n",e(524),e(470),e(682),e(313),e(541),e(287),"   float atlasFrameHeight = atlasFrames.w; \n",e(605),e(616),"   float rightSide; \n",e(681),e(463),e(338),e(666),e(403),e(296),e(483),e(325),e(541),e(691),e(507),e(419),e(463),e(316),e(242),"       float dLeftV = rotVecStep.y - rotVecStep.x; \n",e(573),e(597),e(357),e(296),e(238),"   } \n",e(359),e(366),e(495),e(484),"   vFragAlpha = alpha; \n"][e(569)]("\n"),t&&(s+=e(342)),s+="} \n",s},getFragmentShader(t,e){const s=P;let n=s(553)+this[s(651)]+"\n";return e&&(n+=s(361)),n+=s(426),e&&(n+=s(612)),n+=t?[s(265),s(560),s(395),s(565),s(570)].join("\n"):[s(365),s(560),s(395),s(565),s(570)][s(569)]("\n"),n+="}\n",n}};static[P(413)](t){const s=P,n=t[s(618)],i=(new c)[s(532)](n[s(493)]),r=new j(i,n[s(493)]),a=n[s(358)];for(const e of a)r[s(278)](e.length,e.x,e.y,e[s(314)],e.height);const o=new D(t[s(228)],r,n.interpolateFrames);return t[s(622)]==s(610)?o[s(622)]=h:o[s(622)]=e[s(587)],o}[P(392)](t){const s=P;t=t||(t=>{const e=N;if(t[e(493)])return t.texturePath;const s=t[e(402)]()[e(671)];if(s){const t=s[e(617)];if(t){const s=t[e(254)],n=t[e(248)];return n.indexOf(s)>=0?n[e(307)](s[e(614)],n[e(614)]-s[e(614)]):n}}});const n=[];for(let e=0;e<this.atlas.getFrameSetCount();e++){const t=this[s(618)][s(467)](e);n[s(430)](t)}let i=s(558);this[s(624)][s(622)]===e[s(645)]&&(i=s(610));return{instanced:this[s(228)],blending:i,atlas:{interpolateFrames:this[s(531)],texturePath:t(this[s(618)]),framesets:n}}}}class W{constructor(){const t=P;this.emissionRelativeStartTime=0,this[t(602)]=0,this[t(237)]=0,this.age=0,this[t(295)]=0,this[t(562)]=0,this[t(535)]=0}[P(396)](t){return this[P(689)](t),0}[P(689)](t){const e=P;return this[e(421)]+=t,this[e(295)]=Math[e(611)](this[e(421)]-this[e(481)],0),this.age>=this[e(481)]&&(0==this[e(602)]||this[e(295)]<=emissionDuration)}[P(382)](t){this[P(237)]+=t}}class J extends W{constructor(){const t=P;super(),this.emissionMinimum=0,this[t(434)]=0}}class Y extends J{constructor(t=0){const e=P;super(),this[e(657)]=t}[P(396)](t){const e=P;if(this.internalUpdate(t)){const t=this[e(657)]*this[e(295)]-this.emitCount;if(t>=1){const s=Math.floor(t);return this[e(382)](s),s}}return 0}static fromJSON(t){const e=P,s=new Y;return s.emissionRate=t[e(657)]||0,s}[P(392)](){return{emissionRate:this.emissionRate}}}class L{static[P(450)]=new L("Default");static[P(557)]=new L(P(557));static[P(623)]=new L(P(623));static[P(390)]=new L("Vector4");static[P(704)]=new L(P(704));constructor(t){this[P(275)]=t}static[P(352)](t){const s=P;let i=L[s(450)];return t===n?i=L[s(557)]:t===e[s(623)]?i=L[s(623)]:t===e[s(390)]?i=L[s(390)]:t===l&&(i=L[s(704)]),i}static loadJSONParameter(t,n){const i=P;switch(n){case e[i(557)]:return(new(e[i(557)]))[i(625)](t);case e[i(623)]:return(new s)[i(625)](t);case e[i(390)]:return(new u)[i(625)](t);case e[i(704)]:return(new(e[i(704)]))[i(625)](t)}return t}}class G{constructor(t){const e=P;this[e(431)]=t,this.outTypeID=L[e(352)](t)}}class k extends G{constructor(t,e,s,n,i,r){const a=P;super(t),this[a(542)]=e,this.offset=s,this.uniformRange=n,this.uniformOffset=i,this[a(678)]=r}[P(415)](t){const e=P,s=Math[e(479)]()*this[e(252)];switch(this[e(608)]){case L[e(450)]:t=Math[e(479)]()*this[e(542)]+this[e(599)],this.normalize&&(t=t<0?-1:1);break;case L[e(557)]:t[e(271)](this[e(563)](s,"x"),this[e(563)](s,"y"));break;case L[e(623)]:t[e(271)](this.generateForElement(s,"x"),this.generateForElement(s,"y"),this.generateForElement(s,"z"));break;case L[e(390)]:t.set(this[e(563)](s,"x"),this[e(563)](s,"y"),this.generateForElement(s,"z"),this[e(563)](s,"w"))}return this[e(678)]&&t[e(678)](),t}generateForElement(t,e){const s=P;return t+Math[s(479)]()*this[s(542)][e]+this.offset[e]+this[s(394)]}[P(585)](){const t=P;return new k(this[t(431)],this.range,this.offset,this.uniformRange,this[t(394)],this.normalize)}static getParameterJSON(t){const s=P;return t instanceof e[s(557)]||t instanceof e[s(623)]||t instanceof e[s(390)]||t instanceof e[s(704)]?t[s(655)]():t}static[P(413)](t){const e=P;return new k(t[e(370)],L.loadJSONParameter(t[e(542)],t[e(370)]),L.loadJSONParameter(t[e(599)],t[e(370)]),t[e(252)]||0,t[e(394)]||0,t.normalize)}[P(392)](t){const e=P,s={range:k[e(564)](this.range),offset:k.getParameterJSON(this[e(599)]),uniformRange:this[e(252)],uniformOffset:this[e(394)]},n=t[e(554)](this[e(542)][e(593)]);return null!=n&&(s[e(370)]=n),{type:t.getTypePath(k),params:s}}}class Z extends z{constructor(t,e,s,n,i){const r=P;super(),this[r(542)]=t,this.offset=e,this[r(252)]=s,this.uniformOffset=n,this.normalize=i,this.generator=new k(0,this.range,this[r(599)],this[r(252)],this[r(394)],this[r(678)])}[P(637)](t){const e=P;t[e(427)]=this[e(387)][e(415)]()}static[P(413)](t,e){const s=P;return new Z(e[s(542)],e[s(599)],e[s(252)],e.uniformOffset,e[s(678)])}[P(392)](){const t=P;return{range:this[t(542)],offset:this[t(599)],uniformRange:this[t(252)],uniformOffset:this.uniformOffset,normalize:this[t(678)]}}}class H extends z{constructor(t){const e=P;super(),this[e(387)]=t[e(585)]()}initializeState(t){const e=P;t[e(506)]=this[e(387)][e(415)](t[e(506)])}static[P(413)](t,e){const s=P,n=e[s(387)][s(370)].fromJSON(e[s(387)][s(454)]);return new H(n)}[P(392)](t){const e=P;return{generator:this[e(387)][e(392)](t)}}}class $ extends z{constructor(t,e,s,n,i){const r=P;super(),this[r(542)]=t,this[r(599)]=e,this[r(252)]=s,this[r(394)]=n,this[r(678)]=i,this[r(387)]=new k(0,this.range,this[r(599)],this[r(252)],this[r(394)],this[r(678)])}[P(637)](t){const e=P;t[e(581)]=this[e(387)][e(415)]()}static fromJSON(t,e){const s=P;return new $(e[s(542)],e[s(599)],e[s(252)],e[s(394)],e.normalize)}[P(392)](){const t=P;return{range:this[t(542)],offset:this.offset,uniformRange:this[t(252)],uniformOffset:this.uniformOffset,normalize:this.normalize}}}class Q extends z{constructor(t,s){const n=P;super(),this[n(591)]=new k(e[n(623)],t,s,0,0,!1)}initializeState(t){const e=P;this[e(591)].generate(t[e(686)])}static fromJSON(t,s){const n=P;return new Q((new(e[n(623)]))[n(625)](s[n(542)]),(new(e[n(623)]))[n(625)](s[n(599)]))}toJSON(){const t=P;return{range:this.randomGenerator.range[t(655)](),offset:this[t(591)][t(599)][t(655)]()}}}class K extends z{constructor(t){const e=P;super(),this[e(387)]=t.clone()}[P(637)](t){const e=P;this.generator[e(415)](t[e(414)]),t[e(289)][e(442)](t[e(414)])}static[P(413)](t,e){const s=P,n=e.generator[s(370)][s(413)](e[s(387)][s(454)]);return new K(n)}toJSON(t){const e=P;return{generator:this.generator[e(392)](t)}}}class tt extends z{constructor(t,e,n,i,r=!0){const a=P;super(),this.directionGenerator=new k(s,t,e,0,0,!0),this[a(633)]=new k(0,n,i,0,0,!1),this.normalizeDirection=r}[P(637)](t){const e=P;this[e(436)][e(415)](t[e(672)]),this[e(272)]&&t[e(672)][e(678)](),t[e(672)][e(277)](this[e(633)].generate())}static fromJSON(t,e){const n=P;return new tt((new s).fromArray(e[n(542)]),(new s).fromArray(e[n(599)]),e[n(433)],e[n(371)])}[P(392)](){const t=P;return{range:this[t(436)][t(542)][t(655)](),offset:this[t(436)][t(599)][t(655)](),speedRange:this[t(633)][t(542)],speedOffset:this.speedGenerator.offset}}}class et extends z{constructor(t,e=!1){const s=P;super(),this.setParticleSequences(t),this[s(459)]=e}[P(368)](t){this.particleSequences=t}[P(637)](t){const e=P,s=this[e(460)][e(261)](),n=s[e(614)]*Math[e(479)](),i=s[Math[e(317)](n)],r=this[e(460)].getSequence(i),a=t[e(428)];this.reverse?a.x=r[e(614)]-1:a.x=r[e(567)],a.y=r.id,a.z=r.start,a.w=r[e(614)],t[e(227)]=I.Sequence}static[P(413)](t,e){const s=P;return new et(t[s(375)](),e[s(459)])}[P(392)](){return{reverse:this[P(459)]}}}class st extends R{constructor(t,e,s=!1,n=!1){const i=P;super(),this[i(460)]=t,this[i(328)]=e,this[i(288)]=s,this[i(459)]=n}[P(250)](t,e){const s=P,n=t.sequenceElement,i=this[s(460)][s(529)](n.y),r=e/this[s(328)];if(this[s(459)]){if(n.x-=r,n.x<i[s(567)]&&(n.x=i[s(567)]+i[s(614)],!this[s(288)]))return!1}else if(n.x+=r,n.x>=i[s(567)]+i[s(614)]&&(n.x=i[s(567)],!this[s(288)]))return!1;return!0}static fromJSON(t,e){const s=P;return new st(t.getParticleSequences(),e[s(328)],e[s(288)],e.reverse)}[P(392)](){return{speed:this[P(328)],loop:this.loop,reverse:this.reverse}}}class nt{constructor(t,e){const s=P;this[s(231)]=[],this.tValues=[],this[s(244)]=L[s(352)](t),e?this.interpolator=e:this[s(379)]=this[s(380)](this[s(244)])}*[Symbol.iterator](){const t=P;let e=0;for(;e<this.getElementCount();)yield{element:this.elements[e],tValue:this[t(374)][e]},e++}getElementCount(){const t=P;return this[t(231)][t(614)]}[P(517)](t){const e=P;if(t>=this[e(568)]())throw new Error('ContinuousArray::getElement() -> "index" is out of bounds.');return this[e(231)][t]}[P(647)](t){const e=P;if(t>=this[e(568)]())throw new Error(e(294));return this.tValues[t]}[P(544)](t,e){const s=P;this[s(231)][s(430)](t),this[s(374)][s(430)](e)}getInterpolatedElement(t,e){const s=P;return this.interpolator(t,this[s(231)],this[s(374)],e)}[P(380)]=function(){const t=P,n={lowerIndex:0,upperIndex:0,localT:0},i=new(e[t(557)]),r=new s,a=new(e[t(390)]),o=new(e[t(704)]),c=e=>(s,i,r,a)=>{const o=t;nt[o(333)](r,s,n),e.copy(i[n[o(290)]])[o(277)](n[o(692)]),a[o(442)](i[n[o(301)]]).multiplyScalar(1-n[o(692)])[o(522)](e)};return function(e){const s=t;switch(e){case L[s(450)]:return(t,e,i)=>{const r=s;return nt[r(333)](i,t,n),(1-n.localT)*e[n[r(301)]]+n.localT*e[n[r(290)]]};case L[s(557)]:return c(i);case L.Vector3:return c(r);case L[s(390)]:return c(a);case L.Color:return c(o)}}}();static[P(333)](t,e,s){const n=P,i=t.length;if(0===i)return s[n(301)]=-1,s[n(290)]=-1,void(s[n(692)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s.lowerIndex=q[n(461)](a,0,i-1),s[n(290)]=q[n(461)](o,0,i-1);const c=t[a],h=t[o];s[n(692)]=(e-c)/(h-c)}}class it extends R{constructor(t,e=!1){const s=P;super(),this[s(601)]=e,this[s(508)]=new nt(t)}[P(544)](t,e){const s=P;this[s(508)][s(544)](t,e)}[P(628)](t){const e=P;for(const s of t)this[e(508)].addElement(s[0],s[1])}addElementsFromElementClassAndParameters(t,e){const s=P;for(const n of e){const[...e]=n[0];this[s(508)][s(544)](new t(...e),n[1])}}getInterpolatedValue(t,e){const s=P;let n=0;switch(t[s(227)]){case I[s(653)]:n=0!=t.lifetime?t[s(421)]/t[s(427)]:t.age;break;case I[s(451)]:n=t[s(428)].x/t[s(428)].w}return this[s(508)][s(457)](n,e)}}class rt extends it{constructor(t=!1){super(0,t)}[P(401)](t){super[P(628)](t)}[P(250)](t){const e=P;return this[e(601)]?t[e(550)]=t[e(445)]*this[e(639)](t,t[e(550)]):t.alpha=this[e(639)](t,t.alpha),!0}static fromJSON(t,e){return new rt(e.relativeToInitialValue)}toJSON(){const t=P;return{params:{relativeToInitialValue:this[t(601)]},elements:[...this.interpolationElements][t(486)]((e=>[e[t(660)],e[t(547)]]))}}}class at extends it{constructor(t=!1){super(e[P(557)],t)}[P(401)](t){super.addElementsFromElementClassAndParameters(n,t)}updateState=function(){const t=P,s=new(e[t(557)]);return function(e){const n=t;return this.getInterpolatedValue(e,s),this[n(601)]?e.size.set(e[n(289)].x*s.x,e[n(289)].y*s.y):e[n(414)][n(442)](s),!0}}();static[P(413)](t,e){return new at(e[P(601)])}[P(392)](){const t=P;return{params:{relativeToInitialValue:this[t(601)]},elements:[...this[t(508)]][t(486)]((e=>[e[t(660)][t(655)](),e[t(547)]]))}}}class ot extends it{constructor(t=!1){super(e[P(704)],t)}addElementsFromParameters(t){const s=P;super[s(225)](e[s(704)],t)}updateState=function(){const t=P,s=new(e[t(704)]);return function(e){const n=t;return this.getInterpolatedValue(e,s),this[n(601)]?e[n(455)].setRGB(e[n(452)].r*s.r,e.initialColor.g*s.g,e[n(452)].b*s.b):e.color[n(442)](s),!0}}();static[P(413)](t,e){return new ot(e[P(601)])}[P(392)](){const t=P;return{params:{relativeToInitialValue:this[t(601)]},elements:[...this[t(508)]][t(486)]((e=>[e.element[t(655)](),e[t(547)]]))}}}class ct extends R{constructor(t){const e=P;super(),this[e(387)]=t.clone()}[P(401)](t){const e=P;super.addElementsFromElementClassAndParameters(THREE[e(623)],t)}[P(250)](t){const e=P;return this[e(387)].generate(t[e(321)]),!0}static[P(413)](t,e){const s=P,n=e[s(387)][s(370)][s(413)](e.generator.params);return new ct(n)}toJSON(t){const e=P;return{generator:this[e(387)][e(392)](t)}}}class ht extends G{constructor(t,s,n,i,r,a,o,c,h,l,u,p){const m=P;super(e[m(623)]),this.rangeTheta=t,this[m(270)]=s,this[m(291)]=n,this[m(523)]=i,this[m(592)]=r,this[m(668)]=a,this.scaleX=o,this.scaleY=c,this[m(345)]=h,this[m(480)]=l,this[m(577)]=u,this[m(283)]=p,this[m(330)]=(new(e[m(623)]))[m(271)](0,1,0)}[P(415)](t){const e=P;this[e(330)][e(271)](0,1,0);const s=Math[e(479)]()*this[e(446)]+this[e(270)],n=Math.random()*this[e(291)]+this[e(523)],i=Math.cos(s),r=Math.sin(s),a=Math[e(606)](n),o=Math[e(663)](n);t.set(i,0,-r),t[e(277)](a),this[e(330)][e(277)](o),t[e(522)](this.tempUp),t[e(678)]();const c=Math[e(479)]()*this[e(592)]+this[e(668)];t.multiplyScalar(c),t.x*=this.scaleX,t.y*=this[e(649)],t.z*=this[e(345)],t.x+=this[e(480)],t.y+=this[e(577)],t.z+=this[e(283)]}[P(585)](){const t=P;return new ht(this[t(446)],this[t(270)],this[t(291)],this.offsetPhi,this[t(592)],this[t(668)],this.scaleX,this[t(649)],this[t(345)],this[t(480)],this[t(577)],this[t(283)])}static[P(413)](t){const e=P;return new ht(t[e(446)],t[e(270)],t[e(291)],t[e(523)],t[e(592)],t[e(668)],t[e(498)],t[e(649)],t.scaleZ,t[e(480)],t[e(577)],t[e(283)])}[P(392)](t){const e=P;return{type:t[e(554)](ht),params:{rangeTheta:this[e(446)],offsetTheta:this[e(270)],rangePhi:this.rangePhi,offsetPhi:this[e(523)],rangeRadius:this[e(592)],offsetRadius:this[e(668)],scaleX:this[e(498)],scaleY:this[e(649)],scaleZ:this[e(345)],offsetX:this[e(480)],offsetY:this[e(577)],offsetZ:this[e(283)]}}}}class lt{constructor(){}}function ut(){const t=["uniform int interpolateAtlasFrames; \n",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"getFrameSet","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","autoClear","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","  \n #include <logdepthbuf_pars_vertex> \n",'ComponentContainer::getComponent() -> "index" is out of range.',"remove","getParticleCount","cameraFar","init","timeScaledVelocity","rotations","random","offsetX","emissionRelativeStartTime","getParticleStateArray","       rightSide = baseUV.x; \n","   vFragColor = color; \n","boundingBox","map","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","stateObject","JSONTypeStore::getType() -> namespace does not exist","operators","startTime","cameraNear","texturePath","copyTo","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","lastPositionAdjuster","getVisible","scaleX","getParticleStateInitializerCount","setAttribute","setDrawRange","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   int sequenceNumber = int(sequenceElement.y);\n","72esNnLL","   const vec2 left = vec2(-1.0, 0.0);\n","rotation","   float uvYOffset = atlasFrameHeight * upperSide; \n","interpolationElements","renderOrder","function","bias","JSONTypeStore::getType() -> typeName does not exist",'ParticleStateArray::getState() -> "index" is out of range.',"advanceActiveParticle","initialAlphas","hasOwnProperty","getElement","min","attribute vec3 color;\n","attribute float customIndex;\n","lifetimes","add","offsetPhi","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","   float sequenceElementF = sequenceElement.x;\n","activeParticleCount","BufferAttribute","getSequence","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","interpolateAtlasFrames","load","Sphere","renderer","maximumActiveParticles","info","setState","function *\\( *\\)","computeBoundingSphere","VertexVars","   } \n","range","PointLight","addElement","typeName","exception","tValue","setX","102940Fpxpww","alpha","setAll","getParticleState","#include <common> \n","getTypePath","attribute vec2 size;\n","stateVelocity","Vector2","Normal","addTypeToNamespace","   vec4 color2 = color1; \n","visible","activeCount","generateForElement","getParameterJSON","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","6jPjHru","start","getElementCount","join","   gl_FragColor.a *= vFragAlpha; \n","   const vec2 up = vec2(0.0, 1.0);\n","apply","       float uRightV = rotVecStep.z; \n","void main()\n","particleStates","render","offsetY","2MJtFFK","trace","lastIntensityAdjuster","rotationalSpeed","sequenceElements","BufferGeometry","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","clone","baseUV","NormalBlending","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","stop","randomGenerator","rangeRadius","constructor","getActiveParticleCount","jsonTypeNames","getGeometry","       float dRightV = rotVecStep.w - rotVecStep.z; \n","parseTypeString","offset","DynamicDrawUsage","relativeToInitialValue","emissionDuration","attribute vec2 baseUV;\n",'ParticleSystem::getParticleState() -> "index" is out of range.',"   float rotMag = rotation; \n","cos","   const vec2 dLeft = vec2(-1.0, -1.0);\n","outTypeID","8sNkQeQ","Additive","max","    \n  #include <logdepthbuf_fragment> \n","sizes","length","getSequenceElements","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","data","atlas","addParticleStateInitializer","verticesPerParticle","getTexturePath","blending","Vector3","material","fromArray","advanceActiveParticles","intensity","addElements","   const vec2 down = vec2(0.0, -1.0);\n","alphas","ages","sub","speedGenerator","calculateBoundingSphereFromBox",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"height","initializeState","accelerations","getInterpolatedValue","onUpdate","emitterInitialized","hasID","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","setVisibile","AdditiveBlending","positionAdjuster","getTValue","addParticleSequence","scaleY","varying vec3 vFragColor;\n","FragmentVars","8270669XRUrrb","Time","debu","toArray","attribute float alpha;\n","emissionRate","bind","   vec2 uv1; \n","element","getParticleStates","varying vec2 vUV2;\n","sin","transformInitialDirectionInWorldSpace","4804471wXcNPj","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","setXY","offsetRadius","uniformsNeedUpdate","particleSystems","source","velocity","stateAcceleration","updateMeshBounds","console","setTransformInitialDirectionInWorldSpace","dispose","normalize","far","startupTime","   float upperSide; \n","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","sqrt","progressTypes","geometry","position","parent","initialColors","internalUpdate","namespace","   float uvXOffset = atlasFrameWidth * rightSide; \n","localT","instanceCount","jsonTypes","velocities","getParticleStateInitializer","rotationalSpeeds","6976683gAAvFa","getParticleStateOperatorCount","simulateInWorldSpace","getFrameSetCount","Paused","   const vec2 uLeft = vec2(-1.0, 1.0);\n","Color","addElementsFromElementClassAndParameters","normals","progressType","instanced","applyMatrix4","now","elements","getState","36QWQJDw","intensityFlux","nextIntensityAdjuster","setSimulateInWorldSpace","emitCount","       rotVec = position.xy; \n ","basePositions",'{}.constructor("return this")( )',"particleEmitter","       float uLeftV = rotVecStep.x; \n","varying vec2 vUV1;\n","elementTypeID","invert","toString","prototype","currentSrc","action","updateState","value","uniformRange","uniform int simulateInWorldSpace; \n","baseURI","edgeRadius","call","getParticleSystemRenderer","initialSizes","particleCount","getParticleStateOperator","getSequenceIDs","particleSystemRenderer","calculatingBoundingSphereFromBox","getSimulateInWorldSpace","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","radius","currentTime","default","sequences","offsetTheta","set","normalizeDirection","parseNamespaceAndTypename","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","name","onUpdateCallback","multiplyScalar","addFrameSet","getEmitter","attribute float rotation;\n","getSystemState","getComponent","offsetZ","uniform sampler2D atlasTexture;\n","string","allocate","   float atlasFrameWidth = atlasFrames.z; \n","loop","initialSize","upperIndex","rangePhi","positions","addComponent",'ContinuousArray::getTValue() -> "index" is out of bounds.',"timeActive","   }  else { \n","decay","particleStateArray","getMaximumActiveParticles","Box3","lowerIndex","ShaderMaterial","assign","camera","3519060fnglbE","matrixWorld","substr","copyState","center","setActiveParticleCount","frameSets","particleStateInitializers","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","width","pause","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","floor","initialized","getRotations","InstancedBufferGeometry","acceleration","setUsage","Matrix4","JSONTypeStore::addTypeToNamespace() -> typeName already exists","       upperSide = baseUV.y; \n","Running","updateBounds","speed","emitter","tempUp","timeScaledAcceleration","boundingSphere","getInterpolationValuesForTValue","particleStateOperators","castShadow","   const vec2 right = vec2(1.0, 0.0);\n","   if (simulateInWorldSpace == 1) { \n","       rightSide = step(2.0, customIndex); \n","Mesh","owner",'ParticleStateArray::setState() -> "index" is out of range.',"   \n  #include <logdepthbuf_vertex> \n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"scaleZ","#include <common>","split","customIndex","splice","setXYZW","activateParticles","getTypeID","typeIDGen","getVertexShader","while (true) {}","customIndexes","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","framesets","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","shadow","  \n #include <logdepthbuf_pars_fragment> \n","systemState","mesh","mapSize","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","needsUpdate","setParticleSequences","componentContainer","type","speedOffset","206643cNQlMc","varying float vSequenceElementT; \n","tValues","getParticleSequences","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","   const vec2 dRight = vec2(1.0, -1.0);\n","counter","interpolator","getInterpolatorForTypeID","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","updateEmitCount","maxParticleCount","JSONTypeStore::addNamespace() -> namespace already exists","setOwner","components","generator","addParticleStateOperator","warn","Vector4","SrcAlphaFactor","toJSON","setIntensity","uniformOffset","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","update","uniform int instanced; \n","normal","initializers","36722IfGant","addElementsFromParameters","getTexture","       upperSide = upperSideStep.x + upperSideStep.y;\n","Renderer::init() -> trying to intialize more than once.","colors","lastPositionFlickerTime","setBoundingBox","___photonsTypeID","attribute vec4 sequenceElement;\n","computeBoundingBox","getTypeNames","frustumCulled","fromJSON","size","generate","ids","__proto__","getType","   vec2 rotVec; \n","   int sequenceStart = int(sequenceElement.z);\n","age","   int nRowYTile = int(SNOverHS);\n","setParticleCount","setEmitter","setXYZ","void main() { \n","lifetime","sequenceElement","addNamespace","push","outType","baseUVs","speedRange","emissionMaximum","lastUpdateTime","directionGenerator","lastIntensityFlickerTime","NotStarted","v4v","checkAndAddTypeName","Shader","copy","copyParticleInArray","attribute vec4 particlePosition;\n","initialAlpha","rangeTheta","Done",'Atlas::getFrameSet -> "index" is out of range.',"flushParticleStateToBuffers","Default","Sequence","initialColor","   vec2 uv2; \n","params","color","light","getInterpolatedElement","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","reverse","particleSequences","clamp","activateParticle","   if (instanced != 1) { \n","setBoundingSphere"];return(ut=function(){return t})()}class pt extends lt{constructor(t,n,i,r,a,o,c=void 0){const h=P;super(),this[h(340)]=null,this[h(456)]=null,this[h(435)]=performance[h(230)]()/1e3,this[h(437)]=this[h(435)],this[h(406)]=this[h(435)],this[h(580)]=1,this.nextIntensityAdjuster=1,this[h(496)]=new s,this[h(646)]=new(e[h(623)]),this[h(627)]=1,this[h(234)]=2,this[h(687)]=t,this[h(476)](t,n,i,r,a,o,c)}[P(476)](t,s,n,r,a,o,c=void 0){const h=P;this[h(340)]=new i,t[h(522)](this[h(340)]),r=r||new(e[h(704)]),a=a||0,null!=o&&null!=o||(o=2);const l=!!c;return this[h(456)]=new(e[h(543)])(16777215,2,0,1),this[h(456)].color.copy(r),this[h(456)].distance=a,this[h(456)][h(297)]=o,this[h(456)][h(335)]=l,l&&(this[h(456)][h(360)][h(364)][h(314)]=c[h(364)]||512,this[h(456)][h(360)].mapSize[h(636)]=c[h(364)]||512,this[h(456)].shadow[h(304)].near=c[h(492)]||.5,this[h(456)][h(360)][h(304)][h(679)]=c[h(475)]||500,this[h(456)][h(360)][h(511)]=c[h(511)]||1e-4,this[h(456)].shadow[h(266)]=c[h(255)]||1),this.owner.add(this[h(456)]),this.intensity=s,this[h(234)]=n,this[h(456)]}[P(677)](){const t=P;this[t(687)][t(473)](this[t(340)])}getLight(){return this[P(456)]}[P(393)](t){this[P(627)]=t}[P(396)](t){const e=P,s=t-this[e(437)],n=1/8,i=this.intensityFlux;if(s>n){this.lastIntensityFlickerTime=t;let s=1+2*(Math[e(479)]()-.5)*i*n;const r=s-this.lastIntensityAdjuster;s=this[e(580)]+r,this[e(580)]=this[e(235)],this.nextIntensityAdjuster=q[e(461)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(580)]+t*this[e(235)];this[e(456)][e(627)]=i*this[e(627)]}if(t-this[e(406)]>.0625){this[e(406)]=t;const s=t-this[e(435)];this[e(646)][e(271)](Math.random()-.5,Math[e(479)]()-.5,Math[e(479)]()-.5),this[e(646)].multiplyScalar(s),this[e(646)][e(522)](this.lastPositionAdjuster),this[e(646)][e(277)](.5),this[e(340)][e(686)][e(442)](this[e(646)]),this[e(496)][e(442)](this[e(646)]),this[e(435)]=t}}}class mt{constructor(){const t=P;this[t(694)]={default:{}},this[t(595)]={},this[t(353)]=0}addType(t,e){const s=P;this[s(559)](s(268),t,e)}[P(559)](t,e,s){const n=P;if(!this[n(694)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(694)][t][e])throw new Error(n(324));this[n(440)](s,e,t)&&(this[n(694)][t][e]=s)}[P(429)](t,e){const s=P;if(this.jsonTypes[t])throw new Error(s(384));this[s(694)][t]=e;for(const n in e)if(!e.hasOwnProperty||e.hasOwnProperty(n)){const i=e[n];this[s(440)](i,n,t)}}[P(440)](t,e,s){const n=P;if(typeof t===n(510)){const i=this[n(353)]++;t.___photonsTypeID=i,this[n(595)][i]={namespace:s,typeName:e}}}[P(418)](t,e){const s=P;if(!this[s(694)][t])throw new Error(s(489));if(!this.jsonTypes[t][e])throw new Error(s(512));return this[s(694)][t][e]}[P(411)](t){const e=P;return this[e(595)][t[e(408)]]}[P(554)](t){const e=P,s=this[e(411)](t);if(s)return s[e(690)]+"."+s[e(545)]}[P(273)](t){const e=P,s=t[e(347)]("."),n=s[0];s[e(349)](0,1);return{namespace:n,typeName:s.join(".")}}[P(598)](t){const e=P,{namespace:s,typeName:n}=this[e(273)](t);return this[e(418)](s,n)}}function ft(t){function e(t){const s=N;if(typeof t===s(285))return function(t){}[s(593)](s(355)).apply(s(378));1!==(""+t/t).length||t%20==0?function(){return!0}[s(593)](s(654)+"gger")[s(256)](s(249)):function(){return!1}.constructor(s(654)+"gger").apply(s(488)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const dt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:ct,AnimatedSpriteRenderer:D,Atlas:j,BaseParticleStateInitializer:T,BaseParticleStateOperator:O,BoxPositionInitializer:Q,ColorInterpolatorOperator:ot,ConstantParticleEmitter:Y,FlickerLight:pt,JSONTypeStore:mt,LifetimeInitializer:Z,Manager:_,OpacityInterpolatorOperator:rt,ParticleStateArray:A,ParticleSystem:M,ParticleSystemState:V,RandomGenerator:k,RandomVelocityInitializer:tt,Renderer:U,RotationInitializer:H,RotationalSpeedInitializer:$,SequenceInitializer:et,SequenceOperator:st,SizeInitializer:K,SizeInterpolatorOperator:at,SphereRandomGenerator:ht},Symbol.toStringTag,{value:"Module"}));!function(t,e){const s=gt,n=vt();for(;;)try{if(800071===-parseInt(s(261))/1*(parseInt(s(294))/2)+parseInt(s(287))/3*(parseInt(s(280))/4)+-parseInt(s(252))/5*(parseInt(s(275))/6)+parseInt(s(221))/7*(-parseInt(s(255))/8)+parseInt(s(274))/9*(-parseInt(s(263))/10)+parseInt(s(234))/11+parseInt(s(231))/12)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const wt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[gt(222)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function gt(t,e){const s=vt();return gt=function(t,e){return s[t-=217]},gt(t,e)}!function(){wt(this,(function(){const t=gt,e=new RegExp(t(233)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=xt(t(226));e.test(n+"chain")&&s[t(270)](n+t(271))?xt():n("0")}))()}();const St=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[gt(222)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();St(void 0,(function(){const t=gt,e=function(){const t=gt;let e;try{e=Function(t(293)+t(224)+");")()}catch(s){e=window}return e}(),s=e[t(249)]=e[t(249)]||{},n=["log",t(245),t(232),t(292),t(257),t(277),t(251)];for(let i=0;i<n.length;i++){const e=St[t(282)][t(295)][t(247)](St),r=n[i],a=s[r]||e;e[t(243)]=St[t(247)](St),e[t(250)]=a.toString[t(247)](a),s[r]=e}}))();const yt=d({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const i=gt,r=t,a=new(dt[i(265)]),o=new(dt[i(297)]);o.addNamespace("THREE",e),o[i(273)](i(248),dt);const{renderer:h,camera:l,scene:u}=m(),p=new(e[i(242)])(...r.position);a[i(218)](((t,r)=>{const a=i,o=new(e[a(268)]);o[a(290)][a(238)](r);const c="./plugins/digitalCity/image/fireF/ember.png",l=(new(e[a(285)]))[a(244)](c),u=new(dt[a(286)])(l,c);u[a(254)](1,0,0,1,1);const p=new(dt[a(227)])(!0,u,!0,e[a(239)]),m=new(dt[a(299)])(o,p,h[a(276)]);m.init(150),m[a(291)](new Y(6));const f=new(dt[a(260)])(n,new(e[a(262)])(0,0),new n(.15*t,.15*t),0,0,!1);m[a(278)](new(dt[a(288)])(3,1,0,0,!1)),m[a(278)](new K(f)),m.addParticleStateInitializer(new(dt[a(272)])(new(e[a(242)])(.05*t,0,.05*t),new s(-.025*t,0,-.025*t))),m[a(278)](new(dt[a(235)])(new(e[a(242)])(.4*t,.5*t,.4*t),new(e[a(242)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));m[a(264)](new rt).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);m[a(264)](new(dt[a(256)])(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const d=new(dt[a(258)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return m.addParticleStateOperator(new ct(d)),m[a(246)](!0),m[a(283)](),m})(r.scale,p)),a[i(218)](((t,s)=>{const n=i,r=new(e[n(268)]);r[n(290)][n(238)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new c)[n(244)](a),l=new(dt[n(286)])(o,a);l.addFrameSet(18,0,0,.125,.25);const u=new D(!0,l,!0),p=new M(r,u,h[n(276)]);p[n(226)](50),p[n(291)](new(dt[n(241)])(10)),p.addParticleSequence(0,18);const m=p[n(217)]();p.addParticleStateInitializer(new Z(0,0,0,0,!1)),p[n(278)](new(dt[n(259)])(new k(0,Math.PI/2,-Math.PI/2,0,0,!1))),p[n(278)](new(dt[n(266)])(1,-1,0,0,!1)),p[n(278)](new(dt[n(240)])(new k(e[n(262)],new(e[n(262)])(.25*t,.25*t),new(e[n(262)])(.5*t,.5*t),0,0,!1))),p[n(278)](new(dt[n(272)])(new(e[n(242)])(.05*t,0,.05*t),new(e[n(242)])(-.025*t,0,-.025*t))),p[n(278)](new(dt[n(235)])(new(e[n(242)])(.05*t,.4*t,.05*t),new(e[n(242)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),p.addParticleStateInitializer(new(dt[n(267)])(m)),p[n(264)](new(dt[n(225)])(m,.07,!1));p[n(264)](new rt)[n(229)]([[0,0],[.3,.25],[.3,.5],[0,1]]);p.addParticleStateOperator(new(dt[n(223)])(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return p.addParticleStateOperator(new(dt[n(256)])(!0))[n(236)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),p[n(264)](new(dt[n(237)])(new(dt[n(260)])(e[n(242)],new(e[n(242)])(0,0,0),new(e[n(242)])(0,1.5*t,0),0,0,!1))),p[n(246)](!0),p[n(283)](),p})(r[i(228)],p)),a[i(218)](((t,s)=>{const n=i,r=new(e[n(268)]);r[n(290)][n(238)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new(e[n(285)]))[n(244)](a),c=new(dt[n(286)])(o,a);c.addFrameSet(16,0,0,212/1024,.25);const l=new(dt[n(227)])(!0,c,!0),u=new(dt[n(299)])(r,l,h[n(276)]);u[n(226)](20),u[n(291)](new Y(5)),u.addParticleSequence(0,16);const p=u.getParticleSequences();u[n(278)](new(dt[n(288)])(0,0,0,0,!1)),u[n(278)](new H(new(dt[n(260)])(0,Math.PI,-Math.PI/2,0,0,!1))),u.addParticleStateInitializer(new $(Math.PI/2,-Math.PI/4,0,0,!1)),u[n(278)](new K(new(dt[n(260)])(e[n(262)],new(e[n(262)])(0,0),new(e[n(262)])(0,0),.2*t,.65*t,!1))),u.addParticleStateInitializer(new(dt[n(272)])(new(e[n(242)])(.1*t,0,.1*t),new(e[n(242)])(-.05*t,0,-.05*t))),u[n(278)](new tt(new(e[n(242)])(.02*t,.4*t,.02*t),new(e[n(242)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),u[n(278)](new(dt[n(267)])(p)),u.addParticleStateOperator(new(dt[n(225)])(p,.1,!1));u[n(264)](new rt)[n(229)]([[0,0],[.6,.2],[.5,.75],[0,1]]);u[n(264)](new at(!0))[n(236)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return u[n(264)](new(dt[n(256)])(!0))[n(236)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),u[n(264)](new(dt[n(237)])(new(dt[n(260)])(e[n(242)],new(e[n(242)])(0,0,0),new(e[n(242)])(0,1.5*t,0),0,0,!1))),u[n(246)](!0),u[n(283)](),u})(r.scale,p)),a.addComponent(((t,s=10)=>{const n=i,r=new(e[n(268)]);u.value[n(298)](r),r[n(290)][n(238)](t);return new(dt[n(220)])(r,s,2,(new(e[n(253)])).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(p,100));const{onBeforeLoop:d}=f();return d((()=>{const t=i;a[t(281)](),a[t(279)](h[t(276)],l[t(276)])})),(t,e)=>null}});function vt(){const t=["BoxPositionInitializer","addNamespace","9uJhYbh","369282pWLvhg","value","table","addParticleStateInitializer","render","8156fosqiX","update","constructor","start","debu","TextureLoader","Atlas","900MciolR","LifetimeInitializer","while (true) {}","position","setEmitter","error","return (function() ","2iIBYqw","prototype","counter","JSONTypeStore","add","ParticleSystem","getParticleSequences","addParticleSystem","call","FlickerLight","7onSeUz","apply","SizeInterpolatorOperator",'{}.constructor("return this")( )',"SequenceOperator","init","AnimatedSpriteRenderer","scale","addElements","gger","39437316ynZoFM","info","function *\\( *\\)","12672693QGaHRA","RandomVelocityInitializer","addElementsFromParameters","AccelerationOperator","copy","AdditiveBlending","SizeInitializer","ConstantParticleEmitter","Vector3","__proto__","load","warn","setSimulateInWorldSpace","bind","Photons","console","toString","trace","105fSqEZw","Color","addFrameSet","1378152tUagio","ColorInterpolatorOperator","exception","SphereRandomGenerator","RotationInitializer","RandomGenerator","1350978YDENXM","Vector2","14344010ScPfGN","addParticleStateOperator","Manager","RotationalSpeedInitializer","SequenceInitializer","Object3D","string","test","input"];return(vt=function(){return t})()}function xt(t){function e(t){const s=gt;if(typeof t===s(269))return function(t){}[s(282)](s(289))[s(222)](s(296));1!==(""+t/t).length||t%20==0?function(){return!0}[s(282)](s(284)+"gger")[s(219)]("action"):function(){return!1}.constructor(s(284)+s(230))[s(222)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Pt=It;function It(t,e){const s=Et();return It=function(t,e){return s[t-=157]},It(t,e)}!function(t,e){const s=It,n=Et();for(;;)try{if(114463===-parseInt(s(176))/1*(-parseInt(s(180))/2)+parseInt(s(188))/3+-parseInt(s(169))/4*(-parseInt(s(175))/5)+-parseInt(s(194))/6+-parseInt(s(181))/7*(parseInt(s(201))/8)+-parseInt(s(196))/9+-parseInt(s(166))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Ft=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[It(164)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Ft(this,(function(){const t=It,e=new RegExp(t(183)),s=new RegExp(t(177),"i"),n=zt(t(179));e.test(n+t(178))&&s[t(167)](n+t(185))?zt():n("0")}))()}();const At=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Et(){const t=["$refs","235854AzOWGE","log","458874cOzoaz","info","string","stateObject","__proto__","104nBCYzr","debu","context","call","tcRef","action","set","prototype","apply","toString","2477420tdgWvj","test","position","4YJWHRS",'{}.constructor("return this")( )',"length","value","while (true) {}","warn","988935zyMXpr","2995lLlEhu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","init","92LRdiIQ","22463gPRkZG","gger","function *\\( *\\)","camera","input","table","perspectiveCameraRef","475980vOdTRn","console","fireF","constructor","bind"];return(Et=function(){return t})()}At(void 0,(function(){const t=It,e=function(){const t=It;let e;try{e=Function("return (function() "+t(170)+");")()}catch(s){e=window}return e}(),s=e[t(189)]=e[t(189)]||{},n=[t(195),t(174),t(197),"error","exception",t(186),"trace"];for(let i=0;i<n[t(171)];i++){const e=At[t(191)][t(163)][t(192)](At),r=n[i],a=s[r]||e;e[t(200)]=At[t(192)](At),e[t(165)]=a[t(165)].bind(a),s[r]=e}}))();const bt=d({__name:Pt(190),setup(e){const s=w();return g((()=>{const t=It;s[t(172)]&&(s[t(172)].$refs[t(160)]?s.value[t(193)][t(160)][t(158)][t(184)][t(172)][t(168)][t(162)](580,360,500):s[t(172)][t(193)][t(187)]&&s[t(172)][t(193)][t(187)].position[t(162)](580,360,500))})),(e,n)=>(S(),y(t,{ref_key:"pagesShowRef",ref:s},{ability:v((()=>[x(yt,{position:[0,20,10],scale:40})])),_:1},512))}});function zt(t){function e(t){const s=It;if(typeof t===s(198))return function(t){}[s(191)](s(173)).apply("counter");1!==(""+t/t)[s(171)]||t%20==0?function(){return!0}[s(191)]("debu"+s(182))[s(159)](s(161)):function(){return!1}[s(191)](s(157)+s(182))[s(164)](s(199)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{bt as default};
