import{_ as t,b as n,cP as e}from"./three.0CcRceKb1742896998262.js";import{P as o}from"./tweakpane.ivGeiIdz1742896998262.js";import{m as r,e as s}from"./@tresjs.KzbsBNvc1742896998262.js";import{P as i,b as a,c,M as u,T as p,a as l,d as m}from"./index.LvSiqeEb1742896998262.js";import{d as f,a2 as g,w as h,o as d,H as j,u as w,v as b,r as x,e as y,j as v,g as I,m as M,F as _}from"./@vue.L-brCdZe1742896998262.js";import{_ as C}from"./raycasterEvent.vqUb26r51742896998262.js";import{a as z}from"./utils.y23YwV1O1742896998262.js";import"./postprocessing.JNDZZkh81742896998262.js";import"./@vueuse.AtktgvWs1742896998262.js";import"./@mapbox.lMdYodhq1742896998262.js";import"./three-mesh-bvh.gH28GZxM1742896998262.js";import"./three-custom-shader-material.IukAW29E1742896998262.js";import"./@fesjs.ATKJ6WD31742896998262.js";import"./vue-router.Nr9hetwf1742896998262.js";import"./lodash-es.pklfUAS51742896998262.js";import"./@qlin.o0hjOMCg1742896998262.js";import"./pinia.c7Udjcar1742896998262.js";import"./@floating-ui.HzHndBae1742896998262.js";import"./@juggle.4EyLec-41742896998262.js";import"./@tweenjs.WAk7JfCG1742896998262.js";import"./utils.8ZAEjuox1742896998262.js";import"./http.WZ9tjD6M1742896998262.js";import"./axios.FtfblEUV1742896998262.js";import"./color.syXsy_Dv1742896998262.js";import"./@amap.tIvpdqPe1742896998262.js";import"./color-string.0inkTqTd1742896998262.js";import"./color-name.x2508up61742896998262.js";import"./simple-swizzle.H5VxRVdb1742896998262.js";import"./is-arrayish.uR2yGoi31742896998262.js";import"./color-convert.5_1hLGxI1742896998262.js";import"./lodash.M4Wq6okW1742896998262.js";import"./naive-ui.4DybMK5X1742896998262.js";import"./date-fns.GaXm0A5x1742896998262.js";import"./@css-render.t-BvRsjG1742896998262.js";import"./seemly.g-Mp7qhc1742896998262.js";import"./css-render.FrpSt-Wu1742896998262.js";import"./@emotion.ZD_ZYAgY1742896998262.js";import"./vooks.jWNB4kDN1742896998262.js";import"./evtd.uXDg6RK81742896998262.js";import"./vueuc.R-Vl-G1q1742896998262.js";import"./vdirs.AjKjncJg1742896998262.js";import"./treemate.dcEdf2le1742896998262.js";import"./date-fns-tz.0lSAXYNk1742896998262.js";import"./async-validator.-YBkpS4I1742896998262.js";import"./d3-geo.yGHRgJ3l1742896998262.js";import"./d3-array.pckDbYwZ1742896998262.js";function B(){const t=["innerHeight","bbox","monochrome","exception","warn","string","value","init","render","bind","primitive","call","PerspectiveCamera","info","return (function() ","action","debu","counter","291924gtaTYd","16RYWskE","abs","log","1018425EDGuwQ","11688904mlFrDz","lookAt","source","input","8608332SZwimQ","isMonochrome","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tileMapMesh","trace","filter","mapCenter","function *\\( *\\)","while (true) {}","Color","console","stateObject","enableDamping","minDistance","genSaturation","flatShading",'{}.constructor("return this")( )',"prototype","genContrast","Vector3","set","24724oqpwGx","tweenInstance","genBright","position","domElement","611462TpysKb","length","test","apply","maxZoom","__proto__","far","constructor","gger","opposite","toString","update","useWorker","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","coordType","#fff","position0","1418320lJZfmB","target","object"];return(B=function(){return t})()}const S=E;!function(t,n){const e=E,o=B();for(;;)try{if(792271===-parseInt(e(145))/1+parseInt(e(162))/2+-parseInt(e(110))/3+parseInt(e(111))/4*(parseInt(e(114))/5)+parseInt(e(119))/6+parseInt(e(140))/7+-parseInt(e(115))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(148)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=B();return E=function(t,n){return e[t-=107]},E(t,n)}!function(){k(this,(function(){const t=E,n=new RegExp(t(126)),e=new RegExp(t(121),"i"),o=T(t(172));n[t(147)](o+"chain")&&e.test(o+t(118))?T():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(148)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();R(void 0,(function(){const t=E;let n;try{n=Function(t(179)+t(135)+");")()}catch(r){n=window}const e=n.console=n[t(129)]||{},o=[t(113),t(169),t(178),"error",t(168),"table",t(123)];for(let s=0;s<o[t(146)];s++){const n=R.constructor[t(136)][t(174)](R),r=o[s],i=e[r]||n;n[t(150)]=R[t(174)](R),n.toString=i[t(155)][t(174)](i),e[r]=n}}))();const Z=[S(164),"rotation"],A=f({__name:S(122),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:S(160)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:m}){const f=S,b=o,{renderer:x,scene:y}=r(),v=new i;v[f(159)]=a;const I=new c;I[f(117)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",I[f(159)]=a;const M=new u;M[f(117)]=f(158),M.showTileNo=!1,M[f(157)]=!0;const _=new p(v,M);if(_.showBoundingBox=!1,_.wireframe=!1,_[f(134)]=!1,_.useStandardMaterial=!1,_[f(124)]={opposite:b.opposite,monochrome:b[f(120)]?{r:.299,g:.587,b:.114}:null,genBright:b[f(142)],genContrast:b.genContrast,genSaturation:b[f(133)]},b[f(167)]){let n=new(t[f(128)])(b.monochrome);_[f(124)]&&(_[f(124)][f(167)]={r:n.r,g:n.g,b:n.b})}const C=new l;C.provider=_,C[f(166)]=b[f(166)],C[f(149)]=b[f(149)];const z=new(t[f(177)])(60,window.innerWidth/window[f(165)],1,1e8);z.up=new n(0,1,0),z[f(143)][f(139)](b[f(125)][0],b[f(125)][2],-b[f(125)][1]),z[f(116)](new(t[f(138)])(z[f(143)].x,0,z[f(143)].z-2e3)),C.camera=z;let B=null;g((()=>{const t=f;x[t(171)]&&!B&&(B=new e(z,x[t(171)][t(144)]),B[t(131)]=!0,B.dampingFactor=.05,B[t(132)]=600,B[t(161)].set(z.position.x,z.position.y,z.position.z),B[t(163)][t(139)](z[t(143)].x,0,z[t(143)].z-2e3))})),h((()=>[b[f(154)],b[f(120)],b.monochrome]),(([n,e,o])=>{const r=f;if(_[r(124)]){let s=new(t[r(128)])(o);_[r(124)][r(154)]=n,_.filter[r(167)]=e?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[b[f(142)],b[f(137)],b.genSaturation]),(([t,n,e])=>{const o=f;_.filter&&(_[o(124)][o(142)]=t,_[o(124)][o(137)]=n,_[o(124)][o(133)]=e)}));const{onLoop:k}=s();return k((()=>{const t=f;if(x[t(171)]){b[t(141)]?.[t(156)](),B&&B[t(156)](),C[t(156)]();const n=50*Math[t(112)](z.position.y);z[t(151)]=n+5e3,z.updateProjectionMatrix(),x[t(171)][t(173)](y.value,z)}})),m({camera:z,map:C,orbitControl:B}),(t,n)=>{const e=f;return d(),j(e(175),{object:w(C),rotation:[-Math.PI/2,0,0]},null,8,Z)}}});function T(t){function n(t){const e=E;if(typeof t===e(170))return function(t){}[e(152)](e(127))[e(148)](e(109));1!==(""+t/t)[e(146)]||t%20==0?function(){return!0}[e(152)](e(108)+e(153))[e(176)](e(107)):function(){return!1}[e(152)]("debu"+e(153)).apply(e(130)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=F;!function(t,n){const e=F,o=G();for(;;)try{if(732784===-parseInt(e(331))/1+parseInt(e(312))/2*(-parseInt(e(301))/3)+-parseInt(e(349))/4*(parseInt(e(291))/5)+parseInt(e(308))/6+-parseInt(e(325))/7*(-parseInt(e(305))/8)+-parseInt(e(296))/9*(parseInt(e(300))/10)+parseInt(e(342))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(341)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(t,n){const e=G();return F=function(t,n){return e[t-=289]},F(t,n)}!function(){W(this,(function(){const t=F,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(323),"i"),o=X("init");n[t(321)](o+t(299))&&e[t(321)](o+"input")?X():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(){const t=["prototype","debu","牛首山","genContrast","addBlade","538527YhZpvX","log","xjk","camera","nss","genSaturation","bind","tweenInstance","isMonochrome","error","apply","20162604Aabmoy","tileMapMeshRef","#4688b5","value","addBinding","trace","opposite","3292knCiFj","return (function() ","info","Vector3","7510iVZIeR","orbitControl","change","gger","exception","53505rYBDXq","console","table","chain","990PIXJuP","10293sgFIOr","toString","饱和度","action","1552EVMAGW","NoToneMapping","tileMap","2026806kMCWIn","string","tileMapRef","counter","2BEXkVX","constructor","滤镜颜色","SRGBColorSpace","奥体中心","length","单色滤镜","manual","monochrome","test","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","genBright","33509WehTAW"];return(G=function(){return t})()}D(void 0,(function(){const t=F;let n;try{n=Function(t(350)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(297)]||{},o=[t(332),"warn",t(289),t(340),t(295),t(298),t(347)];for(let s=0;s<o[t(317)];s++){const n=D[t(313)][t(326)][t(337)](D),r=o[s],i=e[r]||n;n[t(322)]=D[t(337)](D),n[t(302)]=i[t(302)][t(337)](i),e[r]=n}}))();const V=f({__name:P(307),setup(e){const r=P,s=m(118.779958,32.017136),i=[s[0],s[1],5e3],a=b(),c=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:r(344),mapCenter:i,tweenInstance:null}),u=new o({title:"参数"});u[r(346)](c,r(348),{label:"反色"}),u[r(346)](c,r(324),{label:"高亮",min:.1,max:3,step:.1}),u[r(346)](c,r(329),{label:"对比度",min:.1,max:3,step:.1}),u.addBinding(c,r(336),{label:r(303),min:.1,max:3,step:.1}),u[r(346)](c,r(339),{label:r(318)}),u[r(346)](c,r(320),{label:r(314)});const p={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};u[r(330)]({view:"list",label:"飞去",options:[{text:r(316),value:"at"},{text:"新街口",value:r(333)},{text:r(328),value:r(335)}],value:"at"}).on(r(293),(t=>{const e=r,o=new n(p[t[e(345)]][0],2e3,-p[t[e(345)]][1]);c[e(338)]=z(a[e(345)][e(334)],o,a[e(345)][e(292)],[0,-300],4e3)}));const l=x({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:r(319),outputColorSpace:t[r(315)],toneMapping:t[r(306)]});return setTimeout((()=>{const n=r,e=p.at,o=new(t[n(290)])(e[0],1600,-e[1]);c.tweenInstance=z(a.value[n(334)],o,a[n(345)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=r,o=y("TresCanvas");return d(),j(_,null,[v(o,M(l,{"window-size":""}),{default:I((()=>[v(A,M(c,{ref_key:e(343),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1},16),v(C,{tileMapRef:a[e(345)]},null,8,[e(310)])],64)}}});function X(t){function n(t){const e=F;if(typeof t===e(309))return function(t){}[e(313)]("while (true) {}")[e(341)](e(311));1!==(""+t/t).length||t%20==0?function(){return!0}[e(313)](e(327)+e(294)).call(e(304)):function(){return!1}[e(313)](e(327)+e(294))[e(341)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
