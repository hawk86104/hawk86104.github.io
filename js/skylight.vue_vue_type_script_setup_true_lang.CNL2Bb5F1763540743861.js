import{ey as t,V as a,aR as e}from"./three.rXKzP9fQ1763540743861.js";import{d as i,w as s,H as o,o as n,F as r,J as c,u as h}from"./@vue.Co_gxueH1763540743861.js";const m=["object"],l=["object"],d=i({__name:"skylight",props:{curTime:{},direct:{},intensity:{default:1},shadowIntensity:{default:1}},setup(i){const d=i,u=new t;u.scale.setScalar(500);const w=u.material.uniforms;w.turbidity.value=10,w.rayleigh.value=1,w.mieCoefficient.value=.005,w.mieDirectionalG.value=.9;const y=new a,p=new e(16777215,d.intensity);return p.castShadow=!0,p.shadow.mapSize.width=2048,p.shadow.mapSize.height=2048,p.shadow.camera.left=-50,p.shadow.camera.right=50,p.shadow.camera.top=50,p.shadow.camera.bottom=-50,p.shadow.radius=d.shadowIntensity,s(()=>[d.curTime,d.direct,d.intensity,d.shadowIntensity],()=>{!function(){let t,a,e=.15;const i=(d.curTime-6)/12,s=.25*Math.PI*Math.sin(i*Math.PI);t=Math.PI/2-s,a=5+.5*Math.sin(i*Math.PI),e=Math.PI*(d.direct+i),y.setFromSphericalCoords(1,t,e),u.material.uniforms.sunPosition.value.copy(y),p.position.copy(y).multiplyScalar(400),p.intensity=a*d.intensity,p.shadow.intensity=d.shadowIntensity}()},{immediate:!0}),(t,a)=>(n(),o(r,null,[c("primitive",{object:h(u)},null,8,m),c("primitive",{object:h(p)},null,8,l)],64))}});export{d as _};
