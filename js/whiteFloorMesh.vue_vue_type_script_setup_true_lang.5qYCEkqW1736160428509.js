import{bQ as t,_ as n,a3 as o,U as r,C as e}from"./three.rmsIv-u_1736160428509.js";import{b as a}from"./@tresjs.8MtVPQyb1736160428509.js";import{d as s,b as c,a6 as i,w as u,o as f,D as l,J as p,aj as h,ak as d}from"./@vue.4u_eOGex1736160428509.js";!function(t,n){const o=v,r=_();for(;;)try{if(189863===parseInt(o(363))/1*(-parseInt(o(360))/2)+parseInt(o(338))/3+parseInt(o(340))/4+parseInt(o(375))/5*(-parseInt(o(366))/6)+-parseInt(o(364))/7+-parseInt(o(372))/8+parseInt(o(369))/9*(parseInt(o(365))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=v,n=new RegExp(t(333)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=x(t(343));n[t(361)](r+"chain")&&o.test(r+t(342))?x():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(341)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(t,n){const o=_();return(v=function(t,n){return o[t-=331]})(t,n)}m(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(367)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(374)]=n[t(374)]||{},r=["log","warn","info","error",t(359),"table",t(352)];for(let e=0;e<r.length;e++){const n=m[t(346)].prototype.bind(m),a=r[e],s=o[a]||n;n[t(355)]=m[t(358)](m),n.toString=s[t(335)].bind(s),o[a]=n}}))();const w=()=>{const o=v;return o(345)+t[o(351)]+o(349)+n[o(332)].bsdfs+o(349)+t[o(357)]+o(337)+n[o(332)][o(331)]+o(334)+n[o(332)][o(350)]+o(334)+n[o(332)][o(344)]+o(334)+n[o(332)].project_vertex+"\n          "+n[o(332)].worldpos_vertex+o(334)+n[o(332)][o(368)]+o(336)};function _(){const t=["function *\\( *\\)","\n          ","toString","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\n       void main() {\n\t\t\t\t\t","174879GYkLvH","length","898792nuoASS","apply","input","init","begin_vertex","\n       varying vec2 vUv;\n\t\t\t \t","constructor","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","debu","\n      \t","defaultnormal_vertex","common","trace","shadowmask_pars_fragment","\n\t ","__proto__","string","shadowmap_pars_vertex","bind","exception","1424XXDbRO","test","action","238vEjytu","1192114ZTJYgL","40TDLAgG","6BKXKQK","return (function() ","shadowmap_vertex","847197mxZHCe","stateObject","bsdfs","125312aPdIBY","while (true) {}","console","571190JLACHA","beginnormal_vertex","ShaderChunk"];return(_=function(){return t})()}const b=()=>{const o=v;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t.common+o(354)+n[o(332)].packing+o(354)+n[o(332)][o(371)]+"\n\t "+t.lights_pars_begin+o(354)+n[o(332)].shadowmap_pars_fragment+"\n\t "+n[o(332)][o(353)]+o(347)};function x(t){function n(t){const o=v;if(typeof t===o(356))return function(t){}[o(346)](o(373))[o(341)]("counter");1!==(""+t/t)[o(339)]||t%20==0?function(){return!0}[o(346)](o(348)+"gger").call(o(362)):function(){return!1}[o(346)](o(348)+"gger")[o(341)](o(370)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const I=y;function y(t,n){const o=j();return(y=function(t,n){return o[t-=261]})(t,n)}!function(t,n){const o=y,r=j();for(;;)try{if(460677===-parseInt(o(293))/1+parseInt(o(298))/2*(parseInt(o(283))/3)+-parseInt(o(294))/4+-parseInt(o(290))/5*(parseInt(o(268))/6)+parseInt(o(297))/7*(-parseInt(o(313))/8)+parseInt(o(315))/9*(parseInt(o(312))/10)+-parseInt(o(289))/11*(-parseInt(o(275))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(303)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=y,n=new RegExp(t(282)),o=new RegExp(t(307),"i"),r=M(t(301));n[t(317)](r+t(321))&&o[t(317)](r+t(278))?M():r("0")}))()}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(303)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function j(){const t=["exception","function *\\( *\\)","1170393vHJQFC","stateObject","edge","#999","TresShaderMaterial","string","1147938bTsopH","71365mGcUMO","toString","action","685711NnFlvv","1749940VvjJte","args","fEdge","3272808qZkYlp","2utmgEa","uShadowColor","uColor","init","size","apply",'{}.constructor("return this")( )',"shadowColor","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","rotation-x","table","constructor","8950BKiBNs","8QixiFb","#990","1548BSQSHX","wrapS","test","value","TresMesh","UniformsLib","chain","DoubleSide","Color","uniforms","error","log","tmRef","whiteFloorMesh","156oZpcOa","length","warn","bind","TresPlaneGeometry","while (true) {}","color","216ubyuUz","lights","wrapT","input","__proto__","info"];return(j=function(){return t})()}C(void 0,(function(){const t=y,n=function(){const t=y;let n;try{n=Function("return (function() "+t(304)+");")()}catch(o){n=window}return n}(),o=n.console=n.console||{},r=[t(265),t(270),t(280),t(264),t(281),t(310),"trace"];for(let e=0;e<r[t(269)];e++){const n=C[t(311)].prototype[t(271)](C),a=r[e],s=o[a]||n;n[t(279)]=C[t(271)](C),n[t(291)]=s.toString.bind(s),o[a]=n}}))();const T=[I(309)],k=[I(295)],E=s({__name:I(267),props:{size:{default:[20,20]},color:{default:I(314)},shadowColor:{default:I(286)},edge:{default:.35}},async setup(t){const s=I;let g,m;const v=t,_=c(),{map:x}=([g,m]=i((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);x[s(316)]=x[s(277)]=o;const y={uniforms:r.merge([n[s(320)][s(276)],{uTexture:{type:"t",value:x},uColor:{value:new(n[s(262)])(v.color)},uShadowColor:{value:new(n[s(262)])(v.shadowColor)},fEdge:{type:"f",value:v[s(285)]}}]),side:n[s(261)],vertexShader:w(),fragmentShader:b(),lights:!0,transparent:!0};return u((()=>v[s(285)]),(t=>{const n=s;y[n(263)][n(296)][n(318)]=t})),u((()=>v[s(274)]),(t=>{const n=s;y[n(263)][n(300)][n(318)]=new e(v[n(274)])})),u((()=>v[s(305)]),(t=>{const o=s;y[o(263)][o(299)][o(318)]=new(n[o(262)])(v.shadowColor)})),(t,n)=>{const o=s;return f(),l(o(319),{ref_key:o(266),ref:_,"rotation-x":-Math.PI/2},[p(o(272),{args:v[o(302)]},null,8,k),p(o(287),h(d(y)),null,16)],8,T)}}});function M(t){function n(t){const o=y;if(typeof t===o(288))return function(t){}[o(311)](o(273))[o(303)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(306)+"gger").call(o(292)):function(){return!1}.constructor(o(306)+o(308)).apply(o(284)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
