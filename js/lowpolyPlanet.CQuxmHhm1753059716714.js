import{e as t,k as o,a as e,d as a}from"./@tresjs.oHLVlBVa1753059716714.js";import{X as s,_ as n}from"./three.DR_5uK8e1753059716714.js";import{_ as i}from"./default.vue_vue_type_script_setup_true_lang.BhjwQqlO1753059716714.js";import{d as r,aa as l,w as p,G as u,o as c,u as d,v as h,F as m,I as g,j,W as M,h as f,f as w,e as y,a5 as _,m as v}from"./@vue.DwSifnVs1753059716714.js";import"./postprocessing.BrgFZ9pj1753059716714.js";import"./@vueuse.mXirru381753059716714.js";import"./@fesjs.CV3tl4s01753059716714.js";import"./vue-router.Tg4SAQ0L1753059716714.js";import"./lodash-es.C7pWAXPe1753059716714.js";import"./@qlin.q6OWdsQV1753059716714.js";import"./pinia.DQkQ1TR81753059716714.js";import"./@babel.BPq7uOAK1753059716714.js";import"./@floating-ui.BFjFSAYt1753059716714.js";import"./@juggle.CcBCnTIR1753059716714.js";const b=["object"],S=r({__name:"airplane",props:{planet:{}},async setup(e){let a,s;const n=e,{scene:i}=([a,s]=l((()=>o("./plugins/earthSample/model/lowpolyPlanet/airplane.gltf"))),a=await a,s(),a),r=i;r.rotation.set(0,Math.PI,0),i.traverse((t=>{t.isMesh&&(t.castShadow=!0)})),r.updateMatrixWorld();const{onLoop:h}=t();p((()=>n.planet),(t=>{if(!t)return;t.geometry.computeBoundingSphere();const o=Math.abs(1|t.geometry.boundingSphere?.radius);r.position.set(o,0,0),r.lookAt(t.position)}));let m=0;return h((({delta:t})=>{if(!r||!n.planet)return;const o=Math.abs(n.planet.geometry.boundingSphere.radius)+.5;m+=.2*t;const e=o*Math.cos(m),a=o*Math.sin(m);r.position.x=e,r.position.z=a,r.rotation.z=-Math.PI/2,r.rotation.y=-m,r.updateMatrixWorld()})),(t,o)=>(c(),u("primitive",{object:d(r)},null,8,b))}}),x=["object"],P=r({__name:"cloud",props:{planet:{}},async setup(e){let a,s;const n=e,{scene:i}=([a,s]=l((()=>o("./plugins/earthSample/model/lowpolyPlanet/cloud.gltf"))),a=await a,s(),a);h();const r=i.children[0];function m(t,o){const e=Math.random()*(o-t)+t;return Math.random()<.5?-e:e}r.castShadow=!0,r.position.set(m(-8,8),m(.5,1),m(-8,8));const g=m(.5,1);r.scale.set(g,g,g),r.updateMatrixWorld(),p((()=>n.planet),(t=>{t&&(r.lookAt(t.position),r.updateMatrixWorld())}));const{onLoop:j}=t();let M=m(-1,1)*Math.PI;const f=Math.random()/10;return j((({delta:t})=>{if(!r)return;const o=Math.abs(n.planet.geometry.boundingSphere.radius-.5);M+=t*f;const e=o*Math.cos(M),a=o*Math.sin(M);r.position.x=e,r.position.z=a,r.rotation.y=-M,r.lookAt(n.planet.position),r.updateMatrixWorld()})),(t,o)=>(c(),u("primitive",{object:d(i),"cast-shadow":""},null,8,x))}}),z=["object"],L=r({__name:"planet",async setup(e){let a,s;const{nodes:n}=([a,s]=l((()=>o("./plugins/earthSample/model/lowpolyPlanet/planet.gltf"))),a=await a,s(),a),i=n.Planet,r=n.Icosphere;i.traverse((t=>{t.isMesh&&(t.receiveShadow=!0)}));const{onLoop:p}=t();return p((({delta:t})=>{i&&(i.rotation.y+=.04*t,i.rotation.z+=.02*t,i.rotation.x+=.05*t,i.updateMatrixWorld())})),(t,o)=>(c(),u(m,null,[g("primitive",{object:d(i)},null,8,z),j(S,{planet:d(r)},null,8,["planet"]),(c(),u(m,null,M([1,2,3,4,5,6,7,8,9],(t=>j(P,{key:t,planet:d(r)},null,8,["planet"]))),64))],64))}}),W=r({__name:"lowpolyPlanet",setup(o){const r={clearColor:"#11101B",shadows:!0,alpha:!1,outputColorSpace:n,shadowMapType:s,useLegacyLights:!0},l=h(0);return t().onLoop((({delta:t})=>{l.value+=.02*t})),(t,o)=>{const s=f("TresCanvas");return c(),u(m,null,[j(i),j(s,v(r,{"window-size":""}),{default:w((()=>[o[0]||(o[0]=g("TresPerspectiveCamera",{position:[0,1,5],fov:75,near:.1,far:1e3},null,-1)),j(d(e)),o[1]||(o[1]=g("TresAmbientLight",{color:"#484068",intensity:1},null,-1)),(c(),y(_,null,{default:w((()=>[j(L)])),_:1})),j(d(a),{rotation:[0,l.value,0],radius:50,depth:50,count:5e3,size:.3,"size-attenuation":!0},null,8,["rotation"]),o[2]||(o[2]=g("TresPointLight",{color:"#1BFFEF",position:[0,0,-8],intensity:80,"cast-shadow":""},null,-1)),o[3]||(o[3]=g("TresDirectionalLight",{position:[0,2,4],intensity:3,"cast-shadow":"","shadow-mapSize-width":2048,"shadow-mapSize-height":2048},null,-1))])),_:1},16)],64)}}});export{W as default};
