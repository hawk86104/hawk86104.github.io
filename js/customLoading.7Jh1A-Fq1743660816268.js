import{B as e,Q as o}from"./three.quarks.H01G6FD01743660816268.js";import{R as s}from"./index.T-vY6kZg1743660816268.js";import{e as r,o as t}from"./@tresjs.zc7faK4J1743660816268.js";import{P as a}from"./tweakpane.ivGeiIdz1743660816268.js";import"./index.05kvU0z71743660816268.js";import{d as i,w as n,o as l,H as p,N as m,u as c,F as u,r as j,e as d,j as f,g as h,f as g,m as y,M,al as v}from"./@vue.B5PFBfKs1743660816268.js";import{f as w,C as _,t as b}from"./three.2wx8FU0g1743660816268.js";import{a as T}from"./quarks.core.TCS8Grzm1743660816268.js";import{l as k}from"./yangyangLoading.yRjR1R_U1743660816268.js";import{_ as C}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.HokDQ1tw1743660816268.js";import"./utils.J8F9Jo-01743660816268.js";import"./@fesjs.9AUNBPBQ1743660816268.js";import"./vue-router.K4ys0Z-O1743660816268.js";import"./lodash-es.IJc9G_SW1743660816268.js";import"./@qlin.o0hjOMCg1743660816268.js";import"./pinia.0dYyFDku1743660816268.js";import"./@floating-ui.HzHndBae1743660816268.js";import"./@juggle.4EyLec-41743660816268.js";import"./three-mesh-ui.module._G62nyeC1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./all.three.q3DPAGr01743660816268.js";import"./oimophysics.WhCxc1Ho1743660816268.js";import"./reflectorDiffuse.5zy0dW_U1743660816268.js";import"./vite-plugin-qiankun.DT7p3NC_1743660816268.js";import"./index.wgv4wbeG1743660816268.js";import"./object-hash.6N1Uf8kA1743660816268.js";import"./@amap.c8pGcSIC1743660816268.js";import"./jszip.rGR265Ak1743660816268.js";import"./three-stdlib.rtqrSiFZ1743660816268.js";import"./whiteFloor.45lmiqp31743660816268.js";const B=["object"],P=["object","position","scale","rotation"],x=i({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(o){const t=o,a=e=>{const o=new _(t.color),s=new b(o.r,o.g,o.b,e);return new T(s)},i=new e,j=new w,d=s.getItem("CartoonMagicZone.json").clone(!0);d.traverse((e=>{if("ParticleEmitter"===e.type){"BasicZoneRedEmitter"===e.name&&e.rotation.set(Math.PI/2,0,0);const o=e.system;o.startColor=a(o.startColor.color.w),i.addSystem(o)}})),"ParticleEmitter"===d.type&&i.addSystem(d.system),j.add(d);const{onLoop:f}=r();return f((({delta:e})=>{i.update(e)})),n((()=>[t.color]),(([e])=>{i.systemToBatchIndex.forEach(((e,o)=>{o.startColor=a(o.startColor.color.w)}))})),(e,o)=>(l(),p(u,null,[m("primitive",{object:c(j)},null,8,B),m("primitive",{object:c(i),position:e.position,scale:e.scale,rotation:e.rotation},null,8,P)],64))}}),L=i({__name:"customLoading",setup(e){const r=j({reflectivity:.1,showGridHelper:!0,scale:1}),i=j({color:"#ffffff",scale:1});s.loaderMapping.QuarksLoader=o,s.loadResources([{functionName:"QuarksLoader",url:"./plugins/floor/json/CartoonMagicZone.json"}]);const n=new a;return n.addBinding(i,"color",{label:"颜色"}),n.addBinding(i,"scale",{label:"大小",min:.1,max:3,step:.1}),(e,o)=>{const a=d("TresCanvas");return l(),p(u,null,[f(c(k),{useResourceManager:""}),f(a,{clearColor:"#201919","window-size":""},{default:h((()=>[o[0]||(o[0]=m("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),f(c(t),{enableDamping:""}),c(s).hasAllFinished.value?(l(),g(x,y({key:0},i,{position:[0,0,0]}),null,16)):M("",!0),c(s).hasAllFinished.value?(l(),g(x,{key:1,color:"red",position:[3,0,0],rotation:[-Math.PI,1,45]},null,8,["rotation"])):M("",!0),c(s).hasAllFinished.value?(l(),g(x,{key:2,color:"green",position:[-2,0,0]})):M("",!0),o[1]||(o[1]=m("TresMesh",{position:[3,0,0]},[m("TresSphereGeometry",{args:[1,32,32]}),m("TresMeshBasicMaterial",{color:"red"})],-1)),o[2]||(o[2]=m("TresMesh",{position:[-2,0,0]},[m("TresSphereGeometry",{args:[1,32,32]}),m("TresMeshBasicMaterial",{color:"green"})],-1)),o[3]||(o[3]=m("TresMesh",{position:[0,0,0]},[m("TresSphereGeometry",{args:[1,32,32]}),m("TresMeshBasicMaterial",{color:"white"})],-1)),(l(),g(v,null,{default:h((()=>[f(c(C),y({position:[0,-.5,0]},r),null,16)])),_:1}))])),_:1})],64)}}});export{L as default};
