var t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d,w=Object.defineProperty,g=(t,e,s)=>(((t,e,s)=>{e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as S}from"./pagesShow.vue_vue_type_script_setup_true_lang.IAgy7egx1735517803200.js";import{_ as y,V as v,k as x,M as I,B as P,a as A,X as F,cw as T,f as E,as as b,cx as R,w as z,aB as O,C,a2 as V,an as q}from"./three.-uH5I3Xp1735517803200.js";import{m as M,e as N}from"./@tresjs.0qL_P2CE1735517803200.js";import{d as _,b as U,a3 as B,o as j,f as D,g as X,j as W}from"./@vue.-THQH3GC1735517803200.js";import"./three-custom-shader-material.T7xd34Ba1735517803200.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1735517803200.js";import"./@vueuse.oT9wchAS1735517803200.js";const Y=mt;!function(t,e){const s=mt,n=Mt();for(;;)try{if(951652===-parseInt(s(176))/1*(-parseInt(s(183))/2)+-parseInt(s(196))/3*(parseInt(s(477))/4)+parseInt(s(385))/5*(parseInt(s(522))/6)+-parseInt(s(592))/7+parseInt(s(280))/8+parseInt(s(303))/9+parseInt(s(179))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const J=class{constructor(t){this.name=t}};t=Y(608),e=Y(464),g(J,t,new J(Y(608))),g(J,e,new J(Y(464)));let L=J;class Z{constructor(){this[Y(326)]()}[Y(326)](){const t=Y;this.progressType=L[t(608)],this[t(386)]=1,this[t(409)]=0,this[t(533)]=new(y[t(341)]),this[t(575)]=new v,this[t(508)]=new(y[t(489)]),this.acceleration=new(y[t(489)]),this[t(221)]=new(y[t(489)]),this[t(434)]=0,this[t(589)]=0,this[t(613)]=new(y[t(544)]),this[t(576)]=new(y[t(271)]),this.alpha=1,this[t(205)]=new x,this[t(578)]=new(y[t(271)]),this[t(342)]=1}[Y(212)](t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d){const w=Y;this[w(487)]=t,this[w(386)]=e,this[w(409)]=s,this[w(533)][w(327)](n),this[w(575)][w(327)](i),this[w(508)][w(327)](r),this[w(513)].copy(a),this[w(221)][w(327)](o),this[w(434)]=c,this[w(589)]=h,this[w(613)]=l,this[w(576)].copy(u),this.alpha=p,this.initialSize.copy(m),this.initialColor[w(327)](f),this[w(342)]=d}[Y(516)](t){const e=Y;t[e(212)](this[e(487)],this[e(386)],this[e(409)],this.sequenceElement,this.position,this[e(508)],this[e(513)],this[e(221)],this.rotation,this[e(589)],this[e(613)],this.color,this[e(381)],this.initialSize,this.initialColor,this[e(342)])}[Y(327)](t){const e=Y;this[e(212)](t[e(487)],t[e(386)],t[e(409)],t.sequenceElement,t[e(575)],t.velocity,t[e(513)],t[e(221)],t[e(434)],t[e(589)],t[e(613)],t[e(576)],t.alpha,t[e(205)],t.initialColor,t[e(342)])}}class G{constructor(){g(this,s,function(){const t=Y,e=new v;return function(s=new(y[t(345)]),n=null){const i=t,r=s[i(625)],a=s[i(628)];for(let t=0;t<this[i(201)];t++){const s=this[i(264)](t);let o=s[i(575)];n&&(e.copy(o),e[i(237)](n),o=e);const c=Math[i(628)](s[i(613)].x,s.size.y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,f=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=f)}return s}}()),g(this,"computeBoundingSphere",function(){const t=Y,e=new(y[t(489)]),s=new(y[t(489)]),n=new(y[t(489)]);return function(i=new(y[t(468)]),r=null){const a=t;let o=0;for(let t=0;t<this[a(201)];t++){const i=this[a(264)](t);let c=i[a(575)];r&&(n[a(327)](c),n[a(237)](r),c=n);const h=Math[a(628)](i.size.x,i[a(613)].y);if(0==t)e[a(327)](c),o=h;else{s[a(327)](c)[a(333)](e);const t=s[a(167)]()+h;if(t>o){const n=(t-o)/2;s.normalize().multiplyScalar(n),e[a(209)](s),o+=n}}}return i.center.copy(e),i.radius=o,i}}());const t=Y;this[t(292)]=0,this[t(201)]=0,this[t(547)]=[]}[Y(326)](t){this.setParticleCount(t)}setParticleCount(t){const e=Y;this[e(292)]!=t&&(this[e(184)](),this[e(570)](t)),this[e(292)]=t}[Y(192)](t){this.activeParticleCount=t}allocate(t){const e=Y;this[e(547)]=[],this[e(292)]=t;for(let s=0;s<t;s++)this.particleStates[s]=new Z}[Y(184)](){}[Y(442)](){return this[Y(292)]}[Y(587)](){}copyState(t,e){const s=Y;if(t>=this.particleCount)throw new Error(s(305));if(e>=this[s(292)])throw new Error(s(493));const n=this[s(547)][t],i=this.particleStates[e];n[s(516)](i)}[Y(358)](t,e){const s=Y;if(t>=this[s(292)])throw new Error(s(406));return this[s(547)][t][s(327)](e)}[Y(264)](t){const e=Y;if(t>=this[e(292)])throw new Error(e(483));return this[e(547)][t]}}s=Y(346);class k{constructor(t,e,s=0){const n=Y;this[n(348)]=t,this[n(167)]=e,this.id=s}}class H{constructor(){const t=Y;this[t(334)]={},this[t(512)]=[]}addSequence(t,e,s){const n=Y;if(this[n(382)](s))throw new Error(n(328));const i=new k(t,e,s);return this[n(334)][s]=i,this[n(512)][n(407)](s),i}[Y(269)](t){const e=Y;if(!this.hasID(t))throw new Error(e(595));return this[e(334)][t]}[Y(289)](){return this.ids}hasID(t){return!!this[Y(334)][t]}}class ${constructor(){}[Y(301)](t){const e=Y;t[e(578)].set(1,1,1),t.initialSize[e(490)](1,1),t.initialAlpha=1,t[e(487)]=L.Time,t[e(386)]=0,t[e(409)]=0,t.sequenceElement.set(0,0,0,0),t[e(575)].set(0,0,0),t[e(508)][e(490)](0,0,0),t[e(513)][e(490)](0,0,0),t.normal[e(490)](0,0,1),t.rotation=0,t[e(589)]=0,t[e(613)][e(327)](t[e(205)]),t[e(576)][e(327)](t[e(578)]),t[e(381)]=1}}class Q extends ${constructor(){super()}[Y(301)](t){super[Y(301)](t)}}class K{constructor(){}updateState(){}}class tt extends K{constructor(){const t=Y;super(),this[t(521)]=new(y[t(489)]),this[t(376)]=new(y[t(489)]),this.stateAcceleration=new(y[t(489)]),this.stateVelocity=new(y[t(489)])}[Y(573)](t,e){const s=Y;return super.updateState(t,e),this[s(304)][s(327)](t[s(513)]),this[s(376)].copy(this[s(304)]),this[s(376)].multiplyScalar(e),t.velocity[s(209)](this[s(376)]),this[s(600)][s(327)](t[s(508)]),this[s(521)][s(327)](this[s(600)]),this.timeScaledVelocity[s(518)](e),t[s(575)][s(209)](this[s(521)]),t.age=t[s(409)]+e,t[s(434)]=t.rotation+e*t[s(589)],!0}}class et{static[Y(520)](t,e,s){return Math[Y(625)](Math.max(t,e),s)}static[Y(227)](){return performance[Y(517)]()/1e3}}class st{constructor(){this[Y(319)]=[]}addComponent(t){const e=Y;this[e(319)][e(407)](t)}[Y(443)](t,e){const s=Y;for(const n of this[s(319)])n.update(t,e)}[Y(208)](t){const e=Y;if(t>=this[e(319)].length)throw new Error('ComponentContainer::getComponent() -> "index" is out of range.');return this[e(319)][t]}}const nt=class{constructor(t){this.name=t}};n=Y(540),i=Y(207),r=Y(214),g(nt,n,new nt(Y(540))),g(nt,i,new nt(Y(207))),g(nt,r,new nt(Y(214))),g(nt,"Done",new nt("Done"));let it=nt;class rt{constructor(t,e){g(this,a,function(){const t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();t(this,(function(){const e=mt;let s;try{s=Function(e(515)+e(411)+");")()}catch(r){s=window}const n=s[e(408)]=s.console||{},i=["log",e(492),e(599),e(193),e(287),e(607),e(572)];for(let a=0;a<i.length;a++){const s=t[e(627)][e(441)][e(626)](t),r=i[a],o=n[r]||s;s.__proto__=t[e(626)](t),s[e(228)]=o.toString[e(626)](o),n[r]=s}}))();const e=new I;return function(){const t=mt;let s=null;this.transformInitialDirectionInWorldSpace&&(s=e,s.copy(this[t(331)][t(612)]).invert()),this[t(585)][t(177)]()?(this[t(547)][t(346)](this[t(413)],s),this.particleSystemRenderer[t(440)](this.boundingBox)):(this[t(547)][t(630)](this[t(261)],s),this[t(585)][t(430)](this.boundingSphere))}}());const s=Y;this[s(331)]=t,this[s(331)][s(302)]=!1,this[s(302)]=!0,this[s(585)]=e,this[s(199)]=!1,this.maximumActiveParticles=0,this[s(201)]=0,this.simulateInWorldSpace=!0,this[s(530)]=!1,this.particleEmitter=null,this[s(245)]=new st,this[s(451)]=[],this[s(240)]=[],this[s(547)]=null,this[s(343)]=it.NotStarted,this[s(210)]=new H,this[s(172)]=null,this.transformInitialDirectionInWorldSpace=!0,this.boundingBox=new(y[s(345)]),this[s(261)]=new(y[s(468)])}init(t){const e=Y;if(this[e(199)])throw new Error("ParticleSystem::init() -> trying to intialize more than once.");this[e(479)]=t,this.particleSystemRenderer?(this[e(585)][e(339)](this.owner),this[e(585)].init(this[e(479)],this[e(241)]),this.particleSystemRenderer.setSimulateInWorldSpace(this[e(241)]),this[e(547)]=this[e(585)][e(169)]()):(this[e(547)]=new G,this.particleStates.init(this[e(479)])),this[e(601)](new Q),this[e(218)](new tt),this[e(199)]=!0}[Y(604)](){return this[Y(302)]}[Y(198)](t){return this.visible=t}[Y(418)](t){this[Y(172)]=t}[Y(443)](t,e){const s=Y;if(this[s(343)]==it[s(207)]){if(this[s(331)][s(403)](!0),t=null==t||null==t?et[s(227)]():t,e=null==e||null==e?t-this[s(375)]:e,this.emitterInitialized&&this[s(343)]==it[s(207)]){const t=this[s(611)].update(e);t>0&&this.activateParticles(t),this[s(452)](e),this[s(172)]&&this[s(172)](this[s(201)]),this[s(277)]()}this[s(245)].update(t,e),this.lastUpdateTime=t}}[Y(219)](t,e){const s=Y;if(this[s(604)]()&&this[s(585)]){const n=t.autoClear;t[s(262)]=!1,this.owner[s(302)]=!0,this[s(331)][s(392)]=!0,this[s(585)][s(219)](this[s(331)],t,e),this[s(331)][s(302)]=!1,t[s(262)]=n}}[Y(348)](){const t=Y;this[t(343)]!=it.NotStarted&&this[t(343)]!=it[t(214)]||(this[t(343)]=it[t(207)],this.startTime=et[t(227)](),this[t(375)]=this.startTime)}pause(){const t=Y;this[t(343)]==it[t(207)]&&(this[t(343)]=it[t(214)])}[Y(340)](){}getSystemState(){return this[Y(343)]}setEmitter(t){const e=Y;return this[e(611)]=t,this[e(611)][e(479)]=this.maximumActiveParticles,this.emitterInitialized=!0,this[e(611)]}[Y(469)](t){const e=Y;this[e(245)][e(469)](t)}[Y(208)](t){return this.componentContainer.getComponent(t)}[Y(601)](t){const e=Y;return this[e(451)][e(407)](t),t}[Y(226)](){return this[Y(451)].length}[Y(400)](t){const e=Y;if(t>=this[e(451)][e(167)])throw new Error(e(360));return this[e(451)][t]}[Y(218)](t){const e=Y;return this[e(240)][e(407)](t),t}[Y(298)](){const t=Y;return this[t(240)][t(167)]}[Y(285)](t){const e=Y;if(t>=this[e(240)][e(167)])throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(240)][t]}getMaximumActiveParticles(){return this[Y(479)]}getActiveParticleCount(){return this.activeParticleCount}[Y(189)](t){const e=Y;if(t>=this[e(201)])throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this[e(547)].getState(t)}[Y(569)](){return this[Y(547)]}[Y(370)](){return this[Y(585)]}[Y(268)](){return this[Y(241)]}[Y(501)](t){const e=Y;this[e(241)]=t,this.particleSystemRenderer&&this.particleSystemRenderer[e(501)](this[e(241)])}setTransformInitialDirectionInWorldSpace(t){this[Y(480)]=t}[Y(618)](t,e,s=0){const n=Y;this[n(210)][n(249)](t,e,s)}[Y(503)](){return this[Y(210)]}getEmitter(){return this.particleEmitter}[(a=Y(277),Y(536))](t){const e=Y;if(this[e(343)]==it[e(207)]){const s=et[e(520)](this.activeParticleCount+t,0,this.maximumActiveParticles);for(let t=this[e(201)];t<s;t++)this[e(617)](t);this[e(201)]=s,this[e(547)].setActiveParticleCount(this[e(201)])}}activateParticle(t){const e=Y;if(this[e(343)]==it[e(207)]){const s=this[e(547)][e(264)](t);s[e(409)]=0;for(let t=0;t<this[e(451)][e(167)];t++){this[e(451)][t].initializeState(s)}if(this[e(241)]){s[e(575)][e(237)](this[e(331)][e(612)]);const t=s.velocity[e(167)]();if(this[e(480)]){s[e(508)][e(629)](this.owner[e(612)]).multiplyScalar(t);const n=s[e(513)][e(167)]();s[e(513)][e(629)](this[e(331)][e(612)])[e(518)](n)}}this[e(547)][e(587)](t)}}[Y(452)](t){const e=Y;if(this[e(343)]==it[e(207)]){let s=0;for(;s<this[e(201)];){this[e(481)](s,t)?s++:(s<this.activeParticleCount-1&&this[e(510)](this[e(201)]-1,s),this.activeParticleCount--)}this.particleStates[e(192)](this[e(201)])}}advanceActiveParticle(t,e){const s=Y;if(this[s(343)]==it[s(207)]){const n=this.particleStates[s(264)](t);for(let t=0;t<this[s(240)][s(167)];t++){const i=this[s(240)][t][s(573)](n,e),r=n[s(386)];if(!i||0!=r&&n.age>=r)return!1}return this[s(547)][s(587)](t),!0}return!1}[Y(510)](t,e){const s=Y;this[s(547)][s(232)](t,e),this[s(547)][s(587)](e)}static[Y(357)](t,e,s){const n=Y,i=(t,e,s)=>{const n=mt;e(t);for(const r in t)if(t[n(270)](r)){const s=t[r];"object"==typeof s&&i(s,e)}};i(t,(t=>{const s=mt;t[s(461)]&&(t[s(461)]=e[s(253)](t[s(461)]))}));const r=t[n(243)],a=t[n(241)],o=t[n(204)],c=o[n(461)][n(357)](o[n(307)]),h=new(y[n(236)]),l=new rt(h,c,s);l[n(326)](r),l[n(501)](a);const u=t.emitter,p=u[n(461)][n(357)](u[n(307)]);if(l[n(541)](p),t[n(334)])for(const m of t.sequences)l[n(618)](m.start,m.length,m.id);if(t[n(471)])for(const m of t.initializers)l[n(601)](m[n(461)][n(357)](l,m.params));if(t[n(379)])for(const m of t[n(379)]){const t=l.addParticleStateOperator(m[n(461)].fromJSON(l,m.params));m.elements&&t.addElementsFromParameters(m[n(195)])}return[l,h]}toJSON(t){const e=Y,s=this[e(370)](),n=this[e(427)](),i=this[e(503)](),r=i[e(289)]()[e(366)]((t=>{const s=e,n=i[s(269)](t);return{id:t,start:n[s(348)],length:n[s(167)]}})),a=[],o=this[e(226)]();for(let l=0;l<o;l++){const s=this[e(400)](l);s[e(627)]!==Q&&a[e(407)]({type:t.getTypePath(s.constructor),params:s.toJSON(t)})}const c=[],h=this[e(298)]();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s[e(627)]!==tt){const n=s[e(377)](t),i=n.params||n,r=n.params?n.elements:null,a={type:t[e(369)](s.constructor),params:i};r&&(a[e(195)]=r),c[e(407)](a)}}return{maxParticleCount:this[e(255)](),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t[e(369)](s.constructor),params:s[e(377)]()},emitter:{type:t[e(369)](n[e(627)]),params:n.toJSON()},sequences:r,initializers:a,operators:c}}}class at{constructor(){const t=Y;this[t(347)]=[],this[t(273)]=performance[t(517)]()/1e3,this.lastUpdateTime=this[t(273)],this[t(245)]=new st}[Y(443)](){const t=Y,e=et[t(227)](),s=e-this[t(375)];for(const n of this[t(347)])n.update(e,s);this.componentContainer[t(443)](e,s),this[t(375)]=e}render(t,e){const s=Y;for(const n of this[s(347)])n[s(219)](t,e)}addParticleSystem(t){this[Y(347)].push(t)}[Y(469)](t){const e=Y;this[e(245)][e(469)](t)}[Y(208)](t){const e=Y;return this[e(245)][e(208)](t)}}class ot{constructor(){const t=Y;this.initialized=!1,this[t(292)]=0,this[t(331)]=null,this.simulateInWorldSpace=!1}[Y(501)](t){this[Y(241)]=t}[Y(169)](){}setOwner(t){this[Y(331)]=t}[Y(326)](t){const e=Y;if(this.particleCount=t,!this[e(199)])return this[e(199)]=!0,!0;throw new Error(e(454))}render(){}}class ct extends G{constructor(){const t=Y;super(),this.geometry=null,this.progressTypes=null,this.lifetimes=null,this[t(272)]=null,this[t(217)]=null,this[t(322)]=null,this[t(238)]=null,this[t(194)]=null,this[t(200)]=null,this[t(561)]=null,this[t(206)]=null,this[t(439)]=null,this[t(395)]=null,this[t(332)]=null,this.initialColors=null,this[t(433)]=!1,this[t(248)]=6}init(t,e=!1){const s=Y;this[s(433)]=e,this.instanced?this[s(248)]=1:this.verticesPerParticle=6,super.init(t),this[s(570)](t)}setParticleCount(t){super[Y(310)](t)}[Y(192)](t){const e=Y;super.setActiveParticleCount(t),t>0?this[e(433)]?this[e(190)][e(324)]=t:this[e(190)][e(616)](0,this[e(248)]*t):this.instanced?this[e(190)][e(324)]=0:this[e(190)][e(616)](0,0)}[Y(587)](t){const e=Y;if(t>=this[e(292)])throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this[e(264)](t),n=t*this[e(248)];for(let i=0;i<this[e(248)];i++)this[e(359)].setX(n+i,s[e(386)]),this[e(359)][e(283)]=!0,this[e(272)][e(182)](n+i,s[e(409)]),this[e(272)].needsUpdate=!0,this.sequenceElements[e(235)](n+i,s[e(533)].x,s[e(533)].y,s[e(533)].z,s[e(533)].w),this.sequenceElements[e(283)]=!0,this.positions[e(173)](n+i,s[e(575)].x,s.position.y,s[e(575)].z),this.positions[e(283)]=!0,this[e(238)][e(173)](n+i,s[e(508)].x,s.velocity.y,s.velocity.z),this[e(238)].needsUpdate=!0,this[e(194)].setXYZ(n+i,s.acceleration.x,s[e(513)].y,s[e(513)].z),this[e(194)][e(283)]=!0,this[e(200)][e(173)](n+i,s[e(221)].x,s[e(221)].y,s.normal.z),this.normals[e(283)]=!0,this[e(561)][e(182)](n+i,s.rotation),this[e(561)].needsUpdate=!0,this[e(206)][e(182)](n+i,s[e(589)]),this[e(206)][e(283)]=!0,this.sizes[e(216)](n+i,s[e(613)].x,s[e(613)].y),this[e(439)][e(283)]=!0,this.colors[e(173)](n+i,s.color.r,s[e(576)].g,s.color.b),this[e(395)][e(283)]=!0,this[e(388)][e(182)](n+i,s[e(381)]),this[e(388)][e(283)]=!0,this[e(332)].setXY(n+i,s.initialSize.x,s[e(205)].y),this[e(332)][e(283)]=!0,this[e(456)][e(182)](n+i,s.initialAlpha),this[e(456)].needsUpdate=!0}[Y(232)](t,e){const s=Y;super[s(232)](t,e),this[s(587)](e)}[Y(358)](t,e){const s=Y;if(t>=this.particleCount)throw new Error(s(300));super.setState(t,e),this.flushParticleStateToBuffers(t)}[Y(299)](){return this.positions}getSizes(){return this[Y(439)]}[Y(455)](){return this[Y(561)]}getSequenceElements(){return this.sequenceElements}[Y(586)](){return this[Y(395)]}[Y(186)](){return this[Y(190)]}[Y(570)](t){const e=Y;super[e(570)](t);const s=(t,s)=>{const n=e;return this[n(433)]?new(y[n(478)])(t,s):new(y[n(594)])(t,s)},n=this.verticesPerParticle*this[e(292)];if(this[e(433)]){const t=new(y[e(423)]),s=new Float32Array(18);this.basePositions=new(y[e(594)])(s,3),t[e(278)](e(575),this[e(363)]),this[e(363)].needsUpdate=!0,this[e(363)].setXYZ(0,-1,1,0),this[e(363)][e(173)](1,-1,-1,0),this[e(363)][e(173)](2,1,1,0),this[e(363)][e(173)](3,-1,-1,0),this[e(363)][e(173)](4,1,-1,0),this.basePositions[e(173)](5,1,1,0);const n=new Float32Array(12);this[e(368)]=new(y[e(594)])(n,2),t[e(278)](e(637),this[e(368)]),this[e(368)][e(283)]=!0,this.baseUVs[e(216)](0,0,1),this.baseUVs[e(216)](1,0,0),this[e(368)][e(216)](2,1,1),this[e(368)].setXY(3,0,0),this.baseUVs[e(216)](4,1,0),this.baseUVs.setXY(5,1,1);const i=new Float32Array(6);this[e(494)]=new(y[e(594)])(i,1),t[e(278)](e(323),this[e(494)]),this[e(494)].needsUpdate=!0,this[e(494)][e(182)](0,0),this[e(494)].setX(1,1),this.customIndexes[e(182)](2,3),this[e(494)][e(182)](3,1),this[e(494)].setX(4,2),this[e(494)][e(182)](5,3),this[e(190)]=(new(y[e(394)]))[e(327)](t),this[e(190)][e(324)]=0}else{this[e(190)]=new P;const t=new Float32Array(n);this[e(494)]=new A(t,1),this[e(190)].setAttribute(e(323),this[e(494)]),this.customIndexes[e(283)]=!0;for(let s=0;s<this[e(292)];s++){const t=s*this[e(248)];this[e(494)][e(182)](t,0),this[e(494)].setX(t+1,1),this[e(494)][e(182)](t+2,3),this[e(494)][e(182)](t+3,1),this[e(494)].setX(t+4,2),this.customIndexes[e(182)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),d=new Float32Array(n),w=new Float32Array(2*n),g=new Float32Array(3*n),S=new Float32Array(n);this.positions=s(o,3),this[e(322)].setUsage(F),this[e(190)][e(278)](e(354),this.positions),this[e(359)]=s(i,1),this[e(359)][e(365)](y[e(459)]),this.geometry.setAttribute(e(386),this.lifetimes),this[e(272)]=s(r,1),this[e(272)][e(365)](y[e(459)]),this[e(190)][e(278)](e(409),this.ages),this[e(217)]=s(a,4),this[e(217)][e(365)](F),this.geometry[e(278)](e(533),this[e(217)]),this[e(238)]=s(c,3),this[e(238)][e(365)](F),this[e(190)][e(278)](e(508),this.velocities),this.accelerations=s(h,3),this.accelerations[e(365)](y[e(459)]),this[e(190)].setAttribute(e(513),this[e(194)]),this[e(200)]=s(l,3),this.normals[e(365)](y[e(459)]),this[e(190)].setAttribute("normal",this.normals),this.rotations=s(u,1),this[e(561)].setUsage(F),this.geometry[e(278)](e(434),this[e(561)]),this[e(206)]=s(p,1),this.rotationalSpeeds[e(365)](y[e(459)]),this.geometry[e(278)](e(589),this[e(206)]),this[e(439)]=s(m,2),this[e(439)].setUsage(y[e(459)]),this[e(190)][e(278)](e(613),this[e(439)]),this[e(395)]=s(f,3),this[e(395)][e(365)](F),this.geometry[e(278)](e(576),this.colors),this[e(388)]=s(d,1),this[e(388)].setUsage(F),this.geometry.setAttribute(e(381),this.alphas),this[e(332)]=s(w,2),this[e(332)].setUsage(y[e(459)]),this.geometry[e(278)](e(205),this[e(332)]),this[e(259)]=s(g,3),this.initialColors[e(365)](y[e(459)]),this.geometry.setAttribute(e(578),this.initialColors),this[e(456)]=s(S,1),this[e(456)][e(365)](F),this[e(190)][e(278)]("initialAlpha",this[e(456)])}[Y(184)](){const t=Y;super[t(184)](),this.geometry&&(this[t(190)][t(184)](),this.geometry=null)}}class ht{constructor(t,e,s,n,i){const r=Y;this[r(167)]=t,this.x=e,this.y=s,this[r(558)]=n,this[r(432)]=i}}class lt{constructor(t,e){const s=Y;this[s(449)]=t,this.texturePath=e,this[s(583)]=[]}[Y(557)](){return this[Y(449)]}[Y(555)](){return this[Y(525)]}[Y(419)](){const t=Y;return this[t(583)][t(167)]}addFrameSet(t,e,s,n,i){this[Y(583)].push(new ht(t,e,s,n,i))}[Y(445)](t){const e=Y;if(t>=this.frameSets[e(167)])throw new Error(e(191));return this[e(583)][t]}}const ut=class t extends ot{constructor(t,e,s=!1,n=T,i=!0,r){const a=Y;super(),g(this,o,function(){const t=Y,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=mt,e=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=jt("init");e[t(203)](n+t(580))&&s.test(n+t(496))?jt():n("0")}))()}();const s=new(y[t(489)]);return function(){const e=t,n=this[e(306)][e(186)]();if(this[e(438)]){n.boundingBox||(n[e(413)]=new E),n[e(413)][e(327)](this[e(413)]),!n[e(261)]&&(n[e(261)]=new(y[e(468)])),s.x=(this.boundingBox[e(625)].x+this[e(413)].max.x)/2,s.y=(this.boundingBox[e(625)].y+this.boundingBox.max.y)/2,s.z=(this[e(413)][e(625)].z+this[e(413)][e(628)].z)/2;const t=this[e(413)][e(628)].x-s.x,i=this.boundingBox[e(628)].y-s.y,r=this[e(413)][e(628)].z-s.z,a=Math.max(Math[e(628)](t,i),r);n.boundingSphere.center.copy(s),n[e(261)][e(291)]=Math.sqrt(2*a*a)}else n.boundingSphere||(n[e(261)]=new(y[e(468)])),n[e(261)][e(327)](this[e(261)])}}()),this[a(433)]=t,this[a(306)]=null,this[a(465)]=null,this.mesh=null,this[a(436)]=e,this.interpolateAtlasFrames=s,this[a(636)]=n,this[a(413)]=new(y[a(345)]),this[a(261)]=new(y[a(468)]),this[a(438)]=i,this[a(556)]=r}[Y(339)](t){super[Y(339)](t)}[Y(169)](){return this.particleStateArray}[Y(501)](t){const e=Y;super[e(501)](t),this[e(465)]&&(this.material[e(421)][e(241)][e(581)]=t?1:0,this[e(465)][e(397)]=!0)}[Y(177)](){return this.calculateBoundingSphereFromBox}[Y(440)](t){const e=Y;this[e(413)][e(327)](t),this[e(168)]&&this[e(371)]()}[Y(430)](t){const e=Y;this[e(261)][e(327)](t),this[e(168)]&&this.updateMeshBounds()}render(t,e,s){e[Y(219)](t,s)}[(o=Y(371),Y(326))](t){const e=Y;super.init(t)&&(this[e(306)]=new ct,this[e(306)][e(326)](t,this[e(433)]),this[e(465)]=this[e(338)](null,null,null,!0,!1),this[e(465)][e(636)]=this.blending,this[e(168)]=new(y[e(566)])(this[e(306)][e(186)](),this[e(465)]),this[e(168)][e(281)]=!0,void 0!==this[e(556)]&&(this[e(168)][e(556)]=this.renderOrder),this[e(371)](),this[e(331)][e(209)](this[e(168)]))}[Y(184)](){const t=Y;this[t(306)][t(184)]()}[Y(338)](e,s,n,i,r){const a=Y,o=[...Array(16)[a(482)]()].map((t=>new b));if(this[a(436)])for(let t=0;t<this[a(436)][a(419)]();t++){const e=this[a(436)].getFrameSet(t);o[t]=new b(e.x,e.y,e.width,e[a(432)])}const c=this[a(436)]?this[a(436)][a(557)]():null,h=this.interpolateAtlasFrames,l=this[a(241)],u=this.instanced?1:0,p={atlasFrameSet:{type:a(509),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(y[a(544)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object.assign(n,p),e=e||t[a(170)].getVertexShader(r),s=s||t[a(170)][a(523)](i,r),new(y[a(356)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:y[a(410)],blendDstAlpha:R,blendSrcAlpha:z,depthTest:!0,depthWrite:!1})}static[(c=Y(170),Y(357))](e){const s=Y,n=e[s(436)],i=(new(y[s(266)]))[s(505)](n[s(525)]),r=new lt(i,n[s(525)]),a=n[s(384)];for(const t of a)r[s(239)](t[s(167)],t.x,t.y,t[s(558)],t.height);const o=new t(e[s(433)],r,n[s(171)]);return e[s(636)]==s(197)?o[s(636)]=y[s(577)]:o[s(636)]=y[s(410)],o}[Y(377)](t){const e=Y;t=t||(t=>{const e=mt;if(t[e(525)])return t[e(525)];const s=t[e(557)]().source;if(s){const t=s[e(373)];if(t){const s=t[e(279)],n=t[e(202)];return n.indexOf(s)>=0?n.substr(s[e(167)],n[e(167)]-s.length):n}}});const s=[];for(let i=0;i<this[e(436)][e(419)]();i++){const t=this[e(436)][e(445)](i);s[e(407)](t)}let n=e(565);this[e(465)][e(636)]===O&&(n=e(197));return{instanced:this[e(433)],blending:n,atlas:{interpolateFrames:this[e(309)],texturePath:t(this.atlas),framesets:s}}}};g(ut,c,{get VertexVars(){const t=Y;return["const int MAX_ATLAS_FRAME_SETS = 16; \n",t(387),t(519),"uniform int simulateInWorldSpace; \n","uniform int instanced; \n","attribute vec2 baseUV;\n",t(539),t(527),t(619),"attribute vec2 size;\n",t(422),"attribute vec3 color;\n","attribute float alpha;\n","varying vec2 vUV1;\n","varying vec2 vUV2;\n","varying vec3 vFragColor;\n",t(553),"varying float vSequenceElementT; \n"][t(571)]("\n")},get FragmentVars(){const t=Y;return[t(519),"uniform sampler2D atlasTexture;\n","uniform vec2 uvOffset;\n",t(251),t(476),"varying vec3 vFragColor;\n",t(553),"varying float vSequenceElementT;\n"][t(571)]("\n")},getVertexShader(t){const e=Y;let s=[e(351),this[e(402)]][e(571)]("\n");return t&&(s+=e(288)),s+=[e(174),"   float atlasFrameWidth = atlasFrames.z; \n",e(175),e(543),"   float atlasFrameY = atlasFrames.y; \n",e(614),e(337),e(560),e(349),"   int nRowSequenceElement = sequenceElement - firstRowSections; \n","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(263),e(549),e(211),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n",e(631),"   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","} \n",e(622),"{\n","   const vec2 right = vec2(1.0, 0.0);\n",e(588),e(220),e(435),e(282),e(473),e(497),"   const vec2 dRight = vec2(1.0, -1.0);\n","   vec4 viewPosition; \n",e(474),e(336),e(623),"       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   } \n",e(325),e(597),e(470),e(563),e(550),e(213),e(528),e(234),e(396),"   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n",e(448),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(296),e(389),e(180),"   float atlasFrameHeight = atlasFrames.w; \n",e(317),e(284),e(372),e(620),"   if (instanced != 1) { \n",e(551),e(538),e(318),"   }  else { \n",e(504),e(457),"   } \n",e(420),e(564),e(321),"   if (instanced != 1) { \n",e(188),e(562),e(467),e(485),e(215),e(472),"   }  else { \n",e(552),e(389),e(258),e(634),e(495),"   vFragColor = color; \n",e(506)][e(571)]("\n"),t&&(s+="   \n  #include <logdepthbuf_vertex> \n"),s+="} \n",s},getFragmentShader(t,e){const s=Y;let n=s(554)+this[s(344)]+"\n";return e&&(n+=s(257)),n+=s(231),e&&(n+=s(380)),n+=t?[s(362),s(254),"   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(293),s(507)].join("\n"):[s(250),s(254),s(320),s(293),"   gl_FragColor.a *= vFragAlpha; \n"].join("\n"),n+="}\n",n}});let pt=ut;function mt(t,e){const s=Mt();return(mt=function(t,e){return s[t-=167]})(t,e)}class ft{constructor(){const t=Y;this.emissionRelativeStartTime=0,this[t(417)]=0,this[t(416)]=0,this.age=0,this.timeActive=0,this[t(352)]=0,this.maximumActiveParticles=0}update(t){return this[Y(294)](t),0}[Y(294)](t){const e=Y;return this[e(409)]+=t,this.timeActive=Math[e(628)](this[e(409)]-this[e(532)],0),this[e(409)]>=this.emissionRelativeStartTime&&(0==this[e(417)]||this[e(609)]<=emissionDuration)}[Y(276)](t){this.emitCount+=t}}class dt extends ft{constructor(){const t=Y;super(),this[t(548)]=0,this[t(591)]=0}}class wt extends dt{constructor(t=0){super(),this.emissionRate=t}[Y(443)](t){const e=Y;if(this[e(294)](t)){const t=this[e(252)]*this.timeActive-this.emitCount;if(t>=1){const e=Math.floor(t);return this.updateEmitCount(e),e}}return 0}static fromJSON(t){const e=new wt;return e.emissionRate=t.emissionRate||0,e}[Y(377)](){return{emissionRate:this[Y(252)]}}}const gt=class t{constructor(t){this[Y(425)]=t}static[(h=Y(546),l=Y(544),u=Y(489),p=Y(341),Y(274))](e){const s=Y;let n=t[s(546)];return e===y[s(544)]?n=t[s(544)]:e===y[s(489)]?n=t[s(489)]:e===y[s(341)]?n=t[s(341)]:e===C&&(n=t[s(271)]),n}static[Y(450)](t,e){const s=Y;switch(e){case x:return(new x)[s(383)](t);case y[s(489)]:return(new(y[s(489)]))[s(383)](t);case y[s(341)]:return(new(y[s(341)]))[s(383)](t);case y[s(271)]:return(new(y[s(271)]))[s(383)](t)}return t}};g(gt,h,new gt("Default")),g(gt,l,new gt(Y(544))),g(gt,u,new gt(Y(489))),g(gt,p,new gt(Y(341))),g(gt,"Color",new gt(Y(271)));let St=gt;class yt{constructor(t){const e=Y;this[e(367)]=t,this.outTypeID=St[e(274)](t)}}class vt extends yt{constructor(t,e,s,n,i,r){const a=Y;super(t),this[a(224)]=e,this[a(229)]=s,this.uniformRange=n,this[a(531)]=i,this.normalize=r}[Y(458)](t){const e=Y,s=Math[e(230)]()*this[e(275)];switch(this.outTypeID){case St[e(546)]:t=Math[e(230)]()*this[e(224)]+this[e(229)],this[e(355)]&&(t=t<0?-1:1);break;case St[e(544)]:t.set(this[e(428)](s,"x"),this[e(428)](s,"y"));break;case St[e(489)]:t[e(490)](this.generateForElement(s,"x"),this[e(428)](s,"y"),this.generateForElement(s,"z"));break;case St[e(341)]:t.set(this[e(428)](s,"x"),this[e(428)](s,"y"),this[e(428)](s,"z"),this.generateForElement(s,"w"))}return this[e(355)]&&t[e(355)](),t}generateForElement(t,e){const s=Y;return t+Math[s(230)]()*this.range[e]+this[s(229)][e]+this[s(531)]}[Y(596)](){const t=Y;return new vt(this[t(367)],this[t(224)],this[t(229)],this[t(275)],this[t(531)],this[t(355)])}static[Y(374)](t){const e=Y;return t instanceof y[e(544)]||t instanceof y[e(489)]||t instanceof y[e(341)]||t instanceof C?t.toArray():t}static[Y(357)](t){const e=Y;return new vt(t[e(461)],St.loadJSONParameter(t[e(224)],t.type),St[e(450)](t[e(229)],t.type),t[e(275)]||0,t[e(531)]||0,t[e(355)])}[Y(377)](t){const e=Y,s={range:vt[e(374)](this.range),offset:vt[e(374)](this[e(229)]),uniformRange:this.uniformRange,uniformOffset:this[e(531)]},n=t.getTypePath(this[e(224)].constructor);return null!=n&&(s[e(461)]=n),{type:t[e(369)](vt),params:s}}}class xt extends ${constructor(t,e,s,n,i){const r=Y;super(),this[r(224)]=t,this.offset=e,this[r(275)]=s,this[r(531)]=n,this.normalize=i,this[r(223)]=new vt(0,this.range,this[r(229)],this.uniformRange,this[r(531)],this[r(355)])}[Y(301)](t){const e=Y;t[e(386)]=this[e(223)][e(458)]()}static[Y(357)](t,e){const s=Y;return new xt(e[s(224)],e.offset,e.uniformRange,e[s(531)],e[s(355)])}[Y(377)](){const t=Y;return{range:this.range,offset:this[t(229)],uniformRange:this[t(275)],uniformOffset:this[t(531)],normalize:this[t(355)]}}}class It extends ${constructor(t){const e=Y;super(),this[e(223)]=t[e(596)]()}[Y(301)](t){const e=Y;t[e(434)]=this[e(223)].generate(t[e(434)])}static fromJSON(t,e){const s=Y,n=e.generator.type[s(357)](e[s(223)].params);return new It(n)}[Y(377)](t){const e=Y;return{generator:this[e(223)][e(377)](t)}}}class Pt extends ${constructor(t,e,s,n,i){const r=Y;super(),this[r(224)]=t,this[r(229)]=e,this.uniformRange=s,this[r(531)]=n,this[r(355)]=i,this[r(223)]=new vt(0,this[r(224)],this[r(229)],this[r(275)],this[r(531)],this[r(355)])}initializeState(t){const e=Y;t.rotationalSpeed=this[e(223)][e(458)]()}static fromJSON(t,e){const s=Y;return new Pt(e[s(224)],e[s(229)],e[s(275)],e[s(531)],e[s(355)])}[Y(377)](){const t=Y;return{range:this.range,offset:this[t(229)],uniformRange:this[t(275)],uniformOffset:this[t(531)],normalize:this[t(355)]}}}class At extends ${constructor(t,e){const s=Y;super(),this.randomGenerator=new vt(y[s(489)],t,e,0,0,!1)}[Y(301)](t){const e=Y;this[e(350)].generate(t[e(575)])}static fromJSON(t,e){const s=Y;return new At((new(y[s(489)]))[s(383)](e[s(224)]),(new(y[s(489)]))[s(383)](e[s(229)]))}[Y(377)](){const t=Y;return{range:this[t(350)][t(224)][t(286)](),offset:this.randomGenerator[t(229)][t(286)]()}}}class Ft extends ${constructor(t){const e=Y;super(),this[e(223)]=t.clone()}[Y(301)](t){const e=Y;this[e(223)][e(458)](t[e(613)]),t[e(205)].copy(t[e(613)])}static[Y(357)](t,e){const s=Y,n=e.generator[s(461)][s(357)](e.generator[s(307)]);return new Ft(n)}[Y(377)](t){return{generator:this[Y(223)].toJSON(t)}}}class Tt extends ${constructor(t,e,s,n,i=!0){const r=Y;super(),this[r(463)]=new vt(y[r(489)],t,e,0,0,!0),this[r(534)]=new vt(0,s,n,0,0,!1),this[r(447)]=i}initializeState(t){const e=Y;this[e(463)].generate(t[e(508)]),this[e(447)]&&t[e(508)][e(355)](),t[e(508)][e(518)](this[e(534)][e(458)]())}static[Y(357)](t,e){const s=Y;return new Tt((new(y[s(489)])).fromArray(e[s(224)]),(new(y[s(489)]))[s(383)](e[s(229)]),e.speedRange,e[s(256)])}[Y(377)](){const t=Y;return{range:this[t(463)].range[t(286)](),offset:this.directionGenerator[t(229)].toArray(),speedRange:this[t(534)][t(224)],speedOffset:this[t(534)][t(229)]}}}class Et extends ${constructor(t,e=!1){const s=Y;super(),this[s(187)](t),this[s(426)]=e}[Y(187)](t){this.particleSequences=t}[Y(301)](t){const e=Y,s=this[e(210)][e(289)](),n=s[e(167)]*Math.random(),i=s[Math[e(526)](n)],r=this[e(210)][e(269)](i),a=t[e(533)];this[e(426)]?a.x=r[e(167)]-1:a.x=r.start,a.y=r.id,a.z=r[e(348)],a.w=r.length,t.progressType=L.Sequence}static[Y(357)](t,e){const s=Y;return new Et(t[s(503)](),e[s(426)])}[Y(377)](){return{reverse:this[Y(426)]}}}class bt extends K{constructor(t,e,s=!1,n=!1){const i=Y;super(),this[i(210)]=t,this[i(610)]=e,this[i(486)]=s,this[i(426)]=n}[Y(573)](t,e){const s=Y,n=t[s(533)],i=this[s(210)][s(269)](n.y),r=e/this[s(610)];if(this[s(426)]){if(n.x-=r,n.x<i.start&&(n.x=i.start+i[s(167)],!this[s(486)]))return!1}else if(n.x+=r,n.x>=i.start+i.length&&(n.x=i[s(348)],!this[s(486)]))return!1;return!0}static[Y(357)](t,e){const s=Y;return new bt(t[s(503)](),e.speed,e[s(486)],e[s(426)])}toJSON(){const t=Y;return{speed:this[t(610)],loop:this[t(486)],reverse:this.reverse}}}class Rt{constructor(t,e){g(this,m,function(){const t=Y,e={lowerIndex:0,upperIndex:0,localT:0},s=new(y[t(544)]),n=new(y[t(489)]),i=new(y[t(341)]),r=new(y[t(271)]),a=s=>(n,i,r,a)=>{const o=t;Rt[o(444)](r,n,e),s[o(327)](i[e[o(453)]])[o(518)](e[o(559)]),a[o(327)](i[e[o(178)]])[o(518)](1-e[o(559)]).add(s)};return function(o){const c=t;switch(o){case St[c(546)]:return(t,s,n)=>{const i=c;return Rt[i(444)](n,t,e),(1-e.localT)*s[e[i(178)]]+e.localT*s[e[i(453)]]};case St[c(544)]:return a(s);case St[c(489)]:return a(n);case St[c(341)]:return a(i);case St[c(271)]:return a(r)}}}());const s=Y;this[s(195)]=[],this[s(431)]=[],this.elementTypeID=St.getTypeID(t),this[s(498)]=e||this[s(399)](this[s(579)])}*[Symbol[Y(313)]](){const t=Y;let e=0;for(;e<this[t(265)]();)yield{element:this[t(195)][e],tValue:this[t(431)][e]},e++}getElementCount(){const t=Y;return this.elements[t(167)]}getElement(t){const e=Y;if(t>=this[e(265)]())throw new Error(e(633));return this.elements[t]}[Y(335)](t){const e=Y;if(t>=this.getElementCount())throw new Error(e(295));return this[e(431)][t]}[Y(605)](t,e){const s=Y;this[s(195)].push(t),this[s(431)][s(407)](e)}getInterpolatedElement(t,e){const s=Y;return this[s(498)](t,this[s(195)],this[s(431)],e)}static[(m=Y(399),Y(444))](t,e,s){const n=Y,i=t[n(167)];if(0===i)return s[n(178)]=-1,s[n(453)]=-1,void(s.localT=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(178)]=et.clamp(a,0,i-1),s.upperIndex=et[n(520)](o,0,i-1);const c=t[a],h=t[o];s[n(559)]=(e-c)/(h-c)}}class zt extends K{constructor(t,e=!1){const s=Y;super(),this[s(535)]=e,this.interpolationElements=new Rt(t)}[Y(605)](t,e){this[Y(529)].addElement(t,e)}[Y(488)](t){for(const e of t)this.interpolationElements.addElement(e[0],e[1])}addElementsFromElementClassAndParameters(t,e){const s=Y;for(const n of e){const[...e]=n[0];this[s(529)].addElement(new t(...e),n[1])}}[Y(401)](t,e){const s=Y;let n=0;switch(t[s(487)]){case L.Time:n=0!=t.lifetime?t[s(409)]/t[s(386)]:t.age;break;case L.Sequence:n=t[s(533)].x/t.sequenceElement.w}return this[s(529)].getInterpolatedElement(n,e)}}class Ot extends zt{constructor(t=!1){super(0,t)}addElementsFromParameters(t){super[Y(488)](t)}updateState(t){const e=Y;return this[e(535)]?t.alpha=t[e(342)]*this[e(401)](t,t.alpha):t.alpha=this[e(401)](t,t[e(381)]),!0}static[Y(357)](t,e){return new Ot(e[Y(535)])}[Y(377)](){const t=Y;return{params:{relativeToInitialValue:this[t(535)]},elements:[...this[t(529)]][t(366)]((e=>[e[t(222)],e[t(330)]]))}}}class Ct extends zt{constructor(t=!1){super(x,t),g(this,f,function(){const t=Y,e=new(y[t(544)]);return function(s){const n=t;return this[n(401)](s,e),this.relativeToInitialValue?s[n(613)][n(490)](s[n(205)].x*e.x,s[n(205)].y*e.y):s.size[n(327)](e),!0}}())}[Y(635)](t){super[Y(437)](x,t)}static fromJSON(t,e){return new Ct(e.relativeToInitialValue)}[(f=Y(573),Y(377))](){const t=Y;return{params:{relativeToInitialValue:this[t(535)]},elements:[...this[t(529)]][t(366)]((e=>[e[t(222)][t(286)](),e[t(330)]]))}}}class Vt extends zt{constructor(t=!1){super(y[Y(271)],t),g(this,d,function(){const t=Y,e=new(y[t(271)]);return function(s){const n=t;return this.getInterpolatedValue(s,e),this.relativeToInitialValue?s[n(576)][n(260)](s[n(578)].r*e.r,s[n(578)].g*e.g,s[n(578)].b*e.b):s[n(576)].copy(e),!0}}())}addElementsFromParameters(t){const e=Y;super[e(437)](y[e(271)],t)}static[(d=Y(573),Y(357))](t,e){return new Vt(e[Y(535)])}[Y(377)](){const t=Y;return{params:{relativeToInitialValue:this[t(535)]},elements:[...this[t(529)]].map((e=>[e[t(222)][t(286)](),e.tValue]))}}}class qt extends K{constructor(t){const e=Y;super(),this[e(223)]=t.clone()}[Y(635)](t){super[Y(437)](THREE.Vector3,t)}[Y(573)](t){const e=Y;return this[e(223)][e(458)](t[e(513)]),!0}static[Y(357)](t,e){const s=Y,n=e[s(223)][s(461)][s(357)](e[s(223)][s(307)]);return new qt(n)}[Y(377)](t){const e=Y;return{generator:this.generator[e(377)](t)}}}function Mt(){const t=["sub","sequences","getTValue","       viewPosition = viewMatrix * particlePosition;\n","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","createMaterial","setOwner","stop","Vector4","initialAlpha","systemState","FragmentVars","Box3","computeBoundingBox","particleSystems","start","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","randomGenerator","#include <common>","activeCount","rangePhi","particlePosition","normalize","ShaderMaterial","fromJSON","setState","lifetimes",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"PointLight","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","basePositions","castShadow","setUsage","map","outType","baseUVs","getTypePath","getParticleSystemRenderer","updateMeshBounds","   float rightSide; \n","data","getParameterJSON","lastUpdateTime","timeScaledAcceleration","toJSON","lastPositionAdjuster","operators","    \n  #include <logdepthbuf_fragment> \n","alpha","hasID","fromArray","framesets","10OVRjOo","lifetime","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","alphas","   } \n","JSONTypeStore::addNamespace() -> namespace already exists","default","matrixWorldNeedsUpdate","addTypeToNamespace","InstancedBufferGeometry","colors","   int firstSequenceElement = int(sequenceElementF); \n","uniformsNeedUpdate","stateObject","getInterpolatorForTypeID","getParticleStateInitializer","getInterpolatedValue","VertexVars","updateWorldMatrix","cameraFar","cameraNear",'ParticleStateArray::setState() -> "index" is out of range.',"push","console","age","NormalBlending",'{}.constructor("return this")( )',"intensityFlux","boundingBox","typeName","near","emitCount","emissionDuration","onUpdate","getFrameSetCount","   float uvXOffset = atlasFrameWidth * rightSide; \n","uniforms","attribute vec4 sequenceElement;\n","BufferGeometry","scaleZ","name","reverse","getEmitter","generateForElement","JSONTypeStore::getType() -> typeName does not exist","setBoundingSphere","tValues","height","instanced","rotation","   const vec2 down = vec2(0.0, -1.0);\n","atlas","addElementsFromElementClassAndParameters","calculateBoundingSphereFromBox","sizes","setBoundingBox","prototype","getParticleCount","update","getInterpolationValuesForTValue","getFrameSet","camera","normalizeDirection","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","texture","loadJSONParameter","particleStateInitializers","advanceActiveParticles","upperIndex","Renderer::init() -> trying to intialize more than once.","getRotations","initialAlphas","       upperSide = baseUV.y; \n","generate","DynamicDrawUsage","sin","type","lastPositionFlickerTime","directionGenerator","Sequence","material","debu","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","Sphere","addComponent","   int sequenceStart = int(sequenceElement.z);\n","initializers","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","   const vec2 uLeft = vec2(-1.0, 1.0);\n","   if (simulateInWorldSpace == 1) { \n","lastIntensityAdjuster","varying vec2 vUV2;\n","1180516ryhNuj","InstancedBufferAttribute","maximumActiveParticles","transformInitialDirectionInWorldSpace","advanceActiveParticle","keys",'ParticleStateArray::getState() -> "index" is out of range.',"getType","       float uRightV = rotVecStep.z; \n","loop","progressType","addElements","Vector3","set","counter","warn",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"customIndexes","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","input","   const vec2 dLeft = vec2(-1.0, -1.0);\n","interpolator","decay","intensity","setSimulateInWorldSpace","offsetRadius","getParticleSequences","       rightSide = baseUV.x; \n","load","   vFragAlpha = alpha; \n","   gl_FragColor.a *= vFragAlpha; \n","velocity","v4v","copyParticleInArray","addNamespace","ids","acceleration","function","return (function() ","copyTo","now","multiplyScalar","uniform int interpolateAtlasFrames; \n","clamp","timeScaledVelocity","1725642wyZgrX","getFragmentShader","call","texturePath","floor","attribute vec4 particlePosition;\n","   vec2 uv2; \n","interpolationElements","emitterInitialized","uniformOffset","emissionRelativeStartTime","sequenceElement","speedGenerator","relativeToInitialValue","activateParticles","offsetX","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","attribute float customIndex;\n","NotStarted","setEmitter","nextIntensityAdjuster","   float atlasFrameX = atlasFrames.x; \n","Vector2","parseNamespaceAndTypename","Default","particleStates","emissionMinimum","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","       rightSide = step(2.0, customIndex); \n","       rotVec = position.xy; \n ","varying float vFragAlpha;\n","#include <common> \n","getTexturePath","renderOrder","getTexture","width","localT","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","rotations","       float uLeftV = rotVecStep.x; \n","   int sequenceLength = int(sequenceElement.w);\n","   float uvYOffset = atlasFrameHeight * upperSide; \n","Normal","Mesh","splice","offsetPhi","getParticleStates","allocate","join","trace","updateState","typeIDGen","position","color","AdditiveBlending","initialColor","elementTypeID","chain","value","shadow","frameSets","getTypeNames","particleSystemRenderer","getColors","flushParticleStateToBuffers","   const vec2 up = vec2(0.0, 1.0);\n","rotationalSpeed","mapSize","emissionMaximum","8037638TJYsPT","parent","BufferAttribute","ParticleSequenceGroup::getSequence -> Invalid ID.","clone","   int sequenceNumber = int(sequenceElement.y);\n","offsetZ","info","stateVelocity","addParticleStateInitializer","cos","scaleX","getVisible","addElement","tempUp","table","Time","timeActive","speed","particleEmitter","matrixWorld","size","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","rangeTheta","setDrawRange","activateParticle","addParticleSequence","attribute float rotation;\n","   float upperSide; \n","apply","void main()\n","   } else { \n","string","min","bind","constructor","max","transformDirection","computeBoundingSphere","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","remove",'ContinuousArray::getElement() -> "index" is out of bounds.',"   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","addElementsFromParameters","blending","baseUV","length","mesh","getParticleStateArray","Shader","interpolateFrames","onUpdateCallback","setXYZ","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   float atlasFrameHeight = atlasFrames.w; \n","404324RPIfEJ","calculatingBoundingSphereFromBox","lowerIndex","16974320PmAgSH","   float atlasFrameWidth = atlasFrames.z; \n","gger","setX","2XLUWfZ","dispose","positionAdjuster","getGeometry","setParticleSequences","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","getParticleState","geometry",'Atlas::getFrameSet -> "index" is out of range.',"setActiveParticleCount","error","accelerations","elements","18DQScyy","Additive","setVisibile","initialized","normals","activeParticleCount","currentSrc","test","renderer","initialSize","rotationalSpeeds","Running","getComponent","add","particleSequences","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","setAll","   vec2 uv1; \n","Paused","       float dRightV = rotVecStep.w - rotVecStep.z; \n","setXY","sequenceElements","addParticleStateOperator","render","   const vec2 left = vec2(-1.0, 0.0);\n","normal","element","generator","range","___photonsTypeID","getParticleStateInitializerCount","currentTime","toString","offset","random","void main() { \n","copyState","bias","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","setXYZW","Object3D","applyMatrix4","velocities","addFrameSet","particleStateOperators","simulateInWorldSpace","jsonTypes","maxParticleCount","jsonTypeNames","componentContainer","getLight","scaleY","verticesPerParticle","addSequence","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","varying vec2 vUV1;\n","emissionRate","parseTypeString","   vec4 color2 = color1; \n","getMaximumActiveParticles","speedOffset","  \n #include <logdepthbuf_pars_fragment> \n","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","initialColors","setRGB","boundingSphere","autoClear","   int nRowYTile = int(SNOverHS);\n","getState","getElementCount","TextureLoader","distance","getSimulateInWorldSpace","getSequence","hasOwnProperty","Color","ages","startupTime","getTypeID","uniformRange","updateEmitCount","updateBounds","setAttribute","baseURI","501264LQtrxO","frustumCulled","   const vec2 uRight = vec2(1.0, 1.0);\n","needsUpdate","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","getParticleStateOperator","toArray","exception","  \n #include <logdepthbuf_pars_vertex> \n","getSequenceIDs","setIntensity","radius","particleCount","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","internalUpdate",'ContinuousArray::getTValue() -> "index" is out of bounds.',"       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","light","getParticleStateOperatorCount","getPositions",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"initializeState","visible","10179288yJWCsw","stateAcceleration",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"particleStateArray","params","lastIntensityFlickerTime","interpolateAtlasFrames","setParticleCount","rangeRadius","offsetY","iterator","edgeRadius","checkAndAddTypeName","offsetTheta","   float rotMag = rotation; \n","       upperSide = upperSideStep.x + upperSideStep.y;\n","components","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","   vec2 rotVec; \n","positions","customIndex","instanceCount","   float sequenceElementF = sequenceElement.x;\n","init","copy","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","split","tValue","owner","initialSizes"];return(Mt=function(){return t})()}class Nt extends yt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=Y;super(y[p(489)]),this.rangeTheta=t,this[p(316)]=e,this[p(353)]=s,this.offsetPhi=n,this[p(311)]=i,this[p(502)]=r,this.scaleX=a,this[p(247)]=o,this[p(424)]=c,this[p(537)]=h,this[p(312)]=l,this[p(598)]=u,this.tempUp=(new(y[p(489)]))[p(490)](0,1,0)}[Y(458)](t){const e=Y;this[e(606)][e(490)](0,1,0);const s=Math[e(230)]()*this.rangeTheta+this[e(316)],n=Math[e(230)]()*this[e(353)]+this[e(568)],i=Math[e(602)](s),r=Math.sin(s),a=Math.cos(n),o=Math[e(460)](n);t[e(490)](i,0,-r),t[e(518)](a),this.tempUp[e(518)](o),t[e(209)](this[e(606)]),t[e(355)]();const c=Math[e(230)]()*this[e(311)]+this[e(502)];t.multiplyScalar(c),t.x*=this[e(603)],t.y*=this[e(247)],t.z*=this.scaleZ,t.x+=this[e(537)],t.y+=this[e(312)],t.z+=this.offsetZ}[Y(596)](){const t=Y;return new Nt(this[t(615)],this[t(316)],this[t(353)],this[t(568)],this[t(311)],this[t(502)],this[t(603)],this.scaleY,this.scaleZ,this[t(537)],this.offsetY,this[t(598)])}static[Y(357)](t){const e=Y;return new Nt(t[e(615)],t.offsetTheta,t[e(353)],t[e(568)],t[e(311)],t.offsetRadius,t[e(603)],t[e(247)],t[e(424)],t[e(537)],t[e(312)],t[e(598)])}toJSON(t){const e=Y;return{type:t.getTypePath(Nt),params:{rangeTheta:this[e(615)],offsetTheta:this[e(316)],rangePhi:this.rangePhi,offsetPhi:this.offsetPhi,rangeRadius:this.rangeRadius,offsetRadius:this[e(502)],scaleX:this[e(603)],scaleY:this.scaleY,scaleZ:this.scaleZ,offsetX:this.offsetX,offsetY:this[e(312)],offsetZ:this.offsetZ}}}}class _t{constructor(){}}class Ut extends _t{constructor(t,e,s,n,i,r,a=void 0){const o=Y;super(),this[o(331)]=null,this[o(297)]=null,this[o(375)]=performance.now()/1e3,this[o(308)]=this[o(375)],this[o(462)]=this[o(375)],this[o(475)]=1,this[o(542)]=1,this.lastPositionAdjuster=new(y[o(489)]),this[o(185)]=new(y[o(489)]),this[o(500)]=1,this.intensityFlux=2,this[o(593)]=t,this[o(326)](t,e,s,n,i,r,a)}init(t,e,s,n,i,r,a=void 0){const o=Y;this[o(331)]=new(y[o(236)]),t.add(this.owner),n=n||new(y[o(271)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(297)]=new(y[o(361)])(16777215,2,0,1),this[o(297)].color.copy(n),this[o(297)][o(267)]=i,this[o(297)][o(499)]=r,this.light[o(364)]=c,c&&(this[o(297)][o(582)].mapSize[o(558)]=a[o(590)]||512,this[o(297)][o(582)][o(590)].height=a[o(590)]||512,this.light[o(582)][o(446)][o(415)]=a[o(405)]||.5,this[o(297)][o(582)][o(446)].far=a[o(404)]||500,this.light.shadow.bias=a[o(233)]||1e-4,this.light[o(582)].radius=a[o(314)]||1),this.owner.add(this[o(297)]),this[o(500)]=e,this[o(412)]=s,this[o(297)]}dispose(){const t=Y;this[t(593)][t(632)](this[t(331)])}[Y(246)](){return this[Y(297)]}[Y(290)](t){this.intensity=t}[Y(443)](t){const e=Y,s=t-this.lastIntensityFlickerTime,n=1/8,i=this[e(412)];if(s>n){this[e(308)]=t;let s=1+2*(Math[e(230)]()-.5)*i*n;const r=s-this[e(475)];s=this[e(475)]+r,this.lastIntensityAdjuster=this.nextIntensityAdjuster,this[e(542)]=et[e(520)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(475)]+t*this[e(542)];this[e(297)][e(500)]=i*this[e(500)]}if(t-this[e(462)]>.0625){this[e(462)]=t;const s=t-this[e(375)];this.positionAdjuster.set(Math[e(230)]()-.5,Math.random()-.5,Math[e(230)]()-.5),this[e(185)][e(518)](s),this[e(185)][e(209)](this[e(378)]),this[e(185)].multiplyScalar(.5),this.owner[e(575)][e(327)](this[e(185)]),this[e(378)][e(327)](this[e(185)]),this[e(375)]=t}}}class Bt{constructor(){const t=Y;this[t(242)]={default:{}},this[t(244)]={},this.typeIDGen=0}addType(t,e){const s=Y;this[s(393)](s(391),t,e)}[Y(393)](t,e,s){const n=Y;if(!this.jsonTypes[t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(242)][t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this[n(315)](s,e,t)&&(this.jsonTypes[t][e]=s)}[Y(511)](t,e){const s=Y;if(this.jsonTypes[t])throw new Error(s(390));this[s(242)][t]=e;for(const n in e)if(!e.hasOwnProperty||e.hasOwnProperty(n)){const i=e[n];this[s(315)](i,n,t)}}[Y(315)](t,e,s){const n=Y;if(typeof t===n(514)){const i=this[n(574)]++;t.___photonsTypeID=i,this[n(244)][i]={namespace:s,typeName:e}}}[Y(484)](t,e){const s=Y;if(!this.jsonTypes[t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(242)][t][e])throw new Error(s(429));return this.jsonTypes[t][e]}[Y(584)](t){const e=Y;return this.jsonTypeNames[t[e(225)]]}[Y(369)](t){const e=Y,s=this[e(584)](t);if(s)return s.namespace+"."+s[e(414)]}[Y(545)](t){const e=Y,s=t[e(329)]("."),n=s[0];s[e(567)](0,1);return{namespace:n,typeName:s[e(571)](".")}}[Y(253)](t){const e=Y,{namespace:s,typeName:n}=this[e(545)](t);return this[e(484)](s,n)}}function jt(t){function e(t){const s=mt;if(typeof t===s(624))return function(t){}[s(627)]("while (true) {}")[s(621)](s(491));1!==(""+t/t)[s(167)]||t%20==0?function(){return!0}[s(627)](s(466)+"gger")[s(524)]("action"):function(){return!1}[s(627)]("debu"+s(181))[s(621)](s(398)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Dt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:qt,AnimatedSpriteRenderer:pt,Atlas:lt,BaseParticleStateInitializer:Q,BaseParticleStateOperator:tt,BoxPositionInitializer:At,ColorInterpolatorOperator:Vt,ConstantParticleEmitter:wt,FlickerLight:Ut,JSONTypeStore:Bt,LifetimeInitializer:xt,Manager:at,OpacityInterpolatorOperator:Ot,ParticleStateArray:G,ParticleSystem:rt,ParticleSystemState:it,RandomGenerator:vt,RandomVelocityInitializer:Tt,Renderer:ot,RotationInitializer:It,RotationalSpeedInitializer:Pt,SequenceInitializer:Et,SequenceOperator:bt,SizeInitializer:Ft,SizeInterpolatorOperator:Ct,SphereRandomGenerator:Nt},Symbol.toStringTag,{value:"Module"})),Xt=Jt;!function(t,e){const s=Jt,n=Lt();for(;;)try{if(551851===-parseInt(s(177))/1*(-parseInt(s(219))/2)+-parseInt(s(196))/3*(parseInt(s(211))/4)+-parseInt(s(157))/5+-parseInt(s(146))/6+parseInt(s(205))/7*(-parseInt(s(202))/8)+-parseInt(s(227))/9+-parseInt(s(207))/10*(-parseInt(s(150))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Wt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Jt(179)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Wt(this,(function(){const t=Jt,e=new RegExp(t(194)),s=new RegExp(t(193),"i"),n=Gt(t(156));e[t(228)](n+t(178))&&s[t(228)](n+"input")?Gt():n("0")}))()}();const Yt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Jt(179)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Jt(t,e){const s=Lt();return(Jt=function(t,e){return s[t-=146]})(t,e)}function Lt(){const t=["Vector3","188617zvCVwk","call","value","return (function() ","JSONTypeStore","debu","init","375360glHhdo","getParticleSequences","THREE","TextureLoader","Vector2","addParticleSystem","AccelerationOperator","position","addComponent","Atlas","ParticleSystem","SizeInterpolatorOperator","length","info","Manager","OpacityInterpolatorOperator","Object3D","LifetimeInitializer","warn","SphereRandomGenerator","2DxItvH","chain","apply","load","action","log","setEmitter","RotationalSpeedInitializer","AnimatedSpriteRenderer","__proto__","addNamespace","RandomVelocityInitializer","AdditiveBlending","ConstantParticleEmitter","counter","addParticleStateInitializer","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","constructor","792213aoMFpQ","copy",'{}.constructor("return this")( )',"gger","SequenceInitializer","SequenceOperator","1432SPvwxf","trace","error","42931pOFuas","toString","1570QJYKvf","prototype","RandomGenerator","addParticleSequence","4aEikLT","addElementsFromParameters","setSimulateInWorldSpace","fireF","console","ColorInterpolatorOperator","addParticleStateOperator","RotationInitializer","637264yNiLMt","while (true) {}","start","scale","addFrameSet","add","stateObject","FlickerLight","5845932wzWShO","test","BoxPositionInitializer","update","addElements","4145964ReXVyf","bind","SizeInitializer"];return(Lt=function(){return t})()}Yt(void 0,(function(){const t=Jt;let e;try{e=Function(t(153)+t(198)+");")()}catch(i){e=window}const s=e[t(215)]=e.console||{},n=[t(182),t(175),t(170),t(204),"exception","table",t(203)];for(let r=0;r<n[t(169)];r++){const e=Yt.constructor[t(208)].bind(Yt),i=n[r],a=s[i]||e;e[t(186)]=Yt[t(147)](Yt),e[t(206)]=a[t(206)][t(147)](a),s[i]=e}}))();const Zt=_({__name:Xt(214),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Xt,s=t,n=new(Dt[e(171)]),i=new(Dt[e(154)]);i[e(187)](e(159),y),i[e(187)]("Photons",Dt);const{renderer:r,camera:a,scene:o}=M(),c=new(y[e(149)])(...s[e(164)]);n[e(162)](((t,s)=>{const n=e,i=new(y[n(173)]);i[n(164)][n(197)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(y[n(160)]))[n(180)](a),c=new(Dt[n(166)])(o,a);c[n(223)](1,0,0,1,1);const h=new(Dt[n(185)])(!0,c,!0,y[n(189)]),l=new(Dt[n(167)])(i,h,r[n(152)]);l[n(156)](150),l[n(183)](new wt(6));const u=new vt(y[n(161)],new x(0,0),new(y[n(161)])(.15*t,.15*t),0,0,!1);l[n(192)](new(Dt[n(174)])(3,1,0,0,!1)),l[n(192)](new(Dt[n(148)])(u)),l[n(192)](new(Dt[n(229)])(new v(.05*t,0,.05*t),new v(-.025*t,0,-.025*t))),l[n(192)](new Tt(new(y[n(149)])(.4*t,.5*t,.4*t),new(y[n(149)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l.addParticleStateOperator(new(Dt[n(172)]))[n(231)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(217)](new(Dt[n(216)])(!0))[n(212)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(Dt[n(176)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(217)](new(Dt[n(163)])(p)),l[n(213)](!0),l[n(221)](),l})(s.scale,c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(y[n(173)]);i.position[n(197)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new V).load(a),c=new(Dt[n(166)])(o,a);c[n(223)](18,0,0,.125,.25);const h=new pt(!0,c,!0),l=new(Dt[n(167)])(i,h,r[n(152)]);l.init(50),l[n(183)](new(Dt[n(190)])(10)),l[n(210)](0,18);const u=l[n(158)]();l[n(192)](new xt(0,0,0,0,!1)),l[n(192)](new(Dt[n(218)])(new vt(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(192)](new(Dt[n(184)])(1,-1,0,0,!1)),l[n(192)](new Ft(new(Dt[n(209)])(y[n(161)],new(y[n(161)])(.25*t,.25*t),new(y[n(161)])(.5*t,.5*t),0,0,!1))),l[n(192)](new(Dt[n(229)])(new v(.05*t,0,.05*t),new(y[n(149)])(-.025*t,0,-.025*t))),l[n(192)](new(Dt[n(188)])(new(y[n(149)])(.05*t,.4*t,.05*t),new(y[n(149)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(192)](new(Dt[n(200)])(u)),l[n(217)](new(Dt[n(201)])(u,.07,!1));l.addParticleStateOperator(new(Dt[n(172)]))[n(231)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(217)](new(Dt[n(168)])(!0))[n(212)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l.addParticleStateOperator(new(Dt[n(216)])(!0))[n(212)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(217)](new(Dt[n(163)])(new(Dt[n(209)])(y[n(149)],new(y[n(149)])(0,0,0),new(y[n(149)])(0,1.5*t,0),0,0,!1))),l[n(213)](!0),l[n(221)](),l})(s[e(222)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(y[n(173)]);i[n(164)][n(197)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new(y[n(160)]))[n(180)](a),c=new(Dt[n(166)])(o,a);c[n(223)](16,0,0,212/1024,.25);const h=new(Dt[n(185)])(!0,c,!0),l=new(Dt[n(167)])(i,h,r[n(152)]);l.init(20),l[n(183)](new(Dt[n(190)])(5)),l[n(210)](0,16);const u=l[n(158)]();l[n(192)](new xt(0,0,0,0,!1)),l[n(192)](new It(new vt(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(192)](new Pt(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(192)](new(Dt[n(148)])(new vt(y[n(161)],new(y[n(161)])(0,0),new(y[n(161)])(0,0),.2*t,.65*t,!1))),l.addParticleStateInitializer(new(Dt[n(229)])(new v(.1*t,0,.1*t),new(y[n(149)])(-.05*t,0,-.05*t))),l[n(192)](new(Dt[n(188)])(new(y[n(149)])(.02*t,.4*t,.02*t),new(y[n(149)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(192)](new(Dt[n(200)])(u)),l[n(217)](new(Dt[n(201)])(u,.1,!1));l[n(217)](new(Dt[n(172)]))[n(231)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(217)](new Ct(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(217)](new Vt(!0))[n(212)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(217)](new(Dt[n(163)])(new(Dt[n(209)])(y[n(149)],new v(0,0,0),new v(0,1.5*t,0),0,0,!1))),l[n(213)](!0),l.start(),l})(s[e(222)],c)),n[e(165)](((t,s=10)=>{const n=e,i=new q;o.value[n(224)](i),i[n(164)][n(197)](t);return new(Dt[n(226)])(i,s,2,(new C).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=N();return h((()=>{const t=e;n[t(230)](),n.render(r.value,a[t(152)])})),(t,e)=>null}});function Gt(t){function e(t){const s=Jt;if("string"==typeof t)return function(t){}.constructor(s(220))[s(179)](s(191));1!==(""+t/t)[s(169)]||t%20==0?function(){return!0}.constructor(s(155)+s(199))[s(151)](s(181)):function(){return!1}[s(195)](s(155)+s(199))[s(179)](s(225)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const kt=Kt;function Ht(){const t=["16004IMNtuO","while (true) {}","console","1077771cYLLVu","pagesShowRef","counter","toString","prototype","370809InCXXf","1568568gJRvpU","init","fireF","1105VyKAUm","position","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","log","constructor","1694292DlGAnh","88RASylO","10wCmtZe","debu","apply","7ficPwm","6sOmorO","712647Vgoeox","action","camera","chain","test","info","tcRef","exception","warn","error","5375018ZgTTJn","set","stateObject","gger","call","perspectiveCameraRef","value",'{}.constructor("return this")( )',"length","$refs","trace","context"];return(Ht=function(){return t})()}!function(t,e){const s=Kt,n=Ht();for(;;)try{if(643624===-parseInt(s(279))/1+parseInt(s(253))/2*(-parseInt(s(284))/3)+parseInt(s(276))/4*(parseInt(s(241))/5)+-parseInt(s(247))/6*(parseInt(s(252))/7)+parseInt(s(248))/8*(parseInt(s(254))/9)+-parseInt(s(249))/10*(-parseInt(s(264))/11)+parseInt(s(238))/12)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const $t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Kt(251)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){$t(this,(function(){const t=Kt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(243),"i"),n=ee(t(239));e[t(258)](n+t(257))&&s[t(258)](n+"input")?ee():n("0")}))()}();const Qt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Kt(251)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Kt(t,e){const s=Ht();return(Kt=function(t,e){return s[t-=238]})(t,e)}Qt(void 0,(function(){const t=Kt;let e;try{e=Function("return (function() "+t(271)+");")()}catch(i){e=window}const s=e[t(278)]=e.console||{},n=[t(245),t(262),t(259),t(263),t(261),"table",t(274)];for(let r=0;r<n.length;r++){const e=Qt[t(246)][t(283)][t(244)](Qt),i=n[r],a=s[i]||e;e.__proto__=Qt[t(244)](Qt),e[t(282)]=a.toString[t(244)](a),s[i]=e}}))();const te=_({__name:kt(240),setup(t){const e=U();return B((()=>{const t=Kt;e[t(270)]&&(e[t(270)][t(273)][t(260)]?e.value[t(273)][t(260)][t(275)][t(256)].value[t(242)][t(265)](580,360,500):e[t(270)].$refs[t(269)]&&e[t(270)].$refs[t(269)].position[t(265)](580,360,500))})),(t,s)=>{const n=Kt;return j(),D(S,{ref_key:n(280),ref:e},{ability:X((()=>[W(Zt,{position:[0,20,10],scale:40})])),_:1},512)}}});function ee(t){function e(t){const s=Kt;if("string"==typeof t)return function(t){}[s(246)](s(277))[s(251)](s(281));1!==(""+t/t)[s(272)]||t%20==0?function(){return!0}[s(246)](s(250)+"gger")[s(268)](s(255)):function(){return!1}[s(246)](s(250)+s(267))[s(251)](s(266)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{te as default};
