import{a5 as h,ah as B,ao as z,ab as A,a0 as D,bf as F,o,c as j,T as i,at as P,ad as N,aH as R,aI as H,C as p,J as u,a1 as c,a as r,ak as m,bk as O,r as V,ae as q,af as G,K as J,b7 as K,ag as U,ch as Q}from"./vendor.n5mLuYaN1718275421844.js";/* empty css                                                                                 */import{_ as W}from"./randomLoading.vue_vue_type_script_setup_true_lang.wh0bOsJn1718275421844.js";import"./vanilla.esm.5.5.0.YRRwLpko1718275421844.js";import{u as $}from"./index.UxhQh4vc1718275421844.js";import{M as I}from"./MeshTransmissionMaterial.qGGWHKJz1718275421844.js";import{M as X}from"./MeshDiscardMaterial.QQqjt8Uz1718275421844.js";import"./starLoading.69Eh6NIV1718275421844.js";import"./cssLoaders.emHTi7zg1718275421844.js";import"./bubbleLoading.4Xz0NWym1718275421844.js";import"./object_hash.DvA9o96b1718275421844.js";import"./_commonjsHelpers.5-cIlDoe1718275421844.js";import"./_commonjs-dynamic-modules.h-SxKiO41718275421844.js";import"./shaderMaterial.qwUzrG6_1718275421844.js";const Y=["side"],Z=0,ee=0,ae=0,f=1024,se=h({__name:"stickerTransmisionMaterial",setup(g,{expose:s}){const e=B(),{extend:l,scene:t,renderer:n,camera:M}=z(),a=B();l({MeshTransmissionMaterial:I});function S(_,w){let C;return _.traverse(v=>{v.isMesh&&v.material&&v.material.uuid===w&&(C=v)}),C}const E=new X,{onBeforeLoop:L}=N(),k=$({width:f,height:f,isLoop:!1}),d=$({width:f,height:f,isLoop:!1});A(async()=>{await D(),e.value.buffer=d.value.texture,a.value=S(t.value,e.value.uuid)});let T,y,b,x;return L(({elapsed:_})=>{e.value.time=_,e.value.buffer===d.value.texture&&a.value&&(b=n.value.toneMapping,T=t.value.background,y=e.value.envMapIntensity,x=a.value.material.side,a.value.material=E,n.value.setRenderTarget(k.value),n.value.render(t.value,M.value),a.value.material=e.value,a.value.material.thickness=Z,a.value.material.buffer=k.value.texture,a.value.material.side=F,a.value.material.envMapIntensity=ae,n.value.setRenderTarget(d.value),n.value.render(t.value,M.value),a.value.material.buffer=d.value.texture,a.value.material=e.value,a.value.material.thickness=ee,a.value.material.side=x,a.value.material.envMapIntensity=y,t.value.background=T,n.value.setRenderTarget(null),n.value.toneMapping=b)}),s({root:e,constructor:I}),(_,w)=>(o(),j("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:e,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:i(P)},null,8,Y))}}),te=["geometry","rotation"],ne=h({__name:"stickerModel",async setup(g){let s,e;const{nodes:l}=([s,e]=R(()=>H("./plugins/eCommerce/model/pack.glb")),s=await s,e(),s);return(t,n)=>(o(),p(m,null,{default:u(()=>[c("TresMesh",{geometry:i(l).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[r(se)],8,te)]),_:1}))}}),re=c("TresPlaneGeometry",null,null,-1),oe=["map","side"],ie=h({__name:"stickerLogo",async setup(g){let s,e;const l=([s,e]=R(()=>O(["logo.png"])),s=await s,e(),s);return(t,n)=>(o(),p(m,null,{default:u(()=>[c("TresMesh",null,[re,c("TresMeshPhysicalMaterial",{map:i(l),transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:i(P)},null,8,oe)])]),_:1}))}}),le=c("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1),ue=c("TresAmbientLight",{intensity:2},null,-1),xe=h({__name:"sticker",setup(g){const s={clearColor:"#333333",windowSize:!0,toneMapping:K,toneMappingExposure:.8,shadows:!0};return(e,l)=>{const t=V("TresCanvas");return o(),j(J,null,[r(i(W)),r(t,q(G(s)),{default:u(()=>[le,r(i(U),{enableDamping:""}),ue,(o(),p(m,null,{default:u(()=>[r(ne)]),_:1})),(o(),p(m,null,{default:u(()=>[r(ie)]),_:1})),(o(),p(m,null,{default:u(()=>[r(i(Q),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/",background:!1},null,8,["files"])]),_:1}))]),_:1},16)],64)}}});export{xe as default};
