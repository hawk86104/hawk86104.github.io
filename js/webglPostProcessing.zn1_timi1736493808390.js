import{i as t}from"./ice-utils.5yC9lroC1736493808390.js";import{c as n,_ as e,m as o,l as r}from"./gl-matrix.JIt_wwg31736493808390.js";import{P as i}from"./tweakpane.yHWGBmom1736493808390.js";import{d as a,r as c,q as s,o as u,D as f,J as l,u as m}from"./@vue.-Mz_IXfk1736493808390.js";const _="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",x="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",d=b;function E(){const t=["TEXTURE_MAG_FILTER","1377072WWwDss","offset_right_top","stateObject","TRIANGLES","log","webglPostProcessing","prototype","FRAMEBUFFER","75438rTMAkK","1088wvhPuQ","COLOR_BUFFER_BIT","uView","texParameteri","error","ELEMENT_ARRAY_BUFFER","counter","mat4","width",'{}.constructor("return this")( )',"inline","innerHeight","bufferData","exception","762890aLKNAI","console","change","call","return (function() ","length","uniformMatrix4fv","ONE_MINUS_SRC_ALPHA","bindTexture","init","bind","hidden","createBuffer","__proto__","offset_right_bottom","TEXTURE_MIN_FILTER","while (true) {}","create","trace","536TIjvXG","addBinding","createTexture","UNSIGNED_BYTE","function *\\( *\\)","816616PEAvSG","action","bindFramebuffer","enableVertexAttribArray","string","#canvaswebgl","RGBA","drawElements","table","3fOcGTE","blendFunc","logo-texture","996mmflPK","chain","constructor","14917SlJxIG","warn","input","slider","apply","TEXTURE_WRAP_S","vertexAttribPointer","getContext","src","TEXTURE_2D","NEAREST","img","SRC_ALPHA","ARRAY_BUFFER","getUniformLocation","ortho","260uGTkMg","clear","height","bindBuffer","634220rQdeHU","是否后处理","45YtoXde","offset_left_bottom","BLEND","createFramebuffer","innerWidth","texImage2D","mixParam","scale","gger","BYTES_PER_ELEMENT","clearColor","FLOAT","useProgram","COLOR_ATTACHMENT0","toString","CLAMP_TO_EDGE","debu","test"];return(E=function(){return t})()}!function(t,n){const e=b,o=E();for(;;)try{if(159333===parseInt(e(529))/1*(parseInt(e(460))/2)+-parseInt(e(507))/3*(-parseInt(e(498))/4)+parseInt(e(474))/5+-parseInt(e(451))/6+parseInt(e(513))/7*(parseInt(e(493))/8)+parseInt(e(535))/9*(parseInt(e(533))/10)+-parseInt(e(459))/11*(parseInt(e(510))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const p=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(517)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){p(this,(function(){const t=b,n=new RegExp(t(497)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=v(t(483));n[t(449)](o+t(511))&&e[t(449)](o+t(515))?v():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(517)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(478)+t(469)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(475)]||{},o=[t(455),t(514),"info",t(464),t(473),t(506),t(492)];for(let r=0;r<o[t(479)];r++){const n=T.constructor[t(457)].bind(T),i=o[r],a=e[i]||n;n[t(487)]=T[t(484)](T),n.toString=a[t(549)][t(484)](a),e[i]=n}}))();const g={id:"canvaswebgl"},A=[d(521)];function b(t,n){const e=E();return(b=function(t,n){return e[t-=447]})(t,n)}const R=a({__name:d(456),setup(a){const E=d;let p,T,b,R,v,y,P,h,w,I,C,F,D;const S=1,U=.71,L=.76,B=new i({title:"参数"}),M=c({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});B.addBlade({view:E(516),label:"颜色",min:0,max:1,value:.5}).on(E(476),(t=>{j(),T.uniform1f(F,t.value)}));let N=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);B[E(494)](M,"hidden",{label:E(534)}),B[E(494)](M,"offset_right_top",{picker:E(470),x:{min:0,max:1},y:{min:0,max:1}}).on(E(476),(t=>{const n=E;N[0]=M[n(452)].x,N[1]=M[n(452)].y,j()})),B[E(494)](M,E(488),{picker:E(470),x:{min:-1,max:1},y:{min:-1,max:1}}).on(E(476),(t=>{const n=E;N[5]=M[n(488)].x,N[6]=M[n(488)].y,j()})),B[E(494)](M,E(536),{picker:E(470),x:{min:-1,max:1},y:{min:-1,max:1}}).on(E(476),(t=>{const n=E;N[10]=M.offset_left_bottom.x,N[11]=M[n(536)].y,j()})),B[E(494)](M,"offset_left_top",{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(t=>{N[15]=M.offset_left_top.x,N[16]=M.offset_left_top.y,j()})),s((()=>{G()}));const G=function(){const n=E;p=document.querySelector(n(503)),p[n(468)]=window[n(539)],p[n(531)]=window[n(471)],T=p[n(520)]("webgl"),T&&(function(){const n=E,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);R=W(e,o),b=t(T,_,x),w=T[n(527)](b,"uProjection"),I=T.getUniformLocation(b,n(462)),C=T[n(527)](b,"uModel"),D=k(document.getElementById("logo-texture"))}(),j(),T.enable(T[n(537)]),T[n(508)](T[n(525)],T[n(481)]),X())};function X(){const t=E;T[t(500)](T[t(458)],P),T.clearColor(S,U,L,1),T[t(530)](T[t(461)]),function(){const t=E;T[t(547)](b),T.bindBuffer(T[t(526)],R);const i=n();e[t(467)][t(528)](i,0,p[t(468)],p[t(531)],0,.1,100),T.uniformMatrix4fv(w,!1,i);const a=o[t(491)]();r(a,[0,0,1],[0,0,0],[0,1,0]),T[t(480)](I,!1,a),O(D,600,600),O(D,400,400)}(),T[t(500)](T[t(458)],null),M[t(485)]&&(T[t(530)](T[t(461)]),T[t(545)](0,0,1,1),T[t(532)](T[t(526)],v),T[t(547)](y),T.bindTexture(T[t(522)],h)),T[t(505)](T[t(454)],6,T[t(496)],0),requestAnimationFrame(X)}function O(t,n,r){const i=E;let a=o[i(491)]();e[i(467)].translate(a,a,[n,r,0]),e[i(467)][i(542)](a,a,[250,250,0]),T[i(480)](C,!1,a),T.bindTexture(T[i(522)],t),T[i(505)](T[i(454)],6,T[i(496)],0)}function j(){const n=E,e=new Uint8Array([0,1,2,0,2,3]);v=W(N,e),y=t(T,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),F=T[n(527)](y,n(541)),T[n(527)](y,"color"),function(){const t=E;h=k(p),P=T[t(538)](),T[t(500)](T[t(458)],P),T.framebufferTexture2D(T[t(458)],T[t(548)],T[t(522)],h,0),T[t(500)](T[t(458)],null)}()}function k(t){const n=E,e=T[n(495)]();return T[n(482)](T[n(522)],e),t instanceof HTMLImageElement?T.texImage2D(T.TEXTURE_2D,0,T[n(504)],T[n(504)],T[n(496)],t):T[n(540)](T.TEXTURE_2D,0,T[n(504)],t[n(468)],t[n(531)],0,T[n(504)],T[n(496)],null),T[n(463)](T.TEXTURE_2D,T[n(489)],T[n(523)]),T[n(463)](T[n(522)],T[n(450)],T.NEAREST),T[n(463)](T.TEXTURE_2D,T[n(518)],T[n(447)]),T[n(463)](T[n(522)],T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE),e}function W(t,n){const e=E,o=T[e(486)]();T.bindBuffer(T.ARRAY_BUFFER,o),T[e(472)](T[e(526)],t,T.STATIC_DRAW);const r=3*Float32Array.BYTES_PER_ELEMENT+2*Float32Array[e(544)];T[e(519)](0,3,T[e(546)],!1,r,0),T[e(501)](0),T.vertexAttribPointer(1,2,T[e(546)],!1,r,3*Float32Array[e(544)]),T[e(501)](1);const i=T[e(486)]();return T[e(532)](T[e(465)],i),T.bufferData(T[e(465)],n,T.STATIC_DRAW),T[e(532)](T[e(526)],null),o}return(t,n)=>{const e=E;return u(),f("canvas",g,[l(e(524),{id:e(509),src:m("./")+"/plugins/postProcessing/image/logo.png",style:{display:"none"}},null,8,A)])}}});function v(t){function n(t){const e=b;if(typeof t===e(502))return function(t){}[e(512)](e(490))[e(517)](e(466));1!==(""+t/t)[e(479)]||t%20==0?function(){return!0}[e(512)](e(448)+e(543))[e(477)](e(499)):function(){return!1}.constructor("debu"+e(543)).apply(e(453)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
