import{a as t,m as n,o as e}from"./@tresjs.gjafZgVK1741594518249.js";import{_ as r,a0 as o,b as i}from"./three.8y0_KTxz1741594518249.js";import{_ as s,h as a}from"./three-tile.6g-Ga_iQ1741594518249.js";import{_ as c,c as u}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.Lki1vN3O1741594518249.js";import{d as p,a3 as l,w as f,o as m,H as h,N as g,u as d,r as y,b as I,f as b,g as w,j as _,m as j,al as x,F as v,e as S,aj as T,ak as z}from"./@vue.NRI7TcgI1741594518249.js";import{P as B}from"./tweakpane.yDiyAAkA1741594518249.js";import{_ as D}from"./informationDiv.-d3b_WCT1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./@fesjs._tIE6C7-1741594518249.js";import"./vue-router.qtZNKV811741594518249.js";import"./lodash-es.pklfUAS51741594518249.js";import"./@qlin.yHhFDldE1741594518249.js";import"./pinia.3XPyh4eK1741594518249.js";import"./@floating-ui.BPbuo5Gx1741594518249.js";import"./@juggle.7yjBMqoW1741594518249.js";const M=E;!function(t,n){const e=E,r=P();for(;;)try{if(169865===-parseInt(e(436))/1*(parseInt(e(441))/2)+-parseInt(e(450))/3+parseInt(e(425))/4+-parseInt(e(468))/5*(-parseInt(e(474))/6)+-parseInt(e(467))/7+-parseInt(e(464))/8*(-parseInt(e(470))/9)+-parseInt(e(459))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(457)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function E(t,n){const e=P();return(E=function(t,n){return e[t-=424]})(t,n)}!function(){A(this,(function(){const t=E,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=H(t(431));n[t(447)](r+"chain")&&e[t(447)](r+t(476))?H():r("0")}))()}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(457)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(){const t=["vertexShader","height","bind","call","exception","init","MeshPhongMaterial","applyMatrix4","debu","trace","13fDEisX","geo2pos","prototype","return (function() ","replace","43598TMRjuK","map","scale","constructor","string","TresGroup","test","warn","onBeforeCompile","201384rtTWDb","color","opacity","action","radraImgShow",'{}.constructor("return this")( )',"console","apply","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","296820JNCPan","table","toString","material","40.png","1121720dHArDE","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","needsUpdate","765520EOShSW","45XeMdeR","scaleImg","18pzBWgH","stateObject","push","log","66138BWPEHJ","length","input","gger","info","TresMesh","__proto__","Texture","1119140QGlBSf"];return(P=function(){return t})()}k(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(439)+t(455)+");")()}catch(e){n=window}return n}(),e=n[t(456)]=n[t(456)]||{},r=[t(473),t(448),t(478),"error",t(430),t(460),t(435)];for(let o=0;o<r.length;o++){const n=k[t(444)][t(438)][t(428)](k),i=r[o],s=e[i]||n;n[t(480)]=k.bind(k),n.toString=s[t(461)][t(428)](s),e[i]=n}}))();const F=["position"],O=[M(443),M(462),"rotateX","position-y"],C=p({__name:M(454),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=M;let s,a;const u=n,p=new(r[e(432)])({displacementMap:new(r[e(424)]),transparent:!0,side:o,opacity:u[e(452)],displacementScale:.5,displacementBias:0});p[e(449)]=t=>{const n=e;t.vertexShader="uniform sampler2D map;\n\t"+t.vertexShader,t.vertexShader=t[n(426)][n(440)]("#include <displacementmap_vertex>",n(465))};const y=u[e(442)][e(437)](new i(105,34,0));y[e(433)](u[e(442)].matrix);const I=c[e(469)](u[e(442)],{x:67,y:11},{x:140,y:57},u[e(427)]),b=[];for(let t=0;t<9;t++)b[e(472)](e(458)+t+e(463));let w=0;const _=([s,a]=l((()=>t(b))),s=await s,a(),s);p.map=_[w],f((()=>[u[e(451)],u[e(452)]]),(([t,n])=>{p[e(452)]=n}));let j=null,x=!1;return x?(clearInterval(j),j=null,x=!1):(j=setInterval((()=>{const t=E;w=w<b.length-1?w+1:0,p[t(442)]=_[w],p[t(466)]=!0,console.log(w)}),1e3),x=!0),(t,n)=>{const r=e;return m(),h(r(446),{position:[...d(y)]},[g(r(479),{scale:[d(I).x,d(I).y,t[r(427)]],material:d(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},n[0]||(n[0]=[g("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,O)],8,F)}}});function H(t){function n(t){const e=E;if(typeof t===e(445))return function(t){}[e(444)]("while (true) {}").apply("counter");1!==(""+t/t)[e(475)]||t%20==0?function(){return!0}[e(444)]("debu"+e(477))[e(429)](e(453)):function(){return!1}[e(444)](e(434)+"gger")[e(457)](e(471)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=N;!function(t,n){const e=N,r=G();for(;;)try{if(600144===parseInt(e(238))/1*(-parseInt(e(231))/2)+parseInt(e(226))/3*(-parseInt(e(219))/4)+-parseInt(e(240))/5*(parseInt(e(212))/6)+-parseInt(e(214))/7*(-parseInt(e(202))/8)+-parseInt(e(236))/9+-parseInt(e(235))/10+parseInt(e(199))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(243)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=N,n=new RegExp(t(245)),e=new RegExp(t(253),"i"),r=J(t(250));n[t(224)](r+"chain")&&e.test(r+t(217))?J():r("0")}))()}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(243)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();L(void 0,(function(){const t=N;let n;try{n=Function(t(248)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(234)]=n[t(234)]||{},r=[t(252),t(228),t(201),t(229),t(232),"table",t(204)];for(let i=0;i<r.length;i++){const n=L[t(221)][t(206)][t(244)](L),o=r[i],s=e[o]||n;n[t(257)]=L[t(244)](L),n[t(239)]=s[t(239)][t(244)](s),e[o]=n}}))();const Z=["object"];function G(){const t=["target","__proto__","mapbox.satellite","21010880FugLxM","addBinding","info","8ssFuUl","MapBoxSource","trace","localToWorld","prototype","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","domElement","TileMap","length","透明度","30aeTZHd","value","4614267eNOmIR","GDSource","copy","input","Vector3","29836IZYVEn","rotateX","constructor","while (true) {}","plugin","test","height","51wCBoBX","terrain-rgb","warn","error","geo2pos","2hEFHtz","exception","stateObject","console","11882950ugSXeC","661617oBahOB","showLocation","125841uXYWqp","toString","454665TWkppa","mapBoxShow3","call","apply","bind","function *\\( *\\)","opacity","image","return (function() ","counter","init","gger","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","position","TresDirectionalLight"];return(G=function(){return t})()}function N(t,n){const e=G();return(N=function(t,n){return e[t-=198]})(t,n)}const X=R(207),$=p({__name:R(241),setup(t){const e=R,o=y({height:200,opacity:1}),i=new B({title:"参数"});i[e(200)](o,e(225),{label:"高度",min:10,max:300,step:1}),i[e(200)](o,e(246),{label:e(211),min:0,max:1,step:.1}),new(s[e(223)][e(203)])({token:X,dataType:e(247),style:e(198)});const p=new(s[e(223)][e(203)])({token:X,dataType:e(227),style:"mapbox.terrain-rgb",maxLevel:15}),l=new(s[e(209)])({imgSource:[new(s[e(223)][e(215)])({style:"6"}),new(a[e(215)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});l[e(220)](-Math.PI/2);const S=new(r[e(218)])(105,34,0),T=new(r[e(218)])(110,0,1e4),z=l[e(205)](l[e(230)](S)),D=l[e(205)](l[e(230)](T)),M=I(),{camera:A,controls:E,scene:k,renderer:P}=n();return A[e(213)]&&A[e(213)][e(254)][e(216)](D),f((()=>E[e(213)]),(t=>{const n=e;t&&(t.target[n(216)](z),u(t,A[n(213)],k.value))})),f((()=>M[e(213)]),(t=>{const n=e;t&&t[n(256)][n(254)][n(216)](z)})),c[e(237)](A.value,P[e(213)][e(208)],l),(t,n)=>{const r=e;return m(),h(v,null,[g(r(255),{ref_key:"tdLight",ref:M,position:[0,2e3,1e3],intensity:1},null,512),g("primitive",{object:d(l)},null,8,Z),(m(),b(x,null,{default:w((()=>[_(C,j({map:d(l)},o),null,16,["map"])])),_:1}))],64)}}});function J(t){function n(t){const e=N;if("string"==typeof t)return function(t){}.constructor(e(222))[e(243)](e(249));1!==(""+t/t)[e(210)]||t%20==0?function(){return!0}[e(221)]("debugger")[e(242)]("action"):function(){return!1}[e(221)]("debu"+e(251)).apply(e(233)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=V;!function(t,n){const e=V,r=Y();for(;;)try{if(320478===parseInt(e(320))/1+parseInt(e(325))/2*(-parseInt(e(344))/3)+-parseInt(e(315))/4+parseInt(e(319))/5*(parseInt(e(331))/6)+-parseInt(e(336))/7*(-parseInt(e(310))/8)+-parseInt(e(337))/9*(-parseInt(e(341))/10)+-parseInt(e(314))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=V,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=tt(t(321));n[t(326)](r+t(345))&&e[t(326)](r+t(335))?tt():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(328)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function V(t,n){const e=Y();return(V=function(t,n){return e[t-=306]})(t,n)}function Y(){const t=["prototype","input","427APjIau","2104281HmbTDn","__proto__","constructor","table","20TjqAQU","exception","stateObject","90fmzNOJ","chain","length","action","return (function() ","#dbf0ff","counter","radraImg","49528BJefAw","call","info","trace","12552694BNOFIC","842172zGwKjz","gger","error","string","2840ldyHxZ","473864ldaCcC","init","TresCanvas","debu","warn","19026OzxLzS","test","log","apply","highp","toString","6744VOvssG","console",'{}.constructor("return this")( )'];return(Y=function(){return t})()}q(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(306)+t(333)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(332)]||{},r=[t(327),t(324),t(312),t(317),t(342),t(340),t(313)];for(let o=0;o<r[t(346)];o++){const n=q.constructor[t(334)].bind(q),i=r[o],s=e[i]||n;n[t(338)]=q.bind(q),n[t(330)]=s[t(330)].bind(s),e[i]=n}}))();const K=p({__name:Q(309),setup(t){const n=Q,r=y({clearColor:n(307),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(329)}),o=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=S(n(322));return m(),h(v,null,[_(s,j(r,{"window-size":""}),{default:w((()=>[i[0]||(i[0]=g("TresPerspectiveCamera",{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(d(e),T(z(o)),null,16),i[1]||(i[1]=g("TresAmbientLight",{intensity:1},null,-1)),_($)])),_:1},16),_(D)],64)}}});function tt(t){function n(t){const e=V;if(typeof t===e(318))return function(t){}[e(339)]("while (true) {}")[e(328)](e(308));1!==(""+t/t)[e(346)]||t%20==0?function(){return!0}[e(339)](e(323)+"gger")[e(311)](e(347)):function(){return!1}[e(339)](e(323)+e(316))[e(328)](e(343)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
