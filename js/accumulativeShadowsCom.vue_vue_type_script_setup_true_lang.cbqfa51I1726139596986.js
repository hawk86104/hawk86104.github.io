import{V as t,_ as n,aY as e}from"./three.ewwqFbMB1726139596986.js";import{p as a}from"./@tresjs.ml1V726H1726139596986.js";import{d as o,P as r}from"./@pmndrs.i3ABMTfO1726139596986.js";import{d as s,b as i,w as c,a3 as u,o as l,E as p,L as f,aj as d,ak as h}from"./@vue.JNsx1iN61726139596986.js";const m=g;!function(t,n){const e=g,a=x();for(;;)try{if(515289===parseInt(e(278))/1+parseInt(e(252))/2*(parseInt(e(275))/3)+parseInt(e(318))/4+-parseInt(e(260))/5+-parseInt(e(294))/6+parseInt(e(325))/7+parseInt(e(303))/8*(-parseInt(e(320))/9))break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const w=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[g(285)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();function g(t,n){const e=x();return(g=function(t,n){return e[t-=248]})(t,n)}!function(){w(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(316),"i"),a=I("init");n[t(265)](a+t(292))&&e[t(265)](a+"input")?I():a("0")}))()}();const b=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[g(285)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();b(void 0,(function(){const t=g;let n;try{n=Function(t(288)+t(256)+");")()}catch(o){n=window}const e=n[t(321)]=n[t(321)]||{},a=[t(253),t(287),"info",t(259),t(304),t(262),"trace"];for(let r=0;r<a.length;r++){const n=b[t(329)][t(286)][t(301)](b),o=a[r],s=e[o]||n;n.__proto__=b[t(301)](b),n[t(307)]=s[t(307)][t(301)](s),e[o]=n}}))();const M=["rotate-x"],y=f("TresPlaneGeometry",{args:[1,1]},null,-1);function x(){const t=["1059528rTiguF","length","frames","blend","amount","alphaTest","random","bind","intensity","6382416xwxhWv","exception","finish","shadows render start","toString","counter","TresSoftShadowMaterial","clear","value","position","opacity","near","update","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","camera","1348812xueUxh","cos","9yYRRSW","console","acos","progressiveLightMap2","lightPosition","1844822DFbKRQ","call","action","accumulativeShadowsCom","constructor","while (true) {}","bottom","far","configure","58mgAdoV","log","size","sin",'{}.constructor("return this")( )',"prepare","Group","error","1651970zIpZKR","MathUtils","table","color","radius","test","randFloatSpread","height","ambient","top","string","texture","material","shadow","mapSize","58464BMULjH","shadows render end","TresMesh","654172CHFdjG","#000000","castShadow","set","children","shadows plm update","gger","apply","prototype","warn","return (function() ","width","add","abs","chain","blendWindow"];return(x=function(){return t})()}const v=s({__name:m(328),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(279)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const w=m,g=s;let b=i();const{extend:x,scene:v,renderer:I,camera:S}=a();x({SoftShadowMaterial:o});const z={position:(new t)[w(281)](g[w(324)].x,g[w(324)].y,g[w(324)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},_=new r(I.value,v.value,z[w(274)]),j={map:_[w(323)][w(271)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g[w(297)],alphaTest:g.alphaTest,opacity:g[w(313)],color:g[w(263)]},P=new(n[w(258)]);for(let t=0;t<z[w(298)];t++){const t=new e(16777215,z[w(302)]/z[w(298)]);t[w(280)]=!0,t.shadow.bias=z.bias,t[w(273)][w(317)].near=z[w(314)],t.shadow[w(317)][w(250)]=z[w(250)],t[w(273)][w(317)].right=z[w(254)]/2,t[w(273)][w(317)].left=-z[w(254)]/2,t[w(273)][w(317)][w(269)]=z[w(254)]/2,t.shadow.camera[w(249)]=-z[w(254)]/2,t[w(273)][w(274)][w(289)]=z.mapSize,t[w(273)][w(274)][w(267)]=z[w(274)],P[w(290)](t)}const T=()=>{const t=w,e=z[t(312)][t(295)]();for(let a=0;a<P.children[t(295)];a++){const o=P[t(282)][a];if(Math.random()>g[t(268)])o[t(312)][t(281)](z[t(312)].x+n[t(261)][t(266)](z[t(264)]),z.position.y+n[t(261)][t(266)](z[t(264)]),z[t(312)].z+n[t(261)].randFloatSpread(z[t(264)]));else{let n=Math[t(322)](2*Math[t(300)]()-1)-Math.PI/2,a=2*Math.PI*Math[t(300)]();o[t(312)][t(281)](Math.cos(n)*Math[t(319)](a)*e,Math[t(291)](Math[t(319)](n)*Math[t(255)](a)*e),Math[t(255)](n)*e)}}},F=(t=1)=>{const n=w;v.value[n(290)](P),_[n(257)]();for(let e=0;e<t;e++)T(),_[n(315)](S[n(311)],g[n(293)]),console.log(n(283),e);v.value.remove(P),_[n(305)]()};c((()=>b[w(311)]),(t=>{const n=w;t&&(_[n(251)](t),_[n(310)](),console[n(253)](n(306)),F(g[n(296)]),console[n(253)](n(276)))}));const R=()=>{const t=w;_[t(310)](),F(g[t(296)])};return u((()=>{const t=w;b[t(311)]&&(g.opacity&&(b.value.material[t(313)]=g[t(313)]),g[t(299)]&&(b.value[t(272)][t(299)]=g[t(299)]),g[t(263)]&&b.value[t(272)][t(263)][t(281)](g[t(263)]),g[t(297)]&&(b[t(311)][t(272)][t(297)]=g.blend))})),c((()=>g[w(324)]),(t=>{const n=w;t&&(console[n(253)](g.lightPosition),z.position[n(281)](t.x,t.y,t.z),R())}),{deep:!0}),c((()=>[g.frames,g[w(293)],g[w(268)]]),(()=>{R()})),(t,n)=>{const e=w;return l(),p(e(277),{"receive-shadow":"",ref_key:"gPlane",ref:b,scale:10,"rotate-x":-Math.PI/2},[y,f(e(309),d(h(j)),null,16)],8,M)}}});function I(t){function n(t){const e=g;if(typeof t===e(270))return function(t){}[e(329)](e(248)).apply(e(308));1!==(""+t/t).length||t%20==0?function(){return!0}[e(329)]("debugger")[e(326)](e(327)):function(){return!1}[e(329)]("debu"+e(284))[e(285)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{v as _};
