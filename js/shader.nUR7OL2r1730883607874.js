import{e as n,m as t,a as e,U as r,s as o}from"./@tresjs.C3WO4ZW41730883607874.js";import{z as s,aB as i,_ as a}from"./three.fIUcjaNz1730883607874.js";import{P as c}from"./tweakpane.BCjFYDHx1730883607874.js";import{L as u}from"./three-subdivide.Bwt89U0k1730883607874.js";import{d as l,b as f,a3 as p,w as d,o as m,D as g,J as h,aj as v,ak as y,a6 as w,r as b,e as _,f as I,g as M,j as x,u as T,m as B,I as j}from"./@vue.Cfu43fwq1730883607874.js";import"./@vueuse.BSum2YDk1730883607874.js";const S=N;!function(n,t){const e=N,r=A();for(;;)try{if(200990===-parseInt(e(244))/1*(parseInt(e(265))/2)+parseInt(e(221))/3*(-parseInt(e(262))/4)+parseInt(e(269))/5+-parseInt(e(253))/6*(parseInt(e(226))/7)+-parseInt(e(251))/8+-parseInt(e(248))/9+-parseInt(e(236))/10*(-parseInt(e(238))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){k(this,(function(){const n=N,t=new RegExp(n(261)),e=new RegExp(n(245),"i"),r=L(n(228));t[n(235)](r+n(254))&&e.test(r+"input")?L():r("0")}))()}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[N(246)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(){const n=["48fLgFuv","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","counter","table","while (true) {}","7anDGWF","bind","init","value","shineShader","attributes","action","position","length","test","20tifxpB","color","7452082KyTmAm",'{}.constructor("return this")( )',"warn","clone","uniforms","side","13HyJVNR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","info","2933892XkmWxq","copy","debu","2817288LmLnYu","gger","402594JeNCce","chain","error","Color","blending","Vector3","TSGref","glowColor","function *\\( *\\)","75256OgJzDU","geometry","subdivision","49186PNfNtJ","console","TresShaderMaterial","modify","1060235PXAZIk","__proto__","call","scale","constructor","material","stateObject","prototype","srcMesh","toString"];return(A=function(){return n})()}z(void 0,(function(){const n=N,t=function(){const n=N;let t;try{t=Function("return (function() "+n(239)+");")()}catch(e){t=window}return t}(),e=t[n(266)]=t[n(266)]||{},r=["log",n(240),n(247),n(255),"exception",n(224),"trace"];for(let o=0;o<r[n(234)];o++){const t=z[n(273)][n(276)][n(227)](z),s=r[o],i=e[s]||t;t[n(270)]=z[n(227)](z),t[n(278)]=i[n(278)][n(227)](i),e[s]=t}}))();const C=[S(272)];function N(n,t){const e=A();return(N=function(n,t){return e[n-=221]})(n,t)}const V=l({__name:S(230),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s},blending:{default:i}},setup(e){const r=S,o=e,s=f(),i={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(a[r(256)])(o[r(237)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(222),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(257)]};p((()=>{const n=r;if(o.srcMesh&&s[n(229)]&&!s[n(229)][n(263)][n(231)][n(233)]){let t=o[n(277)].geometry[n(241)]();o.subdivision&&(t=u[n(268)](t,2)),s[n(229)][n(263)]=t,s[n(229)][n(233)][n(249)](o[n(277)][n(233)])}o.color&&(i.uniforms[n(260)][n(229)]=new(a[n(256)])(o[n(237)])),o.c&&(i[n(242)].c[n(229)]=o.c),o.p&&(i.uniforms.p[n(229)]=o.p)})),d((()=>o[r(264)]),(n=>{const t=r;let e=o.srcMesh[t(263)][t(241)]();n&&(e=u[t(268)](e,2)),s[t(229)][t(263)]=e})),d((()=>o.side),(n=>{const t=r;s[t(229)][t(274)][t(243)]=n})),d((()=>o.blending),(n=>{const t=r;s[t(229)].material[t(257)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=r;l[n(229)]&&s.value&&(i.uniforms.viewVector[n(229)]=(new(a[n(258)])).subVectors(l.value[n(233)],s[n(229)].position))})),(n,t)=>{const e=r;return m(),g("TresMesh",{ref_key:e(259),ref:s,scale:o.scale},[h(e(267),v(y(i)),null,16)],8,C)}}});function L(n){function t(n){const e=N;if("string"==typeof n)return function(n){}[e(273)](e(225)).apply(e(223));1!==(""+n/n)[e(234)]||n%20==0?function(){return!0}.constructor(e(250)+"gger")[e(271)](e(232)):function(){return!1}[e(273)](e(250)+e(252))[e(246)](e(275)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=F;!function(n,t){const e=F,r=P();for(;;)try{if(644498===-parseInt(e(375))/1+parseInt(e(366))/2+-parseInt(e(403))/3*(parseInt(e(410))/4)+-parseInt(e(406))/5+parseInt(e(394))/6*(-parseInt(e(364))/7)+-parseInt(e(409))/8+parseInt(e(414))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[F(379)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function F(n,t){const e=P();return(F=function(n,t){return e[n-=361]})(n,t)}!function(){D(this,(function(){const n=F,t=new RegExp(n(365)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=W("init");t[n(404)](r+n(411))&&e.test(r+n(407))?W():r("0")}))()}();const J=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function P(){const n=["value","shader","scale","FrontSide","BackSide","__proto__","bind","gger","TresMeshRefB","TresMeshBasicMaterial","side","762oCBNmt","addBinding","#0ff","return (function() ","srcMesh",'{}.constructor("return this")( )',"call","TresMesh","边缘处理","382758ugntEl","test","TresAmbientLight","2217220eDAwwf","input","TresCanvas","224936aTdYTe","24LXJUzA","chain","blending","AdditiveBlending","18330426mmWpSw","DoubleSide","debu","TresMeshRefA","table","toString","info","6398LVTpiC","function *\\( *\\)","291256jDoIVu","NormalBlending","log","#00dfff","map","counter","color","prototype","logo.png","184689LtPzZz","TresPerspectiveCamera","console","instance","apply","#222","error","string"];return(P=function(){return n})()}J(void 0,(function(){const n=F,t=function(){const n=F;let t;try{t=Function(n(397)+n(399)+");")()}catch(e){t=window}return t}(),e=t[n(377)]=t[n(377)]||{},r=[n(368),"warn",n(363),n(381),"exception",n(361),"trace"];for(let o=0;o<r.length;o++){const t=J.constructor[n(373)][n(389)](J),s=r[o],i=e[s]||t;t[n(388)]=J.bind(J),t[n(362)]=i[n(362)][n(389)](i),e[s]=t}}))();const Z=["map"],E=[R(370)],G=l({__name:R(384),async setup(n){const t=R;let i,u;const l={clearColor:t(380)},p=f(),d=f(),g=f(),v=([i,u]=w((()=>e(["./plugins/earthSample/image/earthA/earth.jpg",t(374)]))),i=await i,u(),i),y=b({scale:1.6,color:t(369),subdivision:!0,c:1.1,p:1.4,side:a[t(386)],blending:a[t(413)]}),S=new c({title:"参数",expanded:!0});return S.addBinding(y,t(372),{label:"颜色"}),S[t(395)](y,t(385),{label:"大小",min:1,max:3,step:.2}),S[t(395)](y,"subdivision",{label:t(402)}),S[t(395)](y,"c",{label:"c",min:0,max:2,step:.1}),S.addBinding(y,"p",{label:"p",min:0,max:8,step:.2}),S[t(395)](y,t(393),{options:{FrontSide:s,BackSide:a[t(387)],DoubleSide:a[t(415)]}}),S[t(395)](y,t(412),{options:{AdditiveBlending:a[t(413)],NormalBlending:a[t(367)]}}),(n,e)=>{const s=t,i=_(s(408));return m(),I(i,B(l,{"window-size":""}),{default:M((()=>[e[2]||(e[2]=h(s(376),{position:[5,5,5]},null,-1)),e[3]||(e[3]=h(s(405),{intensity:1},null,-1)),x(T(r)),e[4]||(e[4]=h("TresGridHelper",{args:[10,10]},null,-1)),h(s(401),{ref_key:s(417),ref:p,position:[-2,1,0]},[e[0]||(e[0]=h("TresSphereGeometry",{args:[1,32,16]},null,-1)),h(s(392),{map:T(v)[0]},null,8,Z)],512),x(V,B({srcMesh:p[s(383)]},y),null,16,[s(398)]),x(T(o),{ref_key:"TreBoxRef",ref:g,args:[1,1,1],position:[2,1,0]},{default:M((()=>[h(s(392),{map:T(v)[1]},null,8,E)])),_:1},512),g[s(383)]&&g[s(383)][s(378)]?(m(),I(V,B({key:0,srcMesh:g.value.instance},y),null,16,[s(398)])):j("",!0),h("TresMesh",{ref_key:s(391),ref:d,position:[0,1,-2]},e[1]||(e[1]=[h("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),h("TresMeshBasicMaterial",{color:s(396)},null,-1)]),512),x(V,B({srcMesh:d[s(383)]},y),null,16,["srcMesh"])])),_:1},16)}}});function W(n){function t(n){const e=F;if(typeof n===e(382))return function(n){}.constructor("while (true) {}")[e(379)](e(371));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(416)+e(390))[e(400)]("action"):function(){return!1}.constructor(e(416)+e(390))[e(379)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{G as default};
