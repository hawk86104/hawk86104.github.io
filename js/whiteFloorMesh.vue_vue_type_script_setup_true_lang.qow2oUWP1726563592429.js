import{_ as t,bT as n,C as o}from"./three.ZWd_rX7H1726563592429.js";import{z as r}from"./@tresjs.Mu0zjs701726563592429.js";import{d as e,b as a,a4 as s,w as i,o as c,E as u,L as f,aj as l,ak as p}from"./@vue.bvMz0l_u1726563592429.js";!function(t,n){const o=m,r=_();for(;;)try{if(822080===-parseInt(o(320))/1+-parseInt(o(328))/2+parseInt(o(360))/3+parseInt(o(355))/4*(-parseInt(o(334))/5)+-parseInt(o(325))/6*(parseInt(o(330))/7)+-parseInt(o(349))/8*(parseInt(o(359))/9)+parseInt(o(361))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(332)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(323),"i"),r=w("init");n.test(r+t(347))&&o[t(318)](r+t(346))?w():r("0")}))()}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(332)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();h(void 0,(function(){const t=m;let n;try{n=Function(t(324)+t(342)+");")()}catch(e){n=window}const o=n[t(338)]=n.console||{},r=["log",t(335),t(341),t(326),t(317),t(316),t(313)];for(let a=0;a<r[t(314)];a++){const n=h.constructor[t(354)][t(333)](h),e=r[a],s=o[e]||n;n[t(327)]=h.bind(h),n.toString=s.toString.bind(s),o[e]=n}}))();const g=()=>{const o=m;return o(315)+t[o(353)][o(331)]+o(352)+t[o(353)][o(351)]+o(352)+n[o(356)]+o(345)+n[o(337)]+o(336)+n[o(348)]+o(336)+t[o(353)][o(343)]+o(336)+n.project_vertex+o(336)+t[o(353)][o(329)]+o(336)+t[o(353)][o(321)]+o(363)};function m(t,n){const o=_();return(m=function(t,n){return o[t-=313]})(t,n)}const v=()=>{const n=m;return n(344)+t[n(353)][n(331)]+n(340)+t[n(353)].packing+"\n\t "+t[n(353)][n(351)]+n(340)+t[n(353)].lights_pars_begin+"\n\t "+t[n(353)].shadowmap_pars_fragment+n(340)+t[n(353)].shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function w(t){function n(t){const o=m;if(typeof t===o(322))return function(t){}[o(339)]("while (true) {}")[o(332)](o(319));1!==(""+t/t)[o(314)]||t%20==0?function(){return!0}[o(339)](o(362)+o(357))[o(358)]("action"):function(){return!1}[o(339)]("debu"+o(357)).apply(o(350)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function _(){const t=["719306EQkUad","shadowmap_vertex","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","810KohfHx","error","__proto__","1477440pQjiet","worldpos_vertex","68747fmdggH","common","apply","bind","6511790HmdshP","warn","\n          ","beginnormal_vertex","console","constructor","\n\t ","info",'{}.constructor("return this")( )',"begin_vertex","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n       void main() {\n\t\t\t\t\t","input","chain","defaultnormal_vertex","200432EqPVrd","stateObject","bsdfs","\n      \t","ShaderChunk","prototype","4QDwDFa","shadowmap_pars_vertex","gger","call","135YIewKb","2186451ONEpbo","45552920BJjyrG","debu","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","trace","length","\n       varying vec2 vUv;\n\t\t\t \t","table","exception","test","counter"];return(_=function(){return t})()}const b=x;function x(t,n){const o=j();return(x=function(t,n){return o[t-=173]})(t,n)}!function(t,n){const o=x,r=j();for(;;)try{if(631169===parseInt(o(177))/1+-parseInt(o(196))/2+-parseInt(o(216))/3+-parseInt(o(212))/4+-parseInt(o(189))/5*(parseInt(o(214))/6)+parseInt(o(227))/7*(-parseInt(o(220))/8)+parseInt(o(197))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(179)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=x,n=new RegExp(t(174)),o=new RegExp(t(206),"i"),r=T(t(205));n[t(198)](r+"chain")&&o[t(198)](r+"input")?T():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(179)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function("return (function() "+t(203)+");")()}catch(o){n=window}return n}(),o=n[t(181)]=n.console||{},r=[t(219),"warn","info",t(210),t(194),t(215),t(176)];for(let e=0;e<r[t(178)];e++){const n=I[t(218)][t(207)].bind(I),a=r[e],s=o[a]||n;n.__proto__=I.bind(I),n.toString=s[t(211)][t(222)](s),o[a]=n}}))();const S=[b(199)],C=[b(226)];function j(){const t=["TresShaderMaterial","trace","49522LIMOAl","length","apply","Color","console","#999","uniforms","DoubleSide","RepeatWrapping","edge","debu","value","6185575FuOOjb","color","while (true) {}","whiteFloorMesh","stateObject","exception","size","43658sZnUZx","23186313DLsebd","test","rotation-x","call","action","string",'{}.constructor("return this")( )',"#990","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","UniformsUtils","shadowColor","error","toString","620804KBzght","UniformsLib","6FDBKPQ","table","517893oYNAVW","gger","constructor","log","56WdaGtQ","merge","bind","wrapT","lights","counter","args","407834PiBrrp","fEdge","function *\\( *\\)"];return(j=function(){return t})()}const E=e({__name:b(192),props:{size:{default:[20,20]},color:{default:b(204)},shadowColor:{default:b(182)},edge:{default:.35}},async setup(n){const e=b;let d,h;const m=n,w=a(),{map:_}=([d,h]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,h(),d);_.wrapS=_[e(223)]=t[e(185)];const x={uniforms:t[e(208)][e(221)]([t[e(213)][e(224)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(180)])(m[e(190)])},uShadowColor:{value:new(t[e(180)])(m[e(209)])},fEdge:{type:"f",value:m[e(186)]}}]),side:t[e(184)],vertexShader:g(),fragmentShader:v(),lights:!0,transparent:!0};return i((()=>m[e(186)]),(t=>{const n=e;x[n(183)][n(173)][n(188)]=t})),i((()=>m[e(190)]),(n=>{const o=e;x.uniforms.uColor[o(188)]=new(t[o(180)])(m[o(190)])})),i((()=>m.shadowColor),(t=>{const n=e;x[n(183)].uShadowColor[n(188)]=new o(m[n(209)])})),(t,n)=>{const o=e;return c(),u("TresMesh",{ref_key:"tmRef",ref:w,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:m[o(195)]},null,8,C),f(o(175),l(p(x)),null,16)],8,S)}}});function T(t){function n(t){const o=x;if(typeof t===o(202))return function(t){}[o(218)](o(191))[o(179)](o(225));1!==(""+t/t)[o(178)]||t%20==0?function(){return!0}[o(218)]("debu"+o(217))[o(200)](o(201)):function(){return!1}[o(218)](o(187)+o(217)).apply(o(193)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
