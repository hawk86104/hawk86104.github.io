import{p as t,$ as n,W as e,d as r}from"./@tresjs.SUe87xao1723628107012.js";import{_ as o}from"./index.nljFLUxY1723628107012.js";import{a as s}from"./index.wzkl4CyW1723628107012.js";import{a6 as i,M as c,B as u,q as a,cB as l}from"./three.LOnTLfxo1723628107012.js";import{P as p}from"./tweakpane.yHWGBmom1723628107012.js";import{I as f,C as m,N as h,c as g,d,a as y}from"./three-mesh-bvh.-U140OdV1723628107012.js";import{d as w,a4 as j,b,a1 as v,o as _,D as I,J as x,u as T,F as A,r as z,e as M,j as S,g as O,m as R,f as k,al as B}from"./@vue.9bHx4gg21723628107012.js";import"./@vueuse.t-c8gU4-1723628107012.js";import"./index.4_UN2mlQ1723628107012.js";import"./@fesjs.BuhZYZEQ1723628107012.js";import"./vue-router.XBF1ZL3N1723628107012.js";import"./lodash-es.nFpJXAf-1723628107012.js";import"./@qlin.yHhFDldE1723628107012.js";import"./pinia.nipTyfok1723628107012.js";import"./@floating-ui.BPbuo5Gx1723628107012.js";import"./@juggle.7yjBMqoW1723628107012.js";import"./chalk.sAH7iSuz1723628107012.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1723628107012.js";import"./@iconify.9PoCakEb1723628107012.js";import"./utils.khGxV-lR1723628107012.js";import"./default.vue_vue_type_script_setup_true_lang.WPDwyMNb1723628107012.js";import"./three-mesh-ui.module.P4QQ5Mqd1723628107012.js";import"./three-stdlib.kNzZmNMy1723628107012.js";import"./@pmndrs.m3RZ2qRu1723628107012.js";import"./object-hash.eRIADBNa1723628107012.js";import"./@amap.XsUkMUkF1723628107012.js";import"./jszip.TSgBnMkQ1723628107012.js";!function(t,n){const e=Z,r=C();for(;;)try{if(690918===parseInt(e(112))/1+-parseInt(e(150))/2+parseInt(e(127))/3+parseInt(e(137))/4+-parseInt(e(124))/5+-parseInt(e(148))/6*(parseInt(e(115))/7)+parseInt(e(140))/8*(parseInt(e(149))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(141)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Z(t,n){const e=C();return(Z=function(t,n){return e[t-=112]})(t,n)}function C(){const t=["gger","debu","pointerup","chain","length","4255926xxJHON","90333SqxphD","991950aOhTCQ","constructor","warn","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","input","371283yXDgRL","setFromCamera","function *\\( *\\)","7WAJEEN","action","string","counter","clientX","Raycaster","addEventListener","pointermove","console","2695030VyfJxV","log","toString","1912752QpCFHM","clientY","__proto__","innerWidth","test","enabled","firstHitOnly","while (true) {}",'{}.constructor("return this")( )',"stateObject","4380528moVjww","trace","value","264fjnHlx","apply","touch"];return(C=function(){return t})()}!function(){H(this,(function(){const t=Z,n=new RegExp(t(114)),e=new RegExp(t(154),"i"),r=E("init");n[t(131)](r+t(146))&&e[t(131)](r+t(156))?E():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();U(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function("return (function() "+t(135)+");")()}catch(e){n=window}return n}(),e=n[t(123)]=n[t(123)]||{},r=[t(125),t(152),"info",t(155),"exception","table",t(138)];for(let o=0;o<r[t(147)];o++){const n=U[t(151)].prototype.bind(U),s=r[o],i=e[s]||n;n[t(129)]=U[t(153)](U),n[t(126)]=i.toString[t(153)](i),e[s]=n}}))();function E(t){function n(t){const e=Z;if(typeof t===e(117))return function(t){}[e(151)](e(134)).apply(e(118));1!==(""+t/t)[e(147)]||t%20==0?function(){return!0}[e(151)]("debu"+e(143)).call(e(116)):function(){return!1}[e(151)](e(144)+e(143))[e(141)](e(136)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=X;!function(t,n){const e=X,r=V();for(;;)try{if(984609===parseInt(e(193))/1+-parseInt(e(221))/2+-parseInt(e(226))/3+parseInt(e(170))/4*(parseInt(e(207))/5)+parseInt(e(166))/6*(-parseInt(e(195))/7)+parseInt(e(249))/8+parseInt(e(174))/9*(parseInt(e(235))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(172)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function V(){const t=["TresMesh","color","prototype","value","getY","intersectObject","while (true) {}","1202898IWeqHi","DynamicDrawUsage","exception","setFromCamera","636WvsAyV","enabled","apply","applyMatrix4","9AaUtzk","point","center","invert","boundsTree","console","toString","needsUpdate","#023249","raycast","setY","Vector3","material","getZ","stateObject","length","TresMeshStandardMaterial","targetMesh.value init","fill","272407gquOUt","log","49qHvruS","call","shapecast","Vector2","trace","copy","controls","MeshStandardMaterial","BufferGeometry","addButton","click","init","49105jTHQUM","table","intersectsSphere",'{}.constructor("return this")( )',"生成模型","matrixWorld","geometry","return (function() ","BufferAttribute","Sphere","action","set","test","position","3692180epaGib","active","info","debu","setScalar","3058083EUzxKy","radius","constructor","firstHitOnly","intersectsBox","targetMesh","TresSphereGeometry","visible","setAttribute","25132070zYqmuh","点击按钮","push","gger","setZ","index","getX","bind","setUsage","count","string","normal","attributes","computeBoundsTree","7250304JTbfiB","brushMesh","chain","disposeBoundsTree"];return(V=function(){return t})()}!function(){F(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=P(t(206));n.test(r+t(251))&&e[t(219)](r+"input")?P():r("0")}))()}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(172)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();W(void 0,(function(){const t=X;let n;try{n=Function(t(214)+t(210)+");")()}catch(o){n=window}const e=n[t(179)]=n[t(179)]||{},r=["log","warn",t(223),"error",t(168),t(208),t(199)];for(let s=0;s<r[t(189)];s++){const n=W[t(228)][t(161)][t(242)](W),o=r[s],i=e[o]||n;n.__proto__=W[t(242)](W),n[t(180)]=i.toString[t(242)](i),e[o]=n}}))();const D=[q(213),q(186)],Y=[x(q(232),{args:[1,40,40]},null,-1),x(q(190),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],$=[q(213)],J=[x(q(190),{color:q(182),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function X(t,n){const e=V();return(X=function(t,n){return e[t-=161]})(t,n)}const G=w({__name:"model",props:{controls:{}},async setup(r){const o=q;let s,w;const z=r;(()=>{const t=X;i[t(203)][t(161)].computeBoundsTree=g,u[t(161)][t(252)]=d,a[t(161)][t(183)]=y})();const M=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),S=new(i[o(202)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),O=new Uint8Array(3*M.attributes[o(220)][o(244)]);O[o(192)](255);const R=new(i[o(215)])(O,3,!0);R[o(243)](i[o(167)]),M[o(234)](o(254),R);const k=b(null),B=b(null),H=b(!1),C=b(-1),U=b(.2),E=new(i[o(198)]),{camera:F,raycaster:V}=t(),W=15/255,G=78/255,P=85/255;let L=null;v((()=>{const t=o;k[t(162)]&&(console[t(194)](t(191),k.value),k[t(162)][t(213)][t(248)](),L=M[t(178)],((t,n,e,r,o,s)=>{const c=Z;window[c(121)](c(122),(e=>{const r=c;t.x=e[r(119)]/window[r(130)]*2-1,t.y=-e[r(128)]/window.innerHeight*2+1,n.value=!0})),window[c(121)]("pointerdown",(u=>{const a=c;t.x=u[a(119)]/window.innerWidth*2-1,t.y=-u.clientY/window.innerHeight*2+1,r[a(139)]=u.button;const l=new(i[a(120)]);l[a(113)](t,e[a(139)]),l[a(133)]=!0;const p=l.intersectObject(o[a(139)],!0);n[a(139)]=!0,s[a(132)]=0===p[a(147)]}),!0),window[c(121)](c(145),(t=>{const e=c;r[e(139)]=-1,t.pointerType===e(142)&&(n[e(139)]=!1)}),!0)})(E,H,F,C,k,z[t(201)][t(162)]))}));const{onLoop:Q}=n();Q((()=>{const t=o,n=M[t(240)];if(B.value)if(z[t(201)].value[t(222)]||!H[t(162)])B.value.visible=!1;else{B.value.scale[t(225)](U.value),V[t(162)][t(169)](E,F[t(162)]),V[t(162)][t(229)]=!0;const e=V.value[t(164)](k[t(162)],!0);if(e.length){B.value[t(220)][t(200)](e[0][t(175)]),z.controls[t(162)][t(171)]=!1,B[t(162)][t(233)]=!0;const r=new c;r[t(200)](k[t(162)][t(212)])[t(177)]();const o=new(i[t(216)]);o[t(176)][t(200)](B[t(162)][t(220)])[t(173)](r),o[t(227)]=100*U.value;const s=[],u=new(i[t(185)]);if(null==L||L[t(197)]({intersectsBounds:n=>{const e=t,r=o[e(230)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(u[e(218)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(u))return f;return m}return r?f:h},intersectsTriangle:(n,e,r)=>{if(r||n[t(209)](o)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===C[t(162)]||2===C[t(162)]){let e=1,r=1,o=1;0===C[t(162)]&&(e=W,r=G,o=P);for(let i=0,c=s.length;i<c;i++){const c=n[t(241)](s[i]);R.setX(c,e),R[t(184)](c,r),R[t(239)](c,o)}R[t(181)]=!0}}else B[t(162)][t(233)]=!1,z.controls.value[t(171)]=!0}}));const N=(new p)[o(204)]({title:o(236),label:o(211)}),K=new(i[o(203)]);return N.on(o(205),(()=>{const t=o,n=[],e=[];for(let o=0;o<R[t(244)];o++)R[t(241)](o)===W&&R[t(163)](o)===G&&R.getZ(o)===P&&(n[t(237)](M[t(247)][t(220)][t(241)](o),M[t(247)][t(220)][t(163)](o),M.attributes[t(220)][t(187)](o)),e[t(237)](M[t(247)][t(246)][t(241)](o),M[t(247)][t(246)][t(163)](o),M[t(247)][t(246)].getZ(o)));const r=new Float32Array(n);K[t(234)](t(220),new(i[t(215)])(r,3)),K[t(234)](t(246),new(i[t(215)])(r,3))})),(t,n)=>{const e=o;return _(),I(A,null,[x("TresMesh",{ref_key:e(231),ref:k,geometry:T(M),scale:.005,material:T(S)},null,8,D),x(e(253),{ref_key:e(250),ref:B,visible:!1},Y,512),x(e(253),{geometry:T(K),position:[-2,-2,2],scale:.005},J,8,$)],64)}}});function P(t){function n(t){const e=X;if(typeof t===e(245))return function(t){}[e(228)](e(165)).apply("counter");1!==(""+t/t)[e(189)]||t%20==0?function(){return!0}[e(228)](e(224)+e(238))[e(196)](e(217)):function(){return!1}.constructor(e(224)+"gger").apply(e(188)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function L(t,n){const e=N();return(L=function(t,n){return e[t-=198]})(t,n)}const Q=L;function N(){const t=["error","while (true) {}","795385yWGVOP","exception","3332KzmcYv",'{}.constructor("return this")( )',"__proto__","TresPerspectiveCamera","value","2853585RwdDRj","TresCanvas","neg-z.jpg","toString","return (function() ","4ewdOAa","constructor","console","input","stateObject","apply","pos-z.jpg","init","396585VvQpsM","230GvSUyT","prototype","14408qMyPZj","5761272IprAnj","test","function *\\( *\\)","info","bind","controls","#999999","counter","debu","pos-x.jpg","neg-x.jpg","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","controlsRef","gger","79465ADbtHU","length","3686140ROhHbi"];return(N=function(){return t})()}!function(t,n){const e=L,r=N();for(;;)try{if(515646===parseInt(e(218))/1*(-parseInt(e(235))/2)+parseInt(e(230))/3+-parseInt(e(220))/4+-parseInt(e(223))/5+parseInt(e(203))/6+parseInt(e(225))/7*(parseInt(e(202))/8)+-parseInt(e(199))/9*(parseInt(e(200))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=L,n=new RegExp(t(205)),e=new RegExp(t(215),"i"),r=ot(t(198));n[t(204)](r+"chain")&&e[t(204)](r+t(238))?ot():r("0")}))()}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(240)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();tt(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(234)+t(226)+");")()}catch(e){n=window}return n}(),e=n[t(237)]=n[t(237)]||{},r=["log","warn",t(206),t(221),t(224),t(214),"trace"];for(let o=0;o<r[t(219)];o++){const n=tt[t(236)][t(201)][t(207)](tt),s=r[o],i=e[s]||n;n[t(227)]=tt[t(207)](tt),n.toString=i[t(233)][t(207)](i),e[s]=n}}))();const nt=x(Q(228),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),et=x("TresAmbientLight",{intensity:1},null,-1),rt=w({__name:"collectTriangles",setup(t){const n=Q,e=z({clearColor:n(209),antialias:!0}),i=z({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=M(a(231));return _(),I(A,null,[S(T(o)),S(l,R(e,{"window-size":""}),{default:O((()=>[nt,S(T(r),R({ref_key:a(216),ref:c},i),null,16),et,(_(),k(B,null,{default:O((()=>[S(G,{controls:c[a(229)]},null,8,[a(208)])])),_:1})),(_(),k(B,null,{default:O((()=>[S(T(s),{background:!1,files:[a(212),a(213),"pos-y.jpg","neg-y.jpg",a(241),a(232)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=L;if("string"==typeof t)return function(t){}[e(236)](e(222)).apply(e(210));1!==(""+t/t)[e(219)]||t%20==0?function(){return!0}.constructor("debu"+e(217)).call("action"):function(){return!1}[e(236)](e(211)+e(217)).apply(e(239)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
