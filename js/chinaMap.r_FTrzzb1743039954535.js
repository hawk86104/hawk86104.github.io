import{e as t,o as e}from"./@tresjs.05J-Im0t1743039954535.js";import{l as n}from"./utils.PeWXTIGY1743039954535.js";import{m as r}from"./d3-geo.qYmefrp71743039954535.js";import{a3 as o,b as s,a2 as i,o as a,H as c,F as p,X as l,N as u,d as f,r as m,e as d,f as h,g as y,j,u as g,aj as b,ak as v,al as w,m as _}from"./@vue.C4dqouNn1743039954535.js";import{ak as x,B as T,l as I,d0 as E}from"./three.XuMWWlrU1743039954535.js";import{c as M,d as k,a as z}from"./three-mesh-bvh.0PiL0XIM1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";import"./@fesjs.q_HvOfeM1743039954535.js";import"./vue-router.F5lDLjOj1743039954535.js";import"./lodash-es.p1wj6C0b1743039954535.js";import"./@qlin.o0hjOMCg1743039954535.js";import"./pinia.MiZyWHUj1743039954535.js";import"./@floating-ui.HzHndBae1743039954535.js";import"./@juggle.4EyLec-41743039954535.js";import"./d3-array.dSwsClwB1743039954535.js";const C=["properties","renderOrder"],G=["args"],Z={__name:"chinaMapMesh",async setup(e){let f,m;T.prototype.computeBoundsTree=M,T.prototype.disposeBoundsTree=k,I.prototype.raycast=z;const d=r().center([104,37.5]).translate([0,0]),h=([f,m]=o((()=>n("./plugins/simpleGIS/json/china.json","features"))),f=await f,m(),f),y={depth:10,bevelEnabled:!1},j=[];h.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new E;for(let t=0;t<e.length;t++){const[r,o]=d(e[t]);0===t&&n.moveTo(r,-o),n.lineTo(r,-o)}j.push({shape:n,properties:t.properties})}))}))}));const g=new x({color:"#3480C4",linewidth:1,linecap:"round"}),b=s();i((()=>{b.value&&b.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,g];t.material=e}))}));let v=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),v=t})();const w=t=>{t.object.material[0].color.set(16711680),v.innerText=t.object.properties.name,v.style.visibility="visible"},_=t=>{t.eventObject.material[0].color.set(3010559),v.style.visibility="hidden"},Z=t=>{v.style.left=`${t.clientX+6}px`,v.style.top=`${t.clientY+6}px`},{onLoop:B}=t();return B((()=>{})),(t,e)=>(a(),c("TresGroup",{ref_key:"tgRef",ref:b},[(a(),c(p,null,l(j,((t,n)=>u("TresMesh",{key:`${n}`,properties:t.properties,renderOrder:n,onPointerEnter:w,onPointerLeave:_,onPointerMove:Z},[u("TresExtrudeGeometry",{args:[t.shape,y]},null,8,G),e[0]||(e[0]=u("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1))],40,C))),64))],512))}},B=P;!function(t,e){const n=P,r=O();for(;;)try{if(279147===parseInt(n(352))/1*(-parseInt(n(362))/2)+parseInt(n(350))/3+-parseInt(n(359))/4+parseInt(n(340))/5+-parseInt(n(364))/6+-parseInt(n(335))/7*(-parseInt(n(346))/8)+parseInt(n(348))/9*(parseInt(n(356))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[P(338)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){F(this,(function(){const t=P,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(366),"i"),r=S(t(355));e[t(369)](r+"chain")&&n[t(369)](r+t(337))?S():r("0")}))()}();const L=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[P(338)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function P(t,e){const n=O();return P=function(t,e){return n[t-=334]},P(t,e)}L(void 0,(function(){const t=P;let e;try{e=Function(t(349)+t(344)+");")()}catch(o){e=window}const n=e[t(343)]=e[t(343)]||{},r=[t(353),"warn",t(339),"error",t(341),t(336),"trace"];for(let s=0;s<r.length;s++){const e=L[t(342)][t(368)][t(351)](L),o=r[s],i=n[o]||e;e[t(365)]=L[t(351)](L),e[t(358)]=i[t(358)].bind(i),n[o]=e}}))();const $=f({__name:B(360),setup(n){const r=m({clearColor:"#201919"}),o=m({enableDamping:!0,dampingFactor:.05}),{onLoop:s}=t();return s((()=>{})),i((()=>{})),(t,n)=>{const s=P,i=d(s(361));return a(),h(i,_(r,{"window-size":""}),{default:y((()=>[n[0]||(n[0]=u(s(347),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),j(g(e),b(v(o)),null,16),(a(),h(w,null,{default:y((()=>[j(Z)])),_:1}))])),_:1},16)}}});function O(){const t=["2730066FzubZb","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","prototype","test","string","293692ZrgYDv","table","input","apply","info","2046315MmsUza","exception","constructor","console",'{}.constructor("return this")( )',"length","72gCjifc","TresPerspectiveCamera","2178vWcgjG","return (function() ","669546zpmcnx","bind","97891tmGjLJ","log","counter","init","9470JbwSJL","action","toString","62440ZttZvF","chinaMap","TresCanvas","10sWiPiA","stateObject"];return(O=function(){return t})()}function S(t){function e(t){const n=P;if(typeof t===n(334))return function(t){}[n(342)]("while (true) {}")[n(338)](n(354));1!==(""+t/t)[n(345)]||t%20==0?function(){return!0}[n(342)]("debu"+n(367)).call(n(357)):function(){return!1}.constructor("debugger")[n(338)](n(363)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{$ as default};
