import{U as n,p as t,Y as e,n as o,z as r}from"./@tresjs.JhHPALEY1728703368826.js";import{_ as i,z as s,cb as c}from"./three.VoknrmS61728703368826.js";import{P as a}from"./tweakpane.yHWGBmom1728703368826.js";import{L as u}from"./three-subdivide.xb3WiEI91728703368826.js";import{d as l,b as f,a3 as p,w as d,o as g,E as m,L as h,aj as v,ak as y,a4 as b,r as w,e as I,f as _,g as x,j as M,u as S,m as j,J as T}from"./@vue.JNsx1iN61728703368826.js";import"./@vueuse.yeA714RM1728703368826.js";function k(n,t){const e=O();return(k=function(n,t){return e[n-=308]})(n,t)}const B=k;!function(n,t){const e=k,o=O();for(;;)try{if(178287===-parseInt(e(339))/1*(parseInt(e(360))/2)+parseInt(e(337))/3*(parseInt(e(308))/4)+-parseInt(e(330))/5+-parseInt(e(359))/6+parseInt(e(312))/7+parseInt(e(336))/8+-parseInt(e(326))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(346)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){z(this,(function(){const n=k,t=new RegExp(n(340)),e=new RegExp(n(334),"i"),o=R(n(347));t[n(348)](o+n(349))&&e[n(348)](o+n(328))?R():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(346)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();C(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function(n(366)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(369)]=t[n(369)]||{},o=[n(354),n(315),n(310),n(344),n(362),n(331),n(355)];for(let r=0;r<o[n(352)];r++){const t=C[n(323)][n(332)][n(317)](C),i=o[r],s=e[i]||t;t[n(363)]=C[n(317)](C),t[n(356)]=s[n(356)][n(317)](s),e[i]=t}}))();const A=["scale"],V=l({__name:B(335),props:{srcMesh:{},scale:{default:1.2},color:{default:B(350)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(311)]},blending:{default:i[B(361)]}},setup(e){const o=B,r=e,s=f(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(322)])(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(364),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(345)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(319)]};p((()=>{const n=o;if(r[n(368)]&&s[n(367)]&&!s[n(367)][n(316)][n(333)][n(318)]){let t=r.srcMesh[n(316)].clone();r[n(357)]&&(t=u.modify(t,2)),s.value.geometry=t,s[n(367)].position[n(351)](r[n(368)][n(318)])}r[n(338)]&&(c[n(341)][n(321)][n(367)]=new(i[n(322)])(r[n(338)])),r.c&&(c[n(341)].c[n(367)]=r.c),r.p&&(c[n(341)].p[n(367)]=r.p)})),d((()=>r[o(357)]),(n=>{const t=o;let e=r.srcMesh[t(316)][t(365)]();n&&(e=u[t(358)](e,2)),s[t(367)][t(316)]=e})),d((()=>r.side),(n=>{const t=o;s.value[t(314)][t(345)]=n})),d((()=>r[o(319)]),(n=>{const t=o;s[t(367)].material[t(319)]=n}));const{onLoop:a}=n(),{camera:l}=t();return a((()=>{const n=o;l.value&&s.value&&(c[n(341)][n(353)].value=(new(i[n(324)])).subVectors(l.value.position,s[n(367)].position))})),(n,t)=>{const e=o;return g(),m(e(343),{ref_key:e(313),ref:s,scale:r.scale},[h("TresShaderMaterial",v(y(c)),null,16)],8,A)}}});function O(){const n=["return (function() ","value","srcMesh","console","657340SwoSkb","while (true) {}","info","FrontSide","663362IzcoVs","TSGref","material","warn","geometry","bind","position","blending","gger","glowColor","Color","constructor","Vector3","counter","748413bsHgfN","action","input","debu","447560gIUcoX","table","prototype","attributes","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","shineShader","1827752ucIOub","6nIvyrY","color","106978vjLdae","function *\\( *\\)","uniforms","call","TresMesh","error","side","apply","init","test","chain","#ffff00","copy","length","viewVector","log","trace","toString","subdivision","modify","521958ONklCX","4ZlGgAB","AdditiveBlending","exception","__proto__","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","clone"];return(O=function(){return n})()}function R(n){function t(n){const e=k;if("string"==typeof n)return function(n){}[e(323)](e(309))[e(346)](e(325));1!==(""+n/n).length||n%20==0?function(){return!0}[e(323)](e(329)+e(320))[e(342)](e(327)):function(){return!1}[e(323)]("debu"+e(320))[e(346)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const F=q;!function(n,t){const e=q,o=J();for(;;)try{if(950484===-parseInt(e(275))/1+-parseInt(e(305))/2+parseInt(e(286))/3*(-parseInt(e(315))/4)+parseInt(e(323))/5+parseInt(e(319))/6+-parseInt(e(311))/7*(parseInt(e(296))/8)+-parseInt(e(294))/9*(-parseInt(e(317))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(285)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){L(this,(function(){const n=q,t=new RegExp(n(321)),e=new RegExp(n(293),"i"),o=Q(n(295));t[n(283)](o+n(301))&&e[n(283)](o+n(290))?Q():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();N(void 0,(function(){const n=q,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),e=t[n(303)]=t[n(303)]||{},o=[n(268),n(318),n(322),"error","exception",n(300),n(307)];for(let r=0;r<o[n(266)];r++){const t=N[n(278)][n(284)].bind(N),i=o[r],s=e[i]||t;t[n(281)]=N.bind(N),t[n(297)]=s[n(297)].bind(s),e[i]=t}}))();const G=h(F(304),{position:[5,5,5]},null,-1),Z=h(F(306),{intensity:1},null,-1),E=h(F(287),{args:[10,10]},null,-1),D=h(F(292),{args:[1,32,16]},null,-1),P=[F(267)],X=[F(267)],$=[h("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),h(F(320),{color:F(269)},null,-1)];function J(){const n=["15897744kcwefz","init","6564912SIjxDl","toString","#222","subdivision","table","chain","AdditiveBlending","console","TresPerspectiveCamera","2736448dsXLpP","TresAmbientLight","trace","BackSide","TreBoxRef","TresMesh","14tvjzOR","debu","instance","stateObject","16OqIGpJ","边缘处理","20VqVpCw","warn","10222812OXQhCm","TresMeshBasicMaterial","function *\\( *\\)","info","6617420hJsLyc","scale","FrontSide","length","map","log","#0ff","TresCanvas","side","value","color","addBinding","1234982orZoeO","TresMeshRefB","gger","constructor","logo.png","#00dfff","__proto__","call","test","prototype","apply","1023900yDxQFK","TresGridHelper","srcMesh","DoubleSide","input","while (true) {}","TresSphereGeometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(J=function(){return n})()}function q(n,t){const e=J();return(q=function(n,t){return e[n-=265]})(n,t)}const H=l({__name:"shader",async setup(n){const t=F;let u,l;const p={clearColor:t(298)},d=f(),m=f(),v=f(),y=([u,l]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(279)]))),u=await u,l(),u),k=w({scale:1.6,color:t(280),subdivision:!0,c:1.1,p:1.4,side:i[t(265)],blending:i[t(302)]}),B=new a({title:"参数",expanded:!0});return B[t(274)](k,t(273),{label:"颜色"}),B[t(274)](k,t(324),{label:"大小",min:1,max:3,step:.2}),B[t(274)](k,t(299),{label:t(316)}),B.addBinding(k,"c",{label:"c",min:0,max:2,step:.1}),B[t(274)](k,"p",{label:"p",min:0,max:8,step:.2}),B[t(274)](k,t(271),{options:{FrontSide:s,BackSide:i[t(308)],DoubleSide:i[t(289)]}}),B[t(274)](k,"blending",{options:{AdditiveBlending:i[t(302)],NormalBlending:c}}),(n,r)=>{const i=t,s=I(i(270));return g(),_(s,j(p,{"window-size":""}),{default:x((()=>[G,Z,M(S(e)),E,h(i(310),{ref_key:"TresMeshRefA",ref:d,position:[-2,1,0]},[D,h(i(320),{map:S(y)[0]},null,8,P)],512),M(V,j({srcMesh:d[i(272)]},k),null,16,[i(288)]),M(S(o),{ref_key:i(309),ref:v,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h(i(320),{map:S(y)[1]},null,8,X)])),_:1},512),v.value&&v[i(272)][i(313)]?(g(),_(V,j({key:0,srcMesh:v[i(272)][i(313)]},k),null,16,[i(288)])):T("",!0),h(i(310),{ref_key:i(276),ref:m,position:[0,1,-2]},$,512),M(V,j({srcMesh:m[i(272)]},k),null,16,[i(288)])])),_:1},16)}}});function Q(n){function t(n){const e=q;if("string"==typeof n)return function(n){}[e(278)](e(291))[e(285)]("counter");1!==(""+n/n)[e(266)]||n%20==0?function(){return!0}.constructor("debugger")[e(282)]("action"):function(){return!1}[e(278)](e(312)+e(277))[e(285)](e(314)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{H as default};
