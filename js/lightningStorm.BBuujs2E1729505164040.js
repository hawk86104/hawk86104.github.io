import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.rIUqd8691729505164040.js";import{B as i,V as s,co as n,ab as e,X as r,h as o,an as a,$ as h,s as c,_ as u}from"./three.YREzp-_G1729505164040.js";import{U as l,e as p,F as d}from"./@tresjs.IsKybBdF1729505164040.js";import{c as m}from"./simplex-noise.P9JMzoHY1729505164040.js";import{d as f,a3 as g,o as y,E as b,u as v,r as S,j as w,g as _,m as x,F as P}from"./@vue.JNsx1iN61729505164040.js";import"./index.njaJTgNB1729505164040.js";import{_ as I}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.yNZPcYG21729505164040.js";import"./three-custom-shader-material.N2P3il9e1729505164040.js";import"./object-hash.3VgPOje51729505164040.js";import"./@amap.-tZv8Pyx1729505164040.js";import"./jszip.GmmbuCmD1729505164040.js";import"./glsl-tokenizer.octUzVvo1729505164040.js";import"./glsl-token-string.GzxNJglV1729505164040.js";import"./glsl-token-functions.q-oNdpFR1729505164040.js";import"./@vueuse.9dhnH8nd1729505164040.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.qhLZsG4K1729505164040.js";import"./all.three.FTr54iDs1729505164040.js";import"./oimophysics.x0jH7fze1729505164040.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.bA7-CfYy1729505164040.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.R4Lrg7og1729505164040.js";import"./index.cGXPpcAx1729505164040.js";import"./three-stdlib.pC02qkfn1729505164040.js";import"./@pmndrs.hWhjK3J51729505164040.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.nSZhzkT_1729505164040.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.QI--_JqW1729505164040.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.wdDMnkS01729505164040.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.TSCENKu61729505164040.js";const M=R;!function(t,i){const s=R,n=C();for(;;)try{if(222199===parseInt(s(523))/1*(-parseInt(s(608))/2)+parseInt(s(652))/3+-parseInt(s(548))/4+parseInt(s(623))/5+-parseInt(s(555))/6+-parseInt(s(501))/7*(-parseInt(s(530))/8)+-parseInt(s(515))/9*(-parseInt(s(519))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const T=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[R(518)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){T(this,(function(){const t=R,i=new RegExp(t(510)),s=new RegExp(t(552),"i"),n=V(t(539));i.test(n+t(599))&&s.test(n+t(522))?V():n("0")}))()}();const A=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[R(518)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function R(t,i){const s=C();return(R=function(t,i){return s[t-=490]})(t,i)}A(void 0,(function(){const t=R;let i;try{i=Function("return (function() "+t(495)+");")()}catch(e){i=window}const s=i[t(641)]=i[t(641)]||{},n=[t(569),t(656),t(664),t(647),"exception","table",t(549)];for(let r=0;r<n.length;r++){const i=A.constructor[t(583)][t(584)](A),e=n[r],o=s[e]||i;i[t(624)]=A[t(584)](A),i[t(651)]=o[t(651)][t(584)](o),s[e]=i}}))();class j extends i{constructor(t={}){const i=R;super(),this[i(559)]=!0,this[i(602)]=i(508),this[i(539)](j.copyParameters(t,t)),this[i(575)]()}static[M(642)](){const t=M,i=2053,s=[];for(let e=0;e<i;e++)s[t(499)](Math[t(612)]());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(579)]];return n[e(579)]=(n[e(579)]+1)%i,r},getSeed:function(){return n[t(579)]/i},setSeed:function(s){const e=t;n[e(579)]=Math[e(568)](s*i)%i}};return n}static[M(565)](t={},i={}){const n=M,e=function(s){return i===t?s:s[R(588)]()};return t[n(574)]=void 0!==i[n(574)]?e(i[n(574)]):new s(0,100,0),t[n(570)]=void 0!==i.destOffset?e(i[n(570)]):new s(0,0,0),t[n(600)]=void 0!==i[n(600)]?i[n(600)]:1,t.roughness=void 0!==i[n(631)]?i.roughness:.9,t.straightness=void 0!==i[n(560)]?i[n(560)]:.7,t[n(578)]=void 0!==i.up0?e(i.up0):new s(0,0,1),t.up1=void 0!==i[n(632)]?e(i[n(632)]):new s(0,0,1),t[n(640)]=void 0!==i[n(640)]?i[n(640)]:1,t[n(498)]=void 0!==i.radius1?i.radius1:1,t[n(567)]=void 0!==i.radius0Factor?i[n(567)]:.5,t.radius1Factor=void 0!==i.radius1Factor?i.radius1Factor:.2,t[n(526)]=void 0!==i.minRadius?i[n(526)]:.2,t[n(611)]=void 0!==i.isEternal?i[n(611)]:void 0===i.birthTime||void 0===i[n(497)],t.birthTime=i[n(561)],t[n(497)]=i.deathTime,t[n(613)]=void 0!==i[n(613)]?i[n(613)]:.1,t[n(540)]=void 0!==i[n(540)]?i[n(540)]:.9,t[n(563)]=void 0!==i[n(563)]?i[n(563)]:4,t[n(535)]=void 0!==i[n(535)]?i[n(535)]:.6,t[n(580)]=void 0!==i[n(580)]?i[n(580)]:9,t[n(585)]=void 0!==i[n(585)]&&i[n(585)],t[n(547)]=void 0!==i[n(547)]?i.ramification:5,t[n(592)]=void 0!==i.maxSubrayRecursion?i[n(592)]:3,t[n(591)]=void 0!==i[n(591)]?i[n(591)]:.6,t[n(605)]=void 0!==i[n(605)]&&i[n(605)],t[n(606)]=i[n(606)],t[n(617)]=i[n(617)],t.onDecideSubrayCreation=i[n(573)],t[n(564)]=i[n(564)],t}update(t){const i=M;this[i(585)]||(this[i(537)][i(611)]||this[i(537)][i(561)]<=t&&t<=this[i(537)][i(497)]?(this.updateMesh(t),t<this[i(636)][0][i(610)]?this.state=j.RAY_PROPAGATING:t>this[i(636)][0][i(650)]?this[i(544)]=j[i(593)]:this[i(544)]=j[i(659)],this[i(524)]=!0):(this[i(524)]=!1,t<this[i(537)][i(561)]?this[i(544)]=j[i(525)]:this[i(544)]=j[i(505)]))}[M(539)](t){const i=M;this.rayParameters=t,this.maxIterations=void 0!==t[i(580)]?Math[i(568)](t[i(580)]):9,t[i(580)]=this[i(580)],this[i(585)]=void 0!==t[i(585)]&&t[i(585)],t[i(585)]=this.isStatic,this[i(547)]=void 0!==t.ramification?Math[i(568)](t[i(547)]):5,t[i(547)]=this.ramification,this[i(592)]=void 0!==t[i(592)]?Math[i(568)](t[i(592)]):3,t[i(592)]=this.maxSubrayRecursion,this[i(591)]=void 0!==t[i(591)]?t[i(591)]:.6,t[i(591)]=this.recursionProbability,this[i(605)]=void 0!==t[i(605)]&&t[i(605)],t.generateUVs=this[i(605)],void 0!==t.randomGenerator?(this.randomGenerator=t[i(606)],this[i(604)]=t.randomGenerator,void 0!==t[i(617)]&&this.seedGenerator[i(577)](t[i(617)])):(this[i(606)]=j[i(642)](),this.seedGenerator=Math),void 0!==t[i(573)]?this[i(573)]=t[i(573)]:(this[i(597)](),void 0!==t[i(564)]&&(this.onSubrayCreation=t[i(564)])),this[i(544)]=j[i(614)],this.maxSubrays=Math[i(628)](1+Math[i(504)](this[i(547)],Math[i(545)](0,this[i(592)]-1))),t[i(513)]=this[i(513)],this[i(589)]=2*(1<<this[i(580)]),this.subrays=[];for(let s=0;s<this.maxSubrays;s++)this[i(636)][i(499)](this[i(502)]());this.raySegments=[];for(let s=0;s<this[i(589)];s++)this[i(626)].push(this[i(633)]());this.time=0,this[i(590)]=0,this[i(521)]=null,this[i(514)]=this[i(605)]?this[i(586)]:this.createTriangleVerticesWithoutUVs,this[i(493)]=0,this[i(603)]=null,this[i(572)]=0,this[i(496)]=!1,this.subrayProbability=0,this[i(491)]=0,this[i(520)]=0,this[i(553)]=0,this[i(594)]=0,this[i(638)]=null,this.uvs=null,this[i(639)]=null,this[i(543)]=null,this.uvsAttribute=null,this[i(587)]=m(this[i(604)][i(612)]),this[i(629)]=m(this[i(604)][i(612)]),this[i(616)]=m(this[i(604)][i(612)]),this[i(615)]=new s,this.forwardsFill=new s,this[i(654)]=new s,this[i(655)]=new s,this[i(649)]=new s,this[i(503)]=new s,this[i(643)]=new s,this[i(554)]=new s,this.cross1=new s}[M(575)](){const t=M,i=1<<this[t(580)],s=3*(i+1)*this[t(513)],o=18*i*this.maxSubrays;this.vertices=new Float32Array(3*s),this.indices=new Uint32Array(o),this[t(605)]&&(this[t(516)]=new Float32Array(2*s)),this[t(494)](0),this[t(622)](new n(this.indices,1)),this[t(543)]=new e(this[t(638)],3),this[t(657)](t(582),this.positionAttribute),this[t(605)]&&(this[t(634)]=new e(new Float32Array(this[t(516)]),2),this.setAttribute("uv",this.uvsAttribute)),!this[t(585)]&&(this.index[t(653)]=r,this.positionAttribute[t(653)]=r,this[t(605)]&&(this.uvsAttribute[t(653)]=r)),this[t(638)]=this.positionAttribute[t(512)],this[t(639)]=this.index.array,this.generateUVs&&(this[t(516)]=this[t(634)].array)}[M(536)](t){const i=M;this.fillMesh(t),this[i(620)].count=this[i(520)],this[i(551)].needsUpdate=!0,this[i(543)][i(644)]=!0,this[i(605)]&&(this[i(634)][i(644)]=!0)}[M(494)](t){const i=M,s=this;this[i(491)]=0,this[i(520)]=0,this[i(553)]=0,this[i(594)]=0,this.fractalRay(t,(function(n){const e=i,r=s[e(603)];t<r.birthTime||(this.rayParameters[e(611)]&&0==s.currentSubray.recursion?(s[e(581)](n),s[e(573)](n,s)):t<r[e(610)]?s[e(590)]>=n.fraction0*r[e(613)]&&(s[e(581)](n),s[e(573)](n,s)):t<r[e(650)]?(s[e(581)](n),s[e(573)](n,s)):(s[e(590)]<=r[e(540)]+n[e(618)]*(1-r.vanishingTimeFactor)&&s[e(581)](n),s[e(573)](n,s)))}))}addNewSubray(){const t=M;return this[t(636)][this[t(493)]++]}initSubray(t,i){const s=M;t[s(562)][s(596)](i[s(574)]),t[s(595)][s(596)](i.destOffset),t[s(578)][s(596)](i[s(578)]),t[s(632)][s(596)](i[s(632)]),t[s(640)]=i[s(640)],t[s(498)]=i[s(498)],t[s(561)]=i[s(561)],t[s(497)]=i[s(497)],t.timeScale=i[s(600)],t[s(631)]=i.roughness,t[s(560)]=i[s(560)],t[s(613)]=i[s(613)],t[s(540)]=i[s(540)],t.maxIterations=this[s(580)],t.seed=void 0!==i.noiseSeed?i[s(617)]:0,t[s(571)]=0}[M(646)](t,i){const s=M;this[s(509)]=t,this.currentSegmentCallback=i,this.numSubrays=0,this[s(630)](this[s(517)](),this[s(537)]);for(let n=0;n<this[s(493)];n++){const i=this[s(636)][n];this.currentSubray=i,this.randomGenerator[s(577)](i[s(645)]),i[s(610)]=o[s(534)](i.birthTime,i[s(497)],i[s(613)]),i[s(650)]=o.lerp(i.deathTime,i[s(561)],1-i[s(540)]);const e=this[s(606)][s(612)];i[s(648)].set(e(),e(),e()).multiplyScalar(1e3),i.linPos1[s(531)](e(),e(),e())[s(500)](1e3),this[s(590)]=(t-i.birthTime)/(i[s(497)]-i.birthTime),this[s(572)]=0,this[s(496)]=!0;const r=this[s(492)]();r[s(546)]=0,r[s(562)].copy(i[s(562)]),r[s(595)][s(596)](i.pos1),r[s(648)][s(596)](i[s(648)]),r[s(528)][s(596)](i[s(528)]),r[s(578)][s(596)](i[s(578)]),r.up1[s(596)](i[s(632)]),r.radius0=i.radius0,r[s(498)]=i[s(498)],r.fraction0=0,r[s(618)]=1,r[s(661)]=1-i.straightness,this[s(542)]=this[s(547)]*Math[s(504)](this[s(591)],i.recursion)/(1<<i[s(580)]),this[s(663)](r)}this[s(521)]=null,this[s(603)]=null}[M(663)](t){const i=M;if(t[i(546)]>=this[i(603)][i(580)])return void this[i(521)](t);this[i(615)].subVectors(t[i(595)],t.pos0);let s=this[i(615)][i(598)]();s<1e-6&&(this[i(615)][i(531)](0,0,.01),s=this[i(615)][i(598)]());const n=.5*(t[i(640)]+t.radius1),e=.5*(t[i(635)]+t[i(618)]),r=this.time*this[i(603)].timeScale*Math[i(504)](2,t[i(546)]);this.middlePos.lerpVectors(t[i(562)],t[i(595)],.5),this[i(503)].lerpVectors(t.linPos0,t[i(528)],.5);const o=this[i(503)];this[i(643)].set(this[i(587)](o.x,o.y,o.z,r),this[i(629)](o.x,o.y,o.z,r),this[i(616)](o.x,o.y,o.z,r)),this[i(643)][i(500)](t[i(661)]*s),this[i(643)][i(511)](this[i(649)]);const a=this[i(492)]();a[i(562)][i(596)](t.pos0),a[i(595)].copy(this[i(643)]),a.linPos0[i(596)](t.linPos0),a.linPos1[i(596)](this.middleLinPos),a[i(578)].copy(t[i(578)]),a[i(632)][i(596)](t[i(632)]),a[i(640)]=t[i(640)],a[i(498)]=n,a[i(635)]=t[i(635)],a[i(618)]=e,a[i(661)]=t[i(661)]*this.currentSubray[i(631)],a[i(546)]=t[i(546)]+1;const h=this[i(492)]();h[i(562)][i(596)](this[i(643)]),h[i(595)][i(596)](t[i(595)]),h.linPos0[i(596)](this[i(503)]),h.linPos1[i(596)](t.linPos1),this[i(532)].crossVectors(t[i(578)],this[i(615)][i(556)]()),h[i(578)][i(507)](this[i(615)],this[i(532)])[i(556)](),h[i(632)][i(596)](t[i(632)]),h[i(640)]=n,h.radius1=t.radius1,h[i(635)]=e,h[i(618)]=t[i(618)],h.positionVariationFactor=t[i(661)]*this[i(603)].roughness,h[i(546)]=t[i(546)]+1,this[i(663)](a),this[i(663)](h)}[M(581)](t){const i=M;this[i(619)][i(529)](t[i(595)],t.pos0).normalize(),this[i(496)]&&(this[i(514)](t.pos0,t[i(578)],this[i(619)],t[i(640)],0),this[i(496)]=!1),this.currentCreateTriangleVertices(t[i(595)],t[i(578)],this[i(619)],t[i(498)],t.fraction1),this[i(558)]()}[M(550)](t,i,s,n){const e=M;this[e(654)].crossVectors(i,s)[e(500)](n*j[e(609)]),this[e(655)][e(596)](i).multiplyScalar(-n*j[e(538)]);const r=this[e(554)],o=this[e(638)];r.copy(t)[e(566)](this.side)[e(511)](this[e(655)]),o[this[e(553)]++]=r.x,o[this[e(553)]++]=r.y,o[this[e(553)]++]=r.z,r[e(596)](t)[e(511)](this[e(654)]).add(this[e(655)]),o[this[e(553)]++]=r.x,o[this[e(553)]++]=r.y,o[this[e(553)]++]=r.z,r[e(596)](i).multiplyScalar(n).add(t),o[this.currentCoordinate++]=r.x,o[this[e(553)]++]=r.y,o[this[e(553)]++]=r.z,this[e(491)]+=3}[M(586)](t,i,s,n,e){const r=M;this[r(654)].crossVectors(i,s)[r(500)](n*j.COS30DEG),this[r(655)].copy(i).multiplyScalar(-n*j[r(538)]);const o=this.vPos,a=this.vertices,h=this.uvs;o.copy(t)[r(566)](this.side).add(this[r(655)]),a[this[r(553)]++]=o.x,a[this[r(553)]++]=o.y,a[this[r(553)]++]=o.z,h[this[r(594)]++]=e,h[this.currentUVCoordinate++]=0,o[r(596)](t).add(this[r(654)]).add(this[r(655)]),a[this[r(553)]++]=o.x,a[this.currentCoordinate++]=o.y,a[this.currentCoordinate++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(594)]++]=.5,o.copy(i)[r(500)](n)[r(511)](t),a[this[r(553)]++]=o.x,a[this[r(553)]++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(594)]++]=e,h[this[r(594)]++]=1,this[r(491)]+=3}[M(558)](t){const i=M,s=this[i(639)];t=this[i(491)]-6,s[this[i(520)]++]=t+1,s[this[i(520)]++]=t+2,s[this[i(520)]++]=t+5,s[this[i(520)]++]=t+1,s[this[i(520)]++]=t+5,s[this[i(520)]++]=t+4,s[this[i(520)]++]=t+0,s[this.currentIndex++]=t+1,s[this[i(520)]++]=t+4,s[this[i(520)]++]=t+0,s[this[i(520)]++]=t+4,s[this[i(520)]++]=t+3,s[this[i(520)]++]=t+2,s[this[i(520)]++]=t+0,s[this[i(520)]++]=t+3,s[this[i(520)]++]=t+2,s[this.currentIndex++]=t+3,s[this[i(520)]++]=t+5}[M(597)](){const t=M,i=this[t(606)][t(612)];this[t(573)]=function(s,n){const e=t,r=n[e(603)],a=n[e(537)][e(563)],h=n[e(537)][e(535)],c=n[e(537)][e(611)]&&0==r.recursion?-i()*a:o[e(534)](r[e(561)],r[e(610)],s[e(635)])-i()*a,u=n.time-c,l=Math[e(568)](u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(542)]),r.recursion<n[e(592)]&&n[e(493)]<n.maxSubrays&&i()<d){const t=n.addNewSubray(),o=n[e(606)][e(541)]();t[e(645)]=p,n[e(606)][e(577)](p),t[e(571)]=r[e(571)]+1,t.maxIterations=Math.max(1,r[e(580)]-1),t[e(648)][e(531)](i(),i(),i())[e(500)](1e3),t[e(528)][e(531)](i(),i(),i()).multiplyScalar(1e3),t[e(578)][e(596)](r.up0),t[e(632)].copy(r[e(632)]),t[e(640)]=s[e(640)]*n[e(537)].radius0Factor,t[e(498)]=Math[e(527)](n[e(537)][e(526)],s[e(498)]*n[e(537)][e(662)]),t[e(561)]=c+l*a,t[e(497)]=t[e(561)]+a*h,!n.rayParameters[e(611)]&&0==r[e(571)]&&(t[e(561)]=Math[e(545)](t[e(561)],r.birthTime),t[e(497)]=Math[e(527)](t[e(497)],r.deathTime)),t[e(600)]=2*r[e(600)],t.roughness=r[e(631)],t[e(560)]=r.straightness,t[e(613)]=r[e(613)],t[e(540)]=r[e(540)],n[e(564)](s,r,t,n),n[e(606)].setSeed(o)}};const n=new s,e=new s,r=new s,a=new s;this.onSubrayCreation=function(i,s,n,e){e[t(621)](i,s,n,.5,.6,.2)},this.subrayConePosition=function(s,o,h,c,u,l){const p=t;h[p(562)].copy(s.pos0),n[p(529)](o[p(595)],o[p(562)]),e[p(596)](n).normalize(),n[p(500)](s.fraction0+(1-s.fraction0)*(i()*c));const d=n[p(598)]();r[p(507)](o[p(578)],e);const m=2*Math.PI*i();r[p(500)](Math[p(637)](m)),a[p(596)](o[p(578)])[p(500)](Math.sin(m)),h.pos1[p(596)](r)[p(511)](a)[p(500)](d*u*(l+i()*(1-l)))[p(511)](n)[p(511)](o.pos0)},this.subrayCylinderPosition=function(s,o,h,c,u,l){const p=t;h[p(562)][p(596)](s.pos0),n[p(529)](o[p(595)],o.pos0),e[p(596)](n)[p(556)](),n[p(500)](s[p(635)]+(1-s[p(635)])*((2*i()-1)*c));const d=n[p(598)]();r[p(507)](o[p(578)],e);const m=2*Math.PI*i();r[p(500)](Math[p(637)](m)),a[p(596)](o[p(578)])[p(500)](Math[p(625)](m)),h[p(595)].copy(r).add(a)[p(500)](d*u*(l+i()*(1-l)))[p(511)](n)[p(511)](o[p(562)])}}[M(502)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[M(633)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}[M(596)](t){const i=M;return super[i(596)](t),this[i(539)](j[i(565)]({},t[i(537)])),this}clone(){const t=M;return new(this[t(660)])(j.copyParameters({},this[t(537)]))}}function C(){const t=["addNewSubray","apply","10olNTFL","currentIndex","currentSegmentCallback","input","2RgsbKU","visible","RAY_UNBORN","minRadius","min","linPos1","subVectors","148480qFYNHz","set","cross1","string","lerp","subrayDutyCycle","updateMesh","rayParameters","SIN30DEG","init","vanishingTimeFactor","getSeed","subrayProbability","positionAttribute","state","max","iteration","ramification","1251220tVdiLS","trace","createTriangleVerticesWithoutUVs","index","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","currentCoordinate","vPos","2315292dRywOX","normalize","action","createPrismFaces","isLightningStrike","straightness","birthTime","pos0","subrayPeriod","onSubrayCreation","copyParameters","sub","radius0Factor","floor","log","destOffset","recursion","currentSegmentIndex","onDecideSubrayCreation","sourceOffset","createMesh","gger","setSeed","up0","currentSeed","maxIterations","createPrism","position","prototype","bind","isStatic","createTriangleVerticesWithUVs","simplexX","clone","maxRaySegments","timeFraction","recursionProbability","maxSubrayRecursion","RAY_VANISHING","currentUVCoordinate","pos1","copy","createDefaultSubrayCreationCallbacks","length","chain","timeScale","while (true) {}","type","currentSubray","seedGenerator","generateUVs","randomGenerator","counter","308622maCade","COS30DEG","endPropagationTime","isEternal","random","propagationTimeFactor","RAY_INITIALIZED","forwards","simplexZ","noiseSeed","fraction1","forwardsFill","drawRange","subrayCylinderPosition","setIndex","474350nqkJyw","__proto__","sin","raySegments","stateObject","ceil","simplexY","initSubray","roughness","up1","createSegment","uvsAttribute","fraction0","subrays","cos","vertices","indices","radius0","console","createRandomGenerator","newPos","needsUpdate","seed","fractalRay","error","linPos0","middlePos","beginVanishingTime","toString","1246638uiPNDh","usage","side","down","warn","setAttribute","RAY_PROPAGATING","RAY_STEADY","constructor","positionVariationFactor","radius1Factor","fractalRayRecursive","info","call","currentVertex","getNewSegment","numSubrays","fillMesh",'{}.constructor("return this")( )',"isInitialSegment","deathTime","radius1","push","multiplyScalar","49sgPULZ","createSubray","middleLinPos","pow","RAY_EXTINGUISHED","debu","crossVectors","LightningStrike","time","function *\\( *\\)","add","array","maxSubrays","currentCreateTriangleVertices","5302548OGzsis","uvs"];return(C=function(){return t})()}function V(t){function i(t){const s=R;if(typeof t===s(533))return function(t){}[s(660)](s(601)).apply(s(607));1!==(""+t/t)[s(598)]||t%20==0?function(){return!0}.constructor(s(506)+s(576))[s(490)](s(557)):function(){return!1}.constructor(s(506)+s(576))[s(518)](s(627)),i(++t)}try{if(t)return i;i(0)}catch(s){}}j.RAY_INITIALIZED=0,j[M(525)]=1,j[M(658)]=2,j[M(659)]=3,j[M(593)]=4,j.RAY_EXTINGUISHED=5,j[M(609)]=Math[M(637)](30*Math.PI/180),j[M(538)]=Math[M(625)](30*Math.PI/180);const F=E;function z(){const t=["random","inited","1051071cHrUMt","RAY_EXTINGUISHED","30vwAOET","test","geometry","apply","debu","log","bind","init","lightningsMeshes","__proto__","sourceOffset","lightningParameters","chain","lightningMinPeriod","console","push","prototype","pop","321676CzTCUM","size","counter","length","info","copyParameters","lightningMaxDuration","set","constructor","665885DkBfqA","deathTime","2nUjdAb","add","while (true) {}","warn","1974181MkoXUr","string","copy","action","maxHeight","lightningMaterial","lightningMinDuration","35328384pgnOVX","nextLightningTime","toString","state","207JzkjQo",'{}.constructor("return this")( )',"55fLrDVw","maxSlope","stormParams","isLightningStorm","maxLightnings","splice","noiseSeed","getNextLightningTime","20cjMxcT","lerp","function *\\( *\\)","onLightningDown","231008vgmOuN","trace","onRayPosition","remove","update","3511845ENkqKV","deadLightningsMeshes","lightningMaxPeriod","input","minHeight","clone","gger","exception"];return(z=function(){return t})()}!function(t,i){const s=E,n=z();for(;;)try{if(668482===-parseInt(s(301))/1+-parseInt(s(303))/2*(parseInt(s(262))/3)+-parseInt(s(292))/4*(parseInt(s(245))/5)+parseInt(s(274))/6*(parseInt(s(272))/7)+parseInt(s(257))/8*(-parseInt(s(243))/9)+parseInt(s(253))/10*(parseInt(s(307))/11)+parseInt(s(239))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){D(this,(function(){const t=E,i=new RegExp(t(255)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=L(t(281));i[t(275)](n+t(286))&&s[t(275)](n+t(265))?L():n("0")}))()}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[E(277)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function E(t,i){const s=z();return(E=function(t,i){return s[t-=233]})(t,i)}H(void 0,(function(){const t=E;let i;try{i=Function("return (function() "+t(244)+");")()}catch(e){i=window}const s=i[t(288)]=i[t(288)]||{},n=[t(279),t(306),t(296),"error",t(269),"table",t(258)];for(let r=0;r<n[t(295)];r++){const i=H[t(300)][t(290)][t(280)](H),e=n[r],o=s[e]||i;i[t(283)]=H[t(280)](H),i[t(241)]=o[t(241)][t(280)](o),s[e]=i}}))();class G extends a{constructor(t={}){const i=E;super(),this[i(248)]=!0,this.stormParams=t,t[i(293)]=void 0!==t[i(293)]?t[i(293)]:1e3,t[i(266)]=void 0!==t[i(266)]?t[i(266)]:80,t[i(236)]=void 0!==t.maxHeight?t[i(236)]:100,t[i(246)]=void 0!==t.maxSlope?t.maxSlope:1.1,t.maxLightnings=void 0!==t[i(249)]?t[i(249)]:3,t.lightningMinPeriod=void 0!==t[i(287)]?t[i(287)]:3,t[i(264)]=void 0!==t[i(264)]?t[i(264)]:7,t.lightningMinDuration=void 0!==t.lightningMinDuration?t[i(238)]:1,t[i(298)]=void 0!==t[i(298)]?t[i(298)]:2.5,this[i(285)]=j[i(297)](t.lightningParameters,t[i(285)]),this[i(285)].isEternal=!1,this.lightningMaterial=void 0!==t.lightningMaterial?t[i(237)]:new h({color:11599871}),void 0!==t[i(259)]?this.onRayPosition=t[i(259)]:this[i(259)]=function(s,n){const e=i;n[e(299)]((Math[e(270)]()-.5)*t[e(293)],0,(Math[e(270)]()-.5)*t[e(293)]);const r=o[e(254)](t[e(266)],t[e(236)],Math.random());s[e(299)](t[e(246)]*(2*Math.random()-1),1,t[e(246)]*(2*Math[e(270)]()-1)).multiplyScalar(r)[e(304)](n)},this.onLightningDown=t[i(256)],this.inited=!1,this[i(240)]=0,this[i(282)]=[],this[i(263)]=[];for(let s=0;s<this.stormParams[i(249)];s++){const t=new j(j.copyParameters({},this.lightningParameters)),s=new c(t,this.lightningMaterial);this[i(263)][i(289)](s)}}[F(261)](t){const i=F;if(!this[i(271)]&&(this[i(240)]=this[i(252)](t)*Math[i(270)](),this.inited=!0),t>=this.nextLightningTime){const s=this.deadLightningsMeshes[i(291)]();if(s){const n=j[i(297)](s[i(276)].rayParameters,this.lightningParameters);n.birthTime=t,n[i(302)]=t+o[i(254)](this[i(247)].lightningMinDuration,this[i(247)].lightningMaxDuration,Math[i(270)]()),this.onRayPosition(n[i(284)],n.destOffset),n[i(251)]=Math[i(270)](),this[i(304)](s),this[i(282)][i(289)](s)}this[i(240)]=this[i(252)](t)}let s=0,n=this[i(282)][i(295)];for(;s<n;){const e=this.lightningsMeshes[s],r=e[i(276)],o=r[i(242)];r[i(261)](t),o===j.RAY_PROPAGATING&&r.state>o&&this[i(256)]&&this[i(256)](r),r[i(242)]===j[i(273)]?(this[i(282)][i(250)](this[i(282)].indexOf(e),1),this[i(263)][i(289)](e),this[i(260)](e),n--):s++}}[F(252)](t){const i=F;return t+o[i(254)](this[i(247)].lightningMinPeriod,this.stormParams[i(264)],Math[i(270)]())/(this[i(247)][i(249)]+1)}[F(234)](t,i){const s=F;return super[s(234)](t,i),this[s(247)].size=t[s(247)][s(293)],this[s(247)][s(266)]=t[s(247)][s(266)],this.stormParams[s(236)]=t.stormParams.maxHeight,this[s(247)][s(246)]=t[s(247)][s(246)],this[s(247)][s(249)]=t[s(247)].maxLightnings,this.stormParams[s(287)]=t[s(247)].lightningMinPeriod,this[s(247)][s(264)]=t.stormParams[s(264)],this[s(247)][s(238)]=t[s(247)][s(238)],this[s(247)][s(298)]=t[s(247)][s(298)],this[s(285)]=j[s(297)]({},t[s(285)]),this[s(237)]=t[s(247)][s(237)],this[s(256)]=t[s(256)],this}[F(267)](){const t=F;return new(this[t(300)])(this[t(247)])[t(234)](this)}}function L(t){function i(t){const s=E;if(typeof t===s(233))return function(t){}[s(300)](s(305))[s(277)](s(294));1!==(""+t/t)[s(295)]||t%20==0?function(){return!0}.constructor(s(278)+s(268)).call(s(235)):function(){return!1}.constructor(s(278)+s(268))[s(277)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}const O=U;function U(t,i){const s=Y();return(U=function(t,i){return s[t-=395]})(t,i)}!function(t,i){const s=U,n=Y();for(;;)try{if(709962===-parseInt(s(406))/1*(parseInt(s(452))/2)+parseInt(s(451))/3*(-parseInt(s(437))/4)+-parseInt(s(439))/5*(parseInt(s(415))/6)+parseInt(s(421))/7*(parseInt(s(412))/8)+-parseInt(s(414))/9*(parseInt(s(429))/10)+-parseInt(s(449))/11+parseInt(s(455))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const N=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){N(this,(function(){const t=U,i=new RegExp(t(458)),s=new RegExp(t(447),"i"),n=B(t(410));i[t(396)](n+t(431))&&s[t(396)](n+t(397))?B():n("0")}))()}();const k=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Y(){const t=["constructor","2816739HvkrUE","453098NwwwBb","sourceOffset","gger","50734272aNtCZT","maxHeight","Vector3","function *\\( *\\)","#b0ffff","size","log","debu","test","input","while (true) {}","stateObject","error","timeScale","console","radius1","table","Color","1SEHwCy","return (function() ","MeshBasicMaterial","rayParameters","init","lightStorm","10396832ngHkkA","color","45gRuKWk","48xhRLvW","length","set","sub","copy","apply","7UnYMDm","maxLightnings","call","minHeight","trace","roughness","pos1","subrayDutyCycle","2723930lcvGAt","toString","chain","multiplyScalar","info","addVectors","subVectors","exception","4aIFKjz","add","837490SdKTAh","object","straightness","counter","action","subrayPeriod","radius0","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","update","10450957mWUjLO"];return(Y=function(){return t})()}k(void 0,(function(){const t=U,i=function(){const t=U;let i;try{i=Function(t(407)+'{}.constructor("return this")( ));')()}catch(s){i=window}return i}(),s=i[t(402)]=i[t(402)]||{},n=[t(461),"warn",t(433),t(400),t(436),t(404),t(425)];for(let e=0;e<n[t(416)];e++){const i=k.constructor.prototype[t(446)](k),r=n[e],o=s[r]||i;i.__proto__=k.bind(k),i[t(430)]=o.toString.bind(o),s[r]=i}}))();const Z=[O(440)],$=f({__name:O(411),props:{color:{default:O(459)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=O,s=t,n=new(u[i(405)])(s.color),e=new(u[i(408)])({color:n}),r=new(u[i(457)])(0,-1,0);let o=0;const a=new(u[i(457)]),h=new(u[i(457)]),c={roughness:s[i(426)],straightness:s[i(441)],radius0:s[i(445)],radius1:s[i(403)],timeScale:s[i(401)],subrayPeriod:s[i(444)],subrayDutyCycle:s[i(428)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const c=i;e.subrayConePosition(t,s,n,.6,.6,.5),o=e[c(409)][c(453)].y,a[c(435)](n[c(427)],e.rayParameters.sourceOffset);const u=r.dot(a);h[c(419)](r)[c(432)](u),a[c(418)](h);const l=u/o>.5?o/u:1;h[c(432)](l),a[c(438)](h),n[c(427)][c(434)](a,e[c(409)][c(453)])}},p=new G({size:s[i(460)],minHeight:s[i(424)],maxHeight:s[i(456)],maxSlope:.6,maxLightnings:s[i(422)],lightningParameters:c,lightningMaterial:e});g((()=>{const t=i,n=p.stormParams;n[t(460)]=s.size,n.minHeight=s.minHeight,n[t(456)]=s[t(456)],e[t(413)][t(417)](s[t(413)]),c.roughness=s[t(426)],c[t(441)]=s[t(441)],c[t(445)]=s[t(445)],c[t(403)]=s[t(403)],c.timeScale=s[t(401)]}));const{onLoop:d}=l();return d((({elapsed:t})=>{p[i(448)](t)})),(t,i)=>(y(),b("primitive",{object:v(p),renderOrder:9999},null,8,Z))}});function B(t){function i(t){const s=U;if("string"==typeof t)return function(t){}[s(450)](s(398))[s(420)](s(442));1!==(""+t/t).length||t%20==0?function(){return!0}[s(450)]("debugger")[s(423)](s(443)):function(){return!1}[s(450)](s(395)+s(454)).apply(s(399)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function X(){const t=["未部半径","maxHeight","value","debu","__proto__","trace","apply","8200170PVRPVj","length",'{}.constructor("return this")( )',"constructor","toString","#ffbde7","warn","时间缩放","timeScale","直度度","gger","1295514BfDTKP","return (function() ","radius1","roughness","#92399e","8781850nJQCjO","端部半径","test","while (true) {}","4552732BIttvX","263750pJNEpp","1408284LahpVa","table","2MGoHhy","color","234dQBnYO","bind","log","console","counter","info","function *\\( *\\)","270328WeslrC","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","粗糙度","string","3UFnPhY","call"];return(X=function(){return t})()}!function(t,i){const s=J,n=X();for(;;)try{if(879829===-parseInt(s(289))/1*(parseInt(s(291))/2)+-parseInt(s(258))/3*(-parseInt(s(287))/4)+parseInt(s(288))/5+-parseInt(s(278))/6+parseInt(s(283))/7+parseInt(s(253))/8*(parseInt(s(293))/9)+-parseInt(s(267))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const K=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[J(266)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){K(this,(function(){const t=J,i=new RegExp(t(252)),s=new RegExp(t(255),"i"),n=Q(t(254));i.test(n+"chain")&&s[t(285)](n+"input")?Q():n("0")}))()}();const W=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[J(266)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function J(t,i){const s=X();return(J=function(t,i){return s[t-=250]})(t,i)}W(void 0,(function(){const t=J,i=function(){const t=J;let i;try{i=Function(t(279)+t(269)+");")()}catch(s){i=window}return i}(),s=i[t(296)]=i[t(296)]||{},n=[t(295),t(273),t(251),"error","exception",t(290),t(265)];for(let e=0;e<n[t(268)];e++){const i=W[t(270)].prototype[t(294)](W),r=n[e],o=s[r]||i;i[t(264)]=W[t(294)](W),i[t(271)]=o[t(271)].bind(o),s[r]=i}}))();const q=f({__name:"lightningStorm",setup(i){const s=J,n=S({cellSize:60,cellThickness:1,cellColor:"#6f6f6f",sectionColor:s(282),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=p({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(272),roughness:{label:s(256),value:.85,min:0,max:1,step:.01},straightness:{label:s(276),value:.65,min:0,max:1,step:.01},radius0:{label:s(284),value:1,min:.1,max:10,step:.01},radius1:{label:s(260),value:.5,min:.1,max:10,step:.01},timeScale:{label:s(274),value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const m=s;return y(),b(P,null,[w(t,{showAxesHelper:!1,showGridHelper:!1},{ability:_((()=>[w($,{minHeight:v(e).value,maxHeight:v(r)[m(262)],color:v(o).value,roughness:v(a)[m(262)],straightness:v(h)[m(262)],radius0:v(c)[m(262)],radius1:v(u)[m(262)],timeScale:v(l)[m(262)]},null,8,["minHeight",m(261),m(292),m(281),"straightness","radius0",m(280),m(275)]),w(v(I),x({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),w(v(d))],64)}}});function Q(t){function i(t){const s=J;if(typeof t===s(257))return function(t){}.constructor(s(286))[s(266)](s(250));1!==(""+t/t)[s(268)]||t%20==0?function(){return!0}[s(270)](s(263)+s(277))[s(259)]("action"):function(){return!1}[s(270)]("debu"+s(277))[s(266)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{q as default};
