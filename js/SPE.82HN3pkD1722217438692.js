import{a6 as t,bR as e,al as i,V as n,C as r}from"./three.ej3u8izI1722217438692.js";const s=a;!function(t,e){const i=a,n=c();for(;;)try{if(894479===-parseInt(i(630))/1*(-parseInt(i(523))/2)+-parseInt(i(614))/3*(parseInt(i(372))/4)+-parseInt(i(773))/5+-parseInt(i(340))/6*(parseInt(i(420))/7)+-parseInt(i(489))/8+-parseInt(i(758))/9*(-parseInt(i(357))/10)+parseInt(i(518))/11*(parseInt(i(669))/12))break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const o=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(635)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function a(t,e){const i=c();return(a=function(t,e){return i[t-=331]})(t,e)}function c(){const t=["fog_fragment","    vec3 accel = getAcceleration( age );","attributeCount","           unpackColor( color.z ),","exports","length","POSITIVE_INFINITY","direction","indexOffset","       fIndex = float( i );","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","Texture","grow","      float angle = 0.0;","      mat4 rotationMatrix;","_resetParticle","random","tick","bufferAttribute","sqrt","updateRange","_assignParamsValue","wiggle","_resetBufferRanges","drag","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","maxAge","       float y = 1.0 - gl_PointCoord.y - 0.5;","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","defines","SHOULD_ROTATE_PARTICLES","       axis = normalize(axis);","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","copy","float and(float a, float b) {","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","resetUpdateRange",'{}.constructor("return this")( )',"   c.r = r / PACKED_COLOR_DIVISOR;","activeParticleCount","varying vec4 vColor;","66710WyASQc","maxParticleCount","   return params.w;","ensureTypedArg","    #ifdef SHOULD_ROTATE_PARTICLES","void main() {","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","resetDynamic","setVec3","   return c;","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","setVec2Components","attribute vec3 rotationCenter;","_value","chain","vec3 getVelocity( in float age ) {","geometry","frames","indexOf","getLength","    return max(sign(x - y), 0.0);","randomise","    varying float vAngle;","_onRemove","return (function() ","    force *= drag;","       );","spe","BOOLEAN","attributes","Group","sin","offset","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","attributeOffset","_axis","       float x = gl_PointCoord.x - 0.5;","bind","uniforms","BufferGeometry","Vector4","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","    #ifdef SHOULD_CALCULATE_SPRITE","TypedArrayHelper","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","    highp float isAlive = when_gt( alive, 0.0 );","paramsArray","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","abs","acceleration","randomVector3OnLine","ShaderMaterial","    return a * b;","reset","    #ifdef SHOULD_WIGGLE_PARTICLES","hasOwnProperty","_spreadClamp","setVec4Components","_poolCreationSettings","setVec2","    #ifdef HAS_PERSPECTIVE","colorOverLifetime","      translated = rotationCenter - pos;","_radiusScale","ShaderAttribute","                   0.0,                                0.0,                                0.0,                                1.0);","attributeEnd","   c.b = b / PACKED_COLOR_DIVISOR;","8093360OIruHa","_assignAbsLifetimeValue","alphaTest","typeSizeMap","_calculatePPSValue","Emitter","_attributesNeedDynamicReset","input","toString","min","distributionClamp","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","unpackColor","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","updateFlags","setColor","_assignRotationValue","generateUUID","particlesPerSecond","call","    return value;","SHOULD_WIGGLE_PARTICLES","_assignPositionValue","REVISION","_assignColorValue","fog_pars_fragment","axisSpread","    vec4 rotatedTexture = texture2D( tex, vUv );","        vSpriteSheet.y = 1.0 / framesY;","11PtGjkr","        float column = floor(mod( frameNumber, framesX ));","_angleSpread","forceUpdateAll","      vec3 axis = unpackRotationAxis( rotation.x );","1350jCgFmD","_createNewWhenPoolEmpty","_incrementParticleCount","rotateTexture","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","frameCount","_radius","logdepthbuf_vertex","randomDirectionVector3OnDisc","    vec3 pos = vec3( position );","randomFloat","dynamicBuffer","        float columnNorm = column / framesX;","depthWrite","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","releaseIntoPool","bufferUpdateKeys","size","push","array","transparent","_applyAttributesToGeometry","flagUpdate","    float shouldApplyValue = 0.0;","_assignAngleValue","shaderChunks","type","    pos += force;","ShaderChunk","attribute vec4 params;","branchAvoidanceFunctions","attribute vec4 size;","#ifdef SHOULD_ROTATE_PARTICLES","material","activationEnd","   float b = mod( hex, PACKED_COLOR_SIZE );","        float totalFrames = textureAnimation.z;","triggerPoolEmitter","Vector3","exception","textureFrames","    float pointSizePerspective = pointSize * perspective;","common","    #ifdef COLORIZE","_setAttributeOffset","setFromArray","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","activationIndex","function *\\( *\\)","      vec3 translated;","BOX","NEGATIVE_INFINITY","   return params.x;","_spread","   }","NUMBER","attribute vec4 opacity;","action","deltaTime","paramFetchingFunctions","        float framesX = vSpriteSheet.x;","uuid","splice","floor","_checkParticleAges","utils","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","logdepthbuf_pars_fragment","_activateParticles","randomVector3OnDisc","_assignValue","Invalid argument types, or argument types do not match:","_center","set","setUpdateRange","emitterIDs","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","max","    vColor = vec4( c, o );","addPool","uniform vec4 textureAnimation;","SHOULD_ROTATE_TEXTURE","    highp float positionInTime = (age / maxAge);","arrayValuesAreEqual","info","componentSize","lerp","uniform float scale;","           positionInTime,","#define PACKED_COLOR_DIVISOR 255.0","3kuCmNY","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","runTime","        float framesX = textureAnimation.x;","   c.g = g / PACKED_COLOR_DIVISOR;","setAttribute","count","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","activeMultiplier","onParticleSpawn","texture","        float columnNorm = vSpriteSheet.z;","radiusScale","textureFrameCount","updateMap","Color","2193XgsQVH","_updateUniforms","valueOverLifetimeLength","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","ensureArrayTypedArg","apply","angleSpread","disable","position","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","function","        pos.x += wiggleSin;","Will not resize.","setSize","float getWiggle() {","alive","updateCounts","init","setVec3Components","rotationFunctions","getPool","addEmitter","#ifdef SHOULD_CALCULATE_SPRITE","trace","       float s = sin(angle);","emitters","SPE.Group: maxParticleCount exceeded. Requesting","attribute vec4 angle;","needsUpdate","        vSpriteSheet.z = columnNorm;","        float loopCount = textureAnimation.w;","varyings","        float wiggleCos = isAlive * cos( wiggleAmount );","_distributionClamp","_decrementParticleCount","ensureInstanceOf","particleCount","unshift","21262212uxAbWu","#define PACKED_COLOR_SIZE 256.0","    #endif","_pool","join","           unpackColor( color.w )","updateMin","        vSpriteSheet.x = 1.0 / framesX;","_static","_assignForceValue","duration","angle","attribute vec3 velocity;","      if( rotation.y == 0.0 ) {","round","       float s = sin( -vAngle );","Emitter already belongs to another group. Will not add to requested group.","isArray","_ensureTypedArray","    #ifdef SHOULD_ROTATE_TEXTURE","hasPerspective","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","       vec3 c = vec3(1.0);","TypedArrayConstructor","    gl_Position = projectionMatrix * mvPosition;","randomDirectionVector3OnSphere","lerpTypeAgnostic","`emitter` argument must be instance of SPE.Emitter. Was provided with:","bufferUpdateRanges","clamp","    return 1.0 - abs( sign( x - y ) );","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","#ifdef SHOULD_ROTATE_TEXTURE","fixedTimeStep","defineProperty","floatOverLifetime","        float framesY = textureAnimation.y;","LINE","age","getComponentValueAtIndex","        float perspective = 1.0;","updateMax","ceil","group","fog","colorize","attributeKeys","value","OBJECT","        float perspective = scale / length( mvPosition.xyz );","        float row = floor( (frameNumber - column) / framesX );","shrink","   return params.y;","DynamicDrawUsage","color","    #else","_distribution","vec4 getPosition( in float age ) {","shaders","rotationCenter","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","scale","        float rowNorm = row / framesY;","setMat3","types","normalize","setNumber","    highp float age = getAge();","    #ifdef ALPHATEST","typedArray","setRGB","attribute vec4 color;","spreadClamp","cos","    ","_rotationCenter","warn","enable","_updateAttributeUpdateRange","#endif","rotation","string","    float fIndex = 0.0;","randomColorAsHex","ensureArrayInstanceOf","isStatic","uniform float runTime;","_updateBuffers","           unpackColor( color.x ),","117GMSRZs","Emitter already exists in this group. Will not add again.","center","error","fog_vertex","textureLoop","ensureValueOverLifetimeCompliance","console","Emitter does not belong to a group, cannot remove.","_createBufferAttribute","randomVector3","particles, can support only","MathUtils","Points","       if ( vColor.w < float(ALPHATEST) ) discard;","2408005XzhXjv","Emitter does not exist in this group. Will not remove.","itemSize","unpackRotationAxis","number","roundToNearestMultiple","BufferAttribute","float getMaxAge() {","_attributesNeedRefresh","constructor","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","blending","gger","mesh","elements","test","interpolateArray","AdditiveBlending","velocity","getValueAtIndex","object","_triggerSingleEmitter","distribution","radius","setDrawRange","debu","undefined","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","pop","SPHERE","534QqgzOS","Vector2","opacity","bufferUpdateCount","   c *= vec3( 2.0 );","params","    varying vec4 vSpriteSheet;","Argument is not instanceof SPE.Emitter:","getHex","log","clone","removeEmitter","vertex","distributions","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","dispose","StaticDrawUsage","797330jGDUSt","_updateDefines","       vec3 c = isAlive * getColorOverLifetime(","randomVector3OnSphere","float or(float a, float b) {","spread","usage","prototype","_randomise","       float oc = 1.0 - c;","    }","       float c = cos( -vAngle );","  return 1.0 - when_lt(x, y);","float getAge() {","arrayType","4210940wvSnnB","        pos.z += wiggleSin;","resetFlags","float when_le(float x, float y) {","uniform float deltaTime;","        pos = getRotation( pos, positionInTime );","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {"];return(c=function(){return t})()}!function(){o(this,(function(){const t=a,e=new RegExp(t(571)),i=new RegExp(t(414),"i"),n=f(t(648));e[t(788)](n+t(434))&&i.test(n+t(496))?f():n("0")}))()}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(635)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();u(void 0,(function(){const t=a,e=function(){const t=a;let e;try{e=Function(t(444)+t(416)+");")()}catch(i){e=window}return e}(),i=e[t(765)]=e[t(765)]||{},n=["log","warn",t(608),"error",t(562),"table",t(654)];for(let r=0;r<n[t(384)];r++){const e=u[t(782)].prototype[t(457)](u),s=n[r],o=i[s]||e;e.__proto__=u[t(457)](u),e.toString=o[t(497)].bind(o),i[s]=e}}))();const h={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===s(641)&&define.amd?define(s(447),h):typeof exports!==s(336)&&"undefined"!=typeof module&&(module[s(383)]=h),h[s(464)]=function(t,e,i,n){const r=s;this[r(609)]=i||1,this.size=e||1,this.TypedArrayConstructor=t||Float32Array,this[r(542)]=new t(e*this[r(609)]),this[r(387)]=n||0},h[s(464)].constructor=h[s(464)],h[s(464)][s(364)][s(644)]=function(t,e){const i=s,n=this.array[i(384)];return!e&&(t*=this[i(609)]),t<n?this[i(720)](t):t>n?this[i(391)](t):void console[i(608)]("TypedArray is already of size:",t+".",i(643))},h.TypedArrayHelper[s(364)][s(720)]=function(t){const e=s;return this[e(542)]=this[e(542)].subarray(0,t),this[e(540)]=t,this},h[s(464)].prototype[s(391)]=function(t){const e=s,i=this[e(542)],n=new(this[e(692)])(t);return n[e(597)](i),this[e(542)]=n,this.size=t,this},h[s(464)][s(364)][s(585)]=function(t,e){const i=s;t*=this[i(609)],e*=this[i(609)];const n=[],r=this[i(542)],o=r[i(384)];for(let s=0;s<o;++s)(s<t||s>=e)&&n[i(541)](r[s]);return this[i(568)](0,n),this},h[s(464)][s(364)][s(568)]=function(t,e){const i=s,n=t+e[i(384)];return n>this.array[i(384)]?this[i(391)](n):n<this.array[i(384)]&&this[i(720)](n),this.array[i(597)](e,this[i(387)]+t),this},h[s(464)][s(364)][s(480)]=function(t,e){return this[s(431)](t,e.x,e.y)},h[s(464)].prototype.setVec2Components=function(t,e,i){const n=s,r=this[n(542)],o=this[n(387)]+t*this[n(609)];return r[o]=e,r[o+1]=i,this},h[s(464)][s(364)].setVec3=function(t,e){return this[s(649)](t,e.x,e.y,e.z)},h[s(464)][s(364)][s(649)]=function(t,e,i,n){const r=s,o=this[r(542)],a=this[r(387)]+t*this.componentSize;return o[a]=e,o[a+1]=i,o[a+2]=n,this},h[s(464)][s(364)].setVec4=function(t,e){return this[s(478)](t,e.x,e.y,e.z,e.w)},h.TypedArrayHelper[s(364)][s(478)]=function(t,e,i,n,r){const o=s,a=this[o(542)],c=this[o(387)]+t*this[o(609)];return a[c]=e,a[c+1]=i,a[c+2]=n,a[c+3]=r,this},h.TypedArrayHelper[s(364)][s(732)]=function(t,e){const i=s;return this[i(568)](this[i(387)]+t*this[i(609)],e[i(787)])},h[s(464)][s(364)].setMat4=function(t,e){const i=s;return this.setFromArray(this[i(387)]+t*this[i(609)],e[i(787)])},h[s(464)].prototype[s(504)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},h[s(464)][s(364)][s(735)]=function(t,e){const i=s;return this[i(542)][this[i(387)]+t*this[i(609)]]=e,this},h[s(464)][s(364)][s(792)]=function(t){const e=s;return this.array[this[e(387)]+t]},h.TypedArrayHelper[s(364)][s(708)]=function(t){return this[s(542)].subarray(this.indexOffset+t*this.componentSize)},h[s(485)]=function(t,e,i){const n=s,r=h.ShaderAttribute.typeSizeMap;this[n(549)]="string"==typeof t&&r[n(476)](t)?t:"f",this.componentSize=r[this[n(549)]],this[n(371)]=i||Float32Array,this.typedArray=null,this.bufferAttribute=null,this.dynamicBuffer=!!e,this[n(675)]=0,this[n(710)]=0},h[s(485)][s(782)]=h[s(485)],h[s(485)][s(492)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},h[s(485)][s(364)][s(598)]=function(t,e){const i=s;this[i(675)]=Math[i(498)](t*this[i(609)],this[i(675)]*this[i(609)]),this[i(710)]=Math[i(601)](e*this[i(609)],this[i(710)]*this[i(609)])},h[s(485)][s(364)][s(545)]=function(){const t=s,e=this.bufferAttribute,i=e[t(399)];i[t(452)]=this[t(675)],i[t(620)]=Math[t(498)](this[t(710)]-this[t(675)]+this[t(609)],this.typedArray.array[t(384)]),e.needsUpdate=!0},h[s(485)][s(364)].resetUpdateRange=function(){const t=s;this[t(675)]=0,this[t(710)]=0},h[s(485)][s(364)][s(427)]=function(){const e=s;this[e(397)][e(363)]=this[e(534)]?t[e(722)]:t[e(356)]},h.ShaderAttribute[s(364)][s(585)]=function(t,e){const i=s;this[i(738)][i(585)](t,e),this[i(521)]()},h[s(485)][s(364)][s(521)]=function(){const e=s;this.bufferAttribute[e(542)]=this[e(738)].array,this.bufferAttribute[e(399)].offset=0,this[e(397)][e(399)][e(620)]=-1,this.bufferAttribute[e(363)]=t[e(356)],this.bufferAttribute[e(659)]=!0},h[s(485)][s(364)]._ensureTypedArray=function(t){const e=s;null!==this[e(738)]&&this[e(738)].size===t*this[e(609)]||(null!==this[e(738)]&&this[e(738)][e(540)]!==t?this[e(738)].setSize(t):null===this[e(738)]&&(this[e(738)]=new(h[e(464)])(this.arrayType,t,this[e(609)])))},h[s(485)].prototype[s(767)]=function(e){const i=s;if(this[i(687)](e),null!==this.bufferAttribute)return this[i(397)].array=this[i(738)].array,parseFloat(t[i(512)])>=81&&(this.bufferAttribute.count=this[i(397)][i(542)][i(384)]/this[i(397)][i(775)]),void(this.bufferAttribute.needsUpdate=!0);this[i(397)]=new(t[i(779)])(this.typedArray.array,this[i(609)]),this[i(397)].usage=this.dynamicBuffer?t[i(722)]:t[i(356)]},h[s(485)][s(364)][s(439)]=function(){const t=s;return null===this[t(738)]?0:this[t(738)][t(542)][t(384)]},h[s(548)]={defines:[s(670),s(613)].join("\n"),uniforms:[s(376),s(755),"uniform sampler2D tex;",s(604),s(611)].join("\n"),attributes:["attribute vec4 acceleration;",s(681),"attribute vec4 rotation;",s(432),s(552),s(554),s(658),s(740),s(579)].join("\n"),varyings:[s(419),s(701),s(442),s(748),s(653),s(346),s(748)].join("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {",s(440),"}","float when_lt(float x, float y) {",s(640),"}","float when_eq( float x, float y ) {",s(699),"}","float when_ge(float x, float y) {",s(369),"}",s(375),"  return 1.0 - when_gt(x, y);","}",s(413),s(473),"}",s(361),"    return min(a + b, 1.0);","}"][s(673)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );",s(354),s(615),s(558),s(417),s(618),"   c.b = b / PACKED_COLOR_DIVISOR;",s(429),"}"][s(673)]("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {","   vec3 c = vec3( 0.0 );",s(354),s(615),s(558),s(417),s(618),s(488),s(344),"   c -= vec3( 1.0 );","   return c;","}"].join("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","    highp float value = 0.0;",s(411),s(751),s(546),"    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","",s(589),s(388),s(465),s(337),s(367),"",s(509),"}"].join("\n"),colorOverLifetime:[s(378),"    vec3 value = vec3( 0.0 );",s(600),s(621),s(404),"    return value;","}"][s(673)]("\n"),paramFetchingFunctions:["float getAlive() {",s(575),"}",s(370),s(721),"}",s(780),"   return params.z;","}",s(645),s(422),"}"].join("\n"),forceFetchingFunctions:[s(726),"   return modelViewMatrix * vec4( position, 1.0 );","}",s(435),"   return velocity * age;","}","vec3 getAcceleration( in float age ) {","   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:[s(555),s(407),s(410),s(655),"       float c = cos(angle);",s(366),"",s(453),s(461),s(430),s(486),s(577),"",s(389),s(682),"           return pos;","      }","",s(522),"      vec3 center = rotationCenter;",s(572),s(393),s(392),s(426),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );",s(483),"      rotationMatrix = getRotationMatrix( axis, angle );",s(639),"   }",s(748)][s(673)]("\n"),rotateTexture:[s(700),"","    #ifdef SHOULD_ROTATE_TEXTURE",s(456),s(406),s(368),s(684),s(783),s(671),"","    #ifdef SHOULD_CALCULATE_SPRITE",s(583),"        float framesY = vSpriteSheet.y;",s(625),"        float rowNorm = vSpriteSheet.w;",s(633),s(590),s(671),"",s(516)][s(673)]("\n")},h.shaders={vertex:[h[s(548)][s(408)],h[s(548)][s(458)],h.shaderChunks.attributes,h[s(548)][s(662)],t[s(551)][s(565)],t[s(551)].logdepthbuf_pars_vertex,t[s(551)].fog_pars_vertex,h.shaderChunks[s(553)],h[s(548)][s(501)],h[s(548)][s(776)],h.shaderChunks[s(704)],h[s(548)][s(482)],h.shaderChunks[s(582)],h[s(548)].forceFetchingFunctions,h.shaderChunks[s(650)],s(425),s(736),"    highp float alive = getAlive();","    highp float maxAge = getMaxAge();",s(606),s(466),s(475),"        float wiggleAmount = positionInTime * getWiggle();","        float wiggleSin = isAlive * sin( wiggleAmount );",s(663),s(671),"    vec3 vel = getVelocity( age );",s(380),"    vec3 force = vec3( 0.0 );",s(532),s(729),"    force += vel;",s(445),"    force += accel * age;",s(550),"    #ifdef SHOULD_WIGGLE_PARTICLES",s(642),"        pos.y += wiggleCos;",s(373),"    #endif",s(424),s(377),s(671),s(527),s(537),s(481),s(718),s(724),s(709),"    #endif",s(564),s(566),s(359),s(612),s(757),"           unpackColor( color.y ),",s(382),s(674),s(446),"    #else",s(691),s(671),s(569),s(602),s(688),s(690),s(671),s(463),s(617),s(705),s(661),s(559),s(462),s(519),s(719),s(535),s(731),s(676),s(517),s(660),"        vSpriteSheet.w = rowNorm;",s(671),"    gl_PointSize = pointSizePerspective;",s(693),t[s(551)][s(530)],t[s(551)][s(762)],"}"][s(673)]("\n"),fragment:[h[s(548)].uniforms,t[s(551)][s(565)],t[s(551)][s(514)],e[s(591)],h[s(548)][s(662)],h[s(548)].branchAvoidanceFunctions,s(425),"    vec3 outgoingLight = vColor.xyz;",s(743),s(737),s(772),"    #endif",h[s(548)][s(526)],t[s(551)].logdepthbuf_fragment,s(502),s(468),t[s(551)][s(379)],"}"][s(673)]("\n")},h.utils={types:{BOOLEAN:"boolean",STRING:s(750),NUMBER:s(777),OBJECT:s(793)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=s;if(Array[n(686)](t)){for(let r=t[n(384)]-1;r>=0;--r)if(typeof t[r]!==e)return i;return t}return this[n(423)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=s;if(Array[n(686)](t)){for(let r=t[n(384)]-1;r>=0;--r)if(void 0!==e&&t[r]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=s;e=e||3,i=i||3,!1===Array.isArray(t[n(433)])&&(t[n(433)]=[t[n(433)]]),!1===Array[n(686)](t[n(576)])&&(t._spread=[t[n(576)]]);const r=this[n(698)](t[n(433)][n(384)],e,i),o=this[n(698)](t[n(576)][n(384)],e,i),a=Math[n(601)](r,o);t[n(433)].length!==a&&(t[n(433)]=this[n(789)](t[n(433)],a)),t._spread[n(384)]!==a&&(t[n(576)]=this[n(789)](t[n(576)],a))},interpolateArray(t,e){const i=s,n=t[i(384)],r=[typeof t[0][i(350)]===i(641)?t[0][i(350)]():t[0]],o=(n-1)/(e-1);for(let s=1;s<e-1;++s){const e=s*o,n=Math[i(586)](e),a=Math[i(711)](e),c=e-n;r[s]=this[i(695)](t[n],t[a],c)}return r[i(541)]("function"==typeof t[n-1][i(350)]?t[n-1].clone():t[n-1]),r},clamp:(t,e,i)=>Math[s(601)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,n,r){const o=s;let a,c=this[o(733)];return typeof e===c[o(578)]&&typeof n===c.NUMBER?e+(n-e)*r:e instanceof t[o(341)]&&n instanceof t[o(341)]?(a=e[o(350)](),a.x=this[o(610)](e.x,n.x,r),a.y=this[o(610)](e.y,n.y,r),a):e instanceof t[o(561)]&&n instanceof t[o(561)]?(a=e.clone(),a.x=this.lerp(e.x,n.x,r),a.y=this[o(610)](e.y,n.y,r),a.z=this[o(610)](e.z,n.z,r),a):e instanceof i&&n instanceof t[o(460)]?(a=e[o(350)](),a.x=this[o(610)](e.x,n.x,r),a.y=this.lerp(e.y,n.y,r),a.z=this.lerp(e.z,n.z,r),a.w=this.lerp(e.w,n.w,r),a):e instanceof t[o(629)]&&n instanceof t[o(629)]?(a=e.clone(),a.r=this[o(610)](e.r,n.r,r),a.g=this[o(610)](e.g,n.g,r),a.b=this.lerp(e.b,n.b,r),a):void console[o(745)](o(595),e,n)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){let i=0;return 0===e?t:(i=Math[s(469)](t)%e,0===i?t:t<0?-(Math.abs(t)-i):t+e-i)},arrayValuesAreEqual(t){const e=s;for(let i=0;i<t[e(384)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,r){const o=s;let a=i.x+(Math[o(395)]()*n.x-.5*n.x),c=i.y+(Math[o(395)]()*n.y-.5*n.y),u=i.z+(Math[o(395)]()*n.z-.5*n.z);r&&(a=.5*-r.x+this[o(778)](a,r.x),c=.5*-r.y+this[o(778)](c,r.y),u=.5*-r.z+this.roundToNearestMultiple(u,r.z)),t.typedArray[o(649)](e,a,c,u)},randomColor(t,e,i,n){const r=s;let o=i.r+Math[r(395)]()*n.x,a=i.g+Math[r(395)]()*n.y,c=i.b+Math[r(395)]()*n.z;o=this[r(698)](o,0,1),a=this[r(698)](a,0,1),c=this[r(698)](c,0,1),t[r(738)][r(649)](e,o,a,c)},randomColorAsHex:function(){const e=s,i=new(t[e(629)]);return function(t,n,r,s){const o=e,a=r[o(384)],c=[];for(let e=0;e<a;++e){const t=s[e];i[o(412)](r[e]),i.r+=Math[o(395)]()*t.x-.5*t.x,i.g+=Math[o(395)]()*t.y-.5*t.y,i.b+=Math[o(395)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[o(698)](i.g,0,1),i.b=this[o(698)](i.b,0,1),c[o(541)](i[o(348)]())}t[o(738)][o(478)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const r=s,o=i[r(350)]();o[r(610)](n,Math[r(395)]()),t[r(738)][r(649)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,r,o,a,c){const u=s;let h=2*Math.random()-1,l=6.2832*Math[u(395)](),f=Math[u(398)](1-h*h),p=this[u(533)](n,r),d=0,m=0,g=0;a&&(p=Math.round(p/a)*a),d=f*Math[u(742)](l)*p,m=f*Math[u(451)](l)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[u(738)][u(649)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,r,o,a){const c=s;let u=6.2832*Math.random(),h=Math[c(469)](this[c(533)](n,r)),l=0,f=0,p=0;a&&(h=Math[c(683)](h/a)*a),l=Math[c(742)](u)*h,f=Math[c(451)](u)*h,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t[c(738)][c(649)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=s,i=new(t[e(561)]);return function(t,n,r,s,o,a,c,u){const h=e;i[h(412)](a),i.x-=r,i.y-=s,i.z-=o,i[h(734)]().multiplyScalar(-this.randomFloat(c,u)),t.typedArray[h(649)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=s,i=new(t[e(561)]);return function(t,n,r,s,o,a,c,u){const h=e;i[h(412)](a),i.x-=r,i.y-=s,i.z-=o,i[h(734)]().multiplyScalar(-this[h(533)](c,u)),t[h(738)][h(649)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=s,i=new(t[e(561)]),n=new(t[e(561)]),r=new(t[e(629)]),o=new(t[e(561)])(1,1,1);return function(t,s){const a=e;return i[a(412)](t)[a(734)](),n[a(412)](s)[a(734)](),i.x+=.5*-s.x+Math[a(395)]()*s.x,i.y+=.5*-s.y+Math[a(395)]()*s.y,i.z+=.5*-s.z+Math[a(395)]()*s.z,i[a(734)]().add(o).multiplyScalar(.5),r[a(739)](i.x,i.y,i.z),r[a(348)]()}}()},h[s(450)]=function(e){const i=s,n=h[i(588)],r=n[i(733)];(e=n.ensureTypedArg(e,r[i(717)],{}))[i(624)]=n[i(423)](e[i(624)],r[i(717)],{}),this[i(584)]=t[i(770)][i(506)](),this[i(702)]=n[i(423)](e[i(702)],r[i(578)],.016),this[i(624)]=n[i(666)](e[i(624)].value,t[i(390)],null),this.textureFrames=n[i(666)](e.texture[i(437)],t[i(341)],new(t[i(341)])(1,1)),this[i(627)]=n[i(423)](e[i(624)][i(528)],r[i(578)],this[i(563)].x*this.textureFrames.y),this[i(763)]=n[i(423)](e[i(624)].loop,r[i(578)],1),this[i(563)][i(601)](new(t[i(341)])(1,1)),this[i(689)]=n.ensureTypedArg(e[i(689)],r.BOOLEAN,!0),this.colorize=n[i(423)](e[i(714)],r[i(448)],!0),this[i(421)]=n[i(423)](e[i(421)],r[i(578)],null),this[i(784)]=n[i(423)](e[i(784)],r.NUMBER,t[i(790)]),this.transparent=n[i(423)](e[i(543)],r[i(448)],!0),this[i(491)]=parseFloat(n[i(423)](e[i(491)],r.NUMBER,0)),this[i(536)]=n[i(423)](e[i(536)],r[i(448)],!1),this.depthTest=n[i(423)](e.depthTest,r.BOOLEAN,!0),this[i(713)]=n.ensureTypedArg(e[i(713)],r[i(448)],!0),this[i(730)]=n[i(423)](e.scale,r[i(578)],300),this.emitters=[],this[i(599)]=[],this[i(672)]=[],this[i(479)]=null,this[i(524)]=0,this[i(781)]=!1,this[i(495)]=!1,this.particleCount=0,this[i(458)]={tex:{type:"t",value:this[i(624)]},textureAnimation:{type:"v4",value:new(t[i(460)])(this[i(563)].x,this.textureFrames.y,this[i(627)],Math.max(Math.abs(this[i(763)]),1))},fogColor:{type:"c",value:this[i(713)]?new(t[i(629)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(730)]}},this.defines={HAS_PERSPECTIVE:this[i(689)],COLORIZE:this[i(714)],VALUE_OVER_LIFETIME_LENGTH:h.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(563)].x>1||this[i(563)].y>1},this[i(449)]={position:new(h[i(485)])("v3",!0),acceleration:new(h[i(485)])("v4",!0),velocity:new(h[i(485)])("v3",!0),rotation:new h.ShaderAttribute("v4",!0),rotationCenter:new(h[i(485)])("v3",!0),params:new(h[i(485)])("v4",!0),size:new(h[i(485)])("v4",!0),angle:new(h[i(485)])("v4",!0),color:new h.ShaderAttribute("v4",!0),opacity:new(h[i(485)])("v4",!0)},this.attributeKeys=Object.keys(this[i(449)]),this[i(381)]=this.attributeKeys.length,this[i(556)]=new(t[i(472)])({uniforms:this[i(458)],vertexShader:h.shaders[i(352)],fragmentShader:h[i(727)].fragment,blending:this[i(784)],transparent:this[i(543)],alphaTest:this[i(491)],depthWrite:this[i(536)],depthTest:this.depthTest,defines:this[i(408)],fog:this[i(713)]}),this[i(436)]=new(t[i(459)]),this[i(786)]=new(t[i(771)])(this[i(436)],this[i(556)]),null===this[i(421)]&&console[i(745)](i(500))},h[s(450)][s(782)]=h[s(450)],h[s(450)][s(364)]._updateDefines=function(){const t=s;let e,i=this[t(656)],n=i[t(384)]-1,r=this[t(408)];for(;n>=0;--n)e=i[n],!r.SHOULD_CALCULATE_SPRITE&&(r[t(605)]=r.SHOULD_ROTATE_TEXTURE||!!Math[t(601)](Math[t(601)].apply(null,e[t(680)][t(716)]),Math.max.apply(null,e[t(680)][t(362)]))),r[t(409)]=r[t(409)]||!!Math.max(e[t(749)][t(680)],e[t(749)][t(636)]),r[t(510)]=r.SHOULD_WIGGLE_PARTICLES||!!Math[t(601)](e[t(401)][t(716)],e[t(401)][t(362)]);this.material[t(659)]=!0},h.Group.prototype[s(544)]=function(){const t=s;let e,i,n=this[t(449)],r=this[t(436)],o=r[t(449)];for(const s in n)n[t(476)](s)&&(e=n[s],i=o[s],i?i.array=e[t(738)][t(542)]:r[t(619)](s,e[t(397)]),e[t(397)][t(659)]=!0);this[t(436)][t(334)](0,this[t(667)])},h[s(450)][s(364)][s(652)]=function(t){const e=s;if(t instanceof h[e(494)]==!1)return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(599)][e(438)](t[e(584)])>-1)return void console[e(761)](e(759));if(null!==t[e(712)])return void console[e(761)](e(685));const i=this[e(449)],n=this[e(667)],r=n+t[e(667)];this[e(667)]=r,null!==this[e(421)]&&this.particleCount>this[e(421)]&&console[e(745)](e(657),this[e(667)],e(769),this.maxParticleCount),t._calculatePPSValue(t[e(405)][e(433)]+t[e(405)]._spread),t._setBufferUpdateRanges(this[e(715)]),t._setAttributeOffset(n),t[e(712)]=this,t[e(449)]=this[e(449)];for(const s in i)i[e(476)](s)&&i[s]._createBufferAttribute(null!==this.maxParticleCount?this[e(421)]:this[e(667)]);for(let s=n;s<r;++s)t[e(511)](s),t._assignForceValue(s,"velocity"),t[e(678)](s,"acceleration"),t._assignAbsLifetimeValue(s,e(342)),t[e(490)](s,e(540)),t[e(547)](s),t[e(505)](s),t[e(400)](s),t[e(513)](s);return this._applyAttributesToGeometry(),this[e(656)][e(541)](t),this[e(599)][e(541)](t[e(584)]),this._updateDefines(t),this[e(556)][e(659)]=!0,this[e(436)][e(659)]=!0,this._attributesNeedRefresh=!0,this},h[s(450)][s(364)][s(351)]=function(t){const e=s,i=this[e(599)][e(438)](t[e(584)]);if(t instanceof h[e(494)]==!1)return void console[e(761)](e(696),t);if(-1===i)return void console.error(e(774));const n=t[e(454)],r=n+t[e(667)],o=this[e(449)][e(345)][e(738)];for(let s=n;s<r;++s)o[e(542)][4*s]=0,o[e(542)][4*s+1]=0;this.emitters.splice(i,1),this[e(599)][e(585)](i,1);for(const s in this.attributes)this[e(449)][e(476)](s)&&this[e(449)][s].splice(n,r);this.particleCount-=t[e(667)],t[e(443)](),this[e(781)]=!0},h.Group[s(364)].getFromPool=function(){const t=s,e=this[t(672)],i=this[t(524)];if(e[t(384)])return e[t(338)]();if(i){const e=new(h[t(494)])(this[t(479)]);return this[t(652)](e),e}return null},h[s(450)][s(364)][s(538)]=function(t){const e=s;if(t instanceof h[e(494)]!=!1)return t.reset(),this._pool[e(668)](t),this;console.error(e(347),t)},h[s(450)].prototype[s(651)]=function(){return this[s(672)]},h[s(450)][s(364)][s(603)]=function(t,e,i){const n=s;let r;this[n(479)]=e,this._createNewWhenPoolEmpty=!!i;for(let s=0;s<t;++s)r=Array[n(686)](e)?new(h[n(494)])(e[s]):new(h[n(494)])(e),this[n(652)](r),this.releaseIntoPool(r);return this},h[s(450)].prototype[s(331)]=function(e){const i=s,n=this.getFromPool(),r=this;if(null!==n)return e instanceof t[i(561)]&&(n[i(638)][i(716)][i(412)](e),n[i(638)].value=n.position[i(716)]),n[i(746)](),setTimeout((()=>{const t=i;n[t(637)](),r[t(538)](n)}),1e3*Math.max(n[i(679)],n[i(405)][i(716)]+n[i(405)][i(362)])),this;console[i(349)]("SPE.Group pool ran out.")},h[s(450)].prototype[s(560)]=function(t,e){const i=s;if(typeof t===i(777)&&t>1)for(let n=0;n<t;++n)this[i(331)](e);else this[i(331)](e);return this},h[s(450)][s(364)][s(631)]=function(t){const e=s;this[e(458)][e(616)][e(716)]+=t,this.uniforms[e(581)].value=t},h[s(450)][s(364)]._resetBufferRanges=function(){const t=s;let e=this[t(715)],i=this[t(381)]-1,n=this[t(449)];for(;i>=0;--i)n[e[i]][t(415)]()},h[s(450)][s(364)][s(756)]=function(t){const e=s;let i,n,r,o=this[e(715)],a=this[e(381)]-1,c=this[e(449)],u=t.bufferUpdateRanges;for(;a>=0;--a)i=o[a],n=u[i],r=c[i],r[e(598)](n.min,n.max),r[e(545)]()},h.Group.prototype[s(396)]=function(t){const e=s;var i=this[e(656)],n=i[e(384)],r=t||this[e(702)],o=this[e(715)],a=this[e(449)];if(this[e(631)](r),this[e(402)](),0!==n||!1!==this[e(781)]||!1!==this[e(495)]){for(var c,u=0;u<n;++u)(c=i[u])[e(396)](r),this._updateBuffers(c);if(!0===this[e(495)]){for(u=this[e(381)]-1;u>=0;--u)a[o[u]].resetDynamic();this[e(495)]=!1}if(!0===this[e(781)]){for(u=this.attributeCount-1;u>=0;--u)a[o[u]][e(521)]();this[e(781)]=!1,this[e(495)]=!0}}},h.Group[s(364)][s(355)]=function(){const t=s;return this[t(436)].dispose(),this[t(556)].dispose(),this},h[s(494)]=function(e){const i=s,o=h[i(588)],a=o.types,c=h.valueOverLifetimeLength;(e=o[i(423)](e,a[i(717)],{}))[i(638)]=o[i(423)](e[i(638)],a[i(717)],{}),e.velocity=o[i(423)](e.velocity,a[i(717)],{}),e[i(470)]=o[i(423)](e.acceleration,a[i(717)],{}),e.radius=o[i(423)](e.radius,a.OBJECT,{}),e[i(403)]=o[i(423)](e[i(403)],a.OBJECT,{}),e.rotation=o[i(423)](e[i(749)],a[i(717)],{}),e.color=o[i(423)](e[i(723)],a.OBJECT,{}),e[i(342)]=o.ensureTypedArg(e[i(342)],a[i(717)],{}),e[i(540)]=o[i(423)](e[i(540)],a[i(717)],{}),e[i(680)]=o[i(423)](e.angle,a[i(717)],{}),e[i(401)]=o[i(423)](e[i(401)],a[i(717)],{}),e[i(405)]=o[i(423)](e[i(405)],a.OBJECT,{}),e[i(623)]&&console[i(745)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this.uuid=t[i(770)][i(506)](),this.type=o.ensureTypedArg(e.type,a[i(578)],h[i(353)][i(573)]),this[i(638)]={_value:o[i(666)](e.position.value,t[i(561)],new(t[i(561)])),_spread:o[i(666)](e[i(638)].spread,t[i(561)],new(t[i(561)])),_spreadClamp:o[i(666)](e[i(638)][i(741)],t[i(561)],new(t[i(561)])),_distribution:o.ensureTypedArg(e[i(638)][i(332)],a[i(578)],this[i(549)]),_randomise:o.ensureTypedArg(e[i(638)][i(441)],a[i(448)],!1),_radius:o[i(423)](e[i(638)][i(333)],a[i(578)],10),_radiusScale:o.ensureInstanceOf(e[i(638)][i(626)],t[i(561)],new n(1,1,1)),_distributionClamp:o[i(423)](e[i(638)][i(499)],a[i(578)],0)},this.velocity={_value:o[i(666)](e.velocity.value,n,new(t[i(561)])),_spread:o.ensureInstanceOf(e.velocity[i(362)],n,new(t[i(561)])),_distribution:o[i(423)](e[i(791)][i(332)],a[i(578)],this.type),_randomise:o[i(423)](e[i(638)][i(441)],a[i(448)],!1)},this[i(470)]={_value:o[i(666)](e[i(470)][i(716)],n,new(t[i(561)])),_spread:o[i(666)](e[i(470)][i(362)],t[i(561)],new(t[i(561)])),_distribution:o[i(423)](e[i(470)][i(332)],a.NUMBER,this[i(549)]),_randomise:o.ensureTypedArg(e[i(638)].randomise,a[i(448)],!1)},this[i(403)]={_value:o[i(423)](e[i(403)].value,a[i(578)],0),_spread:o[i(423)](e[i(403)][i(362)],a[i(578)],0),_randomise:o[i(423)](e[i(638)][i(441)],a[i(448)],!1)},this[i(401)]={_value:o[i(423)](e[i(401)][i(716)],a[i(578)],0),_spread:o[i(423)](e[i(401)][i(362)],a[i(578)],0)},this[i(749)]={_axis:o.ensureInstanceOf(e[i(749)].axis,t[i(561)],new(t[i(561)])(0,1,0)),_axisSpread:o[i(666)](e[i(749)][i(515)],t[i(561)],new n),_angle:o[i(423)](e[i(749)][i(680)],a[i(578)],0),_angleSpread:o[i(423)](e[i(749)][i(636)],a[i(578)],0),_static:o[i(423)](e[i(749)].static,a[i(448)],!1),_center:o[i(666)](e[i(749)][i(760)],t[i(561)],this[i(638)][i(433)].clone()),_randomise:o[i(423)](e[i(638)][i(441)],a[i(448)],!1)},this[i(405)]={_value:o[i(423)](e[i(405)][i(716)],a[i(578)],2),_spread:o.ensureTypedArg(e.maxAge.spread,a[i(578)],0)},this[i(723)]={_value:o[i(753)](e[i(723)][i(716)],t[i(629)],new r),_spread:o[i(753)](e[i(723)].spread,t[i(561)],new(t[i(561)])),_randomise:o.ensureTypedArg(e[i(638)].randomise,a.BOOLEAN,!1)},this[i(342)]={_value:o[i(634)](e[i(342)][i(716)],a[i(578)],1),_spread:o.ensureArrayTypedArg(e[i(342)][i(362)],a[i(578)],0),_randomise:o[i(423)](e[i(638)][i(441)],a.BOOLEAN,!1)},this[i(540)]={_value:o[i(634)](e[i(540)][i(716)],a[i(578)],1),_spread:o[i(634)](e.size[i(362)],a.NUMBER,0),_randomise:o.ensureTypedArg(e[i(638)][i(441)],a.BOOLEAN,!1)},this[i(680)]={_value:o[i(634)](e.angle[i(716)],a[i(578)],0),_spread:o.ensureArrayTypedArg(e[i(680)][i(362)],a.NUMBER,0),_randomise:o.ensureTypedArg(e[i(638)][i(441)],a[i(448)],!1)},this[i(667)]=o.ensureTypedArg(e.particleCount,a[i(578)],100),this[i(679)]=o[i(423)](e[i(679)],a[i(578)],null),this.isStatic=o[i(423)](e[i(754)],a.BOOLEAN,!1),this[i(622)]=o[i(423)](e.activeMultiplier,a[i(578)],1),this[i(386)]=o[i(423)](e[i(386)],a[i(578)],1),this[i(646)]=o.ensureTypedArg(e.alive,a.BOOLEAN,!0),this[i(507)]=0,this[i(570)]=0,this.attributeOffset=0,this[i(487)]=0,this[i(707)]=0,this[i(418)]=0,this[i(712)]=null,this[i(449)]=null,this[i(467)]=null,this.resetFlags={position:o[i(423)](e[i(638)][i(441)],a[i(448)],!1)||o[i(423)](e.radius[i(441)],a[i(448)],!1),velocity:o[i(423)](e[i(791)][i(441)],a.BOOLEAN,!1),acceleration:o.ensureTypedArg(e[i(470)].randomise,a[i(448)],!1)||o[i(423)](e.drag.randomise,a[i(448)],!1),rotation:o[i(423)](e[i(749)][i(441)],a[i(448)],!1),rotationCenter:o.ensureTypedArg(e[i(749)][i(441)],a[i(448)],!1),size:o.ensureTypedArg(e[i(540)].randomise,a[i(448)],!1),color:o[i(423)](e[i(723)][i(441)],a[i(448)],!1),opacity:o[i(423)](e[i(342)].randomise,a[i(448)],!1),angle:o[i(423)](e.angle.randomise,a[i(448)],!1)},this[i(503)]={},this[i(647)]={},this[i(628)]={maxAge:"params",position:i(638),velocity:i(791),acceleration:i(470),drag:i(470),wiggle:"params",rotation:i(749),size:i(540),color:i(723),opacity:i(342),angle:i(680)};for(const t in this[i(628)])this[i(628)][i(476)](t)&&(this.updateCounts[this[i(628)][t]]=0,this[i(503)][this[i(628)][t]]=!1,this._createGetterSetters(this[t],t));this[i(697)]={},this.attributeKeys=null,this[i(381)]=0,o.ensureValueOverLifetimeCompliance(this[i(723)],c,c),o.ensureValueOverLifetimeCompliance(this.opacity,c,c),o.ensureValueOverLifetimeCompliance(this[i(540)],c,c),o[i(764)](this.angle,c,c)},h[s(494)].constructor=h.Emitter,h[s(494)].prototype._createGetterSetters=function(t,e){const i=s,n=this;for(const r in t)if(t[i(476)](r)){const s=r.replace("_","");Object[i(703)](t,s,{get:function(t){return function(){return this[t]}}(r),set:function(t){return function(i){const r=a,s=n[r(628)][e],o=this[t],c=h[r(632)];t===r(744)?(n[r(503)][r(728)]=!0,n[r(647)].rotationCenter=0):t===r(365)?n[r(374)][s]=i:(n.updateFlags[s]=!0,n[r(647)][s]=0),n[r(712)][r(358)](),this[t]=i,Array[r(686)](o)&&h[r(588)][r(764)](n[e],c,c)}}(r)})}},h[s(494)][s(364)]._setBufferUpdateRanges=function(t){const e=s;this.attributeKeys=t,this[e(381)]=t[e(384)];for(let i=this.attributeCount-1;i>=0;--i)this.bufferUpdateRanges[t[i]]={min:Number[e(385)],max:Number[e(574)]}},h.Emitter[s(364)][s(493)]=function(t){const e=s,i=this[e(667)];this[e(679)]?this.particlesPerSecond=i/(t<this[e(679)]?t:this[e(679)]):this.particlesPerSecond=i/t},h[s(494)][s(364)][s(567)]=function(t){const e=s;this[e(454)]=t,this[e(570)]=t,this[e(557)]=t+this[e(667)]},h[s(494)][s(364)][s(594)]=function(t,e){const i=s;switch(t){case i(638):this[i(511)](e);break;case i(791):case i(470):this[i(678)](e,t);break;case i(540):case i(342):this[i(490)](e,t);break;case i(680):this._assignAngleValue(e);break;case"params":this[i(400)](e);break;case i(749):this[i(505)](e);break;case i(723):this[i(513)](e)}},h.Emitter[s(364)][s(511)]=function(t){const e=s,i=h[e(353)],n=h.utils,r=this[e(638)],o=this[e(449)][e(638)],a=r._value,c=r[e(576)];switch(r[e(725)]){case i[e(573)]:n[e(768)](o,t,a,c,r[e(477)]);break;case i[e(339)]:n[e(360)](o,t,a,r[e(529)],r[e(576)].x,r[e(484)],r[e(477)].x,r[e(664)]||this.particleCount);break;case i.DISC:n[e(593)](o,t,a,r[e(529)],r._spread.x,r[e(484)],r._spreadClamp.x);break;case i[e(706)]:n[e(471)](o,t,a,c)}},h[s(494)].prototype[s(678)]=function(t,e){const i=s;let n,r,o,a,c,u=h[i(353)],l=h.utils,f=this[e],p=f._value,d=f[i(576)];switch(f[i(725)]){case u[i(573)]:l[i(768)](this[i(449)][e],t,p,d);break;case u[i(339)]:n=this.attributes[i(638)][i(738)][i(542)],c=3*t,r=n[c],o=n[c+1],a=n[c+2],l[i(694)](this.attributes[e],t,r,o,a,this.position[i(433)],f[i(433)].x,f[i(576)].x);break;case u.DISC:n=this[i(449)].position[i(738)].array,c=3*t,r=n[c],o=n[c+1],a=n[c+2],l[i(531)](this[i(449)][e],t,r,o,a,this[i(638)][i(433)],f[i(433)].x,f[i(576)].x);break;case u[i(706)]:l[i(471)](this[i(449)][e],t,p,d)}if("acceleration"===e){const e=l[i(698)](l[i(533)](this.drag[i(433)],this[i(403)][i(576)]),0,1);this[i(449)][i(470)][i(738)].array[4*t+3]=e}},h[s(494)][s(364)][s(490)]=function(t,e){const i=s;let n,r=this.attributes[e][i(738)],o=this[e],a=h[i(588)];a.arrayValuesAreEqual(o[i(433)])&&a[i(607)](o[i(576)])?(n=Math[i(469)](a.randomFloat(o[i(433)][0],o[i(576)][0])),r[i(478)](t,n,n,n,n)):r.setVec4Components(t,Math[i(469)](a[i(533)](o[i(433)][0],o[i(576)][0])),Math[i(469)](a[i(533)](o[i(433)][1],o[i(576)][1])),Math[i(469)](a.randomFloat(o._value[2],o[i(576)][2])),Math[i(469)](a[i(533)](o[i(433)][3],o[i(576)][3])))},h[s(494)][s(364)][s(547)]=function(t){const e=s;let i,n=this[e(449)][e(680)][e(738)],r=this[e(680)],o=h.utils;o[e(607)](r._value)&&o[e(607)](r[e(576)])?(i=o[e(533)](r[e(433)][0],r[e(576)][0]),n.setVec4Components(t,i,i,i,i)):n[e(478)](t,o[e(533)](r[e(433)][0],r[e(576)][0]),o[e(533)](r[e(433)][1],r[e(576)][1]),o[e(533)](r[e(433)][2],r._spread[2]),o[e(533)](r[e(433)][3],r[e(576)][3]))},h.Emitter[s(364)][s(400)]=function(t){const e=s;this[e(449)][e(345)].typedArray[e(478)](t,this[e(754)]?1:0,0,Math[e(469)](h.utils[e(533)](this[e(405)][e(433)],this[e(405)][e(576)])),h[e(588)].randomFloat(this[e(401)][e(433)],this.wiggle._spread))},h[s(494)][s(364)][s(505)]=function(t){const e=s;this[e(449)][e(749)][e(738)][e(649)](t,h[e(588)].getPackedRotationAxis(this[e(749)][e(455)],this.rotation._axisSpread),h[e(588)][e(533)](this[e(749)]._angle,this[e(749)][e(520)]),this[e(749)][e(677)]?0:1),this.attributes.rotationCenter[e(738)][e(428)](t,this[e(749)][e(596)])},h[s(494)][s(364)][s(513)]=function(t){const e=s;h[e(588)][e(752)](this[e(449)][e(723)],t,this.color[e(433)],this[e(723)][e(576)])},h[s(494)][s(364)][s(394)]=function(t){const e=s;let i,n,r=this[e(374)],o=this[e(503)],a=this.updateCounts,c=this[e(715)];for(let s=this[e(381)]-1;s>=0;--s)i=c[s],n=o[i],!0!==r[i]&&!0!==n||(this._assignValue(i,t),this[e(747)](i,t),!0===n&&a[i]===this[e(667)]?(o[i]=!1,a[i]=0):1==n&&++a[i])},h[s(494)].prototype[s(747)]=function(t,e){const i=s,n=this[i(697)][t];n[i(498)]=Math[i(498)](e,n[i(498)]),n.max=Math.max(e,n[i(601)])},h[s(494)][s(364)][s(402)]=function(){const t=s;let e,i=this.bufferUpdateRanges,n=this[t(539)],r=this[t(343)]-1;for(;r>=0;--r)e=n[r],i[e][t(498)]=Number[t(385)],i[e][t(601)]=Number[t(574)]},h[s(494)].prototype[s(443)]=function(){const t=s;this[t(507)]=0,this.attributeOffset=0,this[t(570)]=0,this[t(418)]=0,this[t(712)]=null,this[t(449)]=null,this[t(467)]=null,this.age=0},h[s(494)][s(364)][s(665)]=function(){--this[s(418)]},h.Emitter[s(364)][s(525)]=function(){++this.activeParticleCount},h.Emitter.prototype[s(587)]=function(t,e,i,n){const r=s;for(var o,a,c,u,h=e-1;h>=t;--h)0!==(u=i[o=4*h])&&(c=i[o+1],a=i[o+2],1===this[r(386)]?(c+=n)>=a&&(c=0,u=0,this[r(665)]()):(c-=n)<=0&&(c=a,u=0,this[r(665)]()),i[o]=u,i[o+1]=c,this._updateAttributeUpdateRange(r(345),h))},h.Emitter.prototype[s(592)]=function(t,e,i,n){const r=s,o=this[r(386)];for(var a,c,u=t;u<e;++u)0!=i[a=4*u]&&1!==this.particleCount||(this[r(525)](),i[a]=1,this[r(394)](u),c=n*(u-t),i[a+1]=-1===o?i[a+2]-c:c,this[r(747)](r(345),u))},h[s(494)][s(364)].tick=function(t){const e=s;if(this[e(754)])return;null===this[e(467)]&&(this.paramsArray=this.attributes[e(345)][e(738)].array);const i=this[e(454)],n=i+this[e(667)],r=this.paramsArray,o=this[e(507)]*this.activeMultiplier*t,a=this[e(570)];if(this._resetBufferRanges(),this[e(587)](i,n,r,t),!1===this.alive)return void(this[e(707)]=0);if(null!==this[e(679)]&&this[e(707)]>this[e(679)])return this[e(646)]=!1,void(this[e(707)]=0);const c=1===this[e(667)]?a:0|a,u=Math[e(498)](c+o,this[e(557)]),h=u-this[e(570)]|0,l=h>0?t/h:0;this[e(592)](c,u,r,l),this.activationIndex+=o,this[e(570)]>n&&(this.activationIndex=i),this.age+=t},h[s(494)][s(364)][s(474)]=function(t){const e=s;if(this[e(707)]=0,this[e(646)]=!1,!0===t){const t=this[e(454)],r=t+this.particleCount,s=this.paramsArray,o=this[e(449)].params[e(397)];for(var i,n=r-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;o.updateRange[e(452)]=0,o[e(399)][e(620)]=-1,o[e(659)]=!0}return this},h[s(494)][s(364)][s(746)]=function(){return this.alive=!0,this},h[s(494)][s(364)][s(637)]=function(){return this.alive=!1,this},h[s(494)].prototype.remove=function(){const t=s;return null!==this[t(712)]?this.group[t(351)](this):console[t(761)](t(766)),this};const l=h;function f(t){function e(t){const i=a;if(typeof t===i(750))return function(t){}[i(782)]("while (true) {}")[i(635)]("counter");1!==(""+t/t)[i(384)]||t%20==0?function(){return!0}[i(782)](i(335)+"gger")[i(508)](i(580)):function(){return!1}[i(782)](i(335)+i(785))[i(635)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{l as _};
