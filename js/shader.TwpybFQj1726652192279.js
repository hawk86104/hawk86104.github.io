import{U as n,p as t,Y as e,n as r,z as o}from"./@tresjs.UGbbWZf51726652192279.js";import{z as s,aN as i,C as a,_ as c,V as l,K as u}from"./three.3esZ7Hzr1726652192279.js";import{P as f}from"./tweakpane.yHWGBmom1726652192279.js";import{L as p}from"./three-subdivide.3GcRP1WK1726652192279.js";import{d,b as m,a3 as g,w as h,o as v,E as y,L as b,aj as w,ak as I,a4 as _,r as M,e as x,f as T,g as j,j as B,u as S,m as z,J as N}from"./@vue.JNsx1iN61726652192279.js";import"./@vueuse.OdTlFP151726652192279.js";const C=R;!function(n,t){const e=R,r=A();for(;;)try{if(802663===parseInt(e(265))/1+parseInt(e(231))/2+-parseInt(e(256))/3*(parseInt(e(224))/4)+-parseInt(e(243))/5*(-parseInt(e(248))/6)+parseInt(e(275))/7+parseInt(e(258))/8*(parseInt(e(261))/9)+-parseInt(e(255))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[R(217)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function R(n,t){const e=A();return(R=function(n,t){return e[n-=217]})(n,t)}!function(){k(this,(function(){const n=R,t=new RegExp(n(242)),e=new RegExp(n(270),"i"),r=Y(n(218));t[n(259)](r+n(227))&&e[n(259)](r+n(228))?Y():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[R(217)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(){const n=["call","value","Color","subVectors","TSGref","gger","25125240yeOvYg","2787fzRxUm","geometry","192zMVtrQ","test","scale","4248tVxUKm","TresMesh","bind","return (function() ","1593661GJLlcN","side",'{}.constructor("return this")( )',"attributes","color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","debu","blending","trace","3311091YNXhTn","apply","init","toString","log","constructor","srcMesh","subdivision","6044sifvke","table","material","chain","input","TresShaderMaterial","copy","2488506zmdboF","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","glowColor","uniforms","viewVector","shineShader","length","error","string","position","counter","function *\\( *\\)","10315chVCIe","console","#ffff00","while (true) {}","clone","4062hjBrlw"];return(A=function(){return n})()}V(void 0,(function(){const n=R;let t;try{t=Function(n(264)+n(267)+");")()}catch(o){t=window}const e=t.console=t[n(244)]||{},r=[n(220),n(271),"info",n(238),"exception",n(225),n(274)];for(let s=0;s<r[n(237)];s++){const t=V[n(221)].prototype[n(263)](V),o=r[s],i=e[o]||t;t.__proto__=V[n(263)](V),t.toString=i[n(219)][n(263)](i),e[o]=t}}))();const F=["scale"],L=d({__name:C(236),props:{srcMesh:{},scale:{default:1.2},color:{default:C(245)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s},blending:{default:i}},setup(e){const r=C,o=e,s=m(),i={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new a(o[r(269)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(232),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o[r(266)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(273)]};g((()=>{const n=r;if(o[n(222)]&&s[n(250)]&&!s.value[n(257)][n(268)].position){let t=o[n(222)][n(257)][n(247)]();o[n(223)]&&(t=p.modify(t,2)),s[n(250)].geometry=t,s[n(250)][n(240)][n(230)](o[n(222)][n(240)])}o[n(269)]&&(i[n(234)][n(233)][n(250)]=new(c[n(251)])(o[n(269)])),o.c&&(i[n(234)].c[n(250)]=o.c),o.p&&(i[n(234)].p[n(250)]=o.p)})),h((()=>o.subdivision),(n=>{const t=r;let e=o.srcMesh[t(257)][t(247)]();n&&(e=p.modify(e,2)),s[t(250)].geometry=e})),h((()=>o[r(266)]),(n=>{const t=r;s[t(250)][t(226)][t(266)]=n})),h((()=>o[r(273)]),(n=>{const t=r;s[t(250)].material[t(273)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=r;f[n(250)]&&s.value&&(i[n(234)][n(235)][n(250)]=(new l)[n(252)](f[n(250)][n(240)],s.value[n(240)]))})),(n,t)=>{const e=r;return v(),y(e(262),{ref_key:e(253),ref:s,scale:o[e(260)]},[b(e(229),w(I(i)),null,16)],8,F)}}});function Y(n){function t(n){const e=R;if(typeof n===e(239))return function(n){}[e(221)](e(246))[e(217)](e(241));1!==(""+n/n)[e(237)]||n%20==0?function(){return!0}[e(221)](e(272)+e(254))[e(249)]("action"):function(){return!1}[e(221)](e(272)+e(254)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const D=E;function E(n,t){const e=P();return(E=function(n,t){return e[n-=107]})(n,t)}!function(n,t){const e=E,r=P();for(;;)try{if(462709===-parseInt(e(137))/1+-parseInt(e(165))/2*(-parseInt(e(147))/3)+parseInt(e(123))/4*(-parseInt(e(139))/5)+-parseInt(e(111))/6*(parseInt(e(143))/7)+parseInt(e(113))/8+parseInt(e(107))/9*(parseInt(e(162))/10)+-parseInt(e(109))/11*(-parseInt(e(160))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){G(this,(function(){const n=E,t=new RegExp(n(108)),e=new RegExp(n(134),"i"),r=X("init");t.test(r+n(149))&&e[n(110)](r+n(167))?X():r("0")}))()}();const H=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(133)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();H(void 0,(function(){const n=E,t=function(){const n=E;let t;try{t=Function("return (function() "+n(125)+");")()}catch(e){t=window}return t}(),e=t[n(112)]=t[n(112)]||{},r=[n(128),n(170),n(141),n(161),n(129),n(121),"trace"];for(let o=0;o<r[n(122)];o++){const t=H[n(157)][n(144)][n(120)](H),s=r[o],i=e[s]||t;t.__proto__=H[n(120)](H),t[n(116)]=i[n(116)][n(120)](i),e[s]=t}}))();const J=b(D(130),{position:[5,5,5]},null,-1),Z=b(D(142),{intensity:1},null,-1),U=b(D(118),{args:[10,10]},null,-1),W=b(D(127),{args:[1,32,16]},null,-1),$=["map"],K=[D(164)],O=[b(D(132),{args:[1,1,1,1,1]},null,-1),b(D(145),{color:D(152)},null,-1)];function P(){const n=["gger","info","TresAmbientLight","5411gJyYlc","prototype","TresMeshBasicMaterial","FrontSide","1818603IQLNCg","shader","chain","TresCanvas","边缘处理","#0ff","TresMeshRefB","NormalBlending","stateObject","while (true) {}","constructor","call","color","156LhKibl","error","80DmHYWf","DoubleSide","map","2pmxWQJ","value","input","addBinding","debu","warn","389502eRdTUN","function *\\( *\\)","193831pgNNnH","test","1902HzXlfI","console","607176WDRRFh","instance","TreBoxRef","toString","#00dfff","TresGridHelper","AdditiveBlending","bind","table","length","1420zjhYDJ","side",'{}.constructor("return this")( )',"blending","TresSphereGeometry","log","exception","TresPerspectiveCamera","TresMeshRefA","TresBoxGeometry","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMesh","srcMesh","422910ZHlwSF","counter","1785MpdfaB"];return(P=function(){return n})()}const Q=d({__name:D(148),async setup(n){const t=D;let s,a;const l={clearColor:"#222"},p=m(),d=m(),g=m(),h=([s,a]=_((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),s=await s,a(),s),y=M({scale:1.6,color:t(117),subdivision:!0,c:1.1,p:1.4,side:c[t(146)],blending:i}),w=new f({title:"参数",expanded:!0});return w[t(168)](y,t(159),{label:"颜色"}),w[t(168)](y,"scale",{label:"大小",min:1,max:3,step:.2}),w.addBinding(y,"subdivision",{label:t(151)}),w[t(168)](y,"c",{label:"c",min:0,max:2,step:.1}),w.addBinding(y,"p",{label:"p",min:0,max:8,step:.2}),w[t(168)](y,t(124),{options:{FrontSide:c[t(146)],BackSide:u,DoubleSide:c[t(163)]}}),w[t(168)](y,t(126),{options:{AdditiveBlending:c[t(119)],NormalBlending:c[t(154)]}}),(n,o)=>{const s=t,i=x(s(150));return v(),T(i,z(l,{"window-size":""}),{default:j((()=>[J,Z,B(S(e)),U,b("TresMesh",{ref_key:s(131),ref:p,position:[-2,1,0]},[W,b("TresMeshBasicMaterial",{map:S(h)[0]},null,8,$)],512),B(L,z({srcMesh:p.value},y),null,16,[s(136)]),B(S(r),{ref_key:s(115),ref:g,args:[1,1,1],position:[2,1,0]},{default:j((()=>[b(s(145),{map:S(h)[1]},null,8,K)])),_:1},512),g[s(166)]&&g[s(166)][s(114)]?(v(),T(L,z({key:0,srcMesh:g[s(166)][s(114)]},y),null,16,[s(136)])):N("",!0),b(s(135),{ref_key:s(153),ref:d,position:[0,1,-2]},O,512),B(L,z({srcMesh:d.value},y),null,16,[s(136)])])),_:1},16)}}});function X(n){function t(n){const e=E;if("string"==typeof n)return function(n){}[e(157)](e(156))[e(133)](e(138));1!==(""+n/n)[e(122)]||n%20==0?function(){return!0}[e(157)](e(169)+"gger")[e(158)]("action"):function(){return!1}.constructor(e(169)+e(140))[e(133)](e(155)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{Q as default};
