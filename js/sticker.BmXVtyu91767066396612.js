import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{f as a}from"./generalFont.vue_vue_type_script_setup_true_lang.Z5LxGLZ21767066396612.js";import"./default.vue_vue_type_script_setup_true_lang.VHSeCGYE1767066396612.js";import"./three-mesh-ui.module.dA3oDDhS1767066396612.js";import"./domPanel.vue_vue_type_style_index_0_lang.D11M9pLL1767066396612.js";import{F as t,_ as r,s as n,K as s,t as l}from"./@tresjs.B1f7s3pS1767066396612.js";import{u as i}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.DS9PWjZT1767066396612.js";import"./index.vue_vue_type_script_setup_true_lang.iYOGhvYh1767066396612.js";import{u as o}from"./index.Y8o_qofm1767066396612.js";import{M as u,e as p}from"./@pmndrs.Dko8Ps5C1767066396612.js";const{defineComponent:m}=await e("vue"),{unref:c,openBlock:v,createElementBlock:d}=await e("vue"),_=["side"],{shallowRef:g,nextTick:f,onMounted:h}=await e("vue"),{BackSide:w,DoubleSide:M}=await e("three"),k=1024,y=m({__name:"stickerTransmisionMaterial",setup(e,{expose:a}){const n=g(),{extend:s,scene:l,renderer:o,camera:m}=t(),y=g();s({MeshTransmissionMaterial:u});const j=new p,{onBeforeRender:x}=r(),T=i({width:k,height:k,isLoop:!1}),b=i({width:k,height:k,isLoop:!1});let C,B,S,E;return h(async()=>{await f(),n.value.buffer=b.value.texture,y.value=function(e,a){let t;return e.traverse(e=>{e.isMesh&&e.material&&e.material.uuid===a&&(t=e)}),t}(l.value,n.value.uuid)}),x(({elapsed:e})=>{n.value.time=e,n.value.buffer===b.value.texture&&y.value&&(S=o.toneMapping,C=l.value.background,B=n.value.envMapIntensity,E=y.value.material.side,y.value.material=j,o.setRenderTarget(T.value),o.render(l.value,m.value),y.value.material=n.value,y.value.material.thickness=0,y.value.material.buffer=T.value.texture,y.value.material.side=w,y.value.material.envMapIntensity=0,o.setRenderTarget(b.value),o.render(l.value,m.value),y.value.material.buffer=b.value.texture,y.value.material=n.value,y.value.material.thickness=0,y.value.material.side=E,y.value.material.envMapIntensity=B,l.value.background=C,o.setRenderTarget(null),o.toneMapping=S)}),a({root:n,constructor:u}),(e,a)=>(v(),d("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:n,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:c(M)},null,8,_))}}),{withAsyncContext:j,defineComponent:x}=await e("vue"),{unref:T,createVNode:b,openBlock:C,createElementBlock:B}=await e("vue"),S=["geometry","rotation"],E=x({__name:"stickerModel",async setup(e){let a,t;const{nodes:r}=([a,t]=j(()=>o("./plugins/eCommerce/model/pack.glb")),a=await a,t(),a);return(e,a)=>(C(),B("TresMesh",{geometry:T(r).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[b(y)],8,S))}}),{defineComponent:P}=await e("vue"),{createElementVNode:R,unref:z,withCtx:F,openBlock:I,createBlock:L}=await e("vue"),N=["map","side"],{DoubleSide:V}=await e("three"),A=P({__name:"stickerLogo",setup:e=>(e,a)=>(I(),L(z(n),{path:"./logo.png"},{default:F(({state:e})=>[R("TresMesh",null,[a[0]||(a[0]=R("TresPlaneGeometry",null,null,-1)),R("TresMeshPhysicalMaterial",{map:e,transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:z(V)},null,8,N)])]),_:1}))}),{defineComponent:D}=await e("vue"),{unref:G,createVNode:K,createElementVNode:O,Suspense:Q,withCtx:q,openBlock:H,createBlock:J,resolveComponent:U,normalizeProps:W,guardReactiveProps:X,Fragment:Y,createElementBlock:Z}=await e("vue"),$=await e("three"),ee=D({__name:"sticker",setup(e){const t={clearColor:"#333333",windowSize:!0,toneMapping:$.ACESFilmicToneMapping,toneMappingExposure:.8,shadows:!0};return(e,r)=>{const n=U("TresCanvas");return H(),Z(Y,null,[K(G(a)),K(n,W(X(t)),{default:q(()=>[r[0]||(r[0]=O("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1)),K(G(s),{enableDamping:""}),r[1]||(r[1]=O("TresAmbientLight",{intensity:2},null,-1)),(H(),J(Q,null,{default:q(()=>[K(E)]),_:1})),(H(),J(Q,null,{default:q(()=>[K(A)]),_:1})),(H(),J(Q,null,{default:q(()=>[K(G(l),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/",background:!1},null,8,["path"])]),_:1}))]),_:1},16)],64)}}});export{ee as default};
