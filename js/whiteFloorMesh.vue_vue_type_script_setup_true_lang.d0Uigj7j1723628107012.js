import{a6 as t,bR as n,C as o}from"./three.LOnTLfxo1723628107012.js";import{N as r}from"./@tresjs.SUe87xao1723628107012.js";import{d as e,b as a,a4 as s,w as c,o as i,D as u,J as l,aj as f,ak as p}from"./@vue.9bHx4gg21723628107012.js";!function(t,n){const o=m,r=g();for(;;)try{if(444207===parseInt(o(368))/1+parseInt(o(342))/2+-parseInt(o(338))/3*(-parseInt(o(345))/4)+-parseInt(o(337))/5*(parseInt(o(327))/6)+-parseInt(o(371))/7+-parseInt(o(358))/8*(-parseInt(o(344))/9)+parseInt(o(348))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(357)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=m,n=new RegExp(t(364)),o=new RegExp(t(324),"i"),r=_(t(362));n[t(350)](r+t(328))&&o[t(350)](r+t(340))?_():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(357)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(){const t=["\n       void main() {\n\t\t\t\t\t","error","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string",'{}.constructor("return this")( )',"224526JYqrey","chain","defaultnormal_vertex","shadowmap_vertex","\n          ","stateObject","gger","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","ShaderChunk","prototype","85RvVEab","32358GQqNgR","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","input","\n      \t","450696nhWUjr","trace","9hiOvai","8YHlHwK","warn","toString","6737120NzpZRI","debu","test","packing","bsdfs","worldpos_vertex","constructor","bind","console","apply","1973304ovpBAp","return (function() ","counter","log","init","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","function *\\( *\\)","length","lights_pars_begin","shadowmap_pars_vertex","227185JsuOso","\n\t ","call","2198812SwwvYQ"];return(g=function(){return t})()}function m(t,n){const o=g();return(m=function(t,n){return o[t-=321]})(t,n)}d(void 0,(function(){const t=m;let n;try{n=Function(t(359)+t(326)+");")()}catch(e){n=window}const o=n[t(356)]=n.console||{},r=[t(361),t(346),"info",t(322),"exception","table",t(343)];for(let a=0;a<r[t(365)];a++){const n=d.constructor[t(336)].bind(d),e=r[a],s=o[e]||n;n[t(323)]=d[t(355)](d),n[t(347)]=s[t(347)][t(355)](s),o[e]=n}}))();const v=()=>{const n=m;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[n(335)].common+"\n      \t"+t[n(335)].bsdfs+n(341)+t[n(335)][n(367)]+n(321)+t[n(335)].beginnormal_vertex+n(331)+t[n(335)][n(329)]+n(331)+t[n(335)].begin_vertex+n(331)+t[n(335)].project_vertex+n(331)+t[n(335)][n(353)]+n(331)+t[n(335)][n(330)]+n(334)},w=()=>{const o=m;return o(339)+t[o(335)].common+o(369)+t[o(335)][o(351)]+"\n\t "+n[o(352)]+o(369)+t[o(335)][o(366)]+o(369)+t[o(335)].shadowmap_pars_fragment+"\n\t "+t[o(335)].shadowmask_pars_fragment+o(363)};function _(t){function n(t){const o=m;if(typeof t===o(325))return function(t){}.constructor("while (true) {}").apply(o(360));1!==(""+t/t).length||t%20==0?function(){return!0}[o(354)](o(349)+o(333))[o(370)]("action"):function(){return!1}[o(354)](o(349)+o(333))[o(357)](o(332)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function b(t,n){const o=j();return(b=function(t,n){return o[t-=390]})(t,n)}const x=b;!function(t,n){const o=b,r=j();for(;;)try{if(623656===-parseInt(o(426))/1+-parseInt(o(402))/2*(parseInt(o(398))/3)+parseInt(o(442))/4+parseInt(o(401))/5*(-parseInt(o(394))/6)+parseInt(o(422))/7*(-parseInt(o(412))/8)+parseInt(o(421))/9*(-parseInt(o(415))/10)+parseInt(o(435))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[b(425)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=b,n=new RegExp(t(437)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=E(t(400));n[t(420)](r+t(406))&&o.test(r+t(419))?E():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[b(425)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=b;let n;try{n=Function(t(436)+t(396)+");")()}catch(e){n=window}const o=n.console=n.console||{},r=[t(427),t(397),"info",t(423),t(434),t(429),t(413)];for(let a=0;a<r.length;a++){const n=I[t(438)][t(408)][t(433)](I),e=r[a],s=o[e]||n;n[t(431)]=I[t(433)](I),n.toString=s[t(390)][t(433)](s),o[e]=n}}))();const C=[x(393)],S=["args"];function j(){const t=["constructor","UniformsUtils","uShadowColor","edge","3369368lSltMC","toString","Color","#990","rotation-x","48yoXvjj","lights",'{}.constructor("return this")( )',"warn","370569wommBH","DoubleSide","init","378090JzGMGl","4gukGni","size","uColor","RepeatWrapping","chain","color","prototype","UniformsLib","tmRef","TresMesh","33520GCxCAM","trace","uniforms","10390NoVNwT","merge","wrapT","counter","input","test","8532CbEbRj","1757XdDliz","error","action","apply","345199XhsRbC","log","value","table","gger","__proto__","shadowColor","bind","exception","33166815ZDycEX","return (function() ","function *\\( *\\)"];return(j=function(){return t})()}const R=e({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:x(392)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const e=x;let h,d;const g=n,m=a(),{map:_}=([h,d]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_.wrapS=_[e(417)]=t[e(405)];const b={uniforms:t[e(439)][e(416)]([t[e(409)][e(395)],{uTexture:{type:"t",value:_},uColor:{value:new o(g[e(407)])},uShadowColor:{value:new(t[e(391)])(g[e(432)])},fEdge:{type:"f",value:g[e(441)]}}]),side:t[e(399)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>g[e(441)]),(t=>{const n=e;b[n(414)].fEdge[n(428)]=t})),c((()=>g.color),(n=>{const o=e;b[o(414)][o(404)].value=new(t[o(391)])(g[o(407)])})),c((()=>g.shadowColor),(n=>{const o=e;b[o(414)][o(440)][o(428)]=new(t[o(391)])(g[o(432)])})),(t,n)=>{const o=e;return i(),u(o(411),{ref_key:o(410),ref:m,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:g[o(403)]},null,8,S),l("TresShaderMaterial",f(p(b)),null,16)],8,C)}}});function E(t){function n(t){const o=b;if("string"==typeof t)return function(t){}[o(438)]("while (true) {}")[o(425)](o(418));1!==(""+t/t).length||t%20==0?function(){return!0}[o(438)]("debu"+o(430)).call(o(424)):function(){return!1}[o(438)]("debugger")[o(425)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{R as _};
