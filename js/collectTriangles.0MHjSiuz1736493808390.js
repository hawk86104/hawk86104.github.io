import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.g7tJPOCI1736493808390.js";import{_ as s}from"./index.H4kcbJek1736493808390.js";import{_ as i,M as c,B as u,cx as a}from"./three.lAfZYOpc1736493808390.js";import{P as l}from"./tweakpane.yHWGBmom1736493808390.js";import{I as p,C as f,N as g,c as h,d as m,a as d}from"./three-mesh-bvh.aKnXVado1736493808390.js";import{d as y,a4 as w,b as j,a1 as b,o as I,D as v,J as _,u as x,F as T,r as z,e as M,j as Z,g as A,m as S,f as k,al as E}from"./@vue.-Mz_IXfk1736493808390.js";import"./@vueuse.kU-N6GoC1736493808390.js";import"./index.USkpeEzC1736493808390.js";import"./@fesjs.JLOwLS8V1736493808390.js";import"./vue-router.orb3lCQB1736493808390.js";import"./lodash-es.guXTxyfJ1736493808390.js";import"./@qlin.yHhFDldE1736493808390.js";import"./pinia.HJbEB2CQ1736493808390.js";import"./vue-demi.C4xddsk91736493808390.js";import"./@floating-ui.BPbuo5Gx1736493808390.js";import"./@juggle.7yjBMqoW1736493808390.js";import"./chalk.sAH7iSuz1736493808390.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1736493808390.js";import"./@iconify.3mYF4lU71736493808390.js";import"./dompurify.rQUea5mq1736493808390.js";import"./utils.PTcjAZN91736493808390.js";import"./default.vue_vue_type_script_setup_true_lang.ORTTZ2o_1736493808390.js";import"./three-mesh-ui.module.7n__tlrL1736493808390.js";!function(t,n){const e=F,r=R();for(;;)try{if(386706===-parseInt(e(422))/1*(parseInt(e(430))/2)+parseInt(e(434))/3+parseInt(e(438))/4+-parseInt(e(440))/5*(parseInt(e(454))/6)+-parseInt(e(419))/7*(parseInt(e(453))/8)+-parseInt(e(469))/9*(-parseInt(e(432))/10)+parseInt(e(463))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(465)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function R(){const t=["toString","apply","input","constructor","table","9FIWbAI","clientX","innerHeight","91hwltqH","while (true) {}","log","22409wapoDu","length","test","intersectObject","call","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addEventListener","58zOjHYG","Raycaster","46270TaxZct","debu","2217105gkzuGF","action","pointerdown","button","500900MrQjSg","pointerType","2450aibsot","exception","error","init","function *\\( *\\)","enabled","firstHitOnly","bind","setFromCamera",'{}.constructor("return this")( )',"prototype","trace","stateObject","465744RGmYsR","6750xazSLS","__proto__","innerWidth","gger","value","touch","string","console","clientY","16233404gEkorK"];return(R=function(){return t})()}!function(){O(this,(function(){const t=F,n=new RegExp(t(444)),e=new RegExp(t(428),"i"),r=G(t(443));n[t(424)](r+"chain")&&e[t(424)](r+t(466))?G():r("0")}))()}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(465)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(t,n){const e=R();return(F=function(t,n){return e[t-=418]})(t,n)}C(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function("return (function() "+t(449)+");")()}catch(e){n=window}return n}(),e=n[t(461)]=n[t(461)]||{},r=[t(421),t(427),"info",t(442),t(441),t(468),t(451)];for(let o=0;o<r.length;o++){const n=C.constructor[t(450)].bind(C),s=r[o],i=e[s]||n;n[t(455)]=C[t(447)](C),n[t(464)]=i[t(464)][t(447)](i),e[s]=n}}))();function G(t){function n(t){const e=F;if(typeof t===e(460))return function(t){}[e(467)](e(420)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(433)+e(457))[e(426)](e(435)):function(){return!1}[e(467)](e(433)+e(457))[e(465)](e(452)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const D=q;!function(t,n){const e=q,r=H();for(;;)try{if(927138===-parseInt(e(407))/1+-parseInt(e(361))/2*(parseInt(e(357))/3)+parseInt(e(345))/4*(-parseInt(e(387))/5)+-parseInt(e(363))/6*(-parseInt(e(368))/7)+parseInt(e(367))/8+parseInt(e(351))/9*(parseInt(e(389))/10)+parseInt(e(382))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(385)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){X(this,(function(){const t=q,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(429),"i"),r=U(t(437));n[t(433)](r+t(362))&&e.test(r+t(406))?U():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(385)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Y(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(352)+t(355)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(392)]||{},r=[t(415),t(423),t(378),t(377),"exception",t(401),t(348)];for(let o=0;o<r[t(356)];o++){const n=Y.constructor[t(396)][t(400)](Y),s=r[o],i=e[s]||n;n.__proto__=Y[t(400)](Y),n.toString=i[t(359)][t(400)](i),e[s]=n}}))();const B=[D(349),D(388)],L=[D(349)];function q(t,n){const e=H();return(q=function(t,n){return e[t-=345]})(t,n)}function H(){const t=["5926899WaIsea","BufferGeometry","click","apply","TresMesh","101965lqOyGm","material","70qKGOCb","getY","intersectsSphere","console","setY","string","active","prototype","setZ","counter","stateObject","bind","table","position","matrixWorld","computeBoundsTree","Vector2","input","453836dneXqY","setFromCamera","scale","intersectsBox","targetMesh.value init","Vector3","Sphere","attributes","log","setUsage","TresSphereGeometry","getX","setAttribute","firstHitOnly","fill","color","warn","MeshStandardMaterial","gger","model","controls","count","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radius","intersectObject","containsPoint","test","while (true) {}","constructor","call","init","set","188FbGuQr","copy","raycast","trace","geometry","boundsTree","858537KPWfZZ","return (function() ","push","生成模型",'{}.constructor("return this")( )',"length","6OXHlLi","invert","toString","shapecast","1824734ozTTuO","chain","3612324sifqpd","instance","BufferAttribute","point","9211656IGjmng","21ZXwhaX","visible","normal","TresMeshStandardMaterial","debu","Mesh","targetMesh","getZ","disposeBoundsTree","error","info","index","DynamicDrawUsage","value"];return(H=function(){return t})()}const P=y({__name:D(426),props:{controls:{}},async setup(r){const o=D;let s,y;const z=r;(()=>{const t=q;u.prototype[t(404)]=h,i[t(383)][t(396)][t(376)]=m,i[t(373)][t(396)][t(347)]=d})();const M=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),Z=new(i[o(424)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),A=new Uint8Array(3*M[o(414)].position.count);A[o(421)](255);const S=new(i[o(365)])(A,3,!0);S[o(416)](i[o(380)]),M[o(419)](o(422),S);const k=j(null),E=j(null),O=j(!1),R=j(-1),C=j(.2),G=new(i[o(405)]),{camera:X,raycaster:Y}=t(),H=15/255,P=78/255,U=85/255;let W=null;b((()=>{const t=o;k.value&&(console[t(415)](t(411),k[t(381)]),k[t(381)][t(349)][t(404)](),W=M[t(350)],((t,n,e,r,o,s)=>{const c=F;window[c(429)]("pointermove",(e=>{const r=c;t.x=e[r(470)]/window.innerWidth*2-1,t.y=-e[r(462)]/window[r(418)]*2+1,n.value=!0})),window.addEventListener(c(436),(u=>{const a=c;t.x=u[a(470)]/window[a(456)]*2-1,t.y=-u[a(462)]/window[a(418)]*2+1,r[a(458)]=u[a(437)];const l=new(i[a(431)]);l[a(448)](t,e[a(458)]),l[a(446)]=!0;const p=l[a(425)](o[a(458)],!0);n[a(458)]=!0,s[a(445)]=0===p[a(423)]}),!0),window.addEventListener("pointerup",(t=>{const e=c;r[e(458)]=-1,t[e(439)]===e(459)&&(n[e(458)]=!1)}),!0)})(G,O,X,R,k,z[t(427)][t(364)]))}));const{onLoop:$}=n();$((()=>{const t=o,n=M[t(379)];if(E.value)if(z[t(427)][t(364)][t(395)]||!O[t(381)])E[t(381)][t(369)]=!1;else{E[t(381)][t(409)].setScalar(C[t(381)]),Y[t(381)][t(408)](G,X.value),Y[t(381)][t(420)]=!0;const e=Y[t(381)][t(431)](k.value,!0);if(e.length){E[t(381)][t(402)][t(346)](e[0][t(366)]),z.controls[t(364)].enabled=!1,E[t(381)][t(369)]=!0;const r=new c;r[t(346)](k[t(381)][t(403)])[t(358)]();const o=new(i[t(413)]);o.center[t(346)](E[t(381)][t(402)]).applyMatrix4(r),o[t(430)]=100*C.value;const s=[],u=new(i[t(412)]);if(null==W||W[t(360)]({intersectsBounds:n=>{const e=t,r=o[e(410)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(u[e(438)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(432)](u))return p;return f}return r?p:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(391)](o)){const t=3*e;s[i(353)](t,t+1,t+2)}return!1}}),0===R.value||2===R[t(381)]){let e=1,r=1,o=1;0===R.value&&(e=H,r=P,o=U);for(let i=0,c=s[t(356)];i<c;i++){const c=n[t(418)](s[i]);S.setX(c,e),S[t(393)](c,r),S[t(397)](c,o)}S.needsUpdate=!0}}else E[t(381)][t(369)]=!1,z.controls[t(364)].enabled=!0}}));const K=(new l).addButton({title:"点击按钮",label:o(354)}),Q=new(i[o(383)]);return K.on(o(384),(()=>{const t=o,n=[],e=[];for(let o=0;o<S[t(428)];o++)S.getX(o)===H&&S[t(390)](o)===P&&S[t(375)](o)===U&&(n.push(M[t(414)][t(402)].getX(o),M[t(414)][t(402)].getY(o),M[t(414)][t(402)][t(375)](o)),e[t(353)](M.attributes[t(370)][t(418)](o),M[t(414)].normal.getY(o),M[t(414)][t(370)].getZ(o)));const r=new Float32Array(n);Q[t(419)](t(402),new(i[t(365)])(r,3)),Q.setAttribute(t(370),new(i[t(365)])(r,3))})),(t,n)=>{const e=o;return I(),v(T,null,[_("TresMesh",{ref_key:e(374),ref:k,geometry:x(M),scale:.005,material:x(Z)},null,8,B),_(e(386),{ref_key:"brushMesh",ref:E,visible:!1},n[0]||(n[0]=[_(e(417),{args:[1,40,40]},null,-1),_(e(371),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),_(e(386),{geometry:x(Q),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[_("TresMeshStandardMaterial",{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,L)],64)}}});function U(t){function n(t){const e=q;if(typeof t===e(394))return function(t){}[e(435)](e(434)).apply(e(398));1!==(""+t/t).length||t%20==0?function(){return!0}[e(435)](e(372)+e(425))[e(436)]("action"):function(){return!1}[e(435)]("debu"+e(425))[e(385)](e(399)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function W(){const t=["chain","counter","debu","string","491984kfDKZd","386646PpvcQR","3255402ZUveKP","controls","110ZOEyZN","stateObject","5XDVIGT","pos-y.jpg","gger","collectTriangles","neg-z.jpg","4xCUzLA","function *\\( *\\)","action","console","trace","apply","prototype","600984DqMgDn","pos-z.jpg","bind","neg-x.jpg","call","init","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","36231041gvRIaw","constructor","4516876VEPGlL","exception","table","__proto__","info","log","pos-x.jpg","#999999","test","TresCanvas","4549288aapzSF","input","3YnEnQy","TresAmbientLight","error","neg-y.jpg","while (true) {}","toString","length"];return(W=function(){return t})()}const $=V;!function(t,n){const e=V,r=W();for(;;)try{if(945832===parseInt(e(227))/1*(parseInt(e(217))/2)+parseInt(e(205))/3*(-parseInt(e(203))/4)+parseInt(e(222))/5*(-parseInt(e(218))/6)+-parseInt(e(245))/7+-parseInt(e(216))/8+-parseInt(e(234))/9*(parseInt(e(220))/10)+parseInt(e(243))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=V,n=new RegExp(t(228)),e=new RegExp(t(242),"i"),r=N(t(239));n[t(201)](r+t(212))&&e[t(201)](r+t(204))?N():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(232)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function V(t,n){const e=W();return(V=function(t,n){return e[t-=200]})(t,n)}Q(void 0,(function(){const t=V;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(230)]=n.console||{},r=[t(250),t(241),t(249),t(207),t(246),t(247),t(231)];for(let s=0;s<r.length;s++){const n=Q[t(244)][t(233)].bind(Q),o=r[s],i=e[o]||n;n[t(248)]=Q[t(236)](Q),n[t(210)]=i[t(210)][t(236)](i),e[o]=n}}))();const J=y({__name:$(225),setup(t){const n=$,e=z({clearColor:n(200),antialias:!0}),i=z({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=M(a(202));return I(),v(T,null,[Z(x(s)),Z(l,S(e,{"window-size":""}),{default:A((()=>[u[0]||(u[0]=_("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),Z(x(r),S({ref_key:"controlsRef",ref:c},i),null,16),u[1]||(u[1]=_(a(206),{intensity:1},null,-1)),(I(),k(E,null,{default:A((()=>[Z(P,{controls:c.value},null,8,[a(219)])])),_:1})),(I(),k(E,null,{default:A((()=>[Z(x(o),{background:!1,files:[a(251),a(237),a(223),a(208),a(235),a(226)],path:a(240)})])),_:1}))])),_:1},16)],64)}}});function N(t){function n(t){const e=V;if(typeof t===e(215))return function(t){}.constructor(e(209))[e(232)](e(213));1!==(""+t/t)[e(211)]||t%20==0?function(){return!0}[e(244)](e(214)+e(224))[e(238)](e(229)):function(){return!1}.constructor(e(214)+"gger")[e(232)](e(221)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
