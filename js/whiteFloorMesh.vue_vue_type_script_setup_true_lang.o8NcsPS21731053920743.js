import{_ as t,bI as n,C as o}from"./three.eGpwEcxC1731053920743.js";import{b as r}from"./@tresjs.hJVQLtpa1731053920743.js";import{d as e,b as a,a6 as s,w as i,o as c,D as u,J as f,aj as l,ak as p}from"./@vue.u2cBPEWn1731053920743.js";function h(){const t=["3290YroQbq","shadowmap_pars_vertex","\n       varying vec2 vUv;\n\t\t\t \t","5001975MjbghS","bind","input","\n\t ","5054670mNSrUO","1800999cuwikE","common","warn","ShaderChunk","length","lights_pars_begin","exception","6fklNNf","chain","\n          ","counter","gger","apply","shadowmask_pars_fragment","273044CaAvAf","shadowmap_pars_fragment","790495LtalDU","test","constructor","bsdfs","call","beginnormal_vertex","table","16lnEYEi","packing","8010ErfxcT","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","debu","stateObject","\n       void main() {\n\t\t\t\t\t","error","function *\\( *\\)","1708791PgjEnj","4pVSnLa","shadowmap_vertex","info","trace","string","toString","project_vertex","\n      \t","while (true) {}","init","console","worldpos_vertex"];return(h=function(){return t})()}!function(t,n){const o=v,r=h();for(;;)try{if(441036===-parseInt(o(376))/1*(parseInt(o(383))/2)+-parseInt(o(402))/3*(parseInt(o(403))/4)+-parseInt(o(385))/5+parseInt(o(394))/6*(parseInt(o(415))/7)+parseInt(o(392))/8*(parseInt(o(369))/9)+parseInt(o(368))/10+parseInt(o(418))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(381)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=v,n=new RegExp(t(401)),o=new RegExp(t(395),"i"),r=_(t(412));n[t(386)](r+t(377))&&o[t(386)](r+t(366))?_():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();d(void 0,(function(){const t=v,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n.console=n[t(413)]||{},r=["log",t(371),t(405),t(400),t(375),t(391),t(406)];for(let e=0;e<r[t(373)];e++){const n=d[t(387)][t(396)][t(419)](d),a=r[e],s=o[a]||n;n.__proto__=d[t(419)](d),n[t(408)]=s.toString[t(419)](s),o[a]=n}}))();const m=()=>{const o=v;return o(417)+t[o(372)][o(370)]+o(410)+t[o(372)][o(388)]+o(410)+t[o(372)][o(416)]+o(399)+n[o(390)]+o(378)+t[o(372)].defaultnormal_vertex+o(378)+t[o(372)].begin_vertex+"\n          "+t[o(372)][o(409)]+o(378)+t[o(372)][o(414)]+o(378)+t[o(372)][o(404)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"};function v(t,n){const o=h();return(v=function(t,n){return o[t-=366]})(t,n)}const w=()=>{const o=v;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[o(372)][o(370)]+o(367)+t[o(372)][o(393)]+o(367)+t[o(372)][o(388)]+o(367)+n[o(374)]+o(367)+n[o(384)]+o(367)+t[o(372)][o(382)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function _(t){function n(t){const o=v;if(typeof t===o(407))return function(t){}[o(387)](o(411))[o(381)](o(379));1!==(""+t/t)[o(373)]||t%20==0?function(){return!0}[o(387)](o(397)+o(380))[o(389)]("action"):function(){return!1}.constructor(o(397)+"gger")[o(381)](o(398)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function b(t,n){const o=S();return(b=function(t,n){return o[t-=165]})(t,n)}const x=b;!function(t,n){const o=b,r=S();for(;;)try{if(814860===-parseInt(o(188))/1*(-parseInt(o(166))/2)+-parseInt(o(173))/3+parseInt(o(214))/4*(parseInt(o(218))/5)+parseInt(o(209))/6*(parseInt(o(205))/7)+-parseInt(o(220))/8*(-parseInt(o(177))/9)+parseInt(o(194))/10+-parseInt(o(204))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[b(224)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=b,n=new RegExp(t(208)),o=new RegExp(t(180),"i"),r=M(t(222));n[t(181)](r+"chain")&&o[t(181)](r+t(176))?M():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(){const t=["664304ZbhOby","return (function() ","init","bind","apply","UniformsLib","630078Nivmie","TresMesh","uColor","tmRef","uShadowColor","toString","uniforms","1528632QgslgH","call","warn","input","117dyioRc","string","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","log","action","RepeatWrapping","DoubleSide","trace","value","5bTaNXs",'{}.constructor("return this")( )',"UniformsUtils","info","gger","edge","14013940tsEodk","shadowColor","fEdge","length","args","Color","color","while (true) {}","wrapS","constructor","33117898DEAmUb","749tqTfFL","error","stateObject","function *\\( *\\)","9624pIzMHE","debu","prototype","whiteFloorMesh","rotation-x","148gMlwOJ","merge","lights","wrapT","14515DQMWoF","#990"];return(S=function(){return t})()}y(void 0,(function(){const t=b;let n;try{n=Function(t(221)+t(189)+");")()}catch(e){n=window}const o=n.console=n.console||{},r=[t(182),t(175),t(191),t(206),"exception",t(179),t(186)];for(let a=0;a<r[t(197)];a++){const n=y[t(203)][t(211)][t(223)](y),e=r[a],s=o[e]||n;n.__proto__=y.bind(y),n.toString=s[t(171)][t(223)](s),o[e]=n}}))();const C=[x(213)],E=[x(198)],j=e({__name:x(212),props:{size:{default:[20,20]},color:{default:x(219)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const e=x;let h,g;const d=n,v=a(),{map:_}=([h,g]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,g(),h);_[e(202)]=_[e(217)]=t[e(184)];const b={uniforms:t[e(190)][e(215)]([t[e(165)][e(216)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(199)])(d.color)},uShadowColor:{value:new o(d[e(195)])},fEdge:{type:"f",value:d[e(193)]}}]),side:t[e(185)],vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return i((()=>d.edge),(t=>{const n=e;b.uniforms[n(196)][n(187)]=t})),i((()=>d.color),(n=>{const o=e;b[o(172)][o(168)][o(187)]=new(t[o(199)])(d[o(200)])})),i((()=>d.shadowColor),(n=>{const o=e;b[o(172)][o(170)][o(187)]=new(t[o(199)])(d[o(195)])})),(t,n)=>{const o=e;return c(),u(o(167),{ref_key:o(169),ref:v,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:d.size},null,8,E),f("TresShaderMaterial",l(p(b)),null,16)],8,C)}}});function M(t){function n(t){const o=b;if(typeof t===o(178))return function(t){}[o(203)](o(201))[o(224)]("counter");1!==(""+t/t)[o(197)]||t%20==0?function(){return!0}.constructor("debu"+o(192))[o(174)](o(183)):function(){return!1}[o(203)](o(210)+o(192))[o(224)](o(207)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
