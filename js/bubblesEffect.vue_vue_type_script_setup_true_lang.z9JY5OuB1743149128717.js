import{_ as n,c6 as t,l as e,C as o,a$ as i,ab as r,a,aj as s}from"./three.hBhj0ayh1743149128717.js";import{m as l,e as u,a as c}from"./@tresjs.GCV-1VTd1743149128717.js";import{d as f,b as p,a3 as m,a2 as g,o as b,H as v,N as y,aj as d,ak as h,u as w}from"./@vue.L-brCdZe1743149128717.js";const _=S;!function(n,t){const e=S,o=P();for(;;)try{if(105020===parseInt(e(385))/1*(-parseInt(e(436))/2)+parseInt(e(430))/3+-parseInt(e(407))/4+-parseInt(e(392))/5*(-parseInt(e(420))/6)+-parseInt(e(435))/7+-parseInt(e(413))/8*(parseInt(e(426))/9)+parseInt(e(422))/10)break;o.push(o.shift())}catch(i){o.push(o.shift())}}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){x(this,(function(){const n=S,t=new RegExp(n(391)),e=new RegExp(n(388),"i"),o=C(n(437));t[n(421)](o+n(416))&&e[n(421)](o+n(394))?C():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function S(n,t){const e=P();return S=function(n,t){return e[n-=384]},S(n,t)}function P(){const n=["TresMeshRef","geometry","TresShaderMaterial","uTime","119047LWbwyZ","action","Mesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","debu","function *\\( *\\)","20KDGOhd","opacity","input","push","constructor","map","call","console","traverse","string","uOpacity","bind","mergeGeometries","prototype","Color","549324tggQwF","AdditiveBlending","verticesNeedUpdate","apply","trace","offsetY","81472xOuspu","color","position","chain","uniforms","glowColor","info","179436VhvgVA","test","3067550dbipvt","xRayEffect","error","DoubleSide","54EjRALN","length","gger","value","412029UmnSZE","warn","dispose","toString","__proto__","988540EOMBLi","2zWiWdr","init","while (true) {}","TresMesh"];return(P=function(){return n})()}z(void 0,(function(){const n=S;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(i){t=window}const e=t[n(399)]=t[n(399)]||{},o=["log",n(431),n(419),n(424),"exception","table",n(411)];for(let r=0;r<o.length;r++){const t=z[n(396)][n(405)].bind(z),i=o[r],a=e[i]||t;t[n(434)]=z[n(403)](z),t[n(433)]=a.toString.bind(a),e[i]=t}}))();const T=f({__name:_(423),props:{model:{},color:{default:"#84ccff"},opacity:{default:1}},async setup(e){const o=_;let i,r;const a=e,s=p(),f=[];a.model[o(400)]((t=>{const e=o;t instanceof n[e(387)]&&(t[e(441)][e(409)]=!0,f[e(395)](t[e(441)]))}));const w=([i,r]=m((()=>c({map:"./plugins/medical/image/brainXRayLight.png"}))),i=await i,r(),i),x={uniforms:{c:{type:"f",value:1.11},p:{type:"f",value:1},glowColor:{type:"c",value:new(n[o(406)])(a[o(414)])},lightningTexture:{type:"t",value:w[o(397)]},offsetY:{type:"f",value:.1},uTime:{type:"f",value:0},uOpacity:{type:"f",value:a[o(393)]}},vertexShader:"uniform float c;\nuniform float p;\nuniform float uTime;\nvarying float intensity;\nvarying vec2 vUv;\nvoid main(){\n    vUv=uv;\n    vec3 vNormal=normalize(normalMatrix*normal);\n    intensity=pow(c-abs(dot(vNormal,vec3(0,0,1))),p);\n    gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}",fragmentShader:"uniform vec3 glowColor;\nuniform sampler2D lightningTexture;\nvarying float intensity;\nvarying vec2 vUv;\nuniform float offsetY;\nuniform float uTime;\nuniform float uOpacity;\n\nvoid main(){\n  vec2 uv=vUv;\n  uv.y+=offsetY;\n  vec3 glow=glowColor*intensity;\n  vec3 color=vec3(step(.1,uv.y)-step(.2,uv.y))-vec3(texture2D(lightningTexture,uv));\n  float alpha=clamp(cos(uTime*3.),.5,1.);\n  gl_FragColor=vec4(glow+color,alpha*uOpacity);\n}",side:n[o(425)],blending:n[o(408)],depthWrite:!1};x[o(417)][o(412)][o(429)]=Math.sin(5);const{camera:z}=l(),{onLoop:S}=u();return S((({delta:n})=>{const t=o;z[t(429)][t(415)]&&s[t(429)]&&(x.uniforms[t(384)][t(429)]+=n)})),g((()=>{const e=o;s[e(429)]&&(s[e(429)].geometry[e(432)](),s[e(429)][e(441)]=t[e(404)](f)),a[e(414)]&&(x[e(417)][e(418)].value=new(n[e(406)])(a[e(414)])),a[e(393)]&&(x[e(417)][e(402)][e(429)]=a[e(393)])})),(n,t)=>{const e=o;return b(),v(e(439),{ref_key:e(440),ref:s},[t[0]||(t[0]=y("TresBufferGeometry",null,null,-1)),y(e(442),d(h(x)),null,16)],512)}}});function C(n){function t(n){const e=S;if(typeof n===e(401))return function(n){}[e(396)](e(438))[e(410)](e(389));1!==(""+n/n)[e(427)]||n%20==0?function(){return!0}[e(396)]("debu"+e(428))[e(398)](e(386)):function(){return!1}[e(396)](e(390)+e(428))[e(410)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function I(n,t){const e=O();return I=function(n,t){return e[n-=408]},I(n,t)}const M=I;!function(n,t){const e=I,o=O();for(;;)try{if(669795===-parseInt(e(442))/1*(parseInt(e(462))/2)+parseInt(e(465))/3*(-parseInt(e(456))/4)+parseInt(e(414))/5+parseInt(e(451))/6*(parseInt(e(415))/7)+parseInt(e(410))/8+parseInt(e(425))/9+-parseInt(e(480))/10)break;o.push(o.shift())}catch(i){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[I(431)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=I,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(470),"i"),o=U("init");t.test(o+"chain")&&e[n(439)](o+n(469))?U():o("0")}))()}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function O(){const n=["afective","color","bubblesEffect","return (function() ","constructor","7841270JgrLOM","opacity","push","uSlowTime","traverse","uniforms","string","5387448VXIYjA","episodic","trace","analitic","5590515oopNTB","7XZgyZS","TresBufferGeometry","action","Float32BufferAttribute","#FFF","bind","info","bridge","log","uOpacity","3347487fasOmC","size","toString","__proto__","value","TresShaderMaterial","apply","geometry","table","warn","ShaderMaterial","cerebellum","array","debu","test","amigdala","uTime","538DxIZKx","glowColor","counter","map","exception","randInt","aDelayDuration","includes","process","5947596MErZde","BufferGeometryRef","randFloat","Color","position","236876EqxtfL","console","mergeGeometries","material","attributes","length","2140evasDm","TresPoints","MathUtils","57yeQArS","model",'{}.constructor("return this")( )',"setAttribute","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMeshRef","while (true) {}","stateObject","brainstem"];return(O=function(){return n})()}B(void 0,(function(){const n=I;let t;try{t=Function(n(478)+n(467)+");")()}catch(i){t=window}const e=t[n(457)]=t.console||{},o=[n(423),n(434),n(421),"error",n(446),n(433),n(412)];for(let r=0;r<o[n(461)];r++){const t=B[n(479)].prototype[n(420)](B),i=o[r],a=e[i]||t;t[n(428)]=B[n(420)](B),t[n(427)]=a[n(427)][n(420)](a),e[i]=t}}))();const j=f({__name:M(477),props:{model:{},color:{default:M(419)},opacity:{default:1}},setup(l){const c=M,f=l,m=[c(475),"semantic",c(411),c(450),c(440),c(474),c(422),c(436),c(413)],_={};f[c(466)][c(484)]((n=>{const o=c;n instanceof e&&m[o(445)]((e=>{const i=o;if(n.name[i(449)](e)){if(_[e]){const o=[_[e],n[i(432)]];return _[e]=t[i(458)](o),_}return _[e]=n[i(432)]}return[]}))}));const x=p(),z=new(n[c(435)])({uniforms:{glowColor:{type:"c",value:new o(f[c(476)])},uTime:{type:"f",value:0},uSlowTime:{type:"f",value:0},uBubblesUp:{type:"f",value:1},uOpacity:{type:"f",value:f[c(481)]}},vertexShader:"uniform float p;\nuniform float uTime;\nuniform float uSlowTime;\nuniform float uBubblesUp;\nvarying float intensity;\nattribute vec2 aDelayDuration;\nattribute float size;\nattribute vec4 bubbles;\nvarying float alpha;\n\nfloat easeExpoInOut(float p){\n    return((p*=2.)<1.)?.5*pow(2.,10.*(p-1.)):.5*(2.-pow(2.,-10.*(p-1.)));\n}\n\nvoid main()\n{\n    intensity=.9;\n    vec4 mvPosition=modelViewMatrix*vec4(position,1.);\n    gl_PointSize=size*(300./-mvPosition.z);\n    float m=mod(size,sin(uSlowTime*.12+size));\n    \n    alpha=step(.5,abs(m));\n    if(m>.5&&m<.7){\n        gl_PointSize=.9*size;\n    }\n    if(m>.8){\n        gl_PointSize=.9*size;\n    }\n    \n    gl_Position=projectionMatrix*mvPosition;\n    \n    if(bubbles.w>0.&&bubbles.w<2.&&bubbles.x!=0.&&bubbles.y!=0.){\n        gl_PointSize=size+15.;\n        alpha=clamp(abs(sin(uTime-bubbles.y)),.3,1.);\n        \n        float tProgress=smoothstep(0.,aDelayDuration.x,uBubblesUp);\n        vec3 tranlated=mix(position,bubbles.xyz,tProgress);\n        vec4 bPosition=modelViewMatrix*vec4(tranlated,1.);\n        \n        gl_PointSize=uBubblesUp*gl_PointSize;\n        gl_Position+=projectionMatrix*bPosition;\n        alpha=5.;\n    }\n    \n    if(bubbles.w==2.){\n        alpha=clamp(abs(sin(uTime-bubbles.y)),.3,.6);\n        gl_PointSize=size+60.;\n        \n        gl_PointSize=uBubblesUp*gl_PointSize;\n        float normalized=clamp(uBubblesUp,0.,2.)*2.;\n        vec3 tranlated=mix(position,bubbles.xyz,normalized);\n        vec4 bPosition=modelViewMatrix*vec4(tranlated,1.);\n        gl_Position+=projectionMatrix*bPosition;\n    }\n    if(bubbles.w==3.){\n        alpha=clamp(abs(sin(uTime-bubbles.y)),.3,1.);\n        gl_PointSize=size+90.;\n        \n        gl_PointSize=uBubblesUp*gl_PointSize;\n        float normalized=clamp(uBubblesUp,0.,2.)*2.;\n        vec3 tranlated=mix(position,bubbles.xyz,normalized);\n        vec4 bPosition=modelViewMatrix*vec4(tranlated,1.);\n        gl_Position+=projectionMatrix*bPosition;\n    }\n}",fragmentShader:"precision mediump float;\nuniform vec3 glowColor;\nvarying float intensity;\nvarying float alpha;\nuniform float uOpacity;\nvoid main() {\n  float distanceToCenter = distance(gl_PointCoord, vec2(.5));\n  float pct = 1. - smoothstep(0., .5, distanceToCenter);\n  vec3 color = vec3(1.) * gl_FragColor.rgb;\n  vec3 glow = glowColor * intensity;\n  gl_FragColor = vec4(glow, clamp(alpha, 0., 1.));\n  gl_FragColor = vec4(glow, pct * gl_FragColor.a);\n  gl_FragColor = vec4(gl_FragColor.rgb, gl_FragColor.a * uOpacity);\n  // gl_FragColor=vec4(1.,1.,0.,1.);\n}",blending:i,side:r,depthTest:!1,vertexColors:!1,transparent:!0});g((()=>{x[c(429)]&&(()=>{const t=c,e=[],o=[],i=[],r=[];for(let s=0;s<2e4-3*m[t(461)];s+=1){const l=n[t(464)][t(447)](0,m[t(461)]-1),u=m[l],c=_[u][t(460)][t(455)][t(437)][3*s+0]||0,f=_[u][t(460)][t(455)].array[3*s+1]||0,p=_[u].attributes[t(455)][t(437)][3*s+2]||0;if(o[t(482)](c,f,p),e[s]=a.randFloat(10,20),s%100==0){const e=n[t(464)][t(447)](100,250)+f;r[t(482)](c,e,p,1)}else r[t(482)](c,f,p,0);i[2*s+0]=n[t(464)][t(453)](.5,1.5),i[2*s+1]=2.5}x[t(429)].setAttribute(t(448),new(n[t(418)])(i,2)),x[t(429)][t(468)]("bubbles",new(n[t(418)])(r,4)),x[t(429)][t(468)](t(455),new s(o,3)),x.value[t(468)](t(476),new(n[t(418)])([],3)),x[t(429)][t(468)](t(426),new s(e,1)),x[t(429)].computeBoundingSphere()})()}));const S=p(),{onLoop:P}=u();return P((({delta:t})=>{const e=c;S.value&&(S[e(429)][e(459)].uniforms[e(441)].value+=.05,S.value[e(459)][e(408)][e(483)][e(429)]+=1/400),f[e(476)]&&(z[e(408)][e(443)][e(429)]=new(n[e(454)])(f[e(476)])),f[e(481)]&&(z[e(408)][e(424)][e(429)]=f[e(481)])})),(n,t)=>{const e=c;return b(),v(e(463),{ref_key:e(471),ref:S},[y(e(416),{ref_key:e(452),ref:x},null,512),y(e(430),d(h(w(z))),null,16)],512)}}});function U(n){function t(n){const e=I;if(typeof n===e(409))return function(n){}[e(479)](e(472))[e(431)](e(444));1!==(""+n/n).length||n%20==0?function(){return!0}[e(479)](e(438)+"gger").call(e(417)):function(){return!1}[e(479)](e(438)+"gger")[e(431)](e(473)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{T as _,j as a};
