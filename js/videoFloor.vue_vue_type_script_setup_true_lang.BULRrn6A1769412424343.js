import{importShared as e}from"./3d-tiles-renderer.DFcJBJdg1769412424343.js";import{useLoop as t}from"./index.B2-FHinZ1769412424343.js";const{defineComponent:a}=await e("vue"),{createElementVNode:o,normalizeProps:r,guardReactiveProps:n,openBlock:i,createElementBlock:l}=await e("vue"),p=["rotation-x"],d=["args"],c=await e("three"),{watch:s,reactive:u,ref:f}=await e("vue"),m=a({__name:"videoFloor",props:{size:{default:[10,10]},vSrcPath:{},loop:{type:Boolean,default:!0},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},textureRepeat:{default:[1,1]}},setup(e){const a=f(),{onRender:m}=t();m(()=>{a.value&&(a.value.rotation.z+=v.rotationZ)});const v=e;let h=document.createElement("video");h.src=v.vSrcPath,h.loop=v.loop,h.muted=!0,h.crossOrigin="",h.play();let g=new c.VideoTexture(h);g.wrapS=c.RepeatWrapping,g.wrapT=c.RepeatWrapping,g.repeat.set(v.textureRepeat[0],v.textureRepeat[1]);const w=u({color:v.color,alphaMap:g,side:c.DoubleSide,transparent:!0,opacity:v.opacity,blending:c.AdditiveBlending,flatShading:!0,depthTest:!0,depthWrite:!0});return s(()=>v.color,e=>{w.color=new c.Color(e)}),s(()=>v.opacity,e=>{w.opacity=e}),(e,t)=>(i(),l("TresMesh",{ref_key:"tmRef",ref:a,"rotation-x":-Math.PI/2},[o("TresPlaneGeometry",{args:v.size},null,8,d),o("TresMeshStandardMaterial",r(n(w)),null,16)],8,p))}});export{m as _sfc_main};
