var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.0XZ5az_21725721021019.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.wuzluwkX1725721021019.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.531mB2eW1725721021019.js";import{j as o,U as s,C as l,k as c,W as u,bb as p,h as f,e as x,a6 as v,V as m,al as w}from"./three.a9V66irq1725721021019.js";import{p as h,$ as g}from"./@tresjs.bIWdfO9a1725721021019.js";import{u as d}from"./index.HwcLpeBY1725721021019.js";import{F as y,C as S}from"./three-stdlib.-DW5PGsS1725721021019.js";import{d as P}from"./@vue._6MD2XyK1725721021019.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.9nnNjEsU1725721021019.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.UKPi4bc_1725721021019.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.m6d7KCy21725721021019.js";const _=I;function z(){const t=["18tnSiYp","debu","toString","action","6205948JTlfhC","311350SJzgFj","bind","constructor","257aKzxMl","3501992DqoQhJ","252918GKnQiI","warn","8vZLIXy","apply","counter","6402zkZzbE",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"__proto__","table","log",'{}.constructor("return this")( )',"trace","call","string","function *\\( *\\)","3641676yvEwcv","gger","info","return (function() ","length","3840330xiEfIR","test","while (true) {}"];return(z=function(){return t})()}!function(t,e){const n=I,i=z();for(;;)try{if(503895===-parseInt(n(415))/1*(-parseInt(n(389))/2)+-parseInt(n(384))/3+parseInt(n(383))/4+-parseInt(n(404))/5+parseInt(n(399))/6+-parseInt(n(411))/7*(parseInt(n(386))/8)+parseInt(n(407))/9*(-parseInt(n(412))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(t,e){const n=z();return(I=function(t,e){return n[t-=383]})(t,e)}!function(){b(this,(function(){const t=I,e=new RegExp(t(398)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=A("init");e.test(i+"chain")&&n[t(405)](i+"input")?A():i("0")}))()}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(387)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();E(void 0,(function(){const t=I,e=function(){const t=I;let e;try{e=Function(t(402)+t(394)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},i=[t(393),t(385),t(401),"error","exception",t(392),t(395)];for(let r=0;r<i[t(403)];r++){const e=E.constructor.prototype.bind(E),a=i[r],o=n[a]||e;e[t(391)]=E[t(413)](E),e.toString=o[t(409)][t(413)](o),n[a]=e}}))();const M=_(390);function A(t){function e(t){const n=I;if(typeof t===n(397))return function(t){}[n(414)](n(406))[n(387)](n(388));1!==(""+t/t).length||t%20==0?function(){return!0}[n(414)](n(408)+n(400))[n(396)](n(410)):function(){return!1}[n(414)](n(408)+"gger")[n(387)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=O;!function(t,e){const n=O,i=U();for(;;)try{if(340495===-parseInt(n(367))/1+parseInt(n(375))/2*(parseInt(n(348))/3)+-parseInt(n(357))/4+parseInt(n(356))/5+-parseInt(n(370))/6+-parseInt(n(373))/7+parseInt(n(355))/8)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(353)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(){const t=["676819dzcWEW","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","clone","3389850NUQSED","uniforms","log","3305876AFZdeQ","info","2EZLNBh","constructor","input","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","string","console","init","counter","return (function() ","stateObject","26457TZYoxC","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",'{}.constructor("return this")( )',"chain","bind","apply","test","18130616niTvqJ","1276220ykwXwb","1903332ngIFEw","defines","toString","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","gger","trace","call","action","__proto__","debu"];return(U=function(){return t})()}!function(){D(this,(function(){const t=O,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(368),"i"),i=R(t(344));e[t(354)](i+t(351))&&n.test(i+t(377))?R():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(353)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(t){const e=O,n=a({},t);return"defines"in t&&(n.defines=a({},t[e(358)])),e(371)in t&&(n[e(371)]=s[e(369)](t[e(371)])),n}function O(t,e){const n=U();return(O=function(t,e){return n[t-=344]})(t,e)}T(void 0,(function(){const t=O;let e;try{e=Function(t(346)+t(350)+");")()}catch(r){e=window}const n=e[t(380)]=e[t(380)]||{},i=[t(372),"warn",t(374),"error","exception","table",t(362)];for(let a=0;a<i.length;a++){const e=T[t(376)].prototype[t(352)](T),r=i[a],o=n[r]||e;e[t(365)]=T.bind(T),e[t(359)]=o[t(359)].bind(o),n[r]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:L(349),fragmentShader:L(378)+M+L(360)};function R(t){function e(t){const n=O;if(typeof t===n(379))return function(t){}.constructor("while (true) {}")[n(353)](n(345));1!==(""+t/t).length||t%20==0?function(){return!0}[n(376)](n(366)+n(361))[n(363)](n(364)):function(){return!1}[n(376)](n(366)+n(361))[n(353)](n(347)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){const n=W,i=F();for(;;)try{if(610165===parseInt(n(375))/1*(-parseInt(n(339))/2)+parseInt(n(362))/3+-parseInt(n(342))/4*(parseInt(n(355))/5)+parseInt(n(360))/6+-parseInt(n(374))/7*(parseInt(n(405))/8)+-parseInt(n(337))/9*(-parseInt(n(402))/10)+parseInt(n(378))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(390)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=W,e=new RegExp(t(392)),n=new RegExp(t(411),"i"),i=Q("init");e[t(346)](i+t(407))&&n[t(346)](i+"input")?Q():i("0")}))()}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(390)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function W(t,e){const n=F();return(W=function(t,e){return n[t-=337]})(t,e)}C(void 0,(function(){const t=W;let e;try{e=Function(t(340)+t(381)+");")()}catch(r){e=window}const n=e[t(348)]=e[t(348)]||{},i=[t(351),t(373),t(409),"error",t(338),t(398),t(356)];for(let a=0;a<i[t(384)];a++){const e=C[t(344)].prototype[t(345)](C),r=i[a],o=n[r]||e;e[t(372)]=C[t(345)](C),e[t(408)]=o[t(408)][t(345)](o),n[r]=e}}))();const N=new l;class Z{constructor(t){const e=W;!t&&(t=e(347));const n=j(V);n.fragmentShader=n[e(404)][e(410)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(j(n)),i[0][e(380)].X_IS_EVEN=0,i[0][e(380)][e(383)]=0,i[1]=new c(j(n)),i[1].defines.X_IS_EVEN=1,i[1][e(380)][e(383)]=0,i[2]=new c(j(n)),i[2][e(380)][e(361)]=0,i[2][e(380)][e(383)]=1,i[3]=new c(j(n)),i[3].defines[e(361)]=1,i[3][e(380)].Y_IS_EVEN=1;const r=new u;r.texture[e(376)]=p,r[e(365)][e(353)]=p,this[e(364)]=r,this._copyQuad=new y(new c(S)),this[e(350)]=new y(null),this[e(382)]=i}update(t,e,n,i=!1){const r=W;t[r(367)]&&(t=t.texture);const o=n[r(370)],s=n[r(391)](),l=n.getRenderTarget();n[r(385)](N);const c=this[r(343)],u=this[r(350)],p=this[r(364)],x=this._mipMaterials;let v,m;i?(v=f[r(379)](t.image[r(403)]),m=f.floorPowerOfTwo(t.image[r(341)])):(v=Math[r(388)](t[r(393)][r(403)]),m=Math.floor(t.image[r(341)]));const w=Math[r(388)](1.5*v),h=Math[r(388)](m);e[r(366)](w,h),p[r(365)][r(396)]!==e[r(365)][r(396)]?(p[r(352)](),p.copy(e),p[r(365)].image=a({},p[r(365)][r(393)])):p[r(366)](w,h),n.autoClear=!1,n[r(371)](0),n[r(354)](),c[r(400)].uniforms[r(406)][r(399)]=t,c.camera[r(358)](v,m,0,0,w,h),n[r(395)](e),n[r(357)](),c.render(n),n[r(395)](p),n[r(357)](),c[r(387)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms.map[r(399)]=p[r(365)],t[r(389)][r(359)][r(399)]=y,t[r(389)][r(363)][r(399)][r(368)](g,d),t.uniforms.originalMapSize[r(399)][r(368)](v,m),u[r(400)]=t,g=Math[r(388)](g/2),d=Math[r(388)](d/2);const i=h-2*d;n[r(395)](e),u[r(369)][r(358)](g,d,-v,-i,w,h),u[r(387)](n),n.setRenderTarget(p),t[r(389)][r(397)][r(399)]=e.texture,u[r(387)](n),y++}return n[r(395)](l),n[r(354)](s),n[r(371)](N),n[r(370)]=o,y+1}dispose(){const t=W;this[t(364)][t(352)](),this[t(350)][t(352)](),this[t(343)].dispose(),this._mipMaterials[t(386)]((e=>e[t(352)]()))}}function Q(t){function e(t){const n=W;if(typeof t===n(377))return function(t){}[n(344)]("while (true) {}")[n(390)](n(349));1!==(""+t/t)[n(384)]||t%20==0?function(){return!0}[n(344)]("debugger")[n(401)]("action"):function(){return!1}[n(344)]("debu"+n(394)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function F(){const t=["tDiffuse","chain","toString","info","replace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","45dwcYLR","exception","2qZQLBS","return (function() ","height","4stjRQv","_copyQuad","constructor","bind","test","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","console","counter","_mipQuad","log","dispose","magFilter","setClearAlpha","188185aOsBCa","trace","clear","setViewOffset","parentLevel","5969730rNEbXz","X_IS_EVEN","1860858lzMedM","parentMapSize","_swapTarget","texture","setSize","isWebGLRenderTarget","set","camera","autoClear","setClearColor","__proto__","warn","5492452Xbniuh","557822xPZKrQ","minFilter","string","3249444RTcdBx","floorPowerOfTwo","defines",'{}.constructor("return this")( )',"_mipMaterials","Y_IS_EVEN","length","getClearColor","forEach","render","floor","uniforms","apply","getClearAlpha","function *\\( *\\)","image","gger","setRenderTarget","type","map","table","value","material","call","159230huhasj","width","fragmentShader","8WsKMah"];return(F=function(){return t})()}function X(t,e){const n=$();return(X=function(t,e){return n[t-=134]})(t,e)}!function(t,e){const n=X,i=$();for(;;)try{if(554528===parseInt(n(136))/1+-parseInt(n(189))/2+-parseInt(n(156))/3+-parseInt(n(152))/4+-parseInt(n(155))/5+-parseInt(n(176))/6+parseInt(n(157))/7)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(151)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=X,e=new RegExp(t(159)),n=new RegExp(t(188),"i"),i=B(t(147));e[t(204)](i+t(144))&&n[t(204)](i+t(187))?B():i("0")}))()}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(151)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function $(){const t=["init","multiply","applyQuaternion","value","apply","1286788qVUwxl","autoClear","gger","2945900SGAZSQ","1929048bwVEhl","19187588IlFhCO","while (true) {}","function *\\( *\\)","getWorldPosition","multiplyScalar","UnsignedByteType","add","projectionMatrix",'{}.constructor("return this")( )',"Vector3","visible","clear","copy","sign","info","call","constructor","texture","updateMatrixWorld","3447780yUjTOQ","parent","Matrix4","applyMatrix4","debu","setRenderTarget","matrixWorld","Quaternion","resolution","ignoreObjects","table","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","176286fLxzji","error","normal","buffers","negate","matrixWorldInverse","sub","Vector4","set","warn","render","log","__proto__","getWorldQuaternion","clone","test","trace","elements","toString","forEach","getRenderTarget","state","length","30110LmRBUB","depth","PerspectiveCamera","return (function() ","stateObject","counter","setMask","console","chain","bind","reflect"];return($=function(){return t})()}Y(void 0,(function(){const t=X;let e;try{e=Function(t(139)+t(165)+");")()}catch(r){e=window}const n=e[t(143)]=e[t(143)]||{},i=[t(200),t(198),t(171),t(190),"exception",t(186),t(205)];for(let a=0;a<i[t(135)];a++){const e=Y.constructor.prototype[t(145)](Y),r=i[a],o=n[r]||e;e[t(201)]=Y[t(145)](Y),e[t(207)]=o[t(207)][t(145)](o),n[r]=e}}))();const G=P({__name:"reflectorMipMap",props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=X,i=t,r=new x,a=new(v[n(178)]),o=new(v[n(138)]),s=new Z,l=d({width:i[n(184)],height:i[n(184)],settings:{type:v[n(162)]}}),c=d({width:i.resolution,height:i.resolution,settings:{type:v[n(162)]}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!u.value)return;r.set(new(v[t(166)])(0,1,0),0),r[t(179)](i[t(177)][t(182)]),o[t(169)](u[t(150)]);const e=new m(0,0,1)[t(203)]()[t(193)](),s=u[t(150)].getWorldPosition(new(v[t(166)]));e[t(146)](r[t(191)]);const c=new(v[t(166)]);r.projectPoint(s,c);const x=c.clone();x[t(195)](s),x[t(163)](c),o.position[t(169)](x);const h=new(v[t(166)])(0,0,-1);h[t(149)](u[t(150)][t(202)](new(v[t(183)]))),h.add(s);const g=new(v[t(166)]);i[t(177)][t(160)](g),g[t(195)](h),g[t(146)](r[t(191)])[t(193)](),g.add(i[t(177)].getWorldPosition(new(v[t(166)]))),o.up[t(197)](0,1,0),o[t(149)](u[t(150)].getWorldQuaternion(new(v[t(183)]))),o.up[t(146)](r[t(191)]),o.lookAt(g),o[t(175)]();const d=new(v[t(178)]);d[t(197)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(148)](o.projectionMatrix),d[t(148)](o[t(194)]),a[t(169)](d),r[t(179)](o[t(194)]);const y=new(v[t(196)])(r[t(191)].x,r.normal.y,r[t(191)].z,r.constant),S=o[t(164)],P=new w;P.x=(Math[t(170)](y.x)+S[t(206)][8])/S[t(206)][0],P.y=(Math[t(170)](y.y)+S[t(206)][9])/S[t(206)][5],P.z=-1,P.w=(1+S[t(206)][10])/S.elements[14],y[t(161)](2/y.dot(P)),S[t(206)][2]=y.x,S[t(206)][6]=y.y,S.elements[10]=y.z+1,S[t(206)][14]=y.w;const _=p[t(150)][t(209)]();p[t(150)].setRenderTarget(l[t(150)]),p[t(150)][t(134)][t(192)][t(137)][t(142)](!0),!1===p[t(150)][t(153)]&&p[t(150)][t(168)](),i[t(185)][t(208)]((e=>e[t(167)]=!1)),p[t(150)][t(199)](f.value,o),i[t(185)][t(208)]((e=>e[t(167)]=!0)),p.value[t(181)](_)})(),l[t(150)]&&c[t(150)]&&p[t(150)]&&s.update(l[t(150)][t(174)],c[t(150)],p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=X;if("string"==typeof t)return function(t){}.constructor(n(158))[n(151)](n(141));1!==(""+t/t)[n(135)]||t%20==0?function(){return!0}[n(173)](n(180)+n(154))[n(172)]("action"):function(){return!1}[n(173)](n(180)+"gger")[n(151)](n(140)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=K();;)try{if(646245===parseInt(n(315))/1*(parseInt(n(321))/2)+parseInt(n(301))/3+-parseInt(n(307))/4+parseInt(n(325))/5*(parseInt(n(317))/6)+-parseInt(n(308))/7+parseInt(n(311))/8+-parseInt(n(314))/9*(parseInt(n(297))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(322)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){J(this,(function(){var t=tt,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(303),"i"),i=et(t(302));e[t(294)](i+"chain")&&n[t(294)](i+t(300))?et():i("0")}))()}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(322)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function K(){var t=["constructor","279rUnGUc","1nrfNth","length","3508458gnEnSr","counter","__proto__","string","489570caJXWs","apply","console","return (function() ","5gqDUYl","test","stateObject","prototype","84510bZUgBR","table","toString","input","2931969HymwzT","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","call","gger","1147452XKGDJA","7614621RvAwwC","bind","log","3808328EEuUGe","info"];return(K=function(){return t})()}function tt(t,e){var n=K();return(tt=function(t,e){return n[t-=294]})(t,e)}function et(t){function e(t){var n=tt;if(typeof t===n(320))return function(t){}[n(313)]("while (true) {}").apply(n(318));1!==(""+t/t)[n(316)]||t%20==0?function(){return!0}.constructor(n(304)+n(306))[n(305)]("action"):function(){return!1}[n(313)](n(304)+n(306))[n(322)](n(295)),e(++t)}try{if(t)return e;e(0)}catch(n){}}q(void 0,(function(){for(var t=tt,e=function(){var t,e=tt;try{t=Function(e(324)+'{}.constructor("return this")( ));')()}catch(n){t=window}return t}(),n=e[t(323)]=e[t(323)]||{},i=[t(310),"warn",t(312),"error","exception",t(298),"trace"],r=0;r<i[t(316)];r++){var a=q[t(313)][t(296)][t(309)](q),o=i[r],s=n[o]||a;a[t(319)]=q[t(309)](q),a[t(299)]=s.toString[t(309)](s),n[o]=a}}))();export{G as _};
