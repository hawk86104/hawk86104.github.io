import{_ as t,ap as n}from"./three.qSkR4_5R1743066865732.js";import{D as o,o as i,f as e}from"./@tresjs.NxYvETXi1743066865732.js";import{a as r,b as s}from"./index.bm35pHND1743066865732.js";import{P as u}from"./tweakpane.ivGeiIdz1743066865732.js";import{d as c,$ as a,w as p,o as l,H as f,a3 as m,u as d,r as g,f as h,g as v,N as y,j as I,al as S,m as b}from"./@vue.L-brCdZe1743066865732.js";import"./postprocessing.ncQBP5me1743066865732.js";import"./@vueuse.2gpu5LGS1743066865732.js";import"./three-stdlib.tjOHNgPP1743066865732.js";import"./@pmndrs.fRJ1Czfy1743066865732.js";import"./object-hash.j9vF23_i1743066865732.js";import"./@amap.h2kWdZ7d1743066865732.js";import"./jszip.ZK9v5YwH1743066865732.js";const P=j;!function(t,n){const o=j,i=R();for(;;)try{if(382279===parseInt(o(499))/1+-parseInt(o(461))/2*(parseInt(o(483))/3)+parseInt(o(465))/4*(-parseInt(o(464))/5)+parseInt(o(467))/6+parseInt(o(482))/7+parseInt(o(470))/8+parseInt(o(477))/9)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const x=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){x(this,(function(){const t=j,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(497),"i"),i=z(t(490));n.test(i+t(472))&&o[t(484)](i+t(466))?z():i("0")}))()}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[j(502)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();_(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(475)+t(492)+");")()}catch(o){n=window}return n}(),o=n[t(480)]=n[t(480)]||{},i=["log",t(493),t(495),"error","exception",t(478),t(489)];for(let e=0;e<i[t(491)];e++){const n=_[t(469)].prototype.bind(_),r=i[e],s=o[r]||n;n[t(479)]=_[t(486)](_),n.toString=s.toString[t(486)](s),o[r]=n}}))();const w=[P(481)];function R(){const t=["test","while (true) {}","bind","string","srcMaterial","trace","init","length",'{}.constructor("return this")( )',"warn","call","info","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","206378XLvJqL","com","counter","apply","1453378sxvCnP","uSnappingResolution","#include <project_vertex>","37040lXpIFf","304NmajTt","input","1658580BKOmHJ","MeshStandardMaterial","constructor","3142096hVMzJM","#include <common>","chain","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","debu","return (function() ","vertexShader","4763412ipQRIF","table","__proto__","console","object","1869966KKHPrn","3oMbGkm"];return(R=function(){return t})()}function j(t,n){const o=R();return j=function(t,n){return o[t-=461]},j(t,n)}const M=c({__name:P(500),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[P(468)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=P,o=t,i=a(o[n(462)]);return o[n(488)].onBeforeCompile=t=>{const o=n;t.uniforms[o(462)]=i,t[o(476)]=t[o(476)].replace(o(471),o(473)),t.vertexShader=t[o(476)].replace(o(463),"\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t")},p((()=>o[n(462)]),(t=>{i.value=t})),(t,o)=>{const i=n;return l(),f("primitive",{object:t[i(488)]},null,8,w)}}});function z(t){function n(t){const o=j;if(typeof t===o(487))return function(t){}[o(469)](o(485))[o(502)](o(501));1!==(""+t/t)[o(491)]||t%20==0?function(){return!0}[o(469)](o(474)+o(496))[o(494)](o(498)):function(){return!1}[o(469)]("debu"+o(496))[o(502)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=C,i=k();for(;;)try{if(202837===parseInt(o(409))/1+-parseInt(o(403))/2*(-parseInt(o(422))/3)+-parseInt(o(399))/4*(parseInt(o(413))/5)+parseInt(o(384))/6+-parseInt(o(417))/7*(parseInt(o(382))/8)+-parseInt(o(401))/9*(-parseInt(o(418))/10)+-parseInt(o(388))/11)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const A=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[C(404)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){A(this,(function(){const t=C,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(416),"i"),i=E(t(406));n[t(410)](i+t(400))&&o.test(i+t(405))?E():i("0")}))()}();const T=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[C(404)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function k(){const t=["chain","3242988FQmisA","call","6Twnddx","apply","input","init","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","table","111378dBBvgz","test","toString","gger","132170mOrJFF","constructor","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","65058GZZgYV","10HtAslg","vertexShader","string","#include <project_vertex>","181674mojcrz","console","return (function() ","104UNFPio","uSnappingResolution","1607808Bmyuiv","debu","length","prototype","2503787yrvdFL","stateObject","trace","onBeforeCompile","replace","info","while (true) {}","bind","warn",'{}.constructor("return this")( )',"__proto__","56synuhQ"];return(k=function(){return t})()}function C(t,n){const o=k();return C=function(t,n){return o[t-=381]},C(t,n)}function E(t){function n(t){const o=C;if(typeof t===o(420))return function(t){}[o(414)](o(394))[o(404)]("counter");1!==(""+t/t)[o(386)]||t%20==0?function(){return!0}[o(414)](o(385)+o(412))[o(402)]("action"):function(){return!1}[o(414)]("debugger").apply(o(389)),n(++t)}try{if(t)return n;n(0)}catch(o){}}T(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(381)+t(397)+");")()}catch(o){n=window}return n}(),o=n[t(423)]=n[t(423)]||{},i=["log",t(396),t(393),"error","exception",t(408),t(390)];for(let e=0;e<i.length;e++){const n=T[t(414)][t(387)][t(395)](T),r=i[e],s=o[r]||n;n[t(398)]=T[t(395)](T),n[t(411)]=s[t(411)][t(395)](s),o[r]=n}}))();const B=Z;function Z(t,n){const o=G();return Z=function(t,n){return o[t-=452]},Z(t,n)}!function(t,n){const o=Z,i=G();for(;;)try{if(925074===-parseInt(o(490))/1*(-parseInt(o(475))/2)+-parseInt(o(495))/3*(-parseInt(o(481))/4)+-parseInt(o(493))/5+parseInt(o(458))/6+-parseInt(o(489))/7+-parseInt(o(484))/8+-parseInt(o(465))/9*(-parseInt(o(469))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const F=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[Z(476)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function G(){const t=["test","toString","length","397964OHJTgk","stateObject","values","5563424iksQPz","/model/industry4/MRBike.glb","chain","uSnappingResolution","object","4267270ASSLyH","48203IARtZL","console","table","3767060bfaCiP","log","24nsiomM","info","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","__proto__","prototype","./draco/","8631222ebyLGP","counter","exception","forEach","function *\\( *\\)","call","while (true) {}","9xrcJLV","bind",'{}.constructor("return this")( )',"warn","5562470VwcCCJ","init","gger","action","trace","string","8kTzvQb","apply","return (function() "];return(G=function(){return t})()}!function(){F(this,(function(){const t=Z,n=new RegExp(t(462)),o=new RegExp(t(453),"i"),i=L(t(470));n[t(478)](i+t(486))&&o[t(478)](i+"input")?L():i("0")}))()}();const N=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[Z(476)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();N(void 0,(function(){const t=Z;let n;try{n=Function(t(477)+t(467)+");")()}catch(e){n=window}const o=n[t(491)]=n[t(491)]||{},i=[t(494),t(468),t(496),"error",t(460),t(492),t(473)];for(let r=0;r<i.length;r++){const n=N[t(454)][t(456)][t(466)](N),e=i[r],s=o[e]||n;n[t(455)]=N.bind(N),n[t(479)]=s[t(479)][t(466)](s),o[e]=n}}))();const H=[B(488)],$=c({__name:"model",props:{uSnappingResolution:{default:6}},async setup(t){const n=B;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o("https://opensource.cdn.icegl.cn"+n(485),{draco:!0,decoderPath:n(457)}))),i=await i,e(),i),c=[];return Object[n(483)](u)[n(461)]((t=>{c.push(function(t,n=6){const o=C,i={value:n};return t[o(391)]=t=>{const n=o;t[n(415)][n(383)]=i,t[n(419)]=t.vertexShader[n(392)]("#include <common>",n(407)),t.vertexShader=t[n(419)][n(392)](n(421),"\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t")},i}(t,r.uSnappingResolution))})),p((()=>r[n(487)]),(t=>{c[n(461)]((n=>{n.value=t}))})),(t,n)=>(l(),f("primitive",{object:d(s),scale:5,position:[0,-2,0]},null,8,H))}});function L(t){function n(t){const o=Z;if(typeof t===o(474))return function(t){}[o(454)](o(464))[o(476)](o(459));1!==(""+t/t)[o(480)]||t%20==0?function(){return!0}[o(454)](o(452)+o(471))[o(463)](o(472)):function(){return!1}.constructor("debu"+o(471)).apply(o(482)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const J=U;!function(t,n){const o=U,i=V();for(;;)try{if(636875===parseInt(o(362))/1+-parseInt(o(317))/2+-parseInt(o(354))/3+-parseInt(o(329))/4+parseInt(o(344))/5+parseInt(o(318))/6+parseInt(o(321))/7)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const O=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function V(){const t=["stateObject","4630380nasHAc","counter","exception","TresPerspectiveCamera","rotation-x","自行车模型-分辨率","test","string","addBinding","info","3202866GPZeJD","rotation-y","console","TresDirectionalLight","TresMesh","torus","apply","TresAmbientLight","160222WVZwHq","table","727868cAznEk","7271100DreCyn",'{}.constructor("return this")( )',"log","831628cBBPkq","bind","trace","uSnappingResolution","toString","cube","prototype","chain","1394084GcqbrV","action","while (true) {}","TresCylinderGeometry","circle","debu","constructor","warn","function *\\( *\\)","call","error","return (function() ","modelSnappingResolution","圆环扭结-分辨率"];return(V=function(){return t})()}!function(){O(this,(function(){const t=U,n=new RegExp(t(337)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=K("init");n[t(350)](i+t(328))&&o[t(350)](i+"input")?K():i("0")}))()}();const Q=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[U(360)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function U(t,n){const o=V();return U=function(t,n){return o[t-=316]},U(t,n)}Q(void 0,(function(){const t=U;let n;try{n=Function(t(340)+t(319)+");")()}catch(e){n=window}const o=n[t(356)]=n[t(356)]||{},i=[t(320),t(336),t(353),t(339),t(346),t(316),t(323)];for(let r=0;r<i.length;r++){const n=Q[t(335)][t(327)][t(322)](Q),e=i[r],s=o[e]||n;n.__proto__=Q[t(322)](Q),n[t(325)]=s[t(325)][t(322)](s),o[e]=n}}))();const q={position:[5,.9,-5],name:J(359)},D=c({__name:"vertexSnapping",setup(t){const o=J,c=g({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=g({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p.addBinding(a,o(324),{label:o(342),min:0,max:20,step:.01}),p[o(352)](a,o(341),{label:o(349),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(d(e),b(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=y(u(347),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),I(d(i)),n[2]||(n[2]=y(u(361),{intensity:.5},null,-1)),n[3]||(n[3]=y(u(357),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=y("TresMesh",{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(326)},[y(u(332),{args:[1.5,1.5,2]}),y("TresMeshStandardMaterial",{color:16737826,roughness:0,metalness:0})],-1)),y(u(358),q,[n[0]||(n[0]=y("TresTorusKnotGeometry",{args:[1,.35,100,32]},null,-1)),I(M,{uSnappingResolution:a.uSnappingResolution},null,8,[u(324)])]),(l(),h(S,null,{default:v((()=>[I($,{uSnappingResolution:a[u(341)]},null,8,[u(324)])])),_:1})),(l(),h(S,null,{default:v((()=>[I(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[I(d(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(348)]),I(d(s),{intensity:2,form:u(333),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),I(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(355)]),I(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["rotation-y"])])),_:1})])),_:1}))])),_:1},16)}}});function K(t){function n(t){const o=U;if(typeof t===o(351))return function(t){}[o(335)](o(331))[o(360)](o(345));1!==(""+t/t).length||t%20==0?function(){return!0}[o(335)](o(334)+"gger")[o(338)](o(330)):function(){return!1}.constructor("debugger")[o(360)](o(343)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{D as default};
