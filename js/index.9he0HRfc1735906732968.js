var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.M3UI3bH-1735906732968.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.7yZokAmp1735906732968.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.xnO0OdjO1735906732968.js";import{k as o,U as s,C as l,m as c,W as u,bb as p,h as f,_ as x,A as v,V as m}from"./three.VhLXWX0H1735906732968.js";import{m as h,e as w}from"./@tresjs.XlmHwCPa1735906732968.js";import{u as g}from"./index.QkcmrzFJ1735906732968.js";import{F as y,C as d}from"./three-stdlib.KBM4TZ_N1735906732968.js";import{d as S}from"./@vue.yG49nQHr1735906732968.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.czlU8zsm1735906732968.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.yzri0fv_1735906732968.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.ZJUjI_F01735906732968.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.yFlxGQ3D1735906732968.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.zSrbXLxr1735906732968.js";const _=I;!function(t,e){const n=I,i=z();for(;;)try{if(284489===parseInt(n(110))/1*(-parseInt(n(111))/2)+parseInt(n(133))/3*(parseInt(n(121))/4)+parseInt(n(113))/5+-parseInt(n(126))/6+-parseInt(n(134))/7+-parseInt(n(119))/8+parseInt(n(140))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const P=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function z(){const t=["constructor","counter","apply","input","init","111432PeIpYr","3765769xyFreh","chain","length","table","stateObject","string","6589818GwCvps","call","gger","error","while (true) {}",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"57162TnxiVb","2FgUJuA","test","2830000AJrHmF","warn","console","return (function() ","function *\\( *\\)","debu","3162864JPRySg","toString","28UUxfYH","exception","action","trace",'{}.constructor("return this")( )',"1699404Qjjvls","bind"];return(z=function(){return t})()}!function(){P(this,(function(){const t=I,e=new RegExp(t(117)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=M(t(132));e[t(112)](i+t(135))&&n.test(i+t(131))?M():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(t,e){const n=z();return(I=function(t,e){return n[t-=109]})(t,e)}b(void 0,(function(){const t=I;let e;try{e=Function(t(116)+t(125)+");")()}catch(r){e=window}const n=e[t(115)]=e[t(115)]||{},i=["log",t(114),"info",t(143),t(122),t(137),t(124)];for(let a=0;a<i[t(136)];a++){const e=b[t(128)].prototype.bind(b),r=i[a],o=n[r]||e;e.__proto__=b[t(127)](b),e[t(120)]=o[t(120)][t(127)](o),n[r]=e}}))();const E=_(109);function M(t){function e(t){const n=I;if(typeof t===n(139))return function(t){}[n(128)](n(144))[n(130)](n(129));1!==(""+t/t)[n(136)]||t%20==0?function(){return!0}[n(128)](n(118)+n(142))[n(141)](n(123)):function(){return!1}[n(128)](n(118)+n(142))[n(130)](n(138)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=V;!function(t,e){const n=V,i=D();for(;;)try{if(603479===parseInt(n(461))/1*(parseInt(n(437))/2)+parseInt(n(463))/3+-parseInt(n(434))/4+parseInt(n(458))/5*(-parseInt(n(450))/6)+parseInt(n(441))/7+-parseInt(n(430))/8*(-parseInt(n(465))/9)+-parseInt(n(457))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(433)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){L(this,(function(){const t=V,e=new RegExp(t(440)),n=new RegExp(t(443),"i"),i=T(t(462));e[t(432)](i+t(469))&&n[t(432)](i+t(460))?T():i("0")}))()}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(433)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function D(){const t=["clone","while (true) {}","chain","uniforms","table","exception","log","trace","16asQKem","gger","test","apply","1956088YxeXOr","constructor","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","33168fWsgdo","toString","info","function *\\( *\\)","4463235TGhhEW","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","call","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t",'{}.constructor("return this")( )',"error","debu","6tKcHGu","warn","defines","string","length","bind","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","7525770jwyfev","542315PhySQk","console","input","19ixeVjK","init","2912442IEuIzu","__proto__","135117cwBmFT","prototype"];return(D=function(){return t})()}function O(t){const e=V,n=a({},t);return e(452)in t&&(n[e(452)]=a({},t.defines)),e(470)in t&&(n[e(470)]=s[e(467)](t[e(470)])),n}U(void 0,(function(){const t=V,e=function(){const t=V;let e;try{e=Function("return (function() "+t(447)+");")()}catch(n){e=window}return e}(),n=e[t(459)]=e[t(459)]||{},i=[t(473),t(451),t(439),t(448),t(472),t(471),t(474)];for(let r=0;r<i.length;r++){const e=U.constructor[t(466)][t(455)](U),a=i[r],o=n[a]||e;e[t(464)]=U[t(455)](U),e[t(438)]=o[t(438)].bind(o),n[a]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:A(436),fragmentShader:A(446)+E+A(456)};function V(t,e){const n=D();return(V=function(t,e){return n[t-=430]})(t,e)}function T(t){function e(t){const n=V;if(typeof t===n(453))return function(t){}[n(435)](n(468)).apply(n(442));1!==(""+t/t)[n(454)]||t%20==0?function(){return!0}[n(435)](n(449)+n(431))[n(445)](n(444)):function(){return!1}[n(435)](n(449)+"gger")[n(433)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function k(t,e){const n=F();return(k=function(t,e){return n[t-=181]})(t,e)}!function(t,e){const n=k,i=F();for(;;)try{if(624232===parseInt(n(203))/1*(-parseInt(n(231))/2)+-parseInt(n(246))/3*(parseInt(n(227))/4)+parseInt(n(234))/5*(-parseInt(n(228))/6)+parseInt(n(212))/7*(parseInt(n(232))/8)+parseInt(n(237))/9*(parseInt(n(210))/10)+parseInt(n(187))/11+-parseInt(n(241))/12*(-parseInt(n(238))/13))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(226)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=k,e=new RegExp(t(253)),n=new RegExp(t(220),"i"),i=N(t(189));e[t(185)](i+t(249))&&n[t(185)](i+t(260))?N():i("0")}))()}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function F(){const t=["trace","function *\\( *\\)","height","setViewOffset","setClearAlpha","gger","camera","map","input","toString","floorPowerOfTwo","image","type","test","constructor","6268702WYrFgd","material","init","getClearAlpha","uniforms","debu","info","stateObject","floor","magFilter","action","setSize","getClearColor","Y_IS_EVEN","fragmentShader",'{}.constructor("return this")( )',"3659reBJrJ","texture","defines","forEach","call","exception","length","375770NrukCO","parentMapSize","1225NYWULF","_swapTarget","__proto__","return (function() ","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","_mipQuad","autoClear","clear","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","minFilter","_copyQuad","tDiffuse","dispose","originalMapSize","apply","676qLnKiz","24jbAGrY","_mipMaterials","bind","404PxVEZe","16800xRCEHc","warn","1365215AweEhk","while (true) {}","render","9BqqGFM","34938293QZObWN","prototype","error","12LRFfeB","getRenderTarget","parentLevel","string","replace","21426zvOkPA","copy","setRenderTarget","chain","X_IS_EVEN","value"];return(F=function(){return t})()}C(void 0,(function(){const t=k,e=function(){const t=k;let e;try{e=Function(t(215)+t(202)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},i=["log",t(233),t(193),t(240),t(208),"table",t(252)];for(let r=0;r<i[t(209)];r++){const e=C[t(186)][t(239)][t(230)](C),a=i[r],o=n[a]||e;e[t(214)]=C[t(230)](C),e.toString=o[t(181)][t(230)](o),n[a]=e}}))();const H=new l;class W{constructor(t){const e=k;!t&&(t=e(216));const n=O(j);n[e(201)]=n[e(201)][e(245)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(O(n)),i[0][e(205)][e(250)]=0,i[0][e(205)][e(200)]=0,i[1]=new c(O(n)),i[1][e(205)].X_IS_EVEN=1,i[1][e(205)].Y_IS_EVEN=0,i[2]=new c(O(n)),i[2].defines[e(250)]=0,i[2][e(205)][e(200)]=1,i[3]=new c(O(n)),i[3][e(205)].X_IS_EVEN=1,i[3].defines[e(200)]=1;const r=new u;r[e(204)][e(221)]=p,r[e(204)][e(196)]=p,this[e(213)]=r,this[e(222)]=new y(new c(d)),this[e(217)]=new y(null),this[e(229)]=i}update(t,e,n,i=!1){const r=k;t.isWebGLRenderTarget&&(t=t.texture);const o=n[r(218)],s=n[r(190)](),l=n[r(242)]();n[r(199)](H);const c=this[r(222)],u=this[r(217)],p=this[r(213)],x=this[r(229)];let v,m;i?(v=f.floorPowerOfTwo(t.image.width),m=f[r(182)](t[r(183)][r(254)])):(v=Math[r(195)](t.image.width),m=Math[r(195)](t[r(183)].height));const h=Math.floor(1.5*v),w=Math[r(195)](m);e.setSize(h,w),p[r(204)][r(184)]!==e[r(204)][r(184)]?(p[r(224)](),p[r(247)](e),p[r(204)][r(183)]=a({},p[r(204)][r(183)])):p[r(198)](h,w),n[r(218)]=!1,n.setClearColor(0),n[r(256)](),c[r(188)][r(191)][r(223)][r(251)]=t,c[r(258)][r(255)](v,m,0,0,h,w),n[r(248)](e),n[r(219)](),c[r(236)](n),n.setRenderTarget(p),n[r(219)](),c.render(n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t[r(191)][r(259)][r(251)]=p[r(204)],t[r(191)][r(243)].value=d,t.uniforms[r(211)].value.set(g,y),t.uniforms[r(225)][r(251)].set(v,m),u[r(188)]=t,g=Math[r(195)](g/2),y=Math[r(195)](y/2);const i=w-2*y;n[r(248)](e),u.camera[r(255)](g,y,-v,-i,h,w),u[r(236)](n),n[r(248)](p),t[r(191)][r(259)].value=e[r(204)],u[r(236)](n),d++}return n[r(248)](l),n[r(256)](s),n.setClearColor(H),n[r(218)]=o,d+1}dispose(){const t=k;this[t(213)][t(224)](),this[t(217)][t(224)](),this[t(222)].dispose(),this[t(229)][t(206)]((e=>e[t(224)]()))}}function N(t){function e(t){const n=k;if(typeof t===n(244))return function(t){}.constructor(n(235)).apply("counter");1!==(""+t/t)[n(209)]||t%20==0?function(){return!0}.constructor("debu"+n(257))[n(207)](n(197)):function(){return!1}.constructor(n(192)+n(257))[n(226)](n(194)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=X;!function(t,e){const n=X,i=$();for(;;)try{if(850052===parseInt(n(489))/1+parseInt(n(480))/2+parseInt(n(505))/3+parseInt(n(521))/4+-parseInt(n(526))/5*(-parseInt(n(496))/6)+parseInt(n(543))/7*(-parseInt(n(539))/8)+-parseInt(n(485))/9*(parseInt(n(534))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(531)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Z(this,(function(){const t=X,e=new RegExp(t(481)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=J(t(512));e[t(502)](i+"chain")&&n[t(502)](i+t(538))?J():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(531)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function X(t,e){const n=$();return(X=function(t,e){return n[t-=479]})(t,e)}G(void 0,(function(){const t=X,e=function(){const t=X;let e;try{e=Function(t(547)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e.console=e[t(507)]||{},i=["log",t(549),t(492),t(540),t(509),"table",t(555)];for(let r=0;r<i[t(503)];r++){const e=G[t(535)][t(514)][t(515)](G),a=i[r],o=n[a]||e;e[t(546)]=G.bind(G),e.toString=o.toString[t(515)](o),n[a]=e}}))();const Q=S({__name:Y(551),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,i=t,r=new(x[n(494)]),a=new(x[n(524)]),o=new(x[n(522)]),s=new W,l=g({width:i.resolution,height:i[n(541)],settings:{type:v}}),c=g({width:i[n(541)],height:i[n(541)],settings:{type:v}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:y}=w();return y((()=>{const t=n;(()=>{const t=n;if(!u.value)return;r.set(new(x[t(544)])(0,1,0),0),r.applyMatrix4(i[t(506)][t(482)]),o.copy(u.value);const e=new(x[t(544)])(0,0,1)[t(528)]()[t(548)](),s=u[t(491)][t(510)](new(x[t(544)]));e[t(479)](r.normal);const c=new(x[t(544)]);r[t(527)](s,c);const v=c.clone();v[t(511)](s),v[t(552)](c),o[t(519)][t(517)](v);const h=new(x[t(544)])(0,0,-1);h[t(518)](u[t(491)][t(483)](new(x[t(550)]))),h[t(552)](s);const w=new m;i[t(506)][t(510)](w),w[t(511)](h),w[t(479)](r.normal).negate(),w[t(552)](i[t(506)][t(510)](new(x[t(544)]))),o.up.set(0,1,0),o[t(518)](u[t(491)][t(483)](new(x[t(550)]))),o.up[t(479)](r[t(536)]),o[t(504)](w),o[t(523)]();const g=new(x[t(524)]);g[t(488)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g.multiply(o[t(516)]),g.multiply(o[t(484)]),a[t(517)](g),r[t(508)](o[t(484)]);const y=new(x[t(498)])(r.normal.x,r.normal.y,r[t(536)].z,r[t(497)]),d=o[t(516)],S=new(x[t(498)]);S.x=(Math[t(545)](y.x)+d[t(530)][8])/d[t(530)][0],S.y=(Math[t(545)](y.y)+d[t(530)][9])/d[t(530)][5],S.z=-1,S.w=(1+d.elements[10])/d[t(530)][14],y[t(532)](2/y[t(554)](S)),d[t(530)][2]=y.x,d.elements[6]=y.y,d[t(530)][10]=y.z+1,d[t(530)][14]=y.w;const _=p[t(491)][t(495)]();p[t(491)][t(493)](l[t(491)]),p[t(491)].state[t(520)].depth[t(553)](!0),!1===p.value.autoClear&&p[t(491)].clear(),i[t(487)].forEach((e=>e[t(490)]=!1)),p[t(491)][t(513)](f[t(491)],o),i.ignoreObjects[t(486)]((e=>e[t(490)]=!0)),p[t(491)][t(493)](_)})(),l[t(491)]&&c[t(491)]&&p[t(491)]&&s.update(l[t(491)][t(537)],c[t(491)],p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function $(){const t=["6kGfIxB","constant","Vector4","while (true) {}","action","gger","test","length","lookAt","4776657GrqqsK","parent","console","applyMatrix4","exception","getWorldPosition","sub","init","render","prototype","bind","projectionMatrix","copy","applyQuaternion","position","buffers","5127380QxzdXI","PerspectiveCamera","updateMatrixWorld","Matrix4","string","6147465udYmZd","projectPoint","clone","debu","elements","apply","multiplyScalar","stateObject","10ezgoBC","constructor","normal","texture","input","6084160vJeXmP","error","resolution","counter","7nknOpH","Vector3","sign","__proto__","return (function() ","negate","warn","Quaternion","reflectorMipMap","add","setMask","dot","trace","reflect","2635168eEakpl","function *\\( *\\)","matrixWorld","getWorldQuaternion","matrixWorldInverse","35439021YMeoTU","forEach","ignoreObjects","set","127100ITUiZo","visible","value","info","setRenderTarget","Plane","getRenderTarget"];return($=function(){return t})()}function J(t){function e(t){const n=X;if(typeof t===n(525))return function(t){}[n(535)](n(499)).apply(n(542));1!==(""+t/t)[n(503)]||t%20==0?function(){return!0}[n(535)](n(529)+n(501)).call(n(500)):function(){return!1}.constructor(n(529)+"gger")[n(531)](n(533)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function B(t,e){var n=q();return(B=function(t,e){return n[t-=128]})(t,e)}!function(t,e){for(var n=B,i=q();;)try{if(751901===-parseInt(n(140))/1*(-parseInt(n(160))/2)+parseInt(n(152))/3+parseInt(n(139))/4*(-parseInt(n(161))/5)+-parseInt(n(131))/6*(-parseInt(n(156))/7)+parseInt(n(158))/8+-parseInt(n(128))/9+-parseInt(n(132))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[B(145)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function q(){var t=["console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","function *\\( *\\)","apply","action","bind","chain","debu","toString","init","692379gSVefm","string","call","error","1797621BtQuJq","gger","7468016JSAfxL","info","2PyvPkP","2275430HMZYKE","trace","table","7626627eBOnGv","prototype","length","30HWIhwe","1686330UCMtSn","__proto__","constructor","log",'{}.constructor("return this")( )',"counter","while (true) {}","8HEOAuX","229799vJJKkS"];return(q=function(){return t})()}!function(){K(this,(function(){var t=B,e=new RegExp(t(144)),n=new RegExp(t(142),"i"),i=et(t(151));e.test(i+t(148))&&n.test(i+"input")?et():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[B(145)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(t){function e(t){var n=B;if(typeof t===n(153))return function(t){}[n(134)](n(138))[n(145)](n(137));1!==(""+t/t)[n(130)]||t%20==0?function(){return!0}.constructor(n(149)+n(157))[n(154)](n(146)):function(){return!1}[n(134)](n(149)+n(157))[n(145)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=B,e=function(){var t,e=B;try{t=Function("return (function() "+e(136)+");")()}catch(n){t=window}return t}(),n=e[t(141)]=e.console||{},i=[t(135),"warn",t(159),t(155),t(143),t(163),t(162)],r=0;r<i.length;r++){var a=tt[t(134)][t(129)][t(147)](tt),o=i[r],s=n[o]||a;a[t(133)]=tt[t(147)](tt),a[t(150)]=s[t(150)][t(147)](s),n[o]=a}}))();export{Q as _};
