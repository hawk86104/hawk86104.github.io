{"version":3,"file":"planeClipping.BKRx_2qT1767105581793.js","sources":["../../src/plugins/industry4/components/planeClipping.vue","../../src/plugins/industry4/pages/planeClipping.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-01-18 12:03:51\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-29 10:03:06\n-->\n\n<template>\n\t<primitive :object=\"toRaw(nodes.Sketchfab_model)\" />\n\t<cloudPoints isRemoveSrc :model=\"toRaw(cubeCSBlack)\" color=\"#fff\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { toRaw } from 'vue'\nimport { useTres } from '@tresjs/core'\nimport { useGLTF } from 'PLS/basic'\nimport { Plane, Vector3 } from 'three'\nimport cloudPoints from 'PLS/medical/components/cloudPoints.vue'\nimport { Pane } from 'tweakpane'\n\n\nconst { renderer } = useTres()\nrenderer.localClippingEnabled = true\n\nconst { nodes } = await useGLTF(\n\t`${process.env.NODE_ENV === 'development' ? 'resource.cos' : 'https://opensource.cdn.icegl.cn'}/model/industry4/plane/scene.gltf`)\n\n//移除地板\nconst floor = nodes.Sketchfab_model.getObjectByName('Floor')\nfloor.removeFromParent()\n//增加阴影产生\nconst cubeAvion = nodes.Sketchfab_model.getObjectByName('Cube006_Avion_0')\ncubeAvion.castShadow = true\n\n//新建三个切面\nconst clipPlanes = [\n\tnew Plane(new Vector3(1, 0, 0), 0),\n\tnew Plane(new Vector3(0, 0, - 1), 0)\n]\n\ncubeAvion.material.clipIntersection = true\ncubeAvion.material.clippingPlanes = clipPlanes\nconst cubeMoteur = nodes.Sketchfab_model.getObjectByName('Cube006_M_Moteur_0')\ncubeMoteur.material.clipIntersection = true\ncubeMoteur.material.clippingPlanes = clipPlanes\n\n//CS_Black_0 更改为点云\nconst cubeCSBlack = nodes.Sketchfab_model.getObjectByName('CS_Black_0')\nconst paneControl = new Pane({\n\ttitle: '裁剪参数',\n\texpanded: true,\n})\npaneControl.addBinding(clipPlanes[0], 'constant', {\n\tlabel: 'x',\n\tmin: -200,\n\tmax: 200,\n\tstep: 1,\n})\npaneControl.addBinding(clipPlanes[1], 'constant', {\n\tlabel: 'y',\n\tmin: -200,\n\tmax: 250,\n\tstep: 1,\n})\n</script>","<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2023-11-18 08:51:19\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-29 10:01:31\n-->\n<template>\n\t<loading />\n\t<TresCanvas clearColor=\"#333\" shadows window-size>\n\t\t<TresPerspectiveCamera :position=\"[500, 330, 500]\" :fov=\"50\" :near=\"0.1\" :far=\"10000\" />\n\t\t<OrbitControls />\n\t\t<TresAmbientLight color=\"#ffffff\" :intensity=\"1\" />\n\t\t<TresDirectionalLight ref=\"TDirectionalLight\" color=\"#ffffff\" :position=\"[300, 300, 350]\" :intensity=\"6\"\n\t\t\tcast-shadow />\n\t\t<Suspense>\n\t\t\t<planeClipping />\n\t\t</Suspense>\n\t\t<reflectorMesh v-bind=\"configState\" />\n\t</TresCanvas>\n</template>\n\n\n<script setup lang=\"ts\">\nimport { shallowRef, watchEffect, reactive } from 'vue'\n\nimport { OrbitControls } from '@tresjs/cientos'\nimport reflectorMesh from 'PLS/floor/components/reflectorMesh.vue'\nimport { randomLoading as loading } from 'PLS/UIdemo'\nimport planeClipping from '../components/planeClipping.vue'\n\nconst configState = reactive({\n\tmirrorSize: 900,\n\tgridSize: 880,\n\tmirrorColor: '#efefef',\n\tdivisions: 10,\t\t\t\t\t\t\t\t//网格密度\t\t\t\t\t\t\t 初始化时设置\n\tcolorCenterLine: \"#444444\",\t\t//网格颜色 中心的XZ轴\t\t  初始化时设置\n\tcolorGrid: \"#888888\"\t\t\t\t\t//网格颜色\t\t\t\t\t\t\t 初始化时设置\n})\n\nconst TDirectionalLight = shallowRef()\nwatchEffect(() => {\n\tif (TDirectionalLight.value) {\n\t\tTDirectionalLight.value.shadow.mapSize.set(1000, 1000)\n\t\tTDirectionalLight.value.shadow.camera.near = 0.1\n\t\tTDirectionalLight.value.shadow.camera.far = 5000\n\t\tTDirectionalLight.value.shadow.camera.top = 200\n\t\tTDirectionalLight.value.shadow.camera.right = 200\n\t\tTDirectionalLight.value.shadow.camera.left = -200\n\t\tTDirectionalLight.value.shadow.camera.bottom = -200\n\t\tTDirectionalLight.value.shadow.radius = 10\n\t}\n})\n\n</script>\n"],"names":["useTres","_createElementVNode","_unref","_createVNode","cloudPoints","loading","OrbitControls","planeClipping","reflectorMesh"],"mappings":"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"}