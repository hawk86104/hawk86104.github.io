import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.pA0fT6uQ1736128832096.js";import{_ as s}from"./index.UQ_FlmCs1736128832096.js";import{_ as i,k as c,s as u,cw as a}from"./three.8H01GNxA1736128832096.js";import{P as l}from"./tweakpane.yHWGBmom1736128832096.js";import{c as p,d as f,a as m,I as g,C as h,N as d}from"./three-mesh-bvh.glnR9Dt01736128832096.js";import{d as y,a4 as w,b as j,a1 as b,o as v,D as I,J as _,u as x,F as M,r as A,e as T,j as k,g as R,m as C,f as D,al as Z}from"./@vue.yG49nQHr1736128832096.js";import"./@vueuse.iB8cUOAP1736128832096.js";import"./index.rLT1xRPf1736128832096.js";import"./@fesjs.egESxg6m1736128832096.js";import"./vue-router.9xKClDNR1736128832096.js";import"./lodash-es.kYt-_xTG1736128832096.js";import"./@qlin.yHhFDldE1736128832096.js";import"./pinia.fYculRKX1736128832096.js";import"./vue-demi.C4xddsk91736128832096.js";import"./@floating-ui.BPbuo5Gx1736128832096.js";import"./@juggle.7yjBMqoW1736128832096.js";import"./chalk.sAH7iSuz1736128832096.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1736128832096.js";import"./@iconify.3mYF4lU71736128832096.js";import"./dompurify.rQUea5mq1736128832096.js";import"./utils.PtBz7AgB1736128832096.js";import"./default.vue_vue_type_script_setup_true_lang.89QWhbXb1736128832096.js";import"./three-mesh-ui.module.AWsAUAkP1736128832096.js";!function(t,n){const e=F,r=z();for(;;)try{if(858530===-parseInt(e(142))/1*(parseInt(e(170))/2)+parseInt(e(169))/3*(-parseInt(e(157))/4)+-parseInt(e(148))/5*(-parseInt(e(166))/6)+parseInt(e(173))/7+parseInt(e(135))/8+parseInt(e(132))/9*(parseInt(e(176))/10)+-parseInt(e(172))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(140)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(t,n){const e=z();return(F=function(t,n){return e[t-=130]})(t,n)}!function(){E(this,(function(){const t=F,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(151),"i"),r=Y("init");n[t(161)](r+"chain")&&e[t(161)](r+t(156))?Y():r("0")}))()}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(140)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function z(){const t=["105068NpwEQi","pointermove","touch","constructor","test","prototype","addEventListener","gger","clientY","702PXbsRq","pointerup","toString","21XFDCen","52254Xlkama","setFromCamera","20610667MQgRDi","10973284SxHPju","button","clientX","4822330nEXIcZ","while (true) {}","console","debu","warn","length","18qCLFVB","action","pointerdown","7624560QvDVzm","call","info","table","bind","apply","value","25JAtMjy","counter","pointerType","enabled","firstHitOnly","innerWidth","3595DwefRI","return (function() ","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","innerHeight","Raycaster","log",'{}.constructor("return this")( )',"input"];return(z=function(){return t})()}S(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(149)+t(155)+");")()}catch(e){n=window}return n}(),e=n[t(178)]=n.console||{},r=[t(154),t(130),t(137),"error","exception",t(138),"trace"];for(let o=0;o<r[t(131)];o++){const n=S.constructor[t(162)][t(139)](S),s=r[o],i=e[s]||n;n.__proto__=S.bind(S),n[t(168)]=i[t(168)][t(139)](i),e[s]=n}}))();function Y(t){function n(t){const e=F;if("string"==typeof t)return function(t){}.constructor(e(177))[e(140)](e(143));1!==(""+t/t).length||t%20==0?function(){return!0}[e(160)]("debu"+e(164))[e(136)](e(133)):function(){return!1}[e(160)](e(179)+e(164))[e(140)](e(150)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const B=J;!function(t,n){const e=J,r=L();for(;;)try{if(901285===-parseInt(e(397))/1*(-parseInt(e(390))/2)+-parseInt(e(361))/3*(-parseInt(e(385))/4)+parseInt(e(399))/5*(parseInt(e(380))/6)+parseInt(e(378))/7*(parseInt(e(375))/8)+-parseInt(e(357))/9+-parseInt(e(391))/10+-parseInt(e(319))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(353),"i"),r=q(t(326));n.test(r+"chain")&&e[t(328)](r+t(381))?q():r("0")}))()}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(347)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();P(void 0,(function(){const t=J;let n;try{n=Function("return (function() "+t(345)+");")()}catch(o){n=window}const e=n[t(398)]=n[t(398)]||{},r=[t(394),"warn",t(331),t(403),t(334),t(349),t(355)];for(let s=0;s<r[t(348)];s++){const n=P[t(373)][t(388)][t(344)](P),o=r[s],i=e[o]||n;n.__proto__=P[t(344)](P),n[t(356)]=i[t(356)][t(344)](i),e[o]=n}}))();const X=[B(374),B(372)],H=[B(374)];function J(t,n){const e=L();return(J=function(t,n){return e[t-=318]})(t,n)}function L(){const t=['{}.constructor("return this")( )',"targetMesh.value init","apply","length","table","computeBoundsTree","value","fill","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","BufferGeometry","trace","toString","10191069nemMPL","invert","getZ","debu","332502siyJJc","intersectObject","push","click","set","count","Matrix4","raycast","boundsTree","enabled","setAttribute","material","constructor","geometry","8862880JZofkS","while (true) {}","controls","7ciaYFS","action","12JAlHfk","input","TresMesh","setX","setY","40vTMEiM","TresMeshStandardMaterial","instance","prototype","model","53722IKcJDf","17667580oMWMcJ","Sphere","color","log","position","active","47HMbZEH","console","4156645DcKefF","visible","attributes","gger","error","string","TresSphereGeometry","14750351kLAPnj","Vector3","radius","firstHitOnly","stateObject","setZ","scale","init","MeshStandardMaterial","test","disposeBoundsTree","intersectsSphere","info","DynamicDrawUsage","点击按钮","exception","getX","getY","#023249","brushMesh","normal","BufferAttribute","shapecast","copy","生成模型","bind"];return(L=function(){return t})()}const $=y({__name:B(389),props:{controls:{}},async setup(r){const o=B;let s,y;const A=r;(()=>{const t=J;i[t(354)][t(388)][t(350)]=p,i[t(354)][t(388)][t(329)]=f,u.prototype[t(368)]=m})();const T=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),k=new(i[o(327)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),R=new Uint8Array(3*T[o(401)].position[o(366)]);R[o(352)](255);const C=new(i[o(340)])(R,3,!0);C.setUsage(i[o(332)]),T.setAttribute(o(393),C);const D=j(null),Z=j(null),E=j(!1),S=j(-1),z=j(.2),Y=new c,{camera:O,raycaster:P}=t(),L=15/255,$=78/255,q=85/255;let Q=null;b((()=>{const t=o;D[t(351)]&&(console.log(t(346),D[t(351)]),D[t(351)][t(374)].computeBoundsTree(),Q=T[t(369)],((t,n,e,r,o,s)=>{const c=F;window[c(163)](c(158),(e=>{const r=c;t.x=e[r(175)]/window[r(147)]*2-1,t.y=-e.clientY/window[r(152)]*2+1,n[r(141)]=!0})),window[c(163)](c(134),(u=>{const a=c;t.x=u[a(175)]/window.innerWidth*2-1,t.y=-u[a(165)]/window[a(152)]*2+1,r.value=u[a(174)];const l=new(i[a(153)]);l[a(171)](t,e[a(141)]),l[a(146)]=!0;const p=l.intersectObject(o.value,!0);n[a(141)]=!0,s[a(145)]=0===p[a(131)]}),!0),window.addEventListener(c(167),(t=>{const e=c;r[e(141)]=-1,t[e(144)]===e(159)&&(n[e(141)]=!1)}),!0)})(Y,E,O,S,D,A[t(377)][t(387)]))}));const{onLoop:U}=n();U((()=>{const t=o,n=T.index;if(Z.value)if(A.controls[t(387)][t(396)]||!E[t(351)])Z[t(351)][t(400)]=!1;else{Z.value[t(325)].setScalar(z[t(351)]),P[t(351)].setFromCamera(Y,O[t(351)]),P[t(351)][t(322)]=!0;const e=P[t(351)][t(362)](D.value,!0);if(e.length){Z[t(351)].position[t(342)](e[0].point),A[t(377)][t(387)][t(370)]=!1,Z[t(351)][t(400)]=!0;const r=new(i[t(367)]);r[t(342)](D.value.matrixWorld)[t(358)]();const o=new(i[t(392)]);o.center.copy(Z.value[t(395)]).applyMatrix4(r),o[t(321)]=100*z.value;const s=[],c=new(i[t(320)]);if(null==Q||Q[t(341)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(365)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return g;return h}return r?g:d},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(330)](o)){const t=3*e;s[i(363)](t,t+1,t+2)}return!1}}),0===S[t(351)]||2===S.value){let e=1,r=1,o=1;0===S[t(351)]&&(e=L,r=$,o=q);for(let i=0,c=s[t(348)];i<c;i++){const c=n[t(335)](s[i]);C[t(383)](c,e),C[t(384)](c,r),C[t(324)](c,o)}C.needsUpdate=!0}}else Z[t(351)][t(400)]=!1,A[t(377)][t(387)][t(370)]=!0}}));const V=(new l).addButton({title:o(333),label:o(343)}),W=new(i[o(354)]);return V.on(o(364),(()=>{const t=o,n=[],e=[];for(let o=0;o<C[t(366)];o++)C.getX(o)===L&&C[t(336)](o)===$&&C.getZ(o)===q&&(n[t(363)](T[t(401)].position.getX(o),T[t(401)].position[t(336)](o),T[t(401)][t(395)].getZ(o)),e[t(363)](T[t(401)][t(339)][t(335)](o),T[t(401)][t(339)].getY(o),T[t(401)][t(339)][t(359)](o)));const r=new Float32Array(n);W.setAttribute(t(395),new(i[t(340)])(r,3)),W[t(371)](t(339),new(i[t(340)])(r,3))})),(t,n)=>{const e=o;return v(),I(M,null,[_(e(382),{ref_key:"targetMesh",ref:D,geometry:x(T),scale:.005,material:x(k)},null,8,X),_(e(382),{ref_key:e(338),ref:Z,visible:!1},n[0]||(n[0]=[_(e(318),{args:[1,40,40]},null,-1),_(e(386),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),_(e(382),{geometry:x(W),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[_("TresMeshStandardMaterial",{color:e(337),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,H)],64)}}});function q(t){function n(t){const e=J;if(typeof t===e(404))return function(t){}[e(373)](e(376))[e(347)]("counter");1!==(""+t/t)[e(348)]||t%20==0?function(){return!0}[e(373)](e(360)+e(402)).call(e(379)):function(){return!1}.constructor(e(360)+e(402)).apply(e(323)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=W;!function(t,n){const e=W,r=N();for(;;)try{if(803889===parseInt(e(195))/1*(parseInt(e(227))/2)+parseInt(e(212))/3*(parseInt(e(189))/4)+-parseInt(e(185))/5+-parseInt(e(191))/6*(parseInt(e(183))/7)+-parseInt(e(218))/8+parseInt(e(230))/9*(parseInt(e(224))/10)+parseInt(e(211))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(228)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=W,n=new RegExp(t(194)),e=new RegExp(t(206),"i"),r=K("init");n[t(200)](r+t(203))&&e.test(r+"input")?K():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=N();return(W=function(t,n){return e[t-=183]})(t,n)}function N(){const t=["67444BCODxv",'{}.constructor("return this")( )',"156XHcZqP","return (function() ","neg-y.jpg","function *\\( *\\)","637234dxCrse","pos-x.jpg","#999999","constructor","prototype","test","__proto__","gger","chain","length","pos-z.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","string","value","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","11073469DZxwYd","111RjFDCi","neg-z.jpg","TresAmbientLight","controls","stateObject","toString","8883048fuQrYO","table","debu","bind","controlsRef","console","10020VnwtTi","pos-y.jpg","exception","4hYFEDP","apply","error","99YEnmmY","neg-x.jpg","16114sgHaMe","info","4709520NRPRhF","counter","action","collectTriangles"];return(N=function(){return t})()}V(void 0,(function(){const t=W;let n;try{n=Function(t(192)+t(190)+");")()}catch(o){n=window}const e=n[t(223)]=n.console||{},r=["log","warn",t(184),t(229),t(226),t(219),t(207)];for(let s=0;s<r.length;s++){const n=V.constructor[t(199)][t(221)](V),o=r[s],i=e[o]||n;n[t(201)]=V[t(221)](V),n.toString=i[t(217)][t(221)](i),e[o]=n}}))();const G=y({__name:Q(188),setup(t){const n=Q,e=A({clearColor:n(197),antialias:!0}),i=A({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=T("TresCanvas");return v(),I(M,null,[k(x(s)),k(l,C(e,{"window-size":""}),{default:R((()=>[u[0]||(u[0]=_("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),k(x(r),C({ref_key:a(222),ref:c},i),null,16),u[1]||(u[1]=_(a(214),{intensity:1},null,-1)),(v(),D(Z,null,{default:R((()=>[k($,{controls:c[a(209)]},null,8,[a(215)])])),_:1})),(v(),D(Z,null,{default:R((()=>[k(x(o),{background:!1,files:[a(196),a(231),a(225),a(193),a(205),a(213)],path:a(210)})])),_:1}))])),_:1},16)],64)}}});function K(t){function n(t){const e=W;if(typeof t===e(208))return function(t){}.constructor("while (true) {}")[e(228)](e(186));1!==(""+t/t)[e(204)]||t%20==0?function(){return!0}[e(198)](e(220)+"gger").call(e(187)):function(){return!1}[e(198)]("debu"+e(202))[e(228)](e(216)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{G as default};
