var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.MURMqYtt1731552996711.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.imZCinTf1731552996711.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.tj7KqDYp1731552996711.js";import{k as o,U as s,C as l,m as c,W as p,bc as u,h as f,_ as x,A as v,V as m,Q as w,as as h}from"./three.KG0QRRig1731552996711.js";import{m as g,e as d}from"./@tresjs.01P8tiuF1731552996711.js";import{u as y}from"./index.oeIsV-zY1731552996711.js";import{F as S,C as _}from"./three-stdlib.8zsNN-Kc1731552996711.js";import{d as P}from"./@vue.-THQH3GC1731552996711.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.56_UCV-N1731552996711.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.FpT7kM1i1731552996711.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.jsXsTtdN1731552996711.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.Cq8B4Zam1731552996711.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.aIh8BHjc1731552996711.js";const z=M;!function(t,e){const n=M,i=E();for(;;)try{if(523422===-parseInt(n(150))/1+-parseInt(n(178))/2*(-parseInt(n(176))/3)+parseInt(n(152))/4*(-parseInt(n(187))/5)+parseInt(n(159))/6*(parseInt(n(167))/7)+-parseInt(n(165))/8*(parseInt(n(157))/9)+parseInt(n(148))/10*(parseInt(n(186))/11)+parseInt(n(156))/12)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[M(164)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){b(this,(function(){const t=M,e=new RegExp(t(170)),n=new RegExp(t(161),"i"),i=D(t(181));e[t(166)](i+t(162))&&n.test(i+t(171))?D():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[M(164)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function M(t,e){const n=E();return(M=function(t,e){return n[t-=146]})(t,e)}I(void 0,(function(){const t=M;let e;try{e=Function(t(183)+t(155)+");")()}catch(r){e=window}const n=e[t(177)]=e[t(177)]||{},i=[t(146),"warn",t(173),t(174),t(172),t(185),t(180)];for(let a=0;a<i[t(147)];a++){const e=I[t(158)][t(179)][t(151)](I),r=i[a],o=n[r]||e;e.__proto__=I.bind(I),e[t(182)]=o[t(182)].bind(o),n[r]=e}}))();const A=z(184);function E(){const t=["50AzmbeK","prototype","trace","init","toString","return (function() ",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"table","44eYRTDH","2934210VmAyIm","log","length","437030NodUpA","counter","373976BbAYlG","bind","4RcCCsr","string","while (true) {}",'{}.constructor("return this")( )',"13758816mmpBiy","1080963WAtyIa","constructor","349764JYSMnK","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","call","apply","40kADGBj","test","35EOxaOS","stateObject","gger","function *\\( *\\)","input","exception","info","error","action","56631eicqHa","console"];return(E=function(){return t})()}function D(t){function e(t){const n=M;if(typeof t===n(153))return function(t){}[n(158)](n(154))[n(164)](n(149));1!==(""+t/t)[n(147)]||t%20==0?function(){return!0}[n(158)](n(160)+n(169))[n(163)](n(175)):function(){return!1}[n(158)](n(160)+n(169)).apply(n(168)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=V;!function(t,e){const n=V,i=T();for(;;)try{if(843947===-parseInt(n(284))/1+-parseInt(n(297))/2+-parseInt(n(301))/3*(parseInt(n(294))/4)+parseInt(n(293))/5+parseInt(n(305))/6+parseInt(n(307))/7+-parseInt(n(287))/8)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(299)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function T(){const t=["length","toString","trace","2882196rADaNe","debu","8610560gOUtkj","gger","__proto__","return (function() ","call","init","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","while (true) {}","test","defines","stateObject","console","action","177920GOKCDI","chain","bind","8055248BTUYWE","constructor","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniforms","exception","5887810fwmTSG","3044960mcyNWB","counter","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","195990IltYwk","info","apply","log","3YykswQ"];return(T=function(){return t})()}!function(){U(this,(function(){const t=V,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(290),"i"),i=k(t(312));e[t(315)](i+t(285))&&n.test(i+"input")?k():i("0")}))()}();const j=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(t){const e=V,n=a({},t);return e(316)in t&&(n[e(316)]=a({},t[e(316)])),"uniforms"in t&&(n[e(291)]=s.clone(t[e(291)])),n}function V(t,e){const n=T();return(V=function(t,e){return n[t-=282]})(t,e)}j(void 0,(function(){const t=V;let e;try{e=Function(t(310)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e[t(282)]||{},i=[t(300),t(289),t(298),"error",t(292),"table",t(304)];for(let a=0;a<i[t(302)];a++){const e=j[t(288)].prototype.bind(j),r=i[a],o=n[r]||e;e[t(309)]=j[t(286)](j),e.toString=o[t(303)].bind(o),n[r]=e}}))();const R={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:L(313),fragmentShader:L(296)+A+"\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t"};function k(t){function e(t){const n=V;if("string"==typeof t)return function(t){}[n(288)](n(314)).apply(n(295));1!==(""+t/t)[n(302)]||t%20==0?function(){return!0}[n(288)](n(306)+n(308))[n(311)](n(283)):function(){return!1}.constructor(n(306)+n(308)).apply(n(317)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const C=N;!function(t,e){const n=N,i=Y();for(;;)try{if(131784===-parseInt(n(368))/1*(parseInt(n(392))/2)+parseInt(n(361))/3*(-parseInt(n(402))/4)+parseInt(n(365))/5+-parseInt(n(376))/6+parseInt(n(428))/7+parseInt(n(381))/8*(-parseInt(n(406))/9)+parseInt(n(422))/10*(parseInt(n(375))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){W(this,(function(){const t=N,e=new RegExp(t(370)),n=new RegExp(t(357),"i"),i=Q(t(378));e[t(394)](i+"chain")&&n.test(i+"input")?Q():i("0")}))()}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(355)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(t,e){const n=Y();return(N=function(t,e){return n[t-=354]})(t,e)}function Y(){const t=["_mipMaterials","image","uniforms","debu","25510akPIrH","toString","test","fragmentShader","_swapTarget","trace","counter","exception","replace","setViewOffset","46836JqiIUM","bind","clear","info","18mmLJlp","parentMapSize","floor","camera","action","height","prototype","while (true) {}",'{}.constructor("return this")( )',"gger","setSize","call","defines","tDiffuse","table","set","10zKrwnh","length","floorPowerOfTwo","string","getClearAlpha","copy","947121dMePll","isWebGLRenderTarget","apply","map","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","update","texture","warn","36GuXoWk","_mipQuad","getRenderTarget","_copyQuad","999375qyhLBM","parentLevel","console","20zqbeWc","render","function *\\( *\\)","setClearAlpha","width","value","getClearColor","3939617VxvHdh","87114YZeXRd","dispose","init","minFilter","setRenderTarget","605656eARZvg","X_IS_EVEN","constructor","Y_IS_EVEN","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","type","autoClear"];return(Y=function(){return t})()}H(void 0,(function(){const t=N;let e;try{e=Function("return (function() "+t(414)+");")()}catch(r){e=window}const n=e[t(367)]=e[t(367)]||{},i=["log",t(360),t(405),"error",t(399),t(420),t(397)];for(let a=0;a<i[t(423)];a++){const e=H[t(383)][t(412)][t(403)](H),r=i[a],o=n[r]||e;e.__proto__=H.bind(H),e[t(393)]=o.toString.bind(o),n[r]=e}}))();const F=new l;class G{constructor(t){const e=N;!t&&(t=e(385));const n=O(R);n[e(395)]=n[e(395)][e(400)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(O(n)),i[0].defines[e(382)]=0,i[0][e(418)].Y_IS_EVEN=0,i[1]=new c(O(n)),i[1][e(418)][e(382)]=1,i[1].defines[e(384)]=0,i[2]=new c(O(n)),i[2][e(418)][e(382)]=0,i[2][e(418)][e(384)]=1,i[3]=new c(O(n)),i[3][e(418)][e(382)]=1,i[3][e(418)][e(384)]=1;const r=new p;r[e(359)][e(379)]=u,r.texture.magFilter=u,this._swapTarget=r,this._copyQuad=new S(new c(_)),this[e(362)]=new S(null),this[e(388)]=i}[C(358)](t,e,n,i=!1){const r=C;t[r(354)]&&(t=t.texture);const o=n[r(387)],s=n[r(426)](),l=n[r(363)]();n[r(374)](F);const c=this[r(364)],p=this[r(362)],u=this._swapTarget,x=this._mipMaterials;let v,m;i?(v=f[r(424)](t[r(389)][r(372)]),m=f[r(424)](t.image[r(411)])):(v=Math[r(408)](t[r(389)][r(372)]),m=Math.floor(t.image.height));const w=Math[r(408)](1.5*v),h=Math[r(408)](m);e[r(416)](w,h),u.texture[r(386)]!==e[r(359)].type?(u[r(377)](),u[r(427)](e),u.texture[r(389)]=a({},u[r(359)][r(389)])):u.setSize(w,h),n.autoClear=!1,n.setClearColor(0),n[r(371)](),c.material[r(390)][r(419)].value=t,c[r(409)][r(401)](v,m,0,0,w,h),n.setRenderTarget(e),n[r(404)](),c[r(369)](n),n[r(380)](u),n[r(404)](),c[r(369)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(390)][r(356)].value=u[r(359)],t.uniforms[r(366)][r(373)]=y,t[r(390)][r(407)][r(373)][r(421)](g,d),t.uniforms.originalMapSize[r(373)][r(421)](v,m),p.material=t,g=Math[r(408)](g/2),d=Math[r(408)](d/2);const i=h-2*d;n[r(380)](e),p.camera[r(401)](g,d,-v,-i,w,h),p[r(369)](n),n[r(380)](u),t[r(390)][r(356)][r(373)]=e[r(359)],p[r(369)](n),y++}return n[r(380)](l),n[r(371)](s),n.setClearColor(F),n[r(387)]=o,y+1}[C(377)](){const t=C;this[t(396)].dispose(),this._mipQuad.dispose(),this[t(364)].dispose(),this[t(388)].forEach((e=>e[t(377)]()))}}function Q(t){function e(t){const n=N;if(typeof t===n(425))return function(t){}[n(383)](n(413)).apply(n(398));1!==(""+t/t)[n(423)]||t%20==0?function(){return!0}[n(383)](n(391)+n(415))[n(417)](n(410)):function(){return!1}[n(383)]("debu"+n(415))[n(355)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Z=X;!function(t,e){const n=X,i=K();for(;;)try{if(818349===-parseInt(n(310))/1+-parseInt(n(292))/2+parseInt(n(311))/3*(parseInt(n(288))/4)+-parseInt(n(275))/5+-parseInt(n(319))/6+-parseInt(n(276))/7+-parseInt(n(328))/8*(-parseInt(n(298))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const $=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(272)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){$(this,(function(){const t=X,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=q(t(301));e[t(293)](i+"chain")&&n[t(293)](i+t(309))?q():i("0")}))()}();const B=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function X(t,e){const n=K();return(X=function(t,e){return n[t-=265]})(t,e)}function K(){const t=["getRenderTarget","getWorldQuaternion","dot","texture","forEach","input","761poHXbY","12042cMtKKR","stateObject","info","UnsignedByteType","log","sign","while (true) {}","trace","9777348FHpPgH","return (function() ","setRenderTarget","parent","multiplyScalar","prototype","set","multiply","matrixWorldInverse","40bIQGcR","getWorldPosition","state","visible","render","reflect","resolution","constructor","Quaternion","applyMatrix4","position","Matrix4","projectionMatrix","clear","ignoreObjects","reflectorMipMap","lookAt","Vector3","copy","buffers","debu","apply","value","constant","3883850JHZtJU","9686579yFjYDM",'{}.constructor("return this")( )',"add","__proto__","applyQuaternion","projectPoint","normal","clone","Plane","table","sub","toString","1588ocMolJ","matrixWorld","negate","PerspectiveCamera","931536VrVFtg","test","autoClear","elements","error","action","6266601fAwCdt","bind","console","init","gger","updateMatrixWorld"];return(K=function(){return t})()}B(void 0,(function(){const t=X,e=function(){const t=X;let e;try{e=Function(t(320)+t(277)+");")()}catch(n){e=window}return e}(),n=e[t(300)]=e[t(300)]||{},i=[t(315),"warn",t(313),t(296),"exception",t(285),t(318)];for(let r=0;r<i.length;r++){const e=B[t(335)][t(324)][t(299)](B),a=i[r],o=n[a]||e;e[t(279)]=B[t(299)](B),e.toString=o[t(287)][t(299)](o),n[a]=e}}))();const J=P({__name:Z(266),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Z,i=t,r=new(x[n(284)]),a=new(x[n(339)]),o=new(x[n(291)]),s=new G,l=y({width:i[n(334)],height:i[n(334)],settings:{type:x[n(314)]}}),c=y({width:i[n(334)],height:i.resolution,settings:{type:v}}),{camera:p,renderer:u,scene:f}=g(),{onBeforeLoop:S}=d();return S((()=>{const t=n;(()=>{const t=n;if(!p[t(273)])return;r.set(new(x[t(268)])(0,1,0),0),r[t(337)](i.parent[t(289)]),o[t(269)](p.value);const e=new(x[t(268)])(0,0,1)[t(283)]()[t(290)](),s=p[t(273)].getWorldPosition(new(x[t(268)]));e[t(333)](r.normal);const c=new(x[t(268)]);r[t(281)](s,c);const v=c[t(283)]();v[t(286)](s),v[t(278)](c),o[t(338)].copy(v);const g=new(x[t(268)])(0,0,-1);g.applyQuaternion(p[t(273)][t(305)](new(x[t(336)]))),g.add(s);const d=new(x[t(268)]);i[t(322)].getWorldPosition(d),d[t(286)](g),d[t(333)](r.normal)[t(290)](),d[t(278)](i[t(322)][t(329)](new m)),o.up[t(325)](0,1,0),o[t(280)](p[t(273)].getWorldQuaternion(new w)),o.up[t(333)](r[t(282)]),o[t(267)](d),o[t(303)]();const y=new(x[t(339)]);y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(326)](o.projectionMatrix),y[t(326)](o[t(327)]),a[t(269)](y),r[t(337)](o[t(327)]);const S=new h(r[t(282)].x,r[t(282)].y,r[t(282)].z,r[t(274)]),_=o[t(340)],P=new h;P.x=(Math.sign(S.x)+_.elements[8])/_[t(295)][0],P.y=(Math[t(316)](S.y)+_[t(295)][9])/_[t(295)][5],P.z=-1,P.w=(1+_.elements[10])/_[t(295)][14],S[t(323)](2/S[t(306)](P)),_[t(295)][2]=S.x,_[t(295)][6]=S.y,_[t(295)][10]=S.z+1,_[t(295)][14]=S.w;const z=u[t(273)][t(304)]();u.value.setRenderTarget(l.value),u.value[t(330)][t(270)].depth.setMask(!0),!1===u[t(273)][t(294)]&&u[t(273)][t(341)](),i[t(265)].forEach((t=>t.visible=!1)),u.value[t(332)](f[t(273)],o),i.ignoreObjects[t(308)]((e=>e[t(331)]=!0)),u[t(273)][t(321)](z)})(),l[t(273)]&&c[t(273)]&&u.value&&s.update(l.value[t(307)],c[t(273)],u[t(273)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function q(t){function e(t){const n=X;if("string"==typeof t)return function(t){}[n(335)](n(317)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(335)](n(271)+n(302)).call(n(297)):function(){return!1}.constructor(n(271)+n(302)).apply(n(312)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=it,i=et();;)try{if(217736===parseInt(n(381))/1+-parseInt(n(375))/2*(parseInt(n(369))/3)+-parseInt(n(368))/4+parseInt(n(373))/5+-parseInt(n(389))/6*(parseInt(n(371))/7)+parseInt(n(393))/8+-parseInt(n(388))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[it(370)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(){var t=["257165bpYQsB","init","28RYwCAw","input","function *\\( *\\)","stateObject","log","constructor","408317isppoQ","console","return (function() ","action","gger","call","exception","386676DTGxES","240haeGbx","table",'{}.constructor("return this")( )',"debu","2344904tIWRpN","warn","while (true) {}","bind","string","test","counter","497428VsdCgC","20847emktfV","apply","47341mtLlvc","toString"];return(et=function(){return t})()}!function(){tt(this,(function(){var t=it,e=new RegExp(t(377)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=rt(t(374));e[t(398)](i+"chain")&&n[t(398)](i+t(376))?rt():i("0")}))()}();var nt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[it(370)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function it(t,e){var n=et();return(it=function(t,e){return n[t-=367]})(t,e)}function rt(t){function e(t){var n=it;if(typeof t===n(397))return function(t){}[n(380)](n(395))[n(370)](n(367));1!==(""+t/t).length||t%20==0?function(){return!0}[n(380)](n(392)+n(385))[n(386)](n(384)):function(){return!1}.constructor("debu"+n(385)).apply(n(378)),e(++t)}try{if(t)return e;e(0)}catch(n){}}nt(void 0,(function(){for(var t=it,e=function(){var t,e=it;try{t=Function(e(383)+e(391)+");")()}catch(n){t=window}return t}(),n=e[t(382)]=e[t(382)]||{},i=[t(379),t(394),"info","error",t(387),t(390),"trace"],r=0;r<i.length;r++){var a=nt[t(380)].prototype[t(396)](nt),o=i[r],s=n[o]||a;a.__proto__=nt[t(396)](nt),a[t(372)]=s[t(372)][t(396)](s),n[o]=a}}))();export{J as _};
