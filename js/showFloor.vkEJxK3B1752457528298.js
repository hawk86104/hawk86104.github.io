import{m as e,k as o,a}from"./@tresjs.CutcgRLX1752457528298.js";import{R as r,a as s}from"./all.three.DW_Kslxn1752457528298.js";import{cg as t,M as i,a as n,C as l,l as m}from"./three.DOaOWaa_1752457528298.js";import{d as p,a9 as c,G as f,o as u,u as d,h,e as M,f as g,I as w,j as x,a4 as j}from"./@vue.CcDZ19ef1752457528298.js";import"./postprocessing.BhLg8VAN1752457528298.js";import"./@vueuse.D5pFWdqo1752457528298.js";import"./oimophysics.BBtHVm4j1752457528298.js";const y=["rotation-x","position","object"],T=p({__name:"sciFiModular",props:{position:{default:[0,-1,0]}},async setup(a){let p,h;const M=a,{scene:g}=e(),{nodes:w}=([p,h]=c((()=>o("https://opensource.cdn.icegl.cn/model/floor/modelDraco.glb",{draco:!0,decoderPath:"./draco/"}))),p=await p,h(),p),x=w.Cube016__0;console.log(x);const j=x.geometry,T=t([j.clone(),j.clone().applyMatrix4((new i).makeRotationZ(-Math.PI/2)),j.clone().applyMatrix4((new i).makeRotationZ(Math.PI/2)),j.clone().applyMatrix4((new i).makeRotationZ(-Math.PI))]),v=new r,b=new s({reflectivity:6,mirror:.1,mixStrength:3,color:new l("#fff"),map:x.material.map.clone(),normalMap:x.material.normalMap.clone(),normalScale:new n(1,1),fog:g.fog,dithering:!0});b.uniforms.tReflect=v.renderTargetUniform,b.uniforms.uMatrix=v.textureMatrixUniform;const _=new m(T,b);return _.add(v),_.onBeforeRender=(e,o,a)=>{_.visible=!1,v.update(e,o,a),_.visible=!0},(e,o)=>(u(),f("primitive",{"rotation-x":-Math.PI/2,position:M.position,object:d(_)},null,8,y))}}),v=p({__name:"showFloor",setup:e=>(e,o)=>{const r=h("TresCanvas");return u(),M(r,{clearColor:"#201919","window-size":""},{default:g((()=>[o[0]||(o[0]=w("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1)),x(d(a),{enableDamping:""}),o[1]||(o[1]=w("TresAmbientLight",{intensity:10},null,-1)),o[2]||(o[2]=w("TresMesh",{position:[3,2,0]},[w("TresBoxGeometry",{args:[2,2,2]}),w("TresMeshNormalMaterial",{wireframe:!0})],-1)),o[3]||(o[3]=w("TresMesh",{position:[0,1.2,0]},[w("TresBoxGeometry",{args:[1,1,1]}),w("TresMeshNormalMaterial")],-1)),(u(),M(j,null,{default:g((()=>[x(T,{position:[0,0,0]})])),_:1}))])),_:1})}});export{v as default};
