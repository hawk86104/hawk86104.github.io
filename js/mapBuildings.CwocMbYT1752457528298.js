import{z as o}from"./three-custom-shader-material.B-_h7e_e1752457528298.js";import"./HeightCorrection.Bq98L9tL1752457528298.js";import"./three-tile.GLYi3lFs1752457528298.js";import"./@tweenjs.ULy8-5Ku1752457528298.js";/* empty css                                                                                    */import"./utils.DzPdZry_1752457528298.js";import{l as e,U as t,P as n,M as r,T as i,a,r as s}from"./raycasterEvent.D-bxuvTd1752457528298.js";import"./index.xUhKQ56S1752457528298.js";import{_ as u,a as c}from"./radraB.vue_vue_type_script_setup_true_lang.BGmuHfly1752457528298.js";import{_ as l}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.Dv9H5sxk1752457528298.js";import{_ as p}from"./fireA.vue_vue_type_script_setup_true_lang.B1PKr1ol1752457528298.js";import{_ as f}from"./fireB.vue_vue_type_script_setup_true_lang.BXwGyEpV1752457528298.js";import{_ as m}from"./smokeA.vue_vue_type_script_setup_true_lang.DSU1NNm51752457528298.js";import{_ as d}from"./precipitation.vue_vue_type_script_setup_true_lang.CJsL4XAe1752457528298.js";import{_ as W}from"./cloudMesh.vue_vue_type_script_setup_true_lang.Dg0X9Iut1752457528298.js";import{_ as g}from"./rippleMesh.vue_vue_type_script_setup_true_lang.B1dghvf41752457528298.js";import{e as v,b as h,m as _}from"./@tresjs.CutcgRLX1752457528298.js";import{aL as x,V as y,cH as C,a9 as w,g as j,S as b,M as k,Q as S,az as M,cD as P,cE as O,cF as T,a3 as R,C as B,bI as z,cY as L,N as H,_ as J,ce as V,q}from"./three.DOaOWaa_1752457528298.js";import{l as A}from"./utils.VcxqxEC-1752457528298.js";import{d as G,a9 as I,G as F,o as Q,F as N,W as K,I as D,u as E,b as X,a2 as U,j as Z,e as Y,f as $,a4 as oo,v as eo,r as to,h as no,m as ro}from"./@vue.CcDZ19ef1752457528298.js";import{T as io}from"./3d-tiles-renderer.BAJqbi0S1752457528298.js";import"./d3-geo.D9g3Uc5l1752457528298.js";import"./d3-array.G5ptHY8Z1752457528298.js";import"./axios.BW-xZuO_1752457528298.js";import"./axios.DLTVXJci1752457528298.js";import"./pinia.D2lIig6I1752457528298.js";import"./@fesjs.t5OnzKcQ1752457528298.js";import"./vue-router.8pdmj1nv1752457528298.js";import"./lodash-es.C7pWAXPe1752457528298.js";import"./@qlin.q6OWdsQV1752457528298.js";import"./@babel.BPq7uOAK1752457528298.js";import"./@floating-ui.BFjFSAYt1752457528298.js";import"./@juggle.CcBCnTIR1752457528298.js";import"./color.DAImz3jb1752457528298.js";import"./@amap.CGUF9xH41752457528298.js";import"./color-string.DyudSztz1752457528298.js";import"./color-name.BQ5IbGbl1752457528298.js";import"./simple-swizzle.jX2c7ix51752457528298.js";import"./is-arrayish.CLsR9Wfx1752457528298.js";import"./color-convert.D8VegfYO1752457528298.js";import"./lodash.BD7nYDll1752457528298.js";import"./@mapbox.B8uYRbGC1752457528298.js";import"./three-mesh-bvh.FzI0NuyQ1752457528298.js";import"./index.BK5326_A1752457528298.js";import"./object-hash.i0UzGAXb1752457528298.js";import"./jszip.D2VcMNWo1752457528298.js";import"./SPE.CRTszC-21752457528298.js";import"./postprocessing.BhLg8VAN1752457528298.js";import"./@vueuse.D5pFWdqo1752457528298.js";const ao={renderOrder:3e3},so=["args"],uo=["map","side","color"],co=G({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(o){let t,n;const r=o,{map:i}=([t,n]=I((()=>h({map:"./plugins/digitalCity/image/line.png"}))),t=await t,n(),t);i.needsUpdate=!0,i.wrapS=i.wrapT=x,i.repeat.set(1,1);const a=([t,n]=I((()=>A(r.geoJson))),t=await t,n(),t);let s=[];for(var u=0;u<a.length;u++){const o=a[u],t=[];o.geometry.coordinates.forEach((o=>{const n=e(o[0],o[1],50);t.push(new y(n[0],0,-n[1]))}));let n=r.color;n="primary"===o.properties.highway?"#7eff10":"tertiary"===o.properties.highway?"#0eeeee":"secondary"===o.properties.highway?"#ffffff":"#ff0ffe",s.push({cr3:new C(t),color:n})}const{onLoop:c}=v();return c((()=>{i.offset.x-=Math.random()/20*r.speed})),(o,e)=>(Q(),F("TresGroup",null,[(Q(!0),F(N,null,K(E(s),(o=>(Q(),F("TresMesh",ao,[D("TresTubeGeometry",{args:[o.cr3,64,r.radius,20,!1]},null,8,so),D("TresMeshBasicMaterial",{map:E(i),side:E(w),transparent:!0,color:o.color},null,8,uo)])))),256))]))}}),lo=o=>{o.onLoadTileSet=e=>{const t=new j,n=new b,r=new k;let i=null,a=0;o.getOrientedBounds(t,r)?(i=(new y).setFromMatrixPosition(r),a=i.length()):o.getBoundingSphere(n)&&(i=n.center.clone(),a=i.length());const s=i?.normalize(),u=((o,e)=>{const t=new S,n=(new y).crossVectors(o,e);return t.x=n.x,t.y=n.y,t.z=n.z,t.w=1+o.clone().dot(e),t.normalize(),t})(s,new y(0,1,0));o.group.quaternion.x=u.x,o.group.quaternion.y=u.y,o.group.quaternion.z=u.z,o.group.quaternion.w=u.w,o.group.position.z=-a}},po=["object","rotation"],fo=G({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(e){const t=e,n=X(0),r=new io("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");r.errorTarget=2,r.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{if(e.isMesh){(e=>{const{geometry:r}=e;r.computeBoundingBox(),r.computeBoundingSphere();const{max:i,min:a}=r.boundingBox,s=new o({baseMaterial:new z,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new B(t.bulidingsColor)},uOpacity:{value:t.opacity},uLightColor:{value:new B("#ffffff")},uTopColor:{value:new B(t.topColor)},uTime:n,uGradient:{value:t.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:R});e.material.dispose(),e.material=s})(e),e.receiveShadow=!1,e.castShadow=!1;const r=new M(e.geometry.clone());let i=(new P).fromEdgesGeometry(r),a=new O({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const s=new T(i,a);s.applyMatrix4(e.matrix.clone()),e.parent.add(s)}}));const i=new j,a=new b;r.getBoundingBox(i)?(i.getCenter(r.group.position),r.group.position.multiplyScalar(-1)):r.getBoundingSphere(a)&&(r.group.position.copy(a.center),r.group.position.multiplyScalar(-1))})),lo(r);const{renderer:i,sizes:a}=_();U((()=>{a.width.value&&(r.setCamera(t.camera),r.setResolutionFromRenderer(t.camera,i.value))}));const{onBeforeLoop:s}=v();return s((({delta:o})=>{n.value+=2*o,t.camera&&a.width.value&&(t.camera.updateMatrixWorld(),r.update())})),(o,e)=>(Q(),F("TresGroup",null,[D("primitive",{object:E(r).group,rotation:[-Math.PI/2,0,0]},null,8,po)]))}}),mo=["object","rotation"],Wo=G({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(o,{expose:e}){const s=o,{renderer:u,scene:c}=_(),l=new n;l.coordType=t;const p=new r;p.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",p.showTileNo=!1,p.useWorker=!0;const f=new i(l,p);f.showBoundingBox=!1,f.wireframe=!1,f.flatShading=!1,f.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let m=new B("#4688b5");f.filter.monochrome={r:m.r,g:m.g,b:m.b};const d=new a;d.provider=f,d.bbox=s.bbox,d.maxZoom=s.maxZoom,s.camera.up=new y(0,1,0),s.camera.position.set(s.mapCenter[0],s.mapCenter[2],2e3-s.mapCenter[1]),s.camera.lookAt(new y(s.camera.position.x,0,s.camera.position.z-3e3)),d.camera=s.camera;let W=null;U((()=>{u.value&&(W=new L(s.camera,u.value.domElement),W.enableDamping=!0,W.dampingFactor=.05,W.minDistance=600,W.position0.set(s.camera.position.x,s.camera.position.y,s.camera.position.z),W.target.set(s.camera.position.x,0,s.camera.position.z-2e3))}));const{onLoop:g}=v();return g((()=>{if(u.value){const o=50*Math.abs(s.camera.position.y);s.camera.far=o+5e3,s.camera.updateProjectionMatrix(),W&&(W.update(),W.target.y=0),d.update(),u.value.render(c.value,s.camera)}})),e({camera:s.camera,map:d}),(o,e)=>(Q(),F("primitive",{object:E(d),rotation:[-Math.PI/2,0,0]},null,8,mo))}});!function(){function o(o,e,t,n,r){return ho(r- -483,n)}function e(o,e,t,n,r){return ho(o- -924,e)}var t=yo();function n(o,e,t,n,r){return ho(r-294,o)}function r(o,e,t,n,r){return ho(r- -117,n)}for(;;)try{if(230210===-parseInt(o(0,0,0,"(D8t",-222))/1*(parseInt(o(0,0,0,"O2AK",-246))/2)+parseInt(o(0,0,0,"AVQ9",-262))/3*(-parseInt(n("%oEA",0,0,0,550))/4)+-parseInt(o(0,0,0,"#[aL",-243))/5*(-parseInt(o(0,0,0,"D1jR",-269))/6)+-parseInt(r(0,0,0,"7I]!",118))/7*(parseInt(ho(242- -7,"%xpP"))/8)+parseInt(r(0,0,0,"J8IM",134))/9*(parseInt(e(-705,"O2AK"))/10)+-parseInt(e(-671,"#[aL"))/11*(parseInt(n("@dk7",0,0,0,565))/12)+parseInt(r(0,0,0,"AVQ9",135))/13)break;t.push(t.shift())}catch(i){t.push(t.shift())}}();var go,vo=(go=!0,function(o,e){function t(o,e,t,n,r){return ho(t-242,o)}function n(o,e,t,n,r){return ho(r- -29,t)}function r(o,e,t,n,r){return ho(r-426,o)}if(n(0,0,"Ht7v",0,201)!==n(0,0,"3HOd",0,209)){var i=go?function(){function i(o,e,t,n,i){return r(o,0,0,0,n- -332)}function a(o,e,n,r,i){return t(n,0,o- -339)}function s(o,e,t,n,i){return r(t,0,0,0,o- -271)}if(a(168,0,"MaO7")===a(137,0,"2R*["))return _0x956f64[(c=1038,l="E(p9",n(0,0,l,0,c-784))]()[s(403,0,"lo[C")](i("EJJs",0,0,311))[s(396,0,"AVQ9")]()[i("P1C*",0,0,322)](_0x198a5c)[s(397,0,"2R*[")](ho(239,"Yhi9"));if(e){var u=e[a(190,0,"2R*[")](o,arguments);return e=null,u}var c,l}:function(){};return go=!1,i}var a=_0x4033d1[t("HaIT",0,516)][n(0,0,")cJD",0,217)].bind(_0x144756),s=_0x17f5ea[_0x3efdca],u=_0x3bdf05[s]||a;a[t("XOyg",0,458)]=_0x275f92.bind(_0x240649),a[r("AVQ9",0,0,0,667)]=u[r("3HOd",0,0,0,708)].bind(u),_0x1f136d[s]=a})(void 0,(function(){function o(o,e,t,n,r){return ho(t- -705,e)}return vo[o(0,"Vsgr",-451)]()[o(0,"1V8E",-409)](o(0,"ng3B",-416))[o(0,"9V6B",-447)]()[o(0,"T*4s",-419)](vo)[o(0,"JL]M",-481)](ho(-513- -752,"Yhi9"))}));function ho(o,e){var t=yo();return ho=function(e,n){var r=t[e-=213];if(void 0===ho.LokvpW){var i=function(o){for(var e,t,n="",r="",a=n+i,s=0,u=0;t=o.charAt(u++);~t&&(e=s%4?64*e+t:t,s++%4)?n+=a.charCodeAt(u+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var c=0,l=n.length;c<l;c++)r+="%"+("00"+n.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(r)};ho.NORNeG=function(o,e){var t,n,r=[],a=0,s="";for(o=i(o),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)a=(a+r[n]+e.charCodeAt(n%e.length))%256,t=r[n],r[n]=r[a],r[a]=t;n=0,a=0;for(var u=0;u<o.length;u++)a=(a+r[n=(n+1)%256])%256,t=r[n],r[n]=r[a],r[a]=t,s+=String.fromCharCode(o.charCodeAt(u)^r[(r[n]+r[a])%256]);return s},o=arguments,ho.LokvpW=!0}var a=e+t[0],s=o[a];if(s)r=s;else{if(void 0===ho.JJLpCt){var u=function(o){this.pcbCdT=o,this.yFngfX=[1,0,0],this.HyBHbt=function(){return"newState"},this.SVRltw="\\w+ *\\(\\) *{\\w+ *",this.UmgfbQ="['|\"].+['|\"];? *}"};u.prototype.ZVVxAQ=function(){var o=new RegExp(this.SVRltw+this.UmgfbQ).test(this.HyBHbt.toString())?--this.yFngfX[1]:--this.yFngfX[0];return this.KLLHHX(o)},u.prototype.KLLHHX=function(o){return Boolean(~o)?this.pccxmU(this.pcbCdT):o},u.prototype.pccxmU=function(o){for(var e=0,t=this.yFngfX.length;e<t;e++)this.yFngfX.push(Math.round(Math.random())),t=this.yFngfX.length;return o(this.yFngfX[0])},new u(ho).ZVVxAQ(),ho.JJLpCt=!0}r=ho.NORNeG(r,n),o[a]=r}return r},ho(o,e)}vo();var _o,xo=(_o=!0,function(o,e){function t(o,e,t,n,r){return ho(e-587,o)}if("WhXQp"!==t("HaIT",860)){var n=_o?function(){function n(o,e,n,r,i){return t(r,o- -794)}function r(o,e,n,r,i){return t(i,o- -281)}function i(o,e,n,r,i){return t(o,n- -892)}function a(o,e,n,r,i){return t(n,e- -765)}if(n(59,0,0,"ah[h")!==i("AVQ9",0,-42)){if(e){if(a(0,81,"ey8(")===i("2R*[",0,-21)){var s=_0x5462c4[i("5(4w",0,-79)](_0x3c224f,arguments);return _0x91d2f=null,s}var u=e[i("ah[h",0,-85)](o,arguments);return e=null,u}}else{var c;try{c=_0x39ec8b(n(70,0,0,")cJD")+a(0,51,"$OqR")+");")()}catch(g){c=_0x509ab8}for(var l=c[r(566,0,0,0,"q(bW")]=c.console||{},p=[r(529,0,0,0,"5#9O"),"warn",n(48,0,0,"P1C*"),r(581,0,0,0,"Vsgr"),"exception",n(43,0,0,"qv3a"),a(0,110,"^opb")],f=0;f<p.length;f++){var m=_0x4087e2[n(18,0,0,"EJJs")].prototype[i("JL]M",0,-11)](_0x42cb64),d=p[f],W=l[d]||m;m[n(88,0,0,"Vsgr")]=_0x387845[i("1V8E",0,-33)](_0x467acb),m.toString=W[a(0,49,"J8IM")][i("nPRs",0,-26)](W),l[d]=m}}}:function(){};return _o=!1,n}if(_0xbbce16){var r=_0x587931[(i="5#9O",a=322,ho(a-44,i))](_0x48ceaf,arguments);return _0x5c867f=null,r}var i,a});function yo(){var o=["D3ucc2SvW5FcN3NcNWu","nSotW7RcP8kY","jISpc3iKW4pcRq","iHtdVvzrWQCBWRRcLq7dS8olveBdI8o+W6TzW4W","WOiAW79CwW","WOJcJmkgca","hb42jZpcNgb1","W4VdJ8kLWQ3cJq","WP8uFmkTsCksW6Gc","FKH2WPFdS091vG","f8obW4fAyq","fSo7amoSW5K","g8kOWQxcTduxW5VcISkpAeW","o8o6W6Lhxa","k8o+A8odW4S","hmkwW75/lmoCWO3cNXZdLrLf","uSk7W7yupG","W4etmCkVlSohW5RcHSkiWRFcHW","z1dcPCk8nJ1fra","WRT2W7SFr2C","WQNdTSkwFa","dmo+W7JcUSkViuFcHmom","ASovvaSVAq","WOlcOSonW4ldOSkfW5fkW6VdPX5o","WO1GW7WHW4vZzG","vdxcT3WaW4Kl","W7axzSoFlSoCi8omWRi","qfLnFwRdNcu7W55vgCoA","WPtdVY4PBq","vmkSu8kWW7ddRmk+mHhdKG","aZpcJLiy","W5neW4tdGmkhdSkpfmkap8og","WO4jxCk2sq","WO8fW6G","WRJdUSkzASkzbW","cX4lidxcH3TXWOetqa","WPNcMv7dUmkN","W4TuqgunWORdJcy","zCoaW4KzfY1ycfpcV08","tmkFWOvqWOeXW4WZCYdcPs5ZmCoqtINcS8oHW6e2WQjsb8kqvCogDWRcI8oEWOi","W7XlWOe+zG","WOVcLCkyamkI","ffRcMt0","bmo/WRnnFMa4W51EWOTYrSo8","cCoMW61DqG","aCo6W6ulkHjVW74","zKpcUbPRWP50W5/cKtO","vCkQkmoOW4JdKmk4mW","WOCUrSk/tW","W4S0vJHQBs/cSg/dNmo4WRS","W5ddRCoQkWZcRCkqDSkRme/dHG","WPqFWQxcJComeSkLba","kCoVW7HzrJi","W5CzW5vse8klk8k4W5WJjW","WOdcTSk9Fa","W5PMW4upW50","iapdPLDmWR1cW6lcLG","WP56lSoVcCosfmoQWO4","W4hcGZZcMSobWOG","WQpdNSk3BdNdUMLrW6/dN0G","jahcJCk4jW","WOKjiIG3WRtdRqXSwG","W5DeW4pdJmkhsSo9eCkdiCoIcGG","W5JdQCkpr13dV8kWEa","j8ooW5VcVmkYpeBcVa","B8obW4ef","gSkqW58EwmoSWPmqAa","W73cSCoaW7rIiKTxW7q","xmoBpCkoW4JdQmk4W40","WOjIF8oEBG","dH/cOsRcNwmr","W5LoW7KQW6/dNMBcOwG0oa","dmk1WQRcPcq","WOyDWQZcRCo4","W5VdL8ozwSoQjCkJWR/dMhlcMq","ogddR8obqG","dWhcUvOR","WOVcOCkbFNK","jXddU00","WO4dtmk8s8kpW68kWPO","a8oFWPBcUCocox3cKMBcJSoezGTTd8oRW4FdU8oY","WONcPCoeW4ZdOmkdWQbAW5BdPYHBgq","E8ozwX0","BxWicLa"];return(yo=function(){return o})()}xo(void 0,(function(){function o(o,e,t,n,r){return ho(t- -847,o)}var e;try{if(o("@dk7",0,-566)!=o("@dk7",0,-566))_0x400740=_0x204f26;else e=Function(o("yNLx",0,-577)+'{}.constructor("return this")( ));')()}catch(d){e=window}var t=e.console=e.console||{};function n(o,e,t,n,r){return ho(e-169,t)}function r(o,e,t,n,r){return ho(o-580,r)}function i(o,e,t,n,r){return ho(o- -148,n)}for(var a,s,u=["log",n(0,437,")cJD"),o("#[aL",0,-603),i(74,0,0,"3HOd"),r(849,0,0,0,"3HOd"),r(865,0,0,0,"O2AK"),n(0,431,"T*4s")],c=0;c<u[n(0,462,"K3uA")];c++){if(r(847,0,0,0,"I&vW")===i(70,0,0,"uknx")){var l=_0x33cabe?function(){if(_0x5c8bfc){var o=_0x34ce6c[(e=-137,t="D1jR",r(e- -962,0,0,0,t))](_0x261015,arguments);return _0x10fc2f=null,o}var e,t}:function(){};return _0x51a607=!1,l}var p=xo.constructor[r(837,0,0,0,"5HV7")][(a=142,s="P^Kv",ho(a- -90,s))](xo),f=u[c],m=t[f]||p;p.__proto__=xo[n(0,401,"P^Kv")](xo),p.toString=m[i(132,0,0,"EJJs")].bind(m),t[f]=p}}))();const Co=G({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(o){const t=e(113.9456,22.5385,50),n=e(113.9498,22.5364,50);return(o,e)=>(Q(),F(N,null,[Z(E(u),{color:"#00c0ff",radius:300,size:300,position:[o.cPosition[0],8,-o.cPosition[1]]},null,8,["position"]),(Q(),Y(oo,null,{default:$((()=>[Z(E(l),{position:[o.cPosition[0],8,-o.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),Z(E(c),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(Q(),Y(oo,null,{default:$((()=>[Z(E(l),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(Q(),Y(oo,null,{default:$((()=>[Z(E(p),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[o.cPosition[0]+280,1,120-o.cPosition[1]]},null,8,["position"])])),_:1})),(Q(),Y(oo,null,{default:$((()=>[Z(E(f),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(Q(),Y(oo,null,{default:$((()=>[Z(E(m),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(Q(),Y(oo,null,{default:$((()=>[Z(E(d),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[o.cPosition[0],300,-o.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(Q(),Y(oo,null,{default:$((()=>[Z(E(W),{cPosition:[o.cPosition[0],600,-o.cPosition[1]]},null,8,["cPosition"])])),_:1})),Z(E(g),{"position-y":6,positionSrc:[{x:E(t)[0],y:-E(t)[1]},{x:E(t)[0],y:-E(n)[1]},{x:E(n)[0],y:-E(n)[1]},{x:E(n)[0],y:-E(t)[1]},{x:E(t)[0],y:-E(t)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(Q(),Y(oo,null,{default:$((()=>[Z(E(co),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),wo=G({__name:"mapBuildings",setup(o){const t=e(113.942639739199,22.53171672540276,50),n=eo(),r=to({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:V,outputColorSpace:J,toneMapping:H}),i=[t[0],t[1],1700],a=new q(60,window.innerWidth/window.innerHeight,1,1e8);return(o,e)=>{const u=no("TresCanvas");return Q(),F(N,null,[Z(u,ro(r,{"window-size":""}),{default:$((()=>[e[0]||(e[0]=D("TresAmbientLight",{color:"#ffffff"},null,-1)),e[1]||(e[1]=D("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),Z(E(fo),{position:[E(t)[0],1,228-E(t)[1]],camera:E(a)},null,8,["position","camera"]),(Q(),Y(oo,null,{default:$((()=>[Z(E(Wo),{ref_key:"tileMapBuildingsMeshRef",ref:n,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:E(a)},null,8,["camera"])])),_:1})),(Q(),Y(oo,null,{default:$((()=>[Z(Co,{cPosition:E(t)},null,8,["cPosition"])])),_:1})),e[2]||(e[2]=D("TresGridHelper",{args:[1e4,10]},null,-1)),e[3]||(e[3]=D("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),Z(s,{tileMapRef:n.value},null,8,["tileMapRef"])],64)}}});export{wo as default};
