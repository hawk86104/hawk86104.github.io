import{e,a as t,k as o}from"./@tresjs.B1VqNfqw1755074079444.js";import{P as a}from"./tweakpane.C0HtAJSg1755074079444.js";import{G as s,T as n}from"./@tweenjs.Dhzs71lh1755074079444.js";import{_ as r}from"./lodash.Cb7L4nAB1755074079444.js";import{d as i,aa as l,r as p,s as d,h as c,e as m,o as u,f,I as j,j as w,u as h,a5 as b,m as C}from"./@vue.BzMISRrV1755074079444.js";import{g,V as v}from"./three.QlBabAUP1755074079444.js";import"./postprocessing.D49g_X_Q1755074079444.js";import"./@vueuse.C47q1p2Z1755074079444.js";import"./@amap.CGUF9xH41755074079444.js";const x=["object"],y=i({__name:"explode",async setup(i){let y,T;const{scene:k}=([y,T]=l((()=>o("/plugins/operationTool/model/湖中小亭/湖中小亭.gltf"))),y=await y,T(),y);k.updateMatrixWorld(!0);const _=p({alpha:!0,antialias:!0,autoClear:!1,disableRender:!0}),F=new s;d((()=>{const e=new a({title:"炸开与还原",expanded:!0}).addFolder({title:"参数"});e.addButton({title:"炸开",label:"炸开"}).on("click",(()=>{k.children.forEach(((e,t)=>{const o=r.cloneDeep(e.position);if(e.userData.explode={state:!1,explode:o},e.isMesh){const t=(new g).setFromObject(e),a=new v;t.getCenter(a);const s=a.multiplyScalar(2);F.add(new n(o).to(s,3e3).onUpdate((t=>{e.position.copy(t)})).start().onComplete((e=>{})))}}))})),e.addButton({title:"还原",label:"还原"}).on("click",(()=>{k.children.forEach(((e,t)=>{if(e.isMesh){const t=(new g).setFromObject(e),o=new v;t.getCenter(o),F.add(new n(o).to(new v(0,0,0),3e3).onUpdate((t=>{e.position.copy(t)})).start().onComplete((e=>{})))}}))}))}));const{onLoop:M}=e();return M((({delta:e})=>{F?.update()})),(e,o)=>{const a=c("TresCanvas");return u(),m(a,C({clearColor:"#201919","window-size":""},_),{default:f((()=>[o[0]||(o[0]=j("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,10,-28]},null,-1)),o[1]||(o[1]=j("TresAmbientLight",{intensity:1},null,-1)),w(h(t)),(u(),m(b,null,{default:f((()=>[j("primitive",{object:h(k)},null,8,x)])),_:1}))])),_:1},16)}}});export{y as default};
