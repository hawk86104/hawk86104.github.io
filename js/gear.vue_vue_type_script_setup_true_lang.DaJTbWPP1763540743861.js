import{i as e}from"./index.Crdf3MNx1763540743861.js";import{F as o}from"./FakeGlowMaterial.DUhQcdbj1763540743861.js";import{_ as a,F as s}from"./@tresjs.BCHtwiaC1763540743861.js";import{g as t}from"./gsap.CY1N3EIL1763540743861.js";import{a as r}from"./utils.Dqknk9Uf1763540743861.js";import{d as n,a as i,H as l,o as u,F as c,J as p,u as m}from"./@vue.Co_gxueH1763540743861.js";import{l as f,ae as d,V as g}from"./three.rXKzP9fQ1763540743861.js";const v={scale:.66,position:[1,1.8,-1.5]},w=["object"],h=["material","visible"],b=["args"],y=n({__name:"gear",setup(n,{expose:y}){const _=i(),{scene:j,nodes:M,materials:S}=e.getItem("gear");Object.values(S).forEach(e=>{e.roughness=.666,e.metalness=1});const T=[new f("#efec52"),new f("#dc0626")];let z=S["Mat.2"];z.color.set("#999999"),z.roughness=0,z.metalness=1,z.emissive=new f("#999999");const k=["Silver.2","Mat.1"];k.forEach(e=>{z=S[e],z.color.set("#999999"),z.roughness=0,z.metalness=1,z.transparent=!0,z.opacity=.6});const F=M.Spur_links.clone();F.position.y=-48.286,F.position.z=-36.712,M.Spur_links.parent.add(F);const I=M.Innenzahn_0_1.clone();I.position.y=118.581,I.position.z=-88.478,M.Innenzahn_0_1.parent.add(I);const G={glowColor:"#ff0000",falloff:0,glowInternalRadius:.8,glowSharpness:10,opacity:0,side:d,depthTest:!0},C=new o;C.uniforms.falloff.value=G.falloff,C.uniforms.glowColor.value=new f(G.glowColor),C.uniforms.glowInternalRadius.value=G.glowInternalRadius,C.uniforms.glowSharpness.value=G.glowSharpness,C.uniforms.opacity.value=G.opacity,C.side=G.side,C.depthTest=G.depthTest;let E=i(.3);const R=i(0),x=i(!1),{onBeforeRender:O}=a();O(({elapsed:e})=>{M.Spur_links&&(M.Spur_links.rotation.z+=.02*R.value,M["Geh��use"].rotation.z+=-.04*R.value,F.rotation.z+=-.02*R.value),E.value=.2+.2*(Math.sin(e)+1)});const{camera:P,controls:B}=s();return y({senceStarted:()=>{r(P,new g(8,6,8),new g(0,0,0),B)},cFlyTo:()=>{r(P,new g(4,5,4),new g(2,2,0),B)},cFlyOut:()=>{r(P,new g(8,6,8),new g(0,0,0),B)},positivePlay:()=>{t.to(R,{value:1,duration:3,ease:"circ.out"}),x.value=!0,t.to(C.uniforms.opacity,{value:1,duration:3,ease:"circ.out"}),t.to(S["Mat.2"].color,{duration:3,ease:"circ.out",r:T[0].r,g:T[0].g,b:T[0].b}),t.to(S["Mat.2"].emissive,{duration:3,ease:"circ.out",r:T[0].r,g:T[0].g,b:T[0].b}),k.forEach(e=>{t.to(S[e].color,{duration:3,ease:"circ.out",r:T[1].r,g:T[1].g,b:T[1].b})})},negativePlay:()=>{t.to(R,{value:0,duration:3,ease:"circ.out"}),t.to(C.uniforms.opacity,{value:0,duration:3,ease:"circ.out",onComplete:()=>{x.value=!1}}),t.to(S["Mat.2"].color,{duration:3,ease:"circ.out",r:.5625,g:.5625,b:.5625}),t.to(S["Mat.2"].emissive,{duration:3,ease:"circ.out",r:.5625,g:.5625,b:.5625}),k.forEach(e=>{t.to(S[e].color,{duration:3,ease:"circ.out",r:.5625,g:.5625,b:.5625})})}}),(e,o)=>(u(),l(c,null,[p("TresGroup",v,[p("primitive",{ref_key:"primitiveref",ref:_,object:m(j)},null,8,w)]),p("TresMesh",{material:m(C),position:[1,1.8,-2.2],visible:x.value},[p("TresTorusGeometry",{args:[1,m(E),16,66]},null,8,b)],8,h)],64))}});export{y as _};
