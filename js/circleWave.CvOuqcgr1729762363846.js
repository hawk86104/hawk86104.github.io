import{U as n,z as t,Y as o}from"./@tresjs.CmAaFQUS1729762363846.js";import{P as e}from"./tweakpane.BCjFYDHx1729762363846.js";import{a as r}from"./index.BDIKs_XA1729762363846.js";import{a3 as a,_ as s,a0 as i,aN as c}from"./three.CQvcOG671729762363846.js";import{d as u,b as l,a5 as f,r as p,a2 as m,o as v,E as d,L as g,aj as h,ak as j,e as k,f as w,g as y,j as S,u as b,al as I,m as x}from"./@vue.n8X62v121729762363846.js";import"./@vueuse.DvZn62wO1729762363846.js";import"./@fesjs.CZZ05Yp51729762363846.js";import"./vue-router.Du5s6fg51729762363846.js";import"./lodash-es.BBTWvufR1729762363846.js";import"./@qlin.BIlp8Yi21729762363846.js";import"./pinia.DOkF60i-1729762363846.js";import"./@babel.Bwyie5id1729762363846.js";import"./@amap.irWeW_Ar1729762363846.js";import"./@floating-ui.B75jtkXD1729762363846.js";import"./@juggle.BnTvdTVm1729762363846.js";import"./chalk.B3MNILV41729762363846.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1729762363846.js";import"./@iconify.DKvOo9eU1729762363846.js";import"./oimophysics.B0i2NtyE1729762363846.js";import"./three-stdlib.CqKdLpwa1729762363846.js";import"./@pmndrs.DnYI6N3H1729762363846.js";import"./object-hash.BiCA96VN1729762363846.js";import"./jszip.B5yG0Hpd1729762363846.js";import"./three-custom-shader-material.CWa5qaDo1729762363846.js";import"./glsl-tokenizer.DodQ2RCy1729762363846.js";import"./glsl-token-string.Eyit8_HG1729762363846.js";import"./glsl-token-functions.D2Lt0tGo1729762363846.js";import"./three.quarks.BQqMGnDH1729762363846.js";import"./quarks.core.C7CDonSm1729762363846.js";const _=M;!function(n,t){const o=M,e=R();for(;;)try{if(153767===parseInt(o(381))/1+-parseInt(o(407))/2+parseInt(o(418))/3+parseInt(o(391))/4*(parseInt(o(415))/5)+-parseInt(o(378))/6*(parseInt(o(388))/7)+parseInt(o(393))/8+-parseInt(o(411))/9*(parseInt(o(379))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){C(this,(function(){const n=M,t=new RegExp(n(390)),o=new RegExp(n(396),"i"),e=z(n(389));t[n(408)](e+n(380))&&o.test(e+"input")?z():e("0")}))()}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[M(369)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function M(n,t){const o=R();return(M=function(n,t){return o[n-=369]})(n,t)}T(void 0,(function(){const n=M;let t;try{t=Function(n(403)+n(395)+");")()}catch(r){t=window}const o=t[n(412)]=t[n(412)]||{},e=[n(373),n(387),n(370),n(420),n(383),"table",n(377)];for(let a=0;a<e[n(401)];a++){const t=T[n(398)].prototype.bind(T),r=e[a],s=o[r]||t;t[n(392)]=T[n(382)](T),t[n(416)]=s.toString[n(382)](s),o[r]=t}}))();const P=[_(399),_(372)],D=g(_(410),{args:[1,1]},null,-1);function R(){const n=["counter","call","377446RoZAxh","test","while (true) {}","TresPlaneGeometry","14742yNesar","console","\n#define uScanOrigin vec3(0.,0.,0.)\n#define uScanWaveRatio1 3.2\n#define uScanWaveRatio2 2.8\n\nuniform float uTime;\nuniform sampler2D uScanTex;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nuniform vec3 uScanColor;\nuniform vec3 uScanColorDark;\n\nfloat circleWave(vec3 p,vec3 origin,float distRatio){\n    float t=uTime;\n    float dist=distance(p,origin)*distRatio;\n    float radialMove=fract(dist-t);\n    float fadeOutMask=1.-smoothstep(1.,3.,dist);\n    radialMove*=fadeOutMask;\n    float cutInitialMask=1.-step(t,dist);\n    radialMove*=cutInitialMask;\n    return radialMove;\n}\n\nvec3 getScanColor(vec3 worldPos,vec2 uv,vec3 col){\n    // mask\n    float scanMask=texture(uScanTex,uv).r;\n    // waves\n    float cw=circleWave(worldPos,uScanOrigin,uScanWaveRatio1);\n    float cw2=circleWave(worldPos,uScanOrigin,uScanWaveRatio2);\n    // scan\n    float mask1=smoothstep(.3,0.,1.-cw);\n    mask1*=(1.+scanMask*.7);\n    \n    float mask2=smoothstep(.07,0.,1.-cw2)*.8;\n    mask1+=mask2;\n    \n    float mask3=smoothstep(.09,0.,1.-cw)*1.5;\n    mask1+=mask3;\n\n    // color\n    vec3 scanCol=mix(uScanColorDark,uScanColor,mask1);\n    col=mix(col,scanCol,mask1);\n    \n    return col;\n\t\t// return vec3(cw);\n\t\t// return vec3(scanMask);\n\t\t// return worldPos;\n\t\t// return vec3(mask1);\n\t\t// return scanCol;\n}\n\nvoid main()\n{\n    vec3 col=vec3(0.);\n    col=getScanColor(vPosition,vUv*10.0,col);\n    gl_FragColor=vec4(col,1.);\n}\n","debu","362345CDTZIE","toString","stateObject","727644OGjsrc","action","error","Color","gger","#000000","colorDark","TresMesh","shaderCircleWave","RepeatWrapping","apply","info","#ffffff","scale","log","speed","string","value","trace","498LsGTir","1100ilUKxn","chain","304603EUaeoj","bind","exception","uniforms","uScanColor","material","warn","19705WiXtbh","init","function *\\( *\\)","4hYuVvU","__proto__","1093560LDGbyk","color",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","wrapT","constructor","rotation-x","uTime","length","\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main(){\n\tvUv=uv;\n\tvPosition=position;\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}\n","return (function() ","TresShaderMaterial"];return(R=function(){return n})()}const W=u({__name:_(426),props:{color:{default:_(371)},colorDark:{default:_(423)},speed:{default:1},scale:{default:2}},async setup(o){const e=_;let r,u;const k=o,w=l(),{onLoop:y}=n();y((({delta:n})=>{const t=M;w.value&&(w.value[t(386)][t(384)][t(400)][t(376)]+=n*k[t(374)])}));const S=([r,u]=f((()=>t(["./plugins/floor/image/scan.png"]))),r=await r,u(),r);S.wrapS=a,S[e(397)]=s[e(427)];const b=p({side:i,transparent:!0,blending:c,flatShading:!0,depthTest:!1,uniforms:{uTime:{type:"f",value:0},uScanTex:{type:"t",value:S},uScanColor:{type:"v3",value:new(s[e(421)])(k[e(394)])},uScanColorDark:{type:"v3",value:new(s[e(421)])(k[e(424)])}},vertexShader:e(402),fragmentShader:e(413)});return m((()=>{const n=e;w[n(376)]&&(w.value.material[n(384)][n(385)][n(376)]=new(s[n(421)])(k.color),w[n(376)][n(386)][n(384)].uScanColorDark[n(376)]=new(s[n(421)])(k.colorDark))})),(n,t)=>{const o=e;return v(),d(o(425),{ref_key:"tmRef",ref:w,"rotation-x":-Math.PI/2,scale:n[o(372)]},[D,g(o(404),h(j(b)),null,16)],8,P)}}});function z(n){function t(n){const o=M;if(typeof n===o(375))return function(n){}.constructor(o(409))[o(369)](o(405));1!==(""+n/n)[o(401)]||n%20==0?function(){return!0}[o(398)](o(414)+o(422))[o(406)](o(419)):function(){return!1}[o(398)](o(414)+o(422))[o(369)](o(417)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const U=Z;!function(n,t){const o=Z,e=G();for(;;)try{if(122269===parseInt(o(323))/1+parseInt(o(340))/2*(-parseInt(o(309))/3)+parseInt(o(311))/4+parseInt(o(330))/5*(parseInt(o(326))/6)+-parseInt(o(322))/7*(parseInt(o(337))/8)+-parseInt(o(297))/9*(-parseInt(o(312))/10)+-parseInt(o(314))/11*(parseInt(o(321))/12))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const O=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function Z(n,t){const o=G();return(Z=function(n,t){return o[n-=297]})(n,t)}!function(){O(this,(function(){const n=Z,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(328),"i"),e=L(n(334));t[n(307)](e+n(325))&&o.test(e+n(315))?L():e("0")}))()}();const A=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[Z(335)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();A(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function(n(318)+'{}.constructor("return this")( ));')()}catch(o){t=window}return t}(),o=t[n(319)]=t[n(319)]||{},e=[n(303),"warn",n(317),n(313),"exception","table","trace"];for(let r=0;r<e[n(305)];r++){const t=A[n(301)].prototype.bind(A),a=e[r],s=o[a]||t;t[n(336)]=A.bind(A),t[n(298)]=s[n(298)].bind(s),o[a]=t}}))();const E=g(U(327),{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1),F=g(U(329),{intensity:6},null,-1);function G(){const n=["speed","125163xCyzVS","toString","shaderCircleWave地面","call","constructor","gger","log","TresCanvas","length","debu","test","colorDark","3gFJKPf","string","483808qmvpbX","170PWidQa","error","22QGbYje","input","圈渐变色","info","return (function() ","console","圈颜色","1170696QpeKBn","7ZuUMYT","112715rSFhbc","addBinding","chain","42oZFIBS","TresPerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresAmbientLight","31975AzSNDB","stateObject","action","#201919","init","apply","__proto__","512624WmyNjz","#ffffff","#000000","266776pPnuyy"];return(G=function(){return n})()}const B=u({__name:"circleWave",setup(n){const t=U,a=p({reflectivity:.1,showGridHelper:!1,scale:1}),s=p({color:t(338),colorDark:t(339),speed:1,scale:2}),i=new e({title:t(299),expanded:!0});return i[t(324)](s,"color",{label:t(320)}),i.addBinding(s,t(308),{label:t(316)}),i[t(324)](s,t(341),{label:"速度",min:.1,max:5,step:.1}),i[t(324)](s,"scale",{label:"大小",min:.1,max:10,step:.1}),(n,e)=>{const i=t,c=k(i(304));return v(),w(c,{clearColor:i(333),"window-size":""},{default:y((()=>[E,S(b(o),{enableDamping:""}),F,(v(),w(I,null,{default:y((()=>[S(W,h(j(s)),null,16)])),_:1})),(v(),w(I,null,{default:y((()=>[S(r,x({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function L(n){function t(n){const o=Z;if(typeof n===o(310))return function(n){}.constructor("while (true) {}")[o(335)]("counter");1!==(""+n/n)[o(305)]||n%20==0?function(){return!0}[o(301)](o(306)+o(302))[o(300)](o(332)):function(){return!1}[o(301)](o(306)+o(302))[o(335)](o(331)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{B as default};
