import{e as t,J as n,a as e}from"./@tresjs.DLq12syC1752136696158.js";import"./index.Bxzb_MXf1752136696158.js";import{P as r}from"./tweakpane.C0HtAJSg1752136696158.js";import{d as o,w as i,G as a,o as s,ak as c,al as u,a3 as v,I as f,j as d,m as l,u as g,r as W,h as x,e as p,f as m,am as y}from"./@vue.BInVSO3Q1752136696158.js";import{a as h}from"./three.BNH6wr6-1752136696158.js";import{_ as P}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.CC_G2T__1752136696158.js";import"./postprocessing.CPr5BoQh1752136696158.js";import"./@vueuse.BmvRw4vU1752136696158.js";import"./all.three.67DLxSVx1752136696158.js";import"./oimophysics.BBtHVm4j1752136696158.js";import"./reflectorDiffuse.BoFN4B0f1752136696158.js";import"./vite-plugin-qiankun.B06WoCqG1752136696158.js";import"./index.B9Z9A2ny1752136696158.js";import"./object-hash.AYVzxFSg1752136696158.js";import"./@amap.CGUF9xH41752136696158.js";import"./jszip.Dfvg2heu1752136696158.js";import"./three-stdlib.xEJufcdC1752136696158.js";import"./whiteFloor.DkbqjjMh1752136696158.js";!function(){function t(t,n,e,r,o){return w(t- -404,e)}var n,e,r=_();function o(t,n,e,r,o){return w(t-201,n)}for(;;)try{if(489468===parseInt(t(39,0,")PhT"))/1*(parseInt(w(1081-590,"wpt]"))/2)+-parseInt((n="s[(k",e=871,w(e-388,n)))/3*(-parseInt(o(705,"i1O["))/4)+parseInt(o(643,"yzUo"))/5*(-parseInt(o(648,"Nc8j"))/6)+-parseInt(t(98,0,"k@yw"))/7*(-parseInt(o(633,"I4Dx"))/8)+parseInt(o(649,"@rKx"))/9+parseInt(w(426- -15,"AoMr"))/10*(parseInt(o(699,"eE6K"))/11)+-parseInt(o(636,"@rKx"))/12*(parseInt(o(708,"wvlM"))/13))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var z,k=(z=!0,function(t,n){function e(t,n,e,r,o){return w(n- -595,r)}if("baKkR"===e(0,-155,0,"7Bz7")){var r=z?function(){function r(t,n,r,o,i){return e(0,o-1261,0,t)}function o(t,n,r,o,i){return e(0,i-1025,0,n)}if("ISifc"!==r("d!s9",0,0,1130)){var i=_0x32f634.apply(_0x1c4a9a,arguments);return _0x16d8ef=null,i}if(n){if(r("I4Dx",0,0,1145)!==o(0,"UXEd",0,0,866)){var a=n.apply(t,arguments);return n=null,a}var s=_0x25886a(r("yzUo",0,0,1131)+o(0,"s[(k",0,0,875)+");");_0x446a0b=s()}}:function(){};return z=!1,r}_0x4e699e=_0x11c802})(void 0,(function(){function t(t,n,e,r,o){return w(r-624,e)}return k[t(0,0,"io0!",1058)]()[t(0,0,"x2oq",1057)]((s=708,c="@u#*",w(s-259,c)))[(i="[*Bh",a=586,w(a-86,i))]()[(r="fT4H",o=560,w(o-133,r))](k)[(n=1088,e="wF@m",w(n-629,e))]("(((.+)+)+)+$");var n,e,r,o,i,a,s,c}));k();var C,S=(C=!0,function(t,n){var e=C?function(){function e(t,n,e,r,o){return w(n- -120,o)}function r(t,n,e,r,o){return w(o- -638,e)}function o(t,n,e,r,o){return w(t-157,r)}if(o(635,0,0,"i1O[")!==r(0,0,"v4Je",0,-187)){var i=_0x5cb0c3[r(0,0,"UXEd",0,-161)].prototype[o(663,0,0,"fT4H")](_0x1acffc),a=_0xdbd10[_0x58b206],s=_0x1b3a1d[a]||i;i[e(0,349,0,0,"oWIB")]=_0x50ea4d.bind(_0x5b9724),i.toString=s.toString[e(0,389,0,0,"S2Sq")](s),_0x39bfac[a]=i}else if(n){if(w(471,"LYNH")===r(0,0,"[*Bh",0,-171)){var c=n[(v=847,f="q&t#",w(v-352,f))](t,arguments);return n=null,c}var u=_0x44fc70.apply(_0x365040,arguments);return _0x5d7746=null,u}var v,f}:function(){};return C=!1,e});function w(t,n){var e=_();return w=function(n,r){var o=e[n-=425];if(void 0===w.PtNrWf){var i=function(t){for(var n,e,r="",o="",a=r+i,s=0,c=0;e=t.charAt(c++);~e&&(n=s%4?64*n+e:e,s++%4)?r+=a.charCodeAt(c+10)-10!=0?String.fromCharCode(255&n>>(-2*s&6)):s:0)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var u=0,v=r.length;u<v;u++)o+="%"+("00"+r.charCodeAt(u).toString(16)).slice(-2);return decodeURIComponent(o)};w.HfgBWY=function(t,n){var e,r,o=[],a=0,s="";for(t=i(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)a=(a+o[r]+n.charCodeAt(r%n.length))%256,e=o[r],o[r]=o[a],o[a]=e;r=0,a=0;for(var c=0;c<t.length;c++)a=(a+o[r=(r+1)%256])%256,e=o[r],o[r]=o[a],o[a]=e,s+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[a])%256]);return s},t=arguments,w.PtNrWf=!0}var a=n+e[0],s=t[a];if(s)o=s;else{if(void 0===w.TKXDYE){var c=function(t){this.Akessb=t,this.rboJcM=[1,0,0],this.HhuwCu=function(){return"newState"},this.jsePvP="\\w+ *\\(\\) *{\\w+ *",this.lwmcmc="['|\"].+['|\"];? *}"};c.prototype.eOVyKp=function(){var t=new RegExp(this.jsePvP+this.lwmcmc).test(this.HhuwCu.toString())?--this.rboJcM[1]:--this.rboJcM[0];return this.HNBaTf(t)},c.prototype.HNBaTf=function(t){return Boolean(~t)?this.prYIoj(this.Akessb):t},c.prototype.prYIoj=function(t){for(var n=0,e=this.rboJcM.length;n<e;n++)this.rboJcM.push(Math.round(Math.random())),e=this.rboJcM.length;return t(this.rboJcM[0])},new c(w).eOVyKp(),w.TKXDYE=!0}o=w.HfgBWY(o,r),t[a]=o}return o},w(t,n)}S(void 0,(function(){var t;function n(t,n,e,r,o){return w(o- -828,n)}function e(t,n,e,r,o){return w(t- -109,e)}function r(t,n,e,r,o){return w(e-791,t)}try{if(r("x2oq",0,1265)===e(321,0,"ls)]"))return _0x271f58[r("c0z3",0,1261)]().search(r("^jcs",0,1216)).toString().constructor(_0x33e6e4)[n(0,"V&mU",0,0,-370)](s("8]GF",1126,1122,1138,1165));t=Function("return (function() "+r("%8o*",0,1241)+");")()}catch(l){t=window}var o=t[r("ls)]",0,1219)]=t[i(-97,-101,-67,"LYNH")]||{};function i(t,n,e,r,o){return w(n- -595,r)}var a=[n(0,"]Enm",0,0,-320),s("s[(k",1153,1192,1156),n(0,"[*Bh",0,0,-323),"error",i(0,-135,0,"7Bz7"),s("AoMr",1171,1111,1144),r("1npP",0,1217)];function s(t,n,e,r,o){return w(r-676,t)}for(var c=0;c<a[e(345,0,"s[(k")];c++)if("aMsss"===e(343,0,"8]GF")){var u=S.constructor[n(0,"wF@m",0,0,-325)][e(375,0,"^EN0")](S),v=a[c],f=o[v]||u;u[i(0,-134,0,"c0z3")]=S.bind(S),u[s("fT4H",0,0,1168)]=f.toString[r("v7US",0,1281)](f),o[v]=u}else if(_0x179e4d){var d=_0x359450[r("I4Dx",0,1277)](_0x4d0fef,arguments);return _0x5c0740=null,d}}))();function _(){var t=["o8oqBCkavLNdQJpdS3LuW6i","pSkJWPK0WRhdMCopfmo6aHFcO8kmW75RpSkMWO03WQacjuRdHMVcQCkPWROiW4SPBG","W43cTeKHW5e","W4CLgSoYW7i","aSoQW6i2m8o3W541","hmoVCJxcQeO","BmkNy3mo","W5NdHw0E","CttcNCkB","bCoGW5aWiSo2","WQtcLJ9PW6On","WO/cIWiOWPrIjLFcSa","WQVcHx/dPxVcJmoiqSol","WO5aqCkVWQRdJvKPCdhdSve","WRJcQ8kUW4JdKeaOh1JcVXxdNSkc","uCkgA3yi","W7BdI24VchD6z8ohFCopW5nVgCkbESo5cSoP","imonCCkBtupdTfBcQqqoWQ0R","W65bWRuNtq","W4RdRCkEW6FdQq","W4fCW73dQ8ovW7ddOmoTWRq","WOdcTvZdO2BcKCojEG","uSkEW5xdGCkA","r8kkCMieW6z5qb8","W6hdJ8kdWQdcVSoopHldVa","lCkBW4xdT8oJ","zvuXW7OFeZVcKG","W5/cN8oRWPDxWQZcMCoCghVdOCoGBq","W7/dKCokW7SjWQ0HW7Hqe8kE","AmoHW4xdGSkj","ySk/W5X6AG","b8oRBJW","lSk0vNWBW71q","W7/dH8oeWR4","q8onsdBcU1pcUq","EGBcHWG","CI3cG8ktW48","E8kbW6rKCG","WRFcNYiEgfe9imoR","rI0Vg8kIxHpcUa","W6ZdU8onW6yzuCommbGHW5NcK3ddOemLj1xdOq","Ece2la","W4ObWQPCWOjfW6hcJ1BdPgHj","F0ZdKSofWR5BFey","W5pdHgucuL1c","smkGW7ZdSCkKW7ji","dSk5Dh4W","W4qbb8oL","orJcT8kSWO8","CLddL8ozwHbnW7RdLrZcVWCC","lmkUWOJcOmkzF2jkWRtdPW","W6n/WQeqBSkzjt8","W4KXesa7W7NdMa","W5y+ng7dSGJdTCovy8ow","WQFcGtfVW6yrv8oPAa","lmkGWOBcPCoqhJD/WP/dT8o1WPJdVa","W75+WPql","AuRdR8ov","WRNcP8kTW4RdKemPiKhcVGRdPSkP","W73dKSkl","W6RdJ8oyWRq","wdvfFmoVeuRdPxVdVmkiDa","W5FdHSk5WQxcIa","AeZdR8ocWRHaz0iee1i","W5tcIdLPyYldGq","jdz+fbXK","W5xcGdrvBG","lXdcU8kK","kmogWQ06CSoLc03cMCk7","kCkPW5ddLCoVWOq","ehFcOmkXs1GfW5a","jw3cSCk2W5aSESkC","W6JdV8opW6ej","WO/dLweTAGddO8keWRVdIa","W7/dKZq5fxCPo8otFCocW4r0aSognSkJrSk9WQf5W7fRlgldNmofdd3cNchcVa","E0NdP8oXW58WfdyoWOFdKa","WOJcKIOMWRy","WO/cVmkzW7VdUfFdJ8oV","WRlcNIHRt2Oqf8ovESow","WPCQl1iMw8kX","WQpcNa1VW7Smqmo+","c8o3mJhcS0ZcVthcNSk8WPG0W5jqWONcLSkVWPBdPCo/W63cLL/dTSodWONcPmo/WPtdJqVcQW","r8o1W7lcLmksW7mmvKG","W57cM8oGW6ScW5BdJSoXnG","iwJdGmohWOf4omkQcCo0huXy"];return(_=function(){return t})()}const I=o({__name:"revealEffectMaterial",props:{uProgress:{default:0},texture:{default:null}},setup(n){const e=n,r={uniforms:{uTexture:{value:e.texture},uTime:{value:0},uProgress:{value:0},uImageRes:{value:new h(1,1)},uRes:{value:new h(1,1)}},transparent:!0,vertexShader:"\n\tuniform float uProgress;\n\tvarying vec2 vUv;\n\n\tvoid main()\n\t{\n\t\tvec3 newPosition = position;\n\n\t\t// Calculate the distance to the center of our plane\n\t\tfloat distanceToCenter = distance(vec2(0.5), uv);\n\n\t\t// Wave effect\n\t\tfloat wave = (1.0 - uProgress) * sin(distanceToCenter * 20.0 - uProgress * 5.0);\n\n\t\t// Apply the wave effect to the position Z\n\t\tnewPosition.z += wave;\n\n\t\t// FINAL POSITION\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n\n\t\t// VARYINGS\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:'\n\t\tuniform sampler2D uTexture;\n\t\tuniform float uTime;\n\t\tuniform float uProgress;\n\t\tuniform vec2 uRes;\n\t\tuniform vec2 uImageRes;\n\n\t\tvarying vec2 vUv;\n\n\t\t\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n\t\tvec2 CoverUV(vec2 u, vec2 s, vec2 i) {\n\t\t\tfloat rs = s.x / s.y; // Aspect plane size\n\t\t\tfloat ri = i.x / i.y; // Aspect image size\n\t\t\tvec2 st = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x); // New st\n\t\t\tvec2 o = (rs < ri ? vec2((st.x - s.x) / 2.0, 0.0) : vec2(0.0, (st.y - s.y) / 2.0)) / st; // Offset\n\t\t\treturn u * s / st + o;\n\t\t}\n\n\t\tvoid main()\n\t\t{\n\t\t\t\t// New UV to prevent image stretching on fullscreen mode\n\t\t\t\tvec2 newUv = CoverUV(vUv, uRes, uImageRes);\n\n\t\t\t\t// Displace the UV\n\t\t\t\tvec2 displacedUv = vUv + cnoise(vec3(vUv * 5.0, uTime * 0.1));\n\n\t\t\t\t// Perlin noise\n\t\t\t\tfloat strength = cnoise(vec3(displacedUv * 5.0, uTime * 0.2 ));\n\n\t\t\t\t// Radial gradient\n\t\t\t\tfloat radialGradient = distance(vUv, vec2(0.5)) * 12.5 - 7.0 * uProgress;\n\t\t\t\tstrength += radialGradient;\n\n\t\t\t\t// Clamp the value from 0 to 1 & invert it\n\t\t\t\tstrength = clamp(strength, 0.0, 1.0);\n\t\t\t\tstrength = 1.0 - strength;\n\n\t\t\t\t// Apply texture\n\t\t\t\tvec3 textureColor = texture2D(uTexture, newUv).rgb;\n\n\t\t\t\t// Opacity animation\n\t\t\t\tfloat opacityProgress = smoothstep(0.0, 0.7, uProgress);\n\n\t\t\t\t// FINAL COLOR\n\t\t\t\tgl_FragColor = vec4(textureColor, strength * opacityProgress);\n\t\t}\n\t'};i((()=>e.uProgress),(t=>{r&&(r.uniforms.uProgress.value=t)}));const{onLoop:o}=t();return o((({elapsed:t})=>{r&&(r.uniforms.uTime.value=t)})),(t,n)=>(s(),a("TresShaderMaterial",c(u(r)),null,16))}}),R={position:[0,0,-16]},j=o({__name:"revealEffectMesh",async setup(t){let e,r;const o=([e,r]=v((()=>n("./plugins/visualArts/video/vlg.mp4",{loop:!0}))),e=await e,r(),e||null);return(t,n)=>(s(),a("TresMesh",R,[n[0]||(n[0]=f("TresPlaneGeometry",{args:[16,10]},null,-1)),d(I,l(t.$attrs,{texture:g(o)}),null,16,["texture"])]))}}),b=o({__name:"revealEffect",setup(n){const o={clearColor:"#050505",antialias:!1},i={reflectivity:.8,showGridHelper:!1,scale:6},a=W({uProgress:0}),v=new r({title:"参数"});return v.addBinding(a,"uProgress",{label:"进度",min:0,max:1,step:.01}).disabled=!0,t().onLoop((({elapsed:t})=>{a.uProgress=(Math.sin(t)+1)/2,v.refresh()})),(t,n)=>{const r=x("TresCanvas");return s(),p(r,l(o,{"window-size":""}),{default:m((()=>[n[0]||(n[0]=f("TresPerspectiveCamera",{position:[0,0,30],fov:45,near:.1,far:1e3},null,-1)),d(g(e)),n[1]||(n[1]=f("TresAmbientLight",{intensity:.5},null,-1)),(s(),p(y,null,{default:m((()=>[d(j,c(u(a)),null,16)])),_:1})),(s(),p(y,null,{default:m((()=>[d(g(P),l({position:[0,-6,0]},i),null,16)])),_:1}))])),_:1},16)}}});export{b as default};
