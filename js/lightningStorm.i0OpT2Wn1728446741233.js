import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.WF5R5NTj1728446741233.js";import{B as i,V as s,cq as n,ab as e,X as r,h as o,an as a,$ as c,s as h,_ as u}from"./three.GKtOCofD1728446741233.js";import{U as l,e as d,F as p}from"./@tresjs.2zzrlbpQ1728446741233.js";import{c as f}from"./simplex-noise.P9JMzoHY1728446741233.js";import{d as m,a3 as g,o as y,E as b,u as w,r as x,j as S,g as v,m as I,F as P}from"./@vue.JNsx1iN61728446741233.js";import"./index.rXH3pzbu1728446741233.js";import{_}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.3NFNnVjI1728446741233.js";import"./three-custom-shader-material.TfREIiYm1728446741233.js";import"./object-hash.0ofIFoz61728446741233.js";import"./@amap.Qg_J860p1728446741233.js";import"./jszip.tq9nBV5m1728446741233.js";import"./glsl-tokenizer.3GIgb7Lk1728446741233.js";import"./glsl-token-string.OiBTr1Jd1728446741233.js";import"./glsl-token-functions.FTbn13l-1728446741233.js";import"./@vueuse.M29bYW2K1728446741233.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.ZhOklGp71728446741233.js";import"./all.three.EiTHB5IL1728446741233.js";import"./oimophysics.x0jH7fze1728446741233.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.cXDL95Zn1728446741233.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.jmaoD5QK1728446741233.js";import"./index.xLf2T-LG1728446741233.js";import"./three-stdlib.LtkXdepA1728446741233.js";import"./@pmndrs.kg3qtW3-1728446741233.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.uJ5fS7Yr1728446741233.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.KdS5EMdR1728446741233.js";function M(t,i){const s=j();return(M=function(t,i){return s[t-=404]})(t,i)}const T=M;!function(t,i){const s=M,n=j();for(;;)try{if(240246===parseInt(s(491))/1*(-parseInt(s(467))/2)+parseInt(s(520))/3*(-parseInt(s(525))/4)+parseInt(s(464))/5*(-parseInt(s(534))/6)+parseInt(s(448))/7+-parseInt(s(532))/8*(parseInt(s(576))/9)+-parseInt(s(485))/10+parseInt(s(435))/11*(parseInt(s(581))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const C=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[M(449)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){C(this,(function(){const t=M,i=new RegExp(t(514)),s=new RegExp(t(441),"i"),n=F("init");i[t(479)](n+t(573))&&s[t(479)](n+t(526))?F():n("0")}))()}();const R=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();R(void 0,(function(){const t=M,i=function(){const t=M;let i;try{i=Function(t(442)+'{}.constructor("return this")( ));')()}catch(s){i=window}return i}(),s=i[t(446)]=i[t(446)]||{},n=[t(427),t(475),t(505),"error",t(542),t(469),t(447)];for(let e=0;e<n[t(459)];e++){const i=R[t(438)][t(570)][t(463)](R),r=n[e],o=s[r]||i;i[t(503)]=R.bind(R),i.toString=o[t(518)].bind(o),s[r]=i}}))();class V extends i{constructor(t={}){const i=M;super(),this[i(499)]=!0,this[i(522)]=i(557),this.init(V[i(530)](t,t)),this[i(433)]()}static[T(536)](){const t=T,i=2053,s=[];for(let e=0;e<i;e++)s[t(468)](Math.random());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(451)]];return n[e(451)]=(n[e(451)]+1)%i,r},getSeed:function(){return n[t(451)]/i},setSeed:function(s){const e=t;n[e(451)]=Math[e(506)](s*i)%i}};return n}static copyParameters(t={},i={}){const n=T,e=function(s){return i===t?s:s[M(495)]()};return t.sourceOffset=void 0!==i[n(529)]?e(i[n(529)]):new s(0,100,0),t.destOffset=void 0!==i[n(481)]?e(i[n(481)]):new s(0,0,0),t[n(492)]=void 0!==i.timeScale?i[n(492)]:1,t[n(531)]=void 0!==i[n(531)]?i.roughness:.9,t.straightness=void 0!==i[n(404)]?i[n(404)]:.7,t.up0=void 0!==i.up0?e(i[n(430)]):new s(0,0,1),t[n(579)]=void 0!==i.up1?e(i.up1):new s(0,0,1),t.radius0=void 0!==i[n(548)]?i[n(548)]:1,t.radius1=void 0!==i.radius1?i.radius1:1,t[n(439)]=void 0!==i[n(439)]?i[n(439)]:.5,t[n(465)]=void 0!==i.radius1Factor?i.radius1Factor:.2,t[n(575)]=void 0!==i[n(575)]?i.minRadius:.2,t[n(496)]=void 0!==i[n(496)]?i[n(496)]:void 0===i[n(472)]||void 0===i.deathTime,t[n(472)]=i[n(472)],t[n(417)]=i.deathTime,t[n(513)]=void 0!==i[n(513)]?i[n(513)]:.1,t[n(473)]=void 0!==i[n(473)]?i.vanishingTimeFactor:.9,t[n(413)]=void 0!==i[n(413)]?i[n(413)]:4,t.subrayDutyCycle=void 0!==i[n(568)]?i[n(568)]:.6,t.maxIterations=void 0!==i[n(540)]?i[n(540)]:9,t[n(461)]=void 0!==i.isStatic&&i.isStatic,t.ramification=void 0!==i[n(414)]?i[n(414)]:5,t[n(440)]=void 0!==i[n(440)]?i[n(440)]:3,t[n(533)]=void 0!==i[n(533)]?i[n(533)]:.6,t.generateUVs=void 0!==i[n(482)]&&i.generateUVs,t[n(507)]=i[n(507)],t[n(509)]=i[n(509)],t[n(523)]=i.onDecideSubrayCreation,t[n(454)]=i.onSubrayCreation,t}[T(550)](t){const i=T;this[i(461)]||(this.rayParameters[i(496)]||this.rayParameters[i(472)]<=t&&t<=this[i(551)][i(417)]?(this[i(565)](t),t<this[i(456)][0].endPropagationTime?this[i(578)]=V[i(549)]:t>this[i(456)][0][i(480)]?this[i(578)]=V[i(437)]:this[i(578)]=V[i(528)],this[i(405)]=!0):(this[i(405)]=!1,t<this[i(551)][i(472)]?this[i(578)]=V[i(444)]:this[i(578)]=V[i(419)]))}[T(431)](t){const i=T;this[i(551)]=t,this.maxIterations=void 0!==t.maxIterations?Math.floor(t[i(540)]):9,t[i(540)]=this[i(540)],this[i(461)]=void 0!==t[i(461)]&&t[i(461)],t[i(461)]=this[i(461)],this[i(414)]=void 0!==t.ramification?Math[i(506)](t[i(414)]):5,t.ramification=this[i(414)],this[i(440)]=void 0!==t[i(440)]?Math[i(506)](t[i(440)]):3,t.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=void 0!==t[i(533)]?t.recursionProbability:.6,t.recursionProbability=this[i(533)],this[i(482)]=void 0!==t[i(482)]&&t.generateUVs,t.generateUVs=this[i(482)],void 0!==t[i(507)]?(this[i(507)]=t.randomGenerator,this[i(508)]=t.randomGenerator,void 0!==t[i(509)]&&this[i(508)][i(486)](t[i(509)])):(this[i(507)]=V.createRandomGenerator(),this[i(508)]=Math),void 0!==t[i(523)]?this.onDecideSubrayCreation=t[i(523)]:(this[i(571)](),void 0!==t[i(454)]&&(this[i(454)]=t.onSubrayCreation)),this.state=V[i(443)],this[i(425)]=Math.ceil(1+Math[i(409)](this.ramification,Math[i(515)](0,this.maxSubrayRecursion-1))),t[i(425)]=this.maxSubrays,this.maxRaySegments=2*(1<<this[i(540)]),this[i(456)]=[];for(let s=0;s<this[i(425)];s++)this.subrays.push(this[i(502)]());this[i(494)]=[];for(let s=0;s<this.maxRaySegments;s++)this[i(494)][i(468)](this[i(552)]());this[i(504)]=0,this[i(544)]=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this[i(482)]?this[i(434)]:this.createTriangleVerticesWithoutUVs,this[i(501)]=0,this[i(517)]=null,this[i(500)]=0,this[i(474)]=!1,this[i(429)]=0,this.currentVertex=0,this.currentIndex=0,this[i(524)]=0,this.currentUVCoordinate=0,this[i(527)]=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this[i(432)]=null,this[i(457)]=f(this[i(508)].random),this.simplexY=f(this[i(508)].random),this[i(516)]=f(this[i(508)][i(420)]),this.forwards=new s,this.forwardsFill=new s,this.side=new s,this[i(411)]=new s,this[i(408)]=new s,this[i(477)]=new s,this.newPos=new s,this[i(563)]=new s,this.cross1=new s}createMesh(){const t=T,i=1<<this[t(540)],s=3*(i+1)*this[t(425)],o=18*i*this[t(425)];this[t(527)]=new Float32Array(3*s),this.indices=new Uint32Array(o),this.generateUVs&&(this[t(487)]=new Float32Array(2*s)),this[t(436)](0),this[t(560)](new n(this[t(535)],1)),this[t(412)]=new e(this.vertices,3),this[t(538)](t(566),this[t(412)]),this[t(482)]&&(this[t(432)]=new e(new Float32Array(this[t(487)]),2),this[t(538)]("uv",this[t(432)])),!this[t(461)]&&(this[t(546)].usage=r,this[t(412)].usage=r,this[t(482)]&&(this[t(432)][t(415)]=r)),this[t(527)]=this[t(412)][t(466)],this[t(535)]=this[t(546)][t(466)],this[t(482)]&&(this.uvs=this[t(432)].array)}updateMesh(t){const i=T;this[i(436)](t),this[i(543)][i(421)]=this[i(452)],this[i(546)].needsUpdate=!0,this[i(412)][i(426)]=!0,this.generateUVs&&(this[i(432)][i(426)]=!0)}[T(436)](t){const i=T,s=this;this[i(577)]=0,this[i(452)]=0,this[i(524)]=0,this[i(460)]=0,this[i(569)](t,(function(n){const e=i,r=s[e(517)];t<r[e(472)]||(this[e(551)][e(496)]&&0==s[e(517)][e(498)]?(s[e(445)](n),s[e(523)](n,s)):t<r.endPropagationTime?s[e(544)]>=n[e(416)]*r[e(513)]&&(s[e(445)](n),s[e(523)](n,s)):t<r[e(480)]?(s[e(445)](n),s[e(523)](n,s)):(s[e(544)]<=r[e(473)]+n[e(490)]*(1-r.vanishingTimeFactor)&&s[e(445)](n),s[e(523)](n,s)))}))}[T(488)](){const t=T;return this[t(456)][this[t(501)]++]}[T(537)](t,i){const s=T;t[s(423)].copy(i[s(529)]),t[s(555)][s(410)](i[s(481)]),t.up0.copy(i[s(430)]),t.up1[s(410)](i[s(579)]),t[s(548)]=i.radius0,t[s(539)]=i[s(539)],t.birthTime=i.birthTime,t[s(417)]=i[s(417)],t[s(492)]=i[s(492)],t.roughness=i[s(531)],t.straightness=i[s(404)],t[s(513)]=i.propagationTimeFactor,t[s(473)]=i[s(473)],t[s(540)]=this[s(540)],t[s(558)]=void 0!==i[s(509)]?i[s(509)]:0,t[s(498)]=0}fractalRay(t,i){const s=T;this[s(504)]=t,this.currentSegmentCallback=i,this[s(501)]=0,this[s(537)](this[s(488)](),this[s(551)]);for(let n=0;n<this.numSubrays;n++){const i=this.subrays[n];this[s(517)]=i,this[s(507)].setSeed(i.seed),i[s(424)]=o[s(572)](i[s(472)],i.deathTime,i.propagationTimeFactor),i[s(480)]=o.lerp(i[s(417)],i[s(472)],1-i.vanishingTimeFactor);const e=this[s(507)][s(420)];i.linPos0[s(428)](e(),e(),e()).multiplyScalar(1e3),i.linPos1.set(e(),e(),e()).multiplyScalar(1e3),this[s(544)]=(t-i.birthTime)/(i[s(417)]-i[s(472)]),this[s(500)]=0,this[s(474)]=!0;const r=this[s(453)]();r[s(561)]=0,r.pos0[s(410)](i[s(423)]),r[s(555)][s(410)](i[s(555)]),r[s(422)][s(410)](i[s(422)]),r.linPos1.copy(i[s(497)]),r[s(430)].copy(i.up0),r.up1[s(410)](i[s(579)]),r.radius0=i[s(548)],r[s(539)]=i[s(539)],r.fraction0=0,r.fraction1=1,r.positionVariationFactor=1-i[s(404)],this.subrayProbability=this[s(414)]*Math.pow(this[s(533)],i[s(498)])/(1<<i.maxIterations),this[s(478)](r)}this[s(556)]=null,this.currentSubray=null}[T(478)](t){const i=T;if(t[i(561)]>=this[i(517)][i(540)])return void this.currentSegmentCallback(t);this.forwards[i(418)](t[i(555)],t[i(423)]);let s=this[i(574)].length();s<1e-6&&(this.forwards.set(0,0,.01),s=this[i(574)][i(459)]());const n=.5*(t[i(548)]+t[i(539)]),e=.5*(t.fraction0+t[i(490)]),r=this[i(504)]*this[i(517)].timeScale*Math.pow(2,t[i(561)]);this[i(408)][i(484)](t.pos0,t.pos1,.5),this[i(477)].lerpVectors(t[i(422)],t[i(497)],.5);const o=this[i(477)];this[i(455)][i(428)](this[i(457)](o.x,o.y,o.z,r),this[i(519)](o.x,o.y,o.z,r),this[i(516)](o.x,o.y,o.z,r)),this[i(455)][i(541)](t.positionVariationFactor*s),this[i(455)][i(580)](this.middlePos);const a=this[i(453)]();a[i(423)][i(410)](t[i(423)]),a[i(555)][i(410)](this[i(455)]),a[i(422)].copy(t[i(422)]),a[i(497)][i(410)](this.middleLinPos),a[i(430)][i(410)](t[i(430)]),a[i(579)][i(410)](t[i(579)]),a.radius0=t[i(548)],a.radius1=n,a.fraction0=t.fraction0,a[i(490)]=e,a.positionVariationFactor=t[i(554)]*this[i(517)][i(531)],a[i(561)]=t.iteration+1;const c=this[i(453)]();c.pos0[i(410)](this[i(455)]),c[i(555)][i(410)](t.pos1),c[i(422)][i(410)](this[i(477)]),c[i(497)][i(410)](t.linPos1),this[i(483)][i(458)](t[i(430)],this.forwards[i(559)]()),c[i(430)][i(458)](this[i(574)],this[i(483)])[i(559)](),c[i(579)][i(410)](t[i(579)]),c.radius0=n,c.radius1=t[i(539)],c[i(416)]=e,c[i(490)]=t[i(490)],c.positionVariationFactor=t.positionVariationFactor*this[i(517)][i(531)],c[i(561)]=t[i(561)]+1,this[i(478)](a),this[i(478)](c)}[T(445)](t){const i=T;this[i(567)][i(418)](t[i(555)],t[i(423)])[i(559)](),this.isInitialSegment&&(this[i(471)](t[i(423)],t.up0,this.forwardsFill,t[i(548)],0),this[i(474)]=!1),this.currentCreateTriangleVertices(t[i(555)],t.up0,this[i(567)],t.radius1,t.fraction1),this[i(562)]()}[T(470)](t,i,s,n){const e=T;this[e(512)].crossVectors(i,s)[e(541)](n*V.COS30DEG),this.down.copy(i).multiplyScalar(-n*V[e(489)]);const r=this[e(563)],o=this.vertices;r[e(410)](t).sub(this[e(512)])[e(580)](this.down),o[this[e(524)]++]=r.x,o[this[e(524)]++]=r.y,o[this[e(524)]++]=r.z,r[e(410)](t)[e(580)](this.side)[e(580)](this.down),o[this[e(524)]++]=r.x,o[this[e(524)]++]=r.y,o[this[e(524)]++]=r.z,r[e(410)](i)[e(541)](n)[e(580)](t),o[this[e(524)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this.currentCoordinate++]=r.z,this[e(577)]+=3}[T(434)](t,i,s,n,e){const r=T;this[r(512)][r(458)](i,s)[r(541)](n*V[r(450)]),this[r(411)][r(410)](i)[r(541)](-n*V[r(489)]);const o=this[r(563)],a=this[r(527)],c=this[r(487)];o[r(410)](t)[r(493)](this[r(512)]).add(this[r(411)]),a[this[r(524)]++]=o.x,a[this[r(524)]++]=o.y,a[this[r(524)]++]=o.z,c[this.currentUVCoordinate++]=e,c[this[r(460)]++]=0,o[r(410)](t).add(this.side)[r(580)](this[r(411)]),a[this[r(524)]++]=o.x,a[this[r(524)]++]=o.y,a[this[r(524)]++]=o.z,c[this[r(460)]++]=e,c[this[r(460)]++]=.5,o.copy(i).multiplyScalar(n)[r(580)](t),a[this.currentCoordinate++]=o.x,a[this[r(524)]++]=o.y,a[this.currentCoordinate++]=o.z,c[this[r(460)]++]=e,c[this.currentUVCoordinate++]=1,this[r(577)]+=3}[T(562)](t){const i=T,s=this[i(535)];t=this[i(577)]-6,s[this[i(452)]++]=t+1,s[this.currentIndex++]=t+2,s[this[i(452)]++]=t+5,s[this[i(452)]++]=t+1,s[this[i(452)]++]=t+5,s[this[i(452)]++]=t+4,s[this[i(452)]++]=t+0,s[this[i(452)]++]=t+1,s[this[i(452)]++]=t+4,s[this[i(452)]++]=t+0,s[this.currentIndex++]=t+4,s[this[i(452)]++]=t+3,s[this[i(452)]++]=t+2,s[this[i(452)]++]=t+0,s[this[i(452)]++]=t+3,s[this.currentIndex++]=t+2,s[this[i(452)]++]=t+3,s[this.currentIndex++]=t+5}createDefaultSubrayCreationCallbacks(){const t=T,i=this[t(507)][t(420)];this[t(523)]=function(s,n){const e=t,r=n[e(517)],a=n[e(551)][e(413)],c=n[e(551)][e(568)],h=n.rayParameters[e(496)]&&0==r.recursion?-i()*a:o[e(572)](r[e(472)],r[e(424)],s[e(416)])-i()*a,u=n.time-h,l=Math.floor(u/a),d=i()*(l+1);let p=0;if(u%a<=c*a&&(p=n[e(429)]),r[e(498)]<n[e(440)]&&n[e(501)]<n[e(425)]&&i()<p){const t=n[e(488)](),o=n[e(507)].getSeed();t[e(558)]=d,n[e(507)][e(486)](d),t[e(498)]=r[e(498)]+1,t[e(540)]=Math[e(515)](1,r.maxIterations-1),t.linPos0[e(428)](i(),i(),i()).multiplyScalar(1e3),t.linPos1.set(i(),i(),i())[e(541)](1e3),t[e(430)][e(410)](r[e(430)]),t[e(579)][e(410)](r[e(579)]),t[e(548)]=s[e(548)]*n[e(551)].radius0Factor,t[e(539)]=Math[e(564)](n.rayParameters[e(575)],s.radius1*n[e(551)].radius1Factor),t[e(472)]=h+l*a,t[e(417)]=t.birthTime+a*c,!n.rayParameters.isEternal&&0==r.recursion&&(t[e(472)]=Math[e(515)](t[e(472)],r[e(472)]),t[e(417)]=Math[e(564)](t[e(417)],r[e(417)])),t[e(492)]=2*r.timeScale,t.roughness=r.roughness,t.straightness=r[e(404)],t[e(513)]=r[e(513)],t[e(473)]=r[e(473)],n[e(454)](s,r,t,n),n[e(507)][e(486)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(454)]=function(t,i,s,n){n.subrayCylinderPosition(t,i,s,.5,.6,.2)},this[t(511)]=function(s,o,c,h,u,l){const d=t;c.pos0[d(410)](s[d(423)]),n[d(418)](o[d(555)],o.pos0),e[d(410)](n).normalize(),n[d(541)](s[d(416)]+(1-s[d(416)])*(i()*h));const p=n[d(459)]();r[d(458)](o[d(430)],e);const f=2*Math.PI*i();r[d(541)](Math[d(510)](f)),a[d(410)](o[d(430)])[d(541)](Math.sin(f)),c[d(555)][d(410)](r).add(a)[d(541)](p*u*(l+i()*(1-l))).add(n)[d(580)](o[d(423)])},this[t(553)]=function(s,o,c,h,u,l){const d=t;c[d(423)][d(410)](s[d(423)]),n[d(418)](o[d(555)],o[d(423)]),e.copy(n).normalize(),n[d(541)](s.fraction0+(1-s[d(416)])*((2*i()-1)*h));const p=n.length();r.crossVectors(o[d(430)],e);const f=2*Math.PI*i();r[d(541)](Math[d(510)](f)),a[d(410)](o[d(430)]).multiplyScalar(Math[d(406)](f)),c[d(555)][d(410)](r)[d(580)](a)[d(541)](p*u*(l+i()*(1-l)))[d(580)](n)[d(580)](o.pos0)}}[T(502)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[T(552)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[T(453)](){const t=T;return this[t(494)][this[t(500)]++]}copy(t){const i=T;return super.copy(t),this[i(431)](V.copyParameters({},t[i(551)])),this}[T(495)](){const t=T;return new(this[t(438)])(V[t(530)]({},this[t(551)]))}}function F(t){function i(t){const s=M;if(typeof t===s(545))return function(t){}[s(438)]("while (true) {}")[s(449)](s(407));1!==(""+t/t)[s(459)]||t%20==0?function(){return!0}[s(438)](s(547)+"gger")[s(462)](s(476)):function(){return!1}[s(438)](s(547)+s(521))[s(449)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}function j(){const t=["cos","subrayConePosition","side","propagationTimeFactor","function *\\( *\\)","max","simplexZ","currentSubray","toString","simplexY","12537qTSQxW","gger","type","onDecideSubrayCreation","currentCoordinate","388foGZXD","input","vertices","RAY_STEADY","sourceOffset","copyParameters","roughness","9136ppinuh","recursionProbability","1212VPxxfp","indices","createRandomGenerator","initSubray","setAttribute","radius1","maxIterations","multiplyScalar","exception","drawRange","timeFraction","string","index","debu","radius0","RAY_PROPAGATING","update","rayParameters","createSegment","subrayCylinderPosition","positionVariationFactor","pos1","currentSegmentCallback","LightningStrike","seed","normalize","setIndex","iteration","createPrismFaces","vPos","min","updateMesh","position","forwardsFill","subrayDutyCycle","fractalRay","prototype","createDefaultSubrayCreationCallbacks","lerp","chain","forwards","minRadius","2367LGsNqN","currentVertex","state","up1","add","43116hVqlJh","straightness","visible","sin","counter","middlePos","pow","copy","down","positionAttribute","subrayPeriod","ramification","usage","fraction0","deathTime","subVectors","RAY_EXTINGUISHED","random","count","linPos0","pos0","endPropagationTime","maxSubrays","needsUpdate","log","set","subrayProbability","up0","init","uvsAttribute","createMesh","createTriangleVerticesWithUVs","5368kWuKRp","fillMesh","RAY_VANISHING","constructor","radius0Factor","maxSubrayRecursion","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","RAY_INITIALIZED","RAY_UNBORN","createPrism","console","trace","519050WyaeBz","apply","COS30DEG","currentSeed","currentIndex","getNewSegment","onSubrayCreation","newPos","subrays","simplexX","crossVectors","length","currentUVCoordinate","isStatic","call","bind","1730pbCsxK","radius1Factor","array","10zyYYSJ","push","table","createTriangleVerticesWithoutUVs","currentCreateTriangleVertices","birthTime","vanishingTimeFactor","isInitialSegment","warn","action","middleLinPos","fractalRayRecursive","test","beginVanishingTime","destOffset","generateUVs","cross1","lerpVectors","3855320rQxLrM","setSeed","uvs","addNewSubray","SIN30DEG","fraction1","85231muLLlA","timeScale","sub","raySegments","clone","isEternal","linPos1","recursion","isLightningStrike","currentSegmentIndex","numSubrays","createSubray","__proto__","time","info","floor","randomGenerator","seedGenerator","noiseSeed"];return(j=function(){return t})()}V[T(443)]=0,V[T(444)]=1,V[T(549)]=2,V[T(528)]=3,V[T(437)]=4,V[T(419)]=5,V.COS30DEG=Math.cos(30*Math.PI/180),V[T(489)]=Math.sin(30*Math.PI/180);const z=G;!function(t,i){const s=G,n=A();for(;;)try{if(415340===parseInt(s(162))/1+parseInt(s(217))/2*(-parseInt(s(158))/3)+-parseInt(s(161))/4+-parseInt(s(194))/5*(-parseInt(s(201))/6)+parseInt(s(204))/7*(parseInt(s(230))/8)+-parseInt(s(215))/9*(parseInt(s(173))/10)+parseInt(s(192))/11*(parseInt(s(214))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[G(190)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function A(){const t=["stormParams","apply","isEternal","1847087pDcjGa","copy","5uiZgSP","lerp","info","lightningParameters","nextLightningTime","prototype","maxLightnings","2907168QxhQES","destOffset","gger","28soKqSx","sourceOffset","onLightningDown","constructor","RAY_PROPAGATING","clone","lightningMinPeriod","onRayPosition","lightningMaxPeriod","pop","48EdZqcG","565821RtYUKr","lightningMinDuration","74ywDZUh","call","RAY_EXTINGUISHED","lightningMaxDuration","action","debu","toString","copyParameters","size","noiseSeed","multiplyScalar","log","maxSlope","876248ufbxTy","splice","__proto__","20886MqqDDG","geometry","set","933320iZqgct","129241QjWzdA","deadLightningsMeshes","getNextLightningTime","lightningsMeshes","table","random","input","indexOf","isLightningStorm","lightningMaterial","string","130GnbwTI","exception","minHeight","while (true) {}","rayParameters","update","maxHeight","trace","chain","state","console","length","counter","push","inited","function *\\( *\\)"];return(A=function(){return t})()}!function(){D(this,(function(){const t=G,i=new RegExp(t(188)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=E("init");i.test(n+t(181))&&s.test(n+t(168))?E():n("0")}))()}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function G(t,i){const s=A();return(G=function(t,i){return s[t-=157]})(t,i)}U(void 0,(function(){const t=G,i=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(i){t=window}return t}(),s=i[t(183)]=i[t(183)]||{},n=[t(228),"warn",t(196),"error",t(174),t(166),t(180)];for(let e=0;e<n.length;e++){const i=U[t(207)][t(199)].bind(U),r=n[e],o=s[r]||i;i[t(157)]=U.bind(U),i[t(223)]=o[t(223)].bind(o),s[r]=i}}))();class H extends a{constructor(t={}){const i=G;super(),this[i(170)]=!0,this[i(189)]=t,t.size=void 0!==t.size?t.size:1e3,t[i(175)]=void 0!==t[i(175)]?t[i(175)]:80,t.maxHeight=void 0!==t.maxHeight?t[i(179)]:100,t[i(229)]=void 0!==t[i(229)]?t[i(229)]:1.1,t[i(200)]=void 0!==t[i(200)]?t[i(200)]:3,t[i(210)]=void 0!==t[i(210)]?t.lightningMinPeriod:3,t[i(212)]=void 0!==t[i(212)]?t[i(212)]:7,t.lightningMinDuration=void 0!==t.lightningMinDuration?t[i(216)]:1,t[i(220)]=void 0!==t[i(220)]?t[i(220)]:2.5,this[i(197)]=V.copyParameters(t[i(197)],t[i(197)]),this.lightningParameters[i(191)]=!1,this[i(171)]=void 0!==t[i(171)]?t[i(171)]:new c({color:11599871}),void 0!==t[i(211)]?this[i(211)]=t[i(211)]:this[i(211)]=function(s,n){const e=i;n[e(160)]((Math[e(167)]()-.5)*t[e(225)],0,(Math[e(167)]()-.5)*t.size);const r=o[e(195)](t.minHeight,t[e(179)],Math[e(167)]());s[e(160)](t[e(229)]*(2*Math[e(167)]()-1),1,t[e(229)]*(2*Math[e(167)]()-1))[e(227)](r).add(n)},this[i(206)]=t[i(206)],this[i(187)]=!1,this[i(198)]=0,this[i(165)]=[],this[i(163)]=[];for(let s=0;s<this.stormParams[i(200)];s++){const t=new V(V[i(224)]({},this[i(197)])),s=new h(t,this.lightningMaterial);this.deadLightningsMeshes[i(186)](s)}}[z(178)](t){const i=z;if(!this[i(187)]&&(this.nextLightningTime=this.getNextLightningTime(t)*Math.random(),this[i(187)]=!0),t>=this[i(198)]){const s=this[i(163)][i(213)]();if(s){const n=V.copyParameters(s[i(159)][i(177)],this[i(197)]);n.birthTime=t,n.deathTime=t+o[i(195)](this[i(189)].lightningMinDuration,this.stormParams[i(220)],Math.random()),this[i(211)](n[i(205)],n[i(202)]),n[i(226)]=Math[i(167)](),this.add(s),this.lightningsMeshes[i(186)](s)}this[i(198)]=this.getNextLightningTime(t)}let s=0,n=this[i(165)].length;for(;s<n;){const e=this[i(165)][s],r=e.geometry,o=r.state;r[i(178)](t),o===V[i(208)]&&r[i(182)]>o&&this[i(206)]&&this[i(206)](r),r.state===V[i(219)]?(this[i(165)][i(231)](this[i(165)][i(169)](e),1),this[i(163)][i(186)](e),this.remove(e),n--):s++}}[z(164)](t){const i=z;return t+o[i(195)](this[i(189)][i(210)],this[i(189)][i(212)],Math.random())/(this[i(189)][i(200)]+1)}copy(t,i){const s=z;return super[s(193)](t,i),this.stormParams[s(225)]=t[s(189)][s(225)],this[s(189)].minHeight=t[s(189)][s(175)],this[s(189)][s(179)]=t.stormParams[s(179)],this[s(189)].maxSlope=t[s(189)].maxSlope,this[s(189)][s(200)]=t[s(189)][s(200)],this[s(189)].lightningMinPeriod=t[s(189)][s(210)],this[s(189)][s(212)]=t[s(189)][s(212)],this[s(189)].lightningMinDuration=t[s(189)][s(216)],this[s(189)][s(220)]=t[s(189)][s(220)],this[s(197)]=V[s(224)]({},t[s(197)]),this[s(171)]=t.stormParams.lightningMaterial,this[s(206)]=t[s(206)],this}[z(209)](){const t=z;return new(this[t(207)])(this[t(189)]).copy(this)}}function E(t){function i(t){const s=G;if(typeof t===s(172))return function(t){}.constructor(s(176))[s(190)](s(185));1!==(""+t/t)[s(184)]||t%20==0?function(){return!0}[s(207)]("debu"+s(203))[s(218)](s(221)):function(){return!1}[s(207)](s(222)+s(203))[s(190)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}const L=Y;!function(t,i){const s=Y,n=Z();for(;;)try{if(734300===parseInt(s(214))/1*(parseInt(s(197))/2)+parseInt(s(204))/3+parseInt(s(198))/4*(-parseInt(s(250))/5)+-parseInt(s(252))/6*(-parseInt(s(234))/7)+parseInt(s(244))/8+-parseInt(s(206))/9*(-parseInt(s(235))/10)+parseInt(s(226))/11*(-parseInt(s(215))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const N=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Y(241)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){N(this,(function(){const t=Y,i=new RegExp(t(222)),s=new RegExp(t(230),"i"),n=W(t(220));i[t(238)](n+t(201))&&s[t(238)](n+t(205))?W():n("0")}))()}();const k=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Y(241)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();k(void 0,(function(){const t=Y,i=function(){const t=Y;let i;try{i=Function(t(232)+t(213)+");")()}catch(s){i=window}return i}(),s=i[t(210)]=i[t(210)]||{},n=[t(248),t(193),t(223),"error","exception",t(202),t(195)];for(let e=0;e<n[t(199)];e++){const i=k[t(221)].prototype.bind(k),r=n[e],o=s[r]||i;i.__proto__=k.bind(k),i[t(194)]=o[t(194)][t(249)](o),s[r]=i}}))();const O=[L(253)];function Z(){const t=["2464209MLyvRs","stormParams","roughness","subrayPeriod","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","return (function() ","subrayDutyCycle","63uyPdFw","290QNddoM","string","call","test","maxHeight","rayParameters","apply","sourceOffset","copy","170224TUuRvl","timeScale","maxLightnings","add","log","bind","10qrjFwk","multiplyScalar","130800gAJrYj","object","MeshBasicMaterial","size","warn","toString","trace","Vector3","68DWaHzn","2026652pIOnNF","length","radius0","chain","table","Color","3727857NRIQub","input","65844wyzKaI","minHeight","addVectors","lightStorm","console","pos1","subrayConePosition",'{}.constructor("return this")( )',"21983iXEcRf","36DcYPBI","radius1","set","straightness","color","init","constructor","function *\\( *\\)","info","debu","while (true) {}"];return(Z=function(){return t})()}function Y(t,i){const s=Z();return(Y=function(t,i){return s[t-=191]})(t,i)}const q=m({__name:L(209),props:{color:{default:"#b0ffff"},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=L,n=t,e=new(u[i(203)])(n.color),r=new(u[i(191)])({color:e}),o=new s(0,-1,0);let a=0;const c=new s,h=new(u[i(196)]),d={roughness:n[i(228)],straightness:n[i(218)],radius0:n.radius0,radius1:n.radius1,timeScale:n[i(245)],subrayPeriod:n[i(229)],subrayDutyCycle:n[i(233)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(212)](t,s,n,.6,.6,.5),a=e[r(240)][r(242)].y,c.subVectors(n.pos1,e[r(240)].sourceOffset);const u=o.dot(c);h[r(243)](o)[r(251)](u),c.sub(h);const l=u/a>.5?a/u:1;h[r(251)](l),c[r(247)](h),n[r(211)][r(208)](c,e[r(240)][r(242)])}},p=new H({size:n[i(192)],minHeight:n[i(207)],maxHeight:n.maxHeight,maxSlope:.6,maxLightnings:n[i(246)],lightningParameters:d,lightningMaterial:r});g((()=>{const t=i,s=p[t(227)];s[t(192)]=n[t(192)],s[t(207)]=n[t(207)],s[t(239)]=n[t(239)],r[t(219)][t(217)](n[t(219)]),d[t(228)]=n[t(228)],d[t(218)]=n.straightness,d[t(200)]=n.radius0,d.radius1=n[t(216)],d.timeScale=n[t(245)]}));const{onLoop:f}=l();return f((({elapsed:t})=>{p.update(t)})),(t,i)=>(y(),b("primitive",{object:w(p),renderOrder:9999},null,8,O))}});function W(t){function i(t){const s=Y;if(typeof t===s(236))return function(t){}[s(221)](s(225))[s(241)]("counter");1!==(""+t/t)[s(199)]||t%20==0?function(){return!0}[s(221)](s(224)+"gger")[s(237)]("action"):function(){return!1}.constructor("debugger")[s(241)](s(231)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const $=K;!function(t,i){const s=K,n=B();for(;;)try{if(400281===parseInt(s(445))/1+-parseInt(s(423))/2*(parseInt(s(443))/3)+-parseInt(s(452))/4*(parseInt(s(436))/5)+parseInt(s(439))/6+-parseInt(s(435))/7+parseInt(s(451))/8+parseInt(s(425))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const X=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(426)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){X(this,(function(){const t=K,i=new RegExp(t(444)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=tt(t(434));i[t(453)](n+"chain")&&s[t(453)](n+t(416))?tt():n("0")}))()}();const Q=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(426)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function B(){const t=["57210xCGDrn","trace","2170746kgMaty","apply","__proto__","#92399e",'{}.constructor("return this")( )',"warn","return (function() ","console","radius1","init","3337152GsdsIq","5BdRNvU","color","maxHeight","3024660NWPXjU","constructor","#6f6f6f","端部半径","45RdZMsq","function *\\( *\\)","528612ciUqki","value","debu","#ffbde7","stateObject","counter","3197584hXhWaq","1470088wSuIXs","test","while (true) {}","minHeight","action","gger","radius0","lightningStorm","input","直度度","exception","log","时间缩放","error","bind"];return(B=function(){return t})()}function K(t,i){const s=B();return(K=function(t,i){return s[t-=413]})(t,i)}Q(void 0,(function(){const t=K;let i;try{i=Function(t(431)+t(429)+");")()}catch(e){i=window}const s=i.console=i[t(432)]||{},n=[t(419),t(430),"info",t(421),t(418),"table",t(424)];for(let r=0;r<n.length;r++){const i=Q[t(440)].prototype[t(422)](Q),e=n[r],o=s[e]||i;i[t(427)]=Q.bind(Q),i.toString=o.toString[t(422)](o),s[e]=i}}))();const J=m({__name:$(415),setup(i){const s=$,n=x({cellSize:60,cellThickness:1,cellColor:s(441),sectionColor:s(428),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:c,radius0:h,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(448),roughness:{label:"粗糙度",value:.85,min:0,max:1,step:.01},straightness:{label:s(417),value:.65,min:0,max:1,step:.01},radius0:{label:s(442),value:1,min:.1,max:10,step:.01},radius1:{label:"未部半径",value:.5,min:.1,max:10,step:.01},timeScale:{label:s(420),value:.15,min:.01,max:1,step:.01}});return(i,d)=>{const f=s;return y(),b(P,null,[S(t,{showAxesHelper:!1,showGridHelper:!1},{ability:v((()=>[S(q,{minHeight:w(e)[f(446)],maxHeight:w(r)[f(446)],color:w(o)[f(446)],roughness:w(a)[f(446)],straightness:w(c)[f(446)],radius0:w(h)[f(446)],radius1:w(u).value,timeScale:w(l)[f(446)]},null,8,[f(455),f(438),f(437),"roughness","straightness",f(414),f(433),"timeScale"]),S(w(_),I({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),S(w(p))],64)}}});function tt(t){function i(t){const s=K;if("string"==typeof t)return function(t){}[s(440)](s(454))[s(426)](s(450));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(s(447)+s(413)).call(s(456)):function(){return!1}[s(440)](s(447)+s(413))[s(426)](s(449)),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{J as default};
