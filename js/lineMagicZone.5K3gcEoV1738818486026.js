import{P as t}from"./tweakpane.yDiyAAkA1738818486026.js";import{e,h as n,a as o,o as r}from"./@tresjs.ZGxFoQtw1738818486026.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.jxYzR0JC1738818486026.js";import{_ as a,C as s}from"./three.WgQSjl1J1738818486026.js";import{d as l,a6 as u,a3 as c,w as f,o as m,H as p,N as d,u as h,j as g,r as v,e as I,f as x,g as w,al as S,m as y}from"./@vue.NRI7TcgI1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";import"./all.three.w-Cc8HG21738818486026.js";import"./oimophysics.x0jH7fze1738818486026.js";const _=U;!function(t,e){const n=U,o=M();for(;;)try{if(473685===-parseInt(n(509))/1+-parseInt(n(486))/2+parseInt(n(479))/3+parseInt(n(506))/4+-parseInt(n(496))/5*(-parseInt(n(546))/6)+parseInt(n(542))/7*(-parseInt(n(489))/8)+-parseInt(n(544))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const b=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[U(507)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=U,e=new RegExp(t(548)),n=new RegExp(t(495),"i"),o=D(t(487));e[t(480)](o+"chain")&&n.test(o+t(501))?D():o("0")}))()}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function U(t,e){const n=M();return(U=function(t,e){return n[t-=477]})(t,e)}T(void 0,(function(){const t=U,e=function(){const t=U;let e;try{e=Function(t(533)+t(481)+");")()}catch(n){e=window}return e}(),n=e[t(504)]=e.console||{},o=[t(543),"warn",t(513),t(503),t(491),t(521),"trace"];for(let r=0;r<o[t(528)];r++){const e=T[t(485)][t(523)][t(516)](T),i=o[r],a=n[i]||e;e[t(492)]=T[t(516)](T),e.toString=a[t(510)][t(516)](a),n[i]=e}}))();const N=[_(502)],C=[_(545),_(527),_(537)],j=_(482),P=_(497);function M(){const t=["floor","baseColor","aNormal","BufferGeometry","call","height","map","19922CXotnQ","log","899964ajtZle","position","8466wYINVo","value","function *\\( *\\)","push","color","action","1080159StQMCc","test",'{}.constructor("return this")( )',"\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","lineMagicZone","debu","constructor","197662kWifFm","init","EllipseCurve","24ZiXDUu","blending","exception","__proto__","scale","TresGroup","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","155BqjLyX","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","array","yRadius","while (true) {}","input","rotateX","error","console","getPoints","2864024culQQB","apply","gger","438750kdGkAl","toString","baseMaterial","#409eff","info","set","getAttribute","bind","counter","TresBufferGeometry","uTime","PointsMaterial","table","stateObject","prototype","setFromPoints","speed","xRadius","aIndex","length","AdditiveBlending","alphaMap","uScale","TresPoints","return (function() ","uHeight"];return(M=function(){return t})()}const W=l({__name:_(483),props:{height:{default:1.6},speed:{default:1},color:{default:"#90ee90"}},async setup(t){const r=_;let i,l;const v=u(),I=t,x=([i,l]=c((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,l(),i),w=new(a[r(488)])(0,0,8,8,0,2*Math.PI,!1,0),S=[];for(let e=0;e<5;e++)S[r(549)](...w[r(505)](719)),w[r(526)]+=.2,w[r(499)]+=.2;const y=new Float32Array(S[r(541)](((t,e)=>e))),b=(new(a[r(538)]))[r(524)](S)[r(515)]("position")[r(498)],T=new Float32Array(b[r(528)]);for(let e=0;e<b[r(528)]/3;e++){const t=3*e;b[t+1]+=.15*Math[r(535)](e/720);const n=e%720*3,o=3*(e%720+2880);T[t]=b[o]-b[n],T[t+1]=b[o+1]-b[n+1],T[t+2]=b[o+2]-b[n+2]}const U={uTime:{value:0},uScale:{value:v[r(493)]?v.scale:1},uHeight:{value:I.height},uPerlinTexture:{value:x[1]},baseColor:{value:new s(I[r(477)])}},{onLoop:M}=e();return M((()=>{const t=r;U[t(519)][t(547)]+=.01*I[t(525)]})),f((()=>[I.color,v.scale,I[r(540)]]),(([t,e,n])=>{const o=r;U[o(536)][o(547)][o(514)](t),U[o(531)][o(547)]=e,U[o(534)][o(547)]=n})),(t,e)=>{const o=r;return m(),p(o(494),null,[d(o(532),{rotateX:-Math.PI/2,scale:.1},[d(o(518),{position:[h(b),3],aIndex:[h(y),1],aNormal:[h(T),3]},null,8,C),g(h(n),{baseMaterial:a[o(520)],vertexShader:j,fragmentShader:P,uniforms:U,map:h(x)[0],alphaMap:h(x)[0],transparent:"",depthWrite:!1,blending:a[o(529)],color:o(512),size:.1},null,8,[o(511),o(541),o(530),o(490)])],8,N)])}}});function D(t){function e(t){const n=U;if("string"==typeof t)return function(t){}[n(485)](n(500)).apply(n(517));1!==(""+t/t).length||t%20==0?function(){return!0}[n(485)](n(484)+n(508))[n(539)](n(478)):function(){return!1}.constructor("debu"+n(508)).apply(n(522)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const z=A;function A(t,e){const n=O();return(A=function(t,e){return n[t-=146]})(t,e)}function O(){const t=["counter","5161600lBEbkO","call",'{}.constructor("return this")( )',"gger","#201919","warn","scale","2333748lZUGkq","addBinding","string","toString","exception","error","1354270AayZHS","1070325ABIbTw","prototype","return (function() ","length","function *\\( *\\)","__proto__","table","constructor","height","stateObject","bind","467887LOGWHo","4474191cKkDSY","test","TresPerspectiveCamera","3393728cFwICM","lineMagicZone","info","debu","init","112zefjtv","apply","chain","TresAmbientLight"];return(O=function(){return t})()}!function(t,e){const n=A,o=O();for(;;)try{if(884781===-parseInt(n(162))/1+-parseInt(n(161))/2+parseInt(n(174))/3+parseInt(n(177))/4+-parseInt(n(148))/5+parseInt(n(155))/6+-parseInt(n(173))/7*(-parseInt(n(182))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=A,e=new RegExp(t(166)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=B(t(181));e.test(o+t(184))&&n[t(175)](o+"input")?B():o("0")}))()}();const Z=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[A(183)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=A;let e;try{e=Function(t(164)+t(150)+");")()}catch(r){e=window}const n=e.console=e.console||{},o=["log",t(153),t(179),t(160),t(159),t(168),"trace"];for(let i=0;i<o[t(165)];i++){const e=Z[t(169)][t(163)][t(172)](Z),r=o[i],a=n[r]||e;e[t(167)]=Z[t(172)](Z),e.toString=a[t(158)][t(172)](a),n[r]=e}}))();const k=l({__name:z(178),setup(e){const n=z,o=v({reflectivity:.1,showGridHelper:!0,scale:1}),a=v({color:"#ff0000",scale:1.8,height:2.4,speed:1}),s=new t;return s[n(156)](a,"color",{label:"颜色"}),s[n(156)](a,n(154),{label:"大小",min:.1,max:3,step:.1}),s[n(156)](a,n(170),{label:"高度",min:.1,max:3,step:.1}),s[n(156)](a,"speed",{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=I("TresCanvas");return m(),x(l,{clearColor:s(152),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:w((()=>[e[0]||(e[0]=d(s(176),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(h(r),{enableDamping:""}),e[1]||(e[1]=d(s(146),{intensity:2},null,-1)),(m(),x(S,null,{default:w((()=>[g(W,y({position:[3,0,0]},a),null,16)])),_:1})),(m(),x(S,null,{default:w((()=>[g(W,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(m(),x(S,null,{default:w((()=>[g(i,y({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function B(t){function e(t){const n=A;if(typeof t===n(157))return function(t){}[n(169)]("while (true) {}")[n(183)](n(147));1!==(""+t/t)[n(165)]||t%20==0?function(){return!0}[n(169)](n(180)+n(151))[n(149)]("action"):function(){return!1}[n(169)](n(180)+"gger")[n(183)](n(171)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{k as default};
