import{$ as n,p as t,d as e,S as r,N as o}from"./@tresjs.GO-cpSrO1723718122052.js";import{a6 as s,C as i}from"./three.eXhPIzTa1723718122052.js";import{P as c}from"./tweakpane.yHWGBmom1723718122052.js";import{L as a}from"./three-subdivide.wrzKJVqq1723718122052.js";import{d as u,b as l,a1 as f,w as p,o as d,D as h,J as g,aj as m,ak as v,a4 as y,r as b,e as w,f as I,g as S,j as _,u as x,m as M}from"./@vue.Q1VpS3901723718122052.js";import"./@vueuse.z522fCYR1723718122052.js";const B=T;function T(n,t){const e=k();return(T=function(n,t){return e[n-=460]})(n,t)}!function(n,t){const e=T,r=k();for(;;)try{if(469170===parseInt(e(470))/1*(parseInt(e(477))/2)+parseInt(e(464))/3*(-parseInt(e(490))/4)+parseInt(e(492))/5+parseInt(e(508))/6*(-parseInt(e(476))/7)+parseInt(e(495))/8*(-parseInt(e(497))/9)+-parseInt(e(505))/10*(-parseInt(e(489))/11)+-parseInt(e(473))/12*(-parseInt(e(469))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const j=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[T(466)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){j(this,(function(){const n=T,t=new RegExp(n(475)),e=new RegExp(n(518),"i"),r=z(n(463));t[n(501)](r+n(493))&&e[n(501)](r+n(523))?z():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[T(466)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();A(void 0,(function(){const n=T;let t;try{t=Function(n(504)+n(520)+");")()}catch(o){t=window}const e=t.console=t[n(487)]||{},r=[n(503),n(488),n(519),n(472),"exception","table","trace"];for(let s=0;s<r.length;s++){const t=A[n(491)][n(514)][n(513)](A),o=r[s],i=e[o]||t;t[n(496)]=A.bind(A),t[n(516)]=i[n(516)].bind(i),e[o]=t}}))();const C=[B(498)];function k(){const n=["42ILiVcx","#ffff00","geometry","glowColor","subdivision","bind","prototype","Color","toString","TresShaderMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info",'{}.constructor("return this")( )',"material","modify","input","clone","attributes","position","init","305862OPXzUC","copy","apply","uniforms","viewVector","6575465DynOQo","143653BqHSrY","length","error","12cyRZFQ","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","function *\\( *\\)","539924lQyyQD","6hYXYBC","value","counter","Vector3","side","string","TresMesh","srcMesh","blending","FrontSide","console","warn","216557jbNsZS","28XeIZRX","constructor","2604210aATSLb","chain","AdditiveBlending","296EgyEwX","__proto__","150993goYVhp","scale","subVectors","gger","test","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","log","return (function() ","450ZFOBSB","color","debu"];return(k=function(){return n})()}const R=u({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:B(509)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[B(486)]},blending:{default:s[B(494)]}},setup(e){const r=B,o=e,c=l(),u={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(515)])(o[r(506)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(502),fragmentShader:r(474),side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(485)]};f((()=>{const n=r;if(o[n(484)]&&!c[n(478)][n(510)][n(461)][n(462)]){let t=o.srcMesh[n(510)][n(460)]();o.subdivision&&(t=a[n(522)](t,2)),c[n(478)][n(510)]=t,c[n(478)][n(462)][n(465)](o[n(484)][n(462)])}o[n(506)]&&(u[n(467)][n(511)][n(478)]=new i(o[n(506)])),o.c&&(u[n(467)].c.value=o.c),o.p&&(u[n(467)].p[n(478)]=o.p)})),p((()=>o[r(512)]),(n=>{const t=r;let e=o[t(484)][t(510)].clone();n&&(e=a[t(522)](e,2)),c[t(478)][t(510)]=e})),p((()=>o.side),(n=>{const t=r;c[t(478)][t(521)][t(481)]=n})),p((()=>o.blending),(n=>{const t=r;c[t(478)][t(521)][t(485)]=n}));const{onLoop:y}=n(),{camera:b}=t();return y((()=>{const n=r;b[n(478)]&&c.value&&(u[n(467)][n(468)].value=(new(s[n(480)]))[n(499)](b[n(478)].position,c[n(478)].position))})),(n,t)=>{const e=r;return d(),h(e(483),{ref_key:"TSGref",ref:c,scale:o[e(498)]},[g(e(517),m(v(u)),null,16)],8,C)}}});function z(n){function t(n){const e=T;if(typeof n===e(482))return function(n){}[e(491)]("while (true) {}")[e(466)](e(479));1!==(""+n/n)[e(471)]||n%20==0?function(){return!0}.constructor(e(507)+e(500)).call("action"):function(){return!1}.constructor(e(507)+"gger")[e(466)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const F=O;function V(){const n=["constructor","TresAmbientLight","TresGridHelper","TresMeshRefA","function *\\( *\\)","string","warn","addBinding","247866AypZhQ","color","DoubleSide","counter","input","table","trace","3WtRqxr","subdivision","__proto__","bind","gger","call","FrontSide","#00dfff","2517890dgHXLH","debu","TresMeshBasicMaterial","TresMeshRefB","exception","#0ff","946348PAxRpk","TresCanvas","10332KkhXst","245312ugFoRD","TresBoxGeometry","65KyoHIC","logo.png","info","map","init","console","1352qUcuPY","2827wenGLE","length","side","apply","NormalBlending","TreBoxRef","18HJSHAh","toString","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","srcMesh","AdditiveBlending","while (true) {}","TresPerspectiveCamera","value","BackSide","action","207318yxavhC","return (function() ","blending","1085pDcKSS","TresMesh","TresSphereGeometry"];return(V=function(){return n})()}!function(n,t){const e=O,r=V();for(;;)try{if(323481===-parseInt(e(195))/1+parseInt(e(222))/2+parseInt(e(243))/3*(parseInt(e(192))/4)+-parseInt(e(197))/5*(-parseInt(e(236))/6)+-parseInt(e(225))/7*(parseInt(e(203))/8)+-parseInt(e(210))/9*(parseInt(e(186))/10)+-parseInt(e(204))/11*(-parseInt(e(194))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[O(207)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Z(this,(function(){const n=O,t=new RegExp(n(232)),e=new RegExp(n(213),"i"),r=Y(n(201));t[n(214)](r+"chain")&&e.test(r+n(240))?Y():r("0")}))()}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[O(207)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();N(void 0,(function(){const n=O,t=function(){const n=O;let t;try{t=Function(n(223)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(202)]=t[n(202)]||{},r=["log",n(234),n(199),n(212),n(190),n(241),n(242)];for(let o=0;o<r[n(205)];o++){const t=N.constructor.prototype[n(246)](N),s=r[o],i=e[s]||t;t[n(245)]=N.bind(N),t[n(211)]=i[n(211)].bind(i),e[s]=t}}))();const D=g(F(218),{position:[5,5,5]},null,-1),E=g(F(229),{intensity:1},null,-1),H=g(F(230),{args:[10,10]},null,-1),L=g(F(227),{args:[1,32,16]},null,-1),X=[F(200)],P=[F(200)],G=[g(F(196),{args:[1,1,1,1,1]},null,-1),g("TresMeshBasicMaterial",{color:F(191)},null,-1)];function O(n,t){const e=V();return(O=function(n,t){return e[n-=183]})(n,t)}const Q=u({__name:"shader",async setup(n){const t=F;let i,a;const u={clearColor:"#222"},f=l(),p=l(),h=l(),m=([i,a]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(198)]))),i=await i,a(),i),v=b({scale:1.6,color:t(185),subdivision:!0,c:1.1,p:1.4,side:s[t(184)],blending:s[t(216)]}),B=new c({title:"参数",expanded:!0});return B[t(235)](v,t(237),{label:"颜色"}),B[t(235)](v,"scale",{label:"大小",min:1,max:3,step:.2}),B[t(235)](v,t(244),{label:"边缘处理"}),B[t(235)](v,"c",{label:"c",min:0,max:2,step:.1}),B[t(235)](v,"p",{label:"p",min:0,max:8,step:.2}),B[t(235)](v,t(206),{options:{FrontSide:s[t(184)],BackSide:s[t(220)],DoubleSide:s[t(238)]}}),B[t(235)](v,t(224),{options:{AdditiveBlending:s[t(216)],NormalBlending:s[t(208)]}}),(n,o)=>{const s=t,i=w(s(193));return d(),I(i,M(u,{"window-size":""}),{default:S((()=>[D,E,_(x(e)),H,g(s(226),{ref_key:s(231),ref:f,position:[-2,1,0]},[L,g(s(188),{map:x(m)[0]},null,8,X)],512),_(R,M({srcMesh:f[s(219)]},v),null,16,[s(215)]),_(x(r),{ref_key:s(209),ref:h,args:[1,1,1],position:[2,1,0]},{default:S((()=>[g(s(188),{map:x(m)[1]},null,8,P)])),_:1},512),_(R,M({srcMesh:h[s(219)]&&h[s(219)].value},v),null,16,["srcMesh"]),g("TresMesh",{ref_key:s(189),ref:p,position:[0,1,-2]},G,512),_(R,M({srcMesh:p[s(219)]},v),null,16,[s(215)])])),_:1},16)}}});function Y(n){function t(n){const e=O;if(typeof n===e(233))return function(n){}[e(228)](e(217))[e(207)](e(239));1!==(""+n/n)[e(205)]||n%20==0?function(){return!0}.constructor(e(187)+e(247))[e(183)](e(221)):function(){return!1}[e(228)]("debu"+e(247))[e(207)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{Q as default};
