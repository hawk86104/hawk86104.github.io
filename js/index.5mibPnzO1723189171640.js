var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.TuQ8OEcu1723189171640.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.YCw_xomP1723189171640.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.mGxt35YM1723189171640.js";import{j as o,U as s,C as l,k as c,W as p,bb as u,h as f,a6 as x,a7 as v,y as m,V as w,Q as h}from"./three.5MXJ6W7w1723189171640.js";import{p as g,$ as d}from"./@tresjs.LTwFwASm1723189171640.js";import{u as y}from"./index.rLlA0tSY1723189171640.js";import{F as S,C as P}from"./three-stdlib.9krDtkM91723189171640.js";import{d as z}from"./@vue.Q1VpS3901723189171640.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.sI1IVpOm1723189171640.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.1x62BBwZ1723189171640.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.QmLWHEXL1723189171640.js";function _(t,e){const n=b();return(_=function(t,e){return n[t-=295]})(t,e)}function b(){const t=["constructor","316126OkHiXo","2674804PeHCcs","__proto__","counter","9DRzfrt","error",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"call","stateObject","test","toString","8076qgrNNt","info","function *\\( *\\)","bind","return (function() ",'{}.constructor("return this")( )',"prototype","length","table","1161061RdMVwO","apply","4405XpkbTb","gger","input","exception","while (true) {}","trace","9325057fBzTJq","debu","init","console","39312477lGeDiK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","9738000NyXSzJ","action"];return(b=function(){return t})()}const I=_;!function(t,e){const n=_,i=b();for(;;)try{if(763375===-parseInt(n(323))/1+parseInt(n(303))/2*(-parseInt(n(307))/3)+-parseInt(n(304))/4+parseInt(n(325))/5*(-parseInt(n(314))/6)+-parseInt(n(331))/7+parseInt(n(300))/8+parseInt(n(298))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[_(324)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){E(this,(function(){const t=_,e=new RegExp(t(316)),n=new RegExp(t(299),"i"),i=D(t(296));e.test(i+"chain")&&n[t(312)](i+t(327))?D():i("0")}))()}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();M(void 0,(function(){const t=_;let e;try{e=Function(t(318)+t(319)+");")()}catch(r){e=window}const n=e.console=e[t(297)]||{},i=["log","warn",t(315),t(308),t(328),t(322),t(330)];for(let a=0;a<i[t(321)];a++){const e=M[t(302)][t(320)].bind(M),r=i[a],o=n[r]||e;e[t(305)]=M.bind(M),e[t(313)]=o[t(313)][t(317)](o),n[r]=e}}))();const A=I(309);function D(t){function e(t){const n=_;if("string"==typeof t)return function(t){}[n(302)](n(329))[n(324)](n(306));1!==(""+t/t)[n(321)]||t%20==0?function(){return!0}[n(302)](n(295)+n(326))[n(310)](n(301)):function(){return!1}.constructor(n(295)+n(326))[n(324)](n(311)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=V;!function(t,e){const n=V,i=O();for(;;)try{if(251119===parseInt(n(258))/1*(-parseInt(n(253))/2)+parseInt(n(274))/3*(parseInt(n(252))/4)+parseInt(n(277))/5+parseInt(n(266))/6*(-parseInt(n(247))/7)+-parseInt(n(272))/8*(parseInt(n(256))/9)+parseInt(n(281))/10+-parseInt(n(267))/11*(-parseInt(n(276))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(265)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){U(this,(function(){const t=V,e=new RegExp(t(261)),n=new RegExp(t(250),"i"),i=k("init");e[t(248)](i+t(284))&&n[t(248)](i+t(257))?k():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(265)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function V(t,e){const n=O();return(V=function(t,e){return n[t-=247]})(t,e)}function O(){const t=["function *\\( *\\)","error","prototype","counter","apply","132XRWvod","66319fpstlj","constructor","uniforms","debu","while (true) {}","216616nTcBaA","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","3qUODKQ","bind","1140eQwJuF","265225dLSuie","toString","console","warn","3214800panzUf","trace","defines","chain","string","gger","139755IfqCeh","test","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","1208176oUXhVI","2iKHXRJ","table","call","162DrUPqA","input","71589ZTvpDV","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","return (function() "];return(O=function(){return t})()}function j(t){const e=V,n=a({},t);return e(283)in t&&(n[e(283)]=a({},t[e(283)])),e(269)in t&&(n[e(269)]=s.clone(t[e(269)])),n}T(void 0,(function(){const t=V;let e;try{e=Function(t(260)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(279)]=e.console||{},i=["log",t(280),"info",t(262),"exception",t(254),t(282)];for(let a=0;a<i[t(249)];a++){const e=T[t(268)][t(263)][t(275)](T),r=i[a],o=n[r]||e;e.__proto__=T[t(275)](T),e[t(278)]=o[t(278)].bind(o),n[r]=e}}))();const R={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:L(273)+A+L(259)};function k(t){function e(t){const n=V;if(typeof t===n(285))return function(t){}[n(268)](n(271))[n(265)](n(264));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(270)+n(286))[n(255)](n(251)):function(){return!1}[n(268)](n(270)+n(286))[n(265)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const C=N;!function(t,e){const n=N,i=Z();for(;;)try{if(297488===-parseInt(n(290))/1*(parseInt(n(310))/2)+-parseInt(n(305))/3*(-parseInt(n(281))/4)+parseInt(n(300))/5+-parseInt(n(299))/6*(-parseInt(n(311))/7)+-parseInt(n(296))/8+-parseInt(n(261))/9*(parseInt(n(313))/10)+-parseInt(n(255))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(284)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){W(this,(function(){const t=N,e=new RegExp(t(286)),n=new RegExp(t(288),"i"),i=Q(t(267));e[t(279)](i+t(289))&&n[t(279)](i+t(283))?Q():i("0")}))()}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(284)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(t,e){const n=Z();return(N=function(t,e){return n[t-=247]})(t,e)}function Z(){const t=["debu","setSize","type","render","setViewOffset","length","prototype","width","_copyQuad","return (function() ","value","image","getClearColor","uniforms",'{}.constructor("return this")( )',"X_IS_EVEN","tDiffuse","8087739JWfWtO","info","height","dispose","setRenderTarget","table","63NxAfqH","log","constructor","console","while (true) {}","_mipQuad","init","floor","camera","autoClear","toString","counter","gger","copy","isWebGLRenderTarget","exception","minFilter","error","test","material","684tncIra","_mipMaterials","input","apply","bind","function *\\( *\\)","update","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","2PQIPVP","parentLevel","fragmentShader","set","Y_IS_EVEN","map","98136HUdSZi","parentMapSize","setClearColor","414VIMkoQ","2836585DTrmSr","getRenderTarget","setClearAlpha","texture","warn","7569LjRuTx","_swapTarget","originalMapSize","getClearAlpha","defines","96826DwuqcN","42189FWEDbH","floorPowerOfTwo","389690ozfdvH","replace","trace"];return(Z=function(){return t})()}H(void 0,(function(){const t=N,e=function(){const t=N;let e;try{e=Function(t(247)+t(252)+");")()}catch(n){e=window}return e}(),n=e[t(264)]=e.console||{},i=[t(262),t(304),t(256),t(278),t(276),t(260),t(315)];for(let r=0;r<i.length;r++){const e=H[t(263)][t(322)][t(285)](H),a=i[r],o=n[a]||e;e.__proto__=H.bind(H),e[t(271)]=o[t(271)][t(285)](o),n[a]=e}}))();const X=new l;class F{constructor(t){const e=N;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=j(R);n[e(292)]=n.fragmentShader[e(314)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(j(n)),i[0][e(309)][e(253)]=0,i[0][e(309)][e(294)]=0,i[1]=new c(j(n)),i[1][e(309)][e(253)]=1,i[1].defines[e(294)]=0,i[2]=new c(j(n)),i[2][e(309)].X_IS_EVEN=0,i[2][e(309)][e(294)]=1,i[3]=new c(j(n)),i[3][e(309)][e(253)]=1,i[3][e(309)][e(294)]=1;const r=new p;r[e(303)][e(277)]=u,r[e(303)].magFilter=u,this[e(306)]=r,this._copyQuad=new S(new c(P)),this[e(266)]=new S(null),this[e(282)]=i}[C(287)](t,e,n,i=!1){const r=C;t[r(275)]&&(t=t.texture);const o=n.autoClear,s=n[r(308)](),l=n[r(301)]();n[r(250)](X);const c=this[r(324)],p=this[r(266)],u=this[r(306)],x=this._mipMaterials;let v,m;i?(v=f[r(312)](t.image.width),m=f.floorPowerOfTwo(t[r(249)].height)):(v=Math[r(268)](t[r(249)][r(323)]),m=Math[r(268)](t[r(249)][r(257)]));const w=Math[r(268)](1.5*v),h=Math[r(268)](m);e[r(317)](w,h),u.texture[r(318)]!==e[r(303)].type?(u.dispose(),u[r(274)](e),u[r(303)].image=a({},u.texture[r(249)])):u[r(317)](w,h),n[r(270)]=!1,n[r(298)](0),n[r(302)](),c[r(280)][r(251)][r(254)][r(248)]=t,c[r(269)][r(320)](v,m,0,0,w,h),n[r(259)](e),n.clear(),c[r(319)](n),n[r(259)](u),n.clear(),c[r(319)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(251)][r(295)].value=u[r(303)],t.uniforms[r(291)][r(248)]=y,t[r(251)][r(297)].value[r(293)](g,d),t.uniforms[r(307)][r(248)].set(v,m),p[r(280)]=t,g=Math[r(268)](g/2),d=Math[r(268)](d/2);const i=h-2*d;n[r(259)](e),p[r(269)][r(320)](g,d,-v,-i,w,h),p[r(319)](n),n[r(259)](u),t[r(251)].map.value=e.texture,p[r(319)](n),y++}return n.setRenderTarget(l),n[r(302)](s),n[r(298)](X),n[r(270)]=o,y+1}[C(258)](){const t=C;this[t(306)].dispose(),this[t(266)][t(258)](),this[t(324)].dispose(),this[t(282)].forEach((e=>e[t(258)]()))}}function Q(t){function e(t){const n=N;if("string"==typeof t)return function(t){}[n(263)](n(265))[n(284)](n(272));1!==(""+t/t)[n(321)]||t%20==0?function(){return!0}[n(263)](n(316)+n(273)).call("action"):function(){return!1}.constructor(n(316)+n(273)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const $=J;!function(t,e){const n=J,i=K();for(;;)try{if(735363===-parseInt(n(184))/1+-parseInt(n(177))/2+parseInt(n(146))/3*(-parseInt(n(121))/4)+parseInt(n(156))/5*(parseInt(n(174))/6)+-parseInt(n(123))/7*(parseInt(n(114))/8)+-parseInt(n(149))/9+parseInt(n(186))/10*(parseInt(n(163))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const q=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){const t=J,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(160),"i"),i=B(t(117));e[t(161)](i+t(183))&&n[t(161)](i+"input")?B():i("0")}))()}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(t,e){const n=K();return(J=function(t,e){return n[t-=106]})(t,e)}Y(void 0,(function(){const t=J;let e;try{e=Function("return (function() "+t(169)+");")()}catch(r){e=window}const n=e[t(108)]=e[t(108)]||{},i=[t(148),t(168),t(139),t(164),t(120),"table",t(170)];for(let a=0;a<i[t(124)];a++){const e=Y.constructor.prototype[t(110)](Y),r=i[a],o=n[r]||e;e[t(157)]=Y.bind(Y),e[t(129)]=o[t(129)][t(110)](o),n[r]=e}}))();const G=z({__name:$(181),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=$,i=t,r=new(x[n(125)]),a=new(x[n(152)]),o=new v,s=new F,l=y({width:i.resolution,height:i[n(162)],settings:{type:x[n(144)]}}),c=y({width:i[n(162)],height:i[n(162)],settings:{type:m}}),{camera:p,renderer:u,scene:f}=g(),{onBeforeLoop:S}=d();return S((()=>{const t=n;(()=>{const t=n;if(!p[t(140)])return;r[t(134)](new(x[t(116)])(0,1,0),0),r[t(132)](i[t(127)].matrixWorld),o[t(136)](p[t(140)]);const e=new(x[t(116)])(0,0,1)[t(151)]().negate(),s=p[t(140)].getWorldPosition(new(x[t(116)]));e.reflect(r[t(107)]);const c=new w;r[t(113)](s,c);const v=c[t(151)]();v[t(130)](s),v[t(165)](c),o[t(143)][t(136)](v);const m=new(x[t(116)])(0,0,-1);m.applyQuaternion(p[t(140)][t(154)](new(x[t(155)]))),m.add(s);const g=new(x[t(116)]);i.parent[t(179)](g),g.sub(m),g[t(138)](r[t(107)])[t(167)](),g[t(165)](i[t(127)][t(179)](new(x[t(116)]))),o.up[t(134)](0,1,0),o.applyQuaternion(p[t(140)][t(154)](new h)),o.up[t(138)](r[t(107)]),o[t(150)](g),o[t(109)]();const d=new(x[t(152)]);d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(175)](o[t(118)]),d.multiply(o[t(115)]),a[t(136)](d),r[t(132)](o[t(115)]);const y=new(x[t(176)])(r[t(107)].x,r[t(107)].y,r[t(107)].z,r[t(133)]),S=o[t(118)],P=new(x[t(176)]);P.x=(Math[t(153)](y.x)+S.elements[8])/S.elements[0],P.y=(Math[t(153)](y.y)+S[t(126)][9])/S[t(126)][5],P.z=-1,P.w=(1+S.elements[10])/S[t(126)][14],y.multiplyScalar(2/y[t(182)](P)),S[t(126)][2]=y.x,S.elements[6]=y.y,S[t(126)][10]=y.z+1,S[t(126)][14]=y.w;const z=u.value[t(178)]();u[t(140)].setRenderTarget(l[t(140)]),u[t(140)][t(106)][t(131)][t(135)][t(166)](!0),!1===u[t(140)][t(185)]&&u[t(140)][t(119)](),i[t(145)].forEach((e=>e[t(111)]=!1)),u[t(140)][t(172)](f[t(140)],o),i.ignoreObjects[t(158)]((t=>t.visible=!0)),u.value[t(137)](z)})(),l.value&&c[t(140)]&&u[t(140)]&&s[t(122)](l[t(140)][t(180)],c[t(140)],u[t(140)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=J;if(typeof t===n(112))return function(t){}[n(173)](n(171))[n(142)](n(159));1!==(""+t/t)[n(124)]||t%20==0?function(){return!0}[n(173)](n(147)+n(128)).call(n(141)):function(){return!1}[n(173)](n(147)+n(128)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function K(){const t=["exception","12IFxcyv","update","203svjNbn","length","Plane","elements","parent","gger","toString","sub","buffers","applyMatrix4","constant","set","depth","copy","setRenderTarget","reflect","info","value","action","apply","position","UnsignedByteType","ignoreObjects","676974ZloYmv","debu","log","5528268kRJwgs","lookAt","clone","Matrix4","sign","getWorldQuaternion","Quaternion","21135sioVrx","__proto__","forEach","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","resolution","44701591zZEcdx","error","add","setMask","negate","warn",'{}.constructor("return this")( )',"trace","while (true) {}","render","constructor","1410TRICPb","multiply","Vector4","892748JaqlmZ","getRenderTarget","getWorldPosition","texture","reflectorMipMap","dot","chain","1302247mGGAHm","autoClear","10oJfTVC","state","normal","console","updateMatrixWorld","bind","visible","string","projectPoint","353632CWfULv","matrixWorldInverse","Vector3","init","projectionMatrix","clear"];return(K=function(){return t})()}!function(t,e){for(var n=nt,i=it();;)try{if(414799===-parseInt(n(166))/1+-parseInt(n(160))/2*(-parseInt(n(157))/3)+-parseInt(n(183))/4*(-parseInt(n(155))/5)+-parseInt(n(163))/6+-parseInt(n(168))/7*(-parseInt(n(174))/8)+parseInt(n(169))/9*(-parseInt(n(153))/10)+parseInt(n(177))/11*(parseInt(n(171))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){tt(this,(function(){var t=nt,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(161),"i"),i=rt(t(162));e[t(186)](i+"chain")&&n[t(186)](i+t(178))?rt():i("0")}))()}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function nt(t,e){var n=it();return(nt=function(t,e){return n[t-=153]})(t,e)}function it(){var t=["string","296294klMUBN","warn","49zaSDmh","33894hWqaXp","prototype","2388wEbfIg","error","gger","383384LZnmcx","trace","bind","26631JqTQCR","input","info","length",'{}.constructor("return this")( )',"apply","9460XnlYvO","table","toString","test","console","stateObject","1670EEpfxC","debu","845kyPVZC","constructor","9fAMWbV","counter","__proto__","274478rxYbeM","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","1731762iTwsaV","call"];return(it=function(){return t})()}function rt(t){function e(t){var n=nt;if(typeof t===n(165))return function(t){}[n(156)]("while (true) {}")[n(182)](n(158));1!==(""+t/t)[n(180)]||t%20==0?function(){return!0}[n(156)]("debu"+n(173))[n(164)]("action"):function(){return!1}[n(156)](n(154)+n(173))[n(182)](n(188)),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){for(var t=nt,e=function(){var t,e=nt;try{t=Function("return (function() "+e(181)+");")()}catch(n){t=window}return t}(),n=e[t(187)]=e[t(187)]||{},i=["log",t(167),t(179),t(172),"exception",t(184),t(175)],r=0;r<i[t(180)];r++){var a=et[t(156)][t(170)][t(176)](et),o=i[r],s=n[o]||a;a[t(159)]=et[t(176)](et),a[t(185)]=s[t(185)][t(176)](s),n[o]=a}}))();export{G as _};
