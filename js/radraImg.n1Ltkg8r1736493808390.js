import{b as t,m as n,U as e}from"./@tresjs.g7tJPOCI1736493808390.js";import{_ as o,Y as r,a0 as i,V as a}from"./three.lAfZYOpc1736493808390.js";import{n as s,_ as c}from"./three-tile.rGySB-KI1736493808390.js";import{_ as u}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.tHrHcehq1736493808390.js";import{d as p,a4 as l,w as f,o as m,D as h,J as d,u as g,r as y,b as I,f as w,g as b,j as _,m as j,al as v,F as x,e as S,aj as M,ak as T}from"./@vue.-Mz_IXfk1736493808390.js";import{P as D}from"./tweakpane.yHWGBmom1736493808390.js";import{_ as k}from"./informationDiv.mwj8K3ub1736493808390.js";import"./@vueuse.kU-N6GoC1736493808390.js";import"./@fesjs.JLOwLS8V1736493808390.js";import"./vue-router.orb3lCQB1736493808390.js";import"./lodash-es.guXTxyfJ1736493808390.js";import"./@qlin.yHhFDldE1736493808390.js";import"./pinia.HJbEB2CQ1736493808390.js";import"./vue-demi.C4xddsk91736493808390.js";import"./@floating-ui.BPbuo5Gx1736493808390.js";import"./@juggle.7yjBMqoW1736493808390.js";function z(){const t=["string","constructor","while (true) {}","TresGroup","call","map","Vector3","init","height","chain","error","console","action","geo2pos","TresPlaneGeometry","gger","function *\\( *\\)","applyMatrix4","737220LNObjo","warn","info","log","push","replace","color","scale","301736rlXdFp","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","1563430eOJQYw","exception","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","55txOvsp","position-y","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","apply","toString","opacity","onBeforeCompile","40.png","material","5265200HpJQwM","TresMesh","scaleImg","table","40OZWyuX","vertexShader","matrix","radraImgShow","417569zxxHhT","bind",'{}.constructor("return this")( )',"MeshPhongMaterial","12bFaMln","debu","990351ZOBeXY","counter","test","length","80XzlbjI","uniform sampler2D map;\n\t","stateObject","1393301ISbqks"];return(z=function(){return t})()}const F=L;!function(t,n){const e=L,o=z();for(;;)try{if(728738===parseInt(e(228))/1+-parseInt(e(205))/2*(-parseInt(e(232))/3)+parseInt(e(220))/4+parseInt(e(210))/5*(-parseInt(e(197))/6)+parseInt(e(241))/7*(-parseInt(e(224))/8)+-parseInt(e(234))/9*(-parseInt(e(238))/10)+-parseInt(e(207))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=L,n=new RegExp(t(195)),e=new RegExp(t(212),"i"),o=O(t(249));n[t(236)](o+t(251))&&e.test(o+"input")?O():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(214)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=L;let n;try{n=Function("return (function() "+t(230)+");")()}catch(r){n=window}const e=n[t(253)]=n[t(253)]||{},o=[t(200),t(198),t(199),t(252),t(208),t(223),"trace"];for(let i=0;i<o[t(237)];i++){const n=E[t(243)].prototype[t(229)](E),r=o[i],a=e[r]||n;n[t(213)]=E[t(229)](E),n[t(215)]=a.toString[t(229)](a),e[r]=n}}))();const B=["position"],H=[F(204),F(219),"rotateX",F(211)];function L(t,n){const e=z();return(L=function(t,n){return e[t-=195]})(t,n)}const R=p({__name:F(227),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=F;let a,s;const c=n,p=new(o[e(231)])({displacementMap:new r,transparent:!0,side:i,opacity:c[e(216)],displacementScale:.5,displacementBias:0});p[e(217)]=t=>{const n=e;t[n(225)]=n(239)+t[n(225)],t[n(225)]=t.vertexShader[n(202)]("#include <displacementmap_vertex>",n(206))};const y=c[e(247)][e(255)](new(o[e(248)])(105,34,0));y[e(196)](c[e(247)][e(226)]);const I=u[e(222)](c[e(247)],{x:67,y:11},{x:140,y:57},c.height),w=[];for(let t=0;t<9;t++)w[e(201)](e(209)+t+e(218));let b=0;const _=([a,s]=l((()=>t(w))),a=await a,s(),a);p.map=_[b],f((()=>[c[e(203)],c[e(216)]]),(([t,n])=>{p.opacity=n}));let j=null,v=!1;return v?(clearInterval(j),j=null,v=!1):(j=setInterval((()=>{const t=L;b=b<w[t(237)]-1?b+1:0,p.map=_[b],p.needsUpdate=!0,console[t(200)](b)}),1e3),v=!0),(t,n)=>{const o=e;return m(),h(o(245),{position:[...g(y)]},[d(o(221),{scale:[g(I).x,g(I).y,t[o(250)]],material:g(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(250)]/5},n[0]||(n[0]=[d(o(256),{args:[1,1,529,420]},null,-1)]),8,H)],8,B)}}});function O(t){function n(t){const e=L;if(typeof t===e(242))return function(t){}[e(243)](e(244))[e(214)](e(235));1!==(""+t/t).length||t%20==0?function(){return!0}[e(243)](e(233)+e(257))[e(246)](e(254)):function(){return!1}[e(243)](e(233)+"gger")[e(214)](e(240)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=U;!function(t,n){const e=U,o=W();for(;;)try{if(750089===parseInt(e(311))/1+parseInt(e(288))/2*(parseInt(e(295))/3)+-parseInt(e(333))/4+-parseInt(e(332))/5+-parseInt(e(310))/6*(parseInt(e(294))/7)+parseInt(e(306))/8*(-parseInt(e(292))/9)+-parseInt(e(326))/10*(-parseInt(e(280))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=U,n=new RegExp(t(315)),e=new RegExp(t(317),"i"),o=Q(t(290));n[t(327)](o+t(275))&&e.test(o+t(298))?Q():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(t,n){const e=W();return(U=function(t,n){return e[t-=274]})(t,n)}X(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(319)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(283)]=n[t(283)]||{},o=[t(282),t(287),t(302),t(323),t(293),"table",t(277)];for(let r=0;r<o[t(296)];r++){const n=X[t(276)][t(305)][t(281)](X),i=o[r],a=e[i]||n;n[t(301)]=X[t(281)](X),n[t(299)]=a[t(299)].bind(a),e[i]=n}}))();const V=[P(325)];function W(){const t=["object","29704720IuDVbH","test","domElement","mapbox.satellite","TileMap","TresDirectionalLight","6089065RfDMUv","5061556syMrMW","mapBoxShow3","Vector3","chain","constructor","trace","position","target","11LenidA","bind","log","console","geo2pos","mapbox.terrain-rgb","gger","warn","2mjqBzf","apply","init","terrain-rgb","2763twkMHt","exception","28SqrDgC","2452236PEwdFw","length","debu","input","toString","透明度","__proto__","info","copy","value","prototype","23704lQTGFv","call","controlsEvents","stateObject","580044aJLhRF","741744aSSupy","height","plugin","tdLight","function *\\( *\\)","showLocation","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","localToWorld","return (function() ","counter","image","primitive","error","MapBoxSource"];return(W=function(){return t})()}const Z="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",J=p({__name:P(334),setup(t){const e=P,r=y({height:200,opacity:1}),i=new D({title:"参数"});i.addBinding(r,e(312),{label:"高度",min:10,max:300,step:1}),i.addBinding(r,"opacity",{label:e(300),min:0,max:1,step:.1});const p=new(s[e(324)])({token:Z,dataType:e(321),style:e(329)}),l=new(c[e(313)][e(324)])({token:Z,dataType:e(291),style:e(285),maxLevel:15}),S=new(c[e(330)])({imgSource:p,demSource:l,lon0:90,minLevel:2,maxLevel:20});S.rotateX(-Math.PI/2);const M=new(o[e(274)])(105,34,0),T=new a(110,0,1e4),k=S[e(318)](S.geo2pos(M)),z=S.localToWorld(S[e(284)](T)),F=I(),{camera:A,controls:E,scene:B,renderer:H}=n();return A.value&&A[e(304)][e(278)][e(303)](z),f((()=>E[e(304)]),(t=>{const n=e;t&&(t[n(279)][n(303)](k),u[n(308)](t,A[n(304)],B.value))})),f((()=>F[e(304)]),(t=>{const n=e;t&&t[n(279)][n(278)][n(303)](k)})),u[e(316)](A[e(304)],H[e(304)][e(328)],S),(t,n)=>{const o=e;return m(),h(x,null,[d(o(331),{ref_key:o(314),ref:F,position:[0,2e3,1e3],intensity:1},null,512),d(o(322),{object:g(S)},null,8,V),(m(),w(v,null,{default:b((()=>[_(R,j({map:g(S)},r),null,16,["map"])])),_:1}))],64)}}});function Q(t){function n(t){const e=U;if("string"==typeof t)return function(t){}[e(276)]("while (true) {}").apply(e(320));1!==(""+t/t)[e(296)]||t%20==0?function(){return!0}[e(276)](e(297)+e(286))[e(307)]("action"):function(){return!1}[e(276)]("debu"+e(286))[e(289)](e(309)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=Y;!function(t,n){const e=Y,o=q();for(;;)try{if(539328===parseInt(e(394))/1*(parseInt(e(407))/2)+parseInt(e(397))/3*(parseInt(e(414))/4)+-parseInt(e(396))/5+parseInt(e(406))/6+-parseInt(e(381))/7+-parseInt(e(380))/8*(parseInt(e(379))/9)+parseInt(e(403))/10*(parseInt(e(416))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(){const t=["2334072wAarGG","165698GFnwlI","debu","length","log","toString","info","action","236zAdVVH","input","946UnTJBa","gger","bind","713493oHxRND","88hIAWoU","4839275DVtkuR","constructor","init","exception","TresPerspectiveCamera","error","radraImg","warn","TresCanvas","string","stateObject","function *\\( *\\)","#dbf0ff","8MOHICV","trace","277245HLrpSX","25719DaEEXF","test","counter","while (true) {}","highp","console","69830JkfUQE","return (function() ","apply"];return(q=function(){return t})()}!function(){$(this,(function(){const t=Y,n=new RegExp(t(392)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=tt(t(383));n[t(398)](o+"chain")&&e[t(398)](o+t(415))?tt():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=q();return(Y=function(t,n){return e[t-=379]})(t,n)}N(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(404)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(402)]||{},o=[t(410),t(388),t(412),t(386),t(384),"table",t(395)];for(let r=0;r<o[t(409)];r++){const n=N[t(382)].prototype[t(418)](N),i=o[r],a=e[i]||n;n.__proto__=N.bind(N),n[t(411)]=a[t(411)][t(418)](a),e[i]=n}}))();const K=p({__name:C(387),setup(t){const n=C,o=y({clearColor:n(393),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(401)}),r=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const a=n,s=S(a(389));return m(),h(x,null,[_(s,j(o,{"window-size":""}),{default:b((()=>[i[0]||(i[0]=d(a(385),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(g(e),M(T(r)),null,16),i[1]||(i[1]=d("TresAmbientLight",{intensity:1},null,-1)),_(J)])),_:1},16),_(k)],64)}}});function tt(t){function n(t){const e=Y;if(typeof t===e(390))return function(t){}[e(382)](e(400)).apply(e(399));1!==(""+t/t)[e(409)]||t%20==0?function(){return!0}[e(382)](e(408)+e(417)).call(e(413)):function(){return!1}[e(382)](e(408)+e(417))[e(405)](e(391)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
