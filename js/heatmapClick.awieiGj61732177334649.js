import{a as t,U as n}from"./@tresjs.ty5XF8T_1732177334649.js";import{P as e}from"./tweakpane.yHWGBmom1732177334649.js";import{_ as o,ak as r,al as a}from"./three.rV-MfnQb1732177334649.js";import{_ as s}from"./heatmap.js-fix.YaGzpOzl1732177334649.js";import{d as i,a6 as u,a3 as c,o as l,D as p,u as f,r as d,e as h,f as m,g,J as v,j as y,al as b,aj as w,ak as x,m as _}from"./@vue.-THQH3GC1732177334649.js";import"./@vueuse.n223N0GC1732177334649.js";import"./@amap.IbXCphpR1732177334649.js";!function(t,n){const e=D,o=C();for(;;)try{if(317433===-parseInt(e(410))/1+-parseInt(e(397))/2*(parseInt(e(365))/3)+-parseInt(e(416))/4+-parseInt(e(412))/5*(-parseInt(e(379))/6)+-parseInt(e(373))/7+parseInt(e(354))/8*(parseInt(e(377))/9)+parseInt(e(395))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const I=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(418)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){I(this,(function(){const t=D,n=new RegExp(t(384)),e=new RegExp(t(375),"i"),o=R(t(369));n[t(344)](o+t(374))&&e[t(344)](o+t(347))?R():o("0")}))()}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(418)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["DoubleSide","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","3CEeYzm","attributes","while (true) {}","mesh_0","init","create","__proto__","canvas","961569IdqrpY","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","top","9pfRWaC","stateObject","6PJBwBz","count","material","absolute","constructor","function *\\( *\\)","left","counter","1px solid #5384ff","setScalar","trace","style","layerY","call","primitive","radius","9334280jbeBEm","bind","1217332KRJtYl","none","string","debu","layerX","border","push","log","console","scale","getZ","_renderer","set","145059AtGfut","onclick","2677655POfRfF","BufferAttribute","action","gger","1886804vqtbmy","40px","apply","toString","display","setDataMax","createElement","test","table","show2dCanvas","input","Texture","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","position","info","deleteAttribute","return (function() ","1690136uCqsVT","length","getX","ShaderMaterial","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","setAttribute","0.8","error","exception"];return(C=function(){return t})()}j(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(353)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(405)]=n.console||{},o=[t(404),"warn",t(351),t(361),t(362),t(345),t(389)];for(let r=0;r<o[t(355)];r++){const n=j[t(383)].prototype[t(396)](j),a=o[r],s=e[a]||n;n[t(371)]=j[t(396)](j),n[t(419)]=s[t(419)].bind(s),e[a]=n}}))();const z=["object"],A=i({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=D;let r,a;const i=n,{nodes:d}=([r,a]=u((()=>t(e(349),{draco:!0,decoderPath:"./draco/"}))),r=await r,a(),r);d.mesh_0.position[e(409)](-5088.96,-3.08,39374.7),d[e(368)][e(406)][e(388)](.01);let h=null,m=null,g=null;m=new(o[e(348)])((()=>{const t=e;return g=document[t(343)]("heatmap-canvas"),g[t(390)][t(350)]=t(382),g.style[t(376)]=t(417),g.style[t(385)]="0",document.body.appendChild(g),h=s[t(370)]({container:g,width:256,height:256,blur:t(360),radius:i[t(394)]}),h._renderer.canvas[t(390)][t(402)]=t(387),h[t(408)][t(372)][t(411)]=function(n){const e=t;h.addData({x:n[e(401)],y:n[e(391)],value:1,radius:i.radius}),h[e(421)](1),m&&(m.needsUpdate=!0)},h})()[e(408)][e(372)]);const v={vertexShader:e(364),fragmentShader:e(358),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(363)]},y=new(o[e(357)])(v);d[e(368)][e(381)]=y;return(t=>{const n=e;t.computeBoundingBox();const{max:r,min:a}=t.boundingBox;t[n(352)]("uv");const s=r.x-a.x,i=r.z-a.z,u=[];for(let e=0;e<t.attributes[n(350)][n(380)];e++)u[n(403)]((t[n(366)].position[n(356)](e)-a.x)/s),u.push((t.attributes[n(350)][n(407)](e)-a.z)/i);const c=new Float32Array(u);t[n(359)]("uv",new(o[n(413)])(c,2))})(d[e(368)].geometry),c((()=>{const t=e;g[t(390)][t(420)]=""+(i[t(346)]?"block":t(398))})),(t,n)=>{const o=e;return l(),p(o(393),{object:f(d).mesh_0},null,8,z)}}});function D(t,n){const e=C();return(D=function(t,n){return e[t-=343]})(t,n)}function R(t){function n(t){const e=D;if(typeof t===e(399))return function(t){}[e(383)](e(367))[e(418)](e(386));1!==(""+t/t)[e(355)]||t%20==0?function(){return!0}[e(383)]("debu"+e(415))[e(392)](e(414)):function(){return!1}[e(383)](e(400)+"gger")[e(418)](e(378)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function S(){const t=["string","715cTYRvx","console","TresPerspectiveCamera","input","gger","15DEApdd","constructor","TresCanvas","action","while (true) {}","length","addButton","1406850JJzxOU","20jmLuAo","点击左侧蓝色画框","64779XLDQPn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","apply","42ZpZMnG","9232542pFJWEZ","debu","3020369nGzsWO","toString","__proto__","stateObject","show2dCanvas","error","info","bind","圆圈的大小","2189976ZFoNkm","172roNYjo","TresGridHelper","exception","test","counter","4506rsYxeF","heatmapClick",'{}.constructor("return this")( )',"516KTOlDf","604212uSDRng","function *\\( *\\)","addBinding","#030311"];return(S=function(){return t})()}const k=E;!function(t,n){const e=E,o=S();for(;;)try{if(917549===-parseInt(e(145))/1*(parseInt(e(148))/2)+-parseInt(e(123))/3*(-parseInt(e(140))/4)+parseInt(e(159))/5*(parseInt(e(120))/6)+-parseInt(e(127))/7*(-parseInt(e(139))/8)+parseInt(e(128))/9+-parseInt(e(121))/10*(-parseInt(e(130))/11)+parseInt(e(149))/12*(-parseInt(e(154))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(126)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=E,n=new RegExp(t(150)),e=new RegExp(t(124),"i"),o=O("init");n[t(143)](o+"chain")&&e[t(143)](o+t(157))?O():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(126)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=S();return(E=function(t,n){return e[t-=116]})(t,n)}T(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function("return (function() "+t(147)+");")()}catch(e){n=window}return n}(),e=n[t(155)]=n.console||{},o=["log","warn",t(136),t(135),t(142),"table","trace"];for(let r=0;r<o[t(118)];r++){const n=T[t(160)].prototype.bind(T),a=o[r],s=e[a]||n;n[t(132)]=T[t(137)](T),n.toString=s[t(131)][t(137)](s),e[a]=n}}))();const M=i({__name:k(146),setup(t){const o=k,s={clearColor:o(152),shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u[o(151)](i,o(134),{label:"显示二维图"}),u[o(151)](i,"radius",{label:o(138),min:.1,max:30,step:.1}),u[o(119)]({title:o(122)}),(t,e)=>{const r=o,a=h(r(161));return l(),m(a,_(s,{"window-size":""}),{default:g((()=>[e[0]||(e[0]=v(r(156),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),y(f(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v("TresDirectionalLight",{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=v(r(141),{args:[50,25]},null,-1)),(l(),m(b,null,{default:g((()=>[y(A,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function O(t){function n(t){const e=E;if(typeof t===e(153))return function(t){}[e(160)](e(117))[e(126)](e(144));1!==(""+t/t)[e(118)]||t%20==0?function(){return!0}[e(160)](e(129)+e(158))[e(125)](e(116)):function(){return!1}[e(160)](e(129)+e(158))[e(126)](e(133)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as default};
