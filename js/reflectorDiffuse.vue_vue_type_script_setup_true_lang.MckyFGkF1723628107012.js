import{b_ as t,a0 as n,C as e,j as r}from"./three.LOnTLfxo1723628107012.js";import{N as o}from"./@tresjs.SUe87xao1723628107012.js";import{R as c}from"./all.three.608sn2Nq1723628107012.js";import{d as a,b as i,a4 as s,a1 as u,w as l,o as f,D as p,J as m,m as d,u as h}from"./@vue.9bHx4gg21723628107012.js";!function(t,n){const e=y,r=g();for(;;)try{if(670830===parseInt(e(207))/1+-parseInt(e(181))/2*(-parseInt(e(199))/3)+-parseInt(e(191))/4+-parseInt(e(221))/5*(-parseInt(e(213))/6)+parseInt(e(186))/7+parseInt(e(212))/8*(-parseInt(e(219))/9)+parseInt(e(185))/10*(-parseInt(e(205))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const v=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[y(179)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(){const t=["__proto__","table","fragmentShader","console","warn","576BjMWck","#include <emissivemap_fragment>","170CHghuL","#include <project_vertex>","while (true) {}","toString","apply","test","741834ZyrBQh","log","\n\t\t#include <emissivemap_fragment>\n\n\t\tvec4 normalColor = texture2D(normalMap, vNormalMapUv * normalScale);\n\t\tvec3 reflectNormal = normalize(vec3(normalColor.r * 2.0 - 1.0, normalColor.b, normalColor.g * 2.0 - 1.0));\n\t\tvec3 reflectCoord = vCoord.xyz / vCoord.w;\n\t\tvec2 reflectUv = reflectCoord.xy + reflectCoord.z * reflectNormal.xz * 0.05;\n\t\tvec4 reflectColor = texture2D(reflectMap, reflectUv);\n\n\t\t// Fresnel term\n\t\tvec3 toEye = normalize(vToEye);\n\t\tfloat theta = max(dot(toEye, normal), 0.0);\n\t\tfloat reflectance = pow((1.0 - theta), 5.0);\n\n\t\treflectColor = mix(vec4(0), reflectColor, reflectance);\n\n\t\tdiffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + reflectColor.rgb * mixStrength);\n\t\t","\n\t\tuniform sampler2D reflectMap;\n\t\tuniform float mirror;\n\t\tuniform float mixStrength;\n\t\tin vec4 vCoord;\n\t\tin vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","6435380qPQAYA","3519684AQBTLd","\n\t\t#include <project_vertex>\n\n\t\tvCoord = textureMatrix * vec4(transformed, 1.0);\n\t\tvToEye = cameraPosition - (modelMatrix * vec4(transformed, 1.0)).xyz;\n\t\t","void main() {","action","debu","3054964DBqGUI","replace","return (function() ","stateObject","bind","chain","gger","function *\\( *\\)","9IHUmIu","init","length","info","\n\t\tuniform mat4 textureMatrix;\n\t\tout vec4 vCoord;\n\t\tout vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","counter","11cFrtSL",'{}.constructor("return this")( )',"914722ryPIMb","vertexShader","constructor","call","prototype","93616EnhSeu","52368VlngSg"];return(g=function(){return t})()}!function(){v(this,(function(){const t=y,n=new RegExp(t(198)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_(t(200));n.test(r+t(196))&&e[t(180)](r+"input")?_():r("0")}))()}();const x=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[y(179)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();x(void 0,(function(){const t=y;let n;try{n=Function(t(193)+t(206)+");")()}catch(o){n=window}const e=n[t(217)]=n[t(217)]||{},r=[t(182),t(218),t(202),"error","exception",t(215),"trace"];for(let c=0;c<r[t(201)];c++){const n=x[t(209)][t(211)][t(195)](x),o=r[c],a=e[o]||n;n[t(214)]=x[t(195)](x),n[t(178)]=a[t(178)][t(195)](a),e[o]=n}}))();function y(t,n){const e=g();return(y=function(t,n){return e[t-=178]})(t,n)}function _(t){function n(t){const e=y;if("string"==typeof t)return function(t){}[e(209)](e(223))[e(179)](e(204));1!==(""+t/t)[e(201)]||t%20==0?function(){return!0}[e(209)](e(190)+e(197))[e(210)](e(189)):function(){return!1}[e(209)](e(190)+e(197))[e(179)](e(194)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const I=w;function w(t,n){const e=S();return(w=function(t,n){return e[t-=204]})(t,n)}!function(t,n){const e=w,r=S();for(;;)try{if(384811===parseInt(e(227))/1*(-parseInt(e(208))/2)+parseInt(e(266))/3*(-parseInt(e(269))/4)+-parseInt(e(231))/5*(-parseInt(e(248))/6)+parseInt(e(209))/7+parseInt(e(255))/8+parseInt(e(220))/9+parseInt(e(241))/10*(-parseInt(e(225))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(265)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=w,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(217),"i"),r=T(t(223));n.test(r+t(262))&&e[t(205)](r+t(244))?T():r("0")}))()}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(265)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();C(void 0,(function(){const t=w;let n;try{n=Function(t(253)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(216)]||{},r=["log",t(236),t(259),t(246),t(207),"table",t(229)];for(let c=0;c<r[t(267)];c++){const n=C.constructor[t(261)][t(210)](C),o=r[c],a=e[o]||n;n[t(224)]=C[t(210)](C),n[t(254)]=a[t(254)][t(210)](a),e[o]=n}}))();const M=[I(268)],j=[I(211)];function S(){const t=["5296816lXNwlV","bind","object","channel","reflectorDiffuse","aoMap","wrapT","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","wrapS","tmRef","900855Sxwnto","action","reflectMap","init","__proto__","11NzHOAo","TresMesh","1XUmFdv","update","trace","while (true) {}","15CBuDgG","repeat","textureMatrix","TresPlaneGeometry","uv1","warn","mixStrength","visible","constructor","mirror","10004990XpTNLL","counter","assign","input","set","error","value","945078uHoYVj","attributes","tpgRef","onBeforeRender","color","return (function() ","toString","2881048VkAqYh","#444","tmsmRef","uniforms","info","gger","prototype","chain","renderTargetUniform","debu","apply","3750IfsSrF","length","rotation-x","80dUhHjE","TresGroup","TresMeshStandardMaterial","add","test","showGridHelper","exception","558286XsCggd"];return(S=function(){return t})()}const E=a({__name:I(213),props:{mirror:{default:1},mixStrength:{default:10},showGridHelper:{type:Boolean,default:!0},color:{default:"#ffffff"}},async setup(a){const v=I;let g,x;const _=a,w=new t(9.5,10),b=i(),C=i(),S=i(),E=new c,T={mirror:{value:_[v(240)]},mixStrength:{value:_[v(237)]}},z=([g,x]=s((()=>o(["./plugins/floor/image/polished_concrete_basecolor.jpg","./plugins/floor/image/polished_concrete_normal.jpg","./plugins/floor/image/polished_concrete_orm.jpg"]))),g=await g,x(),g);for(var A=0;A<3;A++)z[A][v(218)]=n,z[A][v(215)]=n,z[A][v(232)][v(245)](16,16);const R={color:new e(v(256)),metalness:1,roughness:1,map:z[0],metalnessMap:z[2],roughnessMap:z[2],aoMap:z[2],aoMapIntensity:1,normalMap:z[1],normalScale:new r(3,3)},U=t=>{const n=v;t[n(258)][n(222)]=E[n(263)],t[n(258)][n(233)]=E.textureMatrixUniform,t.uniforms=Object[n(243)](t[n(258)],T),(t=>{const n=y;t[n(208)]=t[n(208)][n(192)](n(188),n(203)),t[n(208)]=t.vertexShader[n(192)](n(222),n(187))})(t),(t=>{const n=y;t.fragmentShader=t[n(216)][n(192)](n(188),n(184)),t[n(216)]=t[n(216)][n(192)](n(220),n(183))})(t)};return u((()=>{const t=v;b[t(247)]&&(b.value[t(249)][t(235)]=b.value.attributes.uv),S.value&&(S.value[t(214)][t(212)]=1,S[t(247)].onBeforeCompile=U),C[t(247)]&&(C[t(247)][t(204)](E),C[t(247)][t(251)]=(n,e,r)=>{E[t(228)](n,e,r)}),_[t(252)]&&S[t(247)]&&(S.value.color=new e(_[t(252)]))})),l((()=>_[v(206)]),(t=>{w[v(238)]=t})),(t,n)=>{const e=v;return f(),p(e(270),null,[m(e(226),{ref_key:e(219),ref:C,"rotation-x":-Math.PI/2,"position-y":-.1},[m(e(234),{ref_key:e(250),ref:b,args:[10,10]},null,512),m(e(271),d({ref_key:e(257),ref:S},R),null,16)],8,M),m("primitive",{object:h(w)},null,8,j)])}}});function T(t){function n(t){const e=w;if("string"==typeof t)return function(t){}[e(239)](e(230)).apply(e(242));1!==(""+t/t)[e(267)]||t%20==0?function(){return!0}[e(239)](e(264)+e(260)).call(e(221)):function(){return!1}[e(239)]("debu"+e(260))[e(265)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{E as _};
