import{_ as t,bT as n,a3 as o,C as r}from"./three.QbUqWzuy1728531791220.js";import{z as e}from"./@tresjs.TFxw2EXb1728531791220.js";import{d as s,b as a,a4 as u,w as c,o as i,E as f,L as l,aj as p,ak as h}from"./@vue.bvMz0l_u1728531791220.js";!function(t,n){const o=m,r=b();for(;;)try{if(794829===parseInt(o(289))/1+-parseInt(o(294))/2+-parseInt(o(290))/3+-parseInt(o(270))/4*(parseInt(o(278))/5)+-parseInt(o(300))/6+parseInt(o(261))/7+parseInt(o(263))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(265)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp(t(291)),o=new RegExp(t(310),"i"),r=_(t(287));n.test(r+t(272))&&o.test(r+t(292))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(265)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=b();return(m=function(t,n){return o[t-=261]})(t,n)}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(285)+t(301)+");")()}catch(o){n=window}return n}(),o=n[t(276)]=n[t(276)]||{},r=[t(273),t(267),t(283),"error",t(307),"table",t(308)];for(let e=0;e<r.length;e++){const n=g[t(264)][t(268)][t(298)](g),s=r[e],a=o[s]||n;n.__proto__=g[t(298)](g),n.toString=a[t(309)].bind(a),o[s]=n}}))();const v=()=>{const o=m;return o(295)+t[o(311)].common+o(279)+t[o(311)].bsdfs+o(279)+t[o(311)][o(269)]+o(303)+t[o(311)][o(302)]+o(281)+t[o(311)].defaultnormal_vertex+o(281)+t[o(311)].begin_vertex+o(281)+t[o(311)][o(280)]+"\n          "+t[o(311)][o(299)]+o(281)+n[o(274)]+o(266)},w=()=>{const o=m;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n.common+o(304)+n[o(275)]+"\n\t "+t[o(311)].bsdfs+o(304)+t[o(311)][o(286)]+o(304)+n[o(297)]+"\n\t "+t[o(311)][o(262)]+o(282)};function _(t){function n(t){const o=m;if(typeof t===o(277))return function(t){}[o(264)]("while (true) {}").apply(o(288));1!==(""+t/t)[o(305)]||t%20==0?function(){return!0}[o(264)](o(284)+o(296))[o(271)](o(293)):function(){return!1}[o(264)]("debu"+o(296))[o(265)](o(306)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function b(){const t=["\n\t ","length","stateObject","exception","trace","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","ShaderChunk","5126758RXPIpT","shadowmask_pars_fragment","19717616pjbtjS","constructor","apply","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","warn","prototype","shadowmap_pars_vertex","568shnjpb","call","chain","log","shadowmap_vertex","packing","console","string","9860GbIWZV","\n      \t","project_vertex","\n          ","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","info","debu","return (function() ","lights_pars_begin","init","counter","1297265MAHGzB","3522366McrIwa","function *\\( *\\)","input","action","1925976TwpNSu","\n       varying vec2 vUv;\n\t\t\t \t","gger","shadowmap_pars_fragment","bind","worldpos_vertex","7694388VAYHNg",'{}.constructor("return this")( )',"beginnormal_vertex","\n       void main() {\n\t\t\t\t\t"];return(b=function(){return t})()}const x=S;!function(t,n){const o=S,r=j();for(;;)try{if(313234===parseInt(o(331))/1+parseInt(o(296))/2*(parseInt(o(320))/3)+parseInt(o(306))/4+-parseInt(o(288))/5*(-parseInt(o(316))/6)+parseInt(o(326))/7*(-parseInt(o(313))/8)+parseInt(o(319))/9*(-parseInt(o(305))/10)+-parseInt(o(279))/11*(parseInt(o(315))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(323)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=S,n=new RegExp(t(277)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=k(t(303));n[t(283)](r+t(302))&&o[t(283)](r+t(327))?k():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(323)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(t,n){const o=j();return(S=function(t,n){return o[t-=276]})(t,n)}function j(){const t=["3636abXnLM","6gGGbJS","info","TresMesh","apply","action","stateObject","1722enmZDU","input","warn","counter","whiteFloorMesh","265315UqRsre","log","toString","function *\\( *\\)","shadowColor","5928043mgZYnK","DoubleSide","call","debu","test","string","wrapS","merge","#999","1315vlGuQu","table","fEdge","UniformsUtils","bind","tmRef","value","wrapT","443770Zlfqak","rotation-x","uShadowColor","constructor","edge","#990","chain","init","length","6760TQXcjW","1706704dbnPkF","uniforms",'{}.constructor("return this")( )',"UniformsLib","error","color","return (function() ","512stmTxB","__proto__","24tQsQBy","12414fJSYhc","gger","Color"];return(j=function(){return t})()}y(void 0,(function(){const t=S;let n;try{n=Function(t(312)+t(308)+");")()}catch(e){n=window}const o=n.console=n.console||{},r=[t(332),t(328),t(321),t(310),"exception",t(289),"trace"];for(let s=0;s<r.length;s++){const n=y[t(299)].prototype[t(292)](y),e=r[s],a=o[e]||n;n[t(314)]=y[t(292)](y),n[t(276)]=a[t(276)][t(292)](a),o[e]=n}}))();const C=[x(297)],T=["args"],M=s({__name:x(330),props:{size:{default:[20,20]},color:{default:x(301)},shadowColor:{default:x(287)},edge:{default:.35}},async setup(n){const s=x;let d,g;const m=n,_=a(),{map:b}=([d,g]=u((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);b[s(285)]=b[s(295)]=o;const I={uniforms:t[s(291)][s(286)]([t[s(309)].lights,{uTexture:{type:"t",value:b},uColor:{value:new r(m[s(311)])},uShadowColor:{value:new(t[s(318)])(m[s(278)])},fEdge:{type:"f",value:m[s(300)]}}]),side:t[s(280)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>m[s(300)]),(t=>{const n=s;I.uniforms[n(290)].value=t})),c((()=>m[s(311)]),(n=>{const o=s;I.uniforms.uColor[o(294)]=new(t[o(318)])(m[o(311)])})),c((()=>m.shadowColor),(n=>{const o=s;I[o(307)][o(298)][o(294)]=new(t[o(318)])(m[o(278)])})),(t,n)=>{const o=s;return i(),f(o(322),{ref_key:o(293),ref:_,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:m.size},null,8,T),l("TresShaderMaterial",p(h(I)),null,16)],8,C)}}});function k(t){function n(t){const o=S;if(typeof t===o(284))return function(t){}[o(299)]("while (true) {}")[o(323)](o(329));1!==(""+t/t)[o(304)]||t%20==0?function(){return!0}[o(299)](o(282)+o(317))[o(281)](o(324)):function(){return!1}.constructor("debu"+o(317))[o(323)](o(325)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{M as _};
