import{p as n,U as t,Y as o}from"./@tresjs.UGbbWZf51726652192279.js";import{k as e,_ as r,h as c,V as i}from"./three.3esZ7Hzr1726652192279.js";import{n as s,c as u,_ as a}from"./three-tile.aZFEED7i1726652192279.js";import{T as f}from"./@tweenjs.J1BAvmPw1726652192279.js";import{d as l,b as p,w as h,o as g,E as m,L as d,u as y,j as I,F as b,r as w,e as _,g as v,aj as x,ak as j,m as S}from"./@vue.JNsx1iN61726652192279.js";import{_ as z}from"./@fesjs.SPWJBM2r1726652192279.js";import"./@vueuse.OdTlFP151726652192279.js";import"./vue-router.xtoXuUHZ1726652192279.js";import"./lodash-es.kYt-_xTG1726652192279.js";import"./@qlin.yHhFDldE1726652192279.js";import"./pinia.wYsVO5dS1726652192279.js";import"./@floating-ui.BPbuo5Gx1726652192279.js";import"./@juggle.7yjBMqoW1726652192279.js";const A=T;!function(n,t){const o=T,e=E();for(;;)try{if(643820===-parseInt(o(361))/1*(parseInt(o(380))/2)+parseInt(o(403))/3+-parseInt(o(390))/4+parseInt(o(362))/5*(parseInt(o(399))/6)+parseInt(o(382))/7+parseInt(o(379))/8+parseInt(o(386))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(356)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function T(n,t){const o=E();return(T=function(n,t){return o[n-=356]})(n,t)}function E(){const n=["input","update","action","exception","test","geo2pos","init","dispatchEvent","chain","return (function() ","flyTo","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4224656iuLdLE","2479816jQHRnb","value","7277788XZdBwu","trace","table","string","93141EVmzHW","target","localToWorld","function *\\( *\\)","2646800stLJMb","length","call","change","while (true) {}","gger","prototype","bind","toString","5727198Kobkgj","counter","error","constructor","38340aCnaQg","log","apply","copy","map","stateObject","info","1ekkPVP","5fOxbIA","debu","warn",'{}.constructor("return this")( )'];return(E=function(){return n})()}!function(){k(this,(function(){const n=T,t=new RegExp(n(389)),o=new RegExp(n(378),"i"),e=D(n(372));t[n(370)](e+n(374))&&o[n(370)](e+n(366))?D():e("0")}))()}();const L=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(356)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();L(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(375)+n(365)+");")()}catch(o){t=window}return t}(),o=t.console=t.console||{},e=[n(404),n(364),n(360),n(401),n(369),n(384),n(383)];for(let r=0;r<e[n(391)];r++){const t=L[n(402)][n(396)][n(397)](L),c=e[r],i=o[c]||t;t[n(377)]=L[n(397)](L),t[n(398)]=i[n(398)][n(397)](i),o[c]=t}}))();const M=l({__name:A(376),props:{map:{}},setup(o,{expose:e}){const r=o,{camera:c,controls:i}=n();let s=[];const{onBeforeLoop:u}=t();return u((()=>{var n;const t=T;s&&(null==(n=s[0])||n[t(367)]())})),e({flyToGeo:(n,t)=>{const o=n=>{const t=T;return r[t(358)][t(388)](r[t(358)][t(371)](n))};((n,t)=>{const o=T;i[o(381)]&&i[o(381)][o(387)][o(357)](t);const e=c[o(381)].position;s[0]=new f(e).to(n).start()})(o(n),o(t))},goToGeo:(n,t)=>{const o=T,e=r[o(358)][o(388)](r[o(358)][o(371)](t)),s=r[o(358)][o(388)](r[o(358)][o(371)](n));c[o(381)].position.copy(s),i.value[o(387)][o(357)](e),i[o(381)][o(373)]({type:o(393)})}}),(n,t)=>null}});function D(n){function t(n){const o=T;if(typeof n===o(385))return function(n){}[o(402)](o(394))[o(356)](o(400));1!==(""+n/n)[o(391)]||n%20==0?function(){return!0}[o(402)]("debu"+o(395))[o(392)](o(368)):function(){return!1}.constructor(o(363)+"gger")[o(356)](o(359)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const R=O;function P(){const n=["querySelector","info","°  \n                            海拔:","error","bind","length","12ZcSDiK","exception","2965560bskIyb","28OwIqqd","toFixed","prototype","175096fXqksN","clientWidth","5674743wXBhyp","km ","m\n                            离摄像机距离:","1141271UsfTpv","toString","debu","addEventListener","clientY","6632085tZBHGu","°  \n                            纬度:","#informationDiv","location","591044qDIRfR","chain","input",'{}.constructor("return this")( )',"warn","function *\\( *\\)","853276ESGzvZ","__proto__","init","经度:","gger","console","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","innerHTML","string","apply","trace"];return(P=function(){return n})()}!function(n,t){const o=O,e=P();for(;;)try{if(986446===parseInt(o(204))/1+-parseInt(o(213))/2*(-parseInt(o(237))/3)+parseInt(o(219))/4+-parseInt(o(209))/5+parseInt(o(239))/6+parseInt(o(240))/7*(-parseInt(o(199))/8)+-parseInt(o(201))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const Z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[O(229)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){Z(this,(function(){const n=O,t=new RegExp(n(218)),o=new RegExp(n(226),"i"),e=F(n(221));t.test(e+n(214))&&o.test(e+n(215))?F():e("0")}))()}();const q=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();q(void 0,(function(){const n=O,t=function(){const n=O;let t;try{t=Function("return (function() "+n(216)+");")()}catch(o){t=window}return t}(),o=t[n(224)]=t.console||{},e=["log",n(217),n(232),n(234),n(238),"table",n(230)];for(let r=0;r<e[n(236)];r++){const t=q.constructor[n(242)][n(235)](q),c=e[r],i=o[c]||t;t[n(220)]=q[n(235)](q),t.toString=i[n(205)].bind(i),o[c]=t}}))();function O(n,t){const o=P();return(O=function(n,t){return o[n-=199]})(n,t)}function F(n){function t(n){const o=O;if(typeof n===o(228))return function(n){}[o(225)]("while (true) {}")[o(229)]("counter");1!==(""+n/n)[o(236)]||n%20==0?function(){return!0}[o(225)]("debu"+o(223)).call("action"):function(){return!1}[o(225)](o(206)+o(223))[o(229)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const W=Object.freeze(Object.defineProperty({__proto__:null,showLocation:(n,t,o,r=R(211))=>{const c=R,i=document[c(231)](r);if(i){const r=new e;t[c(207)]("pointermove",(e=>{const s=c;r.x=e.clientX/t[s(200)]*2-1,r.y=-e[s(208)]/t.clientHeight*2+1;const u=o.getLocalInfoFromScreen(n,r);i[s(227)]=u?s(222)+u[s(212)].x[s(241)](3)+s(210)+u[s(212)].y[s(241)](3)+s(233)+(1e3*u.location.z)[s(241)](1)+s(203)+u.distance.toFixed(3)+s(202):""}))}}},Symbol.toStringTag,{value:"Module"}));function B(n,t){const o=X();return(B=function(n,t){return o[n-=345]})(n,t)}const C=B;!function(n,t){const o=B,e=X();for(;;)try{if(825146===parseInt(o(410))/1+parseInt(o(386))/2+-parseInt(o(401))/3*(parseInt(o(366))/4)+-parseInt(o(376))/5+parseInt(o(412))/6*(parseInt(o(379))/7)+-parseInt(o(383))/8+-parseInt(o(385))/9*(parseInt(o(355))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const G=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[B(357)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){G(this,(function(){const n=B,t=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Q(n(387));t.test(e+n(371))&&o.test(e+"input")?Q():e("0")}))()}();const H=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function X(){const n=["52fjqeJv","maxPolarAngle","copy","value","exception","chain","fog","localToWorld","tdLight","error","2805710dBuUhz","mapBoxShow","MapBoxSource","6526093Wcaisa","pk.eyJ1IjoidG9tYWNoIiwiYSI6ImNrbnR6d3psMzA4YWgydnBzeGhrNW1mdDgifQ.zq6mWEop1OTBrQ24R0SdlA","position","constructor","3517824XhxnLq","pow","5607EhkwVC","2763252MPnqOf","init","warn","primitive","return (function() ","showLocation","trace","far","debu","log","maxAzimuthAngle","string","prototype","FogExp2","GDSource","277146yrylCq","geo2pos","toString","plugin","action","addEventListener",'{}.constructor("return this")( )',"gger","rotateX","1446328imWFis","console","6cfCUCv","info","flyToRef","while (true) {}","bind","clamp","call","Vector3","mapbox.terrain-rgb","terrain-rgb","counter","updateProjectionMatrix","object","11770vhXYyj","length","apply","TresDirectionalLight","max","table","minAzimuthAngle","__proto__","stateObject","flyToGeo","target"];return(X=function(){return n})()}H(void 0,(function(){const n=B,t=function(){const n=B;let t;try{t=Function(n(390)+n(407)+");")()}catch(o){t=window}return t}(),o=t[n(411)]=t[n(411)]||{},e=[n(395),n(388),n(413),n(375),n(370),n(360),n(392)];for(let r=0;r<e[n(356)];r++){const t=H[n(382)][n(398)].bind(H),c=e[r],i=o[c]||t;t[n(362)]=H[n(346)](H),t[n(403)]=i[n(403)][n(346)](i),o[c]=t}}))();const $=[C(354)],V=C(380),Y=l({__name:C(377),setup(t){const o=C,e=new(s[o(378)])({token:V,dataType:o(351),style:o(350),maxLevel:15}),f=new u({imgSource:[new(a[o(404)][o(400)])({style:"6"}),new(s[o(400)])({style:"8"})],demSource:e,lon0:90,minLevel:2,maxLevel:20});f[o(409)](-Math.PI/2);const l=new(r[o(349)])(110,30,0),w=new(r[o(349)])(110,0,1e4),_=f[o(373)](f[o(402)](l)),v=f[o(373)](f.geo2pos(w)),x=p(),{camera:j,controls:S,scene:z,renderer:A}=n();j[o(369)]&&j[o(369)][o(381)][o(368)](v),h((()=>S[o(369)]),(n=>{const t=o;n&&(n[t(365)][t(368)](_),n[t(406)]("change",(()=>{const o=t,e=Math[o(359)](n.getPolarAngle(),.1),i=Math.max(n.getDistance(),.1);if(n.zoomSpeed=Math[o(359)](Math[o(395)](i),1.8),j.value){const n=j[o(369)];n[o(393)]=c[o(347)](i/e*8,100,5e4),n.near=n[o(393)]/1e3,n[o(353)]()}z[o(369)][o(372)]instanceof r[o(399)]&&(z[o(369)].fog.density=e/(i+5)*1*.25),i>8e3?(n[o(361)]=0,n.maxAzimuthAngle=0):(n.minAzimuthAngle=-1/0,n[o(396)]=1/0),n[o(367)]=Math.min(Math[o(384)](1e4,4)/Math[o(384)](i,4),1.2)})))})),h((()=>x[o(369)]),(n=>{const t=o;n&&n[t(365)][t(381)][t(368)](_)}));const k=p();return h((()=>k.value),(n=>{const t=o;if(n){const o=new(r[t(349)])(118.724693,32.00741,9.655599),e=new i(118.724419,32.010354,0);setTimeout((()=>{n[t(364)](o,e)}),500)}})),W[o(391)](j.value,A.value.domElement,f),(n,t)=>{const e=o;return g(),m(b,null,[d(e(358),{ref_key:e(374),ref:x,position:[0,2e3,1e3],intensity:1},null,512),d(e(389),{object:y(f)},null,8,$),I(M,{map:y(f),ref_key:e(414),ref:k},null,8,["map"])],64)}}});function Q(n){function t(n){const o=B;if(typeof n===o(397))return function(n){}.constructor(o(345))[o(357)](o(352));1!==(""+n/n)[o(356)]||n%20==0?function(){return!0}[o(382)](o(394)+"gger")[o(348)](o(405)):function(){return!1}[o(382)]("debu"+o(408))[o(357)](o(363)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const U={id:"informationDiv"};const N=z({},[["render",function(n,t){return g(),m("div",U)}],["__scopeId","data-v-d511bb21"]]),J=cn;!function(n,t){const o=cn,e=tn();for(;;)try{if(172627===parseInt(o(471))/1+-parseInt(o(456))/2+-parseInt(o(451))/3*(-parseInt(o(469))/4)+-parseInt(o(468))/5*(-parseInt(o(477))/6)+parseInt(o(473))/7+-parseInt(o(457))/8*(parseInt(o(478))/9)+-parseInt(o(486))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const K=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[cn(474)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){K(this,(function(){const n=cn,t=new RegExp(n(485)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=un("init");t[n(484)](e+n(462))&&o.test(e+"input")?un():e("0")}))()}();const nn=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[cn(474)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function tn(){const n=["809345OphvHj","4144lNOoLu","warn","337082Soldfs","gger","1858689UxkSJQ","apply","table","#dbf0ff","6hIMKqT","351SMCTaP","console","__proto__","TresPerspectiveCamera","stateObject","string","test","function *\\( *\\)","5345370UlyxwQ","info","toString",'{}.constructor("return this")( )',"TresGridHelper","621HVoZeW","debu","prototype","action","error","409294ViDuur","13768oktXYz","constructor","exception","bind","log","chain","while (true) {}","return (function() ","length","counter","TresCanvas"];return(tn=function(){return n})()}nn(void 0,(function(){const n=cn;let t;try{t=Function(n(464)+n(489)+");")()}catch(r){t=window}const o=t[n(479)]=t.console||{},e=[n(461),n(470),n(487),n(455),n(459),n(475),"trace"];for(let c=0;c<e[n(465)];c++){const t=nn.constructor[n(453)][n(460)](nn),r=e[c],i=o[r]||t;t[n(480)]=nn[n(460)](nn),t.toString=i[n(488)].bind(i),o[r]=t}}))();const on=d(J(481),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),en=d("TresAmbientLight",{intensity:1},null,-1),rn=d(J(450),{args:[20,10]},null,-1);function cn(n,t){const o=tn();return(cn=function(n,t){return o[n-=450]})(n,t)}const sn=l({__name:"threeTileEx",setup(n){const t=J,e=w({clearColor:t(476),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=w({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,minDistance:.1,maxDistance:3e4,maxPolarAngle:1.2,dampingFactor:.035,keyPanSpeed:5});return(n,c)=>{const i=_(t(467));return g(),m(b,null,[I(i,S(e,{"window-size":""}),{default:v((()=>[on,I(y(o),x(j(r)),null,16),en,rn,I(Y)])),_:1},16),I(N)],64)}}});function un(n){function t(n){const o=cn;if(typeof n===o(483))return function(n){}[o(458)](o(463)).apply(o(466));1!==(""+n/n)[o(465)]||n%20==0?function(){return!0}[o(458)](o(452)+o(472)).call(o(454)):function(){return!1}.constructor(o(452)+o(472))[o(474)](o(482)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{sn as default};
