import{U as n,p as t,Y as e,n as o,z as r}from"./@tresjs.Mu0zjs701726563592429.js";import{_ as i,aL as s,z as a}from"./three.ZWd_rX7H1726563592429.js";import{P as c}from"./tweakpane.yHWGBmom1726563592429.js";import{L as u}from"./three-subdivide.Lz76v5NI1726563592429.js";import{d as l,b as f,a3 as p,w as d,o as g,E as m,L as h,aj as v,ak as y,a4 as b,r as w,e as M,f as _,g as I,j as x,u as B,m as S,J as T}from"./@vue.bvMz0l_u1726563592429.js";import"./@vueuse.a2m4N83v1726563592429.js";const j=F;!function(n,t){const e=F,o=A();for(;;)try{if(370803===-parseInt(e(417))/1+parseInt(e(457))/2+parseInt(e(429))/3+parseInt(e(409))/4*(parseInt(e(421))/5)+-parseInt(e(426))/6+parseInt(e(428))/7+parseInt(e(423))/8*(-parseInt(e(439))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(434)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(){const n=["debu","function *\\( *\\)","attributes","__proto__","viewVector","Color","TresMesh","FrontSide","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","subdivision","input","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","1055014mCRyRu","color","length","test","init","modify","toString","while (true) {}","glowColor","material","chain","geometry","8HgxabH","trace","bind","counter","side","exception","log","return (function() ","103470wYsLRt","table","clone","uniforms","406745otKgvu","action","16jMOMyg","srcMesh","warn","2570682CkWcNo","scale","517363GhsFZA","1472322kdrmcK","console","string","constructor","AdditiveBlending","apply","Vector3","copy","blending","value","1584756cntSGp","position","shineShader"];return(A=function(){return n})()}!function(){k(this,(function(){const n=F,t=new RegExp(n(443)),e=new RegExp(n(455),"i"),o=V(n(461));t[n(460)](o+n(407))&&e[n(460)](o+n(452))?V():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(434)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();C(void 0,(function(){const n=F;let t;try{t=Function(n(416)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(430)]=t[n(430)]||{},o=[n(415),n(425),"info","error",n(414),n(418),n(410)];for(let i=0;i<o[n(459)];i++){const t=C[n(432)][n(454)][n(411)](C),r=o[i],s=e[r]||t;t[n(445)]=C.bind(C),t[n(403)]=s[n(403)][n(411)](s),e[r]=t}}))();const z=["scale"];function F(n,t){const e=A();return(F=function(n,t){return e[n-=402]})(n,t)}const R=l({__name:j(441),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(449)]},blending:{default:i[j(433)]}},setup(e){const o=j,r=e,s=f(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(447)])(r[o(458)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(453),fragmentShader:o(450),side:r[o(413)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(437)]};p((()=>{const n=o;if(r[n(424)]&&s.value&&!s[n(438)].geometry[n(444)].position){let t=r[n(424)][n(408)][n(419)]();r[n(451)]&&(t=u.modify(t,2)),s[n(438)][n(408)]=t,s[n(438)].position[n(436)](r[n(424)][n(440)])}r[n(458)]&&(a[n(420)][n(405)][n(438)]=new(i[n(447)])(r[n(458)])),r.c&&(a[n(420)].c.value=r.c),r.p&&(a[n(420)].p[n(438)]=r.p)})),d((()=>r[o(451)]),(n=>{const t=o;let e=r[t(424)][t(408)].clone();n&&(e=u[t(402)](e,2)),s[t(438)].geometry=e})),d((()=>r[o(413)]),(n=>{const t=o;s[t(438)][t(406)][t(413)]=n})),d((()=>r[o(437)]),(n=>{const t=o;s[t(438)][t(406)].blending=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=o;l[n(438)]&&s[n(438)]&&(a[n(420)][n(446)][n(438)]=(new(i[n(435)])).subVectors(l[n(438)][n(440)],s.value[n(440)]))})),(n,t)=>{const e=o;return g(),m(e(448),{ref_key:"TSGref",ref:s,scale:r[e(427)]},[h("TresShaderMaterial",v(y(a)),null,16)],8,z)}}});function V(n){function t(n){const e=F;if(typeof n===e(431))return function(n){}[e(432)](e(404))[e(434)](e(412));1!==(""+n/n).length||n%20==0?function(){return!0}[e(432)]("debugger")[e(456)](e(422)):function(){return!1}[e(432)](e(442)+"gger")[e(434)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=K;!function(n,t){const e=K,o=E();for(;;)try{if(867152===parseInt(e(126))/1+-parseInt(e(114))/2*(-parseInt(e(160))/3)+-parseInt(e(154))/4*(parseInt(e(168))/5)+parseInt(e(111))/6*(-parseInt(e(130))/7)+parseInt(e(155))/8+-parseInt(e(149))/9+parseInt(e(145))/10*(parseInt(e(117))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[K(131)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){L(this,(function(){const n=K,t=new RegExp(n(112)),e=new RegExp(n(167),"i"),o=P("init");t.test(o+"chain")&&e.test(o+"input")?P():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(){const n=["9454401YOeVjy","exception","FrontSide","AdditiveBlending","TreBoxRef","8aCeHmw","9145632vvWBXm","scale","BackSide","TresGridHelper","TresMeshRefA","399ZELweV","TresSphereGeometry","NormalBlending","gger","srcMesh","TresMesh","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3212165qJyqYa","addBinding","blending","while (true) {}","444264ynTDes","function *\\( *\\)","TresBoxGeometry","21092NwFAFU","log","logo.png","132FeISsm","instance","bind","constructor","info","table","call","error","return (function() ","1332893NcuYqt","map","TresPerspectiveCamera","TresMeshRefB","98fQXAJK","apply","prototype","side","TresAmbientLight","DoubleSide","counter","toString","trace","console","shader","action","warn","debu","value","300340ZSMsYV","color","length","边缘处理"];return(E=function(){return n})()}Z(void 0,(function(){const n=K;let t;try{t=Function(n(125)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(139)]=t.console||{},o=[n(115),n(142),n(121),n(124),n(150),n(122),n(138)];for(let i=0;i<o[n(147)];i++){const t=Z.constructor[n(132)][n(119)](Z),r=o[i],s=e[r]||t;t.__proto__=Z.bind(Z),t[n(137)]=s[n(137)][n(119)](s),e[r]=t}}))();const G=h(N(128),{position:[5,5,5]},null,-1),Y=h(N(134),{intensity:1},null,-1),H=h(N(158),{args:[10,10]},null,-1),O=h(N(161),{args:[1,32,16]},null,-1),$=[N(127)],q=[N(127)],D=[h(N(113),{args:[1,1,1,1,1]},null,-1),h("TresMeshBasicMaterial",{color:"#0ff"},null,-1)],J=l({__name:N(140),async setup(n){const t=N;let u,l;const p={clearColor:"#222"},d=f(),m=f(),v=f(),y=([u,l]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(116)]))),u=await u,l(),u),j=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(151)],blending:s}),k=new c({title:"参数",expanded:!0});return k.addBinding(j,t(146),{label:"颜色"}),k[t(169)](j,t(156),{label:"大小",min:1,max:3,step:.2}),k.addBinding(j,"subdivision",{label:t(148)}),k.addBinding(j,"c",{label:"c",min:0,max:2,step:.1}),k[t(169)](j,"p",{label:"p",min:0,max:8,step:.2}),k[t(169)](j,t(133),{options:{FrontSide:a,BackSide:i[t(157)],DoubleSide:i[t(135)]}}),k[t(169)](j,t(109),{options:{AdditiveBlending:i[t(152)],NormalBlending:i[t(162)]}}),(n,r)=>{const i=t,s=M("TresCanvas");return g(),_(s,S(p,{"window-size":""}),{default:I((()=>[G,Y,x(B(e)),H,h(i(165),{ref_key:i(159),ref:d,position:[-2,1,0]},[O,h("TresMeshBasicMaterial",{map:B(y)[0]},null,8,$)],512),x(R,S({srcMesh:d[i(144)]},j),null,16,["srcMesh"]),x(B(o),{ref_key:i(153),ref:v,args:[1,1,1],position:[2,1,0]},{default:I((()=>[h("TresMeshBasicMaterial",{map:B(y)[1]},null,8,q)])),_:1},512),v[i(144)]&&v.value[i(118)]?(g(),_(R,S({key:0,srcMesh:v[i(144)][i(118)]},j),null,16,[i(164)])):T("",!0),h(i(165),{ref_key:i(129),ref:m,position:[0,1,-2]},D,512),x(R,S({srcMesh:m.value},j),null,16,[i(164)])])),_:1},16)}}});function K(n,t){const e=E();return(K=function(n,t){return e[n-=109]})(n,t)}function P(n){function t(n){const e=K;if("string"==typeof n)return function(n){}.constructor(e(110))[e(131)](e(136));1!==(""+n/n).length||n%20==0?function(){return!0}[e(120)](e(143)+e(163))[e(123)](e(141)):function(){return!1}[e(120)](e(143)+"gger")[e(131)](e(166)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{J as default};
