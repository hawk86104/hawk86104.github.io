import{$ as t,d as e}from"./@tresjs.bIWdfO9a1725721021019.js";import{l as n}from"./utils.topX00vP1725721021019.js";import{av as o,B as r,q as s,cL as a}from"./three.a9V66irq1725721021019.js";import{c as i,d as c,a as p}from"./three-mesh-bvh.ysdIJ9eS1725721021019.js";import{m as u}from"./d3-geo.u9QgXsWt1725721021019.js";import{a5 as l,b as f,a2 as d,o as m,E as h,F as y,W as j,L as b,d as g,r as v,e as w,f as T,g as _,j as x,aj as I,ak as E,u as B,al as M,m as k}from"./@vue._6MD2XyK1725721021019.js";import"./tweakpane.yHWGBmom1725721021019.js";import"./@vueuse.Ex-1AOlz1725721021019.js";import"./@fesjs.ozYBrZAq1725721021019.js";import"./vue-router._EXpxh631725721021019.js";import"./lodash-es.kYt-_xTG1725721021019.js";import"./@qlin.yHhFDldE1725721021019.js";import"./pinia.U_UMJ01N1725721021019.js";import"./@floating-ui.BPbuo5Gx1725721021019.js";import"./@juggle.7yjBMqoW1725721021019.js";import"./d3-array.AhNJy1f41725721021019.js";const z=["properties","renderOrder"],L=["args"],P=b("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),S={__name:"chinaMapMesh",async setup(e){let g,v;r.prototype.computeBoundsTree=i,r.prototype.disposeBoundsTree=c,s.prototype.raycast=p;const w=u().center([104,37.5]).translate([0,0]),T=([g,v]=l((()=>n("./plugins/simpleGIS/json/china.json","features"))),g=await g,v(),g),_={depth:10,bevelEnabled:!1},x=[];T.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[o,r]=w(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}x.push({shape:n,properties:t.properties})}))}))}));const I=new o({color:"#3480C4",linewidth:1,linecap:"round"}),E=f();d((()=>{E.value&&E.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,I];t.material=e}))}));let B=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),B=t})();const M=t=>{t.object.material[0].color.set(16711680),B.innerText=t.object.properties.name,B.style.visibility="visible"},k=t=>{t.eventObject.material[0].color.set(3010559),B.style.visibility="hidden"},S=t=>{B.style.left="".concat(t.clientX+6,"px"),B.style.top="".concat(t.clientY+6,"px")},{onLoop:C}=t();return C((()=>{})),(t,e)=>(m(),h("TresGroup",{ref_key:"tgRef",ref:E},[(m(),h(y,null,j(x,((t,e)=>b("TresMesh",{key:"".concat(e),properties:t.properties,renderOrder:e,onPointerEnter:M,onPointerLeave:k,onPointerMove:S},[b("TresExtrudeGeometry",{args:[t.shape,_]},null,8,L),P],40,z))),64))],512))}};function C(t,e){const n=Z();return(C=function(t,e){return n[t-=323]})(t,e)}const F=C;!function(t,e){const n=C,o=Z();for(;;)try{if(204812===parseInt(n(329))/1*(-parseInt(n(336))/2)+parseInt(n(337))/3*(-parseInt(n(338))/4)+-parseInt(n(333))/5+parseInt(n(328))/6*(-parseInt(n(354))/7)+parseInt(n(335))/8+-parseInt(n(327))/9+parseInt(n(346))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[C(323)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=C,e=new RegExp(t(342)),n=new RegExp(t(357),"i"),o=G(t(341));e[t(350)](o+t(344))&&n[t(350)](o+t(324))?G():o("0")}))()}();const A=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=C,e=function(){const t=C;let e;try{e=Function(t(330)+t(339)+");")()}catch(n){e=window}return e}(),n=e[t(348)]=e[t(348)]||{},o=[t(325),t(331),t(343),t(352),t(359),"table","trace"];for(let r=0;r<o[t(349)];r++){const e=A.constructor.prototype.bind(A),s=o[r],a=n[s]||e;e.__proto__=A.bind(A),e.toString=a[t(326)][t(353)](a),n[s]=e}}))();const R=b(F(345),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1);function Z(){const t=["4dwZBzz",'{}.constructor("return this")( )',"action","init","function *\\( *\\)","info","chain","TresPerspectiveCamera","8457480pVAbhH","gger","console","length","test","#201919","error","bind","7eVJISQ","while (true) {}","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","exception","call","apply","input","log","toString","2409876alUiBs","447708TLOPZv","180968HFSPYl","return (function() ","warn","chinaMap","1309735NuBsJe","constructor","1862304exuFrA","2sbHLza","265281fBgbMR"];return(Z=function(){return t})()}const $=g({__name:F(332),setup(n){const o=v({clearColor:F(351)}),r=v({enableDamping:!0,dampingFactor:.05}),{onLoop:s}=t();return s((()=>{})),d((()=>{})),(t,n)=>{const s=w("TresCanvas");return m(),T(s,k(o,{"window-size":""}),{default:_((()=>[R,x(B(e),I(E(r)),null,16),(m(),T(M,null,{default:_((()=>[x(S)])),_:1}))])),_:1},16)}}});function G(t){function e(t){const n=C;if("string"==typeof t)return function(t){}.constructor(n(355))[n(323)](n(358));1!==(""+t/t)[n(349)]||t%20==0?function(){return!0}[n(334)](n(356)+n(347))[n(360)](n(340)):function(){return!1}[n(334)](n(356)+n(347))[n(323)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{$ as default};
