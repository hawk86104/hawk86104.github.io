import{$ as n,p as t,d as e,S as o,N as r}from"./@tresjs.Q03Md-En1722313330047.js";import{a6 as i,x as s,aN as a}from"./three.0L1oP_mX1722313330047.js";import{P as c}from"./tweakpane.yHWGBmom1722313330047.js";import{L as u}from"./three-subdivide._UJiMkt61722313330047.js";import{d as l,b as f,a1 as p,w as d,o as g,D as m,J as h,aj as v,ak as y,a4 as b,r as w,e as I,f as _,g as x,j as M,u as S,m as T}from"./@vue.Q1VpS3901722313330047.js";import"./@vueuse.UFv615y21722313330047.js";const k=C;function j(){const n=["93RlRuFT","TresShaderMaterial","chain","material","AdditiveBlending","__proto__","viewVector","subVectors","constructor","exception","attributes","stateObject","toString","side","value","init","table","error","return (function() ","input","153494tvVuzk","111080HatWTe","geometry","clone",'{}.constructor("return this")( )',"489591ypktfw","gger","trace","#ffff00","modify","warn","Vector3","string","apply","call","counter","subdivision","50oGIkCz","glowColor","scale","Color","218838jlRGGY","12818180oEnJIZ","blending","function *\\( *\\)","position","uniforms","40GLQdtg","debu","FrontSide","TresMesh","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","length","3483074izgcIp","srcMesh","prototype","27218uIPyyN","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","color"];return(j=function(){return n})()}!function(n,t){const e=C,o=j();for(;;)try{if(251041===-parseInt(e(349))/1+parseInt(e(385))/2*(-parseInt(e(390))/3)+-parseInt(e(350))/4*(-parseInt(e(366))/5)+parseInt(e(370))/6+-parseInt(e(382))/7+-parseInt(e(376))/8*(parseInt(e(354))/9)+parseInt(e(371))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){B(this,(function(){const n=C,t=new RegExp(n(373)),e=new RegExp(n(387),"i"),o=F(n(344));t.test(o+n(392))&&e.test(o+n(348))?F():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(362)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function C(n,t){const e=j();return(C=function(n,t){return e[n-=340]})(n,t)}z(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function(n(347)+n(353)+");")()}catch(e){t=window}return t}(),e=t[n(386)]=t[n(386)]||{},o=["log",n(359),"info",n(346),n(399),n(345),n(356)];for(let r=0;r<o[n(381)];r++){const t=z[n(398)][n(384)][n(388)](z),i=o[r],s=e[i]||t;t[n(395)]=z[n(388)](z),t[n(341)]=s.toString.bind(s),e[i]=t}}))();const R=[k(368)],A=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:k(357)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(378)]},blending:{default:i[k(394)]}},setup(e){const o=k,r=e,s=f(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(369)])(r[o(389)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(380),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(342)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(372)]};p((()=>{const n=o;if(r[n(383)]&&!s[n(343)][n(351)][n(400)].position){let t=r[n(383)][n(351)][n(352)]();r[n(365)]&&(t=u[n(358)](t,2)),s.value.geometry=t,s.value[n(374)].copy(r[n(383)].position)}r[n(389)]&&(a[n(375)][n(367)].value=new(i[n(369)])(r[n(389)])),r.c&&(a[n(375)].c[n(343)]=r.c),r.p&&(a[n(375)].p.value=r.p)})),d((()=>r.subdivision),(n=>{const t=o;let e=r.srcMesh[t(351)][t(352)]();n&&(e=u[t(358)](e,2)),s[t(343)].geometry=e})),d((()=>r.side),(n=>{const t=o;s.value[t(393)][t(342)]=n})),d((()=>r[o(372)]),(n=>{const t=o;s[t(343)][t(393)].blending=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=o;l.value&&s[n(343)]&&(a[n(375)][n(396)][n(343)]=(new(i[n(360)]))[n(397)](l.value.position,s.value[n(374)]))})),(n,t)=>{const e=o;return g(),m(e(379),{ref_key:"TSGref",ref:s,scale:r[e(368)]},[h(e(391),v(y(a)),null,16)],8,R)}}});function F(n){function t(n){const e=C;if(typeof n===e(361))return function(n){}[e(398)]("while (true) {}").apply(e(364));1!==(""+n/n)[e(381)]||n%20==0?function(){return!0}[e(398)](e(377)+e(355))[e(363)]("action"):function(){return!1}[e(398)](e(377)+e(355))[e(362)](e(340)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function G(){const n=["debu","console","shader","TresMeshRefB","TresBoxGeometry","27082xKzTRH","counter","边缘处理","#0ff","NormalBlending",'{}.constructor("return this")( )',"TreBoxRef","string","srcMesh","length","TresCanvas","2037CKBIie","side","800664pxZKtp","TresSphereGeometry","info","init","trace","bind","__proto__","value","exception","input","color","FrontSide","TresMeshBasicMaterial","warn","BackSide","apply","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresGridHelper","test","2187780mFtxsw","table","constructor","TresPerspectiveCamera","6712rckiVy","2066823pQQkGa","map","DoubleSide","3979745ICSFjX","logo.png","gger","log","11807532JrgSZd","addBinding","23lovekk","toString"];return(G=function(){return n})()}function N(n,t){const e=G();return(N=function(n,t){return e[n-=107]})(n,t)}const V=N;!function(n,t){const e=N,o=G();for(;;)try{if(457257===parseInt(e(137))/1*(-parseInt(e(144))/2)+parseInt(e(128))/3+-parseInt(e(123))/4+-parseInt(e(131))/5+-parseInt(e(157))/6+-parseInt(e(155))/7*(-parseInt(e(127))/8)+parseInt(e(135))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(118)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=N,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(120),"i"),o=O(n(160));t[n(122)](o+n(119))&&e.test(o+n(112))?O():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(118)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();E(void 0,(function(){const n=N;let t;try{t=Function("return (function() "+n(149)+");")()}catch(r){t=window}const e=t[n(140)]=t[n(140)]||{},o=[n(134),n(116),n(159),"error",n(111),n(124),n(107)];for(let i=0;i<o[n(153)];i++){const t=E.constructor.prototype[n(108)](E),r=o[i],s=e[r]||t;t[n(109)]=E[n(108)](E),t[n(138)]=s[n(138)][n(108)](s),e[r]=t}}))();const $=h(V(126),{position:[5,5,5]},null,-1),L=h("TresAmbientLight",{intensity:1},null,-1),P=h(V(121),{args:[10,10]},null,-1),D=h(V(158),{args:[1,32,16]},null,-1),H=[V(129)],J=[V(129)],K=[h(V(143),{args:[1,1,1,1,1]},null,-1),h(V(115),{color:V(147)},null,-1)],Q=l({__name:V(141),async setup(n){const t=V;let u,l;const p={clearColor:"#222"},d=f(),m=f(),v=f(),y=([u,l]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(132)]))),u=await u,l(),u),k=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:s,blending:a}),j=new c({title:"参数",expanded:!0});return j[t(136)](k,t(113),{label:"颜色"}),j[t(136)](k,"scale",{label:"大小",min:1,max:3,step:.2}),j[t(136)](k,"subdivision",{label:t(146)}),j[t(136)](k,"c",{label:"c",min:0,max:2,step:.1}),j[t(136)](k,"p",{label:"p",min:0,max:8,step:.2}),j[t(136)](k,t(156),{options:{FrontSide:i[t(114)],BackSide:i[t(117)],DoubleSide:i[t(130)]}}),j.addBinding(k,"blending",{options:{AdditiveBlending:a,NormalBlending:i[t(148)]}}),(n,r)=>{const i=t,s=I(i(154));return g(),_(s,T(p,{"window-size":""}),{default:x((()=>[$,L,M(S(e)),P,h("TresMesh",{ref_key:"TresMeshRefA",ref:d,position:[-2,1,0]},[D,h(i(115),{map:S(y)[0]},null,8,H)],512),M(A,T({srcMesh:d[i(110)]},k),null,16,[i(152)]),M(S(o),{ref_key:i(150),ref:v,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h("TresMeshBasicMaterial",{map:S(y)[1]},null,8,J)])),_:1},512),M(A,T({srcMesh:v.value&&v[i(110)][i(110)]},k),null,16,["srcMesh"]),h("TresMesh",{ref_key:i(142),ref:m,position:[0,1,-2]},K,512),M(A,T({srcMesh:m[i(110)]},k),null,16,[i(152)])])),_:1},16)}}});function O(n){function t(n){const e=N;if(typeof n===e(151))return function(n){}.constructor("while (true) {}").apply(e(145));1!==(""+n/n)[e(153)]||n%20==0?function(){return!0}[e(125)]("debugger").call("action"):function(){return!1}[e(125)](e(139)+e(133)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{Q as default};
