import{_ as t,bI as n,C as o}from"./three.wKRaqyB-1731462043013.js";import{b as r}from"./@tresjs.xlnLF3O61731462043013.js";import{d as e,b as a,a6 as c,w as u,o as s,D as i,J as f,aj as l,ak as p}from"./@vue.-THQH3GC1731462043013.js";function h(){const t=["apply","defaultnormal_vertex","worldpos_vertex","ShaderChunk","info","shadowmask_pars_fragment","gger","bind","67310nhVOYN","table","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","stateObject","shadowmap_vertex","console","input","beginnormal_vertex","\n          ","\n       void main() {\n\t\t\t\t\t","length","shadowmap_pars_vertex","2755815qyZQNl","bsdfs","error","begin_vertex","call","project_vertex","\n      \t","warn","\n       varying vec2 vUv;\n\t\t\t \t","10724ukVPRN","toString","trace","function *\\( *\\)",'{}.constructor("return this")( )',"lights_pars_begin","7MRcceu","counter","prototype","1299zLCHbV","test","1978852FFGymw","return (function() ","exception","while (true) {}","1053719AMuZOK","packing","2574GFPDlo","constructor","init","common","\n\t ","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","679520tFrXCr","4847442aFZDou","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(h=function(){return t})()}!function(t,n){const o=v,r=h();for(;;)try{if(615524===-parseInt(o(417))/1+parseInt(o(413))/2+parseInt(o(467))/3*(parseInt(o(458))/4)+parseInt(o(449))/5+-parseInt(o(426))/6*(-parseInt(o(464))/7)+parseInt(o(425))/8+parseInt(o(419))/9*(-parseInt(o(436))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(428)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=v,n=new RegExp(t(461)),o=new RegExp(t(427),"i"),r=_(t(421));n[t(412)](r+"chain")&&o[t(412)](r+t(443))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(428)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(414)+t(462)+");")()}catch(o){n=window}return n}(),o=n[t(442)]=n[t(442)]||{},r=["log",t(456),t(432),t(451),t(415),t(437),t(460)];for(let e=0;e<r.length;e++){const n=g.constructor[t(466)][t(435)](g),a=r[e],c=o[a]||n;n.__proto__=g[t(435)](g),n[t(459)]=c[t(459)][t(435)](c),o[a]=n}}))();const m=()=>{const n=v;return n(457)+t[n(431)][n(422)]+n(455)+t[n(431)][n(450)]+"\n      \t"+t[n(431)][n(448)]+n(446)+t[n(431)][n(444)]+n(445)+t[n(431)][n(429)]+"\n          "+t[n(431)][n(452)]+n(445)+t[n(431)][n(454)]+"\n          "+t[n(431)][n(430)]+n(445)+t[n(431)][n(441)]+n(438)};function v(t,n){const o=h();return(v=function(t,n){return o[t-=412]})(t,n)}const w=()=>{const o=v;return o(439)+t[o(431)][o(422)]+o(423)+t[o(431)][o(418)]+o(423)+n[o(450)]+o(423)+t[o(431)][o(463)]+"\n\t "+n.shadowmap_pars_fragment+o(423)+t[o(431)][o(433)]+o(424)};function _(t){function n(t){const o=v;if("string"==typeof t)return function(t){}.constructor(o(416)).apply(o(465));1!==(""+t/t)[o(447)]||t%20==0?function(){return!0}[o(420)]("debu"+o(434))[o(453)]("action"):function(){return!1}[o(420)]("debu"+o(434))[o(428)](o(440)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=j;!function(t,n){const o=j,r=I();for(;;)try{if(239239===-parseInt(o(227))/1*(parseInt(o(234))/2)+-parseInt(o(224))/3*(parseInt(o(243))/4)+parseInt(o(262))/5*(-parseInt(o(217))/6)+-parseInt(o(230))/7+parseInt(o(233))/8+-parseInt(o(239))/9*(parseInt(o(231))/10)+parseInt(o(252))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(240)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=j,n=new RegExp(t(251)),o=new RegExp(t(260),"i"),r=E(t(257));n[t(207)](r+t(261))&&o[t(207)](r+t(242))?E():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(240)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function I(){const t=["string","tmRef","call","wrapS","test","whiteFloorMesh","warn","edge","uShadowColor","DoubleSide","bind","error","uniforms","constructor","54NlSAxQ","stateObject","#990","#999","debu","color","merge","39BCUEsE","length","TresMesh","21401QQeKzk","Color","return (function() ","2398851fpocip","130RujdzV","uColor","2719008EBSnRG","16HwMdFc","gger","while (true) {}","value","RepeatWrapping","152937fpROKp","apply","UniformsUtils","input","77764llpVhb","log","exception","args","toString","lights","__proto__","counter","function *\\( *\\)","14642705XyHubF","UniformsLib","shadowColor","console","size","init","trace","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","246805zPfZar"];return(I=function(){return t})()}y(void 0,(function(){const t=j;let n;try{n=Function(t(229)+'{}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(255)]=n[t(255)]||{},r=[t(244),t(209),"info",t(214),t(245),t(259),t(258)];for(let a=0;a<r[t(225)];a++){const n=y[t(216)].prototype.bind(y),e=r[a],c=o[e]||n;n[t(249)]=y[t(213)](y),n[t(247)]=c.toString[t(213)](c),o[e]=n}}))();const S=["rotation-x"],C=[b(246)],F=e({__name:b(208),props:{size:{default:[20,20]},color:{default:b(219)},shadowColor:{default:b(220)},edge:{default:.35}},async setup(n){const e=b;let h,d;const g=n,v=a(),{map:_}=([h,d]=c((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(206)]=_.wrapT=t[e(238)];const x={uniforms:t[e(241)][e(223)]([t[e(253)][e(248)],{uTexture:{type:"t",value:_},uColor:{value:new o(g[e(222)])},uShadowColor:{value:new(t[e(228)])(g[e(254)])},fEdge:{type:"f",value:g[e(210)]}}]),side:t[e(212)],vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return u((()=>g[e(210)]),(t=>{const n=e;x.uniforms.fEdge[n(237)]=t})),u((()=>g.color),(n=>{const o=e;x.uniforms[o(232)].value=new(t[o(228)])(g[o(222)])})),u((()=>g[e(254)]),(n=>{const o=e;x[o(215)][o(211)][o(237)]=new(t[o(228)])(g[o(254)])})),(t,n)=>{const o=e;return s(),i(o(226),{ref_key:o(204),ref:v,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:g[o(256)]},null,8,C),f("TresShaderMaterial",l(p(x)),null,16)],8,S)}}});function j(t,n){const o=I();return(j=function(t,n){return o[t-=204]})(t,n)}function E(t){function n(t){const o=j;if(typeof t===o(263))return function(t){}.constructor(o(236))[o(240)](o(250));1!==(""+t/t)[o(225)]||t%20==0?function(){return!0}.constructor(o(221)+o(235))[o(205)]("action"):function(){return!1}[o(216)](o(221)+"gger")[o(240)](o(218)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{F as _};
