import{_ as t,ai as n}from"./three.FyUEtfsR1741658416045.js";import{D as o,o as i,f as e}from"./@tresjs.W3PFJhMo1741658416045.js";import{a as r,b as s}from"./index.dSiIiYR01741658416045.js";import{P as u}from"./tweakpane.yDiyAAkA1741658416045.js";import{d as c,$ as a,w as p,o as f,H as l,a3 as m,u as d,r as g,f as h,g as v,N as I,j as y,al as b,m as S}from"./@vue.NRI7TcgI1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";import"./three-stdlib.X1LBpfR41741658416045.js";import"./@pmndrs.7A_kisEQ1741658416045.js";import"./object-hash.lsSo12-11741658416045.js";import"./@amap.smZgnC9y1741658416045.js";import"./jszip.zlmPIcYY1741658416045.js";const P=w;!function(t,n){const o=w,i=M();for(;;)try{if(681662===parseInt(o(144))/1+parseInt(o(156))/2+parseInt(o(149))/3+parseInt(o(168))/4+parseInt(o(145))/5+-parseInt(o(148))/6*(-parseInt(o(166))/7)+-parseInt(o(152))/8)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function w(t,n){const o=M();return(w=function(t,n){return o[t-=128]})(t,n)}!function(){_(this,(function(){const t=w,n=new RegExp(t(167)),o=new RegExp(t(172),"i"),i=E(t(133));n[t(140)](i+"chain")&&o[t(140)](i+t(141))?E():i("0")}))()}();const x=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();x(void 0,(function(){const t=w;let n;try{n=Function(t(165)+t(139)+");")()}catch(e){n=window}const o=n[t(150)]=n[t(150)]||{},i=["log",t(142),t(173),t(153),t(136),t(132),"trace"];for(let r=0;r<i[t(163)];r++){const n=x[t(159)][t(130)].bind(x),e=i[r],s=o[e]||n;n[t(157)]=x[t(162)](x),n[t(158)]=s[t(158)][t(162)](s),o[e]=n}}))();const j=["object"],R=c({__name:P(128),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[P(164)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=P,o=t,i=a(o[n(131)]);return o.srcMaterial[n(161)]=t=>{const o=n;t.uniforms[o(131)]=i,t[o(154)]=t[o(154)][o(155)](o(135),o(169)),t[o(154)]=t[o(154)][o(155)](o(143),"\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t")},p((()=>o.uSnappingResolution),(t=>{i[n(151)]=t})),(t,o)=>{const i=n;return f(),l(i(138),{object:t[i(160)]},null,8,j)}}});function M(){const t=["srcMaterial","onBeforeCompile","bind","length","MeshStandardMaterial","return (function() ","314979lOBOXe","function *\\( *\\)","2825924tKZkMk","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","gger","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","com","counter","prototype","uSnappingResolution","table","init","debu","#include <common>","exception","apply","primitive",'{}.constructor("return this")( )',"test","input","warn","#include <project_vertex>","597394UOplJl","1045740kabtkK","action","string","78anWkpv","1566843dHVyHO","console","value","16548928OrPcJE","error","vertexShader","replace","260026lVYYnd","__proto__","toString","constructor"];return(M=function(){return t})()}function E(t){function n(t){const o=w;if(typeof t===o(147))return function(t){}.constructor(o(171))[o(137)](o(129));1!==(""+t/t)[o(163)]||t%20==0?function(){return!0}[o(159)](o(134)+o(170)).call(o(146)):function(){return!1}[o(159)]("debu"+o(170))[o(137)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=T,i=k();for(;;)try{if(982675===-parseInt(o(199))/1+-parseInt(o(198))/2*(-parseInt(o(184))/3)+parseInt(o(189))/4*(-parseInt(o(180))/5)+parseInt(o(196))/6*(parseInt(o(173))/7)+-parseInt(o(186))/8*(parseInt(o(176))/9)+parseInt(o(202))/10+parseInt(o(175))/11)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const A=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[T(182)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function T(t,n){const o=k();return(T=function(t,n){return o[t-=170]})(t,n)}!function(){A(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(179),"i"),i=N(t(172));n.test(i+t(193))&&o[t(170)](i+"input")?N():i("0")}))()}();const z=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[T(182)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function N(t){function n(t){const o=T;if(typeof t===o(187))return function(t){}.constructor("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[o(195)]("debu"+o(178)).call(o(201)):function(){return!1}[o(195)]("debu"+o(178))[o(182)](o(206)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function k(){const t=["init","8078161jxgfDG","vertexShader","26575934LCoyKE","9keFNSf","return (function() ","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","87635PQVyYj","bind","apply",'{}.constructor("return this")( )',"3epWVsf","exception","5355848sBLdfI","string","toString","424Dfctaa","console","prototype","uniforms","chain","#include <common>","constructor","6wspafU","replace","1623156idHadm","1324089bGalOy","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","action","4525120bFSLXS","#include <project_vertex>","table","trace","stateObject","test","uSnappingResolution"];return(k=function(){return t})()}z(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(177)+t(183)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(190)]||{},i=["log","warn","info","error",t(185),t(204),t(205)];for(let e=0;e<i.length;e++){const n=z[t(195)][t(191)][t(181)](z),r=i[e],s=o[r]||n;n.__proto__=z[t(181)](z),n.toString=s[t(188)].bind(s),o[r]=n}}))();const Z=B;!function(t,n){const o=B,i=$();for(;;)try{if(378090===parseInt(o(162))/1+parseInt(o(179))/2*(parseInt(o(164))/3)+parseInt(o(178))/4*(-parseInt(o(176))/5)+parseInt(o(169))/6+parseInt(o(156))/7+parseInt(o(154))/8+parseInt(o(173))/9*(-parseInt(o(157))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const C=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[B(181)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){C(this,(function(){const t=B,n=new RegExp(t(180)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=U("init");n[t(148)](i+"chain")&&o.test(i+t(175))?U():i("0")}))()}();const O=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[B(181)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function B(t,n){const o=$();return(B=function(t,n){return o[t-=140]})(t,n)}function $(){const t=["info","error","stateObject","556878xmuqvi","values","30594yhJPfy","object","uSnappingResolution","log",'{}.constructor("return this")( )',"2762472PGDefd","table","console","length","14698044KsKAAE","primitive","input","290MfqdTR","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","8872iXASLV","82CBHbaU","function *\\( *\\)","apply","value","gger","string","__proto__","call","push","model","return (function() ","test","forEach","prototype","warn","toString","bind","2571416SrxjZY","debu","2681105ytvjil","10RsIRdf","constructor"];return($=function(){return t})()}O(void 0,(function(){const t=B;let n;try{n=Function(t(147)+t(168)+");")()}catch(e){n=window}const o=n[t(171)]=n[t(171)]||{},i=[t(167),t(151),t(159),t(160),"exception",t(170),"trace"];for(let r=0;r<i[t(172)];r++){const n=O[t(158)][t(150)][t(153)](O),e=i[r],s=o[e]||n;n[t(143)]=O[t(153)](O),n.toString=s[t(152)][t(153)](s),o[e]=n}}))();const G=[Z(165)],L=c({__name:Z(146),props:{uSnappingResolution:{default:6}},async setup(t){const n=Z;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o(n(177),{draco:!0,decoderPath:"./draco/"}))),i=await i,e(),i),c=[];return Object[n(163)](u)[n(149)]((t=>{const o=n;c[o(145)](function(t,n=6){const o={value:n};return t.onBeforeCompile=t=>{const n=T;t[n(192)][n(171)]=o,t[n(174)]=t[n(174)][n(197)](n(194),"\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t"),t[n(174)]=t.vertexShader[n(197)](n(203),n(200))},o}(t,r[o(166)]))})),p((()=>r[n(166)]),(t=>{c.forEach((n=>{n[B(140)]=t}))})),(t,o)=>{const i=n;return f(),l(i(174),{object:d(s),scale:5,position:[0,-2,0]},null,8,G)}}});function U(t){function n(t){const o=B;if(typeof t===o(142))return function(t){}.constructor("while (true) {}")[o(181)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[o(158)](o(155)+o(141))[o(144)]("action"):function(){return!1}[o(158)]("debugger")[o(181)](o(161)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const F=K;!function(t,n){const o=K,i=Y();for(;;)try{if(219020===-parseInt(o(367))/1*(-parseInt(o(374))/2)+-parseInt(o(376))/3*(-parseInt(o(364))/4)+-parseInt(o(339))/5*(-parseInt(o(379))/6)+-parseInt(o(333))/7+-parseInt(o(378))/8*(parseInt(o(347))/9)+-parseInt(o(338))/10*(parseInt(o(346))/11)+-parseInt(o(375))/12*(-parseInt(o(360))/13))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const H=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[K(361)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=K,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(334),"i"),i=W("init");n[t(348)](i+t(332))&&o[t(348)](i+"input")?W():i("0")}))()}();const D=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[K(361)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function K(t,n){const o=Y();return(K=function(t,n){return o[t-=330]})(t,n)}D(void 0,(function(){const t=K;let n;try{n=Function(t(365)+t(371)+");")()}catch(e){n=window}const o=n[t(381)]=n[t(381)]||{},i=[t(344),t(363),t(352),t(336),t(355),t(353),"trace"];for(let r=0;r<i[t(350)];r++){const n=D[t(341)].prototype[t(373)](D),e=i[r],s=o[e]||n;n.__proto__=D.bind(D),n[t(366)]=s[t(366)][t(373)](s),o[e]=n}}))();const V={position:[5,.9,-5],name:F(349)};function Y(){const t=["48NREWno","165YgUZWT","rotation-x","12472MfquTz","497982zbRNLN","cube","console","uSnappingResolution","circle","chain","126532uwqwVZ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","error","TresAmbientLight","10BNjTAv","5TPWElC","modelSnappingResolution","constructor","TresMesh","自行车模型-分辨率","log","addBinding","1256123OggesI","819EafJzm","test","torus","length","TresDirectionalLight","info","table","counter","exception","圆环扭结-分辨率","rotation-y","gger","TresTorusKnotGeometry","272064lbuFjZ","apply","TresMeshStandardMaterial","warn","6296ftjire","return (function() ","toString","239879LNDuYj","action","call","vertexSnapping",'{}.constructor("return this")( )',"while (true) {}","bind","2vfwIPn"];return(Y=function(){return t})()}const q=c({__name:F(370),setup(t){const o=F,c=g({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=g({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(345)](a,o(330),{label:o(356),min:0,max:20,step:.01}),p[o(345)](a,o(340),{label:o(343),min:0,max:20,step:.01}),(t,n)=>{const u=o;return f(),h(d(e),S(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I("TresPerspectiveCamera",{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),y(d(i)),n[2]||(n[2]=I(u(337),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(351),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I(u(342),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(380)},[I("TresCylinderGeometry",{args:[1.5,1.5,2]}),I(u(362),{color:16737826,roughness:0,metalness:0})],-1)),I(u(342),V,[n[0]||(n[0]=I(u(359),{args:[1,.35,100,32]},null,-1)),y(R,{uSnappingResolution:a[u(330)]},null,8,[u(330)])]),(f(),h(b,null,{default:v((()=>[y(L,{uSnappingResolution:a[u(340)]},null,8,[u(330)])])),_:1})),(f(),h(b,null,{default:v((()=>[y(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[y(d(s),{intensity:2,form:u(331),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(377)]),y(d(s),{intensity:2,form:u(331),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),y(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["rotation-y"]),y(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(357)])])),_:1})])),_:1}))])),_:1},16)}}});function W(t){function n(t){const o=K;if(typeof t===o(335))return function(t){}[o(341)](o(372))[o(361)](o(354));1!==(""+t/t)[o(350)]||t%20==0?function(){return!0}[o(341)]("debu"+o(358))[o(369)](o(368)):function(){return!1}[o(341)]("debu"+o(358))[o(361)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{q as default};
