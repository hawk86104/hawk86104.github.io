var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.c8N2HnpW1731987698599.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.fiaWfWDd1731987698599.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.GW8R8l_51731987698599.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,M as v,V as m,Q as h}from"./three.3RwiW87x1731987698599.js";import{m as w,e as g}from"./@tresjs.juy9qkLz1731987698599.js";import{u as d}from"./index.4a46bABZ1731987698599.js";import{F as y,C as S}from"./three-stdlib.JdNLeali1731987698599.js";import{d as P}from"./@vue.-THQH3GC1731987698599.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.blV05ICL1731987698599.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.eGGo0V5p1731987698599.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.FF9kqyAj1731987698599.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.shok15cG1731987698599.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.maxzQkqq1731987698599.js";!function(t,e){const n=b,i=z();for(;;)try{if(986545===-parseInt(n(465))/1+-parseInt(n(490))/2*(-parseInt(n(499))/3)+-parseInt(n(473))/4*(parseInt(n(496))/5)+-parseInt(n(470))/6*(-parseInt(n(493))/7)+parseInt(n(462))/8*(-parseInt(n(472))/9)+-parseInt(n(485))/10*(-parseInt(n(466))/11)+-parseInt(n(464))/12)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const _=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(477)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function z(){const t=["counter","60IRHKYB","toString","chain","return (function() ","input","745180LnOVOU","table","console","7vhsaMM","trace","test","20CzTCDp","info","call","9OhliQF","prototype",'{}.constructor("return this")( )',"stateObject","init","40PHyDfc","bind","19057512MhfzPX","1015690HHTfHU","3012999ctgTwl","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","8759364BPEBDE","log","145449WvKDzf","549952qojVrr","exception","action","length","apply","debu","while (true) {}","__proto__","function *\\( *\\)","warn","string"];return(z=function(){return t})()}function b(t,e){const n=z();return(b=function(t,e){return n[t-=458]})(t,e)}!function(){_(this,(function(){const t=b,e=new RegExp(t(481)),n=new RegExp(t(468),"i"),i=M(t(461));e[t(495)](i+t(487))&&n[t(495)](i+t(489))?M():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(477)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();I(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(488)+t(459)+");")()}catch(n){e=window}return e}(),n=e[t(492)]=e[t(492)]||{},i=[t(471),t(482),t(497),"error",t(474),t(491),t(494)];for(let r=0;r<i[t(476)];r++){const e=I[t(467)][t(458)].bind(I),a=i[r],o=n[a]||e;e[t(480)]=I[t(463)](I),e[t(486)]=o[t(486)][t(463)](o),n[a]=e}}))();function M(t){function e(t){const n=b;if(typeof t===n(483))return function(t){}.constructor(n(479)).apply(n(484));1!==(""+t/t)[n(476)]||t%20==0?function(){return!0}[n(467)](n(478)+n(469))[n(498)](n(475)):function(){return!1}[n(467)](n(478)+n(469))[n(477)](n(460)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const E=T;!function(t,e){const n=T,i=U();for(;;)try{if(888938===parseInt(n(478))/1*(parseInt(n(458))/2)+parseInt(n(487))/3*(-parseInt(n(470))/4)+parseInt(n(465))/5+-parseInt(n(484))/6*(-parseInt(n(486))/7)+-parseInt(n(456))/8*(parseInt(n(449))/9)+-parseInt(n(460))/10+-parseInt(n(466))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(446)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){A(this,(function(){const t=T,e=new RegExp(t(473)),n=new RegExp(t(455),"i"),i=j(t(474));e[t(481)](i+t(461))&&n[t(481)](i+"input")?j():i("0")}))()}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(t){const e=T,n=a({},t);return e(454)in t&&(n.defines=a({},t[e(454)])),"uniforms"in t&&(n[e(485)]=s[e(447)](t.uniforms)),n}function T(t,e){const n=U();return(T=function(t,e){return n[t-=446]})(t,e)}function U(){const t=["toString","test","return (function() ","console","36aJsClQ","uniforms","788144aftsyy","347280ibEUNU","apply","clone","call","18GJPfMe","gger","length","prototype","table","defines","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5545672flcvMu","action","3038parzIk","debu","1304800MgxdGH","chain","bind","warn","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","4423020oZNroY","14190PTckEg","log","while (true) {}","__proto__","8UKDxTh","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",'{}.constructor("return this")( )',"function *\\( *\\)","init","exception","constructor","info","710XAxnqm","stateObject"];return(U=function(){return t})()}D(void 0,(function(){const t=T;let e;try{e=Function(t(482)+t(472)+");")()}catch(r){e=window}const n=e[t(483)]=e.console||{},i=[t(467),t(463),t(477),"error",t(475),t(453),"trace"];for(let a=0;a<i[t(451)];a++){const e=D[t(476)][t(452)][t(462)](D),r=i[a],o=n[r]||e;e[t(469)]=D[t(462)](D),e[t(480)]=o[t(480)][t(462)](o),n[r]=e}}))();const O={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:E(471),fragmentShader:E(464)+'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t'};function j(t){function e(t){const n=T;if("string"==typeof t)return function(t){}[n(476)](n(468))[n(446)]("counter");1!==(""+t/t)[n(451)]||t%20==0?function(){return!0}[n(476)]("debu"+n(450))[n(448)](n(457)):function(){return!1}[n(476)](n(459)+"gger")[n(446)](n(479)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const V=C;!function(t,e){const n=C,i=W();for(;;)try{if(879308===-parseInt(n(203))/1+parseInt(n(223))/2+-parseInt(n(196))/3*(parseInt(n(178))/4)+parseInt(n(157))/5+-parseInt(n(222))/6*(parseInt(n(155))/7)+parseInt(n(160))/8+parseInt(n(185))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=C,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(194),"i"),i=F(t(151));e[t(186)](i+t(154))&&n[t(186)](i+t(172))?F():i("0")}))()}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[C(208)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function W(){const t=["2773404FzhxII","init","setClearAlpha","isWebGLRenderTarget","chain","126049cDLBsF","originalMapSize","3982785qjzWIS","texture","X_IS_EVEN","2496696dyffpW","floor","table","height","fragmentShader","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","_mipMaterials","console","autoClear","material","getClearColor","warn","input","minFilter","bind","tDiffuse","setRenderTarget","setClearColor","4xKMOaG","type","__proto__","set","value","_mipQuad","exception","6121449zyTQTx","test","counter","map","width","Y_IS_EVEN","_copyQuad","_swapTarget","setViewOffset","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","image","1743438nCLqSK","getClearAlpha","render","copy","clear","forEach","constructor","652640AVnjtb","toString","magFilter","parentMapSize","length","apply","camera","call","prototype","dispose","getRenderTarget","error","gger","replace","stateObject","debu","defines","floorPowerOfTwo","uniforms","354ZNysRn"];return(W=function(){return t})()}function C(t,e){const n=W();return(C=function(t,e){return n[t-=151]})(t,e)}k(void 0,(function(){const t=C;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(167)]=e[t(167)]||{},i=["log",t(171),"info",t(214),t(184),t(162),"trace"];for(let a=0;a<i[t(207)];a++){const e=k[t(202)][t(211)][t(174)](k),r=i[a],o=n[r]||e;e[t(180)]=k[t(174)](k),e[t(204)]=o.toString.bind(o),n[r]=e}}))();const H=new l;class N{constructor(t){const e=C;!t&&(t=e(165));const n=L(O);n[e(164)]=n[e(164)][e(216)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(L(n)),i[0][e(219)][e(159)]=0,i[0][e(219)][e(190)]=0,i[1]=new c(L(n)),i[1][e(219)][e(159)]=1,i[1][e(219)][e(190)]=0,i[2]=new c(L(n)),i[2].defines[e(159)]=0,i[2].defines.Y_IS_EVEN=1,i[3]=new c(L(n)),i[3][e(219)][e(159)]=1,i[3][e(219)][e(190)]=1;const r=new u;r.texture[e(173)]=p,r[e(158)][e(205)]=p,this[e(192)]=r,this[e(191)]=new y(new c(S)),this[e(183)]=new y(null),this[e(166)]=i}update(t,e,n,i=!1){const r=C;t[r(153)]&&(t=t[r(158)]);const o=n[r(168)],s=n[r(197)](),l=n[r(213)]();n[r(170)](H);const c=this[r(191)],u=this[r(183)],p=this[r(192)],x=this._mipMaterials;let v,m;i?(v=f[r(220)](t[r(195)][r(189)]),m=f.floorPowerOfTwo(t[r(195)].height)):(v=Math[r(161)](t[r(195)][r(189)]),m=Math[r(161)](t[r(195)][r(163)]));const h=Math[r(161)](1.5*v),w=Math.floor(m);e.setSize(h,w),p.texture[r(179)]!==e.texture[r(179)]?(p.dispose(),p[r(199)](e),p[r(158)][r(195)]=a({},p[r(158)].image)):p.setSize(h,w),n[r(168)]=!1,n[r(177)](0),n[r(152)](),c[r(169)][r(221)][r(175)].value=t,c[r(209)].setViewOffset(v,m,0,0,h,w),n[r(176)](e),n[r(200)](),c[r(198)](n),n[r(176)](p),n.clear(),c[r(198)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(221)][r(188)][r(182)]=p[r(158)],t.uniforms.parentLevel.value=y,t[r(221)][r(206)].value[r(181)](g,d),t[r(221)][r(156)][r(182)][r(181)](v,m),u[r(169)]=t,g=Math[r(161)](g/2),d=Math[r(161)](d/2);const i=w-2*d;n[r(176)](e),u.camera[r(193)](g,d,-v,-i,h,w),u.render(n),n[r(176)](p),t[r(221)][r(188)][r(182)]=e[r(158)],u[r(198)](n),y++}return n.setRenderTarget(l),n[r(152)](s),n[r(177)](H),n[r(168)]=o,y+1}[V(212)](){const t=V;this._swapTarget[t(212)](),this._mipQuad.dispose(),this[t(191)].dispose(),this[t(166)][t(201)]((t=>t.dispose()))}}function F(t){function e(t){const n=C;if("string"==typeof t)return function(t){}[n(202)]("while (true) {}").apply(n(187));1!==(""+t/t)[n(207)]||t%20==0?function(){return!0}[n(202)](n(218)+n(215))[n(210)]("action"):function(){return!1}.constructor(n(218)+n(215))[n(208)](n(217)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Q=$;!function(t,e){const n=$,i=X();for(;;)try{if(159023===parseInt(n(371))/1*(-parseInt(n(351))/2)+-parseInt(n(338))/3*(parseInt(n(346))/4)+parseInt(n(344))/5*(parseInt(n(339))/6)+parseInt(n(352))/7*(-parseInt(n(326))/8)+-parseInt(n(374))/9+parseInt(n(328))/10*(parseInt(n(360))/11)+parseInt(n(388))/12)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(366)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Z(this,(function(){const t=$,e=new RegExp(t(392)),n=new RegExp(t(396),"i"),i=Y("init");e[t(332)](i+"chain")&&n.test(i+t(382))?Y():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function X(){const t=["error","Plane","update","state","depth","bind","input","copy","toString","set","resolution","setRenderTarget","6306336MlnAdX","length","updateMatrixWorld","render","function *\\( *\\)","visible","trace","add","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setMask","applyMatrix4","Quaternion","Vector3","value","sub","elements","gger","UnsignedByteType","851152QgTsSQ","applyQuaternion","195230FOpeUU","clear","constant","warn","test","Vector4","matrixWorldInverse","PerspectiveCamera","getWorldPosition","getWorldQuaternion","39459Qhnkrj","312jHwXVN","debu","normal","reflectorMipMap","stateObject","10085yclcGy","string","44rMUGuO","ignoreObjects","__proto__","constructor","prototype","30292LrZkMg","14KCILrJ","texture","multiply","negate","position","dot","exception","action","132aZeTRX","clone","call","sign","parent","forEach","apply","projectionMatrix","console","info",'{}.constructor("return this")( )',"9APTdAx","Matrix4","return (function() ","1906920iujPLn","reflect"];return(X=function(){return t})()}function $(t,e){const n=X();return($=function(t,e){return n[t-=324]})(t,e)}G(void 0,(function(){const t=$,e=function(){const t=$;let e;try{e=Function(t(373)+t(370)+");")()}catch(n){e=window}return e}(),n=e[t(368)]=e.console||{},i=["log",t(331),t(369),t(376),t(358),"table",t(394)];for(let r=0;r<i[t(389)];r++){const e=G[t(349)][t(350)][t(381)](G),a=i[r],o=n[a]||e;e[t(348)]=G.bind(G),e[t(384)]=o.toString.bind(o),n[a]=e}}))();const K=P({__name:Q(342),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Q,i=t,r=new(x[n(377)]),a=new v,o=new(x[n(335)]),s=new N,l=d({width:i.resolution,height:i[n(386)],settings:{type:x[n(325)]}}),c=d({width:i[n(386)],height:i[n(386)],settings:{type:x[n(325)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!u[t(401)])return;r[t(385)](new(x[t(400)])(0,1,0),0),r[t(398)](i[t(364)].matrixWorld),o[t(383)](u[t(401)]);const e=new(x[t(400)])(0,0,1)[t(361)]()[t(355)](),s=u.value[t(336)](new m);e[t(375)](r[t(341)]);const c=new m;r.projectPoint(s,c);const v=c[t(361)]();v.sub(s),v.add(c),o[t(356)][t(383)](v);const w=new m(0,0,-1);w[t(327)](u.value.getWorldQuaternion(new(x[t(399)]))),w[t(395)](s);const g=new m;i.parent[t(336)](g),g[t(402)](w),g[t(375)](r[t(341)]).negate(),g[t(395)](i[t(364)].getWorldPosition(new m)),o.up[t(385)](0,1,0),o[t(327)](u.value[t(337)](new h)),o.up.reflect(r[t(341)]),o.lookAt(g),o[t(390)]();const d=new(x[t(372)]);d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(354)](o[t(367)]),d[t(354)](o.matrixWorldInverse),a[t(383)](d),r[t(398)](o[t(334)]);const y=new(x[t(333)])(r[t(341)].x,r.normal.y,r[t(341)].z,r[t(330)]),S=o[t(367)],P=new(x[t(333)]);P.x=(Math.sign(y.x)+S[t(403)][8])/S.elements[0],P.y=(Math[t(363)](y.y)+S[t(403)][9])/S[t(403)][5],P.z=-1,P.w=(1+S[t(403)][10])/S[t(403)][14],y.multiplyScalar(2/y[t(357)](P)),S[t(403)][2]=y.x,S.elements[6]=y.y,S.elements[10]=y.z+1,S[t(403)][14]=y.w;const _=p[t(401)].getRenderTarget();p.value[t(387)](l[t(401)]),p[t(401)][t(379)].buffers[t(380)][t(397)](!0),!1===p.value.autoClear&&p[t(401)][t(329)](),i.ignoreObjects[t(365)]((e=>e[t(393)]=!1)),p[t(401)][t(391)](f[t(401)],o),i[t(347)].forEach((e=>e[t(393)]=!0)),p[t(401)].setRenderTarget(_)})(),l[t(401)]&&c.value&&p.value&&s[t(378)](l.value[t(353)],c.value,p[t(401)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function Y(t){function e(t){const n=$;if(typeof t===n(345))return function(t){}[n(349)]("while (true) {}")[n(366)]("counter");1!==(""+t/t)[n(389)]||t%20==0?function(){return!0}[n(349)]("debu"+n(324))[n(362)](n(359)):function(){return!1}[n(349)](n(340)+n(324))[n(366)](n(343)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=J();;)try{if(121008===-parseInt(n(501))/1+-parseInt(n(506))/2*(parseInt(n(481))/3)+-parseInt(n(508))/4*(parseInt(n(486))/5)+parseInt(n(498))/6+-parseInt(n(497))/7*(parseInt(n(500))/8)+-parseInt(n(490))/9+parseInt(n(484))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var B=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){B(this,(function(){var t=tt,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(496),"i"),i=et(t(494));e[t(476)](i+t(488))&&n[t(476)](i+t(512))?et():i("0")}))()}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(487)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(){var t=["console","length","input","test","log","counter","prototype","gger","7716EElcZa","bind",'{}.constructor("return this")( )',"6421600kNMTfV","debu","71215GIWfrj","apply","chain","__proto__","1829133SEqWSF","toString","info","stateObject","init","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","397789eOxROX","448806QCdZly","return (function() ","8evKacz","144591uovROF","call","warn","error","constructor","38zWKJUT","string","40AMuelj","action"];return(J=function(){return t})()}function tt(t,e){var n=J();return(tt=function(t,e){return n[t-=476]})(t,e)}function et(t){function e(t){var n=tt;if(typeof t===n(507))return function(t){}[n(505)]("while (true) {}")[n(487)](n(478));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+n(480))[n(502)](n(509)):function(){return!1}[n(505)](n(485)+n(480))[n(487)](n(493)),e(++t)}try{if(t)return e;e(0)}catch(n){}}q(void 0,(function(){var t,e=tt;try{t=Function(e(499)+e(483)+");")()}catch(l){t=window}for(var n=t.console=t[e(510)]||{},i=[e(477),e(503),e(492),e(504),e(495),"table","trace"],r=0;r<i[e(511)];r++){var a=q[e(505)][e(479)][e(482)](q),o=i[r],s=n[o]||a;a[e(489)]=q[e(482)](q),a[e(491)]=s.toString[e(482)](s),n[o]=a}}))();export{K as _};
