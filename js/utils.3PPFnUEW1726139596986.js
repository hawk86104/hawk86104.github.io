import{a as t,B as n,s as e,b$ as r,C as o,k as s,a0 as c}from"./three.ewwqFbMB1726139596986.js";import{x as i}from"./@fesjs.35r0AYgt1726139596986.js";import{z as a}from"./@tresjs.ml1V726H1726139596986.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.KvyaEo8V1726139596986.js";function l(t,n){const e=g();return(l=function(t,n){return e[t-=243]})(t,n)}!function(t,n){const e=l,r=g();for(;;)try{if(543258===-parseInt(e(256))/1+parseInt(e(296))/2+parseInt(e(295))/3*(parseInt(e(312))/4)+-parseInt(e(308))/5+-parseInt(e(311))/6+-parseInt(e(315))/7+parseInt(e(286))/8*(parseInt(e(273))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[l(270)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=l,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(306),"i"),r=_("init");n[t(303)](r+t(245))&&e[t(303)](r+"input")?_():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(){const t=["clone","material","depthTest","computeBoundingBox","toString","table","stateObject","8eZzARh","constructor","trace","config","attributes","divideScalar","action","log","children","45579wNKrMn","706838JLPnpf","count","then","reflectivity","getX","applyMatrix4","max","test","bind","getCenter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","749800PWddDz","exception","length","482424WmrzqR","120CAuaLN","info","setAttribute","2045589ypDlhY","depthWrite","setY","add","expandByObject","get","chain","position","features","call","computeBoundsTree","__proto__","min","copy","error","disposeBoundsTree","getY","547254ZSMcHl","Vector3","while (true) {}","forEach","geometry","random","boundingBox","transparent","catch","return (function() ","debu","set","sub","push","apply","negate","value","7235046bzRXYh","uniforms",'{}.constructor("return this")( )',"#fff","prototype","Box3"];return(g=function(){return t})()}m(void 0,(function(){const t=l,n=function(){const t=l;let n;try{n=Function(t(265)+t(275)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},r=[t(293),"warn",t(313),t(253),t(309),t(284),t(288)];for(let o=0;o<r[t(310)];o++){const n=m[t(287)][t(277)].bind(m),s=r[o],c=e[s]||n;n[t(250)]=m[t(304)](m),n[t(283)]=c[t(283)][t(304)](c),e[s]=n}}))();const d=(n,e=!1)=>{const r=l;n[r(282)]();const{max:o,min:s}=n[r(262)];n.deleteAttribute("uv");const c=o.x-s.x,i=o.y-s.y,a=[];for(let t=0;t<n.attributes.position[r(297)];t++)e?(a[r(269)]((n[r(290)][r(246)][r(300)](t)-(s.x+o.x)/2)/c),a.push((n.attributes[r(246)][r(255)](t)-(s.y+o.y)/2)/i)):(a[r(269)]((n[r(290)][r(246)][r(300)](t)-s.x)/c),a.push((n.attributes[r(246)][r(255)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},y=(t,n)=>new Promise(((e,r)=>{const o=l;i(t,{},{method:o(244),mergeRequest:!0})[o(298)]((t=>{const r=o;n&&e(t[n]),e(t[r(247)])}))[o(264)]((t=>{console[o(253)](t),r(t)}))})),w=t=>{const n=l,e=(new(THREE[n(278)])).setFromObject(t),r=new(THREE[n(257)]);e[n(305)](r),t[n(294)][n(259)]((t=>{const e=n;t[e(246)][e(268)](r)})),t[n(246)][n(252)](r[n(271)]())},b=()=>{const t=l;n[t(277)][t(249)]=u,n[t(277)][t(254)]=f,e.prototype.raycast=p},x=async t=>{const n=l,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(260)][n(279)]();d(i),i[n(249)]();const u=new r(i,{color:new o(n(276)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(280)][n(263)]=!0,u[n(280)][n(316)]=!0,u.material[n(281)]=!0,u.material.side=c,u[n(280)][n(274)][n(289)][n(272)].w=20,u[n(280)].uniforms[n(299)].value=.46,u};function j(t){const n=l,e=[];for(let o=0;o<t[n(310)];o++)e[n(269)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e.length;o++)r[n(318)](e[o]);r[n(291)](e.length);for(let o=0;o<e[n(310)];o++)e[o][n(268)](r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=l;if("string"==typeof t)return function(t){}.constructor(e(258))[e(270)]("counter");1!==(""+t/t)[e(310)]||t%20==0?function(){return!0}.constructor("debu"+e(307))[e(248)](e(292)):function(){return!1}[e(287)](e(266)+e(307)).apply(e(285)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,b as i,y as l,d as r,x as s};
