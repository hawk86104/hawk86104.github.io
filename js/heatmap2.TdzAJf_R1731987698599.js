import{P as t}from"./tweakpane.yHWGBmom1731987698599.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.jZvzWux21731987698599.js";import{_ as r}from"./heatmap.js-fix.gYg95Hem1731987698599.js";import{h as i,_ as c,cp as s,M as u,s as a,B as p,m as f}from"./three.3RwiW87x1731987698599.js";import{r as l}from"./utils.XT-actNW1731987698599.js";import{d as h}from"./pinia.qOeBz4jM1731987698599.js";import{b as d,d as m,a3 as g,o as y,D as v,J as w,u as b,F as I,q as _,U as x,N as j,P as M,H as R,L as S,a6 as D,r as F,j as T,g as Z,m as A}from"./@vue.-THQH3GC1731987698599.js";import{c as B,d as E,a as O}from"./three-mesh-bvh.L_h1M-WP1731987698599.js";import{_ as P}from"./@fesjs.6cRBmkVw1731987698599.js";import"./@tresjs.juy9qkLz1731987698599.js";import"./@vueuse.R8VPJfVr1731987698599.js";import"./three-custom-shader-material.0aidFALX1731987698599.js";import"./@amap.8HDR-twf1731987698599.js";import"./vue-demi.C4xddsk91731987698599.js";import"./vue-router.0Hzo7MDu1731987698599.js";import"./lodash-es.kYt-_xTG1731987698599.js";import"./@qlin.yHhFDldE1731987698599.js";import"./@floating-ui.BPbuo5Gx1731987698599.js";import"./@juggle.7yjBMqoW1731987698599.js";function k(t,n){const e=$();return(k=function(t,n){return e[t-=482]})(t,n)}!function(t,n){const e=k,o=$();for(;;)try{if(276854===parseInt(e(518))/1*(-parseInt(e(525))/2)+-parseInt(e(488))/3+-parseInt(e(515))/4+-parseInt(e(520))/5+parseInt(e(512))/6*(parseInt(e(490))/7)+-parseInt(e(492))/8+parseInt(e(491))/9*(parseInt(e(483))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(497)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=k,n=new RegExp(t(510)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Q("init");n[t(504)](o+t(501))&&e.test(o+t(495))?Q():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(526)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(522)]=n[t(522)]||{},o=[t(509),t(516),"info",t(498),"exception",t(499),"trace"];for(let r=0;r<o[t(513)];r++){const n=C[t(484)][t(527)][t(506)](C),i=o[r],c=e[i]||n;n[t(505)]=C[t(506)](C),n[t(486)]=c.toString.bind(c),e[i]=n}}))();const U=(t,n)=>t[k(500)](n)+-10;function $(){const t=["rgb(255,0,0)","test","__proto__","bind","randInt","createElement","log","function *\\( *\\)","height","6kqvMNV","length","absolute","495728GADCyM","warn","width","28493efOluW","top","2010810TbOCrB","_config","console","call","display","8MCsFqq","return (function() ","prototype","appendChild","debu","action","gger","push","10yJgoxS","constructor","left","toString","yellow","217011eRwrZR","create","2887598zPpZmg","7111089pPYBcp","1707024iWAwME","rgb(0,255,0)","counter","input","rgb(0,0,255)","apply","error","table","getValueAt","chain","style"];return($=function(){return t})()}function Q(t){function n(t){const e=k;if("string"==typeof t)return function(t){}[e(484)]("while (true) {}").apply(e(494));1!==(""+t/t)[e(513)]||t%20==0?function(){return!0}.constructor(e(529)+"gger")[e(523)](e(530)):function(){return!1}[e(484)](e(529)+e(531)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=W;function q(){const t=["test","counter","3021288FlRZdd","input","debu","apply","3807auudQf","buildingsHeatmap","info","action","exception","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","928etmVlU","string","constructor","44nfwkyA","80FtyHJp","2056347atJAeX","113561vrWyWW","length","chain","bind","2184050iZHleb","1889410DBFTFp","console","2LdCdSj","__proto__","init","gger","return (function() ","167961NkfWng","trace","warn",'{}.constructor("return this")( )'];return(q=function(){return t})()}!function(t,n){const e=W,o=q();for(;;)try{if(293880===parseInt(e(202))/1*(-parseInt(e(197))/2)+-parseInt(e(177))/3*(parseInt(e(184))/4)+-parseInt(e(194))/5+parseInt(e(173))/6+-parseInt(e(190))/7*(-parseInt(e(188))/8)+-parseInt(e(189))/9+-parseInt(e(195))/10*(-parseInt(e(187))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(176)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=q();return(W=function(t,n){return e[t-=168]})(t,n)}!function(){H(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(183),"i"),o=X(t(199));n[t(171)](o+t(192))&&e.test(o+t(174))?X():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(176)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=W;let n;try{n=Function(t(201)+t(170)+");")()}catch(r){n=window}const e=n[t(196)]=n.console||{},o=["log",t(169),t(179),"error",t(181),"table",t(168)];for(let i=0;i<o[t(191)];i++){const n=N[t(186)].prototype[t(193)](N),r=o[i],c=e[r]||n;n[t(198)]=N[t(193)](N),n.toString=c.toString.bind(c),e[r]=n}}))();const L=h(V(178),(()=>{const t=d(!1),n=d(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n.value=t}}}));function X(t){function n(t){const e=W;if(typeof t===e(185))return function(t){}[e(186)]("while (true) {}").apply(e(172));1!==(""+t/t)[e(191)]||t%20==0?function(){return!0}[e(186)](e(175)+"gger").call(e(180)):function(){return!1}[e(186)](e(175)+e(200))[e(176)](e(182)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=ot;!function(t,n){const e=ot,o=K();for(;;)try{if(787327===-parseInt(e(281))/1+parseInt(e(248))/2*(parseInt(e(250))/3)+-parseInt(e(264))/4*(parseInt(e(284))/5)+parseInt(e(278))/6+parseInt(e(296))/7+-parseInt(e(262))/8*(-parseInt(e(303))/9)+-parseInt(e(306))/10*(parseInt(e(290))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=ot,n=new RegExp(t(314)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=rt(t(247));n.test(o+"chain")&&e.test(o+t(277))?rt():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(271)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(){const t=["normal","BufferGeometry","init","2PlFxKo","matrix","1873686tTrpCH","action","object","Texture","bind","warn","uniforms","$patch","attributes","trace","gger","__proto__","8vEjead","height","36508wBerNR","数值：","setShowDiv","buildingsHeatmap","model","toString",'{}.constructor("return this")( )',"apply","applyMatrix4","clone","setTemperature","debu","disposeBoundsTree","input","1575984mCgQQR","primitive","prototype","1498661BulvnF","counter","_config","5lRzugr","opacity","children","return (function() ","constructor","console","430628CuqVnV","length","canvas","makeRotationX","_renderer","computeBoundsTree","7104657QdlTor","city","log","uOpacity","value","DoubleSide","geometry","7764426fOZrsa","mergeGeometries","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","120Bronsr","info","数值———：","land","while (true) {}","stateObject","rotation-x","raycast","function *\\( *\\)","string"];return(K=function(){return t})()}Y(void 0,(function(){const t=ot;let n;try{n=Function(t(287)+t(270)+");")()}catch(r){n=window}const e=n[t(289)]=n[t(289)]||{},o=["log",t(255),t(307),"error","exception","table",t(259)];for(let i=0;i<o.length;i++){const n=Y[t(288)][t(280)][t(254)](Y),r=o[i],c=e[r]||n;n[t(261)]=Y[t(254)](Y),n[t(269)]=c.toString[t(254)](c),e[r]=n}}))();const tt=[J(252),J(312)],nt=[J(252)],et=m({__name:J(267),props:{model:{},opacity:{default:1}},setup(t){const n=J;(()=>{const t=ot;p[t(280)][t(295)]=B,c[t(246)][t(280)][t(276)]=E,a.prototype[t(313)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=k,i=document[o(508)]("heatmap-canvas");return i[o(502)].position=o(514),!e&&(i[o(502)][o(524)]="none"),i.style[o(519)]="0",i[o(502)][o(485)]="0",document.body[o(528)](i),r[o(489)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(496),.55:o(493),.85:o(487),1:o(503)}})})();((t,n)=>{const e=k;if(!n){let o=0;for(n=[];o<1e3;)n[e(482)]({x:i[e(507)](1,t[e(521)][e(517)]),y:i[e(507)](1,t[e(521)][e(511)]),value:i.randInt(-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const h=new(c[n(253)])(o[n(294)][n(292)]);h.needsUpdate=!0;const d=e[n(268)][n(297)][n(273)]();delete d[n(302)][n(258)][n(316)],delete d.geometry[n(258)].uv;const m=d.geometry.clone().applyMatrix4(d[n(249)]),_=e[n(268)][n(309)][n(273)]();delete _[n(302)].attributes[n(316)];const x=_[n(302)].clone().applyMatrix4(_[n(249)]),j=s[n(304)]([m,x]);j[n(272)]((new u)[n(293)](Math.PI/2)),l(j),j.computeBoundsTree();const M=(t=>{const o=n;return new f({vertexShader:o(305),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(285)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(301)]})})(h),R=new a(j,M);g((()=>{const t=n;e.opacity&&(M[t(256)][t(299)][t(300)]=e[t(285)])}));const S=L(),D=t=>{const e=n;if(t){const n={x:t.uv.x*o._config.width,y:(1-t.uv.y)*o[e(283)][e(263)]};console[e(298)](e(265),t),console[e(298)](e(308),U(o,n)),S[e(274)](U(o,n))}},F=t=>{t&&S[n(257)]({showDiv:!0})},T=t=>{t&&S[n(266)](!1)};return(t,o)=>{const r=n;return y(),v(I,null,[w("primitive",{object:b(R),"rotation-x":-Math.PI/2,onPointerMove:D,onPointerEnter:F,onPointerLeave:T},null,40,tt),w(r(279),{object:e[r(268)][r(268)][r(286)][0][r(273)]()},null,8,nt)],64)}}});function ot(t,n){const e=K();return(ot=function(t,n){return e[t-=246]})(t,n)}function rt(t){function n(t){const e=ot;if(typeof t===e(315))return function(t){}[e(288)](e(310))[e(271)](e(282));1!==(""+t/t)[e(291)]||t%20==0?function(){return!0}[e(288)](e(275)+"gger").call(e(251)):function(){return!1}.constructor(e(275)+e(260))[e(271)](e(311)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const it=P({__name:"dataDiv",setup(t){const n=L(),e=d({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return _((()=>{window.addEventListener("mousemove",o)})),x((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((y(),v("div",{class:"title",style:S(e.value)},"温度："+R(b(n).temperature)+"℃ ",5)),[[M,b(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ct=at;!function(t,n){const e=at,o=pt();for(;;)try{if(940946===parseInt(e(400))/1*(-parseInt(e(410))/2)+parseInt(e(411))/3+parseInt(e(415))/4*(parseInt(e(413))/5)+-parseInt(e(399))/6+parseInt(e(433))/7*(parseInt(e(417))/8)+-parseInt(e(426))/9*(-parseInt(e(435))/10)+-parseInt(e(402))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(416)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){st(this,(function(){const t=at,n=new RegExp(t(422)),e=new RegExp(t(421),"i"),o=lt(t(408));n[t(437)](o+"chain")&&e[t(437)](o+"input")?lt():o("0")}))()}();const ut=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function at(t,n){const e=pt();return(at=function(t,n){return e[t-=397]})(t,n)}function pt(){const t=["trace","city","bind","action","length","94542PpbukZ","透明度","20unNhic","log","test","info","opacity","__proto__","1691742YQbXow","1QnCclf",'{}.constructor("return this")( )',"21842590wBMHDx","constructor","addBinding","heatmap2","console","debu","init","gger","1346756QOqZFT","4050108vtTlSb","#000","86145cFcTQv","error","428mRjANU","apply","24kXoxVg","toString","value","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","model","call","exception","2915613oDiTca","string"];return(pt=function(){return t})()}ut(void 0,(function(){const t=at;let n;try{n=Function("return (function() "+t(401)+");")()}catch(r){n=window}const e=n[t(406)]=n[t(406)]||{},o=[t(436),"warn",t(438),t(414),t(425),"table",t(428)];for(let i=0;i<o.length;i++){const n=ut[t(403)].prototype[t(430)](ut),r=o[i],c=e[r]||n;n[t(398)]=ut[t(430)](ut),n[t(418)]=c[t(418)][t(430)](c),e[r]=n}}))();const ft=m({__name:ct(405),async setup(r){const i=ct;let c,s;const u=d(!1),a=([c,s]=D((()=>o())),c=await c,s(),c);u[i(419)]=!0;const p=F({width:1,color:i(412),opacity:1,show:!0}),f=F({opacity:.9});return new t({title:"参数",expanded:!0})[i(404)](f,i(397),{label:i(434),min:0,max:1,step:.1}),(t,o)=>{const r=i;return y(),v(I,null,[T(e,{showBuildings:!1,autoRotate:!1},{ability:Z((()=>[T(et,A({model:b(a)},f),null,16,[r(423)]),T(n,A(p,{builds:b(a)[r(429)]}),null,16,["builds"])])),_:1}),T(it)],64)}}});function lt(t){function n(t){const e=at;if(typeof t===e(427))return function(t){}[e(403)]("while (true) {}")[e(416)]("counter");1!==(""+t/t)[e(432)]||t%20==0?function(){return!0}.constructor(e(407)+e(409))[e(424)](e(431)):function(){return!1}[e(403)]("debu"+e(409))[e(416)](e(420)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ft as default};
