import{a as t,B as n,s as e,c6 as o,C as r,k as s,a0 as c}from"./three.8H01GNxA1736128832096.js";import{w as i}from"./@fesjs.egESxg6m1736128832096.js";import{b as a}from"./@tresjs.pA0fT6uQ1736128832096.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.glnR9Dt01736128832096.js";!function(t,n){const e=w,o=h();for(;;)try{if(907812===parseInt(e(353))/1+-parseInt(e(313))/2+-parseInt(e(376))/3+parseInt(e(339))/4*(-parseInt(e(335))/5)+-parseInt(e(375))/6+parseInt(e(327))/7*(-parseInt(e(321))/8)+parseInt(e(320))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(377)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=w,n=new RegExp(t(360)),e=new RegExp(t(316),"i"),o=_(t(337));n[t(302)](o+t(332))&&e[t(302)](o+t(331))?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(377)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function("return (function() "+t(364)+");")()}catch(e){n=window}return n}(),e=n[t(367)]=n.console||{},o=["log",t(365),t(338),t(340),t(373),t(371),t(349)];for(let r=0;r<o[t(346)];r++){const n=m[t(328)][t(355)][t(342)](m),s=o[r],c=e[s]||n;n[t(324)]=m[t(342)](m),n[t(380)]=c.toString[t(342)](c),e[s]=n}}))();const g=(n,e=!1)=>{const o=w;n[o(318)]();const{max:r,min:s}=n[o(319)];n[o(303)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(308)][o(379)].count;t++)e?(a[o(329)]((n[o(308)][o(379)][o(326)](t)-(s.x+r.x)/2)/c),a[o(329)]((n[o(308)][o(379)][o(370)](t)-(s.y+r.y)/2)/i)):(a[o(329)]((n[o(308)].position.getX(t)-s.x)/c),a.push((n[o(308)][o(379)][o(370)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))};function h(){const t=["call","material","max","children","3628266uiWZgn","Vector3","min","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","count","computeBoundingBox","boundingBox","63917982rLpOIh","229048NPsswn","while (true) {}","setFromObject","__proto__","get","getX","161SCOdYf","constructor","push","set","input","chain","copy","json","5oCKGGW","divideScalar","init","info","5553932LVhfqg","error","value","bind","gger","random","counter","length","applyMatrix4","side","trace","expandByObject","negate","depthWrite","977485hPcwXS","center","prototype","disposeBoundsTree","reflectivity","uniforms","geometry","function *\\( *\\)","setAttribute","getCenter","transparent",'{}.constructor("return this")( )',"warn","sub","console","setY","features","getY","table","Box3","exception","debu","9442350Jkpzfc","5210451WmUSmz","apply","computeBoundsTree","position","toString","test","deleteAttribute","getSize","action","depthTest","add","attributes"];return(h=function(){return t})()}const d=(t,n)=>new Promise(((e,o)=>{const r=w;i(t,{},{method:r(325),mergeRequest:!0,responseType:r(334)}).then((t=>{const o=r;n&&e(t[n]),e(t[o(369)])})).catch((t=>{console[r(340)](t),o(t)}))}));function w(t,n){const e=h();return(w=function(t,n){return e[t-=302]})(t,n)}const y=t=>{const n=w,e=(new(THREE[n(372)]))[n(323)](t),o=new(THREE[n(314)]);e[n(362)](o),t[n(312)].forEach((t=>{const e=n;t[e(379)][e(366)](o)})),t[n(379)][n(333)](o[n(351)]())},x=()=>{const t=w;n.prototype[t(378)]=u,n[t(355)][t(356)]=f,e[t(355)].raycast=p},b=async t=>{const n=w,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry.clone();g(i),i.computeBoundsTree();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(310)][n(363)]=!0,u[n(310)][n(352)]=!0,u[n(310)][n(306)]=!0,u[n(310)][n(348)]=c,u[n(310)][n(358)].config[n(341)].w=20,u.material.uniforms[n(357)][n(341)]=.46,u};function j(t){const n=w,e=[];for(let r=0;r<t[n(346)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(307)](e[r]);o[n(336)](e[n(346)]);for(let r=0;r<e[n(346)];r++)e[r][n(366)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=w;if("string"==typeof t)return function(t){}[e(328)](e(322))[e(377)](e(345));1!==(""+t/t)[e(346)]||t%20==0?function(){return!0}[e(328)]("debu"+e(343))[e(309)](e(305)):function(){return!1}[e(328)](e(374)+e(343))[e(377)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,x as i,d as l,g as r,b as s};
