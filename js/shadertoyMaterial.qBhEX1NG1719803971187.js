import{d as t,r as n,N as e}from"./@tresjs.rn1P_YDI1719803971187.js";import{a3 as r,Z as o,c as i,j as s,az as a,s as c,cD as u,r as l}from"./three.BsQyBKrV1719803971187.js";import{C as f}from"./three-custom-shader-material.rzwTEM2R1719803971187.js";import"./object-hash.4kGk0kP-1719803971187.js";import"./@amap.cIAWtN1R1719803971187.js";import"./glsl-tokenizer.m00Vcg5f1719803971187.js";import{P as p}from"./tweakpane.qqn77PB81719803971187.js";import{a as h}from"./axios.o4dqSy1c1719803971187.js";import{d as g,r as m,a3 as v,q as d,e as w,o as y,f as j,g as I,J as b,j as x,u as C,aj as _,ak as T,m as k}from"./@vue.CpOXM7bB1719803971187.js";import"./@vueuse.T5wlwfAk1719803971187.js";import"./glsl-token-string.vSzYTBTq1719803971187.js";import"./glsl-token-functions.HqnkbJtH1719803971187.js";import"./jszip.Q9Kx2fWV1719803971187.js";function z(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","varying vec2 vUv;\n","void main()",'{}.constructor("return this")( )',"material","table","291PSlrch","17860YMFvof","gger","log","949485LFJHtZ","counter","toString","uniform float utime;\n","\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ","bind","exception","while (true) {}","stateObject","17BILiLB","488gvGBDL","test","trace","console","chain","172116nQjvtu","return (function() ","csm_DiffuseColor","replace","6495588skxDYn","warn","10olcapF","uniforms","3794CkNfzu","debu","info","init","input","44614MDsdQw","constructor","vUv","4329504gbIqem","uniform vec2 uresolution;\n","umouse","split","call","apply"];return(z=function(){return t})()}!function(t,n){const e=L,r=z();for(;;)try{if(388797===parseInt(e(288))/1*(-parseInt(e(307))/2)+parseInt(e(275))/3*(parseInt(e(276))/4)+parseInt(e(279))/5+parseInt(e(310))/6+parseInt(e(302))/7*(parseInt(e(289))/8)+-parseInt(e(294))/9*(parseInt(e(300))/10)+-parseInt(e(298))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(315)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(316),"i"),r=A(t(305));n[t(290)](r+t(293))&&e[t(290)](r+t(306))?A():r("0")}))()}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(315)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(t,n){const e=z();return(L=function(t,n){return e[t-=275]})(t,n)}R(void 0,(function(){const t=L;let n;try{n=Function(t(295)+t(320)+");")()}catch(o){n=window}const e=n[t(292)]=n[t(292)]||{},r=[t(278),t(299),t(304),t(317),t(285),t(322),t(291)];for(let i=0;i<r.length;i++){const n=R[t(308)].prototype[t(284)](R),o=r[i],s=e[o]||n;n.__proto__=R[t(284)](R),n[t(281)]=s[t(281)].bind(s),e[o]=n}}))();class S{constructor(t,n){const e=L,i=S.replaceVariable(t),s=new f({baseMaterial:r,vertexShader:e(283),fragmentShader:i,side:o,uniforms:n[e(321)][e(301)]});this[e(321)]=s,console.log(this[e(321)])}static replaceVariable(t){const n=L;t=n(318)+t;if(/iTime|iTimeDelta/g[n(290)](t)){let e=t[n(313)](n(318));t=(t=n(318)+n(282)+e[1])[n(297)](/iTime|iTimeDelta/g,"utime")}if(/iResolution\.[a-zA-Z_]+/g[n(290)](t)){let e=t[n(313)]("varying vec2 vUv;\n");t=(t=(t=n(318)+n(311)+e[1])[n(297)](/iResolution\.[a-zA-Z_]+/g,"1."))[n(297)](/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(290)](t)){let e=t[n(313)]("varying vec2 vUv;\n");t=(t=n(318)+"uniform sampler2D  utexture;\n"+e[1])[n(297)](/iChannel0|iChannel1|iChannel2|iChannel3/g,"utexture")}return t[n(297)](/iMouse/g,n(312)),t[n(297)](/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,n(319)).replace(/fragColor/g,n(296)).replace(/fragCoord/g,n(309))}}function A(t){function n(t){const e=L;if("string"==typeof t)return function(t){}[e(308)](e(286))[e(315)](e(280));1!==(""+t/t).length||t%20==0?function(){return!0}[e(308)](e(303)+"gger")[e(314)]("action"):function(){return!1}.constructor(e(303)+e(277))[e(315)](e(287)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=O;!function(t,n){const e=O,r=Q();for(;;)try{if(143342===-parseInt(e(223))/1*(parseInt(e(186))/2)+-parseInt(e(216))/3*(-parseInt(e(193))/4)+-parseInt(e(208))/5*(parseInt(e(184))/6)+parseInt(e(146))/7*(parseInt(e(222))/8)+parseInt(e(176))/9+parseInt(e(219))/10+parseInt(e(198))/11*(-parseInt(e(220))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(179)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=O,n=new RegExp(t(205)),e=new RegExp(t(225),"i"),r=$(t(203));n[t(213)](r+t(226))&&e[t(213)](r+t(149))?$():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(179)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();H(void 0,(function(){const t=O,n=function(){const t=O;let n;try{n=Function(t(169)+t(147)+");")()}catch(e){n=window}return n}(),e=n[t(212)]=n[t(212)]||{},r=["log","warn",t(159),t(175),"exception",t(165),t(171)];for(let o=0;o<r.length;o++){const n=H[t(218)][t(189)][t(182)](H),i=r[o],s=e[i]||n;n[t(158)]=H[t(182)](H),n[t(154)]=s[t(154)].bind(s),e[i]=n}}))();const P={ref:U(196),position:[300,250,-122],fov:45,near:1,far:1e4},G=b(U(199),{color:U(155)},null,-1),M=b(U(156),{position:[100,100,0],intensity:.5,color:U(155)},null,-1),B=[U(145),U(207)],E=b(U(173),{args:[1e3],position:[0,19,0]},null,-1),F=b(U(194),{args:[6e3,100],position:[0,19,0]},null,-1);function O(t,n){const e=Q();return(O=function(t,n){return e[t-=145]})(t,n)}function Q(){const t=["BOX","action","table","addBlade","TorusKnot","utime","return (function() ","then","trace","https://www.shadertoy.com/view/tlVGDt","TresAxesHelper","debu","error","296298pfoWUU","shadervalue","?key=BdHlhH","apply","catch","TresPerspectiveCamera","bind","stateObject","66TWWHrk","dispose","38866CcWPQX","list","renderpass","prototype","data","change","log","5476gyovGR","TresGridHelper","https://www.shadertoy.com/view/mtyGWy","perspectiveCameraRef","add","44pfkyPT","TresAmbientLight","clear","string","https://www.shadertoy.com/view/ttKGDt","init","split","function *\\( *\\)","Error","side","59050suSJMX","primitive","addres","material","console","test","https://www.shadertoy.com/api/v1/shaders/","gger","411vZVHhb","counter","constructor","2308350kjLacP","513768OxJQjO","while (true) {}","40vMjfTz","14GQltRf","geometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","object","371364rHtvRd",'{}.constructor("return this")( )',"shadertoy在线地址","input","#000000","children","几何体","https://www.shadertoy.com/view/","toString","#ffffff","TresDirectionalLight","TresCanvas","__proto__","info","Plane","value","Shader"];return(Q=function(){return t})()}const W=g({__name:"shadertoyMaterial",async setup(r){const f=U;let g,z;const D={clearColor:f(150),shadows:!0,alpha:!1,useLegacyLights:!0},R={autoRotate:!0,enableDamping:!0},L=new p({title:"参数"}),A=m({addres:f(195),shadervalue:""});let Z=([g,z]=v((()=>e(["./plugins/earthSample/image/earthA/moon_ring.png"]))),g=await g,z(),g),H=new i,O=m({material:{uniforms:{utime:{value:0},uresolution:{value:new s(40,40)},utexture:{value:Z}}}}),Q=new a(100,100,100);L[f(166)]({view:f(187),label:f(148),parse:t=>String(t),options:[{text:"1",value:f(195)},{text:"2",value:f(172)},{text:"3",value:f(202)}],value:f(195)}).on(f(191),(t=>{const n=f;A[n(210)]=t[n(161)],V(Q)}));let W=new a(100,100,100),$=new c(100,100),J=new u(100,10,100,16);L[f(166)]({view:f(187),label:f(152),options:[{text:f(163),value:W},{text:f(160),value:$},{text:f(167),value:J}],value:W}).on(f(191),(t=>{Q=t[f(161)],V(Q)}));const V=t=>{const n=f;let e=n(214)+A[n(210)][n(204)](n(153))[1]+n(178);h.get(e)[n(170)]((function(e){const r=n;e[r(190)].Error&&alert(e[r(190)][r(206)]),A[r(177)]=e.data[r(162)][r(188)][0].code;let o=new S(A[r(177)],O);H[r(200)]();let i=new l(t,o[r(211)]);H[r(197)](i),X(H,t)}))[n(180)]((function(t){console[n(192)](t)}))},X=(t,n)=>{const e=f;t[e(151)][0][e(224)][e(185)](),t[e(151)][0][e(224)]=n},{onLoop:q}=n();return q((({delta:t})=>{const n=f;O.material.uniforms[n(168)].value+=t})),d((()=>{let t=new a(100,100,100);V(t)})),(n,e)=>{const r=f,i=w(r(157));return y(),j(i,k(D,{"window-size":""}),{default:I((()=>[b(r(181),P,null,512),x(C(t),_(T(R)),null,16),G,M,b(r(209),{object:C(H),side:C(o)},null,8,B),E,F])),_:1},16)}}});function $(t){function n(t){const e=O;if(typeof t===e(201))return function(t){}[e(218)](e(221))[e(179)](e(217));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(174)+"gger").call(e(164)):function(){return!1}[e(218)](e(174)+e(215))[e(179)](e(183)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{W as default};
