import{importShared as s}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{_l as R,Kk as V}from"./index.DTe2qqjO1767148983502.js";import{createNoise2D as A}from"./simplex-noise.DV0DHqK31767148983502.js";const{defineComponent:D}=await s("vue"),{unref:b,createElementVNode:a,renderList:$,Fragment:k,openBlock:x,createElementBlock:y}=await s("vue"),z=["geometry","rotation-x"],G=["rnda","rndb","rndc","rndd"],F=["args"],X=["side","map"],h=await s("three"),{shallowRef:Y}=await s("vue"),d=20,Z=D({__name:"windLineMesh",setup(E){const u=A(),_=(n,e)=>{if(n*n>24.9||e*e>24.9)return-1;var g=.6*u(.1*n,.1*e),c=.2*u(.3*n,.3*e);return g+c},t=new h.PlaneGeometry(10,10,100,100),o=t.getAttribute("position");for(var i=0;i<o.count;i++)o.setZ(i,_(o.getX(i),o.getY(i)));t.computeVertexNormals();const P=d*2+2,m=document.createElement("CANVAS");m.width=64,m.height=8;const p=m.getContext("2d"),l=p?.createLinearGradient(0,0,64,0);l?.addColorStop(0,"rgba(255,255,255,0)"),l?.addColorStop(.5,"rgba(255,255,255,128)"),l?.addColorStop(1,"rgba(255,255,255,0)"),p&&l&&(p.fillStyle=l,p.fillRect(0,0,64,8));const N=new h.CanvasTexture(m),f=Y(null),{onBeforeRender:S}=R();return S(({elapsed:n})=>{f.value&&f.value.children.forEach((e,g)=>{const c=n/5,C=e.geometry.getAttribute("position");for(let r=0;r<P;r++){const w=c+r%(d+1)/60,M=3*Math.sin(5*e.rnda*w+6*e.rndb),T=3*Math.cos(5*e.rndc*w+6*e.rndd),L=_(M,T)+.5+.04*(r>d?1:-1)*Math.cos((r%(d+1)-10)/8);C.setXYZ(r,M,L,-T)}C.needsUpdate=!0})}),(n,e)=>(x(),y(k,null,[a("TresMesh",{geometry:b(t),"rotation-x":-Math.PI/2},[...e[0]||(e[0]=[a("TresMeshPhysicalMaterial",{roughness:1,metalness:0,color:"seagreen"},null,-1)])],8,z),a("TresGroup",{ref_key:"group",ref:f},[(x(),y(k,null,$(12,(g,c)=>a("TresMesh",{key:c,rnda:Math.random(),rndb:Math.random(),rndc:Math.random(),rndd:Math.random()},[a("TresPlaneGeometry",{args:[1,1,d,1]},null,8,F),a("TresMeshBasicMaterial",{transparent:"",depthWrite:!1,side:h.DoubleSide,map:b(N)},null,8,X)],8,G)),64))],512)],64))}}),{defineComponent:j}=await s("vue"),{createElementVNode:v,unref:H,createVNode:B,resolveComponent:I,normalizeProps:K,guardReactiveProps:U,withCtx:W,openBlock:q,createBlock:J}=await s("vue"),te=j({__name:"windLine",setup(E){const u={clearColor:"deepskyblue",windowSize:!0,antialias:!0};return(_,t)=>{const o=I("TresCanvas");return q(),J(o,K(U(u)),{default:W(()=>[t[0]||(t[0]=v("TresPerspectiveCamera",{position:[0,2.5,8],fov:45,near:.1,far:1e3},null,-1)),B(H(V),{enableDamping:"",autoRotate:"",autoRotateSpeed:.5}),t[1]||(t[1]=v("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=v("TresDirectionalLight",{position:[1,1,1],intensity:1},null,-1)),B(Z)]),_:1},16)}}});export{te as default};
