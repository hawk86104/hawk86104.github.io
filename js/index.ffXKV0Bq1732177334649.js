var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.yuH49F6F1732177334649.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.SUuC1Zgr1732177334649.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.6gaHmh_f1732177334649.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x}from"./three.rV-MfnQb1732177334649.js";import{m as v,e as m}from"./@tresjs.ty5XF8T_1732177334649.js";import{u as h}from"./index.os2b9iNQ1732177334649.js";import{F as w,C as g}from"./three-stdlib.k-UoDs271732177334649.js";import{d}from"./@vue.-THQH3GC1732177334649.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.6TzTs-xr1732177334649.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.oP6ziXak1732177334649.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.k3OWVyoB1732177334649.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.pU2Qstog1732177334649.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.l_eeDdm21732177334649.js";const y=S;function S(t,e){const n=z();return(S=function(t,e){return n[t-=103]})(t,e)}!function(t,e){const n=S,i=z();for(;;)try{if(320303===-parseInt(n(136))/1+parseInt(n(132))/2+parseInt(n(130))/3*(-parseInt(n(134))/4)+parseInt(n(124))/5*(-parseInt(n(139))/6)+parseInt(n(128))/7+-parseInt(n(138))/8*(-parseInt(n(129))/9)+parseInt(n(106))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const _=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[S(126)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){_(this,(function(){const t=S,e=new RegExp(t(120)),n=new RegExp(t(127),"i"),i=I(t(131));e[t(110)](i+t(116))&&n[t(110)](i+"input")?I():i("0")}))()}();const P=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[S(126)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function z(){const t=["function *\\( *\\)","constructor","gger","counter","2312635mrgblv","warn","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3678409KaCroF","47052NbtOTV","3QxwVTz","init","768942fYkuLo","length","2465412YfUhQs","toString","275638iAHQsE","debu","584eYieIr","6BMDMuQ","log","return (function() ",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"3832190iRhSaF","while (true) {}","trace","stateObject","test","bind","call",'{}.constructor("return this")( )',"table","exception","chain","info","prototype","__proto__"];return(z=function(){return t})()}P(void 0,(function(){const t=S;let e;try{e=Function(t(104)+t(113)+");")()}catch(r){e=window}const n=e.console=e.console||{},i=[t(103),t(125),t(117),"error",t(115),t(114),t(108)];for(let a=0;a<i[t(133)];a++){const e=P[t(121)][t(118)][t(111)](P),r=i[a],o=n[r]||e;e[t(119)]=P[t(111)](P),e[t(135)]=o.toString.bind(o),n[r]=e}}))();const b=y(105);function I(t){function e(t){const n=S;if("string"==typeof t)return function(t){}[n(121)](n(107))[n(126)](n(123));1!==(""+t/t)[n(133)]||t%20==0?function(){return!0}[n(121)]("debugger")[n(112)]("action"):function(){return!1}.constructor(n(137)+n(122))[n(126)](n(109)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const E=L;function M(){const t=["init","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","constructor","action","defines","function *\\( *\\)","bind","uniforms","log","trace","1260UcuEzY","info","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","clone","stateObject","84320nxHoEk","2004168srKhxy","length","2554200iloDIk","15fGrsCA","__proto__","counter","4975270NiAiqz","table","input","call","debu","toString","gger","string","error","console","7HYPFpP","5138KNihWD","test","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","461043wGfGzj","316372zkRLEY","return (function() ","chain","warn",'{}.constructor("return this")( )'];return(M=function(){return t})()}!function(t,e){const n=L,i=M();for(;;)try{if(350464===parseInt(n(206))/1*(parseInt(n(232))/2)+parseInt(n(236))/3*(parseInt(n(212))/4)+parseInt(n(235))/5+-parseInt(n(227))/6*(parseInt(n(207))/7)+-parseInt(n(233))/8+parseInt(n(211))/9+-parseInt(n(239))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(t,e){const n=M();return(L=function(t,e){return n[t-=203]})(t,e)}!function(){A(this,(function(){const t=L,e=new RegExp(t(222)),n=new RegExp(t(210),"i"),i=j(t(217));e[t(208)](i+t(214))&&n[t(208)](i+t(241))?j():i("0")}))()}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[L(209)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(t){const e=L,n=a({},t);return e(221)in t&&(n[e(221)]=a({},t[e(221)])),e(224)in t&&(n[e(224)]=s[e(230)](t[e(224)])),n}D(void 0,(function(){const t=L;let e;try{e=Function(t(213)+t(216)+");")()}catch(r){e=window}const n=e.console=e[t(205)]||{},i=[t(225),t(215),t(228),t(204),"exception",t(240),t(226)];for(let a=0;a<i.length;a++){const e=D[t(219)].prototype.bind(D),r=i[a],o=n[r]||e;e[t(237)]=D.bind(D),e[t(244)]=o[t(244)][t(223)](o),n[r]=e}}))();const T={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:E(229)+b+E(218)};function j(t){function e(t){const n=L;if(typeof t===n(203))return function(t){}[n(219)]("while (true) {}")[n(209)](n(238));1!==(""+t/t)[n(234)]||t%20==0?function(){return!0}[n(219)](n(243)+n(245))[n(242)](n(220)):function(){return!1}.constructor(n(243)+n(245))[n(209)](n(231)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const O=N;!function(t,e){const n=N,i=R();for(;;)try{if(681391===parseInt(n(395))/1+-parseInt(n(388))/2*(parseInt(n(390))/3)+-parseInt(n(419))/4*(-parseInt(n(359))/5)+parseInt(n(368))/6*(parseInt(n(360))/7)+parseInt(n(435))/8*(parseInt(n(405))/9)+-parseInt(n(389))/10+-parseInt(n(392))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const V=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(385)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){V(this,(function(){const t=N,e=new RegExp(t(408)),n=new RegExp(t(372),"i"),i=H(t(367));e.test(i+t(423))&&n[t(375)](i+t(426))?H():i("0")}))()}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(385)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function R(){const t=["while (true) {}","X_IS_EVEN","function *\\( *\\)","forEach","width","string","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","call","clear","type","uniforms","debu","Y_IS_EVEN","7036JYMlAn","bind","getClearAlpha","magFilter","chain","return (function() ","camera","input","_mipQuad","map","texture","dispose","table","_swapTarget","parentLevel","toString","2354696jHayoO","1215DUbGCN","61943kvWQxF","warn","minFilter","fragmentShader","_copyQuad","tDiffuse","setSize","init","6ciJWNc","copy","log","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","floor","length","test","autoClear","set","floorPowerOfTwo","setClearAlpha","originalMapSize","setViewOffset","trace","action","info","apply","counter","constructor","12gNBTmh","6952810nMYSAU","9957rKmXWS","material","5871998vifxQc","console","_mipMaterials","611107SpmzXU","setRenderTarget","defines",'{}.constructor("return this")( )',"replace","render","height","value","setClearColor","image","27EMLlKS"];return(R=function(){return t})()}function N(t,e){const n=R();return(N=function(t,e){return n[t-=359]})(t,e)}k(void 0,(function(){const t=N;let e;try{e=Function(t(424)+t(398)+");")()}catch(r){e=window}const n=e[t(393)]=e[t(393)]||{},i=[t(370),t(361),t(384),"error","exception",t(431),t(382)];for(let a=0;a<i[t(374)];a++){const e=k[t(387)].prototype[t(420)](k),r=i[a],o=n[r]||e;e[t(371)]=k.bind(k),e[t(434)]=o[t(434)][t(420)](o),n[r]=e}}))();const C=new l;class W{constructor(t){const e=N;!t&&(t=e(412));const n=U(T);n[e(363)]=n[e(363)][e(399)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(U(n)),i[0][e(397)][e(407)]=0,i[0][e(397)][e(418)]=0,i[1]=new c(U(n)),i[1][e(397)][e(407)]=1,i[1][e(397)].Y_IS_EVEN=0,i[2]=new c(U(n)),i[2][e(397)].X_IS_EVEN=0,i[2].defines[e(418)]=1,i[3]=new c(U(n)),i[3][e(397)].X_IS_EVEN=1,i[3][e(397)].Y_IS_EVEN=1;const r=new u;r.texture[e(362)]=p,r.texture[e(422)]=p,this._swapTarget=r,this[e(364)]=new w(new c(g)),this[e(427)]=new w(null),this[e(394)]=i}update(t,e,n,i=!1){const r=N;t.isWebGLRenderTarget&&(t=t[r(429)]);const o=n.autoClear,s=n[r(421)](),l=n.getRenderTarget();n.getClearColor(C);const c=this[r(364)],u=this._mipQuad,p=this[r(432)],x=this._mipMaterials;let v,m;i?(v=f[r(378)](t[r(404)][r(410)]),m=f[r(378)](t[r(404)].height)):(v=Math[r(373)](t[r(404)][r(410)]),m=Math.floor(t[r(404)][r(401)]));const h=Math[r(373)](1.5*v),w=Math[r(373)](m);e[r(366)](h,w),p[r(429)][r(415)]!==e.texture[r(415)]?(p[r(430)](),p[r(369)](e),p[r(429)][r(404)]=a({},p.texture.image)):p[r(366)](h,w),n[r(376)]=!1,n[r(403)](0),n[r(379)](),c[r(391)][r(416)][r(365)][r(402)]=t,c[r(425)][r(381)](v,m,0,0,h,w),n[r(396)](e),n.clear(),c.render(n),n[r(396)](p),n[r(414)](),c[r(400)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(416)][r(428)][r(402)]=p.texture,t[r(416)][r(433)][r(402)]=y,t[r(416)].parentMapSize.value[r(377)](g,d),t[r(416)][r(380)][r(402)][r(377)](v,m),u[r(391)]=t,g=Math[r(373)](g/2),d=Math[r(373)](d/2);const i=w-2*d;n[r(396)](e),u[r(425)][r(381)](g,d,-v,-i,h,w),u[r(400)](n),n[r(396)](p),t[r(416)][r(428)][r(402)]=e.texture,u.render(n),y++}return n.setRenderTarget(l),n.setClearAlpha(s),n[r(403)](C),n[r(376)]=o,y+1}[O(430)](){const t=O;this._swapTarget[t(430)](),this._mipQuad[t(430)](),this[t(364)][t(430)](),this._mipMaterials[t(409)]((t=>t.dispose()))}}function H(t){function e(t){const n=N;if(typeof t===n(411))return function(t){}[n(387)](n(406))[n(385)](n(386));1!==(""+t/t)[n(374)]||t%20==0?function(){return!0}[n(387)](n(417)+"gger")[n(413)](n(383)):function(){return!1}[n(387)](n(417)+"gger")[n(385)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=Z;!function(t,e){const n=Z,i=Q();for(;;)try{if(445543===-parseInt(n(455))/1+-parseInt(n(414))/2*(parseInt(n(458))/3)+-parseInt(n(446))/4*(-parseInt(n(431))/5)+parseInt(n(417))/6+-parseInt(n(440))/7+parseInt(n(464))/8*(-parseInt(n(463))/9)+parseInt(n(438))/10*(parseInt(n(452))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(403)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Q(){const t=["Matrix4","ignoreObjects","applyMatrix4","12lxLnkC","reflectorMipMap","value","call","log","error","22ZKBJmx","table","PerspectiveCamera","733026xZpXQa","init","input","9pDXgzl","copy","forEach","dot","applyQuaternion","180099UtTLdO","328tjMKfR","projectionMatrix","trace","update","position","resolution","constructor","Vector3","buffers","test","exception","prototype","render","setMask","debu","return (function() ","action","add","__proto__","set","negate","Plane","apply","gger","clear","lookAt","bind","multiply",'{}.constructor("return this")( )',"parent","stateObject","depth","visible","453668ZHAPbJ","sub","info","2250510PygSlR","warn","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getRenderTarget","autoClear","function *\\( *\\)","UnsignedByteType","sign","reflect","updateMatrixWorld","Quaternion","constant","length","718845sUlkOh","console","elements","state","clone","Vector4","texture","10857130JkUErE","setRenderTarget","2088072Trgyhu","getWorldPosition","normal"];return(Q=function(){return t})()}!function(){F(this,(function(){const t=Z,e=new RegExp(t(423)),n=new RegExp(t(420),"i"),i=$(t(456));e[t(473)](i+"chain")&&n[t(473)](i+t(457))?$():i("0")}))()}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(403)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Z(t,e){const n=Q();return(Z=function(t,e){return n[t-=396]})(t,e)}X(void 0,(function(){const t=Z,e=function(){const t=Z;let e;try{e=Function(t(396)+t(409)+");")()}catch(n){e=window}return e}(),n=e[t(432)]=e[t(432)]||{},i=[t(450),t(418),t(416),t(451),t(474),t(453),t(466)];for(let r=0;r<i[t(430)];r++){const e=X[t(470)][t(475)][t(407)](X),a=i[r],o=n[a]||e;e[t(399)]=X[t(407)](X),e[t(419)]=o[t(419)][t(407)](o),n[a]=e}}))();const G=d({__name:Y(447),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,i=t,r=new(x[n(402)]),a=new(x[n(443)]),o=new(x[n(454)]),s=new W,l=h({width:i[n(469)],height:i.resolution,settings:{type:x[n(424)]}}),c=h({width:i[n(469)],height:i[n(469)],settings:{type:x[n(424)]}}),{camera:u,renderer:p,scene:f}=v(),{onBeforeLoop:w}=m();return w((()=>{const t=n;(()=>{const t=n;if(!u[t(448)])return;r[t(400)](new(x[t(471)])(0,1,0),0),r[t(445)](i[t(410)].matrixWorld),o[t(459)](u.value);const e=new(x[t(471)])(0,0,1)[t(435)]().negate(),s=u[t(448)][t(441)](new(x[t(471)]));e[t(426)](r[t(442)]);const c=new(x[t(471)]);r.projectPoint(s,c);const v=c[t(435)]();v[t(415)](s),v[t(398)](c),o[t(468)][t(459)](v);const m=new(x[t(471)])(0,0,-1);m[t(462)](u[t(448)].getWorldQuaternion(new(x[t(428)]))),m[t(398)](s);const h=new(x[t(471)]);i.parent[t(441)](h),h[t(415)](m),h.reflect(r[t(442)])[t(401)](),h[t(398)](i[t(410)].getWorldPosition(new(x[t(471)]))),o.up[t(400)](0,1,0),o.applyQuaternion(u[t(448)].getWorldQuaternion(new(x[t(428)]))),o.up[t(426)](r[t(442)]),o[t(406)](h),o[t(427)]();const w=new(x[t(443)]);w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(o.projectionMatrix),w[t(408)](o.matrixWorldInverse),a.copy(w),r.applyMatrix4(o.matrixWorldInverse);const g=new(x[t(436)])(r[t(442)].x,r[t(442)].y,r[t(442)].z,r[t(429)]),d=o[t(465)],y=new(x[t(436)]);y.x=(Math[t(425)](g.x)+d.elements[8])/d[t(433)][0],y.y=(Math.sign(g.y)+d[t(433)][9])/d[t(433)][5],y.z=-1,y.w=(1+d[t(433)][10])/d[t(433)][14],g.multiplyScalar(2/g[t(461)](y)),d[t(433)][2]=g.x,d.elements[6]=g.y,d[t(433)][10]=g.z+1,d[t(433)][14]=g.w;const S=p.value[t(421)]();p[t(448)].setRenderTarget(l.value),p.value[t(434)][t(472)][t(412)][t(477)](!0),!1===p.value[t(422)]&&p[t(448)][t(405)](),i[t(444)][t(460)]((t=>t.visible=!1)),p[t(448)][t(476)](f[t(448)],o),i[t(444)].forEach((e=>e[t(413)]=!0)),p.value[t(439)](S)})(),l.value&&c[t(448)]&&p.value&&s[t(467)](l[t(448)][t(437)],c[t(448)],p[t(448)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function $(t){function e(t){const n=Z;if("string"==typeof t)return function(t){}[n(470)]("while (true) {}").apply("counter");1!==(""+t/t)[n(430)]||t%20==0?function(){return!0}.constructor(n(478)+n(404))[n(449)](n(397)):function(){return!1}.constructor(n(478)+n(404))[n(403)](n(411)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=q,i=J();;)try{if(766519===-parseInt(n(507))/1*(-parseInt(n(533))/2)+parseInt(n(530))/3+-parseInt(n(525))/4*(-parseInt(n(515))/5)+parseInt(n(501))/6+parseInt(n(505))/7+parseInt(n(520))/8*(-parseInt(n(511))/9)+parseInt(n(518))/10*(-parseInt(n(514))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(){var t=["6238056jwPTIX","init","while (true) {}","chain","8993796NXvAMb","return (function() ","549sVAZdt","__proto__","prototype","info","171PBnrJq","action","counter","45253494EomJUY","180OlzaPz",'{}.constructor("return this")( )',"length","10pwyoFr","gger","610184lfsuYJ","trace","table","error","test","128728HoUjfK","console","input","debu","bind","4199967qcMdWf","stateObject","constructor","5270AdGcla","string","exception","function *\\( *\\)","toString"];return(J=function(){return t})()}!function(){K(this,(function(){var t=q,e=new RegExp(t(536)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=tt(t(502));e[t(524)](i+t(504))&&n.test(i+t(527))?tt():i("0")}))()}();var B=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function q(t,e){var n=J();return(q=function(t,e){return n[t-=500]})(t,e)}function tt(t){function e(t){var n=q;if(typeof t===n(534))return function(t){}[n(532)](n(503)).apply(n(513));1!==(""+t/t)[n(517)]||t%20==0?function(){return!0}[n(532)](n(528)+n(519)).call(n(512)):function(){return!1}[n(532)](n(528)+n(519)).apply(n(531)),e(++t)}try{if(t)return e;e(0)}catch(n){}}B(void 0,(function(){for(var t=q,e=function(){var t,e=q;try{t=Function(e(506)+e(516)+");")()}catch(n){t=window}return t}(),n=e[t(526)]=e[t(526)]||{},i=["log","warn",t(510),t(523),t(535),t(522),t(521)],r=0;r<i[t(517)];r++){var a=B.constructor[t(509)][t(529)](B),o=i[r],s=n[o]||a;a[t(508)]=B.bind(B),a[t(500)]=s[t(500)].bind(s),n[o]=a}}))();export{G as _};
