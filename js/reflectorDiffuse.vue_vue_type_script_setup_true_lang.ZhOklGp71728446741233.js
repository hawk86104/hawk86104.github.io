import{c1 as t,a3 as n,C as e,k as r}from"./three.GKtOCofD1728446741233.js";import{z as o}from"./@tresjs.2zzrlbpQ1728446741233.js";import{R as c}from"./all.three.EiTHB5IL1728446741233.js";import{d as a,b as i,a4 as s,a3 as u,o as f,E as l,L as p,m,u as d}from"./@vue.JNsx1iN61728446741233.js";function v(){const t=["8IQVvUF","\n\t\t#include <emissivemap_fragment>\n\n\t\tvec4 normalColor = texture2D(normalMap, vNormalMapUv * normalScale);\n\t\tvec3 reflectNormal = normalize(vec3(normalColor.r * 2.0 - 1.0, normalColor.b, normalColor.g * 2.0 - 1.0));\n\t\tvec3 reflectCoord = vCoord.xyz / vCoord.w;\n\t\tvec2 reflectUv = reflectCoord.xy + reflectCoord.z * reflectNormal.xz * 0.05;\n\t\tvec4 reflectColor = texture2D(reflectMap, reflectUv);\n\n\t\t// Fresnel term\n\t\tvec3 toEye = normalize(vToEye);\n\t\tfloat theta = max(dot(toEye, normal), 0.0);\n\t\tfloat reflectance = pow((1.0 - theta), 5.0);\n\n\t\treflectColor = mix(vec4(0), reflectColor, reflectance);\n\n\t\tdiffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + reflectColor.rgb * mixStrength);\n\t\t","return (function() ","error","prototype","info","while (true) {}","replace","log","618VsMOxS","gger","constructor","\n\t\tuniform sampler2D reflectMap;\n\t\tuniform float mirror;\n\t\tuniform float mixStrength;\n\t\tin vec4 vCoord;\n\t\tin vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","bind","9eaHpMC","init","#include <project_vertex>","warn","vertexShader",'{}.constructor("return this")( )',"counter","32815JHxshY","3829091TRKcGK","chain","length","toString","void main() {","7820945ZKFIHH","__proto__","string","fragmentShader","input","stateObject","\n\t\tuniform mat4 textureMatrix;\n\t\tout vec4 vCoord;\n\t\tout vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","test","474xyDvYL","231ewPoWj","table","\n\t\t#include <project_vertex>\n\n\t\tvCoord = textureMatrix * vec4(transformed, 1.0);\n\t\tvToEye = cameraPosition - (modelMatrix * vec4(transformed, 1.0)).xyz;\n\t\t","264068ObwFJN","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","1928030NXJMfw","apply","action","209112mElzlW"];return(v=function(){return t})()}function h(t,n){const e=v();return(h=function(t,n){return e[t-=425]})(t,n)}!function(t,n){const e=h,r=v();for(;;)try{if(370354===-parseInt(e(453))/1+parseInt(e(463))/2*(parseInt(e(443))/3)+parseInt(e(446))/4+-parseInt(e(428))/5*(-parseInt(e(442))/6)+-parseInt(e(429))/7*(parseInt(e(454))/8)+parseInt(e(468))/9*(-parseInt(e(450))/10)+parseInt(e(434))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=h,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(448),"i"),r=y(t(469));n[t(441)](r+t(430))&&e[t(441)](r+t(438))?y():r("0")}))()}();const x=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[h(451)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();x(void 0,(function(){const t=h,n=function(){const t=h;let n;try{n=Function(t(456)+t(426)+");")()}catch(e){n=window}return n}(),e=n[t(449)]=n[t(449)]||{},r=[t(462),t(471),t(459),t(457),"exception",t(444),"trace"];for(let o=0;o<r[t(431)];o++){const n=x[t(465)][t(458)].bind(x),c=r[o],a=e[c]||n;n[t(435)]=x[t(467)](x),n.toString=a[t(432)].bind(a),e[c]=n}}))();function y(t){function n(t){const e=h;if(typeof t===e(436))return function(t){}[e(465)](e(460)).apply(e(427));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(464))[e(447)](e(452)):function(){return!1}[e(465)]("debugger")[e(451)](e(439)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const I=M;!function(t,n){const e=M,r=b();for(;;)try{if(740418===-parseInt(e(283))/1*(parseInt(e(311))/2)+parseInt(e(284))/3*(-parseInt(e(344))/4)+parseInt(e(336))/5*(-parseInt(e(321))/6)+parseInt(e(289))/7+parseInt(e(310))/8+-parseInt(e(301))/9*(parseInt(e(338))/10)+parseInt(e(319))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[M(339)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function b(){const t=["apply","warn","__proto__","counter","init","6268RBeQHD","console","onBeforeCompile","test","textureMatrixUniform","chain","stateObject","table","2723fuyZDz","2037jxiSIw","visible","value","tmsmRef","uv1","8476755cogjmY","add","reflectorDiffuse","onBeforeRender","action","bind","object","tpgRef","assign","color","while (true) {}","renderTargetUniform","4409226DMGZrZ","showGridHelper","TresMesh","function *\\( *\\)","TresPlaneGeometry","TresGroup","aoMap","TresMeshStandardMaterial","gger","1836288lxyGtG","844vUqoyW","toString","trace","prototype","constructor","tmRef","channel","reflectMap","37927142YhXekA","length","24xbILtE","exception","return (function() ","uniforms","set","attributes","input","update","#ffffff","error","repeat","textureMatrix","wrapT","log","mixStrength","1806240yIEkIE","primitive","10HtUplw"];return(b=function(){return t})()}!function(){w(this,(function(){const t=M,n=new RegExp(t(304)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=E(t(343));n[t(347)](r+t(349))&&e[t(347)](r+t(327))?E():r("0")}))()}();const _=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[M(339)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function M(t,n){const e=b();return(M=function(t,n){return e[t-=282]})(t,n)}_(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function(t(323)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(345)]=n[t(345)]||{},r=[t(334),t(340),"info",t(330),t(322),t(282),t(313)];for(let o=0;o<r[t(320)];o++){const n=_[t(315)][t(314)][t(294)](_),c=r[o],a=e[c]||n;n[t(341)]=_[t(294)](_),n.toString=a[t(312)][t(294)](a),e[c]=n}}))();const C=["rotation-x"],S=[I(295),I(285)],j=a({__name:I(291),props:{mirror:{default:1},mixStrength:{default:10},showGridHelper:{type:Boolean,default:!0},color:{default:I(329)}},async setup(a){const v=I;let g,x;const y=a,w=new t(9.5,10),b=i(),_=i(),M=i(),j=new c,E={mirror:{value:y.mirror},mixStrength:{value:y[v(335)]}},z=([g,x]=s((()=>o(["./plugins/floor/image/polished_concrete_basecolor.jpg","./plugins/floor/image/polished_concrete_normal.jpg","./plugins/floor/image/polished_concrete_orm.jpg"]))),g=await g,x(),g);for(var R=0;R<3;R++)z[R].wrapS=n,z[R][v(333)]=n,z[R][v(331)][v(325)](16,16);const T={color:new e("#444"),metalness:1,roughness:1,map:z[0],metalnessMap:z[2],roughnessMap:z[2],aoMap:z[2],aoMapIntensity:1,normalMap:z[1],normalScale:new r(3,3)},k=t=>{const n=v;t[n(324)][n(318)]=j[n(300)],t[n(324)][n(332)]=j[n(348)],t[n(324)]=Object[n(297)](t[n(324)],E),(t=>{const n=h;t[n(425)]=t.vertexShader[n(461)](n(433),n(440)),t.vertexShader=t.vertexShader[n(461)](n(470),n(445))})(t),(t=>{const n=h;t.fragmentShader=t[n(437)][n(461)](n(433),n(466)),t[n(437)]=t[n(437)][n(461)]("#include <emissivemap_fragment>",n(455))})(t)};return u((()=>{const t=v;b[t(286)]&&(b[t(286)][t(326)][t(288)]=b[t(286)][t(326)].uv),M[t(286)]&&(M[t(286)][t(307)][t(317)]=1,M.value[t(346)]=k),_.value&&(_[t(286)][t(290)](j),_[t(286)][t(292)]=(n,e,r)=>{j[t(328)](n,e,r)}),y[t(298)]&&M[t(286)]&&(M[t(286)][t(298)]=new e(y[t(298)]))})),(t,n)=>{const e=v;return f(),l(e(306),null,[p(e(303),{ref_key:e(316),ref:_,"rotation-x":-Math.PI/2,"position-y":-.1},[p(e(305),{ref_key:e(296),ref:b,args:[10,10]},null,512),p(e(308),m({ref_key:e(287),ref:M},T),null,16)],8,C),p(e(337),{object:d(w),visible:t[e(302)]},null,8,S)])}}});function E(t){function n(t){const e=M;if("string"==typeof t)return function(t){}[e(315)](e(299))[e(339)](e(342));1!==(""+t/t).length||t%20==0?function(){return!0}[e(315)]("debu"+e(309)).call(e(293)):function(){return!1}[e(315)]("debu"+e(309))[e(339)](e(350)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{j as _};
