import{a as t,B as n,s as e,b$ as r,C as o,k as s,a0 as c}from"./three.eGpwEcxC1731053920743.js";import{w as a}from"./@fesjs.jcfJqFb-1731053920743.js";import{b as i}from"./@tresjs.hJVQLtpa1731053920743.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.TTgO3_lh1731053920743.js";!function(t,n){const e=x,r=g();for(;;)try{if(712214===-parseInt(e(124))/1+-parseInt(e(119))/2+parseInt(e(133))/3*(-parseInt(e(161))/4)+parseInt(e(136))/5+parseInt(e(191))/6+parseInt(e(157))/7*(parseInt(e(127))/8)+-parseInt(e(154))/9*(-parseInt(e(180))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(165)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=x,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(130),"i"),r=I(t(149));n.test(r+t(141))&&e[t(189)](r+t(171))?I():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(165)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(){const t=["then","config","sub","boundingBox","670bRAzyr","constructor","random","material","setY","min","getSize","value","push","test","action","5338488ceAzGf","reflectivity","raycast","setAttribute","gger","1460136dIQapR","#fff","info","children","computeBoundingBox","674091XDDoLa","count","geometry","17888OlGAys","deleteAttribute","getY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","depthWrite","side","645saYAiO","copy","toString","6676150fQkQiQ","debu","length","max","clone","chain","getX","console","counter","Box3","add","table","center","init","uniforms","warn","getCenter","computeBoundsTree","8406BNVoau","return (function() ","log","3129DBfkxo","forEach",'{}.constructor("return this")( )',"prototype","21780LPHURT","catch","attributes","__proto__","apply","disposeBoundsTree","Vector3","negate","error","position","input","bind","applyMatrix4","trace","transparent"];return(g=function(){return t})()}m(void 0,(function(){const t=x;let n;try{n=Function(t(155)+t(159)+");")()}catch(o){n=window}const e=n[t(143)]=n.console||{},r=[t(156),t(151),t(121),t(169),"exception",t(147),t(174)];for(let s=0;s<r[t(138)];s++){const n=m.constructor[t(160)].bind(m),o=r[s],c=e[o]||n;n[t(164)]=m[t(172)](m),n[t(135)]=c[t(135)][t(172)](c),e[o]=n}}))();const h=(n,e=!1)=>{const r=x;n[r(123)]();const{max:o,min:s}=n[r(179)];n[r(128)]("uv");const c=o.x-s.x,a=o.y-s.y,i=[];for(let t=0;t<n.attributes[r(170)][r(125)];t++)e?(i.push((n.attributes[r(170)].getX(t)-(s.x+o.x)/2)/c),i[r(188)]((n[r(163)][r(170)].getY(t)-(s.y+o.y)/2)/a)):(i.push((n.attributes[r(170)].getX(t)-s.x)/c),i.push((n[r(163)].position[r(129)](t)-s.y)/a));const u=new Float32Array(i);n[r(117)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=x;a(t,{},{method:"get",mergeRequest:!0})[o(176)]((t=>{n&&e(t[n]),e(t.features)}))[o(162)]((t=>{console.error(t),r(t)}))})),w=t=>{const n=x,e=(new(THREE[n(145)])).setFromObject(t),r=new(THREE[n(167)]);e[n(152)](r),t[n(122)][n(158)]((t=>{const e=n;t[e(170)][e(178)](r)})),t[n(170)][n(134)](r[n(168)]())},y=()=>{const t=x;n[t(160)][t(153)]=u,n[t(160)][t(166)]=f,e[t(160)][t(193)]=p},b=async t=>{const n=x,e=await i(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),a=t[n(126)][n(140)]();h(a),a.computeBoundsTree();const u=new r(a,{color:new o(n(120)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(175)]=!0,u[n(183)][n(131)]=!0,u.material.depthTest=!0,u[n(183)][n(132)]=c,u.material[n(150)][n(177)][n(187)].w=20,u.material[n(150)][n(192)].value=.46,u};function x(t,n){const e=g();return(x=function(t,n){return e[t-=117]})(t,n)}function _(t){const n=x,e=[];for(let o=0;o<t[n(138)];o++)e[n(188)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(138)];o++)r[n(146)](e[o]);r.divideScalar(e[n(138)]);for(let o=0;o<e.length;o++)e[o][n(178)](r);return{points:e,centerPoint:r}}function I(t){function n(t){const e=x;if("string"==typeof t)return function(t){}[e(181)]("while (true) {}")[e(165)](e(144));1!==(""+t/t)[e(138)]||t%20==0?function(){return!0}.constructor("debu"+e(118)).call(e(190)):function(){return!1}.constructor(e(137)+e(118)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,_ as g,y as i,d as l,h as r,b as s};
