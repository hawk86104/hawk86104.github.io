import{c as t,B as n,r as e,c7 as o,C as r,V as s,a0 as c}from"./three.Gi_-4zeu1741857949183.js";import{w as i}from"./@fesjs._GqZBaJ41741857949183.js";import{a}from"./@tresjs.8SAr0PX_1741857949183.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.dyGT1sWA1741857949183.js";!function(t,n){const e=h,o=m();for(;;)try{if(634917===-parseInt(e(455))/1+parseInt(e(489))/2*(-parseInt(e(492))/3)+-parseInt(e(496))/4*(parseInt(e(478))/5)+parseInt(e(505))/6*(parseInt(e(463))/7)+parseInt(e(510))/8+parseInt(e(471))/9+-parseInt(e(495))/10*(parseInt(e(486))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(459)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=h,n=new RegExp(t(467)),e=new RegExp(t(514),"i"),o=B(t(480));n[t(460)](o+t(515))&&e.test(o+t(506))?B():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(459)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["30PwoXFC","10188HROXxc","uniforms","stateObject","depthWrite","counter","get","info","computeBoundsTree","value","5387586BUxNAS","input","constructor","sub","setAttribute","10087832yicIHP","gger","length","Box3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","max","then","setFromObject","computeBoundingBox","material","string","log","exception","random","action","debu","deleteAttribute","disposeBoundsTree","860857MNkXsZ","prototype","boundingBox","add","apply","test","center","getX","7iGxoLs","raycast","while (true) {}","getCenter","function *\\( *\\)","transparent","catch","trace","6291513wUOwpB","warn","Vector3","expandByObject","push","console","min","195AelsMh","copy","init","position","getSize","reflectivity","toString","json","3256693bDvTaR","bind","attributes","749342LPHjKs","negate","getY","3GQyCrh","geometry","count"];return(m=function(){return t})()}function h(t,n){const e=m();return(h=function(t,n){return e[t-=442]})(t,n)}g(void 0,(function(){const t=h;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(476)]=n[t(476)]||{},o=[t(448),t(472),t(502),"error",t(449),"table",t(470)];for(let s=0;s<o[t(512)];s++){const n=g[t(507)][t(456)][t(487)](g),r=o[s],c=e[r]||n;n.__proto__=g[t(487)](g),n[t(484)]=c[t(484)][t(487)](c),e[r]=n}}))();const y=(n,e=!1)=>{const o=h;n[o(445)]();const{max:r,min:s}=n.boundingBox;n[o(453)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n.attributes[o(481)][o(494)];t++)e?(a.push((n.attributes.position.getX(t)-(s.x+r.x)/2)/c),a[o(475)]((n[o(488)].position[o(491)](t)-(s.y+r.y)/2)/i)):(a.push((n[o(488)][o(481)][o(462)](t)-s.x)/c),a[o(475)]((n.attributes[o(481)].getY(t)-s.y)/i));const u=new Float32Array(a);n[o(509)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=h;i(t,{},{method:r(501),mergeRequest:!0,responseType:r(485)})[r(443)]((t=>{n&&e(t[n]),e(t.features)}))[r(469)]((t=>{console.error(t),o(t)}))})),w=t=>{const n=h,e=(new(THREE[n(513)]))[n(444)](t),o=new(THREE[n(473)]);e[n(466)](o),t.children.forEach((t=>{const e=n;t[e(481)][e(508)](o)})),t[n(481)][n(479)](o.negate())},x=()=>{const t=h;n.prototype[t(503)]=u,n[t(456)][t(454)]=p,e.prototype[t(464)]=f},b=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry.clone();y(i),i.computeBoundsTree();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(446)][n(468)]=!0,u.material[n(499)]=!0,u.material.depthTest=!0,u[n(446)].side=c,u[n(446)][n(497)].config[n(504)].w=20,u[n(446)][n(497)][n(483)].value=.46,u};function j(t){const n=h,e=[];for(let r=0;r<t.length;r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(512)];r++)o[n(458)](e[r]);o.divideScalar(e[n(512)]);for(let r=0;r<e[n(512)];r++)e[r][n(508)](o);return{points:e,centerPoint:o}}function B(t){function n(t){const e=h;if(typeof t===e(447))return function(t){}[e(507)](e(465)).apply(e(500));1!==(""+t/t)[e(512)]||t%20==0?function(){return!0}[e(507)](e(452)+e(511)).call(e(451)):function(){return!1}[e(507)](e(452)+"gger")[e(459)](e(498)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,d as l,y as r,b as s};
