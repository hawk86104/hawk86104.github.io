import{_ as t,bI as n,C as o}from"./three.KG0QRRig1731552996711.js";import{b as r}from"./@tresjs.01P8tiuF1731552996711.js";import{d as e,b as a,a6 as c,w as s,o as u,D as i,J as f,aj as l,ak as p}from"./@vue.-THQH3GC1731552996711.js";function d(){const t=["ShaderChunk","shadowmap_pars_fragment","1289844ilCCvY","constructor","1185qWGSgP",'{}.constructor("return this")( )',"330029XMuDvb","stateObject","action","info","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n      \t","gger","length","warn","63680PITXlL","apply","chain","trace","47378qjefuV","40dtvLQj","defaultnormal_vertex","return (function() ","shadowmap_pars_vertex","704ITAeFk","1864917KBlpmD","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","lights_pars_begin","while (true) {}","bind","toString","function *\\( *\\)","packing","test","prototype","\n       void main() {\n\t\t\t\t\t","error","call","string","init","console","debu","\n          ","7YDjzGO","__proto__","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","begin_vertex","shadowmap_vertex","project_vertex","beginnormal_vertex","common","worldpos_vertex","\n\t ","190240rqkjCD","exception","bsdfs"];return(d=function(){return t})()}!function(t,n){const o=g,r=d();for(;;)try{if(125383===parseInt(o(458))/1*(-parseInt(o(434))/2)+parseInt(o(475))/3*(parseInt(o(439))/4)+parseInt(o(430))/5+-parseInt(o(473))/6+-parseInt(o(477))/7*(-parseInt(o(435))/8)+parseInt(o(440))/9+-parseInt(o(468))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(431)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(t,n){const o=d();return(g=function(t,n){return o[t-=423]})(t,n)}!function(){h(this,(function(){const t=g,n=new RegExp(t(446)),o=new RegExp(t(441),"i"),r=_(t(454));n[t(448)](r+t(432))&&o[t(448)](r+"input")?_():r("0")}))()}();const v=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(431)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=g;let n;try{n=Function(t(437)+t(476)+");")()}catch(e){n=window}const o=n.console=n[t(455)]||{},r=["log",t(429),t(424),t(451),t(469),"table",t(433)];for(let a=0;a<r[t(428)];a++){const n=v[t(474)][t(449)].bind(v),e=r[a],c=o[e]||n;n[t(459)]=v[t(444)](v),n[t(445)]=c[t(445)][t(444)](c),o[e]=n}}))();const m=()=>{const o=g;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(471)][o(465)]+o(426)+t[o(471)][o(470)]+o(426)+t[o(471)][o(438)]+o(450)+t[o(471)][o(464)]+o(457)+t[o(471)][o(436)]+o(457)+n[o(461)]+o(457)+t[o(471)][o(463)]+o(457)+t[o(471)][o(466)]+o(457)+t[o(471)][o(462)]+o(460)},w=()=>{const o=g;return o(425)+t[o(471)].common+o(467)+t[o(471)][o(447)]+o(467)+t[o(471)].bsdfs+o(467)+t[o(471)][o(442)]+o(467)+n[o(472)]+o(467)+t[o(471)].shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function _(t){function n(t){const o=g;if(typeof t===o(453))return function(t){}.constructor(o(443)).apply("counter");1!==(""+t/t)[o(428)]||t%20==0?function(){return!0}.constructor(o(456)+o(427))[o(452)](o(423)):function(){return!1}.constructor(o(456)+o(427)).apply(o(478)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=x;!function(t,n){const o=x,r=j();for(;;)try{if(432449===parseInt(o(499))/1+-parseInt(o(489))/2*(parseInt(o(460))/3)+parseInt(o(493))/4+-parseInt(o(472))/5*(-parseInt(o(479))/6)+-parseInt(o(507))/7+parseInt(o(463))/8+-parseInt(o(505))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(503)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function x(t,n){const o=j();return(x=function(t,n){return o[t-=451]})(t,n)}!function(){I(this,(function(){const t=x,n=new RegExp(t(459)),o=new RegExp(t(494),"i"),r=k(t(470));n[t(462)](r+"chain")&&o[t(462)](r+"input")?k():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(503)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(457)+t(497)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(496)]||{},r=[t(455),"warn",t(476),"error",t(502),t(471),t(451)];for(let e=0;e<r.length;e++){const n=y[t(469)][t(478)].bind(y),a=r[e],c=o[a]||n;n[t(468)]=y[t(501)](y),n.toString=c[t(498)][t(501)](c),o[a]=n}}))();const S=["rotation-x"],C=[b(477)];function j(){const t=["TresPlaneGeometry","log","shadowColor","return (function() ","color","function *\\( *\\)","21XvkOuK","tmRef","test","6347952cGzIYv","uShadowColor","#999","action","lights","__proto__","constructor","init","table","2415dtCIBf","edge","counter","UniformsLib","info","args","prototype","4944PverlW","gger","uniforms","wrapS","whiteFloorMesh","fEdge","RepeatWrapping","size","string","debu","219876IsSMeJ","TresShaderMaterial","while (true) {}","UniformsUtils","299620blFTrI","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uColor","console",'{}.constructor("return this")( )',"toString","411072PaQjFB","Color","bind","exception","apply","DoubleSide","3811158boNDmD","length","363902tcfLSt","trace","TresMesh","value"];return(j=function(){return t})()}const T=e({__name:b(483),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:b(465)},edge:{default:.35}},async setup(n){const e=b;let d,h;const g=n,v=a(),{map:_}=([d,h]=c((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,h(),d);_[e(482)]=_.wrapT=t[e(485)];const I={uniforms:t[e(492)].merge([t[e(475)][e(467)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(500)])(g[e(458)])},uShadowColor:{value:new(t[e(500)])(g[e(456)])},fEdge:{type:"f",value:g.edge}}]),side:t[e(504)],vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return s((()=>g[e(473)]),(t=>{const n=e;I[n(481)][n(484)][n(453)]=t})),s((()=>g[e(458)]),(t=>{const n=e;I[n(481)][n(495)].value=new o(g[n(458)])})),s((()=>g[e(456)]),(n=>{const o=e;I[o(481)][o(464)].value=new(t[o(500)])(g.shadowColor)})),(t,n)=>{const o=e;return u(),i(o(452),{ref_key:o(461),ref:v,"rotation-x":-Math.PI/2},[f(o(454),{args:g[o(486)]},null,8,C),f(o(490),l(p(I)),null,16)],8,S)}}});function k(t){function n(t){const o=x;if(typeof t===o(487))return function(t){}.constructor(o(491))[o(503)](o(474));1!==(""+t/t)[o(506)]||t%20==0?function(){return!0}[o(469)](o(488)+"gger").call(o(466)):function(){return!1}[o(469)]("debu"+o(480))[o(503)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
