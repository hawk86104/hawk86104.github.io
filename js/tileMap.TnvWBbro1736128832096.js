import{_ as t,cF as n,ak as e,am as o}from"./three.8H01GNxA1736128832096.js";import{P as r}from"./tweakpane.yHWGBmom1736128832096.js";import{m as s,e as i}from"./@tresjs.pA0fT6uQ1736128832096.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.ntbvDV4I1736128832096.js";import{d,a1 as g,w as h,o as j,D as b,u as w,X as v,r as x,e as y,j as I,g as B,f as M,m as _,al as z,F as C}from"./@vue.yG49nQHr1736128832096.js";import{_ as S}from"./raycasterEvent.DVDfEovl1736128832096.js";import{a as k}from"./utils.zosTyKXz1736128832096.js";import"./@vueuse.iB8cUOAP1736128832096.js";import"./@mapbox.qvJ1zWc41736128832096.js";import"./@amap.xuzEumYH1736128832096.js";import"./three-mesh-bvh.glnR9Dt01736128832096.js";import"./three-custom-shader-material.rJQtaDBw1736128832096.js";import"./@fesjs.egESxg6m1736128832096.js";import"./vue-router.9xKClDNR1736128832096.js";import"./lodash-es.kYt-_xTG1736128832096.js";import"./@qlin.yHhFDldE1736128832096.js";import"./pinia.fYculRKX1736128832096.js";import"./vue-demi.C4xddsk91736128832096.js";import"./@floating-ui.BPbuo5Gx1736128832096.js";import"./@juggle.7yjBMqoW1736128832096.js";import"./@tweenjs.J1BAvmPw1736128832096.js";import"./utils.m6d-s5_F1736128832096.js";import"./d3-geo.N3qqwUlx1736128832096.js";import"./d3-array.AhNJy1f41736128832096.js";import"./http.rrwr2fOQ1736128832096.js";import"./axios.Ng308AU61736128832096.js";import"./color.HUEJcjxq1736128832096.js";import"./color-string.gamMM5y-1736128832096.js";import"./color-name.bVW5Ex2j1736128832096.js";import"./simple-swizzle.SnTK6Ee51736128832096.js";import"./is-arrayish.g383arK51736128832096.js";import"./color-convert.m1C-lGo-1736128832096.js";import"./lodash.QOBIcS0M1736128832096.js";import"./naive-ui.kGNLdckd1736128832096.js";import"./date-fns.dsKIdits1736128832096.js";import"./@css-render.b0kr2zSQ1736128832096.js";import"./seemly.SjiSeX2v1736128832096.js";import"./css-render.Al7TzvoC1736128832096.js";import"./@emotion.ZD_ZYAgY1736128832096.js";import"./vooks.7vE4Mvtx1736128832096.js";import"./evtd.DtfwxtIl1736128832096.js";import"./vueuc.yomfEHGP1736128832096.js";import"./vdirs.AnO5xsx_1736128832096.js";import"./treemate.dcEdf2le1736128832096.js";import"./date-fns-tz.kn75QV4A1736128832096.js";import"./async-validator.-YBkpS4I1736128832096.js";const A=D;!function(t,n){const e=D,o=F();for(;;)try{if(192849===parseInt(e(474))/1+-parseInt(e(450))/2+parseInt(e(469))/3*(parseInt(e(455))/4)+parseInt(e(441))/5+parseInt(e(471))/6*(parseInt(e(442))/7)+-parseInt(e(443))/8*(-parseInt(e(446))/9)+-parseInt(e(488))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(479)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=D,n=new RegExp(t(499)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=L(t(468));n[t(491)](o+t(454))&&e[t(491)](o+t(485))?L():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(479)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=F();return(D=function(t,n){return e[t-=441]})(t,n)}R(void 0,(function(){const t=D;let n;try{n=Function(t(484)+t(493)+");")()}catch(r){n=window}const e=n[t(486)]=n[t(486)]||{},o=[t(462),t(510),t(448),t(451),"exception","table","trace"];for(let s=0;s<o[t(460)];s++){const n=R[t(508)].prototype[t(504)](R),r=o[s],i=e[r]||n;n.__proto__=R[t(504)](R),n.toString=i[t(449)].bind(i),e[r]=n}}))();const Z=["object","rotation"],E=d({__name:A(456),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const r=A,f=e,{renderer:d,scene:v}=s();(new a)[r(482)]=c;const x=new u;x[r(498)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",x.coordType=c;const y=new p;y[r(498)]=r(473),y.showTileNo=!1,y[r(487)]=!0;const I=new l(x,y);if(I[r(505)]=!1,I[r(480)]=!1,I[r(472)]=!1,I.useStandardMaterial=!1,I.filter={opposite:f[r(509)],monochrome:f[r(502)]?{r:.299,g:.587,b:.114}:null,genBright:f.genBright,genContrast:f[r(501)],genSaturation:f.genSaturation},f[r(475)]){let n=new(t[r(507)])(f.monochrome);I[r(481)]&&(I[r(481)][r(475)]={r:n.r,g:n.g,b:n.b})}const B=new m;B[r(476)]=I,B[r(512)]=f[r(512)],B[r(506)]=f.maxZoom;const M=new(t[r(444)])(60,window[r(465)]/window[r(477)],1,1e8);M.up=new(t[r(457)])(0,1,0),M[r(497)].set(f[r(483)][0],f.mapCenter[2],-f.mapCenter[1]),M[r(511)](new(t[r(457)])(M[r(497)].x,0,M[r(497)].z-2e3)),B.camera=M;let _=null;g((()=>{const t=r;d[t(445)]&&!_&&(_=new n(M,d[t(445)][t(470)]),_.enableDamping=!0,_[t(492)]=.05,_.minDistance=600,_[t(461)].set(M[t(497)].x,M.position.y,M[t(497)].z),_[t(503)][t(495)](M.position.x,0,M.position.z-2e3))})),h((()=>[f[r(509)],f.isMonochrome,f[r(475)]]),(([n,e,o])=>{const s=r;if(I[s(481)]){let r=new(t[s(507)])(o);I.filter[s(509)]=n,I[s(481)][s(475)]=e?{r:r.r,g:r.g,b:r.b}:null}})),h((()=>[f[r(467)],f[r(501)],f.genSaturation]),(([t,n,e])=>{const o=r;I[o(481)]&&(I[o(481)].genBright=t,I[o(481)][o(501)]=n,I[o(481)][o(496)]=e)}));const{onLoop:z}=i();return z((()=>{var t;const n=r;if(d.value){null==(t=f[n(459)])||t.update(),_&&_[n(489)](),B[n(489)]();const e=50*Math[n(490)](M[n(497)].y);M[n(500)]=e+5e3,M[n(478)](),d[n(445)][n(464)](v[n(445)],M)}})),o({camera:M,map:B,orbitControl:_}),(t,n)=>(j(),b("primitive",{object:w(B),rotation:[-Math.PI/2,0,0]},null,8,Z))}});function L(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(508)](e(466))[e(479)](e(452));1!==(""+t/t)[e(460)]||t%20==0?function(){return!0}.constructor("debugger")[e(494)](e(453)):function(){return!1}.constructor(e(447)+e(458)).apply(e(463)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function F(){const t=["664816jsbays","tileMapMesh","Vector3","gger","tweenInstance","length","position0","log","stateObject","render","innerWidth","while (true) {}","genBright","init","3VLxbSk","domElement","102wcYfhV","flatShading","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","186795jBJUeA","monochrome","provider","innerHeight","updateProjectionMatrix","apply","wireframe","filter","coordType","mapCenter","return (function() ","input","console","useWorker","5495340dfDOpT","update","abs","test","dampingFactor",'{}.constructor("return this")( )',"call","set","genSaturation","position","source","function *\\( *\\)","far","genContrast","isMonochrome","target","bind","showBoundingBox","maxZoom","Color","constructor","opposite","warn","lookAt","bbox","497485hWYwBA","152327IreLDr","88rJzKuV","PerspectiveCamera","value","96912JRlspM","debu","info","toString","396996BvIlvn","error","counter","action","chain"];return(F=function(){return t})()}!function(t,n){const e=W,o=V();for(;;)try{if(424321===-parseInt(e(205))/1*(parseInt(e(209))/2)+-parseInt(e(196))/3+-parseInt(e(216))/4+parseInt(e(221))/5+parseInt(e(218))/6*(-parseInt(e(224))/7)+-parseInt(e(199))/8*(-parseInt(e(206))/9)+parseInt(e(231))/10*(parseInt(e(253))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=W,n=new RegExp(t(236)),e=new RegExp(t(211),"i"),o=X(t(230));n[t(228)](o+"chain")&&e.test(o+t(225))?X():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(217)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(){const t=["17171RpeyoZ","counter","1648716IMBEAa","Vector3","bind","1900648LuXdfv","#201919","#4688b5","list","orbitControl","牛首山","17mooYRD","27JtTzHT","while (true) {}","return (function() ","29738FGLAAg","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tweenInstance","isMonochrome","genBright","addBinding","111624JfinXc","apply","19290XrDDpB","info","warn","3698555UBjVvT","length","genContrast","560QhYuip","input",'{}.constructor("return this")( )',"新街口","test","对比度","init","380sPrygT","log","manual","value","error","function *\\( *\\)","tileMapMeshRef","prototype","TresCanvas","constructor","nss","change","call","__proto__","exception","gger","camera","table","xjk","addBlade","monochrome","console"];return(V=function(){return t})()}P(void 0,(function(){const t=W;let n;try{n=Function(t(208)+t(226)+");")()}catch(r){n=window}const e=n[t(252)]=n.console||{},o=[t(232),t(220),t(219),t(235),t(245),t(248),"trace"];for(let s=0;s<o[t(222)];s++){const n=P[t(240)][t(238)][t(198)](P),r=o[s],i=e[r]||n;n[t(244)]=P.bind(P),n[t(210)]=i[t(210)][t(198)](i),e[r]=n}}))();const Y=d({__name:"tileMap",setup(n){const s=W,i=f(118.779958,32.017136),a=[i[0],i[1],5e3],c=v(),u=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:s(201),mapCenter:a,tweenInstance:null}),p=new r({title:"参数"});p[s(215)](u,"opposite",{label:"反色"}),p[s(215)](u,s(214),{label:"高亮",min:.1,max:3,step:.1}),p[s(215)](u,s(223),{label:s(229),min:.1,max:3,step:.1}),p.addBinding(u,"genSaturation",{label:"饱和度",min:.1,max:3,step:.1}),p[s(215)](u,s(213),{label:"单色滤镜"}),p.addBinding(u,s(251),{label:"滤镜颜色"});const l={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p[s(250)]({view:s(202),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:s(227),value:s(249)},{text:s(204),value:s(241)}],value:"at"}).on(s(242),(n=>{const e=s,o=new(t[e(197)])(l[n[e(234)]][0],2e3,-l[n[e(234)]][1]);u[e(212)]=k(c.value[e(247)],o,c[e(234)][e(203)],[0,-300],4e3)}));const m=x({clearColor:s(200),antialias:!0,logarithmicDepthBuffer:!0,renderMode:s(233),outputColorSpace:e,toneMapping:o});return setTimeout((()=>{const n=s,e=l.at,o=new(t[n(197)])(e[0],1600,-e[1]);u[n(212)]=k(c[n(234)][n(247)],o,c[n(234)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=s,o=y(e(239));return j(),b(C,null,[I(o,_(m,{"window-size":""}),{default:B((()=>[(j(),M(z,null,{default:B((()=>[I(E,_(u,{ref_key:e(237),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(S,{tileMapRef:c[e(234)]},null,8,["tileMapRef"])],64)}}});function W(t,n){const e=V();return(W=function(t,n){return e[t-=195]})(t,n)}function X(t){function n(t){const e=W;if("string"==typeof t)return function(t){}.constructor(e(207))[e(217)](e(195));1!==(""+t/t)[e(222)]||t%20==0?function(){return!0}[e(240)]("debugger")[e(243)]("action"):function(){return!1}[e(240)]("debu"+e(246)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
