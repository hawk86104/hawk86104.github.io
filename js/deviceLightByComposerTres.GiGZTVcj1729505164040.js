import{$ as t,C as n,bU as e,ak as r,am as o}from"./three.YREzp-_G1729505164040.js";import{p as s,U as i,q as a,Y as c}from"./@tresjs.IsKybBdF1729505164040.js";import{P as u}from"./tweakpane.yHWGBmom1729505164040.js";import{r as l,u as f}from"./device.piXWR1Jl1729505164040.js";import{d as p,a4 as d,a3 as h,o as m,E as g,L as b,u as y,F as _,r as w,e as I,f as v,g as j,j as x,aj as O,ak as k,al as C,m as S}from"./@vue.JNsx1iN61729505164040.js";import"./@vueuse.9dhnH8nd1729505164040.js";const T=E;!function(t,n){const e=E,r=R();for(;;)try{if(385589===-parseInt(e(148))/1*(parseInt(e(129))/2)+parseInt(e(171))/3*(parseInt(e(180))/4)+-parseInt(e(176))/5+-parseInt(e(141))/6+parseInt(e(166))/7*(parseInt(e(163))/8)+-parseInt(e(156))/9*(-parseInt(e(155))/10)+parseInt(e(154))/11*(-parseInt(e(157))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(179)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function R(){const t=["rotation","primitive","info","chain","toString","traverse","test","2179134OYvgwi","trace","getObjectByName","table","prototype","length","threshold","296405jPbvHv","warn","return (function() ","hull_turbine","action","input","11VywlSR","80mKWrqy","123921UtsOSx","1730064ytJGhT","uuid","string","ByComposerTres","exception","console","8soQVpY","call","isMesh","2711891IORuFG","object","strength","render","function *\\( *\\)","9IMQdfc","__proto__","debu",'{}.constructor("return this")( )',"width","239165OOpBpF","Sketchfab_model","height","apply","986164GYxZxy","log","constructor","counter","gger","radius","value","2ZJWubd","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","material","error"];return(R=function(){return t})()}!function(){B(this,(function(){const t=E,n=new RegExp(t(170)),e=new RegExp(t(130),"i"),r=z("init");n[t(140)](r+t(137))&&e[t(140)](r+t(153))?z():r("0")}))()}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(179)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function E(t,n){const e=R();return(E=function(t,n){return e[t-=124]})(t,n)}A(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(150)+t(174)+");")()}catch(e){n=window}return n}(),e=n[t(162)]=n[t(162)]||{},r=[t(181),t(149),t(136),t(133),t(161),t(144),t(142)];for(let o=0;o<r[t(146)];o++){const n=A.constructor[t(145)][t(131)](A),s=r[o],i=e[s]||n;n[t(172)]=A.bind(A),n[t(138)]=i[t(138)][t(131)](i),e[s]=n}}))();const L=[T(167)],P=[T(167)],Z=p({__name:T(160),props:{threshold:{default:0},strength:{default:.972},radius:{default:.21}},async setup(e){const r=T;let o,c;const u=e,{nodes:p}=([o,c]=d((()=>a("./plugins/industry4/model/modelDraco.glb",{draco:!0,decoderPath:"./draco/"}))),o=await o,c(),o),w=l(p.Sketchfab_model),{camera:I,renderer:v,scene:j,sizes:x}=s();let O=null,k=null,C=null;const S=new t({color:"black"});h((()=>{const t=E;if(I[t(128)]){const{finalComposer:n,effectComposer:e,bloomPass:r}=f(j[t(128)],I.value,v[t(128)],x[t(175)][t(128)],x[t(178)][t(128)]);O=n,k=e,C=r,C[t(147)]=u[t(147)],C[t(168)]=u[t(168)],C.radius=u[t(127)]}u[t(147)]&&(C[t(147)]=u[t(147)]),u[t(168)]&&(C[t(168)]=u.strength),u[t(127)]&&(C[t(127)]=u[t(127)])}));const B={},{onLoop:R,onAfterLoop:A}=i();let Z=p[r(177)][r(143)]("canister_turbine_011_Nickel-Light-PBR_0"),z=Z.material.clone(),F=new t({color:new n("red"),transparent:!0,opacity:1});return R((({elapsed:t})=>{const n=r;p[n(151)]&&(p.hull_turbine[n(134)].x+=.03,p.blades_turbine_003[n(134)].x+=.03),Math.floor(t)%2?Z[n(132)]=z:Z.material=F})),A((({elapsed:t})=>{const n=r;k&&(j[n(128)].traverse((t=>{(t=>{const n=E;t[n(165)]&&(B[t.uuid]=t[n(132)],t[n(132)]=S)})(t)})),k.render(t)),O&&(j[n(128)][n(139)]((t=>{(t=>{const n=E;B[t[n(158)]]&&(t[n(132)]=B[t[n(158)]],delete B[t[n(158)]])})(t)})),O[n(169)](t))})),(t,n)=>{const e=r;return m(),g(_,null,[b(e(135),{object:y(p)[e(177)]},null,8,L),b("primitive",{object:y(w)},null,8,P)],64)}}});function z(t){function n(t){const e=E;if(typeof t===e(159))return function(t){}[e(124)]("while (true) {}")[e(179)](e(125));1!==(""+t/t).length||t%20==0?function(){return!0}[e(124)]("debu"+e(126))[e(164)](e(152)):function(){return!1}[e(124)](e(173)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=M;function M(t,n){const e=J();return(M=function(t,n){return e[t-=124]})(t,n)}!function(t,n){const e=M,r=J();for(;;)try{if(998702===-parseInt(e(124))/1+-parseInt(e(153))/2*(parseInt(e(130))/3)+parseInt(e(142))/4+parseInt(e(143))/5+-parseInt(e(168))/6+-parseInt(e(146))/7+-parseInt(e(159))/8*(-parseInt(e(160))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[M(157)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=M,n=new RegExp(t(154)),e=new RegExp(t(137),"i"),r=V(t(165));n.test(r+t(156))&&e[t(144)](r+t(166))?V():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[M(157)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();$(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function("return (function() "+t(152)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(125)]||{},r=[t(138),t(162),t(135),t(150),t(128),"table","trace"];for(let o=0;o<r.length;o++){const n=$[t(126)].prototype[t(147)]($),s=r[o],i=e[s]||n;n[t(141)]=$[t(147)]($),n[t(132)]=i[t(132)][t(147)](i),e[s]=n}}))();const q=b(F(129),{position:[5,5,5],fov:45,near:1,far:1e3},null,-1),D=b("TresAmbientLight",{color:F(133),intensity:"40"},null,-1),G=b(F(134),{position:[0,2,-4],intensity:1},null,-1);function J(){const t=["log","TresCanvas","strength","__proto__","5748496YPbZxE","2154770tlIlMO","test","radius","8642487OIDnTS","bind","length","addBinding","error","addBlade",'{}.constructor("return this")( )',"2pepwBY","function *\\( *\\)","action","chain","apply","deviceLightByComposerTres","15298088XBrEXm","9gDaGiA","counter","warn","call","stateObject","init","input","gger","1459542kSpJVO","946770qWCynH","console","constructor","post-processing","exception","TresPerspectiveCamera","1070907qdFxXb","debu","toString","#ffffff","TresDirectionalLight","info","text","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(J=function(){return t})()}const U=p({__name:F(158),setup(t){const n=F,s=w({clearColor:"#000",shadows:!0,alpha:!1,shadowMapType:e,outputColorSpace:r,toneMapping:o}),i=w({autoRotate:!0}),a=w({threshold:0,strength:.972,radius:.21}),l=new u({title:"参数"});return l[n(149)](a,"threshold",{label:"阈值",min:0,max:1,step:.1}),l[n(149)](a,n(140),{label:"强度",min:0,max:3,step:.2}),l[n(149)](a,n(145),{label:"半径",min:0,max:1,step:.1}),l[n(151)]({view:n(136),label:n(127),parse:t=>String(t),value:"未完成：等待Tresjs库更新"}),(t,e)=>{const r=I(n(139));return m(),v(r,S(s,{"window-size":""}),{default:j((()=>[q,x(y(c),O(k(i)),null,16),D,G,(m(),v(C,null,{default:j((()=>[x(Z,O(k(a)),null,16)])),_:1}))])),_:1},16)}}});function V(t){function n(t){const e=M;if("string"==typeof t)return function(t){}[e(126)]("while (true) {}").apply(e(161));1!==(""+t/t)[e(148)]||t%20==0?function(){return!0}[e(126)](e(131)+e(167))[e(163)](e(155)):function(){return!1}[e(126)](e(131)+e(167))[e(157)](e(164)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
