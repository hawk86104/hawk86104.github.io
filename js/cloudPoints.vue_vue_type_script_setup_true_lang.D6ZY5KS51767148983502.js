import{importShared as a}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";const{defineComponent:p}=await a("vue"),{unref:l,openBlock:m,createElementBlock:f}=await a("vue"),u=["object"],{Points:n,PointsMaterial:d,Mesh:_,Group:y,Color:v}=await a("three"),{watchEffect:w}=await a("vue"),M=p({__name:"cloudPoints",props:{model:{},color:{default:"#FFF"},opacity:{default:1},isRemoveSrc:{type:Boolean,default:!1}},setup(i){const o=i,t=new y;return o.model.traverse(e=>{if(e instanceof _){const c=e.geometry.clone();e.geometry.dispose(),e.material.dispose();const r=new d({color:o.color});r.opacity=o.opacity,r.transparent=!0;const s=new n(c,r);t.add(s),o.model.parent&&t.applyMatrix4(o.model.parent.matrix),o.isRemoveSrc&&e.removeFromParent()}}),w(()=>{o.color&&t.traverse(e=>{e instanceof n&&(e.material.color=new v(o.color))}),o.opacity&&t.traverse(e=>{e instanceof n&&(e.material.opacity=o.opacity)})}),(e,c)=>(m(),f("primitive",{object:l(t)},null,8,u))}});export{M as _sfc_main};
