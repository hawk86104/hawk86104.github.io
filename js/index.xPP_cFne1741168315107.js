var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,h as u,r as a,F as f,b as h,M as p,B as l,Y as g,s as d,c as w,ak as I,aK as v,$ as y,cw as b}from"./three.FxqAALWt1741168315107.js";import{g as m,b as x,t as _}from"./@mapbox.lMdYodhq1741168315107.js";import{c as M,d as F,a as Z}from"./three-mesh-bvh.304c-5N01741168315107.js";import{z as R}from"./three-custom-shader-material.q4QTPw9f1741168315107.js";const k=A;!function(t,n){const r=A,e=P();for(;;)try{if(307942===-parseInt(r(402))/1*(-parseInt(r(398))/2)+-parseInt(r(370))/3+parseInt(r(419))/4+-parseInt(r(386))/5+parseInt(r(427))/6*(parseInt(r(399))/7)+parseInt(r(393))/8+-parseInt(r(416))/9*(parseInt(r(382))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const T=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[A(417)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){T(this,(function(){const t=A,n=new RegExp(t(404)),r=new RegExp(t(410),"i"),e=S(t(394));n.test(e+t(395))&&r.test(e+"input")?S():e("0")}))()}();const j=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[A(417)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function P(){const t=["log","return (function() ","setFromObject","material","applyMatrix4","ready","map","toString","3470grABFC","add","provider","dispose","261690OtJxMF","simplify","length","stateObject","parentTile","subdivide","content","4644176usRtmI","init","chain","forEach","isDisposed","18SGjuUL","7GWRKOA","maxZoom","tileNo","21157WqzvkD","childrenTiles","function *\\( *\\)","while (true) {}","trace","prototype","isReady","abort","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getTile","pow","__proto__","action","boundingBoxWorld","13311hGYwiI","apply","t_Matrix","1387032gyZfqW","getTranMatrix","visible","renderOrder","distanceToPoint","debu","exception","warn","785466fjYVeO","gger","constructor","console","value","freeze","filter","1125333wEyuOh","update","counter","uniforms"];return(P=function(){return t})()}j(void 0,(function(){const t=A;let n;try{n=Function(t(375)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(430)]=n[t(430)]||{},e=[t(374),t(426),"info","error",t(425),"table",t(406)];for(let i=0;i<e.length;i++){const n=j[t(429)][t(407)].bind(j),o=e[i],s=r[o]||n;n[t(413)]=j.bind(j),n[t(381)]=s[t(381)].bind(s),r[o]=n}}))();class z extends c{constructor(){const t=A;super(),this[t(397)]=!1,this[t(408)]=!1,this[t(403)]=[],this[t(415)]=new u}[k(394)](t,n,r){const e=k;this[e(401)]=t,Object[e(368)](this.tileNo),this.map=n,this[e(390)]=r,this[e(421)]=!1,this[e(422)]=t[2],this[e(379)]()}async[k(379)](){const t=k;if(this[t(392)]=await this[t(380)][t(384)][t(411)](this[t(401)]),!this[t(397)]){if(this.add(this[t(392)]),this[t(415)][t(376)](this[t(392)])[t(378)](this.matrixWorld.makeRotationX(-Math.PI/2)),this[t(380)][t(383)](this),this[t(421)]=!0,this[t(408)]=!0,this[t(390)]){const n=this[t(390)][t(403)];let r=0;for(let e=0;e<n[t(388)];e++)n[e][t(408)]&&r++;4===r&&(this[t(390)][t(421)]=!1)}this[t(371)]()}}[k(371)](){const t=k;if(!this[t(408)]||this[t(397)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this.map;if(!n.intersectsBox(this[t(415)]))return void this[t(387)]();this.content instanceof a&&this[t(380)][t(384)][t(369)]&&(this[t(392)][t(377)][t(373)][t(418)][t(367)]=this[t(380)][t(384)][t(420)]());let e=this[t(415)][t(423)](r);const o=this[t(401)][2];e/=Math[t(412)](2,this[t(380)][t(384)][t(400)]-o),e<60&&this[t(391)](),e>80&&this[t(387)]();this[t(403)].sort(((n,e)=>n[t(415)].distanceToPoint(r)-e[t(415)][t(423)](r)))[t(396)]((n=>n[t(371)]()))}[k(391)](){const t=k,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(388)]>0||i>=e[t(400)])return;m(r)[t(396)]((n=>{const r=t,i=new z;i[r(394)](n,e,this),o.push(i)}))}[k(387)](){const t=k;this[t(403)][t(396)]((t=>t.dispose())),this[t(403)]=[],this[t(421)]=!0}[k(385)](){const t=k;this.map.remove(this),this[t(380)][t(384)][t(409)](this[t(401)]),this[t(403)].forEach((t=>t.dispose())),this[t(403)]=[],this[t(390)]=void 0,this[t(392)]&&(this[t(380)][t(384)][t(385)](this[t(401)],this.content),this[t(392)]=void 0),this[t(397)]=!0}}function A(t,n){const r=P();return(A=function(t,n){return r[t-=367]})(t,n)}function S(t){function n(t){const r=A;if("string"==typeof t)return function(t){}.constructor(r(405))[r(417)](r(372));1!==(""+t/t).length||t%20==0?function(){return!0}[r(429)](r(424)+"gger").call(r(414)):function(){return!1}[r(429)](r(424)+r(428)).apply(r(389)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const E=C;!function(t,n){const r=C,e=U();for(;;)try{if(548922===-parseInt(r(237))/1+parseInt(r(254))/2+parseInt(r(251))/3*(-parseInt(r(258))/4)+parseInt(r(241))/5+parseInt(r(269))/6*(parseInt(r(233))/7)+-parseInt(r(261))/8+-parseInt(r(234))/9*(-parseInt(r(274))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const O=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(289)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){O(this,(function(){const t=C,n=new RegExp(t(290)),r=new RegExp(t(229),"i"),e=L(t(246));n.test(e+"chain")&&r[t(282)](e+t(278))?L():e("0")}))()}();const W=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(289)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function C(t,n){const r=U();return(C=function(t,n){return r[t-=226]})(t,n)}W(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function("return (function() "+t(277)+");")()}catch(r){n=window}return n}(),r=n[t(266)]=n[t(266)]||{},e=["log",t(239),"info",t(283),t(273),t(285),t(226)];for(let o=0;o<e[t(242)];o++){const n=W[t(272)].prototype[t(288)](W),i=e[o],s=r[i]||n;n[t(270)]=W[t(288)](W),n[t(235)]=s[t(235)].bind(s),r[i]=n}}))();let B=class extends c{constructor(){const t=C;super(),this[t(275)]=[74.390592,6.900905,134.071423,54.318199],this[t(271)]=20,this[t(256)]=0,this[t(257)]=new f,this[t(268)]=new h,this[t(232)]=new p,this[t(287)]=new p,this[t(281)]=new h,this[t(249)]=[],this[t(279)]=0,!l.prototype.computeBoundsTree&&(l[t(248)][t(263)]=M),!l.prototype[t(231)]&&(l.prototype[t(231)]=F),a.prototype[t(240)]=Z}initRootTiles(){const t=C;this[t(256)]>3&&(console.warn("rootForward needs to be 0 - 3."),this[t(256)]=3),this.rootForward<0&&(console[t(239)](t(280)),this.rootForward=0);const n=[];let r=[x(this.bbox)],e=this.rootForward;for(;e>0;){const n=[...r];r=[],n[t(262)]((n=>{const e=t,o=m(n);r[e(228)](...o)})),e--}n[t(228)](...r),n[t(262)]((n=>{const r=t,e=new z;e.init(n,this),this[r(249)][r(228)](e)}))}[E(276)](){const t=E;if(!this[t(236)]||!this[t(260)])return;const n=Date.now();n-this[t(279)]<300||(0!==this[t(249)].length?(this[t(260)][t(255)](this[t(268)]),this[t(232)][t(247)](this.camera[t(245)],this[t(260)][t(259)]),this[t(268)][t(230)](this[t(281)])&&this[t(232)][t(230)](this[t(287)])||(this.cameraFrustum[t(265)](this[t(232)]),this.rootTiles.forEach((n=>n[t(276)]())),this[t(287)][t(227)](this[t(232)]),this[t(281)][t(227)](this.cameraWorldPosition),this[t(279)]=n)):this[t(243)]())}[E(291)](){throw new Error(E(238))}[E(286)](){throw new Error(E(284))}};function U(){const t=["call","string","1047616EEIext","getWorldPosition","rootForward","cameraFrustum","3355180ZjVPni","matrixWorldInverse","camera","8580344bVtHao","forEach","computeBoundsTree","debu","setFromProjectionMatrix","console","while (true) {}","cameraWorldPosition","30sQHSbL","__proto__","maxZoom","constructor","exception","410hZNmBo","bbox","update",'{}.constructor("return this")( )',"input","lastUpdateTime","rootForward needs to be 0 - 3.","lastCameraWorldPosition","test","error","[Map.regenerate] Method not implemented.","table","regenerate","lastCameraProjectionMatrix","bind","apply","function *\\( *\\)","dispose","action","trace","copy","push","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","equals","disposeBoundsTree","cameraProjectionMatrix","155743DlFPGK","367155Ezzvrg","toString","visible","7163eTQGFe","[Map.dispose] Method not implemented.","warn","raycast","798875LiWzac","length","initRootTiles","counter","projectionMatrix","init","multiplyMatrices","prototype","rootTiles","gger","3cLgeGn"];return(U=function(){return t})()}function L(t){function n(t){const r=C;if(typeof t===r(253))return function(t){}.constructor(r(267))[r(289)](r(244));1!==(""+t/t)[r(242)]||t%20==0?function(){return!0}[r(272)]("debu"+r(250))[r(252)](r(292)):function(){return!1}[r(272)](r(264)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const $=Q;!function(t,n){const r=Q,e=J();for(;;)try{if(443328===-parseInt(r(515))/1*(parseInt(r(512))/2)+-parseInt(r(510))/3*(-parseInt(r(532))/4)+-parseInt(r(535))/5+parseInt(r(508))/6*(parseInt(r(496))/7)+-parseInt(r(521))/8+-parseInt(r(523))/9*(parseInt(r(542))/10)+-parseInt(r(534))/11*(-parseInt(r(527))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const D=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Q(490)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){D(this,(function(){const t=Q,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(511),"i"),e=K(t(525));n[t(488)](e+t(497))&&r[t(488)](e+t(543))?K():e("0")}))()}();const N=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Q(490)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();N(void 0,(function(){const t=Q;let n;try{n=Function(t(514)+t(504)+");")()}catch(o){n=window}const r=n[t(491)]=n[t(491)]||{},e=[t(530),t(537),t(498),t(495),t(540),t(538),t(500)];for(let i=0;i<e.length;i++){const n=N[t(492)].prototype[t(520)](N),o=e[i],s=r[o]||n;n.__proto__=N[t(520)](N),n[t(507)]=s[t(507)][t(520)](s),r[o]=n}}))();const V=class t{constructor(){const t=Q;this[t(509)]=new AbortController,this[t(513)]=new Set}[$(519)](c,u={}){const a=$;var f,h;t[a(503)][a(526)](c)||(t.pendings[a(541)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(509)][a(506)]},n(f,r(h)))).then((t=>{const n=a;this[n(513)][n(516)]((r=>r[n(501)](t[n(499)]())))}))[a(517)]((t=>{const n=a;this[n(513)][n(516)]((n=>n.reject(t)))})).finally((()=>{const n=a;t[n(503)][n(493)](c)})))}abort(){const t=$;this._controller[t(531)]()}};V[$(503)]=new Map;let X=V;class G{constructor(t,n){const r=$;this[r(494)]=t,this[r(525)]=n,this[r(502)]=new Promise(((t,n)=>{const e=r;this[e(501)]=t,this[e(533)]=n}))}ready(){const t=$;let n=X.pendings.get(this[t(494)]);return!n&&(n=new X,n[t(519)](this[t(494)],this[t(525)])),n.listeners.add(this),this[t(502)]}[$(531)](){const t=$;this[t(533)](t(539));const n=X[t(503)][t(518)](this[t(494)]);n&&(n[t(513)][t(493)](this),0===n.listeners[t(489)]&&n[t(531)]())}}function Q(t,n){const r=J();return(Q=function(t,n){return r[t-=488]})(t,n)}function J(){const t=["3423552bKiduG","debu","279viYsFG","stateObject","init","has","46008NLhKfI","call","length","log","abort","3036UzeZkp","reject","4477RmTZJP","1157030qFNwWZ","while (true) {}","warn","table","User abort.","exception","set","62540bBpLef","input","test","size","apply","console","constructor","delete","url","error","3224459wIvYSC","chain","info","clone","trace","resolve","promise","pendings",'{}.constructor("return this")( )',"gger","signal","toString","6Hratny","_controller","621MBhZum","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1036xpLoIv","listeners","return (function() ","1702YZwVAU","forEach","catch","get","fetch","bind"];return(J=function(){return t})()}function K(t){function n(t){const r=Q;if("string"==typeof t)return function(t){}[r(492)](r(536))[r(490)]("counter");1!==(""+t/t)[r(529)]||t%20==0?function(){return!0}[r(492)](r(522)+r(505))[r(528)]("action"):function(){return!1}[r(492)](r(522)+r(505))[r(490)](r(524)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=nt,e=H();for(;;)try{if(965040===parseInt(r(362))/1+parseInt(r(354))/2*(-parseInt(r(357))/3)+-parseInt(r(326))/4+-parseInt(r(328))/5+-parseInt(r(317))/6*(-parseInt(r(334))/7)+-parseInt(r(353))/8+-parseInt(r(358))/9*(-parseInt(r(340))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Y=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Y(this,(function(){const t=nt,n=new RegExp(t(339)),r=new RegExp(t(316),"i"),e=rt(t(337));n[t(333)](e+t(348))&&r.test(e+t(319))?rt():e("0")}))()}();const q=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[nt(338)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function H(){const t=["return (function() ","#44FF44","chain","bind","warn","call","console","13754704PZgWAI","692894IpgdhQ","string","debu","6Fxgxqj","612FBkVFH","action","stateObject","blob","348103mMdSVP","getContext","info","fillText","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6fypfog","drawImage","input","gger","#00FFFF","strokeStyle","length","#66AAFF","log","5269280fSRljz","fillStyle","6233365KhYOSQ","toString","error","table",'Offscreencanvas.getContext("2d") error!',"test","4933922Cwwmub","while (true) {}","#FF4444","init","apply","function *\\( *\\)","718870ZLkZLX","__proto__","20px Arial","constructor","rect","prototype"];return(H=function(){return t})()}let tt;function nt(t,n){const r=H();return(nt=function(t,n){return r[t-=316]})(t,n)}function rt(t){function n(t){const r=nt;if(typeof t===r(355))return function(t){}.constructor(r(335)).apply(r(366));1!==(""+t/t).length||t%20==0?function(){return!0}[r(343)](r(356)+r(320))[r(351)](r(359)):function(){return!1}[r(343)]("debugger").apply(r(360)),n(++t)}try{if(t)return n;n(0)}catch(r){}}q(void 0,(function(){const t=nt,n=function(){const t=nt;let n;try{n=Function(t(346)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n.console=n[t(352)]||{},e=[t(325),t(350),t(364),t(330),"exception",t(331),"trace"];for(let o=0;o<e[t(323)];o++){const n=q[t(343)][t(345)].bind(q),i=e[o],s=r[i]||n;n[t(341)]=q[t(349)](q),n[t(329)]=s.toString[t(349)](s),r[i]=n}}))();const et=ut;!function(t,n){const r=ut,e=ct();for(;;)try{if(298551===parseInt(r(285))/1+-parseInt(r(290))/2+parseInt(r(255))/3+parseInt(r(251))/4+parseInt(r(258))/5*(parseInt(r(270))/6)+parseInt(r(259))/7*(-parseInt(r(257))/8)+parseInt(r(278))/9*(-parseInt(r(283))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ot(this,(function(){const t=ut,n=new RegExp(t(266)),r=new RegExp(t(254),"i"),e=at(t(291));n[t(293)](e+t(295))&&r.test(e+t(273))?at():e("0")}))()}();const it=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ut(256)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();it(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(282)+t(269)+");")()}catch(r){n=window}return n}(),r=n[t(253)]=n.console||{},e=[t(263),t(262),"info","error",t(268),"table",t(277)];for(let o=0;o<e[t(274)];o++){const n=it[t(279)][t(267)].bind(it),i=e[o],s=r[i]||n;n[t(286)]=it[t(289)](it),n[t(271)]=s[t(271)][t(289)](s),r[i]=n}}))();class st{constructor(t){const n=ut;this[n(287)]=!0,this[n(288)]=new Map,this[n(292)]=new t,this[n(292)][n(260)]=this[n(252)][n(289)](this),this[n(287)]=!1}async[et(294)](t){const n=et;if(!this[n(287)])return this[n(292)][n(294)](t),new Promise(((r,e)=>{const o=n;this[o(288)][o(265)](t.id,r)}))}[et(252)](t){const n=et,{id:r,error:e}=t[n(280)],o=this.map.get(r);o&&!e&&o(t.data),this.map.delete(r)}[et(272)](){const t=et;this[t(292)][t(260)]=null,this[t(292)][t(272)](),this[t(287)]=!0,this[t(288)][t(281)]()}}function ct(){const t=["exception",'{}.constructor("return this")( )',"4890bicIaP","toString","terminate","input","length","counter","debu","trace","9nGIYLj","constructor","data","clear","return (function() ","5338610phjJUw","string","462345CKLTju","__proto__","terminated","map","bind","55692XfhAwb","init","worker","test","postMessage","chain","566204KAWsZs","onMessage","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","622158KPaRFp","apply","7336XcMDBd","1465FsXjXb","1449VsJKCT","onmessage","gger","warn","log","call","set","function *\\( *\\)","prototype"];return(ct=function(){return t})()}function ut(t,n){const r=ct();return(ut=function(t,n){return r[t-=251]})(t,n)}function at(t){function n(t){const r=ut;if(typeof t===r(284))return function(t){}[r(279)]("while (true) {}")[r(256)](r(275));1!==(""+t/t)[r(274)]||t%20==0?function(){return!0}[r(279)](r(276)+"gger")[r(264)]("action"):function(){return!1}[r(279)]("debu"+r(261))[r(256)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ft(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const ht=dt;!function(t,n){const r=dt,e=gt();for(;;)try{if(723399===-parseInt(r(217))/1+parseInt(r(195))/2+-parseInt(r(194))/3+parseInt(r(162))/4*(-parseInt(r(200))/5)+parseInt(r(211))/6+parseInt(r(214))/7+parseInt(r(172))/8*(parseInt(r(187))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const pt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[dt(176)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){pt(this,(function(){const t=dt,n=new RegExp(t(160)),r=new RegExp(t(203),"i"),e=It(t(174));n.test(e+t(210))&&r[t(177)](e+t(198))?It():e("0")}))()}();const lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function gt(){const t=["string","source","showTileNo","chain","7036764QZCViZ","maxZoom","__proto__","2692683dZSbdr","{z}","{x}","193870bkyNsV","console","join","useWorker","function *\\( *\\)","counter","495236WFKmOB","replace","info","[y]","[x]","delete","while (true) {}","cors","getTile",'{}.constructor("return this")( )',"496VEsZxs","bind","init","return (function() ","apply","test","gger","length","constructor","prototype","dispose","getId","_useWorker","terminate","fetching","98613lzeAgb","warn","postMessage","image","{y}","debu","abort","2958939jDuUyC","2057368lDPvTL","_worker","get","input","toString","55JLZqJs","table","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","getUrl","anisotropy"];return(gt=function(){return t})()}function dt(t,n){const r=gt();return(dt=function(t,n){return r[t-=160]})(t,n)}lt(void 0,(function(){const t=dt,n=function(){const t=dt;let n;try{n=Function(t(175)+t(171)+");")()}catch(r){n=window}return n}(),r=n[t(218)]=n[t(218)]||{},e=["log",t(188),t(164),"error","exception",t(201),"trace"];for(let o=0;o<e[t(179)];o++){const n=lt[t(180)][t(181)][t(173)](lt),i=e[o],s=r[i]||n;n[t(213)]=lt[t(173)](lt),n[t(199)]=s[t(199)][t(173)](s),r[i]=n}}))();class wt{constructor(){const t=dt;this[t(212)]=20,this[t(208)]=t(202),this[t(209)]=!1,this._useWorker=!1,this.fetching=new Map}set[ht(220)](t){var n;const r=ht;this[r(184)]=t,!this[r(184)]&&(null==(n=this[r(196)])||n[r(185)](),this[r(196)]=void 0)}get useWorker(){return this[ht(184)]}async[ht(170)](t){const n=ht,r=this[n(205)](t),e=new g;if(this[n(184)]){!this[n(196)]&&(this[n(196)]=new st(ft));const o=this[n(183)](t),i=await this[n(196)][n(189)]({id:o,tileNo:t,url:r,debug:this.showTileNo});e[n(190)]=i.bitmap}else{const o=new G(r,{cache:"force-cache",mode:n(169)});this.fetching.set(t,o);try{e[n(190)]=await async function(t,n,r=!1){const e=nt,o=await n.ready(),i=await o[e(361)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:"flipY"});if(!r)return s;!tt&&(tt=new OffscreenCanvas(256,256));const c=tt[e(363)]("2d");if(!c)throw new Error(e(332));const{width:u,height:a}=tt;return c[e(318)](s,0,0),c[e(344)](0,0,u,a),c[e(322)]=e(321),c.font=e(342),c.stroke(),c.fillStyle=e(336),c[e(365)](""+t[0],10,30),c[e(327)]=e(347),c[e(365)](""+t[1],10,55),c[e(327)]=e(324),c[e(365)](""+t[2],10,80),await createImageBitmap(tt,{imageOrientation:"flipY"})}(t,o,this.showTileNo)}finally{this[n(186)][n(167)](t)}}return e.needsUpdate=!0,e[n(206)]=4,e}[ht(193)](t){var n;const r=ht;if(this._useWorker)null==(n=this._worker)||n[r(189)]({id:this[r(183)](t),abort:!0});else{const n=this[r(186)][r(197)](t);n&&n.abort(),this[r(186)][r(167)](t)}}dispose(t,n){n[ht(182)]()}[ht(183)](t){return t[ht(219)]("-")}[ht(205)](t){const n=ht,[r,e,o]=t;return-1===this[n(208)].indexOf("[x]")?this.source[n(163)](n(216),r+"").replace(n(191),e+"")[n(163)](n(215),o+""):this[n(208)].replace(n(166),r+"").replace(n(165),e+"")[n(163)]("[z]",o+"")}}function It(t){function n(t){const r=dt;if(typeof t===r(207))return function(t){}[r(180)](r(168))[r(176)](r(161));1!==(""+t/t)[r(179)]||t%20==0?function(){return!0}[r(180)](r(192)+r(178)).call("action"):function(){return!1}[r(180)](r(192)+"gger").apply(r(204)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const vt=yt;function yt(t,n){const r=jt();return(yt=function(t,n){return r[t-=221]})(t,n)}!function(t,n){const r=yt,e=jt();for(;;)try{if(419426===parseInt(r(223))/1+-parseInt(r(267))/2*(-parseInt(r(256))/3)+parseInt(r(245))/4*(parseInt(r(253))/5)+-parseInt(r(259))/6+parseInt(r(261))/7*(parseInt(r(271))/8)+parseInt(r(243))/9+-parseInt(r(226))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const bt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[yt(234)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){bt(this,(function(){const t=yt,n=new RegExp(t(270)),r=new RegExp(t(272),"i"),e=Et(t(255));n[t(229)](e+t(233))&&r[t(229)](e+t(236))?Et():e("0")}))()}();const mt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[yt(234)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();mt(void 0,(function(){const t=yt,n=function(){const t=yt;let n;try{n=Function(t(250)+t(231)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(227)]||{},e=[t(269),t(222),t(244),t(238),t(221),"table",t(235)];for(let o=0;o<e[t(273)];o++){const n=mt[t(257)][t(264)][t(247)](mt),i=e[o],s=r[i]||n;n[t(224)]=mt.bind(mt),n[t(252)]=s.toString[t(247)](s),r[i]=n}}))();const xt=vt(228),_t=vt(237),Mt=6378137,Ft=Math.PI/180;function Zt(t,n){const r=vt;return[Mt*t*Ft,Mt*Math[r(269)](Math[r(225)](.25*Math.PI+n*Ft*.5))]}function Rt(t,n){const r=vt;let e=t/(Mt*Math.PI)*180,o=n/(Mt*Math.PI)*180;return o=180/Math.PI*(2*Math[r(251)](Math.exp(o*Math.PI/180))-Math.PI/2),[e,o]}function kt(t){return t*Math.PI/180}function Tt(t){return 180*t/Math.PI}function jt(){const t=["input","merc","error","sin","string","tanh","CDEFGHJKLMNPQRSTUVWXX","1775187vOlVnM","info","52eeseef","debu","bind","while (true) {}","gger","return (function() ","atan","toString","61315FGMBoB","atan2","init","27963ONTRLR","constructor","charAt","1535034GIczjZ","floor","87934TzyzZA","cosh","cos","prototype","sinh","toFixed","142MGcxEY","latitude ‘","log","function *\\( *\\)","488KOyfIc","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","sqrt","counter","exception","warn","45195ZwsWcx","__proto__","tan","11546650gnSQVc","console","utm","test","atanh",'{}.constructor("return this")( )',"action","chain","apply","trace"];return(jt=function(){return t})()}const Pt={a:6378137,b:6356752.314245,f:1/298.257223563},zt=vt(242);function At(t,n,r){const e=vt;if(!(-80<=n&&n<=84))throw new RangeError(e(268)+n+"’ outside UTM limits");let o=r||Math[e(260)]((t+180)/6)+1,i=kt(6*(o-1)-180+3);const s=zt[e(258)](Math[e(260)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=kt(6)):32===o&&"X"===s&&t<9?(o--,i-=kt(6)):32===o&&"X"===s&&t>=9?(o++,i+=kt(6)):34===o&&"X"===s&&t<21?(o--,i-=kt(6)):34===o&&"X"===s&&t>=21?(o++,i+=kt(6)):36===o&&"X"===s&&t<33?(o--,i-=kt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=kt(6));const c=kt(n),u=kt(t)-i,{a:a,f:f}=Pt,h=.9996,p=Math[e(274)](f*(2-f)),l=f/(2-f),g=l*l,d=l*g,w=l*d,I=l*w,v=l*I,y=Math[e(263)](u),b=Math.sin(u),m=Math[e(225)](c),x=Math[e(265)](p*Math[e(230)](p*m/Math[e(274)](1+m*m))),_=m*Math[e(274)](1+x*x)-x*Math[e(274)](1+m*m),M=Math[e(254)](_,y),F=Math.asinh(b/Math[e(274)](_*_+y*y)),Z=a/(1+l)*(1+1/4*g+1/64*w+1/256*v),R=[null,.5*l-2/3*g+5/16*d+41/180*w-127/288*I+7891/37800*v,13/48*g-.6*d+557/1440*w+281/630*I-1983433/1935360*v,61/240*d-103/140*w+15061/26880*I+167603/181440*v,49561/161280*w-179/168*I+6601661/7257600*v,34729/80640*I-3418889/1995840*v,.6650675310896665*v];let k=M;for(let z=1;z<=6;z++)k+=R[z]*Math[e(239)](2*z*M)*Math[e(262)](2*z*F);let T=F;for(let z=1;z<=6;z++)T+=R[z]*Math[e(263)](2*z*M)*Math[e(265)](2*z*F);let j=h*Z*T,P=h*Z*k;return j+=5e5,P<0&&(P+=1e7),[j,P]}function St(t,n,r){const e=vt,o=r||50,{a:i,f:s}=Pt,c=.9996,u=t-5e5,a=n,f=Math[e(274)](s*(2-s)),h=s/(2-s),p=h*h,l=h*p,g=h*l,d=h*g,w=h*d,I=i/(1+h)*(1+1/4*p+1/64*g+1/256*w),v=u/(c*I),y=a/(c*I),b=[null,.5*h-2/3*p+37/96*l-1/360*g-81/512*d+96199/604800*w,1/48*p+1/15*l-437/1440*g+46/105*d-1118711/3870720*w,17/480*l-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=y;for(let O=1;O<=6;O++)m-=b[O]*Math[e(239)](2*O*y)*Math.cosh(2*O*v);let x=v;for(let O=1;O<=6;O++)x-=b[O]*Math[e(263)](2*O*y)*Math.sinh(2*O*v);const _=Math.sinh(x),M=Math[e(239)](m),F=Math[e(263)](m),Z=M/Math[e(274)](_*_+F*F);let R=null,k=Z;do{const t=Math.sinh(f*Math.atanh(f*k/Math[e(274)](1+k*k))),n=k*Math.sqrt(1+t*t)-t*Math[e(274)](1+k*k);R=(Z-n)/Math[e(274)](1+n*n)*(1+(1-f*f)*k*k)/((1-f*f)*Math.sqrt(1+k*k)),k+=R}while(Math.abs(R)>1e-12);const T=k,j=Math[e(251)](T);let P=Math[e(254)](_,F),z=1;for(let O=1;O<=6;O++)z-=2*O*b[O]*Math[e(263)](2*O*y)*Math[e(262)](2*O*v);let A=0;for(let O=1;O<=6;O++)A+=2*O*b[O]*Math.sin(2*O*y)*Math[e(265)](2*O*v);Math.atan(Math[e(225)](m)*Math[e(241)](x)),Math[e(254)](A,z);const S=Math[e(239)](j);Math[e(274)](1-f*f*S*S),Math[e(274)](1+T*T),Math.sqrt(_*_+F*F),Math[e(274)](z*z+A*A);P+=kt(6*(o-1)-180+3);const E=Number(Tt(j)[e(266)](14));return[Number(Tt(P)[e(266)](14)),E]}function Et(t){function n(t){const r=yt;if(typeof t===r(240))return function(t){}[r(257)](r(248)).apply(r(275));1!==(""+t/t).length||t%20==0?function(){return!0}[r(257)](r(246)+"gger").call(r(232)):function(){return!1}[r(257)](r(246)+r(249))[r(234)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Ot(){const t=['{}.constructor("return this")( )',"16nxaskP","abort","test","881370qPZSgi","12RDDAUp","dispose","table","function *\\( *\\)","init","245scgkpP","4QrThhT","debu","315701kALMEJ","1414617oaqlOY","25074vJPGEe","log","2ZSmfpF","exception","counter","toString","maxZoom","5286123OerYlQ","constructor","7140353wkBLBs","coordType","position","trace","length","utmZone","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","chain","action","convertCoordinate","15953223NKdrFT","string","apply","__proto__","console","10UkQQwh","warn","setAttribute","bind"];return(Ot=function(){return t})()}const Wt=Ut;!function(t,n){const r=Ut,e=Ot();for(;;)try{if(425204===-parseInt(r(244))/1*(parseInt(r(248))/2)+-parseInt(r(245))/3*(parseInt(r(242))/4)+-parseInt(r(241))/5*(parseInt(r(246))/6)+-parseInt(r(235))/7*(-parseInt(r(232))/8)+-parseInt(r(208))/9*(-parseInt(r(227))/10)+-parseInt(r(210))/11*(parseInt(r(236))/12)+parseInt(r(222))/13)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Ct=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ut(224)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Ct(this,(function(){const t=Ut,n=new RegExp(t(239)),r=new RegExp(t(217),"i"),e=$t(t(240));n.test(e+t(219))&&r[t(234)](e+"input")?$t():e("0")}))()}();const Bt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ut(224)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Ut(t,n){const r=Ot();return(Ut=function(t,n){return r[t-=206]})(t,n)}Bt(void 0,(function(){const t=Ut,n=function(){const t=Ut;let n;try{n=Function(t(218)+t(231)+");")()}catch(r){n=window}return n}(),r=n[t(226)]=n.console||{},e=[t(247),t(228),"info",t(216),t(249),t(238),t(213)];for(let o=0;o<e.length;o++){const n=Bt[t(209)].prototype.bind(Bt),i=e[o],s=r[i]||n;n[t(225)]=Bt[t(230)](Bt),n[t(206)]=s.toString[t(230)](s),r[i]=n}}))();class Lt{constructor(){const t=Ut;this[t(215)]=50,this[t(211)]=xt,this[t(207)]=20}async getTile(t){const n=Ut,r=new d,e=_(t),o=this[n(221)](e[0],e[3]),i=this[n(221)](e[2],e[3]),s=this[n(221)](e[0],e[1]),c=this[n(221)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r[n(229)](n(212),new w(u,3)),r}[Wt(233)](t){}[Wt(237)](t,n){n[Wt(237)]()}[Wt(221)](t,n){const r=Wt;return this.coordType===xt?At(t,n,this[r(215)]):Zt(t,n)}}function $t(t){function n(t){const r=Ut;if(typeof t===r(223))return function(t){}[r(209)]("while (true) {}")[r(224)](r(250));1!==(""+t/t)[r(214)]||t%20==0?function(){return!0}.constructor(r(243)+"gger").call(r(220)):function(){return!1}.constructor(r(243)+"gger")[r(224)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Dt(t){return new Worker(""+new URL("../static/MartiniWorker-dNq5D85X.js",import.meta.url).href,{name:null==t?void 0:t.name})}function Nt(t,n){const r=Qt();return(Nt=function(t,n){return r[t-=336]})(t,n)}const Vt=Nt;!function(t,n){const r=Nt,e=Qt();for(;;)try{if(731976===parseInt(r(379))/1*(-parseInt(r(341))/2)+-parseInt(r(374))/3+parseInt(r(391))/4+-parseInt(r(381))/5+-parseInt(r(389))/6+-parseInt(r(339))/7+-parseInt(r(338))/8*(-parseInt(r(365))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Xt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Nt(380)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Xt(this,(function(){const t=Nt,n=new RegExp(t(370)),r=new RegExp(t(361),"i"),e=Kt(t(382));n[t(387)](e+t(357))&&r.test(e+t(373))?Kt():e("0")}))()}();const Gt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Nt(380)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Qt(){const t=["action","getUrl","getInWorkerThread","trace","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","join","__proto__","gger","toString","length","chain","getInMainThread","constructor","setIndex","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","terminate","_worker","postMessage","3297978tFqvyf","getTile","console","[y]","call","function *\\( *\\)","table","abort","input","3658062WwzaHs","bind","return (function() ","source","utmZone","1FkSNcO","apply","6941795kyyixn","init","counter",'{}.constructor("return this")( )',"debu","position","test","info","3363924WfmCOV","log","5244700QncBrc","setAttribute","replace","prototype","while (true) {}","positions","[z]","_useWorker","string","88sRAeOd","4304041lrqpgL","maxZoom","1653662zoMvyD","[x]","useWorker","dispose","triangles","getId"];return(Qt=function(){return t})()}Gt(void 0,(function(){const t=Nt;let n;try{n=Function(t(376)+t(384)+");")()}catch(o){n=window}const r=n[t(367)]=n[t(367)]||{},e=[t(390),"warn",t(388),"error","exception",t(371),t(350)];for(let i=0;i<e[t(356)];i++){const n=Gt[t(359)][t(394)][t(375)](Gt),o=e[i],s=r[o]||n;n[t(353)]=Gt[t(375)](Gt),n[t(355)]=s.toString[t(375)](s),r[o]=n}}))();class Jt{constructor(){const t=Nt;this[t(340)]=12,this.coordType=xt,this[t(378)]=50,this._useWorker=!0,this[t(377)]=t(351)}set useWorker(t){var n;const r=Nt;this[r(336)]=t,!this[r(336)]&&(null==(n=this[r(363)])||n[r(362)](),this[r(363)]=void 0)}get[Vt(343)](){return this._useWorker}async[Vt(366)](t){const n=Vt;return this[n(336)]?this[n(349)](t):this[n(358)]()}async getInMainThread(){return new l}async getInWorkerThread(t){const n=Vt;!this[n(363)]&&(this._worker=new st(Dt));const r={tileNo:t,id:this[n(346)](t),url:this[n(348)](t),maxZ:this.maxZoom,coordType:this.coordType,utmZone:this[n(378)]},e=await this[n(363)].postMessage(r),o=new l;return o[n(392)](n(386),new w(e[n(396)],3)),o.setAttribute("uv",new w(e.uv,2)),o[n(360)](new w(e[n(345)],1)),o}async[Vt(372)](t){var n;const r=Vt;this[r(336)]&&(null==(n=this[r(363)])||n[r(364)]({id:this[r(346)](t),abort:!0}))}async[Vt(344)](t,n){var r;const e=Vt;n[e(344)](),this[e(336)]&&(null==(r=this._worker)||r[e(364)]({id:this[e(346)](t),dispose:!0}))}[Vt(346)](t){return t[Vt(352)]("-")}[Vt(348)](t){const n=Vt,[r,e,o]=t;return this[n(377)].replace(n(342),r+"")[n(393)](n(368),e+"")[n(393)](n(397),o+"")}}function Kt(t){function n(t){const r=Nt;if(typeof t===r(337))return function(t){}[r(359)](r(395)).apply(r(383));1!==(""+t/t)[r(356)]||t%20==0?function(){return!0}[r(359)](r(385)+"gger")[r(369)](r(347)):function(){return!1}[r(359)](r(385)+r(354))[r(380)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=nn,e=qt();;)try{if(991965===-parseInt(r(117))/1+parseInt(r(120))/2+-parseInt(r(110))/3*(-parseInt(r(102))/4)+-parseInt(r(114))/5+parseInt(r(119))/6+parseInt(r(105))/7+parseInt(r(100))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Yt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function qt(){var t=["test","exception","1584213qlcLvg","return (function() ","error","constructor","8460925khZQRw","apply","function *\\( *\\)","1322202wWkHXO","bind","6363804Fdhwhu","1672594mRVEcH","info","toString","action",'{}.constructor("return this")( )',"chain","length","trace","debu","9616256gUxNnQ","table","4JsxpFv","while (true) {}","gger","2655226xBceIx","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console"];return(qt=function(){return t})()}!function(){Yt(this,(function(){var t=nn,n=new RegExp(t(116)),r=new RegExp(t(106),"i"),e=rn("init");n[t(108)](e+t(125))&&r.test(e+"input")?rn():e("0")}))()}();var Ht=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[nn(115)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Ht(void 0,(function(){for(var t=nn,n=function(){var t,n=nn;try{t=Function(n(111)+n(124)+");")()}catch(r){t=window}return t}(),r=n[t(107)]=n[t(107)]||{},e=["log","warn",t(121),t(112),t(109),t(101),t(127)],o=0;o<e[t(126)];o++){var i=Ht[t(113)].prototype[t(118)](Ht),s=e[o],c=r[s]||i;i.__proto__=Ht.bind(Ht),i[t(122)]=c[t(122)].bind(c),r[s]=i}}))();class tn extends a{constructor(t){super(t),this.center=new h}}function nn(t,n){var r=qt();return(nn=function(t,n){return r[t-=100]})(t,n)}function rn(t){function n(t){var r=nn;if("string"==typeof t)return function(t){}.constructor(r(103)).apply("counter");1!==(""+t/t)[r(126)]||t%20==0?function(){return!0}[r(113)](r(128)+r(104)).call(r(123)):function(){return!1}[r(113)](r(128)+r(104))[r(115)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const en=un;!function(t,n){const r=un,e=cn();for(;;)try{if(765285===parseInt(r(368))/1+parseInt(r(342))/2*(parseInt(r(340))/3)+-parseInt(r(351))/4*(-parseInt(r(361))/5)+parseInt(r(364))/6*(parseInt(r(363))/7)+-parseInt(r(367))/8*(parseInt(r(346))/9)+-parseInt(r(356))/10*(parseInt(r(345))/11)+parseInt(r(338))/12*(-parseInt(r(352))/13))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const on=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[un(349)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){on(this,(function(){const t=un,n=new RegExp(t(385)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=fn(t(354));n[t(332)](e+"chain")&&r.test(e+"input")?fn():e("0")}))()}();const sn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function cn(){const t=["function *\\( *\\)","computeBoundsTree","boundingBox","error","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","flatShading","counter","info","filter","map","all","abort","computeBoundingBox","position","test","monochrome","log","copy","string","console","154932jtjsoC","return (function() ","94323zLjPyp","length","12opcBVl","action","useStandardMaterial","1264307WYILnu","68346AURUBP","dispose","warn","apply","geometryProvider","1848908kiFwtx","793kdMvSs","add","init","gger","40RTEQtd","constructor","stateObject","while (true) {}","__proto__","5ObtHmk","genBright","10073637EVwLgK","6gFtHtP","toString","multiply","640dOZeYW","530160KWGwFV","renderOrder","set","colorSpace","debu","bind","genContrast","trace",'{}.constructor("return this")( )',"table","getTranMatrix","textureProvider","call","getTile","genSaturate","maxZoom","center"];return(cn=function(){return t})()}function un(t,n){const r=cn();return(un=function(t,n){return r[t-=331]})(t,n)}sn(void 0,(function(){const t=un;let n;try{n=Function(t(339)+t(376)+");")()}catch(o){n=window}const r=n[t(337)]=n[t(337)]||{},e=[t(334),t(348),t(392),t(388),"exception",t(377),t(375)];for(let i=0;i<e[t(341)];i++){const n=sn[t(357)].prototype[t(373)](sn),o=e[i],s=r[o]||n;n[t(360)]=sn[t(373)](sn),n[t(365)]=s[t(365)][t(373)](s),r[o]=n}}))();class an{constructor(t,n){const r=un;this.geometryProvider=t,this[r(379)]=n,this[r(383)]=20,this.showBoundingBox=!1,this.wireframe=!1,this[r(390)]=!1,this[r(344)]=!1,this[r(393)]=null}[en(378)](){var t,n,r,e,o;const i=en;let s=new p;if(null==(t=this[i(393)])?void 0:t.opposite){let t=new p;t[i(370)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(366)](t)}if(null==(n=this[i(393)])?void 0:n[i(333)]){let t=new p;const n=this[i(393)][i(333)].r,r=this[i(393)][i(333)].g,e=this[i(393)].monochrome.b;t[i(370)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(366)](t)}if(null==(r=this[i(393)])?void 0:r.genBright){let t=new p;const n=this[i(393)][i(362)];t.set(n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(366)](t)}if(null==(e=this[i(393)])?void 0:e[i(374)]){let t=new p;const n=this[i(393)].genContrast,r=.5*(1-n);t[i(370)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(366)](t)}if(null==(o=this[i(393)])?void 0:o[i(382)]){let t=new p;const n=this.filter[i(382)],r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t.set(r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(366)](t)}return s}async[en(381)](t){const n=en,r=[this[n(350)][n(381)](t),this.textureProvider[n(381)](t)],e=await Promise[n(395)](r),o=e[0],i=e[1];i[n(371)]=I;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(344)]?new v({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this[n(393)]&&(u=new R({baseMaterial:u,vertexShader:n(389),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(378)]()}}}));const f=new tn;if(f[n(369)]=a,o[n(397)](),o[n(387)].getCenter(f.center),o[n(384)](),o.computeBoundingSphere(),o[n(386)](),f[n(331)][n(335)](f.center),f.geometry=o,f.material=u,this.showBoundingBox){const t=new b(o[n(387)]);f[n(353)](t)}return f}abort(t){const n=en;this[n(350)][n(396)](t),this.textureProvider[n(396)](t)}dispose(t,n){const r=en,e=n.geometry,o=n.material;e&&this.geometryProvider.dispose(t,e),o&&o[r(394)]&&this.textureProvider.dispose(t,o.map),null==o||o[r(347)]()}}function fn(t){function n(t){const r=un;if(typeof t===r(336))return function(t){}[r(357)](r(359)).apply(r(391));1!==(""+t/t)[r(341)]||t%20==0?function(){return!0}.constructor(r(372)+r(355))[r(380)](r(343)):function(){return!1}.constructor(r(372)+"gger")[r(349)](r(358)),n(++t)}try{if(t)return n;n(0)}catch(r){}}var hn=ln;!function(t,n){for(var r=ln,e=wn();;)try{if(468622===-parseInt(r(135))/1*(parseInt(r(118))/2)+-parseInt(r(126))/3*(parseInt(r(112))/4)+parseInt(r(131))/5*(-parseInt(r(110))/6)+-parseInt(r(140))/7+parseInt(r(124))/8+-parseInt(r(142))/9+parseInt(r(125))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var pn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(136)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ln(t,n){var r=wn();return(ln=function(t,n){return r[t-=108]})(t,n)}!function(){pn(this,(function(){var t=ln,n=new RegExp(t(127)),r=new RegExp(t(139),"i"),e=In(t(109));n.test(e+"chain")&&r.test(e+t(123))?In():e("0")}))()}();var gn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(136)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();gn(void 0,(function(){var t,n=ln;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t[n(128)]=t[n(128)]||{},e=[n(132),n(129),n(117),"error",n(122),"table",n(137)],o=0;o<e[n(121)];o++){var i=gn[n(138)][n(108)].bind(gn),s=e[o],c=r[s]||i;i.__proto__=gn[n(133)](gn),i[n(113)]=c[n(113)][n(133)](c),r[s]=i}}))();const dn=class t{constructor(n){var r=ln;this[r(130)]=t[r(143)],this[r(120)]=n}};dn.UP=1,dn[hn(143)]=2,dn[hn(116)]=3;function wn(){var t=["MATCH","info","2PSrJIx","debu","geometry","length","exception","input","2201000NYGKvX","34453250WOsyrF","810261FlcUuY","function *\\( *\\)","console","warn","mode","30GUCLgV","log","bind","counter","920498AWQWjb","apply","trace","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5767699dWXJvY","call","3043350IuQcbL","DOWN","prototype","init","899136dhtYaU","gger","4ODwwtp","toString","action","string"];return(wn=function(){return t})()}function In(t){function n(t){var r=ln;if(typeof t===r(115))return function(t){}[r(138)]("while (true) {}")[r(136)](r(134));1!==(""+t/t).length||t%20==0?function(){return!0}[r(138)]("debugger")[r(141)](r(114)):function(){return!1}.constructor(r(119)+r(111))[r(136)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function vn(t,n){var r=bn();return(vn=function(t,n){return r[t-=445]})(t,n)}!function(t,n){for(var r=vn,e=bn();;)try{if(168801===parseInt(r(455))/1+-parseInt(r(469))/2*(parseInt(r(458))/3)+parseInt(r(478))/4+-parseInt(r(480))/5+-parseInt(r(446))/6+parseInt(r(463))/7*(-parseInt(r(450))/8)+parseInt(r(471))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var yn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[vn(448)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function bn(){var t=["stateObject","table","length","error","666192WGkRDm","gger","1073045JUFrjD","while (true) {}","1207074JscTDt","chain","apply",'{}.constructor("return this")( )',"6808zYPIaS","prototype","action","warn","info","248410eTKeVQ","test","__proto__","15aAPSla","return (function() ","exception","log","toString","1316joJesQ","init","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","call","96590Madmka","debu","5139846PBFJeZ","string","bind"];return(bn=function(){return t})()}!function(){yn(this,(function(){var t=vn,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(466),"i"),e=xn(t(464));n[t(456)](e+t(447))&&r[t(456)](e+"input")?xn():e("0")}))()}();var mn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[vn(448)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function xn(t){function n(t){var r=vn;if(typeof t===r(472))return function(t){}[r(467)](r(445))[r(448)]("counter");1!==(""+t/t)[r(476)]||t%20==0?function(){return!0}[r(467)](r(470)+r(479))[r(468)](r(452)):function(){return!1}[r(467)](r(470)+"gger").apply(r(474)),n(++t)}try{if(t)return n;n(0)}catch(r){}}mn(void 0,(function(){var t,n=vn;try{t=Function(n(459)+n(449)+");")()}catch(u){t=window}for(var r=t[n(465)]=t[n(465)]||{},e=[n(461),n(453),n(454),n(477),n(460),n(475),"trace"],o=0;o<e[n(476)];o++){var i=mn.constructor[n(451)][n(473)](mn),s=e[o],c=r[s]||i;i[n(457)]=mn.bind(mn),i[n(462)]=c[n(462)][n(473)](c),r[s]=i}}))(),function(t,n){for(var r=Fn,e=Mn();;)try{if(414416===-parseInt(r(472))/1*(-parseInt(r(452))/2)+parseInt(r(456))/3*(parseInt(r(467))/4)+-parseInt(r(478))/5*(parseInt(r(457))/6)+-parseInt(r(454))/7*(parseInt(r(473))/8)+parseInt(r(462))/9*(parseInt(r(471))/10)+-parseInt(r(453))/11+parseInt(r(450))/12)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var _n=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Fn(460)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Mn(){var t=["table","string","gger","test","bind","prototype","log","warn","8431080sLgtqX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","53792RVWuXL","2074072tbXLWS","281477HjvbCa","error","3UGbbms","6IIWXjy","function *\\( *\\)","length","apply","init","72HTzImq","counter","constructor","debu","exception","1679624gTfZDw","toString","action",'{}.constructor("return this")( )',"47420uKdyUH","5CrbxqQ","32RVFfSh","info","input","while (true) {}","console","2655500CjSWsn"];return(Mn=function(){return t})()}function Fn(t,n){var r=Mn();return(Fn=function(t,n){return r[t-=448]})(t,n)}!function(){_n(this,(function(){var t=Fn,n=new RegExp(t(458)),r=new RegExp(t(451),"i"),e=Rn(t(461));n[t(482)](e+"chain")&&r[t(482)](e+t(475))?Rn():e("0")}))()}();var Zn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Fn(460)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Rn(t){function n(t){var r=Fn;if(typeof t===r(480))return function(t){}[r(464)](r(476))[r(460)](r(463));1!==(""+t/t)[r(459)]||t%20==0?function(){return!0}[r(464)](r(465)+r(481)).call(r(469)):function(){return!1}[r(464)](r(465)+"gger")[r(460)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}Zn(void 0,(function(){var t,n=Fn;try{t=Function("return (function() "+n(470)+");")()}catch(u){t=window}for(var r=t[n(477)]=t[n(477)]||{},e=[n(448),n(449),n(474),n(455),n(466),n(479),"trace"],o=0;o<e[n(459)];o++){var i=Zn[n(464)][n(484)].bind(Zn),s=e[o],c=r[s]||i;i.__proto__=Zn[n(483)](Zn),i[n(468)]=c[n(468)].bind(c),r[s]=i}}))();const kn=Pn;function Tn(){const t=["test","getFromBitmap","stateObject","__proto__","round","9169616DTjdDC","Clip terrain error","938646zzSRuK","4610248QtLQvw","info","warn","Get context 2d error.","chain","clip: ","offscreencanvas","5164785drJSru","apply","call","exception","getContext","data","constructor","14LlztdT","3337536vhEcWL","clip","function *\\( *\\)","toString","while (true) {}","error","console","bind","string","9CLmJCv","input","length","21939JJhNIJ","getImageData","drawImage","prototype","getChildPosition","6TNlwgn","log","gger","init","6092510NvhbOB"];return(Tn=function(){return t})()}!function(t,n){const r=Pn,e=Tn();for(;;)try{if(625871===parseInt(r(121))/1+parseInt(r(138))/2*(-parseInt(r(126))/3)+parseInt(r(139))/4+parseInt(r(146))/5+parseInt(r(154))/6*(parseInt(r(153))/7)+-parseInt(r(136))/8*(parseInt(r(118))/9)+-parseInt(r(130))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const jn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Pn(147)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Pn(t,n){const r=Tn();return(Pn=function(t,n){return r[t-=115]})(t,n)}!function(){jn(this,(function(){const t=Pn,n=new RegExp(t(156)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=An(t(129));n.test(e+t(143))&&r[t(131)](e+t(119))?An():e("0")}))()}();const zn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Pn(147)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();zn(void 0,(function(){const t=Pn;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(115)]=n.console||{},e=[t(127),t(141),t(140),t(159),t(149),"table","trace"];for(let i=0;i<e[t(120)];i++){const n=zn.constructor[t(124)][t(116)](zn),o=e[i],s=r[o]||n;n[t(134)]=zn[t(116)](zn),n[t(157)]=s[t(157)].bind(s),r[o]=n}}))();kn(132),kn(155),kn(125);function An(t){function n(t){const r=Pn;if(typeof t===r(117))return function(t){}[r(152)](r(158))[r(147)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(152)]("debu"+r(128))[r(148)]("action"):function(){return!1}[r(152)]("debu"+r(128)).apply(r(133)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=En,e=Wn();;)try{if(133141===parseInt(r(133))/1*(-parseInt(r(151))/2)+-parseInt(r(140))/3+parseInt(r(152))/4*(-parseInt(r(124))/5)+-parseInt(r(123))/6+-parseInt(r(155))/7*(-parseInt(r(147))/8)+-parseInt(r(139))/9*(-parseInt(r(153))/10)+parseInt(r(134))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Sn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function En(t,n){var r=Wn();return(En=function(t,n){return r[t-=121]})(t,n)}!function(){Sn(this,(function(){var t=En,n=new RegExp(t(127)),r=new RegExp(t(125),"i"),e=Cn(t(150));n[t(135)](e+t(136))&&r[t(135)](e+"input")?Cn():e("0")}))()}();var On=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[En(146)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Wn(){var t=["console","prototype","string","trace","debu","2576KpuHxS","4107631UXYIvO","test","chain","log","error","787302FRtwTs","300663FnRtgB","while (true) {}","exception",'{}.constructor("return this")( )',"return (function() ","call","apply","376oitAVA","counter","table","init","134tsmEFI","402352aksttZ","10oToIfR","bind","15743IbDZBz","stateObject","action","toString","constructor","length","360360fXhpCB","5bJnngt","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","function *\\( *\\)"];return(Wn=function(){return t})()}function Cn(t){function n(t){var r=En;if(typeof t===r(130))return function(t){}[r(121)](r(141))[r(146)](r(148));1!==(""+t/t)[r(122)]||t%20==0?function(){return!0}.constructor("debu"+r(126))[r(145)](r(157)):function(){return!1}[r(121)](r(132)+r(126))[r(146)](r(156)),n(++t)}try{if(t)return n;n(0)}catch(r){}}On(void 0,(function(){for(var t=En,n=function(){var t,n=En;try{t=Function(n(144)+n(143)+");")()}catch(r){t=window}return t}(),r=n[t(128)]=n.console||{},e=[t(137),"warn","info",t(138),t(142),t(149),t(131)],o=0;o<e.length;o++){var i=On[t(121)][t(129)].bind(On),s=e[o],c=r[s]||i;i.__proto__=On[t(154)](On),i[t(158)]=c[t(158)][t(154)](c),r[s]=i}}))();export{wt as M,Lt as P,an as T,xt as U,B as a,_t as b,Jt as c,Zt as d,At as l,St as u,Rt as w};
