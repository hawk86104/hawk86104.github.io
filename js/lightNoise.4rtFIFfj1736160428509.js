import{_ as n,h as t,$ as e,B as o,ad as r,q as i,t as s,c5 as c,c3 as a,c4 as l,cf as u}from"./three.rmsIv-u_1736160428509.js";import{e as f,m as p,U as d}from"./@tresjs.8MtVPQyb1736160428509.js";import{d as v,o as m,D as g,J as h,u as b,F as x,w as y,j as w,x as _,e as I,g as T,aj as U,ak as S}from"./@vue.4u_eOGex1736160428509.js";import{_ as D}from"./@fesjs.pVksQyts1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";import"./vue-router.jVp56Lac1736160428509.js";import"./lodash-es.kYt-_xTG1736160428509.js";import"./@qlin.yHhFDldE1736160428509.js";import"./pinia.F-Vnosig1736160428509.js";import"./vue-demi.C4xddsk91736160428509.js";import"./@floating-ui.BPbuo5Gx1736160428509.js";import"./@juggle.7yjBMqoW1736160428509.js";var j="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const A=P;!function(n,t){const e=P,o=B();for(;;)try{if(269369===parseInt(e(454))/1*(parseInt(e(447))/2)+parseInt(e(413))/3+parseInt(e(452))/4+-parseInt(e(417))/5+parseInt(e(438))/6+-parseInt(e(432))/7+parseInt(e(450))/8*(-parseInt(e(466))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(459)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){N(this,(function(){const n=P,t=new RegExp(n(415)),e=new RegExp(n(460),"i"),o=R("init");t[n(407)](o+n(453))&&e[n(407)](o+n(429))?R():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(459)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function B(){const n=["test","InstancedBufferAttribute","InstancedBufferGeometry","#include <fog_fragment>","debu","log","1338903MMbATk","uniforms","function *\\( *\\)","bind","490845ACiHbD","constructor","__proto__","lucesPlane","#include <begin_vertex>","setAttribute","geometry","instanceCount","globalBloom","instData","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","\n    ","input","table","return (function() ","2484377xNZqZJ","TresPlaneGeometry","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","randFloatSpread","error","console","331500nEWWJc","gger","rotateX","exception","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","luces","material","globalUniforms","vertexShader","124DmVLNe","warn","#include <dithering_fragment>","2096OJdNDH","Vector4","289656YwoLaP","chain","6701VlIzDd","cos","MeshLambertMaterial","noise","push","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","fragmentShader","while (true) {}","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","needsUpdate","length","9171HIzFcS","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","noiseTex","TresMesh","trace","SphereGeometry","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","replace","sin","randFloat","MathUtils","toString","info","attributes"];return(B=function(){return n})()}function P(n,t){const e=B();return(P=function(n,t){return e[n-=397]})(n,t)}z(void 0,(function(){const n=P,t=function(){const n=P;let t;try{t=Function(n(431)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(437)]=t[n(437)]||{},o=[n(412),n(448),n(405),n(436),n(441),n(430),n(397)];for(let r=0;r<o[n(465)];r++){const t=z[n(418)].prototype[n(416)](z),i=o[r],s=e[i]||t;t[n(419)]=z.bind(z),t[n(404)]=s[n(404)][n(416)](s),e[i]=t}}))();const E=[A(423),A(444)],F=[A(444)],C=[A(440)],M=100,k=v({__name:A(420),props:{globalUniforms:{}},setup(o){const r=A,i=o,s=[],c=[],a=new(n[r(398)])(1,36,18),l=(new(n[r(409)])).copy(a);l[r(424)]=M;const u=[];for(let e=0;e<M;e++){let e=n[r(403)][r(435)](49),o=t[r(435)](49),i=n[r(403)].randFloat(.0625,.125),a=n[r(403)][r(402)](1,3);u[r(458)](e,o,i),c[r(458)](new(n[r(451)])(e,o,a,t[r(402)](1,2))),s[r(458)](new(n[r(451)])(e,o,i,a))}l[r(422)](r(426),new(n[r(408)])(new Float32Array(u),3));const p=new e({color:16720418,onBeforeCompile:n=>{const t=r;n[t(414)].noiseTex=i.globalUniforms[t(457)],n[t(446)]=(t(399)+n.vertexShader+"\n    ").replace(t(421),"#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ")}}),d={luces:{value:s}},v=new(n[r(456)])({color:2363940,onBeforeCompile:n=>{const t=r;n[t(414)][t(443)]=d[t(443)],n.uniforms[t(425)]=i[t(445)].globalBloom,n[t(414)][t(469)]=i[t(445)].noise,n.vertexShader=(t(467)+n[t(446)]+t(428))[t(400)](t(421),t(463)),n[t(461)]=("\n      uniform vec4 luces["+M+t(442)+n[t(461)]+t(428))[t(400)](t(410),t(427)+M+t(468))[t(400)](t(449),t(434))}}),{onLoop:y}=f();return y((({elapsed:n})=>{const t=r;for(let e=0;e<M;e++){const o=c[e];let r=(o.y+n+25)%50-25;s[e].y=r,s[e].w=(Math[t(401)](n*o.w*(e%3+1))*Math[t(455)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,l[t(406)][t(426)].setY(e,r)}l[t(406)][t(426)][t(464)]=!0})),(n,t)=>{const e=r;return m(),g(x,null,[h(e(470),{geometry:b(l),material:b(p)},null,8,E),h("TresMesh",{material:b(v)},[h(e(433),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,C)],8,F)],64)}}});function R(n){function t(n){const e=P;if("string"==typeof n)return function(n){}[e(418)](e(462))[e(459)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(418)](e(411)+e(439)).call("action"):function(){return!1}[e(418)](e(411)+e(439))[e(459)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const L=H;!function(n,t){const e=H,o=W();for(;;)try{if(382686===parseInt(e(438))/1+-parseInt(e(466))/2+-parseInt(e(446))/3+-parseInt(e(455))/4*(parseInt(e(474))/5)+-parseInt(e(440))/6*(parseInt(e(450))/7)+parseInt(e(464))/8+parseInt(e(442))/9*(parseInt(e(458))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[H(430)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){G(this,(function(){const n=H,t=new RegExp(n(449)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(n(445));t.test(o+n(439))&&e.test(o+n(451))?$():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function H(n,t){const e=W();return(H=function(n,t){return e[n-=426]})(n,t)}Z(void 0,(function(){const n=H;let t;try{t=Function("return (function() "+n(470)+");")()}catch(r){t=window}const e=t[n(434)]=t.console||{},o=[n(467),n(460),n(431),"error",n(433),"table",n(429)];for(let i=0;i<o.length;i++){const t=Z[n(437)].prototype.bind(Z),r=o[i],s=e[r]||t;t[n(457)]=Z.bind(Z),t.toString=s[n(444)][n(463)](s),e[r]=t}}))();const J=[L(473)],V=v({__name:"portal",props:{globalUniforms:{}},setup(t){const e=L,o=t,r=new(n[e(428)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(475)][t(468)]=o[t(441)][t(468)],n.uniforms[t(469)]=o.globalUniforms.globalBloom,n.fragmentShader=("\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      "+j+t(426)+n[t(427)]+t(465))[t(459)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(454))[t(459)]("#include <dithering_fragment>",t(461))}});return r[e(472)]={USE_UV:""},(n,t)=>{const o=e;return m(),g(o(443),{material:b(r),position:[0,3.75,-12]},t[0]||(t[0]=[h(o(448),{args:[5,5]},null,-1)]),8,J)}}});function W(){const n=["3072429tiXIur","TresMesh","toString","init","2004108tdAxiD","gger","TresPlaneGeometry","function *\\( *\\)","301IbtpXJ","input","while (true) {}","counter","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","19548WihHUY","length","__proto__","30rmPIPP","replace","warn","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","call","bind","2428616UWFUKD","\n    ","240360Fovrkr","log","time","globalBloom",'{}.constructor("return this")( )',"string","defines","material","170hVbNVO","uniforms","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","fragmentShader","MeshBasicMaterial","trace","apply","info","debu","exception","console","action","stateObject","constructor","702113seaDwM","chain","96666gSndEf","globalUniforms"];return(W=function(){return n})()}function $(n){function t(n){const e=H;if(typeof n===e(471))return function(n){}.constructor(e(452)).apply(e(453));1!==(""+n/n)[e(456)]||n%20==0?function(){return!0}[e(437)](e(432)+e(447))[e(462)](e(435)):function(){return!1}.constructor("debu"+e(447))[e(430)](e(436)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Y=X;!function(n,t){const e=X,o=Q();for(;;)try{if(553605===parseInt(e(433))/1+-parseInt(e(377))/2*(parseInt(e(394))/3)+parseInt(e(400))/4+-parseInt(e(386))/5+parseInt(e(423))/6+-parseInt(e(426))/7+-parseInt(e(382))/8*(-parseInt(e(396))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(379)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function X(n,t){const e=Q();return(X=function(n,t){return e[n-=377]})(n,t)}!function(){O(this,(function(){const n=X,t=new RegExp(n(385)),e=new RegExp(n(391),"i"),o=tn(n(378));t[n(392)](o+n(410))&&e[n(392)](o+n(434))?tn():o("0")}))()}();const q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(379)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();q(void 0,(function(){const n=X,t=function(){const n=X;let t;try{t=Function(n(393)+n(440)+");")()}catch(e){t=window}return t}(),e=t[n(380)]=t[n(380)]||{},o=[n(429),n(407),n(398),n(422),"exception",n(419),n(401)];for(let r=0;r<o[n(438)];r++){const t=q[n(384)][n(427)][n(420)](q),i=o[r],s=e[i]||t;t[n(381)]=q.bind(q),t[n(395)]=s.toString.bind(s),e[i]=t}}))();const K=["material",Y(383)];function Q(){const n=["call","uniforms","5585951TzuhZv","prototype","LineBasicMaterial","log","replace","TresLineSegments","globalUniforms","134098UXgkrB","input","debu","push","drops","length","fragmentShader",'{}.constructor("return this")( )',"2HDooWm","init","apply","console","__proto__","60624GRAPTA","geometry","constructor","function *\\( *\\)","867955qAEnUY","randFloatSpread","vertexShader","gger","randFloat","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","return (function() ","952227YVIhHQ","toString","522zAnFYm","vec4 diffuseColor = vec4( diffuse, opacity );","info","counter","4003792EmTWJi","trace","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","Float32BufferAttribute","while (true) {}","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","\n    ","warn","time","string","chain","noise","#include <begin_vertex>","\n      ","MathUtils","position","setAttribute","gEnds","globalBloom","table","bind","stateObject","error","1608168NhrLuw"];return(Q=function(){return n})()}const nn=v({__name:Y(437),props:{globalUniforms:{}},setup(e){const i=Y,s=e,c=[],a=[];for(let o=0;o<2e4;o++){const e=n[i(414)].randFloatSpread(35),o=n[i(414)][i(390)](-5,10),r=n[i(414)][i(387)](35),s=t[i(390)](.25,.5);c[i(436)](e,o,r,e,o,r),a[i(436)](0,s,1,s)}const l=new o;l[i(416)](i(415),new r(c,3)),l[i(416)](i(417),new(n[i(403)])(a,2));const u=new(n[i(428)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=i;n[t(425)][t(408)]=s.globalUniforms.time,n[t(425)].noiseTex=s[t(432)][t(411)],n[t(425)][t(418)]=s.globalUniforms[t(418)],n[t(388)]=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      "+n[t(388)]+t(406))[t(430)](t(412),"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(439)]=(t(402)+j+t(413)+n[t(439)]+t(406))[t(430)](t(397),t(405))}});return(n,t)=>{const e=i;return m(),g(e(431),{material:b(u),geometry:b(l)},null,8,K)}}});function tn(n){function t(n){const e=X;if(typeof n===e(409))return function(n){}[e(384)](e(404))[e(379)](e(399));1!==(""+n/n)[e(438)]||n%20==0?function(){return!0}.constructor(e(435)+e(389))[e(424)]("action"):function(){return!1}[e(384)](e(435)+e(389))[e(379)](e(421)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function en(){const n=["info","set","time","addPass","apply","near","constructor","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","background","gger","bind","render","\n      uniform float time;\n      ","189gyAIYJ","1270FkPuho","fragmentShader","action","warn","Vector2","fog","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","stateObject","replace","call","2179416BPlDRL","__proto__","\n      ","input","error","599403NVrjwq","globalBloom","length","renderToScreen","Fog","452336dGmDJN","1141664mPMYPb","ShaderMaterial","width","WebGLRenderTarget","console","trace","prototype","renderTarget2","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","baseTexture","return (function() ","defines","4248610MkJbGc","setRenderTarget","toString","Color","exception","string",'{}.constructor("return this")( )',"while (true) {}","Mesh","needsSwap","value","vec4 diffuseColor = vec4( diffuse, opacity );","54006dGJtLh","color","2lwhILQ","test","Camera","170631drjgDd","add"];return(en=function(){return n})()}!function(n,t){const e=sn,o=en();for(;;)try{if(943271===-parseInt(e(370))/1*(parseInt(e(343))/2)+-parseInt(e(337))/3+parseInt(e(332))/4+parseInt(e(356))/5+parseInt(e(368))/6+-parseInt(e(321))/7*(parseInt(e(342))/8)+parseInt(e(373))/9*(parseInt(e(322))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(312)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){on(this,(function(){const n=sn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(352),"i"),o=an("init");t[n(371)](o+n(351))&&e[n(371)](o+n(335))?an():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(312)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(n,t){const e=en();return(sn=function(n,t){return e[n-=310]})(n,t)}rn(void 0,(function(){const n=sn,t=function(){const n=sn;let t;try{t=Function(n(354)+n(362)+");")()}catch(e){t=window}return t}(),e=t[n(347)]=t[n(347)]||{},o=["log",n(325),n(375),n(336),n(360),"table",n(348)];for(let r=0;r<o[n(339)];r++){const t=rn[n(314)][n(349)][n(318)](rn),i=o[r],s=e[i]||t;t[n(333)]=rn[n(318)](rn),t.toString=s[n(358)][n(318)](s),e[i]=t}}))();const cn=v({__name:"fboRender",setup(t){const o=sn,r={time:{value:0},globalBloom:{value:0},noise:{value:null}},d=new(n[o(346)])(512,512),v=new i,h=new(n[o(372)]),b=new s(2,2),_=new e({onBeforeCompile:n=>{const t=o;n.uniforms[t(310)]=r[t(310)],n[t(323)]=(t(320)+j+t(334)+n[t(323)]+"\n    ")[t(330)](t(367),t(328))}});_[o(355)]={USE_UV:""};const I=new(n[o(364)])(b,_);v[o(374)](I),r.noise[o(366)]=d.texture;const{camera:T,renderer:U,scene:S,sizes:D,controls:A}=p();y((()=>A[o(366)]),(t=>{const e=o;null==t||t.target.set(0,2,0),!S[e(366)][e(316)]&&(S[e(366)].background=new(n[e(359)])(6706534))}));const N=new c(U[o(366)]),z=new c(U[o(366)]),B=new a(S.value,T[o(366)]),P=new l(new(n[o(326)])(D[o(345)][o(366)],D.height[o(366)]),1.2,.5,0);N[o(340)]=!1,N.addPass(B),N[o(311)](P);const E=new u(new(n[o(344)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:N[o(350)].texture}},vertexShader:o(315),fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),o(353));E[o(365)]=!0,z[o(311)](B),z[o(311)](E),S[o(366)][o(327)]=new(n[o(341)])(6706534,1,25);const{onLoop:F}=f();return F((({elapsed:n})=>{var t,e;const i=o;r[i(310)][i(366)]=n,U[i(366)]&&(U[i(366)][i(357)](d),U[i(366)].render(v,h),U[i(366)][i(357)](null),r[i(338)][i(366)]=1.2,S[i(366)].fog[i(369)][i(376)](0),S[i(366)][i(327)][i(313)]=15,null==(t=S[i(366)].background)||t[i(376)](0),N[i(319)](),r[i(338)][i(366)]=0,S[i(366)][i(327)][i(369)][i(376)](6706534),S[i(366)][i(327)].near=10,null==(e=S[i(366)][i(316)])||e.set(6706534),z.render())})),(n,t)=>(m(),g(x,null,[w(k,{globalUniforms:r}),w(V,{globalUniforms:r}),w(nn,{globalUniforms:r})],64))}});function an(n){function t(n){const e=sn;if(typeof n===e(361))return function(n){}.constructor(e(363))[e(312)]("counter");1!==(""+n/n)[e(339)]||n%20==0?function(){return!0}[e(314)]("debugger")[e(331)](e(324)):function(){return!1}.constructor("debu"+e(317))[e(312)](e(329)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=D({},[["render",function(n,t){return m(),g("div",ln,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),fn=vn;!function(n,t){const e=vn,o=mn();for(;;)try{if(439198===-parseInt(e(314))/1+-parseInt(e(334))/2+parseInt(e(348))/3*(parseInt(e(319))/4)+parseInt(e(339))/5+-parseInt(e(318))/6+-parseInt(e(351))/7*(parseInt(e(324))/8)+parseInt(e(326))/9*(parseInt(e(352))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const pn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(346)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){pn(this,(function(){const n=vn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(316),"i"),o=hn("init");t[n(335)](o+"chain")&&e[n(335)](o+n(331))?hn():o("0")}))()}();const dn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(346)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function vn(n,t){const e=mn();return(vn=function(n,t){return e[n-=313]})(n,t)}function mn(){const n=["70hjlHZb","180810WJAJWy","string","139610rkQTsj","TresPerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","4967730TrRdVK","2080xznhXH","debu","log","TresDirectionalLight","prototype","557528HEjCsC","constructor","747bAJCxA","return (function() ","counter","DEG2RAD","length","input","TresCanvas","lightNoise","1209454aLTisw","test","MathUtils","toString","table","2840385USASdl","exception","TresAmbientLight","action","error","call",'{}.constructor("return this")( )',"apply","console","3690jrFKtp","bind","__proto__"];return(mn=function(){return n})()}dn(void 0,(function(){const n=vn;let t;try{t=Function(n(327)+n(345)+");")()}catch(r){t=window}const e=t.console=t[n(347)]||{},o=[n(321),"warn","info",n(343),n(340),n(338),"trace"];for(let i=0;i<o[n(330)];i++){const t=dn[n(325)][n(323)].bind(dn),r=o[i],s=e[r]||t;t[n(350)]=dn[n(349)](dn),t[n(337)]=s[n(337)].bind(s),e[r]=t}}))();const gn=v({__name:fn(333),setup(t){const e=fn,o={windowSize:!0,antialias:!0,renderMode:"manual"},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[e(336)][e(329)],maxPolarAngle:90*n[e(336)][e(329)],makeDefault:!0};return(n,t)=>{const i=e,s=I(i(332));return m(),g(x,null,[w(un),w(s,U(S(o)),{default:T((()=>[t[0]||(t[0]=h(i(315),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(d),U(S(r)),null,16),t[1]||(t[1]=h(i(341),{intensity:.5},null,-1)),t[2]||(t[2]=h(i(322),{position:[0,3,-12],intensity:1},null,-1)),w(cn)])),_:1},16)],64)}}});function hn(n){function t(n){const e=vn;if(typeof n===e(313))return function(n){}[e(325)]("while (true) {}")[e(346)](e(328));1!==(""+n/n)[e(330)]||n%20==0?function(){return!0}[e(325)](e(320)+e(317))[e(344)](e(342)):function(){return!1}.constructor("debu"+e(317))[e(346)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{gn as default};
