import{m as t,e as n,D as e,a as o,t as r}from"./@tresjs.gP2mTlVu1747710066834.js";import"./index.B9vPkEpa1747710066834.js";import{T as c,aI as i,c as s,a8 as u,a,M as W,S as f,V as l,B as d,l as x,cf as m}from"./three.xEBIAocQ1747710066834.js";import{P as k}from"./tweakpane.C0HtAJSg1747710066834.js";import{I as p,C as h,N as g,c as v,d as _,a as C}from"./three-mesh-bvh.CCim3sdS1747710066834.js";import{d as O,a5 as b,b as R,a2 as S,G as Q,o as w,F as P,I as y,u as I,r as j,h as N,j as q,f as F,e as H,m as J,am as K}from"./@vue.C_fjx3FT1747710066834.js";import{_ as G}from"./randomLoading.vue_vue_type_script_setup_true_lang.BptCo9e_1747710066834.js";import"./postprocessing.qgYkPc7-1747710066834.js";import"./@vueuse.C9JT-tFY1747710066834.js";import"./utils.jl-rnNLT1747710066834.js";import"./@fesjs.BOXna9ZI1747710066834.js";import"./vue-router.DeACx8bf1747710066834.js";import"./lodash-es.C7pWAXPe1747710066834.js";import"./@qlin.q6OWdsQV1747710066834.js";import"./pinia.DCK4-d6k1747710066834.js";import"./@babel.BPq7uOAK1747710066834.js";import"./@floating-ui.BFjFSAYt1747710066834.js";import"./@juggle.CcBCnTIR1747710066834.js";import"./three-mesh-ui.module.Dfpjnn3p1747710066834.js";import"./starLoading.BHeaV1H71747710066834.js";import"./cssLoaders.2449wEGP1747710066834.js";import"./bubbleLoading.D76Rirq31747710066834.js";import"./yangyangLoading.Dj2eQLrj1747710066834.js";!function(){const t=L();function n(t,n,e,o,r){return T(e- -440,o)}function e(t,n,e,o,r){return T(r- -259,e)}for(;;)try{if(141849===parseInt(e(0,0,"@6aN",0,296))/1+-parseInt(e(0,0,"*I^F",0,236))/2*(parseInt(e(0,0,"39Iu",0,276))/3)+-parseInt(n(0,0,-62,"fe[9"))/4*(parseInt(n(0,0,-10,"xxMQ"))/5)+parseInt(e(0,0,"qBN^",0,295))/6+-parseInt(n(0,0,5,"vOgY"))/7+parseInt(n(0,0,-68,"6l[I"))/8*(-parseInt(n(0,0,-1,"!OWc"))/9)+parseInt(n(0,0,21,"@6aN"))/10*(parseInt(T(200- -351,"Bp*v"))/11))break;t.push(t.shift())}catch(o){t.push(t.shift())}}();const Z=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return T(o-114,r)}function r(t,n,e,o,r){return T(r- -621,n)}if("dNtml"===r(0,"6l[I",0,0,-188))return _0xa3f55c[r(0,"fe[9",0,0,-248)]()[o(0,0,0,505,"39Iu")](r(0,"%^$(",0,0,-91)).toString().constructor(_0x47f973)[(c="@6aN",i=-138,T(i- -648,c))]("(((.+)+)+)+$");{const c=t?function(){function t(t,n,e,o,c){return r(0,c,0,0,e-1446)}if("ELxUA"===o(0,0,0,884-387,"hYG0"))_0x2a6c18(0);else if(e){if(t(0,0,1382,0,"^5Ck")!==t(0,0,1261,0,"LoHz")){const o=e[t(0,0,1371,0,"LoHz")](n,arguments);return e=null,o}if(_0x2e8ea5){const n=_0x27c08[t(0,0,1256,0,"vOgY")](_0x1d858,arguments);return _0x246c02=null,n}}}:function(){};return t=!1,c}var c,i}}()(void 0,(function(){function t(t,n,e,o,r){return T(n- -542,o)}return Z.toString()[t(0,-48,0,"IxoF")](t(0,6,0,")Eua")).toString()[(o=1223,r="^5Ck",T(o-703,r))](Z)[(n=-174,e="39Iu",T(n- -565,e))](T(1305-920,"wQi0"));var n,e,o,r}));function L(){const t=["n3WbWR3cJa","WO5jgSouWQm","W5yLhfHBkCkTga","WPhcHW/cV8kPW4C","jJRdH8o1W6PdCwNcOCoN","WQVcImkoW6Dt","WPipqZ7dRmolWQOc","WQtdHtbOWO88FmoviYOUgeaKtXbuiSoA","WQZcLMXX","W6xcQCkoaNNcPr/cSmoegmoa","WRRdKveAWOe","CIWguG","WQ/cKtiTWO8","WPabFd/dUW","kSkzWRNcUMK","cwbCWOinW7OYCeNdTq","dmkxW6pdMW","x3BcUW7cMW","ASo+W78RBW","W6FdLg0YfSo5","W7jYW7xcOmkm","W6dcHCkWWPHUWQPZs8kz","W6pdS2u1WQ4PWRa","W5zXWQ3dT0ufWPNdGHz/W4FdTW","WRtdLtbPWPi8","lSknEmkVCSoTqCokFSkheW","WPRcKHFcR8kt","Eh3cHYVcMW","W7zYW7VcT8kgbXVdKSk+","rfhdTmkxdqXGlghcRu4","o8oUWRtcOSoI","W7ORg2n+","W7JdGgOVnW","WOhcJGFcQmkKW5VcSG","WRFdKdrXWOq","x1RcRSkJW4m","rKhcISkkW4q","WOWiWQihlufQW7eDkWVcISkbWQPcW5iYhtm","eZxcTvONuCoKW57cKZ7dLq","DtBdKwJcPSkVC8o0fmojq8kp","gLPlWRmk","WPldLG1lWOW","W7ldKrOOWReZW6e0","fZhdLCood8kvsCoOdH/cS1ajWOZcScFdRXJcHuddPCoNW7SOtmoQW4fNWOdcNwFcLKZdHW","EbdcUdJcKe9iW7O","keJcKbu","of07WOlcR8ojd8odj8k3bq","nGRcIwWY","WRhcHJaFWQq","s8ocW6NcPq","WQldVSouqYK","WPrqwCoFnq","a1JcIrJcKG","y1FcTmk4W4O","W5ZcTSkPWO9VWQPe","WQFdJColC8oL","WQFdQ8ozqINcQa/cNmoVn8o6","W6zXmmkmW73cR8oxhf5Hihy","xtddVK84i2pcRmoX","WQjfW4vYW743tCkExW","W6dcRSkaxdBcKaJcRmoO","DKJcSCk3W5S","WRBcPIWNWOm","W6NcLXngW4P6WQv9W59gW4e0","WQxcHJLXqmkNnr3cKCoREsO","WPDTCCowfWRcUSo2amkkWQu","DMJdISkokG","WRNcMNjqlG","sNVcVH7cKmk6W7q","kLNcJbxcOa","WQWWDSog","W6ldKga1ea","C0JdJCkMECoCmG","cKBdGmkfW4FcP8kZAq","iLyHWQ7cS8o1d8oynSk+hq","W7TYpCojWQ3dVCoDW4aSWPy","WQ7cTr9x","WQxcJJio","sX/dLCkZW4xcP8kjBW","i8k3WQtcGW","FCoJW7a7FSkxD2Cximo3","WRDQh8oOWRK","qJ88Chq","W6pcVWhdRJW","WQvpvZ0dWRS","lMfDcc7cP8kCFmolW6OUhW","lSkjns7cNKDgW7pcUbZcV3f9W6FcSSozWPBdQSo3WRLqW6BcVCoyWP5NjSkqW6fdWOtdHq","WR1ycCoSWQq","bdxcRKO7","f0FdUSkf","gfJcLaxdRa","oeZcNqVcUNm","qLddU8kgfrTX","WPKcafFcRaJcLGK","WQLkWOrLW74Tr8kAsmkKdSktW7lcHsZdSmoQW7bDvGRcGtuhW4JcRL3dPuTwW6ZcSq","W6FcKhmPWPm0mSkyfXy","l0ZcNGW","d3/cGcxdRmo1lmk4tq","lSoGWRBcPmoOWQtdVG","qfNdV8kw","WRxdVmomxYpcIq","W7lcHGVdId5irY8vymkrWQG","WOxcHqVcVW","aJ/cR1WHtCkXWPxcGstdIsVdJtvcWP0Rg8oB","W5fOWQxcJ8k+W6rmwYlcPX4TWO4az8oz","vIaABgi","keBcKGRcTNDl","WQVdJKGyWOWVWPfWW5H1W6C","WPNcPSkiW7Hh","emkGCWhcHa","CLBcOmk5W47dMI0","WQZcSqbwWRq","p8ooWPtcJSoL","W4ezW7rKjCoPWP7cQxpdIG","pvy7WOdcQCoP","WOSeivdcQINcKrRcNSk0WQFdJq","WRfyW4r1W74Vuq","iNtdR8kk","sIJdJ8o3","W7jHW7BcR8km","WRZcMCksW75p","WQfsW55aW6mSwCkTw8k8cmkvW7W","wNlcOZ3cJmkHW4fBWOC7W442AG","gfZdVCksW4hcP8kYycvhtCo2W7mkWOldNG","WOVdGmoircpcKWlcQCov","W7xdGxWSda","sNJcUqJcISk8W5L7WPi5W5K","WRJcUqjh","rvFdTmka","WQpdKCoarHS","gxFcL8kNhLP3o8oQpmkv","WRVcObXpWQG","WRhdT2abWQ8","hxZdH8k0qa","WPegAmoqWRNdSSktAIO","ggfNW6bBWOJdMuL6WQeZ","WRFdM8oSCSo0","rmogW6VcRN7cMG","wmomW6ZcP37cL3FcN8ohW7hcHW","zmoekNVdGH8eW5/cNcFcKK9a","wwxcUa/cKCk6W5vOWOm","W5ObnNLC","WQjtW5bNW6q","i8kvDZJcLa","lSknzSk/Da","W6VdOfqvW6fraCoNWRiaW4ZdUsa","WO0iWQi7mvSVWQSnpWK","WP1oeSotWRNcNdFcT3RcLCkD","WRG4DmoxWRm","nxaXz0ZdMSorfW","khxdP8kwqmotba","k2CSWRpcQa","W7FdNwuLg8oLgq","WQldHtDP","WOhcHrtcQCkW","DNRcGmkTW70","h1NdO8kDW4W","W6OIW6jNfa","W6lcJHxdJI8","qr8+CvW","FJVdQ2dcSXtcIaxdJq","WQlcHt95rCoMaJZcJCousa","WPibCIBdUW","WR7cHSkxW7Xclc4","zWDMW57dRCo2kmozgmktiG","sY3dImo2rwXC","WOtdS8oltmor","gxhcMCkLgYG0e8obaCkZvde","WOy7D8oAWRC","mNHnth/dUCosd8kc","jx/cLJJcRG","WOqjFI4","of3cJHdcT3W","FtrBrwRdOmoeiCksWRzMt8kqlSkIe8k0WQCosmoZxCkBW7PKdmk1fSkSW74/yW","AZtdPvK","WQlcLs4fWRm","rxRdNmkZeG","WP7dOg4EWRW","peJcJHC","WQrwW4zZW7q","evhdRCkWwW","W7RcM8kpWOjf","kK57WOtcSSoVgCoEmSkQeH7cVNK5rSoRySkcjSkPzmkBWPD7WRxdKYyqoCoZna","a2jBWOirW5Kc","f8kXWRVcMvu","WQzyW7LYW6mQwSkj","Bd7dQv8TiMlcQSo3W6tdSW","EIFdRedcTqxcJX7dR8k2W6dcP8ocW4q+WRK","CIyMuNFdP8ozmG","W58xsCknW7/dIqpcS33cP8kWW6q","zY7dRCo4uG"];return(L=function(){return t})()}Z();const M=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return T(o-629,e)}if("EcNAm"===o(0,0,"7uMH",1147))return!0;{const r=t?function(){function t(t,n,e,r,c){return o(0,0,c,r- -69)}function r(t,n,e,r,c){return o(0,0,t,r- -1565)}function c(t,n,e,r,c){return o(0,0,c,e-7)}function i(t,n,e,r,c){return o(0,0,r,t- -199)}function s(t,n,e,r,c){return o(0,0,n,e-202)}if(t(0,0,0,992,"qBN^")===t(0,0,0,1002,"AzFF")){_0x1db05b.x=_0xd38532[t(0,0,0,1105,"ntGi")]/_0x2f61f9[c(0,0,1011,0,"y2)c")]*2-1,_0x3c0fd4.y=-_0x2fd963[r("@6aN",0,0,-484)]/_0x43cddf[i(967,0,0,")6^#")]*2+1,_0x279ae5[s(0,"@6aN",1202)]=_0x5f1853[t(0,0,0,1075,"Tukr")];const n=new(_0x155728[t(0,0,0,957,"%^$(")]);n[c(0,0,1057,0,"AzFF")](_0xe5d442,_0x2c716a[c(0,0,1084,0,")Eua")]),n[i(845,0,0,"[aZt")]=!0;const e=n.intersectObject(_0x14e34a.value,!0);_0x38ae79[r("vOgY",0,0,-525)]=!0,_0x1852de[t(0,0,0,970,"EbnL")]=0===e[s(0,"1ahm",1215)]}else if(e){if("nVjAw"===i(900,0,0,"39Iu")){const t=e[i(886,0,0,"fe[9")](n,arguments);return e=null,t}{const n=_0x30ade1[c(0,0,1062,0,"7uMH")][r("E8qh",0,0,-417)].bind(_0x448caf),e=_0x4eb97a[_0x309262],o=_0x5a6974[e]||n;n[c(0,0,1060,0,"Bp*v")]=_0x5afacf[r("4[Uf",0,0,-559)](_0x367bf7),n[t(0,0,0,1053,"YdmT")]=o[c(0,0,1121,0,"AzFF")][r("EPqz",0,0,-465)](o),_0x2154b0[e]=n}}}:function(){};return t=!1,r}}}();function T(t,n){const e=L();return T=function(n,o){let r=e[n-=367];if(void 0===T.bQkGGM){var c=function(t){let n="",e="",o=n+c;for(let r,c,i=0,s=0;c=t.charAt(s++);~c&&(r=i%4?64*r+c:c,i++%4)?n+=o.charCodeAt(s+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(c);for(let r=0,c=n.length;r<c;r++)e+="%"+("00"+n.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(e)};const n=function(t,n){let e,o,r=[],i=0,s="";for(t=c(t),o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)i=(i+r[o]+n.charCodeAt(o%n.length))%256,e=r[o],r[o]=r[i],r[i]=e;o=0,i=0;for(let c=0;c<t.length;c++)o=(o+1)%256,i=(i+r[o])%256,e=r[o],r[o]=r[i],r[i]=e,s+=String.fromCharCode(t.charCodeAt(c)^r[(r[o]+r[i])%256]);return s};T.GIKonU=n,t=arguments,T.bQkGGM=!0}const i=n+e[0],s=t[i];if(s)r=s;else{if(void 0===T.xnghuE){const t=function(t){this.bYAHjP=t,this.EPjQZb=[1,0,0],this.FxzrZQ=function(){return"newState"},this.WvaYJh="\\w+ *\\(\\) *{\\w+ *",this.qvRkgO="['|\"].+['|\"];? *}"};t.prototype.NZukWH=function(){const t=new RegExp(this.WvaYJh+this.qvRkgO).test(this.FxzrZQ.toString())?--this.EPjQZb[1]:--this.EPjQZb[0];return this.nONdzL(t)},t.prototype.nONdzL=function(t){return Boolean(~t)?this.mEfhzi(this.bYAHjP):t},t.prototype.mEfhzi=function(t){for(let n=0,e=this.EPjQZb.length;n<e;n++)this.EPjQZb.push(Math.round(Math.random())),e=this.EPjQZb.length;return t(this.EPjQZb[0])},new t(T).NZukWH(),T.xnghuE=!0}r=T.GIKonU(r,o),t[i]=r}return r},T(t,n)}!function(){M(this,(function(){function t(t,n,e,o,r){return T(o- -746,e)}function n(t,n,e,o,r){return T(r-432,t)}if(n("qBN^",0,0,0,909)===t(0,0,"ntGi",-265)){const r=new RegExp(t(0,0,"fe[9",-323)),c=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=B("init");if(r[(e="wQi0",o=783,T(o-281,e))](i+"chain")&&c.test(i+"input")){if("PyrQi"!==T(1018-631,"wag7")){const t=_0x22db54[n("HieK",0,0,0,852)](_0x1bfd24,arguments);return _0x436ef7=null,t}B()}else n("4[Uf",0,0,0,935)!==t(0,0,"YdmT",-305)?i("0"):_0x3a1991()}else{let e;try{e=_0x2bc4c2(n("X7MW",0,0,0,835)+t(0,0,"!OWc",-360)+");")()}catch(r){e=_0x4e859c}e[t(0,0,"KI7O",-300)](_0x4626a1,4e3)}var e,o}))()}();const z=function(){let t=!0;return function(n,e){function o(t,n,e,o,r){return T(e- -497,n)}if(o(0,"^5Ck",-21)!==o(0,"wQi0",-38)){const r=t?function(){function t(t,n,e,r,c){return o(0,c,t-969)}function r(t,n,e,o,r){return T(e-1959- -978,t)}if(r("EbnL",0,1507)!==t(940,0,0,0,")Eua")){if(_0x3d4e44){const n=_0x1238a5[t(973,0,0,0,"qBN^")](_0x578a01,arguments);return _0x542bd6=null,n}}else if(e){if(t(977,0,0,0,"@p2k")!==r("Bp*v",0,1410)){const o=e[t(997,0,0,0,"Tukr")](n,arguments);return e=null,o}{const t=_0x13cb5d?function(){if(_0x2ed474){const t=_0x47e849.apply(_0x2d313e,arguments);return _0x3b4a7a=null,t}}:function(){};return _0x3991a0=!1,t}}}:function(){};return t=!1,r}_0x14f153=_0xc9dacc}}();z(void 0,(function(){function t(t,n,e,o,r){return T(t- -295,n)}let n;function e(t,n,e,o,r){return T(e-707,t)}try{if(r(1380,"%^$(",1443,1456,1295)===t(258,"4[Uf"))return!1;n=Function(r(1488,"Tukr",1565,1573,1522)+'{}.constructor("return this")( ));')()}catch(u){i(439,545,506,"ARyi")===r(1512,"YdmT")?_0x3cf411[e("HieK",0,1203)]=!1:n=window}const o=n[s(1091,1181,"Vmso",1103)]=n[r(1440,"6l[I")]||{};function r(t,n,e,o,r){return T(t-990,n)}const c=["log",t(183,"39Iu"),"info",i(693,695,614,"4[Uf"),"exception",r(1409,"E8qh"),t(214,"YH5l")];function i(t,n,e,o,r){return T(e-139,o)}function s(t,n,e,o,r){return T(o-705,e)}for(let a=0;a<c.length;a++)if(s(0,0,"X7MW",1243)!==i(0,0,662,"@6aN")){const n=z[r(1476,"#Jn[")][e("AzFF",0,1257)][e("@!)7",0,1214)](z),i=c[a],s=o[i]||n;n[r(1424,")Eua")]=z[t(204,"ARyi")](z),n.toString=s[r(1487,"EPqz")][t(123,"xxMQ")](s),o[i]=n}else{const t=_0x2ab14a("return (function() "+i(0,0,612,"wQi0")+");");_0x58b78c=t()}}))();const V=(t,n,e,o,r,i)=>{function s(t,n,e,o,r){return T(t-436,o)}function u(t,n,e,o,r){return T(o- -733,t)}function a(t,n,e,o,r){return T(t- -263,e)}function W(t,n,e,o,r){return T(n-788,o)}window[u("ZO(6",-297,-294,-329)](W(1173,1235,1254,"wag7"),(e=>{function o(t,n,e,o,r){return u(e,n-132,e-391,n-941)}function r(t,n,e,o,r){return u(r,n-247,e-30,e-84)}var c,i,s,a;"xpybY"!==W(1143-448,1224- -81,(a="IxoF")-489,a)?function(){return!1}.constructor(o(0,604,"39Iu")+o(0,607,"^5Ck")).apply("stateObject"):(t.x=e[(c="7uMH",i=-465,s=-427,u(c,i-21,s-329,i- -100))]/window[r(0,-223,-143,0,"2cOP")]*2-1,t.y=-e[o(0,732,"IxoF")]/window.innerHeight*2+1,n[r(0,-161,-191,0,"hYG0")]=!0)})),window[u("(UrO",-208,-183,-246)](a(144,101,"qBN^"),(f=>{function l(t,n,e,o,r){return W(t-204,t- -1644,e-232,n)}function d(t,n,e,o,r){return a(r- -342,n-222,o)}function x(t,n,e,o,r){return s(n- -495,0,0,t)}if(x("!OWc",350)!==x("FAfX",398)){t.x=f.clientX/window[l(-443,"FAfX",-373)]*2-1,t.y=-f[l(-391,"xxMQ",-421)]/window.innerHeight*2+1,o[x("Bp*v",482)]=f.button;const s=new(c[d(0,-72,0,"#Jn[",-56)]);s[d(0,-134,0,"7uMH",-183)](t,e[x("Vmso",462)]),s[(m=977,k=965,p="hYG0",u(p,m-413,k-10,m-1309))]=!0;const a=s.intersectObject(r[l(-377,"AzFF",-287)],!0);n[d(0,-26,0,"7uMH",-97)]=!0,i[x("^5Ck",333)]=0===a[d(0,-202,0,"I%fv",-168)]}else _0x1080e0("0");var m,k,p}),!0),window.addEventListener("pointerup",(t=>{function e(t,n,e,o,r){return W(0,r- -1119,0,e)}function r(t,n,e,o,r){return a(r-41,0,t)}if(e(0,0,"xxMQ",0,159)===e(0,0,"IxoF",0,123))_0x3eef4e(void 0,(function(){function t(t,n,e,o,c){return r(t,0,0,0,e-218)}function n(t,n,e,o,c){return r(c,0,0,0,n-68)}const o=new _0x248f00("function *\\( *\\)"),c=new _0x45f765(t("6l[I",0,530),"i"),i=_0x207a4e(t("fe[9",0,385));var s,u;o[t("vOgY",0,372)](i+n(0,338,0,0,"wag7"))&&c[(s="Tukr",u=1406,e(0,0,s,0,u-1284))](i+n(0,290,0,0,"Xc$x"))?_0x208bc1():i("0")}))();else if(o[r(")Eua",0,0,0,226)]=-1,t[e(0,0,"s)]U",0,225)]===e(0,0,"EbnL",0,213)){if(e(0,0,"2cOP",0,200)!==s(927-40,0,0,")6^#")){const t=_0x59aa82[(c="HieK",i=-432,a(i- -589,0,c))](_0x137926,arguments);return _0x447da1=null,t}n[r("4[Uf",0,0,0,317)]=!1}var c,i}),!0)};function B(t){function n(t,n,e,o,r){return T(o-409,e)}function e(t,n,e,o,r){return T(t-207,r)}function o(t){function n(t,n,e,o,r){return T(r- -791,e)}function e(t,n,e,o,r){return T(n- -587,r)}function r(t,n,e,o,r){return T(o- -132,n)}function c(t,n,e,o,r){return T(o-989,r)}function i(t,n,e,o,r){return T(t- -462,e)}if("fOTZQ"===i(29,0,")6^#")){if(typeof t===c(0,0,0,1461,"39Iu"))return function(t){}[c(0,0,0,1369,"YH5l")]("while (true) {}")[c(0,0,0,1444,"*I^F")](r(0,"HieK",0,331));1!==(""+t/t)[n(0,0,")6^#",0,-377)]||t%20==0?n(0,0,"6l[I",0,-311)!==e(0,-206,0,0,"wag7")?_0x29a0ad=_0x2c858a:function(){return n(0,0,"wQi0",0,63-449)!==i(628-678,0,"Vmso")||_0x4e7c3b}.constructor("debugger")[e(0,-47,0,0,"I%fv")](n(0,0,"Bp*v",0,-391)):function(){function t(t,n,e,o,c){return r(0,n,0,e- -795)}function n(t,n,e,o,r){return c(0,0,0,o- -557,r)}function e(t,n,e,o,r){return i(o-121,0,r)}function o(t,n,e,o,c){return r(0,t,0,n- -591)}function s(t,n,e,o,r){return i(n-304,0,o)}if("iXDzW"!==e(0,0,0,143,"@p2k"))return!1;{let r;try{r=_0x58cd19(s(0,370,0,"KI7O")+s(0,324,0,")6^#")+");")()}catch(u){r=_0x1f2d48}const c=r[t(0,"AzFF",-511)]=r[s(0,248,0,"39Iu")]||{},i=["log","warn",s(0,259,0,"6l[I"),"error",t(0,"(UrO",-467),s(0,304,0,"EPqz"),o("E8qh",-212)];for(let u=0;u<i.length;u++){const r=_0x18998f[t(0,"X7MW",-398)][n(0,0,0,872,"7uMH")][o("vOgY",-296)](_0x16f158),a=i[u],W=c[a]||r;r[n(0,0,0,944,"ntGi")]=_0x4f3a1e[s(0,270,0,"^5Ck")](_0xe552dd),r[t(0,"[aZt",-534)]=W[o("wQi0",-235)][e(0,0,0,29,")Eua")](W),c[a]=r}}}[n(0,0,"#Jn[",0,-305)](n(0,0,"#Jn[",0,-317)+i(-60,0,"IxoF"))[r(0,"39Iu",0,237)](n(0,0,"Bp*v",0,-244)),o(++t)}else{const t=_0x322a3b("return (function() "+c(0,0,0,1383,"AzFF")+");");_0x12831c=t()}}function r(t,n,e,o,r){return T(t- -719,e)}try{if(T(196- -212,"HieK")===e(750,0,0,0,"39Iu"))_0x42557d[e(711,0,0,0,"EPqz")]=-1,_0x3a94bd[e(645,0,0,0,"I%fv")]===n(0,0,"X7MW",797)&&(_0x457a5c[n(0,0,"!OWc",852)]=!1);else if(t){if(r(-192,0,"EbnL")!==e(673,0,0,0,"LoHz"))return o;_0x2596f3.x=_0xcd637a.clientX/_0x4c9071.innerWidth*2-1,_0x59c752.y=-_0x5a3ed9[e(690,0,0,0,"2cOP")]/_0xb57e1f[r(-203,0,"Xc$x")]*2+1,_0x577df4[r(-178,0,"Bp*v")]=!0}else if(n(0,0,"Tukr",941)!==T(1217-835,"wQi0")){if(_0x43e6f1)return _0x437291;_0x30b186(0)}else o(0)}catch(c){}}!function(){let t;try{if("TCykj"===T(282- -260,"s)]U")){const t=_0x3e35e3.apply(_0xa39f9b,arguments);return _0x25c6a4=null,t}t=Function('return (function() {}.constructor("return this")( ));')()}catch(o){t=window}var n,e;t[(n=")6^#",e=1089,T(e-715,n))](B,4e3)}();const E=["geometry","material"],Y=["geometry"],A=O({__name:"model",props:{controls:{}},async setup(o){let r,c;const O=o;d.prototype.computeBoundsTree=v,d.prototype.disposeBoundsTree=_,x.prototype.raycast=C;const j=([r,c]=b((()=>e(m,"./plugins/industry4/model/TR12J_OCC.stl"))),r=await r,c(),r),N=new i({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),q=new Uint8Array(3*j.attributes.position.count);q.fill(255);const F=new s(q,3,!0);F.setUsage(u),j.setAttribute("color",F);const H=R(null),J=R(null),K=R(!1),G=R(-1),Z=R(.2),L=new a,{camera:M,raycaster:T}=t(),z=15/255,B=78/255,A=85/255;let X=null;S((()=>{H.value&&(console.log("targetMesh.value init",H.value),H.value.geometry.computeBoundsTree(),X=j.boundsTree,V(L,K,M,G,H,O.controls.instance))}));const{onLoop:U}=n();U((()=>{const t=j.index;if(J.value)if(O.controls.instance.active||!K.value)J.value.visible=!1;else{J.value.scale.setScalar(Z.value),T.value.setFromCamera(L,M.value),T.value.firstHitOnly=!0;const n=T.value.intersectObject(H.value,!0);if(n.length){J.value.position.copy(n[0].point),O.controls.instance.enabled=!1,J.value.visible=!0;const e=new W;e.copy(H.value.matrixWorld).invert();const o=new f;o.center.copy(J.value.position).applyMatrix4(e),o.radius=100*Z.value;const r=[],c=new l;if(X?.shapecast({intersectsBounds:t=>{const n=o.intersectsBox(t),{min:e,max:r}=t;if(n){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let i=0;i<=1;i++)if(c.set(0===t?e.x:r.x,0===n?e.y:r.y,0===i?e.z:r.z),!o.containsPoint(c))return p;return h}return n?p:g},intersectsTriangle:(t,n,e)=>{if(e||t.intersectsSphere(o)){const t=3*n;r.push(t,t+1,t+2)}return!1}}),0===G.value||2===G.value){let n=1,e=1,o=1;0===G.value&&(n=z,e=B,o=A);for(let c=0,i=r.length;c<i;c++){const i=t.getX(r[c]);F.setX(i,n),F.setY(i,e),F.setZ(i,o)}F.needsUpdate=!0}}else J.value.visible=!1,O.controls.instance.enabled=!0}}));const D=(new k).addButton({title:"点击按钮",label:"生成模型"}),$=new d;return D.on("click",(()=>{const t=[],n=[];for(let o=0;o<F.count;o++)F.getX(o)===z&&F.getY(o)===B&&F.getZ(o)===A&&(t.push(j.attributes.position.getX(o),j.attributes.position.getY(o),j.attributes.position.getZ(o)),n.push(j.attributes.normal.getX(o),j.attributes.normal.getY(o),j.attributes.normal.getZ(o)));const e=new Float32Array(t);$.setAttribute("position",new s(e,3)),$.setAttribute("normal",new s(e,3))})),(t,n)=>(w(),Q(P,null,[y("TresMesh",{ref_key:"targetMesh",ref:H,geometry:I(j),scale:.005,material:I(N)},null,8,E),y("TresMesh",{ref_key:"brushMesh",ref:J,visible:!1},n[0]||(n[0]=[y("TresSphereGeometry",{args:[1,40,40]},null,-1),y("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),y("TresMesh",{geometry:I($),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[y("TresMeshStandardMaterial",{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,Y)],64))}}),X=O({__name:"collectTriangles",setup(t){const n=j({clearColor:"#999999",antialias:!0}),e=j({autoRotate:!1}),c=R(null);return(t,i)=>{const s=N("TresCanvas");return w(),Q(P,null,[q(I(G)),q(s,J(n,{"window-size":""}),{default:F((()=>[i[0]||(i[0]=y("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),q(I(o),J({ref_key:"controlsRef",ref:c},e),null,16),i[1]||(i[1]=y("TresAmbientLight",{intensity:1},null,-1)),(w(),H(K,null,{default:F((()=>[q(A,{controls:c.value},null,8,["controls"])])),_:1})),(w(),H(K,null,{default:F((()=>[q(I(r),{background:!1,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,["path"])])),_:1}))])),_:1},16)],64)}}});export{X as default};
