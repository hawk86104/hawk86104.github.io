import{a as t,B as n,s as e,c7 as o,C as r,k as s,a0 as c}from"./three.jaHX2_hY1736406294003.js";import{w as i}from"./@fesjs.GZFvw4sh1736406294003.js";import{b as a}from"./@tresjs.AACxYGk_1736406294003.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.H0JQq-uA1736406294003.js";function l(){const t=["stateObject","getX","info","80778KbIjtm","computeBoundsTree","log","boundingBox","bind","depthTest","length",'{}.constructor("return this")( )',"add","warn","#fff","9864OWlQMf","init","getY","count","function *\\( *\\)","applyMatrix4","then","string","setFromObject","sub","32uNDWzB","random","exception","transparent","548190fvvfvR","features","computeBoundingBox","deleteAttribute","children","value","json","raycast","80631rHggls","setY","set","while (true) {}","error","call","copy","position","93174tSSYpK","77915AxUvBh","table","attributes","clone","min","side","forEach","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","apply","counter","console","material","chain","debu","116rmUiii","push","trace","getSize","Box3","56BeutLB","disposeBoundsTree","setAttribute","negate","action","1320CaYQcY","prototype","max","geometry","uniforms","getCenter","center","toString"];return(l=function(){return t})()}!function(t,n){const e=b,o=l();for(;;)try{if(181224===parseInt(e(337))/1+parseInt(e(354))/2*(-parseInt(e(364))/3)+parseInt(e(386))/4+-parseInt(e(338))/5+-parseInt(e(375))/6*(-parseInt(e(359))/7)+-parseInt(e(396))/8*(parseInt(e(408))/9)+parseInt(e(400))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(348)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=b,n=new RegExp(t(390)),e=new RegExp(t(346),"i"),o=j(t(387));n.test(o+t(352))&&e.test(o+"input")?j():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(348)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function("return (function() "+t(382)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(350)]||{},o=[t(377),t(384),t(374),t(412),t(398),t(339),t(356)];for(let r=0;r<o[t(381)];r++){const n=m.constructor[t(365)][t(379)](m),s=o[r],c=e[s]||n;n[t(347)]=m[t(379)](m),n[t(371)]=c[t(371)].bind(c),e[s]=n}}))();const h=(n,e=!1)=>{const o=b;n.computeBoundingBox();const{max:r,min:s}=n[o(378)];n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n.attributes.position[o(389)];t++)e?(a[o(355)]((n[o(340)][o(336)][o(373)](t)-(s.x+r.x)/2)/c),a.push((n[o(340)][o(336)][o(388)](t)-(s.y+r.y)/2)/i)):(a[o(355)]((n[o(340)][o(336)][o(373)](t)-s.x)/c),a[o(355)]((n.attributes[o(336)][o(388)](t)-s.y)/i));const u=new Float32Array(a);n[o(361)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=b;i(t,{},{method:"get",mergeRequest:!0,responseType:r(406)})[r(392)]((t=>{const o=r;n&&e(t[n]),e(t[o(401)])})).catch((t=>{console[r(412)](t),o(t)}))})),y=t=>{const n=b,e=(new(THREE[n(358)]))[n(394)](t),o=new THREE.Vector3;e[n(369)](o),t[n(404)][n(344)]((t=>{const e=n;t.position[e(395)](o)})),t[n(336)][n(414)](o[n(362)]())},w=()=>{const t=b;n.prototype[t(376)]=u,n.prototype[t(360)]=p,e[t(365)][t(407)]=f},x=async t=>{const n=b,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(367)][n(341)]();h(i),i[n(376)]();const u=new o(i,{color:new r(n(385)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(351)][n(399)]=!0,u[n(351)].depthWrite=!0,u[n(351)][n(380)]=!0,u[n(351)][n(343)]=c,u[n(351)][n(368)].config[n(405)].w=20,u[n(351)][n(368)].reflectivity[n(405)]=.46,u};function b(t,n){const e=l();return(b=function(t,n){return e[t-=336]})(t,n)}function B(t){const n=b,e=[];for(let r=0;r<t[n(381)];r++)e[n(355)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(381)];r++)o[n(383)](e[r]);o.divideScalar(e[n(381)]);for(let r=0;r<e[n(381)];r++)e[r][n(395)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=b;if(typeof t===e(393))return function(t){}.constructor(e(411))[e(348)](e(349));1!==(""+t/t)[e(381)]||t%20==0?function(){return!0}.constructor(e(353)+"gger")[e(413)](e(363)):function(){return!1}.constructor(e(353)+e(345)).apply(e(372)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,B as g,w as i,d as l,h as r,x as s};
