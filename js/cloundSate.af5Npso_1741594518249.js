import{a as t,m as n,o as e}from"./@tresjs.gjafZgVK1741594518249.js";import{bk as o,Y as r,_ as c}from"./three.8y0_KTxz1741594518249.js";import{_ as i,U as s}from"./three-tile.6g-Ga_iQ1741594518249.js";import{_ as a,s as u}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.Lki1vN3O1741594518249.js";import{d as p,a3 as l,w as f,o as m,H as g,N as h,u as d,r as _,b as y,f as I,g as S,j as w,m as b,al as j,F as v,e as x,aj as F,ak as D}from"./@vue.NRI7TcgI1741594518249.js";import{P as M}from"./tweakpane.yDiyAAkA1741594518249.js";import{_ as G}from"./informationDiv.-d3b_WCT1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./@fesjs._tIE6C7-1741594518249.js";import"./vue-router.qtZNKV811741594518249.js";import"./lodash-es.pklfUAS51741594518249.js";import"./@qlin.yHhFDldE1741594518249.js";import"./pinia.3XPyh4eK1741594518249.js";import"./@floating-ui.BPbuo5Gx1741594518249.js";import"./@juggle.7yjBMqoW1741594518249.js";function E(t,n){const e=N();return(E=function(t,n){return e[t-=439]})(t,n)}const T=E;!function(t,n){const e=E,o=N();for(;;)try{if(687946===-parseInt(e(456))/1+parseInt(e(486))/2+-parseInt(e(473))/3+-parseInt(e(463))/4+-parseInt(e(469))/5*(parseInt(e(480))/6)+-parseInt(e(440))/7+parseInt(e(492))/8*(parseInt(e(488))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(444)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=E,n=new RegExp(t(468)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=C(t(459));n[t(453)](o+t(443))&&e.test(o+t(467))?C():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(444)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();z(void 0,(function(){const t=E;let n;try{n=Function(t(498)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(496)]=n[t(496)]||{},o=[t(458),"warn",t(455),t(462),"exception",t(478),t(499)];for(let c=0;c<o[t(448)];c++){const n=z[t(482)][t(485)].bind(z),r=o[c],i=e[r]||n;n[t(466)]=z.bind(z),n[t(470)]=i[t(470)].bind(i),e[r]=n}}))();const A=["position"],B=[T(490),T(483),T(454),"position-y"],L=p({__name:T(475),props:{map:{},height:{default:100},color:{default:T(481)},opacity:{default:.6}},async setup(n){const e=T;let i,s;const u=n,p=new o({displacementMap:new r,transparent:!0,side:c[e(446)],opacity:u[e(497)],color:new(c[e(474)])(u[e(447)])});p.onBeforeCompile=t=>{const n=e;t[n(472)]="uniform sampler2D map;\n\t\t"+t[n(472)],t.vertexShader=t.vertexShader.replace(n(464),n(500)),t[n(449)]=t.fragmentShader[n(461)](n(491),"\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ")};const _=u[e(494)].geo2pos(new(c[e(445)])(105,34,0));_[e(489)](u[e(494)][e(441)]);const y=a[e(457)](u[e(494)],{x:67,y:11},{x:140,y:57},u[e(487)]),I=[e(465),e(484),"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png",e(452)];let S=0;const w=([i,s]=l((()=>t(I))),i=await i,s(),i);p.map=w[S],f((()=>[u[e(447)],u[e(497)]]),(([t,n])=>{const o=e;p[o(447)][o(479)](t),p.opacity=n}));let b=null,j=!1;return j?(clearInterval(b),b=null,j=!1):(b=setInterval((()=>{const t=E;S=S<I.length-1?S+1:0,p.map=w[S],p[t(442)]=!0,console[t(458)](S)}),1e3),j=!0),(t,n)=>{const o=e;return m(),g(o(495),{position:[...d(_)]},[h(o(460),{scale:[d(y).x,d(y).y,t.height],material:d(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(487)]/5},n[0]||(n[0]=[h(o(451),{args:[1,1,529,420]},null,-1)]),8,B)],8,A)}}});function N(){const t=["chain","apply","Vector3","DoubleSide","color","length","fragmentShader","gger","TresPlaneGeometry","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","test","rotateX","info","1264780drTZiq","scaleImg","log","init","TresMesh","replace","error","3943380mkBlEY","#include <displacementmap_vertex>","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","__proto__","input","function *\\( *\\)","10FGCGSE","toString","counter","vertexShader","1713960SrafzN","Color","cloundSateShow","while (true) {}","stateObject","table","setStyle","2293350gLraVJ","#cccccc","constructor","material","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png","prototype","1541134ftxIJw","height","14070114neLHsK","applyMatrix4","scale","#include <alphamap_fragment>","24otJMRP","action","map","TresGroup","console","opacity","return (function() ","trace","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );","debu","8303848jFDZVx","matrix","needsUpdate"];return(N=function(){return t})()}function C(t){function n(t){const e=E;if("string"==typeof t)return function(t){}[e(482)](e(476))[e(444)](e(471));1!==(""+t/t).length||t%20==0?function(){return!0}[e(482)](e(439)+e(450)).call(e(493)):function(){return!1}.constructor(e(439)+e(450))[e(444)](e(477)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=V;!function(t,n){const e=V,o=O();for(;;)try{if(355074===-parseInt(e(484))/1+-parseInt(e(529))/2+-parseInt(e(508))/3+parseInt(e(483))/4+-parseInt(e(503))/5+parseInt(e(513))/6*(parseInt(e(519))/7)+parseInt(e(515))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=V,n=new RegExp(t(501)),e=new RegExp(t(506),"i"),o=U("init");n[t(527)](o+t(495))&&e.test(o+t(502))?U():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(532)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=V;let n;try{n=Function(t(512)+t(525)+");")()}catch(r){n=window}const e=n[t(526)]=n.console||{},o=[t(481),"warn",t(528),"error","exception",t(524),"trace"];for(let c=0;c<o[t(522)];c++){const n=Z[t(507)][t(494)][t(479)](Z),r=o[c],i=e[r]||n;n[t(487)]=Z[t(479)](Z),n[t(500)]=i.toString[t(479)](i),e[r]=n}}))();const H=[R(490)];function O(){const t=["primitive","TresDirectionalLight","return (function() ","395394vZGwQQ","value","10048912gIwNdi","GDSource","opacity","controlsEvents","70QCOsEF","geo2pos","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","length","Vector3","table",'{}.constructor("return this")( )',"console","test","info","720722JmsHid","terrain-rgb","while (true) {}","apply","target","mapBoxShow2","bind","position","log","透明度","1831296IMNFEv","593239BfnUFo","color","gger","__proto__","string","MapBoxSource","object","localToWorld","plugin","map","prototype","chain","mapbox.terrain-rgb","call","copy","debu","toString","function *\\( *\\)","input","2799195tLyrmn","#cccccc","addBinding","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","1513245WIlGJh","action"];return(O=function(){return t})()}function V(t,n){const e=O();return(V=function(t,n){return e[t-=479]})(t,n)}const J=R(521),P=p({__name:R(534),setup(t){const e=R,o=_({height:500,color:e(504),opacity:.6}),r=new M({title:"参数"});r[e(505)](o,e(485),{label:"颜色"}),r[e(505)](o,"height",{label:"高度",min:10,max:5e3,step:10}),r[e(505)](o,e(517),{label:e(482),min:0,max:1,step:.1});const p=new(i[e(492)][e(489)])({token:J,dataType:e(530),style:e(496),maxLevel:15}),l=new s({imgSource:[new(i[e(492)].GDSource)({style:"6"}),new(i[e(492)][e(516)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});l.rotateX(-Math.PI/2);const x=new(c[e(523)])(105,34,0),F=new(c[e(523)])(110,0,1e4),D=l[e(491)](l.geo2pos(x)),G=l[e(491)](l[e(520)](F)),E=y(),{camera:T,controls:k,scene:z,renderer:A}=n();return T[e(514)]&&T.value[e(480)][e(498)](G),f((()=>k[e(514)]),(t=>{const n=e;t&&(t[n(533)][n(498)](D),a[n(518)](t,T.value,z[n(514)]))})),f((()=>E[e(514)]),(t=>{const n=e;t&&t.target[n(480)][n(498)](D)})),u(T[e(514)],A[e(514)].domElement,l),(t,n)=>{const r=e;return m(),g(v,null,[h(r(511),{ref_key:"tdLight",ref:E,position:[0,2e3,1e3],intensity:1},null,512),h(r(510),{object:d(l)},null,8,H),(m(),I(j,null,{default:S((()=>[w(L,b({map:d(l)},o),null,16,[r(493)])])),_:1}))],64)}}});function U(t){function n(t){const e=V;if(typeof t===e(488))return function(t){}[e(507)](e(531))[e(532)]("counter");1!==(""+t/t)[e(522)]||t%20==0?function(){return!0}[e(507)](e(499)+"gger")[e(497)](e(509)):function(){return!1}.constructor("debu"+e(486))[e(532)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=X;!function(t,n){const e=X,o=Y();for(;;)try{if(529013===parseInt(e(446))/1+-parseInt(e(471))/2*(parseInt(e(469))/3)+-parseInt(e(438))/4+parseInt(e(457))/5+parseInt(e(448))/6+-parseInt(e(454))/7+parseInt(e(461))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Q(this,(function(){const t=X,n=new RegExp(t(434)),e=new RegExp(t(455),"i"),o=tt(t(467));n.test(o+t(447))&&e[t(452)](o+t(439))?tt():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(){const t=['{}.constructor("return this")( )',"prototype","console","length","init","constructor","22989nzuKNG","exception","50fRQbaV","return (function() ","function *\\( *\\)","table","#dbf0ff","cloundSate","3409204vfFxBU","input","debu","toString","highp","call","while (true) {}","bind","305322kGwkNw","chain","3295698JSJSZB","__proto__","error","TresPerspectiveCamera","test","TresCanvas","564193CSTgfC","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","2670845EqIxWU","apply","log","trace","2117712Ynjczy","gger"];return(Y=function(){return t})()}function X(t,n){const e=Y();return(X=function(t,n){return e[t-=433]})(t,n)}$(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(433)+t(463)+");")()}catch(e){n=window}return n}(),e=n[t(465)]=n[t(465)]||{},o=[t(459),"warn","info",t(450),t(470),t(435),t(460)];for(let r=0;r<o[t(466)];r++){const n=$[t(468)][t(464)][t(445)]($),c=o[r],i=e[c]||n;n[t(449)]=$.bind($),n[t(441)]=i[t(441)][t(445)](i),e[c]=n}}))();const K=p({__name:q(437),setup(t){const n=q,o=_({clearColor:n(436),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(442)}),r=_({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const i=n,s=x(i(453));return m(),g(v,null,[w(s,b(o,{"window-size":""}),{default:S((()=>[c[0]||(c[0]=h(i(451),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),w(d(e),F(D(r)),null,16),c[1]||(c[1]=h("TresAmbientLight",{intensity:1},null,-1)),w(P)])),_:1},16),w(G)],64)}}});function tt(t){function n(t){const e=X;if("string"==typeof t)return function(t){}[e(468)](e(444))[e(458)](e(456));1!==(""+t/t).length||t%20==0?function(){return!0}[e(468)](e(440)+e(462))[e(443)]("action"):function(){return!1}[e(468)](e(440)+e(462))[e(458)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
