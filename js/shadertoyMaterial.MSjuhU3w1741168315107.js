import{e as t,o as n,a as e}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{a6 as o,a0 as r,f as i,V as s,av as a,s as c,cN as u,r as l}from"./three.FxqAALWt1741168315107.js";import{z as f}from"./three-custom-shader-material.q4QTPw9f1741168315107.js";import{P as p}from"./tweakpane.yDiyAAkA1741168315107.js";import{a as h}from"./axios.qd3pZFDv1741168315107.js";import{d as m,r as g,a3 as d,q as v,e as w,o as y,f as b,g as I,N as j,j as x,u as _,aj as C,ak as R,m as A}from"./@vue.NRI7TcgI1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";!function(t,n){const e=D,o=z();for(;;)try{if(900596===parseInt(e(523))/1*(-parseInt(e(515))/2)+-parseInt(e(501))/3+-parseInt(e(541))/4+-parseInt(e(510))/5+parseInt(e(540))/6+parseInt(e(516))/7*(parseInt(e(524))/8)+parseInt(e(535))/9*(parseInt(e(521))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(518)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(512),"i"),o=E(t(514));n.test(o+t(527))&&e[t(519)](o+t(503))?E():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(518)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(536)+t(532)+");")()}catch(e){n=window}return n}(),e=n[t(520)]=n[t(520)]||{},o=[t(526),"warn","info","error",t(537),t(502),"trace"];for(let r=0;r<o[t(507)];r++){const n=T[t(531)].prototype.bind(T),i=o[r],s=e[i]||n;n[t(525)]=T[t(517)](T),n.toString=s[t(500)].bind(s),e[i]=n}}))();class O{constructor(t,n){const e=D,i=O.replaceVariable(t),s=new f({baseMaterial:o,vertexShader:e(538),fragmentShader:i,side:r,uniforms:n[e(528)][e(499)]});this.material=s,console[e(526)](this[e(528)])}static replaceVariable(t){const n=D;t=n(506)+t;if(/iTime|iTimeDelta/g[n(519)](t)){let e=t[n(511)](n(506));t=(t=n(506)+"uniform float utime;\n"+e[1])[n(530)](/iTime|iTimeDelta/g,"utime")}if(/iResolution\.[a-zA-Z_]+/g[n(519)](t)){let e=t[n(511)](n(506));t=(t=(t=n(506)+n(505)+e[1]).replace(/iResolution\.[a-zA-Z_]+/g,"1."))[n(530)](/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(519)](t)){let e=t.split(n(506));t=(t=n(506)+n(534)+e[1]).replace(/iChannel0|iChannel1|iChannel2|iChannel3/g,n(504))}return t.replace(/iMouse/g,"umouse"),t[n(530)](/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,n(513))[n(530)](/fragColor/g,n(509))[n(530)](/fragCoord/g,n(542))}}function z(){const t=["action","csm_DiffuseColor","4081695VbOqno","split","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","void main()","init","4QRAjPv","7Hbovni","bind","apply","test","console","5693990OBEgCy","stateObject","260495ESvbAR","14404232iZjEgM","__proto__","log","chain","material","gger","replace","constructor",'{}.constructor("return this")( )',"call","uniform sampler2D  utexture;\n","9stKpWY","return (function() ","exception","\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ","debu","4760628FojqGy","2166184cHzSox","vUv","uniforms","toString","1151685VLgVPZ","table","input","utexture","uniform vec2 uresolution;\n","varying vec2 vUv;\n","length"];return(z=function(){return t})()}function D(t,n){const e=z();return(D=function(t,n){return e[t-=499]})(t,n)}function E(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(531)]("while (true) {}")[e(518)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(531)](e(539)+e(529))[e(533)](e(508)):function(){return!1}[e(531)](e(539)+e(529))[e(518)](e(522)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=P;!function(t,n){const e=P,o=H();for(;;)try{if(104154===-parseInt(e(268))/1+-parseInt(e(258))/2+-parseInt(e(242))/3*(parseInt(e(278))/4)+-parseInt(e(250))/5+-parseInt(e(233))/6*(parseInt(e(224))/7)+-parseInt(e(262))/8+parseInt(e(234))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(221)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=P,n=new RegExp(t(252)),e=new RegExp(t(280),"i"),o=M(t(284));n.test(o+"chain")&&e[t(247)](o+t(269))?M():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(221)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=P;let n;try{n=Function(t(273)+t(257)+");")()}catch(r){n=window}const e=n[t(244)]=n.console||{},o=["log",t(243),t(285),t(239),t(241),t(265),t(274)];for(let i=0;i<o[t(229)];i++){const n=Z[t(275)].prototype.bind(Z),r=o[i],s=e[r]||n;n[t(260)]=Z[t(276)](Z),n[t(287)]=s[t(287)][t(276)](s),e[r]=n}}))();const k={ref:"perspectiveCameraRef",position:[300,250,-122],fov:45,near:1,far:1e4},L=[G(261),G(286)];function P(t,n){const e=H();return(P=function(t,n){return e[t-=219]})(t,n)}function H(){const t=["action","table","TresPerspectiveCamera","?key=BdHlhH","178536gdWgvr","input","renderpass","change","data","return (function() ","trace","constructor","bind","https://www.shadertoy.com/view/mtyGWy","52QVIRwu","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresDirectionalLight","addres","counter","init","info","side","toString","Plane","Shader","apply","Error","BOX","91xofsty","add","shadertoyMaterial","value","shadertoy在线地址","length","TresAmbientLight","string","#ffffff","31902cOQeSi","7180578ImiLkd","#000000","then","TresAxesHelper","TresGridHelper","error","primitive","exception","11967OqnMGs","warn","console","addBlade","geometry","test","utime","call","208685ifYOOa","debu","function *\\( *\\)","split","dispose","material","TresCanvas",'{}.constructor("return this")( )',"391752IdhPXC","children","__proto__","object","1252488QaGqcj","list"];return(H=function(){return t})()}const q=m({__name:G(226),async setup(o){const f=G;let m,S;const T={clearColor:f(235),shadows:!0,alpha:!1,useLegacyLights:!0},z={autoRotate:!0,enableDamping:!0},D=new p({title:"参数"}),E=g({addres:"https://www.shadertoy.com/view/mtyGWy",shadervalue:""});let V=([m,S]=d((()=>e(["./plugins/earthSample/image/earthA/moon_ring.png"]))),m=await m,S(),m),Z=new i,P=g({material:{uniforms:{utime:{value:0},uresolution:{value:new s(40,40)},utexture:{value:V}}}}),H=new a(100,100,100);D[f(245)]({view:f(263),label:f(228),parse:t=>String(t),options:[{text:"1",value:f(277)},{text:"2",value:"https://www.shadertoy.com/view/tlVGDt"},{text:"3",value:"https://www.shadertoy.com/view/ttKGDt"}],value:f(277)}).on("change",(t=>{const n=f;E[n(282)]=t[n(227)],Q(H)}));let q=new a(100,100,100),M=new c(100,100),B=new u(100,10,100,16);D[f(245)]({view:f(263),label:"几何体",options:[{text:f(223),value:q},{text:f(219),value:M},{text:"TorusKnot",value:B}],value:q}).on(f(271),(t=>{H=t[f(227)],Q(H)}));const Q=t=>{const n=f;let e="https://www.shadertoy.com/api/v1/shaders/"+E[n(282)][n(253)]("https://www.shadertoy.com/view/")[1]+n(267);h.get(e)[n(236)]((function(e){const o=n;e[o(272)][o(222)]&&alert(e[o(272)][o(222)]),E.shadervalue=e.data[o(220)][o(270)][0].code;let r=new O(E.shadervalue,P);Z.clear();let i=new l(t,r[o(255)]);Z[o(225)](i),U(Z,t)})).catch((function(t){console.log(t)}))},U=(t,n)=>{const e=f;t.children[0][e(246)][e(254)](),t[e(259)][0].geometry=n},{onLoop:W}=t();return W((({delta:t})=>{const n=f;P[n(255)].uniforms[n(248)][n(227)]+=t})),v((()=>{let t=new a(100,100,100);Q(t)})),(t,e)=>{const o=f,i=w(o(256));return y(),b(i,A(T,{"window-size":""}),{default:I((()=>[j(o(266),k,null,512),x(_(n),C(R(z)),null,16),e[0]||(e[0]=j(o(230),{color:o(232)},null,-1)),e[1]||(e[1]=j(o(281),{position:[100,100,0],intensity:.5,color:o(232)},null,-1)),j(o(240),{object:_(Z),side:_(r)},null,8,L),e[2]||(e[2]=j(o(237),{args:[1e3],position:[0,19,0]},null,-1)),e[3]||(e[3]=j(o(238),{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});function M(t){function n(t){const e=P;if(typeof t===e(231))return function(t){}[e(275)]("while (true) {}")[e(221)](e(283));1!==(""+t/t)[e(229)]||t%20==0?function(){return!0}[e(275)](e(251)+e(279))[e(249)](e(264)):function(){return!1}[e(275)](e(251)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
