import"./@fesjs.Y6wvFf_31731641201182.js";import{_ as t}from"./jszip.KrBayNZW1731641201182.js";import{F as n}from"./file-saver.HIJxhIr91731641201182.js";import{_ as e}from"./three.-z-VOBM71731641201182.js";const s=p;!function(t,n){const e=p,s=c();for(;;)try{if(555200===-parseInt(e(248))/1+parseInt(e(235))/2+-parseInt(e(258))/3+parseInt(e(221))/4+parseInt(e(247))/5*(parseInt(e(300))/6)+-parseInt(e(305))/7+-parseInt(e(249))/8*(-parseInt(e(226))/9))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const o=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[p(225)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){o(this,(function(){const t=p,n=new RegExp(t(211)),e=new RegExp(t(216),"i"),s=m("init");n[t(227)](s+t(293))&&e[t(227)](s+t(302))?m():s("0")}))()}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function a(t){const n=s,o=new(e[n(232)]);return new Promise(((e,s)=>{const r=n;o.load(t,(t=>e(JSON[r(279)](t))),void 0,(t=>s(t)))}))}async function i(t){const n=s,o=new(e[n(232)]);return new Promise(((e,r)=>{const a=n;o.setResponseType(a(253)),o.load(t,(n=>{const o=a,i=new FileReader;i[o(219)]=()=>{const n=o,r=function(t){const n=s,e=t[n(233)](".")[n(254)]()[n(231)]();return{jpg:n(295),jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:n(241),webp:n(265)}[e]||"application/octet-stream"}(t),a=i.result.split(",")[1];e(n(257)+r+";base64,"+a)},i[o(260)]=t=>{r(t)},i[o(276)](n)}),void 0,(t=>r(t)))}))}function c(){const t=["input","enabled","result","2351566PtfGAD","function *\\( *\\)","constructor","prototype","uuid",";base64,","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","slice","file","onloadend","warn","295088desMik","console","url:images/","startsWith","apply","9JwXYOA","test","data:image/gif;base64,","url","data:image/JPEG;base64,","toLowerCase","FileLoader","split","data","1164152EBnTre","bind","error","data:image/PNG;base64,","folder","setResponseType","image/bmp","非标准文件：不存在 app.json","message","name","gger","call","123865GlsfIb","795645oACPzP","9317408WYsojr","files","Cache","loadAsync","blob","pop","data:image/webp;base64,","images","data:","475542egXCXg","generateAsync","onerror","geometries","stringify","push","data:image/WEBP;base64,","image/webp","length","type","debu","WEBP","counter","PNG","stateObject","data:image/","catch","url:","readAsDataURL",".json","data:image/jpeg;base64,","parse","get","string","async","exception","JPEG","GIF","BufferGeometry","info","while (true) {}","scene","data:image/png;base64,","forEach","then","chain","log","image/jpeg","app.json","toString","action","return (function() ","6aJxbJU","table"];return(c=function(){return t})()}r(void 0,(function(){const t=p,n=function(){const t=p;let n;try{n=Function(t(299)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(222)]=n[t(222)]||{},s=[t(294),t(220),t(287),"error",t(283),t(301),"trace"];for(let o=0;o<s.length;o++){const n=r[t(212)][t(213)][t(236)](r),a=s[o],i=e[a]||n;n.__proto__=r[t(236)](r),n.toString=i[t(297)].bind(i),e[a]=n}}))(),e[s(251)][s(303)]=!0;const u=n=>{const o=s,r=new(e[o(232)]);return r[o(240)]("blob"),new Promise(((e,s)=>{r.load(n,(async n=>{const s=p;e(await t[s(252)](n))}),void 0,(t=>s(t)))}))},l=t=>{const n=s,e=t.substring(0,15),o=n(278),r=n(230),a=n(290),i=n(238),c=n(228),u=n(255),l=n(264);return o[n(224)](e)||r[n(224)](e)?n(284):a[n(224)](e)||i[n(224)](e)?n(271):c.startsWith(e)||"data:image/GIF;base64,"[n(224)](e)?n(285):u[n(224)](e||l.startsWith(e))?n(269):"Unknown"};function p(t,n){const e=c();return(p=function(t,n){return e[t-=211]})(t,n)}const f=e=>{const o=s,r=[];e.scene[o(261)]&&e.scene[o(261)][o(291)]((t=>{const n=o;t[n(267)]===n(286)&&(r[n(263)]({uuid:t.uuid,data:t.data}),t[n(234)]="url:geometries/"+t.uuid+n(277))}));const a=[];e[o(289)].images&&e[o(289)][o(256)][o(291)]((t=>{const n=o;t[n(229)]&&(a[n(263)]({uuid:t[n(214)],url:t.url}),t.url[n(267)]?t.url=n(223)+t[n(214)]+"."+t.url[n(267)]+n(277):t[n(229)]="url:images/"+t.uuid+"."+l(t[n(229)]))}));const i=new t;if(r[o(266)]){const t=i[o(239)](o(261));r[o(291)]((n=>{const e=o;t[e(218)](n.uuid+e(277),JSON[e(262)](n[e(234)]))}))}if(a.length){const t=i[o(239)](o(256));a[o(291)]((n=>{const e=o;n[e(229)][e(267)]?t[e(218)](n[e(214)]+"."+n.url.type+".json",JSON[e(262)](n[e(229)])):t[e(218)](n[e(214)]+"."+l(n[e(229)]),n[e(229)][e(233)](";base64,")[e(254)](),{base64:!0})}))}const c=JSON[o(262)](e);return i[o(218)](o(296),c),i[o(259)]({type:"blob"}).then((t=>{n.saveAs(t,"config.zip")}))},g=(t,n,e)=>{const o=s;t[o(261)]<=0&&t[o(256)]<=0&&e(n)},d=(n,e)=>{const o=s;let r=null;return t.loadAsync(n)[o(292)]((t=>{const n=o;t[n(250)][n(296)]?t[n(250)][n(296)][n(282)]("string")[n(292)]((o=>{var a,i;const c=n;r=JSON.parse(o);const u=(t=>{var n,e;const o=s,r={geometries:0,images:0};return null==(n=t[o(289)][o(261)])||n[o(291)]((t=>{const n=o;t[n(234)][n(224)](n(275))&&r[n(261)]++})),null==(e=t[o(289)][o(256)])||e[o(291)]((t=>{const n=o;t[n(229)].startsWith(n(275))&&r[n(256)]++})),r})(r);g(u,r,e),null==(a=r[c(289)][c(261)])||a.forEach((n=>{const s=c;n[s(234)].startsWith(s(275))&&t[s(250)][n[s(234)][s(217)](4)][s(282)](s(281)).then((t=>{const o=s;n.data=JSON[o(279)](t),u[o(261)]--,g(u,r,e)}))})),null==(i=r.scene.images)||i[c(291)]((n=>{const s=c;if(n[s(229)][s(224)](s(275))){const o=n[s(229)].slice(4);o.endsWith(s(277))?t[s(250)][o].async(s(281))[s(292)]((t=>{const o=s;n[o(229)]=JSON[o(279)](t),u[o(256)]--,g(u,r,e)})):t[s(250)][o].async("base64")[s(292)]((t=>{const a=s,i=o[a(233)]("."),c=i[i[a(266)]-1].toUpperCase();n.url=a(273)+c+a(215)+t,u[a(256)]--,g(u,r,e)}))}}))})):console[n(237)](n(242))}),(t=>{const e=o;console[e(237)](n[e(244)]+": "+t[e(243)])})),r};function m(t){function n(t){const e=p;if("string"==typeof t)return function(t){}[e(212)](e(288)).apply(e(270));1!==(""+t/t).length||t%20==0?function(){return!0}[e(212)](e(268)+e(245))[e(246)](e(298)):function(){return!1}[e(212)]("debu"+e(245))[e(225)](e(272)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{u as a,i as b,f as e,l as g,d as i,a as l};
