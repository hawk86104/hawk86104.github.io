import{e as a,b as e,a as t}from"./@tresjs.DiA_9BZG1755656106911.js";import{P as o}from"./tweakpane.C0HtAJSg1755656106911.js";import{_ as s}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.BzK1rifh1755656106911.js";import{d as r,b as i,aa as l,r as n,w as p,G as m,o as u,I as c,a7 as f,a8 as g,h as d,e as h,f as _,j as y,u as j,a5 as v,m as w}from"./@vue.BzMISRrV1755656106911.js";import{_ as P,aL as b,bL as x,a3 as T,C as S}from"./three.QlBabAUP1755656106911.js";import"./postprocessing.DMvYFiwL1755656106911.js";import"./@vueuse.DfjcWOXI1755656106911.js";import"./dither.glsl.tNAdkJUa1755656106911.js";import"./Reflector.DWZx4Bhf1755656106911.js";import"./OimoPhysicsBuffer.DWTbJtYM1755656106911.js";import"./oimophysics.BBtHVm4j1755656106911.js";import"./vite-plugin-qiankun.B06WoCqG1755656106911.js";const z=["rotation-x"],B=["args"],C=r({__name:"imgFloor",props:{size:{default:[10,10]},imgSrcPath:{},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},textureRepeat:{default:[1,1]}},async setup(t){let o,s;const r=i(),{onLoop:d}=a();d((()=>{r.value&&(r.value.rotation.z+=h.rotationZ)}));const h=t,_=([o,s]=l((()=>e([h.imgSrcPath]))),o=await o,s(),o);_.colorSpace=P,_.wrapS=b,_.wrapT=b,_.repeat.set(h.textureRepeat[0],h.textureRepeat[1]);const y=n({color:h.color,map:_,side:T,transparent:!0,opacity:h.opacity,blending:x,depthTest:!0,depthWrite:!1});return p((()=>h.color),(a=>{y.color=new S(a)})),p((()=>h.opacity),(a=>{y.opacity=a})),(a,e)=>(u(),m("TresMesh",{ref_key:"tmRef",ref:r,"rotation-x":-Math.PI/2},[c("TresPlaneGeometry",{args:h.size},null,8,B),c("TresMeshBasicMaterial",f(g(y)),null,16)],8,z))}}),F=r({__name:"imgFloor",setup(a){const e=n({reflectivity:2.6,showGridHelper:!1,scale:4}),r=n({color:"#fff",opacity:.95,rotationZ:.01}),i=new o;return i.addBinding(r,"color",{label:"颜色"}),i.addBinding(r,"opacity",{label:"透明度",min:0,max:1,step:.01}),i.addBinding(r,"rotationZ",{label:"自转速度",min:-.1,max:.1,step:.01}),(a,o)=>{const i=d("TresCanvas");return u(),h(i,{clearColor:"#201919","window-size":""},{default:_((()=>[o[0]||(o[0]=c("TresPerspectiveCamera",{position:[15,20,0],fov:45,near:.1,far:1e4},null,-1)),y(j(t),{enableDamping:""}),o[1]||(o[1]=c("TresAmbientLight",{intensity:6},null,-1)),(u(),h(v,null,{default:_((()=>[y(C,w({position:[2,-2,2]},r,{imgSrcPath:"./plugins/floor/image/imgFloor1.png"}),null,16)])),_:1})),(u(),h(v,null,{default:_((()=>[y(C,w({position:[2,.1,2]},r,{imgSrcPath:"./plugins/floor/image/imgFloor2.png"}),null,16)])),_:1})),(u(),h(v,null,{default:_((()=>[y(C,{position:[-2,0,-2],imgSrcPath:"./plugins/floor/image/imgFloor3.png"})])),_:1})),(u(),h(v,null,{default:_((()=>[y(s,w({position:[0,-2,0]},e),null,16)])),_:1}))])),_:1})}}});export{F as default};
