import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.DbPHC6ub1722507394274.js";import{B as i,V as s,ci as n,aB as e,N as r,h as o,ae as a,Y as h,q as c,a6 as u}from"./three.Brogx0uK1722507394274.js";import{$ as l,D as d,i as m}from"./@tresjs.bNNpPzYW1722507394274.js";import{c as p}from"./simplex-noise.5SFotzdp1722507394274.js";import{d as f,a1 as g,o as y,D as b,u as S,r as x,j as w,g as v,m as P,F as I}from"./@vue.CFXy4cc91722507394274.js";import{f as M}from"./index.DifwtWix1722507394274.js";import"./three-custom-shader-material.CeVv8ptL1722507394274.js";import"./object-hash.rImj7O_Q1722507394274.js";import"./@amap.B-BVafMU1722507394274.js";import"./jszip.BxDgYeH81722507394274.js";import"./glsl-tokenizer.D7fhDZQE1722507394274.js";import"./glsl-token-string.Bg9nzJXZ1722507394274.js";import"./glsl-token-functions.B8rjVA3n1722507394274.js";import"./tweakpane.BCjFYDHx1722507394274.js";import"./@vueuse.CY5GWLAn1722507394274.js";import"./@fesjs.HUfyfxyE1722507394274.js";import"./vue-router.B7QAPA1N1722507394274.js";import"./lodash-es.X8SAORSL1722507394274.js";import"./@qlin.BIlp8Yi21722507394274.js";import"./pinia.CScY4tX71722507394274.js";import"./vue-demi.Dq6ymT-81722507394274.js";import"./@babel.DOgRMOv71722507394274.js";import"./@floating-ui.B75jtkXD1722507394274.js";import"./@juggle.BnTvdTVm1722507394274.js";import"./chalk.B3MNILV41722507394274.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1722507394274.js";import"./@iconify.FaZrwldm1722507394274.js";import"./oimophysics.B0i2NtyE1722507394274.js";import"./three-stdlib.Da22DAq01722507394274.js";import"./@pmndrs.D9AmSQDC1722507394274.js";import"./three.quarks.DzFhgNNR1722507394274.js";import"./quarks.core.C7CDonSm1722507394274.js";const T=_;!function(t,i){const s=_,n=A();for(;;)try{if(309823===-parseInt(s(279))/1*(-parseInt(s(336))/2)+-parseInt(s(316))/3*(-parseInt(s(351))/4)+parseInt(s(345))/5+parseInt(s(302))/6*(-parseInt(s(285))/7)+parseInt(s(356))/8+-parseInt(s(309))/9+parseInt(s(205))/10*(-parseInt(s(364))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const j=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){j(this,(function(){const t=_,i=new RegExp(t(304)),s=new RegExp(t(206),"i"),n=D("init");i[t(262)](n+t(240))&&s.test(n+t(301))?D():n("0")}))()}();const C=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[_(315)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function _(t,i){const s=A();return(_=function(t,i){return s[t-=201]})(t,i)}C(void 0,(function(){const t=_,i=function(){const t=_;let i;try{i=Function(t(341)+t(208)+");")()}catch(s){i=window}return i}(),s=i[t(369)]=i[t(369)]||{},n=["log",t(230),"info",t(322),t(317),t(263),t(209)];for(let e=0;e<n[t(276)];e++){const i=C.constructor[t(283)].bind(C),r=n[e],o=s[r]||i;i[t(275)]=C.bind(C),i[t(362)]=o[t(362)][t(313)](o),s[r]=i}}))();class R extends i{constructor(t={}){const i=_;super(),this[i(227)]=!0,this[i(350)]=i(291),this[i(332)](R[i(226)](t,t)),this.createMesh()}static[T(295)](){const t=T,i=2053,s=[];for(let e=0;e<i;e++)s[t(371)](Math.random());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(346)]];return n[e(346)]=(n[e(346)]+1)%i,r},getSeed:function(){return n[t(346)]/i},setSeed:function(s){const e=t;n[e(346)]=Math[e(372)](s*i)%i}};return n}static copyParameters(t={},i={}){const n=T,e=function(s){return i===t?s:s[_(314)]()};return t[n(249)]=void 0!==i[n(249)]?e(i[n(249)]):new s(0,100,0),t.destOffset=void 0!==i[n(281)]?e(i.destOffset):new s(0,0,0),t[n(223)]=void 0!==i[n(223)]?i[n(223)]:1,t[n(239)]=void 0!==i[n(239)]?i[n(239)]:.9,t[n(366)]=void 0!==i[n(366)]?i[n(366)]:.7,t[n(340)]=void 0!==i[n(340)]?e(i[n(340)]):new s(0,0,1),t[n(272)]=void 0!==i[n(272)]?e(i[n(272)]):new s(0,0,1),t[n(338)]=void 0!==i[n(338)]?i[n(338)]:1,t[n(266)]=void 0!==i[n(266)]?i[n(266)]:1,t.radius0Factor=void 0!==i[n(352)]?i[n(352)]:.5,t[n(298)]=void 0!==i[n(298)]?i[n(298)]:.2,t[n(261)]=void 0!==i[n(261)]?i[n(261)]:.2,t.isEternal=void 0!==i.isEternal?i.isEternal:void 0===i[n(330)]||void 0===i[n(244)],t[n(330)]=i[n(330)],t.deathTime=i[n(244)],t[n(271)]=void 0!==i[n(271)]?i.propagationTimeFactor:.1,t.vanishingTimeFactor=void 0!==i[n(280)]?i[n(280)]:.9,t.subrayPeriod=void 0!==i[n(299)]?i[n(299)]:4,t[n(349)]=void 0!==i[n(349)]?i.subrayDutyCycle:.6,t[n(324)]=void 0!==i[n(324)]?i[n(324)]:9,t[n(306)]=void 0!==i[n(306)]&&i[n(306)],t.ramification=void 0!==i.ramification?i.ramification:5,t[n(233)]=void 0!==i[n(233)]?i[n(233)]:3,t[n(219)]=void 0!==i[n(219)]?i[n(219)]:.6,t[n(357)]=void 0!==i[n(357)]&&i[n(357)],t.randomGenerator=i[n(284)],t[n(355)]=i[n(355)],t[n(342)]=i[n(342)],t[n(267)]=i.onSubrayCreation,t}[T(232)](t){const i=T;this[i(306)]||(this.rayParameters[i(254)]||this.rayParameters[i(330)]<=t&&t<=this[i(255)][i(244)]?(this.updateMesh(t),t<this[i(207)][0][i(358)]?this[i(334)]=R[i(221)]:t>this[i(207)][0].beginVanishingTime?this.state=R[i(234)]:this[i(334)]=R.RAY_STEADY,this.visible=!0):(this[i(307)]=!1,t<this.rayParameters.birthTime?this[i(334)]=R[i(217)]:this[i(334)]=R[i(251)]))}[T(332)](t){const i=T;this.rayParameters=t,this[i(324)]=void 0!==t[i(324)]?Math.floor(t.maxIterations):9,t.maxIterations=this[i(324)],this[i(306)]=void 0!==t.isStatic&&t.isStatic,t.isStatic=this[i(306)],this[i(260)]=void 0!==t[i(260)]?Math.floor(t[i(260)]):5,t[i(260)]=this[i(260)],this[i(233)]=void 0!==t[i(233)]?Math[i(372)](t[i(233)]):3,t.maxSubrayRecursion=this[i(233)],this.recursionProbability=void 0!==t[i(219)]?t[i(219)]:.6,t[i(219)]=this[i(219)],this[i(357)]=void 0!==t[i(357)]&&t[i(357)],t[i(357)]=this[i(357)],void 0!==t[i(284)]?(this[i(284)]=t.randomGenerator,this[i(361)]=t.randomGenerator,void 0!==t[i(355)]&&this[i(361)][i(236)](t[i(355)])):(this.randomGenerator=R[i(295)](),this.seedGenerator=Math),void 0!==t[i(342)]?this.onDecideSubrayCreation=t[i(342)]:(this[i(326)](),void 0!==t[i(267)]&&(this[i(267)]=t.onSubrayCreation)),this[i(334)]=R.RAY_INITIALIZED,this[i(259)]=Math[i(218)](1+Math.pow(this.ramification,Math[i(241)](0,this.maxSubrayRecursion-1))),t[i(259)]=this[i(259)],this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let s=0;s<this.maxSubrays;s++)this[i(207)].push(this.createSubray());this.raySegments=[];for(let s=0;s<this[i(269)];s++)this[i(264)][i(371)](this.createSegment());this[i(273)]=0,this[i(365)]=0,this.currentSegmentCallback=null,this[i(287)]=this[i(357)]?this[i(256)]:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this[i(308)]=null,this.currentSegmentIndex=0,this[i(297)]=!1,this.subrayProbability=0,this[i(201)]=0,this[i(274)]=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this[i(210)]=null,this[i(344)]=null,this[i(203)]=null,this[i(329)]=null,this[i(211)]=null,this[i(252)]=p(this.seedGenerator[i(235)]),this.simplexY=p(this[i(361)].random),this[i(257)]=p(this[i(361)].random),this[i(370)]=new s,this[i(243)]=new s,this[i(277)]=new s,this[i(333)]=new s,this.middlePos=new s,this[i(250)]=new s,this[i(310)]=new s,this[i(300)]=new s,this.cross1=new s}createMesh(){const t=T,i=1<<this[t(324)],s=3*(i+1)*this[t(259)],o=18*i*this[t(259)];this[t(210)]=new Float32Array(3*s),this[t(203)]=new Uint32Array(o),this[t(357)]&&(this[t(344)]=new Float32Array(2*s)),this[t(363)](0),this[t(312)](new n(this.indices,1)),this[t(329)]=new e(this.vertices,3),this[t(348)](t(253),this[t(329)]),this[t(357)]&&(this[t(211)]=new e(new Float32Array(this[t(344)]),2),this[t(348)]("uv",this[t(211)])),!this.isStatic&&(this.index[t(246)]=r,this[t(329)][t(246)]=r,this[t(357)]&&(this[t(211)][t(246)]=r)),this[t(210)]=this[t(329)][t(213)],this[t(203)]=this[t(258)][t(213)],this[t(357)]&&(this.uvs=this.uvsAttribute[t(213)])}[T(220)](t){const i=T;this[i(363)](t),this[i(374)][i(265)]=this[i(274)],this[i(258)].needsUpdate=!0,this[i(329)][i(375)]=!0,this[i(357)]&&(this[i(211)][i(375)]=!0)}[T(363)](t){const i=T,s=this;this.currentVertex=0,this.currentIndex=0,this[i(292)]=0,this[i(282)]=0,this[i(337)](t,(function(n){const e=i,r=s[e(308)];t<r[e(330)]||(this[e(255)][e(254)]&&0==s[e(308)][e(202)]?(s[e(368)](n),s.onDecideSubrayCreation(n,s)):t<r[e(358)]?s[e(365)]>=n[e(290)]*r.propagationTimeFactor&&(s.createPrism(n),s[e(342)](n,s)):t<r[e(294)]?(s[e(368)](n),s[e(342)](n,s)):(s.timeFraction<=r[e(280)]+n.fraction1*(1-r.vanishingTimeFactor)&&s[e(368)](n),s[e(342)](n,s)))}))}[T(229)](){return this[T(207)][this.numSubrays++]}[T(293)](t,i){const s=T;t[s(296)].copy(i[s(249)]),t.pos1[s(231)](i[s(281)]),t[s(340)][s(231)](i[s(340)]),t[s(272)][s(231)](i.up1),t.radius0=i[s(338)],t[s(266)]=i[s(266)],t[s(330)]=i[s(330)],t[s(244)]=i[s(244)],t.timeScale=i[s(223)],t[s(239)]=i[s(239)],t.straightness=i[s(366)],t.propagationTimeFactor=i[s(271)],t[s(280)]=i[s(280)],t[s(324)]=this.maxIterations,t[s(237)]=void 0!==i[s(355)]?i[s(355)]:0,t.recursion=0}[T(337)](t,i){const s=T;this[s(273)]=t,this[s(325)]=i,this.numSubrays=0,this[s(293)](this[s(229)](),this[s(255)]);for(let n=0;n<this[s(359)];n++){const i=this[s(207)][n];this[s(308)]=i,this[s(284)][s(236)](i.seed),i.endPropagationTime=o[s(321)](i[s(330)],i.deathTime,i[s(271)]),i[s(294)]=o[s(321)](i[s(244)],i[s(330)],1-i.vanishingTimeFactor);const e=this[s(284)][s(235)];i[s(367)][s(331)](e(),e(),e())[s(247)](1e3),i.linPos1[s(331)](e(),e(),e())[s(247)](1e3),this.timeFraction=(t-i[s(330)])/(i.deathTime-i[s(330)]),this[s(318)]=0,this[s(297)]=!0;const r=this.getNewSegment();r[s(222)]=0,r.pos0[s(231)](i[s(296)]),r.pos1[s(231)](i[s(328)]),r.linPos0[s(231)](i[s(367)]),r[s(335)].copy(i[s(335)]),r[s(340)][s(231)](i[s(340)]),r[s(272)][s(231)](i[s(272)]),r[s(338)]=i[s(338)],r[s(266)]=i[s(266)],r[s(290)]=0,r[s(288)]=1,r[s(216)]=1-i[s(366)],this.subrayProbability=this[s(260)]*Math[s(238)](this[s(219)],i[s(202)])/(1<<i[s(324)]),this.fractalRayRecursive(r)}this[s(325)]=null,this[s(308)]=null}[T(212)](t){const i=T;if(t.iteration>=this[i(308)][i(324)])return void this.currentSegmentCallback(t);this[i(370)].subVectors(t[i(328)],t[i(296)]);let s=this[i(370)][i(276)]();s<1e-6&&(this[i(370)].set(0,0,.01),s=this[i(370)].length());const n=.5*(t[i(338)]+t[i(266)]),e=.5*(t.fraction0+t[i(288)]),r=this[i(273)]*this[i(308)].timeScale*Math[i(238)](2,t[i(222)]);this[i(360)][i(225)](t[i(296)],t[i(328)],.5),this.middleLinPos[i(225)](t[i(367)],t[i(335)],.5);const o=this[i(250)];this[i(310)][i(331)](this[i(252)](o.x,o.y,o.z,r),this[i(245)](o.x,o.y,o.z,r),this[i(257)](o.x,o.y,o.z,r)),this[i(310)][i(247)](t[i(216)]*s),this[i(310)][i(214)](this[i(360)]);const a=this.getNewSegment();a.pos0[i(231)](t.pos0),a[i(328)][i(231)](this[i(310)]),a[i(367)][i(231)](t[i(367)]),a[i(335)].copy(this[i(250)]),a[i(340)][i(231)](t[i(340)]),a[i(272)][i(231)](t.up1),a[i(338)]=t.radius0,a.radius1=n,a[i(290)]=t.fraction0,a[i(288)]=e,a[i(216)]=t[i(216)]*this[i(308)].roughness,a[i(222)]=t.iteration+1;const h=this.getNewSegment();h[i(296)][i(231)](this.newPos),h.pos1.copy(t[i(328)]),h.linPos0[i(231)](this[i(250)]),h.linPos1[i(231)](t[i(335)]),this[i(204)][i(228)](t[i(340)],this[i(370)][i(268)]()),h[i(340)].crossVectors(this[i(370)],this.cross1)[i(268)](),h[i(272)][i(231)](t[i(272)]),h[i(338)]=n,h[i(266)]=t[i(266)],h[i(290)]=e,h[i(288)]=t[i(288)],h[i(216)]=t[i(216)]*this[i(308)][i(239)],h[i(222)]=t.iteration+1,this[i(212)](a),this[i(212)](h)}createPrism(t){const i=T;this[i(243)][i(242)](t[i(328)],t[i(296)])[i(268)](),this[i(297)]&&(this[i(287)](t[i(296)],t.up0,this.forwardsFill,t.radius0,0),this[i(297)]=!1),this.currentCreateTriangleVertices(t[i(328)],t.up0,this[i(243)],t[i(266)],t[i(288)]),this[i(286)]()}[T(353)](t,i,s,n){const e=T;this[e(277)][e(228)](i,s)[e(247)](n*R[e(327)]),this[e(333)][e(231)](i)[e(247)](-n*R.SIN30DEG);const r=this[e(300)],o=this.vertices;r[e(231)](t)[e(354)](this.side)[e(214)](this[e(333)]),o[this.currentCoordinate++]=r.x,o[this[e(292)]++]=r.y,o[this[e(292)]++]=r.z,r.copy(t)[e(214)](this.side)[e(214)](this[e(333)]),o[this[e(292)]++]=r.x,o[this[e(292)]++]=r.y,o[this[e(292)]++]=r.z,r[e(231)](i)[e(247)](n).add(t),o[this[e(292)]++]=r.x,o[this[e(292)]++]=r.y,o[this.currentCoordinate++]=r.z,this[e(201)]+=3}[T(256)](t,i,s,n,e){const r=T;this[r(277)][r(228)](i,s)[r(247)](n*R.COS30DEG),this.down[r(231)](i)[r(247)](-n*R[r(320)]);const o=this[r(300)],a=this[r(210)],h=this[r(344)];o.copy(t)[r(354)](this[r(277)]).add(this.down),a[this.currentCoordinate++]=o.x,a[this.currentCoordinate++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(282)]++]=e,h[this[r(282)]++]=0,o[r(231)](t).add(this[r(277)])[r(214)](this[r(333)]),a[this[r(292)]++]=o.x,a[this.currentCoordinate++]=o.y,a[this[r(292)]++]=o.z,h[this[r(282)]++]=e,h[this[r(282)]++]=.5,o[r(231)](i)[r(247)](n)[r(214)](t),a[this[r(292)]++]=o.x,a[this[r(292)]++]=o.y,a[this[r(292)]++]=o.z,h[this[r(282)]++]=e,h[this[r(282)]++]=1,this[r(201)]+=3}createPrismFaces(t){const i=T,s=this[i(203)];t=this.currentVertex-6,s[this.currentIndex++]=t+1,s[this[i(274)]++]=t+2,s[this[i(274)]++]=t+5,s[this[i(274)]++]=t+1,s[this[i(274)]++]=t+5,s[this[i(274)]++]=t+4,s[this[i(274)]++]=t+0,s[this[i(274)]++]=t+1,s[this.currentIndex++]=t+4,s[this.currentIndex++]=t+0,s[this[i(274)]++]=t+4,s[this[i(274)]++]=t+3,s[this[i(274)]++]=t+2,s[this[i(274)]++]=t+0,s[this[i(274)]++]=t+3,s[this[i(274)]++]=t+2,s[this[i(274)]++]=t+3,s[this[i(274)]++]=t+5}createDefaultSubrayCreationCallbacks(){const t=T,i=this[t(284)][t(235)];this.onDecideSubrayCreation=function(s,n){const e=t,r=n[e(308)],a=n[e(255)].subrayPeriod,h=n[e(255)][e(349)],c=n[e(255)][e(254)]&&0==r[e(202)]?-i()*a:o[e(321)](r[e(330)],r.endPropagationTime,s[e(290)])-i()*a,u=n[e(273)]-c,l=Math[e(372)](u/a),d=i()*(l+1);let m=0;if(u%a<=h*a&&(m=n.subrayProbability),r[e(202)]<n.maxSubrayRecursion&&n[e(359)]<n[e(259)]&&i()<m){const t=n.addNewSubray(),o=n[e(284)][e(303)]();t[e(237)]=d,n.randomGenerator[e(236)](d),t.recursion=r[e(202)]+1,t.maxIterations=Math[e(241)](1,r[e(324)]-1),t[e(367)][e(331)](i(),i(),i())[e(247)](1e3),t.linPos1.set(i(),i(),i())[e(247)](1e3),t[e(340)][e(231)](r[e(340)]),t[e(272)][e(231)](r.up1),t.radius0=s[e(338)]*n[e(255)][e(352)],t[e(266)]=Math[e(215)](n[e(255)][e(261)],s.radius1*n[e(255)][e(298)]),t[e(330)]=c+l*a,t[e(244)]=t[e(330)]+a*h,!n[e(255)][e(254)]&&0==r[e(202)]&&(t[e(330)]=Math[e(241)](t[e(330)],r[e(330)]),t[e(244)]=Math[e(215)](t[e(244)],r.deathTime)),t.timeScale=2*r.timeScale,t.roughness=r[e(239)],t[e(366)]=r[e(366)],t[e(271)]=r[e(271)],t[e(280)]=r.vanishingTimeFactor,n[e(267)](s,r,t,n),n.randomGenerator[e(236)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(267)]=function(t,i,s,n){n.subrayCylinderPosition(t,i,s,.5,.6,.2)},this.subrayConePosition=function(s,o,h,c,u,l){const d=t;h[d(296)][d(231)](s[d(296)]),n[d(242)](o[d(328)],o[d(296)]),e[d(231)](n).normalize(),n[d(247)](s[d(290)]+(1-s[d(290)])*(i()*c));const m=n.length();r[d(228)](o[d(340)],e);const p=2*Math.PI*i();r[d(247)](Math.cos(p)),a.copy(o[d(340)])[d(247)](Math[d(339)](p)),h[d(328)][d(231)](r)[d(214)](a).multiplyScalar(m*u*(l+i()*(1-l)))[d(214)](n)[d(214)](o[d(296)])},this[t(343)]=function(s,o,h,c,u,l){const d=t;h[d(296)][d(231)](s.pos0),n[d(242)](o[d(328)],o[d(296)]),e.copy(n)[d(268)](),n.multiplyScalar(s[d(290)]+(1-s[d(290)])*((2*i()-1)*c));const m=n[d(276)]();r[d(228)](o[d(340)],e);const p=2*Math.PI*i();r[d(247)](Math.cos(p)),a[d(231)](o[d(340)])[d(247)](Math[d(339)](p)),h[d(328)].copy(r).add(a)[d(247)](m*u*(l+i()*(1-l)))[d(214)](n)[d(214)](o[d(296)])}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[T(347)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[T(224)](){const t=T;return this[t(264)][this[t(318)]++]}copy(t){const i=T;return super[i(231)](t),this[i(332)](R[i(226)]({},t[i(255)])),this}[T(314)](){const t=T;return new(this[t(270)])(R[t(226)]({},this[t(255)]))}}function A(){const t=["LightningStrike","currentCoordinate","initSubray","beginVanishingTime","createRandomGenerator","pos0","isInitialSegment","radius1Factor","subrayPeriod","vPos","input","6ETEovt","getSeed","function *\\( *\\)","call","isStatic","visible","currentSubray","498366bYQQlZ","newPos","RAY_STEADY","setIndex","bind","clone","apply","309PhSawD","exception","currentSegmentIndex","cos","SIN30DEG","lerp","error","debu","maxIterations","currentSegmentCallback","createDefaultSubrayCreationCallbacks","COS30DEG","pos1","positionAttribute","birthTime","set","init","down","state","linPos1","2RhHkCb","fractalRay","radius0","sin","up0","return (function() ","onDecideSubrayCreation","subrayCylinderPosition","uvs","1531925exqDMX","currentSeed","createSegment","setAttribute","subrayDutyCycle","type","17624cUlSdw","radius0Factor","createTriangleVerticesWithoutUVs","sub","noiseSeed","4350096tsMFug","generateUVs","endPropagationTime","numSubrays","middlePos","seedGenerator","toString","fillMesh","55AJcosh","timeFraction","straightness","linPos0","createPrism","console","forwards","push","floor","while (true) {}","drawRange","needsUpdate","currentVertex","recursion","indices","cross1","1951870YGviYK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","subrays",'{}.constructor("return this")( )',"trace","vertices","uvsAttribute","fractalRayRecursive","array","add","min","positionVariationFactor","RAY_UNBORN","ceil","recursionProbability","updateMesh","RAY_PROPAGATING","iteration","timeScale","getNewSegment","lerpVectors","copyParameters","isLightningStrike","crossVectors","addNewSubray","warn","copy","update","maxSubrayRecursion","RAY_VANISHING","random","setSeed","seed","pow","roughness","chain","max","subVectors","forwardsFill","deathTime","simplexY","usage","multiplyScalar","gger","sourceOffset","middleLinPos","RAY_EXTINGUISHED","simplexX","position","isEternal","rayParameters","createTriangleVerticesWithUVs","simplexZ","index","maxSubrays","ramification","minRadius","test","table","raySegments","count","radius1","onSubrayCreation","normalize","maxRaySegments","constructor","propagationTimeFactor","up1","time","currentIndex","__proto__","length","side","RAY_INITIALIZED","470582mIjdDD","vanishingTimeFactor","destOffset","currentUVCoordinate","prototype","randomGenerator","3033905SGiLoc","createPrismFaces","currentCreateTriangleVertices","fraction1","counter","fraction0"];return(A=function(){return t})()}function D(t){function i(t){const s=_;if("string"==typeof t)return function(t){}[s(270)](s(373)).apply(s(289));1!==(""+t/t)[s(276)]||t%20==0?function(){return!0}[s(270)](s(323)+"gger")[s(305)]("action"):function(){return!1}.constructor(s(323)+s(248))[s(315)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}R[T(278)]=0,R[T(217)]=1,R[T(221)]=2,R[T(311)]=3,R.RAY_VANISHING=4,R[T(251)]=5,R[T(327)]=Math[T(319)](30*Math.PI/180),R[T(320)]=Math[T(339)](30*Math.PI/180);const F=E;function V(){const t=["state","push","lightningMaterial","error","lightningMinPeriod","action","lerp","while (true) {}","1610824oIIgTC","input","size","toString","653668naueQx","geometry","minHeight","3xePHSW","sourceOffset","RAY_PROPAGATING","random","isLightningStorm","info","lightningMinDuration","test","init","copy","bind","destOffset","counter","lightningMaxDuration","5686407JbiEin","clone","update","prototype","indexOf","debu","constructor","set","string","chain","table","maxHeight","warn","pop","multiplyScalar","lightningMaxPeriod","lightningParameters","onLightningDown","2200664YpXbrT","copyParameters","noiseSeed","inited","call","exception","birthTime","trace","2855825PjeYGK","42aHtYxi","RAY_EXTINGUISHED","stormParams",'{}.constructor("return this")( )',"lightningsMeshes","deathTime","apply","isEternal","getNextLightningTime","nextLightningTime","deadLightningsMeshes","onRayPosition","gger","maxSlope","length","maxLightnings","console","add","splice","498553zAyBOR","36474XeXfFM"];return(V=function(){return t})()}!function(t,i){const s=E,n=V();for(;;)try{if(317006===-parseInt(s(475))/1+-parseInt(s(489))/2*(-parseInt(s(492))/3)+-parseInt(s(485))/4+parseInt(s(455))/5+parseInt(s(476))/6*(-parseInt(s(456))/7)+-parseInt(s(524))/8+parseInt(s(506))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const z=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[E(462)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){z(this,(function(){const t=E,i=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=N(t(500));i[t(499)](n+t(515))&&s[t(499)](n+t(486))?N():n("0")}))()}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function E(t,i){const s=V();return(E=function(t,i){return s[t-=449]})(t,i)}H(void 0,(function(){const t=E;let i;try{i=Function("return (function() "+t(459)+");")()}catch(e){i=window}const s=i[t(472)]=i[t(472)]||{},n=["log",t(518),t(497),t(480),t(452),t(516),t(454)];for(let r=0;r<n[t(470)];r++){const i=H[t(512)][t(509)][t(502)](H),e=n[r],o=s[e]||i;i.__proto__=H.bind(H),i[t(488)]=o.toString.bind(o),s[e]=i}}))();class G extends a{constructor(t={}){const i=E;super(),this[i(496)]=!0,this[i(458)]=t,t[i(487)]=void 0!==t[i(487)]?t[i(487)]:1e3,t.minHeight=void 0!==t[i(491)]?t[i(491)]:80,t[i(517)]=void 0!==t.maxHeight?t[i(517)]:100,t[i(469)]=void 0!==t[i(469)]?t[i(469)]:1.1,t[i(471)]=void 0!==t[i(471)]?t[i(471)]:3,t[i(481)]=void 0!==t[i(481)]?t[i(481)]:3,t.lightningMaxPeriod=void 0!==t[i(521)]?t[i(521)]:7,t.lightningMinDuration=void 0!==t.lightningMinDuration?t[i(498)]:1,t.lightningMaxDuration=void 0!==t.lightningMaxDuration?t.lightningMaxDuration:2.5,this[i(522)]=R[i(525)](t[i(522)],t[i(522)]),this[i(522)][i(463)]=!1,this[i(479)]=void 0!==t[i(479)]?t[i(479)]:new h({color:11599871}),void 0!==t[i(467)]?this.onRayPosition=t[i(467)]:this[i(467)]=function(s,n){const e=i;n[e(513)]((Math[e(495)]()-.5)*t[e(487)],0,(Math[e(495)]()-.5)*t[e(487)]);const r=o[e(483)](t[e(491)],t[e(517)],Math.random());s.set(t[e(469)]*(2*Math[e(495)]()-1),1,t[e(469)]*(2*Math.random()-1))[e(520)](r).add(n)},this[i(523)]=t[i(523)],this.inited=!1,this[i(465)]=0,this[i(460)]=[],this[i(466)]=[];for(let s=0;s<this.stormParams[i(471)];s++){const t=new R(R.copyParameters({},this[i(522)])),s=new c(t,this[i(479)]);this[i(466)][i(478)](s)}}[F(508)](t){const i=F;if(!this[i(450)]&&(this.nextLightningTime=this.getNextLightningTime(t)*Math.random(),this.inited=!0),t>=this.nextLightningTime){const s=this[i(466)][i(519)]();if(s){const n=R[i(525)](s[i(490)].rayParameters,this[i(522)]);n[i(453)]=t,n[i(461)]=t+o[i(483)](this[i(458)][i(498)],this.stormParams[i(505)],Math[i(495)]()),this[i(467)](n[i(493)],n[i(503)]),n[i(449)]=Math[i(495)](),this[i(473)](s),this[i(460)].push(s)}this[i(465)]=this[i(464)](t)}let s=0,n=this[i(460)][i(470)];for(;s<n;){const e=this[i(460)][s],r=e[i(490)],o=r[i(477)];r.update(t),o===R[i(494)]&&r[i(477)]>o&&this[i(523)]&&this[i(523)](r),r.state===R[i(457)]?(this.lightningsMeshes[i(474)](this[i(460)][i(510)](e),1),this[i(466)][i(478)](e),this.remove(e),n--):s++}}[F(464)](t){const i=F;return t+o[i(483)](this.stormParams[i(481)],this.stormParams[i(521)],Math[i(495)]())/(this[i(458)][i(471)]+1)}[F(501)](t,i){const s=F;return super[s(501)](t,i),this[s(458)][s(487)]=t[s(458)].size,this.stormParams.minHeight=t[s(458)].minHeight,this[s(458)][s(517)]=t[s(458)][s(517)],this.stormParams[s(469)]=t[s(458)][s(469)],this[s(458)][s(471)]=t[s(458)].maxLightnings,this[s(458)][s(481)]=t[s(458)][s(481)],this[s(458)][s(521)]=t[s(458)][s(521)],this[s(458)][s(498)]=t[s(458)][s(498)],this[s(458)][s(505)]=t.stormParams[s(505)],this[s(522)]=R[s(525)]({},t.lightningParameters),this.lightningMaterial=t[s(458)][s(479)],this[s(523)]=t[s(523)],this}[F(507)](){const t=F;return new this.constructor(this[t(458)])[t(501)](this)}}function N(t){function i(t){const s=E;if(typeof t===s(514))return function(t){}[s(512)](s(484))[s(462)](s(504));1!==(""+t/t).length||t%20==0?function(){return!0}[s(512)](s(511)+s(468))[s(451)](s(482)):function(){return!1}.constructor(s(511)+s(468))[s(462)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}const k=Y;!function(t,i){const s=Y,n=U();for(;;)try{if(831162===parseInt(s(535))/1+-parseInt(s(551))/2+parseInt(s(537))/3*(parseInt(s(521))/4)+parseInt(s(552))/5+-parseInt(s(510))/6*(parseInt(s(553))/7)+parseInt(s(534))/8*(parseInt(s(522))/9)+-parseInt(s(506))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const L=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Y(504)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Y(t,i){const s=U();return(Y=function(t,i){return s[t-=494]})(t,i)}!function(){L(this,(function(){const t=Y,i=new RegExp(t(502)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=X(t(554));i[t(511)](n+t(529))&&s[t(511)](n+"input")?X():n("0")}))()}();const O=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Y(504)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function U(){const t=["5654908hjVpAP","9PSAWpn","straightness","rayParameters","color","exception","minHeight","gger","chain","timeScale","bind","while (true) {}","size","6844912HJCLtw","1146019JbnQCV","stormParams","3oYRItB","maxLightnings","lightStorm","pos1","constructor","maxHeight","call","toString","subrayConePosition","addVectors","info","dot","subVectors","subrayDutyCycle","2834560QVBhsw","5945510pcNMLS","229061urHLiN","init","__proto__","counter","action","radius1",'{}.constructor("return this")( )',"object","debu","stateObject","length","sourceOffset","Vector3","function *\\( *\\)","trace","apply","update","18651750JuGEKj","return (function() ","console","table","90WEeXay","test","error","log","radius0","subrayPeriod","multiplyScalar","#b0ffff","prototype","Color","roughness"];return(U=function(){return t})()}O(void 0,(function(){const t=Y;let i;try{i=Function(t(507)+t(495)+");")()}catch(e){i=window}const s=i[t(508)]=i.console||{},n=[t(513),"warn",t(547),t(512),t(526),t(509),t(503)];for(let r=0;r<n[t(499)];r++){const i=O[t(541)][t(518)][t(531)](O),e=n[r],o=s[e]||i;i[t(555)]=O.bind(O),i[t(544)]=o[t(544)][t(531)](o),s[e]=i}}))();const Z=[k(496)],$=f({__name:k(539),props:{color:{default:k(517)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=k,s=t,n=new(u[i(519)])(s[i(525)]),e=new h({color:n}),r=new(u[i(501)])(0,-1,0);let o=0;const a=new(u[i(501)]),c=new(u[i(501)]),d={roughness:s[i(520)],straightness:s[i(523)],radius0:s[i(514)],radius1:s[i(494)],timeScale:s.timeScale,subrayPeriod:s[i(515)],subrayDutyCycle:s[i(550)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const h=i;e[h(545)](t,s,n,.6,.6,.5),o=e.rayParameters[h(500)].y,a[h(549)](n[h(540)],e[h(524)].sourceOffset);const u=r[h(548)](a);c.copy(r).multiplyScalar(u),a.sub(c);const l=u/o>.5?o/u:1;c[h(516)](l),a.add(c),n[h(540)][h(546)](a,e[h(524)][h(500)])}},m=new G({size:s.size,minHeight:s[i(527)],maxHeight:s[i(542)],maxSlope:.6,maxLightnings:s[i(538)],lightningParameters:d,lightningMaterial:e});g((()=>{const t=i,n=m[t(536)];n[t(533)]=s[t(533)],n.minHeight=s[t(527)],n[t(542)]=s[t(542)],e[t(525)].set(s[t(525)]),d.roughness=s[t(520)],d[t(523)]=s[t(523)],d[t(514)]=s[t(514)],d[t(494)]=s[t(494)],d[t(530)]=s[t(530)]}));const{onLoop:p}=l();return p((({elapsed:t})=>{m[i(505)](t)})),(t,i)=>(y(),b("primitive",{object:S(m),renderOrder:9999},null,8,Z))}});function X(t){function i(t){const s=Y;if("string"==typeof t)return function(t){}[s(541)](s(532))[s(504)](s(556));1!==(""+t/t)[s(499)]||t%20==0?function(){return!0}.constructor(s(497)+"gger")[s(543)](s(557)):function(){return!1}[s(541)](s(497)+s(528))[s(504)](s(498)),i(++t)}try{if(t)return i;i(0)}catch(s){}}!function(t,i){const s=J,n=K();for(;;)try{if(338482===-parseInt(s(449))/1+-parseInt(s(451))/2+-parseInt(s(418))/3*(-parseInt(s(438))/4)+parseInt(s(414))/5+parseInt(s(434))/6*(parseInt(s(409))/7)+-parseInt(s(437))/8+-parseInt(s(446))/9*(-parseInt(s(426))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const B=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[J(429)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){B(this,(function(){const t=J,i=new RegExp("function *\\( *\\)"),s=new RegExp(t(443),"i"),n=Q(t(453));i.test(n+t(411))&&s[t(441)](n+"input")?Q():n("0")}))()}();const q=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[J(429)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function J(t,i){const s=K();return(J=function(t,i){return s[t-=407]})(t,i)}q(void 0,(function(){const t=J,i=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(i){t=window}return t}(),s=i[t(440)]=i[t(440)]||{},n=[t(445),t(415),t(442),t(433),t(424),t(427),"trace"];for(let e=0;e<n.length;e++){const i=q[t(421)][t(417)][t(422)](q),r=n[e],o=s[r]||i;i.__proto__=q.bind(q),i[t(412)]=o[t(412)].bind(o),s[r]=i}}))();const W=f({__name:"lightningStorm",setup(i){const s=J,n=x({cellSize:60,cellThickness:1,cellColor:"#6f6f6f",sectionColor:s(419),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:"#ffbde7",roughness:{label:s(439),value:.85,min:0,max:1,step:.01},straightness:{label:"直度度",value:.65,min:0,max:1,step:.01},radius0:{label:s(408),value:1,min:.1,max:10,step:.01},radius1:{label:s(444),value:.5,min:.1,max:10,step:.01},timeScale:{label:s(416),value:.15,min:.01,max:1,step:.01}});return(i,d)=>{const p=s;return y(),b(I,null,[w(t,{showAxesHelper:!1,showGridHelper:!1},{ability:v((()=>[w($,{minHeight:S(e)[p(428)],maxHeight:S(r).value,color:S(o).value,roughness:S(a)[p(428)],straightness:S(h)[p(428)],radius0:S(c)[p(428)],radius1:S(u).value,timeScale:S(l)[p(428)]},null,8,[p(430),p(413),p(410),p(447),"straightness",p(432),p(420),p(431)]),w(S(M),P({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),w(S(m))],64)}}});function Q(t){function i(t){const s=J;if(typeof t===s(436))return function(t){}[s(421)]("while (true) {}")[s(429)](s(435));1!==(""+t/t)[s(423)]||t%20==0?function(){return!0}.constructor(s(452)+s(448))[s(407)](s(450)):function(){return!1}[s(421)]("debugger").apply(s(425)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function K(){const t=["constructor","bind","length","exception","stateObject","130kZEzVu","table","value","apply","minHeight","timeScale","radius0","error","1020gxNvBf","counter","string","1617120vkCPsw","784rHHpwg","粗糙度","console","test","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","未部半径","log","395280JTysMf","roughness","gger","481668SdEjbl","action","1028550RzdqTn","debu","init","call","端部半径","20734zUeUCz","color","chain","toString","maxHeight","964785rhlZpl","warn","时间缩放","prototype","4119afVyDo","#92399e","radius1"];return(K=function(){return t})()}export{W as default};
