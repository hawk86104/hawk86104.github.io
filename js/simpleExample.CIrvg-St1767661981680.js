import{importShared as e}from"./3d-tiles-renderer.COLnOnaF1767661981680.js";import{OrbitControls_default as t}from"./index.DJAV0vsW1767661981680.js";const a=await e("three"),o=30,r=256,n=256,l=(e,t)=>{let{x:a,y:o,radius:r,weight:n}=t;r=parseInt(r*n);const l=e.createRadialGradient(a,o,0,a,o,r);l.addColorStop(0,"rgba(255, 255, 0, 1)"),l.addColorStop(1,"rgba(255, 0, 0, 0)"),e.fillStyle=l,e.globalAlpha=n,e.beginPath(),e.arc(a,o,r,0,2*Math.PI),e.closePath(),e.fill()},i=()=>{const e={1:"#f00",.8:"#e2fa00",.6:"#33f900",.3:"#0349df",0:"#fff"},t=document.createElement("canvas");t.width=256,t.height=10,t.style.position="absolute",t.style.top="0",t.style.right="0";const o=t.getContext("2d"),r=o.createLinearGradient(0,0,256,0);for(const a in e)r.addColorStop(a,e[a]);o.fillStyle=r,o.fillRect(0,0,256,10),document.body.appendChild(t);const n=new a.Texture(t);return n.minFilter=a.NearestFilter,n.needsUpdate=!0,n},s=()=>{const e=document.createElement("canvas");e.width=r,e.height=n,e.style.position="absolute",e.style.top="20px",e.style.right="0";const t=e.getContext("2d"),i=(()=>{const e=new Array;for(let t=0;t<o;t++)e[t]=parseInt(25*Math.random()+10);return e})();for(let a=0;a<o;a++){const e=i[a]/35,o=Math.random()*r,s=Math.random()*n;l(t,{x:o,y:s,radius:80,weight:e})}document.body.appendChild(e);const s=new a.Texture(e);return s.minFilter=a.NearestFilter,s.needsUpdate=!0,s},{defineComponent:p}=await e("vue"),{createElementVNode:d,unref:c,createVNode:u,normalizeProps:h,guardReactiveProps:f,resolveComponent:m,mergeProps:v,withCtx:g,openBlock:y,createBlock:C}=await e("vue"),{PCFSoftShadowMap:S,SRGBColorSpace:w,DoubleSide:M}=await e("three"),x=p({__name:"simpleExample",setup(e){const a={clearColor:"#030311",shadows:!0,alpha:!1,outputColorSpace:w,shadowMapType:S,useLegacyLights:!0},o={transparent:!0,side:M,vertexShader:"\n\tvarying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }",fragmentShader:"\n\t#ifdef GL_ES\n  precision highp float;\n  #endif\n  varying vec2 vUv;\n  uniform sampler2D alphaScaleMap;\n  uniform sampler2D paletteMap;\n  void main() {\n    vec4 alphaColor = texture2D(alphaScaleMap, vUv);\n    vec4 color = texture2D(paletteMap, vec2(alphaColor.a, 0.0));\n    gl_FragColor = vec4(color.r, color.g, color.b, alphaColor.a);\n\t}",uniforms:{alphaScaleMap:{type:"t",value:s()},paletteMap:{type:"t",value:i()}}};function r(e){e&&console.log(e)}return(e,n)=>{const l=m("TresCanvas");return y(),C(l,v(a,{"window-size":""}),{default:g(()=>[n[1]||(n[1]=d("TresPerspectiveCamera",{position:[0,0,3e3],fov:40,near:.1,far:1e4},null,-1)),u(c(t),{autoRotate:!0,autoRotateSpeed:2}),n[2]||(n[2]=d("TresAmbientLight",{color:"#eef0ff",intensity:1},null,-1)),d("TresMesh",{position:[0,0,10],onPointerMove:r},[n[0]||(n[0]=d("TresPlaneGeometry",{args:[1500,1500]},null,-1)),d("TresShaderMaterial",h(f(o)),null,16)],32)]),_:1},16)}}});export{x as default};
