import{_ as t,bO as n}from"./three.8tDGqmLF1741309500666.js";import{a as o}from"./@tresjs.yaBKiR-I1741309500666.js";import{d as r,b as e,a3 as a,w as s,o as i,H as u,N as c,aj as f,ak as l}from"./@vue.NRI7TcgI1741309500666.js";!function(t,n){const o=d,r=m();for(;;)try{if(209279===-parseInt(o(372))/1*(parseInt(o(365))/2)+parseInt(o(386))/3*(-parseInt(o(401))/4)+parseInt(o(415))/5*(parseInt(o(369))/6)+parseInt(o(373))/7+-parseInt(o(409))/8*(-parseInt(o(388))/9)+parseInt(o(380))/10*(parseInt(o(418))/11)+-parseInt(o(417))/12*(-parseInt(o(405))/13))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const p=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(410)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){p(this,(function(){const t=d,n=new RegExp(t(367)),o=new RegExp(t(407),"i"),r=w("init");n[t(371)](r+t(377))&&o.test(r+t(370))?w():r("0")}))()}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(410)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function d(t,n){const o=m();return(d=function(t,n){return o[t-=364]})(t,n)}h(void 0,(function(){const t=d,n=function(){const t=d;let n;try{n=Function(t(396)+t(398)+");")()}catch(o){n=window}return n}(),o=n[t(368)]=n.console||{},r=[t(416),t(402),t(383),"error",t(404),"table",t(399)];for(let e=0;e<r[t(384)];e++){const n=h[t(364)][t(413)][t(411)](h),a=r[e],s=o[a]||n;n.__proto__=h[t(411)](h),n[t(379)]=s[t(379)].bind(s),o[a]=n}}))();const g=()=>{const o=d;return o(400)+t[o(375)].common+o(374)+t[o(375)][o(406)]+o(374)+t[o(375)][o(414)]+"\n       void main() {\n\t\t\t\t\t"+t[o(375)][o(422)]+o(366)+t[o(375)][o(403)]+o(366)+n[o(394)]+o(366)+n[o(392)]+"\n          "+t[o(375)][o(421)]+o(366)+t[o(375)][o(408)]+o(397)};function m(){const t=["length","packing","15aseJwR","common","289071aRjZFy","call","lights_pars_begin","shadowmap_pars_fragment","project_vertex","while (true) {}","begin_vertex","counter","return (function() ","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }",'{}.constructor("return this")( )',"trace","\n       varying vec2 vUv;\n\t\t\t \t","305340ePDQos","warn","defaultnormal_vertex","exception","47554DncFfs","bsdfs","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","shadowmap_vertex","56LJNLnJ","apply","bind","shadowmask_pars_fragment","prototype","shadowmap_pars_vertex","340WAilPF","log","672jSdzfi","1867613axjmEy","gger","\n\t ","worldpos_vertex","beginnormal_vertex","constructor","12966BieKjS","\n          ","function *\\( *\\)","console","14172oNwlaL","input","test","42UzQIaj","722120GrNHow","\n      \t","ShaderChunk","string","chain","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","toString","10zWmHIR","debu","action","info"];return(m=function(){return t})()}const v=()=>{const o=d;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[o(375)][o(387)]+"\n\t "+t[o(375)][o(385)]+"\n\t "+t[o(375)].bsdfs+o(420)+t[o(375)][o(390)]+o(420)+t[o(375)][o(391)]+o(420)+n[o(412)]+o(378)};function w(t){function n(t){const o=d;if(typeof t===o(376))return function(t){}[o(364)](o(393)).apply(o(395));1!==(""+t/t)[o(384)]||t%20==0?function(){return!0}.constructor(o(381)+o(419))[o(389)](o(382)):function(){return!1}[o(364)]("debu"+o(419))[o(410)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const _=y;!function(t,n){const o=y,r=x();for(;;)try{if(488689===-parseInt(o(198))/1+parseInt(o(235))/2+parseInt(o(239))/3*(parseInt(o(199))/4)+-parseInt(o(222))/5*(-parseInt(o(204))/6)+-parseInt(o(216))/7+parseInt(o(236))/8+parseInt(o(190))/9*(-parseInt(o(185))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(200)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function x(){const t=["TresMesh","840680UrCxgG","706760UHkhuX",'{}.constructor("return this")( )',"tmRef","373755evMCuw","wrapS","uShadowColor","size","stateObject","4397230shCquk","__proto__","wrapT","DoubleSide","color","9niifIV","action","UniformsLib","console","while (true) {}","warn","table","log","530441gpJDaY","20GmsrIo","apply","bind","whiteFloorMesh","debu","30NueHYC","exception","#990","rotation-x","prototype","test","lights","Color","init","TresPlaneGeometry","string","counter","4237464ZlMVRd","constructor","return (function() ","function *\\( *\\)","uniforms","trace","932595HoghIW","info","input","error","length","UniformsUtils","shadowColor","merge","toString","call","RepeatWrapping","args"];return(x=function(){return t})()}!function(){I(this,(function(){const t=y,n=new RegExp(t(219)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=U(t(212));n[t(209)](r+"chain")&&o[t(209)](r+t(224))?U():r("0")}))()}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(200)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function y(t,n){const o=x();return(y=function(t,n){return o[t-=185]})(t,n)}b(void 0,(function(){const t=y,n=function(){const t=y;let n;try{n=Function(t(218)+t(237)+");")()}catch(o){n=window}return n}(),o=n[t(193)]=n[t(193)]||{},r=[t(197),t(195),t(223),t(225),t(205),t(196),t(221)];for(let e=0;e<r[t(226)];e++){const n=b[t(217)][t(208)].bind(b),a=r[e],s=o[a]||n;n[t(186)]=b[t(201)](b),n.toString=s[t(230)][t(201)](s),o[a]=n}}))();const C=[_(207)],S=[_(233)],j=r({__name:_(202),props:{size:{default:[20,20]},color:{default:_(206)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const r=_;let p,h;const d=n,m=e(),{map:w}=([p,h]=a((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,h(),p);w[r(240)]=w[r(187)]=t[r(232)];const I={uniforms:t[r(227)][r(229)]([t[r(192)][r(210)],{uTexture:{type:"t",value:w},uColor:{value:new(t[r(211)])(d[r(189)])},uShadowColor:{value:new(t[r(211)])(d.shadowColor)},fEdge:{type:"f",value:d.edge}}]),side:t[r(188)],vertexShader:g(),fragmentShader:v(),lights:!0,transparent:!0};return s((()=>d.edge),(t=>{I.uniforms.fEdge.value=t})),s((()=>d[r(189)]),(n=>{const o=r;I[o(220)].uColor.value=new(t[o(211)])(d[o(189)])})),s((()=>d[r(228)]),(n=>{const o=r;I.uniforms[o(241)].value=new(t[o(211)])(d.shadowColor)})),(t,n)=>{const o=r;return i(),u(o(234),{ref_key:o(238),ref:m,"rotation-x":-Math.PI/2},[c(o(213),{args:d[o(242)]},null,8,S),c("TresShaderMaterial",f(l(I)),null,16)],8,C)}}});function U(t){function n(t){const o=y;if(typeof t===o(214))return function(t){}.constructor(o(194))[o(200)](o(215));1!==(""+t/t)[o(226)]||t%20==0?function(){return!0}[o(217)](o(203)+"gger")[o(231)](o(191)):function(){return!1}[o(217)]("debugger").apply(o(243)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
