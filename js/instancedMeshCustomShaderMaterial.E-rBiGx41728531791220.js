import{an as t,a6 as n,ai as e}from"./three.QbUqWzuy1728531791220.js";import{U as r,J as o,Y as i,L as a}from"./@tresjs.TFxw2EXb1728531791220.js";import{a as s,b as c}from"./index.odAJy2kG1728531791220.js";import{d as u,b as f,w as p,o as l,E as h,j as v,u as d,L as g,r as m,f as b,g as x,aj as y,ak as I,al as w,m as _}from"./@vue.bvMz0l_u1728531791220.js";import"./@vueuse.MmMw6bXQ1728531791220.js";import"./three-stdlib.STo_3R0X1728531791220.js";import"./@pmndrs._tHjs8qy1728531791220.js";import"./object-hash.lBPFZZ1y1728531791220.js";import"./@amap.OnfPw1bC1728531791220.js";import"./jszip.v4-zSwTx1728531791220.js";!function(t,n){for(var e=z,r=j();;)try{if(298392===parseInt(e(403))/1+parseInt(e(410))/2+parseInt(e(404))/3+-parseInt(e(383))/4*(parseInt(e(390))/5)+parseInt(e(387))/6*(-parseInt(e(400))/7)+-parseInt(e(406))/8+parseInt(e(407))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var M=function(){var t=!0;return function(n,e){var r=t?function(){if(e){var t=e[z(385)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function z(t,n){var e=j();return(z=function(t,n){return e[t-=380]})(t,n)}!function(){M(this,(function(){var t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=S(t(397));n[t(391)](r+t(388))&&e[t(391)](r+t(408))?S():r("0")}))()}();var P=function(){var t=!0;return function(n,e){var r=t?function(){if(e){var t=e[z(385)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function j(){var t=['{}.constructor("return this")( )',"376572ULdkjq","131802rGUbrb","length","3063344FBSiix","4965525AuIYrW","input","log","1138446vIiUiH","trace","constructor","warn","return (function() ","console","377180quSMnM","while (true) {}","apply","gger","2332014rBtwFp","chain","prototype","25eECWFm","test","exception","string","__proto__","debu","error","init","toString","bind","7tTpcSN","call"];return(j=function(){return t})()}P(void 0,(function(){for(var t=z,n=function(){var t,n=z;try{t=Function(n(381)+n(402)+");")()}catch(e){t=window}return t}(),e=n[t(382)]=n[t(382)]||{},r=[t(409),t(380),"info",t(396),t(392),"table",t(411)],o=0;o<r[t(405)];o++){var i=P[t(412)][t(389)][t(399)](P),a=r[o],s=e[a]||i;i[t(394)]=P.bind(P),i[t(398)]=s[t(398)].bind(s),e[a]=i}}))();function S(t){function n(t){var e=z;if(typeof t===e(393))return function(t){}[e(412)](e(384))[e(385)]("counter");1!==(""+t/t)[e(405)]||t%20==0?function(){return!0}[e(412)]("debu"+e(386))[e(401)]("action"):function(){return!1}[e(412)](e(395)+e(386))[e(385)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=D;!function(t,n){const e=D,r=R();for(;;)try{if(855795===-parseInt(e(521))/1*(-parseInt(e(490))/2)+-parseInt(e(531))/3+-parseInt(e(535))/4+parseInt(e(529))/5+-parseInt(e(498))/6*(parseInt(e(497))/7)+parseInt(e(528))/8*(parseInt(e(494))/9)+-parseInt(e(530))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const T=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(509)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){T(this,(function(){const t=D,n=new RegExp(t(523)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=E(t(485));n.test(r+t(503))&&e[t(486)](r+t(487))?E():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(509)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function R(){const t=["4916MBqQPI","call","vertexShader","bind","9oGZDHL",'{}.constructor("return this")( )',"position","14658UhnyKM","870OWooTx","matrix","table","vertex","TresSphereGeometry","chain","rotation","value","fragmentShader","__proto__","action","apply","multiplyScalar","gger","TresInstancedMesh","needsUpdate","constructor","stateObject","random","\n\t\tvarying vec3 vPosition;\n\t\t// 函数将 HSL 转换为 RGB\n\t\tvec3 hsl2rgb(float h, float s, float l) {\n\t\t\t\tfloat c = (1.0 - abs(2.0 * l - 1.0)) * s;\n\t\t\t\tfloat x = c * (1.0 - abs(mod(h * 6.0, 2.0) - 1.0));\n\t\t\t\tfloat m = l - c / 2.0;\n\t\t\t\tvec3 rgb;\n\t\t\t\tif (0.0 <= h && h < 1.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, x, 0.0);\n\t\t\t\t} else if (1.0 / 6.0 <= h && h < 2.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, c, 0.0);\n\t\t\t\t} else if (2.0 / 6.0 <= h && h < 3.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, c, x);\n\t\t\t\t} else if (3.0 / 6.0 <= h && h < 4.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, x, c);\n\t\t\t\t} else if (4.0 / 6.0 <= h && h < 5.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, 0.0, c);\n\t\t\t\t} else if (5.0 / 6.0 <= h && h < 6.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, 0.0, x);\n\t\t\t\t} else {\n\t\t\t\t\t\trgb = vec3(0.0, 0.0, 0.0);\n\t\t\t\t}\n\t\t\t\trgb += vec3(m);\n\t\t\t\treturn rgb;\n\t\t}\n    void main() {\n      // csm_DiffuseColor = vec4(1.,1.,1.,1.);\n\t\t\tfloat h = mod(vPosition.x + vPosition.y + vPosition.z, 1.0); // 色相 H: [0, 1)\n\t\t\tfloat s = 0.9; // 饱和度 S: 固定为 0.8\n\t\t\tfloat l = 0.4; // 亮度 L: 固定为 0.5\n\t\t\tvec3 rgb = hsl2rgb(h, s, l);\n\t\t\tcsm_DiffuseColor = vec4(rgb,1.);\n    }\n    ","fragment","info","error","386ppXFKv","warn","function *\\( *\\)","tmRef","updateMatrix","trace","log","8509064Piptgc","4649315aCOGYB","352300daobXN","3571776DlmmNS","prototype","instanceMatrix","string","2228148KvkmSe","instancedMeshCom","while (true) {}","console","counter","length","init","test","input","set","toString"];return(R=function(){return t})()}F(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function("return (function() "+t(495)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(482)]||{},r=[t(527),t(522),t(519),t(520),"exception",t(500),t(526)];for(let o=0;o<r.length;o++){const n=F[t(514)][t(532)][t(493)](F),i=r[o],a=e[i]||n;n[t(507)]=F[t(493)](F),n[t(489)]=a.toString[t(493)](a),e[i]=n}}))();const A=g(N(502),{args:[1,64,64]},null,-1);function D(t,n){const e=R();return(D=function(t,n){return e[t-=482]})(t,n)}const C=u({__name:N(536),setup(e){const i=N,a=f(null),s={vertex:"\n    uniform float uTime;\n\t\tvarying vec3 vPosition;\n\t\t\n// Precision-adjusted variations of https://www.shadertoy.com/view/4djSRW\nfloat hash(float p) { p = fract(p * 0.011); p *= p + 7.5; p *= p + p; return fract(p); }\nfloat hash(vec2 p) { vec3 p3 = fract(vec3(p.xyx) * 0.13); p3 += dot(p3, p3.yzx + 3.333); return fract((p3.x + p3.y) * p3.z); }\n\nfloat noise(vec3 x) {\n    const vec3 step = vec3(110, 241, 171);\n\n    vec3 i = floor(x);\n    vec3 f = fract(x);\n\n    // For performance, compute the base input to a 1D hash from the integer part of the argument and the\n    // incremental change to the 1D based on the 3D -> 1D wrapping\n    float n = dot(i, step);\n\n    vec3 u = f * f * (3.0 - 2.0 * f);\n    return mix(mix(mix(hash(n + dot(step, vec3(0, 0, 0))), hash(n + dot(step, vec3(1, 0, 0))), u.x),\n                   mix(hash(n + dot(step, vec3(0, 1, 0))), hash(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\n               mix(mix(hash(n + dot(step, vec3(0, 0, 1))), hash(n + dot(step, vec3(1, 0, 1))), u.x),\n                   mix(hash(n + dot(step, vec3(0, 1, 1))), hash(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\n}\n\n    vec3 displace(vec3 point) {\n      vec3 instancePosition = (instanceMatrix * vec4(point, 1.)).xyz;\n      return instancePosition + (normal * noise((instancePosition * 3.) + uTime) * 0.8);\n    }  \n\n    vec3 orthogonal(vec3 v) {\n      return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)\n      : vec3(0.0, -v.z, v.y));\n    }\n\n    vec3 recalcNormals(vec3 newPos) {\n      float offset = 0.001;\n      vec3 tangent = orthogonal(normal);\n      vec3 bitangent = normalize(cross(normal, tangent));\n      vec3 neighbour1 = position + tangent * offset;\n      vec3 neighbour2 = position + bitangent * offset;\n\n      vec3 displacedNeighbour1 = displace(neighbour1);\n      vec3 displacedNeighbour2 = displace(neighbour2);\n\n      vec3 displacedTangent = displacedNeighbour1 - newPos;\n      vec3 displacedBitangent = displacedNeighbour2 - newPos;\n\n      return normalize(cross(displacedTangent, displacedBitangent));\n    }\n\n    void main() {\n\t\t\tvPosition = position;\n      vec3 p = displace(position);\n      csm_PositionRaw = projectionMatrix * modelViewMatrix * instanceMatrix * vec4(p, 1.);\n      csm_Normal = recalcNormals(p);\n    }\n    ",fragment:i(517)},c={uTime:{value:0}},u=new t,{onLoop:g}=r();return g((({elapsed:t})=>{const n=i;c.uTime[n(505)]=t})),p((()=>a[i(505)]),(t=>{const n=i;if(t){let e=0;for(let r=0;r<88;r++)u.position[n(488)](Math.random(),Math[n(516)](),Math[n(516)]()),u[n(504)][n(488)](Math[n(516)](),Math[n(516)](),Math[n(516)]()),u[n(496)][n(510)](10),u[n(496)].x-=5,u[n(496)].y-=5,u[n(496)].z-=5,u[n(525)](),t.setMatrixAt(e++,u[n(499)]);t[n(533)][n(513)]=!0}})),(t,e)=>{const r=i;return l(),h(r(512),{ref_key:r(524),ref:a,args:[null,null,88]},[A,v(d(o),{baseMaterial:n,vertexShader:s[r(501)],fragmentShader:s[r(518)],uniforms:c,transparent:""},null,8,["baseMaterial",r(492),r(506)])],512)}}});function E(t){function n(t){const e=D;if(typeof t===e(534))return function(t){}[e(514)](e(537))[e(509)](e(483));1!==(""+t/t)[e(484)]||t%20==0?function(){return!0}.constructor("debu"+e(511))[e(491)](e(508)):function(){return!1}[e(514)]("debu"+e(511)).apply(e(515)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=q;!function(t,n){const e=q,r=k();for(;;)try{if(451613===-parseInt(e(381))/1+parseInt(e(391))/2+-parseInt(e(376))/3*(-parseInt(e(373))/4)+-parseInt(e(389))/5+-parseInt(e(394))/6*(-parseInt(e(410))/7)+parseInt(e(398))/8*(-parseInt(e(401))/9)+-parseInt(e(407))/10*(-parseInt(e(396))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(399)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=q,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=H(t(395));n[t(406)](r+t(390))&&e.test(r+t(387))?H():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function k(){const t=["3oVvwwe","action","warn","rotation-y","debu","823454NgiwCx","stateObject","string","log","constructor","TresPerspectiveCamera","input","bind","1477870KBZuzn","chain","1382902zoPPiy","length","TresAmbientLight","12EOzeMH","init","121rGbObN","gger","29840OFbSFq","apply","while (true) {}","1233XlgvzU","trace","circle","prototype","exception","test","696090OIbsep","instancedMeshCustomShaderMaterial","info","2101519FRYIQA","__proto__","toString","console","96268qzVwNP","rotation-x",'{}.constructor("return this")( )'];return(k=function(){return t})()}Z(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function("return (function() "+t(375)+");")()}catch(e){n=window}return n}(),e=n[t(372)]=n[t(372)]||{},r=[t(384),t(378),t(409),"error",t(405),"table",t(402)];for(let o=0;o<r[t(392)];o++){const n=Z[t(385)][t(404)][t(388)](Z),i=r[o],a=e[i]||n;n[t(411)]=Z[t(388)](Z),n[t(412)]=a[t(412)][t(388)](a),e[i]=n}}))();const B=g(L(386),{position:[15,15,15],fov:45,near:1,far:1e3},null,-1),U=g(L(393),{intensity:.5},null,-1),$=g("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1),G=u({__name:L(408),setup(t){const n=m({alpha:!0,toneMapping:e,windowSize:!0,clearColor:0}),r=m({enableDamping:!0});return(t,e)=>{const o=q;return l(),b(d(a),_(n,{"window-size":""}),{default:x((()=>[B,v(d(i),y(I(r)),null,16),U,$,(l(),b(w,null,{default:x((()=>[v(d(s),{intensity:16,resolution:256,background:"",blur:.6},{default:x((()=>[v(d(c),{intensity:2,form:o(403),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[o(374)]),v(d(c),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),v(d(c),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[o(379)]),v(d(c),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["rotation-y"])])),_:1})])),_:1})),v(C)])),_:1},16)}}});function q(t,n){const e=k();return(q=function(t,n){return e[t-=372]})(t,n)}function H(t){function n(t){const e=q;if(typeof t===e(383))return function(t){}.constructor(e(400)).apply("counter");1!==(""+t/t)[e(392)]||t%20==0?function(){return!0}[e(385)](e(380)+e(397)).call(e(377)):function(){return!1}[e(385)](e(380)+e(397))[e(399)](e(382)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{G as default};
