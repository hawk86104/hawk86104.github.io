import{U as n,p as t,Y as e,n as o,z as r}from"./@tresjs.S6PXiQcG1729820105274.js";import{_ as i,a0 as s,ce as c}from"./three.0W5n8UBO1729820105274.js";import{P as a}from"./tweakpane.yHWGBmom1729820105274.js";import{L as u}from"./three-subdivide.XgYYMyMb1729820105274.js";import{d as l,b as f,a3 as p,w as d,o as m,E as g,L as h,aj as v,ak as y,a4 as w,r as b,e as _,f as I,g as x,j as S,u as M,m as j,J as B}from"./@vue.bvMz0l_u1729820105274.js";import"./@vueuse.3M_MDcJc1729820105274.js";const T=A;function C(){const n=["bind","position","#ffff00","stateObject","1708722pYHmXm","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresShaderMaterial","viewVector","function *\\( *\\)","gger","constructor","clone","material","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","counter","FrontSide","value","length","uniforms","shineShader","side","debu","1654aRdShq","toString","trace","test","srcMesh","color","Color","glowColor","Vector3","1971788EZqUZm","9752Umjjwy","modify","string",'{}.constructor("return this")( )',"441AeCCiH","subdivision","__proto__","info","TresMesh","action","scale","input","363770HIvKkP","return (function() ","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","attributes","389044VgWIIB","291NCCFqG","apply","table","AdditiveBlending","blending","subVectors","1671575NGVgDe","console","geometry"];return(C=function(){return n})()}!function(n,t){const e=A,o=C();for(;;)try{if(208387===parseInt(e(492))/1+parseInt(e(470))/2*(-parseInt(e(497))/3)+parseInt(e(496))/4+parseInt(e(503))/5+-parseInt(e(510))/6+-parseInt(e(479))/7+parseInt(e(480))/8*(parseInt(e(484))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=A,t=new RegExp(n(514)),e=new RegExp(n(511),"i"),o=F("init");t[n(473)](o+"chain")&&e[n(473)](o+n(491))?F():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(498)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(n,t){const e=C();return(A=function(n,t){return e[n-=461]})(n,t)}z(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(493)+n(483)+");")()}catch(e){t=window}return t}(),e=t[n(504)]=t[n(504)]||{},o=["log","warn",n(487),"error","exception",n(499),n(472)];for(let r=0;r<o[n(465)];r++){const t=z[n(516)].prototype[n(506)](z),i=o[r],s=e[i]||t;t[n(486)]=z[n(506)](z),t.toString=s[n(471)][n(506)](s),e[i]=t}}))();const R=[T(490)],V=l({__name:T(467),props:{srcMesh:{},scale:{default:1.2},color:{default:T(508)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[T(463)]},blending:{default:i[T(500)]}},setup(e){const o=T,r=e,s=f(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(476)])(r[o(475)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(461),fragmentShader:o(494),side:r.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};p((()=>{const n=o;if(r[n(474)]&&s[n(464)]&&!s[n(464)][n(505)][n(495)].position){let t=r[n(474)][n(505)][n(517)]();r[n(485)]&&(t=u[n(481)](t,2)),s.value[n(505)]=t,s.value[n(507)].copy(r.srcMesh[n(507)])}r[n(475)]&&(c[n(466)][n(477)][n(464)]=new(i[n(476)])(r[n(475)])),r.c&&(c[n(466)].c.value=r.c),r.p&&(c[n(466)].p[n(464)]=r.p)})),d((()=>r[o(485)]),(n=>{const t=o;let e=r.srcMesh[t(505)][t(517)]();n&&(e=u[t(481)](e,2)),s[t(464)][t(505)]=e})),d((()=>r[o(468)]),(n=>{const t=o;s[t(464)][t(518)][t(468)]=n})),d((()=>r[o(501)]),(n=>{const t=o;s[t(464)][t(518)][t(501)]=n}));const{onLoop:a}=n(),{camera:l}=t();return a((()=>{const n=o;l[n(464)]&&s[n(464)]&&(c.uniforms[n(513)].value=(new(i[n(478)]))[n(502)](l[n(464)][n(507)],s.value[n(507)]))})),(n,t)=>{const e=o;return m(),g(e(488),{ref_key:"TSGref",ref:s,scale:r.scale},[h(e(512),v(y(c)),null,16)],8,R)}}});function F(n){function t(n){const e=A;if(typeof n===e(482))return function(n){}[e(516)]("while (true) {}").apply(e(462));1!==(""+n/n)[e(465)]||n%20==0?function(){return!0}[e(516)](e(469)+e(515)).call(e(489)):function(){return!1}[e(516)](e(469)+e(515))[e(498)](e(509)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=$;!function(n,t){const e=$,o=Z();for(;;)try{if(689604===parseInt(e(159))/1*(-parseInt(e(119))/2)+parseInt(e(171))/3+-parseInt(e(162))/4+parseInt(e(127))/5*(parseInt(e(160))/6)+-parseInt(e(134))/7+-parseInt(e(172))/8+-parseInt(e(166))/9*(-parseInt(e(113))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[$(112)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Z(){const n=["10CLQGRI","TresMeshBasicMaterial","#0ff","bind","TreBoxRef","srcMesh","453374BtRDqk","color","value","TresSphereGeometry","logo.png","toString","TresMeshRefB","gger","290zcVpQw","TresMeshRefA","log","chain",'{}.constructor("return this")( )',"__proto__","instance","2396303LTSGUD","边缘处理","map","#00dfff","FrontSide","scale","AdditiveBlending","addBinding","#222","stateObject","TresCanvas","TresGridHelper","init","side","string","TresPerspectiveCamera","return (function() ","debu","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresAmbientLight","console","error","BackSide","prototype","5cxWoFw","71730zNCPSc","trace","4800484ZvkiWJ","TresMesh","warn","length","21856347lgBWdl","exception","call","input","test","1418667IbYqvw","1834184hjyDSO","constructor","apply"];return(Z=function(){return n})()}!function(){N(this,(function(){const n=$,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(153),"i"),o=Y(n(146));t[n(170)](o+n(130))&&e.test(o+n(169))?Y():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[$(112)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();E(void 0,(function(){const n=$,t=function(){const n=$;let t;try{t=Function(n(150)+n(131)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(155)]||{},o=[n(129),n(164),n(152),n(156),n(167),"table",n(161)];for(let r=0;r<o.length;r++){const t=E.constructor[n(158)].bind(E),i=o[r],s=e[i]||t;t[n(132)]=E[n(116)](E),t[n(124)]=s[n(124)][n(116)](s),e[i]=t}}))();const L=h(G(149),{position:[5,5,5]},null,-1),q=h(G(154),{intensity:1},null,-1),D=h(G(145),{args:[10,10]},null,-1),P=h(G(122),{args:[1,32,16]},null,-1),W=[G(136)],H=[G(136)],U=[h("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),h(G(114),{color:G(115)},null,-1)];function $(n,t){const e=Z();return($=function(n,t){return e[n-=112]})(n,t)}const O=l({__name:"shader",async setup(n){const t=G;let u,l;const p={clearColor:t(142)},d=f(),g=f(),v=f(),y=([u,l]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(123)]))),u=await u,l(),u),T=b({scale:1.6,color:t(137),subdivision:!0,c:1.1,p:1.4,side:i[t(138)],blending:i[t(140)]}),C=new a({title:"参数",expanded:!0});return C.addBinding(T,t(120),{label:"颜色"}),C[t(141)](T,t(139),{label:"大小",min:1,max:3,step:.2}),C[t(141)](T,"subdivision",{label:t(135)}),C[t(141)](T,"c",{label:"c",min:0,max:2,step:.1}),C[t(141)](T,"p",{label:"p",min:0,max:8,step:.2}),C[t(141)](T,t(147),{options:{FrontSide:i[t(138)],BackSide:i[t(157)],DoubleSide:s}}),C[t(141)](T,"blending",{options:{AdditiveBlending:i[t(140)],NormalBlending:c}}),(n,r)=>{const i=t,s=_(i(144));return m(),I(s,j(p,{"window-size":""}),{default:x((()=>[L,q,S(M(e)),D,h(i(163),{ref_key:i(128),ref:d,position:[-2,1,0]},[P,h(i(114),{map:M(y)[0]},null,8,W)],512),S(V,j({srcMesh:d[i(121)]},T),null,16,[i(118)]),S(M(o),{ref_key:i(117),ref:v,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h(i(114),{map:M(y)[1]},null,8,H)])),_:1},512),v[i(121)]&&v[i(121)][i(133)]?(m(),I(V,j({key:0,srcMesh:v[i(121)][i(133)]},T),null,16,[i(118)])):B("",!0),h(i(163),{ref_key:i(125),ref:g,position:[0,1,-2]},U,512),S(V,j({srcMesh:g[i(121)]},T),null,16,[i(118)])])),_:1},16)}}});function Y(n){function t(n){const e=$;if(typeof n===e(148))return function(n){}[e(173)]("while (true) {}")[e(112)]("counter");1!==(""+n/n)[e(165)]||n%20==0?function(){return!0}.constructor(e(151)+e(126))[e(168)]("action"):function(){return!1}.constructor(e(151)+e(126))[e(112)](e(143)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{O as default};
