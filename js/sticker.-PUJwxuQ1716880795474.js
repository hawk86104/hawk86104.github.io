import{a1 as h,ad as B,ak as z,a7 as D,X as A,b9 as F,o,c as j,L as i,ap as I,a9 as N,aD as L,aE as G,x as p,E as u,Y as c,a as r,ag as m,bf as O,r as V,aa as q,ab as H,G as U,b3 as X,ac as Y,cc as J}from"./vendor.9G8CKric1716880795474.js";/* empty css                                                                                 */import{_ as K}from"./randomLoading.vue_vue_type_script_setup_true_lang.BrQkawns1716880795474.js";import"./vanilla.esm.5.5.0.16lxoeod1716880795474.js";import{u as $}from"./index.Vx99hJZN1716880795474.js";import{M as E}from"./MeshTransmissionMaterial.BiWY1PQU1716880795474.js";import{M as Q}from"./MeshDiscardMaterial.NQkLuE9p1716880795474.js";import"./starLoading.EJ7MGTTd1716880795474.js";import"./cssLoaders.mROknNSH1716880795474.js";import"./bubbleLoading.vIadXqXu1716880795474.js";import"./object_hash.Me0Vhn2S1716880795474.js";import"./_commonjsHelpers.5-cIlDoe1716880795474.js";import"./_commonjs-dynamic-modules.h-SxKiO41716880795474.js";import"./shaderMaterial.ziqb17wI1716880795474.js";const W=["side"],Z=0,ee=0,ae=0,f=1024,se=h({__name:"stickerTransmisionMaterial",setup(g,{expose:s}){const e=B(),{extend:l,scene:t,renderer:n,camera:M}=z(),a=B();l({MeshTransmissionMaterial:E});function P(_,w){let C;return _.traverse(v=>{v.isMesh&&v.material&&v.material.uuid===w&&(C=v)}),C}const R=new Q,{onBeforeLoop:S}=N(),k=$({width:f,height:f,isLoop:!1}),d=$({width:f,height:f,isLoop:!1});D(async()=>{await A(),e.value.buffer=d.value.texture,a.value=P(t.value,e.value.uuid)});let y,T,x,b;return S(({elapsed:_})=>{e.value.time=_,e.value.buffer===d.value.texture&&a.value&&(x=n.value.toneMapping,y=t.value.background,T=e.value.envMapIntensity,b=a.value.material.side,a.value.material=R,n.value.setRenderTarget(k.value),n.value.render(t.value,M.value),a.value.material=e.value,a.value.material.thickness=Z,a.value.material.buffer=k.value.texture,a.value.material.side=F,a.value.material.envMapIntensity=ae,n.value.setRenderTarget(d.value),n.value.render(t.value,M.value),a.value.material.buffer=d.value.texture,a.value.material=e.value,a.value.material.thickness=ee,a.value.material.side=b,a.value.material.envMapIntensity=T,t.value.background=y,n.value.setRenderTarget(null),n.value.toneMapping=x)}),s({root:e,constructor:E}),(_,w)=>(o(),j("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:e,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:i(I)},null,8,W))}}),te=["geometry","rotation"],ne=h({__name:"stickerModel",async setup(g){let s,e;const{nodes:l}=([s,e]=L(()=>G("./plugins/eCommerce/model/pack.glb")),s=await s,e(),s);return(t,n)=>(o(),p(m,null,{default:u(()=>[c("TresMesh",{geometry:i(l).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[r(se)],8,te)]),_:1}))}}),re=c("TresPlaneGeometry",null,null,-1),oe=["map","side"],ie=h({__name:"stickerLogo",async setup(g){let s,e;const l=([s,e]=L(()=>O(["logo.png"])),s=await s,e(),s);return(t,n)=>(o(),p(m,null,{default:u(()=>[c("TresMesh",null,[re,c("TresMeshPhysicalMaterial",{map:i(l),transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:i(I)},null,8,oe)])]),_:1}))}}),le=c("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1),ue=c("TresAmbientLight",{intensity:2},null,-1),be=h({__name:"sticker",setup(g){const s={clearColor:"#333333",windowSize:!0,toneMapping:X,toneMappingExposure:.8,shadows:!0};return(e,l)=>{const t=V("TresCanvas");return o(),j(U,null,[r(i(K)),r(t,q(H(s)),{default:u(()=>[le,r(i(Y),{enableDamping:""}),ue,(o(),p(m,null,{default:u(()=>[r(ne)]),_:1})),(o(),p(m,null,{default:u(()=>[r(ie)]),_:1})),(o(),p(m,null,{default:u(()=>[r(i(J),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/",background:!1},null,8,["files"])]),_:1}))]),_:1},16)],64)}}});export{be as default};
