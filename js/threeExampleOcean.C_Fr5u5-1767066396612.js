import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{_ as t,K as a,u as i}from"./@tresjs.B1f7s3pS1767066396612.js";import{P as n}from"./tweakpane.CqZAnw7f1767066396612.js";import{h as r}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.DS9PWjZT1767066396612.js";import"./index.vue_vue_type_script_setup_true_lang.iYOGhvYh1767066396612.js";import{ah as o}from"./three.BD1hRFgo1767066396612.js";const{withAsyncContext:s,defineComponent:l}=await e("vue"),{unref:u,openBlock:m,createElementBlock:p}=await e("vue"),c=["object","rotation-x"],{RepeatWrapping:d,Vector3:w,PlaneGeometry:v}=await e("three"),{watchEffect:h}=await e("vue"),f=l({__name:"threeExampleOcean",props:{size:{default:1},distortionScale:{default:3.7}},async setup(e){let a,i;const n=e,l=new v(1e3,1e3),f=([a,i]=s(()=>r("./plugins/water/images/waternormals.jpg")),a=await a,i(),a);f.wrapS=f.wrapT=d;const _=new o(l,{textureWidth:512,textureHeight:512,waterNormals:f,sunDirection:new w,sunColor:16777215,waterColor:7695,distortionScale:3.7});h(()=>{n.size&&(_.material.uniforms.size.value=n.size),n.distortionScale&&(_.material.uniforms.distortionScale.value=n.distortionScale)});const{onBeforeRender:x}=t();return x(()=>{_.material.uniforms.time.value+=1/60}),(e,t)=>(m(),p("primitive",{object:u(_),"rotation-x":-Math.PI/2},null,8,c))}}),{defineComponent:_}=await e("vue"),{createElementVNode:x,unref:g,createVNode:z,normalizeProps:j,guardReactiveProps:C,Suspense:S,withCtx:B,openBlock:b,createBlock:y,resolveComponent:P,mergeProps:k}=await e("vue"),{reactive:E}=await e("vue"),R=_({__name:"threeExampleOcean",setup(e){const t={clearColor:"#222",shadows:!0,alpha:!1},r=E({size:1,distortionScale:3.7}),o=new n({title:"参数",expanded:!0});o.addBinding(r,"distortionScale",{label:"水变化尺度",min:0,max:8,step:.1}),o.addBinding(r,"size",{label:"水精细度",min:.1,max:10,step:.1});const s=E({elevation:2,azimuth:180});return o.addBinding(s,"elevation",{label:"太阳地平线高",min:.1,max:10,step:.1}),o.addBinding(s,"azimuth",{label:"太阳地方位角",min:0,max:360,step:1}),(e,n)=>{const o=P("TresCanvas");return b(),y(o,k(t,{"window-size":""}),{default:B(()=>[n[0]||(n[0]=x("TresPerspectiveCamera",{position:[30,30,100]},null,-1)),z(g(a)),z(g(i),{turbidity:10,rayleigh:2,mieDirectionalG:.8,elevation:s.elevation,distance:1e4,azimuth:s.azimuth},null,8,["elevation","azimuth"]),(b(),y(S,null,{default:B(()=>[z(f,j(C(r)),null,16)]),_:1}))]),_:1},16)}}});export{R as default};
