import{N as n,$ as t}from"./@tresjs.bNNpPzYW1722507394274.js";import{d as e,a4 as o,r,X as i,a1 as a,o as s,D as u,J as c,m as l,u as f,b as p,w as d,aj as g,ak as h}from"./@vue.CFXy4cc91722507394274.js";import{aN as v,Z as m,C as y,M as w,ce as x,V as I}from"./three.Brogx0uK1722507394274.js";const _=A;!function(n,t){const e=A,o=b();for(;;)try{if(888004===-parseInt(e(501))/1*(-parseInt(e(491))/2)+parseInt(e(509))/3+parseInt(e(524))/4*(-parseInt(e(488))/5)+parseInt(e(499))/6+-parseInt(e(512))/7*(parseInt(e(494))/8)+-parseInt(e(477))/9*(-parseInt(e(506))/10)+-parseInt(e(496))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function b(){const n=["function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5049750uOITbl","#fff","position","2591355lUoPDy","sizeAttenuation","__proto__","7iDpdwp","gger","test","length","scale","console","call","init","value","translate","geometry","99999","170460cSUvas","chain","constructor","error","9gVepQz","map","info","warn","offset","TresSpriteMaterial","toString","bind","debu","tsRef","table","165yaKXme","TresSprite","return (function() ","3149178ftLPkn","color","buildingsMarkA","7058472FHVxSE","exception","16441480RkpaNP","prototype","apply","10367634BvrDWA","foremost","1uheNuB","while (true) {}","clone"];return(b=function(){return n})()}function A(n,t){const e=b();return(A=function(n,t){return e[n-=476]})(n,t)}!function(){M(this,(function(){const n=A,t=new RegExp(n(504)),e=new RegExp(n(505),"i"),o=k(n(519));t[n(514)](o+n(525))&&e[n(514)](o+"input")?k():o("0")}))()}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(498)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();R(void 0,(function(){const n=A;let t;try{t=Function(n(490)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(517)]=t[n(517)]||{},o=["log",n(480),n(479),n(476),n(495),n(487),"trace"];for(let i=0;i<o[n(515)];i++){const t=R[n(526)][n(497)][n(484)](R),r=o[i],a=e[r]||t;t[n(511)]=R[n(484)](R),t[n(483)]=a[n(483)][n(484)](a),e[r]=t}}))();const F=[_(508),_(516)],P=[_(478)],T=e({__name:_(493),props:{color:{default:_(507)},position:{default:[0,0,0]},scale:{default:.1},img:{},offset:{default:[.344,.394]},foremost:{type:Boolean,default:!0},sizeAttenuation:{type:Boolean,default:!1}},async setup(t){const e=_;let p,d;const g=t,{map:h}=([p,d]=o((()=>n({map:g.img}))),p=await p,d(),p),v=r({color:g[e(492)],transparent:!0,depthWrite:!1,sizeAttenuation:g[e(510)],toneMapped:!1,depthTest:!g[e(500)]}),m=i(null);return a((()=>{const n=e;m[n(520)]&&(m[n(520)][n(522)]=m[n(520)][n(522)][n(503)](),m[n(520)][n(522)][n(521)](g.offset[0],g[n(481)][1],0))})),(n,t)=>{const o=e;return s(),u(o(489),{ref_key:o(486),ref:m,position:g[o(508)],scale:g[o(516)],renderOrder:o(523)},[c(o(482),l(v,{map:f(h)}),null,16,P)],8,F)}}});function k(n){function t(n){const e=A;if("string"==typeof n)return function(n){}[e(526)](e(502)).apply("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(526)](e(485)+e(513))[e(518)]("action"):function(){return!1}[e(526)](e(485)+e(513))[e(498)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const S=C;!function(n,t){const e=C,o=W();for(;;)try{if(716574===-parseInt(e(380))/1*(-parseInt(e(397))/2)+-parseInt(e(358))/3*(-parseInt(e(370))/4)+-parseInt(e(378))/5*(-parseInt(e(365))/6)+parseInt(e(392))/7*(parseInt(e(386))/8)+parseInt(e(367))/9*(-parseInt(e(361))/10)+-parseInt(e(395))/11*(parseInt(e(390))/12)+parseInt(e(351))/13*(-parseInt(e(347))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(373)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){z(this,(function(){const n=C,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(349),"i"),o=E(n(388));t[n(371)](o+"chain")&&e[n(371)](o+n(372))?E():o("0")}))()}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(373)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function C(n,t){const e=W();return(C=function(n,t){return e[n-=347]})(n,t)}function W(){const n=["19864wvXMua","info","\n\tvarying vec3 vPosition;\n\tvoid main() {\n\t\tvPosition = position;\n\t\tvec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\t\tvec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n    gl_Position = projectionPosition;\n  }\n  ","string","table","followWidth","constructor","247014ALJmey","position","TresMesh","10IwOmbA","prototype","TresShaderMaterial","value","168aLslxM","return (function() ","3708594jJoQGk","length","TresCircleGeometry","64flfXRK","test","input","apply","TresCircleGeometryRef","exception","args","radraA","160600mFaNFw","console","3JIxLog","applyMatrix4","MeshRef","\n\tuniform float uRadius;     \n  uniform float uTime;            \n  uniform float uSpeed; \n  uniform float uFollowWidth; \n  varying vec3 vPosition;\n\tuniform vec3 ncolor;\n  float calcAngle(vec3 oFrag){\n    float fragAngle;\n    const vec3 ox = vec3(1,0,0);\n    float dianji = oFrag.x * ox.x + oFrag.z*ox.z;\n    float oFrag_length = length(oFrag); // length是内置函数\n    float ox_length = length(ox); // length是内置函数\n    float yuxian = dianji / (oFrag_length * ox_length);\n    fragAngle = acos(yuxian);\n    fragAngle = degrees(fragAngle);\n    if(oFrag.z > 0.0) {\n      fragAngle = -fragAngle + 360.0;\n    }\n    float scanAngle = uTime * uSpeed - floor(uTime * uSpeed / 360.0) * 360.0;\n    float angle = scanAngle - fragAngle;\n    if(angle < 0.0){\n      angle = angle + 360.0;\n    }\n    return angle;\n  }\n  void main() {\n\t\t\t// length内置函数，取向量的长度\n\t\tif(length(vPosition) == 0.0 || length(vPosition) > uRadius-2.0){\n\t\t\tgl_FragColor = vec4( ncolor, 1.0 );\n\t\t} else {\n\t\t\tfloat angle = calcAngle(vPosition);\n\t\t\tif(angle < uFollowWidth){\n\t\t\t\t// 尾焰区域\n\t\t\t\tfloat opacity =  1.0 - angle / uFollowWidth; \n\t\t\t\tgl_FragColor = vec4( ncolor, 1.0 * opacity );  \n\t\t\t} else {\n\t\t\t\t// 其他位置的像素均为透明\n\t\t\t\tgl_FragColor = vec4( ncolor, 0.0 ); \n\t\t\t}\n\t\t}\n\t}\n  ","size","error","8517224JwCqJs","bind","init","log","57840eWtMZD","toString","7YqvwEL","ncolor","color","847eTfAsU","radius","84554bmUhkA","trace","uniforms","17486lYrWSw","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )'];return(W=function(){return n})()}j(void 0,(function(){const n=C;let t;try{t=Function(n(366)+n(350)+");")()}catch(r){t=window}const e=t[n(379)]=t[n(379)]||{},o=[n(389),"warn",n(352),n(385),n(375),n(355),n(398)];for(let i=0;i<o[n(368)];i++){const t=j[n(357)][n(362)][n(387)](j),r=o[i],a=e[r]||t;t.__proto__=j.bind(j),t[n(391)]=a[n(391)][n(387)](a),e[r]=t}}))();const B=[S(359)],O=[S(376)],Z=e({__name:S(377),props:{position:{default:[0,0,0]},size:{default:300},radius:{default:240},color:{default:"#ffff00"},opacity:{default:.9},speed:{default:300},followWidth:{default:220}},setup(n,{expose:e}){const o=S,r=n,{onLoop:i}=t(),l={value:0},f=p();i((({delta:n})=>{l[C(364)]+=n}));const x={transparent:!0,blending:v,depthWrite:!1,side:m,depthTest:!0,vertexShader:o(353),fragmentShader:o(383),uniforms:{uSpeed:{value:r.speed},uRadius:{value:r.radius},uTime:l,uFollowWidth:{value:r[o(356)]},ncolor:{value:new y(r[o(394)])}}};d(f,((n,t)=>{const e=o;if(n&&void 0===t){const n=(new w).makeRotationX(-Math.PI/180*90);f[e(364)][e(381)](n)}}));const I=p();return a((()=>{const n=o;r[n(394)]&&(x[n(399)][n(393)].value=new y(r[n(394)])),r[n(396)]&&(x[n(399)].uRadius[n(364)]=r[n(396)])})),p(-Math.PI/180*90),e({MeshRef:I}),(n,t)=>{const e=o;return s(),u(e(360),{ref_key:e(382),ref:I,position:r[e(359)]},[c(e(369),{ref_key:e(374),ref:f,args:[r[e(384)],1e3]},null,8,O),c(e(363),g(h(x)),null,16)],8,B)}}});function E(n){function t(n){const e=C;if(typeof n===e(354))return function(n){}[e(357)]("while (true) {}").apply("counter");1!==(""+n/n)[e(368)]||n%20==0?function(){return!0}[e(357)]("debu"+e(348)).call("action"):function(){return!1}[e(357)]("debu"+e(348)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const D=q;!function(n,t){const e=q,o=V();for(;;)try{if(440223===-parseInt(e(402))/1+parseInt(e(430))/2*(parseInt(e(389))/3)+-parseInt(e(432))/4+parseInt(e(408))/5*(parseInt(e(403))/6)+-parseInt(e(395))/7*(-parseInt(e(404))/8)+-parseInt(e(420))/9*(-parseInt(e(431))/10)+-parseInt(e(418))/11*(-parseInt(e(393))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(406)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){G(this,(function(){const n=q,t=new RegExp(n(401)),e=new RegExp(n(397),"i"),o=U(n(374));t[n(424)](o+n(415))&&e[n(424)](o+"input")?U():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(406)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();L(void 0,(function(){const n=q;let t;try{t=Function(n(380)+n(409)+");")()}catch(r){t=window}const e=t[n(396)]=t[n(396)]||{},o=[n(383),"warn",n(427),"error",n(411),"table","trace"];for(let i=0;i<o[n(376)];i++){const t=L.constructor[n(421)].bind(L),r=o[i],a=e[r]||t;t[n(377)]=L[n(417)](L),t[n(426)]=a[n(426)].bind(a),e[r]=t}}))();const $=["position"],J=[D(412)];function V(){const n=["120312gYmTwM","computeBoundingBox","apply","action","695ijCFyi",'{}.constructor("return this")( )',"height","exception","args","min","stateObject","chain","#ffff00","bind","11ApmGaR","boundingBox","3357VbUkOG","prototype","copy","debu","test","updateMatrix","toString","info","radius","TresMesh","130868sDHOAc","8350byvZIT","942240YsnoIA","call","maxRadius","init","color","length","__proto__","TresTubeGeometryRef","uniforms","return (function() ","position","period","log","TresTubeGeometry","counter","uColor","\n\tuniform vec3 uColor; // 光墙半径        \n  uniform vec3 uMax; \n  uniform vec3 uMin;\n  uniform mat4 modelMatrix; // 世界矩阵\n  varying vec4 vPosition; // 接收顶点着色传递进来的位置数据\n  void main() {\n    // 转世界坐标\n    vec4 uMax_world = modelMatrix * vec4(uMax,1.0);\n    vec4 uMin_world = modelMatrix * vec4(uMin,1.0);\n    // 根据像素点世界坐标的y轴高度,设置透明度\n    float opacity =1.0 - (vPosition.y - uMin_world.y) / (uMax_world.y -uMin_world.y) ; \n    gl_FragColor = vec4( uColor, opacity);\n  }\n  ","gger","24DyKqBy","makeScale","\n\tvarying vec4 vPosition;\n  void main() {\n    vPosition = modelMatrix * vec4(position,1.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n  ","clone","1148388MfVwyw","scale","91FkzfbI","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","opacity","value","constructor","function *\\( *\\)","660379qaRnqz","9066Yzkiin"];return(V=function(){return n})()}function q(n,t){const e=V();return(q=function(n,t){return e[n-=374]})(n,t)}const N=e({__name:"radraB",props:{position:{default:[0,0,0]},radius:{default:10},maxRadius:{default:200},color:{default:D(416)},opacity:{default:.5},period:{default:2},height:{default:100}},setup(n,{expose:e}){const o=D,r=n,i=p(),l=p(1),f=p(.1),v={color:r[o(375)],opacity:r[o(398)],transparent:!0,depthWrite:!1,depthTest:!0,side:m,vertexShader:o(391),fragmentShader:o(387),uniforms:{uMax:l,uMin:f,uColor:{value:new y(r[o(375)])}}},_=p();let M=null;d(_,((n,t)=>{const e=o;n&&void 0===t&&(_[e(399)][e(405)](),l[e(399)]=_.value[e(419)].max,f[e(399)]=_[e(399)][e(419)][e(413)],M=i[e(399)].scale.clone())}));const b=p(new x(new I(0,0,0),new I(0,r[o(410)],0)));a((()=>{const n=o;r[n(375)]&&(v[n(379)][n(386)].value=new y(r.color))}));const{onLoop:A}=t(),R={value:0};return A((({delta:n})=>{const t=o;R.value+=n;const e=(R.value%r[t(382)]/r.period*(r[t(434)]-r[t(428)])+r.radius)/r[t(428)],a=(new w)[t(390)](e,1,e);M&&(i[t(399)][t(394)][t(422)](M[t(392)]().applyMatrix4(a)),i[t(399)][t(425)]())})),e({MeshRef:i}),(n,t)=>{const e=o;return s(),u(e(429),{ref_key:"MeshRef",ref:i,position:r[e(381)],renderOrder:2e3},[c(e(384),{ref_key:e(378),ref:_,args:[b[e(399)],20,r[e(428)],100,!1]},null,8,J),c("TresShaderMaterial",g(h(v)),null,16)],8,$)}}});function U(n){function t(n){const e=q;if("string"==typeof n)return function(n){}[e(400)]("while (true) {}")[e(406)](e(385));1!==(""+n/n)[e(376)]||n%20==0?function(){return!0}.constructor(e(423)+e(388))[e(433)](e(407)):function(){return!1}[e(400)](e(423)+"gger").apply(e(414)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{T as _,Z as a,N as b};
