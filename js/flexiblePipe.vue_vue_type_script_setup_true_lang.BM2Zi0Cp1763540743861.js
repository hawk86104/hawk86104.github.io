import{_ as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{i as a}from"./index.Crdf3MNx1763540743861.js";import{b as l}from"./buildFlexiblePipe.CLWvOh4C1763540743861.js";import{d as t,a as s,w as n,H as r,o as d,J as i}from"./@vue.Co_gxueH1763540743861.js";import{dC as o,V as u,b as m,az as f,ae as g}from"./three.rXKzP9fQ1763540743861.js";const p={renderOrder:9999},c=["args"],h=["color","side","map"],v=t({__name:"flexiblePipe",props:{color:{default:"0xff0000"},radius:{default:.1},bodyLength:{default:2},headLength:{default:1},headAngle:{default:0},radialSegments:{default:16},tailAngle:{default:0},tailLength:{default:.5},filletRadius:{default:.3},speed:{default:.01}},setup(t){const v=t,T=s(new o);n(()=>[v.bodyLength,v.headLength,v.headAngle,v.tailAngle,v.tailLength,v.filletRadius,v.radialSegments],([e,a,t,s,n,r,d])=>{const i=e/2,o=new u(0,0,-i),f=new u(0,0,i),g=m.degToRad(t),p=new u(Math.cos(g),Math.sin(g),0),c=f.clone().add(p.multiplyScalar(a)),h=m.degToRad(s),v=new u(Math.cos(h),Math.sin(h),0),b=[o.clone().add(v.multiplyScalar(n)),o,f,c];T.value=l(b,r,d)},{immediate:!0}),a.getResource("TextureLoader","./plugins/digitalCity/image/line.png","line.png");const b=a.getReactiveItem("line.png"),w=s(null);n(b,e=>{e?.isTexture&&(w.value=e.clone(),w.value.wrapS=w.value.wrapT=f,w.value.needsUpdate=!0)},{immediate:!0});const x=s(null),{onBeforeRender:y}=e();return y(()=>{w.value&&(w.value.offset.x-=v.speed)}),(e,a)=>(d(),r("TresMesh",p,[i("TresTubeGeometry",{args:[T.value,64,e.radius,e.radialSegments,!1]},null,8,c),i("TresMeshBasicMaterial",{ref_key:"tmsmRef",ref:x,color:e.color,metalness:.3,roughness:.5,side:g,transparent:"",map:w.value?w.value:null},null,8,h)]))}});export{v as _};
