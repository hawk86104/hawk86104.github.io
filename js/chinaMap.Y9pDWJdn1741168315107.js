import{e as t,o as e}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{l as n}from"./utils.R1pzgsk61741168315107.js";import{m as o}from"./d3-geo.UTz_kAQr1741168315107.js";import{a3 as r,b as s,a2 as a,o as i,H as c,F as p,X as l,N as u,d as f,r as d,e as m,f as h,g as y,j as g,u as j,aj as v,ak as b,al as w,m as I}from"./@vue.NRI7TcgI1741168315107.js";import{ac as _,B as x,r as T,cV as E}from"./three.FxqAALWt1741168315107.js";import{c as M,d as k,a as z}from"./three-mesh-bvh.304c-5N01741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";import"./@fesjs.vxeGrljA1741168315107.js";import"./vue-router.WwZ4Gmuc1741168315107.js";import"./lodash-es.pklfUAS51741168315107.js";import"./@qlin.yHhFDldE1741168315107.js";import"./pinia.54vgoDms1741168315107.js";import"./@floating-ui.BPbuo5Gx1741168315107.js";import"./@juggle.7yjBMqoW1741168315107.js";import"./d3-array.AhNJy1f41741168315107.js";const B=["properties","renderOrder"],C=["args"],O={__name:"chinaMapMesh",async setup(e){let f,d;x.prototype.computeBoundsTree=M,x.prototype.disposeBoundsTree=k,T.prototype.raycast=z;const m=o().center([104,37.5]).translate([0,0]),h=([f,d]=r((()=>n("./plugins/simpleGIS/json/china.json","features"))),f=await f,d(),f),y={depth:10,bevelEnabled:!1},g=[];h.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new E;for(let t=0;t<e.length;t++){const[o,r]=m(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}g.push({shape:n,properties:t.properties})}))}))}));const j=new _({color:"#3480C4",linewidth:1,linecap:"round"}),v=s();a((()=>{v.value&&v.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,j];t.material=e}))}));let b=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),b=t})();const w=t=>{t.object.material[0].color.set(16711680),b.innerText=t.object.properties.name,b.style.visibility="visible"},I=t=>{t.eventObject.material[0].color.set(3010559),b.style.visibility="hidden"},O=t=>{b.style.left="".concat(t.clientX+6,"px"),b.style.top="".concat(t.clientY+6,"px")},{onLoop:P}=t();return P((()=>{})),(t,e)=>(i(),c("TresGroup",{ref_key:"tgRef",ref:v},[(i(),c(p,null,l(g,((t,n)=>u("TresMesh",{key:"".concat(n),properties:t.properties,renderOrder:n,onPointerEnter:w,onPointerLeave:I,onPointerMove:O},[u("TresExtrudeGeometry",{args:[t.shape,y]},null,8,C),e[0]||(e[0]=u("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1))],40,B))),64))],512))}};function P(){const t=["init","3fgeDeI","chain","test","length","stateObject","table","console","while (true) {}","525164RpqIuc","bind","16bpliwy","gger","debu","log","info","1643220JgOWez","apply","counter","trace","1416513Ufyzvm","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#201919","function *\\( *\\)","string","return (function() ","constructor","__proto__","1042358PdEZuN","633340CothXr","10957190JXlZRL","input","chinaMap","toString","exception",'{}.constructor("return this")( )',"error","5dOvVBx","17343aevdYI","TresCanvas"];return(P=function(){return t})()}const R=X;!function(t,e){const n=X,o=P();for(;;)try{if(399928===parseInt(n(492))/1+parseInt(n(491))/2*(-parseInt(n(504))/3)+-parseInt(n(472))/4*(parseInt(n(500))/5)+-parseInt(n(479))/6+-parseInt(n(483))/7*(parseInt(n(474))/8)+parseInt(n(501))/9+parseInt(n(493))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=X,e=new RegExp(t(486)),n=new RegExp(t(484),"i"),o=D(t(503));e[t(506)](o+t(505))&&n[t(506)](o+t(494))?D():o("0")}))()}();const S=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[X(480)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function X(t,e){const n=P();return(X=function(t,e){return n[t-=471]})(t,e)}S(void 0,(function(){const t=X;let e;try{e=Function(t(488)+t(498)+");")()}catch(r){e=window}const n=e[t(510)]=e[t(510)]||{},o=[t(477),"warn",t(478),t(499),t(497),t(509),t(482)];for(let s=0;s<o[t(507)];s++){const e=S.constructor.prototype[t(473)](S),r=o[s],a=n[r]||e;e[t(490)]=S[t(473)](S),e[t(496)]=a.toString[t(473)](a),n[r]=e}}))();const Z=f({__name:R(495),setup(n){const o=R,r=d({clearColor:o(485)}),s=d({enableDamping:!0,dampingFactor:.05}),{onLoop:c}=t();return c((()=>{})),a((()=>{})),(t,n)=>{const a=m(o(502));return i(),h(a,I(r,{"window-size":""}),{default:y((()=>[n[0]||(n[0]=u("TresPerspectiveCamera",{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),g(j(e),v(b(s)),null,16),(i(),h(w,null,{default:y((()=>[g(O)])),_:1}))])),_:1},16)}}});function D(t){function e(t){const n=X;if(typeof t===n(487))return function(t){}.constructor(n(471)).apply(n(481));1!==(""+t/t).length||t%20==0?function(){return!0}[n(489)](n(476)+n(475)).call("action"):function(){return!1}[n(489)](n(476)+n(475))[n(480)](n(508)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{Z as default};
