import{p as t,$ as n,W as e,d as r}from"./@tresjs.LTwFwASm1723189171640.js";import{_ as o}from"./index.WjjiR1QE1723189171640.js";import{a as s}from"./index.rLlA0tSY1723189171640.js";import{a6 as i,B as c,cC as u}from"./three.5MXJ6W7w1723189171640.js";import{P as a}from"./tweakpane.yHWGBmom1723189171640.js";import{I as l,C as f,N as p,c as g,d as h,a as d}from"./three-mesh-bvh.DYOnGaSM1723189171640.js";import{d as m,a4 as y,b as w,a1 as j,o as b,D as v,J as I,u as _,F as x,r as z,e as k,j as M,g as T,m as S,f as R,al as A}from"./@vue.Q1VpS3901723189171640.js";import"./@vueuse.oQlm8k6P1723189171640.js";import"./default.vue_vue_type_script_setup_true_lang.0xUNesFj1723189171640.js";import"./@fesjs.92jMy6FJ1723189171640.js";import"./vue-router.frQYH8jd1723189171640.js";import"./lodash-es.nFpJXAf-1723189171640.js";import"./@qlin.yHhFDldE1723189171640.js";import"./pinia.iN3nUGv81723189171640.js";import"./@floating-ui.BPbuo5Gx1723189171640.js";import"./@juggle.7yjBMqoW1723189171640.js";import"./three-mesh-ui.module.27BVdmbE1723189171640.js";import"./three-stdlib.9krDtkM91723189171640.js";import"./@pmndrs.wQrKJZQf1723189171640.js";import"./object-hash.jMAsrj6h1723189171640.js";import"./@amap.Lu-L8G0q1723189171640.js";import"./jszip.WwTqi4J91723189171640.js";function Z(t,n){const e=B();return(Z=function(t,n){return e[t-=111]})(t,n)}!function(t,n){const e=Z,r=B();for(;;)try{if(110516===parseInt(e(144))/1+-parseInt(e(149))/2+-parseInt(e(136))/3+-parseInt(e(130))/4*(parseInt(e(115))/5)+parseInt(e(146))/6+parseInt(e(158))/7+parseInt(e(141))/8*(parseInt(e(118))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(154)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=Z,n=new RegExp(t(139)),e=new RegExp(t(135),"i"),r=E("init");n.test(r+"chain")&&e[t(114)](r+t(147))?E():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();O(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(152)+t(119)+");")()}catch(e){n=window}return n}(),e=n[t(125)]=n[t(125)]||{},r=[t(120),t(117),t(133),t(132),"exception",t(128),t(155)];for(let o=0;o<r[t(113)];o++){const n=O[t(131)][t(122)][t(127)](O),s=r[o],i=e[s]||n;n.__proto__=O[t(127)](O),n.toString=i[t(137)][t(127)](i),e[s]=n}}))();function B(){const t=["218124uVRfFI","gger","setFromCamera","return (function() ","addEventListener","apply","trace","action","debu","299901gZCqty","pointerType","while (true) {}","value","length","test","25jvmafM","button","warn","3091887YsMRnn",'{}.constructor("return this")( )',"log","intersectObject","prototype","clientX","innerHeight","console","clientY","bind","table","enabled","140084gxRnry","constructor","error","info","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","67626QNRIxX","toString","firstHitOnly","function *\\( *\\)","call","8mwQUcz","touch","counter","3932ZdSGrN","innerWidth","161442FrfLtc","input","Raycaster"];return(B=function(){return t})()}function E(t){function n(t){const e=Z;if(typeof t===e(134))return function(t){}.constructor(e(111))[e(154)](e(143));1!==(""+t/t)[e(113)]||t%20==0?function(){return!0}[e(131)](e(157)+e(150))[e(140)](e(156)):function(){return!1}.constructor(e(157)+"gger")[e(154)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=L;!function(t,n){const e=L,r=J();for(;;)try{if(928536===-parseInt(e(183))/1+-parseInt(e(157))/2+parseInt(e(161))/3*(-parseInt(e(200))/4)+parseInt(e(153))/5+-parseInt(e(206))/6*(-parseInt(e(190))/7)+parseInt(e(191))/8+-parseInt(e(150))/9*(-parseInt(e(144))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(208)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=L,n=new RegExp(t(187)),e=new RegExp(t(137),"i"),r=q(t(149));n[t(207)](r+t(141))&&e[t(207)](r+t(177))?q():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(208)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(t,n){const e=J();return(L=function(t,n){return e[t-=121]})(t,n)}Y(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(155)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(171)]=n[t(171)]||{},r=[t(136),t(132),t(151),t(204),t(147),t(138),"trace"];for(let o=0;o<r[t(152)];o++){const n=Y[t(131)][t(202)][t(179)](Y),s=r[o],i=e[s]||n;n[t(170)]=Y.bind(Y),n.toString=i.toString.bind(i),e[s]=n}}))();const Q=[F(133),F(178)],X=[I("TresSphereGeometry",{args:[1,40,40]},null,-1),I("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],$=[F(133)],G=[I("TresMeshStandardMaterial",{color:F(145),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function J(){const t=["gger","value","model","Mesh","push","computeBoundsTree","index","visible","175836EahyCk","getZ","prototype","stateObject","error","point","7069470mhIeoA","test","apply","string","brushMesh","boundsTree","addButton","enabled","intersectsBox","action","counter","生成模型","copy","setZ","count","DynamicDrawUsage","constructor","warn","geometry","invert","Sphere","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","getY","MeshStandardMaterial","chain","setScalar","debu","10tBEVqi","#023249","getX","exception","raycast","init","7709022BUiwcG","info","length","8250765UxzgXD","Matrix4","return (function() ","scale","3609062bOTztS","shapecast","normal","BufferAttribute","69QSJgvR","点击按钮","matrixWorld","while (true) {}","set","targetMesh.value init","position","radius","setUsage","__proto__","console","Vector2","fill","controls","BufferGeometry","setX","input","material","bind","TresMesh","attributes","needsUpdate","1482542wlkNqz","center","color","setAttribute","function *\\( *\\)","Vector3","targetMesh","7eruUCn","12333680Kfdfon"];return(J=function(){return t})()}const W=m({__name:F(194),props:{controls:{}},async setup(r){const o=F;let s,m;const z=r;(()=>{const t=L;c[t(202)][t(197)]=g,i[t(175)][t(202)].disposeBoundsTree=h,i[t(195)][t(202)][t(148)]=d})();const k=([s,m]=y((()=>e(u,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,m(),s),M=new(i[o(140)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),T=new Uint8Array(3*k[o(181)][o(167)][o(129)]);T[o(173)](255);const S=new(i[o(160)])(T,3,!0);S[o(169)](i[o(130)]),k[o(186)](o(185),S);const R=w(null),A=w(null),C=w(!1),O=w(-1),B=w(.2),E=new(i[o(172)]),{camera:U,raycaster:Y}=t(),J=15/255,W=78/255,q=85/255;let H=null;j((()=>{const t=o;R[t(193)]&&(console[t(136)](t(166),R[t(193)]),R[t(193)][t(133)][t(197)](),H=k[t(211)],((t,n,e,r,o,s)=>{const c=Z;window[c(153)]("pointermove",(e=>{const r=c;t.x=e[r(123)]/window.innerWidth*2-1,t.y=-e[r(126)]/window[r(124)]*2+1,n[r(112)]=!0})),window.addEventListener("pointerdown",(u=>{const a=c;t.x=u.clientX/window[a(145)]*2-1,t.y=-u.clientY/window.innerHeight*2+1,r.value=u[a(116)];const l=new(i[a(148)]);l[a(151)](t,e[a(112)]),l[a(138)]=!0;const f=l[a(121)](o[a(112)],!0);n[a(112)]=!0,s[a(129)]=0===f[a(113)]}),!0),window[c(153)]("pointerup",(t=>{const e=c;r[e(112)]=-1,t[e(159)]===e(142)&&(n[e(112)]=!1)}),!0)})(E,C,U,O,R,z[t(174)][t(193)]))}));const{onLoop:K}=n();K((()=>{const t=o,n=k[t(198)];if(A.value)if(z[t(174)][t(193)].active||!C.value)A.value[t(199)]=!1;else{A[t(193)][t(156)][t(142)](B.value),Y.value.setFromCamera(E,U[t(193)]),Y[t(193)].firstHitOnly=!0;const e=Y[t(193)].intersectObject(R[t(193)],!0);if(e[t(152)]){A[t(193)][t(167)][t(127)](e[0][t(205)]),z.controls[t(193)][t(122)]=!1,A.value.visible=!0;const r=new(i[t(154)]);r.copy(R[t(193)][t(163)])[t(134)]();const o=new(i[t(135)]);o[t(184)][t(127)](A[t(193)][t(167)]).applyMatrix4(r),o[t(168)]=100*B[t(193)];const s=[],c=new(i[t(188)]);if(null==H||H[t(158)]({intersectsBounds:n=>{const e=t,r=o[e(123)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(165)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return l;return f}return r?l:p},intersectsTriangle:(t,n,e)=>{if(e||t.intersectsSphere(o)){const t=3*n;s.push(t,t+1,t+2)}return!1}}),0===O[t(193)]||2===O[t(193)]){let e=1,r=1,o=1;0===O[t(193)]&&(e=J,r=W,o=q);for(let i=0,c=s[t(152)];i<c;i++){const c=n[t(146)](s[i]);S[t(176)](c,e),S.setY(c,r),S[t(128)](c,o)}S[t(182)]=!0}}else A[t(193)][t(199)]=!1,z.controls[t(193)].enabled=!0}}));const P=(new a)[o(121)]({title:o(162),label:o(126)}),V=new(i[o(175)]);return P.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<S.count;o++)S.getX(o)===J&&S[t(139)](o)===W&&S[t(201)](o)===q&&(n[t(196)](k[t(181)][t(167)][t(146)](o),k[t(181)][t(167)][t(139)](o),k.attributes[t(167)][t(201)](o)),e.push(k[t(181)][t(159)][t(146)](o),k[t(181)][t(159)][t(139)](o),k[t(181)][t(159)][t(201)](o)));const r=new Float32Array(n);V[t(186)](t(167),new(i[t(160)])(r,3)),V[t(186)](t(159),new(i[t(160)])(r,3))})),(t,n)=>{const e=o;return b(),v(x,null,[I(e(180),{ref_key:e(189),ref:R,geometry:_(k),scale:.005,material:_(M)},null,8,Q),I(e(180),{ref_key:e(210),ref:A,visible:!1},X,512),I("TresMesh",{geometry:_(V),position:[-2,-2,2],scale:.005},G,8,$)],64)}}});function q(t){function n(t){const e=L;if(typeof t===e(209))return function(t){}[e(131)](e(164))[e(208)](e(125));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(143)+e(192)).call(e(124)):function(){return!1}[e(131)](e(143)+"gger")[e(208)](e(203)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function H(){const t=["171JykKJo","action","controls","TresAmbientLight","121460wcyvdW","constructor","apply","init","stateObject","call","__proto__","chain","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","567203AjghzG","72532LWvQJY","controlsRef","neg-x.jpg","132Vnteks","trace","counter","TresCanvas","log","neg-z.jpg","input","6UIQYkf","172579OHzgYP","collectTriangles","exception","error","info","bind","debu","pos-x.jpg",'{}.constructor("return this")( )',"1131000PGOiZo","8pQeZKO","toString","4Lloejw","TresPerspectiveCamera","gger","673974cZKouk","test","pos-y.jpg","while (true) {}","length","console","383945FngKOt","pos-z.jpg","value"];return(H=function(){return t})()}const K=D;!function(t,n){const e=D,r=H();for(;;)try{if(223161===parseInt(e(157))/1*(parseInt(e(147))/2)+-parseInt(e(124))/3*(-parseInt(e(121))/4)+parseInt(e(130))/5+parseInt(e(118))/6+-parseInt(e(146))/7*(parseInt(e(119))/8)+parseInt(e(133))/9*(-parseInt(e(137))/10)+parseInt(e(158))/11*(-parseInt(e(150))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=et(t(140));n[t(125)](r+t(144))&&e.test(r+t(156))?et():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(139)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function D(t,n){const e=H();return(D=function(t,n){return e[t-=110]})(t,n)}V(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function("return (function() "+t(117)+");")()}catch(e){n=window}return n}(),e=n[t(129)]=n[t(129)]||{},r=[t(154),"warn",t(113),t(112),t(111),"table",t(151)];for(let o=0;o<r[t(128)];o++){const n=V[t(138)].prototype[t(114)](V),s=r[o],i=e[s]||n;n[t(143)]=V.bind(V),n[t(120)]=i.toString[t(114)](i),e[s]=n}}))();const N=I(K(122),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=I(K(136),{intensity:1},null,-1),nt=m({__name:K(110),setup(t){const n=z({clearColor:"#999999",antialias:!0}),e=z({autoRotate:!1}),i=w(null);return(t,c)=>{const u=D,a=k(u(153));return b(),v(x,null,[M(_(o)),M(a,S(n,{"window-size":""}),{default:T((()=>[N,M(_(r),S({ref_key:u(148),ref:i},e),null,16),tt,(b(),R(A,null,{default:T((()=>[M(W,{controls:i[u(132)]},null,8,[u(135)])])),_:1})),(b(),R(A,null,{default:T((()=>[M(_(s),{background:!1,files:[u(116),u(149),u(126),"neg-y.jpg",u(131),u(155)],path:u(145)})])),_:1}))])),_:1},16)],64)}}});function et(t){function n(t){const e=D;if("string"==typeof t)return function(t){}.constructor(e(127)).apply(e(152));1!==(""+t/t)[e(128)]||t%20==0?function(){return!0}[e(138)](e(115)+e(123))[e(142)](e(134)):function(){return!1}.constructor("debu"+e(123))[e(139)](e(141)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{nt as default};
