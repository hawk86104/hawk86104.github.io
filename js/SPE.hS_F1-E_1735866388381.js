import{_ as t,ct as e,X as i,bQ as n,V as s,Y as r,k as o,b as a}from"./three.Rja0AEnA1735866388381.js";const c=p;function h(){const t=["activationEnd","direction","randomFloat","dispose","SHOULD_ROTATE_PARTICLES","chain","spread","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","floatOverLifetime","    highp float alive = getAlive();","bind","arrayValuesAreEqual","rotation","        pos = getRotation( pos, positionInTime );","    #ifdef SHOULD_ROTATE_TEXTURE","       float s = sin( -vAngle );","    highp float positionInTime = (age / maxAge);","    vec4 rotatedTexture = texture2D( tex, vUv );","updateMap","_attributesNeedDynamicReset","#ifdef SHOULD_ROTATE_PARTICLES","position","logdepthbuf_fragment","   c.b = b / PACKED_COLOR_DIVISOR;","Vector2","       float oc = 1.0 - c;","_setBufferUpdateRanges","       if ( vColor.w < float(ALPHATEST) ) discard;","setVec4Components","toString","paramsArray","        vSpriteSheet.z = columnNorm;","uniform float scale;","        float framesX = textureAnimation.x;","input","        float columnNorm = vSpriteSheet.z;","test","attribute vec4 size;","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","geometry","        float perspective = 1.0;","    #ifdef SHOULD_CALCULATE_SPRITE","blending","age","size","transparent","undefined","tick","Will not resize.","value","log","typedArray","colorize","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","fixedTimeStep","   return c;","params","      vec3 center = rotationCenter;","fog","        pos.y += wiggleCos;","4IHqJDl","SPE.Group: maxParticleCount exceeded. Requesting","    float fIndex = 0.0;","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","_activateParticles","float when_lt(float x, float y) {","attribute vec3 velocity;","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","prototype","getLength","axisSpread","depthWrite","setRGB","hasPerspective","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","           unpackColor( color.w )","AdditiveBlending","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","135zPJahk","       vec3 c = vec3(1.0);","Vector3","   float b = mod( hex, PACKED_COLOR_SIZE );","randomVector3OnDisc","flagUpdate","enable","init","DISC","        float row = floor( (frameNumber - column) / framesX );","    highp float age = getAge();","   c -= vec3( 1.0 );","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","SPE.Group pool ran out.","arrayType","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","mesh","        float column = floor(mod( frameNumber, framesX ));","ensureArrayInstanceOf","ensureValueOverLifetimeCompliance","_spread","82640oCbnDT","        vSpriteSheet.x = 1.0 / framesX;","   return params.y;","uuid","resetFlags","Emitter","getHex","attributeEnd","randomise","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","rotationCenter","particleCount","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","abs","vec3 getAcceleration( in float age ) {","_assignValue","attribute vec4 acceleration;","setMat3","1240442qDvrOr","BOOLEAN","cos","triggerPoolEmitter","shaders","uniform float runTime;","rotationFunctions","replace","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","NUMBER","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","_axis","call","_createGetterSetters","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","_distributionClamp","sin","_angleSpread","group","_assignRotationValue","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","Emitter does not exist in this group. Will not remove.","push","exports","#define PACKED_COLOR_DIVISOR 255.0","lerp","reset","radiusScale","onParticleSpawn","  return 1.0 - when_lt(x, y);","releaseIntoPool","    #endif","hasOwnProperty","types","    highp float value = 0.0;","function","alphaTest","setColor","bufferUpdateCount","duration","getFromPool","_createBufferAttribute","   c *= vec3( 2.0 );","forceUpdateAll","REVISION","distribution","_poolCreationSettings","frameCount","StaticDrawUsage","_applyAttributesToGeometry","_checkParticleAges","Argument is not instanceof SPE.Emitter:","    #ifdef COLORIZE","ensureInstanceOf","_static","float when_le(float x, float y) {","2507046lzkssM","4936965yaOtem","randomVector3","    ","    return a * b;","subarray","updateMax","count","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","__proto__","DynamicDrawUsage","ensureArrayTypedArg","trace","    float pointSizePerspective = pointSize * perspective;","boolean","        float loopCount = textureAnimation.w;","    }","_assignParamsValue","Vector4","action","    return min(a + b, 1.0);","    return 1.0 - abs( sign( x - y ) );","acceleration","OBJECT","Emitter already belongs to another group. Will not add to requested group.","opacity","_updateBuffers","logdepthbuf_vertex","BufferAttribute","        vSpriteSheet.y = 1.0 / framesY;","_distribution","max","_assignAngleValue","updateCounts","attribute vec4 opacity;","bufferAttribute","LINE","clamp","setFromArray","rotateTexture","float getAlive() {","scale","varyings","_updateAttributeUpdateRange","array","counter","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","set","spe","       float c = cos(angle);","activationIndex","angle","random","float when_gt(float x, float y) {","keys","    float shouldApplyValue = 0.0;","min","_resetParticle","#endif","_calculatePPSValue","remove","_assignPositionValue","utils","resetDynamic","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","_rotationCenter","emitters","        float wiggleSin = isAlive * sin( wiggleAmount );","uniform vec4 textureAnimation;","Color","resetUpdateRange","           unpackColor( color.z ),","unshift","attribute vec4 params;","alive","drag","add","defineProperty","removeEmitter","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","        float wiggleCos = isAlive * cos( wiggleAmount );","BufferGeometry","object","setSize","_setAttributeOffset","float getMaxAge() {","    return max(sign(x - y), 0.0);","getValueAtIndex","vec3 unpackRotationAxis( in float hex ) {","attributeCount","    #ifdef HAS_PERSPECTIVE","angleSpread","TypedArray is already of size:","_updateDefines","attributeKeys","material","_assignAbsLifetimeValue","velocity","vec3 unpackColor( in float hex ) {","valueOverLifetimeLength","    return value;","exception","MathUtils","setNumber","_radiusScale","grow","_spreadClamp","setMat4","1077OFpHFG","string","particlesPerSecond","wiggle","axis","      vec3 axis = unpackRotationAxis( rotation.x );","typeSizeMap","setVec3","   c.r = r / PACKED_COLOR_DIVISOR;","       float c = cos( -vAngle );","setVec2Components","    force += accel * age;","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","        vSpriteSheet.w = rowNorm;","SPHERE","bufferUpdateKeys","isStatic","`emitter` argument must be instance of SPE.Emitter. Was provided with:","roundToNearestMultiple","_decrementParticleCount","shrink","table","stateObject","lerpTypeAgnostic","textureLoop","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","maxParticleCount","common","copy","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","varying vec4 vColor;","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","    #else","ensureTypedArg","debu","offset","pop","constructor","splice","_triggerSingleEmitter","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","unpackRotationAxis","_assignForceValue","vec4 getPosition( in float age ) {","ShaderMaterial","_incrementParticleCount","function *\\( *\\)","elements","void main() {","activeParticleCount","color","forceFetchingFunctions","vertex","      mat4 rotationMatrix;","type","      if( rotation.y == 0.0 ) {","addEmitter","indexOffset","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","_resetBufferRanges","        float perspective = scale / length( mvPosition.xyz );","number","join","    #ifdef SHOULD_WIGGLE_PARTICLES","1437876aZbhOo","Emitter already exists in this group. Will not add again.","_randomise","disable","    vec3 value = vec3( 0.0 );","multiplyScalar","setVec2","  return 1.0 - when_gt(x, y);","    #ifdef ALPHATEST","colorOverLifetime","console","textureFrames","setVec4","    gl_PointSize = pointSizePerspective;","    pos += force;","setVec3Components","distributionClamp","1346kMDRmk","   c.g = g / PACKED_COLOR_DIVISOR;","_pool","randomColorAsHex","ShaderAttribute","   return velocity * age;","_axisSpread","componentSize","   return params.w;","float and(float a, float b) {","updateFlags","ShaderChunk","        float rowNorm = row / framesY;","maxAge","updateRange","    highp float isAlive = when_gt( alive, 0.0 );","24710844axqdUh","return (function() ","dynamicBuffer","BOX","gger","POSITIVE_INFINITY","emitterIDs","_createNewWhenPoolEmpty","isArray","usage","distributions","64qSYsmv","       fIndex = float( i );","Group","getComponentValueAtIndex","fog_pars_vertex","#ifdef SHOULD_ROTATE_TEXTURE","static","_updateUniforms","      float angle = 0.0;","defines","attributes","_radius","amd","    vec3 vel = getVelocity( age );","    #ifdef SHOULD_ROTATE_PARTICLES","normalize","           return pos;","length","      vec3 translated;","clone",'{}.constructor("return this")( )',"           unpackColor( color.x ),","activeMultiplier","Emitter does not belong to a group, cannot remove.","apply","spreadClamp","texture","_onRemove","20NIkNUR","uniforms","updateMin","float getAge() {","unpackColor","radius","   }","_assignColorValue","fog_pars_fragment","bufferUpdateRanges","depthTest","    vec3 pos = vec3( position );","    highp float maxAge = getMaxAge();","NEGATIVE_INFINITY","setUpdateRange","    vec3 outgoingLight = vColor.xyz;","   return params.z;","warn","_angle","attributeOffset","vec3 getVelocity( in float age ) {","ceil","TypedArrayHelper","   vec3 c = vec3( 0.0 );","SHOULD_WIGGLE_PARTICLES","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","indexOf","generateUUID","    vColor = vec4( c, o );","needsUpdate","#ifdef SHOULD_CALCULATE_SPRITE","shaderChunks","error","attribute vec3 rotationCenter;","_value","_attributesNeedRefresh","_ensureTypedArray","TypedArrayConstructor"];return(h=function(){return t})()}!function(t,e){const i=p,n=h();for(;;)try{if(891443===parseInt(i(687))/1*(parseInt(i(768))/2)+-parseInt(i(580))/3*(parseInt(i(466))/4)+parseInt(i(368))/5*(-parseInt(i(579))/6)+parseInt(i(523))/7*(parseInt(i(340))/8)+parseInt(i(484))/9*(-parseInt(i(505))/10)+parseInt(i(751))/11+parseInt(i(329))/12)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[p(364)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){u(this,(function(){const t=p,e=new RegExp(t(733)),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=m(t(491));e[t(442)](n+t(411))&&i[t(442)](n+t(440))?m():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=p;let e;try{e=Function(t(330)+t(360)+");")()}catch(s){e=window}const i=e[t(761)]=e[t(761)]||{},n=[t(456),t(385),"info",t(400),t(680),t(708),t(591)];for(let r=0;r<n[t(357)];r++){const e=l[t(724)][t(474)][t(416)](l),s=n[r],o=i[s]||e;e[t(588)]=l[t(416)](l),e[t(435)]=o[t(435)][t(416)](o),i[s]=e}}))();const f={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function p(t,e){const i=h();return(p=function(t,e){return i[t-=317]})(t,e)}"function"==typeof define&&define[c(352)]?define(c(627),f):typeof exports!==c(452)&&"undefined"!=typeof module&&(module[c(546)]=f),f[c(390)]=function(t,e,i,n){const s=c;this.componentSize=i||1,this[s(450)]=e||1,this[s(405)]=t||Float32Array,this[s(623)]=new t(e*this.componentSize),this[s(744)]=n||0},f.TypedArrayHelper[c(724)]=f[c(390)],f[c(390)].prototype[c(662)]=function(t,e){const i=c,n=this.array.length;return!e&&(t*=this.componentSize),t<n?this.shrink(t):t>n?this[i(684)](t):void console.info(i(671),t+".",i(454))},f[c(390)][c(474)][c(707)]=function(t){const e=c;return this[e(623)]=this[e(623)][e(584)](0,t),this[e(450)]=t,this},f[c(390)][c(474)][c(684)]=function(t){const e=c,i=this[e(623)],n=new(this[e(405)])(t);return n[e(626)](i),this[e(623)]=n,this[e(450)]=t,this},f[c(390)].prototype[c(725)]=function(t,e){const i=c;t*=this.componentSize,e*=this[i(320)];const n=[],s=this.array,r=s[i(357)];for(let o=0;o<r;++o)(o<t||o>=e)&&n[i(545)](s[o]);return this[i(617)](0,n),this},f.TypedArrayHelper.prototype[c(617)]=function(t,e){const i=c,n=t+e[i(357)];return n>this[i(623)][i(357)]?this[i(684)](n):n<this[i(623)][i(357)]&&this[i(707)](n),this[i(623)].set(e,this.indexOffset+t),this},f.TypedArrayHelper[c(474)][c(757)]=function(t,e){return this[c(697)](t,e.x,e.y)},f[c(390)][c(474)][c(697)]=function(t,e,i){const n=c,s=this[n(623)],r=this[n(744)]+t*this[n(320)];return s[r]=e,s[r+1]=i,this},f[c(390)][c(474)][c(694)]=function(t,e){return this[c(766)](t,e.x,e.y,e.z)},f[c(390)][c(474)][c(766)]=function(t,e,i,n){const s=c,r=this[s(623)],o=this.indexOffset+t*this[s(320)];return r[o]=e,r[o+1]=i,r[o+2]=n,this},f[c(390)].prototype[c(763)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},f.TypedArrayHelper.prototype[c(434)]=function(t,e,i,n,s){const r=c,o=this[r(623)],a=this.indexOffset+t*this[r(320)];return o[a]=e,o[a+1]=i,o[a+2]=n,o[a+3]=s,this},f[c(390)].prototype[c(522)]=function(t,e){const i=c;return this.setFromArray(this[i(744)]+t*this[i(320)],e[i(734)])},f[c(390)][c(474)][c(686)]=function(t,e){const i=c;return this[i(617)](this[i(744)]+t*this[i(320)],e.elements)},f[c(390)].prototype[c(560)]=function(t,e){return this[c(766)](t,e.r,e.g,e.b)},f[c(390)][c(474)][c(682)]=function(t,e){const i=c;return this[i(623)][this[i(744)]+t*this.componentSize]=e,this},f.TypedArrayHelper[c(474)][c(666)]=function(t){const e=c;return this.array[this[e(744)]+t]},f[c(390)][c(474)][c(343)]=function(t){const e=c;return this[e(623)][e(584)](this.indexOffset+t*this[e(320)])},f.ShaderAttribute=function(t,e,i){const n=c,s=f[n(317)][n(693)];this[n(741)]="string"==typeof t&&s[n(555)](t)?t:"f",this[n(320)]=s[this.type],this[n(498)]=i||Float32Array,this.typedArray=null,this[n(614)]=null,this.dynamicBuffer=!!e,this.updateMin=0,this[n(585)]=0},f[c(317)][c(724)]=f.ShaderAttribute,f[c(317)][c(693)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},f[c(317)][c(474)][c(382)]=function(t,e){const i=c;this[i(370)]=Math[i(635)](t*this[i(320)],this.updateMin*this[i(320)]),this[i(585)]=Math[i(610)](e*this[i(320)],this[i(585)]*this[i(320)])},f[c(317)][c(474)][c(489)]=function(){const t=c,e=this[t(614)];!e[t(327)]&&(e.updateRange={});const i=e.updateRange;i[t(722)]=this.updateMin,i[t(586)]=Math[t(635)](this.updateMax-this[t(370)]+this[t(320)],this[t(457)][t(623)][t(357)]),e.needsUpdate=!0},f[c(317)][c(474)][c(649)]=function(){const t=c;this[t(370)]=0,this[t(585)]=0},f.ShaderAttribute[c(474)].resetDynamic=function(){const i=c;this.bufferAttribute[i(338)]=this[i(331)]?t[i(589)]:e},f[c(317)][c(474)][c(725)]=function(t,e){const i=c;this[i(457)][i(725)](t,e),this[i(566)]()},f[c(317)][c(474)][c(566)]=function(){const t=c;this[t(614)][t(623)]=this[t(457)].array,this[t(614)][t(327)][t(722)]=0,this[t(614)].updateRange.count=-1,this[t(614)].usage=e,this[t(614)][t(397)]=!0},f[c(317)][c(474)][c(404)]=function(t){const e=c;null!==this[e(457)]&&this[e(457)][e(450)]===t*this.componentSize||(null!==this[e(457)]&&this[e(457)].size!==t?this[e(457)][e(662)](t):null===this[e(457)]&&(this.typedArray=new(f[e(390)])(this.arrayType,t,this[e(320)])))},f[c(317)].prototype[c(564)]=function(e){const n=c;if(this[n(404)](e),null!==this.bufferAttribute)return this.bufferAttribute[n(623)]=this.typedArray[n(623)],parseFloat(t[n(567)])>=81&&(this.bufferAttribute.count=this[n(614)][n(623)][n(357)]/this[n(614)].itemSize),void(this[n(614)].needsUpdate=!0);this[n(614)]=new(t[n(607)])(this[n(457)][n(623)],this[n(320)]),this.bufferAttribute[n(338)]=this[n(331)]?i:t[n(571)]},f[c(317)].prototype[c(475)]=function(){const t=c;return null===this[t(457)]?0:this[t(457)][t(623)][t(357)]},f[c(399)]={defines:["#define PACKED_COLOR_SIZE 256.0",c(547)][c(749)]("\n"),uniforms:["uniform float deltaTime;",c(528),"uniform sampler2D tex;",c(647),c(438)][c(749)]("\n"),attributes:[c(521),c(472),"attribute vec4 rotation;",c(401),c(652),c(443),"attribute vec4 angle;","attribute vec4 color;",c(613)][c(749)]("\n"),varyings:[c(717),c(345),"    varying float vAngle;",c(637),c(398),"    varying vec4 vSpriteSheet;",c(637)][c(749)]("\n"),branchAvoidanceFunctions:[c(632),c(665),"}",c(471),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {",c(600),"}","float when_ge(float x, float y) {",c(552),"}",c(578),c(758),"}",c(322),c(583),"}","float or(float a, float b) {",c(599),"}"].join("\n"),unpackColor:[c(677),c(391),c(716),c(413),c(487),c(695),"   c.g = g / PACKED_COLOR_DIVISOR;",c(429),c(461),"}"][c(749)]("\n"),unpackRotationAxis:[c(667),"   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",c(413),c(487),c(695),c(769),c(429),c(565),c(495),c(461),"}"][c(749)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",c(557),"    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );",c(468),c(634),c(517),"",c(699),c(341),c(469),"       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );",c(595),"",c(679),"}"][c(749)]("\n"),colorOverLifetime:[c(712),c(755),c(444),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",c(543),c(679),"}"].join("\n"),paramFetchingFunctions:[c(619),"   return params.x;","}",c(371),c(507),"}",c(664),c(384),"}","float getWiggle() {",c(321),"}"][c(749)]("\n"),forceFetchingFunctions:[c(730),"   return modelViewMatrix * vec4( position, 1.0 );","}",c(388),c(318),"}",c(519),"   return acceleration.xyz * age;","}"][c(749)]("\n"),rotationFunctions:[c(426),c(537),"       axis = normalize(axis);","       float s = sin(angle);",c(628),c(431),"",c(643),c(718),c(483),"                   0.0,                                0.0,                                0.0,                                1.0);",c(374),"",c(531),c(742),c(356),"      }","",c(692),c(463),c(358),c(740),c(348),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",c(533),"      translated = rotationCenter - pos;","      rotationMatrix = getRotationMatrix( axis, angle );",c(587),c(374),"#endif"][c(749)]("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","",c(420),"       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;",c(696),c(421),c(658),c(554),"",c(447),"        float framesX = vSpriteSheet.x;","        float framesY = vSpriteSheet.y;",c(441),"        float rowNorm = vSpriteSheet.w;",c(625),c(393),c(554),"",c(423)][c(749)]("\n")},f[c(527)]={vertex:[f[c(399)].defines,f[c(399)][c(369)],f[c(399)].attributes,f.shaderChunks[c(621)],n[c(714)],n.logdepthbuf_pars_vertex,t[c(324)][c(344)],f[c(399)].branchAvoidanceFunctions,f[c(399)][c(372)],f[c(399)][c(728)],f[c(399)][c(414)],f.shaderChunks[c(760)],f[c(399)].paramFetchingFunctions,f.shaderChunks[c(738)],f[c(399)][c(529)],c(735),c(494),c(415),c(380),c(422),c(328),c(750),"        float wiggleAmount = positionInTime * getWiggle();",c(646),c(659),c(554),c(353),"    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );",c(379),"    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","    force += vel;","    force *= drag;",c(698),c(765),c(750),"        pos.x += wiggleSin;",c(465),"        pos.z += wiggleSin;",c(554),c(354),c(419),"    #endif",c(459),c(496),c(669),c(747),c(719),c(446),"    #endif",c(592),c(575),"       vec3 c = isAlive * getColorOverLifetime(","           positionInTime,",c(361),"           unpackColor( color.y ),",c(650),c(481),"       );",c(719),c(485),"    #endif",c(727),c(396),"    #ifdef SHOULD_ROTATE_TEXTURE",c(473),c(554),"    #ifdef SHOULD_CALCULATE_SPRITE",c(439),"        float framesY = textureAnimation.y;",c(594),"        float totalFrames = textureAnimation.z;",c(745),c(501),c(493),"        float columnNorm = column / framesX;",c(325),c(506),c(608),c(437),c(700),c(554),c(764),"    gl_Position = projectionMatrix * mvPosition;",t[c(324)][c(606)],t[c(324)].fog_vertex,"}"][c(749)]("\n"),fragment:[f[c(399)][c(369)],t[c(324)][c(714)],t[c(324)][c(376)],t[c(324)].logdepthbuf_pars_fragment,f[c(399)].varyings,f[c(399)].branchAvoidanceFunctions,c(735),c(383),c(582),c(759),c(433),"    #endif",f[c(399)][c(618)],n[c(428)],"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",c(480),n.fog_fragment,"}"][c(749)]("\n")},f[c(641)]={types:{BOOLEAN:c(593),STRING:c(688),NUMBER:c(748),OBJECT:c(661)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=c;if(Array[n(337)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(720)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=c;if(Array.isArray(t)){for(let s=t[n(357)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(576)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=c;e=e||3,i=i||3,!1===Array[n(337)](t[n(402)])&&(t[n(402)]=[t[n(402)]]),!1===Array[n(337)](t[n(504)])&&(t[n(504)]=[t[n(504)]]);const s=this[n(616)](t[n(402)][n(357)],e,i),r=this[n(616)](t[n(504)].length,e,i),o=Math[n(610)](s,r);t[n(402)][n(357)]!==o&&(t._value=this.interpolateArray(t._value,o)),t._spread[n(357)]!==o&&(t[n(504)]=this.interpolateArray(t._spread,o))},interpolateArray(t,e){const i=c,n=t[i(357)],s=["function"==typeof t[0][i(359)]?t[0][i(359)]():t[0]],r=(n-1)/(e-1);for(let o=1;o<e-1;++o){const e=o*r,n=Math.floor(e),a=Math[i(389)](e),c=e-n;s[o]=this[i(710)](t[n],t[a],c)}return s[i(545)](typeof t[n-1][i(359)]===i(558)?t[n-1][i(359)]():t[n-1]),s},clamp(t,e,i){const n=c;return Math[n(610)](e,Math[n(635)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[c(631)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=c;let r,o=this[s(556)];return typeof e===o.NUMBER&&typeof i===o[s(532)]?e+(i-e)*n:e instanceof t[s(430)]&&i instanceof t[s(430)]?(r=e[s(359)](),r.x=this[s(548)](e.x,i.x,n),r.y=this[s(548)](e.y,i.y,n),r):e instanceof t[s(486)]&&i instanceof t[s(486)]?(r=e[s(359)](),r.x=this[s(548)](e.x,i.x,n),r.y=this[s(548)](e.y,i.y,n),r.z=this[s(548)](e.z,i.z,n),r):e instanceof t[s(597)]&&i instanceof t[s(597)]?(r=e.clone(),r.x=this.lerp(e.x,i.x,n),r.y=this[s(548)](e.y,i.y,n),r.z=this[s(548)](e.z,i.z,n),r.w=this[s(548)](e.w,i.w,n),r):e instanceof t[s(648)]&&i instanceof t[s(648)]?(r=e[s(359)](),r.r=this[s(548)](e.r,i.r,n),r.g=this[s(548)](e.g,i.g,n),r.b=this.lerp(e.b,i.b,n),r):void console.warn("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=c;let n=0;return 0===e?t:(n=Math[i(518)](t)%e,0===n?t:t<0?-(Math[i(518)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=c;for(let i=0;i<t[e(357)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[c(631)]()-.5),randomVector3(t,e,i,n,s){const r=c;let o=i.x+(Math[r(631)]()*n.x-.5*n.x),a=i.y+(Math[r(631)]()*n.y-.5*n.y),h=i.z+(Math[r(631)]()*n.z-.5*n.z);s&&(o=.5*-s.x+this[r(705)](o,s.x),a=.5*-s.y+this[r(705)](a,s.y),h=.5*-s.z+this[r(705)](h,s.z)),t[r(457)].setVec3Components(e,o,a,h)},randomColor(t,e,i,n){const s=c;let r=i.r+Math[s(631)]()*n.x,o=i.g+Math.random()*n.y,a=i.b+Math[s(631)]()*n.z;r=this.clamp(r,0,1),o=this[s(616)](o,0,1),a=this[s(616)](a,0,1),t[s(457)][s(766)](e,r,o,a)},randomColorAsHex:function(){const e=c,i=new(t[e(648)]);return function(t,n,s,r){const o=e,a=s[o(357)],c=[];for(let e=0;e<a;++e){const t=r[e];i[o(715)](s[e]),i.r+=Math.random()*t.x-.5*t.x,i.g+=Math[o(631)]()*t.y-.5*t.y,i.b+=Math[o(631)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[o(616)](i.g,0,1),i.b=this[o(616)](i.b,0,1),c[o(545)](i[o(511)]())}t.typedArray[o(434)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=c,r=i[s(359)]();r[s(548)](n,Math.random()),t[s(457)][s(766)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,s,r,o,a){const h=c;let u=2*Math[h(631)]()-1,l=6.2832*Math.random(),f=Math.sqrt(1-u*u),p=this[h(408)](n,s),d=0,m=0,g=0;o&&(p=Math.round(p/o)*o),d=f*Math.cos(l)*p,m=f*Math.sin(l)*p,g=u*p,d*=r.x,m*=r.y,g*=r.z,d+=i.x,m+=i.y,g+=i.z,t[h(457)][h(766)](e,d,m,g)},seededRandom(t){const e=1e4*Math[c(539)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,r,o){const a=c;let h=6.2832*Math[a(631)](),u=Math[a(518)](this[a(408)](n,s)),l=0,f=0,p=0;o&&(u=Math.round(u/o)*o),l=Math[a(525)](h)*u,f=Math[a(539)](h)*u,l*=r.x,f*=r.y,l+=i.x,f+=i.y,p+=i.z,t[a(457)][a(766)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=c,i=new(t[e(486)]);return function(t,n,s,r,o,a,c,h){const u=e;i[u(715)](a),i.x-=s,i.y-=r,i.z-=o,i[u(355)]().multiplyScalar(-this[u(408)](c,h)),t[u(457)][u(766)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new s;return function(e,i,n,s,r,o,a,c){const h=p;t[h(715)](o),t.x-=n,t.y-=s,t.z-=r,t[h(355)]().multiplyScalar(-this[h(408)](a,c)),e[h(457)][h(766)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=c,i=new s,n=new s,r=new(t[e(648)]),o=new(t[e(486)])(1,1,1);return function(t,s){const a=e;return i[a(715)](t)[a(355)](),n.copy(s)[a(355)](),i.x+=.5*-s.x+Math[a(631)]()*s.x,i.y+=.5*-s.y+Math.random()*s.y,i.z+=.5*-s.z+Math[a(631)]()*s.z,i.normalize()[a(655)](o)[a(756)](.5),r[a(478)](i.x,i.y,i.z),r[a(511)]()}}()},f[c(342)]=function(e){const i=c,n=f[i(641)],s=n[i(556)];(e=n.ensureTypedArg(e,s.OBJECT,{}))[i(366)]=n[i(720)](e[i(366)],s.OBJECT,{}),this[i(508)]=t[i(681)][i(395)](),this[i(460)]=n.ensureTypedArg(e[i(460)],s[i(532)],.016),this[i(366)]=n.ensureInstanceOf(e.texture[i(455)],r,null),this[i(762)]=n[i(576)](e[i(366)].frames,t[i(430)],new o(1,1)),this.textureFrameCount=n[i(720)](e[i(366)][i(570)],s.NUMBER,this[i(762)].x*this[i(762)].y),this[i(711)]=n.ensureTypedArg(e[i(366)].loop,s[i(532)],1),this[i(762)][i(610)](new(t[i(430)])(1,1)),this[i(479)]=n[i(720)](e[i(479)],s[i(524)],!0),this.colorize=n[i(720)](e[i(458)],s[i(524)],!0),this[i(713)]=n[i(720)](e[i(713)],s[i(532)],null),this[i(448)]=n[i(720)](e[i(448)],s[i(532)],t[i(482)]),this[i(451)]=n[i(720)](e[i(451)],s.BOOLEAN,!0),this[i(559)]=parseFloat(n[i(720)](e[i(559)],s[i(532)],0)),this.depthWrite=n[i(720)](e.depthWrite,s.BOOLEAN,!1),this[i(378)]=n.ensureTypedArg(e[i(378)],s[i(524)],!0),this.fog=n[i(720)](e[i(464)],s[i(524)],!0),this[i(620)]=n[i(720)](e[i(620)],s.NUMBER,300),this[i(645)]=[],this[i(335)]=[],this[i(770)]=[],this[i(569)]=null,this[i(336)]=0,this[i(403)]=!1,this._attributesNeedDynamicReset=!1,this[i(516)]=0,this[i(369)]={tex:{type:"t",value:this[i(366)]},textureAnimation:{type:"v4",value:new(t[i(597)])(this.textureFrames.x,this.textureFrames.y,this.textureFrameCount,Math[i(610)](Math.abs(this[i(711)]),1))},fogColor:{type:"c",value:this[i(464)]?new(t[i(648)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(620)]}},this.defines={HAS_PERSPECTIVE:this[i(479)],COLORIZE:this[i(458)],VALUE_OVER_LIFETIME_LENGTH:f.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(762)].x>1||this[i(762)].y>1},this[i(350)]={position:new(f[i(317)])("v3",!0),acceleration:new(f[i(317)])("v4",!0),velocity:new(f[i(317)])("v3",!0),rotation:new f.ShaderAttribute("v4",!0),rotationCenter:new(f[i(317)])("v3",!0),params:new(f[i(317)])("v4",!0),size:new(f[i(317)])("v4",!0),angle:new f.ShaderAttribute("v4",!0),color:new(f[i(317)])("v4",!0),opacity:new(f[i(317)])("v4",!0)},this.attributeKeys=Object[i(633)](this[i(350)]),this[i(668)]=this[i(673)][i(357)],this[i(674)]=new(t[i(731)])({uniforms:this.uniforms,vertexShader:f[i(527)][i(739)],fragmentShader:f[i(527)].fragment,blending:this[i(448)],transparent:this.transparent,alphaTest:this[i(559)],depthWrite:this[i(477)],depthTest:this.depthTest,defines:this[i(349)],fog:this[i(464)]}),this[i(445)]=new(t[i(660)]),this[i(500)]=new a(this[i(445)],this[i(674)]),null===this[i(713)]&&console[i(385)](i(514))},f[c(342)][c(724)]=f.Group,f[c(342)][c(474)]._updateDefines=function(){const t=c;let e,i=this.emitters,n=i.length-1,s=this[t(349)];for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s.SHOULD_ROTATE_TEXTURE=s.SHOULD_ROTATE_TEXTURE||!!Math[t(610)](Math.max[t(364)](null,e[t(630)].value),Math[t(610)].apply(null,e[t(630)][t(412)]))),s.SHOULD_ROTATE_PARTICLES=s[t(410)]||!!Math[t(610)](e[t(418)][t(630)],e[t(418)][t(670)]),s.SHOULD_WIGGLE_PARTICLES=s[t(392)]||!!Math[t(610)](e.wiggle.value,e[t(690)][t(412)]);this[t(674)][t(397)]=!0},f[c(342)][c(474)][c(572)]=function(){const t=c;let e,i,n=this[t(350)],s=this[t(445)],r=s[t(350)];for(const o in n)n.hasOwnProperty(o)&&(e=n[o],i=r[o],i?i.array=e[t(457)][t(623)]:s.setAttribute(o,e.bufferAttribute),e.bufferAttribute.needsUpdate=!0);this[t(445)].setDrawRange(0,this[t(516)])},f[c(342)][c(474)][c(743)]=function(t){const e=c;if(t instanceof f[e(510)]==!1)return void console[e(400)](e(704),t);if(this.emitterIDs.indexOf(t[e(508)])>-1)return void console[e(400)](e(752));if(null!==t[e(541)])return void console[e(400)](e(603));const i=this.attributes,n=this[e(516)],s=n+t[e(516)];this[e(516)]=s,null!==this[e(713)]&&this[e(516)]>this[e(713)]&&console[e(385)](e(467),this[e(516)],"particles, can support only",this[e(713)]),t[e(638)](t[e(326)]._value+t[e(326)][e(504)]),t[e(432)](this.attributeKeys),t[e(663)](n),t[e(541)]=this,t[e(350)]=this[e(350)];for(const r in i)i[e(555)](r)&&i[r][e(564)](null!==this.maxParticleCount?this[e(713)]:this.particleCount);for(let r=n;r<s;++r)t[e(640)](r),t[e(729)](r,e(676)),t[e(729)](r,"acceleration"),t._assignAbsLifetimeValue(r,e(604)),t[e(675)](r,"size"),t[e(611)](r),t[e(542)](r),t[e(596)](r),t[e(375)](r);return this[e(572)](),this[e(645)].push(t),this[e(335)].push(t[e(508)]),this[e(672)](t),this.material[e(397)]=!0,this[e(445)][e(397)]=!0,this._attributesNeedRefresh=!0,this},f[c(342)][c(474)][c(657)]=function(t){const e=c,i=this[e(335)][e(394)](t.uuid);if(t instanceof f.Emitter==!1)return void console[e(400)](e(704),t);if(-1===i)return void console[e(400)](e(544));const n=t.attributeOffset,s=n+t[e(516)],r=this[e(350)][e(462)].typedArray;for(let o=n;o<s;++o)r[e(623)][4*o]=0,r.array[4*o+1]=0;this.emitters[e(725)](i,1),this[e(335)][e(725)](i,1);for(const o in this[e(350)])this[e(350)][e(555)](o)&&this.attributes[o][e(725)](n,s);this[e(516)]-=t[e(516)],t[e(367)](),this[e(403)]=!0},f[c(342)][c(474)][c(563)]=function(){const t=c,e=this._pool,i=this._createNewWhenPoolEmpty;if(e.length)return e[t(723)]();if(i){const e=new(f[t(510)])(this._poolCreationSettings);return this[t(743)](e),e}return null},f[c(342)][c(474)][c(553)]=function(t){const e=c;if(t instanceof f.Emitter!=!1)return t.reset(),this[e(770)][e(651)](t),this;console[e(400)](e(574),t)},f[c(342)][c(474)].getPool=function(){return this._pool},f.Group[c(474)].addPool=function(t,e,i){const n=c;let s;this[n(569)]=e,this[n(336)]=!!i;for(let r=0;r<t;++r)s=Array.isArray(e)?new(f[n(510)])(e[r]):new(f[n(510)])(e),this[n(743)](s),this.releaseIntoPool(s);return this},f[c(342)].prototype._triggerSingleEmitter=function(e){const i=c,n=this.getFromPool(),s=this;if(null!==n)return e instanceof t[i(486)]&&(n[i(427)][i(455)][i(715)](e),n[i(427)].value=n[i(427)][i(455)]),n[i(490)](),setTimeout((()=>{const t=i;n[t(754)](),s[t(553)](n)}),1e3*Math[i(610)](n[i(562)],n.maxAge[i(455)]+n[i(326)][i(412)])),this;console.log(i(497))},f[c(342)][c(474)][c(526)]=function(t,e){const i=c;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(726)](e);else this[i(726)](e);return this},f[c(342)][c(474)][c(347)]=function(t){const e=c;this[e(369)].runTime[e(455)]+=t,this[e(369)].deltaTime[e(455)]=t},f[c(342)][c(474)]._resetBufferRanges=function(){const t=c;let e=this[t(673)],i=this[t(668)]-1,n=this[t(350)];for(;i>=0;--i)n[e[i]][t(649)]()},f.Group[c(474)][c(605)]=function(t){const e=c;let i,n,s,r=this.attributeKeys,o=this.attributeCount-1,a=this[e(350)],h=t[e(377)];for(;o>=0;--o)i=r[o],n=h[i],s=a[i],s[e(382)](n[e(635)],n[e(610)]),s[e(489)]()},f[c(342)][c(474)][c(453)]=function(t){const e=c;var i=this[e(645)],n=i[e(357)],s=t||this[e(460)],r=this[e(673)],o=this[e(350)];if(this._updateUniforms(s),this[e(746)](),0!==n||!1!==this[e(403)]||!1!==this._attributesNeedDynamicReset){for(var a,h=0;h<n;++h)(a=i[h]).tick(s),this._updateBuffers(a);if(!0===this[e(425)]){for(h=this[e(668)]-1;h>=0;--h)o[r[h]][e(642)]();this[e(425)]=!1}if(!0===this[e(403)]){for(h=this[e(668)]-1;h>=0;--h)o[r[h]][e(566)]();this[e(403)]=!1,this[e(425)]=!0}}},f.Group.prototype[c(409)]=function(){const t=c;return this[t(445)][t(409)](),this[t(674)][t(409)](),this},f[c(510)]=function(e){const i=c,n=f[i(641)],r=n.types,o=f[i(678)];(e=n[i(720)](e,r[i(602)],{}))[i(427)]=n[i(720)](e[i(427)],r[i(602)],{}),e[i(676)]=n[i(720)](e[i(676)],r.OBJECT,{}),e[i(601)]=n[i(720)](e[i(601)],r[i(602)],{}),e[i(373)]=n[i(720)](e[i(373)],r.OBJECT,{}),e.drag=n[i(720)](e[i(654)],r[i(602)],{}),e[i(418)]=n.ensureTypedArg(e[i(418)],r[i(602)],{}),e[i(737)]=n.ensureTypedArg(e[i(737)],r[i(602)],{}),e[i(604)]=n[i(720)](e.opacity,r.OBJECT,{}),e.size=n[i(720)](e[i(450)],r.OBJECT,{}),e.angle=n[i(720)](e[i(630)],r[i(602)],{}),e[i(690)]=n[i(720)](e[i(690)],r[i(602)],{}),e[i(326)]=n[i(720)](e[i(326)],r[i(602)],{}),e[i(551)]&&console[i(385)](i(499)),this[i(508)]=t[i(681)][i(395)](),this[i(741)]=n.ensureTypedArg(e[i(741)],r.NUMBER,f[i(339)][i(332)]),this.position={_value:n[i(576)](e[i(427)].value,t[i(486)],new(t[i(486)])),_spread:n.ensureInstanceOf(e[i(427)][i(412)],t[i(486)],new(t[i(486)])),_spreadClamp:n.ensureInstanceOf(e[i(427)][i(365)],s,new s),_distribution:n.ensureTypedArg(e[i(427)][i(568)],r[i(532)],this[i(741)]),_randomise:n.ensureTypedArg(e[i(427)][i(513)],r.BOOLEAN,!1),_radius:n[i(720)](e.position[i(373)],r[i(532)],10),_radiusScale:n[i(576)](e.position[i(550)],t[i(486)],new(t[i(486)])(1,1,1)),_distributionClamp:n[i(720)](e[i(427)][i(767)],r[i(532)],0)},this[i(676)]={_value:n[i(576)](e[i(676)].value,t[i(486)],new s),_spread:n[i(576)](e[i(676)][i(412)],t[i(486)],new(t[i(486)])),_distribution:n[i(720)](e[i(676)][i(568)],r[i(532)],this[i(741)]),_randomise:n[i(720)](e[i(427)].randomise,r[i(524)],!1)},this[i(601)]={_value:n[i(576)](e[i(601)].value,t[i(486)],new(t[i(486)])),_spread:n.ensureInstanceOf(e[i(601)].spread,t[i(486)],new(t[i(486)])),_distribution:n[i(720)](e.acceleration.distribution,r[i(532)],this[i(741)]),_randomise:n.ensureTypedArg(e[i(427)].randomise,r.BOOLEAN,!1)},this[i(654)]={_value:n[i(720)](e[i(654)][i(455)],r[i(532)],0),_spread:n[i(720)](e[i(654)][i(412)],r.NUMBER,0),_randomise:n[i(720)](e[i(427)][i(513)],r[i(524)],!1)},this[i(690)]={_value:n[i(720)](e.wiggle.value,r.NUMBER,0),_spread:n[i(720)](e.wiggle.spread,r[i(532)],0)},this[i(418)]={_axis:n.ensureInstanceOf(e[i(418)][i(691)],t[i(486)],new(t[i(486)])(0,1,0)),_axisSpread:n[i(576)](e[i(418)][i(476)],t[i(486)],new s),_angle:n.ensureTypedArg(e[i(418)][i(630)],r[i(532)],0),_angleSpread:n[i(720)](e.rotation[i(670)],r[i(532)],0),_static:n[i(720)](e[i(418)][i(346)],r.BOOLEAN,!1),_center:n[i(576)](e[i(418)].center,t[i(486)],this.position[i(402)].clone()),_randomise:n.ensureTypedArg(e[i(427)].randomise,r[i(524)],!1)},this.maxAge={_value:n.ensureTypedArg(e[i(326)][i(455)],r[i(532)],2),_spread:n[i(720)](e[i(326)][i(412)],r.NUMBER,0)},this[i(737)]={_value:n[i(502)](e.color.value,t[i(648)],new(t[i(648)])),_spread:n[i(502)](e[i(737)].spread,t[i(486)],new(t[i(486)])),_randomise:n[i(720)](e[i(427)][i(513)],r[i(524)],!1)},this[i(604)]={_value:n[i(590)](e[i(604)].value,r[i(532)],1),_spread:n[i(590)](e[i(604)].spread,r[i(532)],0),_randomise:n[i(720)](e[i(427)][i(513)],r[i(524)],!1)},this.size={_value:n.ensureArrayTypedArg(e[i(450)][i(455)],r[i(532)],1),_spread:n[i(590)](e[i(450)].spread,r[i(532)],0),_randomise:n[i(720)](e[i(427)][i(513)],r.BOOLEAN,!1)},this.angle={_value:n[i(590)](e.angle[i(455)],r[i(532)],0),_spread:n.ensureArrayTypedArg(e.angle[i(412)],r[i(532)],0),_randomise:n.ensureTypedArg(e.position[i(513)],r[i(524)],!1)},this[i(516)]=n.ensureTypedArg(e[i(516)],r[i(532)],100),this[i(562)]=n[i(720)](e[i(562)],r[i(532)],null),this[i(703)]=n.ensureTypedArg(e[i(703)],r[i(524)],!1),this.activeMultiplier=n.ensureTypedArg(e[i(362)],r.NUMBER,1),this.direction=n[i(720)](e[i(407)],r[i(532)],1),this[i(653)]=n[i(720)](e.alive,r[i(524)],!0),this[i(689)]=0,this[i(629)]=0,this[i(387)]=0,this[i(512)]=0,this.age=0,this[i(736)]=0,this[i(541)]=null,this[i(350)]=null,this[i(436)]=null,this[i(509)]={position:n.ensureTypedArg(e[i(427)][i(513)],r[i(524)],!1)||n.ensureTypedArg(e.radius.randomise,r[i(524)],!1),velocity:n[i(720)](e[i(676)].randomise,r[i(524)],!1),acceleration:n[i(720)](e.acceleration[i(513)],r.BOOLEAN,!1)||n.ensureTypedArg(e[i(654)][i(513)],r[i(524)],!1),rotation:n[i(720)](e[i(418)][i(513)],r[i(524)],!1),rotationCenter:n[i(720)](e.rotation[i(513)],r[i(524)],!1),size:n[i(720)](e.size[i(513)],r[i(524)],!1),color:n[i(720)](e[i(737)][i(513)],r.BOOLEAN,!1),opacity:n.ensureTypedArg(e[i(604)].randomise,r[i(524)],!1),angle:n.ensureTypedArg(e[i(630)][i(513)],r[i(524)],!1)},this[i(323)]={},this[i(612)]={},this[i(424)]={maxAge:i(462),position:i(427),velocity:i(676),acceleration:i(601),drag:"acceleration",wiggle:i(462),rotation:"rotation",size:i(450),color:i(737),opacity:"opacity",angle:i(630)};for(const t in this[i(424)])this[i(424)][i(555)](t)&&(this.updateCounts[this[i(424)][t]]=0,this.updateFlags[this[i(424)][t]]=!1,this[i(536)](this[t],t));this[i(377)]={},this[i(673)]=null,this.attributeCount=0,n[i(503)](this[i(737)],o,o),n[i(503)](this[i(604)],o,o),n[i(503)](this[i(450)],o,o),n[i(503)](this[i(630)],o,o)},f[c(510)][c(724)]=f[c(510)],f[c(510)][c(474)]._createGetterSetters=function(t,e){const i=c,n=this;for(const s in t)if(t[i(555)](s)){const r=s[i(530)]("_","");Object[i(656)](t,r,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=p,r=n[s(424)][e],o=this[t],a=f[s(678)];t===s(644)?(n[s(323)][s(515)]=!0,n[s(612)][s(515)]=0):t===s(753)?n[s(509)][r]=i:(n[s(323)][r]=!0,n[s(612)][r]=0),n[s(541)][s(672)](),this[t]=i,Array[s(337)](o)&&f[s(641)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},f.Emitter[c(474)]._setBufferUpdateRanges=function(t){const e=c;this[e(673)]=t,this[e(668)]=t[e(357)];for(let i=this[e(668)]-1;i>=0;--i)this[e(377)][t[i]]={min:Number[e(334)],max:Number.NEGATIVE_INFINITY}},f.Emitter[c(474)][c(638)]=function(t){const e=c,i=this.particleCount;this[e(562)]?this.particlesPerSecond=i/(t<this[e(562)]?t:this[e(562)]):this.particlesPerSecond=i/t},f.Emitter[c(474)][c(663)]=function(t){const e=c;this.attributeOffset=t,this[e(629)]=t,this[e(406)]=t+this.particleCount},f[c(510)][c(474)]._assignValue=function(t,e){const i=c;switch(t){case"position":this[i(640)](e);break;case i(676):case"acceleration":this[i(729)](e,t);break;case i(450):case i(604):this[i(675)](e,t);break;case"angle":this[i(611)](e);break;case i(462):this[i(596)](e);break;case i(418):this[i(542)](e);break;case"color":this[i(375)](e)}},f[c(510)][c(474)]._assignPositionValue=function(t){const e=c,i=f[e(339)],n=f.utils,s=this[e(427)],r=this[e(350)][e(427)],o=s[e(402)],a=s._spread;switch(s[e(609)]){case i[e(332)]:n.randomVector3(r,t,o,a,s[e(685)]);break;case i[e(701)]:n.randomVector3OnSphere(r,t,o,s[e(351)],s[e(504)].x,s[e(683)],s[e(685)].x,s[e(538)]||this[e(516)]);break;case i[e(492)]:n[e(488)](r,t,o,s[e(351)],s[e(504)].x,s[e(683)],s._spreadClamp.x);break;case i[e(615)]:n.randomVector3OnLine(r,t,o,a)}},f[c(510)][c(474)][c(729)]=function(t,e){const i=c;let n,s,r,o,a,h=f.distributions,u=f.utils,l=this[e],p=l._value,d=l._spread;switch(l[i(609)]){case h[i(332)]:u[i(581)](this[i(350)][e],t,p,d);break;case h[i(701)]:n=this[i(350)][i(427)].typedArray[i(623)],a=3*t,s=n[a],r=n[a+1],o=n[a+2],u.randomDirectionVector3OnSphere(this[i(350)][e],t,s,r,o,this[i(427)][i(402)],l._value.x,l[i(504)].x);break;case h.DISC:n=this[i(350)][i(427)][i(457)].array,a=3*t,s=n[a],r=n[a+1],o=n[a+2],u.randomDirectionVector3OnDisc(this[i(350)][e],t,s,r,o,this[i(427)][i(402)],l[i(402)].x,l[i(504)].x);break;case h[i(615)]:u.randomVector3OnLine(this.attributes[e],t,p,d)}if(e===i(601)){const e=u[i(616)](u[i(408)](this.drag[i(402)],this[i(654)][i(504)]),0,1);this[i(350)][i(601)][i(457)][i(623)][4*t+3]=e}},f[c(510)][c(474)][c(675)]=function(t,e){const i=c;let n,s=this[i(350)][e][i(457)],r=this[e],o=f[i(641)];o[i(417)](r[i(402)])&&o.arrayValuesAreEqual(r._spread)?(n=Math[i(518)](o[i(408)](r[i(402)][0],r[i(504)][0])),s[i(434)](t,n,n,n,n)):s[i(434)](t,Math[i(518)](o[i(408)](r._value[0],r[i(504)][0])),Math[i(518)](o.randomFloat(r._value[1],r[i(504)][1])),Math[i(518)](o[i(408)](r[i(402)][2],r[i(504)][2])),Math.abs(o[i(408)](r[i(402)][3],r[i(504)][3])))},f[c(510)][c(474)][c(611)]=function(t){const e=c;let i,n=this[e(350)][e(630)][e(457)],s=this[e(630)],r=f.utils;r[e(417)](s[e(402)])&&r.arrayValuesAreEqual(s[e(504)])?(i=r.randomFloat(s[e(402)][0],s[e(504)][0]),n.setVec4Components(t,i,i,i,i)):n[e(434)](t,r.randomFloat(s[e(402)][0],s._spread[0]),r[e(408)](s._value[1],s[e(504)][1]),r[e(408)](s[e(402)][2],s[e(504)][2]),r[e(408)](s._value[3],s._spread[3]))},f[c(510)][c(474)]._assignParamsValue=function(t){const e=c;this[e(350)][e(462)][e(457)][e(434)](t,this[e(703)]?1:0,0,Math[e(518)](f[e(641)].randomFloat(this[e(326)][e(402)],this[e(326)][e(504)])),f[e(641)][e(408)](this[e(690)][e(402)],this[e(690)]._spread))},f[c(510)][c(474)]._assignRotationValue=function(t){const e=c;this[e(350)][e(418)][e(457)][e(766)](t,f[e(641)].getPackedRotationAxis(this[e(418)][e(534)],this[e(418)][e(319)]),f[e(641)][e(408)](this[e(418)][e(386)],this[e(418)][e(540)]),this[e(418)][e(577)]?0:1),this.attributes.rotationCenter[e(457)][e(694)](t,this[e(418)]._center)},f[c(510)][c(474)]._assignColorValue=function(t){const e=c;f[e(641)][e(771)](this[e(350)][e(737)],t,this[e(737)][e(402)],this[e(737)]._spread)},f.Emitter[c(474)][c(636)]=function(t){const e=c;let i,n,s=this[e(509)],r=this.updateFlags,o=this[e(612)],a=this[e(673)];for(let c=this[e(668)]-1;c>=0;--c)i=a[c],n=r[i],!0!==s[i]&&!0!==n||(this[e(520)](i,t),this._updateAttributeUpdateRange(i,t),!0===n&&o[i]===this.particleCount?(r[i]=!1,o[i]=0):1==n&&++o[i])},f.Emitter.prototype[c(622)]=function(t,e){const i=c,n=this[i(377)][t];n[i(635)]=Math.min(e,n.min),n.max=Math[i(610)](e,n[i(610)])},f.Emitter.prototype[c(746)]=function(){const t=c;let e,i=this[t(377)],n=this[t(702)],s=this[t(561)]-1;for(;s>=0;--s)e=n[s],i[e][t(635)]=Number[t(334)],i[e][t(610)]=Number[t(381)]},f[c(510)].prototype[c(367)]=function(){const t=c;this.particlesPerSecond=0,this[t(387)]=0,this[t(629)]=0,this.activeParticleCount=0,this[t(541)]=null,this.attributes=null,this[t(436)]=null,this[t(449)]=0},f[c(510)][c(474)][c(706)]=function(){--this[c(736)]},f[c(510)][c(474)][c(732)]=function(){++this.activeParticleCount},f[c(510)][c(474)][c(573)]=function(t,e,i,n){const s=c;for(var r,o,a,h,u=e-1;u>=t;--u)0!==(h=i[r=4*u])&&(a=i[r+1],o=i[r+2],1===this[s(407)]?(a+=n)>=o&&(a=0,h=0,this[s(706)]()):(a-=n)<=0&&(a=o,h=0,this[s(706)]()),i[r]=h,i[r+1]=a,this[s(622)]("params",u))},f[c(510)][c(474)][c(470)]=function(t,e,i,n){const s=c,r=this[s(407)];for(var o,a,h=t;h<e;++h)0!=i[o=4*h]&&1!==this.particleCount||(this._incrementParticleCount(),i[o]=1,this[s(636)](h),a=n*(h-t),i[o+1]=-1===r?i[o+2]-a:a,this._updateAttributeUpdateRange(s(462),h))},f[c(510)].prototype[c(453)]=function(t){const e=c;if(this[e(703)])return;null===this[e(436)]&&(this.paramsArray=this.attributes.params[e(457)].array);const i=this[e(387)],n=i+this.particleCount,s=this[e(436)],r=this[e(689)]*this[e(362)]*t,o=this[e(629)];if(this._resetBufferRanges(),this[e(573)](i,n,s,t),!1===this[e(653)])return void(this[e(449)]=0);if(null!==this.duration&&this[e(449)]>this[e(562)])return this[e(653)]=!1,void(this[e(449)]=0);const a=1===this.particleCount?o:0|o,h=Math.min(a+r,this[e(406)]),u=h-this[e(629)]|0,l=u>0?t/u:0;this[e(470)](a,h,s,l),this[e(629)]+=r,this[e(629)]>n&&(this[e(629)]=i),this[e(449)]+=t},f[c(510)][c(474)][c(549)]=function(t){const e=c;if(this.age=0,this[e(653)]=!1,!0===t){const t=this[e(387)],s=t+this[e(516)],r=this.paramsArray,o=this[e(350)][e(462)][e(614)];for(var i,n=s-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;o[e(327)][e(722)]=0,o.updateRange[e(586)]=-1,o[e(397)]=!0}return this},f[c(510)].prototype[c(490)]=function(){return this[c(653)]=!0,this},f[c(510)][c(474)][c(754)]=function(){return this.alive=!1,this},f[c(510)][c(474)][c(639)]=function(){const t=c;return null!==this[t(541)]?this[t(541)][t(657)](this):console.error(t(363)),this};const d=f;function m(t){function e(t){const i=p;if(typeof t===i(688))return function(t){}.constructor("while (true) {}").apply(i(624));1!==(""+t/t)[i(357)]||t%20==0?function(){return!0}[i(724)](i(721)+i(333))[i(535)](i(598)):function(){return!1}[i(724)](i(721)+i(333)).apply(i(709)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{d as _};
