import{a as n,e as t}from"./@tresjs.ZGxFoQtw1738818486026.js";import{d as o,a3 as e,r,v as i,a2 as a,o as s,H as c,N as u,m as l,u as f,b as p,w as d,aj as g,ak as h}from"./@vue.NRI7TcgI1738818486026.js";import{aX as v,a0 as m,C as y,M as x,co as w,b as _}from"./three.WgQSjl1J1738818486026.js";const M=T;!function(n,t){const o=T,e=R();for(;;)try{if(900606===-parseInt(o(247))/1*(parseInt(o(263))/2)+parseInt(o(266))/3+parseInt(o(233))/4+-parseInt(o(243))/5*(parseInt(o(241))/6)+parseInt(o(230))/7*(-parseInt(o(253))/8)+parseInt(o(256))/9+parseInt(o(272))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const I=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(228)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){I(this,(function(){const n=T,t=new RegExp(n(237)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=S(n(248));t[n(249)](e+"chain")&&o[n(249)](e+n(265))?S():e("0")}))()}();const A=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();A(void 0,(function(){const n=T;let t;try{t=Function("return (function() "+n(255)+");")()}catch(r){t=window}const o=t[n(244)]=t[n(244)]||{},e=[n(259),n(235),n(257),"error",n(254),n(275),n(278)];for(let i=0;i<e[n(260)];i++){const t=A[n(231)][n(251)][n(242)](A),r=e[i],a=o[r]||t;t[n(271)]=A.bind(A),t.toString=a[n(267)][n(242)](a),o[r]=t}}))();const b=[M(277),M(274)],P=[M(276)];function R(){const n=["debu","__proto__","2265190PiiaQm","translate","scale","table","map","position","trace","foremost","apply","buildingsMarkA","24878qACnZd","constructor","geometry","1020164NTdnDD","string","warn","clone","function *\\( *\\)","value","gger","TresSpriteMaterial","12SPeUYw","bind","1447015DETOvq","console","sizeAttenuation","action","6tasLPZ","init","test","call","prototype","while (true) {}","2600sQKdUl","exception",'{}.constructor("return this")( )',"4721112hNOAhF","info","offset","log","length","img","99999","55724rgJnkX","color","input","5386518UnoNDx","toString","stateObject","counter"];return(R=function(){return n})()}function T(n,t){const o=R();return(T=function(n,t){return o[n-=228]})(n,t)}const F=o({__name:M(229),props:{color:{default:"#fff"},position:{default:[0,0,0]},scale:{default:.1},img:{},offset:{default:[.344,.394]},foremost:{type:Boolean,default:!0},sizeAttenuation:{type:Boolean,default:!1}},async setup(t){const o=M;let p,d;const g=t,{map:h}=([p,d]=e((()=>n({map:g[o(261)]}))),p=await p,d(),p),v=r({color:g[o(264)],transparent:!0,depthWrite:!1,sizeAttenuation:g[o(245)],toneMapped:!1,depthTest:!g[o(279)]}),m=i(null);return a((()=>{const n=o;m[n(238)]&&(m.value[n(232)]=m[n(238)][n(232)][n(236)](),m[n(238)][n(232)][n(273)](g[n(258)][0],g[n(258)][1],0))})),(n,t)=>{const e=o;return s(),c("TresSprite",{ref_key:"tsRef",ref:m,position:g[e(277)],scale:g.scale,renderOrder:e(262)},[u(e(240),l(v,{map:f(h)}),null,16,P)],8,b)}}});function S(n){function t(n){const o=T;if(typeof n===o(234))return function(n){}[o(231)](o(252))[o(228)](o(269));1!==(""+n/n)[o(260)]||n%20==0?function(){return!0}[o(231)]("debu"+o(239))[o(250)](o(246)):function(){return!1}.constructor(o(270)+o(239)).apply(o(268)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const j=z;function z(n,t){const o=C();return(z=function(n,t){return o[n-=218]})(n,t)}!function(n,t){const o=z,e=C();for(;;)try{if(995802===parseInt(o(245))/1+-parseInt(o(226))/2+parseInt(o(242))/3+parseInt(o(258))/4*(-parseInt(o(251))/5)+parseInt(o(243))/6*(parseInt(o(231))/7)+parseInt(o(224))/8+parseInt(o(266))/9*(-parseInt(o(268))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function C(){const n=["makeRotationX","20150kVIAaQ","radraA","init","toString","error","while (true) {}","__proto__","TresCircleGeometryRef","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","9080792VRmQpw","log","3501654pYLZAE","TresCircleGeometry","TresShaderMaterial","test","apply","7wZsgzQ","speed","applyMatrix4",'{}.constructor("return this")( )',"TresMesh","\n\tvarying vec3 vPosition;\n\tvoid main() {\n\t\tvPosition = position;\n\t\tvec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\t\tvec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n    gl_Position = projectionPosition;\n  }\n  ","MeshRef","return (function() ","chain","position","table","385737jefrYD","3028674aJMKGv","gger","1857795lNrVkR","followWidth","action","uniforms","uRadius","bind","56390vdcfgv","color","value","function *\\( *\\)","constructor","debu","length","84aALoKF","args","counter","size","radius","warn","\n\tuniform float uRadius;     \n  uniform float uTime;            \n  uniform float uSpeed; \n  uniform float uFollowWidth; \n  varying vec3 vPosition;\n\tuniform vec3 ncolor;\n  float calcAngle(vec3 oFrag){\n    float fragAngle;\n    const vec3 ox = vec3(1,0,0);\n    float dianji = oFrag.x * ox.x + oFrag.z*ox.z;\n    float oFrag_length = length(oFrag); // length是内置函数\n    float ox_length = length(ox); // length是内置函数\n    float yuxian = dianji / (oFrag_length * ox_length);\n    fragAngle = acos(yuxian);\n    fragAngle = degrees(fragAngle);\n    if(oFrag.z > 0.0) {\n      fragAngle = -fragAngle + 360.0;\n    }\n    float scanAngle = uTime * uSpeed - floor(uTime * uSpeed / 360.0) * 360.0;\n    float angle = scanAngle - fragAngle;\n    if(angle < 0.0){\n      angle = angle + 360.0;\n    }\n    return angle;\n  }\n  void main() {\n\t\t\t// length内置函数，取向量的长度\n\t\tif(length(vPosition) == 0.0 || length(vPosition) > uRadius-2.0){\n\t\t\tgl_FragColor = vec4( ncolor, 1.0 );\n\t\t} else {\n\t\t\tfloat angle = calcAngle(vPosition);\n\t\t\tif(angle < uFollowWidth){\n\t\t\t\t// 尾焰区域\n\t\t\t\tfloat opacity =  1.0 - angle / uFollowWidth; \n\t\t\t\tgl_FragColor = vec4( ncolor, 1.0 * opacity );  \n\t\t\t} else {\n\t\t\t\t// 其他位置的像素均为透明\n\t\t\t\tgl_FragColor = vec4( ncolor, 0.0 ); \n\t\t\t}\n\t\t}\n\t}\n  ","console","2871YahnjM"];return(C=function(){return n})()}!function(){k(this,(function(){const n=z,t=new RegExp(n(254)),o=new RegExp(n(222),"i"),e=O(n(270));t[n(229)](e+n(239))&&o[n(229)](e+n(223))?O():e("0")}))()}();const W=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(230)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();W(void 0,(function(){const n=z;let t;try{t=Function(n(238)+n(234)+");")()}catch(r){t=window}const o=t[n(265)]=t[n(265)]||{},e=[n(225),n(263),"info",n(218),"exception",n(241),"trace"];for(let i=0;i<e[n(257)];i++){const t=W[n(255)].prototype[n(250)](W),r=e[i],a=o[r]||t;t[n(220)]=W[n(250)](W),t[n(271)]=a[n(271)][n(250)](a),o[r]=t}}))();const Z=[j(240)],E=[j(259)],L=o({__name:j(269),props:{position:{default:[0,0,0]},size:{default:300},radius:{default:240},color:{default:"#ffff00"},opacity:{default:.9},speed:{default:300},followWidth:{default:220}},setup(n,{expose:o}){const e=j,r=n,{onLoop:i}=t(),l={value:0},f=p();i((({delta:n})=>{l[z(253)]+=n}));const w={transparent:!0,blending:v,depthWrite:!1,side:m,depthTest:!0,vertexShader:e(236),fragmentShader:e(264),uniforms:{uSpeed:{value:r[e(232)]},uRadius:{value:r[e(262)]},uTime:l,uFollowWidth:{value:r[e(246)]},ncolor:{value:new y(r[e(252)])}}};d(f,((n,t)=>{const o=e;if(n&&void 0===t){const n=(new x)[o(267)](-Math.PI/180*90);f[o(253)][o(233)](n)}}));const _=p();return a((()=>{const n=e;r[n(252)]&&(w[n(248)].ncolor[n(253)]=new y(r[n(252)])),r[n(262)]&&(w.uniforms[n(249)][n(253)]=r[n(262)])})),p(-Math.PI/180*90),o({MeshRef:_}),(n,t)=>{const o=e;return s(),c(o(235),{ref_key:o(237),ref:_,position:r[o(240)]},[u(o(227),{ref_key:o(221),ref:f,args:[r[o(261)],1e3]},null,8,E),u(o(228),g(h(w)),null,16)],8,Z)}}});function O(n){function t(n){const o=z;if("string"==typeof n)return function(n){}[o(255)](o(219))[o(230)](o(260));1!==(""+n/n)[o(257)]||n%20==0?function(){return!0}[o(255)](o(256)+o(244)).call(o(247)):function(){return!1}[o(255)](o(256)+o(244)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const B=$;!function(n,t){const o=$,e=G();for(;;)try{if(166491===parseInt(o(240))/1*(parseInt(o(211))/2)+parseInt(o(265))/3*(parseInt(o(264))/4)+parseInt(o(260))/5+-parseInt(o(232))/6*(parseInt(o(254))/7)+-parseInt(o(244))/8+-parseInt(o(227))/9+parseInt(o(220))/10*(parseInt(o(252))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const D=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[$(250)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){D(this,(function(){const n=$,t=new RegExp(n(256)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=q(n(222));t[n(269)](e+n(225))&&o.test(e+n(249))?q():e("0")}))()}();const N=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[$(250)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function $(n,t){const o=G();return($=function(n,t){return o[n-=211]})(n,t)}function G(){const n=["length","595024cbdnJc","6JqLUbM","opacity","warn","min","test","applyMatrix4","2Erexqv","constructor","log","TresMesh","\n\tuniform vec3 uColor; // 光墙半径        \n  uniform vec3 uMax; \n  uniform vec3 uMin;\n  uniform mat4 modelMatrix; // 世界矩阵\n  varying vec4 vPosition; // 接收顶点着色传递进来的位置数据\n  void main() {\n    // 转世界坐标\n    vec4 uMax_world = modelMatrix * vec4(uMax,1.0);\n    vec4 uMin_world = modelMatrix * vec4(uMin,1.0);\n    // 根据像素点世界坐标的y轴高度,设置透明度\n    float opacity =1.0 - (vPosition.y - uMin_world.y) / (uMax_world.y -uMin_world.y) ; \n    gl_FragColor = vec4( uColor, opacity);\n  }\n  ","action","radraB","exception","value","1055050HrDzAR","trace","init","counter","color","chain","boundingBox","2594367SAWBtj","max","radius","gger","console","348gDJLdc","table","prototype","clone","\n\tvarying vec4 vPosition;\n  void main() {\n    vPosition = modelMatrix * vec4(position,1.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n  ","TresShaderMaterial","debu","period","271996uYCmrg","__proto__",'{}.constructor("return this")( )',"toString","2010888yfNTNo","updateMatrix","scale","uniforms","TresTubeGeometryRef","input","apply","bind","11kOzInL","maxRadius","13545reihTw","args","function *\\( *\\)","call","#ffff00","height","716660iapxHh","while (true) {}","makeScale"];return(G=function(){return n})()}N(void 0,(function(){const n=$,t=function(){const n=$;let t;try{t=Function("return (function() "+n(242)+");")()}catch(o){t=window}return t}(),o=t[n(231)]=t[n(231)]||{},e=[n(213),n(267),"info","error",n(218),n(233),n(221)];for(let r=0;r<e[n(263)];r++){const t=N.constructor[n(234)][n(251)](N),i=e[r],a=o[i]||t;t[n(241)]=N[n(251)](N),t.toString=a[n(243)][n(251)](a),o[i]=t}}))();const J=["position"],Q=[B(255)],Y=o({__name:B(217),props:{position:{default:[0,0,0]},radius:{default:10},maxRadius:{default:200},color:{default:B(258)},opacity:{default:.5},period:{default:2},height:{default:100}},setup(n,{expose:o}){const e=B,r=n,i=p(),l=p(1),f=p(.1),v={color:r[e(224)],opacity:r[e(266)],transparent:!0,depthWrite:!1,depthTest:!0,side:m,vertexShader:e(236),fragmentShader:e(215),uniforms:{uMax:l,uMin:f,uColor:{value:new y(r[e(224)])}}},M=p();let I=null;d(M,((n,t)=>{const o=e;n&&void 0===t&&(M[o(219)].computeBoundingBox(),l[o(219)]=M[o(219)][o(226)][o(228)],f[o(219)]=M[o(219)][o(226)][o(268)],I=i.value.scale[o(235)]())}));const A=p(new w(new _(0,0,0),new _(0,r[e(259)],0)));a((()=>{const n=e;r[n(224)]&&(v[n(247)].uColor[n(219)]=new y(r[n(224)]))}));const{onLoop:b}=t(),P={value:0};return b((({delta:n})=>{const t=e;P[t(219)]+=n;const o=(P[t(219)]%r.period/r[t(239)]*(r[t(253)]-r[t(229)])+r.radius)/r[t(229)],a=(new x)[t(262)](o,1,o);I&&(i[t(219)][t(246)].copy(I[t(235)]()[t(270)](a)),i.value[t(245)]())})),o({MeshRef:i}),(n,t)=>{const o=e;return s(),c(o(214),{ref_key:"MeshRef",ref:i,position:r.position,renderOrder:2e3},[u("TresTubeGeometry",{ref_key:o(248),ref:M,args:[A[o(219)],20,r[o(229)],100,!1]},null,8,Q),u(o(237),g(h(v)),null,16)],8,J)}}});function q(n){function t(n){const o=$;if("string"==typeof n)return function(n){}[o(212)](o(261))[o(250)](o(223));1!==(""+n/n)[o(263)]||n%20==0?function(){return!0}[o(212)](o(238)+o(230))[o(257)](o(216)):function(){return!1}[o(212)](o(238)+o(230))[o(250)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{F as _,L as a,Y as b};
