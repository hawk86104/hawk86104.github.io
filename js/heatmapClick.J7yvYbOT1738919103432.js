import{D as t,o as n}from"./@tresjs.G4idgyWs1738919103432.js";import{P as e}from"./tweakpane.yDiyAAkA1738919103432.js";import{Y as o,_ as r,ak as a,al as s}from"./three.CYhYNU4g1738919103432.js";import{_ as i}from"./heatmap.js-fix.jcLFiErJ1738919103432.js";import{d as c,a3 as u,a2 as l,o as p,H as f,u as d,r as h,e as g,f as m,g as v,N as b,j as y,al as w,aj as x,ak as _,m as I}from"./@vue.NRI7TcgI1738919103432.js";import"./@vueuse.DL3Lluw_1738919103432.js";import"./@amap.iZVXeXss1738919103432.js";!function(t,n){const e=S,o=D();for(;;)try{if(125719===parseInt(e(212))/1+-parseInt(e(222))/2+parseInt(e(248))/3+parseInt(e(253))/4+parseInt(e(254))/5*(-parseInt(e(277))/6)+-parseInt(e(221))/7*(-parseInt(e(227))/8)+parseInt(e(249))/9*(-parseInt(e(267))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(213),"i"),o=B(t(219));n[t(225)](o+t(241))&&e[t(225)](o+"input")?B():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function S(t,n){const e=D();return(S=function(t,n){return e[t-=211]})(t,n)}C(void 0,(function(){const t=S;let n;try{n=Function(t(262)+t(273)+");")()}catch(r){n=window}const e=n[t(275)]=n[t(275)]||{},o=[t(269),"warn",t(257),t(261),"exception",t(279),t(238)];for(let a=0;a<o.length;a++){const n=C[t(256)].prototype[t(281)](C),r=o[a],s=e[r]||n;n.__proto__=C[t(281)](C),n[t(278)]=s[t(278)][t(281)](s),e[r]=n}}))();const k=["object"];function D(){const t=["./draco/","138EiivMg","toString","table","while (true) {}","bind","none","deleteAttribute","getX","180008lJtPsX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addData","block","left","material","action","init","attributes","8316LxKkbB","297248nOSNcg","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","boundingBox","test","string","1128PgzPFG","push","ShaderMaterial","display","gger","style","canvas","counter","create","call","position","trace","debu","set","chain","1px solid #5384ff","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","top","body","stateObject","needsUpdate","473781mXnHui","153KEuSFo","appendChild","primitive","radius","77140PIsHVC","23170smTSRV","count","constructor","info","length","DoubleSide","layerX","error","return (function() ","absolute","onclick","_renderer","show2dCanvas","84590PlDqvr","apply","log","setScalar","mesh_0","createElement",'{}.constructor("return this")( )',"BufferAttribute","console"];return(D=function(){return t})()}const z=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=S;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(243),{draco:!0,decoderPath:e(276)}))),a=await a,s(),a);h[e(271)][e(237)][e(240)](-5088.96,-3.08,39374.7),h[e(271)].scale[e(270)](.01);let g=null,m=null,v=null;m=new o((()=>{const t=e;return v=document[t(272)]("heatmap-canvas"),v.style[t(237)]=t(263),v[t(232)][t(244)]="40px",v[t(232)][t(216)]="0",document[t(245)][t(250)](v),g=i[t(235)]({container:v,width:256,height:256,blur:"0.8",radius:c[t(252)]}),g[t(265)][t(233)][t(232)].border=t(242),g[t(265)].canvas[t(264)]=function(n){const e=t;g[e(214)]({x:n[e(260)],y:n.layerY,value:1,radius:c[e(252)]}),g.setDataMax(1),m&&(m[e(247)]=!0)},g})()[e(265)][e(233)]);const b={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(223),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(259)]},y=new(r[e(229)])(b);h[e(271)][e(217)]=y;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:a}=t[n(224)];t[n(283)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t.attributes[n(237)][n(255)];e++)c[n(228)]((t[n(220)].position[n(211)](e)-a.x)/s),c[n(228)]((t.attributes.position.getZ(e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(r[n(274)])(u,2))})(h.mesh_0.geometry),l((()=>{const t=e;v[t(232)][t(230)]=""+(c[t(266)]?t(215):t(282))})),(t,n)=>{const o=e;return p(),f(o(251),{object:d(h)[o(271)]},null,8,k)}}});function B(t){function n(t){const e=S;if(typeof t===e(226))return function(t){}.constructor(e(280))[e(268)](e(234));1!==(""+t/t)[e(258)]||t%20==0?function(){return!0}.constructor(e(239)+e(231))[e(236)](e(218)):function(){return!1}[e(256)](e(239)+e(231))[e(268)](e(246)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const M=E;!function(t,n){const e=E,o=A();for(;;)try{if(210592===-parseInt(e(330))/1*(-parseInt(e(331))/2)+-parseInt(e(329))/3*(-parseInt(e(317))/4)+parseInt(e(300))/5*(parseInt(e(342))/6)+-parseInt(e(315))/7+parseInt(e(338))/8+-parseInt(e(313))/9+parseInt(e(337))/10*(-parseInt(e(309))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(332)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=A();return(E=function(t,n){return e[t-=299]})(t,n)}!function(){P(this,(function(){const t=E,n=new RegExp(t(326)),e=new RegExp(t(323),"i"),o=H(t(327));n[t(345)](o+"chain")&&e[t(345)](o+t(321))?H():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(332)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["console","18606fERblG","313297swmrGY","2FHKywc","apply","gger","exception","点击左侧蓝色画框","TresDirectionalLight","3944690DDYqPx","2330648aqpgNR","__proto__","heatmapClick","show2dCanvas","12nroDqH","constructor","info","test","addBinding","table","307235Nbogpk","显示二维图","radius","圆圈的大小","return (function() ","bind","TresCanvas","TresPerspectiveCamera","call","11gKZHzM","#ffffff","debu","trace","2097693bwiNjV",'{}.constructor("return this")( )',"397866FGwBmn","#030311","108ZcOLsE","stateObject","string","prototype","input","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","action","function *\\( *\\)","init"];return(A=function(){return t})()}R(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(304)+t(314)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(328)]||{},o=["log","warn",t(344),"error",t(334),t(299),t(312)];for(let r=0;r<o[t(322)];r++){const n=R.constructor[t(320)].bind(R),a=o[r],s=e[a]||n;n[t(339)]=R[t(305)](R),n[t(324)]=s.toString.bind(s),e[a]=n}}))();const F=c({__name:M(340),setup(t){const o=M,r={clearColor:o(316),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(346)](i,o(341),{label:o(301)}),c.addBinding(i,o(302),{label:o(303),min:.1,max:30,step:.1}),c.addButton({title:o(335)}),(t,e)=>{const a=o,s=g(a(306));return p(),m(s,I(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=b(a(307),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),y(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b(a(336),{position:[5,10,7.5],color:a(310),intensity:5},null,-1)),e[2]||(e[2]=b("TresGridHelper",{args:[50,25]},null,-1)),(p(),m(w,null,{default:v((()=>[y(z,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function H(t){function n(t){const e=E;if(typeof t===e(319))return function(t){}[e(343)]("while (true) {}")[e(332)]("counter");1!==(""+t/t)[e(322)]||t%20==0?function(){return!0}.constructor("debugger")[e(308)](e(325)):function(){return!1}[e(343)](e(311)+e(333))[e(332)](e(318)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
