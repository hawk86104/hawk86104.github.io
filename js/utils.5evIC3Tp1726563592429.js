import"./@fesjs.Kb69K-9r1726563592429.js";import{_ as t}from"./jszip.ZHd90Dyy1726563592429.js";import{F as n}from"./file-saver.kq15gbta1726563592429.js";import{_ as e,aH as s}from"./three.ZWd_rX7H1726563592429.js";const o=g;!function(t,n){const e=g,s=p();for(;;)try{if(854713===-parseInt(e(505))/1*(-parseInt(e(489))/2)+parseInt(e(500))/3*(parseInt(e(524))/4)+-parseInt(e(466))/5+parseInt(e(497))/6*(-parseInt(e(515))/7)+parseInt(e(445))/8*(-parseInt(e(485))/9)+-parseInt(e(507))/10*(parseInt(e(433))/11)+parseInt(e(473))/12*(parseInt(e(517))/13))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[g(442)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){r(this,(function(){const t=g,n=new RegExp(t(472)),e=new RegExp(t(428),"i"),s=b(t(426));n[t(455)](s+t(451))&&e.test(s+t(423))?b():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[g(442)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function i(t){const n=new(e[o(460)]);return new Promise(((e,s)=>{n.load(t,(t=>e(JSON.parse(t))),void 0,(t=>s(t)))}))}async function c(t){const n=new s;return new Promise(((e,s)=>{const r=g;n.setResponseType(r(452)),n.load(t,(n=>{const a=r,i=new FileReader;i[a(432)]=()=>{const n=a,s=function(t){const n=o,e=t[n(521)](".")[n(456)]()[n(499)]();return{jpg:n(441),jpeg:n(441),png:n(483),gif:"image/gif",bmp:n(488),webp:n(498)}[e]||n(501)}(t),r=i[n(474)][n(521)](",")[1];e(n(511)+s+n(476)+r)},i.onerror=t=>{s(t)},i[a(520)](n)}),void 0,(t=>s(t)))}))}a(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(518)+t(436)+");")()}catch(e){n=window}return n}(),e=n[t(491)]=n[t(491)]||{},s=[t(486),t(461),t(453),t(519),t(504),t(490),t(430)];for(let o=0;o<s[t(470)];o++){const n=a[t(482)].prototype[t(513)](a),r=s[o],i=e[r]||n;n.__proto__=a.bind(a),n[t(434)]=i.toString.bind(i),e[r]=n}}))(),e[o(523)][o(450)]=!0;const u=n=>{const s=o,r=new(e[s(460)]);return r[s(496)](s(452)),new Promise(((e,s)=>{r.load(n,(async n=>{const s=g;e(await t[s(493)](n))}),void 0,(t=>s(t)))}))};function p(){const t=["forEach","uuid","FileLoader","warn","then","while (true) {}","data","startsWith","4906595zZIGuS","images","WEBP","endsWith","length","data:image/png;base64,","function *\\( *\\)","624Xsjcgj","result","stringify",";base64,","files","file","onerror","data:image/PNG;base64,","Unknown","constructor","image/png","非标准文件：不存在 app.json","603uqhCHG","log","config.zip","image/bmp","3110372bPSKGL","table","console","app.json","loadAsync",".json","push","setResponseType","212478GAmcgX","image/webp","toLowerCase","15VgcbZI","application/octet-stream","url:images/","data:image/GIF;base64,","exception","1WrZyKz","data:image/webp;base64,","70wZWISn","scene","parse","PNG","data:","debu","bind","counter","56vytjJw","geometries","594191akNrll","return (function() ","error","readAsDataURL","split","generateAsync","Cache","219832DFymWo","action","async","catch","url:","input","string","substring","init","data:image/","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","base64","trace","url:geometries/","onloadend","1789150GPZJAj","toString","data:image/gif;base64,",'{}.constructor("return this")( )',"data:image/WEBP;base64,","gger","stateObject","GIF","image/jpeg","apply","data:image/JPEG;base64,","name","113296bFKhwd","get","type","JPEG","toUpperCase","enabled","chain","blob","info","folder","test","pop","url"];return(p=function(){return t})()}const l=t=>{const n=o,e=t[n(425)](0,15),s=n(443),r=n(471),a=n(480),i=n(435),c=n(503),u=n(506),p=n(437);return"data:image/jpeg;base64,".startsWith(e)||s.startsWith(e)?n(448):r.startsWith(e)||a[n(465)](e)?n(510):i[n(465)](e)||c[n(465)](e)?n(440):u[n(465)](e||p[n(465)](e))?n(468):n(481)},f=e=>{const s=o,r=[];e[s(508)][s(516)]&&e.scene.geometries[s(458)]((t=>{const n=s;"BufferGeometry"===t[n(447)]&&(r[n(495)]({uuid:t.uuid,data:t[n(464)]}),t.data=n(431)+t[n(459)]+n(494))}));const a=[];e[s(508)][s(467)]&&e[s(508)][s(467)][s(458)]((t=>{const n=s;t.url&&(a[n(495)]({uuid:t[n(459)],url:t[n(457)]}),t.url[n(447)]?t.url=n(502)+t[n(459)]+"."+t[n(457)][n(447)]+n(494):t.url=n(502)+t.uuid+"."+l(t.url))}));const i=new t;if(r[s(470)]){const t=i[s(454)](s(516));r.forEach((n=>{const e=s;t[e(478)](n[e(459)]+e(494),JSON.stringify(n[e(464)]))}))}if(a[s(470)]){const t=i[s(454)](s(467));a[s(458)]((n=>{const e=s;n[e(457)][e(447)]?t.file(n[e(459)]+"."+n.url[e(447)]+e(494),JSON.stringify(n[e(457)])):t[e(478)](n[e(459)]+"."+l(n[e(457)]),n[e(457)].split(e(476)).pop(),{base64:!0})}))}const c=JSON[s(475)](e);return i[s(478)]("app.json",c),i[s(522)]({type:s(452)})[s(462)]((t=>{const e=s;n.saveAs(t,e(487))}))};function g(t,n){const e=p();return(g=function(t,n){return e[t-=423]})(t,n)}const m=(t,n,e)=>{t.geometries<=0&&t.images<=0&&e(n)},d=(n,e)=>{const s=o;let r=null;return t[s(493)](n)[s(462)]((t=>{const n=s;t[n(477)][n(492)]?t[n(477)][n(492)][n(526)](n(424))[n(462)]((s=>{var a,i;const c=n;r=JSON[c(509)](s);const u=(t=>{var n,e;const s=o,r={geometries:0,images:0};return null==(n=t[s(508)].geometries)||n[s(458)]((t=>{const n=s;t[n(464)][n(465)](n(528))&&r[n(516)]++})),null==(e=t[s(508)].images)||e[s(458)]((t=>{const n=s;t.url.startsWith(n(528))&&r.images++})),r})(r);m(u,r,e),null==(a=r[c(508)][c(516)])||a[c(458)]((n=>{const s=c;n[s(464)][s(465)]("url:")&&t[s(477)][n[s(464)].slice(4)][s(526)](s(424))[s(462)]((t=>{const o=s;n.data=JSON[o(509)](t),u[o(516)]--,m(u,r,e)}))})),null==(i=r[c(508)][c(467)])||i[c(458)]((n=>{const s=c;if(n[s(457)][s(465)](s(528))){const o=n[s(457)].slice(4);o[s(469)](".json")?t[s(477)][o].async(s(424))[s(462)]((t=>{const o=s;n[o(457)]=JSON[o(509)](t),u.images--,m(u,r,e)})):t[s(477)][o][s(526)](s(429))[s(462)]((t=>{const a=s,i=o[a(521)]("."),c=i[i[a(470)]-1][a(449)]();n[a(457)]=a(427)+c+a(476)+t,u[a(467)]--,m(u,r,e)}))}}))})):console.error(n(484))}),(t=>{const e=s;console[e(519)](n[e(444)]+": "+t.message)})),r};function b(t){function n(t){const e=g;if(typeof t===e(424))return function(t){}[e(482)](e(463))[e(442)](e(514));1!==(""+t/t)[e(470)]||t%20==0?function(){return!0}[e(482)](e(512)+e(438)).call(e(525)):function(){return!1}.constructor(e(512)+e(438))[e(442)](e(439)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{u as a,c as b,f as e,l as g,d as i,i as l};
