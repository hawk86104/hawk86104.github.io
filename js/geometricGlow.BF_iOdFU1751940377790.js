import{a as e}from"./@tresjs.P1mAtqbp1751940377790.js";import{P as o}from"./tweakpane.C0HtAJSg1751940377790.js";import{d as t,w as n,G as r,o as i,I as c,m as a,u,r as s,h as d,e as f,f as l,j as W}from"./@vue.Mugdq9o81751940377790.js";import{V as m,C as x,bx as C,a4 as h,cw as v}from"./three.hm_8tMpN1751940377790.js";import"./postprocessing.CEHaRbZY1751940377790.js";import"./@vueuse.CQVzHMcd1751940377790.js";function k(){const e=["W7qdmSkdW6HEua88ia","B8oDdxeQka","W70GcCk4W7G","rCk+bCklW6m","WQddUIbeiSoUpCkb","WP/dOWNdVXK","WR7dQSkVW5tdOqXQDSkqrSko","sw8VWQlcGa","smoWb0GwzNddPmk6WRddNsSc","fa/dSCkkW4G","W6xcNmoGW5fMwmkOWRtdVSkx","W6efj8ksW6q","W5C0nSkPW40","ibpdOmkvW6C","amkWvtDx","mSoLW7ZdQSoCFWpcMg1t","W6hcMSoMW4X9","yfxdOCoZC8kHW6aC","adv1W63dKItdSCoVW7m+t0G","BCoQWQNcKe7dTSoudhNcK8kqffC","FSoBg2PR","WRecddZdJa","W47dQ8oVfSoiW594bW","mKnXWQi","WOBcICo0amkOWPRdU0tdGCkgW7W","tSoHWQb/jmkBrXZcJCoXWPVdIhjnWPpdPISmWOm","DuRdGSoREa","E8k5WQdcTSkEnf3dHsmjvmkL","CflcPSokWQGCuNBdUSkrW4TFWOm","W5f+bdq2","W7pdSNK","xCo2WQzRlW","gSkPqX9u","nSoJW7RdT8oh","b8kpsSoRW5u5m8k+qmkIlxqSl2Dv","rqNdR8olkG","c8oUFbyvW4DiDmkY","hbRdTaVdQSkx","emkUWO/dQCkl","uSktWQ8KW6eeCSkeWOxcVwm","htpcUx1gWQysCxC","cdxdNSkJW7m","W4iYfxvBAq","smkBomkTW6G","W73dLmkHASovwmkLoCkaWQtcS8kkW54","tSo6wGC0lmkIfbxdUwHDqW","W6j3xSknnbBdUuT2rCk0W4y","hmkJyCkkW7i","r8oDpuPC","W5VdTmomdSod","WQ7cLCkYaSopWQtdQrNcRtVcR8oj","B8oWW4ZcPaVdOSo7hM1YW5BcVCkMmCkfrCoOgHFcIa","W4BcRSobW5zI","CuWlxSk8WPK","kmk9CSkyW50","W4VdM1dcLNW","W6eyfCkfW7nvsXW","WRa2DbVdMmoPW5FcPq","WRJcJSockmksaCo6kG","WPFcKd/dUsq","W7RcPa1O","W63cINioWQ3dGxddKSkS","W5v2fZ0/he3dQgO","xCobj1XE","jCocW7xdS8oqWP7dKvZcUc4HW7NcGW","y1VdGmoP","B8oWW4/cPWRdPmoRk3XVW5a","WRhdMSkLWPS7B8kTWQhdN8kxW4a","t8ozW77cL8oyqtZdNrSNxsm0","WQ7cImo/oa","W5CyWPCuB8k9W5KnWPP4dSolemk8jMdcS8klW7i","WPZcIZ3dOqq","qSkLgCka","W4pdKN7cRwKts19aWPXT","dmooW7JdQSoAArNcS1C","gSkPwajpoca","vKivzCkh","jSkBifnO","mGBdSCklW71g","W5VdSmoiemotW5rJfbZdTG","AmouWRHtaG","AmoSWReQmCkqcfNcJSoWWOFdKIzjWONdU3CfW4hcJ35xW5NcNmo2FCoBW5VcJf93WQHEvcGkWQzD","xIhdU8ol","hSktE8o3W4C2oCkI","c8oNW73dL8o0","WPWSi8o3Bq","WPDFW7GcWQdcP089W6tdVmk2v8k8W5xdLmovW5VdQCkflmouWPhcQ1dcMMzVxCkVW4bgpa","eSo7rmotWQtdSuuCeWitWQdcOa","r0lcTvFcVCocWPFdMI7dVYaEyG","AuVcUmoxWRuhqq3cLSo/WPmm","W5DWqvpcVSoybZldISk3aCoh","WPriW5nxkmoJW4HrWRn0jSoCnq","WPZcGgmLuG"];return(k=function(){return e})()}!function(){function e(e,o,t,n,r){return g(o-236,r)}const o=k();function t(e,o,t,n,r){return g(o-106,r)}for(;;)try{if(882294===-parseInt(e(0,749,0,0,"*1hT"))/1+-parseInt(e(0,683,0,0,"n12f"))/2*(-parseInt(e(0,707,0,0,"xMJ!"))/3)+-parseInt((n="JG^Z",r=1231,g(r-769,n)))/4+-parseInt(e(0,674,0,0,"HVBD"))/5+parseInt(t(0,601,0,0,"^f05"))/6+-parseInt(e(0,711,0,0,"oNy$"))/7+parseInt(g(46- -461,"UxNZ"))/8*(parseInt(t(0,617,0,0,"ilpt"))/9))break;o.push(o.shift())}catch(i){o.push(o.shift())}var n,r}();const p=function(){let e=!0;return function(o,t){function n(e,o,t,n,r){return g(r- -864,t)}if("Ujvan"!==n(0,0,"3b8U",0,-410)){const r=e?function(){function e(e,o,t,r,i){return n(0,0,t,0,e-1566)}function r(e,o,t,r,i){return n(0,0,t,0,o-192)}function i(e,o,t,r,i){return n(0,0,r,0,e-1815)}if(e(1130,0,"3]@U")!==i(1427,0,0,"^f05")){let o;try{o=_0x3a8dcf(e(1194,0,"3b8U")+'{}.constructor("return this")( ));')()}catch(d){o=_0x266ed3}return o}if(t){if(e(1131,0,"5Gy4")!==i(1439,0,0,"XXAu")){const e=t[(c="PWjr",a=1330,n(0,0,c,0,a-1698))](o,arguments);return t=null,e}{const o=_0x4d1516[e(1142,0,"$5N%")][r(0,-237,"$uNO")].bind(_0x4fb544),t=_0x441e25[_0x11ef91],i=_0x6d4a3c[t]||o;o[e(1150,0,"m)ue")]=_0x408c1c[(u=969,s="l1Mr",n(0,0,s,0,u-1387))](_0x824ad4),o[r(0,-242,"@Hzh")]=i.toString[r(0,-182,"BK]9")](i),_0x5dfdac[t]=o}}var c,a,u,s}:function(){};return e=!1,r}{const e=3*_0x1c303a;_0x17cdc4[e]+=_0x556ce5[e]*_0x216e7d,_0xf52b49[e+1]+=_0x2c5abb[e+1]*_0x5133a7,_0xc4b0c4[e+2]+=_0x161050[e+2]*_0x3c1fca}}}()(void 0,(function(){function e(e,o,t,n,r){return g(e-728,t)}function o(e,o,t,n,r){return g(o- -682,t)}return p[e(1159,0,"N[$O")]()[o(0,-230,"^f05")](o(0,-218,"XXAu"))[(t=-62,n="ilpt",g(t- -494,n))]()[e(1234,0,"QA]B")](p).search(g(1212-718,"m)ue"));var t,n}));p();const S=function(){let e=!0;return function(o,t){function n(e,o,t,n,r){return g(o- -945,e)}if(n("Thw5",-473)!==n("oNy$",-464)){const r=e?function(){function e(e,o,t,r,i){return n(r,o-676)}function r(e,o,t,n,r){return g(n- -143-157,r)}function i(e,o,t,r,i){return n(r,e-1570)}if("rFroC"!==e(0,233,0,"2sHk"))return _0x51f7fc[r(0,0,0,498,"vDC3")]().search(r(0,0,0,499,"u7*$")).toString().constructor(_0x1e169c)[r(0,0,0,523,"Xyg!")](r(0,0,0,477,"^f05"));if(t){if(e(0,239,0,"^f05")===i(1091,0,0,"]8#Y")){const e=t[i(1105,0,0,"^f05")](o,arguments);return t=null,e}_0x41d3ac=_0x123139}}:function(){};return e=!1,r}if(_0x2ec01d){const e=_0xfa0315[n("vDC3",-452)](_0x530620,arguments);return _0x249417=null,e}}}();function g(e,o){const t=k();return g=function(o,n){let r=t[o-=423];if(void 0===g.PMGepQ){var i=function(e){let o="",t="",n=o+i;for(let r,i,c=0,a=0;i=e.charAt(a++);~i&&(r=c%4?64*r+i:i,c++%4)?o+=n.charCodeAt(a+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let r=0,i=o.length;r<i;r++)t+="%"+("00"+o.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(t)};const o=function(e,o){let t,n,r=[],c=0,a="";for(e=i(e),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)c=(c+r[n]+o.charCodeAt(n%o.length))%256,t=r[n],r[n]=r[c],r[c]=t;n=0,c=0;for(let i=0;i<e.length;i++)n=(n+1)%256,c=(c+r[n])%256,t=r[n],r[n]=r[c],r[c]=t,a+=String.fromCharCode(e.charCodeAt(i)^r[(r[n]+r[c])%256]);return a};g.QIiavx=o,e=arguments,g.PMGepQ=!0}const c=o+t[0],a=e[c];if(a)r=a;else{if(void 0===g.IvpEFX){const e=function(e){this.YEAIUu=e,this.AEsBey=[1,0,0],this.PKiYbT=function(){return"newState"},this.NyIonQ="\\w+ *\\(\\) *{\\w+ *",this.YEyRcw="['|\"].+['|\"];? *}"};e.prototype.jNdiGt=function(){const e=new RegExp(this.NyIonQ+this.YEyRcw).test(this.PKiYbT.toString())?--this.AEsBey[1]:--this.AEsBey[0];return this.lnPJjR(e)},e.prototype.lnPJjR=function(e){return Boolean(~e)?this.yfWNhX(this.YEAIUu):e},e.prototype.yfWNhX=function(e){for(let o=0,t=this.AEsBey.length;o<t;o++)this.AEsBey.push(Math.round(Math.random())),t=this.AEsBey.length;return e(this.AEsBey[0])},new e(g).jNdiGt(),g.IvpEFX=!0}r=g.QIiavx(r,n),e[c]=r}return r},g(e,o)}function y(e,o){if(!e.isBufferGeometry){if(d("1)tS",224,309,263)!==d("0NHF",377,369,342))return void console[c(910,910,"l1Mr")]("The geometry must be a BufferGeometry.");if(_0x20ab53){const e=_0x3c4589[c(831,873,"n12f")](_0x28a921,arguments);return _0x2977b4=null,e}}function t(e,o,t,n,r){return g(t-524,e)}!e.attributes.normal&&(u(1171,"@Hzh",1168)===i("l1Mr",-361,-387,-401)?e[c(883,865,"$5N%")]():_0x38ec40=_0xa6e814(u(1113,"]K%7",1143)+d("dKz8",269,283,297)+");")());const n=e[d("1)tS",280,350,314)][c(915,897,"O(*m")],r=e[d("8KCR",243,267,290)][d("JG^Z",384,307,341)];function i(e,o,t,n,r){return g(n- -911,e)}function c(e,o,t,n,r){return g(o-440,t)}const a=n[c(0,954,"3]@U")];function u(e,o,t,n,r){return g(t-699,o)}const s=r[u(0,"u7*$",1173)];for(let f=0;f<n.count;f++)if("BjLZL"===i("VmhN",0,0,-474)){const e=3*f;a[e]+=s[e]*o,a[e+1]+=s[e+1]*o,a[e+2]+=s[e+2]*o}else{if(!_0x17f5e7[i("O(*m",0,0,-410)])return void _0x1e2672.error(c(0,895,"3b8U"));!_0x197d65[t("@Hzh",0,991)][d("p*Je",289,230,264)]&&_0x4a938b.computeVertexNormals();const e=_0x145239.attributes.position,o=_0x364065[t("m)ue",0,1006)][u(0,"5pB%",1167)],n=e.array,r=o[i("3b8U",0,0,-413)];for(let t=0;t<e[i("oNy$",0,0,-412)];t++){const e=3*t;n[e]+=r[e]*_0x2c92fa,n[e+1]+=r[e+1]*_0x36d4d6,n[e+2]+=r[e+2]*_0x1d974d}e[u(0,"qztU",1190)]=!0}function d(e,o,t,n,r){return g(n- -163,e)}n[u(0,"J)^X",1172)]=!0}S(void 0,(function(){const e=function(){function e(e,o,t,n,r){return g(r-952,o)}function o(e,o,t,n,r){return g(r-295,n)}function t(e,o,t,n,r){return g(e- -266,t)}if("mpZwb"===o(0,0,0,"@Hzh",774)){const e=_0x5a355f[o(0,0,0,"8KCR",718)](_0x3ffac2,arguments);return _0x53025d=null,e}{let o;try{if(t(185,0,"KQtG")===g(-425- -870,"n12f")){const e=_0x11788f[(n=-285,r="8KCR",g(n- -708,r))](_0x318a6d,arguments);return _0x30e184=null,e}o=Function('return (function() {}.constructor("return this")( ));')()}catch(i){if(e(0,"VmhN",0,0,1467)===e(0,"m)ue",0,0,1410))return void _0x5c93dc[t(234,0,"m)ue")]("The geometry must be a BufferGeometry.");o=window}return o}var n,r}();function o(e,o,t,n,r){return g(o-661,e)}const t=e[i(1011,"oNy$",1023,997,982)]=e.console||{},n=[r(-435,-432,-470,"5Gy4"),i(1004,"vDC3",938,934,972),o("2sHk",1117),r(-450,-446,-489,"1)tS"),o("PWjr",1097),"table",r(-410,-451,-475,"@Hzh")];function r(e,o,t,n,r){return g(o- -929,n)}function i(e,o,t,n,r){return g(r-533,o)}for(let c=0;c<n.length;c++){if(o("p*Je",1111)===g(442- -17,"*1hT")){const e=_0x518aa4?function(){if(_0x1c509b){const n=_0x365fb7[(e=262,t="VmhN",o(t,e- -886))](_0x5ca13f,arguments);return _0x381c98=null,n}var e,t}:function(){};return _0x2dadbc=!1,e}{const e=S.constructor.prototype[o("xMJ!",1095)](S),i=n[c],a=t[i]||e;e.__proto__=S.bind(S),e[o("8KCR",1150)]=a.toString[r(0,-486,0,"ilpt")](a),t[i]=e}}}))();var w="varying vec3 vVertexWorldPosition;\nvarying vec3 vVertexNormal;\nvarying vec4 vFragColor;\nvoid main() {\n  vVertexNormal = normalize(normalMatrix * normal);\n  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",_="uniform vec3 glowColor;\nuniform float coeficient;\nuniform float power;\nvarying vec3 vVertexNormal;\nvarying vec3 vVertexWorldPosition;\nvarying vec4 vFragColor;\nvoid main() {\n  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;\n  vec3 viewCameraToVertex = (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;\n  viewCameraToVertex = normalize(viewCameraToVertex);\n  float intensity =\n      pow(coeficient + dot(vVertexNormal, viewCameraToVertex), power);\n  gl_FragColor = vec4(glowColor, intensity);\n}";const P=["geometry"],b=["blending","side"],N=["geometry"],V=["blending","side"],M=t({__name:"geometricGlowMesh",props:{geometry:Object,inColor:{default:"hotpink"},outColor:{default:"hotpink"},inPower:{default:1.4},outPower:{default:1.2},inCoeficient:{default:1.1},outCoeficient:{default:.1}},setup(e){const o=e,t=o.geometry.clone();y(t,.01);const s=o.geometry.clone();y(s,.2);const d={uniforms:{coeficient:{value:o.inCoeficient},power:{value:o.inPower},glowColor:{value:new x(o.inColor)},viewVector:{value:new m(0,0,1)}},vertexShader:w,fragmentShader:_},f={uniforms:{coeficient:{value:o.outCoeficient},power:{value:o.outPower},glowColor:{value:new x(o.outColor)},viewVector:{value:new m(0,0,1)}},vertexShader:w,fragmentShader:_};return n((()=>[o.inColor,o.outColor]),(([e,o])=>{d.uniforms.glowColor.value.set(e),f.uniforms.glowColor.value.set(o)})),n((()=>[o.inPower,o.outPower,o.inCoeficient,o.outCoeficient]),(([e,o,t,n])=>{d.uniforms.power.value=e,f.uniforms.power.value=o,d.uniforms.coeficient.value=t,f.uniforms.coeficient.value=n})),(e,o)=>(i(),r("TresGroup",null,[c("TresMesh",{geometry:u(t)},[c("TresShaderMaterial",a(d,{blending:C,transparent:"",depthWrite:!1,side:void 0}),null,16,b)],8,P),c("TresMesh",{geometry:u(s),visible:!0},[c("TresShaderMaterial",a(f,{blending:C,transparent:"",depthWrite:!1,side:h}),null,16,V)],8,N)]))}}),B=["geometry"],Q=["geometry"],T=["geometry"],G=["geometry"],R=["geometry"],I=t({__name:"geometricGlow",setup(t){const n=new v(.75,.25,64),r=n.clone();y(r,-.1);const m=n.clone();y(m,.1);const x=s({inColor:"#0078ff",outColor:"#ff00ba",inPower:1.4,outPower:1.2,inCoeficient:1.1,outCoeficient:.1}),C=new o;return C.addBinding(x,"inColor",{label:"内发光色"}),C.addBinding(x,"inPower",{label:"内发光强度",step:.01,min:0,max:4}),C.addBinding(x,"inCoeficient",{step:.01,min:0,max:4}),C.addBinding(x,"outColor",{label:"外发光色"}),C.addBinding(x,"outPower",{label:"外发光强度",step:.01,min:0,max:6}),C.addBinding(x,"outCoeficient",{step:.01,min:0,max:4}),(o,t)=>{const s=d("TresCanvas");return i(),f(s,{"window-size":"",clearColor:"#333333"},{default:l((()=>[t[5]||(t[5]=c("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),W(u(e)),c("TresMesh",{position:[0,1,-4],geometry:u(n)},[t[1]||(t[1]=c("TresMeshNormalMaterial",{transparent:"",opacity:.8},null,-1)),c("TresMesh",{geometry:u(r)},t[0]||(t[0]=[c("TresMeshBasicMaterial",{wireframe:"",color:"#000"},null,-1)]),8,Q)],8,B),c("TresMesh",{position:[0,1,4],geometry:u(n)},[t[3]||(t[3]=c("TresMeshNormalMaterial",{transparent:"",opacity:.9},null,-1)),c("TresMesh",{geometry:u(m)},t[2]||(t[2]=[c("TresMeshBasicMaterial",{wireframe:"",color:"#000"},null,-1)]),8,G)],8,T),c("TresMesh",{position:[0,1,0],geometry:u(n),renderOrder:1},[t[4]||(t[4]=c("TresMeshBasicMaterial",{color:"gray"},null,-1)),W(M,a({geometry:u(n)},x),null,16,["geometry"])],8,R),t[6]||(t[6]=c("TresGridHelper",{args:[10,10]},null,-1))])),_:1})}}});export{I as default};
