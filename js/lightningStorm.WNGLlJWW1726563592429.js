import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.ZsPp_lk11726563592429.js";import{B as i,V as s,cs as n,ab as e,X as r,h as o,an as a,$ as h,s as c,_ as u}from"./three.ZWd_rX7H1726563592429.js";import{U as l,e as p,F as d}from"./@tresjs.Mu0zjs701726563592429.js";import{c as m}from"./simplex-noise.P9JMzoHY1726563592429.js";import{d as f,a3 as g,o as y,E as b,u as v,r as x,j as S,g as P,m as w,F as _}from"./@vue.bvMz0l_u1726563592429.js";import"./index.Dxv58l0g1726563592429.js";import{_ as I}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.34IGZ5g-1726563592429.js";import"./three-custom-shader-material.fdrKMsxZ1726563592429.js";import"./object-hash.PY2g7Wtg1726563592429.js";import"./@amap.JADYh6_E1726563592429.js";import"./jszip.ZHd90Dyy1726563592429.js";import"./glsl-tokenizer.Mx0qLbNn1726563592429.js";import"./glsl-token-string.5NNBceO91726563592429.js";import"./glsl-token-functions._R3ANBWq1726563592429.js";import"./@vueuse.a2m4N83v1726563592429.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.XkZyrr4T1726563592429.js";import"./all.three.8p1oEV7_1726563592429.js";import"./oimophysics.x0jH7fze1726563592429.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.v4yl9LDj1726563592429.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.n1opgFac1726563592429.js";import"./index.MGzBUOhm1726563592429.js";import"./three-stdlib.bGoL1Dee1726563592429.js";import"./@pmndrs.iDhXA4D61726563592429.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.qow2oUWP1726563592429.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.BXAY42sv1726563592429.js";const M=C;!function(t,i){const s=C,n=j();for(;;)try{if(921174===-parseInt(s(420))/1*(-parseInt(s(465))/2)+parseInt(s(508))/3*(parseInt(s(400))/4)+-parseInt(s(451))/5+parseInt(s(521))/6+parseInt(s(538))/7+parseInt(s(539))/8*(parseInt(s(499))/9)+parseInt(s(447))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const T=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[C(492)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){T(this,(function(){const t=C,i=new RegExp(t(418)),s=new RegExp(t(518),"i"),n=V(t(500));i[t(489)](n+"chain")&&s[t(489)](n+"input")?V():n("0")}))()}();const A=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();A(void 0,(function(){const t=C,i=function(){const t=C;let i;try{i=Function(t(396)+t(478)+");")()}catch(s){i=window}return i}(),s=i[t(513)]=i[t(513)]||{},n=["log",t(448),t(458),t(414),t(443),t(440),t(507)];for(let e=0;e<n[t(532)];e++){const i=A[t(385)][t(498)].bind(A),r=n[e],o=s[r]||i;i[t(461)]=A[t(520)](A),i.toString=o.toString[t(520)](o),s[r]=i}}))();class R extends i{constructor(t={}){const i=C;super(),this[i(402)]=!0,this[i(410)]=i(541),this[i(500)](R[i(456)](t,t)),this[i(399)]()}static createRandomGenerator(){const t=C,i=2053,s=[];for(let e=0;e<i;e++)s[t(462)](Math.random());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(514)]];return n[e(514)]=(n[e(514)]+1)%i,r},getSeed:function(){return n[t(514)]/i},setSeed:function(s){const e=t;n[e(514)]=Math[e(377)](s*i)%i}};return n}static copyParameters(t={},i={}){const n=C,e=function(s){return i===t?s:s[C(525)]()};return t.sourceOffset=void 0!==i[n(485)]?e(i.sourceOffset):new s(0,100,0),t[n(501)]=void 0!==i[n(501)]?e(i[n(501)]):new s(0,0,0),t.timeScale=void 0!==i.timeScale?i[n(529)]:1,t.roughness=void 0!==i.roughness?i[n(534)]:.9,t[n(423)]=void 0!==i[n(423)]?i[n(423)]:.7,t[n(542)]=void 0!==i.up0?e(i[n(542)]):new s(0,0,1),t.up1=void 0!==i.up1?e(i.up1):new s(0,0,1),t[n(466)]=void 0!==i.radius0?i[n(466)]:1,t[n(442)]=void 0!==i.radius1?i[n(442)]:1,t[n(488)]=void 0!==i[n(488)]?i[n(488)]:.5,t.radius1Factor=void 0!==i[n(419)]?i[n(419)]:.2,t[n(471)]=void 0!==i[n(471)]?i[n(471)]:.2,t.isEternal=void 0!==i[n(452)]?i[n(452)]:void 0===i[n(450)]||void 0===i.deathTime,t.birthTime=i[n(450)],t[n(439)]=i.deathTime,t[n(524)]=void 0!==i[n(524)]?i.propagationTimeFactor:.1,t[n(389)]=void 0!==i[n(389)]?i.vanishingTimeFactor:.9,t.subrayPeriod=void 0!==i[n(505)]?i[n(505)]:4,t[n(496)]=void 0!==i[n(496)]?i.subrayDutyCycle:.6,t[n(429)]=void 0!==i[n(429)]?i[n(429)]:9,t.isStatic=void 0!==i[n(497)]&&i[n(497)],t[n(522)]=void 0!==i.ramification?i.ramification:5,t[n(412)]=void 0!==i.maxSubrayRecursion?i[n(412)]:3,t[n(387)]=void 0!==i[n(387)]?i[n(387)]:.6,t[n(457)]=void 0!==i[n(457)]&&i[n(457)],t[n(536)]=i[n(536)],t[n(449)]=i[n(449)],t.onDecideSubrayCreation=i[n(545)],t[n(394)]=i[n(394)],t}update(t){const i=C;this[i(497)]||(this[i(546)][i(452)]||this[i(546)][i(450)]<=t&&t<=this[i(546)].deathTime?(this[i(383)](t),t<this[i(480)][0][i(535)]?this.state=R[i(386)]:t>this[i(480)][0][i(463)]?this[i(476)]=R[i(491)]:this[i(476)]=R[i(444)],this[i(434)]=!0):(this[i(434)]=!1,t<this[i(546)].birthTime?this[i(476)]=R[i(475)]:this[i(476)]=R[i(435)]))}[M(500)](t){const i=M;this[i(546)]=t,this[i(429)]=void 0!==t[i(429)]?Math[i(377)](t.maxIterations):9,t[i(429)]=this[i(429)],this[i(497)]=void 0!==t[i(497)]&&t[i(497)],t[i(497)]=this[i(497)],this[i(522)]=void 0!==t[i(522)]?Math[i(377)](t[i(522)]):5,t.ramification=this.ramification,this[i(412)]=void 0!==t[i(412)]?Math.floor(t[i(412)]):3,t.maxSubrayRecursion=this[i(412)],this[i(387)]=void 0!==t.recursionProbability?t.recursionProbability:.6,t[i(387)]=this[i(387)],this[i(457)]=void 0!==t.generateUVs&&t[i(457)],t[i(457)]=this.generateUVs,void 0!==t[i(536)]?(this.randomGenerator=t[i(536)],this[i(486)]=t[i(536)],void 0!==t[i(449)]&&this[i(486)][i(472)](t[i(449)])):(this.randomGenerator=R[i(374)](),this.seedGenerator=Math),void 0!==t[i(545)]?this[i(545)]=t[i(545)]:(this[i(528)](),void 0!==t[i(394)]&&(this[i(394)]=t[i(394)])),this[i(476)]=R.RAY_INITIALIZED,this.maxSubrays=Math[i(445)](1+Math[i(515)](this[i(522)],Math[i(446)](0,this[i(412)]-1))),t[i(404)]=this[i(404)],this.maxRaySegments=2*(1<<this[i(429)]),this[i(480)]=[];for(let s=0;s<this.maxSubrays;s++)this[i(480)].push(this[i(464)]());this.raySegments=[];for(let s=0;s<this[i(530)];s++)this.raySegments[i(462)](this.createSegment());this[i(473)]=0,this[i(460)]=0,this[i(438)]=null,this[i(403)]=this[i(457)]?this[i(391)]:this[i(401)],this[i(511)]=0,this.currentSubray=null,this[i(441)]=0,this[i(421)]=!1,this[i(504)]=0,this[i(509)]=0,this[i(411)]=0,this[i(494)]=0,this[i(495)]=0,this[i(540)]=null,this.uvs=null,this[i(427)]=null,this[i(479)]=null,this.uvsAttribute=null,this.simplexX=m(this[i(486)][i(384)]),this.simplexY=m(this[i(486)][i(384)]),this[i(481)]=m(this[i(486)][i(384)]),this[i(415)]=new s,this[i(544)]=new s,this[i(393)]=new s,this[i(477)]=new s,this.middlePos=new s,this.middleLinPos=new s,this.newPos=new s,this[i(397)]=new s,this[i(432)]=new s}[M(399)](){const t=M,i=1<<this[t(429)],s=3*(i+1)*this.maxSubrays,o=18*i*this[t(404)];this.vertices=new Float32Array(3*s),this[t(427)]=new Uint32Array(o),this[t(457)]&&(this.uvs=new Float32Array(2*s)),this[t(380)](0),this[t(453)](new n(this[t(427)],1)),this[t(479)]=new e(this[t(540)],3),this[t(426)](t(430),this[t(479)]),this.generateUVs&&(this[t(503)]=new e(new Float32Array(this[t(502)]),2),this.setAttribute("uv",this[t(503)])),!this.isStatic&&(this.index[t(490)]=r,this.positionAttribute[t(490)]=r,this[t(457)]&&(this[t(503)].usage=r)),this.vertices=this[t(479)][t(543)],this[t(427)]=this[t(379)][t(543)],this[t(457)]&&(this[t(502)]=this.uvsAttribute.array)}[M(383)](t){const i=M;this[i(380)](t),this[i(395)].count=this[i(411)],this.index[i(406)]=!0,this[i(479)][i(406)]=!0,this[i(457)]&&(this[i(503)].needsUpdate=!0)}[M(380)](t){const i=M,s=this;this[i(509)]=0,this[i(411)]=0,this[i(494)]=0,this[i(495)]=0,this[i(416)](t,(function(n){const e=i,r=s.currentSubray;t<r[e(450)]||(this[e(546)].isEternal&&0==s[e(381)].recursion?(s[e(470)](n),s[e(545)](n,s)):t<r[e(535)]?s[e(460)]>=n[e(376)]*r.propagationTimeFactor&&(s[e(470)](n),s.onDecideSubrayCreation(n,s)):t<r.beginVanishingTime?(s[e(470)](n),s.onDecideSubrayCreation(n,s)):(s[e(460)]<=r[e(389)]+n[e(392)]*(1-r[e(389)])&&s[e(470)](n),s[e(545)](n,s)))}))}[M(510)](){return this[M(480)][this.numSubrays++]}[M(413)](t,i){const s=M;t[s(388)].copy(i.sourceOffset),t[s(506)][s(424)](i.destOffset),t[s(542)][s(424)](i[s(542)]),t[s(436)].copy(i[s(436)]),t[s(466)]=i[s(466)],t[s(442)]=i.radius1,t.birthTime=i[s(450)],t[s(439)]=i[s(439)],t[s(529)]=i.timeScale,t[s(534)]=i[s(534)],t[s(423)]=i[s(423)],t[s(524)]=i[s(524)],t[s(389)]=i[s(389)],t[s(429)]=this[s(429)],t[s(378)]=void 0!==i[s(449)]?i[s(449)]:0,t[s(526)]=0}[M(416)](t,i){const s=M;this.time=t,this[s(438)]=i,this[s(511)]=0,this[s(413)](this[s(510)](),this[s(546)]);for(let n=0;n<this.numSubrays;n++){const i=this.subrays[n];this[s(381)]=i,this[s(536)][s(472)](i[s(378)]),i[s(535)]=o[s(467)](i.birthTime,i.deathTime,i[s(524)]),i[s(463)]=o[s(467)](i[s(439)],i[s(450)],1-i[s(389)]);const e=this.randomGenerator.random;i[s(474)][s(468)](e(),e(),e()).multiplyScalar(1e3),i.linPos1[s(468)](e(),e(),e())[s(390)](1e3),this.timeFraction=(t-i[s(450)])/(i.deathTime-i.birthTime),this.currentSegmentIndex=0,this[s(421)]=!0;const r=this[s(469)]();r.iteration=0,r[s(388)][s(424)](i.pos0),r.pos1[s(424)](i[s(506)]),r[s(474)][s(424)](i[s(474)]),r[s(547)].copy(i[s(547)]),r[s(542)][s(424)](i.up0),r.up1[s(424)](i[s(436)]),r[s(466)]=i[s(466)],r[s(442)]=i[s(442)],r[s(376)]=0,r[s(392)]=1,r[s(482)]=1-i[s(423)],this[s(504)]=this[s(522)]*Math[s(515)](this[s(387)],i.recursion)/(1<<i[s(429)]),this[s(519)](r)}this[s(438)]=null,this.currentSubray=null}[M(519)](t){const i=M;if(t[i(493)]>=this[i(381)][i(429)])return void this[i(438)](t);this[i(415)][i(382)](t[i(506)],t[i(388)]);let s=this[i(415)].length();s<1e-6&&(this[i(415)][i(468)](0,0,.01),s=this[i(415)][i(532)]());const n=.5*(t[i(466)]+t[i(442)]),e=.5*(t[i(376)]+t[i(392)]),r=this.time*this.currentSubray[i(529)]*Math[i(515)](2,t[i(493)]);this[i(425)].lerpVectors(t[i(388)],t[i(506)],.5),this[i(454)][i(531)](t[i(474)],t[i(547)],.5);const o=this.middleLinPos;this.newPos.set(this[i(437)](o.x,o.y,o.z,r),this[i(375)](o.x,o.y,o.z,r),this.simplexZ(o.x,o.y,o.z,r)),this[i(537)].multiplyScalar(t[i(482)]*s),this[i(537)].add(this[i(425)]);const a=this[i(469)]();a[i(388)][i(424)](t[i(388)]),a[i(506)].copy(this[i(537)]),a[i(474)][i(424)](t[i(474)]),a[i(547)][i(424)](this[i(454)]),a[i(542)][i(424)](t[i(542)]),a[i(436)][i(424)](t.up1),a[i(466)]=t[i(466)],a.radius1=n,a[i(376)]=t.fraction0,a[i(392)]=e,a.positionVariationFactor=t.positionVariationFactor*this[i(381)][i(534)],a[i(493)]=t[i(493)]+1;const h=this[i(469)]();h[i(388)][i(424)](this.newPos),h[i(506)].copy(t.pos1),h.linPos0.copy(this[i(454)]),h.linPos1[i(424)](t[i(547)]),this.cross1[i(405)](t[i(542)],this[i(415)][i(398)]()),h[i(542)][i(405)](this[i(415)],this[i(432)])[i(398)](),h[i(436)][i(424)](t.up1),h[i(466)]=n,h[i(442)]=t[i(442)],h[i(376)]=e,h[i(392)]=t[i(392)],h[i(482)]=t[i(482)]*this.currentSubray.roughness,h[i(493)]=t[i(493)]+1,this[i(519)](a),this[i(519)](h)}createPrism(t){const i=M;this[i(544)][i(382)](t[i(506)],t[i(388)])[i(398)](),this[i(421)]&&(this.currentCreateTriangleVertices(t.pos0,t[i(542)],this[i(544)],t[i(466)],0),this[i(421)]=!1),this.currentCreateTriangleVertices(t.pos1,t.up0,this[i(544)],t[i(442)],t.fraction1),this[i(428)]()}[M(401)](t,i,s,n){const e=M;this[e(393)][e(405)](i,s)[e(390)](n*R[e(527)]),this[e(477)][e(424)](i).multiplyScalar(-n*R[e(484)]);const r=this[e(397)],o=this.vertices;r[e(424)](t)[e(459)](this[e(393)])[e(487)](this[e(477)]),o[this.currentCoordinate++]=r.x,o[this[e(494)]++]=r.y,o[this[e(494)]++]=r.z,r[e(424)](t).add(this.side)[e(487)](this[e(477)]),o[this.currentCoordinate++]=r.x,o[this.currentCoordinate++]=r.y,o[this.currentCoordinate++]=r.z,r[e(424)](i)[e(390)](n)[e(487)](t),o[this[e(494)]++]=r.x,o[this[e(494)]++]=r.y,o[this[e(494)]++]=r.z,this[e(509)]+=3}[M(391)](t,i,s,n,e){const r=M;this[r(393)].crossVectors(i,s)[r(390)](n*R[r(527)]),this[r(477)][r(424)](i)[r(390)](-n*R[r(484)]);const o=this[r(397)],a=this[r(540)],h=this[r(502)];o[r(424)](t)[r(459)](this[r(393)])[r(487)](this[r(477)]),a[this[r(494)]++]=o.x,a[this[r(494)]++]=o.y,a[this[r(494)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(495)]++]=0,o[r(424)](t)[r(487)](this.side)[r(487)](this[r(477)]),a[this[r(494)]++]=o.x,a[this[r(494)]++]=o.y,a[this[r(494)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(495)]++]=.5,o.copy(i).multiplyScalar(n).add(t),a[this[r(494)]++]=o.x,a[this[r(494)]++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(495)]++]=e,h[this.currentUVCoordinate++]=1,this[r(509)]+=3}createPrismFaces(t){const i=M,s=this[i(427)];t=this.currentVertex-6,s[this[i(411)]++]=t+1,s[this[i(411)]++]=t+2,s[this[i(411)]++]=t+5,s[this.currentIndex++]=t+1,s[this[i(411)]++]=t+5,s[this[i(411)]++]=t+4,s[this[i(411)]++]=t+0,s[this.currentIndex++]=t+1,s[this.currentIndex++]=t+4,s[this[i(411)]++]=t+0,s[this[i(411)]++]=t+4,s[this[i(411)]++]=t+3,s[this[i(411)]++]=t+2,s[this.currentIndex++]=t+0,s[this.currentIndex++]=t+3,s[this[i(411)]++]=t+2,s[this.currentIndex++]=t+3,s[this[i(411)]++]=t+5}[M(528)](){const t=M,i=this.randomGenerator[t(384)];this[t(545)]=function(s,n){const e=t,r=n[e(381)],a=n.rayParameters.subrayPeriod,h=n.rayParameters[e(496)],c=n[e(546)][e(452)]&&0==r[e(526)]?-i()*a:o[e(467)](r.birthTime,r.endPropagationTime,s[e(376)])-i()*a,u=n.time-c,l=Math[e(377)](u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(504)]),r[e(526)]<n.maxSubrayRecursion&&n[e(511)]<n[e(404)]&&i()<d){const t=n.addNewSubray(),o=n.randomGenerator[e(516)]();t[e(378)]=p,n[e(536)][e(472)](p),t[e(526)]=r[e(526)]+1,t[e(429)]=Math[e(446)](1,r[e(429)]-1),t[e(474)][e(468)](i(),i(),i())[e(390)](1e3),t[e(547)].set(i(),i(),i())[e(390)](1e3),t[e(542)][e(424)](r.up0),t[e(436)][e(424)](r[e(436)]),t[e(466)]=s[e(466)]*n[e(546)].radius0Factor,t[e(442)]=Math[e(517)](n[e(546)][e(471)],s.radius1*n[e(546)][e(419)]),t.birthTime=c+l*a,t[e(439)]=t[e(450)]+a*h,!n.rayParameters.isEternal&&0==r.recursion&&(t.birthTime=Math.max(t[e(450)],r[e(450)]),t[e(439)]=Math.min(t[e(439)],r[e(439)])),t.timeScale=2*r[e(529)],t.roughness=r[e(534)],t[e(423)]=r[e(423)],t[e(524)]=r[e(524)],t[e(389)]=r.vanishingTimeFactor,n.onSubrayCreation(s,r,t,n),n[e(536)][e(472)](o)}};const n=new s,e=new s,r=new s,a=new s;this.onSubrayCreation=function(i,s,n,e){e[t(408)](i,s,n,.5,.6,.2)},this.subrayConePosition=function(s,o,h,c,u,l){const p=t;h[p(388)][p(424)](s[p(388)]),n[p(382)](o[p(506)],o[p(388)]),e[p(424)](n)[p(398)](),n[p(390)](s[p(376)]+(1-s[p(376)])*(i()*c));const d=n[p(532)]();r.crossVectors(o[p(542)],e);const m=2*Math.PI*i();r[p(390)](Math[p(407)](m)),a[p(424)](o[p(542)]).multiplyScalar(Math.sin(m)),h.pos1[p(424)](r)[p(487)](a)[p(390)](d*u*(l+i()*(1-l)))[p(487)](n).add(o[p(388)])},this.subrayCylinderPosition=function(s,o,h,c,u,l){const p=t;h[p(388)][p(424)](s[p(388)]),n[p(382)](o[p(506)],o[p(388)]),e[p(424)](n)[p(398)](),n[p(390)](s.fraction0+(1-s.fraction0)*((2*i()-1)*c));const d=n[p(532)]();r.crossVectors(o.up0,e);const m=2*Math.PI*i();r.multiplyScalar(Math.cos(m)),a[p(424)](o[p(542)])[p(390)](Math[p(533)](m)),h[p(506)][p(424)](r)[p(487)](a)[p(390)](d*u*(l+i()*(1-l)))[p(487)](n)[p(487)](o[p(388)])}}[M(464)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[M(469)](){const t=M;return this.raySegments[this[t(441)]++]}[M(424)](t){const i=M;return super[i(424)](t),this[i(500)](R[i(456)]({},t[i(546)])),this}[M(525)](){const t=M;return new(this[t(385)])(R[t(456)]({},this[t(546)]))}}function C(t,i){const s=j();return(C=function(t,i){return s[t-=374]})(t,i)}function j(){const t=["createMesh","148OaAoDC","createTriangleVerticesWithoutUVs","isLightningStrike","currentCreateTriangleVertices","maxSubrays","crossVectors","needsUpdate","cos","subrayCylinderPosition","debu","type","currentIndex","maxSubrayRecursion","initSubray","error","forwards","fractalRay","gger","function *\\( *\\)","radius1Factor","1koOFYX","isInitialSegment","string","straightness","copy","middlePos","setAttribute","indices","createPrismFaces","maxIterations","position","action","cross1","while (true) {}","visible","RAY_EXTINGUISHED","up1","simplexX","currentSegmentCallback","deathTime","table","currentSegmentIndex","radius1","exception","RAY_STEADY","ceil","max","5974140CUEvNb","warn","noiseSeed","birthTime","9056395xTnPHC","isEternal","setIndex","middleLinPos","counter","copyParameters","generateUVs","info","sub","timeFraction","__proto__","push","beginVanishingTime","createSubray","63532AxlQUu","radius0","lerp","set","getNewSegment","createPrism","minRadius","setSeed","time","linPos0","RAY_UNBORN","state","down",'{}.constructor("return this")( )',"positionAttribute","subrays","simplexZ","positionVariationFactor","call","SIN30DEG","sourceOffset","seedGenerator","add","radius0Factor","test","usage","RAY_VANISHING","apply","iteration","currentCoordinate","currentUVCoordinate","subrayDutyCycle","isStatic","prototype","5940fzBKHU","init","destOffset","uvs","uvsAttribute","subrayProbability","subrayPeriod","pos1","trace","26952fXPiMX","currentVertex","addNewSubray","numSubrays","stateObject","console","currentSeed","pow","getSeed","min","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","fractalRayRecursive","bind","4438764HXYaAA","ramification","RAY_INITIALIZED","propagationTimeFactor","clone","recursion","COS30DEG","createDefaultSubrayCreationCallbacks","timeScale","maxRaySegments","lerpVectors","length","sin","roughness","endPropagationTime","randomGenerator","newPos","518497gHcLMc","11600GpocUp","vertices","LightningStrike","up0","array","forwardsFill","onDecideSubrayCreation","rayParameters","linPos1","createRandomGenerator","simplexY","fraction0","floor","seed","index","fillMesh","currentSubray","subVectors","updateMesh","random","constructor","RAY_PROPAGATING","recursionProbability","pos0","vanishingTimeFactor","multiplyScalar","createTriangleVerticesWithUVs","fraction1","side","onSubrayCreation","drawRange","return (function() ","vPos","normalize"];return(j=function(){return t})()}function V(t){function i(t){const s=C;if(typeof t===s(422))return function(t){}[s(385)](s(433))[s(492)](s(455));1!==(""+t/t)[s(532)]||t%20==0?function(){return!0}[s(385)](s(409)+s(417))[s(483)](s(431)):function(){return!1}[s(385)](s(409)+s(417))[s(492)](s(512)),i(++t)}try{if(t)return i;i(0)}catch(s){}}R[M(523)]=0,R[M(475)]=1,R.RAY_PROPAGATING=2,R.RAY_STEADY=3,R[M(491)]=4,R[M(435)]=5,R[M(527)]=Math[M(407)](30*Math.PI/180),R[M(484)]=Math[M(533)](30*Math.PI/180);const F=E;function D(){const t=["deadLightningsMeshes","stormParams","81BkJpOx","119aPlsmd","set","copy","action","111882RvgwdM","deathTime","lightningMinPeriod","2916QOLXUs","isEternal","size","chain","772610stoQRP","RAY_EXTINGUISHED","debu","onRayPosition","nextLightningTime","string","pop","random","lightningMaxDuration","maxHeight","destOffset","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","maxSlope","log","lerp","apply","counter","lightningsMeshes","rayParameters","trace","console","isLightningStorm","call","error","birthTime","multiplyScalar","sourceOffset","getNextLightningTime","onLightningDown","738018QxknTC","indexOf","return (function() ","geometry","lightningMaterial","state","lightningMaxPeriod","copyParameters","push","function *\\( *\\)","108570cFpalX","update","splice","bind","2243790qDpHWj","length","lightningMinDuration","lightningParameters","stateObject",'{}.constructor("return this")( )',"__proto__","toString","maxLightnings","noiseSeed","clone","inited","minHeight","input","gger","test","add","515352RYvnHQ","63VeDkbD","constructor","prototype"];return(D=function(){return t})()}!function(t,i){const s=E,n=D();for(;;)try{if(430179===-parseInt(s(178))/1+-parseInt(s(188))/2+parseInt(s(215))/3*(-parseInt(s(145))/4)+parseInt(s(192))/5+parseInt(s(142))/6*(parseInt(s(216))/7)+-parseInt(s(209))/8+parseInt(s(210))/9*(parseInt(s(149))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const z=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[E(164)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){z(this,(function(){const t=E,i=new RegExp(t(187)),s=new RegExp(t(160),"i"),n=O("init");i.test(n+t(148))&&s[t(207)](n+t(205))?O():n("0")}))()}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[E(164)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function E(t,i){const s=D();return(E=function(t,i){return s[t-=142]})(t,i)}H(void 0,(function(){const t=E;let i;try{i=Function(t(180)+t(197)+");")()}catch(e){i=window}const s=i[t(169)]=i[t(169)]||{},n=[t(162),"warn","info",t(172),"exception","table",t(168)];for(let r=0;r<n[t(193)];r++){const i=H[t(211)][t(212)][t(191)](H),e=n[r],o=s[e]||i;i[t(198)]=H[t(191)](H),i[t(199)]=o[t(199)][t(191)](o),s[e]=i}}))();class G extends a{constructor(t={}){const i=E;super(),this[i(170)]=!0,this[i(214)]=t,t.size=void 0!==t[i(147)]?t[i(147)]:1e3,t[i(204)]=void 0!==t[i(204)]?t[i(204)]:80,t[i(158)]=void 0!==t[i(158)]?t[i(158)]:100,t.maxSlope=void 0!==t[i(161)]?t[i(161)]:1.1,t[i(200)]=void 0!==t.maxLightnings?t.maxLightnings:3,t[i(144)]=void 0!==t[i(144)]?t[i(144)]:3,t.lightningMaxPeriod=void 0!==t[i(184)]?t[i(184)]:7,t[i(194)]=void 0!==t[i(194)]?t.lightningMinDuration:1,t[i(157)]=void 0!==t[i(157)]?t.lightningMaxDuration:2.5,this[i(195)]=R[i(185)](t[i(195)],t.lightningParameters),this[i(195)][i(146)]=!1,this.lightningMaterial=void 0!==t[i(182)]?t.lightningMaterial:new h({color:11599871}),void 0!==t.onRayPosition?this[i(152)]=t[i(152)]:this[i(152)]=function(s,n){const e=i;n[e(217)]((Math[e(156)]()-.5)*t.size,0,(Math[e(156)]()-.5)*t.size);const r=o[e(163)](t[e(204)],t[e(158)],Math[e(156)]());s.set(t[e(161)]*(2*Math.random()-1),1,t[e(161)]*(2*Math.random()-1))[e(174)](r)[e(208)](n)},this.onLightningDown=t[i(177)],this[i(203)]=!1,this[i(153)]=0,this.lightningsMeshes=[],this[i(213)]=[];for(let s=0;s<this[i(214)][i(200)];s++){const t=new R(R.copyParameters({},this[i(195)])),s=new c(t,this[i(182)]);this[i(213)][i(186)](s)}}[F(189)](t){const i=F;if(!this.inited&&(this[i(153)]=this[i(176)](t)*Math[i(156)](),this[i(203)]=!0),t>=this[i(153)]){const s=this[i(213)][i(155)]();if(s){const n=R.copyParameters(s[i(181)][i(167)],this[i(195)]);n[i(173)]=t,n[i(143)]=t+o.lerp(this[i(214)][i(194)],this.stormParams[i(157)],Math[i(156)]()),this[i(152)](n[i(175)],n[i(159)]),n[i(201)]=Math[i(156)](),this[i(208)](s),this[i(166)][i(186)](s)}this[i(153)]=this[i(176)](t)}let s=0,n=this[i(166)][i(193)];for(;s<n;){const e=this[i(166)][s],r=e.geometry,o=r[i(183)];r[i(189)](t),o===R.RAY_PROPAGATING&&r[i(183)]>o&&this[i(177)]&&this[i(177)](r),r.state===R[i(150)]?(this[i(166)][i(190)](this.lightningsMeshes[i(179)](e),1),this[i(213)][i(186)](e),this.remove(e),n--):s++}}[F(176)](t){const i=F;return t+o[i(163)](this[i(214)][i(144)],this.stormParams[i(184)],Math[i(156)]())/(this[i(214)][i(200)]+1)}copy(t,i){const s=F;return super[s(218)](t,i),this[s(214)].size=t[s(214)][s(147)],this[s(214)][s(204)]=t.stormParams[s(204)],this[s(214)][s(158)]=t.stormParams[s(158)],this[s(214)][s(161)]=t.stormParams[s(161)],this[s(214)][s(200)]=t.stormParams[s(200)],this.stormParams.lightningMinPeriod=t.stormParams.lightningMinPeriod,this[s(214)].lightningMaxPeriod=t[s(214)][s(184)],this.stormParams.lightningMinDuration=t[s(214)][s(194)],this[s(214)][s(157)]=t[s(214)][s(157)],this[s(195)]=R.copyParameters({},t[s(195)]),this[s(182)]=t[s(214)][s(182)],this[s(177)]=t[s(177)],this}[F(202)](){const t=F;return new(this[t(211)])(this[t(214)])[t(218)](this)}}function O(t){function i(t){const s=E;if(typeof t===s(154))return function(t){}[s(211)]("while (true) {}").apply(s(165));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+s(206))[s(171)](s(219)):function(){return!1}[s(211)](s(151)+"gger")[s(164)](s(196)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const L=k;function U(){const t=["lightStorm","subVectors","subrayDutyCycle","exception","add","timeScale","#b0ffff","maxHeight","object","sub","trace","straightness","roughness","gger","825662jNcMIn","Vector3","multiplyScalar","sourceOffset","function *\\( *\\)","log","update","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","primitive","radius0","copy","toString","subrayPeriod","rayParameters","3888236qQoGEO","minHeight","color","Color","bind","dot","addVectors","chain","debu","5TgpPuO","10PRJojj","size","stateObject","subrayConePosition","8957120lvWrsc","constructor","return (function() ","MeshBasicMaterial","radius1","8166843HjnFHC","length","table","console","3034704kCeIxQ","counter","test","stormParams","80853nlaTTm","74ZtqApu","apply","error","4015032hhlGjx","input"];return(U=function(){return t})()}!function(t,i){const s=k,n=U();for(;;)try{if(700049===parseInt(s(118))/1+parseInt(s(160))/2*(parseInt(s(159))/3)+parseInt(s(132))/4*(parseInt(s(141))/5)+parseInt(s(155))/6+-parseInt(s(163))/7+-parseInt(s(146))/8+parseInt(s(151))/9*(-parseInt(s(142))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const Y=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[k(161)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function k(t,i){const s=U();return(k=function(t,i){return s[t-=114]})(t,i)}!function(){Y(this,(function(){const t=k,i=new RegExp(t(122)),s=new RegExp(t(125),"i"),n=$("init");i.test(n+t(139))&&s[t(157)](n+t(164))?$():n("0")}))()}();const N=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[k(161)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();N(void 0,(function(){const t=k,i=function(){const t=k;let i;try{i=Function(t(148)+'{}.constructor("return this")( ));')()}catch(s){i=window}return i}(),s=i[t(154)]=i.console||{},n=[t(123),"warn","info",t(162),t(168),t(153),t(114)];for(let e=0;e<n[t(152)];e++){const i=N.constructor.prototype[t(136)](N),r=n[e],o=s[r]||i;i.__proto__=N[t(136)](N),i[t(129)]=o.toString[t(136)](o),s[r]=i}}))();const Z=[L(173)],X=f({__name:L(165),props:{color:{default:L(171)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=L,n=t,e=new(u[i(135)])(n[i(134)]),r=new(u[i(149)])({color:e}),o=new(u[i(119)])(0,-1,0);let a=0;const h=new s,c=new(u[i(119)]),p={roughness:n[i(116)],straightness:n[i(115)],radius0:n[i(127)],radius1:n[i(150)],timeScale:n[i(170)],subrayPeriod:n[i(130)],subrayDutyCycle:n[i(167)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(145)](t,s,n,.6,.6,.5),a=e[r(131)][r(121)].y,h[r(166)](n.pos1,e[r(131)][r(121)]);const u=o[r(137)](h);c[r(128)](o)[r(120)](u),h[r(174)](c);const l=u/a>.5?a/u:1;c.multiplyScalar(l),h[r(169)](c),n.pos1[r(138)](h,e[r(131)][r(121)])}},d=new G({size:n[i(143)],minHeight:n[i(133)],maxHeight:n.maxHeight,maxSlope:.6,maxLightnings:n.maxLightnings,lightningParameters:p,lightningMaterial:r});g((()=>{const t=i,s=d[t(158)];s.size=n[t(143)],s[t(133)]=n[t(133)],s.maxHeight=n[t(172)],r[t(134)].set(n[t(134)]),p.roughness=n.roughness,p.straightness=n[t(115)],p[t(127)]=n[t(127)],p[t(150)]=n[t(150)],p[t(170)]=n[t(170)]}));const{onLoop:m}=l();return m((({elapsed:t})=>{d[i(124)](t)})),(t,s)=>{const n=i;return y(),b(n(126),{object:v(d),renderOrder:9999},null,8,Z)}}});function $(t){function i(t){const s=k;if("string"==typeof t)return function(t){}[s(147)]("while (true) {}")[s(161)](s(156));1!==(""+t/t)[s(152)]||t%20==0?function(){return!0}[s(147)](s(140)+"gger").call("action"):function(){return!1}[s(147)]("debu"+s(117))[s(161)](s(144)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const Q=W;!function(t,i){const s=W,n=J();for(;;)try{if(992126===parseInt(s(426))/1+-parseInt(s(405))/2+-parseInt(s(397))/3+-parseInt(s(429))/4*(-parseInt(s(392))/5)+-parseInt(s(421))/6*(-parseInt(s(399))/7)+parseInt(s(407))/8+-parseInt(s(416))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const B=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[W(398)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){B(this,(function(){const t=W,i=new RegExp(t(412)),s=new RegExp(t(396),"i"),n=tt(t(400));i[t(384)](n+t(406))&&s[t(384)](n+t(395))?tt():n("0")}))()}();const q=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[W(398)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function W(t,i){const s=J();return(W=function(t,i){return s[t-=382]})(t,i)}function J(){const t=["16874478rELGnq","lightningStorm","gger","debu","constructor","6QSVtfb","radius1","#6f6f6f","log","value","1453358dPONBb","trace","toString","192pbZVow","straightness","console","table","warn","test","exception","string","radius0","#92399e","action",'{}.constructor("return this")( )',"minHeight","113635DvIxEf","时间缩放","return (function() ","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1727112yaiPRF","apply","9624685kgnWhe","init","#ffbde7","while (true) {}","bind","prototype","1827946BFPYyH","chain","3500288ffprYK","call","stateObject","__proto__","端部半径","function *\\( *\\)","timeScale","error","length"];return(J=function(){return t})()}q(void 0,(function(){const t=W;let i;try{i=Function(t(394)+t(390)+");")()}catch(e){i=window}const s=i[t(431)]=i[t(431)]||{},n=[t(424),t(383),"info",t(414),t(385),t(382),t(427)];for(let r=0;r<n[t(415)];r++){const i=q[t(420)][t(404)][t(403)](q),e=n[r],o=s[e]||i;i[t(410)]=q.bind(q),i[t(428)]=o.toString[t(403)](o),s[e]=i}}))();const K=f({__name:Q(417),setup(i){const s=Q,n=x({cellSize:60,cellThickness:1,cellColor:s(423),sectionColor:s(388),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=p({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(401),roughness:{label:"粗糙度",value:.85,min:0,max:1,step:.01},straightness:{label:"直度度",value:.65,min:0,max:1,step:.01},radius0:{label:s(411),value:1,min:.1,max:10,step:.01},radius1:{label:"未部半径",value:.5,min:.1,max:10,step:.01},timeScale:{label:s(393),value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const m=s;return y(),b(_,null,[S(t,{showAxesHelper:!1,showGridHelper:!1},{ability:P((()=>[S(X,{minHeight:v(e).value,maxHeight:v(r)[m(425)],color:v(o).value,roughness:v(a).value,straightness:v(h)[m(425)],radius0:v(c).value,radius1:v(u)[m(425)],timeScale:v(l)[m(425)]},null,8,[m(391),"maxHeight","color","roughness",m(430),m(387),m(422),m(413)]),S(v(I),w({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),S(v(d))],64)}}});function tt(t){function i(t){const s=W;if(typeof t===s(386))return function(t){}.constructor(s(402)).apply("counter");1!==(""+t/t)[s(415)]||t%20==0?function(){return!0}[s(420)](s(419)+s(418))[s(408)](s(389)):function(){return!1}[s(420)](s(419)+s(418))[s(398)](s(409)),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{K as default};
