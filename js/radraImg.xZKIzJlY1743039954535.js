import{a as t,m as n,o as e}from"./@tresjs.05J-Im0t1743039954535.js";import{_ as o,ab as r,b as s}from"./three.XuMWWlrU1743039954535.js";import{h as i,_ as c}from"./three-tile.vSgb-DdV1743039954535.js";import{_ as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.2Ryl0oVL1743039954535.js";import{d as u,a3 as p,w as l,o as f,H as m,N as h,u as g,r as d,b as y,f as w,g as I,j as b,m as _,al as j,F as v,e as x,aj as S,ak as T}from"./@vue.C4dqouNn1743039954535.js";import{P as k}from"./tweakpane.ivGeiIdz1743039954535.js";import{_ as A}from"./informationDiv.diAGtzhC1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";import"./@fesjs.q_HvOfeM1743039954535.js";import"./vue-router.F5lDLjOj1743039954535.js";import"./lodash-es.p1wj6C0b1743039954535.js";import"./@qlin.o0hjOMCg1743039954535.js";import"./pinia.MiZyWHUj1743039954535.js";import"./@floating-ui.HzHndBae1743039954535.js";import"./@juggle.4EyLec-41743039954535.js";const P=R;!function(t,n){const e=R,o=G();for(;;)try{if(307489===-parseInt(e(129))/1+parseInt(e(138))/2+-parseInt(e(120))/3+-parseInt(e(134))/4+-parseInt(e(105))/5+-parseInt(e(132))/6*(parseInt(e(156))/7)+parseInt(e(152))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(150)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=R,n=new RegExp(t(122)),e=new RegExp(t(137),"i"),o=F(t(106));n[t(109)](o+t(153))&&e.test(o+t(136))?F():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(155)+t(139)+");")()}catch(e){n=window}return n}(),e=n[t(146)]=n[t(146)]||{},o=[t(130),t(149),t(125),"error",t(133),"table","trace"];for(let r=0;r<o.length;r++){const n=M[t(126)][t(142)][t(141)](M),s=o[r],i=e[s]||n;n.__proto__=M.bind(M),n[t(118)]=i[t(118)][t(141)](i),e[s]=n}}))();const z=[P(113)],B=[P(104),"material","rotateX","position-y"];function R(t,n){const e=G();return R=function(t,n){return e[t-=101]},R(t,n)}const E=u({__name:P(101),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=P;let s,i;const c=n,u=new(o[e(124)])({displacementMap:new(o[e(112)]),transparent:!0,side:r,opacity:c[e(154)],displacementScale:.5,displacementBias:0});u[e(107)]=t=>{const n=e;t[n(116)]=n(102)+t.vertexShader,t[n(116)]=t[n(116)].replace(n(140),n(128))};const d=c[e(157)][e(114)](new(o[e(117)])(105,34,0));d[e(121)](c[e(157)][e(143)]);const y=a[e(119)](c[e(157)],{x:67,y:11},{x:140,y:57},c[e(111)]),w=[];for(let t=0;t<9;t++)w.push(e(123)+"/images/simpleGIS/QPFRef_202405311"+t+e(135));let I=0;const b=([s,i]=p((()=>t(w))),s=await s,i(),s);u.map=b[I],l((()=>[c.color,c.opacity]),(([t,n])=>{u[e(154)]=n}));let _=null,j=!1;return j?(clearInterval(_),_=null,j=!1):(_=setInterval((()=>{const t=R;I=I<w[t(151)]-1?I+1:0,u[t(157)]=b[I],u[t(115)]=!0,console.log(I)}),1e3),j=!0),(t,n)=>{const o=e;return f(),m(o(144),{position:[...g(d)]},[h("TresMesh",{scale:[g(y).x,g(y).y,t.height],material:g(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(111)]/5},n[0]||(n[0]=[h(o(148),{args:[1,1,529,420]},null,-1)]),8,B)],8,z)}}});function G(){const t=["warn","apply","length","14359216GyrBsE","chain","opacity","return (function() ","7OkwYwh","map","radraImgShow","uniform sampler2D map;\n\t","debu","scale","2918845lajIcf","init","onBeforeCompile","while (true) {}","test","string","height","Texture","position","geo2pos","needsUpdate","vertexShader","Vector3","toString","scaleImg","780414vVXMBd","applyMatrix4","function *\\( *\\)","https://opensource.cdn.icegl.cn","MeshPhongMaterial","info","constructor","counter","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","23042TsuRTd","log","stateObject","2213868lkjOmG","exception","1949152bGWfwl","40.png","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","471604SEUjbA",'{}.constructor("return this")( )',"#include <displacementmap_vertex>","bind","prototype","matrix","TresGroup","gger","console","action","TresPlaneGeometry"];return(G=function(){return t})()}function F(t){function n(t){const e=R;if(typeof t===e(110))return function(t){}[e(126)](e(108)).apply(e(127));1!==(""+t/t)[e(151)]||t%20==0?function(){return!0}[e(126)](e(103)+e(145)).call(e(147)):function(){return!1}.constructor("debu"+e(145))[e(150)](e(131)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=W;!function(t,n){const e=W,o=$();for(;;)try{if(410668===-parseInt(e(383))/1*(parseInt(e(386))/2)+parseInt(e(372))/3+-parseInt(e(375))/4+parseInt(e(343))/5*(-parseInt(e(337))/6)+parseInt(e(353))/7*(parseInt(e(335))/8)+-parseInt(e(350))/9*(-parseInt(e(374))/10)+parseInt(e(347))/11*(-parseInt(e(376))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=$();return W=function(t,n){return e[t-=333]},W(t,n)}!function(){O(this,(function(){const t=W,n=new RegExp(t(367)),e=new RegExp(t(373),"i"),o=U("init");n[t(396)](o+"chain")&&e[t(396)](o+t(352))?U():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(392)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=W;let n;try{n=Function(t(334)+t(398)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(395),t(333),"info",t(385),t(336),t(345),t(369)];for(let s=0;s<o[t(378)];s++){const n=Z.constructor[t(341)][t(344)](Z),r=o[s],i=e[r]||n;n[t(359)]=Z[t(344)](Z),n[t(365)]=i[t(365)][t(344)](i),e[r]=n}}))();const C=[L(384)];function $(){const t=["384rKCPZs","action","length","constructor","rotateX","controlsEvents","debu","606TVzduy","object","error","2462cmAuBu","counter","mapBoxShow3","mapbox.satellite","Vector3","map","apply","stateObject","MapBoxSource","log","test","position",'{}.constructor("return this")( )',"warn","return (function() ","48sALDmb","exception","6gTevsJ","localToWorld","gger","addBinding","prototype","height","1111685oJRZDv","bind","table","showLocation","79013Kbysef","plugin","domElement","36fgRWlQ","mapbox.terrain-rgb","input","761383rdvJWP","opacity","image","TresDirectionalLight","GDSource","copy","__proto__","TileMap","透明度","value","terrain-rgb","target","toString","string","function *\\( *\\)","geo2pos","trace","call","while (true) {}","2059890oxQKIu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","959190wWudOh","456292cXVbhP"];return($=function(){return t})()}const N="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",Q=u({__name:L(388),setup(t){const e=L,r=d({height:200,opacity:1}),u=new k({title:"参数"});u.addBinding(r,e(342),{label:"高度",min:10,max:300,step:1}),u[e(340)](r,e(354),{label:e(361),min:0,max:1,step:.1}),new(i[e(394)])({token:N,dataType:e(355),style:e(389)});const p=new(c[e(348)][e(394)])({token:N,dataType:e(363),style:e(351),maxLevel:15}),x=new(c[e(360)])({imgSource:[new(c[e(348)][e(357)])({style:"6"}),new(c[e(348)][e(357)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});x[e(380)](-Math.PI/2);const S=new(o[e(390)])(105,34,0),T=new s(110,0,1e4),A=x[e(338)](x[e(368)](S)),P=x[e(338)](x.geo2pos(T)),D=y(),{camera:M,controls:z,scene:B,renderer:R}=n();return M[e(362)]&&M[e(362)].position[e(358)](P),l((()=>z[e(362)]),(t=>{const n=e;t&&(t[n(364)][n(358)](A),a[n(381)](t,M[n(362)],B[n(362)]))})),l((()=>D[e(362)]),(t=>{const n=e;t&&t[n(364)][n(397)].copy(A)})),a[e(346)](M.value,R[e(362)][e(349)],x),(t,n)=>{const o=e;return f(),m(v,null,[h(o(356),{ref_key:"tdLight",ref:D,position:[0,2e3,1e3],intensity:1},null,512),h("primitive",{object:g(x)},null,8,C),(f(),w(j,null,{default:I((()=>[b(E,_({map:g(x)},r),null,16,[o(391)])])),_:1}))],64)}}});function U(t){function n(t){const e=W;if(typeof t===e(366))return function(t){}[e(379)](e(371))[e(392)](e(387));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(382)+e(339))[e(370)](e(377)):function(){return!1}.constructor(e(382)+"gger")[e(392)](e(393)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=H;!function(t,n){const e=H,o=K();for(;;)try{if(942276===-parseInt(e(334))/1*(-parseInt(e(341))/2)+-parseInt(e(329))/3+-parseInt(e(340))/4+-parseInt(e(335))/5+-parseInt(e(317))/6*(-parseInt(e(336))/7)+parseInt(e(331))/8+-parseInt(e(326))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(337)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=K();return H=function(t,n){return e[t-=305]},H(t,n)}!function(){X(this,(function(){const t=H,n=new RegExp(t(312)),e=new RegExp(t(314),"i"),o=Y("init");n[t(311)](o+"chain")&&e[t(311)](o+"input")?Y():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(){const t=["#dbf0ff","exception","warn","2042640dkkCny","call","TresCanvas","3277893yCPchr","error","11217120AjwSGc","__proto__","TresPerspectiveCamera","790477aaUpuK","6022130PsOnAk","14FdyNqn","apply","debu","gger","1143276epRoSj","4gamSSR","counter","TresAmbientLight","toString","action","log","return (function() ","string","console","test","function *\\( *\\)","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radraImg","length","2307054GtaygT","stateObject","table","while (true) {}","bind","highp"];return(K=function(){return t})()}J(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(308)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(310)]=n[t(310)]||{},o=[t(307),t(325),"info",t(330),t(324),t(319),"trace"];for(let r=0;r<o[t(316)];r++){const n=J.constructor.prototype[t(321)](J),s=o[r],i=e[s]||n;n[t(332)]=J[t(321)](J),n[t(305)]=i[t(305)][t(321)](i),e[s]=n}}))();const q=u({__name:V(315),setup(t){const n=V,o=d({clearColor:n(323),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(322)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,s)=>{const i=n,c=x(i(328));return f(),m(v,null,[b(c,_(o,{"window-size":""}),{default:I((()=>[s[0]||(s[0]=h(i(333),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(g(e),S(T(r)),null,16),s[1]||(s[1]=h(i(343),{intensity:1},null,-1)),b(Q)])),_:1},16),b(A)],64)}}});function Y(t){function n(t){const e=H;if(typeof t===e(309))return function(t){}[e(313)](e(320)).apply(e(342));1!==(""+t/t)[e(316)]||t%20==0?function(){return!0}[e(313)](e(338)+"gger")[e(327)](e(306)):function(){return!1}[e(313)](e(338)+e(339)).apply(e(318)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
