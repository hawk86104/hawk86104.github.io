import{a8 as t,T as e,c as i,bS as n,V as o,C as r,a as s,bq as a}from"./three.B0XaFSnH1744863032604.js";const c=p;function h(){const t=["__proto__","    highp float isAlive = when_gt( alive, 0.0 );","activeParticleCount","ensureTypedArg","       float oc = 1.0 - c;","OBJECT","unpackColor","POSITIVE_INFINITY","spread","apply","Argument is not instanceof SPE.Emitter:","ensureInstanceOf","   c.r = r / PACKED_COLOR_DIVISOR;","ShaderMaterial","uniform float scale;","       axis = normalize(axis);","Vector3","drag","updateMin","angle","ceil","ensureArrayTypedArg","#define PACKED_COLOR_SIZE 256.0","_value","   c.g = g / PACKED_COLOR_DIVISOR;","varyings","    vec3 vel = getVelocity( age );","    highp float alive = getAlive();","    return a * b;","bufferUpdateRanges","center","interpolateArray","#define PACKED_COLOR_DIVISOR 255.0","isStatic","trace","float when_le(float x, float y) {","updateMax","particlesPerSecond","_triggerSingleEmitter","#ifdef SHOULD_ROTATE_PARTICLES","_updateDefines","BufferGeometry","Texture","setFromArray","      translated = rotationCenter - pos;","cos","REVISION","fog_fragment","getPackedRotationAxis","    highp float age = getAge();","debu","randomise","_static","position","1397574wIsqRn","utils","randomVector3","    vec3 force = vec3( 0.0 );","shrink","      vec3 center = rotationCenter;","_radius","setNumber","    return min(a + b, 1.0);","        vSpriteSheet.y = 1.0 / framesY;","_assignRotationValue","attributeKeys","shaders","setVec2Components","SHOULD_CALCULATE_SPRITE","2246028ztHIbv","flagUpdate","randomColorAsHex","uniform float runTime;","float when_gt(float x, float y) {","randomFloat","Points","function","           positionInTime,","       float c = cos(angle);","rotateTexture","_ensureTypedArray","updateFlags","sin","    vec4 rotatedTexture = texture2D( tex, vUv );","getComponentValueAtIndex","axis","duration","particles, can support only","_setAttributeOffset","    force *= drag;","        vSpriteSheet.w = rowNorm;","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","ShaderChunk","#endif","   return params.y;","sqrt","   }","    #ifdef SHOULD_ROTATE_TEXTURE","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","BOOLEAN","distribution","gger","    ","117vzrVpo","_createBufferAttribute","_updateUniforms","action","ensureValueOverLifetimeCompliance","LINE","randomVector3OnSphere","group","float getAlive() {","call","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","501384LxPAHf","Group","        float rowNorm = row / framesY;","           return pos;","age","maxAge","float or(float a, float b) {","_incrementParticleCount","mesh","_attributesNeedRefresh","  return 1.0 - when_lt(x, y);","_distribution","        vSpriteSheet.x = 1.0 / framesX;","type","uuid","    return value;","defineProperty","componentSize","    #ifdef SHOULD_WIGGLE_PARTICLES","angleSpread","acceleration","_decrementParticleCount","particleCount","max","min","NUMBER","input","attributeOffset","    }","        float wiggleCos = isAlive * cos( wiggleAmount );","Emitter already belongs to another group. Will not add to requested group.","setVec4Components","length","      if( rotation.y == 0.0 ) {","  return 1.0 - when_gt(x, y);","StaticDrawUsage","attribute vec4 color;","SPE.Group: maxParticleCount exceeded. Requesting","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","    #endif","        float framesX = vSpriteSheet.x;","defines","paramFetchingFunctions","abs","    vec3 accel = getAcceleration( age );","       vec3 c = vec3(1.0);","    vec3 pos = vec3( position );","    #ifdef SHOULD_ROTATE_PARTICLES","    #else","material","hasOwnProperty","        float perspective = scale / length( mvPosition.xyz );","setDrawRange","keys","vec3 unpackColor( in float hex ) {","float when_ge(float x, float y) {","static","      vec3 axis = unpackRotationAxis( rotation.x );","`emitter` argument must be instance of SPE.Emitter. Was provided with:","enable","distributions","    gl_PointSize = pointSizePerspective;","TypedArrayHelper","chain","2282660NFdaaH","    #ifdef HAS_PERSPECTIVE","    vColor = vec4( c, o );","opacity","floatOverLifetime","join","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","bufferUpdateCount","      float angle = 0.0;","uniform vec4 textureAnimation;","push","remove","    highp float positionInTime = (age / maxAge);","        float columnNorm = vSpriteSheet.z;","float getWiggle() {","_activateParticles","_onRemove","        pos.y += wiggleCos;","valueOverLifetimeLength","Vector2","_createNewWhenPoolEmpty","bufferUpdateKeys","attribute vec4 acceleration;","isArray","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","radius","wiggle","amd","_checkParticleAges","SPHERE","activationEnd","typeSizeMap","_pool","count","emitterIDs","    float pointSizePerspective = pointSize * perspective;","resetFlags","       float x = gl_PointCoord.x - 0.5;","attributeCount","fog","direction","setMat4","    force += accel * age;","        float perspective = 1.0;","textureFrames","_spreadClamp","   return c;","setColor","needsUpdate","_radiusScale","warn","radiusScale","    return max(sign(x - y), 0.0);","init","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","getFromPool","DynamicDrawUsage","maxParticleCount","hasPerspective","Emitter already exists in this group. Will not add again.","pop","depthWrite","info","Invalid argument types, or argument types do not match:","    highp float maxAge = getMaxAge();","boolean","logdepthbuf_pars_vertex","    gl_Position = projectionMatrix * mvPosition;","splice",'{}.constructor("return this")( )',"emitters","itemSize","429368RvtFhZ","fragment","usage","       float y = 1.0 - gl_PointCoord.y - 0.5;","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","#ifdef SHOULD_CALCULATE_SPRITE","_spread","dynamicBuffer","Emitter does not belong to a group, cannot remove.","reset","ensureArrayInstanceOf","   float b = mod( hex, PACKED_COLOR_SIZE );","exception","set","setVec3Components","return (function() ","setRGB","unshift","_assignAngleValue","function *\\( *\\)","object","    #ifdef COLORIZE","    return 1.0 - abs( sign( x - y ) );","multiplyScalar","tick","resetDynamic","        float wiggleSin = isAlive * sin( wiggleAmount );","forceUpdateAll","   return modelViewMatrix * vec4( position, 1.0 );","toString","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","forceFetchingFunctions","      mat4 rotationMatrix;","params","generateUUID","test","    vec3 outgoingLight = vColor.xyz;","unpackRotationAxis","blending","   vec3 c = vec3( 0.0 );","BOX","DISC","_applyAttributesToGeometry","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","spreadClamp","lerp","prototype","_poolCreationSettings","indexOf","bind","releaseIntoPool","_axisSpread","randomVector3OnLine","    float shouldApplyValue = 0.0;","console","Vector4","round","frameCount","setVec3","_randomise","common","       );","textureFrameCount","#ifdef SHOULD_ROTATE_TEXTURE","offset","rotationCenter","normalize","uniform sampler2D tex;","attribute vec4 opacity;","array","randomVector3OnDisc","spe","_createGetterSetters","Emitter does not exist in this group. Will not remove.","addEmitter","    float fIndex = 0.0;","MathUtils","updateMap","elements","resetUpdateRange","string","           unpackColor( color.w )","vertex","updateCounts","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","triggerPoolEmitter","10dyWinx","while (true) {}","constructor","        float totalFrames = textureAnimation.z;","TypedArray is already of size:","Color","uniforms","getHex","size","SHOULD_WIGGLE_PARTICLES","attribute vec3 rotationCenter;","dispose","grow","scale","2791705ScTOqt","    pos += force;","clamp","TypedArrayConstructor","textureLoop","   c *= vec3( 2.0 );","_rotationCenter","types","   c.b = b / PACKED_COLOR_DIVISOR;","attributeEnd","texture","undefined","SHOULD_ROTATE_PARTICLES","typedArray","random","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","roundToNearestMultiple","_assignForceValue","number","paramsArray","subarray","   c -= vec3( 1.0 );","add","    varying float vAngle;","_attributesNeedDynamicReset","counter","       float c = cos( -vAngle );","   return params.z;","348312BqIZym","float and(float a, float b) {","attributes","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","float getAge() {","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","alphaTest","onParticleSpawn","_resetBufferRanges","geometry","_assignValue","_updateAttributeUpdateRange","                   0.0,                                0.0,                                0.0,                                1.0);","setAttribute","        float column = floor(mod( frameNumber, framesX ));","randomDirectionVector3OnDisc","attribute vec4 size;","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","_assignParamsValue","_resetParticle","NEGATIVE_INFINITY","SHOULD_ROTATE_TEXTURE","    #ifdef ALPHATEST","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","deltaTime","velocity","_distributionClamp","fog_pars_vertex","_assignAbsLifetimeValue","clone","ShaderAttribute","           unpackColor( color.x ),","SPE.Group pool ran out.","indexOffset","       float s = sin( -vAngle );","alive","setUpdateRange","        vSpriteSheet.z = columnNorm;","           unpackColor( color.y ),","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","float getMaxAge() {","_setBufferUpdateRanges","disable","       float s = sin(angle);","_assignColorValue","transparent","fixedTimeStep","arrayType","distributionClamp","        float wiggleAmount = positionInTime * getWiggle();","Emitter","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","runTime","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","activeMultiplier","setSize","    #ifdef SHOULD_CALCULATE_SPRITE","value","table","copy","rotation","shaderChunks","updateRange","void main() {","floor","      rotationMatrix = getRotationMatrix( axis, angle );","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","color","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","_assignPositionValue","activationIndex","        float row = floor( (frameNumber - column) / framesX );","_calculatePPSValue","branchAvoidanceFunctions","bufferAttribute","vec3 unpackRotationAxis( in float hex ) {","        float rowNorm = vSpriteSheet.w;","depthTest","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","float when_lt(float x, float y) {","colorize","getPool","attribute vec4 params;","      }","        pos.z += wiggleSin;","    varying vec4 vSpriteSheet;","attribute vec4 angle;","getValueAtIndex","logdepthbuf_pars_fragment","logdepthbuf_fragment","stateObject","error"];return(h=function(){return t})()}!function(){const t=p,e=h();for(;;)try{if(418106===parseInt(t(320))/1+parseInt(t(598))/2+-parseInt(t(451))/3+parseInt(t(248))/4+parseInt(t(409))/5*(-parseInt(t(613))/6)+parseInt(t(423))/7+-parseInt(t(183))/8*(parseInt(t(647))/9))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){l(this,(function(){const t=p,e=new RegExp(t(339)),i=new RegExp(t(221),"i"),n=d(t(301));e[t(355)](n+t(247))&&i[t(355)](n+t(209))?d():n("0")}))()}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();u(void 0,(function(){const t=p,e=function(){const t=p;let e;try{e=Function(t(335)+t(317)+");")()}catch(i){e=window}return e}(),i=e[t(377)]=e[t(377)]||{},n=[t(222),t(298),"info",t(543),t(332),t(510),t(578)];for(let o=0;o<n[t(215)];o++){const e=u[t(411)][t(369)][t(372)](u),r=n[o],s=i[r]||e;e[t(544)]=u.bind(u),e[t(349)]=s[t(349)].bind(s),i[r]=e}}))();const f={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function p(t,e){const i=h();return p=function(t,e){return i[t-=176]},p(t,e)}function d(t){function e(t){const i=p;if(typeof t===i(403))return function(t){}[i(411)](i(410))[i(553)](i(448));1!==(""+t/t)[i(215)]||t%20==0?function(){return!0}.constructor(i(594)+i(645))[i(181)](i(650)):function(){return!1}[i(411)]("debu"+i(645))[i(553)](i(542)),e(++t)}try{if(t)return e;e(0)}catch(i){}}typeof define===c(620)&&define[c(275)]?define(c(394),f):"undefined"!=typeof exports&&typeof module!==c(434)&&(module.exports=f),f.TypedArrayHelper=function(t,e,i,n){const o=c;this[o(200)]=i||1,this[o(417)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[o(392)]=new t(e*this[o(200)]),this.indexOffset=n||0},f[c(246)][c(411)]=f[c(246)],f[c(246)].prototype.setSize=function(t,e){const i=c,n=this.array[i(215)];return!e&&(t*=this.componentSize),t<n?this[i(602)](t):t>n?this.grow(t):void console[i(310)](i(413),t+".","Will not resize.")},f[c(246)][c(369)][c(602)]=function(t){const e=c;return this.array=this[e(392)][e(443)](0,t),this[e(417)]=t,this},f[c(246)][c(369)][c(421)]=function(t){const e=c,i=this[e(392)],n=new(this[e(426)])(t);return n[e(333)](i),this.array=n,this.size=t,this},f[c(246)][c(369)][c(316)]=function(t,e){const i=c;t*=this[i(200)],e*=this[i(200)];const n=[],o=this[i(392)],r=o[i(215)];for(let s=0;s<r;++s)(s<t||s>=e)&&n.push(o[s]);return this.setFromArray(0,n),this},f.TypedArrayHelper[c(369)][c(587)]=function(t,e){const i=c,n=t+e[i(215)];return n>this[i(392)][i(215)]?this[i(421)](n):n<this[i(392)][i(215)]&&this[i(602)](n),this[i(392)][i(333)](e,this[i(485)]+t),this},f[c(246)][c(369)].setVec2=function(t,e){return this[c(611)](t,e.x,e.y)},f[c(246)][c(369)].setVec2Components=function(t,e,i){const n=c,o=this.array,r=this.indexOffset+t*this[n(200)];return o[r]=e,o[r+1]=i,this},f.TypedArrayHelper[c(369)][c(381)]=function(t,e){return this[c(334)](t,e.x,e.y,e.z)},f[c(246)][c(369)][c(334)]=function(t,e,i,n){const o=c,r=this[o(392)],s=this[o(485)]+t*this[o(200)];return r[s]=e,r[s+1]=i,r[s+2]=n,this},f.TypedArrayHelper[c(369)].setVec4=function(t,e){return this[c(214)](t,e.x,e.y,e.z,e.w)},f[c(246)].prototype[c(214)]=function(t,e,i,n,o){const r=this[c(392)],s=this.indexOffset+t*this.componentSize;return r[s]=e,r[s+1]=i,r[s+2]=n,r[s+3]=o,this},f[c(246)].prototype.setMat3=function(t,e){const i=c;return this[i(587)](this[i(485)]+t*this.componentSize,e[i(401)])},f.TypedArrayHelper.prototype[c(289)]=function(t,e){return this[c(587)](this.indexOffset+t*this.componentSize,e.elements)},f[c(246)][c(369)][c(295)]=function(t,e){return this[c(334)](t,e.r,e.g,e.b)},f[c(246)][c(369)][c(605)]=function(t,e){const i=c;return this[i(392)][this[i(485)]+t*this[i(200)]]=e,this},f[c(246)][c(369)][c(539)]=function(t){const e=c;return this[e(392)][this[e(485)]+t]},f[c(246)][c(369)][c(628)]=function(t){const e=c;return this.array.subarray(this[e(485)]+t*this[e(200)])},f[c(482)]=function(t,e,i){const n=c,o=f[n(482)][n(279)];this[n(196)]=typeof t===n(403)&&o[n(234)](t)?t:"f",this[n(200)]=o[this[n(196)]],this[n(499)]=i||Float32Array,this.typedArray=null,this[n(526)]=null,this[n(327)]=!!e,this[n(562)]=0,this[n(580)]=0},f[c(482)][c(411)]=f[c(482)],f[c(482)][c(279)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},f[c(482)][c(369)][c(488)]=function(t,e){const i=c;this.updateMin=Math[i(207)](t*this[i(200)],this[i(562)]*this.componentSize),this[i(580)]=Math[i(206)](e*this[i(200)],this[i(580)]*this.componentSize)},f[c(482)][c(369)][c(614)]=function(){const t=c,e=this[t(526)];!e[t(514)]&&(e.updateRange={});const i=e[t(514)];i[t(387)]=this[t(562)],i.count=Math[t(207)](this[t(580)]-this[t(562)]+this[t(200)],this[t(436)][t(392)][t(215)]),e[t(296)]=!0},f[c(482)].prototype[c(402)]=function(){const t=c;this.updateMin=0,this[t(580)]=0},f[c(482)].prototype.resetDynamic=function(){const i=c;this.bufferAttribute[i(322)]=this[i(327)]?t:e[i(218)]},f.ShaderAttribute[c(369)][c(316)]=function(t,e){const i=c;this[i(436)][i(316)](t,e),this[i(347)]()},f[c(482)][c(369)].forceUpdateAll=function(){const t=c;this[t(526)][t(392)]=this[t(436)].array,this[t(526)][t(514)][t(387)]=0,this[t(526)][t(514)][t(281)]=-1,this.bufferAttribute[t(322)]=e[t(218)],this.bufferAttribute[t(296)]=!0},f.ShaderAttribute[c(369)][c(624)]=function(t){const e=c;null!==this[e(436)]&&this[e(436)][e(417)]===t*this[e(200)]||(null!==this.typedArray&&this[e(436)].size!==t?this.typedArray[e(507)](t):null===this[e(436)]&&(this[e(436)]=new(f[e(246)])(this[e(499)],t,this[e(200)])))},f[c(482)].prototype[c(648)]=function(t){const n=c;if(this._ensureTypedArray(t),null!==this[n(526)])return this[n(526)][n(392)]=this[n(436)][n(392)],parseFloat(e[n(590)])>=81&&(this[n(526)][n(281)]=this.bufferAttribute[n(392)].length/this.bufferAttribute[n(319)]),void(this[n(526)][n(296)]=!0);this[n(526)]=new i(this.typedArray[n(392)],this[n(200)]),this[n(526)].usage=this[n(327)]?e[n(304)]:e[n(218)]},f[c(482)].prototype.getLength=function(){const t=c;return null===this[t(436)]?0:this.typedArray[t(392)][t(215)]},f[c(513)]={defines:[c(566),c(576)].join("\n"),uniforms:["uniform float deltaTime;",c(616),c(390),c(257),c(558)][c(253)]("\n"),attributes:[c(270),"attribute vec3 velocity;","attribute vec4 rotation;",c(419),c(534),c(468),c(538),c(219),c(391)].join("\n"),varyings:["varying vec4 vColor;",c(386),c(446),"#endif",c(325),c(537),c(637)][c(253)]("\n"),branchAvoidanceFunctions:[c(617),c(300),"}",c(531),c(491),"}","float when_eq( float x, float y ) {",c(342),"}",c(239),c(193),"}",c(579),c(217),"}",c(452),c(572),"}",c(189),c(606),"}"][c(253)]("\n"),unpackColor:[c(238),c(359),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",c(331),c(556),c(568),c(431),"   return c;","}"][c(253)]("\n"),unpackRotationAxis:[c(527),"   vec3 c = vec3( 0.0 );",c(363),c(503),"   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;",c(431),c(428),c(444),c(294),"}"][c(253)]("\n"),floatOverLifetime:[c(254),"    highp float value = 0.0;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );",c(398),c(376),c(182),"",c(365),"       fIndex = float( i );",c(350),c(272),c(211),"","    return value;","}"].join("\n"),colorOverLifetime:[c(407),"    vec3 value = vec3( 0.0 );",c(635),c(324),c(366),c(198),"}"][c(253)]("\n"),paramFetchingFunctions:[c(180),"   return params.x;","}",c(456),c(638),"}",c(492),c(450),"}",c(262),"   return params.w;","}"][c(253)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",c(348),"}","vec3 getVelocity( in float age ) {","   return velocity * age;","}","vec3 getAcceleration( in float age ) {","   return acceleration.xyz * age;","}"][c(253)]("\n"),rotationFunctions:[c(583),c(505),c(559),c(495),c(622),c(548),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,",c(464),c(640),"",c(364),c(216),c(186),c(535),"",c(241),c(603),"      vec3 translated;",c(352),c(256),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );",c(588),c(517),c(475),c(640),c(637)][c(253)]("\n"),rotateTexture:[c(455),"",c(641),c(285),c(323),c(449),c(486),"       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );",c(223),"",c(508),c(224),"        float framesY = vSpriteSheet.y;",c(261),c(528),c(454),c(530),"    #endif","",c(627)][c(253)]("\n")},f[c(610)]={vertex:[f[c(513)][c(225)],f[c(513)][c(415)],f[c(513)].attributes,f[c(513)][c(569)],e[c(636)][c(383)],e[c(636)][c(314)],e[c(636)][c(479)],f.shaderChunks[c(525)],f.shaderChunks[c(550)],f[c(513)][c(357)],f[c(513)][c(252)],f[c(513)].colorOverLifetime,f[c(513)][c(226)],f[c(513)][c(351)],f[c(513)].rotationFunctions,c(515),c(593),c(571),c(312),c(260),c(545),"    #ifdef SHOULD_WIGGLE_PARTICLES",c(501),c(346),c(212),"    #endif",c(570),c(228),c(601),c(230),c(642),"    force += vel;",c(633),c(290),c(424),c(201),"        pos.x += wiggleSin;",c(265),c(536),c(223),c(231),"        pos = getRotation( pos, positionInTime );","    #endif",c(520),c(469),c(249),c(235),c(232),c(291),"    #endif",c(283),c(341),"       vec3 c = isAlive * getColorOverLifetime(",c(621),c(483),c(490),"           unpackColor( color.z ),",c(404),c(384),c(232),c(229),c(223),"    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );",c(250),c(641),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",c(223),c(508),"        float framesX = textureAnimation.x;","        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;",c(412),c(438),c(466),c(523),"        float columnNorm = column / framesX;",c(185),c(195),c(607),c(489),c(634),"    #endif",c(245),c(315),e[c(636)].logdepthbuf_vertex,e[c(636)].fog_vertex,"}"][c(253)]("\n"),fragment:[f[c(513)][c(415)],e[c(636)][c(383)],n.fog_pars_fragment,e[c(636)][c(540)],f.shaderChunks[c(569)],f[c(513)][c(525)],"void main() {",c(356),c(646),c(474),"       if ( vColor.w < float(ALPHATEST) ) discard;","    #endif",f[c(513)][c(623)],e[c(636)][c(541)],c(457),c(518),e[c(636)][c(591)],"}"][c(253)]("\n")},f[c(599)]={types:{BOOLEAN:c(313),STRING:c(403),NUMBER:c(441),OBJECT:c(340)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=c;if(Array[n(271)](t)){for(let o=t[n(215)]-1;o>=0;--o)if(typeof t[o]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=c;if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[n(555)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=c;e=e||3,i=i||3,!1===Array.isArray(t._value)&&(t._value=[t[n(567)]]),!1===Array[n(271)](t[n(326)])&&(t[n(326)]=[t._spread]);const o=this[n(425)](t._value[n(215)],e,i),r=this[n(425)](t._spread[n(215)],e,i),s=Math.max(o,r);t._value[n(215)]!==s&&(t[n(567)]=this[n(575)](t[n(567)],s)),t[n(326)][n(215)]!==s&&(t._spread=this.interpolateArray(t[n(326)],s))},interpolateArray(t,e){const i=c,n=t[i(215)],o=[typeof t[0][i(481)]===i(620)?t[0].clone():t[0]],r=(n-1)/(e-1);for(let s=1;s<e-1;++s){const e=s*r,n=Math[i(516)](e),a=Math[i(564)](e),c=e-n;o[s]=this.lerpTypeAgnostic(t[n],t[a],c)}return o[i(258)]("function"==typeof t[n-1][i(481)]?t[n-1].clone():t[n-1]),o},clamp(t,e,i){const n=c;return Math.max(e,Math[n(207)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(t,i,n){const a=c;let h,l=this[a(430)];return typeof t===l.NUMBER&&typeof i===l[a(208)]?t+(i-t)*n:t instanceof e[a(267)]&&i instanceof s?(h=t[a(481)](),h.x=this[a(368)](t.x,i.x,n),h.y=this[a(368)](t.y,i.y,n),h):t instanceof o&&i instanceof o?(h=t[a(481)](),h.x=this[a(368)](t.x,i.x,n),h.y=this.lerp(t.y,i.y,n),h.z=this.lerp(t.z,i.z,n),h):t instanceof e[a(378)]&&i instanceof e[a(378)]?(h=t.clone(),h.x=this[a(368)](t.x,i.x,n),h.y=this[a(368)](t.y,i.y,n),h.z=this.lerp(t.z,i.z,n),h.w=this[a(368)](t.w,i.w,n),h):t instanceof e[a(414)]&&i instanceof r?(h=t.clone(),h.r=this[a(368)](t.r,i.r,n),h.g=this.lerp(t.g,i.g,n),h.b=this[a(368)](t.b,i.b,n),h):void console[a(298)](a(311),t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=c;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(227)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,o){const r=c;let s=i.x+(Math[r(437)]()*n.x-.5*n.x),a=i.y+(Math[r(437)]()*n.y-.5*n.y),h=i.z+(Math[r(437)]()*n.z-.5*n.z);o&&(s=.5*-o.x+this[r(439)](s,o.x),a=.5*-o.y+this.roundToNearestMultiple(a,o.y),h=.5*-o.z+this.roundToNearestMultiple(h,o.z)),t[r(436)][r(334)](e,s,a,h)},randomColor(t,e,i,n){const o=c;let r=i.r+Math.random()*n.x,s=i.g+Math[o(437)]()*n.y,a=i.b+Math[o(437)]()*n.z;r=this.clamp(r,0,1),s=this[o(425)](s,0,1),a=this[o(425)](a,0,1),t[o(436)][o(334)](e,r,s,a)},randomColorAsHex:function(){const t=c,i=new(e[t(414)]);return function(e,n,o,r){const s=t,a=o[s(215)],c=[];for(let t=0;t<a;++t){const e=r[t];i.copy(o[t]),i.r+=Math[s(437)]()*e.x-.5*e.x,i.g+=Math[s(437)]()*e.y-.5*e.y,i.b+=Math.random()*e.z-.5*e.z,i.r=this.clamp(i.r,0,1),i.g=this[s(425)](i.g,0,1),i.b=this[s(425)](i.b,0,1),c[s(258)](i.getHex())}e[s(436)][s(214)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const o=c,r=i.clone();r[o(368)](n,Math[o(437)]()),t[o(436)][o(334)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,o,r,s,a){const h=c;let l=2*Math[h(437)]()-1,u=6.2832*Math[h(437)](),f=Math[h(639)](1-l*l),p=this[h(618)](n,o),d=0,m=0,g=0;s&&(p=Math[h(379)](p/s)*s),d=f*Math[h(589)](u)*p,m=f*Math.sin(u)*p,g=l*p,d*=r.x,m*=r.y,g*=r.z,d+=i.x,m+=i.y,g+=i.z,t.typedArray.setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[c(626)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,r,s){const a=c;let h=6.2832*Math.random(),l=Math[a(227)](this[a(618)](n,o)),u=0,f=0,p=0;s&&(l=Math[a(379)](l/s)*s),u=Math[a(589)](h)*l,f=Math[a(626)](h)*l,u*=r.x,f*=r.y,u+=i.x,f+=i.y,p+=i.z,t.typedArray[a(334)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const t=c,i=new(e[t(560)]);return function(e,n,o,r,s,a,c,h){const l=t;i[l(511)](a),i.x-=o,i.y-=r,i.z-=s,i[l(389)]()[l(343)](-this[l(618)](c,h)),e[l(436)].setVec3Components(n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new o;return function(e,i,n,o,r,s,a,c){const h=p;t[h(511)](s),t.x-=n,t.y-=o,t.z-=r,t[h(389)]()[h(343)](-this[h(618)](a,c)),e[h(436)][h(334)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const t=c,i=new o,n=new o,s=new r,a=new(e[t(560)])(1,1,1);return function(e,o){const r=t;return i[r(511)](e)[r(389)](),n.copy(o).normalize(),i.x+=.5*-o.x+Math.random()*o.x,i.y+=.5*-o.y+Math.random()*o.y,i.z+=.5*-o.z+Math[r(437)]()*o.z,i.normalize()[r(445)](a)[r(343)](.5),s[r(336)](i.x,i.y,i.z),s[r(416)]()}}()},f[c(184)]=function(t){const i=c,n=f[i(599)],o=n[i(430)];(t=n[i(547)](t,o[i(549)],{}))[i(433)]=n[i(547)](t[i(433)],o.OBJECT,{}),this.uuid=e[i(399)][i(354)](),this[i(498)]=n.ensureTypedArg(t[i(498)],o[i(208)],.016),this.texture=n.ensureInstanceOf(t[i(433)][i(509)],e[i(586)],null),this[i(292)]=n[i(555)](t.texture.frames,s,new(e[i(267)])(1,1)),this.textureFrameCount=n[i(547)](t.texture[i(380)],o.NUMBER,this.textureFrames.x*this[i(292)].y),this.textureLoop=n[i(547)](t[i(433)].loop,o[i(208)],1),this[i(292)][i(206)](new s(1,1)),this[i(306)]=n.ensureTypedArg(t[i(306)],o[i(643)],!0),this.colorize=n[i(547)](t.colorize,o[i(643)],!0),this[i(305)]=n[i(547)](t[i(305)],o.NUMBER,null),this[i(358)]=n[i(547)](t[i(358)],o[i(208)],a),this[i(497)]=n[i(547)](t.transparent,o.BOOLEAN,!0),this[i(458)]=parseFloat(n[i(547)](t.alphaTest,o[i(208)],0)),this[i(309)]=n[i(547)](t.depthWrite,o[i(643)],!1),this.depthTest=n[i(547)](t[i(529)],o[i(643)],!0),this[i(287)]=n[i(547)](t[i(287)],o[i(643)],!0),this.scale=n[i(547)](t.scale,o[i(208)],300),this[i(318)]=[],this[i(282)]=[],this[i(280)]=[],this[i(370)]=null,this._createNewWhenPoolEmpty=0,this[i(192)]=!1,this[i(447)]=!1,this[i(205)]=0,this.uniforms={tex:{type:"t",value:this[i(433)]},textureAnimation:{type:"v4",value:new(e[i(378)])(this.textureFrames.x,this.textureFrames.y,this[i(385)],Math.max(Math[i(227)](this[i(427)]),1))},fogColor:{type:"c",value:this[i(287)]?new(e[i(414)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(422)]}},this.defines={HAS_PERSPECTIVE:this[i(306)],COLORIZE:this[i(532)],VALUE_OVER_LIFETIME_LENGTH:f[i(266)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this.textureFrames.y>1},this[i(453)]={position:new f.ShaderAttribute("v3",!0),acceleration:new(f[i(482)])("v4",!0),velocity:new(f[i(482)])("v3",!0),rotation:new(f[i(482)])("v4",!0),rotationCenter:new(f[i(482)])("v3",!0),params:new(f[i(482)])("v4",!0),size:new(f[i(482)])("v4",!0),angle:new(f[i(482)])("v4",!0),color:new(f[i(482)])("v4",!0),opacity:new(f[i(482)])("v4",!0)},this[i(609)]=Object[i(237)](this[i(453)]),this[i(286)]=this[i(609)][i(215)],this.material=new(e[i(557)])({uniforms:this[i(415)],vertexShader:f.shaders[i(405)],fragmentShader:f.shaders[i(321)],blending:this.blending,transparent:this[i(497)],alphaTest:this[i(458)],depthWrite:this.depthWrite,depthTest:this[i(529)],defines:this.defines,fog:this[i(287)]}),this[i(461)]=new(e[i(585)]),this[i(191)]=new(e[i(619)])(this[i(461)],this[i(233)]),null===this[i(305)]&&console.warn(i(302))},f.Group.constructor=f[c(184)],f.Group.prototype[c(584)]=function(){const t=c;let e,i=this[t(318)],n=i[t(215)]-1,o=this.defines;for(;n>=0;--n)e=i[n],!o[t(612)]&&(o[t(473)]=o[t(473)]||!!Math[t(206)](Math.max[t(553)](null,e.angle.value),Math[t(206)][t(553)](null,e[t(563)][t(552)]))),o[t(435)]=o.SHOULD_ROTATE_PARTICLES||!!Math.max(e[t(512)][t(563)],e[t(512)][t(202)]),o[t(418)]=o[t(418)]||!!Math.max(e[t(274)][t(509)],e[t(274)].spread);this.material.needsUpdate=!0},f[c(184)][c(369)][c(362)]=function(){const t=c;let e,i,n=this[t(453)],o=this[t(461)],r=o[t(453)];for(const s in n)n[t(234)](s)&&(e=n[s],i=r[s],i?i[t(392)]=e[t(436)][t(392)]:o[t(465)](s,e[t(526)]),e[t(526)][t(296)]=!0);this.geometry[t(236)](0,this[t(205)])},f[c(184)][c(369)][c(397)]=function(t){const e=c;if(t instanceof f[e(502)]==!1)return void console.error(e(242),t);if(this.emitterIDs[e(371)](t[e(197)])>-1)return void console[e(543)](e(307));if(null!==t[e(179)])return void console[e(543)](e(213));const i=this[e(453)],n=this[e(205)],o=n+t.particleCount;this[e(205)]=o,null!==this.maxParticleCount&&this[e(205)]>this.maxParticleCount&&console.warn(e(220),this[e(205)],e(631),this[e(305)]),t[e(524)](t[e(188)][e(567)]+t.maxAge._spread),t[e(493)](this.attributeKeys),t[e(632)](n),t[e(179)]=this,t[e(453)]=this[e(453)];for(const r in i)i[e(234)](r)&&i[r][e(648)](null!==this[e(305)]?this.maxParticleCount:this.particleCount);for(let r=n;r<o;++r)t[e(521)](r),t[e(440)](r,e(477)),t[e(440)](r,"acceleration"),t[e(480)](r,e(251)),t[e(480)](r,e(417)),t[e(338)](r),t[e(608)](r),t[e(470)](r),t[e(496)](r);return this[e(362)](),this[e(318)][e(258)](t),this[e(282)][e(258)](t.uuid),this[e(584)](t),this.material[e(296)]=!0,this[e(461)][e(296)]=!0,this[e(192)]=!0,this},f[c(184)].prototype.removeEmitter=function(t){const e=c,i=this.emitterIDs.indexOf(t[e(197)]);if(t instanceof f.Emitter==!1)return void console.error(e(242),t);if(-1===i)return void console[e(543)](e(396));const n=t[e(210)],o=n+t[e(205)],r=this.attributes[e(353)][e(436)];for(let s=n;s<o;++s)r[e(392)][4*s]=0,r[e(392)][4*s+1]=0;this[e(318)].splice(i,1),this[e(282)].splice(i,1);for(const s in this[e(453)])this[e(453)][e(234)](s)&&this.attributes[s][e(316)](n,o);this[e(205)]-=t[e(205)],t[e(264)](),this[e(192)]=!0},f[c(184)][c(369)].getFromPool=function(){const t=c,e=this[t(280)],i=this._createNewWhenPoolEmpty;if(e[t(215)])return e[t(308)]();if(i){const e=new f.Emitter(this[t(370)]);return this[t(397)](e),e}return null},f[c(184)].prototype[c(373)]=function(t){const e=c;if(t instanceof f[e(502)]!=!1)return t.reset(),this[e(280)][e(337)](t),this;console[e(543)](e(554),t)},f[c(184)][c(369)][c(533)]=function(){return this[c(280)]},f.Group[c(369)].addPool=function(t,e,i){const n=c;let o;this[n(370)]=e,this[n(268)]=!!i;for(let r=0;r<t;++r)o=Array[n(271)](e)?new(f[n(502)])(e[r]):new f.Emitter(e),this[n(397)](o),this[n(373)](o);return this},f[c(184)].prototype[c(582)]=function(t){const e=c,i=this[e(303)](),n=this;if(null!==i)return t instanceof o&&(i[e(597)][e(509)][e(511)](t),i[e(597)][e(509)]=i.position[e(509)]),i[e(243)](),setTimeout((()=>{const t=e;i[t(494)](),n[t(373)](i)}),1e3*Math[e(206)](i.duration,i[e(188)][e(509)]+i[e(188)][e(552)])),this;console.log(e(484))},f[c(184)][c(369)][c(408)]=function(t,e){const i=c;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(582)](e);else this[i(582)](e);return this},f[c(184)][c(369)]._updateUniforms=function(t){const e=c;this[e(415)][e(504)][e(509)]+=t,this[e(415)][e(476)][e(509)]=t},f[c(184)][c(369)][c(460)]=function(){const t=c;let e=this[t(609)],i=this[t(286)]-1,n=this[t(453)];for(;i>=0;--i)n[e[i]].resetUpdateRange()},f[c(184)][c(369)]._updateBuffers=function(t){const e=c;let i,n,o,r=this[e(609)],s=this[e(286)]-1,a=this[e(453)],h=t[e(573)];for(;s>=0;--s)i=r[s],n=h[i],o=a[i],o.setUpdateRange(n.min,n[e(206)]),o[e(614)]()},f[c(184)][c(369)].tick=function(t){const e=c;var i=this[e(318)],n=i[e(215)],o=t||this[e(498)],r=this[e(609)],s=this[e(453)];if(this[e(649)](o),this[e(460)](),0!==n||!1!==this[e(192)]||!1!==this[e(447)]){for(var a,h=0;h<n;++h)(a=i[h]).tick(o),this._updateBuffers(a);if(!0===this[e(447)]){for(h=this[e(286)]-1;h>=0;--h)s[r[h]][e(345)]();this[e(447)]=!1}if(!0===this[e(192)]){for(h=this[e(286)]-1;h>=0;--h)s[r[h]].forceUpdateAll();this[e(192)]=!1,this[e(447)]=!0}}},f[c(184)].prototype.dispose=function(){const t=c;return this[t(461)].dispose(),this.material[t(420)](),this},f.Emitter=function(t){const i=c,n=f[i(599)],r=n.types,s=f[i(266)];(t=n.ensureTypedArg(t,r[i(549)],{})).position=n.ensureTypedArg(t[i(597)],r[i(549)],{}),t[i(477)]=n[i(547)](t[i(477)],r[i(549)],{}),t.acceleration=n.ensureTypedArg(t[i(203)],r.OBJECT,{}),t[i(273)]=n[i(547)](t[i(273)],r[i(549)],{}),t[i(561)]=n[i(547)](t[i(561)],r.OBJECT,{}),t[i(512)]=n[i(547)](t[i(512)],r[i(549)],{}),t[i(519)]=n[i(547)](t[i(519)],r[i(549)],{}),t.opacity=n[i(547)](t[i(251)],r[i(549)],{}),t[i(417)]=n[i(547)](t[i(417)],r[i(549)],{}),t[i(563)]=n.ensureTypedArg(t.angle,r[i(549)],{}),t[i(274)]=n[i(547)](t[i(274)],r.OBJECT,{}),t[i(188)]=n.ensureTypedArg(t[i(188)],r[i(549)],{}),t[i(459)]&&console[i(298)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this[i(197)]=e[i(399)][i(354)](),this[i(196)]=n[i(547)](t[i(196)],r[i(208)],f[i(244)].BOX),this.position={_value:n[i(555)](t[i(597)][i(509)],o,new o),_spread:n[i(555)](t[i(597)][i(552)],e[i(560)],new(e[i(560)])),_spreadClamp:n[i(555)](t.position[i(367)],e[i(560)],new(e[i(560)])),_distribution:n[i(547)](t[i(597)][i(644)],r.NUMBER,this[i(196)]),_randomise:n[i(547)](t[i(597)][i(595)],r[i(643)],!1),_radius:n[i(547)](t.position.radius,r.NUMBER,10),_radiusScale:n[i(555)](t.position[i(299)],e[i(560)],new(e[i(560)])(1,1,1)),_distributionClamp:n[i(547)](t[i(597)][i(500)],r[i(208)],0)},this[i(477)]={_value:n.ensureInstanceOf(t[i(477)][i(509)],e[i(560)],new(e[i(560)])),_spread:n[i(555)](t[i(477)][i(552)],o,new o),_distribution:n[i(547)](t[i(477)].distribution,r.NUMBER,this[i(196)]),_randomise:n[i(547)](t.position[i(595)],r[i(643)],!1)},this[i(203)]={_value:n.ensureInstanceOf(t[i(203)].value,e[i(560)],new(e[i(560)])),_spread:n[i(555)](t[i(203)][i(552)],e[i(560)],new o),_distribution:n[i(547)](t.acceleration[i(644)],r.NUMBER,this[i(196)]),_randomise:n[i(547)](t[i(597)][i(595)],r.BOOLEAN,!1)},this.drag={_value:n[i(547)](t[i(561)][i(509)],r[i(208)],0),_spread:n[i(547)](t.drag.spread,r[i(208)],0),_randomise:n.ensureTypedArg(t[i(597)][i(595)],r.BOOLEAN,!1)},this[i(274)]={_value:n[i(547)](t[i(274)].value,r[i(208)],0),_spread:n[i(547)](t[i(274)][i(552)],r.NUMBER,0)},this.rotation={_axis:n[i(555)](t[i(512)][i(629)],e[i(560)],new o(0,1,0)),_axisSpread:n[i(555)](t.rotation.axisSpread,e[i(560)],new(e[i(560)])),_angle:n[i(547)](t.rotation[i(563)],r[i(208)],0),_angleSpread:n[i(547)](t.rotation[i(202)],r[i(208)],0),_static:n[i(547)](t[i(512)][i(240)],r.BOOLEAN,!1),_center:n[i(555)](t[i(512)][i(574)],o,this[i(597)][i(567)][i(481)]()),_randomise:n[i(547)](t[i(597)][i(595)],r[i(643)],!1)},this.maxAge={_value:n[i(547)](t[i(188)].value,r.NUMBER,2),_spread:n[i(547)](t.maxAge[i(552)],r[i(208)],0)},this[i(519)]={_value:n[i(330)](t[i(519)][i(509)],e[i(414)],new(e[i(414)])),_spread:n.ensureArrayInstanceOf(t[i(519)].spread,e[i(560)],new(e[i(560)])),_randomise:n.ensureTypedArg(t[i(597)][i(595)],r[i(643)],!1)},this[i(251)]={_value:n[i(565)](t[i(251)].value,r[i(208)],1),_spread:n[i(565)](t[i(251)][i(552)],r[i(208)],0),_randomise:n[i(547)](t[i(597)][i(595)],r.BOOLEAN,!1)},this[i(417)]={_value:n[i(565)](t[i(417)][i(509)],r.NUMBER,1),_spread:n[i(565)](t.size[i(552)],r[i(208)],0),_randomise:n[i(547)](t[i(597)][i(595)],r.BOOLEAN,!1)},this[i(563)]={_value:n.ensureArrayTypedArg(t[i(563)][i(509)],r[i(208)],0),_spread:n.ensureArrayTypedArg(t.angle[i(552)],r[i(208)],0),_randomise:n[i(547)](t.position[i(595)],r[i(643)],!1)},this[i(205)]=n[i(547)](t[i(205)],r[i(208)],100),this.duration=n.ensureTypedArg(t[i(630)],r[i(208)],null),this[i(577)]=n[i(547)](t.isStatic,r[i(643)],!1),this.activeMultiplier=n[i(547)](t.activeMultiplier,r[i(208)],1),this.direction=n[i(547)](t[i(288)],r.NUMBER,1),this[i(487)]=n[i(547)](t[i(487)],r[i(643)],!0),this[i(581)]=0,this[i(522)]=0,this[i(210)]=0,this[i(432)]=0,this[i(187)]=0,this.activeParticleCount=0,this[i(179)]=null,this[i(453)]=null,this[i(442)]=null,this[i(284)]={position:n[i(547)](t[i(597)][i(595)],r.BOOLEAN,!1)||n.ensureTypedArg(t[i(273)].randomise,r[i(643)],!1),velocity:n[i(547)](t[i(477)][i(595)],r[i(643)],!1),acceleration:n.ensureTypedArg(t.acceleration[i(595)],r[i(643)],!1)||n[i(547)](t[i(561)][i(595)],r[i(643)],!1),rotation:n[i(547)](t.rotation[i(595)],r[i(643)],!1),rotationCenter:n[i(547)](t[i(512)].randomise,r[i(643)],!1),size:n[i(547)](t[i(417)][i(595)],r[i(643)],!1),color:n[i(547)](t[i(519)][i(595)],r[i(643)],!1),opacity:n[i(547)](t[i(251)].randomise,r[i(643)],!1),angle:n[i(547)](t[i(563)][i(595)],r[i(643)],!1)},this[i(625)]={},this.updateCounts={},this[i(400)]={maxAge:i(353),position:i(597),velocity:i(477),acceleration:i(203),drag:i(203),wiggle:i(353),rotation:i(512),size:"size",color:i(519),opacity:i(251),angle:i(563)};for(const e in this[i(400)])this.updateMap[i(234)](e)&&(this.updateCounts[this[i(400)][e]]=0,this.updateFlags[this[i(400)][e]]=!1,this[i(395)](this[e],e));this[i(573)]={},this[i(609)]=null,this[i(286)]=0,n.ensureValueOverLifetimeCompliance(this.color,s,s),n[i(176)](this[i(251)],s,s),n[i(176)](this[i(417)],s,s),n[i(176)](this[i(563)],s,s)},f.Emitter[c(411)]=f[c(502)],f[c(502)][c(369)]._createGetterSetters=function(t,e){const i=c,n=this;for(const o in t)if(t[i(234)](o)){const r=o.replace("_","");Object[i(199)](t,r,{get:function(t){return function(){return this[t]}}(o),set:function(t){return function(i){const o=p,r=n[o(400)][e],s=this[t],a=f[o(266)];t===o(429)?(n[o(625)][o(388)]=!0,n[o(406)][o(388)]=0):t===o(382)?n[o(284)][r]=i:(n[o(625)][r]=!0,n[o(406)][r]=0),n.group[o(584)](),this[t]=i,Array[o(271)](s)&&f[o(599)][o(176)](n[e],a,a)}}(o)})}},f[c(502)][c(369)][c(493)]=function(t){const e=c;this[e(609)]=t,this[e(286)]=t[e(215)];for(let i=this[e(286)]-1;i>=0;--i)this[e(573)][t[i]]={min:Number[e(551)],max:Number.NEGATIVE_INFINITY}},f[c(502)][c(369)]._calculatePPSValue=function(t){const e=c,i=this[e(205)];this[e(630)]?this[e(581)]=i/(t<this[e(630)]?t:this[e(630)]):this[e(581)]=i/t},f.Emitter[c(369)][c(632)]=function(t){const e=c;this[e(210)]=t,this[e(522)]=t,this[e(278)]=t+this[e(205)]},f[c(502)].prototype[c(462)]=function(t,e){const i=c;switch(t){case i(597):this[i(521)](e);break;case i(477):case i(203):this[i(440)](e,t);break;case i(417):case"opacity":this[i(480)](e,t);break;case i(563):this[i(338)](e);break;case i(353):this[i(470)](e);break;case"rotation":this[i(608)](e);break;case i(519):this[i(496)](e)}},f[c(502)][c(369)][c(521)]=function(t){const e=c,i=f[e(244)],n=f[e(599)],o=this[e(597)],r=this.attributes.position,s=o[e(567)],a=o[e(326)];switch(o[e(194)]){case i[e(360)]:n[e(600)](r,t,s,a,o[e(293)]);break;case i[e(277)]:n[e(178)](r,t,s,o[e(604)],o[e(326)].x,o[e(297)],o[e(293)].x,o[e(478)]||this[e(205)]);break;case i[e(361)]:n[e(393)](r,t,s,o._radius,o._spread.x,o._radiusScale,o[e(293)].x);break;case i[e(177)]:n[e(375)](r,t,s,a)}},f.Emitter.prototype._assignForceValue=function(t,e){const i=c;let n,o,r,s,a,h=f[i(244)],l=f[i(599)],u=this[e],p=u[i(567)],d=u[i(326)];switch(u._distribution){case h.BOX:l[i(600)](this[i(453)][e],t,p,d);break;case h[i(277)]:n=this[i(453)][i(597)].typedArray[i(392)],a=3*t,o=n[a],r=n[a+1],s=n[a+2],l.randomDirectionVector3OnSphere(this.attributes[e],t,o,r,s,this[i(597)]._value,u[i(567)].x,u[i(326)].x);break;case h[i(361)]:n=this[i(453)][i(597)].typedArray.array,a=3*t,o=n[a],r=n[a+1],s=n[a+2],l[i(467)](this[i(453)][e],t,o,r,s,this.position._value,u[i(567)].x,u[i(326)].x);break;case h[i(177)]:l[i(375)](this[i(453)][e],t,p,d)}if(e===i(203)){const e=l.clamp(l[i(618)](this.drag[i(567)],this.drag[i(326)]),0,1);this[i(453)].acceleration[i(436)][i(392)][4*t+3]=e}},f[c(502)].prototype[c(480)]=function(t,e){const i=c;let n,o=this.attributes[e][i(436)],r=this[e],s=f[i(599)];s.arrayValuesAreEqual(r._value)&&s.arrayValuesAreEqual(r[i(326)])?(n=Math[i(227)](s[i(618)](r[i(567)][0],r[i(326)][0])),o[i(214)](t,n,n,n,n)):o[i(214)](t,Math[i(227)](s[i(618)](r[i(567)][0],r[i(326)][0])),Math.abs(s[i(618)](r._value[1],r[i(326)][1])),Math[i(227)](s[i(618)](r[i(567)][2],r[i(326)][2])),Math[i(227)](s[i(618)](r._value[3],r[i(326)][3])))},f.Emitter[c(369)][c(338)]=function(t){const e=c;let i,n=this[e(453)][e(563)][e(436)],o=this[e(563)],r=f[e(599)];r.arrayValuesAreEqual(o[e(567)])&&r.arrayValuesAreEqual(o._spread)?(i=r[e(618)](o._value[0],o[e(326)][0]),n.setVec4Components(t,i,i,i,i)):n[e(214)](t,r.randomFloat(o[e(567)][0],o[e(326)][0]),r[e(618)](o[e(567)][1],o[e(326)][1]),r[e(618)](o[e(567)][2],o[e(326)][2]),r.randomFloat(o[e(567)][3],o._spread[3]))},f[c(502)][c(369)]._assignParamsValue=function(t){const e=c;this[e(453)][e(353)].typedArray[e(214)](t,this.isStatic?1:0,0,Math[e(227)](f[e(599)][e(618)](this.maxAge[e(567)],this[e(188)][e(326)])),f.utils[e(618)](this.wiggle[e(567)],this[e(274)][e(326)]))},f[c(502)].prototype[c(608)]=function(t){const e=c;this[e(453)][e(512)][e(436)][e(334)](t,f[e(599)][e(592)](this[e(512)]._axis,this[e(512)][e(374)]),f[e(599)].randomFloat(this[e(512)]._angle,this[e(512)]._angleSpread),this.rotation[e(596)]?0:1),this[e(453)][e(388)][e(436)][e(381)](t,this.rotation._center)},f.Emitter[c(369)][c(496)]=function(t){const e=c;f[e(599)][e(615)](this[e(453)][e(519)],t,this[e(519)][e(567)],this.color[e(326)])},f[c(502)].prototype[c(471)]=function(t){const e=c;let i,n,o=this.resetFlags,r=this[e(625)],s=this.updateCounts,a=this[e(609)];for(let c=this[e(286)]-1;c>=0;--c)i=a[c],n=r[i],!0!==o[i]&&!0!==n||(this[e(462)](i,t),this[e(463)](i,t),!0===n&&s[i]===this[e(205)]?(r[i]=!1,s[i]=0):1==n&&++s[i])},f[c(502)][c(369)][c(463)]=function(t,e){const i=c,n=this[i(573)][t];n[i(207)]=Math.min(e,n[i(207)]),n.max=Math[i(206)](e,n[i(206)])},f[c(502)][c(369)]._resetBufferRanges=function(){const t=c;let e,i=this.bufferUpdateRanges,n=this[t(269)],o=this[t(255)]-1;for(;o>=0;--o)e=n[o],i[e].min=Number[t(551)],i[e][t(206)]=Number[t(472)]},f[c(502)][c(369)][c(264)]=function(){const t=c;this[t(581)]=0,this[t(210)]=0,this[t(522)]=0,this[t(546)]=0,this[t(179)]=null,this[t(453)]=null,this.paramsArray=null,this[t(187)]=0},f[c(502)][c(369)][c(204)]=function(){--this.activeParticleCount},f[c(502)].prototype[c(190)]=function(){++this[c(546)]},f[c(502)][c(369)][c(276)]=function(t,e,i,n){const o=c;for(var r,s,a,h,l=e-1;l>=t;--l)0!==(h=i[r=4*l])&&(a=i[r+1],s=i[r+2],1===this.direction?(a+=n)>=s&&(a=0,h=0,this[o(204)]()):(a-=n)<=0&&(a=s,h=0,this._decrementParticleCount()),i[r]=h,i[r+1]=a,this[o(463)]("params",l))},f[c(502)][c(369)][c(263)]=function(t,e,i,n){const o=c,r=this[o(288)];for(var s,a,h=t;h<e;++h)0!=i[s=4*h]&&1!==this[o(205)]||(this[o(190)](),i[s]=1,this._resetParticle(h),a=n*(h-t),i[s+1]=-1===r?i[s+2]-a:a,this._updateAttributeUpdateRange(o(353),h))},f[c(502)][c(369)][c(344)]=function(t){const e=c;if(this[e(577)])return;null===this[e(442)]&&(this.paramsArray=this[e(453)][e(353)][e(436)].array);const i=this[e(210)],n=i+this[e(205)],o=this.paramsArray,r=this[e(581)]*this[e(506)]*t,s=this.activationIndex;if(this[e(460)](),this[e(276)](i,n,o,t),!1===this[e(487)])return void(this.age=0);if(null!==this[e(630)]&&this.age>this.duration)return this[e(487)]=!1,void(this[e(187)]=0);const a=1===this.particleCount?s:0|s,h=Math[e(207)](a+r,this[e(278)]),l=h-this.activationIndex|0,u=l>0?t/l:0;this[e(263)](a,h,o,u),this.activationIndex+=r,this[e(522)]>n&&(this.activationIndex=i),this.age+=t},f[c(502)][c(369)][c(329)]=function(t){const e=c;if(this[e(187)]=0,this[e(487)]=!1,!0===t){const t=this.attributeOffset,o=t+this[e(205)],r=this[e(442)],s=this[e(453)][e(353)][e(526)];for(var i,n=o-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;s[e(514)].offset=0,s[e(514)][e(281)]=-1,s.needsUpdate=!0}return this},f.Emitter[c(369)][c(243)]=function(){return this[c(487)]=!0,this},f.Emitter[c(369)][c(494)]=function(){return this[c(487)]=!1,this},f[c(502)][c(369)][c(259)]=function(){const t=c;return null!==this.group?this[t(179)].removeEmitter(this):console[t(543)](t(328)),this};export{f as S};
