import{c7 as t,a3 as n,C as e,V as r}from"./three.HaMTRCf61740450466561.js";import{a as o}from"./@tresjs.9lmhsV6t1740450466561.js";import{R as c}from"./all.three.ZTuQc1_h1740450466561.js";import{d as i,b as a,a3 as s,a2 as u,o as l,H as f,N as p,m,u as v}from"./@vue.NRI7TcgI1740450466561.js";!function(t,n){const e=x,r=h();for(;;)try{if(287843===parseInt(e(267))/1*(-parseInt(e(275))/2)+parseInt(e(292))/3*(-parseInt(e(263))/4)+parseInt(e(282))/5*(-parseInt(e(276))/6)+-parseInt(e(278))/7+parseInt(e(293))/8+parseInt(e(294))/9*(-parseInt(e(301))/10)+parseInt(e(299))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(268)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function h(){const t=["762921GGMKlt","3021816MovyYQ","7713rfWzyJ","exception","#include <emissivemap_fragment>","gger","fragmentShader","11438350iONbVg","action","2330fvrzyv","return (function() ","__proto__","info","debu","4ZHIppQ","\n\t\tuniform mat4 textureMatrix;\n\t\tout vec4 vCoord;\n\t\tout vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","counter","length","565mfSdvR","apply","input","init","bind","vertexShader","replace","constructor","446UEkHmy","6IxzTNX","#include <project_vertex>","1034656fSupcq","trace","prototype","\n\t\tuniform sampler2D reflectMap;\n\t\tuniform float mirror;\n\t\tuniform float mixStrength;\n\t\tin vec4 vCoord;\n\t\tin vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","2009715nevRxA","chain","function *\\( *\\)","call","\n\t\t#include <project_vertex>\n\n\t\tvCoord = textureMatrix * vec4(transformed, 1.0);\n\t\tvToEye = cameraPosition - (modelMatrix * vec4(transformed, 1.0)).xyz;\n\t\t","stateObject","string","\n\t\t#include <emissivemap_fragment>\n\n\t\tvec4 normalColor = texture2D(normalMap, vNormalMapUv * normalScale);\n\t\tvec3 reflectNormal = normalize(vec3(normalColor.r * 2.0 - 1.0, normalColor.b, normalColor.g * 2.0 - 1.0));\n\t\tvec3 reflectCoord = vCoord.xyz / vCoord.w;\n\t\tvec2 reflectUv = reflectCoord.xy + reflectCoord.z * reflectNormal.xz * 0.05;\n\t\tvec4 reflectColor = texture2D(reflectMap, reflectUv);\n\n\t\t// Fresnel term\n\t\tvec3 toEye = normalize(vToEye);\n\t\tfloat theta = max(dot(toEye, normal), 0.0);\n\t\tfloat reflectance = pow((1.0 - theta), 5.0);\n\n\t\treflectColor = mix(vec4(0), reflectColor, reflectance);\n\n\t\tdiffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + reflectColor.rgb * mixStrength);\n\t\t","console","toString"];return(h=function(){return t})()}!function(){d(this,(function(){const t=x,n=new RegExp(t(284)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=y(t(270));n.test(r+t(283))&&e.test(r+t(269))?y():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=x;let n;try{n=Function(t(302)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(290)]=n.console||{},r=["log","warn",t(304),"error",t(295),"table",t(279)];for(let c=0;c<r[t(266)];c++){const n=g[t(274)][t(280)].bind(g),o=r[c],i=e[o]||n;n[t(303)]=g.bind(g),n.toString=i[t(291)][t(271)](i),e[o]=n}}))();function x(t,n){const e=h();return(x=function(t,n){return e[t-=263]})(t,n)}function y(t){function n(t){const e=x;if(typeof t===e(288))return function(t){}[e(274)]("while (true) {}")[e(268)](e(265));1!==(""+t/t).length||t%20==0?function(){return!0}[e(274)](e(305)+e(297))[e(285)](e(300)):function(){return!1}[e(274)](e(305)+e(297))[e(268)](e(287)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function b(t,n){const e=S();return(b=function(t,n){return e[t-=498]})(t,n)}const _=b;!function(t,n){const e=b,r=S();for(;;)try{if(658978===parseInt(e(541))/1+parseInt(e(524))/2+parseInt(e(557))/3+parseInt(e(551))/4*(parseInt(e(519))/5)+parseInt(e(500))/6*(-parseInt(e(534))/7)+parseInt(e(509))/8+-parseInt(e(529))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=b,n=new RegExp(t(543)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=z("init");n.test(r+t(559))&&e[t(505)](r+"input")?z():r("0")}))()}();const I=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[b(553)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=b;let n;try{n=Function(t(552)+t(532)+");")()}catch(o){n=window}const e=n.console=n[t(556)]||{},r=[t(510),t(531),t(554),"error","exception",t(515),t(561)];for(let c=0;c<r[t(506)];c++){const n=I[t(545)][t(536)][t(542)](I),o=r[c],i=e[o]||n;n[t(537)]=I.bind(I),n[t(533)]=i[t(533)][t(542)](i),e[o]=n}}))();const M=[_(513)],C=[_(520),_(539)];function S(){const t=["mixStrength","5085776uIujSH","log","while (true) {}","textureMatrixUniform","rotation-x","reflectMap","table","textureMatrix","debu","update","11735dBakKT","object","mirror","value","stateObject","1989642wXWxJX","TresPlaneGeometry","reflectorDiffuse","primitive","onBeforeCompile","26313921fxRxhh","assign","warn",'{}.constructor("return this")( )',"toString","7jmbEaw","aoMap","prototype","__proto__","color","visible","TresGroup","429915yelgYs","bind","function *\\( *\\)","counter","constructor","attributes","wrapS","showGridHelper","add","onBeforeRender","2004VmoWVD","return (function() ","apply","info","action","console","2273379PyttQx","uv1","chain","tmRef","trace","tmsmRef","renderTargetUniform","2468106itihaA","tpgRef","#444","gger","uniforms","test","length","TresMesh"];return(S=function(){return t})()}const j=i({__name:_(526),props:{mirror:{default:1},mixStrength:{default:10},showGridHelper:{type:Boolean,default:!0},color:{default:"#ffffff"}},async setup(i){const d=_;let h,g;const y=i,b=new t(9.5,10),w=a(),I=a(),S=a(),j=new c,z={mirror:{value:y[d(521)]},mixStrength:{value:y[d(508)]}},E=([h,g]=s((()=>o(["./plugins/floor/image/polished_concrete_basecolor.jpg","./plugins/floor/image/polished_concrete_normal.jpg","./plugins/floor/image/polished_concrete_orm.jpg"]))),h=await h,g(),h);for(var R=0;R<3;R++)E[R][d(547)]=n,E[R].wrapT=n,E[R].repeat.set(16,16);const T={color:new e(d(502)),metalness:1,roughness:1,map:E[0],metalnessMap:E[2],roughnessMap:E[2],aoMap:E[2],aoMapIntensity:1,normalMap:E[1],normalScale:new r(3,3)},k=t=>{const n=d;t[n(504)][n(514)]=j[n(499)],t[n(504)][n(516)]=j[n(512)],t.uniforms=Object[n(530)](t[n(504)],z),(t=>{const n=x;t[n(272)]=t[n(272)].replace("void main() {",n(264)),t[n(272)]=t.vertexShader[n(273)](n(277),n(286))})(t),(t=>{const n=x;t[n(298)]=t[n(298)][n(273)]("void main() {",n(281)),t[n(298)]=t[n(298)][n(273)](n(296),n(289))})(t)};return u((()=>{const t=d;w.value&&(w[t(522)][t(546)][t(558)]=w[t(522)][t(546)].uv),S[t(522)]&&(S[t(522)][t(535)].channel=1,S.value[t(528)]=k),I[t(522)]&&(I[t(522)][t(549)](j),I[t(522)][t(550)]=(n,e,r)=>{j[t(518)](n,e,r)}),y[t(538)]&&S.value&&(S[t(522)].color=new e(y.color))})),(t,n)=>{const e=d;return l(),f(e(540),null,[p(e(507),{ref_key:e(560),ref:I,"rotation-x":-Math.PI/2,"position-y":-.1},[p(e(525),{ref_key:e(501),ref:w,args:[10,10]},null,512),p("TresMeshStandardMaterial",m({ref_key:e(498),ref:S},T),null,16)],8,M),p(e(527),{object:v(b),visible:t[e(548)]},null,8,C)])}}});function z(t){function n(t){const e=b;if("string"==typeof t)return function(t){}[e(545)](e(511))[e(553)](e(544));1!==(""+t/t)[e(506)]||t%20==0?function(){return!0}[e(545)](e(517)+e(503)).call(e(555)):function(){return!1}[e(545)]("debugger")[e(553)](e(523)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{j as _};
