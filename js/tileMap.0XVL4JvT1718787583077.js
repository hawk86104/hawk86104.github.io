import{a5 as t,a7 as n,cv as o,bS as e,V as r}from"./three.OZpCYxlY1718787583077.js";import{P as s}from"./tweakpane.qqn77PB81718787583077.js";import{_ as i}from"./@tweenjs.nrkgVqSV1718787583077.js";import{a,r as c}from"./@tresjs.yMGhEK7G1718787583077.js";import{P as p,b as u,c as l,M as m,T as f,a as g,d as h}from"./index.xS5HOI011718787583077.js";import{d as j,a2 as d,w as b,o as w,D as x,u as y,X as v,r as M,e as _,j as I,g as z,f as B,al as C,m as S,F as k}from"./@vue.CpOXM7bB1718787583077.js";import{_ as R}from"./raycasterEvent.s2SLMpdL1718787583077.js";import{a as T}from"./utils.B2ydlk5h1718787583077.js";import"./@vueuse.jAwx0y-e1718787583077.js";import"./@mapbox.nCk4TZKI1718787583077.js";import"./@amap.SdFHYHOw1718787583077.js";import"./three-mesh-bvh.kKYQZqAu1718787583077.js";import"./three-custom-shader-material.JsHLV5bd1718787583077.js";import"./object-hash.qNEzwKzz1718787583077.js";import"./jszip.b_9tpgnb1718787583077.js";import"./glsl-tokenizer.gaAYmyHH1718787583077.js";import"./glsl-token-string.I-C2eR7Z1718787583077.js";import"./glsl-token-functions.9MA3WN5r1718787583077.js";import"./@fesjs.BvrsBDNW1718787583077.js";import"./vue-router.2IN93cQd1718787583077.js";import"./lodash-es.nFpJXAf-1718787583077.js";import"./@qlin.yHhFDldE1718787583077.js";import"./pinia.jgDkRZDw1718787583077.js";import"./@floating-ui.BPbuo5Gx1718787583077.js";import"./@juggle.7yjBMqoW1718787583077.js";import"./http.FYcDrU_x1718787583077.js";import"./axios.o4dqSy1c1718787583077.js";import"./color.927ivhlo1718787583077.js";import"./color-string.dCSDEJuJ1718787583077.js";import"./color-name.ZCFBUYzA1718787583077.js";import"./simple-swizzle.ZKwbI7vE1718787583077.js";import"./is-arrayish.RfFh7n9w1718787583077.js";import"./color-convert.KWr_quUB1718787583077.js";import"./lodash.TBpog3lL1718787583077.js";import"./naive-ui.Sta4fRO61718787583077.js";import"./css-render.3DtDga2r1718787583077.js";import"./@emotion.ZD_ZYAgY1718787583077.js";import"./@css-render.b0OFPlyy1718787583077.js";import"./seemly.SjiSeX2v1718787583077.js";import"./vooks.A1ziV4uZ1718787583077.js";import"./evtd.DtfwxtIl1718787583077.js";import"./vueuc.XzYIR6Et1718787583077.js";import"./vdirs.g4EZE2mj1718787583077.js";import"./treemate.dcEdf2le1718787583077.js";import"./date-fns.9a3et4Om1718787583077.js";import"./date-fns-tz.qX0PsgpB1718787583077.js";import"./async-validator.-YBkpS4I1718787583077.js";import"./utils.T2T1WKDs1718787583077.js";import"./d3-geo.6Qxf5EH01718787583077.js";import"./d3-array.AhNJy1f41718787583077.js";const F=W;!function(t,n){const o=W,e=P();for(;;)try{if(471966===-parseInt(o(210))/1+-parseInt(o(222))/2*(-parseInt(o(184))/3)+-parseInt(o(204))/4+parseInt(o(223))/5+-parseInt(o(171))/6*(-parseInt(o(231))/7)+parseInt(o(191))/8*(-parseInt(o(233))/9)+-parseInt(o(232))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const E=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[W(182)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){E(this,(function(){const t=W,n=new RegExp(t(174)),o=new RegExp(t(206),"i"),e=U(t(217));n[t(211)](e+t(220))&&o.test(e+t(193))?U():e("0")}))()}();const Z=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[W(182)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();Z(void 0,(function(){const t=W;let n;try{n=Function(t(181)+'{}.constructor("return this")( ));')()}catch(r){n=window}const o=n[t(202)]=n[t(202)]||{},e=["log",t(218),t(178),t(212),t(180),t(189),"trace"];for(let s=0;s<e[t(201)];s++){const n=Z[t(221)].prototype[t(186)](Z),r=e[s],i=o[r]||n;n[t(185)]=Z[t(186)](Z),n.toString=i[t(188)][t(186)](i),o[r]=n}}))();const A=[F(172),F(213)];function P(){const t=["useStandardMaterial","function *\\( *\\)","while (true) {}","value","mapCenter","info","updateProjectionMatrix","exception","return (function() ","apply","opposite","70230czxXEc","__proto__","bind","Vector3","toString","table","wireframe","1635016xTvBgx","useWorker","input","Color","genSaturation","showTileNo","position0","update","maxZoom","domElement","length","console","counter","960712MxMrYn","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","innerWidth","debu","render","788466BJjFST","test","error","rotation","isMonochrome","string","call","init","warn","genContrast","chain","constructor","76HRcdzt","3858645MRVbnT","action","enableDamping","bbox","coordType","genBright","flatShading","position","1988BVjJvE","6751260PIDsPE","9WlhlQo","#fff","innerHeight","stateObject","provider","set","monochrome","source","filter","target","15186wHxTTU","object"];return(P=function(){return t})()}function W(t,n){const o=P();return(W=function(t,n){return o[t-=168]})(t,n)}const D=j({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:F(234)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(e,{expose:r}){const s=F,h=e,{renderer:j,scene:v}=a();(new p)[s(227)]=u;const M=new l;M[s(168)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",M[s(227)]=u;const _=new m;_[s(168)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",_[s(196)]=!1,_[s(192)]=!0;const I=new f(M,_);if(I.showBoundingBox=!1,I[s(190)]=!1,I[s(229)]=!1,I[s(173)]=!1,I[s(169)]={opposite:h[s(183)],monochrome:h[s(214)]?{r:.299,g:.587,b:.114}:null,genBright:h[s(228)],genContrast:h.genContrast,genSaturation:h[s(195)]},h[s(239)]){let n=new(t[s(194)])(h[s(239)]);I[s(169)]&&(I[s(169)][s(239)]={r:n.r,g:n.g,b:n.b})}const z=new g;z[s(237)]=I,z[s(226)]=h[s(226)],z[s(199)]=h.maxZoom;const B=new n(60,window[s(207)]/window[s(235)],1,1e8);B.up=new(t[s(187)])(0,1,0),B.position[s(238)](h.mapCenter[0],h[s(177)][2],-h[s(177)][1]),B.lookAt(new(t[s(187)])(B[s(230)].x,0,B.position.z-2e3)),z.camera=B;let C=null;d((()=>{const n=s;if(j.value&&!C&&(C=new o(B,j[n(176)][n(200)]),C[n(225)]=!0,C.dampingFactor=.05,C.minDistance=600,C[n(197)][n(238)](B[n(230)].x,B[n(230)].y,B[n(230)].z),C[n(170)][n(238)](B[n(230)].x,0,B[n(230)].z-2e3)),h[n(228)]&&I.filter&&(I[n(169)][n(228)]=h.genBright),h[n(219)]&&I[n(169)]&&(I[n(169)][n(219)]=h.genContrast),h[n(195)]&&I.filter&&(I.filter[n(195)]=h[n(195)]),h.isMonochrome&&h[n(239)]&&I[n(169)]){let o=new(t[n(194)])(h[n(239)]);I[n(169)][n(239)]={r:o.r,g:o.g,b:o.b}}})),b((()=>h[s(183)]),(t=>{const n=s;I.filter&&(I[n(169)].opposite=t)})),b((()=>h[s(214)]),(n=>{const o=s;let e=new(t[o(194)])(h[o(239)]);I[o(169)]&&(I[o(169)][o(239)]=n?{r:e.r,g:e.g,b:e.b}:null)}));const{onLoop:S}=c();return S((()=>{const t=s;if(j[t(176)]){i[t(198)](),C&&C[t(198)](),z[t(198)]();const n=50*Math.abs(B[t(230)].y);B.far=n+5e3,B[t(179)](),C[t(170)].y=0,j[t(176)][t(209)](v[t(176)],B)}})),r({camera:B,map:z,orbitControl:C}),(t,n)=>(w(),x("primitive",{object:y(z),rotation:[-Math.PI/2,0,0]},null,8,A))}});function U(t){function n(t){const o=W;if(typeof t===o(215))return function(t){}.constructor(o(175))[o(182)](o(203));1!==(""+t/t)[o(201)]||t%20==0?function(){return!0}[o(221)](o(208)+o(205))[o(216)](o(224)):function(){return!1}[o(221)](o(208)+o(205))[o(182)](o(236)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function V(t,n){const o=H();return(V=function(t,n){return o[t-=255]})(t,n)}!function(t,n){const o=V,e=H();for(;;)try{if(532749===parseInt(o(309))/1*(-parseInt(o(314))/2)+-parseInt(o(289))/3+parseInt(o(268))/4+parseInt(o(304))/5+-parseInt(o(275))/6+parseInt(o(278))/7+parseInt(o(276))/8*(parseInt(o(263))/9))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function H(){const t=["牛首山","bind","genBright","while (true) {}","init","nss","stateObject","log","addBinding","isMonochrome","tileMapRef","warn","新街口","addBlade","3827835icWMRy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","#201919","test","845401KWHnKF","orbitControl","TresCanvas","Vector3","奥体中心","2gsqwXl","滤镜颜色","return (function() ",'{}.constructor("return this")( )',"highp","input","call","list","debu","单色滤镜","对比度","genSaturation","18vlOpFr","SRGBColorSpace","toString","__proto__","length","2834144Takobk","constructor","tileMapMeshRef","opposite","genContrast","#4688b5","chain","3813456ynOFpq","887592hydUij","console","6055322gFSbKs","camera","table","gger","monochrome","exception","trace","action","value","error","饱和度","1641963ugCUGU"];return(H=function(){return t})()}!function(){$(this,(function(){const t=V,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(305),"i"),e=K(t(294));n[t(308)](e+t(274))&&o[t(308)](e+t(256))?K():e("0")}))()}();const O=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[V(306)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();O(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(316)+t(317)+");")()}catch(o){n=window}return n}(),o=n[t(277)]=n[t(277)]||{},e=[t(297),t(301),"info",t(287),t(283),t(280),t(284)];for(let r=0;r<e[t(267)];r++){const n=O[t(269)].prototype[t(291)](O),s=e[r],i=o[s]||n;n[t(266)]=O[t(291)](O),n[t(265)]=i.toString[t(291)](i),o[s]=n}}))();const q=j({__name:"tileMap",setup(n){const o=V,i=h(118.779958,32.017136),a=[i[0],i[1],5e3],c=v(),p=M({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(273),mapCenter:a}),u=new s({title:"参数"});u[o(298)](p,o(271),{label:"反色"}),u[o(298)](p,o(292),{label:"高亮",min:.1,max:3,step:.1}),u.addBinding(p,o(272),{label:o(261),min:.1,max:3,step:.1}),u[o(298)](p,o(262),{label:o(288),min:.1,max:3,step:.1}),u[o(298)](p,o(299),{label:o(260)}),u[o(298)](p,o(282),{label:o(315)});const l={at:h(118.7425,31.9998),xjk:h(118.7842,32.0418),nss:h(118.7503,31.9082)};u[o(303)]({view:o(258),label:"飞去",options:[{text:o(313),value:"at"},{text:o(302),value:"xjk"},{text:o(290),value:o(295)}],value:"at"}).on("change",(n=>{const e=o,r=new(t[e(312)])(l[n[e(286)]][0],2e3,-l[n[e(286)]][1]);T(c[e(286)][e(279)],r,c[e(286)][e(310)],[0,-300],4e3)}));const m=M({clearColor:o(307),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[o(264)],toneMapping:e,precision:o(255)});return setTimeout((()=>{const t=o,n=l.at,e=new r(n[0],1600,-n[1]);T(c[t(286)][t(279)],e,c.value[t(310)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=_(e(311));return w(),x(k,null,[I(r,S(m,{"window-size":""}),{default:z((()=>[(w(),B(C,null,{default:z((()=>[I(D,S(p,{ref_key:e(270),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(R,{tileMapRef:c[e(286)]},null,8,[e(300)])],64)}}});function K(t){function n(t){const o=V;if("string"==typeof t)return function(t){}[o(269)](o(293))[o(306)]("counter");1!==(""+t/t)[o(267)]||t%20==0?function(){return!0}[o(269)](o(259)+o(281))[o(257)](o(285)):function(){return!1}[o(269)](o(259)+"gger")[o(306)](o(296)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{q as default};
