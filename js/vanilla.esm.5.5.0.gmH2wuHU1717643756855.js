import{a5 as k,aD as U,q as V,aa as z,o as I,c as b,C as G,a1 as K,T as W,at as Y,c3 as X,aX as $,bP as q}from"./vendor.iBV-vwSJ1717643756855.js";import{h as Z}from"./object_hash.O7Sw-hlw1717643756855.js";const J={key:0,args:[0,1,64]},Q={key:1,args:[.5,1,64]},ee={key:2},ne=["toneMapped","map","side","color"],Ne=k({__name:"index",props:{args:{default:null},from:{default:"rect"},toneMapped:{type:Boolean,default:!1},map:{default:null},intensity:{default:1},color:{default:new U(16777215)}},setup(e){const n=e,a=V();return z(()=>{a.value&&(a.value.color.multiplyScalar(n.intensity),a.value.needsUpdate=!0)}),(t,o)=>(I(),b("TresMesh",null,[n.from==="circle"?(I(),b("TresRingGeometry",J)):n.from==="ring"?(I(),b("TresRingGeometry",Q)):n.from==="rect"?(I(),b("TresPlaneGeometry",ee)):(I(),G(n.from,{key:3,args:n})),K("TresMeshBasicMaterial",{ref_key:"material",ref:a,toneMapped:t.toneMapped,map:t.map,side:W(Y),color:t.color},null,8,ne)]))}});function te(e,n){if(typeof e!="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,n||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function H(e){var n=te(e,"string");return typeof n=="symbol"?n:String(n)}function i(e,n,a){return n=H(n),n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function P(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,t)}return a}function y(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?P(Object(a),!0).forEach(function(t){i(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ae(e,n){if(e==null)return{};var a={},t=Object.keys(e),o,c;for(c=0;c<t.length;c++)o=t[c],!(n.indexOf(o)>=0)&&(a[o]=e[o]);return a}function re(e,n){if(e==null)return{};var a=ae(e,n),t,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)t=c[o],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function oe(e){if(Array.isArray(e))return e}function ie(e,n){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var t,o,c,m,l=[],s=!0,p=!1;try{if(c=(a=a.call(e)).next,n===0){if(Object(a)!==a)return;s=!1}else for(;!(s=(t=c.call(a)).done)&&(l.push(t.value),l.length!==n);s=!0);}catch(M){p=!0,o=M}finally{try{if(!s&&a.return!=null&&(m=a.return(),Object(m)!==m))return}finally{if(p)throw o}}return l}}function T(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function ce(e,n){if(e){if(typeof e=="string")return T(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,n)}}function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,n){return oe(e)||ie(e,n)||ce(e,n)||se()}function le(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function w(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,H(t.key),t)}}function fe(e,n,a){return n&&w(e.prototype,n),a&&w(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function F(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,n){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},C(e,n)}function ue(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&C(e,n)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},R(e)}function me(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _e(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function de(e){var n=me();return function(){var t=R(e),o;if(n){var c=R(this).constructor;o=Reflect.construct(t,arguments,c)}else o=t.apply(this,arguments);return _e(this,o)}}var r={diffuse:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO",bump:"csm_Bump",clearcoat:"csm_Clearcoat",clearcoatRoughness:"csm_ClearcoatRoughness",clearcoatNormal:"csm_ClearcoatNormal",pointSize:"csm_PointSize",fragColor:"csm_FragColor",depthAlpha:"csm_DepthAlpha",position:"csm_Position",positionRaw:"csm_PositionRaw"},f,pe=(f={},i(f,"".concat(r.position),"*"),i(f,"".concat(r.positionRaw),"*"),i(f,"".concat(r.normal),"*"),i(f,"".concat(r.pointSize),["PointsMaterial"]),i(f,"".concat(r.diffuse),"*"),i(f,"".concat(r.fragColor),"*"),i(f,"".concat(r.emissive),["MeshStandardMaterial","MeshPhysicalMaterial"]),i(f,"".concat(r.roughness),["MeshStandardMaterial","MeshPhysicalMaterial"]),i(f,"".concat(r.metalness),["MeshStandardMaterial","MeshPhysicalMaterial"]),i(f,"".concat(r.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial"]),i(f,"".concat(r.bump),["MeshLambertMaterial","MeshMatcapMaterial","MeshNormalMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshStandardMaterial","MeshToonMaterial","ShadowMaterial"]),i(f,"".concat(r.depthAlpha),["MeshDepthMaterial"]),i(f,"".concat(r.clearcoat),["MeshPhysicalMaterial"]),i(f,"".concat(r.clearcoatRoughness),["MeshPhysicalMaterial"]),i(f,"".concat(r.clearcoatNormal),["MeshPhysicalMaterial"]),f),he={"#include <lights_physical_fragment>":X.lights_physical_fragment},u,E,Me=(u={},i(u,"".concat(r.normal),{"#include <beginnormal_vertex>":"\n    vec3 objectNormal = ".concat(r.normal,";\n    #ifdef USE_TANGENT\n	    vec3 objectTangent = vec3( tangent.xyz );\n    #endif\n    ")}),i(u,"".concat(r.position),{"#include <begin_vertex>":"\n    vec3 transformed = ".concat(r.position,";\n  ")}),i(u,"".concat(r.positionRaw),{"#include <begin_vertex>":"\n    vec4 csm_internal_positionUnprojected = ".concat(r.positionRaw,";\n    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;\n    #ifdef USE_INSTANCING\n      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;\n    #endif\n    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;\n    vec3 transformed = csm_internal_positionUnprojected.xyz;\n  ")}),i(u,"".concat(r.pointSize),{"gl_PointSize = size;":"\n    gl_PointSize = ".concat(r.pointSize,";\n    ")}),i(u,"".concat(r.diffuse),{"#include <color_fragment>":"\n    #include <color_fragment>\n    diffuseColor = ".concat(r.diffuse,";\n  ")}),i(u,"".concat(r.fragColor),{"#include <dithering_fragment>":"\n    #include <dithering_fragment>\n    gl_FragColor  = ".concat(r.fragColor,";\n  ")}),i(u,"".concat(r.emissive),{"vec3 totalEmissiveRadiance = emissive;":"\n    vec3 totalEmissiveRadiance = ".concat(r.emissive,";\n    ")}),i(u,"".concat(r.roughness),{"#include <roughnessmap_fragment>":"\n    #include <roughnessmap_fragment>\n    roughnessFactor = ".concat(r.roughness,";\n    ")}),i(u,"".concat(r.metalness),{"#include <metalnessmap_fragment>":"\n    #include <metalnessmap_fragment>\n    metalnessFactor = ".concat(r.metalness,";\n    ")}),i(u,"".concat(r.ao),{"#include <aomap_fragment>":"\n    #include <aomap_fragment>\n    reflectedLight.indirectDiffuse *= 1. - ".concat(r.ao,";\n    ")}),i(u,"".concat(r.bump),{"#include <normal_fragment_maps>":"\n    #include <normal_fragment_maps>\n\n    vec3 csm_internal_orthogonal = ".concat(r.bump," - (dot(").concat(r.bump,", normal) * normal);\n    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;\n    normal = normalize(normal - csm_internal_projectedbump);\n    ")}),i(u,"".concat(r.depthAlpha),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":"\n      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * ".concat(r.depthAlpha," );\n    "),"gl_FragColor = packDepthToRGBA( fragCoordZ );":"\n      gl_FragColor = packDepthToRGBA( fragCoordZ );\n      gl_FragColor.a *= ".concat(r.depthAlpha,";\n    ")}),i(u,"".concat(r.clearcoat),{"material.clearcoat = clearcoat;":"material.clearcoat = ".concat(r.clearcoat,";")}),i(u,"".concat(r.clearcoatRoughness),{"material.clearcoatRoughness = clearcoatRoughness;":"material.clearcoatRoughness = ".concat(r.clearcoatRoughness,";")}),i(u,"".concat(r.clearcoatNormal),{"#include <clearcoat_normal_fragment_begin>":"\n      vec3 csm_coat_internal_orthogonal = csm_ClearcoatNormal - (dot(csm_ClearcoatNormal, nonPerturbedNormal) * nonPerturbedNormal);\n      vec3 csm_coat_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_coat_internal_orthogonal;\n      vec3 clearcoatNormal = normalize(nonPerturbedNormal - csm_coat_internal_projectedbump);\n    "}),u),ve=(E={},i(E,"".concat(r.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":"\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( ".concat(r.position,", 1.0 );\n  ")}),i(E,"".concat(r.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":"\n    gl_Position = ".concat(r.position,";\n  ")}),i(E,"".concat(r.diffuse),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":"\n    gl_FragColor = ".concat(r.diffuse,";\n  ")}),i(E,"".concat(r.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":"\n    gl_FragColor = ".concat(r.fragColor,";\n  ")}),E),Se={clearcoat:[r.clearcoat,r.clearcoatNormal,r.clearcoatRoughness]},ge="\n    \n#ifdef IS_VERTEX\n    vec3 csm_Position;\n    vec4 csm_PositionRaw;\n    vec3 csm_Normal;\n\n    // csm_PointSize\n    #ifdef IS_POINTSMATERIAL\n        float csm_PointSize;\n    #endif\n#else\n    vec4 csm_DiffuseColor;\n    vec4 csm_FragColor;\n\n    // csm_Emissive, csm_Roughness, csm_Metalness\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n        vec3 csm_Emissive;\n        float csm_Roughness;\n        float csm_Metalness;\n        \n        #if defined IS_MESHPHYSICALMATERIAL\n            float csm_Clearcoat;\n            float csm_ClearcoatRoughness;\n            vec3 csm_ClearcoatNormal;\n        #endif\n    #endif\n\n    // csm_AO\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL\n        float csm_AO;\n    #endif\n\n    // csm_Bump\n    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL \n        vec3 csm_Bump;\n    #endif\n\n    float csm_DepthAlpha;\n#endif\n",Ae="\n\n#ifdef IS_VERTEX\n    // csm_Position & csm_PositionRaw\n    #ifdef IS_UNKNOWN\n        csm_Position = vec3(0.0);\n        csm_PositionRaw = vec4(0.0);\n        csm_Normal = vec3(0.0);\n    #else\n        csm_Position = position;\n        csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n        csm_Normal = normal;\n    #endif\n\n    // csm_PointSize\n    #ifdef IS_POINTSMATERIAL\n        csm_PointSize = size;\n    #endif\n#else\n    // csm_DiffuseColor & csm_FragColor\n    #if defined IS_UNKNOWN || defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_SHADOWMATERIAL\n        csm_DiffuseColor = vec4(1.0, 0.0, 1.0, 1.0);\n        csm_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n    #else\n        #ifdef USE_MAP\n            vec4 _csm_sampledDiffuseColor = texture2D(map, vMapUv);\n\n            #ifdef DECODE_VIDEO_TEXTURE\n            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)\n            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);\n            #endif\n\n            csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n            csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n        #else\n            csm_DiffuseColor = vec4(diffuse, opacity);\n            csm_FragColor = vec4(diffuse, opacity);\n        #endif\n    #endif\n\n    // csm_Emissive, csm_Roughness, csm_Metalness\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n        csm_Emissive = emissive;\n        csm_Roughness = roughness;\n        csm_Metalness = metalness;\n\n        #if defined IS_MESHPHYSICALMATERIAL\n            #ifdef USE_CLEARCOAT\n                csm_Clearcoat = clearcoat;\n                csm_ClearcoatRoughness = clearcoatRoughness;\n            #else\n                csm_Clearcoat = 0.0;\n                csm_ClearcoatRoughness = 0.0;\n            #endif\n        #endif\n    #endif\n\n    // csm_AO\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL\n        csm_AO = 0.0;\n    #endif\n\n    // csm_Bump\n    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL \n        csm_Bump = vec3(0.0);\n    #endif\n\n    csm_DepthAlpha = 1.0;\n#endif\n",ye="\n    varying mat4 csm_internal_vModelViewMatrix;\n",Ee="\n    csm_internal_vModelViewMatrix = modelViewMatrix;\n",Ie="\n    varying mat4 csm_internal_vModelViewMatrix;\n",be="\n    \n",Re=["baseMaterial","fragmentShader","vertexShader","uniforms","patchMap","cacheKey","silent"],Ce=function(n){return Z(n,{excludeValues:!0})},L=function(n,a,t){return n.split(a).join(t)},Oe=function(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},j=function(n,a){return new RegExp("\\b".concat(Oe(a),"\\b")).test(n)};function Pe(e){try{new e}catch(n){if(n.message.indexOf("is not a constructor")>=0)return!1}return!0}function Te(e,n){Object.assign(e,n);var a=Object.getPrototypeOf(n);Object.entries(Object.getOwnPropertyDescriptors(a)).filter(function(t){var o=typeof t[1].get=="function",c=typeof t[1].set=="function",m=typeof t[1].value=="function",l=t[0]==="constructor";return(o||c||m)&&!l}).forEach(function(t){typeof e[t[0]]!="function"&&Object.defineProperty(e,t[0],t[1])})}function De(e){var n=e.toString().trim(),a=n.substring(n.indexOf("{")+1,n.lastIndexOf("}"));return a.trim().length===0}function N(e){return e?e.replace(/\s/g,""):void 0}function x(e){return e.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,"")}function we(e,n,a){var t=e.lastIndexOf(n);return t===-1?e:e.substring(0,t)+a+e.substring(t+n.length)}var xe=function(e){ue(a,e);var n=de(a);function a(t){var o,c=t.baseMaterial,m=t.fragmentShader,l=t.vertexShader,s=t.uniforms,p=t.patchMap,M=t.cacheKey,_=t.silent,A=re(t,Re);le(this,a);var v;if(Pe(c)?v=new c(A):(v=c,Object.assign(v,A)),v.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");o=n.call(this),Te(F(o),v),o.__csm={patchMap:p||{},fragmentShader:m||"",vertexShader:l||"",cacheKey:M,baseMaterial:c,instanceID:$.generateUUID(),type:v.type,isAlreadyExtended:!De(v.onBeforeCompile),cacheHash:"",silent:_},o.uniforms=y(y({},o.uniforms||{}),s||{});{var d=o.__csm,h=d.fragmentShader,S=d.vertexShader,g=o.uniforms;o.__csm.cacheHash=o._getCacheHash(),o._generateMaterial(h,S,g)}return o}return fe(a,[{key:"update",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.uniforms=o.uniforms||this.uniforms,Object.assign(this.__csm,o);var c=this.__csm,m=c.fragmentShader,l=c.vertexShader,s=this.uniforms,p=this._getCacheHash();this.__csm.cacheHash=p,this._generateMaterial(m,l,s)}},{key:"clone",value:function(){var o={baseMaterial:this.__csm.baseMaterial,fragmentShader:this.__csm.fragmentShader,vertexShader:this.__csm.vertexShader,uniforms:this.uniforms,silent:this.__csm.silent,patchMap:this.__csm.patchMap,cacheKey:this.__csm.cacheKey},c=new this.constructor(o);return Object.assign(this,c),c}},{key:"_getCacheHash",value:function(){var o=this.__csm,c=o.fragmentShader,m=o.vertexShader,l=this.uniforms,s=[N(c),N(m),l].filter(function(p){return p!==void 0});return s.length>0?Ce(s):this.customProgramCacheKey()}},{key:"_generateMaterial",value:function(o,c,m){var l=this;this.uniforms=m||{},this.customProgramCacheKey=function(){return l.__csm.cacheHash};var s=function(_){try{var A=l._getMaterialDefine();if(o){var v=l._patchShader(x(o),_.fragmentShader,!0);_.fragmentShader=A+v}if(c){var d=l._patchShader(x(c),_.vertexShader);_.vertexShader="#define IS_VERTEX;\n"+d,_.vertexShader=A+_.vertexShader}_.uniforms=y(y({},_.uniforms),l.uniforms),l.uniforms=_.uniforms}catch(h){console.error(h)}};if(this.__csm.isAlreadyExtended){var p=this.onBeforeCompile;this.onBeforeCompile=function(M,_){p(M,_),s(M)}}else this.onBeforeCompile=s;this.needsUpdate=!0}},{key:"_patchShader",value:function(o,c,m){var l=this,s=c,p=y(y({},this._getPatchMapForMaterial()),this.__csm.patchMap);Object.entries(Se).forEach(function(d){var h=D(d,2),S=h[0],g=h[1],O=g.find(function(B){return j(o,B)});if(O&&!l[S])throw new Error('CSM: Property "'.concat(S,'" is required to use output "').concat(O,'". Shader cannot compile.'))}),Object.entries(he).forEach(function(d){var h=D(d,2),S=h[0],g=h[1];s=L(s,S,g)}),Object.keys(p).forEach(function(d){Object.keys(p[d]).forEach(function(h){var S=pe[d],g=l.__csm.type;if(d==="*"||j(o,d))if(!S||Array.isArray(S)&&S.includes(g)||S==="*")s=L(s,h,p[d][h]);else throw new Error("CSM: ".concat(d," is not available in ").concat(g,". Shader cannot compile."))})});var M="csm_main_"+this.__csm.instanceID.replace(/-/g,"_"),_=o.replace(/void\s+main\s*\(\s*\)/g,"void ".concat(M,"()")),A=o.includes("void main()"),v=s.includes("// #_CSM_#");return A&&(v&&this.__csm.isAlreadyExtended?(s=s.replace("void main() {","\n            ".concat(_,"\n            \n            void main() {\n          ")),s=we(s,"// #_CSM_#","\n            ".concat(M,"();\n            // #_CSM_#\n          "))):s=s.replace("void main() {","\n            #ifndef CSM_IS_HEAD_DEFAULTS_DEFINED\n              ".concat(m?Ie:ye,"\n              #define CSM_IS_HEAD_DEFAULTS_DEFINED 1\n            #endif\n    \n            ").concat(ge,"\n    \n            ").concat(_,"\n            \n            void main() {\n              #ifndef CSM_IS_DEFAULTS_DEFINED\n                ").concat(Ae,"\n                #define CSM_IS_DEFAULTS_DEFINED 1\n              #endif\n              \n              #ifndef CSM_IS_MAIN_DEFAULTS_DEFINED\n                ").concat(m?be:Ee,"\n                #define CSM_IS_MAIN_DEFAULTS_DEFINED 1\n              #endif\n  \n              ").concat(M,"();\n              // #_CSM_#\n          "))),s}},{key:"_getMaterialDefine",value:function(){var o=this.__csm.type;return o?"#define IS_".concat(o.toUpperCase(),";\n"):"#define IS_UNKNOWN;\n"}},{key:"_getPatchMapForMaterial",value:function(){switch(this.__csm.type){case"ShaderMaterial":return ve;default:return Me}}}]),a}(q);export{xe as C,Ne as _};
