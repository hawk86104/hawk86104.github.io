import{a as t,B as n,r as e,bY as o,C as r,j as s,Z as c}from"./three.HEgnMaTu1721048663624.js";import{x as i}from"./@fesjs.vljLn8mq1721048663624.js";import{N as a}from"./@tresjs.Xiq_TH801721048663624.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.wAcaRjKH1721048663624.js";!function(t,n){const e=h,o=b();for(;;)try{if(979768===parseInt(e(134))/1+parseInt(e(143))/2+-parseInt(e(176))/3+parseInt(e(124))/4+parseInt(e(183))/5+-parseInt(e(146))/6+parseInt(e(161))/7)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=h,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(116),"i"),o=_(t(171));n.test(o+"chain")&&e[t(125)](o+t(190))?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=h,n=function(){const t=h;let n;try{n=Function(t(147)+t(184)+");")()}catch(e){n=window}return n}(),e=n[t(131)]=n.console||{},o=[t(133),t(189),t(137),t(140),t(160),t(118),t(127)];for(let r=0;r<o.length;r++){const n=g.constructor.prototype.bind(g),s=o[r],c=e[s]||n;n[t(169)]=g[t(168)](g),n[t(120)]=c[t(120)][t(168)](c),e[s]=n}}))();const m=(n,e=!1)=>{const o=h;n[o(119)]();const{max:r,min:s}=n.boundingBox;n[o(138)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(167)][o(129)][o(157)];t++)e?(a[o(188)]((n[o(167)][o(129)][o(145)](t)-(s.x+r.x)/2)/c),a[o(188)]((n.attributes[o(129)][o(163)](t)-(s.y+r.y)/2)/i)):(a[o(188)]((n[o(167)].position.getX(t)-s.x)/c),a[o(188)]((n[o(167)][o(129)].getY(t)-s.y)/i));const u=new Float32Array(a);n[o(173)]("uv",new t(u,2))};function h(t,n){const e=b();return(h=function(t,n){return e[t-=116]})(t,n)}const y=(t,n)=>new Promise(((e,o)=>{const r=h;i(t,{},{method:r(139)})[r(164)]((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[r(140)](t),o(t)}))})),d=t=>{const n=h,e=(new(THREE[n(185)]))[n(153)](t),o=new(THREE[n(126)]);e[n(135)](o),t.children[n(154)]((t=>{t[n(129)].sub(o)})),t[n(129)][n(128)](o[n(159)]())},w=()=>{const t=h;n.prototype[t(148)]=u,n[t(132)].disposeBoundsTree=f,e.prototype.raycast=p},x=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry.clone();m(i),i[n(148)]();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(151)][n(180)]=!0,u[n(151)][n(142)]=!0,u[n(151)][n(187)]=!0,u[n(151)][n(162)]=c,u[n(151)][n(150)][n(141)][n(117)].w=20,u[n(151)].uniforms[n(149)][n(117)]=.46,u};function b(){const t=["toString","stateObject","call","divideScalar","3620104GcQoEW","test","Vector3","trace","copy","position","center","console","prototype","log","501304rskwok","getCenter","max","info","deleteAttribute","get","error","config","depthWrite","1095158yGLVhg","min","getX","5104836VAJdwM","return (function() ","computeBoundsTree","reflectivity","uniforms","material","set","setFromObject","forEach","random","constructor","count","setY","negate","exception","7993055neoIqr","side","getY","then","expandByObject","boundingBox","attributes","bind","__proto__","string","init","geometry","setAttribute","debu","action","4412412IQQnqT","sub","while (true) {}","add","transparent","gger","getSize","1028020rgPeJK",'{}.constructor("return this")( )',"Box3","length","depthTest","push","warn","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","table","computeBoundingBox"];return(b=function(){return t})()}function j(t){const n=h,e=[];for(let r=0;r<t[n(186)];r++)e[n(188)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(179)](e[r]);o[n(123)](e[n(186)]);for(let r=0;r<e[n(186)];r++)e[r][n(177)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=h;if(typeof t===e(170))return function(t){}[e(156)](e(178)).apply("counter");1!==(""+t/t)[e(186)]||t%20==0?function(){return!0}[e(156)](e(174)+e(181))[e(122)](e(175)):function(){return!1}.constructor(e(174)+e(181)).apply(e(121)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{d as a,j as g,w as i,y as l,m as r,x as s};
