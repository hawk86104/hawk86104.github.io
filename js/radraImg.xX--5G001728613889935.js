import{z as t,p as n,Y as e}from"./@tresjs.BSMy0VpY1728613889935.js";import{_ as o,Y as r,V as i}from"./three.-yu4716U1728613889935.js";import{_ as c,n as s}from"./three-tile.rGySB-KI1728613889935.js";import{_ as a,a as u}from"./informationDiv.jJNwdPYT1728613889935.js";import{d as p,a4 as l,w as f,o as m,E as h,L as g,u as d,r as y,b as I,f as b,g as w,j as _,m as j,al as x,F as v,e as S,aj as T,ak as z}from"./@vue.JNsx1iN61728613889935.js";import{P as E}from"./tweakpane.yHWGBmom1728613889935.js";import"./@vueuse.lr_j1bUm1728613889935.js";import"./@fesjs._J_IrcQ81728613889935.js";import"./vue-router.KPucoEDD1728613889935.js";import"./lodash-es.kYt-_xTG1728613889935.js";import"./@qlin.yHhFDldE1728613889935.js";import"./pinia.uQEpjCI81728613889935.js";import"./@floating-ui.BPbuo5Gx1728613889935.js";import"./@juggle.7yjBMqoW1728613889935.js";const M=B;!function(t,n){const e=B,o=Z();for(;;)try{if(850349===-parseInt(e(278))/1*(-parseInt(e(274))/2)+parseInt(e(294))/3+-parseInt(e(306))/4*(-parseInt(e(276))/5)+-parseInt(e(292))/6+parseInt(e(298))/7+parseInt(e(300))/8*(parseInt(e(279))/9)+parseInt(e(311))/10*(-parseInt(e(286))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=B,n=new RegExp(t(290)),e=new RegExp(t(264),"i"),o=C(t(301));n.test(o+t(299))&&e[t(283)](o+"input")?C():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["vertexShader","error","map","needsUpdate","3069314aHsWGH",'{}.constructor("return this")( )',"145BhjPvN","replace","1JUEIXk","90TkPhQW","push","position","bind","test","height","warn","28412450VKHdDc","onBeforeCompile","counter","table","function *\\( *\\)","while (true) {}","2195040LvNlTV","opacity","3017232EmUbBx","log","matrix","string","7679567eKIdeJ","chain","1027496qMmVEO","init","color","return (function() ","gger","TresGroup","201412WpzYMs","console","geo2pos","toString","DoubleSide","20chcPqZ","MeshPhongMaterial","position-y","apply","info","constructor","debu","call","exception","uniform sampler2D map;\n\t","applyMatrix4","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","TresPlaneGeometry","scale","scaleImg","length"];return(Z=function(){return t})()}function B(t,n){const e=Z();return(B=function(t,n){return e[t-=257]})(t,n)}k(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(303)+t(275)+");")()}catch(e){n=window}return n}(),e=n[t(307)]=n.console||{},o=[t(295),t(285),t(257),t(271),t(261),t(289),"trace"];for(let r=0;r<o[t(269)];r++){const n=k[t(258)].prototype[t(282)](k),i=o[r],c=e[i]||n;n.__proto__=k[t(282)](k),n[t(309)]=c[t(309)][t(282)](c),e[i]=n}}))();const A=[M(281)],D=[M(267),"material","rotateX",M(313)],L=[g(M(266),{args:[1,1,529,420]},null,-1)],W=p({__name:"radraImgShow",props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=M;let c,s;const u=n,p=new(o[e(312)])({displacementMap:new r,transparent:!0,side:o[e(310)],opacity:u[e(293)],displacementScale:.5,displacementBias:0});p[e(287)]=t=>{const n=e;t[n(270)]=n(262)+t[n(270)],t[n(270)]=t[n(270)][n(277)]("#include <displacementmap_vertex>","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const y=u[e(272)][e(308)](new i(105,34,0));y[e(263)](u.map[e(296)]);const I=a[e(268)](u[e(272)],{x:67,y:11},{x:140,y:57},u[e(284)]),b=[];for(let t=0;t<9;t++)b[e(280)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+"40.png");let w=0;const _=([c,s]=l((()=>t(b))),c=await c,s(),c);p[e(272)]=_[w],f((()=>[u[e(302)],u.opacity]),(([t,n])=>{p.opacity=n}));let j=null,x=!1;return x?(clearInterval(j),j=null,x=!1):(j=setInterval((()=>{const t=B;w=w<b[t(269)]-1?w+1:0,p[t(272)]=_[w],p[t(273)]=!0,console[t(295)](w)}),1e3),x=!0),(t,n)=>{const o=e;return m(),h(o(305),{position:[...d(y)]},[g("TresMesh",{scale:[d(I).x,d(I).y,t[o(284)]],material:d(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(284)]/5},L,8,D)],8,A)}}});function C(t){function n(t){const e=B;if(typeof t===e(297))return function(t){}[e(258)](e(291))[e(314)](e(288));1!==(""+t/t)[e(269)]||t%20==0?function(){return!0}[e(258)](e(259)+"gger")[e(260)]("action"):function(){return!1}.constructor(e(259)+e(304)).apply(e(265)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=O;!function(t,n){const e=O,o=F();for(;;)try{if(101913===parseInt(e(344))/1*(parseInt(e(373))/2)+-parseInt(e(354))/3*(-parseInt(e(356))/4)+-parseInt(e(330))/5+-parseInt(e(331))/6+parseInt(e(337))/7*(parseInt(e(338))/8)+-parseInt(e(377))/9+parseInt(e(378))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(359)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Q(this,(function(){const t=O,n=new RegExp(t(349)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=J("init");n[t(346)](o+t(335))&&e[t(346)](o+t(383))?J():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(359)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();R(void 0,(function(){const t=O;let n;try{n=Function(t(342)+t(380)+");")()}catch(r){n=window}const e=n[t(355)]=n.console||{},o=[t(364),t(363),t(334),"error","exception",t(361),"trace"];for(let i=0;i<o[t(350)];i++){const n=R[t(362)].prototype[t(371)](R),r=o[i],c=e[r]||n;n[t(326)]=R[t(371)](R),n.toString=c.toString[t(371)](c),e[r]=n}}))();const Y=[N(340)];function F(){const t=["copy","position","TresDirectionalLight","target","bind","tdLight","612cNvthz","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","counter","Vector3","1351251ZLigAe","3664990Cdchyg","showLocation",'{}.constructor("return this")( )',"height","addBinding","input","透明度","mapBoxShow3","mapbox.satellite","__proto__","geo2pos","primitive","call","751570cePQQp","915504YwQrXn","opacity","while (true) {}","info","chain","domElement","21xgPCMY","308848ZZWZtz","terrain-rgb","object","image","return (function() ","gger","109KEXupu","string","test","stateObject","TileMap","function *\\( *\\)","length","MapBoxSource","mapbox.terrain-rgb","action","39279esLBCz","console","12lzJYMQ","controlsEvents","value","apply","plugin","table","constructor","warn","log","debu","rotateX"];return(F=function(){return t})()}function O(t,n){const e=F();return(O=function(t,n){return e[t-=325]})(t,n)}const V=N(374),H=p({__name:N(385),setup(t){const e=N,r=y({height:200,opacity:1}),i=new E({title:"参数"});i.addBinding(r,e(381),{label:"高度",min:10,max:300,step:1}),i[e(382)](r,e(332),{label:e(384),min:0,max:1,step:.1});const u=new(c[e(360)][e(351)])({token:V,dataType:e(341),style:e(325)}),p=new(s[e(351)])({token:V,dataType:e(339),style:e(352),maxLevel:15}),l=new(c[e(348)])({imgSource:u,demSource:p,lon0:90,minLevel:2,maxLevel:20});l[e(366)](-Math.PI/2);const S=new(o[e(376)])(105,34,0),T=new(o[e(376)])(110,0,1e4),z=l.localToWorld(l[e(327)](S)),M=l.localToWorld(l[e(327)](T)),P=I(),{camera:k,controls:Z,scene:B,renderer:A}=n();return k[e(358)]&&k[e(358)][e(368)][e(367)](M),f((()=>Z[e(358)]),(t=>{const n=e;t&&(t[n(370)].copy(z),a[n(357)](t,k.value,B[n(358)]))})),f((()=>P[e(358)]),(t=>{const n=e;t&&t[n(370)][n(368)][n(367)](z)})),a[e(379)](k[e(358)],A.value[e(336)],l),(t,n)=>{const o=e;return m(),h(v,null,[g(o(369),{ref_key:o(372),ref:P,position:[0,2e3,1e3],intensity:1},null,512),g(o(328),{object:d(l)},null,8,Y),(m(),b(x,null,{default:w((()=>[_(W,j({map:d(l)},r),null,16,["map"])])),_:1}))],64)}}});function J(t){function n(t){const e=O;if(typeof t===e(345))return function(t){}[e(362)](e(333)).apply(e(375));1!==(""+t/t)[e(350)]||t%20==0?function(){return!0}[e(362)](e(365)+e(343))[e(329)](e(353)):function(){return!1}[e(362)](e(365)+"gger").apply(e(347)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=G;!function(t,n){const e=G,o=et();for(;;)try{if(383071===-parseInt(e(271))/1*(-parseInt(e(278))/2)+-parseInt(e(270))/3*(parseInt(e(267))/4)+parseInt(e(279))/5*(parseInt(e(284))/6)+-parseInt(e(253))/7+-parseInt(e(266))/8*(-parseInt(e(264))/9)+parseInt(e(254))/10*(parseInt(e(259))/11)+-parseInt(e(251))/12*(parseInt(e(249))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(t,n){const e=et();return(G=function(t,n){return e[t-=248]})(t,n)}!function(){$(this,(function(){const t=G,n=new RegExp(t(250)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=nt("init");n[t(258)](o+t(263))&&e.test(o+"input")?nt():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=G;let n;try{n=Function("return (function() "+t(252)+");")()}catch(r){n=window}const e=n[t(273)]=n[t(273)]||{},o=["log",t(275),t(283),t(260),t(255),"table","trace"];for(let i=0;i<o[t(274)];i++){const n=K[t(276)][t(257)][t(269)](K),r=o[i],c=e[r]||n;n[t(286)]=K.bind(K),n[t(272)]=c.toString[t(269)](c),e[r]=n}}))();const U=g(X(265),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),q=g(X(285),{intensity:1},null,-1),tt=p({__name:X(261),setup(t){const n=y({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:X(256)}),o=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,r)=>{const i=S("TresCanvas");return m(),h(v,null,[_(i,j(n,{"window-size":""}),{default:w((()=>[U,_(d(e),T(z(o)),null,16),q,_(H)])),_:1},16),_(u)],64)}}});function nt(t){function n(t){const e=G;if(typeof t===e(277))return function(t){}[e(276)](e(280))[e(268)]("counter");1!==(""+t/t)[e(274)]||t%20==0?function(){return!0}.constructor("debu"+e(262))[e(281)](e(282)):function(){return!1}[e(276)](e(248)+e(262))[e(268)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function et(){const t=["TresPerspectiveCamera","768PBgppE","6676AJVZHr","apply","bind","822kCmVlS","1NYNIuM","toString","console","length","warn","constructor","string","55224uTZeCK","931090dpExxo","while (true) {}","call","action","info","12JnkEbZ","TresAmbientLight","__proto__","debu","13cheOPP","function *\\( *\\)","2983236RApcdO",'{}.constructor("return this")( )',"746529bWZgsm","2360410zSPgQM","exception","highp","prototype","test","33Kpkjae","error","radraImg","gger","chain","8199uDNEiT"];return(et=function(){return t})()}export{tt as default};
