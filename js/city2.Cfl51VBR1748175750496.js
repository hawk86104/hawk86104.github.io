import{e as o,k as n,a as e}from"./@tresjs.B58fmDCJ1748175750496.js";import{n as t,br as r,C as W,p as i,bq as c,a2 as a,ab as d,aI as s,cv as u,cw as l,cx as m,cy as f}from"./three.CMW1jU-t1748175750496.js";import{z as k}from"./three-custom-shader-material.CWkhF8Tz1748175750496.js";import{r as v,i as S,s as h}from"./utils.CwMuZiLZ1748175750496.js";import{b as C,a as p}from"./buildingsCustomShaderMaterial.DyBo--wu1748175750496.js";import{d as g,a5 as x,b as R,G as O,o as b,e as G,j as P,am as y,f as q,I as w,u as N,F as J,h as Q}from"./@vue.C_fjx3FT1748175750496.js";import{_ as V}from"./roadLight.vue_vue_type_script_setup_true_lang.DSpnq3fV1748175750496.js";import"./postprocessing.B9ARLmQH1748175750496.js";import"./@vueuse.BIIpTDNs1748175750496.js";import"./@fesjs.D2Kxg6di1748175750496.js";import"./vue-router.BF4Rz2Wq1748175750496.js";import"./lodash-es.C7pWAXPe1748175750496.js";import"./@qlin.q6OWdsQV1748175750496.js";import"./pinia.C6NpLwew1748175750496.js";import"./@babel.BPq7uOAK1748175750496.js";import"./@floating-ui.BFjFSAYt1748175750496.js";import"./@juggle.CcBCnTIR1748175750496.js";import"./three-mesh-bvh.B5iSs7Pm1748175750496.js";!function(){var o=Z();function n(o,n,e,t,r){return D(e-235,o)}function e(o,n,e,t,r){return D(n- -444,o)}function t(o,n,e,t,r){return D(o-653,r)}function r(o,n,e,t,r){return D(r-84,o)}for(;;)try{if(128735===-parseInt(n("SyGR",0,631))/1*(-parseInt(n("Hohd",0,597))/2)+-parseInt(n("SyGR",0,748))/3+parseInt(r("YD&s",0,0,0,553))/4*(parseInt(n("(B2H",0,660))/5)+-parseInt(e("vgHa",-4))/6+-parseInt(r(")3[4",0,0,0,526))/7*(-parseInt(t(1087,0,0,0,"*shG"))/8)+-parseInt(e("^au%",-86))/9*(parseInt(D(-203- -616,"&S01"))/10)+parseInt(n("upDy",0,601))/11*(parseInt(t(1134,0,0,0,"I3wB"))/12))break;o.push(o.shift())}catch(W){o.push(o.shift())}}();var H,I=(H=!0,function(o,n){function e(o,n,e,t,r){return D(e-689,r)}function t(o,n,e,t,r){return D(r-34,t)}if(e(0,0,1050,0,"afZO")!==e(0,0,1089,0,"AFq@")){var r=H?function(){function e(o,n,e,r,W){return t(0,0,0,W,e-643)}if(e(0,0,1084,0,"YDFK")===t(0,0,0,"Xu7X",463))return!1;if(n){if(e(0,0,1163,0,"w^Id")===e(0,0,1121,0,"(eDv")){var r=n[(W=58,i="vHl&",t(0,0,0,i,W- -453))](o,arguments);return n=null,r}_0x1d3ade(0)}var W,i}:function(){};return H=!1,r}_0xde0dea=_0x394d93(D(423,"YDFK")+t(0,0,0,"8^AW",569)+");")()})(void 0,(function(){function o(o,n,e,t,r){return D(r- -994,n)}return I[o(0,"o*1j",0,0,-528)]().search("(((.+)+)+)+$")[o(0,"xIbT",0,0,-460)]()[(t="Mekz",r=-275,D(r- -655,t))](I)[(n="ILGH",e=-391,D(e- -747,n))]("(((.+)+)+)+$");var n,e,t,r}));I();var K,j=(K=!0,function(o,n){function e(o,n,e,t,r){return D(t-445,o)}function t(o,n,e,t,r){return D(e-442,n)}if(e("SyGR",0,0,904)===e("vgHa",0,0,846)){var r=K?function(){function t(o,n,t,r,W){return e(n,0,0,r- -185)}if(n){if("AABnB"===t(0,"vHl&",0,653)){var r=n[t(0,"#osU",0,695)](o,arguments);return n=null,r}if(_0xe87539)return _0x4e37b1;_0x460a77(0)}}:function(){};return K=!1,r}var W,i;this.uniforms.time[t(0,"7a&q",935)]=this[t(0,"I3wB",826)][(W=-317,i="8^AW",D(W- -834,i))]()});!function(){j(this,(function(){function o(o,n,e,t,r){return D(e-355,t)}function n(o,n,e,t,r){return D(r- -628,t)}function e(o,n,e,t,r){return D(t- -334,e)}function t(o,n,e,t,r){return D(r- -484,o)}if("MKWqI"!==o(0,0,860,"DhwI")){(function(){var n;try{n=_0x4d065b("return (function() "+(o(0,0,899-157,"*shG")+");"))()}catch(e){n=_0x432e28}return n})().setInterval(_0x326e8c,4e3)}else{var r=new RegExp(n(0,0,0,"Hohd",-154)),W=new RegExp(o(0,0,877,"X0]A"),"i"),i=X(n(0,0,0,"7a&q",-220));if(r[(s="5esS",u=-68,D(u- -454,s))](i+n(0,0,0,"upDy",-141))&&W[o(0,0,722,"I3wB")](i+t("LCqQ",0,0,0,-16)))if("YEVlQ"===n(0,0,0,"7a&q",-167)){var c=new _0x4c8ddc(t("(B2H",0,0,0,-113)),a=new _0x16f0ec(n(0,0,0,"*shG",-124),"i"),d=_0x4d7e28(e(0,0,"Mekz",165));c[n(0,0,0,"I3wB",-261)](d+"chain")&&a[e(0,0,"*shG",23)](d+t("8^AW",0,0,0,-35))?_0x3141ba():d("0")}else X();else t("j3Xy",0,0,0,-121)===e(0,0,"#osU",141)?i("0"):_0x3b1509=_0x3df61e}var s,u}))()}();var L,B,T,_=(L=!0,function(o,n){function e(o,n,e,t,r){return D(t-173,n)}function t(o,n,e,t,r){return D(e- -829,r)}if(t(0,0,-434,0,"X!DR")!==e(0,"g4Um",0,676)){var r=L?function(){function r(o,n,e,r,W){return t(0,0,r-218,0,o)}function W(o,n,t,r,W){return e(0,r,0,W- -108)}function i(o,n,t,r,W){return e(0,o,0,r-243)}if("dpdnt"===W(0,0,0,"o*1j",438))return _0x1ab75f;if(n){if(W(0,0,0,"Inq1",527)===W(0,0,0,"C2YG",502))return _0x5863e0[W(0,0,0,")BH]",547)]()[r("^au%",0,0,-81)](i("gkJF",0,0,913))[(a="o*1j",d=-477,t(0,0,d- -114,0,a))]().constructor(_0x2e5e7a)[i("U%3v",0,0,852)](i("ZG(s",0,0,808));var c=n[r("X!DR",0,0,-185)](o,arguments);return n=null,c}var a,d}:function(){};return L=!1,r}_0x4ca06b()}),F=_(void 0,(function(){var o;function n(o,n,e,t,r){return D(e- -344,r)}try{if("LbYdA"!==r(379,424,405,475,"nXXB")){var e=_0x4c8fb0.apply(_0x50a5d4,arguments);return _0x1d8933=null,e}o=Function(r(371,377,387,299,"gkJF")+c(-610,"]*uI",-615,-587,-622)+");")()}catch(m){if(D(227- -246,"ILGH")!==r(453,361,378,429,")3[4")){var t=_0x221443?function(){if(_0x33aa6f){var o=_0x45f0d1[(n=64,e="U%3v",t=33,W=2,r(n-144,e-40,W- -404,t-440,e))](_0x5dc7c1,arguments);return _0x2018d2=null,o}var n,e,t,W}:function(){};return _0x690856=!1,t}o=window}function r(o,n,e,t,r){return D(e- -4,r)}var W=o[c(-586,"#osU")]=o.console||{},i=["log",r(0,0,415,0,"Mekz"),r(0,0,417,0,"mNb^"),c(-485,"^au%"),c(-500,")BH]"),"table","trace"];function c(o,n,e,t,r){return D(o- -985,n)}for(var a=0;a<i.length;a++){if("twTcQ"===n(0,0,183,0,"xIbT")){var d=_0x27a2b5?function(){if(_0x5dbcc2){var o=_0x54d540.apply(_0x25322b,arguments);return _0xc85747=null,o}}:function(){};return _0x31dcd4=!1,d}var s=_.constructor.prototype[n(0,0,67,0,"*shG")](_),u=i[a],l=W[u]||s;s[n(0,0,97,0,"j3Xy")]=_[c(-487,"(B2H")](_),s[n(0,0,111,0,")3[4")]=l[c(-507,"@UZI")].bind(l),W[u]=s}}));(function(){function o(o,n,e,t,r){return D(n-753,t)}function n(o,n,e,t,r){return D(e- -188,n)}function e(o,n,e,t,r){return D(t- -425,o)}function t(o,n,e,t,r){return D(t-463,e)}function r(o,n,e,t,r){return D(o-58,e)}if(e("YD&s",0,0,-49)===r(428,0,"S7^U")){var W;try{r(447,0,"LEtm")!==e("LCqQ",0,0,-22)?W=Function(e("upDy",0,0,6)+'{}.constructor("return this")( ));')():_0x4654e7(this,(function(){var e,t,W=new _0x27c1bc("function *\\( *\\)"),i=new _0x2e66e6("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),c=_0xb4f28(n(0,"X!DR",301));W.test(c+o(0,1201,0,"S7^U"))&&i[(e="wzM7",t=591,r(t-94,0,e))](c+"input")?_0x451d83():c("0")}))()}catch(f){if(e("j3Xy",0,0,94)===t(0,0,"Mekz",910)){var i=_0xba0a3[t(0,0,"(B2H",987)](_0xd79432,arguments);return _0x43ad38=null,i}W=window}return W}var c;try{c=_0x53f080('return (function() {}.constructor("return this")( ));')()}catch(k){c=_0x756e35}for(var a=c[n(0,"S7^U",288)]=c[r(426,0,"X0]A")]||{},d=[o(0,1210,0,"LCqQ"),"warn",o(0,1157,0,"^au%"),"error","exception",e("iwJz",0,0,-3),o(0,1264,0,"&S01")],s=0;s<d.length;s++){var u=_0x4657b9.constructor[e("YD&s",0,0,-37)][o(0,1243,0,"^au%")](_0x588bb4),l=d[s],m=a[l]||u;u[e("nXXB",0,0,-8)]=_0x51aa8e[n(0,"Ap0c",276)](_0x988112),u.toString=m[o(0,1147,0,"(B2H")][t(0,0,"j3Xy",844)](m),a[l]=u}})()[(B=234,T="LEtm",D(B- -149,T))](X,4e3),F();class U extends t{constructor(o={}){function n(o,n,e,t,r){return D(e- -34,t)}function e(o,n,e,t,r){return D(o-972,r)}function t(o,n,e,t,r){return D(o-166,r)}function d(o,n,e,t,r){return D(n-94,r)}super(),this[e(1486,1496,1497,1549,"C2YG")]=D(-210- -607,"0&A^"),this[d(660,600,683,529,"8^AW")]=" \n      varying vec2 vUv;\n      varying vec3 vPositionW;\n      varying vec4 vPos;\n      varying vec3 vNormalW;\n      \n      uniform float time;\n      uniform float fresnelOpacity;\n      uniform float scanlineSize;\n      uniform float fresnelAmount;\n      uniform float signalSpeed;\n      uniform float hologramBrightness;\n      uniform float hologramOpacity;\n      uniform bool blinkFresnelOnly;\n      uniform bool enableBlinking;\n      uniform vec3 hologramColor;\n\n      float flicker( float amt, float time ) {return clamp( fract( cos( time ) * 43758.5453123 ), amt, 1.0 );}\n      float random(in float a, in float b) { return fract((cos(dot(vec2(a,b) ,vec2(12.9898,78.233))) * 43758.5453)); }\n\n      void main() {\n        vec2 vCoords = vPos.xy;\n        vCoords /= vPos.w;\n        vCoords = vCoords * 0.5 + 0.5;\n        vec2 myUV = fract( vCoords );\n\n        // Defines hologram main color\n        vec4 hologramColor = vec4(hologramColor, mix(hologramBrightness, vUv.y, 0.5));\n\n        // Add scanlines\n        float scanlines = 10.;\n        scanlines += 20. * sin(time *signalSpeed * 20.8 - myUV.y * 60. * scanlineSize);\n        scanlines *= smoothstep(1.3 * cos(time *signalSpeed + myUV.y * scanlineSize), 0.78, 0.9);\n        scanlines *= max(0.25, sin(time *signalSpeed) * 1.0);        \n        \n        // Scanlines offsets\n        float r = random(vUv.x, vUv.y);\n        float g = random(vUv.y * 20.2, \tvUv.y * .2);\n        float b = random(vUv.y * .9, \tvUv.y * .2);\n\n        // Scanline composition\n        hologramColor += vec4(r*scanlines, b*scanlines, r, 1.0) / 84.;\n        vec4 scanlineMix = mix(vec4(0.0), hologramColor, hologramColor.a);\n\n        // Calculates fresnel\n        vec3 viewDirectionW = normalize(cameraPosition - vPositionW);\n        float fresnelEffect = dot(viewDirectionW, vNormalW) * (1.6 - fresnelOpacity/2.);\n        fresnelEffect = clamp(fresnelAmount - fresnelEffect, 0., fresnelOpacity);\n\n        // Blinkin effect\n        //Suggested by Octano - https://x.com/OtanoDesign?s=20\n        float blinkValue = enableBlinking ? 0.6 - signalSpeed : 1.0;\n        float blink = flicker(blinkValue, time * signalSpeed * .02);\n    \n        // Final shader composition\n        vec3 finalColor;\n\n        if(blinkFresnelOnly){\n          // finalColor = vec3(1.0,1.0,0);\n          finalColor = scanlineMix.rgb + fresnelEffect * blink;\n        }else{\n          finalColor = scanlineMix.rgb * blink + fresnelEffect;\n        }\n\n        gl_FragColor = vec4( finalColor, hologramOpacity);\n\n      }",this[e(1455,1452,1475,1435,"LEtm")]={time:new r(0),fresnelOpacity:new r(void 0!==o[d(574,601,542,669,"RZTk")]?o[n(313,329,384,"RKdv")]:1),fresnelAmount:new r(void 0!==o[t(568,641,629,500,")3[4")]?o[t(629,635,703,599,"LCqQ")]:.45),scanlineSize:new r(void 0!==o[t(662,687,627,593,"S7^U")]?o.scanlineSize:8),hologramBrightness:new r(void 0!==o[d(542,532,561,490,"afZO")]?o[e(1490,1446,1467,1498,"U%3v")]:1),signalSpeed:new r(void 0!==o[e(1488,1499,1424,1553,"&S01")]?o[e(1362,1363,1406,1398,"*shG")]:1),hologramColor:new r(void 0!==o.hologramColor?new W(o[n(442,516,426,"U%3v")]):new W("#00d5ff")),enableBlinking:new r(void 0===o[e(1405,1420,1382,1342,"wzM7")]||o[d(516,573,655,492,"xIbT")]),blinkFresnelOnly:new r(void 0===o.blinkFresnelOnly||o[e(1498,1425,1418,1553,"nXXB")]),hologramOpacity:new r(void 0!==o[e(1384,1467,1296,1349,"*shG")]?o[n(409,372,393,"gkJF")]:1)},this[d(440,454,489,412,"SyGR")]=new i,this.setValues(o),this.depthTest=void 0!==o.depthTest&&o[d(518,500,503,532,"Ap0c")],this[d(516,586,532,547,"0&A^")]=void 0!==o[t(616,0,0,0,"X!DR")]?o[e(1402,0,0,0,"LEtm")]:c,this.transparent=!0,this.side=void 0!==o.side?o[d(0,458,0,0,"gkJF")]:a}update(){function o(o,n,e,t,r){return D(r-369,t)}var n,e,t,r;this[o(0,0,0,"#osU",890)][o(0,0,0,"*shG",743)][(t="afZO",r=656,D(r-172,t))]=this[(n=266,e="g4Um",D(n- -150,e))].getElapsedTime()}}function X(o){function n(o,n,e,t,r){return D(r- -697,o)}function e(o){function n(o,n,e,t,r){return D(n-574,r)}function t(o,n,e,t,r){return D(t-943,n)}function r(o,n,e,t,r){return D(o- -273,r)}function W(o,n,e,t,r){return D(t- -750,e)}function i(o,n,e,t,r){return D(n- -779,o)}if("rEtnr"===i("YDFK",-402)){if(typeof o===t(0,"U%3v",0,1474))return t(0,"SyGR",0,1472)!==i("*shG",-326)?function(o){}[t(0,")BH]",0,1434)](i("nXXB",-328))[W(0,0,"iwJz",-372)](i("*shG",-334)):function(o){}[W(0,0,"*shG",-279)](t(0,"(B2H",0,1312))[t(0,"afZO",0,1308)](r(215,0,0,0,"g4Um"));if(r(185,0,0,0,"nXXB")!==r(247,0,0,0,"@UZI"))(function(){return!0})[n(0,1028,0,0,"#osU")](i("(B2H",-256)+"gger")[t(0,")BH]",0,1408)](W(0,0,"gkJF",-270));else if(1!==(""+o/o)[t(0,")BH]",0,1341)]||o%20==0)if(i("Xu7X",-420)!==r(236,0,0,0,"(eDv"))(function(){if("EXtjp"!==n(0,-189- -1291,0,0,"afZO"))return!0;var o,e,t=_0x224db1[(o="@UZI",e=541,n(0,e- -465,0,0,o))](_0x1d0898,arguments);return _0x5aa73c=null,t})[n(0,1045,0,0,"*shG")]("debu"+n(0,953,0,0,"#osU"))[W(0,0,"o*1j",-249)](n(0,1086,0,0,"o*1j"));else{var c=_0x1f744f("return (function() "+t(0,"AFq@",0,1413)+");");_0xdfab8=c()}else if("aftik"!==W(0,0,"U%3v",-283))(function(){return!1})[i("mNb^",-365)](W(0,0,"I3wB",-256)+t(0,"Xu7X",0,1328))[r(170,0,0,0,"YD&s")](r(199,0,0,0,"C2YG"));else if(_0x48404d){var a=_0x2e31d9[r(162,0,0,0,"#osU")](_0x1d8b5a,arguments);return _0x3c5be7=null,a}e(++o)}else(function(){return!1})[r(179,0,0,0,"ZG(s")](i("vHl&",-269)+"gger").apply("stateObject")}try{if(n("U%3v",0,0,0,-165)!==D(154- -302,"upDy"))if(o){if("JGkPh"===n("Inq1",0,0,0,-282))return e;_0x3ba09d=_0x22991a}else if("eDxqf"!==D(472-44,"LEtm")){if(_0x3ff444){var t=_0x3f4501[n("Xu7X",0,0,0,-273)](_0x44914a,arguments);return _0x6bccd4=null,t}}else e(0);else _0x49cba9("0")}catch(r){}}function D(o,n){var e=Z();return D=function(n,t){var r=e[n-=356];if(void 0===D.trSzbU){var W=function(o){for(var n,e,t="",r="",i=t+W,c=0,a=0;e=o.charAt(a++);~e&&(n=c%4?64*n+e:e,c++%4)?t+=i.charCodeAt(a+10)-10!=0?String.fromCharCode(255&n>>(-2*c&6)):c:0)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var d=0,s=t.length;d<s;d++)r+="%"+("00"+t.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(r)};D.SXXwvW=function(o,n){var e,t,r=[],i=0,c="";for(o=W(o),t=0;t<256;t++)r[t]=t;for(t=0;t<256;t++)i=(i+r[t]+n.charCodeAt(t%n.length))%256,e=r[t],r[t]=r[i],r[i]=e;t=0,i=0;for(var a=0;a<o.length;a++)i=(i+r[t=(t+1)%256])%256,e=r[t],r[t]=r[i],r[i]=e,c+=String.fromCharCode(o.charCodeAt(a)^r[(r[t]+r[i])%256]);return c},o=arguments,D.trSzbU=!0}var i=n+e[0],c=o[i];if(c)r=c;else{if(void 0===D.dFxGkV){var a=function(o){this.tIMzcU=o,this.dhtqlt=[1,0,0],this.QbiWHD=function(){return"newState"},this.DhLPtC="\\w+ *\\(\\) *{\\w+ *",this.XOTimw="['|\"].+['|\"];? *}"};a.prototype.RDfatK=function(){var o=new RegExp(this.DhLPtC+this.XOTimw).test(this.QbiWHD.toString())?--this.dhtqlt[1]:--this.dhtqlt[0];return this.VLslab(o)},a.prototype.VLslab=function(o){return Boolean(~o)?this.AtUhCI(this.tIMzcU):o},a.prototype.AtUhCI=function(o){for(var n=0,e=this.dhtqlt.length;n<e;n++)this.dhtqlt.push(Math.round(Math.random())),e=this.dhtqlt.length;return o(this.dhtqlt[0])},new a(D).RDfatK(),D.dFxGkV=!0}r=D.SXXwvW(r,t),o[i]=r}return r},D(o,n)}function Z(){var o=["gCoudGhdOW","DHRcKComxZm","BCkDmmoAeW","ytCnWQpdMmkyl1CxW7zlW69zbCo7WORdNSk1","iN42WR4","erhcSGSWWRGHWQ1cW4OmeSoE","W6ddNmopm8olWRldPdTC","WOFcJfpdQuDQhCowWQXJWQVdN0G","z8keAK8X","W7jMt8kKWRy","gftdLv7cU8oqW6e","F8koWP8irSkWW5xdLLTeWOOU","fhNcMH4f","W6OHxCk0vW","pYJdGCo0dW","eZ81W45PWO42WPtdRG","WOS1xZBcHmoSW4RdNxxcMCkytdRcNCk0","WQtdNdZdRHTfgmoiheHk","mvBdQwFcNG","g8oleb7dRSkYqXCvac0","W4ldLJxcRay3rmoI","AmoeW7tcMdO","ugKD","WPy7rb7cKq","WRDnW57dI8oI","BrdcNmorwYLNW5juW6ZcMmkSWQ0","mSoHdmojqG","EJy+WQhcVG","wNqFW6FdOthcN8kYzXLZi8oe","W551WPVdLq","v8k6svO","smkVWRpdOHvKfwK","qWRcICokuG","vwGkW6hdUW","nCogkNq4qCoAWRPI","W6TuWO/cNCkhAshdN8kAnSkoogNcI8kdl8oLW7SyWOGqWOXGW4bums/cJb3dHCkeWQq","gftdJKpcU8ohW6yfm8oxW6q","zmkop8own0OzWRVdKSorrG","W6fEagFdPG","fSo2rCovEH/dVqbAcr0fFSk/WOXv","d8oZmbFdIG","W6OMuSkUvSoSWOa","W5RcSg4hW68","W5yJu21YW6ldSSo6","k8ouW4DEhCoJW77dI0TBWRqHWP8J","wub4BSkuFq","os/dH3xcTHldHwu","qmk0DKiAiSkbiq","F8kcWQKeo8k+WPnT","FZKnWRNdMG","uCkJrLmyp8kgkt4","b8oeq8omca","ASoOW53cNaC","W5JcUchcMs3dVIm","gd05W5q","jtPQW7q","v8k0s0uCoCkAjsrAWPy","WRaSAmkEW4fuFmo0","dmofk8oruW","AxldSe4","W41TaM3dKCo8W5ddGf3cNCkWd1u","W7OQxCkZvCoPWOTlW4vPWQfW","eaSKkCoqoSkgA8o6W5XjrG","WPewo3G","fgxcKcq","iIf2W7/cLa","x8kHWOZdUG","FsWTnfldI2tcLSo4","W57cTJ7cVdm","jXddVbVdR8kFWRTzFCoJW7FcQaxcU8kFaxhdKmkfe8kMW6NdObG+BSoWW7xdVX3cJqWcW7K","W7nWsdZcUq","mdtdKmoMfJLesxjXWP7dGZxcOG","WRnQE8kIWRfHnWbbWOJdN3hcOCkg","WQqrW7tcSmkHsYddUa","W6XyCSkKWPG","W5/cPxWE","b8o8W4NdQZG","xCkJWPtdVWHJ","W6K+WO/cKCkIoG3cUqtdVCkOWQa","yCkFlmown30OWRNdLSowv1m","kgrTmvi","amoNW4/dPJZdJmk5WPy7WRxcGW","mspdHCoefZ1AtKr9WQVdJJ3cTq","BrdcNmorwYLNW5jvW7hcNCkKWRDwW7C/uJ4","W6ZdK8oSlSou","W4GQCL1W","dCokfWVdTCkYwWC","cIJdVmooWPOpW6ZdKHJcQcqNeSkaC8oIbWxdVt5nWPVcIrOTq2pcTmo0W5RdPvKFWOi","WPCAn2K","WPipjxddVq","oIhcOaNdJ2NdO2ZdICoHW5vj","WP4XxZtcISkkWPddJhtcGSkycvxcImkLtq","lmooW7vuhq","sGaiWPxdTW","WPPqW4xdS8oC","ndzLW6lcHtO","DGVcGSoxuJW","AIxcPCoiEW","pIlcP23cLqVdHx/dNa","oSovW7via8oVW5ldGa","ltVcN8oIfdjzsvnSWPZdKZ/cOK3dHbymwLDGsSoviJK8h8oGtCkEW5/cSG","W713dLVdLCkb","d17dK0q","DwC8WQxdNH8jcmkdlCkL","cSk1u3bi","WR1KW5ldGmo5","uZaiWQddRW","qCk3eSkcouddUX8duHrl","W4JdLmoXo8o0","s0POyG","AcGrWQddHG","omkWWOJdGLNcUSohoSkiDIXqjW","ExldOu8","nwZdJSkwW5vjWQe","WOqxphddOCoDW73dRSowW6zTsSoEuuC","W7WcEmknFq","WPuko3/dSmkuWRRdTmkeWRLus8oEagBcMq","q8k+pSo2nmojCvLH","vSkjWQFdLd8","d1ldJvu","mMKZpKtdLLtcPmoTW6zOdSk/BLVcUqrDhgeeW7S9W7NdSmkFtmk8W6NcQ8oHqG","C8k/xNmm","fmkgW6X1W5W","W64AWPiwxq","h8odgX8","hMtcLYmGW7FdRePgcSkB","W53dQSorjq","W5NdTqNcLIq","ECkjWRqRoSk4WPTSWPP2W4q","BNVdVvJcLa","g8k4F24","z1yzkq","aeBcJLpcOmoBW6asnConW7xdSrdcImkAEvZcKCkSpCoKWQRdUq17FCocW7RcJgRcIxG","DSkgDvCNzSolWQvg","s8kzWRKraa","cfldH17cRSozW4awiSoDW7i","sKz4CSkjFCknASk3WOamauRdRG8yW6bNoG","W6/cM3RcS0qErSkcqW4tWR4","W7RcGvWfW5q","WOCqbMJdTSkuWRVdVq","gJaDW45l","W69GW63dOCogxG8","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","wmk+s1eCiW","g8oleb7dTCkSuW","W6rXW7FcQSk4","swtdOvDZ","W5ddIWpcQXO7rSoeWQPKWPBdK14","vMGCW57dVa","lJ1IW78","W5pcSCoWf8k+tCk5FmoojSkk","W5H5WOxdHqBdTCkQWRCX","b8kWW7jXW4u","e8oklSoq","WRa/BZ7cOa","za/cGmosrq","gvldJLq","e1tdJf/cQmohW7ilcmoiW7FdPHBcJSol","r8k2WPJdOstdK8kPWQa5","WOldQSkMuCoYCSk9vSoPcSkB","EdKhWOFcKq","W5JcUZVcLdi","WQmcrIJcJSk4WO3dTLG","W67cOCkRuCoDne/cHZGjW75mvSkL","cMRcIZ4","z3mvWOGrjGu","WOJdQ8kUtq","W7SlWOawqq","fmkMW6XUW5XzbGldOKNcPqhcVJVdKYpdPxLJ","hCkVANb+","W4bkyeRdRSkOWQFdK8oJ","ecmGW4X0","ueXGAmkCyComl8kEWOudavFdSXK","B8kOWRGtmG","fCkrE3Tn","AmkaWQummmkbWPf6WOK","E8oLW4JcGbVdPmovE8k0CG9zhmoIr2RdL8ozrW","W4m8Chv5","m3uKWQGPebeoW7JdGcWmguu","q3tdLKRcM8ozW5C"];return(Z=function(){return o})()}const z=g({__name:"importantBuildings",props:{group:{}},setup(n){const e=n,t=0,r=0,i=15,a=1.3,s="#e05b0f",u=new U({blendMode:c,hologramBrightness:2.5,side:d});u.uniforms.fresnelAmount.value=t,u.uniforms.scanlineSize.value=i,u.uniforms.signalSpeed.value=a,u.uniforms.fresnelOpacity.value=r,u.uniforms.hologramColor.value=new W(s),u.uniforms.enableBlinking.value=!1,u.depthTest=!0;let l,m,f=null;(()=>{const o=e.group.getObjectByName("02-huanqiujinrongzhongxin_huanqiujinrongzhongxin_0");o.name="环球金融中心",o.material.dispose(),v(o.geometry),o.material=u,l=e.group.getObjectByName("01-shanghaizhongxindasha_shanghaizhongxindasha_0"),l.name="上海中心",l.material.dispose(),v(l.geometry),l.material=u.clone(),l.material.uniforms.hologramColor.value=new W("#006cf9"),l.material.uniforms.fresnelAmount.value=1,l.material.uniforms.scanlineSize.value=2.1,l.material.uniforms.signalSpeed.value=.4,m=e.group.getObjectByName("03-jinmaodasha_jjinmaodasha_0"),m.name="金茂大厦",m.material.dispose(),v(m.geometry),m.material=u.clone(),m.material.uniforms.hologramColor.value=new W("#5e0fe0"),m.material.uniforms.scanlineSize.value=15,m.material.uniforms.signalSpeed.value=.18,f=e.group.getObjectByName("04-dongfangmingzhu_dongfangmingzhu_0"),f.name="东方明珠塔",f.material.dispose(),v(f.geometry),f.material=u.clone(),f.material.uniforms.scanlineSize.value=5,f.material.uniforms.signalSpeed.value=1.3,f.material.uniforms.hologramColor.value=new W("#e00f0f"),f.material.uniforms.fresnelOpacity.value=.1})();const{onLoop:k}=o();return k((()=>{u.update(),l.material.update(),m.material.update(),f.material.update()})),(o,n)=>null}}),A=["object"],M=g({__name:"buildingsMode",async setup(e){let t,r;S();const{scene:i}=([t,r]=x((()=>n("./plugins/digitalCity/model/shanghaiDraco/shanghaiDraco.gltf",{draco:!0,decoderPath:"./draco/"}))),t=await t,r(),t),c=i.clone(),a=R(0);c.traverse((async o=>{if(o.isMesh&&(-1!==o.name.indexOf("Shanghai")||-1!==o.name.indexOf("Object")))if(-1!==o.name.indexOf("Floor"));else if(-1!==o.name.indexOf("River")){const n=await h(o);n.position.set(0,0,1800),o.add(n)}else(o=>{const{geometry:n}=o;n.computeBoundingBox(),n.computeBoundingSphere(),n.computeBoundsTree();const{max:e,min:t}=n.boundingBox,r=new k({baseMaterial:s,vertexShader:p,fragmentShader:C,silent:!0,uniforms:{uMax:{value:e},uMin:{value:t},uBorderWidth:{value:.006},uCircleTime:{value:3},uColor:{value:new W("#005c58")},uOpacity:{value:.8},uLightColor:{value:new W("#990")},uTopColor:{value:new W("#888800")},uTime:a,uGradient:{value:!0}},depthWrite:!0,depthTest:!0,transparent:!0,side:d});o.material.dispose(),o.material=r})(o),(o=>{const n=new u(o.geometry,1e3);let e=(new l).fromEdgesGeometry(n);e.computeBoundsTree();let t=new m({color:new W("#000"),linewidth:.8,opacity:.6,transparent:!0,depthWrite:!0,depthTest:!0});t.resolution.set(window.innerWidth,window.innerHeight),o.add(new f(e,t))})(o)}));const{onLoop:v}=o();return v((({delta:o})=>{a.value+=o})),(o,n)=>(b(),O(J,null,[(b(),G(y,null,{default:q((()=>[w("primitive",{object:N(c),position:[1,0,1],"cast-shadow":"","receive-shadow":""},null,8,A)])),_:1})),P(z,{group:N(c)},null,8,["group"])],64))}}),E=g({__name:"city2",setup:o=>(o,n)=>{const t=Q("TresCanvas");return b(),G(t,{shadows:"","window-size":"",clearColor:"#333"},{default:q((()=>[n[0]||(n[0]=w("TresPerspectiveCamera",{position:[.5,2,1.5],fov:45,near:.1,far:1e5},null,-1)),P(N(e)),n[1]||(n[1]=w("TresAmbientLight",{color:"#ffffff"},null,-1)),n[2]||(n[2]=w("TresDirectionalLight",{position:[0,3,3],intensity:2,color:"#ffffff","cast-shadow":"","shadow-mapSize-width":1024,"shadow-mapSize-height":1024},null,-1)),(b(),G(y,null,{default:q((()=>[P(M)])),_:1})),(b(),G(y,null,{default:q((()=>[P(V,{color:"#ffffff",radius:1,speed:1,geoJson:"plugins/digitalCity/geojson/secondarySmall.geojson","rotation-y":1.3826597599330712,scale:.001025905404044292,position:[-1.877460474821603,.01,-1.5464791950519081]})])),_:1})),n[3]||(n[3]=w("TresGridHelper",{args:[6,10],position:[0,0,0]},null,-1))])),_:1})}});export{E as default};
