import{e as t,U as n,b as e}from"./@tresjs.WiFlZbqU1734492426993.js";import{a6 as r,a0 as o,c as a,k as i,aF as s,t as c,cZ as u,s as l}from"./three.-W-Avfc61734492426993.js";import{z as f}from"./three-custom-shader-material.5sc6Ku_Y1734492426993.js";import{P as p}from"./tweakpane.yHWGBmom1734492426993.js";import{a as h}from"./axios.Ng308AU61734492426993.js";import{d,r as m,a6 as g,q as v,e as w,o as y,f as b,g as I,J as _,j as x,u as j,aj as C,ak as R,m as T}from"./@vue.-THQH3GC1734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";const k=S;function A(){const t=["trace","uniform vec2 uresolution;\n","debu","16IWFLll","counter","bind","332518RZsDQL",'{}.constructor("return this")( )',"test","call","utexture","7quLJGT","98140KKddhR","\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ","void main()","apply","uniforms","44WRWiel","split","console","exception","uniform float utime;\n","init","umouse","constructor","toString","928647rfvQSz","1hWPckp","__proto__","varying vec2 vUv;\n","material","utime","chain","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2325216AyoWjd","log","1173606zbPKKJ","info","uniform sampler2D  utexture;\n","replace","replaceVariable","length","function *\\( *\\)","1595885LWypkU","action","18399uqRIVO","csm_DiffuseColor","prototype","return (function() ","gger"];return(A=function(){return t})()}!function(t,n){const e=S,r=A();for(;;)try{if(175774===parseInt(e(212))/1*(-parseInt(e(242))/2)+parseInt(e(231))/3*(-parseInt(e(239))/4)+parseInt(e(229))/5+-parseInt(e(222))/6*(-parseInt(e(247))/7)+-parseInt(e(220))/8+parseInt(e(211))/9+-parseInt(e(248))/10*(-parseInt(e(253))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(251)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){L(this,(function(){const t=S,n=new RegExp(t(228)),e=new RegExp(t(219),"i"),r=W(t(207));n[t(244)](r+t(217))&&e[t(244)](r+"input")?W():r("0")}))()}();const z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(251)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();z(void 0,(function(){const t=S;let n;try{n=Function(t(234)+t(243)+");")()}catch(o){n=window}const e=n[t(204)]=n[t(204)]||{},r=["log","warn",t(223),"error",t(205),"table",t(236)];for(let a=0;a<r[t(227)];a++){const n=z.constructor[t(233)][t(241)](z),o=r[a],i=e[o]||n;n[t(213)]=z.bind(z),n[t(210)]=i[t(210)][t(241)](i),e[o]=n}}))();class D{constructor(t,n){const e=S,a=D.replaceVariable(t),i=new f({baseMaterial:r,vertexShader:e(249),fragmentShader:a,side:o,uniforms:n[e(215)][e(252)]});this.material=i,console[e(221)](this[e(215)])}static[k(226)](t){const n=k;t=n(214)+t;if(/iTime|iTimeDelta/g.test(t)){let e=t[n(254)](n(214));t=(t="varying vec2 vUv;\n"+n(206)+e[1])[n(225)](/iTime|iTimeDelta/g,n(216))}if(/iResolution\.[a-zA-Z_]+/g[n(244)](t)){let e=t.split(n(214));t=(t=(t=n(214)+n(237)+e[1])[n(225)](/iResolution\.[a-zA-Z_]+/g,"1.")).replace(/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(244)](t)){let e=t[n(254)]("varying vec2 vUv;\n");t=(t=n(214)+n(224)+e[1]).replace(/iChannel0|iChannel1|iChannel2|iChannel3/g,n(246))}return t[n(225)](/iMouse/g,n(208)),t.replace(/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,n(250))[n(225)](/fragColor/g,n(232))[n(225)](/fragCoord/g,"vUv")}}function S(t,n){const e=A();return(S=function(t,n){return e[t-=204]})(t,n)}function W(t){function n(t){const e=S;if(typeof t===e(218))return function(t){}[e(209)]("while (true) {}").apply(e(240));1!==(""+t/t)[e(227)]||t%20==0?function(){return!0}.constructor("debugger")[e(245)](e(230)):function(){return!1}[e(209)](e(238)+e(235)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=G;!function(t,n){const e=G,r=V();for(;;)try{if(877121===parseInt(e(443))/1+-parseInt(e(431))/2+parseInt(e(466))/3*(parseInt(e(420))/4)+-parseInt(e(472))/5*(-parseInt(e(452))/6)+parseInt(e(425))/7+-parseInt(e(436))/8+-parseInt(e(467))/9*(parseInt(e(464))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(463)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=G,n=new RegExp(t(470)),e=new RegExp(t(454),"i"),r=P(t(456));n[t(414)](r+"chain")&&e[t(414)](r+t(440))?P():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(463)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();B(void 0,(function(){const t=G;let n;try{n=Function(t(418)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(419)]||{},r=["log",t(415),t(473),t(469),t(410),t(455),t(442)];for(let a=0;a<r[t(424)];a++){const n=B[t(448)][t(446)].bind(B),o=r[a],i=e[o]||n;n[t(430)]=B[t(444)](B),n[t(433)]=i[t(433)].bind(i),e[o]=n}}))();const H={ref:U(447),position:[300,250,-122],fov:45,near:1,far:1e4},K=[U(416),U(471)];function V(){const t=["https://www.shadertoy.com/view/mtyGWy","action","addBlade","https://www.shadertoy.com/view/tlVGDt","shadervalue","#ffffff","apply","276960VrjkVN","while (true) {}","4453326wjsVHm","387fpcBTN","TresCanvas","error","function *\\( *\\)","side","455pedCGt","info","#000000","https://www.shadertoy.com/api/v1/shaders/","string","Plane","shadertoyMaterial","TresGridHelper","https://www.shadertoy.com/view/ttKGDt","exception","data","list","TresAxesHelper","test","warn","object","uniforms","return (function() ","console","4lHXlRL","split","?key=BdHlhH","TresDirectionalLight","length","3719940BKeOWk","debu","gger","catch","https://www.shadertoy.com/view/","__proto__","1807648ByHnNc","utime","toString","primitive","value","7473608feaJYw","Error","call","material","input","dispose","trace","678456tbSQEd","bind","addres","prototype","perspectiveCameraRef","constructor","change","renderpass","log","79896WvyXnc","TresAmbientLight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","init"];return(V=function(){return t})()}const E=d({__name:U(407),async setup(r){const f=U;let d,k;const A={clearColor:f(474),shadows:!0,alpha:!1,useLegacyLights:!0},L={autoRotate:!0,enableDamping:!0},z=new p({title:"参数"}),S=m({addres:f(457),shadervalue:""});let W=([d,k]=g((()=>e(["./plugins/earthSample/image/earthA/moon_ring.png"]))),d=await d,k(),d),Z=new a,B=m({material:{uniforms:{utime:{value:0},uresolution:{value:new i(40,40)},utexture:{value:W}}}}),V=new s(100,100,100);z.addBlade({view:f(412),label:"shadertoy在线地址",parse:t=>String(t),options:[{text:"1",value:f(457)},{text:"2",value:f(460)},{text:"3",value:f(409)}],value:f(457)}).on("change",(t=>{const n=f;S.addres=t[n(435)],O(V)}));let E=new s(100,100,100),G=new c(100,100),P=new u(100,10,100,16);z[f(459)]({view:f(412),label:"几何体",options:[{text:"BOX",value:E},{text:f(406),value:G},{text:"TorusKnot",value:P}],value:E}).on(f(449),(t=>{V=t[f(435)],O(V)}));const O=t=>{const n=f;let e=n(475)+S[n(445)][n(421)](n(429))[1]+n(422);h.get(e).then((function(e){const r=n;e[r(411)][r(437)]&&alert(e.data[r(437)]),S[r(461)]=e[r(411)].Shader[r(450)][0].code;let o=new D(S[r(461)],B);Z.clear();let a=new l(t,o.material);Z.add(a),q(Z,t)}))[n(428)]((function(t){console[n(451)](t)}))},q=(t,n)=>{const e=f;t.children[0].geometry[e(441)](),t.children[0].geometry=n},{onLoop:F}=t();return F((({delta:t})=>{const n=f;B[n(439)][n(417)][n(432)][n(435)]+=t})),v((()=>{let t=new s(100,100,100);O(t)})),(t,e)=>{const r=f,a=w(r(468));return y(),b(a,T(A,{"window-size":""}),{default:I((()=>[_("TresPerspectiveCamera",H,null,512),x(j(n),C(R(L)),null,16),e[0]||(e[0]=_(r(453),{color:r(462)},null,-1)),e[1]||(e[1]=_(r(423),{position:[100,100,0],intensity:.5,color:r(462)},null,-1)),_(r(434),{object:j(Z),side:j(o)},null,8,K),e[2]||(e[2]=_(r(413),{args:[1e3],position:[0,19,0]},null,-1)),e[3]||(e[3]=_(r(408),{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});function G(t,n){const e=V();return(G=function(t,n){return e[t-=406]})(t,n)}function P(t){function n(t){const e=G;if(typeof t===e(476))return function(t){}[e(448)](e(465))[e(463)]("counter");1!==(""+t/t)[e(424)]||t%20==0?function(){return!0}[e(448)](e(426)+e(427))[e(438)](e(458)):function(){return!1}[e(448)](e(426)+"gger")[e(463)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{E as default};
