import{k as t}from"./@tresjs.dTM0HLnZ1735031078130.js";import{cD as n,_ as e,$ as o,ac as s,aF as r,s as i,c0 as c,ak as a,am as u}from"./three.bc6MLGU_1735031078130.js";import{P as l}from"./tweakpane.yHWGBmom1735031078130.js";import{a as p}from"./index.ENNhtf0D1735031078130.js";import"./index.u24q1OjD1735031078130.js";import{_ as f}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.nKJHLuWx1735031078130.js";import{d,r as g,X as m,s as h,q as _,e as w,o as y,D as v,j as x,g as j,J as b,u as I,m as k,f as B,al as A,I as F}from"./@vue.-THQH3GC1735031078130.js";import{_ as S}from"./@fesjs.I05ciYa-1735031078130.js";import"./@vueuse.COyzlgw71735031078130.js";import"./three-stdlib.2VgffRAZ1735031078130.js";import"./@pmndrs.jH1lDBFa1735031078130.js";import"./object-hash.USFlpBEa1735031078130.js";import"./@amap.FwSyOcr71735031078130.js";import"./jszip.B5akDNc61735031078130.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.Nz9gzX6o1735031078130.js";import"./all.three.dnINst5u1735031078130.js";import"./oimophysics.x0jH7fze1735031078130.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.swOflITy1735031078130.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.MVIHKmBx1735031078130.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.FO7epHks1735031078130.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.wtdt0fH81735031078130.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.HfHXCZ_a1735031078130.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.evDBKkUj1735031078130.js";import"./vue-router.v9AQvngO1735031078130.js";import"./lodash-es.kYt-_xTG1735031078130.js";import"./@qlin.yHhFDldE1735031078130.js";import"./pinia.67PZ8qep1735031078130.js";import"./vue-demi.C4xddsk91735031078130.js";import"./@floating-ui.BPbuo5Gx1735031078130.js";import"./@juggle.7yjBMqoW1735031078130.js";!function(t,n){const e=T,o=M();for(;;)try{if(597752===-parseInt(e(532))/1+parseInt(e(565))/2+-parseInt(e(523))/3+parseInt(e(524))/4+-parseInt(e(504))/5*(-parseInt(e(517))/6)+-parseInt(e(530))/7+-parseInt(e(515))/8)break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(){const t=["1169616wPAZXQ","add","castShadow","EdgesGeometry","error","info","call","gger","4090OLtLyp","name","length","debu","bind","constructor","toString","string","#AFAFAD","Vector3","table","6055256JJgmJC","LineSegments","6126qLrhFz","console","Shape","rotation","log","chain","241131QhkwnR","4754976fFDtfV","attributes","toShapes","Vector2","computeBoundingBox","stateObject","2215591DCIZiP",'{}.constructor("return this")( )',"857181RjRWfB","min","geometry","ExtrudeGeometry","material","max","boundingBox","function *\\( *\\)","renderOrder","position","counter","prototype","test","negate","mBoundingBox","while (true) {}","exception","holes","count","apply","getX","MeshStandardMaterial","getY","action","parse","receiveShadow","getCenter","init","Mesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","copy","forEach","BufferAttribute"];return(M=function(){return t})()}!function(){C(this,(function(){const t=T,n=new RegExp(t(539)),e=new RegExp(t(561),"i"),o=E(t(559));n[t(544)](o+t(522))&&e.test(o+"input")?E():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(551)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=M();return(T=function(t,n){return e[t-=497]})(t,n)}D(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function("return (function() "+t(531)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(518)]||{},o=[t(521),"warn",t(501),t(500),t(548),t(514),"trace"];for(let s=0;s<o[t(506)];s++){const n=D[t(509)][t(543)][t(508)](D),r=o[s],i=e[r]||n;n.__proto__=D[t(508)](D),n[t(510)]=i.toString.bind(i),e[r]=n}}))();class z{constructor(t){this[T(505)]=t}drawImportSpecialBoard(t,r,i){const c=T,a=(new n)[c(556)](r),u=new(e[c(519)]);a.paths[c(563)](((t,n)=>{const e=c;t[e(526)](!0)[e(563)](((t,o)=>{const s=e;0===n&&0===o?u[s(562)](t):u[s(549)].push(t)}))}));const l=new(e[c(535)])(u,{depth:18,bevelEnabled:!1});l[c(528)]();const p=l[c(538)][c(558)](new(e[c(513)]))[c(545)]();l.translate(p.x,p.y,p.z),l[c(528)]();const f=l[c(538)][c(537)],d=l[c(538)][c(533)],g=new(e[c(527)])(0-d.x,0-d.y),m=new(e[c(527)])(f.x-d.x,f.y-d.y);l[c(525)].uv=new(e[c(564)])(new Float32Array(2*l[c(525)][c(541)][c(550)]),2);for(let n=0;n<l[c(525)][c(541)][c(550)];n++){const t=l[c(525)][c(541)][c(552)](n),e=l.attributes[c(541)][c(554)](n);l.attributes.uv.setXY(n,(t+g.x)/m.x,(e+g.y)/m.y)}const h=new o({map:null}),_=new(e[c(560)])(l,h);_[c(536)]=new(e[c(553)])({map:null,color:c(512),roughness:1,metalness:.1,envMapIntensity:2.5}),_[c(557)]=!0,_[c(498)]=!0,_.position.x=i,_[c(541)].y=250;const w=new s({color:0}),y=new(e[c(499)])(_[c(534)],1),v=new(e[c(516)])(y,w);v[c(540)]=1,v[c(541)][c(562)](_[c(541)]),v[c(520)][c(562)](_[c(520)]),_[c(546)]=v,t[c(497)](_,_[c(546)])}}function E(t){function n(t){const e=T;if(typeof t===e(511))return function(t){}.constructor(e(547))[e(551)](e(542));1!==(""+t/t)[e(506)]||t%20==0?function(){return!0}[e(509)](e(507)+e(503))[e(502)](e(555)):function(){return!1}.constructor(e(507)+"gger")[e(551)](e(529)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=G;!function(t,n){const e=G,o=L();for(;;)try{if(348792===-parseInt(e(202))/1*(parseInt(e(159))/2)+parseInt(e(137))/3+parseInt(e(157))/4*(-parseInt(e(205))/5)+-parseInt(e(131))/6+parseInt(e(171))/7+parseInt(e(182))/8+-parseInt(e(178))/9*(-parseInt(e(139))/10))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(180)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=G,n=new RegExp(t(122)),e=new RegExp(t(201),"i"),o=V("init");n[t(129)](o+"chain")&&e[t(129)](o+t(138))?V():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["615084MBXArY","warn","svg-display","dxf2meshPage","xMidYMid meet","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","2066541WZkxwb","input","758300yywkYg","action","dialogVisible","blue","exception","pos-x.jpg","constructor","plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","children","table","TresBoxGeometry","neg-y.jpg","初始化","value","call","addFolder","init","onerror","38904UTAJpy","button","1195230EYYsBa","1000","#3a78a2","http://www.w3.org/2000/svg","head","neg-x.jpg","neg-z.jpg","open","下载测试文件1","src","error","click","4759013oEFEoY","toString","__proto__","footBtn","debu","length","string","9Aoxiks","groupRef","apply","info","1581368sVoqai","counter","translate(50, 50)","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","TresGroup","#627179","#svg-display svg","addButton","加载脚本 ","prototype","outerHTML","dxf2svg","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","then","type","createElement","main-svg","TresPerspectiveCamera","TresMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1DKrLVg","remove","log","305CnwAQG",'{}.constructor("return this")( )',"catch","div","gger","console","TresAmbientLight","#ffffff","dxfFileInput","pos-z.jpg","assembly","function *\\( *\\)","TresMeshBasicMaterial","_blank","boxMeshRef","querySelector","script","加载脚本时出错","test","localFileReader"];return(L=function(){return t})()}Y(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function("return (function() "+t(206)+");")()}catch(e){n=window}return n}(),e=n[t(210)]=n[t(210)]||{},o=[t(204),t(132),t(181),t(169),t(143),t(148),"trace"];for(let s=0;s<o[t(176)];s++){const n=Y[t(145)][t(191)].bind(Y),r=o[s],i=e[r]||n;n[t(173)]=Y.bind(Y),n.toString=i[t(172)].bind(i),e[r]=n}}))();const P={key:0,class:"dialogDiv"},q={class:R(174)};function G(t,n){const e=L();return(G=function(t,n){return e[t-=119]})(t,n)}function V(t){function n(t){const e=G;if(typeof t===e(177))return function(t){}[e(145)]("while (true) {}")[e(180)](e(183));1!==(""+t/t)[e(176)]||t%20==0?function(){return!0}[e(145)](e(175)+e(209))[e(153)](e(140)):function(){return!1}[e(145)](e(175)+e(209))[e(180)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Z=S(d({__name:R(134),setup(n){const e=R,s=g({dialogVisible:!1}),d={clearColor:"#82DBC5",shadows:!0,alpha:!1,shadowMapType:c,outputColorSpace:a,toneMapping:u},S=g({cellSize:60,cellThickness:1.1,cellColor:e(187),sectionColor:e(161),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let C=0;const M=m(),D=m(),T=new l;T.addButton({title:e(167)}).on("click",(()=>{window[e(166)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf","_blank")})),T[e(189)]({title:"下载测试文件2"}).on(e(170),(()=>{const t=e;window[t(166)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(124))}));const E=T[e(154)]({title:"远近"});function X(){const t=e,n=D[t(152)];s[t(141)]=!1;const o=document[t(126)](t(188));if(o){const e=o[t(192)];let s=new z;C+=1200,s.drawImportSpecialBoard(n,e,C)}}function Y(t){return new Promise(((n,e)=>{const o=G,s=document[o(197)](o(127));s[o(168)]=t,s[o(196)]="text/javascript",s.onload=()=>n(),s[o(156)]=()=>e(new Error(o(190)+t+" 时出错")),document[o(163)].appendChild(s)}))}return E[e(189)]({title:"导入dxf"}).on("click",(()=>{const t=e;s[t(141)]=!0,h((()=>{const n=t;window[n(130)][n(155)]()}))})),E[e(189)]({title:e(151)}).on(e(170),(()=>{!function(){const t=e,n=new r(500,500,18),s=new o({color:t(142)}),c=new i(n,s),a=D[t(152)];for(;a[t(147)][t(176)]>0;){const n=a.children[0];a[t(203)](n)}a.add(c)}()})),_((()=>{!function(){const t=e;Y("plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js")[t(195)]((()=>Y("plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js")))[t(195)]((()=>Y("plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js")))[t(195)]((()=>Y(t(146))))[t(195)]((()=>Y(t(136))))[t(195)]((()=>Y(t(194))))[t(207)]((n=>console[t(169)](t(128),n)))}()})),(n,o)=>{const r=e,i=w("TresCanvas");return y(),v("div",null,[x(i,k(d,{"window-size":""}),{default:j((()=>[o[2]||(o[2]=b(r(199),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),x(I(t),{"make-default":""}),o[3]||(o[3]=b("TresGridHelper",{position:[0,-1,0],size:r(160),divisions:"10000"},null,-1)),b(r(186),{ref_key:r(179),ref:D,position:[2,250,0]},[b(r(200),{ref_key:r(125),ref:M},o[1]||(o[1]=[b(r(149),{args:[500,500,18]},null,-1),b(r(123),{color:r(142)},null,-1)]),512)],512),o[4]||(o[4]=b(r(211),{color:r(212),intensity:1},null,-1)),o[5]||(o[5]=b("TresDirectionalLight",{color:r(212),position:[300,300,250],intensity:6},null,-1)),x(I(f),k({args:[3,3]},S,{position:[0,-.5,0]}),null,16),(y(),B(A,null,{default:j((()=>[x(I(p),{files:[r(144),r(164),"pos-y.jpg",r(150),r(120),r(165)],path:r(185)})])),_:1}))])),_:1},16),s[r(141)]?(y(),v(r(208),P,[o[6]||(o[6]=b(r(208),{id:r(133),class:r(121),style:{}},[b("svg",{id:r(198),xmlns:"http://www.w3.org/2000/svg","xmlns:svg":r(162),"xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",version:"1.1",preserveAspectRatio:r(135)},[b("g",{id:r(193),class:"pen1","stroke-width":"6",fill:"#776A8F",transform:r(184)})])],-1)),o[7]||(o[7]=b(r(208),{class:"fileInput"},[b(r(138),{id:r(119),type:"file"})],-1)),b(r(208),q,[b(r(158),{onClick:o[0]||(o[0]=t=>s[r(141)]=!1)},"取消"),b(r(158),{onClick:X},"确定")])])):F("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{Z as default};
