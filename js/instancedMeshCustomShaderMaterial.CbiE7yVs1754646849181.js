import{$ as t,aA as n,Y as o}from"./three.BWo_6did1754646849181.js";import{e,h as W,a as r,H as c}from"./@tresjs.EkZ_QTfE1754646849181.js";import{_ as i}from"./index.rnDGZAT_1754646849181.js";import{d as a,b as d,w as s,G as u,o as k,I as l,j as f,u as m,r as v,e as h,f as C,a7 as p,a8 as x,a5 as S,m as b}from"./@vue.BzMISRrV1754646849181.js";import{_ as P}from"./component.vue_vue_type_script_setup_true_lang.D_p_8agW1754646849181.js";import"./postprocessing.DILjcRc91754646849181.js";import"./@vueuse.uWD-2GR_1754646849181.js";import"./object-hash.CF3M2KlU1754646849181.js";import"./@amap.CGUF9xH41754646849181.js";import"./jszip.CenSxAo51754646849181.js";import"./three-stdlib.D1p2J-HX1754646849181.js";function O(t,n){var o=g();return O=function(n,e){var W=o[n-=387];if(void 0===O.gnljWA){var r=function(t){for(var n,o,e="",W="",c=e+r,i=0,a=0;o=t.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?e+=c.charCodeAt(a+10)-10!=0?String.fromCharCode(255&n>>(-2*i&6)):i:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,s=e.length;d<s;d++)W+="%"+("00"+e.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(W)};O.FJaPIG=function(t,n){var o,e,W=[],c=0,i="";for(t=r(t),e=0;e<256;e++)W[e]=e;for(e=0;e<256;e++)c=(c+W[e]+n.charCodeAt(e%n.length))%256,o=W[e],W[e]=W[c],W[c]=o;e=0,c=0;for(var a=0;a<t.length;a++)c=(c+W[e=(e+1)%256])%256,o=W[e],W[e]=W[c],W[c]=o,i+=String.fromCharCode(t.charCodeAt(a)^W[(W[e]+W[c])%256]);return i},t=arguments,O.gnljWA=!0}var c=n+o[0],i=t[c];if(i)W=i;else{if(void 0===O.htZrWE){var a=function(t){this.eAcQyH=t,this.vvCeBb=[1,0,0],this.FqmeWz=function(){return"newState"},this.KWEYBF="\\w+ *\\(\\) *{\\w+ *",this.dochrw="['|\"].+['|\"];? *}"};a.prototype.ZfXjNR=function(){var t=new RegExp(this.KWEYBF+this.dochrw).test(this.FqmeWz.toString())?--this.vvCeBb[1]:--this.vvCeBb[0];return this.njRTwL(t)},a.prototype.njRTwL=function(t){return Boolean(~t)?this.lpKuLG(this.eAcQyH):t},a.prototype.lpKuLG=function(t){for(var n=0,o=this.vvCeBb.length;n<o;n++)this.vvCeBb.push(Math.round(Math.random())),o=this.vvCeBb.length;return t(this.vvCeBb[0])},new a(O).ZfXjNR(),O.htZrWE=!0}W=O.FJaPIG(W,e),t[c]=W}return W},O(t,n)}!function(){function t(t,n,o,e,W){return O(W-916,n)}function n(t,n,o,e,W){return O(e-576,t)}var o=g();function e(t,n,o,e,W){return O(n-817,t)}function W(t,n,o,e,W){return O(o- -290,e)}for(;;)try{if(525405===-parseInt(n("Uk2l",0,0,1025))/1*(parseInt(n("wtml",0,0,965))/2)+parseInt(n("Lz]L",0,0,976))/3+parseInt(n("5C%)",0,0,1023))/4+-parseInt(W(0,0,150,"Ku5B"))/5*(-parseInt(t(0,"j7(O",0,0,1353))/6)+parseInt(W(0,0,113,"Rq6s"))/7*(parseInt(e("Ku5B",1252))/8)+parseInt(O(891-463,"cYPQ"))/9+-parseInt(t(0,"nMn(",0,0,1340))/10*(parseInt(e("Ku5B",1270))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();var R,Q=(R=!0,function(t,n){function o(t,n,o,e,W){return O(t- -844,n)}function e(t,n,o,e,W){return O(t- -842,e)}if(e(-429,0,0,"W1x2")===o(-413,"iW]c")){var W;try{W=_0x52da9a(o(-422,"Lz]L")+e(-448,0,0,"6$rs")+");")()}catch(c){W=_0x417330}return W}var r=R?function(){function o(t,n,o,W,r){return e(n-1230,0,0,W)}if(e(-426,0,0,"t$OP")===o(0,809,0,"6$rs")){if(n){if(o(0,826,0,"5C%)")!==o(0,838,0,"koIX")){var W=_0x17bcbb?function(){if(_0x5115fa){var t=_0x12f1f0[(n=143,e="Ku5B",o(0,n- -671,0,e))](_0x5a5a8c,arguments);return _0x58e6a0=null,t}var n,e}:function(){};return _0x5d09f3=!1,W}var r=n.apply(t,arguments);return n=null,r}}else if(_0x524174){var c=_0x387cf5[(i="5C%)",a=-64,O(a- -227- -293,i))](_0x14af24,arguments);return _0x49a228=null,c}var i,a}:function(){};return R=!1,r})(void 0,(function(){function t(t,n,o,e,W){return O(W- -16,e)}function n(t,n,o,e,W){return O(n-982,t)}return Q[t(0,0,0,"GaQ0",385)]()[t(0,0,0,"PZEH",430)](t(0,0,0,"PZEH",428))[n("CYpO",1436)]()[(o="%bYJ",e=-17,O(e- -435,o))](Q)[n("eM6g",1390)](O(1068-626,"koIX"));var o,e}));function g(){var t=["W782W5ZcN8k/WOm","WQXdc8oXstDniSoFWQb5W4K","vIi0bbu","WQBcLmotiapcG8oMW4/dQCod","WPCxASoZW4y","WPX7xmkysW","xSkJzKeGWRxdMqHuW7y","WR98WRWeqdxdQaK","W7H0WRukFmofW4KS","l8k8W5dcO8kGybTu","W7OhtSkRbq","WOnrWQldMW","z8oiWPpdVCocB8k2ymoCW6BcRIDXeYf0W6xcUCop","W7G8W67cMCkUWOldMLy","AmkyASoHWQldUqG","zYG0qCohW4RdPCobWQJdVCkb","WRVcK8k9gCkuW78rWRC","WRZcMmk0k8ka","AmkyW7pdG8oXWP7cRSoOW7ZdLXu","WO8zWO7dRCk0WRPoW5rO","rwhdUCoRW6RcKCk9WPG","WQvcEmkhBSoBfKpdIG","x8kHqCoZW7G","WOxcO8k1W5LhW7ZcKNroWRXQW6NcKq","W7SRuSotWQapaHyym3dcQWBcVCouBmkzwetdOSotWQtcOSo9EetdImkQt1pdLci","bmo7W7v5yJOOW7mMy8oYWOlcTSo2W5y/W4/dJuq","fxVdSSoooh8zWQjcW4vidxO","WOpcLGajW4W","WOlcKCkRaSk2","hCoKoquaWRddGIbI","aZ7cMSkTWQVdJCoGWOxdT3pcRfxcSW","WOpcMderW5S7W4xdGq","ctNcMSkSWQ/dImoJWO3dJL7cI3lcHa","jmkzW5BcSmkjuSoblmo+W4FcQW","WQLbb8o/rtKPkCoWWPXzW7Tc","qYdcTSkytW","W67cKq7cHJG","FXBcL0BdPq","bCo7W6b+CZW","F8oNW47cQG","A8kBDG","ySkmCSoGW4ddOmkkWOxcNq","AHtcHKNdUq","h8opW6RdIhm","ySkScCot","ucC+meK","WPHeWR8eW4q","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","l8kniCkQsSkjECk0W4RdIcS","W4L9WQu/vW","W5XbW5BdJa","W5CAkCoMWOG","q2VdNSoQW6RcLSoZW5FdN0FcL0FcKCoTWOGhWQlcLsq","W57dVCoJWOq","W73dV8kvWRFcPSkikCovjxRcSMRcOW","E8k4sCouWPOFWQVcTSkMWOtdTmkDWPJdN8k9W6ldRrXlx1exqtabjmoCWPmbWQddNSop","W6W+WRWfDq","fw1uWOu","WP4DW5nqWRH1vmkOWOBcOcddMSoK","hCo6c8oSWO4","BGG+lL8ou1tcRa","ASkGnCoMWPy","l8kniCkQuCkxAq","WPdcO8kEh8kjW6iqWO8o","WQFcOColW6a","WR5+W7TBtIVdSZK7kW","mSkRWP8ZW7q6","BSoBoSk7W4BcVuezuaDDsCoz","W700tSktoW","gCo5bquDWQ3dLtC","WRG/WQ4bws/dGW","bmkximkSCW","W5L8mSkjWQRdP8kfB8k9wCkGoW","W6m5eSodWRStbaeEkwe","WQr7WPxdG8o3W4lcNXHie0fn","W5ldOCo3WOqg"];return(g=function(){return t})()}Q();var M,y=(M=!0,function(t,n){function o(t,n,o,e,W){return O(W- -500,e)}if("XUPvH"===o(0,0,0,"bl#q",-108)){var e=M?function(){function e(t,n,e,W,r){return o(0,0,0,n,t-283)}function W(t,n,e,W,r){return o(0,0,0,n,r-1010)}function r(t,n,e,W,r){return o(0,0,0,r,t-245)}function c(t,n,e,W,r){return o(0,0,0,W,r-1177)}if(c(0,0,0,"%bYJ",1118)===r(164,0,0,0,"CYpO")){var i=_0x3ba9c1[(k="6$rs",l=97,o(0,0,0,k,l-154))][c(0,0,0,"9A1a",1076)][e(197,"iW]c")](_0x400380),a=_0x353c35[_0x11d8f8],d=_0x3cc745[a]||i;i[r(178,0,0,0,"2[k$")]=_0x29e8ca.bind(_0x195ffc),i[r(207,0,0,0,"2[k$")]=d[c(0,0,0,"PZEH",1136)][W(0,"wtml",0,0,930)](d),_0x4ce7b7[a]=i}else if(n){if(W(0,"DQjv",0,0,916)!==r(151,0,0,0,"DQjv")){var s=_0x37a585[e(231,"xGic")](_0x24e5d6,arguments);return _0x1dde09=null,s}var u=n[r(152,0,0,0,"QPRV")](t,arguments);return n=null,u}var k,l}:function(){};return M=!1,e}if(_0x228d9a){var W=_0x316961.apply(_0x5520da,arguments);return _0x671b88=null,W}});y(void 0,(function(){var t,n,o=function(){function t(t,n,o,e,W){return O(n- -866,W)}function n(t,n,o,e,W){return O(n-670,e)}function o(t,n,o,e,W){return O(W- -990,t)}var e;try{n(0,1075,0,"V@NW")===O(266- -132,"2[k$")?_0x746366=_0x4e97b2(t(0,-408,0,0,"Rq6s")+t(0,-441,0,0,"iW]c")+");")():e=Function(o("eM6g",0,0,0,-595)+'{}.constructor("return this")( ));')()}catch(r){if(n(0,1099,0,"EA9O")!==t(0,-415,0,0,"0SwG")){var W=_0x519096[o("Nit(",0,0,0,-575)](_0x14d06c,arguments);return _0xbe0e7a=null,W}e=window}return e}(),e=o.console=o[(t=1007,n="%bYJ",O(t-575,n))]||{};function W(t,n,o,e,W){return O(W-42,o)}function r(t,n,o,e,W){return O(o- -978,t)}function c(t,n,o,e,W){return O(W-529,e)}var i,a,d=[c(0,0,0,"bl#q",939),c(0,0,0,"UUb#",986),r("(8Tf",0,-555),W(0,0,"(8Tf",0,487),c(0,0,0,"bl#q",940),c(0,0,0,"GaQ0",926),c(0,0,0,"QPRV",941)];for(var s=0;s<d[r("Q!*v",0,-542)];s++)if("qLJYC"!==W(0,0,"2[k$",0,429)){var u=y[W(0,0,"e6ft",0,503)][r("0SwG",0,-587)][c(0,0,0,"nMn(",963)](y),k=d[s],l=e[k]||u;u[r("Nit(",0,-548)]=y[r("fmiW",0,-569)](y),u[c(0,0,0,"9A1a",968)]=l[(i=1264,a="Lz]L",O(i-874,a))][W(0,0,"S6[o",0,469)](l),e[k]=u}else _0x460179=_0x3c67fa}))();const G=O(156- -261,"S6[o");const N=a({__name:"instancedMeshCom",setup(o){const r=d(null),c={vertex:`\n    uniform float uTime;\n\t\tvarying vec3 vPosition;\n\t\t${G}\n    vec3 displace(vec3 point) {\n      vec3 instancePosition = (instanceMatrix * vec4(point, 1.)).xyz;\n      return instancePosition + (normal * noise((instancePosition * 3.) + uTime) * 0.8);\n    }  \n\n    vec3 orthogonal(vec3 v) {\n      return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)\n      : vec3(0.0, -v.z, v.y));\n    }\n\n    vec3 recalcNormals(vec3 newPos) {\n      float offset = 0.001;\n      vec3 tangent = orthogonal(normal);\n      vec3 bitangent = normalize(cross(normal, tangent));\n      vec3 neighbour1 = position + tangent * offset;\n      vec3 neighbour2 = position + bitangent * offset;\n\n      vec3 displacedNeighbour1 = displace(neighbour1);\n      vec3 displacedNeighbour2 = displace(neighbour2);\n\n      vec3 displacedTangent = displacedNeighbour1 - newPos;\n      vec3 displacedBitangent = displacedNeighbour2 - newPos;\n\n      return normalize(cross(displacedTangent, displacedBitangent));\n    }\n\n    void main() {\n\t\t\tvPosition = position;\n      vec3 p = displace(position);\n      csm_PositionRaw = projectionMatrix * modelViewMatrix * instanceMatrix * vec4(p, 1.);\n      csm_Normal = recalcNormals(p);\n    }\n    `,fragment:"\n\t\tvarying vec3 vPosition;\n\t\t// 函数将 HSL 转换为 RGB\n\t\tvec3 hsl2rgb(float h, float s, float l) {\n\t\t\t\tfloat c = (1.0 - abs(2.0 * l - 1.0)) * s;\n\t\t\t\tfloat x = c * (1.0 - abs(mod(h * 6.0, 2.0) - 1.0));\n\t\t\t\tfloat m = l - c / 2.0;\n\t\t\t\tvec3 rgb;\n\t\t\t\tif (0.0 <= h && h < 1.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, x, 0.0);\n\t\t\t\t} else if (1.0 / 6.0 <= h && h < 2.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, c, 0.0);\n\t\t\t\t} else if (2.0 / 6.0 <= h && h < 3.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, c, x);\n\t\t\t\t} else if (3.0 / 6.0 <= h && h < 4.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, x, c);\n\t\t\t\t} else if (4.0 / 6.0 <= h && h < 5.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, 0.0, c);\n\t\t\t\t} else if (5.0 / 6.0 <= h && h < 6.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, 0.0, x);\n\t\t\t\t} else {\n\t\t\t\t\t\trgb = vec3(0.0, 0.0, 0.0);\n\t\t\t\t}\n\t\t\t\trgb += vec3(m);\n\t\t\t\treturn rgb;\n\t\t}\n    void main() {\n      // csm_DiffuseColor = vec4(1.,1.,1.,1.);\n\t\t\tfloat h = mod(vPosition.x + vPosition.y + vPosition.z, 1.0); // 色相 H: [0, 1)\n\t\t\tfloat s = 0.9; // 饱和度 S: 固定为 0.8\n\t\t\tfloat l = 0.4; // 亮度 L: 固定为 0.5\n\t\t\tvec3 rgb = hsl2rgb(h, s, l);\n\t\t\tcsm_DiffuseColor = vec4(rgb,1.);\n    }\n    "},i={uTime:{value:0}},a=new t,{onLoop:v}=e();return v((({elapsed:t})=>{i.uTime.value=t})),s((()=>r.value),(t=>{if(t){let n=0;for(let o=0;o<88;o++)a.position.set(Math.random(),Math.random(),Math.random()),a.rotation.set(Math.random(),Math.random(),Math.random()),a.position.multiplyScalar(10),a.position.x-=5,a.position.y-=5,a.position.z-=5,a.updateMatrix(),t.setMatrixAt(n++,a.matrix);t.instanceMatrix.needsUpdate=!0}})),(t,o)=>(k(),u("TresInstancedMesh",{ref_key:"tmRef",ref:r,args:[null,null,88]},[o[0]||(o[0]=l("TresSphereGeometry",{args:[1,64,64]},null,-1)),f(m(W),{baseMaterial:n,vertexShader:c.vertex,fragmentShader:c.fragment,uniforms:i,transparent:""},null,8,["baseMaterial","vertexShader","fragmentShader"])],512))}}),B=a({__name:"instancedMeshCustomShaderMaterial",setup(t){const n=v({alpha:!0,toneMapping:o,windowSize:!0,clearColor:"#000000"}),e=v({enableDamping:!0});return(t,o)=>(k(),h(m(c),b(n,{"window-size":""}),{default:C((()=>[o[0]||(o[0]=l("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:1,far:1e3},null,-1)),f(m(r),p(x(e)),null,16),o[1]||(o[1]=l("TresAmbientLight",{intensity:.5},null,-1)),o[2]||(o[2]=l("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1)),(k(),h(S,null,{default:C((()=>[f(m(P),{intensity:16,resolution:256,background:"",blur:.6},{default:C((()=>[f(m(i),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),f(m(i),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),f(m(i),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["rotation-y"]),f(m(i),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["rotation-y"])])),_:1})])),_:1})),f(N)])),_:1},16))}});export{B as default};
