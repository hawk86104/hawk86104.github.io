import"./@fesjs.DnM7nINA1761276103973.js";import{_ as e,K as t}from"./@tresjs.B_KjVy0E1761276103973.js";import"./Resource.CSaxGSPI1761276103973.js";/* empty css                                                                             */import{_ as a}from"./randomLoading.vue_vue_type_script_setup_true_lang.BgTQontY1761276103973.js";import"./three-mesh-ui.module.C--P1h9b1761276103973.js";import"./global.BkM2LKCv1761276103973.js";/* empty css                                                              */import{_ as o}from"./vanilla.esm.5.5.0.CRlEbOMK1761276103973.js";import{_ as i}from"./component.vue_vue_type_script_setup_true_lang.CuvJ4d7F1761276103973.js";import{d as s,a as r,q as n,G as l,o as m,I as p,L as d,b as u,e as c,h as g,u as y,F as f,W as _,ap as b,ac as h,ad as j,r as x,a9 as v,aa as B,g as w}from"./@vue.CKlgtJke1761276103973.js";import{_ as k}from"./index.vue_vue_type_script_setup_true_lang.k2Db_ogE1761276103973.js";import{B as T,V as M,S,u as I,bJ as P,aV as z,k as C,A,a0 as G}from"./three.Bhn4-0ry1761276103973.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang.OV3PkmXB1761276103973.js";import{u as L}from"./index.vM1sPJET1761276103973.js";import{_ as O}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.B9XCSbks1761276103973.js";import{P as R}from"./tweakpane.CqZAnw7f1761276103973.js";import"./vue-router.BFHj2xRz1761276103973.js";import"./lodash-es.DWe8oqPO1761276103973.js";import"./pinia.C8YT0eOZ1761276103973.js";import"./@qlin.y-0Z8WnK1761276103973.js";import"./@babel.BPq7uOAK1761276103973.js";import"./@floating-ui.Bhq4ibgf1761276103973.js";import"./@juggle.Vc7cP4_P1761276103973.js";import"./postprocessing.CeTFUAN_1761276103973.js";import"./@vueuse.wtfleElW1761276103973.js";import"./starLoading.Dxnl37sJ1761276103973.js";import"./utils.DEKxcj5Y1761276103973.js";import"./cssLoaders.UlIhETTt1761276103973.js";import"./bubbleLoading.CNFXC-mb1761276103973.js";import"./yangyangLoading.-KGL02eM1761276103973.js";import"./color.zjyo9y-T1761276103973.js";import"./color-string.Cb0Nf94v1761276103973.js";import"./color-name.gyPnsvCn1761276103973.js";import"./lodash.B8Sqzhuz1761276103973.js";import"./@amap.fjyZdsU91761276103973.js";import"./object-hash.1qNYTrnD1761276103973.js";import"./jszip.y_yjJ09m1761276103973.js";import"./three-stdlib.tb53t5ki1761276103973.js";import"./useLoader.DWT9Jk041761276103973.js";import"./index.DzBQ5WCR1761276103973.js";import"./@pmndrs.CvKgExG31761276103973.js";const F=s({__name:"index",props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(e){const t=e,a=r(null),o=r(null),i=r(null);return n(()=>{if(!o.value)return;if(!i.value)return;o.value.matrixWorld.identity();const e=(new T).setFromObject(i.value,t.precise),a=new M,s=new S,r=e.max.x-e.min.x,n=e.max.y-e.min.y,l=e.max.z-e.min.z;e.getCenter(a),e.getBoundingSphere(s);const m=t.top?n/2:t.bottom?-n/2:0,p=t.left?-r/2:t.right?r/2:0,d=t.front?l/2:t.back?-l/2:0;o.value.position.set(t.disable||t.disableX?0:-a.x+p,t.disable||t.disableY?0:-a.y+m,t.disable||t.disableZ?0:-a.z+d)}),(e,t)=>(m(),l("TresGroup",{ref_key:"gref",ref:a},[p("TresGroup",{ref_key:"outer",ref:o},[p("TresGroup",{ref_key:"inner",ref:i},[d(e.$slots,"default")],512)],512)],512))}}),q=["rotation"],K=["rotation-x"],W=s({__name:"env",setup(t){const a=r(null),{onBeforeRender:s}=e();s(({delta:e})=>{a.value&&(a.value.rotation.z+=e)});const n=[2,-2,2,-4,2,-5,2,-9];return(e,t)=>(m(),u(b,null,{default:c(()=>[g(y(i),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:c(()=>[g(y(o),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),g(y(o),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),p("TresGroup",{rotation:[Math.PI/2,1,0]},[(m(),l(f,null,_(n,(e,t)=>g(y(o),{key:t,intensity:1,rotation:[Math.PI/4,0,0],position:[e,4,4*t],scale:[4,1,1]},null,8,["rotation","position"])),64))],8,q),g(y(o),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),g(y(o),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),g(y(o),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),p("TresGroup",{ref_key:"refgroup",ref:a,"rotation-x":Math.PI/2},[g(y(o),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,K)]),_:1},8,["path"])]),_:1}))}}),Z={position:[0,-.5,0],rotation:[0,-.75,0]},V=["geometry","material"],X=["geometry","material"],Y=["geometry","material"],E=["geometry","material"],H=["geometry","material"],J=["geometry","material"],$=["geometry","material"],N=["geometry"],Q=["geometry","material"],U=["geometry","material"],ee=s({__name:"models",async setup(e){let t,a;const o=new I({transparent:!0,opacity:1,color:"black",roughness:0,side:z,blending:P,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:i,materials:s}=([t,a]=h(()=>L("https://opensource.cdn.icegl.cn/model/eCommerce/glass-transformed.glb")),t=await t,a(),t),r=j(s.ForkAndKnivesSet001_1K),n=new I;n.copy(r),n.color=new C("#999");const d={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},u=x({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),f=new R;f.hidden=!0,f.addBinding(u,"color",{label:"颜色"}),f.addBinding(u,"roughness",{label:"roughness",min:0,max:1,step:.01}),f.addBinding(u,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),f.addBinding(u,"attenuationColor",{label:"attenuationColor"}),f.addBinding(u,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),f.addBinding(u,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),f.addBinding(u,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),f.addBinding(u,"distortion",{label:"distortion",min:0,max:10,step:.01}),f.addBinding(u,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),f.addBinding(u,"backside",{label:"backside"}),f.addBinding(u,"thickness",{label:"thickness",min:0,max:4,step:.01}),f.addBinding(u,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const _=x({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),b=new R({title:"参数"});return b.hidden=!0,b.addBinding(_,"color",{label:"颜色"}),b.addBinding(_,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),b.addBinding(_,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),b.addBinding(_,"far",{label:"可视距离",min:0,max:30,step:1}),b.addBinding(_,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),b.addBinding(_,"intensity",{label:"强度",min:0,max:1,step:.01}),b.addBinding(_,"causticsOnly",{label:"只显示投射"}),b.addBinding(_,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(e,t)=>(m(),l("TresGroup",Z,[p("TresMesh",{geometry:y(i).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:j(y(s).FruitCakeSlice_u1_v1)},null,8,V),p("TresMesh",{geometry:y(i).straw_1.geometry,castShadow:"",material:y(s).straw_2},null,8,X),p("TresMesh",{geometry:y(i).straw_2.geometry,castShadow:"",material:y(s).straw_1},null,8,Y),p("TresMesh",{geometry:y(i).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:y(s).straw_2},null,8,E),p("TresMesh",{geometry:y(i).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:y(s).straw_1},null,8,H),g(y(F),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:c(()=>[p("TresMesh",{geometry:y(i).flowers.geometry,castShadow:"",material:y(s)["draifrawer_u1_v1.001"],scale:1.2},null,8,J)]),_:1}),p("TresMesh",{castShadow:"",geometry:j(y(i).fork.geometry),material:y(n)},null,8,$),g(y(D),v(B(_)),{default:c(()=>[p("TresMesh",{castShadow:"",receiveShadow:"",geometry:y(i).glass.geometry},[g(y(k),v(B(u)),null,16)],8,N)]),_:1},16),p("TresMesh",{geometry:y(i).glass_back.geometry,material:y(o),scale:[.95,1,.95]},null,8,Q),p("TresMesh",{geometry:y(i).glass_inner.geometry,material:y(o)},null,8,U),g(y(O),v(B(d)),null,16)]))}}),te=s({__name:"arrangement",setup(e){const o={clearColor:"#ffffff",windowSize:!0,toneMapping:G,toneMappingExposure:.8,shadows:!0,outputColorSpace:A};return(e,i)=>{const s=w("TresCanvas");return m(),l(f,null,[g(y(a)),g(s,v(B(o)),{default:c(()=>[i[0]||(i[0]=p("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),g(y(t),{enableDamping:""}),(m(),u(b,null,{default:c(()=>[g(ee)]),_:1})),g(W)]),_:1},16)],64)}}});export{te as default};
