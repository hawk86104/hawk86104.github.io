import{k as t}from"./@tresjs.vA_UT8oy1734746792122.js";import{cF as n,_ as e,V as o,k as s,$ as r,aP as i,cl as c,a$ as a,c0 as u,ak as l,am as p,aF as f,s as d}from"./three.1FILWcBb1734746792122.js";import{P as g}from"./tweakpane.yHWGBmom1734746792122.js";import{a as m}from"./index.5EJM2L-T1734746792122.js";import"./index.sj3xct-T1734746792122.js";import{_ as h}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.e0bu2hHg1734746792122.js";import{d as _,r as j,X as y,s as v,q as w,e as x,o as b,D as I,j as k,g as B,J as F,u as M,m as S,f as C,al as T,I as z}from"./@vue.-THQH3GC1734746792122.js";import{_ as A}from"./@fesjs.Y0rSBxCv1734746792122.js";import"./@vueuse.lqJslAkC1734746792122.js";import"./three-stdlib.1ZAvCJOA1734746792122.js";import"./@pmndrs.53rYJjok1734746792122.js";import"./object-hash.J27X2Uyf1734746792122.js";import"./@amap.zNgKkCGX1734746792122.js";import"./jszip.shhf2-t61734746792122.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.N4e8HhDS1734746792122.js";import"./all.three.EfBg0caK1734746792122.js";import"./oimophysics.x0jH7fze1734746792122.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.lDhdz_P01734746792122.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.Z2xL5Chm1734746792122.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.S-n0nLMk1734746792122.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.l6Fck9j-1734746792122.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.06nnfEks1734746792122.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.hzuf3Ma31734746792122.js";import"./vue-router.PPpNBBl21734746792122.js";import"./lodash-es.kYt-_xTG1734746792122.js";import"./@qlin.yHhFDldE1734746792122.js";import"./pinia.fA-Uqav61734746792122.js";import"./vue-demi.C4xddsk91734746792122.js";import"./@floating-ui.BPbuo5Gx1734746792122.js";import"./@juggle.7yjBMqoW1734746792122.js";const E=P;!function(t,n){const e=P,o=V();for(;;)try{if(530365===-parseInt(e(528))/1*(parseInt(e(540))/2)+-parseInt(e(550))/3*(-parseInt(e(490))/4)+-parseInt(e(525))/5+parseInt(e(551))/6+parseInt(e(500))/7*(-parseInt(e(529))/8)+-parseInt(e(545))/9*(parseInt(e(515))/10)+parseInt(e(547))/11)break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(){const t=["add","112116WgRBJX","count","negate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","geometry","position","return (function() ","input","prototype","constructor","21CjSrrT","error","mBoundingBox","forEach","getCenter","gger","call","renderOrder","action","Shape","name","length","console","Mesh","warn","2990eKFZZp","test","attributes","LineBasicMaterial","stateObject","log","computeBoundingBox",'{}.constructor("return this")( )',"copy","ExtrudeGeometry","3894315jzGriy","setXY","Vector2","1aqdYcj","596504UQYdom","min","function *\\( *\\)","apply","getX","translate","BufferAttribute","getY","parse","paths","max","938686VBPbkV","debu","string","boundingBox","bind","30861vOaeBG","toString","12031448IjoQOz","while (true) {}","table","102EKQfUG","5884662ugCyPm","init","rotation","#AFAFAD","trace","counter","drawImportSpecialBoard"];return(V=function(){return t})()}!function(){R(this,(function(){const t=P,n=new RegExp(t(531)),e=new RegExp(t(493),"i"),o=q(t(552));n[t(516)](o+"chain")&&e[t(516)](o+t(497))?q():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(532)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=P;let n;try{n=Function(t(496)+t(522)+");")()}catch(s){n=window}const e=n.console=n[t(512)]||{},o=[t(520),t(514),"info",t(501),"exception",t(549),t(555)];for(let r=0;r<o[t(511)];r++){const n=D.constructor[t(498)][t(544)](D),s=o[r],i=e[s]||n;n.__proto__=D[t(544)](D),n[t(546)]=i.toString.bind(i),e[s]=n}}))();class G{constructor(t){this[P(510)]=t}[E(557)](t,u,l){const p=E,f=(new n)[p(537)](u),d=new(e[p(509)]);f[p(538)][p(503)](((t,n)=>{const e=p;t.toShapes(!0)[e(503)](((t,e)=>{0===n&&0===e?d.copy(t):d.holes.push(t)}))}));const g=new(e[p(524)])(d,{depth:18,bevelEnabled:!1});g[p(521)]();const m=g.boundingBox[p(504)](new o)[p(492)]();g[p(534)](m.x,m.y,m.z),g.computeBoundingBox();const h=g[p(543)][p(539)],_=g[p(543)][p(530)],j=new(e[p(527)])(0-_.x,0-_.y),y=new s(h.x-_.x,h.y-_.y);g[p(517)].uv=new(e[p(535)])(new Float32Array(2*g[p(517)].position[p(491)]),2);for(let n=0;n<g[p(517)].position[p(491)];n++){const t=g[p(517)][p(495)][p(533)](n),e=g[p(517)][p(495)][p(536)](n);g[p(517)].uv[p(526)](n,(t+j.x)/y.x,(e+j.y)/y.y)}const v=new r({map:null}),w=new(e[p(513)])(g,v);w.material=new i({map:null,color:p(554),roughness:1,metalness:.1,envMapIntensity:2.5}),w.receiveShadow=!0,w.castShadow=!0,w[p(495)].x=l,w[p(495)].y=250;const x=new(e[p(518)])({color:0}),b=new c(w[p(494)],1),I=new a(b,x);I[p(507)]=1,I[p(495)][p(523)](w.position),I.rotation[p(523)](w[p(553)]),w[p(502)]=I,t[p(489)](w,w[p(502)])}}function P(t,n){const e=V();return(P=function(t,n){return e[t-=489]})(t,n)}function q(t){function n(t){const e=P;if(typeof t===e(542))return function(t){}[e(499)](e(548)).apply(e(556));1!==(""+t/t).length||t%20==0?function(){return!0}[e(499)](e(541)+e(505))[e(506)](e(508)):function(){return!1}[e(499)](e(541)+e(505))[e(532)](e(519)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=Z,o=Y();for(;;)try{if(642860===-parseInt(e(281))/1*(parseInt(e(278))/2)+parseInt(e(287))/3+parseInt(e(327))/4*(-parseInt(e(283))/5)+parseInt(e(282))/6+-parseInt(e(279))/7*(parseInt(e(319))/8)+-parseInt(e(306))/9+-parseInt(e(360))/10*(-parseInt(e(320))/11))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(325)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=Z,n=new RegExp(t(359)),e=new RegExp(t(318),"i"),o=Q(t(271));n[t(329)](o+t(311))&&e[t(329)](o+"input")?Q():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(325)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(t,n){const e=Y();return(Z=function(t,n){return e[t-=266]})(t,n)}function Y(){const t=["5955936jnNyqr","5EjZDVe","click","constructor","boxMeshRef","2013693oujILS","div","drawImportSpecialBoard","call","length","10000","加载脚本时出错","plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","http://www.w3.org/2000/svg","dxfFileInput","log","console","warn","fileInput","createElement","TresGroup","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","#82DBC5","xMidYMid meet","1797714riYVqR","src","svg","toString","导入dxf","chain","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","addButton","pos-z.jpg","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","#ffffff",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","510184OtIyuj","110946WWQBEY","stateObject","bind","http://www.inkscape.org/namespaces/inkscape","then","apply","1.1","1996084lOGMHE","add","test","error","pos-y.jpg","neg-z.jpg","remove","TresAmbientLight","#svg-display svg","TresBoxGeometry","dxf2svg","TresPerspectiveCamera","return (function() ","button"," 时出错","pen1","catch","_blank","gger","querySelector","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","neg-y.jpg","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","children","onload","svg-display","#776A8F","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","TresCanvas","input","__proto__","初始化","function *\\( *\\)","470JMRbZh","blue","translate(50, 50)","action","exception","counter","string","type","#627179","debu","init","prototype","dialogVisible","TresMeshBasicMaterial","open","addFolder","pos-x.jpg","2LpOimg","21PmfCVM","info","604983AFUsVs"];return(Y=function(){return t})()}X(void 0,(function(){const t=Z;let n;try{n=Function(t(339)+t(317)+");")()}catch(s){n=window}const e=n[t(298)]=n.console||{},o=[t(297),t(299),t(280),t(330),t(364),"table","trace"];for(let r=0;r<o[t(291)];r++){const n=X.constructor[t(272)].bind(X),s=o[r],i=e[s]||n;n[t(357)]=X[t(322)](X),n[t(309)]=i[t(309)][t(322)](i),e[s]=n}}))();const $={key:0,class:"dialogDiv"},L={class:"footBtn"};function Q(t){function n(t){const e=Z;if(typeof t===e(267))return function(t){}.constructor("while (true) {}")[e(325)](e(266));1!==(""+t/t)[e(291)]||t%20==0?function(){return!0}[e(285)]("debu"+e(345))[e(290)](e(363)):function(){return!1}.constructor(e(270)+e(345))[e(325)](e(321)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=A(_({__name:"dxf2meshPage",setup(n){const e=Z,o=j({dialogVisible:!1}),s={clearColor:e(304),shadows:!0,alpha:!1,shadowMapType:u,outputColorSpace:l,toneMapping:p},i=j({cellSize:60,cellThickness:1.1,cellColor:e(269),sectionColor:"#3a78a2",sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let c=0;const a=y(),_=y(),A=new g;A[e(313)]({title:"下载测试文件1"}).on("click",(()=>{const t=e;window[t(275)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(344))})),A[e(313)]({title:"下载测试文件2"}).on(e(284),(()=>{const t=e;window[t(275)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(344))}));const E=A[e(276)]({title:"远近"});function R(){const t=e,n=_.value;o.dialogVisible=!1;const s=document[t(346)](t(335));if(s){const e=s.outerHTML;let o=new G;c+=1200,o[t(289)](n,e,c)}}function V(t){return new Promise(((n,e)=>{const o=Z,s=document[o(301)]("script");s[o(307)]=t,s[o(268)]="text/javascript",s[o(351)]=()=>n(),s.onerror=()=>e(new Error("加载脚本 "+t+o(341))),document.head.appendChild(s)}))}return E.addButton({title:e(310)}).on("click",(()=>{o.dialogVisible=!0,v((()=>{window.localFileReader.init()}))})),E[e(313)]({title:e(358)}).on(e(284),(()=>{!function(){const t=e,n=new f(500,500,18),o=new r({color:t(361)}),s=new d(n,o),i=_.value;for(;i.children[t(291)]>0;){const n=i[t(350)][0];i[t(333)](n)}i[t(328)](s)}()})),w((()=>{!function(){const t=e;V(t(354))[t(324)]((()=>V(t(347)))).then((()=>V(t(349))))[t(324)]((()=>V(t(294))))[t(324)]((()=>V(t(312))))[t(324)]((()=>V(t(303))))[t(343)]((n=>console[t(330)](t(293),n)))}()})),(n,r)=>{const c=e,u=x(c(355));return b(),I(c(288),null,[k(u,S(s,{"window-size":""}),{default:B((()=>[r[2]||(r[2]=F(c(338),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),k(M(t),{"make-default":""}),r[3]||(r[3]=F("TresGridHelper",{position:[0,-1,0],size:"1000",divisions:c(292)},null,-1)),F(c(302),{ref_key:"groupRef",ref:_,position:[2,250,0]},[F("TresMesh",{ref_key:c(286),ref:a},r[1]||(r[1]=[F(c(336),{args:[500,500,18]},null,-1),F(c(274),{color:c(361)},null,-1)]),512)],512),r[4]||(r[4]=F(c(334),{color:c(316),intensity:1},null,-1)),r[5]||(r[5]=F("TresDirectionalLight",{color:c(316),position:[300,300,250],intensity:6},null,-1)),k(M(h),S({args:[3,3]},i,{position:[0,-.5,0]}),null,16),(b(),C(T,null,{default:B((()=>[k(M(m),{files:[c(277),"neg-x.jpg",c(331),c(348),c(314),c(332)],path:c(315)})])),_:1}))])),_:1},16),o[c(273)]?(b(),I(c(288),$,[r[6]||(r[6]=F(c(288),{id:c(352),class:"assembly",style:{}},[F(c(308),{id:"main-svg",xmlns:c(295),"xmlns:svg":c(295),"xmlns:inkscape":c(323),version:c(326),preserveAspectRatio:c(305)},[F("g",{id:c(337),class:c(342),"stroke-width":"6",fill:c(353),transform:c(362)})])],-1)),r[7]||(r[7]=F(c(288),{class:c(300)},[F(c(356),{id:c(296),type:"file"})],-1)),F(c(288),L,[F(c(340),{onClick:r[0]||(r[0]=t=>o[c(273)]=!1)},"取消"),F(c(340),{onClick:R},"确定")])])):z("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{U as default};
