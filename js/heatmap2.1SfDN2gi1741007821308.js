import{P as t}from"./tweakpane.yDiyAAkA1741007821308.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.aJLp8puk1741007821308.js";import{_ as r}from"./heatmap.js-fix.KPps7EkJ1741007821308.js";import{a as i,_ as c,c3 as s,M as u,r as a,l as p,a0 as f}from"./three.sBrYSCgq1741007821308.js";import{r as l}from"./utils.qrEcVY0O1741007821308.js";import{d}from"./pinia.uil_kwoa1741007821308.js";import{b as h,d as m,a2 as g,o as y,H as v,N as w,u as b,F as _,q as I,W as j,P as x,R as E,L as O,O as R,a3 as S,r as A,j as M,g as Z,m as k}from"./@vue.NRI7TcgI1741007821308.js";import{c as z,d as P,a as B}from"./three-mesh-bvh.7EsR8FeE1741007821308.js";import{_ as T}from"./@fesjs.5qm9mpwh1741007821308.js";import"./@tresjs.u6hJLBm41741007821308.js";import"./postprocessing.rsQjznIU1741007821308.js";import"./@vueuse.jd1Cg91M1741007821308.js";import"./three-custom-shader-material.3n-EBY0H1741007821308.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741007821308.js";import"./@amap.1goFCJT_1741007821308.js";import"./vue-router.ArfKSsyg1741007821308.js";import"./lodash-es.pklfUAS51741007821308.js";import"./@qlin.yHhFDldE1741007821308.js";import"./@floating-ui.BPbuo5Gx1741007821308.js";import"./@juggle.7yjBMqoW1741007821308.js";!function(t,n){const e=N,o=X();for(;;)try{if(613596===parseInt(e(489))/1+parseInt(e(503))/2+-parseInt(e(486))/3*(parseInt(e(483))/4)+parseInt(e(460))/5*(parseInt(e(507))/6)+parseInt(e(475))/7*(parseInt(e(474))/8)+-parseInt(e(488))/9*(-parseInt(e(493))/10)+-parseInt(e(504))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(461)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=N,n=new RegExp(t(481)),e=new RegExp(t(464),"i"),o=$(t(477));n[t(491)](o+t(492))&&e[t(491)](o+"input")?$():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(461)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["width","72kYUYql","1166420gXPOkc","appendChild","test","chain","1103990tmpYLy","log","push","trace","constructor","table","create","length","counter","debu","1175148RmNNul","30617840XQjQxf","none","yellow","6HyXogp","getValueAt","style","5128625AvESBd","apply",'{}.constructor("return this")( )',"absolute","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","createElement","randInt","exception","warn","info","bind","stateObject","left","843112HKfUuV","14QwbEyX","rgb(255,0,0)","init","gger","toString","console","function *\\( *\\)","_config","4IEBdVE","while (true) {}","rgb(0,0,255)","1429959iJderA"];return(X=function(){return t})()}D(void 0,(function(){const t=N;let n;try{n=Function("return (function() "+t(462)+");")()}catch(r){n=window}const e=n[t(480)]=n.console||{},o=[t(494),t(469),t(470),t(465),t(468),t(498),t(496)];for(let i=0;i<o[t(500)];i++){const n=D.constructor.prototype[t(471)](D),r=o[i],c=e[r]||n;n.__proto__=D.bind(D),n[t(479)]=c.toString[t(471)](c),e[r]=n}}))();const H=(t,n)=>t[N(508)](n)+-10;function N(t,n){const e=X();return(N=function(t,n){return e[t-=459]})(t,n)}function $(t){function n(t){const e=N;if("string"==typeof t)return function(t){}[e(497)](e(484))[e(461)](e(501));1!==(""+t/t)[e(500)]||t%20==0?function(){return!0}[e(497)](e(502)+e(478)).call("action"):function(){return!1}[e(497)](e(502)+e(478)).apply(e(472)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=L,o=U();for(;;)try{if(676041===parseInt(e(207))/1+parseInt(e(221))/2+parseInt(e(230))/3+-parseInt(e(236))/4+-parseInt(e(204))/5*(-parseInt(e(219))/6)+parseInt(e(210))/7+-parseInt(e(205))/8*(parseInt(e(209))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(225)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=L,n=new RegExp(t(215)),e=new RegExp(t(214),"i"),o=W(t(213));n[t(223)](o+"chain")&&e[t(223)](o+"input")?W():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(225)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","error","warn","exception","24756dnPjbi","__proto__","1454352hIdnCV","debu","test","action","apply","prototype","gger","toString","bind","2174160mwgfTr","length","while (true) {}","stateObject","value",'{}.constructor("return this")( )',"4827864bzTumO","table","95zvelNO","194632jiNpZW","call","562910dHOtqR","constructor","243JNzdxD","3126830vLchwA","string","info","init"];return(U=function(){return t})()}function L(t,n){const e=U();return(L=function(t,n){return e[t-=204]})(t,n)}J(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function("return (function() "+t(235)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=["log",t(217),t(212),t(216),t(218),t(237),"trace"];for(let r=0;r<o[t(231)];r++){const n=J[t(208)][t(226)][t(229)](J),i=o[r],c=e[i]||n;n[t(220)]=J[t(229)](J),n.toString=c[t(228)][t(229)](c),e[i]=n}}))();const V=d("buildingsHeatmap",(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[L(234)]=t}}}));function W(t){function n(t){const e=L;if(typeof t===e(211))return function(t){}[e(208)](e(232))[e(225)]("counter");1!==(""+t/t)[e(231)]||t%20==0?function(){return!0}.constructor("debu"+e(227))[e(206)](e(224)):function(){return!1}[e(208)](e(222)+e(227)).apply(e(233)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=G;function q(){const t=["BufferGeometry","exception","init","length","model","test","computeBoundsTree","_renderer","gger","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","canvas","attributes","trace","Mesh","table","5616455ZcsPIW","rotation-x","height","land","22651328uJhZXm","uniforms","raycast","action","log","disposeBoundsTree","value","error",'{}.constructor("return this")( )',"5791698smAogB","matrix","setShowDiv","2942020NTrLZf","setTemperature","Texture","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","mergeGeometries","debu","city","3jcwqCn","input","function *\\( *\\)","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","applyMatrix4","1312031vRgNwk","toString","normal","call","string","counter","while (true) {}","opacity","makeRotationX","primitive","uOpacity","_config","prototype","11498809oSJTCR","geometry","children","object","apply","$patch","bind","clone","__proto__","2573694nHCcpX","width","constructor"];return(q=function(){return t})()}!function(t,n){const e=G,o=q();for(;;)try{if(832652===parseInt(e(480))/1+parseInt(e(502))/2*(parseInt(e(475))/3)+-parseInt(e(467))/4+parseInt(e(451))/5+-parseInt(e(464))/6+parseInt(e(493))/7+-parseInt(e(455))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(497)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(t,n){const e=q();return(G=function(t,n){return e[t-=449]})(t,n)}!function(){Q(this,(function(){const t=G,n=new RegExp(t(477)),e=new RegExp(t(470),"i"),o=ot(t(507));n[t(510)](o+t(471))&&e[t(510)](o+t(476))?ot():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(497)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=G;let n;try{n=Function("return (function() "+t(463)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(459),"warn","info",t(462),t(506),t(450),t(517)];for(let i=0;i<o[t(508)];i++){const n=K[t(504)][t(492)][t(499)](K),r=o[i],c=e[r]||n;n[t(501)]=K.bind(K),n[t(481)]=c[t(481)][t(499)](c),e[r]=n}}))();const tt=[Y(496),Y(452)],nt=[Y(496)],et=m({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=Y;(()=>{const t=G;c[t(505)][t(492)].computeBoundsTree=z,c[t(505)].prototype[t(460)]=P,c[t(449)].prototype[t(457)]=B})();const e=t,o=((t=250,n=250,e=!0)=>{const o=N,i=document[o(466)]("heatmap-canvas");return i[o(459)].position=o(463),!e&&(i.style.display=o(505)),i[o(459)].top="0",i[o(459)][o(473)]="0",document.body[o(490)](i),r[o(499)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(485),.55:"rgb(0,255,0)",.85:o(506),1:o(476)}})})();((t,n)=>{const e=N;if(!n){let o=0;for(n=[];o<1e3;)n[e(495)]({x:i.randInt(1,t._config[e(487)]),y:i[e(467)](1,t[e(482)].height),value:i.randInt(-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const d=new(c[n(469)])(o[n(512)][n(515)]);d.needsUpdate=!0;const h=e[n(509)][n(474)][n(500)]();delete h[n(494)][n(516)][n(482)],delete h[n(494)][n(516)].uv;const m=h.geometry.clone().applyMatrix4(h.matrix),I=e[n(509)][n(454)][n(500)]();delete I.geometry.attributes[n(482)];const j=I[n(494)][n(500)]()[n(479)](I[n(465)]),x=s[n(472)]([m,j]);x[n(479)]((new u)[n(488)](Math.PI/2)),l(x),x[n(511)]();const E=(t=>{const o=n;return new p({vertexShader:o(514),fragmentShader:o(478),uniforms:{uOpacity:{value:e[o(487)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:f})})(d),O=new a(x,E);g((()=>{const t=n;e[t(487)]&&(E[t(456)][t(490)][t(461)]=e[t(487)])}));const R=V(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(491)][e(503)],y:(1-t.uv.y)*o[e(491)][e(453)]};console.log("数值：",t),console.log("数值———：",H(o,n)),R[e(468)](H(o,n))}},A=t=>{t&&R[n(498)]({showDiv:!0})},M=t=>{t&&R[n(466)](!1)};return(t,o)=>{const r=n;return y(),v(_,null,[w(r(489),{object:b(O),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:A,onPointerLeave:M},null,40,tt),w(r(489),{object:e[r(509)].model[r(495)][0][r(500)]()},null,8,nt)],64)}}});function ot(t){function n(t){const e=G;if(typeof t===e(484))return function(t){}[e(504)](e(486))[e(497)](e(485));1!==(""+t/t)[e(508)]||t%20==0?function(){return!0}[e(504)](e(473)+e(513))[e(483)](e(458)):function(){return!1}[e(504)](e(473)+e(513))[e(497)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=T({__name:"dataDiv",setup(t){const n=V(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),j((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>x((y(),v("div",{class:"title",style:R(e.value)},"温度："+O(b(n).temperature)+"℃ ",5)),[[E,b(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);function it(t,n){const e=at();return(it=function(t,n){return e[t-=430]})(t,n)}const ct=it;!function(t,n){const e=it,o=at();for(;;)try{if(146669===parseInt(e(460))/1+-parseInt(e(454))/2*(-parseInt(e(453))/3)+parseInt(e(432))/4*(parseInt(e(448))/5)+parseInt(e(447))/6+-parseInt(e(430))/7+parseInt(e(434))/8+-parseInt(e(457))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(440)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){st(this,(function(){const t=it,n=new RegExp(t(436)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ft("init");n.test(o+t(467))&&e[t(461)](o+t(458))?ft():o("0")}))()}();const ut=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(440)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function at(){const t=["constructor","stateObject","city","bind","toString","747762cusiaf","359615BxVusW","builds","console","heatmap2","counter","664641YPXyrO","2RJrVJF","gger","info","5168565QIwSkr","input","#000","211080uJtHfy","test","value","prototype","call",'{}.constructor("return this")( )',"length","chain","string","log","809662JClNOu","table","4zBsZkU","addBinding","1659544HCpyFO","action","function *\\( *\\)","exception","model","warn","apply","error"];return(at=function(){return t})()}ut(void 0,(function(){const t=it;let n;try{n=Function("return (function() "+t(465)+");")()}catch(r){n=window}const e=n[t(450)]=n[t(450)]||{},o=[t(469),t(439),t(456),t(441),t(437),t(431),"trace"];for(let i=0;i<o[t(466)];i++){const n=ut.constructor[t(463)].bind(ut),r=o[i],c=e[r]||n;n.__proto__=ut[t(445)](ut),n.toString=c[t(446)].bind(c),e[r]=n}}))();const pt=m({__name:ct(451),async setup(r){const i=ct;let c,s;const u=h(!1),a=([c,s]=S((()=>o())),c=await c,s(),c);u[i(462)]=!0;const p=A({width:1,color:i(459),opacity:1,show:!0}),f=A({opacity:.9});return new t({title:"参数",expanded:!0})[i(433)](f,"opacity",{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return y(),v(_,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:Z((()=>[M(et,k({model:b(a)},f),null,16,[r(438)]),M(n,k(p,{builds:b(a)[r(444)]}),null,16,[r(449)])])),_:1}),M(rt)],64)}}});function ft(t){function n(t){const e=it;if(typeof t===e(468))return function(t){}.constructor("while (true) {}")[e(440)](e(452));1!==(""+t/t)[e(466)]||t%20==0?function(){return!0}[e(442)]("debu"+e(455))[e(464)](e(435)):function(){return!1}.constructor("debugger")[e(440)](e(443)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
