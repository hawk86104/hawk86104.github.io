import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.yaBKiR-I1741309500666.js";import{_ as i,b as s,aX as a}from"./three.8tDGqmLF1741309500666.js";import{P as c}from"./tweakpane.yDiyAAkA1741309500666.js";import{L as u}from"./three-subdivide.GaIqMT-O1741309500666.js";import{d as l,b as f,a2 as p,w as d,o as m,H as g,N as h,aj as v,ak as y,a3 as b,r as w,e as _,f as M,g as x,j as I,u as S,m as T,M as j}from"./@vue.NRI7TcgI1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";const B=F;!function(n,t){const e=F,o=A();for(;;)try{if(951127===-parseInt(e(513))/1*(-parseInt(e(512))/2)+-parseInt(e(505))/3*(-parseInt(e(521))/4)+parseInt(e(510))/5+parseInt(e(506))/6+parseInt(e(524))/7+-parseInt(e(469))/8+-parseInt(e(493))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(497)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){N(this,(function(){const n=F,t=new RegExp(n(523)),e=new RegExp(n(502),"i"),o=C("init");t[n(488)](o+"chain")&&e[n(488)](o+n(492))?C():o("0")}))()}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(497)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(n,t){const e=A();return(F=function(n,t){return e[n-=469]})(n,t)}k(void 0,(function(){const n=F,t=function(){const n=F;let t;try{t=Function("return (function() "+n(520)+");")()}catch(e){t=window}return t}(),e=t[n(511)]=t.console||{},o=["log",n(517),"info",n(484),n(514),n(481),n(509)];for(let r=0;r<o.length;r++){const t=k[n(503)][n(500)][n(525)](k),i=o[r],s=e[i]||t;t[n(491)]=k[n(525)](k),t.toString=s.toString[n(525)](s),e[i]=t}}))();const R=[B(475)],z=l({__name:B(515),props:{srcMesh:{},scale:{default:1.2},color:{default:B(526)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(519)]},blending:{default:i[B(479)]}},setup(e){const o=B,r=e,a=f(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(527)])(r[o(480)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(476),fragmentShader:o(494),side:r[o(499)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(495)]};p((()=>{const n=o;if(r[n(507)]&&a.value&&!a[n(501)][n(471)][n(486)].position){let t=r[n(507)][n(471)][n(498)]();r[n(478)]&&(t=u[n(504)](t,2)),a[n(501)][n(471)]=t,a[n(501)][n(472)][n(496)](r[n(507)].position)}r[n(480)]&&(c.uniforms[n(477)][n(501)]=new(i[n(527)])(r[n(480)])),r.c&&(c[n(485)].c[n(501)]=r.c),r.p&&(c[n(485)].p[n(501)]=r.p)})),d((()=>r.subdivision),(n=>{const t=o;let e=r[t(507)][t(471)][t(498)]();n&&(e=u[t(504)](e,2)),a[t(501)].geometry=e})),d((()=>r[o(499)]),(n=>{const t=o;a.value.material[t(499)]=n})),d((()=>r[o(495)]),(n=>{const t=o;a[t(501)][t(490)][t(495)]=n}));const{onLoop:l}=n(),{camera:b}=t();return l((()=>{const n=o;b[n(501)]&&a[n(501)]&&(c[n(485)][n(487)][n(501)]=(new s).subVectors(b[n(501)][n(472)],a[n(501)][n(472)]))})),(n,t)=>{const e=o;return m(),g(e(489),{ref_key:e(508),ref:a,scale:r[e(475)]},[h("TresShaderMaterial",v(y(c)),null,16)],8,R)}}});function C(n){function t(n){const e=F;if(typeof n===e(518))return function(n){}[e(503)](e(473))[e(497)](e(483));1!==(""+n/n)[e(528)]||n%20==0?function(){return!0}[e(503)](e(474)+e(470))[e(522)](e(482)):function(){return!1}.constructor(e(474)+e(470))[e(497)](e(516)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function A(){const n=["clone","side","prototype","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","modify","1606329IeHNsn","9728076YTDfnO","srcMesh","TSGref","trace","7325985xNnhDQ","console","464752cwFuqu","3FYnrit","exception","shineShader","stateObject","warn","string","FrontSide",'{}.constructor("return this")( )',"4OENQHF","call","function *\\( *\\)","9529618MPSUGs","bind","#ffff00","Color","length","12583624NyLqXn","gger","geometry","position","while (true) {}","debu","scale","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","glowColor","subdivision","AdditiveBlending","color","table","action","counter","error","uniforms","attributes","viewVector","test","TresMesh","material","__proto__","input","28407672IsNVxL","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","blending","copy","apply"];return(A=function(){return n})()}const E=Z;!function(n,t){const e=Z,o=O();for(;;)try{if(743833===parseInt(e(345))/1+parseInt(e(315))/2*(parseInt(e(327))/3)+-parseInt(e(305))/4+parseInt(e(349))/5*(parseInt(e(328))/6)+-parseInt(e(324))/7*(-parseInt(e(309))/8)+parseInt(e(310))/9+parseInt(e(303))/10*(parseInt(e(322))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(350)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){V(this,(function(){const n=Z,t=new RegExp(n(346)),e=new RegExp(n(344),"i"),o=D("init");t[n(319)](o+n(302))&&e[n(319)](o+"input")?D():o("0")}))()}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(350)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();H(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function(n(316)+n(297)+");")()}catch(e){t=window}return t}(),e=t[n(331)]=t.console||{},o=[n(298),"warn",n(352),n(321),n(333),n(339),n(296)];for(let r=0;r<o[n(354)];r++){const t=H[n(312)][n(317)][n(320)](H),i=o[r],s=e[i]||t;t[n(336)]=H[n(320)](H),t[n(340)]=s.toString.bind(s),e[i]=t}}))();const L=[E(348)],G=["map"];function Z(n,t){const e=O();return(Z=function(n,t){return e[n-=293]})(n,t)}const q=l({__name:"shader",async setup(n){const t=E;let s,u;const l={clearColor:t(300)},p=f(),d=f(),g=f(),v=([s,u]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(332)]))),s=await s,u(),s),y=w({scale:1.6,color:t(343),subdivision:!0,c:1.1,p:1.4,side:i[t(313)],blending:a}),B=new c({title:"参数",expanded:!0});return B[t(306)](y,t(311),{label:"颜色"}),B.addBinding(y,t(329),{label:"大小",min:1,max:3,step:.2}),B[t(306)](y,"subdivision",{label:t(330)}),B.addBinding(y,"c",{label:"c",min:0,max:2,step:.1}),B[t(306)](y,"p",{label:"p",min:0,max:8,step:.2}),B[t(306)](y,"side",{options:{FrontSide:i[t(313)],BackSide:i[t(342)],DoubleSide:i[t(326)]}}),B[t(306)](y,t(301),{options:{AdditiveBlending:a,NormalBlending:i[t(294)]}}),(n,r)=>{const i=t,s=_(i(299));return m(),M(s,T(l,{"window-size":""}),{default:x((()=>[r[2]||(r[2]=h("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),r[3]||(r[3]=h(i(325),{intensity:1},null,-1)),I(S(e)),r[4]||(r[4]=h(i(341),{args:[10,10]},null,-1)),h(i(295),{ref_key:i(304),ref:p,position:[-2,1,0]},[r[0]||(r[0]=h(i(338),{args:[1,32,16]},null,-1)),h(i(308),{map:S(v)[0]},null,8,L)],512),I(z,T({srcMesh:p[i(323)]},y),null,16,[i(293)]),I(S(o),{ref_key:i(347),ref:g,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h("TresMeshBasicMaterial",{map:S(v)[1]},null,8,G)])),_:1},512),g[i(323)]&&g[i(323)][i(314)]?(m(),M(z,T({key:0,srcMesh:g[i(323)].instance},y),null,16,[i(293)])):j("",!0),h("TresMesh",{ref_key:i(318),ref:d,position:[0,1,-2]},r[1]||(r[1]=[h("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),h("TresMeshBasicMaterial",{color:i(334)},null,-1)]),512),I(z,T({srcMesh:d.value},y),null,16,[i(293)])])),_:1},16)}}});function D(n){function t(n){const e=Z;if(typeof n===e(337))return function(n){}.constructor(e(307))[e(350)]("counter");1!==(""+n/n)[e(354)]||n%20==0?function(){return!0}[e(312)](e(353)+"gger").call("action"):function(){return!1}[e(312)](e(353)+e(335))[e(350)](e(351)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function O(){const n=["TresAmbientLight","DoubleSide","83670pbZdeX","14172ajqzYd","scale","边缘处理","console","logo.png","exception","#0ff","gger","__proto__","string","TresSphereGeometry","table","toString","TresGridHelper","BackSide","#00dfff","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","413460ifTtRd","function *\\( *\\)","TreBoxRef","map","335bEcYfE","apply","stateObject","info","debu","length","srcMesh","NormalBlending","TresMesh","trace",'{}.constructor("return this")( )',"log","TresCanvas","#222","blending","chain","109530RnqzFQ","TresMeshRefA","4730336NfHehH","addBinding","while (true) {}","TresMeshBasicMaterial","162296nhFoKL","1412631jRWmUN","color","constructor","FrontSide","instance","28FEbbBm","return (function() ","prototype","TresMeshRefB","test","bind","error","770CaxcfS","value","14iihRsR"];return(O=function(){return n})()}export{q as default};
