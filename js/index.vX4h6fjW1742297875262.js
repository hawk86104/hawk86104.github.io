var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.wNcUZu5O1742297875262.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.KQf_J0Ys1742297875262.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.i2KkrsD21742297875262.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,_ as x,A as v,Q as m,ar as h}from"./three.N4lg2KsY1742297875262.js";import{m as w,e as g}from"./@tresjs.oW7bfow21742297875262.js";import{u as d}from"./index.S0bqWcaz1742297875262.js";import{F as y,C as S}from"./three-stdlib.ek_ppiag1742297875262.js";import{d as _}from"./@vue.NRI7TcgI1742297875262.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.C1LvvPPZ1742297875262.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.91U3lb3g1742297875262.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.XqiBX7tV1742297875262.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.wWUqy8Od1742297875262.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.ZcjY7JIc1742297875262.js";function P(t,e){const n=z();return(P=function(t,e){return n[t-=394]})(t,e)}function z(){const t=["1133812vRuCEf","stateObject","5089832YkhMrI",'{}.constructor("return this")( )',"exception","error","call","debu","bind","constructor","744696zaMVVT","toString","test","gger","__proto__","15812253addqbi","1558328Fmtzrp","length","counter","input","warn","12UiNiQX","5cYJstn","action","148910moiMPm","apply","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","while (true) {}","log","prototype","string","1396171zcmeEC"];return(z=function(){return t})()}!function(t,e){const n=P,i=z();for(;;)try{if(463784===parseInt(n(424))/1+-parseInt(n(400))/2+-parseInt(n(410))/3+parseInt(n(416))/4*(-parseInt(n(422))/5)+-parseInt(n(421))/6*(-parseInt(n(399))/7)+-parseInt(n(402))/8+parseInt(n(415))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[P(425)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){b(this,(function(){const t=P,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(427),"i"),i=M("init");e.test(i+"chain")&&n[t(412)](i+t(419))?M():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[P(425)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();I(void 0,(function(){const t=P,e=function(){const t=P;let e;try{e=Function("return (function() "+t(403)+");")()}catch(n){e=window}return e}(),n=e[t(426)]=e[t(426)]||{},i=[t(396),t(420),"info",t(405),t(404),t(394),"trace"];for(let r=0;r<i[t(417)];r++){const e=I[t(409)][t(397)].bind(I),a=i[r],o=n[a]||e;e[t(414)]=I[t(408)](I),e[t(411)]=o[t(411)][t(408)](o),n[a]=e}}))();function M(t){function e(t){const n=P;if(typeof t===n(398))return function(t){}[n(409)](n(395))[n(425)](n(418));1!==(""+t/t)[n(417)]||t%20==0?function(){return!0}[n(409)]("debugger")[n(406)](n(423)):function(){return!1}.constructor(n(407)+n(413))[n(425)](n(401)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const E=L;!function(t,e){const n=L,i=U();for(;;)try{if(294999===-parseInt(n(303))/1+parseInt(n(285))/2*(parseInt(n(310))/3)+-parseInt(n(290))/4*(parseInt(n(297))/5)+parseInt(n(301))/6+-parseInt(n(314))/7+-parseInt(n(283))/8*(parseInt(n(295))/9)+parseInt(n(299))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(t,e){const n=U();return(L=function(t,e){return n[t-=280]})(t,e)}function U(){const t=["function *\\( *\\)","4936Heviuc","gger","stateObject","init","length","801YYONvG","clone","2015BGcohR","return (function() ","13644460POJzSu","warn","1287198oulOfv","action","354041kpOsaS","call","constructor","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","chain","test","apply","19668LPdMTI","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","counter","while (true) {}","1079890kFfsqs","string","debu","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","defines","33272lFliBk","error","28yMLwAJ","bind","input",'{}.constructor("return this")( )'];return(U=function(){return t})()}!function(){A(this,(function(){const t=L,e=new RegExp(t(289)),n=new RegExp(t(280),"i"),i=O(t(293));e[t(308)](i+t(307))&&n[t(308)](i+t(287))?O():i("0")}))()}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[L(309)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function T(t){const e=L,n=a({},t);return e(282)in t&&(n.defines=a({},t[e(282)])),e(317)in t&&(n[e(317)]=s[e(296)](t[e(317)])),n}D(void 0,(function(){const t=L,e=function(){const t=L;let e;try{e=Function(t(298)+t(288)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},i=["log",t(300),"info",t(284),"exception","table","trace"];for(let r=0;r<i.length;r++){const e=D[t(305)].prototype[t(286)](D),a=i[r],o=n[a]||e;e.__proto__=D[t(286)](D),e[t(281)]=o.toString[t(286)](o),n[a]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:E(311)+'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n'+E(306)};function O(t){function e(t){const n=L;if(typeof t===n(315))return function(t){}[n(305)](n(313))[n(309)](n(312));1!==(""+t/t)[n(294)]||t%20==0?function(){return!0}[n(305)](n(316)+"gger")[n(304)](n(302)):function(){return!1}[n(305)]("debu"+n(291))[n(309)](n(292)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const V=N;!function(t,e){const n=N,i=C();for(;;)try{if(168457===-parseInt(n(387))/1*(parseInt(n(421))/2)+-parseInt(n(373))/3*(-parseInt(n(376))/4)+-parseInt(n(400))/5+-parseInt(n(414))/6*(parseInt(n(422))/7)+-parseInt(n(402))/8+parseInt(n(397))/9+parseInt(n(386))/10*(parseInt(n(352))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=N,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=W(t(399));e[t(380)](i+t(383))&&n[t(380)](i+t(360))?W():i("0")}))()}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(){const t=["update","constructor","map","543042tTUZir","_copyQuad","return (function() ","floor","dispose","X_IS_EVEN","while (true) {}","25858bZxxfz","7qonhJq","table","debu","253yiscyP","length","getRenderTarget","replace","counter","tDiffuse","setSize","parentLevel","input","gger","exception","Y_IS_EVEN","floorPowerOfTwo","_swapTarget","autoClear","value","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","console","material","set","bind","60534sDQYet","log","setRenderTarget","52taLyYa","isWebGLRenderTarget","_mipQuad","type","test","parentMapSize","forEach","chain","image","stateObject","217720jaYGfB","21ueSirU","minFilter","setClearColor","texture","originalMapSize","apply","height","setClearAlpha","setViewOffset","uniforms","1334079iHUkRL","render","init","455085lKpBlo","warn","2318488WtmsLj","defines","getClearColor","error","width","camera","copy","clear","__proto__"];return(C=function(){return t})()}function N(t,e){const n=C();return(N=function(t,e){return n[t-=350]})(t,e)}k(void 0,(function(){const t=N,e=function(){const t=N;let e;try{e=Function(t(416)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(369)]=e[t(369)]||{},i=[t(374),t(401),"info",t(405),t(362),t(350),"trace"];for(let r=0;r<i.length;r++){const e=k[t(412)].prototype[t(372)](k),a=i[r],o=n[a]||e;e[t(410)]=k[t(372)](k),e.toString=o.toString[t(372)](o),n[a]=e}}))();const F=new l;class H{constructor(t){const e=N;!t&&(t=e(368));const n=T(j);n.fragmentShader=n.fragmentShader[e(355)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0].defines.X_IS_EVEN=0,i[0][e(403)][e(363)]=0,i[1]=new c(T(n)),i[1][e(403)][e(419)]=1,i[1][e(403)][e(363)]=0,i[2]=new c(T(n)),i[2][e(403)][e(419)]=0,i[2].defines[e(363)]=1,i[3]=new c(T(n)),i[3][e(403)].X_IS_EVEN=1,i[3][e(403)][e(363)]=1;const r=new u;r[e(390)][e(388)]=p,r[e(390)].magFilter=p,this[e(365)]=r,this._copyQuad=new y(new c(S)),this[e(378)]=new y(null),this._mipMaterials=i}[V(411)](t,e,n,i=!1){const r=V;t[r(377)]&&(t=t[r(390)]);const o=n[r(366)],s=n.getClearAlpha(),l=n[r(354)]();n[r(404)](F);const c=this[r(415)],u=this[r(378)],p=this[r(365)],x=this._mipMaterials;let v,m;i?(v=f[r(364)](t[r(384)][r(406)]),m=f[r(364)](t[r(384)][r(393)])):(v=Math[r(417)](t[r(384)][r(406)]),m=Math[r(417)](t.image[r(393)]));const h=Math[r(417)](1.5*v),w=Math[r(417)](m);e[r(358)](h,w),p.texture.type!==e.texture[r(379)]?(p[r(418)](),p[r(408)](e),p.texture[r(384)]=a({},p[r(390)][r(384)])):p[r(358)](h,w),n[r(366)]=!1,n[r(389)](0),n[r(394)](),c.material[r(396)][r(357)][r(367)]=t,c[r(407)][r(395)](v,m,0,0,h,w),n[r(375)](e),n[r(409)](),c.render(n),n[r(375)](p),n[r(409)](),c[r(398)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[r(413)][r(367)]=p[r(390)],t[r(396)][r(359)][r(367)]=y,t[r(396)][r(381)].value[r(371)](g,d),t[r(396)][r(391)][r(367)].set(v,m),u[r(370)]=t,g=Math[r(417)](g/2),d=Math.floor(d/2);const i=w-2*d;n[r(375)](e),u.camera[r(395)](g,d,-v,-i,h,w),u[r(398)](n),n.setRenderTarget(p),t.uniforms.map[r(367)]=e[r(390)],u[r(398)](n),y++}return n[r(375)](l),n[r(394)](s),n[r(389)](F),n.autoClear=o,y+1}[V(418)](){const t=V;this._swapTarget[t(418)](),this[t(378)][t(418)](),this[t(415)][t(418)](),this._mipMaterials[t(382)]((e=>e[t(418)]()))}}function W(t){function e(t){const n=N;if("string"==typeof t)return function(t){}[n(412)](n(420))[n(392)](n(356));1!==(""+t/t)[n(353)]||t%20==0?function(){return!0}.constructor(n(351)+n(361)).call("action"):function(){return!1}.constructor(n(351)+"gger")[n(392)](n(385)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Q=Z;function X(){const t=["Vector4","48qrwHnC","4650784qXHXoB","ignoreObjects","multiply","buffers","apply","applyMatrix4","projectionMatrix","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","copy","matrixWorldInverse","add","resolution","reflect","forEach","PerspectiveCamera","constructor","Plane","trace","parent","sub","getWorldQuaternion","setMask","while (true) {}","negate","visible","clone","length","chain","229980RvWaCk","gger","state","exception","input","value","__proto__","reflectorMipMap","debu","473JdGzVO","7821XjcFBr","depth","update","dot","toString","prototype","call","Matrix4","elements","console","normal",'{}.constructor("return this")( )',"getRenderTarget","Vector3","2581885ElfoaN","getWorldPosition","texture","259133qsQcrq","action","matrixWorld","UnsignedByteType","render","test","updateMatrixWorld","Quaternion","setRenderTarget","init","542280NviRhF","warn","bind","72KPcADM","9MLgtNb","set","6040330ardATA","info","error","4fVxvgY","sign","log"];return(X=function(){return t})()}!function(t,e){const n=Z,i=X();for(;;)try{if(467774===-parseInt(n(440))/1*(-parseInt(n(486))/2)+parseInt(n(450))/3*(-parseInt(n(480))/4)+parseInt(n(464))/5+parseInt(n(490))/6*(parseInt(n(467))/7)+parseInt(n(491))/8+parseInt(n(481))/9*(parseInt(n(483))/10)+-parseInt(n(449))/11*(parseInt(n(477))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(415)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){G(this,(function(){const t=Z,e=new RegExp(t(419)),n=new RegExp(t(418),"i"),i=B(t(476));e[t(472)](i+t(439))&&n[t(472)](i+t(444))?B():i("0")}))()}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(415)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Z(t,e){const n=X();return(Z=function(t,e){return n[t-=414]})(t,e)}Y(void 0,(function(){const t=Z,e=function(){const t=Z;let e;try{e=Function("return (function() "+t(461)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(459)]||{},i=[t(488),t(478),t(484),t(485),t(443),"table",t(429)];for(let r=0;r<i[t(438)];r++){const e=Y[t(427)][t(455)][t(479)](Y),a=i[r],o=n[a]||e;e[t(446)]=Y[t(479)](Y),e[t(454)]=o[t(454)][t(479)](o),n[a]=e}}))();const q=_({__name:Q(447),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Q,i=t,r=new(x[n(428)]),a=new(x[n(457)]),o=new(x[n(426)]),s=new H,l=d({width:i[n(423)],height:i.resolution,settings:{type:v}}),c=d({width:i[n(423)],height:i[n(423)],settings:{type:x[n(470)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!u[t(445)])return;r[t(482)](new(x[t(463)])(0,1,0),0),r.applyMatrix4(i[t(430)][t(469)]),o[t(420)](u[t(445)]);const e=new(x[t(463)])(0,0,1).clone().negate(),s=u.value[t(465)](new(x[t(463)]));e[t(424)](r.normal);const c=new(x[t(463)]);r.projectPoint(s,c);const v=c[t(437)]();v[t(431)](s),v[t(422)](c),o.position.copy(v);const w=new(x[t(463)])(0,0,-1);w.applyQuaternion(u.value[t(432)](new m)),w[t(422)](s);const g=new(x[t(463)]);i[t(430)][t(465)](g),g[t(431)](w),g[t(424)](r[t(460)])[t(435)](),g[t(422)](i[t(430)].getWorldPosition(new(x[t(463)]))),o.up[t(482)](0,1,0),o.applyQuaternion(u[t(445)].getWorldQuaternion(new(x[t(474)]))),o.up[t(424)](r[t(460)]),o.lookAt(g),o[t(473)]();const d=new(x[t(457)]);d[t(482)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(o.projectionMatrix),d[t(493)](o[t(421)]),a[t(420)](d),r[t(416)](o[t(421)]);const y=new h(r.normal.x,r[t(460)].y,r[t(460)].z,r.constant),S=o[t(417)],_=new(x[t(489)]);_.x=(Math[t(487)](y.x)+S[t(458)][8])/S[t(458)][0],_.y=(Math[t(487)](y.y)+S[t(458)][9])/S[t(458)][5],_.z=-1,_.w=(1+S[t(458)][10])/S[t(458)][14],y.multiplyScalar(2/y[t(453)](_)),S[t(458)][2]=y.x,S.elements[6]=y.y,S[t(458)][10]=y.z+1,S[t(458)][14]=y.w;const P=p[t(445)][t(462)]();p[t(445)][t(475)](l[t(445)]),p[t(445)][t(442)][t(414)][t(451)][t(433)](!0),!1===p[t(445)].autoClear&&p.value.clear(),i.ignoreObjects[t(425)]((e=>e[t(436)]=!1)),p[t(445)][t(471)](f[t(445)],o),i[t(492)].forEach((e=>e[t(436)]=!0)),p.value.setRenderTarget(P)})(),l.value&&c[t(445)]&&p[t(445)]&&s[t(452)](l[t(445)][t(466)],c.value,p[t(445)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=Z;if("string"==typeof t)return function(t){}[n(427)](n(434))[n(415)]("counter");1!==(""+t/t)[n(438)]||t%20==0?function(){return!0}[n(427)]("debu"+n(441))[n(456)](n(468)):function(){return!1}[n(427)](n(448)+"gger")[n(415)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=K,i=tt();;)try{if(918451===parseInt(n(376))/1+parseInt(n(378))/2+-parseInt(n(391))/3+-parseInt(n(372))/4*(parseInt(n(380))/5)+-parseInt(n(390))/6*(parseInt(n(360))/7)+parseInt(n(384))/8+-parseInt(n(365))/9*(-parseInt(n(371))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var $=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[K(388)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){$(this,(function(){var t=K,e=new RegExp(t(386)),n=new RegExp(t(363),"i"),i=et(t(369));e[t(385)](i+t(394))&&n[t(385)](i+t(361))?et():i("0")}))()}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[K(388)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function K(t,e){var n=tt();return(K=function(t,e){return n[t-=358]})(t,e)}function tt(){var t=["debu","init","log","20VTpJPl","2623028nqHLUn","string","prototype","console","285391TXooMT","trace","3390476BwcbGR","action","5zLQUGQ","toString","return (function() ","constructor","3915352BjqUan","test","function *\\( *\\)",'{}.constructor("return this")( )',"apply","bind","18zKLdip","3386028ZjFSvr","info","length","chain","stateObject","error","1199282CeyPXq","input","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","3360663oQIBHG","gger","__proto__"];return(tt=function(){return t})()}function et(t){function e(t){var n=K;if(typeof t===n(373))return function(t){}[n(383)](n(364))[n(388)](n(362));1!==(""+t/t)[n(393)]||t%20==0?function(){return!0}[n(383)](n(368)+n(366)).call(n(379)):function(){return!1}[n(383)]("debugger")[n(388)](n(358)),e(++t)}try{if(t)return e;e(0)}catch(n){}}J(void 0,(function(){var t,e=K;try{t=Function(e(382)+e(387)+");")()}catch(l){t=window}for(var n=t[e(375)]=t[e(375)]||{},i=[e(370),"warn",e(392),e(359),"exception","table",e(377)],r=0;r<i.length;r++){var a=J[e(383)][e(374)][e(389)](J),o=i[r],s=n[o]||a;a[e(367)]=J.bind(J),a[e(381)]=s[e(381)].bind(s),n[o]=a}}))();export{q as _};
