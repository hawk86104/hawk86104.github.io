import{a as t,B as n,r as e,bZ as r,C as o,j as s,Z as i}from"./three.erXpfL-r1718698100638.js";import{x as c}from"./@fesjs.IcRnDBLi1718698100638.js";import{N as a}from"./@tresjs.aawOCoPx1718698100638.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.TtuCaJyf1718698100638.js";!function(t,n){const e=m,r=g();for(;;)try{if(308157===-parseInt(e(510))/1+-parseInt(e(508))/2*(parseInt(e(538))/3)+parseInt(e(540))/4+-parseInt(e(559))/5*(-parseInt(e(552))/6)+parseInt(e(555))/7+-parseInt(e(503))/8+parseInt(e(525))/9*(parseInt(e(506))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[m(557)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function m(t,n){const e=g();return(m=function(t,n){return e[t-=493]})(t,n)}!function(){l(this,(function(){const t=m,n=new RegExp(t(516)),e=new RegExp(t(563),"i"),r=_("init");n.test(r+t(520))&&e[t(529)](r+t(548))?_():r("0")}))()}();const d=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[m(557)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(){const t=["applyMatrix4","bind","log","count","gger","function *\\( *\\)","attributes","setAttribute","config","chain","get","center","table","constructor","1564551WsZUkF","material","__proto__","depthTest","test","raycast","push","warn","console","error","side","setFromObject","counter","3771dsEEQY","computeBoundingBox","181424IwniPe","getCenter","debu","Vector3","uniforms","divideScalar",'{}.constructor("return this")( )',"getSize","input","then","random","children","348GffhjU","setY","value","1501766dMrPEO","boundingBox","apply","computeBoundsTree","31025PXHcfT","negate","geometry","deleteAttribute","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","disposeBoundsTree","copy","trace","position","getY","action","toString","depthWrite","min","return (function() ","prototype","3167544ivrdel","sub","getX","10BjWcBT","#fff","74TqSdui","length","43014oFDsPG"];return(g=function(){return t})()}d(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(501)+t(546)+");")()}catch(e){n=window}return n}(),e=n[t(533)]=n[t(533)]||{},r=[t(513),t(532),"info",t(534),"exception",t(523),t(494)];for(let o=0;o<r[t(509)];o++){const n=d[t(524)][t(502)].bind(d),s=r[o],i=e[s]||n;n[t(527)]=d.bind(d),n[t(498)]=i.toString[t(512)](i),e[s]=n}}))();const h=(n,e=!1)=>{const r=m;n[r(539)]();const{max:o,min:s}=n[r(556)];n.deleteAttribute("uv");const i=o.x-s.x,c=o.y-s.y,a=[];for(let t=0;t<n.attributes.position[r(514)];t++)e?(a[r(531)]((n[r(517)][r(495)][r(505)](t)-(s.x+o.x)/2)/i),a[r(531)]((n[r(517)].position[r(496)](t)-(s.y+o.y)/2)/c)):(a[r(531)]((n[r(517)][r(495)][r(505)](t)-s.x)/i),a[r(531)]((n.attributes[r(495)][r(496)](t)-s.y)/c));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},w=(t,n)=>new Promise(((e,r)=>{const o=m;c(t,{},{method:o(521)})[o(549)]((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[o(534)](t),r(t)}))})),y=t=>{const n=m,e=(new THREE.Box3)[n(536)](t),r=new(THREE[n(543)]);e[n(541)](r),t[n(551)].forEach((t=>{const e=n;t.position[e(504)](r)})),t[n(495)][n(493)](r[n(560)]())},b=()=>{const t=m;n.prototype[t(558)]=u,n[t(502)][t(564)]=f,e[t(502)][t(530)]=p},x=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(561)].clone();h(c),c[n(558)]();const u=new r(c,{color:new o(n(507)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material.transparent=!0,u.material[n(499)]=!0,u[n(526)][n(528)]=!0,u[n(526)][n(535)]=i,u[n(526)][n(544)][n(519)][n(554)].w=20,u.material[n(544)].reflectivity[n(554)]=.46,u};function j(t){const n=m,e=[];for(let o=0;o<t[n(509)];o++)e[n(531)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(509)];o++)r.add(e[o]);r[n(545)](e[n(509)]);for(let o=0;o<e[n(509)];o++)e[o][n(504)](r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=m;if("string"==typeof t)return function(t){}[e(524)]("while (true) {}")[e(557)](e(537));1!==(""+t/t)[e(509)]||t%20==0?function(){return!0}[e(524)](e(542)+e(515)).call(e(497)):function(){return!1}[e(524)](e(542)+"gger")[e(557)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,b as i,w as l,h as r,x as s};
