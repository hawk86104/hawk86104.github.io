import{o as n,J as t}from"./@tresjs.NxYvETXi1743066865732.js";import{n as o,b1 as e,C as r,a$ as i,ab as a,a2 as s,_ as l,ct as c}from"./three.qSkR4_5R1743066865732.js";import{P as u}from"./tweakpane.ivGeiIdz1743066865732.js";import{d as f,r as p,a2 as d,e as g,o as v,f as m,g as w,N as h,j as y,u as b,al as I}from"./@vue.L-brCdZe1743066865732.js";import"./postprocessing.ncQBP5me1743066865732.js";import"./@vueuse.2gpu5LGS1743066865732.js";!function(n,t){for(var o=_,e=M();;)try{if(213182===-parseInt(o(430))/1*(parseInt(o(432))/2)+-parseInt(o(420))/3+parseInt(o(447))/4*(-parseInt(o(406))/5)+parseInt(o(405))/6*(parseInt(o(416))/7)+parseInt(o(409))/8*(parseInt(o(434))/9)+-parseInt(o(433))/10+parseInt(o(407))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var x,j=(x=!0,function(n,t){var o=x?function(){if(t){var o=t[_(437)](n,arguments);return t=null,o}}:function(){};return x=!1,o});function _(n,t){var o=M();return _=function(n,t){return o[n-=402]},_(n,t)}!function(){j(this,(function(){var n=_,t=new RegExp(n(452)),o=new RegExp(n(427),"i"),e=C("init");t[n(415)](e+"chain")&&o.test(e+n(440))?C():e("0")}))()}();var S,R=(S=!0,function(n,t){var o=S?function(){if(t){var o=t[_(437)](n,arguments);return t=null,o}}:function(){};return S=!1,o});R(void 0,(function(){for(var n=_,t=function(){var n,t=_;try{n=Function(t(422)+t(413)+");")()}catch(o){n=window}return n}(),o=t[n(445)]=t[n(445)]||{},e=["log",n(448),n(410),"error",n(449),n(403),"trace"],r=0;r<e[n(418)];r++){var i=R[n(439)][n(436)].bind(R),a=e[r],s=o[a]||i;i[n(446)]=R[n(438)](R),i.toString=s[n(426)][n(438)](s),o[a]=i}}))();const z=class extends o{constructor(n={}){var t=_;super(),this[t(425)]=t(441),this[t(423)]=t(428),this[t(402)]={opacity:new e(void 0!==n[t(417)]?n[t(417)]:1),glowInternalRadius:new e(void 0!==n[t(450)]?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n[t(444)]?n[t(444)]:.5),falloff:new e(void 0!==n[t(421)]?n[t(421)]:.1),glowColor:new e(void 0!==n.glowColor?new r(n[t(411)]):new r("#00d5ff"))},this[t(435)](n),this[t(442)]=void 0!==n[t(442)]&&n[t(442)],this[t(431)]=void 0!==n[t(419)]?n.blendMode:i,this.transparent=!0,this.side=void 0!==n.side?n[t(443)]:a}};function M(){var n=["length","blendMode","911652MhQEQZ","falloff","return (function() ","fragmentShader","string","vertexShader","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","while (true) {}","21OPpNWa","blending","15618dIFrMu","378230uHmTKa","45gjdMen","setValues","prototype","apply","bind","constructor","input","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","depthTest","side","glowSharpness","console","__proto__","14544bzIoai","warn","exception","glowInternalRadius","call","function *\\( *\\)","uniforms","table","action","522uzUqui","395vSfldJ","4667311NKANWh","gger","372304pdjWml","info","glowColor","debu",'{}.constructor("return this")( )',"counter","test","28091JxCnyR","opacity"];return(M=function(){return n})()}function C(n){function t(n){var o=_;if(typeof n===o(424))return function(n){}.constructor(o(429))[o(437)](o(414));1!==(""+n/n)[o(418)]||n%20==0?function(){return!0}[o(439)](o(412)+o(408))[o(451)](o(404)):function(){return!1}[o(439)](o(412)+o(408))[o(437)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const P=k;!function(n,t){const o=k,e=F();for(;;)try{if(367410===parseInt(o(158))/1*(parseInt(o(105))/2)+parseInt(o(130))/3+-parseInt(o(108))/4+-parseInt(o(147))/5+parseInt(o(114))/6+-parseInt(o(125))/7+parseInt(o(138))/8)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[k(135)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function k(n,t){const o=F();return k=function(n,t){return o[n-=100]},k(n,t)}!function(){T(this,(function(){const n=k,t=new RegExp(n(116)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=E("init");t[n(133)](e+"chain")&&o.test(e+n(140))?E():e("0")}))()}();const N=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[k(135)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();N(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function("return (function() "+n(144)+");")()}catch(o){t=window}return t}(),o=t[n(106)]=t[n(106)]||{},e=[n(104),n(131),"info",n(151),n(132),n(115),n(156)];for(let r=0;r<e[n(129)];r++){const t=N[n(136)][n(119)][n(121)](N),i=e[r],a=o[i]||t;t[n(124)]=N[n(121)](N),t[n(123)]=a[n(123)][n(121)](a),o[i]=t}}))();const G={position:[0,6,0]},A=[P(127)];function F(){const n=["915447JDQnOv","warn","exception","test","falloff","apply","constructor","glowSharpness","6434224xvRGuU","pos-y.jpg","input","TresGroup","fakeGlow","FrontSide",'{}.constructor("return this")( )',"neg-y.jpg","pos-x.jpg","2880205EEKsSa","addBinding","neg-x.jpg","uniforms","error","TresTorusKnotGeometry","debu","gger","TresAmbientLight","trace","TresPerspectiveCamera","196689RpoMfa","path","stateObject","#a058c1","TresMesh","TresMeshPhysicalMaterial","材质面","value","TresCanvas","counter","log","6zQZvNO","console","neg-z.jpg","2376700gQpHLx","BackSide","glowColor","glowInternalRadius","action","blue","2027094mcYBXX","table","function *\\( *\\)","TresDirectionalLight","opacity","prototype","side","bind","Mesh","toString","__proto__","3498019QUBfAA","call","object","string","length"];return(F=function(){return n})()}const B=f({__name:P(142),setup(o){const e=P,i=new u({title:"辉光参数",expanded:!0}),f=p({glowColor:e(161),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),x=new z,j=new(l[e(122)])(new c(4,3.8,128,128),x);return i[e(148)](f,"glowColor",{label:"颜色"}),i[e(148)](f,e(134),{label:"衰减",min:0,max:10,step:.1}),i[e(148)](f,e(111),{label:"内半径",min:-5,max:5,step:.1}),i[e(148)](f,e(137),{label:"清晰度",min:0,max:10,step:.1}),i[e(148)](f,e(118),{label:"透明",min:0,max:1,step:.1}),i.addBinding(f,e(120),{label:e(100),options:{FrontSide:l[e(143)],BackSide:l[e(109)],DoubleSide:a}}),d((()=>{const n=e;x[n(150)][n(134)].value=f[n(134)],x[n(150)][n(110)].value=new r(f[n(110)]),x.uniforms[n(111)].value=f[n(111)],x[n(150)].glowSharpness[n(101)]=f[n(137)],x[n(150)][n(118)].value=f[n(118)],x[n(120)]=f[n(120)]})),(o,r)=>{const i=e,a=g(i(102));return v(),m(a,{"window-size":""},{default:w((()=>[r[1]||(r[1]=h(i(157),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=h(i(155),{intensity:1.5},null,-1)),r[3]||(r[3]=h(i(117),{position:[100,100,60],intensity:20},null,-1)),y(b(n),{autoRotate:""}),r[4]||(r[4]=h("TresGridHelper",{args:[20,10]},null,-1)),h(i(141),G,[r[0]||(r[0]=h(i(162),null,[h(i(152),{args:[4,.5,128,128]}),h(i(163),{color:i(113),roughness:.2,clearcoat:1})],-1)),h("primitive",{object:b(j)},null,8,A)]),(v(),m(I,null,{default:w((()=>[y(b(t),{files:[i(146),i(149),i(139),i(145),"pos-z.jpg",i(107)],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,[i(159)])])),_:1}))])),_:1})}}});function E(n){function t(n){const o=k;if(typeof n===o(128))return function(n){}.constructor("while (true) {}").apply(o(103));1!==(""+n/n)[o(129)]||n%20==0?function(){return!0}.constructor(o(153)+o(154))[o(126)](o(112)):function(){return!1}[o(136)](o(153)+o(154))[o(135)](o(160)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{B as default};
