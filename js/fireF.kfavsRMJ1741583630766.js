var t,e,s,n,i,r,a,o,c,h,l,u,p=Object.defineProperty,m=(t,e,s)=>(((t,e,s)=>{e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as f}from"./pagesShow.vue_vue_type_script_setup_true_lang.LU_e6BD61741583630766.js";import{_ as d,b as g,V as w,C as S,M as y,c as v,X as x,r as I,v as P,a2 as A,ar as F}from"./three.sQDbNBks1741583630766.js";import{m as b,e as T}from"./@tresjs.ZmhvXhx31741583630766.js";import{d as z,b as E,a2 as R,o as O,f as V,g as C,j as q}from"./@vue.NRI7TcgI1741583630766.js";import"./three-custom-shader-material.fHkqEbki1741583630766.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";const M=ut;!function(t,e){const s=ut,n=U();for(;;)try{if(344780===parseInt(s(356))/1+parseInt(s(522))/2+-parseInt(s(568))/3+-parseInt(s(235))/4+-parseInt(s(184))/5*(parseInt(s(303))/6)+parseInt(s(296))/7+parseInt(s(206))/8*(-parseInt(s(419))/9))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const N=class{constructor(t){this.name=t}};t=M(403),m(N,"Time",new N(M(389))),m(N,t,new N(M(403)));let _=N;class B{constructor(){this[M(195)]()}[M(195)](){const t=M;this[t(500)]=_[t(389)],this[t(213)]=1,this[t(478)]=0,this[t(520)]=new(d[t(236)]),this[t(172)]=new g,this[t(498)]=new g,this.acceleration=new(d[t(555)]),this[t(491)]=new(d[t(555)]),this[t(261)]=0,this.rotationalSpeed=0,this[t(355)]=new w,this[t(406)]=new S,this[t(253)]=1,this[t(378)]=new w,this[t(630)]=new(d[t(386)]),this[t(226)]=1}[M(490)](t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d){const g=M;this[g(500)]=t,this[g(213)]=e,this[g(478)]=s,this.sequenceElement.copy(n),this[g(172)].copy(i),this[g(498)][g(628)](r),this[g(608)][g(628)](a),this[g(491)][g(628)](o),this[g(261)]=c,this[g(486)]=h,this[g(355)]=l,this[g(406)][g(628)](u),this[g(253)]=p,this[g(378)][g(628)](m),this.initialColor.copy(f),this.initialAlpha=d}[M(300)](t){const e=M;t[e(490)](this[e(500)],this[e(213)],this[e(478)],this[e(520)],this[e(172)],this[e(498)],this[e(608)],this[e(491)],this[e(261)],this[e(486)],this[e(355)],this[e(406)],this[e(253)],this[e(378)],this[e(630)],this[e(226)])}[M(628)](t){const e=M;this[e(490)](t[e(500)],t[e(213)],t[e(478)],t.sequenceElement,t.position,t[e(498)],t[e(608)],t[e(491)],t[e(261)],t[e(486)],t[e(355)],t[e(406)],t.alpha,t.initialSize,t[e(630)],t[e(226)])}}function U(){const t=["BufferGeometry","trace","toString","Vector2","getTypePath","getFrameSet","size","667990GcWxWl","   float rotMag = rotation; \n","generateForElement","getInterpolatedElement","   }  else { \n","   if (simulateInWorldSpace == 1) { \n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","getVisible","geometry","computeBoundingBox","shadow","offsetPhi","onUpdate","setParticleSequences","uniform int interpolateAtlasFrames; \n","length","relativeToInitialValue","varying vec2 vUV1;\n","systemState","particleSystemRenderer","componentContainer","    \n  #include <logdepthbuf_fragment> \n","initialSize","function *\\( *\\)",'ContinuousArray::getElement() -> "index" is out of bounds.',"distance","particleEmitter","toArray","calculatingBoundingSphereFromBox","clamp","Color","createMaterial","setDrawRange","Time","internalUpdate","input","atlas","   vFragColor = color; \n","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","frustumCulled","   int sequenceLength = int(sequenceElement.w);\n","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","data","activateParticles","parseTypeString","now","setBoundingBox","Sequence","normalize","upperIndex","color","getTexturePath","owner","max","varying float vSequenceElementT; \n","getParticleSequences","apply","table","InstancedBufferAttribute","particleSystems","remove","   float atlasFrameHeight = atlasFrames.w; \n","   } \n","1629621roFBdV","Done","___photonsTypeID","       float uLeftV = rotVecStep.x; \n","stateAcceleration","   \n  #include <logdepthbuf_vertex> \n","setSimulateInWorldSpace","stop","jsonTypes","VertexVars","call","flushParticleStateToBuffers","   vec2 rotVec; \n","accelerations","alphas","simulateInWorldSpace","activeCount","directionGenerator","object","multiplyScalar","getTexture","warn","sqrt","emissionRate","NormalBlending","sub","speedRange","uniforms","positionAdjuster","   vFragAlpha = alpha; \n","   vec4 viewPosition; \n","getActiveParticleCount","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","material","chain","hasOwnProperty","positions","startupTime","intensityFlux","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","   const vec2 uRight = vec2(1.0, 1.0);\n","boundingBox","setX","sin","getElement","addElementsFromParameters","transformDirection","} \n","getTValue","needsUpdate","activeParticleCount","lowerIndex","   } else { \n","   float uvXOffset = atlasFrameWidth * rightSide; \n","rotationalSpeeds","customIndex","scaleX","render","timeActive","age","getSystemState","renderOrder","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","blending","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","speed","info","rotationalSpeed","particleStateOperators","Object3D","allocate","setAll","normal","   float atlasFrameX = atlasFrames.x; \n","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","maximumActiveParticles","baseUVs","Paused","join","velocity","getMaximumActiveParticles","progressType","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","onUpdateCallback","generator","addElements","addParticleSystem","addParticleStateInitializer","name","updateState","checkAndAddTypeName","start","timeScaledVelocity","   const vec2 down = vec2(0.0, -1.0);\n","   vec2 uv1; \n","   gl_FragColor.a *= vFragAlpha; \n",'ComponentContainer::getComponent() -> "index" is out of range.',"getParticleStateOperator","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","map","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","sequenceElement","push","1303098OmiSkE","ids","particleStateInitializers","fromJSON","   int firstSequenceElement = int(sequenceElementF); \n","sequenceElements","getParticleStateInitializer","generate","uniformOffset","       rightSide = step(2.0, customIndex); \n","mesh","activateParticle","height","offsetRadius","type","attribute vec2 size;\n","lastPositionAdjuster","add","rangeTheta","setState","computeBoundingSphere","particlePosition","interpolateAtlasFrames","particleCount","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","  \n #include <logdepthbuf_pars_vertex> \n","stateVelocity","setUsage","copyState","currentSrc","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","particleStateArray","boundingSphere","Vector3","verticesPerParticle","Running","texture","Additive","split","currentTime","   if (instanced != 1) { \n","attribute vec3 color;\n","bind","tValue","string","   float rightSide; \n","283833nZkskn","   vec2 uv2; \n","Default","speedGenerator","Sphere","ParticleSystem::init() -> trying to intialize more than once.","reverse","initialAlphas","BufferAttribute","updateMeshBounds","InstancedBufferGeometry","AdditiveBlending","getSizes","getElementCount","sizes",'ParticleStateArray::getState() -> "index" is out of range.',"   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","assign","substr","advanceActiveParticle","applyMatrix4","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","typeName","gger","offsetY",'Atlas::getFrameSet -> "index" is out of range.',"cos","interpolator","hasID","renderer","normalizeDirection","getInterpolatedValue","offsetZ","#include <common> \n","getParticleStateOperatorCount","calculateBoundingSphereFromBox","test","components","clone","acceleration","void main()\n","attribute vec4 particlePosition;\n","instanceCount","timeScaledAcceleration","light","intensity","interpolationElements","addFrameSet","basePositions","texturePath","baseURI","tValues","FragmentVars","varying vec3 vFragColor;\n","instanced","customIndexes","outType","__proto__","initializers","copy","matrixWorld","initialColor","jsonTypeNames","   float atlasFrameWidth = atlasFrames.z; \n",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"getGeometry","counter","particleStates","const int MAX_ATLAS_FRAME_SETS = 16; \n","position","   const vec2 up = vec2(0.0, 1.0);\n","       float dRightV = rotVecStep.w - rotVecStep.z; \n","toJSON","update","setXYZW","elements","getParticleCount","NotStarted","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","emitCount","initializeState","5MCALau","invert","setAttribute","initialColors","action","loop","ShaderMaterial","setXY","getParticleStateInitializerCount","PointLight","emissionMaximum","init","floor","tempUp","emissionRelativeStartTime","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","JSONTypeStore::addNamespace() -> namespace already exists","rangeRadius","initialized","center","offsetX","width","32HDeMRi","lastPositionFlickerTime","updateEmitCount","exception","getSimulateInWorldSpace","emissionDuration","       rotVec = position.xy; \n ","lifetime","addElement","dispose","getParameterJSON","offset","advanceActiveParticles",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"   float sequenceElementF = sequenceElement.x;\n","getSequenceElements","normals","lastIntensityFlickerTime","params","getTypeNames","initialAlpha","range","rangePhi","rotations","visible","startTime","far","getState","addSequence","2349468eijqhf","Vector4","constructor","error","setVisibile","       upperSide = upperSideStep.x + upperSideStep.y;\n","getType","getColors","splice","keys","autoClear","random","attribute vec4 sequenceElement;\n","OneMinusSrcAlphaFactor","setIntensity",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"getComponent","getInterpolatorForTypeID","alpha","updateWorldMatrix","camera","setEmitter","default","setTransformInitialDirectionInWorldSpace",'ParticleStateArray::setState() -> "index" is out of range.',"emitterInitialized","rotation","updateBounds","colors","addComponent","scaleZ","frameSets","setRGB","while (true) {}","getPositions","Shader","copyParticleInArray","elementTypeID","varying vec2 vUV2;\n","   float uvYOffset = atlasFrameHeight * upperSide; \n","addParticleStateOperator","Renderer::init() -> trying to intialize more than once.","set","parent","lifetimes","sequences","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","setOwner","getParticleStateArray","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","uniform int instanced; \n","source","scaleY","setActiveParticleCount","addElementsFromElementClassAndParameters","localT","addNamespace","getEmitter","varying float vFragAlpha;\n","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","console","3555272IghJas","setXYZ","typeIDGen","DynamicDrawUsage","copyTo","load","cameraNear","458406zwLiVA","debu","radius","edgeRadius","stateObject","outTypeID","ParticleSequenceGroup::getSequence -> Invalid ID.","setParticleCount","decay","particleSequences","lastIntensityAdjuster","nextIntensityAdjuster","Box3","uniform sampler2D atlasTexture;\n","mapSize","ages","attribute float alpha;\n","fromArray",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","setBoundingSphere","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","offsetTheta","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","min","uniformRange","randomGenerator","loadJSONParameter","getParticleSystemRenderer","getInterpolationValuesForTValue",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"       upperSide = baseUV.y; \n","lastUpdateTime","function","initialSizes","velocities","element","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","framesets","getFragmentShader","transformInitialDirectionInWorldSpace","#include <common>","addParticleSequence","getSequence","addType","getTypeID"];return(U=function(){return t})()}class j{constructor(){m(this,e,function(){const t=M,e=new(d[t(555)]);return function(s=new(d[t(315)]),n=null){const i=t,r=s[i(327)],a=s[i(409)];for(let t=0;t<this[i(469)];t++){const s=this.getState(t);let o=s.position;n&&(e[i(628)](o),e[i(589)](n),o=e);const c=Math.max(s[i(355)].x,s[i(355)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,f=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=f)}return s}}()),m(this,s,function(){const t=M,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=ut,s=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=s[t(295)]=s[t(295)]||{},i=["log",t(440),t(485),t(238),t(209),t(413),t(350)];for(let r=0;r<i[t(371)];r++){const s=e[t(237)].prototype[t(564)](e),a=i[r],o=n[a]||s;s[t(626)]=e[t(564)](e),s.toString=o[t(351)][t(564)](o),n[a]=s}}))();const s=new(d[t(555)]),n=new(d[t(555)]),i=new(d[t(555)]);return function(e=new(d[t(572)]),r=null){const a=t;let o=0;for(let t=0;t<this.activeParticleCount;t++){const e=this[a(233)](t);let c=e.position;r&&(i.copy(c),i[a(589)](r),c=i);const h=Math[a(409)](e[a(355)].x,e[a(355)].y);if(0==t)s[a(628)](c),o=h;else{n.copy(c)[a(444)](s);const t=n.length()+h;if(t>o){const e=(t-o)/2;n[a(404)]()[a(438)](e),s[a(539)](n),o+=e}}}return e[a(203)][a(628)](s),e.radius=o,e}}());const t=M;this[t(545)]=0,this[t(469)]=0,this[t(170)]=[]}init(t){this.setParticleCount(t)}[M(310)](t){const e=M;this[e(545)]!=t&&(this[e(215)](),this[e(489)](t)),this[e(545)]=t}[M(288)](t){this.activeParticleCount=t}[M(489)](t){const e=M;this[e(170)]=[],this.particleCount=t;for(let s=0;s<t;s++)this[e(170)][s]=new B}[M(215)](){}[M(179)](){return this[M(545)]}[M(430)](){}[M(550)](t,e){const s=M;if(t>=this.particleCount)throw new Error(s(633));if(e>=this.particleCount)throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const n=this.particleStates[t],i=this[s(170)][e];n[s(300)](i)}[M(541)](t,e){const s=M;if(t>=this[s(545)])throw new Error(s(259));return this[s(170)][t][s(628)](e)}[M(233)](t){const e=M;if(t>=this[e(545)])throw new Error(e(583));return this[e(170)][t]}}e=M(365),s=M(542);class D{constructor(t,e,s=0){this[M(510)]=t,this.length=e,this.id=s}}class W{constructor(){const t=M;this[t(280)]={},this[t(523)]=[]}[M(234)](t,e,s){const n=M;if(this.hasID(s))throw new Error(n(483));const i=new D(t,e,s);return this[n(280)][s]=i,this[n(523)][n(521)](s),i}[M(346)](t){const e=M;if(!this.hasID(t))throw new Error(e(309));return this[e(280)][t]}getSequenceIDs(){return this[M(523)]}[M(597)](t){return!!this.sequences[t]}}class X{constructor(){}initializeState(t){const e=M;t[e(630)][e(277)](1,1,1),t[e(378)][e(277)](1,1),t.initialAlpha=1,t[e(500)]=_[e(389)],t[e(213)]=0,t[e(478)]=0,t[e(520)][e(277)](0,0,0,0),t[e(172)][e(277)](0,0,0),t[e(498)].set(0,0,0),t[e(608)][e(277)](0,0,0),t.normal.set(0,0,1),t[e(261)]=0,t[e(486)]=0,t.size[e(628)](t[e(378)]),t[e(406)][e(628)](t[e(630)]),t[e(253)]=1}}class J extends X{constructor(){super()}[M(183)](t){super[M(183)](t)}}class Y{constructor(){}[M(508)](){}}class Z extends Y{constructor(){const t=M;super(),this[t(511)]=new(d[t(555)]),this[t(612)]=new(d[t(555)]),this[t(423)]=new(d[t(555)]),this.stateVelocity=new(d[t(555)])}updateState(t,e){const s=M;return super[s(508)](t,e),this[s(423)][s(628)](t.acceleration),this.timeScaledAcceleration[s(628)](this.stateAcceleration),this[s(612)].multiplyScalar(e),t[s(498)].add(this[s(612)]),this[s(548)][s(628)](t[s(498)]),this[s(511)][s(628)](this[s(548)]),this.timeScaledVelocity[s(438)](e),t[s(172)][s(539)](this.timeScaledVelocity),t[s(478)]=t[s(478)]+e,t[s(261)]=t[s(261)]+e*t[s(486)],!0}}class G{static clamp(t,e,s){return Math.min(Math.max(t,e),s)}static[M(561)](){return performance[M(401)]()/1e3}}class L{constructor(){this[M(606)]=[]}addComponent(t){const e=M;this[e(606)][e(521)](t)}[M(176)](t,e){const s=M;for(const n of this[s(606)])n[s(176)](t,e)}[M(251)](t){const e=M;if(t>=this[e(606)][e(371)])throw new Error(e(515));return this[e(606)][t]}}const k=class{constructor(t){this[M(507)]=t}};n=M(180),i=M(557),r=M(496),a=M(420),m(k,n,new k(M(180))),m(k,i,new k("Running")),m(k,r,new k(M(496))),m(k,a,new k(M(420)));let H=k;class ${constructor(t,e){m(this,o,function(){const t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[ut(412)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){t(this,(function(){const t=ut,e=new RegExp(t(379)),s=new RegExp(t(458),"i"),n=Ot(t(195));e[t(605)](n+t(453))&&s[t(605)](n+t(391))?Ot():n("0")}))()}();const e=new y;return function(){const t=ut;let s=null;this[t(343)]&&(s=e,s.copy(this[t(408)][t(629)])[t(185)]()),this[t(375)].calculatingBoundingSphereFromBox()?(this.particleStates[t(365)](this.boundingBox,s),this.particleSystemRenderer.setBoundingBox(this[t(460)])):(this[t(170)].computeBoundingSphere(this[t(554)],s),this[t(375)][t(323)](this[t(554)]))}}());const s=M;this[s(408)]=t,this[s(408)][s(230)]=!1,this[s(230)]=!0,this.particleSystemRenderer=e,this[s(202)]=!1,this[s(494)]=0,this[s(469)]=0,this.simulateInWorldSpace=!0,this.emitterInitialized=!1,this[s(382)]=null,this.componentContainer=new L,this[s(524)]=[],this[s(487)]=[],this[s(170)]=null,this[s(374)]=H[s(180)],this.particleSequences=new W,this.onUpdateCallback=null,this[s(343)]=!0,this[s(460)]=new(d[s(315)]),this[s(554)]=new(d[s(572)])}[M(195)](t){const e=M;if(this[e(202)])throw new Error(e(573));this[e(494)]=t,this[e(375)]?(this.particleSystemRenderer[e(282)](this[e(408)]),this[e(375)].init(this[e(494)],this.simulateInWorldSpace),this[e(375)].setSimulateInWorldSpace(this[e(434)]),this[e(170)]=this.particleSystemRenderer.getParticleStateArray()):(this[e(170)]=new j,this[e(170)][e(195)](this[e(494)])),this[e(506)](new J),this[e(275)](new Z),this.initialized=!0}[M(363)](){return this[M(230)]}[M(239)](t){return this[M(230)]=t}[M(368)](t){this[M(502)]=t}update(t,e){const s=M;if(this.systemState==H[s(557)]){if(this.owner[s(254)](!0),t=null==t||null==t?G[s(561)]():t,e=null==e||null==e?t-this[s(335)]:e,this[s(260)]&&this.systemState==H[s(557)]){const t=this[s(382)][s(176)](e);t>0&&this[s(399)](t),this[s(218)](e),this[s(502)]&&this[s(502)](this[s(469)]),this[s(262)]()}this[s(376)].update(t,e),this[s(335)]=t}}[M(476)](t,e){const s=M;if(this[s(363)]()&&this[s(375)]){const n=t[s(245)];t.autoClear=!1,this[s(408)].visible=!0,this.owner.matrixWorldNeedsUpdate=!0,this.particleSystemRenderer.render(this[s(408)],t,e),this[s(408)][s(230)]=!1,t.autoClear=n}}[M(510)](){const t=M;this[t(374)]!=H[t(180)]&&this[t(374)]!=H[t(496)]||(this[t(374)]=H[t(557)],this.startTime=G[t(561)](),this[t(335)]=this[t(231)])}pause(){const t=M;this.systemState==H[t(557)]&&(this[t(374)]=H[t(496)])}[M(426)](){}[M(479)](){return this[M(374)]}[M(256)](t){const e=M;return this[e(382)]=t,this[e(382)][e(494)]=this[e(494)],this.emitterInitialized=!0,this.particleEmitter}[M(264)](t){const e=M;this[e(376)][e(264)](t)}[M(251)](t){return this.componentContainer.getComponent(t)}[M(506)](t){return this[M(524)].push(t),t}[M(192)](){return this[M(524)].length}[M(528)](t){const e=M;if(t>=this[e(524)][e(371)])throw new Error(e(333));return this[e(524)][t]}[M(275)](t){const e=M;return this.particleStateOperators[e(521)](t),t}[M(603)](){const t=M;return this.particleStateOperators[t(371)]}[M(516)](t){const e=M;if(t>=this[e(487)][e(371)])throw new Error(e(219));return this[e(487)][t]}getMaximumActiveParticles(){return this[M(494)]}[M(450)](){return this[M(469)]}getParticleState(t){const e=M;if(t>=this[e(469)])throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this[e(170)][e(233)](t)}getParticleStates(){return this.particleStates}[M(331)](){return this[M(375)]}[M(210)](){return this[M(434)]}[M(425)](t){const e=M;this[e(434)]=t,this[e(375)]&&this.particleSystemRenderer[e(425)](this.simulateInWorldSpace)}[M(258)](t){this[M(343)]=t}[M(345)](t,e,s=0){this[M(312)].addSequence(t,e,s)}[M(411)](){return this[M(312)]}[M(292)](){return this.particleEmitter}activateParticles(t){const e=M;if(this.systemState==H[e(557)]){const s=G[e(385)](this[e(469)]+t,0,this.maximumActiveParticles);for(let t=this[e(469)];t<s;t++)this[e(533)](t);this[e(469)]=s,this.particleStates[e(288)](this[e(469)])}}[(o=M(262),M(533))](t){const e=M;if(this[e(374)]==H[e(557)]){const s=this[e(170)][e(233)](t);s[e(478)]=0;for(let t=0;t<this.particleStateInitializers[e(371)];t++){this[e(524)][t][e(183)](s)}if(this[e(434)]){s[e(172)].applyMatrix4(this[e(408)][e(629)]);const t=s[e(498)][e(371)]();if(this[e(343)]){s[e(498)][e(465)](this.owner[e(629)])[e(438)](t);const n=s.acceleration.length();s[e(608)].transformDirection(this[e(408)][e(629)])[e(438)](n)}}this[e(170)].flushParticleStateToBuffers(t)}}[M(218)](t){const e=M;if(this[e(374)]==H[e(557)]){let s=0;for(;s<this[e(469)];){this[e(588)](s,t)?s++:(s<this[e(469)]-1&&this[e(271)](this.activeParticleCount-1,s),this[e(469)]--)}this[e(170)][e(288)](this[e(469)])}}[M(588)](t,e){const s=M;if(this.systemState==H[s(557)]){const n=this.particleStates[s(233)](t);for(let t=0;t<this[s(487)][s(371)];t++){const i=this[s(487)][t][s(508)](n,e),r=n[s(213)];if(!i||0!=r&&n.age>=r)return!1}return this[s(170)][s(430)](t),!0}return!1}[M(271)](t,e){const s=M;this[s(170)].copyState(t,e),this[s(170)][s(430)](e)}static[M(525)](t,e,s){const n=M,i=(t,e,s)=>{const n=ut;e(t);for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];typeof s===n(437)&&i(s,e)}};i(t,(t=>{const s=ut;t[s(536)]&&(t.type=e[s(400)](t.type))}));const r=t.maxParticleCount,a=t[n(434)],o=t[n(598)],c=o[n(536)][n(525)](o[n(224)]),h=new(d[n(488)]),l=new $(h,c,s);l[n(195)](r),l.setSimulateInWorldSpace(a);const u=t.emitter,p=u.type[n(525)](u[n(224)]);if(l.setEmitter(p),t[n(280)])for(const m of t[n(280)])l[n(345)](m[n(510)],m[n(371)],m.id);if(t.initializers)for(const m of t[n(627)])l[n(506)](m[n(536)][n(525)](l,m.params));if(t.operators)for(const m of t.operators){const t=l[n(275)](m.type[n(525)](l,m[n(224)]));m.elements&&t[n(464)](m[n(178)])}return[l,h]}toJSON(t){const e=M,s=this.getParticleSystemRenderer(),n=this[e(292)](),i=this[e(411)](),r=i.getSequenceIDs()[e(518)]((t=>{const s=e,n=i[s(346)](t);return{id:t,start:n[s(510)],length:n.length}})),a=[],o=this[e(192)]();for(let l=0;l<o;l++){const s=this[e(528)](l);s[e(237)]!==J&&a[e(521)]({type:t.getTypePath(s[e(237)]),params:s[e(175)](t)})}const c=[],h=this[e(603)]();for(let l=0;l<h;l++){const s=this[e(516)](l);if(s[e(237)]!==Z){const n=s.toJSON(t),i=n[e(224)]||n,r=n.params?n[e(178)]:null,a={type:t[e(353)](s[e(237)]),params:i};r&&(a[e(178)]=r),c.push(a)}}return{maxParticleCount:this[e(499)](),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t[e(353)](s[e(237)]),params:s[e(175)]()},emitter:{type:t[e(353)](n[e(237)]),params:n[e(175)]()},sequences:r,initializers:a,operators:c}}}class K{constructor(){const t=M;this[t(415)]=[],this[t(456)]=performance[t(401)]()/1e3,this[t(335)]=this.startupTime,this[t(376)]=new L}[M(176)](){const t=M,e=G.currentTime(),s=e-this.lastUpdateTime;for(const n of this[t(415)])n.update(e,s);this[t(376)].update(e,s),this[t(335)]=e}[M(476)](t,e){const s=M;for(const n of this[s(415)])n[s(476)](t,e)}[M(505)](t){const e=M;this.particleSystems[e(521)](t)}[M(264)](t){const e=M;this.componentContainer[e(264)](t)}[M(251)](t){const e=M;return this[e(376)][e(251)](t)}}class Q{constructor(){const t=M;this[t(202)]=!1,this[t(545)]=0,this.owner=null,this[t(434)]=!1}[M(425)](t){this[M(434)]=t}[M(283)](){}[M(282)](t){this[M(408)]=t}init(t){const e=M;if(this.particleCount=t,!this.initialized)return this.initialized=!0,!0;throw new Error(e(276))}render(){}}class tt extends j{constructor(){const t=M;super(),this[t(364)]=null,this.progressTypes=null,this[t(279)]=null,this[t(318)]=null,this[t(527)]=null,this[t(455)]=null,this[t(338)]=null,this[t(432)]=null,this[t(222)]=null,this[t(229)]=null,this[t(473)]=null,this[t(582)]=null,this[t(263)]=null,this[t(337)]=null,this[t(187)]=null,this.instanced=!1,this.verticesPerParticle=6}[M(195)](t,e=!1){const s=M;this.instanced=e,this[s(623)]?this[s(556)]=1:this[s(556)]=6,super[s(195)](t),this[s(489)](t)}setParticleCount(t){super.setParticleCount(t)}[M(288)](t){const e=M;super[e(288)](t),t>0?this[e(623)]?this[e(364)][e(611)]=t:this[e(364)].setDrawRange(0,this.verticesPerParticle*t):this[e(623)]?this[e(364)][e(611)]=0:this.geometry[e(388)](0,0)}[M(430)](t){const e=M;if(t>=this[e(545)])throw new Error(e(321));const s=this.getState(t),n=t*this.verticesPerParticle;for(let i=0;i<this[e(556)];i++)this.lifetimes[e(461)](n+i,s[e(213)]),this.lifetimes.needsUpdate=!0,this.ages[e(461)](n+i,s[e(478)]),this.ages.needsUpdate=!0,this[e(527)][e(177)](n+i,s[e(520)].x,s[e(520)].y,s[e(520)].z,s.sequenceElement.w),this[e(527)].needsUpdate=!0,this[e(455)][e(297)](n+i,s[e(172)].x,s.position.y,s[e(172)].z),this[e(455)][e(468)]=!0,this[e(338)][e(297)](n+i,s.velocity.x,s[e(498)].y,s.velocity.z),this[e(338)][e(468)]=!0,this[e(432)][e(297)](n+i,s.acceleration.x,s[e(608)].y,s[e(608)].z),this[e(432)][e(468)]=!0,this[e(222)].setXYZ(n+i,s[e(491)].x,s.normal.y,s[e(491)].z),this[e(222)][e(468)]=!0,this[e(229)][e(461)](n+i,s.rotation),this[e(229)][e(468)]=!0,this[e(473)][e(461)](n+i,s[e(486)]),this[e(473)][e(468)]=!0,this[e(582)][e(191)](n+i,s[e(355)].x,s[e(355)].y),this[e(582)].needsUpdate=!0,this[e(263)][e(297)](n+i,s[e(406)].r,s[e(406)].g,s[e(406)].b),this[e(263)][e(468)]=!0,this.alphas[e(461)](n+i,s[e(253)]),this[e(433)][e(468)]=!0,this[e(337)][e(191)](n+i,s.initialSize.x,s.initialSize.y),this[e(337)][e(468)]=!0,this.initialAlphas[e(461)](n+i,s[e(226)]),this.initialAlphas.needsUpdate=!0}[M(550)](t,e){const s=M;super[s(550)](t,e),this[s(430)](e)}[M(541)](t,e){const s=M;if(t>=this[s(545)])throw new Error(s(250));super[s(541)](t,e),this[s(430)](t)}[M(269)](){return this[M(455)]}[M(580)](){return this[M(582)]}getRotations(){return this[M(229)]}[M(221)](){return this.sequenceElements}[M(242)](){return this[M(263)]}[M(168)](){return this[M(364)]}[M(489)](t){const e=M;super[e(489)](t);const s=(t,s)=>{const n=e;return this[n(623)]?new(d[n(414)])(t,s):new(d[n(576)])(t,s)},n=this[e(556)]*this.particleCount;if(this.instanced){const t=new(d[e(349)]),s=new Float32Array(18);this[e(617)]=new v(s,3),t[e(186)](e(172),this[e(617)]),this[e(617)][e(468)]=!0,this[e(617)][e(297)](0,-1,1,0),this[e(617)][e(297)](1,-1,-1,0),this.basePositions.setXYZ(2,1,1,0),this[e(617)].setXYZ(3,-1,-1,0),this[e(617)][e(297)](4,1,-1,0),this[e(617)][e(297)](5,1,1,0);const n=new Float32Array(12);this[e(495)]=new(d[e(576)])(n,2),t[e(186)]("baseUV",this.baseUVs),this[e(495)][e(468)]=!0,this[e(495)][e(191)](0,0,1),this[e(495)][e(191)](1,0,0),this.baseUVs[e(191)](2,1,1),this[e(495)][e(191)](3,0,0),this.baseUVs.setXY(4,1,0),this[e(495)][e(191)](5,1,1);const i=new Float32Array(6);this[e(624)]=new v(i,1),t.setAttribute(e(474),this[e(624)]),this.customIndexes[e(468)]=!0,this.customIndexes[e(461)](0,0),this.customIndexes[e(461)](1,1),this[e(624)].setX(2,3),this[e(624)][e(461)](3,1),this[e(624)].setX(4,2),this[e(624)].setX(5,3),this.geometry=(new(d[e(578)])).copy(t),this.geometry.instanceCount=0}else{this[e(364)]=new(d[e(349)]);const t=new Float32Array(n);this.customIndexes=new v(t,1),this.geometry.setAttribute("customIndex",this[e(624)]),this[e(624)][e(468)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this[e(556)];this[e(624)][e(461)](t,0),this[e(624)][e(461)](t+1,1),this[e(624)][e(461)](t+2,3),this.customIndexes[e(461)](t+3,1),this[e(624)][e(461)](t+4,2),this[e(624)][e(461)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),g=new Float32Array(n),w=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(455)]=s(o,3),this[e(455)][e(549)](x),this.geometry[e(186)](e(543),this[e(455)]),this.lifetimes=s(i,1),this[e(279)][e(549)](d[e(299)]),this[e(364)].setAttribute(e(213),this.lifetimes),this[e(318)]=s(r,1),this.ages[e(549)](x),this[e(364)].setAttribute(e(478),this[e(318)]),this[e(527)]=s(a,4),this[e(527)][e(549)](d[e(299)]),this.geometry.setAttribute(e(520),this[e(527)]),this[e(338)]=s(c,3),this[e(338)].setUsage(x),this[e(364)][e(186)](e(498),this[e(338)]),this[e(432)]=s(h,3),this[e(432)][e(549)](d[e(299)]),this[e(364)][e(186)]("acceleration",this.accelerations),this[e(222)]=s(l,3),this[e(222)][e(549)](x),this[e(364)][e(186)](e(491),this[e(222)]),this[e(229)]=s(u,1),this[e(229)].setUsage(d[e(299)]),this[e(364)].setAttribute(e(261),this[e(229)]),this[e(473)]=s(p,1),this[e(473)].setUsage(d[e(299)]),this[e(364)][e(186)](e(486),this.rotationalSpeeds),this[e(582)]=s(m,2),this[e(582)][e(549)](d[e(299)]),this.geometry[e(186)](e(355),this[e(582)]),this[e(263)]=s(f,3),this[e(263)].setUsage(d[e(299)]),this[e(364)].setAttribute("color",this[e(263)]),this.alphas=s(g,1),this[e(433)].setUsage(d[e(299)]),this[e(364)][e(186)](e(253),this[e(433)]),this[e(337)]=s(w,2),this[e(337)][e(549)](d[e(299)]),this[e(364)][e(186)]("initialSize",this[e(337)]),this[e(187)]=s(S,3),this[e(187)].setUsage(d[e(299)]),this[e(364)][e(186)](e(630),this.initialColors),this[e(575)]=s(y,1),this[e(575)].setUsage(d[e(299)]),this[e(364)][e(186)](e(226),this[e(575)])}[M(215)](){const t=M;super[t(215)](),this[t(364)]&&(this[t(364)][t(215)](),this[t(364)]=null)}}class et{constructor(t,e,s,n,i){const r=M;this.length=t,this.x=e,this.y=s,this[r(205)]=n,this[r(534)]=i}}class st{constructor(t,e){const s=M;this[s(558)]=t,this[s(618)]=e,this[s(266)]=[]}[M(439)](){return this[M(558)]}[M(407)](){return this[M(618)]}getFrameSetCount(){const t=M;return this.frameSets[t(371)]}addFrameSet(t,e,s,n,i){const r=M;this.frameSets[r(521)](new et(t,e,s,n,i))}[M(354)](t){const e=M;if(t>=this[e(266)][e(371)])throw new Error(e(594));return this.frameSets[t]}}const nt=class t extends Q{constructor(t,e,s=!1,n=d[M(443)],i=!0,r){const a=M;super(),m(this,"updateMeshBounds",function(){const t=M,e=new(d[t(555)]);return function(){const s=t,n=this.particleStateArray[s(168)]();if(this[s(604)]){n.boundingBox||(n[s(460)]=new(d[s(315)])),n[s(460)][s(628)](this[s(460)]),!n[s(554)]&&(n[s(554)]=new(d[s(572)])),e.x=(this[s(460)][s(327)].x+this.boundingBox[s(409)].x)/2,e.y=(this[s(460)][s(327)].y+this[s(460)].max.y)/2,e.z=(this.boundingBox[s(327)].z+this[s(460)][s(409)].z)/2;const t=this.boundingBox[s(409)].x-e.x,i=this[s(460)].max.y-e.y,r=this[s(460)][s(409)].z-e.z,a=Math[s(409)](Math[s(409)](t,i),r);n.boundingSphere[s(203)].copy(e),n[s(554)][s(305)]=Math[s(441)](2*a*a)}else n[s(554)]||(n[s(554)]=new(d[s(572)])),n.boundingSphere[s(628)](this[s(554)])}}()),this[a(623)]=t,this[a(553)]=null,this[a(452)]=null,this[a(532)]=null,this[a(392)]=e,this[a(544)]=s,this.blending=n,this[a(460)]=new(d[a(315)]),this[a(554)]=new(d[a(572)]),this.calculateBoundingSphereFromBox=i,this.renderOrder=r}setOwner(t){super[M(282)](t)}getParticleStateArray(){return this.particleStateArray}[M(425)](t){const e=M;super.setSimulateInWorldSpace(t),this[e(452)]&&(this[e(452)][e(446)][e(434)].value=t?1:0,this[e(452)].uniformsNeedUpdate=!0)}[M(384)](){return this.calculateBoundingSphereFromBox}[M(402)](t){const e=M;this[e(460)][e(628)](t),this.mesh&&this[e(577)]()}[M(323)](t){const e=M;this[e(554)].copy(t),this.mesh&&this[e(577)]()}render(t,e,s){e[M(476)](t,s)}init(t){const e=M;super[e(195)](t)&&(this[e(553)]=new tt,this[e(553)][e(195)](t,this[e(623)]),this.material=this[e(387)](null,null,null,!0,!1),this[e(452)].blending=this[e(482)],this[e(532)]=new I(this[e(553)][e(168)](),this[e(452)]),this[e(532)][e(395)]=!0,void 0!==this[e(480)]&&(this[e(532)][e(480)]=this[e(480)]),this[e(577)](),this[e(408)][e(539)](this[e(532)]))}[M(215)](){const t=M;this.particleStateArray[t(215)]()}[M(387)](e,s,n,i,r){const a=M,o=[...Array(16)[a(244)]()][a(518)]((t=>new(d[a(236)])));if(this[a(392)])for(let t=0;t<this[a(392)].getFrameSetCount();t++){const e=this[a(392)][a(354)](t);o[t]=new(d[a(236)])(e.x,e.y,e.width,e[a(534)])}const c=this[a(392)]?this[a(392)][a(439)]():null,h=this[a(544)],l=this[a(434)],u=this.instanced?1:0,p={atlasFrameSet:{type:"v4v",value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(d[a(352)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(586)](n,p),e=e||t[a(270)].getVertexShader(r),s=s||t.Shader[a(342)](i,r),new(d[a(190)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:d[a(443)],blendDstAlpha:d[a(248)],blendSrcAlpha:P,depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=M,n=e[s(392)],i=(new A)[s(301)](n[s(618)]),r=new st(i,n.texturePath),a=n[s(341)];for(const t of a)r[s(616)](t[s(371)],t.x,t.y,t[s(205)],t[s(534)]);const o=new t(e.instanced,r,n.interpolateFrames);return e.blending==s(559)?o[s(482)]=d[s(579)]:o[s(482)]=d[s(443)],o}toJSON(t){const e=M;t=t||(t=>{const e=ut;if(t[e(618)])return t[e(618)];const s=t[e(439)]()[e(286)];if(s){const t=s[e(398)];if(t){const s=t[e(619)],n=t[e(551)];return n.indexOf(s)>=0?n[e(587)](s[e(371)],n.length-s[e(371)]):n}}});const s=[];for(let i=0;i<this[e(392)].getFrameSetCount();i++){const t=this[e(392)][e(354)](i);s[e(521)](t)}let n="Normal";this.material[e(482)]===d[e(579)]&&(n=e(559));return{instanced:this[e(623)],blending:n,atlas:{interpolateFrames:this[e(544)],texturePath:t(this[e(392)]),framesets:s}}}};m(nt,"Shader",{get VertexVars(){const t=M;return[t(171),t(322),t(370),"uniform int simulateInWorldSpace; \n",t(285),"attribute vec2 baseUV;\n","attribute float customIndex;\n",t(610),"attribute float rotation;\n",t(537),t(247),t(563),t(319),"varying vec2 vUV1;\n","varying vec2 vUV2;\n",t(622),"varying float vFragAlpha;\n",t(410)][t(497)]("\n")},get FragmentVars(){const t=M;return[t(370),t(316),"uniform vec2 uvOffset;\n",t(373),t(273),"varying vec3 vFragColor;\n",t(293),"varying float vSequenceElementT;\n"][t(497)]("\n")},getVertexShader(t){const e=M;let s=[e(344),this[e(428)]][e(497)]("\n");return t&&(s+=e(547)),s+=[e(284),e(632),e(417),e(492),"   float atlasFrameY = atlasFrames.y; \n",e(340),e(519),e(501),"   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n",e(590),e(451),"   int nRowYTile = int(SNOverHS);\n",e(362),"   float nRowX = float(nRowXTile) * atlasFrameWidth;\n",e(397),e(585),e(493),e(181),e(466),e(609),"{\n","   const vec2 right = vec2(1.0, 0.0);\n",e(173),"   const vec2 left = vec2(-1.0, 0.0);\n",e(512),e(459),"   const vec2 uLeft = vec2(-1.0, 1.0);\n","   const vec2 dLeft = vec2(-1.0, -1.0);\n","   const vec2 dRight = vec2(1.0, -1.0);\n",e(449),e(361),"       viewPosition = viewMatrix * particlePosition;\n",e(471),e(294),"   } \n",e(220),"   int sequenceNumber = int(sequenceElement.y);\n","   int sequenceStart = int(sequenceElement.z);\n",e(396),e(199),e(513),e(569),e(281),e(526),e(326),"   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","   } \n",e(632),e(417),e(357),"   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n",e(567),"   float upperSide; \n",e(562),e(531),"       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n",e(240),e(360),"       rightSide = baseUV.x; \n",e(334),e(418),e(472),e(274),e(431),"   if (instanced != 1) { \n","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(422),e(481),"       float uRightV = rotVecStep.z; \n",e(174),e(394),e(360),e(212),"   } \n",e(552),e(517),e(584),e(393),e(448)].join("\n"),t&&(s+=e(424)),s+=e(466),s},getFragmentShader(t,e){const s=M;let n=s(602)+this[s(621)]+"\n";return e&&(n+="  \n #include <logdepthbuf_pars_fragment> \n"),n+="void main() { \n",e&&(n+=s(377)),n+=t?["   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vec4 color2 = color1; \n",s(324),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(514)].join("\n"):[s(546),"   vec4 color2 = color1; \n",s(324),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","   gl_FragColor.a *= vFragAlpha; \n"][s(497)]("\n"),n+="}\n",n}});let it=nt;class rt{constructor(){const t=M;this[t(198)]=0,this.emissionDuration=0,this.emitCount=0,this[t(478)]=0,this[t(477)]=0,this[t(435)]=0,this[t(494)]=0}[M(176)](t){return this[M(390)](t),0}[M(390)](t){const e=M;return this[e(478)]+=t,this.timeActive=Math.max(this.age-this[e(198)],0),this[e(478)]>=this[e(198)]&&(0==this[e(211)]||this.timeActive<=emissionDuration)}updateEmitCount(t){this[M(182)]+=t}}class at extends rt{constructor(){const t=M;super(),this.emissionMinimum=0,this[t(194)]=0}}class ot extends at{constructor(t=0){const e=M;super(),this[e(442)]=t}[M(176)](t){const e=M;if(this[e(390)](t)){const t=this[e(442)]*this[e(477)]-this[e(182)];if(t>=1){const s=Math.floor(t);return this[e(208)](s),s}}return 0}static[M(525)](t){const e=M,s=new ot;return s[e(442)]=t[e(442)]||0,s}[M(175)](){return{emissionRate:this[M(442)]}}}const ct=class t{constructor(t){this[M(507)]=t}static getTypeID(e){const s=M;let n=t[s(570)];return e===d[s(352)]?n=t[s(352)]:e===d[s(555)]?n=t[s(555)]:e===F?n=t[s(236)]:e===S&&(n=t[s(386)]),n}static loadJSONParameter(t,e){const s=M;switch(e){case d[s(352)]:return(new(d[s(352)]))[s(320)](t);case d[s(555)]:return(new(d[s(555)]))[s(320)](t);case d[s(236)]:return(new(d[s(236)])).fromArray(t);case d[s(386)]:return(new(d[s(386)]))[s(320)](t)}return t}};c=M(570),h=M(386),m(ct,c,new ct("Default")),m(ct,"Vector2",new ct(M(352))),m(ct,"Vector3",new ct(M(555))),m(ct,"Vector4",new ct(M(236))),m(ct,h,new ct(M(386)));let ht=ct;class lt{constructor(t){const e=M;this[e(625)]=t,this[e(308)]=ht[e(348)](t)}}function ut(t,e){const s=U();return(ut=function(t,e){return s[t-=168]})(t,e)}class pt extends lt{constructor(t,e,s,n,i,r){const a=M;super(t),this[a(227)]=e,this[a(217)]=s,this[a(328)]=n,this[a(530)]=i,this[a(404)]=r}[M(529)](t){const e=M,s=Math[e(246)]()*this[e(328)];switch(this[e(308)]){case ht[e(570)]:t=Math.random()*this[e(227)]+this.offset,this[e(404)]&&(t=t<0?-1:1);break;case ht[e(352)]:t[e(277)](this[e(358)](s,"x"),this[e(358)](s,"y"));break;case ht[e(555)]:t[e(277)](this[e(358)](s,"x"),this.generateForElement(s,"y"),this[e(358)](s,"z"));break;case ht[e(236)]:t[e(277)](this.generateForElement(s,"x"),this[e(358)](s,"y"),this[e(358)](s,"z"),this[e(358)](s,"w"))}return this.normalize&&t[e(404)](),t}[M(358)](t,e){const s=M;return t+Math[s(246)]()*this[s(227)][e]+this[s(217)][e]+this[s(530)]}[M(607)](){const t=M;return new pt(this.outType,this[t(227)],this[t(217)],this.uniformRange,this[t(530)],this[t(404)])}static[M(216)](t){const e=M;return t instanceof d[e(352)]||t instanceof d[e(555)]||t instanceof d[e(236)]||t instanceof d[e(386)]?t[e(383)]():t}static[M(525)](t){const e=M;return new pt(t[e(536)],ht.loadJSONParameter(t.range,t.type),ht[e(330)](t[e(217)],t[e(536)]),t[e(328)]||0,t[e(530)]||0,t[e(404)])}toJSON(t){const e=M,s={range:pt.getParameterJSON(this.range),offset:pt[e(216)](this[e(217)]),uniformRange:this.uniformRange,uniformOffset:this[e(530)]},n=t.getTypePath(this[e(227)][e(237)]);return null!=n&&(s[e(536)]=n),{type:t.getTypePath(pt),params:s}}}class mt extends X{constructor(t,e,s,n,i){const r=M;super(),this[r(227)]=t,this[r(217)]=e,this[r(328)]=s,this[r(530)]=n,this.normalize=i,this[r(503)]=new pt(0,this[r(227)],this[r(217)],this[r(328)],this[r(530)],this[r(404)])}[M(183)](t){const e=M;t[e(213)]=this[e(503)].generate()}static fromJSON(t,e){const s=M;return new mt(e.range,e[s(217)],e[s(328)],e.uniformOffset,e[s(404)])}[M(175)](){const t=M;return{range:this[t(227)],offset:this[t(217)],uniformRange:this.uniformRange,uniformOffset:this[t(530)],normalize:this[t(404)]}}}class ft extends X{constructor(t){const e=M;super(),this[e(503)]=t[e(607)]()}initializeState(t){const e=M;t.rotation=this.generator[e(529)](t[e(261)])}static[M(525)](t,e){const s=M,n=e[s(503)][s(536)][s(525)](e[s(503)][s(224)]);return new ft(n)}[M(175)](t){return{generator:this[M(503)].toJSON(t)}}}class dt extends X{constructor(t,e,s,n,i){const r=M;super(),this[r(227)]=t,this.offset=e,this[r(328)]=s,this.uniformOffset=n,this.normalize=i,this[r(503)]=new pt(0,this[r(227)],this[r(217)],this[r(328)],this[r(530)],this[r(404)])}initializeState(t){const e=M;t[e(486)]=this[e(503)].generate()}static fromJSON(t,e){const s=M;return new dt(e.range,e[s(217)],e[s(328)],e[s(530)],e[s(404)])}[M(175)](){const t=M;return{range:this[t(227)],offset:this[t(217)],uniformRange:this[t(328)],uniformOffset:this[t(530)],normalize:this[t(404)]}}}class gt extends X{constructor(t,e){const s=M;super(),this.randomGenerator=new pt(d[s(555)],t,e,0,0,!1)}[M(183)](t){const e=M;this.randomGenerator[e(529)](t[e(172)])}static[M(525)](t,e){const s=M;return new gt((new g)[s(320)](e.range),(new(d[s(555)]))[s(320)](e[s(217)]))}[M(175)](){const t=M;return{range:this[t(329)][t(227)][t(383)](),offset:this.randomGenerator[t(217)][t(383)]()}}}class wt extends X{constructor(t){const e=M;super(),this[e(503)]=t[e(607)]()}[M(183)](t){const e=M;this[e(503)][e(529)](t[e(355)]),t[e(378)].copy(t[e(355)])}static[M(525)](t,e){const s=M,n=e[s(503)][s(536)].fromJSON(e[s(503)].params);return new wt(n)}toJSON(t){const e=M;return{generator:this[e(503)][e(175)](t)}}}class St extends X{constructor(t,e,s,n,i=!0){const r=M;super(),this[r(436)]=new pt(g,t,e,0,0,!0),this[r(571)]=new pt(0,s,n,0,0,!1),this[r(599)]=i}[M(183)](t){const e=M;this[e(436)][e(529)](t.velocity),this.normalizeDirection&&t[e(498)][e(404)](),t[e(498)].multiplyScalar(this[e(571)].generate())}static[M(525)](t,e){const s=M;return new St((new(d[s(555)]))[s(320)](e[s(227)]),(new(d[s(555)]))[s(320)](e[s(217)]),e[s(445)],e.speedOffset)}toJSON(){const t=M;return{range:this.directionGenerator.range[t(383)](),offset:this[t(436)].offset[t(383)](),speedRange:this[t(571)][t(227)],speedOffset:this[t(571)][t(217)]}}}class yt extends X{constructor(t,e=!1){const s=M;super(),this[s(369)](t),this[s(574)]=e}[M(369)](t){this[M(312)]=t}initializeState(t){const e=M,s=this[e(312)].getSequenceIDs(),n=s.length*Math[e(246)](),i=s[Math[e(196)](n)],r=this[e(312)][e(346)](i),a=t[e(520)];this[e(574)]?a.x=r[e(371)]-1:a.x=r[e(510)],a.y=r.id,a.z=r[e(510)],a.w=r.length,t.progressType=_[e(403)]}static[M(525)](t,e){const s=M;return new yt(t[s(411)](),e[s(574)])}[M(175)](){return{reverse:this.reverse}}}class vt extends Y{constructor(t,e,s=!1,n=!1){const i=M;super(),this[i(312)]=t,this[i(484)]=e,this[i(189)]=s,this[i(574)]=n}[M(508)](t,e){const s=M,n=t[s(520)],i=this[s(312)][s(346)](n.y),r=e/this.speed;if(this[s(574)]){if(n.x-=r,n.x<i[s(510)]&&(n.x=i.start+i.length,!this.loop))return!1}else if(n.x+=r,n.x>=i.start+i[s(371)]&&(n.x=i.start,!this.loop))return!1;return!0}static[M(525)](t,e){const s=M;return new vt(t[s(411)](),e[s(484)],e[s(189)],e[s(574)])}[M(175)](){const t=M;return{speed:this[t(484)],loop:this[t(189)],reverse:this[t(574)]}}}class xt{constructor(t,e){m(this,l,function(){const t=M,e={lowerIndex:0,upperIndex:0,localT:0},s=new(d[t(352)]),n=new(d[t(555)]),i=new(d[t(236)]),r=new S,a=s=>(n,i,r,a)=>{const o=t;xt.getInterpolationValuesForTValue(r,n,e),s[o(628)](i[e[o(405)]]).multiplyScalar(e[o(290)]),a.copy(i[e[o(470)]])[o(438)](1-e[o(290)])[o(539)](s)};return function(o){const c=t;switch(o){case ht[c(570)]:return(t,s,n)=>{const i=c;return xt[i(332)](n,t,e),(1-e[i(290)])*s[e.lowerIndex]+e[i(290)]*s[e[i(405)]]};case ht[c(352)]:return a(s);case ht[c(555)]:return a(n);case ht[c(236)]:return a(i);case ht.Color:return a(r)}}}());const s=M;this.elements=[],this[s(620)]=[],this[s(272)]=ht[s(348)](t),this[s(596)]=e||this.getInterpolatorForTypeID(this[s(272)])}*[Symbol.iterator](){const t=M;let e=0;for(;e<this[t(581)]();)yield{element:this[t(178)][e],tValue:this[t(620)][e]},e++}[M(581)](){return this[M(178)].length}[M(463)](t){const e=M;if(t>=this.getElementCount())throw new Error(e(380));return this[e(178)][t]}[M(467)](t){if(t>=this[M(581)]())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this.tValues[t]}[M(214)](t,e){const s=M;this[s(178)][s(521)](t),this[s(620)][s(521)](e)}[M(359)](t,e){const s=M;return this.interpolator(t,this[s(178)],this[s(620)],e)}static[(l=M(252),M(332))](t,e,s){const n=M,i=t[n(371)];if(0===i)return s[n(470)]=-1,s[n(405)]=-1,void(s[n(290)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(470)]=G[n(385)](a,0,i-1),s[n(405)]=G.clamp(o,0,i-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}class It extends Y{constructor(t,e=!1){const s=M;super(),this[s(372)]=e,this.interpolationElements=new xt(t)}[M(214)](t,e){const s=M;this.interpolationElements[s(214)](t,e)}[M(504)](t){const e=M;for(const s of t)this.interpolationElements[e(214)](s[0],s[1])}[M(289)](t,e){const s=M;for(const n of e){const[...e]=n[0];this[s(615)][s(214)](new t(...e),n[1])}}[M(600)](t,e){const s=M;let n=0;switch(t.progressType){case _[s(389)]:n=0!=t[s(213)]?t[s(478)]/t[s(213)]:t[s(478)];break;case _.Sequence:n=t[s(520)].x/t[s(520)].w}return this.interpolationElements[s(359)](n,e)}}class Pt extends It{constructor(t=!1){super(0,t)}[M(464)](t){super[M(504)](t)}[M(508)](t){const e=M;return this[e(372)]?t.alpha=t.initialAlpha*this[e(600)](t,t.alpha):t[e(253)]=this[e(600)](t,t.alpha),!0}static[M(525)](t,e){return new Pt(e.relativeToInitialValue)}[M(175)](){const t=M;return{params:{relativeToInitialValue:this[t(372)]},elements:[...this[t(615)]][t(518)]((e=>[e[t(339)],e.tValue]))}}}class At extends It{constructor(t=!1){super(w,t),m(this,u,function(){const t=M,e=new(d[t(352)]);return function(s){const n=t;return this[n(600)](s,e),this.relativeToInitialValue?s[n(355)][n(277)](s[n(378)].x*e.x,s[n(378)].y*e.y):s[n(355)][n(628)](e),!0}}())}[M(464)](t){const e=M;super[e(289)](d[e(352)],t)}static[(u=M(508),M(525))](t,e){return new At(e[M(372)])}toJSON(){const t=M;return{params:{relativeToInitialValue:this[t(372)]},elements:[...this[t(615)]][t(518)]((e=>[e[t(339)][t(383)](),e[t(565)]]))}}}class Ft extends It{constructor(t=!1){super(d[M(386)],t),m(this,"updateState",function(){const t=new S;return function(e){const s=ut;return this.getInterpolatedValue(e,t),this.relativeToInitialValue?e[s(406)][s(267)](e[s(630)].r*t.r,e[s(630)].g*t.g,e[s(630)].b*t.b):e[s(406)][s(628)](t),!0}}())}[M(464)](t){const e=M;super[e(289)](d[e(386)],t)}static[M(525)](t,e){return new Ft(e[M(372)])}[M(175)](){const t=M;return{params:{relativeToInitialValue:this[t(372)]},elements:[...this[t(615)]][t(518)]((e=>[e.element[t(383)](),e[t(565)]]))}}}class bt extends Y{constructor(t){const e=M;super(),this[e(503)]=t[e(607)]()}[M(464)](t){const e=M;super[e(289)](THREE[e(555)],t)}[M(508)](t){const e=M;return this[e(503)].generate(t[e(608)]),!0}static[M(525)](t,e){const s=M,n=e[s(503)][s(536)][s(525)](e[s(503)][s(224)]);return new bt(n)}[M(175)](t){const e=M;return{generator:this[e(503)][e(175)](t)}}}class Tt extends lt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=M;super(d[p(555)]),this[p(540)]=t,this[p(325)]=e,this.rangePhi=s,this.offsetPhi=n,this[p(201)]=i,this.offsetRadius=r,this[p(475)]=a,this[p(287)]=o,this.scaleZ=c,this[p(204)]=h,this[p(593)]=l,this[p(601)]=u,this.tempUp=(new(d[p(555)]))[p(277)](0,1,0)}[M(529)](t){const e=M;this[e(197)][e(277)](0,1,0);const s=Math[e(246)]()*this[e(540)]+this.offsetTheta,n=Math[e(246)]()*this[e(228)]+this[e(367)],i=Math[e(595)](s),r=Math[e(462)](s),a=Math[e(595)](n),o=Math.sin(n);t[e(277)](i,0,-r),t[e(438)](a),this[e(197)].multiplyScalar(o),t[e(539)](this[e(197)]),t[e(404)]();const c=Math[e(246)]()*this[e(201)]+this.offsetRadius;t[e(438)](c),t.x*=this.scaleX,t.y*=this[e(287)],t.z*=this[e(265)],t.x+=this.offsetX,t.y+=this.offsetY,t.z+=this[e(601)]}[M(607)](){const t=M;return new Tt(this[t(540)],this[t(325)],this[t(228)],this[t(367)],this.rangeRadius,this[t(535)],this.scaleX,this[t(287)],this.scaleZ,this.offsetX,this[t(593)],this.offsetZ)}static fromJSON(t){const e=M;return new Tt(t[e(540)],t[e(325)],t[e(228)],t[e(367)],t[e(201)],t[e(535)],t.scaleX,t.scaleY,t[e(265)],t[e(204)],t[e(593)],t[e(601)])}toJSON(t){const e=M;return{type:t.getTypePath(Tt),params:{rangeTheta:this[e(540)],offsetTheta:this[e(325)],rangePhi:this[e(228)],offsetPhi:this[e(367)],rangeRadius:this[e(201)],offsetRadius:this[e(535)],scaleX:this[e(475)],scaleY:this[e(287)],scaleZ:this[e(265)],offsetX:this[e(204)],offsetY:this[e(593)],offsetZ:this[e(601)]}}}}class zt{constructor(){}}class Et extends zt{constructor(t,e,s,n,i,r,a=void 0){const o=M;super(),this[o(408)]=null,this[o(613)]=null,this[o(335)]=performance[o(401)]()/1e3,this[o(223)]=this.lastUpdateTime,this.lastPositionFlickerTime=this[o(335)],this.lastIntensityAdjuster=1,this[o(314)]=1,this[o(538)]=new(d[o(555)]),this[o(447)]=new(d[o(555)]),this.intensity=1,this.intensityFlux=2,this.parent=t,this.init(t,e,s,n,i,r,a)}[M(195)](t,e,s,n,i,r,a=void 0){const o=M;this[o(408)]=new(d[o(488)]),t[o(539)](this.owner),n=n||new(d[o(386)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(613)]=new(d[o(193)])(16777215,2,0,1),this[o(613)][o(406)][o(628)](n),this.light[o(381)]=i,this[o(613)][o(311)]=r,this.light.castShadow=c,c&&(this[o(613)][o(366)].mapSize[o(205)]=a[o(317)]||512,this[o(613)][o(366)].mapSize[o(534)]=a[o(317)]||512,this[o(613)].shadow.camera.near=a[o(302)]||.5,this[o(613)][o(366)][o(255)][o(232)]=a.cameraFar||500,this[o(613)][o(366)].bias=a.bias||1e-4,this.light[o(366)].radius=a[o(306)]||1),this[o(408)][o(539)](this[o(613)]),this[o(614)]=e,this[o(457)]=s,this[o(613)]}[M(215)](){const t=M;this[t(278)][t(416)](this.owner)}getLight(){return this[M(613)]}[M(249)](t){this[M(614)]=t}[M(176)](t){const e=M,s=t-this.lastIntensityFlickerTime,n=1/8,i=this[e(457)];if(s>n){this[e(223)]=t;let s=1+2*(Math[e(246)]()-.5)*i*n;const r=s-this[e(313)];s=this.lastIntensityAdjuster+r,this[e(313)]=this[e(314)],this[e(314)]=G[e(385)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(313)]+t*this[e(314)];this.light[e(614)]=i*this.intensity}if(t-this[e(207)]>.0625){this[e(207)]=t;const s=t-this[e(335)];this.positionAdjuster[e(277)](Math[e(246)]()-.5,Math[e(246)]()-.5,Math[e(246)]()-.5),this[e(447)][e(438)](s),this[e(447)].add(this[e(538)]),this[e(447)][e(438)](.5),this[e(408)][e(172)][e(628)](this[e(447)]),this[e(538)][e(628)](this[e(447)]),this[e(335)]=t}}}class Rt{constructor(){const t=M;this[t(427)]={default:{}},this[t(631)]={},this[t(298)]=0}[M(347)](t,e){const s=M;this.addTypeToNamespace(s(257),t,e)}addTypeToNamespace(t,e,s){const n=M;if(!this.jsonTypes[t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this.jsonTypes[t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this[n(509)](s,e,t)&&(this[n(427)][t][e]=s)}[M(291)](t,e){const s=M;if(this.jsonTypes[t])throw new Error(s(200));this[s(427)][t]=e;for(const n in e)if(!e[s(454)]||e[s(454)](n)){const i=e[n];this[s(509)](i,n,t)}}[M(509)](t,e,s){const n=M;if(typeof t===n(336)){const i=this[n(298)]++;t[n(421)]=i,this[n(631)][i]={namespace:s,typeName:e}}}[M(241)](t,e){const s=M;if(!this.jsonTypes[t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(427)][t][e])throw new Error("JSONTypeStore::getType() -> typeName does not exist");return this[s(427)][t][e]}[M(225)](t){const e=M;return this[e(631)][t[e(421)]]}[M(353)](t){const e=M,s=this[e(225)](t);if(s)return s.namespace+"."+s[e(591)]}parseNamespaceAndTypename(t){const e=M,s=t[e(560)]("."),n=s[0];s[e(243)](0,1);return{namespace:n,typeName:s.join(".")}}[M(400)](t){const e=M,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(241)](s,n)}}function Ot(t){function e(t){const s=ut;if(typeof t===s(566))return function(t){}.constructor(s(268)).apply(s(169));1!==(""+t/t).length||t%20==0?function(){return!0}[s(237)]("debugger")[s(429)](s(188)):function(){return!1}[s(237)](s(304)+s(592))[s(412)](s(307)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Vt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:bt,AnimatedSpriteRenderer:it,Atlas:st,BaseParticleStateInitializer:J,BaseParticleStateOperator:Z,BoxPositionInitializer:gt,ColorInterpolatorOperator:Ft,ConstantParticleEmitter:ot,FlickerLight:Et,JSONTypeStore:Rt,LifetimeInitializer:mt,Manager:K,OpacityInterpolatorOperator:Pt,ParticleStateArray:j,ParticleSystem:$,ParticleSystemState:H,RandomGenerator:pt,RandomVelocityInitializer:St,Renderer:Q,RotationInitializer:ft,RotationalSpeedInitializer:dt,SequenceInitializer:yt,SequenceOperator:vt,SizeInitializer:wt,SizeInterpolatorOperator:At,SphereRandomGenerator:Tt},Symbol.toStringTag,{value:"Module"})),Ct=Nt;!function(t,e){const s=Nt,n=_t();for(;;)try{if(352540===-parseInt(s(421))/1+-parseInt(s(418))/2+-parseInt(s(486))/3*(parseInt(s(445))/4)+-parseInt(s(413))/5+-parseInt(s(463))/6+parseInt(s(453))/7+parseInt(s(458))/8)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const qt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Nt(438)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){qt(this,(function(){const t=Nt,e=new RegExp(t(488)),s=new RegExp(t(417),"i"),n=Ut(t(478));e.test(n+t(472))&&s.test(n+t(485))?Ut():n("0")}))()}();const Mt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Nt(438)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Nt(t,e){const s=_t();return(Nt=function(t,e){return s[t-=413]})(t,e)}function _t(){const t=['{}.constructor("return this")( )',"1533726JMFppL","error","warn","add","addParticleSequence","bind","start","table","SequenceInitializer","chain","RotationInitializer","Manager","update","SequenceOperator","action","init","addComponent","copy","console","return (function() ","counter","fireF","input","1516989wvZHgY","Vector3","function *\\( *\\)","addElementsFromParameters","stateObject","2769000YlAviA","Vector2","setEmitter","addFrameSet","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1314678mWmHcI","FlickerLight","info","489484ZnmuFZ","SizeInterpolatorOperator","debu","AccelerationOperator","value","SizeInitializer","JSONTypeStore","addNamespace","OpacityInterpolatorOperator","call","constructor","AnimatedSpriteRenderer","setSimulateInWorldSpace","RotationalSpeedInitializer","ParticleSystem","scale","Object3D","apply","addParticleStateOperator","RandomGenerator","gger","TextureLoader","BoxPositionInitializer","Atlas","4zobZpx","THREE","Photons","AdditiveBlending","length","setRGB","position","log","1781395KwgQzt","RandomVelocityInitializer","getParticleSequences","load","ColorInterpolatorOperator","20479696NAOWOK","toString","ConstantParticleEmitter","addParticleStateInitializer"];return(_t=function(){return t})()}Mt(void 0,(function(){const t=Nt;let e;try{e=Function(t(482)+t(462)+");")()}catch(i){e=window}const s=e.console=e[t(481)]||{},n=[t(452),t(465),t(420),t(464),"exception",t(470),"trace"];for(let r=0;r<n[t(449)];r++){const e=Mt[t(431)].prototype[t(468)](Mt),i=n[r],a=s[i]||e;e.__proto__=Mt[t(468)](Mt),e.toString=a[t(459)][t(468)](a),s[i]=e}}))();const Bt=z({__name:Ct(484),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Ct,s=t,n=new(Vt[e(474)]),i=new(Vt[e(427)]);i[e(428)](e(446),d),i[e(428)](e(447),Vt);const{renderer:r,camera:a,scene:o}=b(),c=new g(...s[e(451)]);n.addParticleSystem(((t,s)=>{const n=e,i=new(d[n(437)]);i[n(451)][n(480)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(d[n(442)]))[n(456)](a),c=new(Vt[n(444)])(o,a);c[n(416)](1,0,0,1,1);const h=new(Vt[n(432)])(!0,c,!0,d[n(448)]),l=new(Vt[n(435)])(i,h,r[n(425)]);l.init(150),l[n(415)](new(Vt[n(460)])(6));const u=new pt(d[n(414)],new w(0,0),new w(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new mt(3,1,0,0,!1)),l[n(461)](new(Vt[n(426)])(u)),l[n(461)](new(Vt[n(443)])(new(d[n(487)])(.05*t,0,.05*t),new g(-.025*t,0,-.025*t))),l[n(461)](new(Vt[n(454)])(new(d[n(487)])(.4*t,.5*t,.4*t),new(d[n(487)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l.addParticleStateOperator(new(Vt[n(429)])).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(439)](new(Vt[n(457)])(!0))[n(489)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new Tt(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(439)](new(Vt[n(424)])(p)),l.setSimulateInWorldSpace(!0),l[n(469)](),l})(s.scale,c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(d[n(437)]);i[n(451)][n(480)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(d[n(442)]))[n(456)](a),c=new(Vt[n(444)])(o,a);c[n(416)](18,0,0,.125,.25);const h=new(Vt[n(432)])(!0,c,!0),l=new(Vt[n(435)])(i,h,r[n(425)]);l[n(478)](50),l[n(415)](new(Vt[n(460)])(10)),l[n(467)](0,18);const u=l[n(455)]();l[n(461)](new mt(0,0,0,0,!1)),l[n(461)](new(Vt[n(473)])(new(Vt[n(440)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new dt(1,-1,0,0,!1)),l[n(461)](new(Vt[n(426)])(new(Vt[n(440)])(d[n(414)],new(d[n(414)])(.25*t,.25*t),new(d[n(414)])(.5*t,.5*t),0,0,!1))),l[n(461)](new(Vt[n(443)])(new(d[n(487)])(.05*t,0,.05*t),new g(-.025*t,0,-.025*t))),l[n(461)](new(Vt[n(454)])(new g(.05*t,.4*t,.05*t),new(d[n(487)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(461)](new(Vt[n(471)])(u)),l[n(439)](new(Vt[n(476)])(u,.07,!1));l[n(439)](new Pt).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(439)](new(Vt[n(422)])(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(439)](new(Vt[n(457)])(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(439)](new(Vt[n(424)])(new(Vt[n(440)])(d[n(487)],new(d[n(487)])(0,0,0),new(d[n(487)])(0,1.5*t,0),0,0,!1))),l[n(433)](!0),l[n(469)](),l})(s[e(436)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(d[n(437)]);i[n(451)][n(480)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new(d[n(442)]))[n(456)](a),c=new(Vt[n(444)])(o,a);c[n(416)](16,0,0,212/1024,.25);const h=new(Vt[n(432)])(!0,c,!0),l=new(Vt[n(435)])(i,h,r[n(425)]);l[n(478)](20),l.setEmitter(new(Vt[n(460)])(5)),l[n(467)](0,16);const u=l.getParticleSequences();l[n(461)](new mt(0,0,0,0,!1)),l[n(461)](new(Vt[n(473)])(new(Vt[n(440)])(0,Math.PI,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(Vt[n(434)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(461)](new wt(new(Vt[n(440)])(d[n(414)],new(d[n(414)])(0,0),new(d[n(414)])(0,0),.2*t,.65*t,!1))),l[n(461)](new gt(new g(.1*t,0,.1*t),new(d[n(487)])(-.05*t,0,-.05*t))),l[n(461)](new(Vt[n(454)])(new(d[n(487)])(.02*t,.4*t,.02*t),new(d[n(487)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(461)](new yt(u)),l[n(439)](new(Vt[n(476)])(u,.1,!1));l[n(439)](new(Vt[n(429)])).addElements([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(439)](new At(!0))[n(489)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(439)](new(Vt[n(457)])(!0))[n(489)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l.addParticleStateOperator(new(Vt[n(424)])(new pt(d[n(487)],new(d[n(487)])(0,0,0),new(d[n(487)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l.start(),l})(s[e(436)],c)),n[e(479)](((t,s=10)=>{const n=e,i=new(d[n(437)]);o[n(425)][n(466)](i),i[n(451)][n(480)](t);return new(Vt[n(419)])(i,s,2,(new S)[n(450)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=T();return h((()=>{const t=e;n[t(475)](),n.render(r[t(425)],a[t(425)])})),(t,e)=>null}});function Ut(t){function e(t){const s=Nt;if("string"==typeof t)return function(t){}[s(431)]("while (true) {}")[s(438)](s(483));1!==(""+t/t).length||t%20==0?function(){return!0}[s(431)]("debu"+s(441))[s(430)](s(477)):function(){return!1}[s(431)](s(423)+"gger").apply(s(490)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function jt(){const t=["241540eLimbf","position","input","init","error","call","$refs","10244297HSYEAG","pagesShowRef","gger","debu","tcRef","stateObject","bind","prototype","console","396wzcPgH","3671748gqujHf","value","function *\\( *\\)","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8SDiQSZ","log","length","camera","6294978UDBffc","1585769FeWxGN","test","context","perspectiveCameraRef","2lpbxOj","set","table","string","apply","trace","warn","88610zuwbGp","fireF","248gnnKGv","45698312CanOei",'{}.constructor("return this")( )',"constructor","chain","counter","exception"];return(jt=function(){return t})()}const Dt=Xt;!function(t,e){const s=Xt,n=jt();for(;;)try{if(993613===-parseInt(s(507))/1*(parseInt(s(511))/2)+-parseInt(s(497))/3+-parseInt(s(520))/4*(-parseInt(s(518))/5)+-parseInt(s(506))/6+-parseInt(s(534))/7*(parseInt(s(502))/8)+parseInt(s(496))/9*(parseInt(s(527))/10)+parseInt(s(521))/11)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Wt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Xt(515)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Xt(t,e){const s=jt();return(Xt=function(t,e){return s[t-=489]})(t,e)}!function(){Wt(this,(function(){const t=Xt,e=new RegExp(t(499)),s=new RegExp(t(501),"i"),n=Zt(t(530));e[t(508)](n+t(524))&&s[t(508)](n+t(529))?Zt():n("0")}))()}();const Jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Jt(void 0,(function(){const t=Xt;let e;try{e=Function("return (function() "+t(522)+");")()}catch(i){e=window}const s=e[t(495)]=e[t(495)]||{},n=[t(503),t(517),"info",t(531),t(526),t(513),t(516)];for(let r=0;r<n[t(504)];r++){const e=Jt[t(523)][t(494)][t(493)](Jt),i=n[r],a=s[i]||e;e.__proto__=Jt[t(493)](Jt),e[t(500)]=a[t(500)][t(493)](a),s[i]=e}}))();const Yt=z({__name:Dt(519),setup(t){const e=E();return R((()=>{const t=Xt;e[t(498)]&&(e[t(498)].$refs[t(491)]?e[t(498)].$refs[t(491)][t(509)][t(505)].value.position[t(512)](580,360,500):e[t(498)].$refs[t(510)]&&e[t(498)][t(533)].perspectiveCameraRef[t(528)][t(512)](580,360,500))})),(t,s)=>{const n=Xt;return O(),V(f,{ref_key:n(535),ref:e},{ability:C((()=>[q(Bt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Zt(t){function e(t){const s=Xt;if(typeof t===s(514))return function(t){}[s(523)]("while (true) {}").apply(s(525));1!==(""+t/t)[s(504)]||t%20==0?function(){return!0}[s(523)]("debugger")[s(532)]("action"):function(){return!1}[s(523)](s(490)+s(489))[s(515)](s(492)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Yt as default};
