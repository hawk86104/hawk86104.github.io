import{C as t,a9 as n,V as o,_ as e,cx as r,ak as s}from"./three.GKtOCofD1728446741233.js";import{P as i}from"./tweakpane.yHWGBmom1728446741233.js";import{p as a,U as c}from"./@tresjs.2zzrlbpQ1728446741233.js";import{P as u,b as p,c as l,M as m,T as f,a as d,d as h}from"./index.FNjF8uON1728446741233.js";import{d as g,a3 as j,w,o as b,E as x,u as v,Y as y,r as I,e as M,j as _,g as z,f as k,al as S,m as B,F as C}from"./@vue.JNsx1iN61728446741233.js";import{_ as R}from"./raycasterEvent.DPE3OFxN1728446741233.js";import{a as T}from"./utils.CcbXA8pU1728446741233.js";import"./@vueuse.M29bYW2K1728446741233.js";import"./@mapbox.pZ7rXgHT1728446741233.js";import"./@amap.Qg_J860p1728446741233.js";import"./three-mesh-bvh.1uNND2ZS1728446741233.js";import"./three-custom-shader-material.TfREIiYm1728446741233.js";import"./object-hash.0ofIFoz61728446741233.js";import"./jszip.tq9nBV5m1728446741233.js";import"./glsl-tokenizer.3GIgb7Lk1728446741233.js";import"./glsl-token-string.OiBTr1Jd1728446741233.js";import"./glsl-token-functions.FTbn13l-1728446741233.js";import"./@fesjs.tvRFRo261728446741233.js";import"./vue-router.GYb5A3dV1728446741233.js";import"./lodash-es.kYt-_xTG1728446741233.js";import"./@qlin.yHhFDldE1728446741233.js";import"./pinia.xS8D_FkU1728446741233.js";import"./@floating-ui.BPbuo5Gx1728446741233.js";import"./@juggle.7yjBMqoW1728446741233.js";import"./@tweenjs.zdhk2VeU1728446741233.js";import"./utils.ZLU7JzO61728446741233.js";import"./http.R8u37cFs1728446741233.js";import"./axios.Ng308AU61728446741233.js";import"./color.79oGYBBb1728446741233.js";import"./color-string.ObEg2vY91728446741233.js";import"./color-name.2gjRwsc01728446741233.js";import"./simple-swizzle.y06jZDiM1728446741233.js";import"./is-arrayish.WtipyoY91728446741233.js";import"./color-convert.xrGlCcPv1728446741233.js";import"./lodash.LqH8bcZY1728446741233.js";import"./naive-ui.0jgiE_od1728446741233.js";import"./date-fns.O_b98D3D1728446741233.js";import"./@css-render.QJCviZkL1728446741233.js";import"./seemly.SjiSeX2v1728446741233.js";import"./css-render.iA74i3Yy1728446741233.js";import"./@emotion.ZD_ZYAgY1728446741233.js";import"./vooks.H4tEMjhJ1728446741233.js";import"./evtd.DtfwxtIl1728446741233.js";import"./vueuc.-Y0akJ8A1728446741233.js";import"./vdirs.6YfVQFXL1728446741233.js";import"./treemate.dcEdf2le1728446741233.js";import"./date-fns-tz.96-AX2_T1728446741233.js";import"./async-validator.-YBkpS4I1728446741233.js";import"./d3-geo.6bptgC3a1728446741233.js";import"./d3-array.E5C1cfJ61728446741233.js";const A=Z;!function(t,n){const o=Z,e=F();for(;;)try{if(228429===-parseInt(o(393))/1+-parseInt(o(461))/2+parseInt(o(435))/3+parseInt(o(389))/4*(parseInt(o(425))/5)+parseInt(o(432))/6+parseInt(o(444))/7+-parseInt(o(459))/8)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const E=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[Z(428)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){E(this,(function(){const t=Z,n=new RegExp(t(462)),o=new RegExp(t(420),"i"),e=V("init");n[t(400)](e+t(423))&&o[t(400)](e+"input")?V():e("0")}))()}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[Z(428)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Z(t,n){const o=F();return(Z=function(t,n){return o[t-=388]})(t,n)}P(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(409)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(433)]=n.console||{},e=[t(413),t(417),"info",t(402),t(401),t(418),t(394)];for(let r=0;r<e.length;r++){const n=P.constructor[t(406)][t(388)](P),s=e[r],i=o[s]||n;n[t(463)]=P[t(388)](P),n[t(431)]=i[t(431)][t(388)](i),o[s]=n}}))();const L=[A(416),A(412)];function F(){const t=["1137969ewAHAJ","constructor","coordType","mapCenter","stateObject","updateProjectionMatrix","flatShading","call","action","1428931bnQUlj","string","primitive","provider","set","#fff","dampingFactor","value","lookAt","maxZoom","filter","domElement","target","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","camera","2646680xieFmP","tileMapMesh","583390HseaoP","function *\\( *\\)","__proto__","bind","2748khDKnw","showTileNo","enableDamping","Vector3","352209GxVSZV","trace","far","genBright","source","length","gger","test","exception","error","render","position","genSaturation","prototype","useStandardMaterial","update","return (function() ","minDistance","monochrome","rotation","log","bbox","isMonochrome","object","warn","table","opposite","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","innerWidth","wireframe","chain","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","1930WFqIqB","genContrast","innerHeight","apply","abs","debu","toString","2127180sRIaGc","console","showBoundingBox"];return(F=function(){return t})()}const D=g({__name:A(460),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:A(449)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(s,{expose:i}){const h=A,g=s,{renderer:y,scene:I}=a();(new u).coordType=p;const M=new l;M.source=h(424),M[h(437)]=p;const _=new m;_[h(397)]=h(457),_[h(390)]=!1,_.useWorker=!0;const z=new f(M,_);if(z[h(434)]=!1,z[h(422)]=!1,z[h(441)]=!1,z[h(407)]=!1,z[h(454)]={opposite:g[h(419)],monochrome:g[h(415)]?{r:.299,g:.587,b:.114}:null,genBright:g[h(396)],genContrast:g[h(426)],genSaturation:g[h(405)]},g.monochrome){let n=new t(g[h(411)]);z[h(454)]&&(z[h(454)].monochrome={r:n.r,g:n.g,b:n.b})}const k=new d;k[h(447)]=z,k[h(414)]=g[h(414)],k[h(453)]=g[h(453)];const S=new n(60,window[h(421)]/window[h(427)],1,1e8);S.up=new o(0,1,0),S.position[h(448)](g[h(438)][0],g[h(438)][2],-g[h(438)][1]),S[h(452)](new(e[h(392)])(S.position.x,0,S[h(404)].z-2e3)),k[h(458)]=S;let B=null;j((()=>{const t=h;y.value&&!B&&(B=new r(S,y[t(451)][t(455)]),B[t(391)]=!0,B[t(450)]=.05,B[t(410)]=600,B.position0[t(448)](S[t(404)].x,S[t(404)].y,S[t(404)].z),B[t(456)][t(448)](S[t(404)].x,0,S[t(404)].z-2e3))})),w((()=>[g[h(419)],g.isMonochrome,g[h(411)]]),(([n,o,e])=>{const r=h;if(z.filter){let s=new t(e);z[r(454)][r(419)]=n,z.filter[r(411)]=o?{r:s.r,g:s.g,b:s.b}:null}})),w((()=>[g[h(396)],g.genContrast,g[h(405)]]),(([t,n,o])=>{const e=h;z.filter&&(z[e(454)][e(396)]=t,z.filter[e(426)]=n,z[e(454)][e(405)]=o)}));const{onLoop:C}=c();return C((()=>{var t;const n=h;if(y.value){null==(t=g.tweenInstance)||t[n(408)](),B&&B.update(),k[n(408)]();const o=50*Math[n(429)](S.position.y);S[n(395)]=o+5e3,S[n(440)](),y[n(451)][n(403)](I[n(451)],S)}})),i({camera:S,map:k,orbitControl:B}),(t,n)=>{const o=h;return b(),x(o(446),{object:v(k),rotation:[-Math.PI/2,0,0]},null,8,L)}}});function V(t){function n(t){const o=Z;if(typeof t===o(445))return function(t){}[o(436)]("while (true) {}")[o(428)]("counter");1!==(""+t/t)[o(398)]||t%20==0?function(){return!0}[o(436)](o(430)+o(399))[o(442)](o(443)):function(){return!1}[o(436)]("debu"+o(399))[o(428)](o(439)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=U,e=H();for(;;)try{if(848391===parseInt(o(117))/1+-parseInt(o(157))/2*(-parseInt(o(160))/3)+parseInt(o(163))/4+parseInt(o(155))/5+-parseInt(o(149))/6*(parseInt(o(139))/7)+-parseInt(o(128))/8+-parseInt(o(159))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[U(133)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){$(this,(function(){const t=U,n=new RegExp(t(105)),o=new RegExp(t(135),"i"),e=Y(t(110));n[t(119)](e+t(121))&&o.test(e+t(116))?Y():e("0")}))()}();const q=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function H(){const t=["5760174LOYEMS","length","新街口","genBright","NoToneMapping","单色滤镜","6677585XLSzrD","addBinding","190mStKtT","nss","25221591rkoBoP","25131LlotTM","string","exception","5549484MPqwnl","bind","constructor","warn","tweenInstance","function *\\( *\\)","xjk","genContrast","list","counter","init","gger","#201919","tileMapMeshRef","manual","滤镜颜色","input","1294072aTilGc","isMonochrome","test","opposite","chain","value","TresCanvas","trace","stateObject","while (true) {}","Vector3","1615648jzkUdr","info","action","toString","饱和度","apply","tileMapRef","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","camera","return (function() ","debu","7UxkLKl","error","__proto__","对比度","#4688b5","table","奥体中心","orbitControl","addBlade","call"];return(H=function(){return t})()}function U(t,n){const o=H();return(U=function(t,n){return o[t-=101]})(t,n)}q(void 0,(function(){const t=U;let n;try{n=Function(t(137)+'{}.constructor("return this")( ));')()}catch(r){n=window}const o=n.console=n.console||{},e=["log",t(103),t(129),t(140),t(162),t(144),t(124)];for(let s=0;s<e[t(150)];s++){const n=q.constructor.prototype[t(101)](q),r=e[s],i=o[r]||n;n[t(141)]=q[t(101)](q),n.toString=i[t(131)][t(101)](i),o[r]=n}}))();const W=g({__name:"tileMap",setup(t){const n=U,r=h(118.779958,32.017136),a=[r[0],r[1],5e3],c=y(),u=I({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:n(143),mapCenter:a,tweenInstance:null}),p=new i({title:"参数"});p[n(156)](u,n(120),{label:"反色"}),p[n(156)](u,n(152),{label:"高亮",min:.1,max:3,step:.1}),p[n(156)](u,n(107),{label:n(142),min:.1,max:3,step:.1}),p.addBinding(u,"genSaturation",{label:n(132),min:.1,max:3,step:.1}),p.addBinding(u,n(118),{label:n(154)}),p[n(156)](u,"monochrome",{label:n(115)});const l={at:h(118.7425,31.9998),xjk:h(118.7842,32.0418),nss:h(118.7503,31.9082)};p[n(147)]({view:n(108),label:"飞去",options:[{text:n(145),value:"at"},{text:n(151),value:n(106)},{text:"牛首山",value:n(158)}],value:"at"}).on("change",(t=>{const e=n,r=new o(l[t[e(122)]][0],2e3,-l[t[e(122)]][1]);u[e(104)]=T(c[e(122)].camera,r,c.value[e(146)],[0,-300],4e3)}));const m=I({clearColor:n(112),antialias:!0,logarithmicDepthBuffer:!0,renderMode:n(114),outputColorSpace:s,toneMapping:e[n(153)]});return setTimeout((()=>{const t=n,o=l.at,r=new(e[t(127)])(o[0],1600,-o[1]);u[t(104)]=T(c.value[t(136)],r,c[t(122)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,o)=>{const e=n,r=M(e(123));return b(),x(C,null,[_(r,B(m,{"window-size":""}),{default:z((()=>[(b(),k(S,null,{default:z((()=>[_(D,B(u,{ref_key:e(113),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),_(R,{tileMapRef:c[e(122)]},null,8,[e(134)])],64)}}});function Y(t){function n(t){const o=U;if(typeof t===o(161))return function(t){}[o(102)](o(126))[o(133)](o(109));1!==(""+t/t)[o(150)]||t%20==0?function(){return!0}[o(102)]("debu"+o(111))[o(148)](o(130)):function(){return!1}.constructor(o(138)+o(111))[o(133)](o(125)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{W as default};
