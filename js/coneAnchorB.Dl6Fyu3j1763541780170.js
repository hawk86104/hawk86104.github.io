import{P as e}from"./tweakpane.CqZAnw7f1763541780170.js";import"./shapeConfigurator.vue_vue_type_style_index_1_scoped_abbf0cc1_lang.D34gkB8O1763541780170.js";import"./Resource.Cw8OnALu1763541780170.js";import"./SPE.BgKlllHq1763541780170.js";import"./@fesjs.DD9azIsJ1763541780170.js";import"./Fetch.CIMEiaKn1763541780170.js";import"./three-custom-shader-material.CEYdA4hW1763541780170.js";import{_ as o}from"./@tresjs.MD0a_GHJ1763541780170.js";import{u as t}from"./utils.5F_t4e-P1763541780170.js";import{u as r}from"./index.D6cqx-VF1763541780170.js";import{d as a,ac as s,w as l,a as i,G as p,o as n,I as f,u as d,r as m,b as u,e as h,ah as c,h as j,m as g}from"./@vue.D9fSGD371763541780170.js";import{aE as _}from"./three.F31Lz30M1763541780170.js";import{b}from"./pagesShow.vue_vue_type_script_setup_true_lang.D_7dF83l1763541780170.js";import"./object-hash.Bg6hZt921763541780170.js";import"./@amap.fjyZdsU91763541780170.js";import"./jszip.DlMTIJ0v1763541780170.js";import"./vue-router.Bt0PFAN11763541780170.js";import"./lodash-es.DWe8oqPO1763541780170.js";import"./pinia.CbQiAydb1763541780170.js";import"./@qlin.y-0Z8WnK1763541780170.js";import"./@babel.BPq7uOAK1763541780170.js";import"./@floating-ui.Bhq4ibgf1763541780170.js";import"./@juggle.Vc7cP4_P1763541780170.js";import"./postprocessing.CQ_CcmSv1763541780170.js";import"./@vueuse.C5rlNtd31763541780170.js";import"./three-stdlib.lHESeGzj1763541780170.js";import"./useLoader.VuwfYjb91763541780170.js";import"./buildingsCustomShaderMaterial.DyBo--wu1763541780170.js";const C=["rotateX"],S=["object"],T=["args"],w=["color","depthTest","map"],y=a({__name:"coneAnchorMeshB",props:{anchorColor:{default:"#b0ffff"},rotateSpeed:{default:.05},depthTest:{type:Boolean,default:!0},floorSize:{default:12},floorColor:{default:"#b0ffff"},floorSpeed:{default:.6}},async setup(e){let a,m;const u=e,{scene:h}=([a,m]=s(()=>r("./plugins/digitalCity/model/coneAnchorB.glb")),a=await a,m(),a),c=h?.clone(),j=c.children[0].material.clone();j.color.set(u.anchorColor),j.metalness=0,j.roughness=.5,j.transparent=!0,j.opacity=1,j.depthTest=u.depthTest,c.children[0].renderOrder=0,c.children[0].material=j;const g=([a,m]=s(()=>t("./plugins/digitalCity/image/waveCircle.png")),a=await a,m(),a),{width:b,height:y}=g.image;g.wrapS=g.wrapT=_,g.repeat.set(1/(b/y),1),l(()=>[u.anchorColor,u.depthTest],([e,o])=>{j.color.set(e),j.depthTest=o});const B=i(null),{onRender:v}=o();let x=0;return v(()=>{B.value?.children[0].rotateZ(u.rotateSpeed),g&&(x+=u.floorSpeed,g.offset.x=Math.floor(x)/(g.image.width/g.image.height))}),(e,o)=>(n(),p("TresGroup",null,[f("TresGroup",{rotateX:-Math.PI/2,ref_key:"coneGroup",ref:B},[f("primitive",{object:d(c)},null,8,S),f("TresMesh",null,[f("TresCircleGeometry",{args:[e.floorSize,32]},null,8,T),f("TresMeshStandardMaterial",{color:e.floorColor,metalness:0,roughness:.6,transparent:"",opacity:.8,depthTest:u.depthTest,depthWrite:!1,map:d(g)},null,8,w)])],8,C)]))}}),B=a({__name:"coneAnchorB",setup(o){const t=new e({expanded:!0}),r=m({anchorColor:"#0059ff",rotateSpeed:.05,floorSize:12,floorColor:"#0059ff",floorSpeed:.6,depthTest:!0});return t.addBinding(r,"anchorColor",{label:"浮标颜色"}),t.addBinding(r,"rotateSpeed",{label:"旋转速度",min:-.2,max:.2,step:.001}),t.addBinding(r,"floorColor",{label:"波浪颜色"}),t.addBinding(r,"floorSize",{label:"波浪大小",min:.1,max:20,step:.1}),t.addBinding(r,"floorSpeed",{label:"波浪速度",min:-2,max:3,step:.1}),t.addBinding(r,"depthTest",{label:"是否遮挡"}),(e,o)=>(n(),u(b,{ref:"pagesShowRef"},{ability:h(()=>[(n(),u(c,null,{default:h(()=>[j(d(y),g({position:[60,19,0],scale:6},r),null,16)]),_:1})),(n(),u(c,null,{default:h(()=>[j(d(y),{position:[319,19,119],scale:3,anchorColor:"#ffffff",floorColor:"#ffffff",depthTest:!1})]),_:1})),(n(),u(c,null,{default:h(()=>[j(d(y),{position:[-319,19,619],scale:5,anchorColor:"#ff0000",floorColor:"#ffff00"})]),_:1})),(n(),u(c,null,{default:h(()=>[j(d(y),{position:[-319,19,-619],scale:8,anchorColor:"#ffff00",floorColor:"#ffff00"})]),_:1}))]),_:1},512))}});export{B as default};
