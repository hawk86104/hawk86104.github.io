import{P as t}from"./tweakpane.yHWGBmom1731053920743.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.9ak1AGd-1731053920743.js";import{_ as r}from"./heatmap.js-fix.rFTVbS8c1731053920743.js";import{h as i,_ as c,bX as s}from"./three.eGpwEcxC1731053920743.js";import{r as u}from"./utils.fnmbBTyc1731053920743.js";import{d as a}from"./pinia.OLC9kXJl1731053920743.js";import{b as p,d as f,a3 as l,o as h,D as d,J as m,u as g,F as y,q as v,U as w,N as b,P as I,H as _,L as x,a6 as j,r as E,j as S,g as A,m as M}from"./@vue.u2cBPEWn1731053920743.js";import{c as O,d as R,a as z}from"./three-mesh-bvh.TTgO3_lh1731053920743.js";import{_ as U}from"./@fesjs.jcfJqFb-1731053920743.js";import"./@tresjs.hJVQLtpa1731053920743.js";import"./@vueuse.weJ7f3dz1731053920743.js";import"./three-custom-shader-material.u9oeG2Gi1731053920743.js";import"./@amap.p7X0bWcq1731053920743.js";import"./vue-demi.C4xddsk91731053920743.js";import"./vue-router.VZFAJYMT1731053920743.js";import"./lodash-es.guXTxyfJ1731053920743.js";import"./@qlin.yHhFDldE1731053920743.js";import"./@floating-ui.BPbuo5Gx1731053920743.js";import"./@juggle.7yjBMqoW1731053920743.js";!function(t,n){const e=Z,o=D();for(;;)try{if(532607===parseInt(e(455))/1+parseInt(e(427))/2+-parseInt(e(437))/3+parseInt(e(440))/4+parseInt(e(409))/5+parseInt(e(434))/6+-parseInt(e(419))/7)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(445)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(){const t=["rgb(0,0,255)","position","513963SoDfal",'{}.constructor("return this")( )',"return (function() ","1622216PpzozO","_config","info","log","toString","apply","error","create","table","gger","call","randInt","debu","while (true) {}","absolute","824650vPdEEa","input","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","style","27740rFqBON","body","test","bind","__proto__","left","createElement","trace","getValueAt","console","8821302cdvelI","counter","length","heatmap-canvas","function *\\( *\\)","height","chain","appendChild","869930axVVQo","display","stateObject","setData","top","exception","constructor","1760382Vqvalm"];return(D=function(){return t})()}!function(){B(this,(function(){const t=Z,n=new RegExp(t(423)),e=new RegExp(t(458),"i"),o=T("init");n.test(o+t(425))&&e[t(411)](o+t(456))?T():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(445)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=Z;let n;try{n=Function(t(439)+t(438)+");")()}catch(r){n=window}const e=n[t(418)]=n[t(418)]||{},o=[t(443),t(457),t(442),t(446),t(432),t(448),t(416)];for(let i=0;i<o[t(421)];i++){const n=P.constructor.prototype[t(412)](P),r=o[i],c=e[r]||n;n[t(413)]=P[t(412)](P),n[t(444)]=c.toString.bind(c),e[r]=n}}))();const F=(t,n)=>t[Z(417)](n)+-10;function Z(t,n){const e=D();return(Z=function(t,n){return e[t-=409]})(t,n)}function T(t){function n(t){const e=Z;if("string"==typeof t)return function(t){}[e(433)](e(453)).apply(e(420));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(449))[e(450)]("action"):function(){return!1}[e(433)](e(452)+e(449))[e(445)](e(429)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=Q;!function(t,n){const e=Q,o=L();for(;;)try{if(289073===-parseInt(e(317))/1+parseInt(e(302))/2*(parseInt(e(307))/3)+-parseInt(e(330))/4*(parseInt(e(298))/5)+-parseInt(e(306))/6*(-parseInt(e(332))/7)+parseInt(e(334))/8+parseInt(e(303))/9+parseInt(e(335))/10*(-parseInt(e(324))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(319)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=Q,n=new RegExp(t(329)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W(t(309));n[t(328)](o+t(308))&&e[t(328)](o+t(300))?W():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(319)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["11egvAoW","table","info","bind","test","function *\\( *\\)","4uBrwZk","warn","14OCLhbC","toString","1880272hcuKHT","1256630enJQRz","counter","constructor","1581265KgSbBW","buildingsHeatmap","input","gger","688UQCoxE","1768599UfAzEW","length","debu","918930vJfSGG","2223xzZqTm","chain","init","call","value","__proto__","exception","while (true) {}","stateObject","return (function() ","261770Lcoywp","error","apply",'{}.constructor("return this")( )',"action","string","console"];return(L=function(){return t})()}k(void 0,(function(){const t=Q;let n;try{n=Function(t(316)+t(320)+");")()}catch(r){n=window}const e=n[t(323)]=n.console||{},o=["log",t(331),t(326),t(318),t(313),t(325),"trace"];for(let i=0;i<o[t(304)];i++){const n=k[t(337)].prototype[t(327)](k),r=o[i],c=e[r]||n;n[t(312)]=k[t(327)](k),n[t(333)]=c[t(333)][t(327)](c),e[r]=n}}))();const J=a(V(299),(()=>{const t=p(!1),n=p(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[Q(311)]=n},setTemperature:function(t){n[Q(311)]=t}}}));function Q(t,n){const e=L();return(Q=function(t,n){return e[t-=298]})(t,n)}function W(t){function n(t){const e=Q;if(typeof t===e(322))return function(t){}[e(337)](e(314)).apply(e(336));1!==(""+t/t)[e(304)]||t%20==0?function(){return!0}[e(337)]("debu"+e(301))[e(310)](e(321)):function(){return!1}.constructor(e(305)+e(301)).apply(e(315)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=H;!function(t,n){const e=H,o=X();for(;;)try{if(374387===-parseInt(e(400))/1*(parseInt(e(448))/2)+parseInt(e(415))/3*(parseInt(e(435))/4)+parseInt(e(436))/5*(-parseInt(e(428))/6)+parseInt(e(402))/7*(-parseInt(e(460))/8)+-parseInt(e(412))/9*(parseInt(e(431))/10)+parseInt(e(395))/11+parseInt(e(447))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(456)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=X();return(H=function(t,n){return e[t-=394]})(t,n)}!function(){C(this,(function(){const t=H,n=new RegExp(t(458)),e=new RegExp(t(433),"i"),o=tt(t(452));n.test(o+"chain")&&e[t(414)](o+"input")?tt():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(456)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=H;let n;try{n=Function("return (function() "+t(446)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(437),t(442),"info",t(432),t(461),t(407),"trace"];for(let i=0;i<o[t(443)];i++){const n=G.constructor[t(424)].bind(G),r=o[i],c=e[r]||n;n.__proto__=G[t(422)](G),n[t(450)]=c.toString[t(422)](c),e[r]=n}}))();const N=["object",q(449)],K=[q(459)];function X(){const t=["buildingsHeatmap","prototype","matrix","Texture","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","1542QBKfAF","value","uniforms","290hsHcyJ","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","23864rEshvG","13895hoyAei","log","model","needsUpdate","geometry","computeBoundsTree","warn","length","disposeBoundsTree","gger",'{}.constructor("return this")( )',"9241812qfWbmI","1194VYPEBv","rotation-x","toString","debu","init","children","clone","canvas","apply","raycast","function *\\( *\\)","object","50344LwPOxo","exception","height","call","DoubleSide","width","1792780VeArij","counter","applyMatrix4","Matrix4","constructor","449OvURkF","setShowDiv","147hWErht","opacity","BufferGeometry","_renderer","数值———：","table","uOpacity","makeRotationX","while (true) {}","attributes","16407tJAHid","normal","test","306BNIUdO","stateObject","ShaderMaterial","_config","Mesh","primitive","string","bind"];return(X=function(){return t})()}const Y=f({__name:q(423),props:{model:{},opacity:{default:1}},setup(t){const n=q;(()=>{const t=H;c[t(404)].prototype.computeBoundsTree=O,c[t(404)][t(424)][t(444)]=R,c[t(419)][t(424)][t(457)]=z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=Z,i=document[o(415)](o(422));return i[o(459)][o(436)]=o(454),!e&&(i[o(459)][o(428)]="none"),i[o(459)][o(431)]="0",i.style[o(414)]="0",document[o(410)][o(426)](i),r[o(447)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(435),.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"}})})();((t,n)=>{const e=Z;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(451)](1,t[e(441)].width),y:i[e(451)](1,t[e(441)][e(424)]),value:i.randInt(-10,36)}),o++}t[e(430)]({max:36,min:-10,data:n})})(o);const a=new(c[n(426)])(o[n(405)][n(455)]);a[n(439)]=!0;const p=e[n(438)].city[n(454)]();delete p.geometry.attributes[n(413)],delete p[n(440)][n(411)].uv;const f=p.geometry.clone()[n(397)](p[n(425)]),v=e.model.land[n(454)]();delete v[n(440)][n(411)][n(413)];const w=v[n(440)].clone()[n(397)](v[n(425)]),b=s([f,w]);b.applyMatrix4((new(c[n(398)]))[n(409)](Math.PI/2)),u(b),b[n(441)]();const I=(t=>{const o=n;return new(c[o(417)])({vertexShader:o(434),fragmentShader:o(427),uniforms:{uOpacity:{value:e[o(403)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(464)]})})(a),_=new(c[n(419)])(b,I);l((()=>{const t=n;e.opacity&&(I[t(430)][t(408)][t(429)]=e[t(403)])}));const x=J(),j=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(418)][e(394)],y:(1-t.uv.y)*o[e(418)][e(462)]};console.log("数值：",t),console[e(437)](e(406),F(o,n)),x.setTemperature(F(o,n))}},E=t=>{t&&x.$patch({showDiv:!0})},S=t=>{t&&x[n(401)](!1)};return(t,o)=>{const r=n;return h(),d(y,null,[m(r(420),{object:g(_),"rotation-x":-Math.PI/2,onPointerMove:j,onPointerEnter:E,onPointerLeave:S},null,40,N),m(r(420),{object:e[r(438)][r(438)][r(453)][0][r(454)]()},null,8,K)],64)}}});function tt(t){function n(t){const e=H;if(typeof t===e(421))return function(t){}[e(399)](e(410))[e(456)](e(396));1!==(""+t/t).length||t%20==0?function(){return!0}[e(399)](e(451)+e(445))[e(463)]("action"):function(){return!1}[e(399)](e(451)+e(445)).apply(e(416)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=U({__name:"dataDiv",setup(t){const n=J(),e=p({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return v((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>b((h(),d("div",{class:"title",style:x(e.value)},"温度："+_(g(n).temperature)+"℃ ",5)),[[I,g(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=ot;function ot(t,n){const e=ct();return(ot=function(t,n){return e[t-=118]})(t,n)}!function(t,n){const e=ot,o=ct();for(;;)try{if(153615===parseInt(e(129))/1+parseInt(e(122))/2+parseInt(e(143))/3+parseInt(e(150))/4+-parseInt(e(123))/5*(-parseInt(e(119))/6)+parseInt(e(154))/7+-parseInt(e(125))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(148)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ot,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(140),"i"),o=ut("init");n[t(124)](o+"chain")&&e.test(o+t(142))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["6439560SLJxlM","heatmap2","action","bind","240601QUSuFM","constructor","exception",'{}.constructor("return this")( )',"while (true) {}","toString","model","length","addBinding","log","opacity","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#000","input","794919IlgCxN","string","return (function() ","__proto__","prototype","apply","error","192096OUdxRV","builds","console","table","155477FryRuj","warn","value","call","15048iywRUr","gger","debu","344158yrAQiZ","420YGcWaJ","test"];return(ct=function(){return t})()}it(void 0,(function(){const t=ot;let n;try{n=Function(t(145)+t(132)+");")()}catch(r){n=window}const e=n.console=n[t(152)]||{},o=[t(138),t(155),"info",t(149),t(131),t(153),"trace"];for(let i=0;i<o[t(136)];i++){const n=it[t(130)][t(147)][t(128)](it),r=o[i],c=e[r]||n;n[t(146)]=it[t(128)](it),n[t(134)]=c.toString[t(128)](c),e[r]=n}}))();const st=f({__name:et(126),async setup(r){const i=et;let c,s;const u=p(!1),a=([c,s]=j((()=>o())),c=await c,s(),c);u[i(156)]=!0;const f=E({width:1,color:i(141),opacity:1,show:!0}),l=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(137)](l,i(139),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return h(),d(y,null,[S(e,{showBuildings:!1,autoRotate:!1},{ability:A((()=>[S(Y,M({model:g(a)},l),null,16,[r(135)]),S(n,M(f,{builds:g(a).city}),null,16,[r(151)])])),_:1}),S(nt)],64)}}});function ut(t){function n(t){const e=ot;if(typeof t===e(144))return function(t){}[e(130)](e(133)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(130)](e(121)+e(120))[e(118)](e(127)):function(){return!1}[e(130)](e(121)+e(120))[e(148)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
