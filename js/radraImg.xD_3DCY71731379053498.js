import{b as t,m as n,U as e}from"./@tresjs.bLKO3xyw1731379053498.js";import{_ as o,Y as r,a0 as i}from"./three.bXjbKLxC1731379053498.js";import{_ as s,c}from"./three-tile.aZFEED7i1731379053498.js";import{_ as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.jSZncxXp1731379053498.js";import{d as u,a6 as p,w as l,o as f,D as m,J as g,u as h,r as d,b as y,f as I,g as b,j as w,m as _,al as j,F as v,e as x,aj as z,ak as S}from"./@vue.-THQH3GC1731379053498.js";import{P as F}from"./tweakpane.yHWGBmom1731379053498.js";import{_ as M}from"./informationDiv.l-sDNwGn1731379053498.js";import"./@vueuse.DWZrQ1Sl1731379053498.js";import"./@fesjs.vI9WP6bH1731379053498.js";import"./vue-router.ZGnIDLu91731379053498.js";import"./lodash-es.kYt-_xTG1731379053498.js";import"./@qlin.yHhFDldE1731379053498.js";import"./pinia.ZMhAaG0S1731379053498.js";import"./vue-demi.C4xddsk91731379053498.js";import"./@floating-ui.BPbuo5Gx1731379053498.js";import"./@juggle.7yjBMqoW1731379053498.js";const k=A;!function(t,n){const e=A,o=P();for(;;)try{if(412977===-parseInt(e(375))/1*(-parseInt(e(384))/2)+-parseInt(e(351))/3*(-parseInt(e(395))/4)+-parseInt(e(366))/5+-parseInt(e(387))/6+-parseInt(e(392))/7*(parseInt(e(358))/8)+parseInt(e(364))/9*(-parseInt(e(404))/10)+parseInt(e(374))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=P();return(A=function(t,n){return e[t-=350]})(t,n)}!function(){T(this,(function(){const t=A,n=new RegExp(t(356)),e=new RegExp(t(407),"i"),o=N("init");n[t(371)](o+t(376))&&e.test(o+"input")?N():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=A;let n;try{n=Function(t(368)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(408)]=n.console||{},o=["log",t(386),"info",t(383),t(352),t(394),t(361)];for(let i=0;i<o.length;i++){const n=D[t(379)][t(391)].bind(D),r=o[i],s=e[r]||n;n.__proto__=D.bind(D),n[t(373)]=s[t(373)][t(350)](s),e[r]=n}}))();const B=["position"],E=[k(355),k(363),k(388),k(360)];function P(){const t=["position-y","trace","opacity","material","30609zuNjJX","geo2pos","4010295FAPODj","applyMatrix4","return (function() ","matrix","map","test","counter","toString","6216353LgNLFW","134pvMekz","chain","while (true) {}","vertexShader","constructor","TresPlaneGeometry","action","scaleImg","error","12094xTyRtk","uniform sampler2D map;\n\t","warn","1619742WrPzww","rotateX","color","Vector3","prototype","49rgVuzO","gger","table","24kbbUYF","length","debu","call","string","#include <displacementmap_vertex>","push","TresGroup","radraImgShow","200gtXwHT","apply","height","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","bind","90126VMWovp","exception","replace","log","scale","function *\\( *\\)","needsUpdate","3040tdxmcp","MeshPhongMaterial"];return(P=function(){return t})()}const O=u({__name:k(403),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=k;let s,c;const u=n,d=new(o[e(359)])({displacementMap:new r,transparent:!0,side:i,opacity:u[e(362)],displacementScale:.5,displacementBias:0});d.onBeforeCompile=t=>{const n=e;t[n(378)]=n(385)+t[n(378)],t[n(378)]=t.vertexShader[n(353)](n(400),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const y=u[e(370)][e(365)](new(o[e(390)])(105,34,0));y[e(367)](u[e(370)][e(369)]);const I=a[e(382)](u[e(370)],{x:67,y:11},{x:140,y:57},u[e(406)]),b=[];for(let t=0;t<9;t++)b[e(401)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+"40.png");let w=0;const _=([s,c]=p((()=>t(b))),s=await s,c(),s);d.map=_[w],l((()=>[u[e(389)],u[e(362)]]),(([t,n])=>{d.opacity=n}));let j=null,v=!1;return v?(clearInterval(j),j=null,v=!1):(j=setInterval((()=>{const t=A;w=w<b[t(396)]-1?w+1:0,d[t(370)]=_[w],d[t(357)]=!0,console[t(354)](w)}),1e3),v=!0),(t,n)=>{const o=e;return f(),m(o(402),{position:[...h(y)]},[g("TresMesh",{scale:[h(I).x,h(I).y,t.height],material:h(d),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(406)]/5},n[0]||(n[0]=[g(o(380),{args:[1,1,529,420]},null,-1)]),8,E)],8,B)}}});function N(t){function n(t){const e=A;if(typeof t===e(399))return function(t){}[e(379)](e(377)).apply(e(372));1!==(""+t/t)[e(396)]||t%20==0?function(){return!0}[e(379)](e(397)+e(393))[e(398)](e(381)):function(){return!1}.constructor(e(397)+"gger")[e(405)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=W;!function(t,n){const e=W,o=Z();for(;;)try{if(178487===-parseInt(e(538))/1*(-parseInt(e(512))/2)+parseInt(e(504))/3*(-parseInt(e(519))/4)+-parseInt(e(541))/5*(parseInt(e(499))/6)+-parseInt(e(490))/7*(-parseInt(e(540))/8)+-parseInt(e(486))/9+parseInt(e(537))/10*(-parseInt(e(503))/11)+parseInt(e(496))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=W,n=new RegExp(t(481)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(t(516));n[t(508)](o+t(489))&&e[t(508)](o+"input")?$():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(544)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["copy","image","log","length","position","rotateX","call","debu","target","value","constructor","counter","toString","while (true) {}","showLocation","45930sbgBAz","1DbJMeN","map","1328EPyojj","15QnjFKi","MapBoxSource","error","apply","addBinding","function *\\( *\\)","mapBoxShow3","plugin","透明度","Vector3","625941nMikNi","info","warn","chain","4501EOvcrw","string","stateObject","action","localToWorld","tdLight","4531764HVzTOv","opacity","object","267474JFByAx",'{}.constructor("return this")( )',"pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","exception","341gjzSOz","36591eZyiBf","console","primitive","mapbox.satellite","test","height","__proto__","table","543028ECFkgZ","terrain-rgb","mapbox.terrain-rgb","gger","init","bind","controlsEvents","76AOIViv","geo2pos","TresDirectionalLight"];return(Z=function(){return t})()}V(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function("return (function() "+t(500)+");")()}catch(e){n=window}return n}(),e=n[t(505)]=n[t(505)]||{},o=[t(524),t(488),t(487),t(543),t(502),t(511),"trace"];for(let r=0;r<o[t(525)];r++){const n=V[t(532)].prototype[t(517)](V),i=o[r],s=e[i]||n;n[t(510)]=V[t(517)](V),n.toString=s[t(534)][t(517)](s),e[i]=n}}))();const J=[L(498)];function W(t,n){const e=Z();return(W=function(t,n){return e[t-=481]})(t,n)}const C=L(501),X=u({__name:L(482),setup(t){const e=L,r=d({height:200,opacity:1}),i=new F({title:"参数"});i[e(545)](r,e(509),{label:"高度",min:10,max:300,step:1}),i.addBinding(r,e(497),{label:e(484),min:0,max:1,step:.1});const u=new(s[e(483)][e(542)])({token:C,dataType:e(523),style:e(507)}),p=new(s[e(483)][e(542)])({token:C,dataType:e(513),style:e(514),maxLevel:15}),x=new c({imgSource:u,demSource:p,lon0:90,minLevel:2,maxLevel:20});x[e(527)](-Math.PI/2);const z=new(o[e(485)])(105,34,0),S=new(o[e(485)])(110,0,1e4),M=x[e(494)](x.geo2pos(z)),k=x[e(494)](x[e(520)](S)),T=y(),{camera:A,controls:D,scene:B,renderer:E}=n();return A[e(531)]&&A.value[e(526)][e(522)](k),l((()=>D.value),(t=>{const n=e;t&&(t[n(530)].copy(M),a[n(518)](t,A.value,B[n(531)]))})),l((()=>T[e(531)]),(t=>{const n=e;t&&t.target.position[n(522)](M)})),a[e(536)](A[e(531)],E[e(531)].domElement,x),(t,n)=>{const o=e;return f(),m(v,null,[g(o(521),{ref_key:o(495),ref:T,position:[0,2e3,1e3],intensity:1},null,512),g(o(506),{object:h(x)},null,8,J),(f(),I(j,null,{default:b((()=>[w(O,_({map:h(x)},r),null,16,[o(539)])])),_:1}))],64)}}});function $(t){function n(t){const e=W;if(typeof t===e(491))return function(t){}.constructor(e(535))[e(544)](e(533));1!==(""+t/t).length||t%20==0?function(){return!0}[e(532)]("debu"+e(515))[e(528)](e(493)):function(){return!1}.constructor(e(529)+e(515))[e(544)](e(492)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function G(){const t=["init","69VOXbsf","highp","warn","error","20575twrIjI","TresAmbientLight","exception","return (function() ","6510184qNPEAh","while (true) {}","5946514jJVzvd","constructor","action","test","apply","1144885zKFiBM","toString","function *\\( *\\)","3315090DFbygn","console","TresCanvas","__proto__","input","34994eSaNGc","bind","call","stateObject","length","debu","info","9210750HdmFMn","radraImg","TresPerspectiveCamera","9ANBqJz","counter","table","prototype","136FDnCSp","log"];return(G=function(){return t})()}function H(t,n){const e=G();return(H=function(t,n){return e[t-=226]})(t,n)}const U=H;!function(t,n){const e=H,o=G();for(;;)try{if(624429===-parseInt(e(244))/1+-parseInt(e(252))/2*(parseInt(e(229))/3)+-parseInt(e(226))/4*(-parseInt(e(233))/5)+-parseInt(e(247))/6+parseInt(e(239))/7+parseInt(e(237))/8+parseInt(e(262))/9*(parseInt(e(259))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=H,n=new RegExp(t(246)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=K(t(228));n[t(242)](o+"chain")&&e[t(242)](o+t(251))?K():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=H;let n;try{n=Function(t(236)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(248)]=n[t(248)]||{},o=[t(227),t(231),t(258),t(232),t(235),t(264),"trace"];for(let i=0;i<o[t(256)];i++){const n=Q.constructor[t(265)].bind(Q),r=o[i],s=e[r]||n;n[t(250)]=Q[t(253)](Q),n[t(245)]=s[t(245)][t(253)](s),e[r]=n}}))();const Y=u({__name:U(260),setup(t){const n=U,o=d({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(230)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=x(s(249));return f(),m(v,null,[w(c,_(o,{"window-size":""}),{default:b((()=>[i[0]||(i[0]=g(s(261),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),w(h(e),z(S(r)),null,16),i[1]||(i[1]=g(s(234),{intensity:1},null,-1)),w(X)])),_:1},16),w(M)],64)}}});function K(t){function n(t){const e=H;if("string"==typeof t)return function(t){}[e(240)](e(238))[e(243)](e(263));1!==(""+t/t)[e(256)]||t%20==0?function(){return!0}[e(240)](e(257)+"gger")[e(254)](e(241)):function(){return!1}[e(240)](e(257)+"gger").apply(e(255)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
