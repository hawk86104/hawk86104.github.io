import{bR as t,a6 as n,U as o,C as r,Z as e}from"./three.6E5muTWJ1722409645193.js";import{N as a}from"./@tresjs.qmCJ68Vp1722409645193.js";import{d as s,b as c,a4 as i,w as u,o as l,D as f,J as p,aj as h,ak as d}from"./@vue.9bHx4gg21722409645193.js";function g(t,n){const o=_();return(g=function(t,n){return o[t-=456]})(t,n)}!function(t,n){const o=g,r=_();for(;;)try{if(773852===-parseInt(o(456))/1*(-parseInt(o(461))/2)+parseInt(o(498))/3*(-parseInt(o(462))/4)+parseInt(o(496))/5*(parseInt(o(478))/6)+parseInt(o(467))/7+-parseInt(o(484))/8+parseInt(o(487))/9*(parseInt(o(466))/10)+-parseInt(o(457))/11*(parseInt(o(504))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=g,n=new RegExp(t(483)),o=new RegExp(t(459),"i"),r=x(t(474));n[t(497)](r+t(491))&&o[t(497)](r+t(469))?x():r("0")}))()}();const v=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(464)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=g;let n;try{n=Function(t(503)+t(460)+");")()}catch(e){n=window}const o=n[t(492)]=n[t(492)]||{},r=[t(511),t(494),"info",t(501),t(463),t(475),t(477)];for(let a=0;a<r[t(481)];a++){const n=v.constructor[t(506)].bind(v),e=r[a],s=o[e]||n;n[t(485)]=v[t(508)](v),n.toString=s[t(468)][t(508)](s),o[e]=n}}))();const w=()=>{const o=g;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(505)]+"\n      \t"+n[o(495)].bsdfs+o(480)+n[o(495)][o(458)]+"\n       void main() {\n\t\t\t\t\t"+t[o(470)]+o(465)+t.defaultnormal_vertex+"\n          "+n[o(495)].begin_vertex+"\n          "+n[o(495)][o(499)]+o(465)+t[o(507)]+o(465)+n[o(495)][o(489)]+o(500)};function _(){const t=["exception","apply","\n          ","1080HHUUYg","10717532tpREGi","toString","input","beginnormal_vertex","\n\t ","string","packing","init","table","while (true) {}","trace","1307916mTmLHQ","debu","\n      \t","length","lights_pars_begin","function *\\( *\\)","7891000RTbghU","__proto__","stateObject","82647nXkrnq","gger","shadowmap_vertex","counter","chain","console","bsdfs","warn","ShaderChunk","20taWwJR","test","186qtUyaj","project_vertex","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","error","action","return (function() ","12bAWYgW","common","prototype","worldpos_vertex","bind","constructor","shadowmask_pars_fragment","log","1hDPFjN","13727417eHsqdp","shadowmap_pars_vertex","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"872136EktBvo","53076iUpyQw"];return(_=function(){return t})()}const b=()=>{const o=g;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[o(505)]+o(471)+t[o(473)]+o(471)+n[o(495)][o(493)]+o(471)+t[o(482)]+o(471)+n[o(495)].shadowmap_pars_fragment+"\n\t "+t[o(510)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function x(t){function n(t){const o=g;if(typeof t===o(472))return function(t){}[o(509)](o(476)).apply(o(490));1!==(""+t/t)[o(481)]||t%20==0?function(){return!0}[o(509)](o(479)+o(488)).call(o(502)):function(){return!1}[o(509)](o(479)+"gger")[o(464)](o(486)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const I=S;!function(t,n){const o=S,r=E();for(;;)try{if(427794===parseInt(o(261))/1+parseInt(o(249))/2*(-parseInt(o(294))/3)+parseInt(o(262))/4+-parseInt(o(284))/5*(parseInt(o(288))/6)+-parseInt(o(276))/7*(parseInt(o(279))/8)+-parseInt(o(281))/9*(parseInt(o(268))/10)+parseInt(o(298))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(t,n){const o=E();return(S=function(t,n){return o[t-=245]})(t,n)}!function(){y(this,(function(){const t=S,n=new RegExp(t(300)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=U("init");n[t(278)](r+t(275))&&o[t(278)](r+"input")?U():r("0")}))()}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(250)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();C(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(283)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n.console=n[t(253)]||{},r=["log",t(259),t(296),t(247),t(299),"table",t(252)];for(let e=0;e<r[t(277)];e++){const n=C[t(248)][t(256)][t(289)](C),a=r[e],s=o[a]||n;n[t(270)]=C[t(289)](C),n.toString=s.toString.bind(s),o[a]=n}}))();const j=[I(263)],k=[I(265)];function E(){const t=["constructor","2lXPCOn","apply","uShadowColor","trace","console","action","whiteFloorMesh","prototype","wrapT","size","warn","debu","326518NcjSVD","1687116kwEGlW","rotation-x","while (true) {}","args","UniformsLib","#999","8209070HgTbvl","color","__proto__","counter","uniforms","string","edge","chain","203049XQlBNs","length","test","8YiOalB","gger","9WaSZol","merge","return (function() ","231815KCwVAo","call","RepeatWrapping","TresPlaneGeometry","90akrZRa","bind","value","#990","fEdge","TresMesh","1608717sKzXJx","stateObject","info","uColor","19372045EkFbII","exception","function *\\( *\\)","Color","shadowColor","error"];return(E=function(){return t})()}const T=s({__name:I(255),props:{size:{default:[20,20]},color:{default:I(291)},shadowColor:{default:I(267)},edge:{default:.35}},async setup(t){const s=I;let g,m;const v=t,_=c(),{map:x}=([g,m]=i((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);x.wrapS=x[s(257)]=n[s(286)];const y={uniforms:o[s(282)]([n[s(266)].lights,{uTexture:{type:"t",value:x},uColor:{value:new r(v[s(269)])},uShadowColor:{value:new(n[s(245)])(v[s(246)])},fEdge:{type:"f",value:v[s(274)]}}]),side:e,vertexShader:w(),fragmentShader:b(),lights:!0,transparent:!0};return u((()=>v.edge),(t=>{const n=s;y[n(272)][n(292)][n(290)]=t})),u((()=>v.color),(t=>{const n=s;y[n(272)][n(297)][n(290)]=new r(v[n(269)])})),u((()=>v[s(246)]),(t=>{const o=s;y[o(272)][o(251)][o(290)]=new(n[o(245)])(v.shadowColor)})),(t,n)=>{const o=s;return l(),f(o(293),{ref_key:"tmRef",ref:_,"rotation-x":-Math.PI/2},[p(o(287),{args:v[o(258)]},null,8,k),p("TresShaderMaterial",h(d(y)),null,16)],8,j)}}});function U(t){function n(t){const o=S;if(typeof t===o(273))return function(t){}.constructor(o(264))[o(250)](o(271));1!==(""+t/t)[o(277)]||t%20==0?function(){return!0}.constructor(o(260)+o(280))[o(285)](o(254)):function(){return!1}.constructor("debu"+o(280)).apply(o(295)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
