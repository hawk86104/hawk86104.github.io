import"./index.ehJwyQ8v1753233172036.js";import{m as t,e,b as o,k as n,a as r}from"./@tresjs.C_lUIoBy1753233172036.js";import{_ as c}from"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.B3DwJG0h1753233172036.js";import{_ as W}from"./skyBoxAmesh.vue_vue_type_script_setup_true_lang.BE8Ih46k1753233172036.js";import{P as i}from"./tweakpane.C0HtAJSg1753233172036.js";import{T as a,m as d,u as s,ad as l,n as u,aN as f,aH as k,t as m,C as h,V as p,a as v,l as C,aa as S,Y as x}from"./three.CcAUWIwc1753233172036.js";import{d as P,aa as R,a2 as O,w as b,G as g,o as w,u as B,r as F,h as N,j as y,f as G,I as Q,e as I,a5 as H,a7 as J,a8 as _,m as M,F as q}from"./@vue.DwSifnVs1753233172036.js";import{_ as L}from"./randomLoading.vue_vue_type_script_setup_true_lang.DQJaVaP-1753233172036.js";import"./utils.BqiPcXqU1753233172036.js";import"./@fesjs.CJmphC0G1753233172036.js";import"./vue-router.0le_2Tu71753233172036.js";import"./lodash-es.C7pWAXPe1753233172036.js";import"./@qlin.q6OWdsQV1753233172036.js";import"./pinia.ia5100Wx1753233172036.js";import"./@babel.BPq7uOAK1753233172036.js";import"./@floating-ui.BFjFSAYt1753233172036.js";import"./@juggle.CcBCnTIR1753233172036.js";import"./index.DBmzea2c1753233172036.js";import"./three-mesh-ui.module.BS8L3_9E1753233172036.js";import"./postprocessing.BWGCgD611753233172036.js";import"./@vueuse.35KRNqxK1753233172036.js";import"./whiteFloor.BMrBB-CW1753233172036.js";import"./starLoading.PFMVYWAP1753233172036.js";import"./cssLoaders.4Dzr9WTU1753233172036.js";import"./bubbleLoading.7uib_EEo1753233172036.js";import"./yangyangLoading.BTuUUcXb1753233172036.js";function V(){var t=["ig/dObZcHtNdV0rfW7LKW7W/Dh9HW4yOWOu","nmkxrhyNWPedWQu","rmk2ig07","vCocWOZcOCkkWPldJ8o0","i0WAlCo2jsldUW","bSobjCkDWO4ndCkxDa","amowkmklWPevaq","W4/dQvDPWRm","D8koh0m","uSkiC8obW44YlmkctYet","WP41WRffqW","n8kvc1FcN8oBW7VcVWhdQZW","zs8rW6CX","iSoaWRamWRVdI27cOCkcW6NcIG","j8kzaeRcJG","kSobW6zdW5JdTelcRa","W6K1ra","nf7dUmoJtZiddG","WQNcKmkSnLG","W5i1p8koWQK","rHtdQSoXW6C","e8k0W67cJmo8faSA","DCo9W4r2WPO","zmkOW7u/fCkPW6BcOCod","ymojv2JcMCo7W4dcUae","W6iieHi","cdvBELhdG8k3ga","zINdMg3cKgi","W63cQSk+WPGX","WPHoB8o2W6frWPdcNSo5W6pcQCkx","jmopdmozcmo2zSkzfG","rSooW4KZcrGiWPf3W5Tue3fhWR0efeqKW5KAW5ikW68chSkFWR0sW74pWQLCg05hhCkOWPxdGq","oa7dNmkfymk1hSk+u8ouEx3cJG","WPnLkvpcMq","DwFcThbNDmkrW5aNAa","W4PWW45xWPRcGCoTWQ8hyr3cQCoG","ELZcJCozpq","WQeCbWi5WPXbWRtdS2NcLW","W5BdVthdLSoQ","W6q+rW","WPxdH8o4WRuPWQOCW4FcImku","dHDHWOK","n3JdPGBcHq","xhruxSoAe8okWOeUibnJW58N","Fmk7cCkm","u8kxWPxcHCoRk8oBWQymW7ddLtpdRSoZcCoWd8kmkCkr","WPCKWPqcW5BdMa","W4Ogk8kSWQO","A8ksW7C+cSk4W6RcISo1emkeWQVcJur1C8kx","WQBcGCkaymop","sSkhW7ZdK8kyF8kFW7e","fbSVW6H7","smo6W6LpWPm","rHldU8onW6D1tmo2nSoSr2VcNCoAWRW","W5ddGSoej8kbWOnccKVdVtdcGW","gSozW7NdIG","FKrEWQaxW6VcSZBcVK/cR8kw","zmkqW7DB","WPGqWPHXBW","ExRcOmkZmCoJeLddUmo1tZ/cUWFdIehcUSovWO/cPxpcQGXtdM9De8kUbmo/W73dUhr2dSoPWOZcJmoy","WQ9SWQtdTu84BCoK","W64XW4tcSqK/ASopWOVcHhO","lsFdJ8omDCogn3NdNSoJwq","W5qqtXL+pMlcOCkXlSoFemkQwCk7W5ORW6CRgmkEf8klz8khW6XLzmkgcZxcPW","W5ddG8odk8kbW7zjdgxdNI0","C8kYe8kq","W5BcKCk5W7mjWQXnWORcQSkjf8kuDCkRW5ZcV8oRuHS","W5BdPHBdHSkMeIS","WQSDbXqKWRHb","ybhcOCk3hxTnsu3dSdzjWQpcI1VcRG0pimo0","b1JdPcZcJq","BftcHSo8hmkvWR08ymoAWOKI","WRNdQmo9W4r8wSkIzSoOWOG8","WPKOWPqb","WPVcTqe","yZNdMmok","nSoudCoj","WOhcM8kDDG","WQ/cGXvdxq","eCkhW6JcT8om","WPnRgeVcJSo+imo8","imosmmozfCoRCCko","yN1bx8oncmoMWOW","WROvWQzxB8oMkW","W7mRW5/cRXz4kmkQW5FdTYr2","DI3dLhRcGwS","Ae/cMmoBiq","WPupWQrluq","CSokW7CrhGSIWRnSW5jjcdaw","leqala","BhpcKCkrjSoWege","l8ostrT8W7FcH00AW6pcUCk9wq","vSkwW7eOcmk0W6JcKG","e8olkCkmWPenhCkiFW","ySoGW4TMWOTnaWWeW6bQ","Emo4WPlcT8kaWPtdHCozW58","nSkfW7NcH8o4bbOlW7LGW4nnifBdM8kAW48","W6CZtCkq","fWyMW5Tt","WP7dUh/dOSkGdJBdMSo/WRRcVh8GnH3dNWtcP3FdSSozBmk0W5FdIYJdPvnvWPW2W7e","awNdSqFcKG","FCk2dCkDimk3","zNjBx8onkCoIWOK9lru","W4FcM8kJW7upWRayW4hcUmktcW","lCk0j8k/o8kKuq","zf7cNmoskSoTs8kr","BCkYaCkkmCk+","c8kfW7JcNa","zI8bW6u","zCoiurpdN8kDWRZcTr3dQa1pBa","W4hdKMLVWPS","mgpdUG0","e8kdBwNcKfZcHCkHemo9","v8kyW6i","kWVdOSk9wmonWPO3","WPBdOcxdK8kQdIhdI8o/WPVcVNKOiue","zmo3W4zWWO9lhWaE","tmoscJjIW4ngW7FdUqxcQaVcSvBcTH/dL2dcUmkBWPNcKXv+W4GciqJcGmkmW7xcIL9mzmkFW4tcQxDsWORdPGWLrmobWOjZWPvHD8kuWRXtW48IWO7cRHBcOmk6zmoKE8oCz8ofW4NdHtfZW4y6WRC0D3qlW6ucWQeJWPlcRSoCrh9hWQPbpmkKWRqzWQZdMCoqW7upW4boCLNcOSoCW5vRW78WjGmRWPdcMu/cLXT/W6iaW5eLWP9ZWQibWQC5uIjzWOLpa24PsmkFWO/cUx7cTrNcJ8kgbmkDg8ofxatdM8k4WQFdMajwwdavcvCadSoxW5ldHajcWONcKCkzWQBdNNr0BHLuWQ4"];return(V=function(){return t})()}function K(t,e,o,n,r){return z(r- -90,t)}!function(){function t(t,e,o,n,r){return z(r-390,n)}function e(t,e,o,n,r){return z(n- -160,o)}function o(t,e,o,n,r){return z(t-380,n)}var n=V();for(;;)try{if(158845===parseInt(e(0,0,"MV@N",227))/1+-parseInt(t(0,0,0,"vaXl",752))/2*(parseInt(e(0,0,"2k38",277))/3)+-parseInt(e(0,0,"MV@N",237))/4*(parseInt(e(0,0,"cPM4",188))/5)+parseInt(z(-480- -848,"LGeK"))/6+-parseInt(t(0,0,0,"(1g^",814))/7+-parseInt(e(0,0,"3b5#",234))/8*(-parseInt(o(737,0,0,"aX9F"))/9)+-parseInt(o(726,0,0,"cPM4"))/10*(parseInt(e(0,0,"5gO$",207))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}();var j,T=(j=!0,function(t,e){function o(t,e,o,n,r){return z(o- -869,e)}function n(t,e,o,n,r){return z(o- -157,e)}function r(t,e,o,n,r){return z(n-716,o)}function c(t,e,o,n,r){return z(t- -221,n)}if(c(182,0,0,"vADw")===o(0,"!^l2",-458)){var W=j?function(){function c(t,e,n,r,c){return o(0,r,t-777)}if(n(0,"MV@N",225)===c(292,0,0,"eab*")){var W=_0xe3795a?function(){if(_0x30fdd8){var t=_0x4650ea[(e="vaXl",o=1064,c(o-776,0,0,e))](_0x3860a6,arguments);return _0x524e39=null,t}var e,o}:function(){};return _0x50916a=!1,W}if(e){if(c(339,0,0,"eab*")===o(0,"jXAU",-478)){var i=e[(d="m]aM",s=-277,r(0,0,d,s- -1354))](t,arguments);return e=null,i}var a=_0x5d7cfa[c(327,0,0,"!MuM")](_0x15df70,arguments);return _0x40242a=null,a}var d,s}:function(){};return j=!1,W}var i,a,d=_0xa8ed51[n(0,"M5^H",279)][c(142,0,0,"%rrP")][r(0,0,"LGeK",1122)](_0x5a7484),s=_0x56495a[_0x5b95a1],l=_0x369996[s]||d;d.__proto__=_0x1bdea5[n(0,"(!Wr",273)](_0x569c99),d[(i="PWau",a=244,z(a- -106,i))]=l.toString.bind(l),_0x4f9bbf[s]=d})(void 0,(function(){function t(t,e,o,n,r){return z(r- -537,t)}return T[(n="xrAc",r=1086,z(r-639,n))]().search("(((.+)+)+)+$")[t("XZ[#",0,0,0,-178)]()[t("%2$O",0,0,0,-110)](T)[(e="2k38",o=-266,z(o- -705,e))]("(((.+)+)+)+$");var e,o,n,r}));function z(t,e){var o=V();return z=function(e,n){var r=o[e-=333];if(void 0===z.QcwScK){var c=function(t){for(var e,o,n="",r="",W=n+c,i=0,a=0;o=t.charAt(a++);~o&&(e=i%4?64*e+o:o,i++%4)?n+=W.charCodeAt(a+10)-10!=0?String.fromCharCode(255&e>>(-2*i&6)):i:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,s=n.length;d<s;d++)r+="%"+("00"+n.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(r)};z.vSbPTK=function(t,e){var o,n,r=[],W=0,i="";for(t=c(t),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)W=(W+r[n]+e.charCodeAt(n%e.length))%256,o=r[n],r[n]=r[W],r[W]=o;n=0,W=0;for(var a=0;a<t.length;a++)W=(W+r[n=(n+1)%256])%256,o=r[n],r[n]=r[W],r[W]=o,i+=String.fromCharCode(t.charCodeAt(a)^r[(r[n]+r[W])%256]);return i},t=arguments,z.QcwScK=!0}var W=e+o[0],i=t[W];if(i)r=i;else{if(void 0===z.tPqpTZ){var a=function(t){this.kHWMBS=t,this.SfFQHr=[1,0,0],this.xvsHML=function(){return"newState"},this.LunGuJ="\\w+ *\\(\\) *{\\w+ *",this.hCRYIW="['|\"].+['|\"];? *}"};a.prototype.JDTQcV=function(){var t=new RegExp(this.LunGuJ+this.hCRYIW).test(this.xvsHML.toString())?--this.SfFQHr[1]:--this.SfFQHr[0];return this.lFLwpv(t)},a.prototype.lFLwpv=function(t){return Boolean(~t)?this.BppLSa(this.kHWMBS):t},a.prototype.BppLSa=function(t){for(var e=0,o=this.SfFQHr.length;e<o;e++)this.SfFQHr.push(Math.round(Math.random())),o=this.SfFQHr.length;return t(this.SfFQHr[0])},new a(z).JDTQcV(),z.tPqpTZ=!0}r=z.vSbPTK(r,n),t[W]=r}return r},z(t,e)}T();var D,X=(D=!0,function(t,e){function o(t,e,o,n,r){return z(t-198,r)}if(z(335,"(1g^")!==o(541,0,0,0,"jXAU")){var n=D?function(){function n(t,e,n,r,c){return o(e-673,0,0,0,t)}if("CzqUX"===o(618,0,0,0,"jXAU")){var r=_0x34b7ec(n("vADw",1204)+n("Hso8",1303)+");");_0x1d036d=r()}else if(e){var c=e[(W=-84,i="2V3K",o(W- -653,0,0,0,i))](t,arguments);return e=null,c}var W,i}:function(){};return D=!1,n}_0x57ab24=_0xc8deaa});X(void 0,(function(){var t;function e(t,e,o,n,r){return z(r- -170,o)}try{if("smIMd"===n(38,"QAmJ",4,29,11)){var o=_0x588536[r(1056,"*zwa",1032,1007,1004)](_0x12aeaa,arguments);return _0x290236=null,o}t=Function(e(0,0,"M5^H",0,229)+r(1130,"Tl5i",1077,1078,1119)+");")()}catch(S){if(n(-34,"%2$O",-23)===W("vaXl",-379,-364,-439,-399))return _0x28b8b2[a(422,462,529,473,"%rrP")]()[n(-83,"5u29",-48)](r(1034,"eab*",1070))[r(1046,"3b5#",1074)]()[W("aX9F",-437,-405,-378,-407)](_0x247a3e).search(n(60,"3b5#",9));t=window}function n(t,e,o,n,r){return z(o- -408,e)}function r(t,e,o,n,r){return z(o-681,e)}var c=t[e(0,0,"cr2t",0,231)]=t.console||{};function W(t,e,o,n,r){return z(r- -751,t)}var i=[a(519,485,490,505,"JA5b"),e(0,0,"cPM4",0,220),e(0,0,"20^)",0,218),"error",n(0,"BSKR",-70),n(0,"XVDy",-63),r(0,"%2$O",1036)];function a(t,e,o,n,r){return z(n-59,r)}for(var d=0;d<i.length;d++)if("xZRsM"===r(0,"!2E3",1124)){var s=X.constructor.prototype[r(0,"t0)O",1089)](X),l=i[d],u=c[l]||s;s[W("JA5b",0,0,0,-395)]=X[n(0,"vADw",36)](X),s[r(0,"XZ[#",1040)]=u[W("Zpy2",0,0,0,-338)][a(0,0,0,433,"k5X6")](u),c[l]=s}else{var f;try{f=_0x157cfb('return (function() {}.constructor("return this")( ));')()}catch(x){f=_0x16c5a7}for(var k=f[a(0,0,0,475,"jXAU")]=f[n(0,"BSKR",-69)]||{},m=[n(0,"(!Wr",-59),W("XVDy",0,0,0,-310),r(0,"(1g^",1022),e(0,0,"vADw",0,205),a(0,0,0,508,"%2$O"),e(0,0,"Zpy2",0,196),a(0,0,0,414,"%2$O")],h=0;h<m[r(0,"LGeK",1060)];h++){var p=_0x54edf0.constructor[r(0,"BSKR",1107)][a(0,0,0,481,"Hi3X")](_0x1d0c6f),v=m[h],C=k[v]||p;p[e(0,0,"lPHD",0,258)]=_0xaa4525[W("MV@N",0,0,0,-341)](_0x19f234),p.toString=C.toString[e(0,0,"%rrP",0,239)](C),k[v]=p}}}))();class Z{constructor(t,e){function o(t,e,o,n,r){return z(o- -77,r)}var n,r;function c(t,e,o,n,r){return z(t- -732,o)}function W(t,e,o,n,r){return z(n- -635,o)}function i(t,e,o,n,r){return z(t- -6,n)}this[o(0,0,260,0,"Hi3X")]=new(a[o(0,0,299,0,"xAx*")])({uniforms:{uTexture:{type:"t",value:null}},vertexShader:W(-157,-153,"vJVG",-185),fragmentShader:"\n                uniform sampler2D uTexture;\n\n                varying vec2 vUv;\n\n                void main() {\n                    "+(e||i(358,310,342,"h^KY"))+(n=-609,r="20^)",z(n- -987,r)),depthTest:!1,depthWrite:!1}),this[i(392,402,396,"2k38")]=new(a[c(-374,0,"Tl5i")])(new d(2,2),this[o(0,0,361,0,"!MuM")]),this[W(0,0,"5u29",-217)]=new(a[o(0,0,304,0,"JA5b")])(45,window[i(439,481,383,"mypN")]/window[o(0,0,358,0,"xAx*")],1,1e3),this[W(0,0,"GbN(",-212)]=t,this.scene=new(a[i(427,404,457,"vADw")]),this[c(-379,0,"c6Te")][W(0,0,"(!Wr",-263)](this[c(-292,0,"QAmJ")])}[K("2k38",0,0,0,287)](t,e){var o,n,r,c,W,i,a,d;function s(t,e,o,n,r){return K(t,0,0,0,n- -581)}this.renderer[s("c6Te",-237,-240,-285)](e),this[s("xAx*",-243,-220,-256)].uniforms[(a=575,d="QAmJ",K(d,0,0,0,a-311))][(W="!2E3",i=-12,K(W,0,0,0,i- -262))]=t,this[s("lPHD",-372,-333,-335)].render(this[(r=303,c="!MuM",K(c,0,0,0,r-24))],this[(o=284,n="2k38",K(n,0,0,0,o- -60))]),this.renderer[s("Hso8",0,0,-223)](null)}}!function(){function t(t,e,o,n,r){return $(n-583,o)}function e(t,e,o,n,r){return $(t- -261,r)}const o=E();for(;;)try{if(630731===-parseInt(t(0,0,"nAH)",1028))/1*(parseInt($(-87- -512,"ipkj"))/2)+parseInt(t(0,0,"$JsC",959))/3+parseInt(t(0,0,"O7Fy",945))/4+parseInt(t(0,0,"mnav",1046))/5+-parseInt((n=469,r="mnav",$(n- -84,r)))/6+-parseInt(e(227,0,0,0,"sNPM"))/7*(parseInt(e(203,0,0,0,"$F6e"))/8)+parseInt($(1077-557,"RR(O"))/9*(parseInt(t(0,0,"0Oi#",957))/10))break;o.push(o.shift())}catch(c){o.push(o.shift())}var n,r}();const U=function(){let t=!0;return function(e,o){function n(t,e,o,n,r){return $(r- -224,t)}if("edXhS"!==n("mnav",0,0,0,143)){const r=t?function(){function t(t,e,o,r,c){return n(t,0,0,0,c-1011)}function r(t,e,o,r,c){return n(c,0,0,0,e- -19)}function c(t,e,o,r,c){return n(c,0,0,0,o-1081)}function W(t,e,o,r,c){return n(r,0,0,0,o-1134)}if(r(0,199,0,0,"qZDh")!==r(0,186,0,0,"zg*I"))_0x3db86f instanceof _0x47fe07[t("x#71",0,0,0,1306)]&&(_0x23ff1a[r(0,108,0,0,"I0mF")]=this[t("YEwC",0,0,0,1231)]);else if(o){if(W(0,0,1269,"L*7k")!==W(0,0,1281,"$F6e")){const t=o[c(0,0,1279,0,"dc%S")](e,arguments);return o=null,t}{const t=_0x59f7d9[r(0,115,0,0,"HS7v")][c(0,0,1349,0,"da7w")][W(0,0,1296,"$JsC")](_0x4d41da),e=_0x47cb13[_0x4a7713],o=_0x5c9c26[e]||t;t[(i=350,a="Ta]Y",n(a,0,0,0,i-27))]=_0x5171e8.bind(_0xccd7dd),t[W(0,0,1469,"z6zp")]=o.toString[r(0,154,0,0,"0Oi#")](o),_0x2843c3[e]=t}}var i,a}:function(){};return t=!1,r}this.resultBuffer=this.pong}}()(void 0,(function(){function t(t,e,o,n,r){return $(r- -757,n)}function e(t,e,o,n,r){return $(r- -19,e)}return U.toString()[e(0,"^aIJ",0,0,487)](e(0,"$pUq",0,0,424))[t(0,0,0,"Fa@d",-407)]()[t(0,0,0,"z6zp",-409)](U).search($(-467- -928,"El8h"))}));function E(){const t=["eqelFZhcVsjSh8oYite","WRJcKXG","dWFcV29xWOJdNtaYEL0Hba","W7zCm8k1gCo1nq0ZW4G","W5tcTmk9WQxcLZpdHG","W4BcGIDn","W7bOq8ouBH9dWR4","WQPsdq","xuH1rqhcQrxdJJFcJ1rS","aCojiCkIwHtdOsy","W5Gwe0jcyXdcUSo3mZ3dKmo1WRCed8o+d8kvWPqYW5yLF8kxWPrazgHRCI7cSMHpWQ05jmkNrmkrqCoEfb/dSSoTtrjVWPBcSSkelSktW5BcOYpdMmo4WPBcI8kbWOv2oSk9lc7cIColWRCCjKHdW711umo6W7inp0/cKCophqNcJc3dNCoyWPaHpKxdIu07FwpcT8ktrmo+W7vQWPLZcmkAmmkMgSkDWRndWO3dMv7cG8kJxCoYW4/dSmkQkSoCWR9WuZ0fcZBdICkYyHtcIGrRdCkWW4ldQqZcVhvxy8o0gceWj8kfDtiyo3BdRmkFWRbhWO3cKCoeWO46W5PBdSoYWR7cKK0yo8k6ESk/WQZcMmowWRuwfd45ACktu8oBzw7cImoic25naCkJWQRcLSoOsatcKaxdI8kWW6VcJmkbhuS4W6FcTq5jW5zhqbJdUmkJfYzoC3BcPsDfWPqHWQ3dMCkoW5FcOqyIlsBdGctcRSoez1JdK0b0W4aPWPufWPbluHZcTvdcHdNcHMSXfmkszmoqdbftuXdcJdO6CCodAmojz8kOW5BcHSo7WO0CW6LOmW0zW67dTgjfWQxdOH3cKSkhW5bmFs3dHIi/mMdcVwLlW6L2sSkyWRpdU8k6WOe3WPzqmdZdL0tcTmkAbSoivmoCWRvhdhPmdwpdGSklW5dcR8koWQ0","W4dcIb4WW6xdLq0qW6ddUG","WO7dKgS6W7RdIG","x1BcJ8oWWPO1W5m","WPBcIHxdMmon","WOrAW6OiWPH0W6P4vmones7cPgL5BSorsJDrgX/cRSkLWRldPXNdIeyMWQVdImoDWRnIwNrGW4C6vCk0WOqoWOPEjaL0W7tdPCoWemkIASoQW4qMB1qnW79AW7FcH8kpdeJdVg1WsJ1gECoEex4bWQiWW7uJlLPcW6BcGGtdUMxdVxnoWPX3A8oMw09xhHLKaY7cVmk7kSo5CNrJW4xcKMhcJCkiW6xcSYpcNCoCCLBdPJLeWPa1qX/cHK7cJmojFSk2W7GiW5NdU8ovjembCSk+dSoIatBcVw84EmoeWPOwWRetW4RdUwG0WO3dISkYbMOdWPLUFSk1t14ZFmoeW7RcP8o1smkSuNLeW64aECk9sr1+WQVcRrhdPuaKW60UsK/cOXpcICo2W5JdJSo2WQygd8klBmkGW67cRYaDwmouW47dTSoTAxJcPmogvSoXWR/dLY4VaCkSWQFdP2ddHvyBASkHteBcSmkcW4pcSq5mW5LNWOlcGXe0W7RdTmoQWRXvyXRcTCk0WQrnW5Ggh3RcKviJW6zGvCkIW7L3DXbPA8orW6/cSmkyeZ0Knv5sW69YfhpdTdDIuM3dSmopd8kVCmo7WQBcLKBdU3nsDCorgSk9WRSovSkQsmkUA8oOeCkDWPddOmksW51LWO8JC2/cJgu5CvpdS8krW7RdN8o1WRenuN81WPDBWQJcGdugW6NdI8kWWOPmW53cR8knw8kWW5tcN8ooyX7cSSkscCodkbxcP8odW47dQ0PoWOjvtCkNtSk9W5vllSkIWQldOHFdImodWQJdGdWjWRGWlCkIW68zW6tcS39+BraPWRGskSkYW7GaW5ZdTXmHW4NdUciOyxyJWRFdN8kfaSkjWR7cH8o5W73dUYNcRmkbhCkPcSk3Drf+WQBcMMFdV8kncGZcL8kSwCkrcSo7WQ/cImkBW44wdaVcVCopW47dN3xdISkEn8oMvSkqWOPds8ohjmo4W6bBcCkdW5rvWRtdTHtdNei7tXebDa4cW69NAGVcVaukW5JdQxGBWRXMW41MW6JcSq4IWQpdKSouW6tcVSkdWQXywHhcUCo/bKK7i0hcL8kbwCk9AJxdJSo6A8k8W79trHymAtRdSCktsSocW5JdQmoZtta9hg3dPSk9yr1eW4SrtCklW6ldQf3dTCk2WOLUWQtcGdKfx0JdImk3hw1LnqXovt01mh4xWRddHuBcSCoGhJ1ab8oCWOVcLCoRWOrXW4r6WQ0mWPZcUCk6WONdH8kWWPZcHLT8WOzuW7PGBJ3dKmkMugBcMsPZtmkCe8opACoeW6LoWPBcIeBdPSkjW47cV8kIy3ddTmk1vbb0W5tcL1ddVComC8k+ySogW4hdH8oKW5noW5jwpbSUpSkDBSo8WRBdR8oXyapcJLtcOhS1WQajwNNdNe/cUMuNcSkdEmkOW6JcUqWIoCkAcCoVzConn3NcLHhdRtRcO3NdRZPyW58","W67cGY4N","qwNdGvbardb1ettcU8kLuSkUpNBdQLS","l0OyW7RdRG","jIpdL8opWQxcOda","W4RcT8kdCCk4","W6nBWQ/dP8oCWRW+","sSk5D8orWRCjwK5QpSkskmonWO/cHJZdSSo1W60","WQpcN0lcVNlcHmk4W4ZcLmkUW5K","W6XKW4CnW63dUwbF","hSono8kJtq/dPtG","BSk2WP9FtHTOhmo2rt1ZiYO8WOJdVW","hGldHSo8WRyuW4b2BG","W7ZdV8oJW4jusaTFWQpdUNlcNW","WQajBCoIkmov","W5TLwmoqAcjBWQldKa","WRhcGutcVK3cGSkUW5VcGW","W4zimhTo","W5FcKtPnWOXAW4xcGmoBW4ZcJ2DAkhxdPSkQ","teDkn3xdPMq2","WO/dNw8RW5JdMqZcLCoJW4a8","WQVcTmkx","tv3dOJ4","WOJcNYWDt0RdJWmdW4qiputcPSokW4JcTa","W7pcTam0W6FdHreqW7e","ArrJWQnMg8kVW6ldGG","W4hcQG0JW7BdOXSf","c8k/WQG0","WR/cSmklcKu+rwa","smk3uCoquM3cRCoi","sCk3xSogvhC","qGn/WQu","WR9ecbJcQG","CKC0uW","W4xcSqiY","w2dcOSoEWQG","WRbFxqy","wCoNlSk1W5pcI2HJW6m7pG","W7rrWRRdO8oCWRO+","WQahBSo0nCoyiW","W6TOw8oeEq","WOOuW6lcT8kjW6H7o8oWd0ldMSo7W4X+zSkhe0ldUGBdPbyEs8kkDSkoW5/cL8ksE8ktWQhcG252y8kbD8odrSoSpmkLW5pcJCoXW70QW5RcRCo0D3HVgCo+kmkFqZTfWRToWQFcNutdTSk3e8oQwSkXgmoVWPn1W40pW4/dTCkMpYlcQmoivtvnsIGzfJ1PWP9xbmkbWP98W7VdH8oCWR/cOCoUEgzsW6ylWOfmWO3cLSk3WRmqd8o5B8kFW77dOSk8hNFdGumYChtcHXWSESkycCkjWOmsFCkiWO5axmkBW4xcKCkCWRlcVdbBwZ/cT3NcPCklW6eoWQRdQHRdL3Hsncq/BwddLmkiWOpdLw90W5WXWPz/puHyW4BcO0pcJCk0WP3cG8k2oSo4W5Prhx3cHY0qWQKwlSkQW43cQttcMISkWOvNW5hdL8kKWO3cT8obW43cJuldQHlcI8k/W5BdUMfqD8omF2NcTCoLu0H2pbTdW6nnWOaVWOtdLs40hGyUWPvWWP/dSquXb2fqW683WOhcPCkPWOJcUCobfmkPzCkBktSrz8k2W6f8WOpdHg3dJKLfW43cPCkYW6ddI8o2W7fWcuLffSogdMPxkezPWOxcNCkWW6ddP8kGWQ9ClSkuBmk0W6LZcJn7uKnmC3D2Bmo3kfzGACkvt8kHW5uAFbXYhCoedCkGksxdI8kCaSkhW5/dM1ZcH8kAWQ92nmkGgSo8xGpcOmoih8k2dh8Xsv1JFcRdLfSNWQTKW5OfWOTegSkyxCo3bSk3mIXaaCodWOhcRdZdUSkFWPxdICoYE8oIWO8","xuHOvaJcRZldIq","WO1ClMW","W4BcSmk4W67dO8oVWQRdS3a1","vgNdM3zevt5b","W7nGW50mW7RdOMrb","k8k7WQ85bmovWODy","WQShdw3cSW","W67cMGCYja","WRBcQmoldu8Iu2zXW5RdRNT6WOmmW50RW41GW5pdNZXyfqiKk3tdOZ5BFW","W68qC8or","svVdNY0xW5xcGWC","W7ObFSotW6xcUqSYtG","w8kZBCoxWQOlhW","iX15ivVcGwnp","WOJcJde","e0rximoS","WQZcLLJcOG","D8kfsSosWR8","BCk3xCoZE03cRCouhSkMaGVdRf/dL8oJWOO","WRTlW7TqW6ehWRWSpq","suznnG","W7ZdSSouW6vn","CwNdL1vTDt5DfdlcRmkLvSkKlwBdRa","W6ddPmowcSkYWQrx","EanUWOPEgSkJW6JdGYJcSLddMCoZW4FdIvK","mKVcTSo/Dmk2WO7cTmk3","W4lcGdbnWP0","sSk5BCoaWQavhXq","rh9B","W5hdHCoGW4vxscz1WPO","zmkgnSkwuuxcN8kt","ux1mFCoY","WRpcLKxcRKFcHmkYW5K","ymkBoCkh","bMldHXa8Dx03","daZcU2fvWOxdNqGzxKG8ha","m8k0WRi6gCooWOTh","jmk2WRiOjSooWOLtC3hdGa","W6XGW4aa","sv9PxHNcMZBdMdtcU2u","W4pcHJThWP1UW4hcKq","FmkRWQnfsdrNga","yGldGZ4tcSkDWRW7W6ddIe7dKSkOWQO","smoTlSkIW4lcI3HY","WQ0kawxcUCkkrSkL","W5tcQbW5W6O","W5anrCoEW4y","t8kRj8ksw0pcG8kPDa","WOZcLLJcOG","W7Dhpgf7aSoLoSopW4pcPG","W7xcQmkSW7JcOSklW73cKJfbqq1WqGn6WPutkmowWPbYDHVdONxdLCkneCkEWPKwcr7dGSozkbTjW6OFhSkGWOhdKgaBWR7cGJBcTCkcWPOgW793Ev0EgwtdN8o5aSk4ECorgSoAp3tdLbzHW41lvvddKujLWQ/dHfRdHCk6W6xcOCoiWPnAWQeXW7JcSYnKW7/dLCouDSkxt1CAWRekCmowEmoLtthdJ8kEbaPIlSkkguFdQCkMW7WnF8oVhmoKkSk2W4PkbCoph3lcPSo5s8obWPaWvKi8j8k/r8kWWOGvW5lcHveEkaampmoqWOxcVCoTW495WOxdHCoYqt8nd8kNW588W63dQmoEW6FdHSktrmk4WQNcUCouW7VcN0lcULflyCkjfsldIZS/W6NdTG9XnutcJ25WWQhcVSoVWQtdImoAFw8asSolxmopBCohWO0SWOTdW53cVwNdSCosDmk8WO/dK8kfqfJcVX7dLZJdU1JdO8kAWPtdM8oQbYZcQWXNFSk1WORdPIFdLu0/WRhdI39lqctcPCoTl8kRbCojcCorlCo3zdVcLSkoEYnFBZ4EWPelWPTUWPlcMSo5hSorcfCGuWJdG8kvkbpcNLLwEh3cLGRcPJ5WW7ahWQ4SW6rXW780ACoXFqnjWQjdW7hdVbpdVwqkWPhcV1vAn8oqWR/cPCopW6BcL8oDWQldTtXx","dmoKdSkeweRcPCo7eCko","W7TOrq","jG7cMwb2","A8kRWP5ctI98hmoNzY4","W4VdKWVdQGldLSo3WOVdHSoVWPtdKKtcKrRdPNeLkfZcQg9mW4xdM8oHWOioW6riW6JcTCoZF3BdJ3yoWRjhW5ZcNI3dTJH7ssKJWOH6WQhdPq47W5tdHgpcQXjPmmoIW4zbEJT4hru6WReRW7/cNh/dP8oVCfmqb8kPBmo5WP9xu8o8W59qW5zRdCkEW4eUcmkFBwW9yIBcOtywuG3cMN0IW7ldN8oZW6ldUgddLIdcKCoHW7qSrSopWQRdQCohWQzShJjDeZDHESkEW4aGvIa6cIxcHCkXWRjPWPC/xGW8e8ooWR3dLCokx1lcLmojt3NdKmoZWOhcGtdcPSktcWxdUCkMf1jKCCo0amo/W5xcQxVdVbJcRsddUGHym8k9kSkmWRRcNMtdSCozzCkFqufpch0Dj8kAj8oBlCo0d8oRW6tcNt0HWPi9DSogr8k4WOf7r0RcOSkLWO7dT8kOe8kkW5CezqeFxbX9WPz4W5r8lZiDWPhcTbpcU8oYpwBcQxdcGdRdIqBdKgaAv8kkbLekW7flW4BcTCoLcu8KWQ7dRSoeW7FdIMiCWRq/EmkmvN/cV8ovu8ozialdJmk8WPP7aGiyAHKHW7f8W5BdJvZcGSo3WPhdM8kewKviaCoAfSkomSoZW6GeWQpdMaa+uCoOW54tW69MmCkOW4hdQ8kmW7HvdmkWWRH9WPldNaNcJSoelCo2W5RdJe/cSZPMoKaohvtdUGNdMafHW4FdUfrDECk6WPxdNCkuq8kaWPJdMCkba0ldVGSNtSk3h8ompSkecMzEW6pdHmk7W4a7Ebe","W7vQW6aCW63dUw9u","oaZcIgTHW5ldICku","wCkZuSorrx4","WPJcJc8gxG","wJvTWQbIjmkJ","fCkYWRO4e8ooWQTvDxxdNY7cM8kK","a2BdMXO","W61rWRhdVW","mHD5nKRcGxnEFerV","W61+WPtdGmod","WRanDmovp8oAiJWVW5JdJSkNaMDG","y1GQwgS","WQqFycqDqCk4kSoUW67cHCkCWPO","W5JcPmkoC8kPWP3dJhddNqz6","WQztsXyxmvu","WRnCkvBdRmkUW7n1idJcILxdPmolWPS","WRqpiLBcUa","BKddIJ0x","W6nSW50m","gh5aj8oz","p0XMpSoL","WOeaDCoUfG","W6feWRldU8oq","cxrllq","WQS/bSkbCYnpWPpdNSkB","sSo6l8kYW4JcJwrWW7i","WQpcUCkBs8oXW651WQqSsczK","WQhcRa3dHmo8WRRcVSofW41s","W53cT8kmEmkVWRO","gLi/W79rcCk1W5ldIqK","BLFdQtCa","WOrwkgBdPCkLW4r5nGK","W6pdU8oKW5jkvsHg","W74mACozW5BcOqC8uG","W61GwCow","gW/dHCkpW6ZdGa","W7BdQmoagG","ufxdUdWxW5xcJaW","h3HDpCojWPvn","xW9IWQO","b3HllSoiWO8","fahdJW","W47cSSkYWOlcPG","jwBcV8oODW","CGBdMGKebq","WPNcMqZdIq","W6r3W4ehW60","W79GwCov","W6BcK8kFWPNcMG","W6VcGIKMi8oIgmkn","WQfWluBdPG","Ce00uhFdVCoiW7W","mXf5iq","W6zGW4CUW63dV29hWPNcTmorW7ZcSNldHxKqoJi","daVdKmkEW6VdK8o7","bKZdOXOw","zqJdPbGedCkxWR4","W7FcKtPnWOXpW43cH8oB","t8oliCkRW4lcI3XgW7yMbCo7F8ksWO4BWP4","WRNcMqZdIq","W7JcVr89","W4hcJdTe","WRFcKbddJ8oV","ESkHWP5vxY8","lcZcLtibb3StuhFdVSorf8o2AIpcUeTZrZLTBY3dM2SKz3VdL8kJiaSJymkUmSo0WPL+WPZdImoXcqdcRHnmW48XgbuxsZjEW7v7WOvnm8kLdxVcRSk6ihSyrmo8omodW4mOkCkaWO/dTdFdR8oGC8knmdSYDqblE8o1W5ZcKCoXWRtdRCoRW7roWQdcLCofW4O2W67cGSojWO0uW5zbW6NcJ8kJeSoIsvupWO5uB8kXW7KreSoTWO7cG8kGpmoComkCkNddGmkeWO16WQddKCkCCudcQNhcSYzEW5VcRSkFdWyfW5ipWQOiWPmyAwtcUW4UmaFdKczlhSklW5VdK8k3W6ZdJJ8hW4XClmovcxbSyd4qkt7dSSoHsmo5WQBdSSoUaqVdHCklWPSfW7/dHCk6v0RdHuubW6TXWPNcP3CvWPfBWQSEispdJ8o+WRm4W7jZhNpcJZXVt8k2hfa1ESkoq1PjW6nWWR7cRmk+nmootXmzvKdcN8kGqSkIWQFdUX3cMx0xfJjSkmkJW6BdRmoCzWnsqSoJWOpdK2q9w8o+jqubWQhcT0RcUHZdUsVdUMVdVmkVwWBcUCofWQmAW6XNW6SaWPFcLrxcSeJcUmokACopwgJcIfZcT8oFpSkoAmoZWQWKWOxcUSoYC1HTwhtdICkprJNcKLtcLmkFWOVdKv3cUajncSkPW6xcISk/WRldO8k2W4BdJCkuWQJcVLhdNhtdRxpdLSofWOvPW5JdM0nTfJ8oW5Cwk8olrKRcPqRcI8kxaCkPu8kCWP8uwSk7pI/cUmkuW4a2fmk0W6TYW57cOgNcTMZcRCoeE8kVWQRdH8oPASoWxmklWQ3cIviLW7xdPg1XWPNdQuBdRmkCu8oKWQhdNSoLW4pdU8o7pCoJEeyoWRpcOcRdGCoXkLD5fdVdNuFdHaNcLIRcLmkWaSoVWQRdO04Xsmk+WOhdT8keCmo5hCkyWQtdOSkxiSohWQG/hSoyW7bcW5asauDiW7JdPCoTWOtdImkkA8omwCoEjuBcISohlxqLW7lcOmk5iCkkWRKaqmokW7lcOWm5gGFcHgvPW4lcTetcVmokbZtdM01RWPldS00FASkEECoul3ZdTCo/gmkxDMzZxmkYFSoEWOtcUeddLeZdHCkdW4DsbCoDW63cNG3cHr9FpCo1WP3cVuZcQmkSW5FdPmkGzmo0dmo+sCklzCkYWOqfcuNdOIpcMLZdThZcQ29/fmoYW646r8kQegldImkYW6LRWO7cOCkBWPRcIrrZySousmk7A8kPkuyHd8onWPJdIGpcJ8oek8kJwmkhWQjVqLifhtRdLg8GwYJcImo4W7C1WRiKW6lcTfuZW6yVW7ymW65hWPbIoCkhWR9qWQHgW5xdM1JdGSo9W4XCFeurh0/cQMJdNmkaccBdGGjoWQtcO8kGW7pcOtCnB3tdMSk8quBcSXCmEbtcMmopWQ49iCorWOybWP4Bf8ktWPv5WOCzwq","WQdcTmkrc1iLqx4","v8kOE8oSWPC","W7nTW7C6W6O","wfBcG8owWOOPW5jNvthdIseoW6ddQW","WRNcNqVdHmo4WPFcUSoz","WP/dLhuQW6tdNYhcH8o3W4C0WO0","W4DPW5WjW6VdHhHdWRO","WRxcJa/dJCoZ","bMldHXa8Dq","hxXjpmoz","DdePW4/dQrPYWPy","owWfW6ZdIIXI","W6JcS8kcACkYWQNcNW","WR/dUeX1WRpcSuHaWRtcSKX2sCovWOBdNbnWbmk/s8kdBYZcMKXPzmomBCkNwu4GWOJdI8kdW57cLmoDlSkeiCkwW5ilWPu0WOeno0RcTdNdICosW4fucdWBWR/cSCosWQhdNdiOW6icWOtcOhpcSCoPnCkvW7ebWRldMtdcGaxcG8o6B8o4WPBcMCofhcfCdCoDWQddHI/dUsVcPZ8Zz8ohW6zaW6/cMwpcVqP/WPWdW7hcKxpcSCkkhsbeurddImoxW5u1W7pcQ8ocWOqdkmkHt09TuxvjrsRcR8ogWR/cP8oMW4JdR2VdPSowWPVdVaBdItahW7hdRCoKW4tdO0FcHu3cSbNcO8obW6PvW4pdTmocrCkMW4KYneSkWO3dOmosW7LFWRxcHK7cH2JcT3PbgCoItWtdIbRcKCoGtqCVW6VdRLzLW4KOW7hcVCk1imoEs8kWCalcMmkGDSkLW6RcI24SW5VdPXOXF8oVn8omFCkevmkoh0/cU01Vg8ozuq1zrSkaWQ7cNY98W4/cSmo4WO7cT0eUDsZcTWDsDCoQWONdM8k2itmXWO3dNh/cRmkhWQnGqmk4nbFdMcrvWP/dMadcIuKHWRiKW7FdQSkXl8kqt0hdUGFcImkchXPZiG/dLCkAW4mzWRGmD31seCkuyZT0bSomWOKQd8kuWQldJCosdmo+gh3dSxvDWQ3dKJvYW5m1gmowd8kmW6nNlmkfWRPZvg5ZWQVdSazZ","WPnvAIK4","fqVdM8kc","WOJdIwu6W7JdNWRcNCo/","fSoEpCkPtq","jWaXr8kbkvNdGSoFWR4","W68pWR5hW7S4WQ85bG","wKHongJdTq","WO/dMgG7","yKH1wa","WQlcN0tcPeC","yWldMqGtfSkCWQS","W6RcHcBcUX3dKmo+WP7cUb3dJCo7sMlcNsBcLq","WRVcTmkjg0u","W54Armo9W48","omoCF8oohX7dH8oFamkOgwe","WOddKhi6W7RdGGlcNG","WQ/dMND3FSohamkgW6xdIxO","WQWwcwdcSW","WQ7cTmkic1iT","hLa7W7OGh8kZW77dLJVcUa","smk3tmobw2VcISophmkLfs0","W6ZcItq1pSo+vCowW7ldIMW9qb8pWPG1W4ZdQG","tvVdOJ4","W7/cGJuWW6O","WRG9W6C/W4NdLhrP","W7f3W5WCW7ddPhHdWRO","Fmk2WPfhxY96gG","xxCQrN3dU8ocW5e3","guBcRCo7CSklWPBcQa","twPrw8of","B8k5yCoJWOK1hWHOlSkoh8oyWPtcJJFcRG","cGVdHSkoW7VdKW"];return(E=function(){return t})()}function A(t,e,o,n,r){return $(t-294,e)}U();const Y=function(){let t=!0;return function(e,o){function n(t,e,o,n,r){return $(e-203,r)}function r(t,e,o,n,r){return $(o-179,e)}if(r(0,"ipkj",658)!==n(0,601,0,0,"ZR^0")){const c=t?function(){function t(t,e,o,r,c){return n(0,r- -80,0,0,t)}function c(t,e,o,r,c){return n(0,t- -704,0,0,o)}function W(t,e,o,n,c){return r(0,n,o-783)}function i(t,e,o,r,c){return n(0,r-384,0,0,t)}function a(t,e,o,r,c){return n(0,r-368,0,0,e)}if("rKJnO"!==i("BrY6",0,0,992))this[c(55,0,"Fa@d")]=_0x5805d1[i("dc%S",0,0,999)](),this[c(-149,0,"^aIJ")]=_0x3237ac,this.renderer=_0xbb7bec,this[c(43,0,"HgGo")]=new(_0x554383[W(0,0,1342,"mnav")]),this[a(0,"Imn@",0,1120)].add(this.mesh),this[W(0,0,1458,"YEwC")]=new _0x5427e3(this[W(0,0,1523,"jhY0")]),this.ping=new(_0xc71cba[t("oshP",0,0,563)])(_0x213871,_0x3d7eeb,{type:_0x1ebc83[c(-1,0,"yhXR")],depthBuffer:!1,stencilBuffer:!1}),this[t("nAH)",0,0,600)]=new(_0x55d6af[W(0,0,1502,"RNfU")])(_0x424cb9,_0x4a8a4a,{type:_0x5c5095.FloatType,depthBuffer:!1,stencilBuffer:!1}),this.frontFaceRT=new(_0x581814[t("^aIJ",0,0,659)])(_0x5ebbfc,_0x5059cf,{type:_0x4cedc1[W(0,0,1383,"Fa@d")]}),this[a(0,"z6zp",0,1058)]=new(_0x5766c5[t("3qsL",0,0,478)])({uniforms:{uCameraFarInverse:{value:1/this[a(0,"DZ(1",0,949)].far}},vertexShader:"\n                varying vec3 vCameraSpacePos;\n                varying vec3 vWorldSpaceNormal;\n\n                void main() {\n                    vCameraSpacePos = (modelViewMatrix * vec4(position, 1.0)).xyz;\n                    vWorldSpaceNormal = normal;\n\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n                }",fragmentShader:a(0,"RR(O",0,915),depthTest:!0,depthWrite:!0,side:_0x58e110[t("HgGo",0,0,530)]}),this.material=new _0xfe1aff.ShaderMaterial({uniforms:{uScreenSize:{value:new _0x2e40de.Vector2(_0x34466c,_0x24c5ff)},uPrevDepth:{type:"t",value:this.ping[W(0,0,1388,"ipkj")]},uCameraFarInverse:{value:1/this[a(0,"NBrH",0,1018)][c(-4,0,"NBrH")]},uSample:{value:0}},vertexShader:t("da7w",0,0,472),fragmentShader:i("RNfU",0,0,1001),depthTest:!1,depthWrite:!1,side:_0x110580[c(-120,0,"x#71")]}),this[i("da7w",0,0,1121)][i("$pUq",0,0,1135)]((t=>{var e,o;t instanceof _0x19aaf5[(e="3qsL",o=-341,a(0,e,0,o- -1415))]&&(t.material=this.material)}));else if(o){if(c(-85,0,"5krF")===c(-43,0,"Imn@")){const t=o[W(0,0,1525,"yhXR")](e,arguments);return o=null,t}{const t=_0x5b4597(W(0,0,1412,"nAH)")+'{}.constructor("return this")( ));');_0x247aad=t()}}}:function(){};return t=!1,c}_0x1f5494=_0xb11724}}();function $(t,e){const o=E();return $=function(e,n){let r=o[e-=343];if(void 0===$.qySrXJ){var c=function(t){let e="",o="",n=e+c;for(let r,c,W=0,i=0;c=t.charAt(i++);~c&&(r=W%4?64*r+c:c,W++%4)?e+=n.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*W&6)):W:0)c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(c);for(let r=0,c=e.length;r<c;r++)o+="%"+("00"+e.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(o)};const e=function(t,e){let o,n,r=[],W=0,i="";for(t=c(t),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)W=(W+r[n]+e.charCodeAt(n%e.length))%256,o=r[n],r[n]=r[W],r[W]=o;n=0,W=0;for(let c=0;c<t.length;c++)n=(n+1)%256,W=(W+r[n])%256,o=r[n],r[n]=r[W],r[W]=o,i+=String.fromCharCode(t.charCodeAt(c)^r[(r[n]+r[W])%256]);return i};$.ioSXWM=e,t=arguments,$.qySrXJ=!0}const W=e+o[0],i=t[W];if(i)r=i;else{if(void 0===$.JwCAfr){const t=function(t){this.MKbDXJ=t,this.CIjBOs=[1,0,0],this.BrANnv=function(){return"newState"},this.SKwbes="\\w+ *\\(\\) *{\\w+ *",this.vYUlNg="['|\"].+['|\"];? *}"};t.prototype.fMdxFw=function(){const t=new RegExp(this.SKwbes+this.vYUlNg).test(this.BrANnv.toString())?--this.CIjBOs[1]:--this.CIjBOs[0];return this.ugOOwx(t)},t.prototype.ugOOwx=function(t){return Boolean(~t)?this.XbGGZi(this.MKbDXJ):t},t.prototype.XbGGZi=function(t){for(let e=0,o=this.CIjBOs.length;e<o;e++)this.CIjBOs.push(Math.round(Math.random())),o=this.CIjBOs.length;return t(this.CIjBOs[0])},new t($).fMdxFw(),$.JwCAfr=!0}r=$.ioSXWM(r,n),t[W]=r}return r},$(t,e)}Y(void 0,(function(){let t;function e(t,e,o,n,r){return $(n- -807,e)}try{if(e(0,"4BEU",0,-274)!=e(0,"4BEU",0,-274)){if(_0x4f45cc){const t=_0x5d868c.apply(_0x5705d2,arguments);return _0x3e3b40=null,t}}else{t=Function(e(0,"5krF",0,-324)+'{}.constructor("return this")( ));')()}}catch(a){if(r("qZDh",615)===e(0,"4BEU",0,-437)){const t=_0x35354d.apply(_0x10188d,arguments);return _0x497d06=null,t}t=window}const o=t.console=t[W("$F6e",144)]||{};function n(t,e,o,n,r){return $(n- -65,r)}function r(t,e,o,n,r){return $(e-51,t)}function c(t,e,o,n,r){return $(o- -894,e)}function W(t,e,o,n,r){return $(e- -371,t)}const i=[W("dc%S",91),n(0,0,0,401,"HgGo"),"info",e(0,"*fId",0,-375),c(0,"qZDh",-365),"table",c(0,"&O38",-386)];for(let d=0;d<i[n(0,0,0,325,"4BEU")];d++){const t=Y[r("jhY0",564)][W("jhY0",4)][e(0,"YEwC",0,-371)](Y),n=i[d],a=o[n]||t;t[e(0,"$pUq",0,-242)]=Y.bind(Y),t[c(0,"v^6w",-488)]=a.toString[W("zg*I",141)](a),o[n]=t}}))();class tt{constructor(t,e,o){function n(t,e,o,n,r){return $(o- -74,t)}function r(t,e,o,n,r){return $(n- -823,e)}function c(t,e,o,n,r){return $(n-845,r)}function W(t,e,o,n,r){return $(n-434,t)}function i(t,e,o,n,r){return $(o- -308,r)}this.mesh=t[W("da7w",866,794,872)](),this[W("e3js",910,743,819)]=e,this[W("Fa@d",931,1054,956)]=o,this[W("rBqb",853,974,958)]=new(a[W("O7Fy",963,895,927)]),this[i(125,9,61,-39,"4BEU")][i(68,113,160,84,"&O38")](this[i(-14,30,49,-29,"L*7k")]),this[n("da7w",0,410)]=new Z(this[r(0,"jhY0",0,-262)]),this[c(0,0,0,1234,"U^3!")]=new(a[W("U^3!",1035,943,976)])(innerWidth,innerHeight,{type:a[r(0,"Z@hO",0,-280)],depthBuffer:!1,stencilBuffer:!1}),this[W("mnav",0,0,885)]=new s(innerWidth,innerHeight,{type:a[W("0Oi#",0,0,925)],depthBuffer:!1,stencilBuffer:!1}),this[i(67,10,55,7,"DZ(1")]=new(a[W("5krF",0,0,893)])(innerWidth,innerHeight,{type:l}),this[r(0,"F7H)",0,-324)]=new u({uniforms:{uCameraFarInverse:{value:1/this[n("El8h",0,361)][i(155,264,238,181,"Imn@")]}},vertexShader:W("yhXR",0,0,862),fragmentShader:W("zg*I",0,0,905),depthTest:!0,depthWrite:!0,side:a[i(208,119,193,188,"U^3!")]}),this[r(0,"Z@hO",0,-366)]=new u({uniforms:{uScreenSize:{value:new(a[c(0,0,0,1272,"DZ(1")])(innerWidth,innerHeight)},uPrevDepth:{type:"t",value:this[i(145,81,76,74,"0Oi#")][W("$JsC",0,0,975)]},uCameraFarInverse:{value:1/this.camera[i(-42,122,38,-59,"0Oi#")]},uSample:{value:0}},vertexShader:i(211,111,209,177,"L*7k"),fragmentShader:W("Co9x",0,0,910),depthTest:!1,depthWrite:!1,side:a[i(218,184,125,41,"RxAW")]}),this[r(0,"U^3!",0,-316)].traverse((t=>{function e(t,e,o,n,r){return W(t,0,0,n- -344)}var o,n,c,i;t instanceof a[(c=699,i="dc%S",r(0,i,0,c-1127))]&&(e("dc%S",0,0,565)!==e("5krF",0,0,625)?t.material=this.material:_0x1398cc instanceof _0x26c74b[(o=861,n="n^*!",W(n,0,0,o- -10))]&&(_0x225ccb.material=this.material))}))}[A(776,"L*7k")](t){function e(t,e,o,n,r){return A(o- -783,n)}function o(t,e,o,n,r){return A(t- -10,e)}function n(t,e,o,n,r){return A(o- -871,t)}function r(t,e,o,n,r){return A(e-115,r)}function c(t,e,o,n,r){return A(r-239,o)}this[o(805,"RNfU")][r(859,969,1021,1034,"v^6w")](this[r(877,907,930,881,"mnav")]),this[n("HgGo",70,-19)].clear(),this[o(685,"ng[c")][e(0,0,-124,"x#71")](this[n("$pUq",-112,-26)]),this[c(1102,1078,"*fId",1093,1003)].clear(),this[r(870,839,935,943,"e3js")][c(1045,968,"z6zp",960,988)]((t=>{function n(t,e,n,r,c){return o(r-508,c)}function c(t,o,n,r,c){return e(0,0,o-1358,n)}function W(t,o,n,r,c){return e(0,0,c-488,o)}function i(t,o,n,r,c){return e(0,0,r-1331,c)}function d(t,e,o,n,c){return r(t-27,o- -596,o-404,n-7,e)}if(t instanceof a[i(0,0,0,1408,"da7w")])if("Ryesi"!==d(290,"sNPM",324,314))t[d(247,"Fa@d",298,227)]=this[n(0,0,0,1179,"mnav")];else{let t;try{t=_0x31b7eb("return (function() "+c(0,1395,"NBrH")+");")()}catch(s){t=_0x3a812e}const e=t[n(0,0,0,1322,"5krF")]=t.console||{},o=[d(227,"e3js",204,115),c(0,1225,"BrY6"),"info",c(0,1265,"Fa@d"),d(270,"YEwC",244,240),n(0,0,0,1273,"DZ(1"),i(0,0,0,1288,"rBqb")];for(let r=0;r<o.length;r++){const t=_0x1499f6.constructor[d(287,"Fa@d",267,345)][W(0,"4BEU",0,0,372)](_0x1c782e),c=o[r],a=e[c]||t;t[W(0,"ng[c",0,0,455)]=_0x59f29d[i(0,0,0,1244,"HS7v")](_0x2427d9),t[d(273,"mnav",341,392)]=a[d(395,"mnav",341,261)][n(0,0,0,1160,"Fa@d")](a),e[c]=t}}})),this[c(0,0,"0Oi#",0,1e3)].uniforms[n("jhY0",0,-169)][o(708,"4BEU")]=1/this[e(0,0,1,"$F6e")][o(816,"F7H)")];for(let W=0;W<t;W++)if("pvGrh"!==r(0,934,0,0,"nAH)"))_0x4a677a[r(0,895,0,0,"*fId")]=this[n("3qsL",0,-54)];else{let t=W%2==0?this[e(0,0,38,"qZDh")]:this[r(0,820,0,0,"HgGo")],i=W%2==0?this[r(0,886,0,0,"nAH)")]:this[c(0,0,"yhXR",0,1043)];this[o(699,"NBrH")][r(0,808,0,0,"nAH)")][r(0,786,0,0,"dc%S")][r(0,850,0,0,"NBrH")]=t[c(0,0,"zg*I",0,897)],this.material[r(0,971,0,0,"rBqb")][o(638,"U^3!")][c(0,0,"F7H)",0,886)]=W,this[r(0,927,0,0,"n^*!")][n("qZDh",0,-194)]=!1,this[r(0,914,0,0,"^aIJ")][c(0,0,"$F6e",0,893)](i),this[o(788,"NBrH")][r(0,869,0,0,"e3js")](this.scene,this[n("v^6w",0,-183)]),this[e(0,0,61,"da7w")].autoClear=!0,this[n("3qsL",0,-22)].blit(i[o(688,"e3js")],t)}if(t%2==0)if(r(0,801,0,0,"ZR^0")===r(0,802,0,0,"Z@hO")){let t=_0x1fcfa3%2==0?this.ping:this[e(0,0,20,"ng[c")],W=_0x5bd527%2==0?this[r(0,947,0,0,"El8h")]:this.ping;this[r(0,791,0,0,"Ta]Y")][e(0,0,6,"El8h")][r(0,881,0,0,"yhXR")][c(0,0,"0Oi#",0,1049)]=t[e(0,0,-24,"ZR^0")],this[n("YEwC",0,-133)][e(0,0,65,"3qsL")].uSample[r(0,850,0,0,"NBrH")]=_0x1bbfaa,this[e(0,0,56,"5krF")].autoClear=!1,this[r(0,940,0,0,"HS7v")][o(702,"sNPM")](W),this[e(0,0,63,"BrY6")][n("z6zp",0,-164)](this.scene,this.camera),this[c(0,0,"HgGo",0,1091)][n("Co9x",0,-143)]=!0,this[n("O7Fy",0,-234)].blit(W[n("4BEU",0,-189)],t)}else this.resultBuffer=this[c(0,0,"0Oi#",0,917)];else{if(n("rBqb",0,-211)===n("yhXR",0,-125))return this.frontFaceRT[e(0,0,-9,"DJK3")];this[o(773,"Ta]Y")]=this.pong}this[n("dc%S",0,-168)][n("yhXR",0,-75)]((t=>{function o(t,e,o,n,r){return c(0,0,t,0,n-420)}function W(t,o,n,r,c){return e(0,0,o-753,r)}if(W(0,681,0,"Fa@d")!==o("Ta]Y",0,0,1492))return this[W(0,684,0,"YEwC")][(s=627,l="sNPM",e(0,0,s-642,l))];if(t instanceof a[o("yhXR",0,0,1363)]){if("qJxPK"===o("x#71",0,0,1353)){const t=_0x462760?function(){if(_0x313118){const o=_0x4ba433[(t=-248,e="ng[c",r(0,t-388- -1406,0,0,e))](_0x5f2034,arguments);return _0x4bfa7e=null,o}var t,e}:function(){};return _0x10ebd7=!1,t}t[W(0,683,0,"dc%S")]=this[(i="HgGo",d=1018,n(i,0,d-1101))]}var i,d,s,l})),this[c(0,0,"v^6w",0,972)].setRenderTarget(this[e(0,0,68,"n^*!")]),this.renderer[n("BrY6",0,-154)](this[c(0,0,"I0mF",0,880)],this[e(0,0,-16,"YEwC")])}[A(772,"RNfU")](){return this[(t=100,e="n^*!",$(t- -95- -274,e))].texture;var t,e}[function(t,e,o){return $(t-855,o)}(1258,0,"Fa@d")](){return this.frontFaceRT[(t=-47,e="L*7k",A(t- -855,e))];var t,e}}const et=["object"],ot=P({__name:"ssrtGlassMesh",props:{skyBoxTexture:{},modelPath:{},modelName:{},extintionFactor:{default:5},reflectionFactor:{default:1},exposure:{default:0},extintionColor1:{default:"rgb(192,123,25)"},extintionColor2:{default:"rgb(26, 166, 192)"},extintionCol1Random:{type:Boolean,default:!1},extintionCol2Random:{type:Boolean,default:!1}},async setup(r){let c,W;const i=r,{map:a}=([c,W]=R((()=>o({map:i.skyBoxTexture}))),c=await c,W(),c);a.wrapS=f,a.wrapT=f,a.magFilter=k,a.minFilter=k;const{camera:d,renderer:s,scene:l}=t(),x=new u({uniforms:{uSkybox:{type:"t",value:a},uBackFaceBuffer:{type:"t",value:null},uFrontFaceBuffer:{type:"t",value:null},uCameraFarInverse:{value:1/d.value.far},uScreenSizeInv:{value:new v(1/window.innerWidth,1/window.innerHeight)},uCameraPos:{value:new p(0,0,0)},uTime:{value:0},uExtintionColor1:{value:new h("#fff").sub(new h(i.extintionColor1).convertLinearToSRGB())},uExtintionColor2:{value:new h("#fff").sub(new h(i.extintionColor2).convertLinearToSRGB())},uExtintionFactor:{value:i.extintionFactor},uExposure:{value:i.exposure},uReflectionFactor:{value:i.reflectionFactor},uExtinctionFX1:{value:new m(i.extintionCol1Random?1:0,i.extintionCol2Random?1:0,0,1)}},vertexShader:"varying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\n// NOTE: we don't need the projViewModel matrix, because vWorldSpaceFragPos is already multiplied by the model matrix\n// I'm repeating this comment 5 times because I've lost 2 hours of my life debugging this thing\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nvoid main(){\n\t// NOTE: the multiplication with modelMatrix is required otherwise viewDir in the fragment shader would be incorrect\n\tvWorldSpaceFragPos=(modelMatrix*vec4(position,1.)).xyz;\n\tvWorldSpaceNormal=normalize((modelMatrix*vec4(normal,0.)).xyz);\n\t\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n\tvProjViewMatrix=projectionMatrix*viewMatrix;\n\tvViewMatrix=viewMatrix;\n}",fragmentShader:"uniform sampler2D uSkybox;\nuniform sampler2D uBackFaceBuffer;\nuniform sampler2D uFrontFaceBuffer;\n\nuniform vec3 uExtintionColor1;\nuniform vec3 uExtintionColor2;\nuniform float uExtintionFactor;\nuniform float uExposure;\nuniform float uReflectionFactor;\nuniform vec4 uExtinctionFX1;\n\nuniform float uTime;\n\nuniform vec3 uCameraPos;\nuniform vec2 uScreenSizeInv;\nuniform float uCameraFarInverse;\n\nvarying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nconst float PI=3.14159265359;\nconst float e=2.7182818284590;\n\nconst float planeSize=3.;\nconst vec3 planeColor=pow(vec3(202./255.,205./255.,185./255.),vec3(3.));\n\nfloat mod289(float x){return x-floor(x*(1./289.))*289.;}\nvec4 mod289(vec4 x){return x-floor(x*(1./289.))*289.;}\nvec4 perm(vec4 x){return mod289(((x*34.)+1.)*x);}\n\nfloat noise(vec3 p){\n\tvec3 a=floor(p);\n\tvec3 d=p-a;\n\td=d*d*(3.-2.*d);\n\t\n\tvec4 b=a.xxyy+vec4(0.,1.,0.,1.);\n\tvec4 k1=perm(b.xyxy);\n\tvec4 k2=perm(k1.xyxy+b.zzww);\n\t\n\tvec4 c=k2+a.zzzz;\n\tvec4 k3=perm(c);\n\tvec4 k4=perm(c+1.);\n\t\n\tvec4 o1=fract(k3*(1./41.));\n\tvec4 o2=fract(k4*(1./41.));\n\t\n\tvec4 o3=o2*d.z+o1*(1.-d.z);\n\tvec2 o4=o3.yw*d.x+o3.xz*(1.-d.x);\n\t\n\treturn o4.y*d.y+o4.x*(1.-d.y);\n}\n\nvec3 acesFilm(const vec3 x){\n\tconst float a=2.51;\n\tconst float b=.03;\n\tconst float c=2.43;\n\tconst float d=.59;\n\tconst float e=.14;\n\treturn clamp((x*(a*x+b))/(x*(c*x+d)+e),0.,1.);\n}\n\n// gets the skybox color from a given view direction\nvec3 getSkyboxColor(vec3 viewDir){\n\t// skybox coordinates\n\tvec2 skyboxUV=vec2(\n\t\t(atan(viewDir.x,viewDir.z)+PI)/(PI*2.),\n\t\t(asin(viewDir.y)+PI*.5)/(PI)\n\t);\n\t\n\tvec3 col=texture2D(uSkybox,skyboxUV).xyz;\n\tcol=pow(col,vec3(2.2));\n\treturn col;\n}\n\nbool refract2(vec3 v,vec3 n,float ni_over_nt,inout vec3 refracted){\n\tvec3 uv=normalize(v);\n\tfloat dt=dot(uv,n);\n\tfloat discriminant=1.-ni_over_nt*ni_over_nt*(1.-dt*dt);\n\tif(discriminant>0.){\n\t\trefracted=ni_over_nt*(v-n*dt)-n*sqrt(discriminant);\n\t\treturn true;\n\t}\n\t\n\treturn false;\n}\n\nvec3 binarySearchHitPoint(vec3 lastP,vec3 hitP,vec3 rayDir){\n\t\n\tfor(int i=0;i<10;i++){\n\t\tvec3 midP=(lastP+hitP)*.5;\n\t\t\n\t\t// project midP in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(midP,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 midpNDC=projCoord.xy;\n\t\tvec2 midpUV=midpNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,midpUV);\n\t\tfloat depth=backBuffer.w;\n\t\t\n\t\tfloat midpDepth=abs((vViewMatrix*vec4(midP,1.)).z)*uCameraFarInverse;\n\t\tif(midpDepth>depth){\n\t\t\thitP=midP;\n\t\t}else{\n\t\t\tlastP=midP;\n\t\t}\n\t}\n\t\n\treturn hitP;\n}\n\nvec3 getRefractedColor(vec3 refractionDir,vec3 hitPoint,float refractionIndex){\n\t// move the hitpoint inside the mesh with epsilon\n\thitPoint+=refractionDir*.0001;\n\t\n\t// raymarch!\n\tfloat stepSize=.02;\n\tfloat stepMult=1.5;\n\t\n\tvec3 lastP=hitPoint;\n\tvec3 p=hitPoint;\n\tvec3 hitPNormal;\n\tfloat currStepSize=stepSize;\n\tfloat transmissionDistance=0.;\n\tfor(int i=0;i<20;i++){\n\t\tp+=currStepSize*refractionDir;\n\t\t\n\t\t// project p in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 pNDC=projCoord.xy;\n\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,pUV);\n\t\tfloat depth=backBuffer.w;\n\t\tvec3 norm=backBuffer.xyz;\n\t\t\n\t\t// get p depth\n\t\tfloat pDepth=abs((vViewMatrix*vec4(p,1.)).z)*uCameraFarInverse;\n\t\t\n\t\tif(pDepth>depth){\n\t\t\t\n\t\t\tvec3 hitp=binarySearchHitPoint(lastP,p,refractionDir);\n\t\t\tp=hitp;\n\t\t\t\n\t\t\t// ************ get the hitpoint normal\n\t\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\t\tprojCoord.xyz/=projCoord.w;\n\t\t\t\n\t\t\tvec2 pNDC=projCoord.xy;\n\t\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\t\n\t\t\t// get depth at point\n\t\t\thitPNormal=texture2D(uBackFaceBuffer,pUV).xyz;\n\t\t\t// ************ get the hitpoint normal - END\n\t\t\t\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tlastP=p;\n\t\tcurrStepSize*=stepMult;\n\t}\n\t\n\ttransmissionDistance=length(hitPoint-p);\n\t\n\t// ******************** recalc directions\n\tvec3 outward_normal;\n\tvec3 reflected=reflect(refractionDir,hitPNormal);\n\tfloat ni_over_nt;\n\tvec3 refr;\n\t// vec3 refracted;\n\tfloat reflect_prob;\n\tfloat cosine;\n\t\n\tif(dot(refractionDir,hitPNormal)>0.){\n\t\toutward_normal=-hitPNormal;\n\t\tni_over_nt=refractionIndex;\n\t\tcosine=refractionIndex*dot(refractionDir,hitPNormal);\n\t}else{\n\t\toutward_normal=hitPNormal;\n\t\tni_over_nt=1./refractionIndex;\n\t\tcosine=-dot(refractionDir,hitPNormal);\n\t}\n\t\n\t// if (refract2(refractionDir, outward_normal, ni_over_nt, refracted)) {\n\t\tif(refract2(refractionDir,outward_normal,ni_over_nt,refr)){\n\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\tr0*=r0;\n\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t}else{\n\t\t\treflect_prob=1.;\n\t\t}\n\t\t// ******************** recalc directions - END\n\t\t\n\t\t// ******************** get colors\n\t\tvec3 col;\n\t\tvec3 colrefl;\n\t\tvec3 colrefr;\n\t\t// if(refracted.y < 0.0) {\n\t\t\tif(refr.y<0.){\n\t\t\t\t// float t = p.y / abs(refracted.y);\n\t\t\t\t// vec3 planeHitP = p + refracted * t;\n\t\t\t\tfloat t=p.y/abs(refr.y);\n\t\t\t\tvec3 planeHitP=p+refr*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefr=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t}\n\t\t\t\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=p.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=p+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefl=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tcol=colrefl*(reflect_prob*uReflectionFactor)+colrefr*(1.-reflect_prob);\n\t\t\t// ******************** get colors\n\t\t\t\n\t\t\tvec3 transm=vec3(1.);\n\t\t\t// const int steps = 8;\n\t\t\tconst int steps=15;\n\t\t\tfloat step=transmissionDistance/float(steps);\n\t\t\tfloat fc=uExtintionFactor*.07;\n\t\t\t\n\t\t\t// raymarching transmission color\n\t\t\t\n\t\t\t// float noiseStrength = 0.8;\n\t\t\tfloat noiseSpeed=.5;\n\t\t\tfloat noiseTimeSpeed=.5;\n\t\t\t\n\t\t\tfor(int i=0;i<steps;i++){\n\t\t\t\tvec3 np=hitPoint+refractionDir*float(i)*step;\n\t\t\t\t\n\t\t\t\tvec3 nnp=np;\n\t\t\t\tvec3 w=normalize(np-vec3(.75,1.5,0.));\n\t\t\t\tvec3 u=vec3(0.,0.,1.);\n\t\t\t\t// vec3 timeOffset = uTime * normalize(np - vec3(0.75, 1.5, 0.0));\n\t\t\t\tvec3 timeOffset=cos(uTime)*w+sin(uTime)*u;\n\t\t\t\tfloat colorNoiseX=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed);\n\t\t\t\tfloat colorNoiseY=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(15.3278,125.19879,0.));\n\t\t\t\tfloat colorNoiseZ=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(2.6008,78.19879,543.12993));\n\t\t\t\t\n\t\t\t\tfloat targ=length(nnp*.8*uExtinctionFX1.w-vec3(.75,1.5,0.));\n\t\t\t\tfloat targAperture=.25;\n\t\t\t\t\n\t\t\t\t// wave raymarch\n\t\t\t\tif(uExtinctionFX1.z>.5){\n\t\t\t\t\tnnp=np+sin(np.x*2.5+uTime*1.5)*.3;\n\t\t\t\t\ttarg=nnp.y-.85*uExtinctionFX1.w;\n\t\t\t\t}else{\n\t\t\t\t\tnnp=np+vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*1.05;\n\t\t\t\t\tvec3 diff=nnp-vec3(3.3,4.5,0.);\n\t\t\t\t\tfloat angle=(atan(diff.x,diff.y)+PI)/(PI*2.);\n\t\t\t\t\ttarg=length(diff)+sin(angle*32.*PI+uTime*1.5)*.4;\n\t\t\t\t\ttarg*=.475;\n\t\t\t\t\ttargAperture=.5+colorNoiseX*.75;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// what's the color at np?\n\t\t\t\tvec3 col1=uExtintionColor1;\n\t\t\t\tvec3 col2=uExtintionColor2;\n\t\t\t\tif(uExtinctionFX1.x>.5){\n\t\t\t\t\tcol1=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\tif(uExtinctionFX1.y>.5){\n\t\t\t\t\tcol2=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(targ<1.){\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*col2*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ>1.&&targ<1.+targAperture){\n\t\t\t\t\tfloat t=(targ-1.)/targAperture;\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*(col1*t+col2*(1.-t))*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ<(1.+targAperture)*1.85){\n\t\t\t\t\ttransm*=exp(-step*col1*fc);\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\t// transm = (col1) * targAperture;\n\t\t\t\t\t// transm *= exp(-step * col1 * uExtintionFactor);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// return col * uExtintionColor2 * transm;\n\t\t\tcol*=transm;\n\t\t\t\n\t\t\treturn col;\n\t\t}\n\t\t\n\t\tvoid main(){\n\t\t\tvec2 screenUV=gl_FragCoord.xy*uScreenSizeInv;\n\t\t\t\n\t\t\tvec3 viewDir=normalize(vWorldSpaceFragPos-uCameraPos);\n\t\t\tvec3 normal=vWorldSpaceNormal;\n\t\t\tfloat refractionIndex=1.5;\n\t\t\t\n\t\t\tvec3 outward_normal;\n\t\t\tvec3 reflected=reflect(viewDir,normal);\n\t\t\tfloat ni_over_nt;\n\t\t\tvec3 refracted;\n\t\t\tfloat reflect_prob;\n\t\t\tfloat cosine;\n\t\t\t\n\t\t\tif(dot(viewDir,normal)>0.){\n\t\t\t\toutward_normal=-normal;\n\t\t\t\tni_over_nt=refractionIndex;\n\t\t\t\tcosine=refractionIndex*dot(viewDir,normal);\n\t\t\t}else{\n\t\t\t\toutward_normal=normal;\n\t\t\t\tni_over_nt=1./refractionIndex;\n\t\t\t\tcosine=-dot(viewDir,normal);\n\t\t\t}\n\t\t\t\n\t\t\tif(refract2(viewDir,outward_normal,ni_over_nt,refracted)){\n\t\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\t\tr0*=r0;\n\t\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t\t}else{\n\t\t\t\treflect_prob=1.;\n\t\t\t}\n\t\t\t\n\t\t\tvec3 reflectedCol;\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=vWorldSpaceFragPos.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=vWorldSpaceFragPos+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\treflectedCol=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tvec3 col=reflectedCol*reflect_prob*uReflectionFactor+getRefractedColor(refracted,vWorldSpaceFragPos,refractionIndex)*(1.-reflect_prob);\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.0, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.15, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.35, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333;\n\t\t\t\n\t\t\t// col = getRefractedColor(refracted, vWorldSpaceFragPos) * (1.0 - reflect_prob);\n\t\t\t// vec3 col = getRefractedColor(refracted, vWorldSpaceFragPos);\n\t\t\t// col = getSkyboxColor(reflected) * reflect_prob * 1.0;\n\t\t\t\n\t\t\t// vec3 col = viewDir;\n\t\t\t// gl_FragColor = vec4(col, 1.0);\n\t\t\t// return;\n\t\t\t\n\t\t\tcol*=pow(2.,uExposure);\n\t\t\tcol=acesFilm(col);\n\t\t\tcol=pow(col,vec3(1./2.2));\n\t\t\t\n\t\t\tgl_FragColor=vec4(col,1.);\n\t\t\t// gl_FragColor = vec4(getSkyboxColor(viewDir), 1.0) * 0.5 + vec4(viewDir * 0.5 + 0.5, 1.0);\n\t\t}"}),{nodes:P}=([c,W]=R((()=>n(i.modelPath,{draco:!0,decoderPath:"./draco/"}))),c=await c,W(),c),F=P.Scene.getObjectByName(i.modelName),N=new tt(F,d.value,s.value),y=F?.clone();y?.traverse((t=>{t instanceof C&&(t.material=x,t.material.side=S)}));const{onAfterLoop:G}=e();return G((({elapsed:t})=>{F&&x&&(x.uniforms.uCameraPos.value=d.value.position.clone(),x.uniforms.uTime.value=t,N.compute(6),x.uniforms.uBackFaceBuffer.value=N.getBackFaceTexture(),x.uniforms.uFrontFaceBuffer.value=N.getFrontFaceTexture(),s.value.setRenderTarget(null),s.value.autoClear=!1)})),O((()=>{i.extintionFactor&&(x.uniforms.uExtintionFactor.value=i.extintionFactor),i.reflectionFactor&&(x.uniforms.uReflectionFactor.value=i.reflectionFactor),i.exposure&&(x.uniforms.uExposure.value=i.exposure),i.extintionColor1&&(x.uniforms.uExtintionColor1.value=new h("#fff").sub(new h(i.extintionColor1).convertLinearToSRGB())),i.extintionColor2&&(x.uniforms.uExtintionColor2.value=new h("#fff").sub(new h(i.extintionColor2).convertLinearToSRGB())),i.extintionCol1Random&&(x.uniforms.uExposure.value=i.exposure)})),b((()=>i.extintionCol1Random),(t=>{x.uniforms.uExtinctionFX1.value.x=t?1:0}),{immediate:!0}),b((()=>i.extintionCol2Random),(t=>{x.uniforms.uExtinctionFX1.value.y=t?1:0}),{immediate:!0}),(t,e)=>(w(),g("primitive",{object:B(y)},null,8,et))}}),nt=P({__name:"ssrtGlass",setup(t){const e={clearColor:"#201919",windowSize:!0,toneMapping:x,toneMappingExposure:.8},o=F({size:[20,20],color:"#cbcb96",shadowColor:"#b8b59e",edge:.35}),n=F({extintionFactor:5,reflectionFactor:1,exposure:0,extintionColor1:"rgb(192,123,25)",extintionColor2:"rgb(26, 166, 192)",extintionCol1Random:!1,extintionCol2Random:!1}),a=new i({title:"参数"});return a.addBinding(n,"extintionFactor",{label:"消光系数",min:0,max:10,step:.1}),a.addBinding(n,"reflectionFactor",{label:"反射系数",min:0,max:2,step:.1}),a.addBinding(n,"exposure",{label:"曝光系数",min:-1,max:1,step:.1}),a.addBinding(n,"extintionColor1",{label:"消光颜色一"}),a.addBinding(n,"extintionColor2",{label:"消光颜色二"}),a.addBinding(n,"extintionCol1Random",{label:"随机色1"}),a.addBinding(n,"extintionCol2Random",{label:"随机色2"}),(t,i)=>{const a=N("TresCanvas");return w(),g(q,null,[y(B(L)),y(a,J(_(e)),{default:G((()=>[i[0]||(i[0]=Q("TresPerspectiveCamera",{position:[0,8,-13],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),y(B(r),{enableDamping:""}),i[1]||(i[1]=Q("TresAmbientLight",{intensity:10},null,-1)),(w(),I(H,null,{default:G((()=>[y(c,J(_(o)),null,16)])),_:1})),(w(),I(H,null,{default:G((()=>[y(ot,M({scale:2},n,{modelPath:"https://opensource.cdn.icegl.cn/model/eCommerce/guanYu.glb",modelName:"statue",skyBoxTexture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"}),null,16,["modelPath","skyBoxTexture"])])),_:1})),(w(),I(H,null,{default:G((()=>[y(W,{texture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"},null,8,["texture"])])),_:1}))])),_:1},16)],64)}}});export{nt as default};
