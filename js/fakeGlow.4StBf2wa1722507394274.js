import{d as n,H as t}from"./@tresjs.bNNpPzYW1722507394274.js";import{k as o,bo as e,C as r,aN as i,Z as a,a6 as s,x as l}from"./three.Brogx0uK1722507394274.js";import{P as u}from"./tweakpane.BCjFYDHx1722507394274.js";import{d as c,r as f,a1 as p,e as d,o as g,f as v,g as m,j as w,u as h,J as y,al as b}from"./@vue.CFXy4cc91722507394274.js";import"./@vueuse.CY5GWLAn1722507394274.js";function I(n,t){var o=j();return(I=function(n,t){return o[n-=492]})(n,t)}!function(n,t){for(var o=I,e=j();;)try{if(533724===-parseInt(o(506))/1*(parseInt(o(533))/2)+parseInt(o(529))/3*(-parseInt(o(519))/4)+-parseInt(o(535))/5*(parseInt(o(531))/6)+-parseInt(o(505))/7+parseInt(o(518))/8+parseInt(o(500))/9*(parseInt(o(534))/10)+parseInt(o(493))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[I(537)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){x(this,(function(){var n=I,t=new RegExp(n(512)),o=new RegExp(n(495),"i"),e=T(n(522));t[n(530)](e+n(504))&&o[n(530)](e+"input")?T():e("0")}))()}();var _=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function j(){var n=["\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","vertexShader","length","toString","28896329ZpWmBD","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","opacity","prototype","info","9xTTUGU","side","gger","log","chain","3654490ustIei","57LvdJsD","error","call","debu","glowColor","blendMode","function *\\( *\\)","action","return (function() ","constructor","counter","depthTest","7409248dTYiuc","4AEqdch","string","fragmentShader","init","glowSharpness","transparent","while (true) {}","warn",'{}.constructor("return this")( )',"bind","2535234UurYaJ","test","372iVkbbp","setValues","31036abZDYm","324130AGwFEx","64525VknnbY","console","apply","trace","falloff"];return(j=function(){return n})()}_(void 0,(function(){var n,t=I;try{n=Function(t(514)+t(527)+");")()}catch(l){n=window}for(var o=n.console=n[t(536)]||{},e=[t(503),t(526),t(499),t(507),t(496),"table",t(538)],r=0;r<e[t(542)];r++){var i=_[t(515)][t(498)][t(528)](_),a=e[r],s=o[a]||i;i[t(494)]=_[t(528)](_),i[t(492)]=s.toString[t(528)](s),o[a]=i}}))();const S=class extends o{constructor(n={}){var t=I;super(),this[t(541)]=t(540),this[t(521)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this.uniforms={opacity:new e(void 0!==n[t(497)]?n[t(497)]:1),glowInternalRadius:new e(void 0!==n.glowInternalRadius?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n[t(523)]?n[t(523)]:.5),falloff:new e(void 0!==n[t(539)]?n[t(539)]:.1),glowColor:new e(void 0!==n[t(510)]?new r(n[t(510)]):new r("#00d5ff"))},this[t(532)](n),this.depthTest=void 0!==n[t(517)]&&n[t(517)],this.blending=void 0!==n[t(511)]?n[t(511)]:i,this[t(524)]=!0,this[t(501)]=void 0!==n[t(501)]?n[t(501)]:a}};function T(n){function t(n){var o=I;if(typeof n===o(520))return function(n){}[o(515)](o(525))[o(537)](o(516));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(o(509)+o(502))[o(508)](o(513)):function(){return!1}[o(515)](o(509)+o(502))[o(537)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const k=N;!function(n,t){const o=N,e=E();for(;;)try{if(692449===-parseInt(o(462))/1*(-parseInt(o(470))/2)+parseInt(o(501))/3+-parseInt(o(485))/4+-parseInt(o(517))/5+-parseInt(o(456))/6+parseInt(o(459))/7+parseInt(o(486))/8)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){R(this,(function(){const n=N,t=new RegExp(n(481)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=q(n(469));t[n(458)](e+n(507))&&o[n(458)](e+n(492))?q():e("0")}))()}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();C(void 0,(function(){const n=N,t=function(){const n=N;let t;try{t=Function(n(491)+n(472)+");")()}catch(o){t=window}return t}(),o=t[n(520)]=t[n(520)]||{},e=[n(475),"warn",n(478),"error",n(514),n(510),"trace"];for(let r=0;r<e[n(521)];r++){const t=C[n(506)][n(457)].bind(C),i=e[r],a=o[i]||t;t[n(495)]=C[n(489)](C),t.toString=a[n(493)][n(489)](a),o[i]=t}}))();const G=y(k(487),{position:[0,25,25],near:.1,fov:65},null,-1),z=y(k(476),{intensity:1.5},null,-1),P=y(k(460),{position:[100,100,60],intensity:20},null,-1),M=y("TresGridHelper",{args:[20,10]},null,-1),Z={position:[0,6,0]},A=y("TresMesh",null,[y(k(505),{args:[4,.5,128,128]}),y(k(477),{color:"blue",roughness:.2,clearcoat:1})],-1),D=[k(484)];function E(){const n=["opacity","DoubleSide","primitive","Color","TresCanvas","init","1012646qqJIOm","neg-x.jpg",'{}.constructor("return this")( )',"action","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","log","TresAmbientLight","TresMeshPhysicalMaterial","info","glowColor","TorusKnotGeometry","function *\\( *\\)","string","pos-z.jpg","object","3777584REEcVZ","9803272pqzuof","TresPerspectiveCamera","debu","bind","#a058c1","return (function() ","input","toString","fakeGlow","__proto__","apply","glowInternalRadius","清晰度","while (true) {}","neg-y.jpg","2859777XXikpR","value","uniforms","counter","TresTorusKnotGeometry","constructor","chain","TresGroup","neg-z.jpg","table","glowSharpness","falloff","内半径","exception","gger","BackSide","1430180ZLGruM","side","addBinding","console","length","stateObject","材质面","5795928AiGvyJ","prototype","test","1427146OgtbCC","TresDirectionalLight","Mesh","1vRuZMw","FrontSide"];return(E=function(){return n})()}const F=c({__name:k(494),setup(o){const e=k,r=new u({title:"辉光参数",expanded:!0}),i=f({glowColor:e(490),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(463)],depthTest:!1}),a=new S,c=new(s[e(461)])(new(s[e(480)])(4,3.8,128,128),a);return r[e(519)](i,e(479),{label:"颜色"}),r[e(519)](i,"falloff",{label:"衰减",min:0,max:10,step:.1}),r[e(519)](i,e(497),{label:e(513),min:-5,max:5,step:.1}),r[e(519)](i,e(511),{label:e(498),min:0,max:10,step:.1}),r[e(519)](i,e(464),{label:"透明",min:0,max:1,step:.1}),r[e(519)](i,e(518),{label:e(455),options:{FrontSide:l,BackSide:s[e(516)],DoubleSide:s[e(465)]}}),p((()=>{const n=e;a.uniforms[n(512)][n(502)]=i.falloff,a[n(503)][n(479)][n(502)]=new(s[n(467)])(i[n(479)]),a.uniforms[n(497)].value=i.glowInternalRadius,a[n(503)].glowSharpness[n(502)]=i[n(511)],a[n(503)].opacity.value=i[n(464)],a[n(518)]=i.side})),(o,r)=>{const i=e,a=d(i(468));return g(),v(a,{"window-size":""},{default:m((()=>[G,z,P,w(h(n),{autoRotate:""}),M,y(i(508),Z,[A,y(i(466),{object:h(c)},null,8,D)]),(g(),v(b,null,{default:m((()=>[w(h(t),{files:["pos-x.jpg",i(471),"pos-y.jpg",i(500),i(483),i(509)],path:i(474)})])),_:1}))])),_:1})}}});function N(n,t){const o=E();return(N=function(n,t){return o[n-=455]})(n,t)}function q(n){function t(n){const o=N;if(typeof n===o(482))return function(n){}[o(506)](o(499))[o(496)](o(504));1!==(""+n/n)[o(521)]||n%20==0?function(){return!0}[o(506)](o(488)+o(515)).call(o(473)):function(){return!1}[o(506)]("debu"+o(515))[o(496)](o(522)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{F as default};
