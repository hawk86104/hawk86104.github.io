import{_ as t,ba as n}from"./three.XuMWWlrU1743039954535.js";import{m as e}from"./@tresjs.05J-Im0t1743039954535.js";import{d as o,P as a}from"./@pmndrs.Z1sh1G-81743039954535.js";import{d as r,b as s,w as i,a2 as c,o as u,H as l,N as d,aj as p,ak as f}from"./@vue.C4dqouNn1743039954535.js";const h=g;!function(t,n){const e=g,o=y();for(;;)try{if(221306===-parseInt(e(207))/1+-parseInt(e(178))/2*(parseInt(e(192))/3)+-parseInt(e(209))/4*(-parseInt(e(262))/5)+-parseInt(e(184))/6*(parseInt(e(197))/7)+-parseInt(e(201))/8*(-parseInt(e(249))/9)+parseInt(e(253))/10*(parseInt(e(214))/11)+-parseInt(e(243))/12*(-parseInt(e(200))/13))break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(246)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=g,n=new RegExp(t(259)),e=new RegExp(t(251),"i"),o=I(t(255));n[t(220)](o+t(237))&&e[t(220)](o+t(227))?I():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(246)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();w(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(229)+t(235)+");")()}catch(e){n=window}return n}(),e=n[t(217)]=n[t(217)]||{},o=[t(180),t(245),t(233),t(226),t(195),"table",t(186)];for(let a=0;a<o[t(225)];a++){const n=w[t(193)][t(181)][t(182)](w),r=o[a],s=e[r]||n;n[t(175)]=w[t(182)](w),n.toString=s.toString[t(182)](s),e[r]=n}}))();const b=["rotate-x"];function g(t,n){const e=y();return g=function(t,n){return e[t-=175]},g(t,n)}const M=r({__name:h(239),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(202)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=h,w=r;let g=s();const{extend:M,scene:y,renderer:I,camera:S}=e();M({SoftShadowMaterial:o});const x={position:(new(t[m(222)]))[m(216)](w[m(254)].x,w[m(254)].y,w.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new a(I[m(190)],y[m(190)],x[m(247)]),v={map:z.progressiveLightMap2[m(189)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[m(188)],alphaTest:w[m(204)],opacity:w[m(231)],color:w[m(183)]},P=new(t[m(238)]);for(let t=0;t<x.amount;t++){const t=new n(16777215,x[m(236)]/x[m(234)]);t[m(198)]=!0,t[m(176)][m(187)]=x[m(187)],t[m(176)][m(215)][m(196)]=x.near,t.shadow[m(215)].far=x[m(206)],t[m(176)].camera[m(240)]=x[m(211)]/2,t[m(176)].camera[m(210)]=-x[m(211)]/2,t.shadow[m(215)].top=x[m(211)]/2,t[m(176)][m(215)].bottom=-x[m(211)]/2,t.shadow[m(247)][m(230)]=x.mapSize,t.shadow[m(247)][m(185)]=x[m(247)],P[m(221)](t)}const _=()=>{const n=m,e=x.position[n(225)]();for(let o=0;o<P[n(191)][n(225)];o++){const a=P[n(191)][o];if(Math[n(260)]()>w[n(257)])a[n(242)].set(x[n(242)].x+t[n(232)].randFloatSpread(x.radius),x[n(242)].y+t[n(232)][n(219)](x[n(177)]),x[n(242)].z+t[n(232)][n(219)](x[n(177)]));else{let t=Math[n(228)](2*Math[n(260)]()-1)-Math.PI/2,o=2*Math.PI*Math[n(260)]();a[n(242)][n(216)](Math.cos(t)*Math[n(212)](o)*e,Math[n(258)](Math.cos(t)*Math.sin(o)*e),Math[n(208)](t)*e)}}},j=(t=1)=>{const n=m;y[n(190)].add(P),z[n(218)]();for(let e=0;e<t;e++)_(),z[n(250)](S.value,w.blendWindow),console[n(180)]("shadows plm update",e);y[n(190)].remove(P),z[n(252)]()};i((()=>g[m(190)]),(t=>{const n=m;t&&(z[n(213)](t),z[n(223)](),console.log(n(224)),j(w[n(179)]),console[n(180)]("shadows render end"))}));const T=()=>{const t=m;z[t(223)](),j(w[t(179)])};return c((()=>{const t=m;g[t(190)]&&(w.opacity&&(g.value[t(203)][t(231)]=w[t(231)]),w[t(204)]&&(g[t(190)][t(203)][t(204)]=w[t(204)]),w[t(183)]&&g.value[t(203)][t(183)][t(216)](w.color),w[t(188)]&&(g[t(190)][t(203)].blend=w[t(188)]))})),i((()=>w[m(254)]),(t=>{const n=m;t&&(console[n(180)](w[n(254)]),x[n(242)][n(216)](t.x,t.y,t.z),T())}),{deep:!0}),i((()=>[w[m(179)],w[m(261)],w[m(257)]]),(()=>{T()})),(t,n)=>{const e=m;return u(),l(e(205),{"receive-shadow":"",ref_key:e(256),ref:g,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=d("TresPlaneGeometry",{args:[1,1]},null,-1)),d(e(248),p(f(v)),null,16)],8,b)}}});function y(){const t=["configure","28974hmzBMn","camera","set","console","prepare","randFloatSpread","test","add","Vector3","clear","shadows render start","length","error","input","acos","return (function() ","width","opacity","MathUtils","info","amount",'{}.constructor("return this")( )',"intensity","chain","Group","accumulativeShadowsCom","right","debu","position","50916rgdXmx","action","warn","apply","mapSize","TresSoftShadowMaterial","954euSTos","update","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","finish","90YBwaYE","lightPosition","init","gPlane","ambient","abs","function *\\( *\\)","random","blendWindow","670pRBOqx","__proto__","shadow","radius","76976Dhqlks","frames","log","prototype","bind","color","5706SoZsvT","height","trace","bias","blend","texture","value","children","21AyjLOn","constructor","gger","exception","near","938qfdIba","castShadow","string","1079mSPkQm","8384EQIimx","#000000","material","alphaTest","TresMesh","far","298009bAgrQh","sin","12812xdMyqS","left","size","cos"];return(y=function(){return t})()}function I(t){function n(t){const e=g;if(typeof t===e(199))return function(t){}[e(193)]("while (true) {}")[e(246)]("counter");1!==(""+t/t)[e(225)]||t%20==0?function(){return!0}[e(193)](e(241)+e(194)).call(e(244)):function(){return!1}[e(193)](e(241)+e(194))[e(246)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
