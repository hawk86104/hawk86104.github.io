import{a as t,m as n,o as e}from"./@tresjs.05J-Im0t1743039954535.js";import{_ as o,h as r}from"./three-tile.vSgb-DdV1743039954535.js";import{_ as c}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.2Ryl0oVL1743039954535.js";import{_ as i,b as s}from"./three.XuMWWlrU1743039954535.js";import{d as a,a3 as u,w as l,o as p,H as f,N as m,u as h,r as g,b as d,f as _,g as y,j as I,m as b,al as w,F as S,e as v,aj as j,ak as x}from"./@vue.C4dqouNn1743039954535.js";import{P as T}from"./tweakpane.ivGeiIdz1743039954535.js";import{_ as D}from"./informationDiv.diAGtzhC1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";import"./@fesjs.q_HvOfeM1743039954535.js";import"./vue-router.F5lDLjOj1743039954535.js";import"./lodash-es.p1wj6C0b1743039954535.js";import"./@qlin.o0hjOMCg1743039954535.js";import"./pinia.MiZyWHUj1743039954535.js";import"./@floating-ui.HzHndBae1743039954535.js";import"./@juggle.4EyLec-41743039954535.js";const F=M;function M(t,n){const e=O();return M=function(t,n){return e[t-=483]},M(t,n)}!function(t,n){const e=M,o=O();for(;;)try{if(810151===parseInt(e(535))/1+-parseInt(e(517))/2+-parseInt(e(537))/3*(parseInt(e(530))/4)+-parseInt(e(512))/5+parseInt(e(510))/6+-parseInt(e(523))/7+parseInt(e(516))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=M,n=new RegExp(t(540)),e=new RegExp(t(514),"i"),o=A("init");n[t(525)](o+"chain")&&e[t(525)](o+t(499))?A():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function("return (function() "+t(518)+");")()}catch(e){n=window}return n}(),e=n[t(522)]=n[t(522)]||{},o=["log",t(542),t(494),t(496),t(547),t(485),"trace"];for(let r=0;r<o[t(521)];r++){const n=G[t(507)][t(486)][t(511)](G),c=o[r],i=e[c]||n;n[t(489)]=G.bind(G),n[t(493)]=i[t(493)][t(511)](i),e[c]=n}}))();const z=[F(490)],B=[F(492),F(519),F(491),F(520)],k=a({__name:F(513),props:{map:{},height:{default:100},color:{default:F(488)},opacity:{default:.6}},async setup(n){const e=F;let o,r;const s=n,a=new(i[e(549)])({displacementMap:new(i[e(538)]),transparent:!0,side:i[e(506)],opacity:s[e(543)],color:new(i[e(483)])(s[e(536)])});a[e(524)]=t=>{const n=e;t[n(508)]=n(500)+t.vertexShader,t[n(508)]=t.vertexShader[n(534)]("#include <displacementmap_vertex>",n(527)),t.fragmentShader=t.fragmentShader[n(534)](n(502),n(545))};const g=s[e(501)].geo2pos(new(i[e(533)])(105,34,0));g.applyMatrix4(s[e(501)][e(550)]);const d=c[e(548)](s[e(501)],{x:67,y:11},{x:140,y:57},s.height),_=["https://opensource.cdn.icegl.cn"+e(531),e(546)+"/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png","https://opensource.cdn.icegl.cn"+e(504),e(546)+e(532)];let y=0;const I=([o,r]=u((()=>t(_))),o=await o,r(),o);a.map=I[y],l((()=>[s[e(536)],s[e(543)]]),(([t,n])=>{const o=e;a[o(536)][o(529)](t),a[o(543)]=n}));let b=null,w=!1;return w?(clearInterval(b),b=null,w=!1):(b=setInterval((()=>{const t=M;y=y<_[t(521)]-1?y+1:0,a[t(501)]=I[y],a[t(541)]=!0,console[t(515)](y)}),1e3),w=!0),(t,n)=>{const o=e;return p(),f(o(526),{position:[...h(g)]},[m("TresMesh",{scale:[h(d).x,h(d).y,t[o(495)]],material:h(a),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},n[0]||(n[0]=[m("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,B)],8,z)}}});function A(t){function n(t){const e=M;if(typeof t===e(505))return function(t){}.constructor(e(497)).apply(e(539));1!==(""+t/t)[e(521)]||t%20==0?function(){return!0}[e(507)](e(484)+e(487))[e(498)](e(528)):function(){return!1}[e(507)]("debu"+e(487))[e(509)](e(503)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function O(){const t=["color","3Tegbar","Texture","counter","function *\\( *\\)","needsUpdate","warn","opacity","resource.cos","\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","https://opensource.cdn.icegl.cn","exception","scaleImg","MeshPhongMaterial","matrix","Color","debu","table","prototype","gger","#cccccc","__proto__","position","rotateX","scale","toString","info","height","error","while (true) {}","call","input","uniform sampler2D map;\n\t\t","map","#include <alphamap_fragment>","stateObject","/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","string","DoubleSide","constructor","vertexShader","apply","6660588njrEFC","bind","438545CieeUT","cloundSateShow","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","11499568yryvXJ","1373384lYOBmE",'{}.constructor("return this")( )',"material","position-y","length","console","5301569JKleOc","onBeforeCompile","test","TresGroup","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );","action","setStyle","3159660dVJzCg","/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","Vector3","replace","584290jpVGjB"];return(O=function(){return t})()}const C=R;!function(t,n){const e=R,o=N();for(;;)try{if(884706===parseInt(e(289))/1+parseInt(e(301))/2*(-parseInt(e(294))/3)+-parseInt(e(270))/4*(-parseInt(e(258))/5)+parseInt(e(283))/6+-parseInt(e(264))/7+parseInt(e(278))/8*(-parseInt(e(251))/9)+parseInt(e(254))/10*(parseInt(e(293))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(291)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(282),"i"),o=V(t(272));n[t(298)](o+t(255))&&e[t(298)](o+t(287))?V():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(291)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["copy","object","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4079856QEOLhi","counter","plugin","info","input","MapBoxSource","343731mXJDrK","geo2pos","apply","bind","5645981emoYoI","117aFoGiU","opacity","value","mapbox.terrain-rgb","test","__proto__","controlsEvents","70282UQTucC","mapBoxShow2","target","primitive","11988yQwJSB","position","action","50lSttFU","chain","color","debu","654225zhZfgl","constructor","TileMap","rotateX","return (function() ","toString","12077422xeIMNN","warn","exception","length","GDSource","addBinding","20vOuWhv","showLocation","init","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","string","console","TresDirectionalLight","gger","1584HJXjTn","log"];return(N=function(){return t})()}function R(t,n){const e=N();return R=function(t,n){return e[t-=251]},R(t,n)}P(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(262)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(275)]||{},o=[t(279),t(265),t(286),"error",t(266),"table","trace"];for(let r=0;r<o.length;r++){const n=P[t(259)].prototype[t(292)](P),c=o[r],i=e[c]||n;n[t(299)]=P[t(292)](P),n[t(263)]=i[t(263)].bind(i),e[c]=n}}))();const W=[C(281)],H=C(273),U=a({__name:C(302),setup(t){const e=C,i=g({height:500,color:"#cccccc",opacity:.6}),a=new T({title:"参数"});a[e(269)](i,e(256),{label:"颜色"}),a.addBinding(i,"height",{label:"高度",min:10,max:5e3,step:10}),a[e(269)](i,e(295),{label:"透明度",min:0,max:1,step:.1});const u=new(o[e(285)][e(288)])({token:H,dataType:"terrain-rgb",style:e(297),maxLevel:15}),v=new(o[e(260)])({imgSource:[new(o[e(285)].GDSource)({style:"6"}),new(r[e(268)])({style:"8"})],demSource:u,lon0:90,minLevel:2,maxLevel:20});v[e(261)](-Math.PI/2);const j=new s(105,34,0),x=new s(110,0,1e4),D=v.localToWorld(v[e(290)](j)),F=v.localToWorld(v[e(290)](x)),M=d(),{camera:E,controls:G,scene:z,renderer:B}=n();return E[e(296)]&&E[e(296)][e(252)][e(280)](F),l((()=>G.value),(t=>{const n=e;t&&(t[n(303)][n(280)](D),c[n(300)](t,E[n(296)],z.value))})),l((()=>M[e(296)]),(t=>{const n=e;t&&t[n(303)][n(252)][n(280)](D)})),c[e(271)](E[e(296)],B.value.domElement,v),(t,n)=>{const o=e;return p(),f(S,null,[m(o(276),{ref_key:"tdLight",ref:M,position:[0,2e3,1e3],intensity:1},null,512),m(o(304),{object:h(v)},null,8,W),(p(),_(w,null,{default:y((()=>[I(k,b({map:h(v)},i),null,16,["map"])])),_:1}))],64)}}});function V(t){function n(t){const e=R;if(typeof t===e(274))return function(t){}.constructor("while (true) {}")[e(291)](e(284));1!==(""+t/t)[e(267)]||t%20==0?function(){return!0}[e(259)](e(257)+"gger").call(e(253)):function(){return!1}[e(259)](e(257)+e(277))[e(291)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=Z;function Z(t,n){const e=Q();return Z=function(t,n){return e[t-=175]},Z(t,n)}!function(t,n){const e=Z,o=Q();for(;;)try{if(398498===-parseInt(e(176))/1+-parseInt(e(191))/2+-parseInt(e(203))/3+-parseInt(e(207))/4+parseInt(e(192))/5*(parseInt(e(201))/6)+-parseInt(e(200))/7+parseInt(e(202))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(212)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=Z,n=new RegExp(t(184)),e=new RegExp(t(178),"i"),o=Y(t(185));n[t(189)](o+"chain")&&e[t(189)](o+t(197))?Y():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(212)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["521663Pqooxv","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","constructor","debu","length","cloundSate","function *\\( *\\)","init","TresPerspectiveCamera","#dbf0ff",'{}.constructor("return this")( )',"test","while (true) {}","2608kxOZSD","63820ufUnch","warn","TresCanvas","stateObject","call","input","console","info","2199428XmPpwz","60wwTTPF","15220320IogflK","1319235fbikie","exception","gger","action","1419064XuVcha","log","table","toString","highp","apply","return (function() "];return(Q=function(){return t})()}$(void 0,(function(){const t=Z;let n;try{n=Function(t(175)+t(188)+");")()}catch(r){n=window}const e=n[t(198)]=n[t(198)]||{},o=[t(208),t(193),t(199),"error",t(204),t(209),"trace"];for(let c=0;c<o[t(182)];c++){const n=$[t(180)].prototype[t(179)]($),r=o[c],i=e[r]||n;n.__proto__=$[t(179)]($),n[t(210)]=i[t(210)][t(179)](i),e[r]=n}}))();const K=a({__name:X(183),setup(t){const n=X,o=g({clearColor:n(187),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(211)}),r=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const i=n,s=v(i(194));return p(),f(S,null,[I(s,b(o,{"window-size":""}),{default:y((()=>[c[0]||(c[0]=m(i(186),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),I(h(e),j(x(r)),null,16),c[1]||(c[1]=m("TresAmbientLight",{intensity:1},null,-1)),I(U)])),_:1},16),I(D)],64)}}});function Y(t){function n(t){const e=Z;if(typeof t===e(177))return function(t){}[e(180)](e(190))[e(212)]("counter");1!==(""+t/t)[e(182)]||t%20==0?function(){return!0}[e(180)](e(181)+e(205))[e(196)](e(206)):function(){return!1}[e(180)]("debu"+e(205)).apply(e(195)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
